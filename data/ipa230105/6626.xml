<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006627A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006627</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17941798</doc-number><date>20220909</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>GB</country><doc-number>1810537.9</doc-number><date>20180627</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>G</subclass><main-group>3</main-group><subgroup>30</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>F</subclass><main-group>3</main-group><subgroup>19</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>B</subclass><main-group>1</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>B</subclass><main-group>1</main-group><subgroup>40</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>B</subclass><main-group>1</main-group><subgroup>715</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>G</subclass><main-group>3</main-group><subgroup>3036</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>F</subclass><main-group>3</main-group><subgroup>19</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>B</subclass><main-group>1</main-group><subgroup>0057</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>B</subclass><main-group>1</main-group><subgroup>40</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>B</subclass><main-group>1</main-group><subgroup>715</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>F</subclass><main-group>2200</main-group><subgroup>451</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>G</subclass><main-group>2201</main-group><subgroup>103</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>G</subclass><main-group>2201</main-group><subgroup>307</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>B</subclass><main-group>2001</main-group><subgroup>7152</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">AUTOMATIC GAIN CONTROL</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>17254671</doc-number><date>20201221</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11476818</doc-number></document-id></parent-grant-document><parent-pct-document><document-id><country>WO</country><doc-number>PCT/EP2019/067017</doc-number><date>20190626</date></document-id></parent-pct-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17941798</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Nordic Semiconductor ASA</orgname><address><city>Trondheim</city><country>NO</country></address></addressbook><residence><country>NO</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>ST&#xc5;HLBERG</last-name><first-name>Jani</first-name><address><city>Trondheim</city><country>NO</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>SILLANP&#xc4;&#xc4;</last-name><first-name>Timo</first-name><address><city>Trondheim</city><country>NO</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Nordic Semiconductor ASA</orgname><role>03</role><address><city>Trondheim</city><country>NO</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method of operating a radio receiver device comprises receiving a plurality of signals with a plurality of corresponding frequencies; applying respective gains to each of the plurality of signals; and storing the gain applied to each signal and its corresponding frequency. The method comprises subsequently receiving a further signal with a further frequency; and applying a further gain to the further signal. The further gain is determined using at least one of the stored gains according to a difference between the further frequency and at least one of the plurality of corresponding frequencies.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="97.03mm" wi="158.75mm" file="US20230006627A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="238.51mm" wi="160.02mm" orientation="landscape" file="US20230006627A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="228.85mm" wi="142.41mm" orientation="landscape" file="US20230006627A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="220.90mm" wi="140.55mm" orientation="landscape" file="US20230006627A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><p id="p-0002" num="0001">The present invention relates to automatic gain control systems in radio receiver devices.</p><p id="p-0003" num="0002">Throughout the course of recent years, the extent and technical capabilities of cellular-based radio communication systems have expanded dramatically. A number of different cellular-based networks have been developed over the years, including the Global System for Mobile Communications (GSM), General Packet Radio Services (GPRS), Enhanced Data rates for GSM Evolution (EDGE), and Universal Mobile Telecommunications System (UMTS), where GSM, GPRS, and EDGE are often referred to as second generation (or &#x201c;2G&#x201d;) networks and UMTS is referred to as a third generation (or &#x201c;3G&#x201d;) network.</p><p id="p-0004" num="0003">More recently, the Long Term Evolution (LTE) network, a fourth generation (or &#x201c;4G&#x201d;) network standard specified by the 3<sup>rd </sup>Generation Partnership Project (3GPP), has gained popularity due to its relatively high uplink and downlink speeds and larger network capacity compared to earlier 2G and 3G networks. More accurately, LTE is the access part of the Evolved Packet System (EPS), a purely Internet Protocol (IP) based communication technology in which both real-time services (e.g. voice) and data services are carried by the IP protocol.</p><p id="p-0005" num="0004">However, while &#x201c;classic&#x201d; LTE connections are becoming increasingly prevalent in the telecommunications industry, further developments to the communication standard are being made in order to facilitate the so-called &#x201c;Internet of Things&#x201d; (IoT), a common name for the inter-networking of physical devices, sometimes called &#x201c;smart devices&#x201d;, providing physical objects that may not have been connected to any network in the past with the ability to communicate with other physical and/or virtual objects. Such smart devices include: vehicles; buildings; household appliances, lighting, and heating (e.g. for home automation); and medical devices. These smart devices are typically real-world objects with embedded electronics, software, sensors, actuators, and network connectivity, thus allowing them to collect, share, and act upon data. These devices may communicate with user devices (e.g. interfacing with a user's smartphone) and/or with other smart devices, thus providing &#x201c;machine-to-machine&#x201d; (or &#x201c;machine type&#x201d;) communication. However, the development of the LTE standards makes it more practical for them to connect directly to the cellular network.</p><p id="p-0006" num="0005">3GPP have specified two versions of LTE for such purposes in Release 13 of the LTE standard. The first of these is called &#x201c;NarrowBand IoT&#x201d; (NB-IoT), sometimes referred to as &#x201c;LTE Cat NB1&#x201d;, and the second is called &#x201c;enhanced Machine Type Communication&#x201d; (eMTC), sometimes referred to as &#x201c;LTE Cat M1&#x201d;. It is envisaged that the number of devices that utilise at least one of these standards for IoT purposes will grow dramatically in the near future.</p><p id="p-0007" num="0006">From a communications perspective, LTE standards (including NB-IoT and eMTC) use orthogonal frequency division multiple access (OFDMA) as the basis for allocating network resources. This allows the available bandwidth to be shared between user equipment (UE) that accesses the network in a given cell, provided by a base station, referred to in LTE as an &#x201c;enhanced node B&#x201d;, &#x201c;eNodeB&#x201d;, or simply &#x201c;eNB&#x201d;. OFDMA is a multi-user variant of orthogonal division multiplexing (OFDM), a multiplexing scheme in which the total bandwidth is divided into a number of non-overlapping sub-bands, each having its own sub-carrier frequency. In OFDM, unlike other frequency division multiplexing (FDM) schemes, each of these sub-carriers are orthogonal to one another such that cross-talk between sub-bands is ideally eliminated and removing the need for inter-carrier guard bands.</p><p id="p-0008" num="0007">At the physical layer, in the downlink of an LTE connection, each data frame is 10 ms long and is constructed from ten sub-frames, each of 1 ms duration. Each sub-frame contains two slots of equal length, i.e. two 0.5 ms slots. Each slot (and by extension, each sub-frame and each frame) will typically contain a certain number of &#x201c;resource blocks&#x201d; (where each sub-frame has twice as many resource-blocks as a slot and each frame has ten times as many resource blocks as a sub-frame). A resource block is 0.5 ms long in the time domain and is twelve sub-carriers wide in the frequency domain. Generally speaking, there are seven OFDM symbols per slot and thus fourteen OFDM symbols per sub-frame. These resource blocks can be visualised as a grid of &#x201c;resource elements&#x201d;, where each resource element is 1/14 ms long and one sub-carrier wide, such that there are eighty-four resource elements per resource block (i.e. seven multiplied by twelve) and one hundred and sixty-eight resource elements per sub-frame.</p><p id="p-0009" num="0008">The exact number of resource blocks that exist in each slot (and by extension, each sub-frame and each frame) depends on the bandwidth configuration of the radio communication system. For example, in LTE eMTC Release 13, the LTE radio channel may have a bandwidth of 1.4 MHz, 3 MHz, 5 MHz, 10 MHz, or 20 MHz, where the channel is divided up into narrowbands of 1.4 MHz width.</p><p id="p-0010" num="0009">In accordance with the standards set by 3GPP, many networks employ frequency hopping to mitigate the impact of interference within a specific frequency band, where the transmission narrowband is changed periodically, typically following a pattern known in advance by the UEs. In the extreme case, the narrowband could be changed as often as every sub-frame.</p><p id="p-0011" num="0010">LTE signals detected by UEs are amplified to allow the receiver's circuitry to perform accurate demodulation. The amplified signals are passed to an analogue-to-digital converter (ADC) and onto a baseband processor for demodulation and further processing. The amount of amplification (gain) applied to the signals is selected to optimise the operational range of the ADC and/or other circuitry of the UE.</p><p id="p-0012" num="0011">However, the strength of signals received by the UE may vary, dependent on numerous factors such as the distance to and power output of a base station, the frequency at which the signals are transmitted and the environmental surroundings of the receiver. As mentioned above, ADCs typically operate optimally when input signals are contained within a certain operational range. Signals input to the ADC with too low power may produce a low quality ADC output that does not fully utilise the resolution of the ADC, while signals with too high power may saturate the ADC. Both of these can cause result in demodulation errors.</p><p id="p-0013" num="0012">To alleviate this problem, automatic gain control (AGC) is utilised, wherein the level of amplification applied to incoming signals is varied in accordance with their strength, to produce an optimal input to the ADC. This is often performed by implementing a feedback loop from the baseband module. When the average power of the ADC signal is too high, the baseband instructs the gain of an amplifier stage to be reduced, and vice versa. This feedback loop, however, cannot react instantaneously to changing gain requirements (i.e. there is an adjustment period after a new signal arrives before an optimal gain is applied to it).</p><p id="p-0014" num="0013">Furthermore, frequency hopping in LTE systems means the narrowband in which signals are received can frequently change. While the narrowbands are close together in frequency (each narrowband being 1.4 MHz wide), the frequencies of signals in different narrowbands are sufficiently different that they may still experience notable differential absorption and/or different multi-path fade effects, causing significant variation in their received signal strength. The gain requirements for a frequency hopping LTE signal can thus change significantly (as the signal hops to a different narrowband) as often as every sub-frame. The inherent delay in adjusting the gain using a conventional AGC feedback loop in such scenarios can lead to a sub-optimal gain being applied to an incoming signal for a significant portion of a reception window. An alternative approach would therefore be beneficial.</p><p id="p-0015" num="0014">When viewed from a first aspect the invention provides a method of operating a radio receiver device comprising:<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0015">receiving a plurality of signals with a plurality of corresponding frequencies;</li>        <li id="ul0002-0002" num="0016">applying respective gains to each of the plurality of signals; and</li>        <li id="ul0002-0003" num="0017">storing the gain applied to each signal and its corresponding frequency;<br/>wherein the method comprises subsequently:</li>        <li id="ul0002-0004" num="0018">receiving a further signal with a further frequency; and</li>        <li id="ul0002-0005" num="0019">applying a further gain to the further signal;<br/>wherein the further gain is determined using at least one of the stored gains according to a difference between the further frequency and at least one of the plurality of corresponding frequencies.</li>    </ul>    </li></ul></p><p id="p-0016" num="0020">This it will be seen by those skilled in the art that in accordance with at least embodiments of the present invention, the most appropriate of a number of previously stored gains can be used. Selecting the further gain using at least one of the stored gains reduces the likelihood of an inappropriate gain being applied to the further signal, reducing the risk of demodulation errors and data loss and, thus, increasing the reliability of the transceiver.</p><p id="p-0017" num="0021">The further gain, which comprises an initial estimate of the optimal gain for the further signal, may be applied immediately to the further signal, without having to wait for feedback to inform the choice of gain. There is, therefore, no initial adjustment period of the type present in conventional AGC's when the further signal is received in which an inappropriate gain may be applied, as may arise with conventional AGC system as the system adjusts to the new gain requirements. In addition, determining the further gain using at least one of the stored gains enables an optimal gain for the further signal to be obtained more quickly when used alongside a conventional AGC feedback loop, as the determined gain is likely to be nearer to the optimal value to start with.</p><p id="p-0018" num="0022">In some embodiments applying respective gains to each of the plurality of signals may comprise optimising the respective gains using automatic gain control (e.g. using an AGC feedback loop). In such embodiments the plurality of stored gains comprises a plurality of stored optimised gains (i.e. the stored gains are updated as the gain is optimised). Optimising the respective gains may comprise determining a measure of strength of each signal of the plurality of signals after they have been amplified (e.g. by measuring the average amplitude of the amplified signal). These measures may then be compared to a target and the gain adjusted so as to achieve the target measure of strength.</p><p id="p-0019" num="0023">In some embodiments the further gain may be set to be equal to a stored gain with a corresponding frequency that is a closest of the plurality of corresponding frequencies to the further frequency (i.e. a frequency separation between further frequency and a corresponding frequency is minimised). Preferably, the further gain is set to be equal to a stored gain with a corresponding frequency that is substantially equal to the further frequency (e.g. where the corresponding frequency is within a same frequency band as the further frequency). Because two signals with substantially identical frequencies experience similar if not identical frequency-dependent effects on signal strength (e.g. multi-path effects and/or frequency dependent attenuation), an optimal gain applied to a previously-received signal with a frequency similar to the further signal is likely to be similar to or even equal to the optimal gain for the further signal.</p><p id="p-0020" num="0024">The Applicant has recognised, however, that basing the further gain solely upon the frequency difference between the further signal and a previously received signal may not necessarily result in a reasonable estimate of the optimal gain for the further signal, especially in cases when the previously received signal was received a long time prior to the reception of the further signal. In such scenarios it is likely that one or more environmental conditions will have changed between the two signals being received, causing a shift in gain requirements. In this case, even a gain used for a signal with an identical frequency to the further frequency may not comprise a good estimate of the optimal gain for the further signal.</p><p id="p-0021" num="0025">In some embodiments, therefore, the method may further comprise storing in the memory respective times at which each stored gain was applied to a respective signal. In some such embodiments, the method may comprise determining the further gain according to a comparison between a time at which the further signal is received and the respective stored time.</p><p id="p-0022" num="0026">For example, all stored gains which were applied at a time before a threshold may be disregarded, and the further gain then set to be equal to one of the remaining stored gains with a corresponding frequency that is closest to the further frequency or simply equal to the stored gain applied most recently. This prevents the use of stored gains which are no longer appropriate due to long-term changes in signal strength (e.g. due a transceiver moving relative to a base station or a significant change in environmental conditions).</p><p id="p-0023" num="0027">In some embodiments, all stored gains with a corresponding frequency that differs from the further frequency by more than a threshold value may be disregarded, and the further gain set to be equal to the most recently applied of the remaining gains.</p><p id="p-0024" num="0028">This may prevent the use of gains which are not applicable due to significant frequency-dependent attenuation (e.g. interference specific to a small band of frequencies).</p><p id="p-0025" num="0029">In some embodiments each previously-applied gain (and its corresponding frequency and time) may be assigned a distance metric based upon its difference in both frequency and time from the further signal. This distance metric may comprise a weighted combination of the differences. The further gain may then be set to be equal to the gain to which the minimum distance metric has been assigned. By adjusting the weightings of the frequency and time separation in the distance metric calculation one may be prioritised whilst both are still taken into account. Taking both time and frequency separation into account may enable a more optimal further gain to be determined. The weightings applied to the frequency and time separation may be determined based upon an application of the transceiver. For example, a transceiver that it is likely to experience a lot of movement relative to a base station (e.g. in a vehicle) may be configured to prioritise minimising the time separation over the frequency separation, as gain values in for any frequency are likely to become inapplicable quickly as the transceiver moves and the distance to the base station changes, overwhelming any subtle frequency-dependent variations.</p><p id="p-0026" num="0030">Contrastingly, a transceiver that it is likely to remain stationary for long periods of time such as a static sensor may prioritise minimising the frequency separation, as time-dependent changes in gain requirements are likely to be small in such an application.</p><p id="p-0027" num="0031">It is envisaged of course that a combination of distance metrics and thresholds could be used (which might be seen as &#x2018;zero weighting&#x2019; larger distances in frequency and/or time).</p><p id="p-0028" num="0032">While in the above embodiments the further gain is determined to be equal to a previously-applied gain which best satisfies various criteria (e.g. minimum frequency or time separation), this is not always necessary. For example, in any of the embodiments described above, the further gain may be derived from one or more stored gains but subject to a refinement according to a frequency separation and/or time separation between the stored gain and the further gain.</p><p id="p-0029" num="0033">In some embodiments the further gain may be set to a value interpolated between two or more stored gains. For example, a first stored gain may have a corresponding frequency which is 100 kHz higher than the further frequency, and a second stored gain may have a corresponding frequency which is 100 kHz lower than the further frequency. In such an example the further gain may be set to an average of the first and second stored gains.</p><p id="p-0030" num="0034">The &#x201c;frequency&#x201d; of a signal should be understood not to be limited to one specific frequency (i.e. a specific Hz value), but instead may refer a frequency band within which the signal lies (i.e. a range of frequencies). In such cases, the difference between the further frequency and the plurality of frequencies may comprise a number of frequency bands between a further frequency band (in which the further signal lies) and a plurality of frequency bands. The plurality of signals (and the further signal) may comprise signals transmitted according to an LTE standard and preferably according to an eMTC standard. The plurality of frequencies (and the further frequency) may comprise a plurality of narrowbands defined according to an LTE standard.</p><p id="p-0031" num="0035">The invention extends to a radio transceiver device comprising:<ul id="ul0003" list-style="none">    <li id="ul0003-0001" num="0000">    <ul id="ul0004" list-style="none">        <li id="ul0004-0001" num="0036">an antenna;</li>        <li id="ul0004-0002" num="0037">an amplifier module; and</li>        <li id="ul0004-0003" num="0038">a memory;<br/>wherein the device is configured to:</li>        <li id="ul0004-0004" num="0039">receive a plurality of signals with a plurality of corresponding frequencies;</li>        <li id="ul0004-0005" num="0040">apply respective gains to each of the plurality of signals using the amplifier; and</li>        <li id="ul0004-0006" num="0041">store each gain and its corresponding frequency in the memory;</li>    </ul>    </li></ul></p><p id="p-0032" num="0042">wherein the device is configured to receive subsequently a further signal with a further frequency and to apply a further gain to said further signal using the amplifier;<ul id="ul0005" list-style="none">    <li id="ul0005-0001" num="0000">    <ul id="ul0006" list-style="none">        <li id="ul0006-0001" num="0043">wherein the further gain is determined using at least one of the stored gains according to a difference between the further frequency and the plurality of corresponding frequencies.</li>    </ul>    </li></ul></p><p id="p-0033" num="0044">Preferably, the radio transceiver device comprises an eMTC radio transceiver device which operates according to an LTE standard.</p><p id="p-0034" num="0045">The amplifier module may comprise an adjustable gain low noise amplifier.</p><p id="p-0035" num="0046">The device may further comprise a digital signal processor arranged to optimise the respective gains using automatic gain control.</p><p id="p-0036" num="0047">The device may be configured to operate in accordance with any of the method features set out hereinabove.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><p id="p-0037" num="0048">One or more non-limiting examples of the present disclosure will now be described with reference to the accompanying Figures, in which:</p><p id="p-0038" num="0049"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram of an eMTC radio receiver device according to an embodiment of the present invention;</p><p id="p-0039" num="0050"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a timing diagram illustrating frequency hopping within an LTE signal; and</p><p id="p-0040" num="0051"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a timing diagram illustrating operation of the eMTC radio device shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><p id="p-0041" num="0052"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows an eMTC radio receiver device <b>2</b>. The receiver <b>2</b> is implemented as a system-on-chip (SoC) and comprises: an analogue RF front-end circuit portion <b>4</b>; a digital circuit portion <b>6</b>; and a baseband circuit portion <b>8</b>. The structure and operation of each of these circuit portions <b>4</b>, <b>6</b>, <b>8</b> are described in turn below.</p><p id="p-0042" num="0053">The analogue RF front-end circuit portion <b>4</b> is arranged to be connected to an antenna <b>10</b> via an antenna terminal <b>12</b> for receiving LTE eMTC radio signals received over-the-air. The analogue circuit portion <b>4</b> comprises: a variable gain pre-amplifier <b>14</b>; a mixer <b>16</b>; a local oscillator <b>18</b>; an in-phase amplifier <b>20</b>; a quadrature amplifier <b>22</b>; two bandpass filters <b>24</b>, <b>26</b>; an in-phase ADC <b>28</b>, and a quadrature ADC <b>30</b>.</p><p id="p-0043" num="0054">When an incoming LTE radio signal <b>32</b> is received via the antenna <b>10</b>, it is first input to the variable gain pre-amplifier <b>14</b> which amplifies the signal <b>32</b> to a level suitable for processing by downstream circuitry. Typically, the variable gain pre-amplifier <b>14</b> is a low-noise amplifier (LNA), a type of amplifier known in the art per se that is particularly suited to amplifying a signal of interest while rejecting unwanted noise.</p><p id="p-0044" num="0055">The resulting amplified signal <b>34</b> is input to the mixer <b>16</b>, which is also arranged to receive a signal <b>36</b> generated by the local oscillator <b>18</b> as a further input. The signal <b>36</b> generated by the local oscillator <b>18</b> is set to the frequency of interest (i.e. the carrier frequency associated with the channel to which the receiver <b>2</b> is currently tuned). This downmixes the amplified signal <b>34</b> to baseband and generates an in-phase signal <b>38</b> and a quadrature signal <b>40</b>.</p><p id="p-0045" num="0056">The in-phase signal <b>38</b> and the quadrature signal <b>40</b> are passed through the in-phase amplifier <b>20</b> and the quadrature amplifier <b>22</b> respectively to provide further amplification of each of these signals <b>38</b>, <b>40</b>. The resulting amplified in-phase signal <b>42</b> and amplified quadrature signal <b>44</b> are each passed through a respective band-pass filter <b>24</b>, <b>26</b>, where the bandpass filters <b>24</b>, <b>26</b> are tuned to reject signals outside a particular frequency range. This results in a filtered in-phase signal <b>46</b> and a filtered quadrature signal <b>48</b>.</p><p id="p-0046" num="0057">The filtered in-phase and quadrature signals <b>46</b>, <b>48</b> are input to the in-phase ADC <b>28</b> and the quadrature ADC <b>30</b> respectively. These ADCs <b>28</b>, <b>30</b> convert the analogue filtered signals <b>46</b>, <b>48</b> to a digital in-phase signal <b>50</b> and a digital quadrature signal <b>52</b>. The resulting digital signals <b>50</b>, <b>52</b> are then input to the digital circuit portion <b>6</b>.</p><p id="p-0047" num="0058">The digital circuit portion <b>6</b> includes a processor <b>54</b> which is connected to a memory <b>56</b>. The processor is arranged to carry out digital processing of the digital signals <b>50</b>, <b>52</b> in order to decode them, i.e. to retrieve the data within the received sub-frame. Once the processor <b>54</b> decodes the received eMTC sub-frame, the resulting data <b>58</b> is passed to the downstream baseband circuitry <b>8</b>, which will use the data for the desired application.</p><p id="p-0048" num="0059">The strength of the incoming LTE radio signal <b>32</b> can vary significantly for a multitude of reasons, including a changing distance to a base station or local environmental effects (e.g. interference or signal attenuation by intervening objects). The digital circuit portion <b>6</b> is, therefore, further configured to provide automated gain control (AGC) to the receiver <b>2</b>. This is provided by the digital circuit portion estimating the amplitudes of the filtered in-phase and quadrature signals <b>46</b>, <b>48</b> using the digital signals <b>50</b>, <b>52</b> from the ADCs <b>28</b>, <b>30</b>. The digital circuit portion <b>6</b> uses this estimation to provide a control signal <b>60</b> the variable gain pre-amplifier <b>14</b> to maximise the utilisation of the dynamic range of the ADCs <b>28</b>, <b>30</b> (while avoiding saturating the ADCs <b>28</b>, <b>30</b>) for any strength of incoming signal <b>32</b>.</p><p id="p-0049" num="0060">For instance, if the incoming signal <b>32</b> is weak, such that the estimated amplitudes of the filtered in-phase and quadrature signals <b>46</b>, <b>48</b> are below a maximum input amplitude of the ADCs <b>28</b>, <b>30</b>, the digital circuit portion <b>6</b> provides a control signal <b>60</b> which increases the gain provided by the variable gain pre-amplifier <b>14</b>. This increases the amplitudes of the filtered in-phase and quadrature signals <b>46</b>, <b>48</b>, increasing the utilisation of the ADCs' <b>28</b>, <b>30</b> dynamic range and thus the resolution of their outputs <b>50</b>, <b>52</b>. Contrastingly, if the incoming signal <b>32</b> is strong, such that estimated amplitudes of the filtered in-phase and quadrature signals <b>46</b>, <b>48</b> are so large as to saturate the ADCs <b>28</b>, <b>30</b>, the digital circuit portion <b>6</b> provides a control signal <b>60</b> which decreases the gain provided by the variable gain pre-amplifier <b>14</b>. This reduces the likelihood of data being lost during the analogue to digital conversion.</p><p id="p-0050" num="0061">Operation of the receiver <b>2</b> in accordance with an embodiment of the present invention will now be described with further reference to <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0051" num="0062">The LTE eMTC radio signals received by the receiver <b>2</b> are transmitted within one of eight 1.4 MHz narrowbands <b>200</b>-<b>207</b> (which make up a 10 MHz LTE radio channel). The narrowband <b>200</b>-<b>207</b> within which the signals are transmitted is changed periodically, following a pseudo-random pattern known in advance by the receiver <b>2</b>. This is known as frequency hopping.</p><p id="p-0052" num="0063">This frequency hopping behaviour is shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, which is a timing diagram showing the active narrowband over time. At an initial time <b>102</b> the LTE radio signal <b>32</b> is transmitted in a seventh narrowband <b>207</b>. At the end of a first sub-frame, at time <b>104</b>, the signal <b>32</b> hops to a second narrowband <b>202</b>. At time <b>106</b> the signal <b>32</b> hops back to the seventh narrowband <b>207</b>. At time <b>108</b> the signal <b>32</b> hops to a third narrowband <b>203</b> and then at time <b>110</b> the signal <b>32</b> hops back to the second narrowband <b>202</b>.</p><p id="p-0053" num="0064">The strength of the signal <b>32</b> received by the receiver <b>2</b> varies with time (e.g. due to movement of a receiver relative to a base station, or changing environmental conditions) but also with the changing narrowbands <b>200</b>-<b>207</b> in which it is transmitted (e.g. due to varying multi-path effects or frequency-dependent attenuation). As such, to achieve optimal operation, a different gain needs to be applied by the pre-amplifier <b>14</b> as the transmission narrowband <b>200</b>-<b>207</b> changes. The conventional automatic gain control provided by the digital circuit portion <b>6</b> to the pre-amplifier <b>14</b> operates using feedback from the ADCs <b>28</b>, <b>30</b> and thus features an inherent delay. As such, it cannot react immediately to changing gain requirements as the active narrowband <b>200</b>-<b>207</b> changes. As explained above, this may result in sub-optimal operation or even lost data.</p><p id="p-0054" num="0065">The digital circuit portion <b>6</b> is configured to mitigate this delay by applying immediately an estimated gain when the signal <b>32</b> hops to a different narrowband <b>200</b>-<b>207</b>, as will be explained in more detail below with reference to <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0055" num="0066">Every time the signal <b>32</b> hops from one narrowband <b>200</b>-<b>207</b> to another (i.e. at times <b>102</b>, <b>104</b>, <b>106</b> and <b>108</b>), the gain applied by the pre-amplifier <b>14</b> to the signal is recorded in the memory <b>56</b>, along with the current time and the narrowband for which that gain was applied. A new gain, selected for the narrowband to which the signal <b>32</b> is hopping, is then applied.</p><p id="p-0056" num="0067">As mentioned above and as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, at the initial time <b>102</b> the transceiver <b>2</b> receives a signal on the seventh narrowband <b>207</b>. The digital circuit portion <b>6</b> reads a gain g<sub>7 </sub>from the memory <b>56</b> which had been previously applied to a signal on the seventh narrowband <b>207</b> at a time t<sub>7 </sub>and instructs the pre-amplifier <b>14</b> to apply this gain to the incoming signal <b>32</b>. Between times <b>102</b> and <b>104</b> the signal <b>32</b> is demodulated and data extracted. Throughout this period the digital circuit portion <b>6</b> refines the gain applied by the pre-amplifier <b>14</b> based upon feedback from the ADCs <b>28</b>, <b>30</b>.</p><p id="p-0057" num="0068">At time <b>104</b> the digital circuit portion <b>6</b> stores the refined value of the gain g<sub>7 </sub>for the seventh narrowband <b>207</b> in the memory <b>56</b> (i.e. the value of g<sub>7 </sub>stored in the memory is updated). The digital circuit portion <b>6</b> also updates the time t<sub>7 </sub>to equal the time <b>104</b> at which the refined gain g<sub>7 </sub>was applied. The signal <b>32</b> hops to the second narrowband <b>202</b> and the digital circuit portion <b>6</b> retrieves a gain g<sub>2 </sub>from the memory <b>56</b> which had been previously applied to a signal on the second narrowband <b>202</b> at a time t<sub>2</sub>. This gain is applied immediately to the signal <b>32</b> by the pre-amplifier <b>14</b>.</p><p id="p-0058" num="0069">At time <b>106</b> the signal <b>32</b> hops to the sixth narrowband <b>206</b>. However, the receiver has not received a signal <b>32</b> in the sixth narrowband <b>206</b> before and as such, there is not yet a value for the gain to be applied stored in the memory <b>56</b>. However, instead of continuing to use the gain g<sub>2 </sub>which was applied to the signal <b>32</b> in the second narrowband <b>202</b>, the digital signal processor <b>6</b> reads the (previously updated) gain g<sub>7 </sub>from the memory <b>56</b> and applies it to the signal <b>32</b>.</p><p id="p-0059" num="0070">While the gain g<sub>7 </sub>used for the seventh narrowband <b>207</b> may not be optimal for the signal <b>32</b> in the sixth narrowband <b>206</b>, it is likely to be closer than the gain g<sub>2 </sub>used for the second narrowband <b>202</b>, as the frequency difference between the sixth and seventh narrowbands <b>206</b>, <b>207</b> is much less than that between the sixth and second narrowbands <b>206</b>, <b>202</b>. Gain g<sub>7 </sub>therefore serves as the best estimate the digital signal processor <b>6</b> can make of the optimal gain for the sixth narrowband <b>206</b> at time <b>106</b>.</p><p id="p-0060" num="0071">Alternatively, the digital signal processor <b>6</b> may interpolate between two (or more) previously stored gains to determine an estimate for the gain to be applied to the signal <b>32</b> in the sixth narrowband <b>206</b>. For example, the gain for the sixth narrowband <b>206</b> may be calculated as a weighted average of g<sub>7 </sub>and g<sub>2 </sub>(e.g. 0.8&#xd7; g<sub>7</sub>+0.2&#xd7; g<sub>2</sub>)&#x2014; with the weights being calculated, for example, according to how recently g<sub>7 </sub>and g<sub>2 </sub>were stored.</p><p id="p-0061" num="0072">As described above, the gain g<sub>6 </sub>applied to the sixth narrowband is refined over time by feedback from the ADCs <b>28</b>, <b>30</b>. At time <b>108</b>, the signal <b>32</b> hops to another narrowband, and a refined gain g<sub>6 </sub>for the sixth narrowband is stored in the memory <b>56</b>, along with the time t<sub>6</sub>.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method of operating a radio receiver device comprising:<claim-text>receiving a plurality of signals with a plurality of corresponding frequencies;</claim-text><claim-text>applying respective gains to each of the plurality of signals; and</claim-text><claim-text>storing the gain applied to each signal, its corresponding frequency, and a time at which the gain was applied;</claim-text></claim-text><claim-text>wherein the method comprises subsequently:<claim-text>receiving a further signal with a further frequency; and</claim-text><claim-text>applying a further gain to the further signal;</claim-text><claim-text>wherein the further gain is determined using at least one of the stored gains according to a difference between the further frequency and at least one of the plurality of corresponding frequencies and according to a comparison between a time at which the further signal is received and at least one of the stored times.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein applying respective gains to each of the plurality of signals comprises optimising the respective gains using automatic gain control.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising setting the further gain to be equal to a stored gain with a corresponding frequency that is a closest of the plurality of corresponding frequencies to the further frequency.</claim-text></claim><claim id="CLM-004-5" num="004-5"><claim-text><b>4</b>.-<b>5</b>. (canceled)</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising disregarding all stored gains with a corresponding frequency that differs from the further frequency by more than a threshold value.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising assigning each previously-applied gain a distance metric based upon its difference in both frequency and time from the further signal.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the distance metric comprises a weighted combination of the differences.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00007">claim 7</claim-ref>, comprising setting the further gain to be equal to the gain to which a minimum distance metric has been assigned.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising deriving the further gain from one or more stored gains subject to a refinement according to a frequency separation and/or time separation between the stored gain and the further gain.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising setting the further gain to a value interpolated between two or more stored gains.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the plurality of signals comprises signals transmitted according to an LTE standard.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the plurality of frequencies comprises a plurality of narrowbands defined according to an LTE standard.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. A radio transceiver device comprising:<claim-text>an antenna;</claim-text><claim-text>an amplifier module; and</claim-text><claim-text>a memory;</claim-text></claim-text><claim-text>wherein the device is configured to:<claim-text>receive a plurality of signals with a plurality of corresponding frequencies;</claim-text><claim-text>apply respective gains to each of the plurality of signals using the amplifier; and</claim-text><claim-text>store each gain, its corresponding frequency, and a time at which the gain was applied in the memory;</claim-text><claim-text>wherein the device is configured to receive subsequently a further signal with a further frequency and to apply a further gain to said further signal using the amplifier;</claim-text><claim-text>wherein the further gain is determined using at least one of the stored gains according to a difference between the further frequency and the plurality of corresponding frequencies and according to a comparison between a time at which the further signal is received and at least one of the stored times.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The radio transceiver device as claimed in <claim-ref idref="CLM-00014">claim 14</claim-ref>, which operates according to an LTE standard.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The radio transceiver device as claimed in <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the amplifier module comprises an adjustable gain low noise amplifier.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The radio transceiver device as claimed in <claim-ref idref="CLM-00014">claim 14</claim-ref>, further comprising a digital signal processor arranged to optimise the respective gains using automatic gain control.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising disregarding stored gains which were applied at a time before a threshold.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00018">claim 18</claim-ref>, comprising setting the further gain to be equal to a remaining stored gain with a corresponding frequency that is closest to the further frequency.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method of operating a radio receiver device as claimed in <claim-ref idref="CLM-00018">claim 18</claim-ref>, comprising setting the further gain to be equal to a remaining stored gain that was applied most recently.</claim-text></claim></claims></us-patent-application>