<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230001939A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230001939</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17781514</doc-number><date>20201120</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2019-220135</doc-number><date>20191205</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>60</class><subclass>W</subclass><main-group>50</main-group><subgroup>02</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>60</class><subclass>R</subclass><main-group>16</main-group><subgroup>023</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>11</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>W</subclass><main-group>50</main-group><subgroup>0225</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>R</subclass><main-group>16</main-group><subgroup>0232</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>11</main-group><subgroup>006</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>W</subclass><main-group>2050</main-group><subgroup>0085</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">VEHICLE MOUNTED ELECTRONIC CONTROL APPARATUS</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Hitachi Astemo, Ltd.</orgname><address><city>Hitachinaka-shi, Ibaraki</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>FUKUDA</last-name><first-name>Toru</first-name><address><city>Hitachinaka-shi, Ibaraki</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>TOKUNAGA</last-name><first-name>Yoshitaka</first-name><address><city>Hitachinaka-shi, Ibaraki</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Hitachi Astemo, Ltd.</orgname><role>03</role><address><city>Hitachinaka-shi, Ibaraki</city><country>JP</country></address></addressbook></assignee></assignees><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/JP2020/043336</doc-number><date>20201120</date></document-id><us-371c12-date><date>20220601</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">The present invention has been made in view of the above problems, and an object of the present invention is to, when an abnormality is detected in an electronic control apparatus that controls a plurality of functions, continue an operation without affecting the other function and secure safety of a control target device corresponding to the function in which the abnormality is detected. In the vehicle mounted electronic control apparatus according to the present invention, each of a first computing portion and a second computing portion outputs an operation check signal, and a driver control unit sets a driver corresponding to the computing portion in which an abnormality is indicated by the operation check signal among the first computing portion and the second computing portion, to a degenerated state.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="83.65mm" wi="158.75mm" file="US20230001939A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="233.26mm" wi="140.89mm" orientation="landscape" file="US20230001939A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="218.78mm" wi="94.32mm" orientation="landscape" file="US20230001939A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="216.58mm" wi="106.68mm" orientation="landscape" file="US20230001939A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="89.75mm" wi="129.54mm" file="US20230001939A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">TECHNICAL FIELD</heading><p id="p-0002" num="0001">The present invention relates to a vehicle mounted electronic control apparatus mounted on a vehicle.</p><heading id="h-0002" level="1">BACKGROUND ART</heading><p id="p-0003" num="0002">An electronical control unit (ECU) mounted on a vehicle generally includes a monitoring unit that monitors whether or not a microcomputer in the ECU operates normally. In general, one monitoring unit is disposed for one microcomputer. The monitoring unit can be configured by, for example, a watch dog timer (WDT). If the monitoring result by the monitoring unit is abnormal, the microcomputer is reset to attempt to recover the microcomputer from the abnormal state.</p><p id="p-0004" num="0003">PTL 1 listed below discloses a technique having an object that &#x201c;there is provided a vehicle-mounted electronic control apparatus that enables failure monitoring of a multi-core CPU at low cost without increasing the number of monitoring CPUs&#x201d;. In this technique, &#x201c;a CPU core 10 in a control IC 2 is set as a main CPU core, other CPU cores 20, 30, and 40 are set sub CPU cores, the CPU cores 20, 30, and 40 calculate answer data to example data transmitted by the CPU core 10 and transmit the answer data to the CPU core 10, the CPU core 10 calculates answer data to example data transmitted by a monitoring IC 3 and transmits the example data to the CPU cores 20, 30, and 40, and generates final answer data based on the own answer data and the answer data transmitted as a response by the CPU cores 20, 30, and 40 and transmits the final answer data to the monitoring IC 3, and the monitoring IC 3 diagnoses a failure of the control IC 2 based on a collation result between the final answer data received from the CPU core 10 and an answer data expected value prepared in advance&#x201d; (see Abstract).</p><p id="p-0005" num="0004">PTL 2 listed below discloses a technique having an object in which &#x201c;there is provided an information processing apparatus capable of, even though an abnormality is detected in one of two or more applications, continuously executing the other application&#x201d;. In this technique, &#x201c;the information processing apparatus includes a plurality of applications, application monitoring means 60 for counting the number of times of in-operation notifications for each application in a first count period, and application control means 32 for controlling an operation of the application, in which, when the application monitoring means detects an abnormality sign of the application based on the number of previous in-operation notifications of the application, the application control means stops transmission of an in-operation notification of an application having a lowest priority, and the application of which the abnormality sign is not detected transmits an in-operation notification at a timing before the abnormality sign is detected, and at a timing at which an application of which the abnormality sign is detected transmits an in-operation notification or a timing before and after such a timing&#x201d; (see Abstract).</p><heading id="h-0003" level="1">CITATION LIST</heading><heading id="h-0004" level="1">Patent Literature</heading><p id="p-0006" num="0005">PTL 1: JP 2015-103052 A</p><p id="p-0007" num="0006">PTL 2: JP 2013-143093 A</p><heading id="h-0005" level="1">SUMMARY OF INVENTION</heading><heading id="h-0006" level="1">Technical Problem</heading><p id="p-0008" num="0007">In recent years, a vehicle mounted electronic control apparatus has come to use a multi-core microcomputer including a plurality of processor cores. The multi-core microcomputer can execute a different function for each core. Since the cost increases if the monitoring unit is disposed for each core, it is considered that it is desirable to collectively monitor the cores by one monitoring unit.</p><p id="p-0009" num="0008">In a multi-core microcomputer that executes a plurality of functions, when any of the functions is determined to be abnormal by the monitoring unit, the entirety of the microcomputer is reset. If the microcomputer is reset, the function that is normally operating is also reset. Thus, the operation continuity is inhibited.</p><p id="p-0010" num="0009">In particular, in the vehicle mounted electronic control apparatus, it may be required to continue the operation. Thus, such a configuration is not desirable.</p><p id="p-0011" num="0010">In PTL 1, one monitoring IC 3 monitors the plurality of CPU cores 10 to 40 in a manner that the CPU core 10 to 40 relays the example data transmitted by the monitoring IC 3. It is considered that such a configuration is useful in suppressing the cost of the monitoring IC 3. However, if the entirety of the CPU is reset when any of the CPU cores is abnormal, the operation continuity may be hindered.</p><p id="p-0012" num="0011">In PTL 2, when any one of two or more applications is abnormal, the in-operation notification of the application having the lowest priority is stopped, and the other applications are continued. However, according to PTL 2, since the in-operation notification of the application having the low priority is stopped at the time of abnormality, the monitoring capability for the application is deteriorated. That is, in PTL 2, when an abnormality occurs, the microcomputer turns into a state different from a normal state. In the vehicle mounted electronic control apparatus, it is necessary to consider the operation continuity including not only the microcomputer but also a control target device (an actuator or the like included in a vehicle) controlled by the ECU. Setting the microcomputer itself in the state different from the normal state as in PTL 2 may not be necessarily optimal from the viewpoint of the operation continuity. This is because processing of restoring the microcomputer to the normal state is required.</p><p id="p-0013" num="0012">The present invention has been made in view of the above problems, and an object of the present invention is to, when an abnormality is detected in an electronic control apparatus that controls a plurality of functions, continue an operation without affecting the other function and secure safety of a control target device corresponding to the function in which the abnormality is detected.</p><heading id="h-0007" level="1">Solution to Problem</heading><p id="p-0014" num="0013">In the vehicle mounted electronic control apparatus according to the present invention, each of a first computing portion and a second computing portion outputs an operation check signal, and a driver control unit sets a driver corresponding to the computing portion in which an abnormality is indicated by the operation check signal among the first computing portion and the second computing portion, to a degenerated state.</p><heading id="h-0008" level="1">Advantageous Effects of Invention</heading><p id="p-0015" num="0014">According to the vehicle mounted electronic control apparatus in the present invention, it is possible to continue an operation without affecting a function in which an abnormality does not occur, and to secure the safety of a control target device corresponding to a function in which the abnormality is detected.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0009" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a configuration diagram of a vehicle mounted electronic control apparatus <b>100</b> according to a first embodiment.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a time chart for explaining a procedure in which a determination unit <b>4</b> controls each driver.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a time chart for explaining a procedure in which the determination unit <b>4</b> resets a microcomputer <b>6</b>.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a diagram illustrating an example of a device controlled by the vehicle mounted electronic control apparatus <b>100</b>.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0010" level="1">DESCRIPTION OF EMBODIMENTS</heading><heading id="h-0011" level="1">First Embodiment</heading><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a configuration diagram of a vehicle mounted electronic control apparatus <b>100</b> according to a first embodiment of the present invention. The vehicle mounted electronic control apparatus <b>100</b> is an electronic control device mounted on a vehicle. The vehicle mounted electronic control apparatus <b>100</b> is an apparatus that controls devices (for example, actuator and the like, specific examples will he described later) included in the vehicle.</p><p id="p-0021" num="0020">The vehicle mounted electronic control apparatus <b>100</b> includes a monitoring unit <b>1</b>, a microcomputer <b>6</b> (computing, device), a first driver <b>18</b>, and a second driver <b>19</b>.</p><p id="p-0022" num="0021">The microcomputer <b>6</b> includes a central processing unit (CPU) that executes a program in which control computation for controlling devices included in the vehicle is mounted. The microcomputer <b>6</b> is a multiprocessor microcomputer including a plurality of CPUs. <figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates an example including a CPU <b>11</b> (first computing portion) and a CPU <b>13</b> (second computing portion). The CPU <b>11</b> executes control computation for realizing a first function <b>7</b> (first process), and the CPU <b>13</b> executes control computation for realizing a second function <b>8</b> (second process). Regarding a functional safety requirement level in the standard with which the vehicle mounted electronic control apparatus conforms, the functional safety requirement level of the first function <b>7</b> is higher than the functional safety requirement level of the second function <b>8</b>.</p><p id="p-0023" num="0022">The CPU <b>11</b> outputs a first drive signal for controlling the first driver <b>18</b> via an I/O circuit <b>17</b> in accordance with the control computation result. The first driver <b>18</b> drives a first device in accordance with the first drive signal. The CPU <b>13</b> outputs a second drive signal for controlling the second driver <b>19</b> via the I/O circuit <b>17</b> in accordance with the control computation result. The second driver <b>19</b> drives a second device in accordance with the second drive signal.</p><p id="p-0024" num="0023">The CPU <b>11</b> outputs a first operation check signal indicating that the CPU <b>11</b> is executing the program, to the monitoring unit <b>1</b> via the I/O circuit <b>17</b>. The CPU <b>13</b> outputs a second operation check signal indicating that the CPU <b>13</b> is executing the program, to the monitoring unit <b>1</b> via the I/O circuit <b>17</b>.</p><p id="p-0025" num="0024">In a lockstep <b>9</b>, the same computation as that of the CPU <b>11</b> is performed. In a lockstep <b>10</b>, the same computation as that of the CPU <b>13</b> is performed. An MPU monitoring unit <b>15</b> (computing device monitoring unit) included in the microcomputer <b>6</b> compares the computation result of the CPU with the computation result of the lockstep. When the computation results are not the same as each other, the MPU monitoring unit <b>15</b> outputs a signal (error output) indicating that the microcomputer <b>6</b> is abnormal, to the monitoring unit <b>1</b>.</p><p id="p-0026" num="0025">The microcomputer <b>6</b> further includes memories <b>12</b> and <b>14</b>, a peripheral circuit <b>16</b>, and the like. The memories <b>12</b> and <b>14</b> are storage devices that store data and the like used by the CPUs <b>11</b> and <b>13</b>, respectively.</p><p id="p-0027" num="0026">The peripheral circuit <b>16</b> is, for example, another circuit such as a timer, an AD converter, or a communication interface, which is generally included in the microcomputer <b>6</b>. The MPU monitoring unit <b>15</b> monitors whether or not the memories <b>12</b> and <b>14</b>, the peripheral circuit <b>16</b>, and the I/O circuit <b>17</b> are normal in addition to each CPU, and outputs an error output to the monitoring unit <b>1</b> when any of the above components is abnormal. Thus, the MPU monitoring unit <b>15</b> has a role of monitoring an occurrence of a problem in the microcomputer <b>6</b>.</p><p id="p-0028" num="0027">The monitoring unit <b>1</b> includes a reset control unit <b>2</b>, a response monitoring unit <b>3</b>, a determination unit <b>4</b>, and a driver control unit <b>5</b>. The reset control unit <b>2</b> outputs a reset signal to the microcomputer <b>6</b> in accordance with an instruction from the determination unit <b>4</b>. The response monitoring unit <b>3</b> monitors the operation of the CPU <b>11</b>. The response monitoring unit <b>3</b> can be configured by, for example, a WDT. The determination unit <b>4</b> determines whether the microcomputer <b>6</b> is normal, in accordance with a procedure to be described later. The driver control unit <b>5</b> outputs a signal (function <b>1</b> output permission signal) for controlling the first driver <b>18</b> and a signal (function <b>2</b> output permission signal) for controlling the second driver <b>19</b>, in accordance with an instruction from the determination unit <b>4</b>.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a time chart for explaining a procedure in which the determination unit <b>4</b> controls each driver. The determination unit <b>4</b> instructs the driver corresponding to the operation check signal indicating the abnormality to stop the output. In <figref idref="DRAWINGS">FIG. <b>2</b></figref>, since the second operation check signal indicates the abnormality, the determination unit <b>4</b> instructs the second driver <b>19</b> to stop the output. Then, the second driver <b>19</b> does not output the second drive signal to the second device. When a plurality of operation check signals indicate the abnormality, the driver corresponding to each operation check signal may be instructed to stop the output. When the operation check signal indicates normality, the corresponding driver is instructed to permit the output.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a time chart for explaining a procedure in rich the determination unit <b>4</b> resets the microcomputer <b>6</b>.</p><p id="p-0031" num="0030">As described with reference to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, every time each operation check signal indicates the abnormality, the determination unit <b>4</b> instructs the corresponding driver to stop the output. When all the operation check signals (the first operation cheek signal and the second operation check signal in the first embodiment) indicate the abnormality and an error output is generated from the MPU monitoring unit <b>15</b>, each CPU does not normally execute the program, and a problem occurs also in the microcomputer <b>6</b>. In this case, it is considered that it is not possible to continue the operation of the microcomputer <b>6</b> any more. Therefore, the determination unit <b>4</b> instructs the reset control unit <b>2</b> to output a reset signal. <figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates an example in which, after the second operation check signal indicates the abnormality, the first operation check signal indicates the abnormality, and then the error output is generated.</p><heading id="h-0012" level="1">First Embodiment: Summary</heading><p id="p-0032" num="0031">A vehicle mounted electronic control apparatus <b>100</b> according to the first embodiment is a vehicle mounted electronic control apparatus (<b>100</b>) mounted on a vehicle. The vehicle mounted electronic control apparatus (<b>100</b>) includes a first driver (<b>18</b>) that outputs a first drive signal for driving a first device included in the vehicle, a second driver (<b>19</b>) that outputs a second drive signal for driving a second device included in the vehicle, a driver control unit (<b>5</b>) that controls an operation state of each of the first driver (<b>18</b>) and the second driver (<b>19</b>), and a computing device (<b>6</b>) including a plurality of computing units configured to execute a control process for controlling the vehicle. The computing device (<b>6</b>) includes, as the computing unit, a first computing portion (<b>11</b>) that executes a first process for controlling the first device and controls the first driver (<b>18</b>) in accordance with a result of the first process, a second computing portion (<b>13</b>) that executes a second process for controlling the second device and controls the second driver (<b>19</b>) in accordance with a result of the second process. The computing device outputs a check signal indicating whether or not the control process is normally executed. The first computing portion (<b>11</b>) outputs, as the check signal, a first operation check signal indicating whether or not the first process is normally executed. The second computing portion (<b>13</b>) outputs, as the check signal, a second operation check signal indicating whether or not the second process is normally executed. When the first operation check signal indicates that the first process is normally executed and the second operation check signal indicates that the second process is not normally executed, the driver control unit (<b>5</b>) causes the first driver (<b>18</b>) to operate normally and sets the second driver (<b>19</b>) to a state where the second driver is degenerated from a normal operation. When the first operation check signal indicates that the first process is not normally executed and the second operation check signal indicates that the second process is normally executed, the driver control unit (<b>5</b>) sets the first driver (<b>18</b>) to a state in which the first driver is degenerated from the normal operation and causes the second driver (<b>19</b>) to operate normally. By bringing the driver into a degenerated state, it is possible to transition the operation of the vehicle to a fail-safe mode while continuing the operation of the CPU. Since it is not necessary to reset the microcomputer <b>6</b> (computing device), it is possible to prevent the microcomputer <b>6</b> (computing device) from affecting a function that is normally operating.</p><p id="p-0033" num="0032">The vehicle mounted electronic control apparatus (<b>100</b>) further includes a computing device monitoring unit (<b>15</b>) that monitors an occurrence of a problem in the computing device, and a reset control unit (<b>2</b>) that outputs a reset signal for resetting the computing device (<b>6</b>). When the check signal indicates that all the computing units included in the computing device (<b>6</b>) are abnormal, and the computing device monitoring unit (<b>15</b>) detects that a problem has occurred in the computing device (<b>6</b>), the reset control unit (<b>2</b>) resets the computing device (<b>6</b>) by outputting the reset signal to the computing device (<b>6</b>). Thus, when it is assumed that the abnormality level of the microcomputer <b>6</b> (computing device) is high, it is possible to attempt to restore the microcomputer to the normal state by resetting the microcomputer.</p><p id="p-0034" num="0033">The computing device (<b>6</b>) continues the first process by the first computing portion (<b>11</b>) even when the first operation check signal indicates that the first process is not normally executed. The computing device (<b>6</b>) continues the second process by the second computing portion (<b>13</b>) even when the second operation check signal indicates that the second process is not normally executed. Thus, it is possible to transition the operation of the vehicle to the fail-safe mode without resetting the microcomputer <b>6</b> (computing device).</p><p id="p-0035" num="0034">The computing device (<b>6</b>) continues the second process by the second computing portion (<b>13</b>) even when the first operation check signal indicates that the first process is not normally executed. The computing device (<b>6</b>) continues the first process by the first computing portion (<b>11</b>) even when the second operation check signal indicates that the second process is not normally executed. Thus, it is possible to transition the operation of the vehicle to the fail-safe mode without resetting the microcomputer <b>6</b> (computing device).</p><heading id="h-0013" level="1">Second Embodiment</heading><p id="p-0036" num="0035">In the first embodiment, it has been described that the driver is set to the degenerated state, in accordance with the operation check signal. However, for example, due to a temporary state of the I/O circuit <b>17</b>, the wiring, or the like, although the operation check signal is to originally indicate an abnormality, the operation check signal may erroneously indicate normality. Therefore, in a second embodiment of the present invention, a procedure for determining whether the microcomputer <b>6</b> is normal, by using the operation check signal/MPU monitoring unit <b>15</b>/response monitoring unit <b>3</b> in combination will be described. The configuration of the vehicle mounted electronic control apparatus <b>100</b> is similar to that in the first embodiment.</p><p id="p-0037" num="0036">(Part 1 of Procedure) When both the first operation check signal and the second operation check signal indicate normality, the determination unit <b>4</b> further acquires a monitoring result by the MPU monitoring unit <b>15</b> and a monitoring result by the response monitoring unit <b>3</b>. When the MPU monitoring unit <b>15</b> detects that a problem has occurred in the microcomputer <b>6</b> and the response monitoring unit <b>3</b> detects that the CPU <b>11</b> is operating normally, there is a possibility that an abnormality has occurred in the CPU <b>13</b> or a certain portion related thereto. This is because the CPU <b>11</b> is normally operating although the inside of the microcomputer <b>6</b> is abnormal. In this case, the determination unit <b>4</b> issues an instruction to stop the output of the second driver <b>19</b> even though the second operation check signal is normal.</p><p id="p-0038" num="0037">The first driver <b>18</b> continues the normal operation. Thus, even when the second operation check signal erroneously indicates normality for some reason, it is possible to secure the fail safe of the second driver <b>19</b>.</p><p id="p-0039" num="0038">(Part 2 of Procedure) When both the first operation check signal and the second operation check signal indicate normality, the determination unit <b>4</b> further acquires a monitoring result by the MPU monitoring unit <b>15</b> and a monitoring result by the response monitoring unit <b>3</b>. When the MPU monitoring unit <b>15</b> detects that a problem has occurred in the microcomputer <b>6</b> and the response monitoring unit <b>3</b> detects that the CPU <b>11</b> does not operate normally, there is a possibility that an abnormality has occurred in the CPU <b>11</b> or a certain portion related thereto. In this case, the determination unit <b>4</b> issues an instruction to temporarily stop the output of the first driver <b>18</b> even though the first operation check signal is normal. The second driver <b>19</b> continues the normal operation. Thus, even when the first operation check signal erroneously indicates normality for some reason, it is possible to secure the fail safe of the first driver <b>18</b>.</p><p id="p-0040" num="0039">(Part 3 of Procedure) In the part 2 of Procedure, when a state in which the MPU monitoring unit <b>15</b> detects that the problem has occurred in the microcomputer <b>6</b> and the response monitoring unit <b>3</b> detects that the CPU <b>11</b> does not operate normally continues, it is desirable to quickly restore the CPU <b>11</b> to the normal state. This is because the CPU <b>11</b> executes the process having a high functional safety requirement level. Thus, in this case, the determination unit <b>4</b> resets the microcomputer <b>6</b> via the reset control unit <b>2</b>. As a result, even when a state in which the first operation check signal erroneously indicates normality continues for some reason, it is possible to quickly restore the first driver <b>18</b> to the normal state.</p><heading id="h-0014" level="1">Second Embodiment: Summary</heading><p id="p-0041" num="0040">In the vehicle mounted electronic control apparatus (<b>100</b>) according to the second embodiment, a functional safety level required for the first process is higher than a functional safety level required for the second process. The vehicle mounted electronic control apparatus (<b>100</b>) further includes a computing device monitoring unit (<b>15</b>) that monitors an occurrence of a problem in the computing device (<b>6</b>), and a response monitoring unit (<b>3</b>) that monitors whether or not the first computing portion (<b>11</b>) is operating normally. When the first operation check signal indicates that the first process is normally executed, the second operation check signal indicates that the second process is normally executed, the computing device monitoring unit (<b>15</b>) detects that a problem has occurred in the computing device (<b>6</b>), and the response monitoring unit (<b>3</b>) detects that the first computing portion (<b>11</b>) is operating normally, the driver control unit (<b>5</b>) causes the first driver (<b>18</b>) to operate normally, and sets the second driver to a state where the second driver (<b>19</b>) is degenerated from the normal operation. Thus, even when the second operation check signal erroneously indicates normality for some reason, it is possible to secure the fail safe of the second driver <b>19</b>.</p><p id="p-0042" num="0041">In the vehicle mounted electronic control apparatus (<b>100</b>) according to the second embodiment, a functional safety level required for the first process is higher than a functional safety level required for the second process. The vehicle mounted electronic control apparatus (<b>100</b>) further includes a computing device monitoring unit (<b>15</b>) that monitors an occurrence of a problem in the computing device (<b>6</b>), and a response monitoring unit (<b>3</b>) that monitors whether or not the first computing portion (<b>11</b>) is operating normally. When the first operation check signal indicates that the first process is normally executed, the second operation check signal indicates that the second process is normally executed, the computing device monitoring unit (<b>15</b>) detects that a problem has occurred in the computing device (<b>6</b>), and the response monitoring unit (<b>3</b>) detects that the first computing portion (<b>11</b>) does not operate normally, the driver control unit (<b>5</b>) temporarily sets the first driver (<b>18</b>) to a state where the first driver is degenerated from the normal operation, and causes the second driver (<b>19</b>) to operate normally. Thus, even when the first operation cheek signal erroneously indicates normality for some reason, it is possible to secure the fail safe of the first driver <b>18</b>.</p><p id="p-0043" num="0042">The vehicle mounted electronic control apparatus (<b>100</b>) according to the second embodiment further includes a reset control unit (<b>2</b>) that outputs a reset signal tbr resetting the computing device (<b>6</b>). When the first operation check signal indicates that the first process is normally executed, the second operation check signal indicates that the second process is normally executed, the computing device monitoring unit (<b>15</b>) detects that a problem has occurred in the computing device (<b>6</b>), and a state where the response monitoring unit (<b>15</b>) detects that the first computing portion (<b>11</b>) does not operate normally is continuously established for a predetermined period or more, the reset control unit (<b>2</b>) resets the computing device (<b>6</b>) by outputting the reset signal to the computing device (<b>6</b>).</p><p id="p-0044" num="0043">As a result, even when a state in which the first operation check signal erroneously indicates normal continues for some reason, it is possible to quickly restore the first driver <b>18</b> to the normal state.</p><heading id="h-0015" level="1">Third Embodiment</heading><p id="p-0045" num="0044">In the first and second embodiments, it has been described that the driver stops outputting the drive signal to set the driver to the degenerated state from the normal operation. For example, when the driver is configured by a switching element, the above operation can be performed by fixing the signal level of a drive terminal (such as a gate terminal) of the switching element to an OFF state. The degenerated state of the driver is not limited thereto, and other forms of the degenerated state are also conceivable.</p><p id="p-0046" num="0045">For example, it is considered that, by setting the driver to continue the operation without relying on the instruction from the microcomputer <b>6</b>, it is possible to secure the operation continuity although the flexibility of the operation is impaired. For example, the driver can be configured to continue the prescribed operation without relying on the microcomputer <b>6</b>, by connecting the circuit in which the prescribed operation to the driver and disconnecting the connection between the driver and the microcomputer <b>6</b>. This is equivalent to transition of the driver to the fail-safe mode in terms of securing the operation continuity of the driver, and thus can be said to be a form of the degenerated state. The same applies to both the first driver <b>18</b> and the second driver <b>19</b>.</p><heading id="h-0016" level="1">Third Embodiment: Summary</heading><p id="p-0047" num="0046">In the vehicle mounted electronic control apparatus (<b>100</b>), the driver control unit (<b>5</b>) sets the first driver (<b>18</b>) to a state where the first driver (<b>18</b>) is degenerated from the normal operation, by controlling the first driver (<b>18</b>) not to output the first drive signal. The driver control unit (<b>5</b>) sets the second driver (<b>19</b>) to a state where the second driver (<b>19</b>) is degenerated from the normal operation, by controlling the second driver (<b>19</b>) not to output the second drive signal.</p><p id="p-0048" num="0047">Alternatively, the driver control unit (<b>5</b>) may set the first driver (<b>18</b>) to a state in which the first driver (<b>18</b>) is degenerated from the normal operation, by setting the first driver (<b>18</b>) to a state where an operation is continued without relying on the first drive signal, and the driver control unit (<b>5</b>) may set the second driver (<b>19</b>) to a state in which the second driver (<b>19</b>) is degenerated from the normal operation., by setting the second driver (<b>19</b>) to a state where an operation is continued without relying on the second drive signal.</p><heading id="h-0017" level="1">Modification Examples of Present Invention</heading><p id="p-0049" num="0048">The present invention is not limited to the above embodiments, and various modification examples may be provided. For example, the above embodiment is described in detail in order to explain the present invention in an easy-to-understand manner, and the above embodiment is not necessarily limited to a case including all the described configurations. Further, some components in one embodiment can be replaced with the components in another embodiment, and the configuration of another embodiment can be added to the configuration of one embodiment. Regarding some components in the embodiments, other components can be added, deleted, and replaced.</p><p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a diagram illustrating an example of the device controlled by the vehicle mounted electronic control apparatus <b>100</b> according to the present invention. The vehicle mounted electronic control apparatus <b>100</b> has been described in any one of the first to third embodiments. The vehicle mounted electronic control apparatus <b>100</b> can control the following crisis as the first function <b>7</b>, for example. (a) Actuators of the engine mounted on the vehicle, for example, a fuel injection nozzle and throttle; (b) a charging circuit that supplies a charging current to a battery mounted on the vehicle; and (c) a fluid is circulated in the vehicle in a heat treatment system that controls heat in the vehicle, that is, a heat control system using a fluid, for example, a water cooling system. Since the systems are required to continue the operation, it is desirable to perform control by the first driver <b>18</b>. Although <figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates that one first driver <b>18</b> controls three devices, this is an example for description, and a driver equivalent to the first driver <b>18</b> may be provided for each device.</p><p id="p-0051" num="0050">That is, in the vehicle mounted electronic control apparatus (<b>100</b>), at least any one of the first driver (<b>18</b>) and the second driver (<b>19</b>) can output a drive signal for driving at least any one of an actuator of an engine included in the vehicle, a circuit that supplies a charging current for charging a battery included in the vehicle, and a heat treatment system for controlling heat of the vehicle.</p><p id="p-0052" num="0051">In the above embodiments, when each operation check signal is restored to the normal state during a period after the first operation check signal or the second operation check signal indicates the abnormality and before the microcomputer <b>6</b> is reset, the determination unit <b>4</b> may restore each driver to the normal state. When the microcomputer <b>6</b> is reset before the operation check signal is restored to the normal state, the processes similar to those in the above embodiment may be performed again.</p><p id="p-0053" num="0052">That is, in the vehicle mounted electronic control apparatus (<b>100</b>), when the check signal indicates that both the first process and the second process are nomal, before the computing device (<b>6</b>) is reset after the check signal indicates that either the first process or the second process is not normal, the driver control unit (<b>5</b>) may cause both the first driver (<b>18</b>) and the second driver (<b>19</b>) to normally operate.</p><p id="p-0054" num="0053">In the above embodiments, it has been described that the microcomputer <b>6</b> is a multi-processor microcomputer, but the present invention can be applied even when the microcomputer <b>6</b> is a multi-core microcomputer. In this case, a different function is executed for each core.</p><p id="p-0055" num="0054">In the above embodiments, it has been described that the microcomputer <b>6</b> includes two CPUs, but the present invention can also be applied to a case where the microcomputer <b>6</b> includes three or more CPUs (or processor cores). In this case, each processor executes a different function. The operation when the operation check signal indicates that all the processors are abnormal and the MPU monitoring unit <b>15</b> indicates the internal abnormality is similar to that described in the first embodiment.</p><heading id="h-0018" level="1">Reference Signs List</heading><p id="p-0056" num="0055"><b>1</b> monitoring unit</p><p id="p-0057" num="0056"><b>2</b> reset control unit</p><p id="p-0058" num="0057"><b>3</b> response monitoring unit</p><p id="p-0059" num="0058"><b>4</b> determination unit</p><p id="p-0060" num="0059"><b>5</b> driver control unit</p><p id="p-0061" num="0060"><b>6</b> microcomputer</p><p id="p-0062" num="0061"><b>11</b> CPU</p><p id="p-0063" num="0062"><b>13</b> CPU</p><p id="p-0064" num="0063"><b>15</b> MPU monitoring unit</p><p id="p-0065" num="0064"><b>18</b> first driver</p><p id="p-0066" num="0065"><b>19</b> second driver</p><p id="p-0067" num="0066"><b>100</b> vehicle mouthed electronic control apparatus</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A vehicle mounted electronic control apparatus mounted on a vehicle, the vehicle mounted electronic control apparatus comprising:<claim-text>a first driver that outputs a first drive signal for driving a first device included in the vehicle;</claim-text><claim-text>a second driver that outputs a second drive signal for driving a second device included in the vehicle;</claim-text><claim-text>a driver control unit that controls an operation state of each of the first driver and the second driver; and</claim-text><claim-text>a computing device including a plurality of computing units configured to execute a control process for controlling the vehicle,</claim-text><claim-text>wherein the computing device includes, as the computing unit,</claim-text><claim-text>a first computing portion that executes a first process for controlling the first device and controls the first driver in accordance with a result of the first process,</claim-text><claim-text>a second computing portion that executes a second process for controlling the second device and controls the second driver in accordance with a result of the second process,</claim-text><claim-text>the computing device outputs a check signal indicating whether or not the control process is normally executed,</claim-text><claim-text>the first computing portion outputs, as the check signal, a first operation check signal indicating whether or not the first process is normally executed,</claim-text><claim-text>the second computing portion outputs, as the check signal, a second operation check signal indicating whether or not the second process is normally executed,</claim-text><claim-text>when the first operation check signal indicates that the first process is normally executed and the second operation check signal indicates that the second process is not normally executed, the driver control unit causes the first driver to operate normally and sets the second driver to a state where the second driver is degenerated from a normal operation, and</claim-text><claim-text>when the first operation check signal indicates that the first process is not normally executed and the second operation check signal indicates that the second process is normally executed, the driver control unit sets the first driver to a state in which the first driver is degenerated from the normal operation and causes the second driver to operate normally.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The vehicle mounted electronic control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>a computing device monitoring unit that monitors an occurrence of a problem in the computing device; and</claim-text><claim-text>a reset control unit that outputs a reset signal for resetting the computing device,</claim-text><claim-text>wherein, when the check signal indicates that all the computing units included in the computing device are abnormal, and the computing device monitoring unit detects that a problem has occurred in the computing device, the reset control unit resets the computing device by outputting the reset signal to the computing device.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The vehicle mounted electronic control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the computing device continues the first process by the first computing portion even when the first operation check signal indicates that the first process is not normally executed, and</claim-text><claim-text>the computing device continues the second process by the second computing portion even when the second operation check signal indicates that the second process is not normally executed.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The vehicle mounted electronic control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the computing device continues the second process by the second computing portion even when the first operation check signal indicates that the first process is not normally executed, and</claim-text><claim-text>the computing device continues the first process by the first computing portion even when the second operation check signal indicates that the second process is not normally executed.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The vehicle mounted electronic control. apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>a functional safety level required for the first process is higher than a functional safety level required for the second process,</claim-text><claim-text>the vehicle mounted electronic control apparatus further comprises</claim-text><claim-text>a computing device monitoring unit that monitors an occurrence of a problem in the computing device, and</claim-text><claim-text>a response monitoring unit that monitors whether or not the first computing portion is operating normally, and</claim-text><claim-text>when the first operation check signal indicates that the first process is normally executed, the second operation check signal indicates that the second process is normally executed, the computing device monitoring unit detects that a problem has occurred in the computing device, and the response monitoring unit detects that the first computing portion is operating normally, the driver control unit causes the first driver to operate normally, and sets the second driver to a state where the second driver is degenerated from the normal operation.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The vehicle mounted electronic control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>a functional safety level required for the first process is higher than a functional safety level required for the second process,</claim-text><claim-text>the vehicle mounted electronic control apparatus further comprises</claim-text><claim-text>a computing device monitoring unit that monitors an occurrence of a problem in the computing device, and</claim-text><claim-text>a response monitoring unit that monitors whether or not the first computing portion is operating normally, and</claim-text><claim-text>when the first operation check signal indicates that the first process is normally executed, the second operation check signal indicates that the second process is normally executed, the computing device monitoring unit detects that a problem has occurred in the computing device, and the response monitoring unit detects that the first computing portion does not operate normally, the driver control unit temporarily sets the first driver to a state where the first driver is degenerated from the normal operation, and causes the second driver to operate normally.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The vehicle mounted electronic control apparatus according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising a reset control unit that outputs a reset signal for resetting the computing device,<claim-text>wherein, when the first operation check signal indicates that the first process is normally executed, the second operation check signal indicates that the second process is normally executed, the computing device monitoring unit detects that a problem has occurred in the computing device, and a state where the response monitoring unit detects that the first computing portion does not operate normally is continuously established for a predetermined period or more, the reset control unit resets the computing device by outputting the reset signal to the computing device.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The vehicle mounted electronic control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the driver control unit sets the first driver to a state where the first driver is degenerated from the normal operation, by controlling the first driver not to output the first drive signal, and</claim-text><claim-text>the driver control unit sets the second driver to a state where the second driver is degenerated from the normal operation, by controlling the second driver not to output the second drive signal.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The vehicle mounted electronic control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the driver control unit sets the first driver to a state in which the first driver is degenerated from the normal operation, by setting the first driver to a state where an operation is continued without relying on the first drive signal, and</claim-text><claim-text>the driver control unit sets the second driver to a state in which the second driver is degenerated from the normal operation, by setting the second driver to a state where an operation is continued without relying on the second drive signal.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The vehicle mounted electronic control apparatus according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein<claim-text>when the check signal indicates that both the first process and the second process are normal, before the computing device is reset after the check signal indicates that either the first process or the second process is not normal,</claim-text><claim-text>the driver control unit causes both the first driver and the second driver to normally operate.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The vehicle mounted electronic control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least any one of the first driver and the second driver outputs a drive signal for driving at least any one of an actuator of an engine included in the vehicle, a circuit that supplies a charging current for charging a battery included in the vehicle, and a heat treatment system for controlling heat of the vehicle.</claim-text></claim></claims></us-patent-application>