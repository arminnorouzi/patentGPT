<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007694A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007694</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17941596</doc-number><date>20220909</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202010198379.7</doc-number><date>20200319</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>74</main-group><subgroup>08</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>36</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>36</main-group><subgroup>30</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>74</main-group><subgroup>0825</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>36</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20180801</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>36</main-group><subgroup>305</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">COMMUNICATION METHOD AND APPARATUS</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2021/081089</doc-number><date>20210316</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17941596</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="obligated-assignee"><addressbook><orgname>HUAWEI TECHNOLOGIES CO., LTD.</orgname><address><city>Shenzhen</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>SHI</last-name><first-name>Xiaoli</first-name><address><city>Shanghai</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>YOU</last-name><first-name>Chunhua</first-name><address><city>Shanghai</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>WANG</last-name><first-name>Jun</first-name><address><city>Shanghai</city><country>CN</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">This application provides a communication method and apparatus. In an example method, when a first access network device performs unsuccessful listen before talk (LBT) for channel detection on an unlicensed channel, the first access network device sends first indication information to a second access network device. The first indication information indicates that the first access network device performs unsuccessful LBT for channel detection on the unlicensed channel.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="133.18mm" wi="156.13mm" file="US20230007694A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="216.32mm" wi="120.40mm" file="US20230007694A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="147.15mm" wi="147.24mm" file="US20230007694A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="199.90mm" wi="160.19mm" file="US20230007694A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="117.60mm" wi="159.34mm" file="US20230007694A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="145.63mm" wi="158.16mm" file="US20230007694A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="127.51mm" wi="146.64mm" file="US20230007694A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="182.46mm" wi="157.65mm" file="US20230007694A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="180.26mm" wi="158.58mm" file="US20230007694A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="134.79mm" wi="158.67mm" file="US20230007694A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="177.72mm" wi="158.58mm" file="US20230007694A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="182.63mm" wi="158.24mm" file="US20230007694A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="144.27mm" wi="158.67mm" file="US20230007694A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="172.97mm" wi="156.13mm" file="US20230007694A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="185.00mm" wi="158.50mm" file="US20230007694A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="132.33mm" wi="158.83mm" file="US20230007694A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation of International Application No. PCT/CN2021/081089, filed on Mar. 16, 2021, which claims priority to Chinese Patent Application No. 202010198379.7, filed on Mar. 19, 2020. The disclosures of the aforementioned applications are hereby incorporated by reference in their entireties.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">This application relates to the communication field, and more particular, to a communication method and apparatus.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">In a communication system, data transmission may be performed on unlicensed spectrums in the case of insufficient licensed spectrums for offloading for the licensed spectrums, obtaining better coverage and larger capacities, and achieving smoother user experience. On the unlicensed spectrums, a listen before talk (LBT) process needs to be followed, to avoid mutual interference between neighboring communication devices.</p><p id="p-0005" num="0004">Currently, the wireless communication system supports inter-cell handover between unlicensed spectrum cells or between an unlicensed spectrum cell and a licensed spectrum cell. In this case, in a signaling and data transmission process, LBT needs to be performed on cells using the unlicensed spectrums. In an LBT execution process, unsuccessful LBT may occur, meaning that no suitable channel is found for data transmission.</p><p id="p-0006" num="0005">However, in the case of a handover failure, an access network device can only determine, based on a radio link failure report, whether a handover is delayed or premature, or whether a wrong cell is handed over to, and cannot determine whether the handover failure is caused due to unsuccessful LBT. Therefore, in the case of using unlicensed spectrums, how to determine a cause for a handover failure is an urgent problem to be resolved.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0007" num="0006">This application provides a communication method and apparatus, to identify a mobility problem arising from unsuccessful LBT, and distinguish it from a conventional mobility problem.</p><p id="p-0008" num="0007">According to a first aspect, a communication method is provided. The method is performed by a first access network device or a component (for example, a chip or a circuit) that can be configured in the first terminal device. An example in which the method is performed by the first access network device is used below for description.</p><p id="p-0009" num="0008">In the method, the first access network device receives a random access request sent by a terminal device, and then the first access network device performs unsuccessful listen before talk (LBT) for channel detection on an unlicensed channel. Subsequently, the first access network device sends first indication information to a second access network device, where the first indication information indicates that the first access network device performs unsuccessful LBT for channel detection on the unlicensed channel.</p><p id="p-0010" num="0009">The method may be applied to a scenario in which the terminal device is handed over from the second access network device to the first access network device. For example, the terminal device may be UE, the second access network device may be a source gNB, and the first access network device may be a target gNB.</p><p id="p-0011" num="0010">For example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. When the UE fails to perform random access to the target gNB due to unsuccessful LBT performed by the target gNB for channel detection on an unlicensed channel, the target gNB may send, to the source gNB, indication information indicating unsuccessful LBT, so that the source gNB can perform cause analysis for the handover failure based on the indication information. Therefore, in this embodiment of this application, a mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0012" num="0011">In some embodiments, for example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. After receiving a random access request (that is, an msg1) sent by the UE, the target gNB checks LBT on an unlicensed channel, and performs unsuccessful LBT for channel detection on the unlicensed channel. In this case, the unlicensed channel cannot be used by the target gNB to send the msg2 to the UE. In other words, the target gNB cannot obtain an unlicensed resource for sending the msg2. To be specific, the target gNB performs unsuccessful LBT when attempting to send, on the unlicensed channel, the msg2 to the UE, and consequently, the msg2 fails to be sent.</p><p id="p-0013" num="0012">In some embodiments, for example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. After receiving a random access request (that is, an msg1) sent by the UE, when checking LBT on an unlicensed channel and performing successful LBT for channel detection on the unlicensed channel, the target gNB may send an msg2 to the UE on the unlicensed channel. Subsequently, the target gNB receives an msg3 sent by the UE. In this case, the target gNB may check LBT on the unlicensed channel again, and perform unsuccessful LBT for channel detection on the unlicensed channel. In this case, the unlicensed channel cannot be used by the target gNB to send an msg4 to the UE. In other words, the target gNB cannot obtain an unlicensed resource for sending an msg4. To be specific, the target gNB performs unsuccessful LBT when attempting to send, on the unlicensed channel, the msg4 to the UE, and consequently, the msg4 fails to be sent.</p><p id="p-0014" num="0013">With reference to the first aspect, in some implementations of the first aspect, before performing unsuccessful listen before talk (LBT) for channel detection on the unlicensed channel, the first access network device may further receive a handover request from the second access network device. The handover request requests the terminal device to hand over from the second access network device to the first access network device.</p><p id="p-0015" num="0014">In response to the handover request, the first access network device sends a handover response to the second access network device and starts a timer corresponding to the terminal device, where the timer is used by the first access network device to identify the terminal device.</p><p id="p-0016" num="0015">In this way, when sending a handover request acknowledgment, the first access network device starts the timer corresponding to the terminal device for handover. When the timer expires, the first access network device can determine that the terminal device fails in random access.</p><p id="p-0017" num="0016">With reference to the first aspect, in some implementations of the first aspect, before the first access network device performs unsuccessful listen before talk (LBT) for channel detection on the unlicensed channel, the method further includes:</p><p id="p-0018" num="0017">The first access network device receives fourth indication information from the second access network device, where the fourth indication information indicates the first access network device to start a timer corresponding to the terminal device, and the timer is used by the first access network device to identify the terminal device.</p><p id="p-0019" num="0018">The first access network device starts the timer based on the fourth indication information.</p><p id="p-0020" num="0019">In this way, the first access network device starts, based on the fourth indication information received from the second access network device, the timer corresponding to the terminal device for handover. When the timer expires, the first access network device can determine that the terminal device fails in random access.</p><p id="p-0021" num="0020">With reference to the first aspect, in some implementations of the first aspect, the first indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0022" num="0021">According to a second aspect, a communication method is provided. The method is performed by a second access network device or a component (for example, a chip or a circuit) that can be configured in the second access network device. An example in which the method is performed by the second access network device is used below for description.</p><p id="p-0023" num="0022">In the method, the second access network device receives first indication information sent by a first access network device, where the first indication information indicates that the first access network device performs unsuccessful listen before talk (LBT) for channel detection on an unlicensed channel. Subsequently, the second access network device determines, based on the first indication information, a cause for a mobility problem arising from handover of a terminal device from the second access network device to the first access network device.</p><p id="p-0024" num="0023">The method may be applied to a scenario in which the terminal device is handed over from the second access network device to the first access network device. For example, the terminal device may be UE, the second access network device may be a source gNB, and the first access network device may be a target gNB.</p><p id="p-0025" num="0024">For example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. When the UE fails to perform random access to the target gNB due to unsuccessful LBT performed by the target gNB for channel detection on an unlicensed channel, the target gNB may send, to the source gNB, indication information indicating unsuccessful LBT, so that the source gNB can perform cause analysis for the handover failure based on the indication information. Therefore, in this embodiment of this application, a mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0026" num="0025">With reference to the second aspect, in some implementations of the second aspect, before the second access network device receives the first indication information sent by the first access network device, the method further includes:</p><p id="p-0027" num="0026">The second access network device sends fourth indication information to the first access network device, where the fourth indication information indicates the first access network device to start a timer corresponding to the terminal device, and the timer is used by the first access network device to identify the terminal device.</p><p id="p-0028" num="0027">In this way, the fourth indication information is sent to the first access network device, to indicate the first access network device to start the timer corresponding to the terminal device for handover. When the timer expires, the first access network can determine that the terminal device fails in random access.</p><p id="p-0029" num="0028">With reference to the second aspect, in some implementations of the second aspect, the first indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0030" num="0029">According to a third aspect, a communication method is provided. The method is performed by a terminal device or a component (for example, a chip or a circuit) that can be configured in the terminal device. An example in which the method is performed by the terminal device is used below for description.</p><p id="p-0031" num="0030">In the method, the terminal device performs unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel, and then performs successful LBT for channel detection on a second unlicensed channel. Subsequently, the terminal device sends, on the second unlicensed channel, a request message to a first access network device. The terminal device sends second indication information to the first access network device, where the second indication information indicates that the terminal device performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0032" num="0031">The method may be applied to a scenario in which the terminal device is handed over from a second access network device to the first access network device. For example, the terminal device may be UE, the second access network device may be a source gNB, and the first access network device may be a target gNB.</p><p id="p-0033" num="0032">For example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. In a case that the UE performs unsuccessful LBT for channel detection on an unlicensed channel but finally performs successful LBT, a random access delay is large although the UE successfully performs random access to the target gNB. In this case, the UE may send, to the target gNB, indication information indicating unsuccessful LBT, so that the target gNB can perform cause analysis for a mobility problem based on the indication information. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter</p><p id="p-0034" num="0033">In some embodiments, for example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. After receiving a handover command sent by the source gNB, the UE checks LBT on the first unlicensed channel, and performs unsuccessful LBT for channel detection on the first unlicensed channel. Subsequently, the UE continues to check LBT on the second unlicensed channel, and performs successful LBT for channel detection on the second unlicensed channel. In this case, the second unlicensed channel can be used by the UE to send a random access request (that is, an msg1) to the target gNB. In other words, the UE obtains, on the second unlicensed channel, the unlicensed resource for sending the random access request. Subsequently, the UE successfully sends, on the second unlicensed channel, the random access request to the target gNB.</p><p id="p-0035" num="0034">In some embodiments, for example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. After receiving an msg2 sent by the target gNB, the UE may check LBT on a first unlicensed channel, and performs unsuccessful LBT for channel detection on the first unlicensed channel. Subsequently, the UE continues to check LBT on the second unlicensed channel, and performs successful LBT for channel detection on the second unlicensed channel. In this case, the second unlicensed channel can be used by the UE to send an msg3 to the target gNB. In other words, the UE obtains, on the second unlicensed channel, the unlicensed resource for sending the msg3. Subsequently, the UE successfully sends, on the second unlicensed channel, the msg3 to the target gNB.</p><p id="p-0036" num="0035">It should be noted that, in a case that the UE has performed unsuccessful LBT for channel detection on the unlicensed channel but finally performs successful LBT on the unlicensed channel, a delay in the random access procedure is increased although a random access procedure between the UE and the target gNB is successful, resulting in a mobility problem.</p><p id="p-0037" num="0036">With reference to the third aspect, in some implementations of the third aspect, that the terminal device sends the second indication information to the first access network device includes.</p><p id="p-0038" num="0037">The terminal device sends a successful handover report to the first access network device, where the successful handover report indicates that the terminal device is successfully handed over to the first access network device, and the successful handover report includes the second indication information.</p><p id="p-0039" num="0038">In this way, the second indication information may be sent to the first access network device via the existing successful handover report that includes the second indication information.</p><p id="p-0040" num="0039">With reference to the third aspect, in some implementations of the third aspect, the successful handover report further includes at least one of the following:</p><p id="p-0041" num="0040">a period of time from a moment at which the terminal device starts to perform channel detection on the first unlicensed channel to a moment at which the terminal device performs successful LBT on the second unlicensed channel;</p><p id="p-0042" num="0041">information about a moment at which the terminal device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0043" num="0042">a period of time from a moment at which the terminal device receives a handover command to a moment at which the terminal device starts to check LBT on the first unlicensed channel;</p><p id="p-0044" num="0043">a period of time from a moment at which the terminal device receives a handover command to a moment at which the terminal device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0045" num="0044">a period of time from a moment at which the terminal device starts to check LBT on the first unlicensed channel to a moment at which the terminal device performs unsuccessful LBT;</p><p id="p-0046" num="0045">a period of time from a moment at which the terminal device performs unsuccessful LBT to a moment at which the terminal device performs successful LBT;</p><p id="p-0047" num="0046">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the terminal device starts to perform channel detection on the first unlicensed channel to a moment at which the terminal device performs successful LBT on the second unlicensed channel; and</p><p id="p-0048" num="0047">channel occupation information.</p><p id="p-0049" num="0048">With reference to the third aspect, in some implementations of the third aspect, the second indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0050" num="0049">According to a fourth aspect, a communication method is provided. The method is performed by a first access network device or a component (for example, a chip or a circuit) that can be configured in the first access network device. An example in which the method is performed by the first access network device is used below for description.</p><p id="p-0051" num="0050">In the method, the first access network device receives a request message sent on a second unlicensed channel by a terminal device. Subsequently, the first access network device receives second indication information sent by the terminal device, where the second indication information indicates that the terminal device performs unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT. Then, the first access network device determines, based on the second indication information, a cause for a mobility problem arising from handover of the terminal device from a second access network device to the first access network device.</p><p id="p-0052" num="0051">The method may be applied to a scenario in which the terminal device is handed over from the second access network device to the first access network device. For example, the terminal device may be UE, the second access network device may be a source gNB, and the first access network device may be a target gNB.</p><p id="p-0053" num="0052">For example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. In a case that the UE performs unsuccessful LBT for channel detection on an unlicensed channel but finally performs successful LBT, a random access delay is large although the UE successfully performs random access to the target gNB. In this case, the UE may send, to the target gNB, indication information indicating unsuccessful LBT, so that the target gNB can perform cause analysis for a mobility problem based on the indication information. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0054" num="0053">With reference to the fourth aspect, in some implementations of the fourth aspect, that the first access network device receives the second indication information sent by the terminal device includes.</p><p id="p-0055" num="0054">The first access network device receives a successful handover report sent by the terminal device, where the successful handover report indicates that the terminal device is successfully handed over to the first access network device, and the successful handover report includes the second indication information.</p><p id="p-0056" num="0055">In this way, the second indication information may be sent to the first access network device via the existing successful handover report that includes the second indication information.</p><p id="p-0057" num="0056">With reference to the fourth aspect, in some implementations of the fourth aspect, the successful handover report further includes at least one of the following:</p><p id="p-0058" num="0057">a period of time from a moment at which the terminal device starts to perform channel detection on the first unlicensed channel to a moment at which the terminal device performs successful LBT on the second unlicensed channel;</p><p id="p-0059" num="0058">information about a moment at which the terminal device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0060" num="0059">a period of time from a moment at which the terminal device receives a handover command to a moment at which the terminal device starts to check LBT on the first unlicensed channel;</p><p id="p-0061" num="0060">a period of time from a moment at which the terminal device receives a handover command to a moment at which the terminal device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0062" num="0061">a period of time from a moment at which the terminal device starts to check LBT on the first unlicensed channel to a moment at which the terminal device performs unsuccessful LBT;</p><p id="p-0063" num="0062">a period of time from a moment at which the terminal device performs unsuccessful LBT to a moment at which the terminal device performs successful LBT;</p><p id="p-0064" num="0063">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the terminal device starts to perform channel detection on the first unlicensed channel to a moment at which the terminal device performs successful LBT on the second unlicensed channel; and</p><p id="p-0065" num="0064">channel occupation information.</p><p id="p-0066" num="0065">With reference to the fourth aspect, in some implementations of the fourth aspect, the second indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0067" num="0066">According to a fifth aspect, a communication method is provided. The method is performed by a second access network device or a component (for example, a chip or a circuit) that can be configured in the second access network device. An example in which the method is performed by the second access network device is used below for description.</p><p id="p-0068" num="0067">In the method, the second access network device performs unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel, and then performs successful LBT for channel detection on a second unlicensed channel. Subsequently, the second access network device sends, on the second unlicensed channel, a handover command to a terminal device. Then, the second access network device sends third indication information to a first access network device, where the third indication information indicates that the terminal device performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0069" num="0068">The method may be applied to a scenario in which the terminal device is handed over from the second access network device to the first access network device. For example, the terminal device may be UE, the second access network device may be a source gNB, and the first access network device may be a target gNB.</p><p id="p-0070" num="0069">For example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. In a case that the source gNB performs unsuccessful LBT for channel detection on an unlicensed channel but finally performs successful LBT, a delay in a handover process is large although the source gNB successfully sends a handover command. In this case, the source gNB may send, to the target gNB, indication information indicating unsuccessful LBT, for cause analysis for a mobility problem. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0071" num="0070">In some embodiments, for example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. After receiving a handover request acknowledgment sent by the target gNB, the source gNB checks LBT on the first unlicensed channel, and performs unsuccessful LBT for channel detection on the first unlicensed channel. Subsequently, the source gNB continues to check LBT on the second unlicensed channel, and performs successful LBT for channel detection on the second unlicensed channel. In this case, the second unlicensed channel can be used by the source gNB to send the handover command to the UE. In other words, the source gNB obtains the unlicensed resource for sending the handover command to the UE.</p><p id="p-0072" num="0071">With reference to the fifth aspect, in some implementations of the fifth aspect, the third indication information includes:</p><p id="p-0073" num="0072">a period of time from a moment at which the second access network device starts to perform channel detection on the first unlicensed channel to a moment at which the second access network device performs successful LBT on the second unlicensed channel;</p><p id="p-0074" num="0073">information about a moment at which the second access network device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0075" num="0074">a period of time from a moment at which the second access network device starts to check LBT on the first unlicensed channel to a moment at which the second access network device performs unsuccessful LBT;</p><p id="p-0076" num="0075">a period of time from a moment at which the second access network device performs unsuccessful LBT to a moment at which the second access network device successfully sends a handover command;</p><p id="p-0077" num="0076">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the second access network device starts to perform channel detection on the first unlicensed channel to a moment at which the second access network device performs successful LBT on the second unlicensed channel; and</p><p id="p-0078" num="0077">channel occupation information.</p><p id="p-0079" num="0078">With reference to the fifth aspect, in some implementations of the fifth aspect, the third indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0080" num="0079">According to a sixth aspect, a communication method is provided. The method is performed by a first access network device or a component (for example, a chip or a circuit) that can be configured in the first access network device. An example in which the method is performed by the first access network device is used below for description.</p><p id="p-0081" num="0080">In the method, the first access network device receives third indication information from a second access network device, where the third indication information indicates that a terminal device performs unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel before performing channel detection on a second unlicensed channel and performing successful LBT. Subsequently, the first access network device determines, based on the third indication information, a cause for a mobility problem arising from handover of the terminal device from the second access network device to the first access network device.</p><p id="p-0082" num="0081">The method may be applied to a scenario in which the terminal device is handed over from the second access network device to the first access network device. For example, the terminal device may be UE, the second access network device may be a source gNB, and the first access network device may be a target gNB.</p><p id="p-0083" num="0082">For example, the terminal device may be the UE, the second access network device may be the source gNB, and the first access network device may be the target gNB. In a case that the source gNB performs unsuccessful LBT for channel detection on an unlicensed channel but finally performs successful LBT, a delay in a handover process is large although the source gNB successfully sends a handover command. In this case, the source gNB may send, to the target gNB, indication information indicating unsuccessful LBT, for cause analysis for a mobility problem. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0084" num="0083">With reference to the sixth aspect, in some implementations of the sixth aspect, the third indication information includes:</p><p id="p-0085" num="0084">a period of time from a moment at which the second access network device starts to perform channel detection on the first unlicensed channel to a moment at which the second access network device performs successful LBT on the second unlicensed channel;</p><p id="p-0086" num="0085">information about a moment at which the second access network device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0087" num="0086">a period of time from a moment at which the second access network device starts to check LBT on the first unlicensed channel to a moment at which the second access network device performs unsuccessful LBT;</p><p id="p-0088" num="0087">a period of time from a moment at which the second access network device performs unsuccessful LBT to a moment at which the second access network device successfully sends a handover command;</p><p id="p-0089" num="0088">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the second access network device starts to perform channel detection on the first unlicensed channel to a moment at which the second access network device performs successful LBT on the second unlicensed channel; and</p><p id="p-0090" num="0089">channel occupation information.</p><p id="p-0091" num="0090">With reference to the sixth aspect, in some implementations of the sixth aspect, the third indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0092" num="0091">According to a seventh aspect, an embodiment of this application provides a communication apparatus, configured to perform the method in the first aspect or any possible implementation of the first aspect. Specifically, the apparatus includes units or modules configured to perform the method in the first aspect or any possible implementation of the first aspect, for example, a transceiver unit and a processing unit.</p><p id="p-0093" num="0092">The transceiver unit is configured to receive a random access request sent by a terminal device.</p><p id="p-0094" num="0093">The processing unit is configured to perform unsuccessful listen before talk (LBT) for channel detection on an unlicensed channel.</p><p id="p-0095" num="0094">The transceiver unit is further configured to send first indication information to a second access network device, where the first indication information indicates that a first access network device performs unsuccessful LBT for channel detection on the unlicensed channel.</p><p id="p-0096" num="0095">Optionally, before the processing unit performs unsuccessful listen before talk (LBT) for channel detection on the unlicensed channel, the transceiver unit is further configured to receive a handover request from the second access network device, where the handover request requests the terminal device to hand over from the second access network device to the first access network device.</p><p id="p-0097" num="0096">In response to the handover request, the transceiver unit is further configured to send a handover response to the second access network device, and the processing unit is further configured to start a timer corresponding to the terminal device, where the timer is used by the first access network device to identify the terminal device.</p><p id="p-0098" num="0097">Optionally, before the processing unit performs unsuccessful listen before talk (LBT) for channel detection on the unlicensed channel, the transceiver unit is further configured to receive fourth indication information from the second access network device, where the fourth indication information indicates the first access network device to start the timer corresponding to the terminal device, and the timer is used by the first access network device to identify the terminal device.</p><p id="p-0099" num="0098">The processing unit is further configured to start the timer based on the fourth indication information.</p><p id="p-0100" num="0099">Optionally, the first indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0101" num="0100">According to an eighth aspect, an embodiment of this application provides a communication apparatus, configured to perform the method in the second aspect or any possible implementation of the second aspect. Specifically, the apparatus includes units or modules configured to perform the method in the second aspect or any possible implementation of the second aspect, for example, a transceiver unit and a processing unit.</p><p id="p-0102" num="0101">The transceiver unit is configured to receive first indication information sent by a first access network device, where the first indication information indicates that the first access network device performs unsuccessful listen before talk (LBT) for channel detection on an unlicensed channel.</p><p id="p-0103" num="0102">The processing unit is configured to determine, based on the first indication information, a cause for a mobility problem arising from handover of a terminal device from a second access network device to the first access network device.</p><p id="p-0104" num="0103">Optionally, before receiving the first indication information sent by the first access network device, the transceiver unit is further configured to send fourth indication information to the first access network device, where the fourth indication information indicates the first access network device to start a timer corresponding to the terminal device, and the timer is used by the first access network device to identify the terminal device.</p><p id="p-0105" num="0104">Optionally, the first indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0106" num="0105">According to a ninth aspect, an embodiment of this application provides a communication apparatus, configured to perform the method in the third aspect or any possible implementation of the third aspect. Specifically, the apparatus includes units or modules configured to perform the method in the third aspect or any possible implementation of the third aspect, for example, a transceiver unit and a processing unit.</p><p id="p-0107" num="0106">The processing unit is configured to perform unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel, and perform successful LBT for channel detection on a second unlicensed channel.</p><p id="p-0108" num="0107">The transceiver unit is configured to send, on the second unlicensed channel, a request message to a first access network device.</p><p id="p-0109" num="0108">The transceiver unit is further configured to send second indication information to the first access network device, where the second indication information indicates that a terminal device performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0110" num="0109">Optionally, the transceiver unit is specifically configured to send a successful handover report to the first access network device, where the successful handover report indicates that the terminal device is successfully handed over to the first access network device, and the successful handover report includes the second indication information.</p><p id="p-0111" num="0110">Optionally, the successful handover report further includes at least one of the following:</p><p id="p-0112" num="0111">a period of time from a moment at which channel detection starts to be performed on the first unlicensed channel to a moment at which successful LBT is performed on the second unlicensed channel;</p><p id="p-0113" num="0112">information about a moment at which unsuccessful LBT is performed on the first unlicensed channel;</p><p id="p-0114" num="0113">a period of time from a moment at which a handover command is received to a moment at which LBT starts to be checked on the first unlicensed channel;</p><p id="p-0115" num="0114">a period of time from a moment at which a handover command is received to a moment at which unsuccessful LBT is performed on the first unlicensed channel;</p><p id="p-0116" num="0115">a period of time from a moment at which LBT starts to be checked on the first unlicensed channel to a moment at which unsuccessful LBT is performed;</p><p id="p-0117" num="0116">a period of time from a moment at which unsuccessful LBT is performed to a moment at which successful LBT is performed;</p><p id="p-0118" num="0117">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which channel detection starts to be performed on the first unlicensed channel to a moment at which successful LBT is performed on the second unlicensed channel; and</p><p id="p-0119" num="0118">channel occupation information.</p><p id="p-0120" num="0119">Optionally, the second indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0121" num="0120">Optionally, the request message includes a message 1 or a message 3 in a random access procedure.</p><p id="p-0122" num="0121">According to a tenth aspect, an embodiment of this application provides a communication apparatus, configured to perform the method in the fourth aspect or any possible implementation of the fourth aspect. Specifically, the apparatus includes units or modules configured to perform the method in the fourth aspect or any possible implementation of the fourth aspect, for example, a transceiver unit and a processing unit.</p><p id="p-0123" num="0122">The transceiver unit is configured to receive a request message sent on a second unlicensed channel by a terminal device.</p><p id="p-0124" num="0123">The transceiver unit is further configured to receive second indication information sent by the terminal device, where the second indication information indicates that the terminal device performs unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0125" num="0124">The processing unit is configured to determine, based on the second indication information, a cause for a mobility problem arising from handover of the terminal device from a second access network device to the first access network device.</p><p id="p-0126" num="0125">Optionally, the transceiver unit is specifically configured to receive a successful handover report sent by the terminal device, where the successful handover report indicates that the terminal device is successfully handed over to the first access network device, and the successful handover report includes the second indication information.</p><p id="p-0127" num="0126">Optionally, the successful handover report further includes at least one of the following:</p><p id="p-0128" num="0127">a period of time from a moment at which the terminal device starts to perform channel detection on the first unlicensed channel to a moment at which the terminal device performs successful LBT on the second unlicensed channel;</p><p id="p-0129" num="0128">information about a moment at which the terminal device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0130" num="0129">a period of time from a moment at which the terminal device receives a handover command to a moment at which the terminal device starts to check LBT on the first unlicensed channel;</p><p id="p-0131" num="0130">a period of time from a moment at which the terminal device receives a handover command to a moment at which the terminal device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0132" num="0131">a period of time from a moment at which the terminal device starts to check LBT on the first unlicensed channel to a moment at which the terminal device performs unsuccessful LBT;</p><p id="p-0133" num="0132">a period of time from a moment at which the terminal device performs unsuccessful LBT to a moment at which the terminal device performs successful LBT;</p><p id="p-0134" num="0133">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the terminal device starts to perform channel detection on the first unlicensed channel to a moment at which the terminal device performs successful LBT on the second unlicensed channel; and</p><p id="p-0135" num="0134">channel occupation information.</p><p id="p-0136" num="0135">Optionally, the second indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0137" num="0136">Optionally, the request message includes a message 1 or a message 3 in a random access procedure.</p><p id="p-0138" num="0137">According to an eleventh aspect, an embodiment of this application provides a communication apparatus, configured to perform the method in the fifth aspect or any possible implementation of the fifth aspect. Specifically, the apparatus includes units or modules configured to perform the method in the fifth aspect or any possible implementation of the fifth aspect, for example, a transceiver unit and a processing unit.</p><p id="p-0139" num="0138">The processing unit is configured to perform unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel, and perform successful LBT for channel detection on a second unlicensed channel.</p><p id="p-0140" num="0139">The transceiver unit is configured to send, on the second unlicensed channel, a handover command to a terminal device.</p><p id="p-0141" num="0140">The transceiver unit is further configured to send third indication information to a first access network device, where the third indication information indicates that the terminal device performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0142" num="0141">Optionally, the third indication information includes:</p><p id="p-0143" num="0142">a period of time from a moment at which channel detection starts to be performed on the first unlicensed channel to a moment at which successful LBT is performed on the second unlicensed channel;</p><p id="p-0144" num="0143">information about a moment at which unsuccessful LBT is performed on the first unlicensed channel;</p><p id="p-0145" num="0144">a period of time from a moment at which LBT starts to be checked on the first unlicensed channel to a moment at which unsuccessful LBT is performed;</p><p id="p-0146" num="0145">a period of time from a moment at which unsuccessful LBT is performed to a moment at which a handover command is successfully sent;</p><p id="p-0147" num="0146">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which channel detection starts to be performed on the first unlicensed channel to a moment at which successful LBT is performed on the second unlicensed channel; and channel occupation information.</p><p id="p-0148" num="0147">Optionally, the third indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0149" num="0148">According to a twelfth aspect, an embodiment of this application provides a communication apparatus, configured to perform the method in the sixth aspect or any possible implementation of the sixth aspect. Specifically, the apparatus includes units or modules configured to perform the method in the sixth aspect or any possible implementation of the sixth aspect, for example, a transceiver unit and a processing unit.</p><p id="p-0150" num="0149">The transceiver unit is configured to receive third indication information from a second access network device, where the third indication information indicates that a terminal device performs unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel before performing channel detection on a second unlicensed channel and performing successful LBT.</p><p id="p-0151" num="0150">The processing unit is configured to determine, based on the third indication information, a cause for a mobility problem arising from handover of the terminal device from the second access network device to a first access network device.</p><p id="p-0152" num="0151">Optionally, the third indication information includes:</p><p id="p-0153" num="0152">a period of time from a moment at which the second access network device starts to perform channel detection on the first unlicensed channel to a moment at which the second access network device performs successful LBT on the second unlicensed channel;</p><p id="p-0154" num="0153">information about a moment at which the second access network device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0155" num="0154">a period of time from a moment at which the second access network device starts to check LBT on the first unlicensed channel to a moment at which the second access network device performs unsuccessful LBT;</p><p id="p-0156" num="0155">a period of time from a moment at which the second access network device performs unsuccessful LBT to a moment at which the second access network device successfully sends a handover command;</p><p id="p-0157" num="0156">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the second access network device starts to perform channel detection on the first unlicensed channel to a moment at which the second access network device performs successful LBT on the second unlicensed channel; and</p><p id="p-0158" num="0157">channel occupation information.</p><p id="p-0159" num="0158">Optionally, the third indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0160" num="0159">According to a thirteenth aspect, an embodiment of this application provides a communication apparatus, including a processor and a transceiver. Optionally, the apparatus may further include a memory. The memory is configured to store instructions, and the processor is configured to execute the instructions stored in the memory. When the processor executes the instructions stored in the memory, the processor is enabled to perform the method in any one of the first aspect to the sixth aspect or the possible implementations of the first aspect to the sixth aspect.</p><p id="p-0161" num="0160">According to a fourteenth aspect, an embodiment of this application provides a computer-readable medium, configured to store a computer program. The computer program includes instructions used to perform the method in any one of the first aspect to the sixth aspect or the possible implementations of the first aspect to the sixth aspect.</p><p id="p-0162" num="0161">According to a fifteenth aspect, an embodiment of this application further provides a computer program product including instructions. When the computer program product runs on a computer, the computer is enabled to perform the method in any one of the first aspect to the sixth aspect or the possible implementations of the first aspect to the sixth aspect.</p><p id="p-0163" num="0162">According to a sixteenth aspect, a chip is provided. The chip includes a processor and a communication interface. The processor is configured to invoke instructions from the communication interface and run the instructions. When the processor executes the instructions, the method in any one of the first aspect to the sixth aspect or the possible implementations of the first aspect to the sixth aspect is implemented.</p><p id="p-0164" num="0163">Optionally, the chip may further include a memory. The memory stores instructions. The processor is configured to execute the instructions stored in the memory or instructions from another module. When the instructions are executed, the processor is configured to implement the method in any one of the first aspect to the sixth aspect or the possible implementations of the first aspect to the sixth aspect.</p><p id="p-0165" num="0164">According to a seventeenth aspect, a communication system is provided. The communication system includes an apparatus with functions for implementing the methods and possible designs in the first aspect, and an apparatus with functions for implementing the methods and possible designs in the second aspect.</p><p id="p-0166" num="0165">According to an eighteenth aspect, a communication system is provided. The communication system includes an apparatus with functions for implementing the methods and possible designs in the third aspect, and an apparatus with functions for implementing the methods and possible designs in the fourth aspect.</p><p id="p-0167" num="0166">According to a nineteenth aspect, a communication system is provided. The communication system includes an apparatus with functions for implementing the methods and possible designs in the fifth aspect, and an apparatus with functions for implementing the methods and possible designs in the sixth aspect.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0168" num="0167"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram of a communication system applicable to an embodiment of this application;</p><p id="p-0169" num="0168"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is another schematic diagram of a communication system applicable to an embodiment of this application;</p><p id="p-0170" num="0169"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is another schematic diagram of a communication system applicable to an embodiment of this application;</p><p id="p-0171" num="0170"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of a scenario in which a handover is delayed;</p><p id="p-0172" num="0171"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic diagram of a scenario in which a handover is premature;</p><p id="p-0173" num="0172"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of another scenario in which a handover is premature;</p><p id="p-0174" num="0173"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of a scenario in which a wrong cell is handed over to;</p><p id="p-0175" num="0174"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a schematic diagram of another scenario in which a wrong cell is handed over to;</p><p id="p-0176" num="0175"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows an example process in which UE is handed over between NR unlicensed spectrum cells;</p><p id="p-0177" num="0176"><figref idref="DRAWINGS">FIG. <b>10</b>A</figref> is a schematic flowchart of a communication method according to an embodiment of this application;</p><p id="p-0178" num="0177"><figref idref="DRAWINGS">FIG. <b>10</b>B</figref> is a schematic flowchart of another communication method according to an embodiment of this application;</p><p id="p-0179" num="0178"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a schematic flowchart of another communication method according to an embodiment of this application;</p><p id="p-0180" num="0179"><figref idref="DRAWINGS">FIG. <b>12</b>A</figref> is a schematic flowchart of another communication method according to an embodiment of this application;</p><p id="p-0181" num="0180"><figref idref="DRAWINGS">FIG. <b>12</b>B</figref> is a schematic flowchart of another communication method according to an embodiment of this application;</p><p id="p-0182" num="0181"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a schematic flowchart of another communication method according to an embodiment of this application;</p><p id="p-0183" num="0182"><figref idref="DRAWINGS">FIG. <b>14</b>A</figref> is a schematic flowchart of another communication method according to an embodiment of this application;</p><p id="p-0184" num="0183"><figref idref="DRAWINGS">FIG. <b>14</b>B</figref> is a schematic flowchart of another communication method according to an embodiment of this application;</p><p id="p-0185" num="0184"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a schematic diagram of a wireless communication apparatus according to an embodiment of this application;</p><p id="p-0186" num="0185"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a schematic diagram of a structure of a terminal device according to this application; and</p><p id="p-0187" num="0186"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a schematic diagram of a structure of a network device according to an embodiment of this application.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DESCRIPTION OF EMBODIMENTS</heading><p id="p-0188" num="0187">The following describes technical solutions of this application with reference to accompanying drawings.</p><p id="p-0189" num="0188">The technical solutions in embodiments of this application may be used in various communication systems, for example, a long term evolution (LTE) system, an LTE frequency division duplex (FDD) system, an LTE time division duplex (TDD) system, a universal mobile telecommunications system (UMTS), a 5th generation (5G) system, new radio (NR), or another evolved communication system.</p><p id="p-0190" num="0189"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram of a communication system applicable to an embodiment of this application. As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the communication system may include at least one access network device, for example, an access network device <b>110</b> shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The communication system may further include at least one terminal device, for example, a terminal device <b>120</b> shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The access network device <b>110</b> may communicate with the terminal device <b>120</b> over a radio link.</p><p id="p-0191" num="0190"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is another schematic diagram of a communication system applicable to an embodiment of this application. As shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the communication system may include at least two access network devices, for example, access network devices <b>210</b> and <b>220</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. The communication system may further include at least one terminal device, for example, a terminal device <b>230</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. The terminal device <b>230</b> may establish a radio link to the access network device <b>210</b> and the access network device <b>220</b> using a dual connectivity (DC) technology or a multi-connectivity technology. The access network device <b>210</b> may be, for example, a primary base station, and the access network device <b>220</b> may be, for example, a secondary base station. In this case, the access network device <b>210</b> is a network device initially accessed by the terminal device <b>230</b>, and is responsible for radio resource control (RRC) communication with the terminal device <b>230</b>. The access network device <b>220</b> may be added during RRC reconfiguration for provision of additional radio resources.</p><p id="p-0192" num="0191">Alternatively, the access network device <b>220</b> may be a primary base station, and the access network device <b>210</b> may be a secondary base station. This is not limited in this application. In addition, for ease of understanding only, the figure shows a case in which the two access network devices are wirelessly connected to the terminal device. However, this should not constitute any limitation on a scenario to which this application is applicable. The terminal device may further establish a radio link with more access network devices.</p><p id="p-0193" num="0192">In embodiments of this application, the primary base station and the secondary base station may be base stations of a same radio access type (RAT), or may be base stations of different RATs. This is not limited in embodiments of this application.</p><p id="p-0194" num="0193"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows an example of a 5G wireless communication system. As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, an overall architecture of the 5G wireless communication system (also referred to as a 5G system, a 5GS, or the like) includes a 5G core network (also referred to as a 5G Core, a 5GCN, or a 5GC) and an NG access network (radio access network, RAN). The NG-RAN may also be referred to as a 5G-RAN.</p><p id="p-0195" num="0194">For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the NG-RAN includes two types of RAN nodes (RAN node): a gNB and a ng-eNB. The gNB provides terminations of new radio (NR) user plane and control plane protocol stacks for the terminal device. The ng-eNB provides terminations of evolved universal terrestrial radio access (E-UTRA) user plane and control plane protocol stacks for the terminal device. Data transmission is performed between the 5GC and an access device (for example, a gNB or a ng-eNB) in the NG-RAN through an NG interface. Data transmission can be performed between gNBs, between a gNB and a ng-eNB, or between ng-eNBs through Xn interfaces.</p><p id="p-0196" num="0195"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is an example of a schematic diagram of a network architecture. However, this embodiment of this application is not limited thereto. For example, the 5GC may further include more core network devices, and the NG-RAN may further include a base station using another access technology.</p><p id="p-0197" num="0196">A plurality of antennas may be configured for each communication device, for example, the access network device <b>110</b> or the terminal device <b>120</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, or the access network device <b>210</b>, the access network device <b>220</b>, or the terminal device <b>230</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, or each access network device in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. The plurality of antennas may include at least one transmit antenna for sending of signals and at least one receive antenna for receiving of signals. In addition, the communication device further additionally includes a transmitter chain and a receiver chain. A person of ordinary skill in the art may understand that the transmitter chain and the receiver chain each may include a plurality of components (for example, a processor, a modulator, a multiplexer, a demodulator, a demultiplexer, or an antenna) related to signal sending and receiving. Therefore, the access network device and the terminal device may communicate with each other using a multi-antenna technology.</p><p id="p-0198" num="0197">The access network device in the wireless communication system may be any device that has a wireless transceiver function. The device includes but is not limited to: an evolved NodeB (eNB), a radio network controller (RNC), a NodeB (NB), a base station controller (BSC), a base transceiver station (BTS), a home base station (for example, a Home evolved NodeB, or a Home NodeB, HNB), a baseband unit (BBU), an access point (AP) in a wireless fidelity (Wi-Fi) system, a wireless relay node, a wireless backhaul node, a transmission point (TP), a transmission and reception point (TRP), or the like. The device may alternatively be a gNB or a transmission point (TRP or TP) in a 5G system, for example, an NR system or one or a group of antenna panels (including a plurality of antenna panels) of a base station in the 5G system, or the device may alternatively be a network node that constitutes a gNB or a transmission point, for example, a baseband unit (BBU) or a distributed unit (DU).</p><p id="p-0199" num="0198">In some deployments, a gNB may include a centralized unit (CU) and a DU. The gNB may further include a radio unit (RU). The CU implements some functions of the gNB, and the DU implements some functions of the gNB. For example, the CU implements functions of a radio resource control (RRC) layer and a packet data convergence protocol (PDCP) layer. The DU implements functions of a radio link control (RLC) layer, a media access control (MAC) layer, and a physical (PHY) layer. Information at the RRC layer eventually becomes information at the PHY layer, or is converted from information at the PHY layer. Therefore, in this architecture, higher layer signaling such as RRC layer signaling may also be considered as being sent by the DU or by the DU and the CU. It may be understood that the access network device may be a CU node, a DU node, or a device including the CU node and the DU node. In addition, the CU may be classified as a network device in an access network (radio access network, RAN), or may be classified as a network device in a core network (CN). This is not limited in this application.</p><p id="p-0200" num="0199">It should be further understood that the terminal device in the wireless communication system may also be referred to as user equipment (UE), an access terminal, a subscriber unit, a subscriber station, a mobile station, a remote station, a remote terminal, a mobile device, a user terminal, a terminal, a wireless communication device, a user agent, or a user apparatus. The terminal device in embodiments of this application may be a mobile phone, a tablet computer (pad), a computer with a wireless transceiver function, a virtual reality (VR) terminal device, an augmented reality (AR) terminal device, a wireless terminal in industrial control, a wireless terminal in self driving, a wireless terminal in telemedicine (remote medical), a wireless terminal in a smart grid, a wireless terminal in transportation safety, a wireless terminal in a smart city, a wireless terminal in a smart home, or the like. An application scenario is not limited in embodiments of this application.</p><p id="p-0201" num="0200">In a wireless communication system, the terminal device may be handed over between two cells. The two cells may be, for example, two intra-RAT cells or two inter-RAT cells. This is not limited in embodiments of this application. If a handover parameter is set improperly, an intra-RAT or inter-RAT premature handover, a delayed handover, or a ping-pong handover may be caused. Consequently, a cell handover fails or a call drop of the terminal device is caused because the handover is not performed in time.</p><p id="p-0202" num="0201">A mobility optimization algorithm is used for intra-RAT and inter-RAT handover optimization, and problem detection and adjustment of mobility parameters. In an example, in an LTE system or an NR system, a mobility robustness optimization (MRO) algorithm may be used for mobility optimization. Mobility optimization is for monitoring, identification, and statistics collection for inter-RAT handover, and then determining to adjust related inter-RAT handover parameters to ease inter-RAT handover, so as to minimize exceptions of inter-RAT handover and maximally avoid inter-RAT handover performance.</p><p id="p-0203" num="0202">In an example, scenarios and target standardization impact of MRO are as follows.</p><p id="p-0204" num="0203">(1) A terminal device records a radio link failure (RLF) report, and sends the RLF report to an access network device.</p><p id="p-0205" num="0204">(2) The access network device sends an RLF indication to a neighboring access network device.</p><p id="p-0206" num="0205">(3) The access network device sends, to the neighboring access network device, a handover (HO) report indicating a handover event (for example, a premature handover, a delayed handover, or a handover to a wrong cell).</p><p id="p-0207" num="0206">For example, in an LTE system, a base station may send an RLF indication or an HO report to a neighboring base station through an X2 interface. In an NR system, a gNB may send an RLF indication or an HO report to a neighboring gNB through an Xn interface. This is not limited in embodiments of this application.</p><p id="p-0208" num="0207">In addition, when handover succeeds, the terminal device may further record handover success information (successfulHOreport), and send the handover success information to a target access network device after the handover to the target access network device succeeds.</p><p id="p-0209" num="0208">The following describes five handover failure scenarios with reference to <figref idref="DRAWINGS">FIG. <b>4</b></figref> to <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0210" num="0209"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of a scenario in which a handover is delayed. Specific steps are as follows.</p><p id="p-0211" num="0210"><b>401</b>. A radio link failure (RLF) occurs before handover completes. In this case, handover may not be triggered.</p><p id="p-0212" num="0211"><b>402</b>. UE performs cell selection to select a target cell B, and performs RRC reestablishment.</p><p id="p-0213" num="0212"><b>403</b>. After the reestablishment to the target cell B, the target cell B sends an RLF indication to a source cell, that is, a cell A. For example, the RLF indication may be sent through an X2 interface between a base station of the target cell B and a base station of the source cell A.</p><p id="p-0214" num="0213">In an example, the RLF indication may include information such as an RLF report (recorded and reported by the UE to the base station).</p><p id="p-0215" num="0214"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic diagram of a scenario in which a handover is premature. Specific steps are as follows.</p><p id="p-0216" num="0215"><b>501</b>. An RLF occurs before handover completes.</p><p id="p-0217" num="0216"><b>502</b>. UE performs cell reselection to select a source cell A, and attempts to perform RRC reestablishment.</p><p id="p-0218" num="0217"><b>503</b>. The UE reestablishes an RRC connection to the source cell A, and the source cell A identifies, after the reestablishment succeeds, that the handover is premature.</p><p id="p-0219" num="0218"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of another scenario in which a handover is premature. Specific steps are as follows.</p><p id="p-0220" num="0219"><b>601</b>. UE is successfully handed over from a source cell A to a target cell B. The target cell B sends a UE context release message to the cell A. Optionally, the UE may start a timer while the UE context release message is sent.</p><p id="p-0221" num="0220"><b>602</b>. An RLF occurs in a very short period of time after the handover completes. For example, a time threshold may be set. When the RLF occurs within timing of the timer less than the threshold, it is considered that the RLF occurs in a very short period of time.</p><p id="p-0222" num="0221"><b>603</b>. The UE performs cell reselection to reselect the source cell A, and attempts to perform RRC connection.</p><p id="p-0223" num="0222"><b>604</b>. After RRC reestablishment completes, the source cell A sends an RLF indication to the cell B. For example, the RLF indication may be sent through an X2 interface between a base station of the target cell B and a base station of the source cell A.</p><p id="p-0224" num="0223"><b>605</b>. When the cell B receives the RLF indication, the timer is still running, and the target cell B sends, to the cell A, a handover report (handoverreport) indicating to the cell A that the handover is a premature handover. For example, the failure report may be sent through the X2 interface between the base station of the target cell B and the base station of the source cell A.</p><p id="p-0225" num="0224"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of a scenario in which a wrong cell is handed over to. Specific steps are as follows.</p><p id="p-0226" num="0225"><b>701</b>. An RLF occurs before handover completes. For example, the handover may be performed from a source cell A to a target cell B.</p><p id="p-0227" num="0226"><b>702</b>. UE performs cell selection to select a third cell C, and attempts to perform RRC reestablishment.</p><p id="p-0228" num="0227"><b>703</b>. After the RRC reestablishment, the cell C identifies the source cell A, and sends an RLF indication to the cell A. For example, the RLF indication may be sent through an X2 interface between a base station of the cell C and a base station of the source cell A.</p><p id="p-0229" num="0228"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a schematic diagram of another scenario in which a wrong cell is handed over to. Specific steps are as follows.</p><p id="p-0230" num="0229"><b>801</b>. UE is successfully handed over from a source cell A to a target cell B. The target cell B sends a UE context release message to the source cell A. Optionally, the UE may start a timer while the UE context release message is sent.</p><p id="p-0231" num="0230"><b>802</b>. An RLF occurs in a very short period of time after handover completes.</p><p id="p-0232" num="0231"><b>803</b>. UE performs cell reselection to reselect a cell C, and performs RRC reestablishment.</p><p id="p-0233" num="0232"><b>804</b>. After the RRC reestablishment, the cell C sends an RLF indication to the cell B. For example, the RLF indication may be sent through an X2 interface between a base station of the cell C and a base station of the cell B.</p><p id="p-0234" num="0233"><b>805</b>. When the cell B receives the RLF indication, the timer is still running (running), and the cell B sends, to the cell A, a handover report (handoverreport) indicating to the cell A that the handover was to a wrong cell once. For example, the failure report may be sent through the X2 interface between the base station of the cell B and a base station of the cell A.</p><p id="p-0235" num="0234">Currently, the wireless communication system supports inter-cell handover between unlicensed-spectrum cells, inter-cell handover between an unlicensed-spectrum cell and an NR cell, or inter-cell handover between an unlicensed-spectrum cell and an LTE cell. For example, in LTE, a 5G unlicensed band cell may be configured as a secondary component carrier. Unlicensed spectrums may be utilized in the case of insufficient licensed spectrums for operators, for offloading for the licensed spectrums. This obtains better coverage and larger capacities than those of Wi-Fi, and achieving smoother user experience.</p><p id="p-0236" num="0235">Unlicensed-spectrum cells may be related for handover, and any individual or entity has the right to use radio resources on unlicensed spectrums in accordance with related laws. Therefore, in a signaling and data transmission process, LBT needs to be performed on cells that use unlicensed spectrums, to avoid mutual interference between neighboring communication devices.</p><p id="p-0237" num="0236">LBT is a channel access procedure defined in 3GPP, which means that channel detection is performed before data transmission, to check whether a current channel is idle. If the channel is idle, a power amplifier (PA) may be enabled for data transmission. If the channel is busy, data transmission is performed only after a period of time to wait the channel being idle. In addition, duration of each data transmission cannot exceed a preset time. That is, data transmission needs to be released when the preset time reaches, and whether data transmission can be performed is detected again through the LBT procedure.</p><p id="p-0238" num="0237"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows an example process in which UE is handed over between NR unlicensed spectrum cells. The UE is an example of a terminal device, a source gNB is an example of a source access network device, and a target gNB is an example of a target access network device. In a signaling and data transmission process, LBT needs to be performed in each cell that uses an unlicensed spectrum, which means that LBT is performed on both the access network device side and the terminal device side. For example, the handover process includes step <b>901</b> to step <b>909</b>.</p><p id="p-0239" num="0238"><b>901</b>. The UE checks LBT on an unlicensed channel, that is, performs channel detection on the unlicensed channel, to check whether a current unlicensed channel can be used to send data.</p><p id="p-0240" num="0239">When it is detected that the current unlicensed channel is idle, the unlicensed channel may be used by the UE to send data. In this case, the UE performs successful LBT for channel detection on the unlicensed channel. In other words, when the UE performs channel detection on the unlicensed channel and performs successful LBT, the UE obtains, on the unlicensed channel, an unlicensed resource used to send data.</p><p id="p-0241" num="0240">When it is detected that the current unlicensed channel is busy, the unlicensed channel cannot be used by the UE to send data. In this case, the UE performs unsuccessful LBT for channel detection on the unlicensed channel. In other words, when the UE performs channel detection on the unlicensed channel and performs unsuccessful LBT, the UE cannot obtain, on the unlicensed channel, (that is, does not obtain, on the unlicensed channel), the unlicensed resource used to send data.</p><p id="p-0242" num="0241"><b>902</b>. The UE sends a measurement report to a source gNB.</p><p id="p-0243" num="0242">Specifically, the UE sends the measurement report to the source gNB on the unlicensed channel on which successful LBT is performed in step <b>901</b>. Accordingly, the source gNB receives the measurement report on the unlicensed channel. Subsequently, the source gNB determines, based on the measurement report, to hand over the UE to a target gNB.</p><p id="p-0244" num="0243"><b>903</b>. The source gNB sends a handover request to the target gNB. Accordingly, the target gNB receives the handover request.</p><p id="p-0245" num="0244"><b>904</b>. The target gNB performs admission control on the UE based on the handover request.</p><p id="p-0246" num="0245"><b>905</b>. The target gNB sends a handover request acknowledgment (ACK) to the source gNB.</p><p id="p-0247" num="0246"><b>906</b>. The source gNB checks LBT on an unlicensed channel, that is, performs channel detection on the unlicensed channel, to check whether a current unlicensed channel can be used to send data.</p><p id="p-0248" num="0247">When it is detected that the current unlicensed channel is idle, the unlicensed channel may be used by the source gNB to send data. In this case, the source gNB performs successful LBT for channel detection on the unlicensed channel. In other words, when the source gNB performs channel detection on the unlicensed channel and performs successful LBT, the source gNB obtains, on the unlicensed channel, an unlicensed resource used to send data.</p><p id="p-0249" num="0248">When it is detected that the current unlicensed channel is busy, the unlicensed channel cannot be used by the source gNB to send data. In this case, the source gNB performs unsuccessful LBT for channel detection on the unlicensed channel. In other words, when the source gNB performs channel detection on the unlicensed channel and performs unsuccessful LBT, the source gNB cannot obtain, on the unlicensed channel, (that is, does not obtain, on the unlicensed channel), the unlicensed resource used to send data.</p><p id="p-0250" num="0249"><b>907</b>. The source gNB sends a handover command to the UE.</p><p id="p-0251" num="0250">Specifically, the source gNB sends the handover command to the UE through the unlicensed channel on which successful LBT is performed in step <b>906</b>. Accordingly, the UE receives the handover command on the unlicensed channel.</p><p id="p-0252" num="0251"><b>908</b>. The UE and the target gNB perform a random access procedure.</p><p id="p-0253" num="0252">Specifically, the UE may initiate the random access procedure to the target gNB. For a specific handover procedure, refer to the handover process in TS36.300. Details are not described herein again.</p><p id="p-0254" num="0253">In a process of performing random access, when sending uplink signaling, for example, a random access request (that is, a message 1 (msg1) in the random access procedure and a message 3 (msg3) in the random access procedure), on an unlicensed channel, the UE needs to check LBT on the unlicensed channel, and sends the uplink signaling only when the UE performs successful LBT on the unlicensed channel. Similarly, when sending downlink signaling on an unlicensed channel, for example, a message 2 (msg2) in the random access procedure and a message 4 (msg4) in the random access procedure, the target gNB needs to check LBT on the unlicensed channel, and sends the downlink signaling only when the target gNB performs successful LBT on the unlicensed channel.</p><p id="p-0255" num="0254">The target gNB checks LBT on an unlicensed channel. To be specific, the target gNB performs channel detection on the unlicensed channel to check whether a current unlicensed channel can be used to send data. When it is detected that the current unlicensed channel is idle, the unlicensed channel may be used by the target gNB to send data. In this case, the target gNB performs successful LBT for channel detection on the unlicensed channel. In other words, when the target gNB performs channel detection on the unlicensed channel and performs successful LBT, the target gNB obtains, on the unlicensed channel, an unlicensed resource used to send data. When it is detected that the current unlicensed channel is busy, the unlicensed channel cannot be used by the target gNB to send data. In this case, the target gNB performs unsuccessful LBT for channel detection on the unlicensed channel. In other words, when the target gNB performs channel detection on the unlicensed channel and performs unsuccessful LBT, the target gNB cannot obtain, on the unlicensed channel, (that is, does not obtain, on the unlicensed channel), the unlicensed resource used to send data.</p><p id="p-0256" num="0255">It should be noted that, in this embodiment of this application, when the gNB or the UE performs unsuccessful LBT for channel detection on a first unlicensed channel, the gNB or the UE may further continue to perform channel detection on a second unlicensed channel. When the gNB or the UE performs successful LBT for channel detection on the second unlicensed channel, it may be considered that the gNB or the UE performs successful LBT on the unlicensed channel, but the gNB or the UE has performed unsuccessful LBT during channel detection. In this case, the gNB or the UE finally finds a suitable unlicensed resource on the unlicensed channel to send data.</p><p id="p-0257" num="0256">Optionally, when the gNB or the UE performs unsuccessful LBT on all unlicensed channels of a cell, or a quantity of times of performing LBT reaches a preset quantity of times, or a period of time for channel detection exceeds a preset period of time, it may be considered that the gNB or the UE finally performs unsuccessful LBT.</p><p id="p-0258" num="0257">For example, in an NR system, channel detection may be performed on a plurality of different unlicensed channels in one bandwidth part (BWP). In other words, when unsuccessful LBT is performed for channel detection on an unlicensed channel in a BWP, channel detection may be performed on another unlicensed channel in the BWP. When unsuccessful LBT is performed for channel detection on all unlicensed channels in a BWP, the BWP may be replaced for checking LBT. When unsuccessful LBT is performed for channel detection on unlicensed channels in all BWPs, it is considered that LBT fails.</p><p id="p-0259" num="0258">The BWP may be a set of consecutive frequency domain resources on a carrier. Different BWPs may occupy frequency domain resources that partially overlap, or may occupy frequency domain resources that do not overlap. The frequency domain resources occupied by the different BWPs may have a same bandwidth or different bandwidths. This is not limited in this application.</p><p id="p-0260" num="0259">In this embodiment of this application, when the gNB or the UE performs unsuccessful LBT for channel detection on the unlicensed channel, sending failures of signaling or data incur, where the unsuccessful LBT is final unsuccessful LBT. In other words, when the gNB or the UE does not find a suitable unlicensed resource on the unlicensed channel to send data, sending failures of signaling or data incur.</p><p id="p-0261" num="0260">Optionally, in this embodiment of this application, in a process in which the gNB or the UE performs channel detection on the unlicensed channel, a quantity of times of performing unsuccessful LBT on the unlicensed channel, a probability of unsuccessful LBT, BWP information of the unlicensed channel, or the like may be recorded. This is not limited in this embodiment of this application.</p><p id="p-0262" num="0261">In step <b>908</b>, when the UE fails to perform random access to the target gNB, the UE may reestablish an RRC connection to the source gNB, or reselect to another gNB for RRC reestablishment. Subsequently, the UE sends a radio link failure report to the source gNB. The source gNB may determine, based on the radio link failure report, whether handover is premature or delayed, or whether a wrong cell is handed over to, so as to adjust a mobility parameter. Based on this solution, whether a mobility problem is caused by unsuccessful LBT cannot be identified, and consequently, the mobility problem caused by unsuccessful LBT cannot be resolved.</p><p id="p-0263" num="0262">In view of this, embodiments of this application provide a communication method. In the method, in a scenario in which a terminal device is handed over from a source access network device to a target access network device, when performing unsuccessful LBT on an unlicensed channel, the source access network device, the target access network device, or the terminal device sends indication information indicating unsuccessful LBT, so that cause analysis for a handover failure (or handover delay) can be performed based on the indication information in the handover process.</p><p id="p-0264" num="0263">The following describes embodiments of this application in detail with reference to the accompanying drawings.</p><p id="p-0265" num="0264">The technical solutions of this application may be applied to a wireless communication system, for example, the communication system shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the communication system shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, or the communication system shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. There may be a wireless communication connection relationship between communication apparatuses in the wireless communication system. One of the communication apparatuses may be, for example, a first access network device or a chip configured in the access network device. Another apparatus of the communication apparatuses may be, for example, a second access network device or a chip configured in the access network device. Another apparatus of the communication apparatuses may be, for example, a terminal device or a chip configured in the terminal device. This is not limited in embodiments of this application.</p><p id="p-0266" num="0265">Without loss of generality, embodiments of this application are first described in detail by using a communication process of a terminal device as an example. It may be understood that any terminal device in the wireless communication system or a chip configured in the terminal device may perform communication using the same method, and any access network device in the wireless communication system or a chip configured in the access network device may perform communication using the same method. This is not limited in this application.</p><p id="p-0267" num="0266">In embodiments of this application, the terminal device is handed over from the second access network device to the first access network device. In other words, the first access network device may be a target access network device, and the second access network device may be a source access network device. For ease of description, an example in which the first access network device is a target gNB, the second access network device is a source gNB, and the terminal device is UE is used below for description. However, embodiments of this application are not limited thereto.</p><p id="p-0268" num="0267"><figref idref="DRAWINGS">FIG. <b>10</b>A</figref> is a schematic flowchart of a communication method from a perspective of device interaction. In the method, when UE performs random access to a target gNB, the target gNB performs unsuccessful LBT for channel detection on an unlicensed channel. As shown in <figref idref="DRAWINGS">FIG. <b>10</b>A</figref>, the method includes step <b>1010</b><i>a </i>to step <b>1040</b><i>a. </i></p><p id="p-0269" num="0268"><b>1010</b><i>a</i>. The UE sends a random access request to the target gNB.</p><p id="p-0270" num="0269">Accordingly, the target gNB receives the random access request sent by the UE. For example, for a process in which the UE sends the random access request to the target gNB, refer to the following descriptions in <figref idref="DRAWINGS">FIG. <b>10</b>B</figref>. Details are not described herein.</p><p id="p-0271" num="0270"><b>1020</b><i>a</i>. The target gNB performs unsuccessful LBT for channel detection on the unlicensed channel.</p><p id="p-0272" num="0271">Because unsuccessful LBT occurs, the target gNB cannot send data to the UE, for example, a message 2 (msg2) or a message 4 (msg4) in the random access procedure. Consequently, the UE fails to perform random access to the target gNB.</p><p id="p-0273" num="0272">For example, step <b>1009</b> in <figref idref="DRAWINGS">FIG. <b>10</b>B</figref> may be a specific example of step <b>1020</b><i>a</i>. For details, refer to the following description of step <b>1009</b> in <figref idref="DRAWINGS">FIG. <b>10</b>B</figref>. Details are not described herein.</p><p id="p-0274" num="0273"><b>1030</b><i>a</i>. The target gNB sends first indication information to a source gNB. The first indication information indicates that the target gNB performs unsuccessful LBT for channel detection on the unlicensed channel.</p><p id="p-0275" num="0274">Accordingly, the source gNB receives the first indication information sent by the target gNB.</p><p id="p-0276" num="0275">For example, step <b>1013</b> in <figref idref="DRAWINGS">FIG. <b>10</b>B</figref> may be a specific example of step <b>1030</b><i>a</i>. For details, refer to the following description of step <b>1013</b> in <figref idref="DRAWINGS">FIG. <b>10</b>B</figref>. Details are not described herein. Indication information #1 may be a specific example of the first indication information.</p><p id="p-0277" num="0276"><b>1040</b><i>a</i>. The source gNB determines a cause for a mobility problem. For example, the source gNB determines, based on the first indication information, a cause for the mobility problem arising from handover of the UE from the source gNB to the target gNB, that is, a mobility problem caused by unsuccessful LBT.</p><p id="p-0278" num="0277">In an example, step <b>1014</b> in <figref idref="DRAWINGS">FIG. <b>10</b>B</figref> may be a specific example of step <b>1040</b><i>a</i>. For details, refer to the following description of step <b>1014</b> in <figref idref="DRAWINGS">FIG. <b>10</b>B</figref>. Details are not described herein.</p><p id="p-0279" num="0278">Therefore, in this embodiment of this application, when the UE fails to perform random access to the target gNB due to unsuccessful LBT performed by the target gNB for channel detection on an unlicensed channel, the target gNB may send, to the source gNB, indication information indicating unsuccessful LBT, so that the source gNB can perform cause analysis for the handover failure based on the indication information. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0280" num="0279"><figref idref="DRAWINGS">FIG. <b>10</b>B</figref> is a schematic flowchart of a communication method from a perspective of device interaction. In the method, when UE performs random access to a target gNB, the target gNB performs unsuccessful LBT for channel detection on an unlicensed channel. As shown in <figref idref="DRAWINGS">FIG. <b>10</b>B</figref>, the method includes step <b>1001</b> to step <b>1014</b>.</p><p id="p-0281" num="0280"><b>1001</b>. The UE checks LBT on the unlicensed channel.</p><p id="p-0282" num="0281"><b>1002</b>. The UE sends a measurement report to a source gNB.</p><p id="p-0283" num="0282"><b>1003</b>. The source gNB sends a handover request to the target gNB. Accordingly, the target gNB receives the handover request.</p><p id="p-0284" num="0283"><b>1004</b>. The target gNB performs admission control on the UE based on the handover request.</p><p id="p-0285" num="0284"><b>1005</b>. The target gNB sends a handover request acknowledgment (ACK) to the source gNB.</p><p id="p-0286" num="0285"><b>1006</b>. The source gNB checks LBT on the unlicensed channel.</p><p id="p-0287" num="0286"><b>1007</b>. The source gNB sends a handover command to the UE.</p><p id="p-0288" num="0287">Specifically, for step <b>1001</b> to step <b>1007</b>, refer to descriptions of step <b>901</b> to step <b>907</b> in <figref idref="DRAWINGS">FIG. <b>9</b></figref>. For brevity, details are not described herein again.</p><p id="p-0289" num="0288"><b>1008</b>. The UE checks LBT on the unlicensed channel in a random access procedure. In addition, in a case of performing successful LBT for channel detection on the unlicensed channel (which means that the unlicensed channel may be used by the UE to send data), the UE sends uplink signaling to the target gNB.</p><p id="p-0290" num="0289">In some embodiments, after random access initialization completes, the UE may check LBT on the unlicensed channel, and send a random access request (that is, an msg1) to the target gNB on the unlicensed channel in a case of performing successful LBT for channel detection on the unlicensed channel.</p><p id="p-0291" num="0290">In some embodiments, after receiving an msg2 sent by the target gNB, the UE may check LBT on the unlicensed channel, and send an msg3 to the target gNB on the unlicensed channel in a case of performing successful LBT for channel detection on the unlicensed channel.</p><p id="p-0292" num="0291"><b>1009</b>. In the random access procedure, the target gNB checks LBT on the unlicensed channel, and performs unsuccessful LBT for channel detection on the unlicensed channel (which means that the unlicensed channel cannot be used by the target gNB to send data).</p><p id="p-0293" num="0292">In some embodiments, after receiving the random access request (that is, the msg1) sent by the UE, the target gNB checks LBT on the unlicensed channel, and performs unsuccessful LBT for channel detection on the unlicensed channel. In this case, the unlicensed channel cannot be used by the target gNB to send the msg2 to the UE. In other words, the target gNB cannot obtain an unlicensed resource for sending the msg2. To be specific, the target gNB performs unsuccessful LBT when attempting to send, on the unlicensed channel, the msg2 to the UE, and consequently, the msg2 fails to be sent.</p><p id="p-0294" num="0293">In some embodiments, after receiving the random access request (that is, the msg1) sent by the UE, the target gNB checks LBT on the unlicensed channel, and the target gNB may send the msg2 to the UE through the unlicensed channel when performing successful LBT for channel detection on the unlicensed channel. Subsequently, the target gNB receives the msg3 sent by the UE. In this case, the target gNB may check LBT on the unlicensed channel again, and perform unsuccessful LBT for channel detection on the unlicensed channel. In this case, the unlicensed channel cannot be used by the target gNB to send an msg4 to the UE. In other words, the target gNB cannot obtain an unlicensed resource for sending the msg4. To be specific, the target gNB performs unsuccessful LBT when attempting to send, on the unlicensed channel, the msg4 to the UE, and consequently, the msg4 fails to be sent.</p><p id="p-0295" num="0294"><b>1010</b>. Random access fails.</p><p id="p-0296" num="0295">In a possible case, when the target gNB cannot send the msg2 to the UE, a random access failure occurs.</p><p id="p-0297" num="0296">In another possible case, when the target gNB cannot send the msg4 to the UE, a random access failure occurs.</p><p id="p-0298" num="0297">In this case, the UE experiences the radio link failure on the target gNB.</p><p id="p-0299" num="0298"><b>1011</b>. The UE reestablishes (reestablish) an RRC connection to the source gNB. In this case, it may also be referred to as that the UE performs reselection to the source gNB.</p><p id="p-0300" num="0299">In some embodiments, the UE may alternatively perform reselection to another gNB. This is not limited in this embodiment of this application.</p><p id="p-0301" num="0300"><b>1012</b>. The UE sends an RLF report to the source gNB. Accordingly, the source gNB receives the RLF report.</p><p id="p-0302" num="0301">Specifically, for the RLF report, refer to descriptions in the current technology (3GPP TS 36.331). Details are not described herein.</p><p id="p-0303" num="0302"><b>1013</b>. The target gNB sends indication information #1 to the source gNB, where the indication information #1 indicates that unsuccessful LBT is performed on the unlicensed channel. Accordingly, the source gNB receives the indication information #1.</p><p id="p-0304" num="0303">In an example, the indication information #1 may include at least one of an identifier (ID) of the UE, an identifier of a cell on which unsuccessful LBT is performed, a probability of unsuccessful LBT in the cell on which unsuccessful LBT is performed, and the like.</p><p id="p-0305" num="0304">For example, the cell on which unsuccessful LBT is performed is, for example, a target cell A, and the identifier of the cell on which unsuccessful LBT is performed is, for example, a cell radio network temporary identifier (CRNTI) or a UE Xn interface identifier (UEXnAPID) of the target cell A. This is not limited in this embodiment of this application.</p><p id="p-0306" num="0305">Step <b>1013</b>, step <b>1011</b>, and step <b>1012</b> are not limited in performing sequence. In other words, step <b>1013</b> may be performed before or after step <b>1011</b> or step <b>1012</b>, or step <b>1013</b> and step <b>1011</b> or step <b>1012</b> may be simultaneously performed, which all fall within the protection scope of this embodiment of this application.</p><p id="p-0307" num="0306"><b>1014</b>. After receiving the RLF report and the indication information #1, the source gNB may perform cause analysis for a handover failure based on the RLF report and the indication information #1. In an example, the source gNB may determine, based on the indication information #1, that a mobility problem (for example, a handover failure) is caused because the target gNB performs unsuccessful LBT for channel detection on the unlicensed channel in the handover process. In this case, a corresponding parameter of the target gNB on the unlicensed channel may be adjusted.</p><p id="p-0308" num="0307">In some optional embodiments, when the target gNB performs unsuccessful LBT for channel detection on the unlicensed channel, and consequently the msg2 cannot be sent, because CRNTIs of UE are delivered in the msg2, the target gNB cannot know which UE fails in random access. Consequently, an identifier of the UE carried in the indication information #1 cannot be determined. In this case, the following two manners may be used to determine which UE fails in random access.</p><p id="p-0309" num="0308">Manner 1.</p><p id="p-0310" num="0309">A dedicated random access resource is configured for each UE. In this case, the target gNB may identify the UE based on a dedicated preamble sent by the UE, to identify, when the random access fails, which UE fails in random access.</p><p id="p-0311" num="0310">Manner 2.</p><p id="p-0312" num="0311">When UE uses a common random access resource, a timer may be defined on a per UE basis for the target gNB. In this case, the timer may be used by the target gNB to identify the UE.</p><p id="p-0313" num="0312">In a possible implementation, when step <b>1005</b> is performed, to be specific, when the target gNB sends the handover request acknowledgment to the source gNB, the target gNB starts a timer corresponding to the UE. When the timer of the UE expires, it may be determined that the UE fails in random access.</p><p id="p-0314" num="0313">In another possible implementation, when there are a plurality of candidate gNBs to be handed over to (that is, the source gNB selects a plurality of gNBs as target gNBs), the source gNB may send, after determining a target gNB, indication information #2 to the determined target gNB. The indication information #2 indicates to start a timer corresponding to the UE. Optionally, the target gNB may start the timer after receiving the indication information #2, or the target gNB starts the timer when sending the handover request acknowledgment to the source gNB. This is not limited in this embodiment of this application.</p><p id="p-0315" num="0314">In some optional embodiments, timing of the timer may be T. To be specific, when the timing of the timer exceeds T, it is considered that the timer expires. For example, when the timer is started when the target gNB sends the handover request acknowledgment, T&#x3e;T<sub>0 </sub>can be set, where T<sub>0 </sub>indicates a period of time from a moment at which the target gNB sends the handover request acknowledgment to the source gNB to a moment at which the UE successfully sends the random access request (that is, the msg1) to the target gNB, and T<sub>0 </sub>is usually fixed.</p><p id="p-0316" num="0315">In other words, after receiving the random access request sent by the UE, the target gNB performs channel detection on the unlicensed channel, to be specific, attempts to send the msg2 to the UE. When the target gNB still fails to send the msg2 after receiving the random access request for a period of time (the period of time may be denoted as T<sub>1</sub>, and T<sub>1</sub>=T&#x2212;T<sub>0</sub>), it may be considered that the target gNB performs unsuccessful LBT on the unlicensed channel. In this case, the target gNB may identify, based on the timer, the UE that fails in random access, that is, consider the UE corresponding to the timer as the UE that fails in random access.</p><p id="p-0317" num="0316">Therefore, in this embodiment of this application, in a scenario in which the UE is handed over from the source gNB to the target gNB, when the UE fails to perform random access to the target gNB due to unsuccessful LBT performed by the target gNB for channel detection on an unlicensed channel, the target gNB may send, to the source gNB, indication information indicating unsuccessful LBT, so that the source gNB can perform cause analysis for the handover failure based on the indication information. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0318" num="0317"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a schematic flowchart of another communication method from a perspective of device interaction. In the method, when UE performs random access to a target gNB, the UE performs unsuccessful LBT for channel detection on an unlicensed channel, resulting in a random access failure. As shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the method includes step <b>1101</b> to step <b>1113</b>.</p><p id="p-0319" num="0318"><b>1101</b>. The UE checks LBT on the unlicensed channel.</p><p id="p-0320" num="0319"><b>1102</b>. The UE sends a measurement report to a source gNB.</p><p id="p-0321" num="0320"><b>1103</b>. The source gNB sends a handover request to the target gNB. Accordingly, the target gNB receives the handover request.</p><p id="p-0322" num="0321"><b>1104</b>. The target gNB performs admission control on the UE based on the handover request.</p><p id="p-0323" num="0322"><b>1105</b>. The target gNB sends a handover request acknowledgment (ACK) to the source gNB.</p><p id="p-0324" num="0323"><b>1106</b>. The source gNB checks LBT on the unlicensed channel.</p><p id="p-0325" num="0324"><b>1107</b>. The source gNB sends a handover command to the UE.</p><p id="p-0326" num="0325">Specifically, for step <b>1101</b> to step <b>1107</b>, refer to descriptions of step <b>901</b> to step <b>907</b> in <figref idref="DRAWINGS">FIG. <b>9</b></figref>. For brevity, details are not described herein again.</p><p id="p-0327" num="0326"><b>1108</b>. In a random access procedure, the UE checks LBT on the unlicensed channel, and performs unsuccessful LBT for channel detection on the unlicensed channel (which means that the unlicensed channel cannot be used by the UE to send data).</p><p id="p-0328" num="0327">In some embodiments, after receiving the handover command sent by the source gNB, the UE checks LBT on the unlicensed channel, and performs unsuccessful LBT for channel detection on the unlicensed channel. In this case, the unlicensed channel cannot be used by the UE to send a random access request (that is, an msg1) to the target gNB. In other words, the UE cannot obtain an unlicensed resource for sending the random access request. To be specific, the UE performs unsuccessful LBT when attempting to send, on the unlicensed channel, the random access request to the target gNB, and consequently, the random access request fails to be sent.</p><p id="p-0329" num="0328">In some embodiments, after receiving the handover command sent by the source gNB, the UE checks LBT on the unlicensed channel, and in a case of performing successful LBT for channel detection on the unlicensed channel, the UE may send the random access request to the target gNB through the unlicensed channel. Subsequently, the UE receives an msg2 sent by the target gNB. In this case, the UE may check LBT on the unlicensed channel again, and perform unsuccessful LBT for channel detection on the unlicensed channel. In this case, the unlicensed channel cannot be used by the UE to send an msg3 to the target gNB. In other words, the UE cannot obtain an unlicensed resource for sending the msg3. To be specific, the UE performs unsuccessful LBT when attempting to send, on the unlicensed channel, the msg3 to the target gNB, and consequently, the msg3 fails to be sent.</p><p id="p-0330" num="0329"><b>1109</b>. In the random access procedure, the target gNB checks LBT on the unlicensed channel, and sends downlink signaling to the UE in a case of performing successful LBT for channel detection on the unlicensed channel (which means that the unlicensed channel may be used by the target gNB to send data).</p><p id="p-0331" num="0330">In some embodiments, after receiving the random access request sent by the UE, the target gNB may check LBT on the unlicensed channel, and in a case of performing successful LBT for channel detection on the unlicensed channel, sends the msg2 to the UE through the unlicensed channel.</p><p id="p-0332" num="0331"><b>1110</b>. Random access fails.</p><p id="p-0333" num="0332">In a possible case, when the UE cannot send the random access request to the target gNB, the random access failure occurs.</p><p id="p-0334" num="0333">In another possible case, when the UE cannot send the msg3 to the target gNB, the random access failure occurs.</p><p id="p-0335" num="0334">In this case, the UE experiences a radio link failure on the target gNB.</p><p id="p-0336" num="0335"><b>1111</b>. The UE reestablishes (reestablish) an RRC connection to the source gNB. In this case, it may also be referred to as that the UE performs reselection to the source gNB.</p><p id="p-0337" num="0336">In some embodiments, the UE may alternatively perform reselection to another gNB. This is not limited in this embodiment of this application.</p><p id="p-0338" num="0337"><b>1112</b>. The UE sends an RLF report to the source gNB. Accordingly, the source gNB receives the RLF report.</p><p id="p-0339" num="0338">The RLF report includes indication information #3, and the indication information #3 indicates that unsuccessful LBT is performed for channel detection on the unlicensed channel. For example, the RLF report may include a failure cause (cause value), and the failure cause indicates unsuccessful LBT. In other words, in this case, the failure cause may be a specific example of the indication information #3.</p><p id="p-0340" num="0339">In an example, the indication information #3 may include at least one of an identifier (ID) of the UE, an identifier of a cell on which unsuccessful LBT is performed, a probability that UE performs unsuccessful LBT in the cell on which unsuccessful LBT is performed, a quantity of times that the UE performs unsuccessful LBT in the cell on which unsuccessful LBT is performed, and the like.</p><p id="p-0341" num="0340">Optionally, the UE may directly send the indication information #3 to the source gNB, or include the indication information #3 in another message or signaling. This is not limited in this embodiment of this application.</p><p id="p-0342" num="0341">In some optional embodiments, the RLF report further includes at least one of the following:</p><p id="p-0343" num="0342">a period of time from a moment at which the UE receives a handover command to a moment at which the UE starts to check LBT on the unlicensed channel;</p><p id="p-0344" num="0343">a period of time from a moment at which the UE starts to check LBT on the unlicensed channel to a moment at which unsuccessful LBT is performed;</p><p id="p-0345" num="0344">a period of time from a moment at which unsuccessful LBT is performed to a moment at which the UE succeeds in reestablishment; and</p><p id="p-0346" num="0345">information about a BWP of the unlicensed channel.</p><p id="p-0347" num="0346">Optionally, when the UE performs unsuccessful LBT on an unlicensed channel of a first BWP, and switches to a second BWP for channel detection, the RLF report may further include at least one of the following:</p><p id="p-0348" num="0347">information about the first BWP and information about the second BWP; and</p><p id="p-0349" num="0348">a period of time from a moment at which the UE performs unsuccessful LBT on the first BWP to a moment at which the UE checks LBT on the second BWP.</p><p id="p-0350" num="0349">In addition, the RLF report may further include content included in an existing RLF report. For details, refer to descriptions in the current technology (3GPP TS 36.331), and details are not described herein.</p><p id="p-0351" num="0350"><b>1113</b>. After receiving the RLF report, the source gNB may perform cause analysis for a handover failure based on the RLF report. In an example, the source gNB may determine, based on the indication information #3 in the RLF report, that a mobility problem (for example, the handover failure) is caused because the UE performs unsuccessful LBT for channel detection on the unlicensed channel in the handover process. In this case, a corresponding parameter of the UE on the unlicensed channel may be adjusted.</p><p id="p-0352" num="0351">Therefore, in this embodiment of this application, in a scenario in which the UE is handed over from the source gNB to the target gNB, when the UE fails to perform random access to the target gNB due to unsuccessful LBT performed by the target gNB for channel detection on the unlicensed channel, the UE may send, to the source gNB, indication information indicating unsuccessful LBT, so that the source gNB can perform cause analysis for the handover failure based on the indication information. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0353" num="0352"><figref idref="DRAWINGS">FIG. <b>12</b>A</figref> is a schematic flowchart of another communication method from a perspective of device interaction. In the method, when performing random access to a target gNB, UE performs successful LBT for channel detection on an unlicensed channel. However, the UE has performed unsuccessful LBT for channel detection. In other words, in the method, the UE finally successfully accesses the target gNB. As shown in <figref idref="DRAWINGS">FIG. <b>12</b>A</figref>, the method includes step <b>1210</b><i>a </i>to step <b>1250</b><i>a. </i></p><p id="p-0354" num="0353"><b>1210</b><i>a</i>. The UE performs unsuccessful LBT for channel detection on a first unlicensed channel.</p><p id="p-0355" num="0354"><b>1220</b><i>a</i>. The UE performs successful LBT for channel detection on a second unlicensed channel.</p><p id="p-0356" num="0355"><b>1230</b><i>a</i>. The UE sends, on the second unlicensed channel, a request message to the target gNB. Accordingly, the target gNB receives the request message sent by the UE.</p><p id="p-0357" num="0356">In other words, the UE performs successful LBT for channel detection on the unlicensed channel, and sends, on the unlicensed channel on which successful LBT is performed, the request message to the target gNB. Finally, the UE successfully performs random access to the target gNB. However, the UE has performed unsuccessful LBT for channel detection. For example, step <b>1208</b> in <figref idref="DRAWINGS">FIG. <b>12</b>B</figref> may be a specific example of step <b>1210</b><i>a </i>and step <b>1220</b><i>b</i>. For details, refer to the following description of step <b>1208</b> in <figref idref="DRAWINGS">FIG. <b>12</b>B</figref>. Details are not described herein.</p><p id="p-0358" num="0357"><b>1240</b><i>a</i>. The UE sends second indication information to the target gNB. The second indication information indicates that the UE performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0359" num="0358">Accordingly, the target gNB receives the second indication information sent by the UE.</p><p id="p-0360" num="0359">For example, step <b>1211</b> in <figref idref="DRAWINGS">FIG. <b>12</b>B</figref> may be a specific example of step <b>1240</b><i>a</i>. For details, refer to the following description of step <b>1211</b> in <figref idref="DRAWINGS">FIG. <b>12</b>B</figref>. Details are not described herein. Indication information #4 may be a specific example of the second indication information.</p><p id="p-0361" num="0360"><b>1250</b><i>a</i>. The target gNB determines a cause for a mobility problem. For example, the target gNB determines, based on the second indication information, the cause for the mobility problem arising from handover of the UE from a source gNB to the target gNB, that is, a mobility problem caused by a large random access delay due to LBT.</p><p id="p-0362" num="0361">In an example, step <b>1212</b> in <figref idref="DRAWINGS">FIG. <b>12</b>B</figref> may be a specific example of step <b>1250</b><i>a</i>. For details, refer to the following description of step <b>1212</b> in <figref idref="DRAWINGS">FIG. <b>12</b>B</figref>. Details are not described herein.</p><p id="p-0363" num="0362">Therefore, in this embodiment of this application, in a case that the UE performs unsuccessful LBT for channel detection on the unlicensed channel but finally performs successful LBT, the random access delay is large although the UE successfully performs random access to the target gNB. In this case, the UE may send, to the target gNB, indication information indicating unsuccessful LBT, so that the target gNB can perform cause analysis for the mobility problem based on the indication information. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0364" num="0363"><figref idref="DRAWINGS">FIG. <b>12</b>B</figref> is a schematic flowchart of another communication method from a perspective of device interaction. In the method, when performing random access to a target gNB, the UE performs successful LBT for channel detection on an unlicensed channel. However, the UE has performed unsuccessful LBT for channel detection. In other words, in the method, the UE finally successfully accesses the target gNB. As shown in <figref idref="DRAWINGS">FIG. <b>12</b>B</figref>, the method includes step <b>1201</b> to step <b>1211</b>.</p><p id="p-0365" num="0364"><b>1201</b>. The UE checks LBT (check LBT) on the unlicensed channel.</p><p id="p-0366" num="0365"><b>1202</b>. The UE sends a measurement report to a source gNB.</p><p id="p-0367" num="0366"><b>1203</b>. The source gNB sends a handover request to the target gNB. Accordingly, the target gNB receives the handover request.</p><p id="p-0368" num="0367"><b>1204</b>. The target gNB performs admission control on the UE based on the handover request.</p><p id="p-0369" num="0368"><b>1205</b>. The target gNB sends a handover request acknowledgment (ACK) to the source gNB.</p><p id="p-0370" num="0369"><b>1206</b>. The source gNB checks LBT on the unlicensed channel.</p><p id="p-0371" num="0370"><b>1207</b>. The source gNB sends a handover command to the UE.</p><p id="p-0372" num="0371">Specifically, for step <b>1101</b> to step <b>1107</b>, refer to descriptions of step <b>901</b> to step <b>907</b> in <figref idref="DRAWINGS">FIG. <b>9</b></figref>. For brevity, details are not described herein again.</p><p id="p-0373" num="0372"><b>1208</b>. The UE checks LBT on the unlicensed channel in a random access procedure. Herein, the UE performs successful LBT for channel detection on the unlicensed channel. However, the UE has performed unsuccessful LBT for channel detection.</p><p id="p-0374" num="0373">For example, the UE has performed unsuccessful LBT for channel detection on a first unlicensed channel (which means that the first unlicensed channel cannot be used by the UE to send data). However, the UE performs successful LBT for channel detection on a second unlicensed channel (which means that the second unlicensed channel can be used by the UE to send data).</p><p id="p-0375" num="0374">In some embodiments, after receiving the handover command sent by the source gNB, the UE checks LBT on the first unlicensed channel, and performs unsuccessful LBT for channel detection on the first unlicensed channel. Subsequently, the UE continues to check LBT on the second unlicensed channel, and performs successful LBT for channel detection on the second unlicensed channel. In this case, the second unlicensed channel can be used by the UE to send a random access request (that is, an msg1) to the target gNB. In other words, the UE obtains, on the second unlicensed channel, an unlicensed resource for sending the random access request. Subsequently, the UE successfully sends, on the second unlicensed channel, the random access request to the target gNB.</p><p id="p-0376" num="0375">In some embodiments, after receiving an msg2 sent by the target gNB, the UE may check LBT on the first unlicensed channel, and performs unsuccessful LBT for channel detection on the first unlicensed channel. Subsequently, the UE continues to check LBT on the second unlicensed channel, and performs successful LBT for channel detection on the second unlicensed channel. In this case, the second unlicensed channel can be used by the UE to send an msg3 to the target gNB. In other words, the UE obtains, on the second unlicensed channel, an unlicensed resource for sending the msg3. Subsequently, the UE successfully sends, on the second unlicensed channel, the msg3 to the target gNB.</p><p id="p-0377" num="0376">It should be noted that in a case that the UE has performed unsuccessful LBT for channel detection on the unlicensed channel but finally performs successful LBT on the unlicensed channel, a delay in the random access procedure is increased although the random access procedure between the UE and the target gNB is successful, resulting in a mobility problem.</p><p id="p-0378" num="0377"><b>1209</b>. In the random access procedure, the target gNB checks LBT on the unlicensed channel, and performs successful LBT for channel detection on the unlicensed channel, and the target gNB successfully sends the msg2 and an msg4 to the UE.</p><p id="p-0379" num="0378">In some embodiments, after receiving the random access request sent by the UE, the target gNB may check LBT on the unlicensed channel, and send the msg2 to the UE through the unlicensed channel in a case of performing successful LBT for channel detection on the unlicensed channel. Subsequently, the target gNB receives the msg3 sent by the UE, checks LBT on the unlicensed channel, and sends the msg4 to the UE through the unlicensed channel in a case of performing successful LBT for channel detection on the unlicensed signal.</p><p id="p-0380" num="0379"><b>1210</b>. Random access succeeds.</p><p id="p-0381" num="0380"><b>1211</b>. The UE sends a successful handover report to the target gNB. The successful handover report indicates that the UE is successfully handed over to the target gNB. The successful handover report includes indication information #4. The indication information #4 indicates that UE performs unsuccessful LBT for channel detection on an unlicensed channel. In some embodiments, the indication information #4 may further indicate that the UE performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0382" num="0381">In an example, the indication information #4 may include at least one of an identifier (ID) of the UE, an identifier of a cell on which unsuccessful LBT is performed, a probability that UE performs unsuccessful LBT in the cell on which unsuccessful LBT is performed, a quantity of times that the UE performs unsuccessful LBT in the cell on which unsuccessful LBT is performed, and the like.</p><p id="p-0383" num="0382">Optionally, the UE may directly send the indication information #4 to the target gNB, or include the indication information #4 in another message or signaling. This is not limited in this embodiment of this application.</p><p id="p-0384" num="0383">In some optional embodiments, the successful handover report further includes at least one of the following:</p><p id="p-0385" num="0384">a period of time from a moment at which the UE starts to perform channel detection on the first unlicensed channel to a moment at which the UE performs successful LBT on the second unlicensed channel;</p><p id="p-0386" num="0385">information about a moment at which the UE performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0387" num="0386">a period of time from a moment at which the UE receives a handover command to a moment at which the UE starts to check LBT on the first unlicensed channel;</p><p id="p-0388" num="0387">a period of time from a moment at which the UE receives a handover command to a moment at which the UE performs unsuccessful LBT;</p><p id="p-0389" num="0388">a period of time from a moment at which the UE starts to check LBT on the first unlicensed channel to a moment at which the UE performs unsuccessful LBT;</p><p id="p-0390" num="0389">a period of time from a moment at which the UE performs unsuccessful LBT to a moment at which the UE performs successful LBT;</p><p id="p-0391" num="0390">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the UE starts to perform channel detection on the first unlicensed channel to a moment at which the UE performs successful LBT on the second unlicensed channel; and</p><p id="p-0392" num="0391">channel occupation information.</p><p id="p-0393" num="0392">In addition, the successful handover report may further include content included in an existing successful handover report. The successful handover report may be sent in an RRC reconfiguration complete message of the UE. For details, refer to descriptions in the current technology (3GPP TS 37.816). Details are not described herein.</p><p id="p-0394" num="0393"><b>1212</b>. After receiving the successful handover report, the target gNB may perform cause analysis based on the successful handover report. In an example, the source gNB may determine, based on the indication information #4 in the successful handover report, that a mobility problem (for example, a handover delay is relatively large) is caused because the UE performs unsuccessful LBT for channel detection on the unlicensed channel in a handover process. In this case, a corresponding parameter of the UE on the unlicensed channel may be adjusted.</p><p id="p-0395" num="0394">Therefore, in this embodiment of this application, in a scenario in which the UE is handed over from the source gNB to the target gNB, in a case that the UE performs unsuccessful LBT for channel detection on the unlicensed channel but finally performs successful LBT, a random access delay is large although the UE successfully performs random access to the target gNB. In this case, the UE may send, to the target gNB, indication information indicating unsuccessful LBT, so that the target gNB can perform cause analysis for the mobility problem based on the indication information. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0396" num="0395"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a schematic flowchart of another communication method from a perspective of device interaction. In the method, a source gNB performs unsuccessful LBT for channel detection on an unlicensed channel, and consequently, a handover command fails to be sent. As shown in <figref idref="DRAWINGS">FIG. <b>13</b></figref>, the method includes step <b>1301</b> to step <b>1312</b>.</p><p id="p-0397" num="0396"><b>1301</b>. UE checks LBT (check LBT) on the unlicensed channel.</p><p id="p-0398" num="0397"><b>1302</b>. The UE sends a measurement report to the source gNB.</p><p id="p-0399" num="0398"><b>1303</b>. The source gNB sends a handover request to a target gNB. Accordingly, the target gNB receives the handover request.</p><p id="p-0400" num="0399"><b>1304</b>. The target gNB performs admission control on the UE based on the handover request.</p><p id="p-0401" num="0400"><b>1305</b>. The target gNB sends a handover request acknowledgment (ACK) to the source gNB.</p><p id="p-0402" num="0401">Specifically, for step <b>1301</b> to step <b>1305</b>, refer to descriptions of step <b>901</b> to step <b>905</b> in <figref idref="DRAWINGS">FIG. <b>9</b></figref>. For brevity, details are not described herein again.</p><p id="p-0403" num="0402"><b>1306</b>. The source gNB checks LBT on the unlicensed channel, and performs unsuccessful LBT for channel detection on the unlicensed channel (which means that the unlicensed channel cannot be used by the source gNB to send data).</p><p id="p-0404" num="0403">In an example, after receiving the handover request acknowledgment sent by the target gNB, the source gNB checks LBT on the unlicensed channel, and performs unsuccessful LBT for channel detection on the unlicensed channel. In this case, the unlicensed channel cannot be used by the source gNB to send a handover command to the UE.</p><p id="p-0405" num="0404"><b>1307</b>. The source gNB fails to send the handover command to the UE.</p><p id="p-0406" num="0405">Specifically, because the source gNB cannot obtain an unlicensed resource for sending the handover command, that is, the source gNB performs unsuccessful LBT when attempting to send, on the unlicensed channel, the handover command to the UE, and consequently, the handover command fails.</p><p id="p-0407" num="0406"><b>1308</b>. Perform reestablishment on the target gNB.</p><p id="p-0408" num="0407">Specifically, the UE experiences a radio link failure and performs reestablishment to the target gNB.</p><p id="p-0409" num="0408"><b>1309</b>. Complete an RRC reestablishment process between the UE and the target gNB.</p><p id="p-0410" num="0409"><b>1310</b>. The UE sends an RLF report to the target gNB.</p><p id="p-0411" num="0410"><b>1311</b>. The target gNB sends an RLF indication to the source gNB. Accordingly, the source gNB receives the RLF indication.</p><p id="p-0412" num="0411">Specifically, for step <b>1309</b> to step <b>1311</b>, refer to descriptions in the current technology. Details are not described herein.</p><p id="p-0413" num="0412"><b>1312</b>. After receiving the RLF indication, the source gNB may perform cause analysis for a handover failure based on the RLF indication. In this case, the source gNB may perform cause analysis for the handover failure based on the RLF indication and an unsuccessful LBT status of the source gNB.</p><p id="p-0414" num="0413">In an example, the source gNB may determine, based on the unsuccessful LBT status of the source gNB, that the source gNB performs unsuccessful LBT for channel detection on the unlicensed channel in a handover process, and consequently, the handover command fails to be sent, and a mobility problem is caused. In this case, a corresponding parameter on the unlicensed channel may be adjusted.</p><p id="p-0415" num="0414">Therefore, in this embodiment of this application, in a scenario in which the UE is handed over from the source gNB to the target gNB, when the source gNB fails to send the handover command to the UE because the source gNB perform unsuccessful LBT for channel detection on the unlicensed channel, the gNB may perform cause analysis for the handover failure based on the unsuccessful LBT status of the source gNB. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0416" num="0415"><figref idref="DRAWINGS">FIG. <b>14</b>A</figref> is a schematic flowchart of another communication method from a perspective of device interaction. In the method, a source gNB performs successful LBT for channel detection on an unlicensed channel. However, the source gNB has performed unsuccessful LBT for channel detection. In other words, in the method, the source gNB finally successfully sends a handover command to UE, and the UE successfully accesses a target gNB. As shown in <figref idref="DRAWINGS">FIG. <b>14</b>A</figref>, the method includes step <b>1410</b><i>a </i>to step <b>1450</b><i>a. </i></p><p id="p-0417" num="0416"><b>1410</b><i>a</i>. The source gNB performs unsuccessful LBT for channel detection on a first unlicensed channel.</p><p id="p-0418" num="0417"><b>1420</b><i>a</i>. The source gNB performs successful LBT for channel detection on a second unlicensed channel.</p><p id="p-0419" num="0418"><b>1430</b><i>a</i>. The source gNB sends, on the second unlicensed channel, a handover command to the UE. Accordingly, the UE receives the handover command sent by the source gNB.</p><p id="p-0420" num="0419">In other words, the source gNB performs successful LBT for channel detection on the unlicensed channel, and sends, on the unlicensed channel on which successful LBT is performed, the handover command to the UE. Finally, the UE successfully performs random access to the target gNB. However, the source gNB has performed unsuccessful LBT for channel detection. For example, step <b>1406</b> in <figref idref="DRAWINGS">FIG. <b>14</b>B</figref> may be a specific example of step <b>1410</b><i>a </i>and step <b>1420</b><i>b</i>, and step <b>1407</b> may be a specific example of step <b>1430</b><i>a</i>. For details, refer to the following description of step <b>1407</b> in <figref idref="DRAWINGS">FIG. <b>14</b>B</figref>. Details are not described herein.</p><p id="p-0421" num="0420"><b>1440</b><i>a</i>. The source gNB sends third indication information to the target gNB. The third indication information indicates that the source gNB performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0422" num="0421">Accordingly, the target gNB receives the third indication information sent by the source gNB.</p><p id="p-0423" num="0422">For example, step <b>1408</b> in <figref idref="DRAWINGS">FIG. <b>14</b>B</figref> may be a specific example of step <b>1440</b><i>a</i>. For details, refer to the following description of step <b>1408</b> in <figref idref="DRAWINGS">FIG. <b>14</b>B</figref>. Details are not described herein. Indication information #5 may be a specific example of the third indication information.</p><p id="p-0424" num="0423"><b>1450</b><i>a</i>. The target gNB determines a cause for a mobility problem. For example, the target gNB determines, based on the third indication information, the cause for the mobility problem arising from handover of the UE from the source gNB to the target gNB, that is, a mobility problem caused by a relatively large random access delay due to LBT.</p><p id="p-0425" num="0424">In an example, step <b>1411</b> in <figref idref="DRAWINGS">FIG. <b>14</b>B</figref> may be a specific example of step <b>1450</b><i>a</i>. For details, refer to the following description of step <b>1411</b> in <figref idref="DRAWINGS">FIG. <b>14</b>B</figref>. Details are not described herein.</p><p id="p-0426" num="0425">Therefore, in this embodiment of this application, in a case that the source gNB performs unsuccessful LBT for channel detection on the unlicensed channel but finally performs successful LBT, a delay in a handover process is large although the source gNB successfully sends the handover command. In this case, the source gNB may send, to the target gNB, indication information indicating unsuccessful LBT, for cause analysis for the mobility problem. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0427" num="0426"><figref idref="DRAWINGS">FIG. <b>14</b>B</figref> is a schematic flowchart of another communication method from a perspective of device interaction. In the method, a source gNB performs successful LBT for channel detection on an unlicensed channel. However, the source gNB has performed unsuccessful LBT for channel detection. In other words, in the method, the source gNB finally successfully sends a handover command to UE, and the UE successfully accesses a target gNB. As shown in <figref idref="DRAWINGS">FIG. <b>14</b>B</figref>, the method includes step <b>1401</b> to step <b>1411</b>.</p><p id="p-0428" num="0427"><b>1401</b>. UE checks LBT (check LBT) on the unlicensed channel.</p><p id="p-0429" num="0428"><b>1402</b>. The UE sends a measurement report to the source gNB.</p><p id="p-0430" num="0429"><b>1403</b>. The source gNB sends a handover request to the target gNB. Accordingly, the target gNB receives the handover request.</p><p id="p-0431" num="0430"><b>1404</b>. The target gNB performs admission control on the UE based on the handover request.</p><p id="p-0432" num="0431"><b>1405</b>. The target gNB sends a handover request acknowledgment (ACK) to the source gNB.</p><p id="p-0433" num="0432">Specifically, for step <b>1401</b> to step <b>1405</b>, refer to descriptions of step <b>901</b> to step <b>905</b> in <figref idref="DRAWINGS">FIG. <b>9</b></figref>. For brevity, details are not described herein again.</p><p id="p-0434" num="0433"><b>1406</b>. The source gNB prepares to send a handover command message to the UE, and checks LBT on the unlicensed channel when sending the handover command. Herein, the source gNB performs successful LBT for channel detection on the unlicensed channel. However, the source gNB has performed unsuccessful LBT for channel detection.</p><p id="p-0435" num="0434">For example, the source gNB performs unsuccessful LBT for channel detection on a first unlicensed channel (which means that the first unlicensed channel cannot be used by the source gNB to send data). However, the source gNB performs successful LBT for channel detection on a second unlicensed channel (which means that the second unlicensed channel can be used by the source gNB to send data).</p><p id="p-0436" num="0435">In a specific example, after receiving the handover request acknowledgment sent by the target gNB, the source gNB checks LBT on the first unlicensed channel, and performs unsuccessful LBT for channel detection on the first unlicensed channel. Subsequently, the source gNB continues to check LBT on the second unlicensed channel, and performs successful LBT for channel detection on the second unlicensed channel. In this case, the second unlicensed channel can be used by the source gNB to send the handover command to the UE. In other words the source gNB obtains an unlicensed resource for sending the handover command to the UE.</p><p id="p-0437" num="0436"><b>1407</b>. The source gNB sends the handover command to the UE.</p><p id="p-0438" num="0437">For example, the source gNB obtains, on the second unlicensed channel, the unlicensed resource for sending the handover command. Subsequently, the source gNB successfully sends, on the second unlicensed channel, the handover command to the UE.</p><p id="p-0439" num="0438">It should be noted that in a case that the source gNB has performed unsuccessful LBT for channel detection on the unlicensed channel but finally performs successful LBT on the unlicensed channel, a delay in sending the handover command by the source gNB to the UE increases although the UE successfully receives the handover command. Accordingly, a delay in a handover process also increases, potentially resulting in a mobility problem.</p><p id="p-0440" num="0439"><b>1408</b>. The source gNB sends indication information #5 to the target gNB, where the indication information #5 indicates that unsuccessful LBT is performed on the unlicensed channel. Accordingly, the source gNB receives the indication information #5. In some embodiments, the indication information #5 may further indicate that the source gNB performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0441" num="0440">In an example, the indication information #5 may include at least one of an identifier (ID) of the UE, an identifier of a cell on which unsuccessful LBT is performed, a probability that the target gNB performs unsuccessful LBT in the cell on which unsuccessful LBT is performed, and the like.</p><p id="p-0442" num="0441">Optionally, the indication information #5 may further include at least one of the following information:</p><p id="p-0443" num="0442">a period of time from a moment at which the source gNB starts to check LBT on the unlicensed channel to a moment at which the source gNB performs unsuccessful LBT;</p><p id="p-0444" num="0443">a period of time from a moment at which the source gNB performs unsuccessful LBT on the unlicensed channel to a moment at which the source gNB successfully sends a handover command;</p><p id="p-0445" num="0444">information about a moment (for example, a timestamp) at which the source gNB performs unsuccessful LBT on the unlicensed channel;</p><p id="p-0446" num="0445">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the source gNB starts to perform LBT on the unlicensed channel to a moment at which the source gNB performs successful LBT on the unlicensed channel; and</p><p id="p-0447" num="0446">channel occupation information.</p><p id="p-0448" num="0447">It should be noted that a sending occasion of the indication information #5 is not limited in this embodiment of this application. In other words, in this embodiment of this application, a sequential relationship among sending of the indication information #5, performing of a random access procedure, reporting of a successful handover report, and the like is not limited.</p><p id="p-0449" num="0448"><b>1409</b>. The UE successfully performs random access (random access success) to the target gNB.</p><p id="p-0450" num="0449">It may be understood that a random access message between the UE and the target gNB is successfully sent on the unlicensed channel.</p><p id="p-0451" num="0450"><b>1410</b>. The UE sends a successful handover report to the target gNB.</p><p id="p-0452" num="0451">In some embodiments, the successful handover report may be carried in an existing RRC message of the UE for sending, for example, an RRC reconfiguration complete message. This is not limited in this embodiment of this application. Optionally, the successful handover report may further include related information of radio link monitoring (RLM).</p><p id="p-0453" num="0452">It should be noted that step <b>1402</b> is optional.</p><p id="p-0454" num="0453">For content included in the successful handover report, refer to descriptions in the current technology (3GPP TS 37.816). Details are not described herein again.</p><p id="p-0455" num="0454"><b>1411</b>. The target gNB may perform cause analysis based on the indication information #5 and/or the successful handover report. In an example, the target gNB may determine, based on the indication information #5, that the gNB has performed unsuccessful LBT for channel detection on the unlicensed channel. As a result, a delay in sending the handover command is excessively large, causing a mobility problem (for example, a relatively large handover delay).</p><p id="p-0456" num="0455">Optionally, after determining that the problem is related to LBT configuration of the source gNB, the target gNB may send indication information #6 to the source gNB, for the source gNB to adjust LBT-related configuration. In a possible implementation, the indication information #6 may be sent to the source gNB via a handover success indication.</p><p id="p-0457" num="0456">Therefore, in this embodiment of this application, in a scenario in which the UE is handed over from the source gNB to the target gNB, in a case that the source gNB performs unsuccessful LBT for channel detection on the unlicensed channel but finally performs successful LBT, a delay in the handover process is large although the source gNB successfully sends the handover command. In this case, the source gNB may send, to the target gNB, indication information indicating unsuccessful LBT, for cause analysis for the mobility problem. Therefore, in this embodiment of this application, the mobility problem arising from unsuccessful LBT can be identified and distinguished from a conventional mobility problem, and further the mobility problem is resolved by adjusting a corresponding parameter.</p><p id="p-0458" num="0457">It may be understood that, in the foregoing embodiments of this application, the method implemented by the access network device may alternatively be implemented by a component (for example, a chip or a circuit) that can be used in the access network device, and the method implemented by the terminal device may alternatively be implemented by a component (for example, a chip or a circuit) that can be used in the terminal device.</p><p id="p-0459" num="0458">According to the foregoing methods, <figref idref="DRAWINGS">FIG. <b>15</b></figref> is a schematic diagram of a wireless communication apparatus <b>1500</b> according to an embodiment of this application.</p><p id="p-0460" num="0459">In some embodiments, the apparatus <b>1500</b> may be a first access network device, or may be a chip or a circuit, for example, a chip or a circuit that may be deployed in the first access network device. In some embodiments, the apparatus <b>1500</b> may be a second access network device, or may be a chip or a circuit, for example, a chip or a circuit that may be deployed in the second access network device. In some embodiments, the apparatus <b>1500</b> may be a terminal device, or may be a chip or a circuit, for example, a chip or a circuit that may be deployed in the terminal device.</p><p id="p-0461" num="0460">The apparatus <b>1500</b> may include a processing unit <b>1510</b> (an example of a processor) and a transceiver unit <b>1530</b>.</p><p id="p-0462" num="0461">Optionally, the transceiver unit <b>1530</b> may be implemented using a transceiver, a transceiver-related circuit, or an interface circuit.</p><p id="p-0463" num="0462">Optionally, the apparatus may further include a storage unit <b>1520</b>. In a possible manner, the storage unit <b>1520</b> is configured to store instructions. Optionally, the storage unit may alternatively be configured to store data or information. The storage unit <b>1520</b> may be implemented using a memory.</p><p id="p-0464" num="0463">In a possible design, the processing unit <b>1510</b> may be configured to execute the instructions stored in the storage unit <b>1520</b>, to enable the apparatus <b>1500</b> to implement the steps performed by the first access network device in the foregoing method.</p><p id="p-0465" num="0464">Further, the processing unit <b>1510</b>, the storage unit <b>1520</b>, and the transceiver unit <b>1530</b> may communicate with each other through an internal connection path for transmission of control signals and/or data signals. For example, the storage unit <b>1520</b> is configured to store a computer program. The processing unit <b>1510</b> may be configured to invoke the computer program from the storage unit <b>1520</b> and run the computer program, to control the transceiver unit <b>1530</b> to receive a signal and/or send a signal, to complete the steps of the first access network device in the foregoing method.</p><p id="p-0466" num="0465">In a possible design, the processing unit <b>1510</b> may be configured to execute the instructions stored in the storage unit <b>1520</b>, to enable the apparatus <b>1500</b> to implement the steps performed by the second access network device in the foregoing method.</p><p id="p-0467" num="0466">Further, the processing unit <b>1510</b>, the storage unit <b>1520</b>, and the transceiver unit <b>1530</b> may communicate with each other through an internal connection path for transmission of control signals and/or data signals. For example, the storage unit <b>1520</b> is configured to store a computer program. The processing unit <b>1510</b> may be configured to invoke the computer program from the storage unit <b>1520</b> and run the computer program, to control the transceiver unit <b>1530</b> to receive a signal and/or send a signal, to complete the steps of the second access network device in the foregoing method.</p><p id="p-0468" num="0467">In a possible design, the processing unit <b>1510</b> may be configured to execute the instructions stored in the storage unit <b>1520</b>, to enable the apparatus <b>1500</b> to implement the steps performed by the terminal device in the foregoing method.</p><p id="p-0469" num="0468">Further, the processing unit <b>1510</b>, the storage unit <b>1520</b>, and the transceiver unit <b>1530</b> may communicate with each other through an internal connection path for transmission of control signals and/or data signals. For example, the storage unit <b>1520</b> is configured to store a computer program. The processing unit <b>1510</b> may be configured to invoke the computer program from the storage unit <b>1520</b> and run the computer program, to control the transceiver unit <b>1530</b> to receive a signal and/or send a signal, to complete the steps of the terminal device in the foregoing method.</p><p id="p-0470" num="0469">The storage unit <b>1520</b> may be integrated into the processing unit <b>1510</b>, or may be deployed separately from the processing unit <b>1510</b>.</p><p id="p-0471" num="0470">Optionally, if the apparatus <b>1500</b> is a communication device, the transceiver unit <b>1530</b> may include a receiver and a transmitter. The receiver and the transmitter may be a same physical entity or different physical entities. When the receiver and the transmitter are a same physical entity, the receiver and the transmitter may be collectively referred to as a transceiver.</p><p id="p-0472" num="0471">Optionally, if the apparatus <b>1500</b> is the chip or the circuit, the transceiver unit <b>1530</b> may include an input interface and an output interface.</p><p id="p-0473" num="0472">In an implementation, a function of the transceiver unit <b>1530</b> may be considered to be implemented using a transceiver circuit or a transceiver-dedicated chip. It may be considered that the processing unit <b>1510</b> is implemented using a dedicated processing chip, a processing circuit, a processing unit, or a general-purpose chip.</p><p id="p-0474" num="0473">In another implementation, it may be considered that the communication device (for example, the first access network device, the second access network device, or the terminal device) provided in embodiments of this application is implemented using a general-purpose computer. That is, program code for implementing functions of the processing unit <b>1510</b> and the transceiver unit <b>1530</b> is stored in the storage unit <b>1520</b>, and the general-purpose processing unit implements the functions of the processing unit <b>1510</b> and the transceiver unit <b>1530</b> by executing the code in the storage unit <b>1520</b>.</p><p id="p-0475" num="0474">In some embodiments, when the apparatus <b>1500</b> is the first access network device or the chip or the circuit deployed in the first access network device, the transceiver unit <b>1530</b> is configured to receive a random access request sent by a terminal device. The processing unit <b>1510</b> is configured to perform unsuccessful listen before talk (LBT) for channel detection on an unlicensed channel.</p><p id="p-0476" num="0475">The transceiver unit <b>1530</b> is further configured to send first indication information to a second access network device, where the first indication information indicates that the first access network device performs unsuccessful LBT for channel detection on the unlicensed channel.</p><p id="p-0477" num="0476">Optionally, before the processing unit <b>1510</b> performs unsuccessful listen before talk (LBT) for channel detection on the unlicensed channel, the transceiver unit <b>1530</b> is further configured to receive a handover request from the second access network device, where the handover request requests the terminal device to hand over from the second access network device to the first access network device.</p><p id="p-0478" num="0477">In response to the handover request, the transceiver unit <b>1530</b> is further configured to send a handover response to the second access network device, and the processing unit <b>1510</b> is further configured to start a timer corresponding to the terminal device, where the timer is used by the first access network device to identify the terminal device.</p><p id="p-0479" num="0478">Optionally, before the processing unit <b>1510</b> performs unsuccessful listen before talk (LBT) for channel detection on the unlicensed channel, the transceiver unit <b>1530</b> is further configured to receive fourth indication information from the second access network device, where the fourth indication information indicates the first access network device to start the timer corresponding to the terminal device, and the timer is used by the first access network device to identify the terminal device.</p><p id="p-0480" num="0479">The processing unit <b>1510</b> is further configured to start the timer based on the fourth indication information.</p><p id="p-0481" num="0480">Optionally, the first indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0482" num="0481">In some embodiments, when the apparatus <b>1500</b> is the second access network device or the chip or the circuit deployed in the second access network device, the transceiver unit <b>1530</b> is configured to receive first indication information sent by a first access network device, where the first indication information indicates that the first access network device performs unsuccessful listen before talk (LBT) for channel detection on an unlicensed channel.</p><p id="p-0483" num="0482">The processing unit <b>1510</b> is configured to determine, based on the first indication information, a cause for a mobility problem arising from handover of a terminal device from the second access network device to the first access network device.</p><p id="p-0484" num="0483">Optionally, before the transceiver unit <b>1530</b> receives the first indication information sent by the first access network device, the transceiver unit <b>1530</b> is further configured to send fourth indication information to the first access network device, where the fourth indication information indicates the first access network device to start a timer corresponding to the terminal device, and the timer is used by the first access network device to identify the terminal device.</p><p id="p-0485" num="0484">Optionally, the first indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0486" num="0485">In some embodiments, when the apparatus <b>1500</b> is the terminal device or the chip or the circuit deployed in the terminal device, the processing unit <b>1510</b> is configured to perform unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel, and perform successful LBT for channel detection on a second unlicensed channel.</p><p id="p-0487" num="0486">The transceiver unit <b>1530</b> is configured to send, on the second unlicensed channel, a request message to a first access network device.</p><p id="p-0488" num="0487">The transceiver unit <b>1530</b> is further configured to send second indication information to the first access network device, where the second indication information indicates that the terminal device performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0489" num="0488">Optionally, the transceiver unit <b>1530</b> is specifically configured to send a successful handover report to the first access network device, where the successful handover report indicates that the terminal device is successfully handed over to the first access network device, and the successful handover report includes the second indication information.</p><p id="p-0490" num="0489">Optionally, the successful handover report further includes at least one of the following:</p><p id="p-0491" num="0490">a period of time from a moment at which channel detection starts to be performed on the first unlicensed channel to a moment at which successful LBT is performed on the second unlicensed channel;</p><p id="p-0492" num="0491">information about a moment at which unsuccessful LBT is performed on the first unlicensed channel;</p><p id="p-0493" num="0492">a period of time from a moment at which a handover command is received to a moment at which LBT starts to be checked on the first unlicensed channel;</p><p id="p-0494" num="0493">a period of time from a moment at which a handover command is received to a moment at which unsuccessful LBT is performed on the first unlicensed channel;</p><p id="p-0495" num="0494">a period of time from a moment at which LBT starts to be checked on the first unlicensed channel to a moment at which unsuccessful LBT is performed;</p><p id="p-0496" num="0495">a period of time from a moment at which unsuccessful LBT is performed to a moment at which successful LBT is performed;</p><p id="p-0497" num="0496">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which channel detection starts to be performed on the first unlicensed channel to a moment at which successful LBT is performed on the second unlicensed channel; and</p><p id="p-0498" num="0497">channel occupation information.</p><p id="p-0499" num="0498">Optionally, the second indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0500" num="0499">Optionally, the request message includes a message 1 or a message 3 in a random access procedure.</p><p id="p-0501" num="0500">In some embodiments, when the apparatus <b>1500</b> is the first access network device or the chip or the circuit deployed in the first access network device, the transceiver unit <b>1530</b> is configured to receive a request message sent on the second unlicensed channel by the terminal device.</p><p id="p-0502" num="0501">The transceiver unit <b>1530</b> is further configured to receive second indication information sent by the terminal device, where the second indication information indicates that the terminal device performs unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0503" num="0502">The processing unit <b>1510</b> is configured to determine, based on the second indication information, a cause for a mobility problem arising from handover of the terminal device from the second access network device to the first access network device.</p><p id="p-0504" num="0503">Optionally, the transceiver unit <b>1530</b> is specifically configured to receive a successful handover report sent by the terminal device, where the successful handover report indicates that the terminal device is successfully handed over to the first access network device, and the successful handover report includes the second indication information.</p><p id="p-0505" num="0504">Optionally, the successful handover report further includes at least one of the following:</p><p id="p-0506" num="0505">a period of time from a moment at which the terminal device starts to perform channel detection on the first unlicensed channel to a moment at which the terminal device performs successful LBT on the second unlicensed channel;</p><p id="p-0507" num="0506">information about a moment at which the terminal device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0508" num="0507">a period of time from a moment at which the terminal device receives a handover command to a moment at which the terminal device starts to check LBT on the first unlicensed channel;</p><p id="p-0509" num="0508">a period of time from a moment at which the terminal device receives a handover command to a moment at which the terminal device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0510" num="0509">a period of time from a moment at which the terminal device starts to check LBT on the first unlicensed channel to a moment at which the terminal device performs unsuccessful LBT;</p><p id="p-0511" num="0510">a period of time from a moment at which the terminal device performs unsuccessful LBT to a moment at which the terminal device performs successful LBT;</p><p id="p-0512" num="0511">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the terminal device starts to perform channel detection on the first unlicensed channel to a moment at which the terminal device performs successful LBT on the second unlicensed channel; and</p><p id="p-0513" num="0512">channel occupation information.</p><p id="p-0514" num="0513">Optionally, the second indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0515" num="0514">Optionally, the request message includes a message 1 or a message 3 in a random access procedure.</p><p id="p-0516" num="0515">In some embodiments, when the apparatus <b>1500</b> is the second access network device or the chip or the circuit deployed in the second access network device, the processing unit <b>1510</b> is configured to perform unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel, and then perform successful LBT for channel detection on a second unlicensed channel.</p><p id="p-0517" num="0516">The transceiver unit <b>1530</b> is configured to send, on the second unlicensed channel, a handover command to a terminal device.</p><p id="p-0518" num="0517">The transceiver unit <b>1530</b> is further configured to send third indication information to the first access network device, where the third indication information indicates that the terminal device performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</p><p id="p-0519" num="0518">Optionally, the third indication information includes:</p><p id="p-0520" num="0519">a period of time from a moment at which channel detection starts to be performed on the first unlicensed channel to a moment at which successful LBT is performed on the second unlicensed channel;</p><p id="p-0521" num="0520">information about a moment at which unsuccessful LBT is performed on the first unlicensed channel;</p><p id="p-0522" num="0521">a period of time from a moment at which LBT starts to be checked on the first unlicensed channel to a moment at which unsuccessful LBT is performed;</p><p id="p-0523" num="0522">a period of time from a moment at which unsuccessful LBT is performed to a moment at which a handover command is successfully sent;</p><p id="p-0524" num="0523">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which channel detection starts to be performed on the first unlicensed channel to a moment at which successful LBT is performed on the second unlicensed channel; and</p><p id="p-0525" num="0524">channel occupation information.</p><p id="p-0526" num="0525">Optionally, the third indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0527" num="0526">In some embodiments, when the apparatus <b>1500</b> is the first access network device or the chip or the circuit deployed in the first access network device, the transceiver unit <b>1530</b> is configured to receive third indication information from a second access network device, where the third indication information indicates that a terminal device performs unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel before performing channel detection on a second unlicensed channel and performing successful LBT.</p><p id="p-0528" num="0527">The processing unit <b>1510</b> is configured to determine, based on the third indication information, a cause for a mobility problem arising from handover of the terminal device from the second access network device to the first access network device.</p><p id="p-0529" num="0528">Optionally, the third indication information includes:</p><p id="p-0530" num="0529">a period of time from a moment at which the second access network device starts to perform channel detection on the first unlicensed channel to a moment at which the second access network device performs successful LBT on the second unlicensed channel;</p><p id="p-0531" num="0530">information about a moment at which the second access network device performs unsuccessful LBT on the first unlicensed channel;</p><p id="p-0532" num="0531">a period of time from a moment at which the second access network device starts to check LBT on the first unlicensed channel to a moment at which the second access network device performs unsuccessful LBT;</p><p id="p-0533" num="0532">a period of time from a moment at which the second access network device performs unsuccessful LBT to a moment at which the second access network device successfully sends a handover command;</p><p id="p-0534" num="0533">a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the second access network device starts to perform channel detection on the first unlicensed channel to a moment at which the second access network device performs successful LBT on the second unlicensed channel; and</p><p id="p-0535" num="0534">channel occupation information.</p><p id="p-0536" num="0535">Optionally, the third indication information includes at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</p><p id="p-0537" num="0536">The units in the foregoing embodiment may also be referred to as modules, circuits, or components.</p><p id="p-0538" num="0537">Functions and actions of the modules or units in the apparatus <b>1500</b> listed above are merely examples for description. When the apparatus <b>1500</b> is configured in or is the first access network device, the modules or the units in the apparatus <b>1500</b> may be configured to perform the actions or processing processes performed by the first access network device in the foregoing method. When the apparatus <b>1500</b> is configured in or is the second access network device, the modules or the units in the apparatus <b>1500</b> may be configured to perform the actions or processing processes performed by the second access network device in the foregoing method. When the apparatus <b>1500</b> is configured in or is the terminal device, the modules or the units in the apparatus <b>1500</b> may be configured to perform the actions or processing processes performed by the terminal device in the foregoing method.</p><p id="p-0539" num="0538">For concepts, explanations, detailed descriptions, and other steps of the apparatus <b>1500</b> that are related to the technical solutions provided in embodiments of this application, refer to the descriptions of the content in the foregoing methods or other embodiments. Details are not described herein again.</p><p id="p-0540" num="0539"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a schematic diagram of a structure of a terminal device <b>1600</b> according to this application. The terminal device <b>1600</b> may perform the actions performed by the terminal device in the foregoing method embodiments.</p><p id="p-0541" num="0540">For ease of description, <figref idref="DRAWINGS">FIG. <b>16</b></figref> shows only main components of the terminal device. As shown in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, the terminal device <b>1600</b> includes a processor, a memory, a control circuit, an antenna, and an input/output apparatus.</p><p id="p-0542" num="0541">The processor is mainly configured to process a communication protocol and communication data, control the entire terminal device, execute a software program, and process data of the software program, for example, configured to support the terminal device in performing actions described in the foregoing embodiment of the indication method for transmitting a precoding matrix. The memory is mainly configured to store the software program and data, for example, store a codebook described in the foregoing embodiment. The control circuit is mainly configured to convert a baseband signal and a radio frequency signal and process the radio frequency signal. The control circuit and the antenna together may also be referred to as a transceiver, and are mainly configured to receive and send a radio frequency signal in a form of an electromagnetic wave. The input/output apparatus, for example, a touchscreen, a display, or a keyboard, is mainly configured to receive data input by a user, and output data to the user.</p><p id="p-0543" num="0542">After the terminal device is powered on, the processor may read the software program in the storage unit, interpret and execute instructions of the software program, and process data of the software program. When data needs to be sent wirelessly, the processor performs baseband processing on the to-be-sent data, and then outputs a baseband signal to a radio frequency circuit. The radio frequency circuit performs radio frequency processing on the baseband signal, and then sends a radio frequency signal in a form of an electromagnetic wave through the antenna. When data is sent to the terminal device, the radio frequency circuit receives the radio frequency signal through the antenna, converts the radio frequency signal into the baseband signal, and outputs the baseband signal to the processor. The processor converts the baseband signal into data and processes the data.</p><p id="p-0544" num="0543">A person skilled in the art may understand that, for ease of description, <figref idref="DRAWINGS">FIG. <b>16</b></figref> shows only one memory and one processor. In an actual terminal device, there may be a plurality of processors and memories. The memory may also be referred to as a storage medium, a storage device, or the like. This is not limited in embodiments of this application.</p><p id="p-0545" num="0544">For example, the processor may include a baseband processor and a central processing unit. The baseband processor is mainly configured to process the communication protocol and the communication data. The central processing unit is mainly configured to control the entire terminal device, execute a software program, and process data of the software program. Functions of the baseband processor and the central processing unit are integrated into the processor in <figref idref="DRAWINGS">FIG. <b>16</b></figref>. A person skilled in the art may understand that the baseband processor and the central processing unit each may be an independent processor, and are interconnected by using technologies such as a bus. A person skilled in the art may understand that the terminal device may include a plurality of baseband processors to adapt to different network standards, and the terminal device may include a plurality of central processing units to enhance processing capabilities of the terminal device, and components of the terminal device may be connected through various buses. The baseband processor may also be expressed as a baseband processing circuit or a baseband processing chip. The central processing unit may alternatively be expressed as a central processing circuit or a central processing chip. A function of processing the communication protocol and the communication data may be built in the processor, or may be stored in the storage unit in a form of a software program, and the processor executes the software program to implement a baseband processing function.</p><p id="p-0546" num="0545">For example, in this embodiment of this application, the antenna and the control circuit that have a transceiver function may be considered as a transceiver unit <b>1610</b> of the terminal device <b>1600</b>, and the processor having a processing function may be considered as a processing unit <b>1620</b> of the terminal device <b>1600</b>. As shown in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, the terminal device <b>1600</b> includes the transceiver unit <b>1610</b> and the processing unit <b>1620</b>. The transceiver unit <b>1610</b> may also be referred to as a transceiver, a transceiver machine, a transceiver apparatus, or the like. Optionally, a component that is in the transceiver unit <b>1610</b> and that is configured to implement a receiving function may be considered as a receiving unit, and a component that is in the transceiver unit <b>1610</b> and that is configured to implement a sending function may be considered as a sending unit. That is, the transceiver unit includes the receiving unit and the sending unit. For example, the receiving unit may also be referred to as a receiver, a receive machine, or a receiving circuit. The sending unit may be referred to as a transmitter, a transmit machine, or a transmitting circuit.</p><p id="p-0547" num="0546"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a schematic diagram of a structure of a network device <b>1700</b> according to an embodiment of this application. The network device <b>1700</b> may be configured to implement functions of the access network device (for example, the first access network device or the second access network device) in the foregoing method. The network device <b>1700</b> includes one or more radio units such as a remote radio unit (RRU) <b>1710</b> and one or more baseband units (BBU) (which may also be referred to as a digital unit, DU) <b>1720</b>. The RRU <b>1710</b> may be referred to as a transceiver unit, a transceiver, a transceiver circuit, a transceiver, or the like, and may include at least one antenna <b>1711</b> and a radio unit <b>1712</b>. The RRU <b>1710</b> part is mainly configured to: send and receive a radio frequency signal and perform conversion between a radio frequency signal and a baseband signal, for example, is configured to send the signaling message in the foregoing embodiments to a terminal device. The BBU <b>1720</b> is mainly configured to perform baseband processing, control a base station, and so on. The RRU <b>1710</b> and the BBU <b>1720</b> may be physically deployed together, or may be physically separated, that is, a distributed base station.</p><p id="p-0548" num="0547">The BBU <b>1720</b> is a control center of the base station, may also be referred to as a processing unit, and is mainly configured to implement a baseband processing function, for example, channel coding, multiplexing, modulation, and spreading. For example, the BBU (the processing unit) <b>1720</b> may be configured to control the access network device to perform an operation procedure related to the access network device in the foregoing method embodiments.</p><p id="p-0549" num="0548">In an example, the BBU <b>1720</b> may include one or more boards, and a plurality of boards may jointly support a radio access network (such as an LTE system or a 5G system) in a single access standard, or may separately support radio access networks in different access standards. The BBU <b>1720</b> further includes a memory <b>1721</b> and a processor <b>1722</b>. The memory <b>1721</b> is configured to store necessary instructions and data. The processor <b>1722</b> is configured to control the access network device for necessary actions, for example, configured to control the access network device for an operation procedure related to the access network device in the foregoing method embodiments. The memory <b>1721</b> and the processor <b>1722</b> may serve one or more boards. In other words, a memory and a processor may be deployed on each board. Alternatively, the plurality of boards may share a same memory and processor. In addition, a necessary circuit may further be deployed on each board.</p><p id="p-0550" num="0549">In a possible implementation, with development of a system-on-chip (SoC) technology, all or some functions of the part <b>1720</b> and the part <b>1710</b> may be implemented using the SoC technology, for example, implemented using a base station function chip. The base station function chip integrates components such as a processor, a memory, and an antenna port. A program of a base station&#x2014;related function is stored in the memory. The processor executes the program to implement the base station&#x2014;related function. Optionally, the base station function chip can also read an external memory of the chip, to implement a related function of the base station.</p><p id="p-0551" num="0550">It should be understood that the structure of the network device shown in <figref idref="DRAWINGS">FIG. <b>17</b></figref> is merely a possible form, and should not constitute any limitation on embodiments of this application. This application does not exclude a possibility that a base station structure of another form may appear in the future.</p><p id="p-0552" num="0551">According to the methods provided in embodiments of this application, an embodiment of this application further provides a communication system. The communication system includes the foregoing first access network device, second access network device, and terminal device.</p><p id="p-0553" num="0552">It should be understood that, the processor in embodiments of this application may be a central processing unit (CPU), or may be another general-purpose processor, a digital signal processor (DSP), an application-specific integrated circuit (ASIC), a field programmable gate array (FPGA), or another programmable logic device, discrete gate or transistor logic device, discrete hardware component, or the like. The general-purpose processor may be a microprocessor, or the processor may be any conventional processor or the like.</p><p id="p-0554" num="0553">It may be understood that the memory in embodiments of this application may be a volatile memory or a nonvolatile memory, or may include a volatile memory and a nonvolatile memory. The nonvolatile memory may be a read-only memory (ROM), a programmable read-only memory (programmable ROM, PROM), an erasable programmable read-only memory (erasable PROM, EPROM), an electrically erasable programmable read-only memory (electrically EPROM, EEPROM), or a flash memory. The volatile memory may be a random access memory (RAM), used as an external cache. By way of example and not limitative description, random access memories (random access memory, RAM) in many forms may be used, for example, a static random access memory (static RAM, SRAM), a dynamic random access memory (DRAM), a synchronous dynamic random access memory (synchronous DRAM, SDRAM), a double data rate synchronous dynamic random access memory (double data rate SDRAM, DDR SDRAM), an enhanced synchronous dynamic random access memory (enhanced SDRAM, ESDRAM), a synchlink dynamic random access memory (synchlink DRAM, SLDRAM), and a direct rambus random access memory (direct rambus RAM, DR RAM).</p><p id="p-0555" num="0554">All or some of the foregoing embodiments may be implemented using software, hardware, firmware, or any combination thereof. When the software is used to implement embodiments, the foregoing embodiments may be implemented completely or partially in a form of a computer program product. The computer program product includes one or more computer instructions or computer programs. When the computer instructions or the computer programs are loaded and executed on a computer, the procedure or functions according to embodiments of this application are all or partially generated. The computer may be a general-purpose computer, a dedicated computer, a computer network, or another programmable apparatus. The computer instructions may be stored in a computer-readable storage medium or may be transmitted from a computer-readable storage medium to another computer-readable storage medium. For example, the computer instructions may be transmitted from a website, computer, server, or data center to another website, computer, server, or data center in a wired (for example, infrared, radio, and microwave, or the like) manner. The computer-readable storage medium may be any usable medium accessible by a computer, or a data storage device, such as a server or a data center, integrating one or more usable media. The usable medium may be a magnetic medium (for example, a floppy disk, a hard disk, or a magnetic tape), an optical medium (for example, a DVD), or a semiconductor medium. The semiconductor medium may be a solid-state drive.</p><p id="p-0556" num="0555">An embodiment of this application further provides a computer-readable medium that stores a computer program. When the computer program is executed by a computer, the steps performed by the first access network device, the steps performed by the second access network device, or the steps performed by the terminal device in any one of the foregoing embodiments are implemented.</p><p id="p-0557" num="0556">An embodiment of this application further provides a computer program product. When the computer program product is executed by a computer, the steps performed by the first access network device, the steps performed by the second access network device, or the steps performed by the terminal device in any one of the foregoing embodiments are implemented.</p><p id="p-0558" num="0557">An embodiment of this application further provides a system chip. The system chip includes a communication unit and a processing unit. The processing unit may be, for example, a processor. The communication unit may be, for example, an input/output interface, a pin, or a circuit. The processing unit may execute computer instructions, so that the chip in the communication apparatus performs the steps performed by the first access network device, the steps performed by the second access network device, or the steps performed by the terminal device provided in the foregoing embodiments of this application.</p><p id="p-0559" num="0558">Optionally, the computer instructions are stored in a storage unit.</p><p id="p-0560" num="0559">Embodiments in this application may be used independently, or may be used jointly. This is not limited herein.</p><p id="p-0561" num="0560">In addition, aspects or features of this application may be implemented as a method, an apparatus, or a product that uses standard programming and/or engineering technologies. The term &#x201c;product&#x201d; used in this application covers a computer program that can be accessed from any computer-readable component, carrier or medium. For example, a computer-readable medium may include but is not limited to: a magnetic storage component (for example, a hard disk, a floppy disk, or a magnetic tape), an optical disc (for example, a compact disc (CD) and a digital versatile disc (DVD)), a smart card, and a flash memory component (for example, an erasable programmable read-only memory (EPROM), a card, a stick, or a key drive). In addition, various storage media described in this specification may represent one or more devices and/or other machine-readable media that are configured to store information. The term &#x201c;machine readable media&#x201d; may include but is not limited to a radio channel, and various other media that can store, contain and/or carry instructions and/or data.</p><p id="p-0562" num="0561">It should be understood that in the foregoing embodiments, terms such as &#x201c;first&#x201d; and &#x201c;second&#x201d; are merely intended to distinguish different objects, and should not constitute any limitation on this application, for example, distinguish between different access network devices and different unlicensed channels.</p><p id="p-0563" num="0562">It should be further understood that the term &#x201c;and/or&#x201d; describes an association relationship between associated objects and represents that three relationships may exist. For example, A and/or B may represent the following three cases: only A exists, both A and B exist, and only B exists. The character &#x201c;/&#x201d; generally indicates an &#x201c;or&#x201d; relationship between the associated objects. The term &#x201c;at least one&#x201d; means one or more. The term &#x201c;at least one of A and B&#x201d;, similar to the term &#x201c;A and/or B&#x201d;, describes an association relationship between associated objects and represents that three relationships may exist. For example, at least one of A and B may represent the following three cases: only A exists, both A and B exist, and only B exists.</p><p id="p-0564" num="0563">A person of ordinary skill in the art may be aware that, in combination with the examples described in embodiments disclosed in this specification, units and algorithm steps may be implemented by electronic hardware or a combination of computer software and electronic hardware. Whether the functions are performed by hardware or software depends on particular applications and design constraint conditions of the technical solutions. A person skilled in the art may use different methods to implement the described functions for each particular application, but it should not be considered that the implementation goes beyond the scope of this application.</p><p id="p-0565" num="0564">It may be clearly understood by a person skilled in the art that, for the purpose of convenient and brief description, for a detailed working process of the foregoing system, apparatus, and unit, refer to a corresponding process in the foregoing method embodiments, and details are not described herein again.</p><p id="p-0566" num="0565">In several embodiments provided in this application, it should be understood that the disclosed system, apparatus, and method may be implemented in another manner. For example, the described apparatus embodiment is merely an example. For example, division into the units is merely logical function division or may be other division in actual implementation. For example, a plurality of units or components may be combined or integrated into another system, or some features may be ignored or not performed. In addition, the displayed or discussed mutual couplings or direct couplings or communication connections may be implemented through some interfaces. The indirect couplings or communication connections between the apparatuses or units may be implemented in electrical, mechanical, or another form.</p><p id="p-0567" num="0566">The units described as separate parts may or may not be physically separate, and parts displayed as units may or may not be physical units, may be located in one position, or may be distributed on a plurality of network units. Some or all of the units may be selected depending on actual requirements to achieve the objectives of the solutions of embodiments.</p><p id="p-0568" num="0567">In addition, function units in embodiments of this application may be integrated into one processing unit, or each of the units may exist alone physically, or two or more units are integrated into one unit.</p><p id="p-0569" num="0568">When the functions are implemented in a form of a software functional unit and sold or used as an independent product, the functions may be stored in a computer-readable storage medium. Based on such an understanding, the technical solutions of this application essentially, or the part contributing to the current technology, or some of the technical solutions may be implemented in a form of a software product. The software product is stored in a storage medium, and includes several instructions for instructing a computer device (which may be a personal computer, a server, or a network device) to perform all or some of the steps of the methods described in embodiments of this application. The foregoing storage medium includes any medium that can store program code, such as a USB flash drive, a removable hard disk, a read-only memory (ROM), a random access memory (RAM), a magnetic disk, or an optical disc.</p><p id="p-0570" num="0569">The foregoing descriptions are merely specific implementations of this application, but are not intended to limit the protection scope of this application. Any variation or replacement readily figured out by a person skilled in the art within the technical scope disclosed in this application shall fall within the protection scope of this application. Therefore, the protection scope of this application shall be subject to the protection scope of the claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A first access network device, comprising:<claim-text>at least one processor; and</claim-text><claim-text>one or more memories including computer instructions that, when executed by the at least one processor, cause the first access network device to perform operations comprising:</claim-text><claim-text>receiving a random access request sent by a terminal device;</claim-text><claim-text>performing unsuccessful listen before talk (LBT) for channel detection on an unlicensed channel; and</claim-text><claim-text>sending first indication information to a second access network device, wherein the first indication information indicates that the first access network device performs unsuccessful LBT for channel detection on the unlicensed channel.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The first access network device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the operations further comprise:<claim-text>before the performing unsuccessful listen before talk (LBT):<claim-text>receiving a handover request from the second access network device, wherein the handover request requests the terminal device to hand over from the second access network device to the first access network device; and</claim-text><claim-text>in response to the handover request, sending a handover response to the second access network device, and starting a timer corresponding to the terminal device, wherein the timer is used by the first access network device to identify the terminal device.</claim-text></claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The first access network device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the operations further comprise:<claim-text>before the performing unsuccessful listen before talk (LBT):<claim-text>receiving fourth indication information from the second access network device, wherein the fourth indication information indicates the first access network device to start a timer corresponding to the terminal device, and the timer is used by the first access network device to identify the terminal device; and</claim-text><claim-text>starting the timer based on the fourth indication information.</claim-text></claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The first access network device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first indication information comprises at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, or a probability of unsuccessful LBT.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. A second access network device, comprising:<claim-text>at least one processor; and</claim-text><claim-text>one or more memories including computer instructions that, when executed by the at least one processor, cause the second access network device to perform operations comprising:</claim-text><claim-text>receiving first indication information sent by a first access network device, wherein the first indication information indicates that the first access network device performs unsuccessful listen before talk (LBT) for channel detection on an unlicensed channel; and</claim-text><claim-text>determining based on the first indication information, a cause for a mobility problem arising from handover of a terminal device from the second access network device to the first access network device.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The second access network device according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the operations further comprise:<claim-text>before the receiving the first indication information:<claim-text>sending fourth indication information to the first access network device, wherein the fourth indication information indicates the first access network device to start a timer corresponding to the terminal device, and the timer is used by the first access network device to identify the terminal device.</claim-text></claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The second access network device according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the first indication information comprises at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. A terminal device, comprising:<claim-text>at least one processor; and</claim-text><claim-text>one or more memories including computer instructions that, when executed by the at least one processor, cause the terminal device to perform operations comprising:</claim-text><claim-text>performing unsuccessful listen before talk (LBT) for channel detection on a first unlicensed channel;</claim-text><claim-text>performing successful LBT for channel detection on a second unlicensed channel;</claim-text><claim-text>sending on the second unlicensed channel, a request message to a first access network device; and</claim-text><claim-text>sending second indication information to the first access network device, wherein the second indication information indicates that the terminal device performs unsuccessful LBT for channel detection on the first unlicensed channel before performing channel detection on the second unlicensed channel and performing successful LBT.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The terminal device according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the sending the second indication information to the first access network device comprises:<claim-text>sending a successful handover report to the first access network device, wherein the successful handover report indicates that the terminal device is successfully handed over to the first access network device, and the successful handover report comprises the second indication information.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The terminal device according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the successful handover report further comprises at least one of the following:<claim-text>a period of time from a moment at which the terminal device starts to perform channel detection on the first unlicensed channel to a moment at which the terminal device performs successful LBT on the second unlicensed channel;</claim-text><claim-text>information about a moment at which the terminal device performs unsuccessful LBT on the first unlicensed channel;</claim-text><claim-text>a period of time from a moment at which the terminal device receives a handover command to a moment at which the terminal device starts to check LBT on the first unlicensed channel;</claim-text><claim-text>a period of time from a moment at which the terminal device receives a handover command to a moment at which the terminal device performs unsuccessful LBT on the first unlicensed channel;</claim-text><claim-text>a period of time from a moment at which the terminal device starts to check LBT on the first unlicensed channel to a moment at which the terminal device performs unsuccessful LBT;</claim-text><claim-text>a period of time from a moment at which the terminal device performs unsuccessful LBT to a moment at which the terminal device performs successful LBT;</claim-text><claim-text>a quantity of times of performing unsuccessful LBT during a period of time from a moment at which the terminal device starts to perform channel detection on the first unlicensed channel to a moment at which the terminal device performs successful LBT on the second unlicensed channel; or</claim-text><claim-text>channel occupation information.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The terminal device according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the second indication information comprises at least one of an identifier of the terminal device, an identifier of a cell on which unsuccessful LBT is performed, and a probability of unsuccessful LBT.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The terminal device according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the request message comprises a message 1 or a message 3 in a random access procedure.</claim-text></claim></claims></us-patent-application>