<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230005738A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230005738</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17710490</doc-number><date>20220331</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>01</class><subclass>L</subclass><main-group>21</main-group><subgroup>027</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>03</class><subclass>F</subclass><main-group>7</main-group><subgroup>20</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>01</class><subclass>L</subclass><main-group>21</main-group><subgroup>0275</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>03</class><subclass>F</subclass><main-group>7</main-group><subgroup>70033</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>03</class><subclass>F</subclass><main-group>2007</main-group><subgroup>2067</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">METHOD OF MANUFACTURING SEMICONDUCTOR DEVICES AND PATTERN FORMATION METHOD FOR MANUFACTURING SEMICONDUCTOR DEVICES</invention-title><us-related-documents><us-provisional-application><document-id><country>US</country><doc-number>63216634</doc-number><date>20210630</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>TAIWAN SEMICONDUCTOR MANUFACTURING COMPANY, LTD.</orgname><address><city>Hsinchu</city><country>TW</country></address></addressbook><residence><country>TW</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>YAMAZOE</last-name><first-name>Kenji</first-name><address><city>San Jose</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>WU</last-name><first-name>Ping-Chieh</first-name><address><city>Zhubei City</city><country>TW</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>NG</last-name><first-name>Hoi-Tou</first-name><address><city>Hsinchu City</city><country>TW</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>HO</last-name><first-name>Kenneth Lik Kin</first-name><address><city>Redwood City</city><state>CA</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">In a pattern formation method for a semiconductor device fabrication, an original pattern for manufacturing a photomask is acquired, a modified original pattern is obtained by performing an optical proximity correction on the original pattern, a sub-resolution assist feature (SRAF) seed map with respect to the modified original pattern indicating locations where an image quality is improved by an SRAF pattern is obtained, SRAF patterns are placed around the original pattern, the SRAF patterns and the modified original pattern are output as mask data, and the photo mask is manufactured using the mask data.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="101.60mm" wi="158.75mm" file="US20230005738A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="215.39mm" wi="154.26mm" orientation="landscape" file="US20230005738A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="230.29mm" wi="161.04mm" orientation="landscape" file="US20230005738A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="252.81mm" wi="169.33mm" orientation="landscape" file="US20230005738A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="220.05mm" wi="92.12mm" orientation="landscape" file="US20230005738A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="237.91mm" wi="156.38mm" orientation="landscape" file="US20230005738A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="229.28mm" wi="140.46mm" orientation="landscape" file="US20230005738A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="223.69mm" wi="159.34mm" orientation="landscape" file="US20230005738A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="227.50mm" wi="158.24mm" orientation="landscape" file="US20230005738A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="244.35mm" wi="164.17mm" orientation="landscape" file="US20230005738A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="248.58mm" wi="164.93mm" orientation="landscape" file="US20230005738A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="249.26mm" wi="167.22mm" orientation="landscape" file="US20230005738A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="204.05mm" wi="166.54mm" orientation="landscape" file="US20230005738A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="250.87mm" wi="164.59mm" orientation="landscape" file="US20230005738A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="240.79mm" wi="162.48mm" orientation="landscape" file="US20230005738A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application claims the benefit of U.S. Provisional Application No. 63/216,634, filed Jun. 30, 2021, the entirety of which is hereby incorporated by reference herein. Further, the entire contents of U.S. Pat. No. 10,990,002 to Yamazoe et al. is incorporated herein by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0003" num="0002">The electronics industry has experienced an ever-increasing demand for smaller and faster electronic devices to support a greater number of increasingly complex and sophisticated functions. Accordingly, there is a continuing trend in the semiconductor industry to manufacture low-cost, high-performance, and low-power integrated circuits (ICs). Thus far, these goals have been achieved in large part by scaling down semiconductor IC dimensions (e.g., minimum feature size) and thereby improving production efficiency and lowering associated costs. However, such scaling down has also introduced increased complexity to the semiconductor manufacturing process. Thus, the realization of continued advances in semiconductor ICs and devices calls for similar advances in semiconductor manufacturing processes and technology.</p><p id="p-0004" num="0003">As merely one example, scaling down of IC dimensions has been achieved by extending the usable resolution of a given lithography generation by the use of one or more resolution enhancement technologies (RETs), such as phase shift masks (PSMs), off-axis illumination (OAI), optical proximity correction (OPC), and insertion of sub-resolution assist features (SRAFs) into a design layout. Several SRAF insertion or placement techniques have been proposed. Some of them, being rule-based, have relatively short turn-around time but far-from-ideal accuracy. Some of them use numerous iterations of mask optimization to achieve outstanding accuracy but take a long time for each SRAF insertion exercise. Thus, existing techniques have not proved entirely satisfactory in all respects.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0005" num="0004">Aspects of the present disclosure are best understood from the following detailed description when they are read with the accompanying figures. It is noted that, in accordance with the standard practice in the industry, various features are not drawn to scale. In fact, the dimensions of the various features may be arbitrarily increased or reduced for clarity of discussion.</p><p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic illustration of components of an exposure tool, according to various aspects of the present disclosure.</p><p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a flow chart of an embodiment of a method of manufacturing a photomask according to various aspects of the present disclosure.</p><p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic illustration of components of an exposure tool, according to various aspects of the present disclosure.</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIGS. <b>4</b>A and <b>4</b>B</figref> show examples of mask patterns according to various embodiments of the present disclosure.</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIGS. <b>5</b>A, <b>5</b>B, <b>5</b>C and <b>5</b>D</figref> show schematic illustrations of obtaining an SRAF seed map according to various embodiments of the present disclosure.</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIGS. <b>6</b>A, <b>6</b>B, <b>6</b>C and <b>6</b>D</figref> show calculated SRAF seed map and SRAF patterns according to an embodiment of the present disclosure.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIGS. <b>7</b>A, <b>7</b>B, <b>7</b>C and <b>7</b>D</figref> show calculated SRAF patterns according to various embodiments of the present disclosure.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>8</b>A</figref> shows a flowchart of a method of making a semiconductor device, and <figref idref="DRAWINGS">FIGS. <b>8</b>B, <b>8</b>C, <b>8</b>D and <b>8</b>E</figref> show a sequential manufacturing operation of a method of making a semiconductor device in accordance with embodiments of present disclosure.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIGS. <b>9</b>A and <b>9</b>B</figref> illustrate an apparatus for manufacturing a lithographic mask for a semiconductor circuit in accordance with some embodiments of the disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0004" level="1">DETAILED DESCRIPTION</heading><p id="p-0015" num="0014">The following disclosure provides many different embodiments, or examples, for implementing different features of the provided subject matter. Specific examples of components and arrangements are described below to simplify the present disclosure. These are, of course, merely examples and are not intended to be limiting. For example, the formation of a first feature over or on a second feature in the description that follows may include embodiments in which the first and second features are formed in direct contact, and may also include embodiments in which additional features may be formed between the first and second features, such that the first and second features may not be in direct contact. In addition, the present disclosure may repeat reference numerals and/or letters in the various examples. This repetition is for the purpose of simplicity and clarity and does not in itself dictate a relationship between the various embodiments and/or configurations discussed.</p><p id="p-0016" num="0015">Further, spatially relative terms, such as &#x201c;beneath,&#x201d; &#x201c;below,&#x201d; &#x201c;lower,&#x201d; &#x201c;above,&#x201d; &#x201c;upper&#x201d; and the like, may be used herein for ease of description to describe one element or feature's relationship to another element(s) or feature(s) as illustrated in the figures. The spatially relative terms are intended to encompass different orientations of the device in use or operation in addition to the orientation depicted in the figures. The apparatus may be otherwise oriented (rotated 90 degrees or at other orientations) and the spatially relative descriptors used herein may likewise be interpreted accordingly. In this disclosure, one of A and B means A, B or A and B, and does not mean one from A and one from B, unless otherwise explained.</p><p id="p-0017" num="0016">The present disclosure is generally related to methods of manufacturing a photo mask used in semiconductor device fabrication and manufacturing semiconductor devices, and a mask simulation method, simulation apparatus and a simulation program. More specifically, the present disclosure is related to methods for generating a sub-resolution assist feature (SRAF) seed map for SRAF placement. SRAFs are mask features that are small enough not to be printed over a substrate (wafer) in a photo lithography process (i.e., below the resolution limit of the photo lithography apparatus), but are so shaped and placed on a mask to improve the quality of a lithography image over the substrate. Methods to determine the shapes and positions of SRAFs are thereof of heightened interest. With respect to placement of SRAFs, several SRAF placement techniques have been proposed. For example, one of the SRAF placement techniques is a rule-based SRAF placement method. In this method, numerous test patterns and corresponding wafer images are obtained to populate empirical data and the empirical data is studied and analyzed to establish the rules. SRAFs are then placed on a mask based on such rules. Because SRAFs are placed based on a rule table, the turn-around-time is short. However, because the test patterns may not be representative of the actual patterns, the rule-based SRAF placement techniques may suffer from unsatisfactory accuracy.</p><p id="p-0018" num="0017">Another SRAF placement technique is inference mapping lithography (IML). A real-world exposure tool uses a partially coherent radiation source and the partial coherence may be decomposed into a sum of coherent systems (SOCS) by performing decomposition on the transmission cross coefficient (TCC). In terms of optical physics, the TCC represents autocorrelation of the radiation source of the exposure tool with the projection pupil of the exposure tool. Therefore, the TCC is a mathematical representation of the imaging capability of the exposure tool, which includes an ensemble of various exposure conditions of the exposure tool. The TCC may be decomposed into a set of eigenfunctions (<b>1</b>) and a set of eigenvalues (k). IML only considers the first order eigenfunction of the TCC to determine SRAF placement. Because only the first order eigenfunction is included in IML, the effect of exposure conditions of the exposure tool may not be sufficiently factored and accuracy may be less than satisfactory.</p><p id="p-0019" num="0018">Still another SRAF placement technique is called inverse lithography technology (ILT). ILT received its name due to its approach to lithography in an inverse fashion. Instead of calculating the aerial image based on a given mask design, it calculates a mask design necessary to generate a target aerial image. Although ILT may have superior accuracy, its turn-around-time may be unduly long and intractable. In some instances, ILT may require more than 300 times of the amount of time needed to conclude a rule-based SRAF placement process. That is why ILT is currently mostly used to perform spot repairs of mask.</p><p id="p-0020" num="0019">The present disclosure put forth methods of semiconductor device fabrication where the placement of SRAFs includes better consideration of exposure conditions of the exposure tool and influence due to mask 3D effect. Methods according to embodiments of the present disclosure consider exposure conditions of the exposure tool, including illumination intensity of the exposure tool, a numerical aperture of the exposure tool, a depth of focus (DOF), a thickness of a resist stack to be patterned, and/or a range of an aberration. In addition, methods of the present disclosure may include diffraction components to address polarization due to a mask three-dimensional (3D) effect. Because of the consideration of the exposure conditions and the mask 3D effect, methods of the present disclosure have better accuracy than the aforementioned rule-based SRAF placement techniques and IML techniques.</p><p id="p-0021" num="0020">IC manufacturing includes multiple entities, such as a design house, a mask house, and an IC manufacturer (i.e., a fab). These entities interact with one another in the design, development, and manufacturing cycles and/or services related to manufacturing an integrated circuit (IC) device. These entities are connected by a communications network, which may be a single network or a variety of different networks, such as an intranet and the Internet, and may include wired and/or wireless communication channels. Each entity may interact with other entities and may provide services to and/or receive services from the other entities. One or more of the design house, mask house, and IC manufacturer may have a common owner, and may even coexist in a common facility and use common resources. In various embodiments, the design house, which may include one or more design teams, generates an IC design layout. The IC design layout may include various geometrical patterns designed for the fabrication of the IC device. By way of example, the geometrical patterns may correspond to patterns of metal, oxide, or semiconductor layers that make up the various components of the IC device to be fabricated. The various layers collectively form various features of the IC device. For example, various portions of the IC design layout may include features such as an active region, a gate electrode, source and drain regions, metal lines or vias of a metal interconnect, openings for bond pads, as well as other features known in the art which are to be formed within a semiconductor substrate (e.g., such as a silicon wafer) and various material layers disposed on the semiconductor substrate. In various examples, the design house implements a design procedure to form the IC design layout. The design procedure may include a logic design, a physical design, and/or a place and route. The IC design layout may be presented in one or more data files having information related to the geometrical patterns, which are to be used for fabrication of the IC device. In some examples, the IC design layout may be expressed in a graphic design system (GDS)-II file format or design framework (DF)-II file format.</p><p id="p-0022" num="0021">In some instances, the design house may transmit the IC design layout to the mask house, for example, via the network connection described above. The mask house may then use the IC design layout to generate a mask design, such as the first mask design, modify the mask design to form a modified mask design, and manufacture one or more masks to be used for fabrication of the various layers of the IC device according to the modified mask design. In various examples, the mask house performs mask data preparation, where the IC design layout is translated into a form that can be physically written by a mask writer, and mask fabrication, where the design layout prepared by the mask data preparation is modified to generate a modified mask design and is then fabricated. In some embodiments of the present disclosure, some of the operations described above are not performed by the mask house, but the IC manufacturer, especially when information of the exposure tool is used.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates major component planes in an exposure tool (or lithography system). The exposure tool (e.g., an optical stepper and an optical scanner) includes a radiation source (light source), a photo mask (reticle), a pupil plane, and an aerial image on a wafer/substrate. The radiation source (or light source) may be expressed as a function S (S(f, g)), where f and g are coordinates on a plane at the radiation source. The reticle (or the photo mask) may be expressed as a function a(x, y) (or m(x, y)), where x and y are coordinates on a plane at the photo mask. Light (radiation) diffracted by features on the photo mask may be expressed as a Fourier Transform of the mask function: &#xe2;(f, g)=FT[a(x, y)]. At the pupil plane, a pupil function is represented as a function of P, P(f, g). A complex conjugate of the pupil function is given by a function of P*(f, g). The transmission cross coefficient TCC is obtained by:</p><p id="p-0024" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>TCC</i>(<i>f</i><sub>1</sub><i>,g</i><sub>1</sub><i>,f</i><sub>2</sub><i>,g</i><sub>2</sub>)=&#x222b;&#x222b;<i>S</i>(<i>f,g</i>)<i>P</i>(<i>f+f</i><sub>1</sub><i>,g+g</i><sub>1</sub>)<i>P</i>*(<i>f+f</i><sub>2</sub><i>,g+g</i><sub>2</sub>)<i>dfdg </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0025" num="0000">The aerial image I (x, y) is given by:</p><p id="p-0026" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"> <mrow>  <mrow>   <mi>I</mi>   <mo>&#x2061;</mo>   <mo>(</mo>   <mrow>    <mi>x</mi>    <mo>,</mo>    <mi>y</mi>   </mrow>   <mo>)</mo>  </mrow>  <mo>=</mo>  <mrow>   <mo>&#x222b;</mo>   <mrow>    <mo>&#x222b;</mo>    <mrow>     <mo>&#x222b;</mo>     <mrow>      <mo>&#x222b;</mo>      <mrow>       <mrow>        <mi>TCC</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <msub>          <mi>f</mi>          <mn>1</mn>         </msub>         <mo>,</mo>         <msub>          <mi>g</mi>          <mn>1</mn>         </msub>         <mo>,</mo>         <msub>          <mi>f</mi>          <mn>2</mn>         </msub>         <mo>,</mo>         <msub>          <mi>g</mi>          <mn>2</mn>         </msub>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mi>a</mi>       <mstyle><mtext>?</mtext></mstyle>       <mrow>        <mo>(</mo>        <mrow>         <msub>          <mi>f</mi>          <mn>1</mn>         </msub>         <mo>,</mo>         <msub>          <mi>g</mi>          <mn>1</mn>         </msub>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mi>a</mi>       <mstyle><mtext>?</mtext></mstyle>       <mrow>        <mo>(</mo>        <mrow>         <msub>          <mi>f</mi>          <mn>2</mn>         </msub>         <mo>,</mo>         <msub>          <mi>g</mi>          <mn>2</mn>         </msub>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mi>e</mi>       <mstyle><mtext>?</mtext></mstyle>       <msub>        <mi>df</mi>        <mn>1</mn>       </msub>       <mo>&#x2062;</mo>       <mi>d</mi>       <mo>&#x2062;</mo>       <msub>        <mi>g</mi>        <mn>1</mn>       </msub>       <mo>&#x2062;</mo>       <msub>        <mi>df</mi>        <mn>2</mn>       </msub>       <mo>&#x2062;</mo>       <mi>d</mi>       <mo>&#x2062;</mo>       <msub>        <mi>g</mi>        <mn>2</mn>       </msub>      </mrow>     </mrow>    </mrow>   </mrow>  </mrow> </mrow></math></maths><maths id="MATH-US-00001-2" num="00001.2"><math overflow="scroll"> <mrow>  <mstyle><mtext>?</mtext></mstyle>  <mtext mathsize="6pt">indicates text missing or illegible when filed</mtext> </mrow></math></maths></p><p id="p-0027" num="0023">In some embodiments, the radiation of the exposure tool may be polarized and the polarization may be changed by the mask. For example, the radiation of the exposure tool incident on the mask may be polarized in the X direction and the light diffracted by the mask may be polarized in the Y direction at the pupil. With respect to such a near field incoming and outgoing radiation pair, the first mask function includes an X-Y component (a<sup>lxy</sup>(x, y)) and the X-Y component represents a simulated interaction between the X-polarized radiation on the mask and the Y-polarization radiation on the pupil. Similarly, with respect to the X-polarized incident radiation and X-polarized outgoing radiation, the first mask function includes an X-X component (a<sub>lxx</sub>(x, y)); with respect to the Y-polarized incident radiation and X-polarized outgoing radiation, the first mask function includes a Y-X component (a<sup>lyx</sup>(x, y)); and with respect to the Y-polarized incident radiation and Y-polarized outgoing radiation, the first mask function includes a Y-Y component (a<sup>lyy</sup>(x, v)). In cases where the mask design is assumed to be implemented as an ideal mask, the X-X, X-Y, Y-X, and Y-Y components are identical to one another. In cases where the first mask design <b>202</b> is assumed to be implemented as a real-world mask with mask three-dimensional (3D) effect, the X-X, X-Y, Y-X, and Y-Y components are not identical and should be considered separately.</p><p id="p-0028" num="0024">Although <figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a transmission type photo mask used in, for example, a KrF or an ArF excimer laser lithography system (optical scanner/stepper), an extreme ultraviolet (EUV) lithography system using a reflective photo mask can also be expressed by the same equations.</p><p id="p-0029" num="0025">In the above lithography model, various parameters including, but not limited to, a wavelength of the light source, a numerical aperture (NA) of the optical system, information regarding illumination (e.g., illumination shapes such as annular illumination, multipole illumination, etc.), information regarding lens aberration, information regarding polarization of the light, information regarding a film stacking structure on which a photo resist layer is formed, information regarding a mask three-dimensional (3D) effect, and information regarding the photo resist layer are specified.</p><p id="p-0030" num="0026"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a flow chart of a sequential operation <b>100</b> of manufacturing a photo mask used for semiconductor device fabrication according to an embodiment of the present disclosure. It is understood that additional operations can be provided before, during, and after processes shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, and some of the operations described below can be replaced or eliminated, for additional embodiments of the method. The order of the operations/processes may be interchangeable.</p><p id="p-0031" num="0027">Referring now to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the operation <b>100</b> includes a block S<b>102</b> where optical conditions (parameters) of the lithography tool are set. In some embodiments, one or more of the parameters as set forth above are specified. In some embodiments, the lithography tool includes a deep ultraviolet (DUV) exposure tool with a DUV radiation sources (such as KrF excimer laser or ArF excimer laser) or an extreme ultraviolet (EUV) exposure tool with an EUV radiation sources (such as a tin droplet laser plasma EUV generation). In some embodiments, the exposure tool may be a DUV exposure tool with immersion lithography capabilities. Unless the configuration of the exposure tool is intentionally or inadvertently changed, the set of exposure conditions is generally unique to the exposure tool, except for the information about photo resist and film structure.</p><p id="p-0032" num="0028">At block S<b>104</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, it is determined whether a calculated kernel exists for a given set of the optical conditions. If the answer is yes, the operation proceeds to block S<b>106</b>. If the answer is no at S<b>104</b>, the kernel is calculated at block S<b>105</b> as described below.</p><p id="p-0033" num="0029"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows a diagram of calculating TCC kernels according to embodiments of the present disclosure. As explained with respect to <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the TCC kernel is calculated from the radiation source function S(f, g), a pupil functions P(f, g) and a complex conjugate of the pupil function P*(f, g). In some implementations, the TCC may be decomposed into a plurality orders of eigenvalues (each of which may be represented as &#x3bb;<sub>i</sub>, where i denotes i-th eigenvalue of the TCC) and a plurality orders of eigenfunctions &#x3a6; (each of which may be represented as &#x3a6;<sub>i</sub>, where i denotes i-th eigenfunction of the TCC). In some embodiments, there are N eigenfunctions and N eigenvalues, where N is an integer and may be between 1 and the number of point sources in the light source. Thus, the TCC kernel can be expressed in Mecer expansion as below:</p><p id="p-0034" num="0000"><maths id="MATH-US-00002" num="00002"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mrow>      <mi>TCC</mi>      <mo>&#x2061;</mo>      <mo>(</mo>      <mrow>       <msub>        <mi>f</mi>        <mn>1</mn>       </msub>       <mo>,</mo>       <msub>        <mi>g</mi>        <mn>1</mn>       </msub>       <mo>,</mo>       <msub>        <mi>f</mi>        <mn>2</mn>       </msub>       <mo>,</mo>       <msub>        <mi>g</mi>        <mn>2</mn>       </msub>      </mrow>      <mo>)</mo>     </mrow>     <mo>=</mo>     <malignmark/>     <mrow>      <mo>&#x222b;</mo>      <mrow>       <mo>&#x222b;</mo>       <mrow>        <mrow>         <mi>S</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>f</mi>          <mo>,</mo>          <mi>g</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mrow>         <mi>P</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mrow>           <mi>f</mi>           <mo>+</mo>           <msub>            <mi>f</mi>            <mn>1</mn>           </msub>          </mrow>          <mo>,</mo>          <mrow>           <mi>g</mi>           <mo>+</mo>           <msub>            <mi>g</mi>            <mn>1</mn>           </msub>          </mrow>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mrow>         <msup>          <mi>P</mi>          <mo>*</mo>         </msup>         <mo>(</mo>         <mrow>          <mrow>           <mi>f</mi>           <mo>+</mo>           <msub>            <mi>f</mi>            <mn>2</mn>           </msub>          </mrow>          <mo>,</mo>          <mrow>           <mi>g</mi>           <mo>+</mo>           <msub>            <mi>g</mi>            <mn>2</mn>           </msub>          </mrow>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mi>dfdg</mi>       </mrow>      </mrow>     </mrow>    </mrow>   </mtd>  </mtr>  <mtr>   <mtd>    <mrow>     <mo>=</mo>     <malignmark/>     <mrow>      <munder>       <mo>&#x2211;</mo>       <mi>i</mi>      </munder>      <mrow>       <msub>        <mi>&#x3bb;</mi>        <mi>i</mi>       </msub>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <msub>          <mi>f</mi>          <mn>1</mn>         </msub>         <mo>,</mo>         <msub>          <mi>g</mi>          <mn>1</mn>         </msub>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mrow>        <msubsup>         <mi>&#x3a6;</mi>         <mi>i</mi>         <mo>*</mo>        </msubsup>        <mo>(</mo>        <mrow>         <msub>          <mi>f</mi>          <mn>2</mn>         </msub>         <mo>,</mo>         <msub>          <mi>g</mi>          <mn>2</mn>         </msub>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>    </mrow>   </mtd>  </mtr> </mtable></math></maths></p><p id="p-0035" num="0030">Further, the pupil function P(f, g) is expressed as follows:</p><p id="p-0036" num="0000"><maths id="MATH-US-00003" num="00003"><math overflow="scroll"> <mrow>  <mrow>   <mi>P</mi>   <mo>&#x2061;</mo>   <mo>(</mo>   <mrow>    <mi>f</mi>    <mo>,</mo>    <mi>g</mi>   </mrow>   <mo>)</mo>  </mrow>  <mo>=</mo>  <mrow>   <mrow>    <mi>circ</mi>    <mo>&#x2061;</mo>    <mo>(</mo>    <msqrt>     <mrow>      <msup>       <mi>f</mi>       <mn>2</mn>      </msup>      <mo>+</mo>      <msup>       <mi>g</mi>       <mn>2</mn>      </msup>     </mrow>    </msqrt>    <mo>)</mo>   </mrow>   <mo>&#x2062;</mo>   <mrow>    <mi>exp</mi>    <mo>[</mo>    <mrow>     <mi>i</mi>     <mo>&#x2062;</mo>     <mn>2</mn>     <mo>&#x2062;</mo>     <mi>&#x3c0;</mi>     <mo>&#x2062;</mo>     <mfrac>      <mi>d</mi>      <mi>&#x3bb;</mi>     </mfrac>     <mo>&#x2062;</mo>     <msqrt>      <mrow>       <msup>        <mi>n</mi>        <mn>2</mn>       </msup>       <mo>-</mo>       <mrow>        <mi>NA</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <msup>          <mi>f</mi>          <mn>2</mn>         </msup>         <mo>+</mo>         <msup>          <mi>g</mi>          <mn>2</mn>         </msup>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </msqrt>    </mrow>    <mo>]</mo>   </mrow>   <mo>&#x2062;</mo>   <mrow>    <mi>exp</mi>    <mo>[</mo>    <mrow>     <mi>i</mi>     <mo>&#x2062;</mo>     <mn>2</mn>     <mo>&#x2062;</mo>     <mi>&#x3c0;</mi>     <mo>&#x2062;</mo>     <mrow>      <mi>W</mi>      <mo>&#x2061;</mo>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>    <mo>]</mo>   </mrow>  </mrow> </mrow></math></maths></p><p id="p-0037" num="0000">where W(f, g) expresses lens aberration, &#x201c;d&#x201d; is defocus amount and NA is numerical aperture. Then, the optical image I(x, y) on the wafer is expressed by:</p><p id="p-0038" num="0000"><maths id="MATH-US-00004" num="00004"><math overflow="scroll"> <mrow>  <mrow>   <mrow>    <mi>I</mi>    <mo>&#x2061;</mo>    <mo>(</mo>    <mrow>     <mi>x</mi>     <mo>,</mo>     <mi>y</mi>    </mrow>    <mo>)</mo>   </mrow>   <mo>=</mo>   <mrow>    <munder>     <mo>&#x2211;</mo>     <mi>i</mi>    </munder>    <mrow>     <msub>      <mi>&#x3bb;</mi>      <mi>i</mi>     </msub>     <mo>&#x2062;</mo>     <msup>      <mrow>       <semantics definitionURL="">        <mo>&#x2758;</mo>        <annotation encoding="Mathematica">"\[LeftBracketingBar]"</annotation>       </semantics>       <mrow>        <mi>FT</mi>        <mo>[</mo>        <mrow>         <mrow>          <msub>           <mi>&#x3a6;</mi>           <mi>i</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>f</mi>           <mo>,</mo>           <mi>g</mi>          </mrow>          <mo>)</mo>         </mrow>         <mo>&#x2062;</mo>         <mrow>          <mi>FT</mi>          <mo>[</mo>          <mrow>           <mi>m</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>          <mo>]</mo>         </mrow>        </mrow>        <mo>]</mo>       </mrow>       <semantics definitionURL="">        <mo>&#x2758;</mo>        <annotation encoding="Mathematica">"\[RightBracketingBar]"</annotation>       </semantics>      </mrow>      <mn>2</mn>     </msup>    </mrow>   </mrow>  </mrow>  <mo>,</mo> </mrow></math></maths></p><p id="p-0039" num="0000">where m(x, y) is a mask function, also described as a(x, y) interchangeably.</p><p id="p-0040" num="0031">Then, at block S<b>106</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, an original mask pattern (input mask) is acquired. In some embodiments, a target shape of the pattern is also acquired. In some embodiments, the target pattern shape is identical to the original pattern shape, and in other embodiments, the target pattern shape is different from the original pattern considering CD (critical dimension) tolerance.</p><p id="p-0041" num="0032"><figref idref="DRAWINGS">FIG. <b>4</b>A</figref> shows an example of the original mask pattern (L-shape) and the target pattern shape according to an embodiment of the present disclosure. In some embodiments, at block S<b>108</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, an optical proximity correction (OPC) operation is performed on the original mask pattern. In the OPC operation, edges and/or segments of edges are moved inwardly or outwardly according to optical proximity effect caused by the pattern by itself and/or surrounding patterns.</p><p id="p-0042" num="0033"><figref idref="DRAWINGS">FIG. <b>4</b>B</figref> shows an example of the mask pattern after the OPC operation and the target pattern shape according to an embodiment of the present disclosure. In some embodiments, the OPC operation is optional. In other embodiments, an OPCed mask pattern is acquired as an original mask pattern, and in such a case, no OPC at block S<b>108</b> is performed.</p><p id="p-0043" num="0034">Then, at block S<b>110</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, a SRAF seed map is generated. <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> shows a conceptual diagram and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref> shows a flow chart of calculating a SRAF seed map.</p><p id="p-0044" num="0035">In some embodiments, an optical image of the original mask pattern <b>410</b> with OPC is calculated by using the TCC kernel for the given lithography tool at block S<b>502</b> of <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>. More specifically, the SRAF seed map is determined by convoluting the mask function (a<sup>l</sup>(x, y)) representing the original mask pattern and the TCC kernel. As described above, the mask function includes an X-Y component (a<sup>lxy</sup>(x, y)), an X-X component (a<sup>lxx</sup>(x, y))), a Y-X component (a<sup>lyx</sup>(x, y)), and a Y-Y component (a<sup>lxy</sup>(x, y)). The i-th eigenfunction of the TCC that interacts with (a<sup>lxy</sup>(x, y)) is defined as &#x3c6;<sub>i</sub><sup>xy</sup>(x, y), the i-th eigenfunction of the ICC that interacts with (a<sup>lyx</sup>(x, y)) is defined as &#x3c6;<sub>i</sub><sup>yx</sup>)(x,y), the i-th eigenfunction of the ICC that interacts with (a<sup>lyx</sup>(x, y)) is defined as &#x3c6;<sub>i</sub><sup>yx</sup>(x, y), and the i-th eigenfunction of the ICC that interacts with (a<sup>ly</sup>(x, y)) is defined as &#x3c6;<sub>i</sub><sup>yy</sup>(x, y).</p><p id="p-0045" num="0036">Then, a small dot pattern (a unit pattern) <b>420</b> is placed at a (x&#x2032;, y&#x2032;) location around the original mask pattern <b>410</b> as shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>, and an optical image of the original mask pattern <b>410</b> and the unit pattern <b>420</b> is calculated by using the TCC kernel at block S<b>504</b> of <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>.</p><p id="p-0046" num="0037">Then, at block S<b>506</b>, the optical image of the original mask pattern <b>410</b> only and the optical image of the combination of the original mask pattern <b>410</b> and the unit pattern <b>420</b> are compared to determine if the unit pattern improves the quality of the optical image of the original mask pattern. When the unit pattern improves the quality of the optical image of the original mask pattern, the amount of improvement is indicated as a positive value in the SRAF seed map, and when the unit pattern degrades the quality of the optical image of the original mask pattern, the amount of degradation is indicated as a negative value in the SRAF seed map in some embodiments.</p><p id="p-0047" num="0038">In some embodiments, the quality of the optical image is a slope of the optical image at the edge of the pattern, and the image slopes along the target edge are compared. <figref idref="DRAWINGS">FIG. <b>5</b>D</figref> shows how to determine image slope E(x). If the image slope is improved along the target edge, the location a (x&#x2032;, y&#x2032;) is determined as a good location to place a SRAF. In some embodiments, the slope is an image log slope (ILS). In other embodiments, the quality of the optical image is a contrast, an intensity, and/or a focus tolerance (depth of focus). More than one of the qualities of the optical image is used to generate the SRAF seed map.</p><p id="p-0048" num="0039">Then, at block S<b>508</b>, the location of the unit pattern is changed and the calculation of an optical image at block S<b>504</b> and the comparison at block S<b>506</b> are repeated to find good locations for placing the SRAF patterns. The repetition of placing the unit pattern and the comparison is performed for a given region around the original pattern in some embodiments.</p><p id="p-0049" num="0040">In some embodiments, the placement of the unit pattern is performed according to a mesh or a matrix surrounding the original pattern as shown in <figref idref="DRAWINGS">FIG. <b>5</b>C</figref>. In some embodiments, the dimension of the mesh (one square) is in a range from about 2 nm to about 40 nm (on wafer). The overall calculation area for the unit pattern is an area distanced L from the original pattern in some embodiments. In some embodiments, the distance L is in a range from about 100 nm to about 1,000 nm. If the distance between the given pattern and the adjacent pattern is smaller than L, the calculation of the image for the unit pattern is performed for the area between the given pattern and the adjacent pattern in some embodiments.</p><p id="p-0050" num="0041">In some embodiments, the SRAF seed map t(x&#x2032;, y&#x2032;) can be calculated by using the following equations:</p><p id="p-0051" num="0000"><maths id="MATH-US-00005" num="00005"><math overflow="scroll"> <mrow>  <mtext>	</mtext>  <mrow>   <mrow>    <mrow>     <mi>t</mi>     <mo>&#x2061;</mo>     <mo>(</mo>     <mrow>      <msup>       <mi>x</mi>       <mo>&#x2032;</mo>      </msup>      <mo>,</mo>      <msup>       <mi>y</mi>       <mo>&#x2032;</mo>      </msup>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <mo>&#x222b;</mo>     <mrow>      <mo>&#x222b;</mo>      <mrow>       <mrow>        <mo>[</mo>        <mrow>         <mrow>          <msub>           <mi>I</mi>           <mi>x</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mrow>            <mi>y</mi>            <mo>;</mo>            <msup>             <mi>x</mi>             <mo>&#x2032;</mo>            </msup>           </mrow>           <mo>,</mo>           <msup>            <mi>y</mi>            <mo>&#x2032;</mo>           </msup>          </mrow>          <mo>)</mo>         </mrow>         <mo>+</mo>         <mrow>          <msub>           <mi>I</mi>           <mi>y</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mrow>            <mi>y</mi>            <mo>;</mo>            <msup>             <mi>x</mi>             <mo>&#x2032;</mo>            </msup>           </mrow>           <mo>,</mo>           <msup>            <mi>y</mi>            <mo>&#x2032;</mo>           </msup>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mo>]</mo>       </mrow>       <mo>&#x2062;</mo>       <mi>dxdy</mi>      </mrow>     </mrow>    </mrow>   </mrow>   <mo>,</mo>  </mrow> </mrow></math></maths><maths id="MATH-US-00005-2" num="00005.2"><math overflow="scroll"> <mrow>  <mrow>   <mrow>    <mi>where</mi>    <mo>&#x2062;</mo>    <mtext>   </mtext>    <mrow>     <mi>FT</mi>     <mo>[</mo>     <mrow>      <msub>       <mi>I</mi>       <mi>x</mi>      </msub>      <mo>(</mo>      <mrow>       <mi>x</mi>       <mo>,</mo>       <mrow>        <mi>y</mi>        <mo>;</mo>        <msup>         <mi>x</mi>         <mo>&#x2032;</mo>        </msup>       </mrow>       <mo>,</mo>       <msup>        <mi>y</mi>        <mo>&#x2032;</mo>       </msup>      </mrow>      <mo>)</mo>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mrow>      <mrow>       <mi>FT</mi>       <mo>[</mo>       <mrow>        <mrow>         <mi>h</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mfrac>         <mrow>          <mo>&#x2202;</mo>          <mtext> </mtext>          <mrow>           <mi>W</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>         </mrow>         <mi>dx</mi>        </mfrac>       </mrow>       <mo>]</mo>      </mrow>      <mo>[</mo>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mn>2</mn>       <mo>&#x2062;</mo>       <mi>&#x3c0;</mi>       <mo>&#x2062;</mo>       <mi>f</mi>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>f</mi>         <mo>,</mo>         <mi>g</mi>        </mrow>        <mo>)</mo>       </mrow>      </mrow>      <mo>]</mo>     </mrow>     <mo>*</mo>    </msup>    <mo>+</mo>    <mrow>     <mrow>      <mi>FT</mi>      <mo>[</mo>      <mrow>       <mrow>        <msub>         <mi>h</mi>         <mi>x</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>x</mi>         <mo>,</mo>         <mi>y</mi>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mfrac>        <mrow>         <mo>&#x2202;</mo>         <mtext> </mtext>         <mrow>          <mi>W</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mi>dx</mi>       </mfrac>      </mrow>      <mo>]</mo>     </mrow>     <mo>&#x2062;</mo>     <mrow>      <msubsup>       <mi>&#x3a6;</mi>       <mi>i</mi>       <mo>*</mo>      </msubsup>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>   </mrow>  </mrow>  <mo>,</mo>  <mtext></mtext>  <mrow>   <mrow>    <mi>FT</mi>    <mo>[</mo>    <mrow>     <msub>      <mi>I</mi>      <mi>y</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mrow>       <mi>y</mi>       <mo>;</mo>       <msup>        <mi>x</mi>        <mo>&#x2032;</mo>       </msup>      </mrow>      <mo>,</mo>      <msup>       <mi>y</mi>       <mo>&#x2032;</mo>      </msup>     </mrow>     <mo>)</mo>    </mrow>    <mo>]</mo>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mrow>      <mrow>       <mi>FT</mi>       <mo>[</mo>       <mrow>        <mrow>         <mi>h</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mfrac>         <mrow>          <mo>&#x2202;</mo>          <mtext> </mtext>          <mrow>           <mi>W</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>         </mrow>         <mi>dy</mi>        </mfrac>       </mrow>       <mo>]</mo>      </mrow>      <mo>[</mo>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mn>2</mn>       <mo>&#x2062;</mo>       <mi>&#x3c0;</mi>       <mo>&#x2062;</mo>       <mi>g</mi>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>f</mi>         <mo>,</mo>         <mi>g</mi>        </mrow>        <mo>)</mo>       </mrow>      </mrow>      <mo>]</mo>     </mrow>     <mo>*</mo>    </msup>    <mo>+</mo>    <mrow>     <mrow>      <mi>FT</mi>      <mo>[</mo>      <mrow>       <mrow>        <msub>         <mi>h</mi>         <mi>y</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>x</mi>         <mo>,</mo>         <mi>y</mi>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mfrac>        <mrow>         <mo>&#x2202;</mo>         <mtext> </mtext>         <mrow>          <mi>W</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mi>dy</mi>       </mfrac>      </mrow>      <mo>]</mo>     </mrow>     <mo>&#x2062;</mo>     <mrow>      <msubsup>       <mi>&#x3a6;</mi>       <mi>i</mi>       <mo>*</mo>      </msubsup>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>   </mrow>  </mrow>  <mo>,</mo> </mrow></math></maths><maths id="MATH-US-00005-3" num="00005.3"><math overflow="scroll"> <mrow>  <mtext>	</mtext>  <mrow>   <mrow>    <mrow>     <mi>h</mi>     <mo>&#x2061;</mo>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>   <mtext></mtext>   <mtext>	</mtext>   <mrow>    <mrow>     <msub>      <mi>h</mi>      <mi>x</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mi>i</mi>      <mo>&#x2062;</mo>      <mn>2</mn>      <mo>&#x2062;</mo>      <mi>&#x3c0;</mi>      <mo>&#x2062;</mo>      <mi>f</mi>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>   <mtext></mtext>   <mtext>	</mtext>   <mrow>    <mrow>     <msub>      <mi>h</mi>      <mi>y</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mi>i</mi>      <mo>&#x2062;</mo>      <mn>2</mn>      <mo>&#x2062;</mo>      <mi>&#x3c0;</mi>      <mo>&#x2062;</mo>      <mi>g</mi>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>  </mrow> </mrow></math></maths></p><p id="p-0052" num="0000">&#x3bb;<sub>i </sub>is the i-th eigenvalue of TCC, &#x3a6;<sub>i </sub>is the i-th eigenfunction of the TCC, and &#x3a6;<sub>i</sub>=FT[&#x3c6;<sub>i</sub>].</p><p id="p-0053" num="0042">By applying the above equations, a SRAF seed map for a target pattern for a given lithography tool can be calculated. In some embodiments, the target pattern includes a plurality of patterns. The plurality of patterns are for contact (via) holes of a standard cell structure of a logic circuit, or a memory device, in some embodiments. In other embodiments, the plurality of patterns are for wiring patterns of a logic circuit.</p><p id="p-0054" num="0043"><figref idref="DRAWINGS">FIGS. <b>6</b>A-<b>6</b>D</figref> show calculation of a SRAF seed map and SRAF patterns placed according to the SRAF seed map in accordance with an embodiment of the present disclosure. In this embodiment, the original mask pattern is a square and the target shape is circle as shown in <figref idref="DRAWINGS">FIG. <b>6</b>A</figref>. No OPC is applied to the original shape. As shown in <figref idref="DRAWINGS">FIG. <b>6</b>B</figref>, the parameters of the lithography tool are: a wavelength of the source radiation=193 nm; a numerical aperture=1.35; polarized illumination; an annular illumination; and defocus is applied. The parameters also include application of a mask 3D effect, and a photo resist stack structure. The original mask pattern is a 50 nm square island pattern (a hole pattern in a bright field).</p><p id="p-0055" num="0044">By applying the aforementioned equations to the original pattern, a SRAF seed map is calculated as shown in <figref idref="DRAWINGS">FIG. <b>6</b>C</figref> (S<b>110</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>). In the SRAF seed map, bright lines indicate locations at which the image quality (e.g., image slope along the edges of target shape) is improved.</p><p id="p-0056" num="0045">As shown in <figref idref="DRAWINGS">FIG. <b>6</b>C</figref>, an SRAF seed map includes information useful for SRAF placement determination. For example, an SRAF seed map includes local-minimum interference distribution (including intensity and coordinates), local-maximum interference distribution (including intensity and coordinates), and noise (including intensity and coordinates). The local-maximum interference distribution may be referred to as the peak interference distribution and the local-minimum interference distribution may be referred to as the valley interference distribution. In some instances, both the peak interference distribution and the valley interference distribution include components extending parallel to adjacent mask features and the noise may include components extending perpendicular to adjacent mask features. Further processes are therefore needed to eliminate or reduce a level of the noise and enhance the signal strength of the peak interference distribution and the valley interference distribution. In some embodiments, high-pass filtering, bandpass filtering, or low-pass filtering may be used to remove noise and enhance the resolution of the peak interference distribution and the valley interference distribution. If the noise level is not reduced, SRAFs that extend perpendicular from the mask features may result. Such SRAFs do not improve accuracy and may also introduce defects in the aerial image. An SRAF map includes not only the placement positions of the SRAFs but also polygonal shapes of the SRAFs. Therefore, further processes are also needed to determine the polygonal shapes and dimensions of the SRAFs. For example, after an SRAF seed map is filtered to remove noise and enhance resolution, polygonal shapes of suitable dimensions may be placed on or around the peaks in the filtered SRAF seed map. The process or processes to determine the polygonal shapes and dimensions of the SRAFs may also be referred to as process(es) to grow SAAB. Based on the foregoing, such further processes include operations to reduce noise and operations to superposition polygonal shapes based on the peak interference distribution the valley interference distribution, in some embodiments.</p><p id="p-0057" num="0046">Non-ideal characteristic of real-world masks are also considered in the SRAF map calculation according to some embodiments of the present disclosure. An ideal mask includes an infinitely small thickness and is capable of completely blocking the incident radiation. Due to complete blockage of the incident radiation and the infinitely small thickness, a radiation amplitude passing through the ideal mask includes a step function. Where the ideal mask blocks the incident radiation, the radiation amplitude drops to zero (0%). Where the ideal mask allows the incident radiation through the mask opening, the radiation amplitude increases to the full amplitude (100%) of the incident radiation.</p><p id="p-0058" num="0047">However, in reality, a mask has at least a finite thickness and does not have completely block the radiation. In some instances, a real-world mask may be disposed on a glass substrate. The finite thickness and non-ideal radiation blockage capability of the real-world mask may result in a non-ideal radiation amplitude. These non-ideal characteristics may be summarily referred to as the mask three-dimensional (3D) effect. While the above explanation is applied to transmissive masks; similar ideal and non-ideal behaviors may be observed on reflective masks as well. An ideal reflective mask includes perfectly reflective patterns defined on a perfectly absorptive surface. In addition, radiation is reflected only on a very top surface and does not penetrate into the mask. A real-world reflective mask includes partially reflective patterns defined on a partially absorptive surface. In terms of penetration, radiation may penetrate to a depth of one or more layers on a real-world reflective mask and may be reflected by a layer other than the topmost layer.</p><p id="p-0059" num="0048">As radiation is an electromagnetic wave; the mask 3D effect may be calculated using the Maxwell Equations, which include the Gauss's law:</p><p id="p-0060" num="0000"><maths id="MATH-US-00006" num="00006"><math overflow="scroll"> <mrow>  <mrow>   <mo>(</mo>   <mrow>    <mrow>     <mi>&#x25bd;</mi>     <mo>&#xb7;</mo>     <mi>E</mi>    </mrow>    <mo>=</mo>    <mfrac>     <mi>&#x3c1;</mi>     <msub>      <mi>&#x3b5;</mi>      <mn>0</mn>     </msub>    </mfrac>   </mrow>   <mo>)</mo>  </mrow>  <mo>,</mo> </mrow></math></maths></p><p id="p-0061" num="0000">Gauss's law for magnetism (&#x2207;&#xb7;B=0), Maxwell-Faraday equation</p><p id="p-0062" num="0000"><maths id="MATH-US-00007" num="00007"><math overflow="scroll"> <mrow>  <mrow>   <mo>(</mo>   <mrow>    <mrow>     <mi>&#x25bd;</mi>     <mo>&#xd7;</mo>     <mi>E</mi>    </mrow>    <mo>=</mo>    <mrow>     <mo>-</mo>     <mfrac>      <mrow>       <mi>&#x3b4;</mi>       <mo>&#x2062;</mo>       <mi>B</mi>      </mrow>      <msub>       <mi>&#x3b4;</mi>       <mi>I</mi>      </msub>     </mfrac>    </mrow>   </mrow>   <mo>)</mo>  </mrow>  <mo>,</mo> </mrow></math></maths></p><p id="p-0063" num="0000">Ampere's circuital law</p><p id="p-0064" num="0000"><maths id="MATH-US-00008" num="00008"><math overflow="scroll"> <mrow>  <mrow>   <mi>&#x25bd;</mi>   <mo>&#xd7;</mo>   <mi>B</mi>  </mrow>  <mo>=</mo>  <mrow>   <mrow>    <msub>     <mi>&#x3bc;</mi>     <mn>0</mn>    </msub>    <mo>(</mo>    <mrow>     <mi>J</mi>     <mo>+</mo>     <mrow>      <msub>       <mi>&#x3b5;</mi>       <mn>0</mn>      </msub>      <mo>&#x2062;</mo>      <mfrac>       <mrow>        <mi>&#x3b4;</mi>        <mo>&#x2062;</mo>        <mi>E</mi>       </mrow>       <mrow>        <mi>&#x3b4;</mi>        <mo>&#x2062;</mo>        <mi>t</mi>       </mrow>      </mfrac>     </mrow>    </mrow>    <mo>)</mo>   </mrow>   <mo>.</mo>  </mrow> </mrow></math></maths></p><p id="p-0065" num="0000">In some embodiments, the mask 3D effect may be approximated using a simplified solution to the Maxwell Equations. For example, although the SRAFs placed on a mask may contribute to the mask 3D effect too, their contribution to the mask 3D effect is smaller than that of the main mask pattern. A simplified solution to the Maxwell Equations may drop off the mask 3D effect contributed by the SRAFs. This simplification may greatly reduce the complexity of calculating the mask 3D effect. A solution or a simplified solution to the Maxwell Equation may be used to modify the mask function such that the mask 3D effect is considered. The mask 3D effect may be expressed as one or more functions M. In some implementations, the mask 3D effect may be decomposed into an X-X diffraction component (M<sub>xx</sub>), an X-Y diffraction component (M<sub>xy</sub>), Y-X diffraction component (M<sub>yx</sub>), and a Y-Y diffraction component (M<sub>yy</sub>).</p><p id="p-0066" num="0049">In some embodiments, the original mask design is assumed to be implemented as a real-world mask impacted by the mask 3D effect and its mask function may be expressed as (a<sup>M</sup>(x,y)). The mask function (a<sup>M</sup>(x,y)) includes an X-X component (a<sup>Mxx</sup>(x, y)), a X-Y component (a<sup>Mxy</sup>(x, y)), Y-X component (a<sup>Myx</sup>(x, y)), and a Y-Y component (a<sup>Myx</sup>(x, y)). The X-X component (a<sup>Mxx</sup>(x, y)), the X-Y component (a<sup>Mxy</sup>(x, y)), the Y-X component (a<sup>Myx</sup>(x, y)), and the Y-Y component (a<sup>Myy</sup>(x, y)) may be obtained by taking Fourier Transform of the corresponding diffraction components:</p><p id="p-0067" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>a</i><sup>Mxx</sup>(<i>x,y</i>)=<i>FT</i>(<i>M</i><sub>xx</sub>),<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0068" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>a</i><sup>Mxy</sup>(<i>x,y</i>)=<i>FT</i>(<i>M</i><sub>xy</sub>),<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0069" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>a</i><sup>Myx</sup>(<i>x,y</i>)=<i>FT</i>(<i>M</i><sub>yx</sub>),<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0070" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>a</i><sup>Myy</sup>(<i>x,y</i>)=<i>FT</i>(<i>M</i><sub>yy</sub>),<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0071" num="0050">Unlike their counterparts for an assumed ideal mask, the X-X component, X-Y component, Y-X component, and Y-Y component of the mask function a<sup>M</sup>(x, y) are not identical to one another and are separately considered.</p><p id="p-0072" num="0051">Based on the SRAF seed map, at block S<b>112</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, one or more SRAF patterns are placed around the original mask pattern as shown in <figref idref="DRAWINGS">FIG. <b>6</b>D</figref>. In some embodiments, when the SRAF placement location indicated by the SRAF seed map is closer to the original pattern than a threshold distance, no SRAF is placed at such a location. In some embodiments, the threshold is determined based on one or more of the pattern size of the original pattern, a distance to an adjacent pattern, an optical condition including a resolution limit, and/or a value in the SRAF seed map. Similarly, in some embodiments, when the SRAF placement location indicated by the SRAF seed map is too far from the original pattern (farther than a threshold distance), no SRAF is placed at such a location.</p><p id="p-0073" num="0052">In some embodiments, the SRAF patterns are placed at locations where the value in the SRAF seed map is positive (indicating improvement of image quality). In other embodiments, the SRAF patterns are placed at locations where the value in the SRAF seed map is equal to or greater than a threshold value.</p><p id="p-0074" num="0053">The combination of the original pattern and the SRAF patterns is output as a modified mask layout design. In some embodiments, the SRAF patters in the SRAF map are placed on the original mask design by super-positioning the SRAF map onto the original mask design to obtain the modified mask layout design.</p><p id="p-0075" num="0054">Then, in some embodiments, an additional OPC operation is performed at block S<b>114</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>. This additional OPC operation is optional and in some embodiments it is not performed.</p><p id="p-0076" num="0055">Further, at block S<b>116</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, a mask rule check operation is performed to determine whether any of the patterns including the original mask patterns and the SRAF patterns violates the design rule, e.g., the minimum distance (separation), the minimum dimension, etc. If any violation is found, the violating pattern(s) is automatically or manually modified.</p><p id="p-0077" num="0056">Next, the final mask layout design is fixed, the mask design is output for manufacturing a photo mask at block S<b>118</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, and a photo mask is manufactured according to the mask design.</p><p id="p-0078" num="0057"><figref idref="DRAWINGS">FIGS. <b>7</b>A-<b>7</b>D</figref> show SRAF calculation results according to other embodiments. In <figref idref="DRAWINGS">FIG. <b>7</b>A</figref>, the parameters of the lithography tool are: a wavelength of the source radiation=13.5 nm; a numerical aperture=0.33; no polarization; an annular illumination; and no lens aberration. The parameters also include application of the mask 3D effect, and a photo resist stack structure. The original mask pattern is a 50 nm square island pattern (a hole pattern in a bright field). Unlike the case of a high NA illumination and polarization as shown in <figref idref="DRAWINGS">FIG. <b>6</b>A</figref>, which shows circular or frame-shape SRAF patterns, in the case of a low NA illumination and no polarization, the SRAF are discontinuous arc-shape patterns disposed around the original pattern.</p><p id="p-0079" num="0058">In <figref idref="DRAWINGS">FIG. <b>7</b>B</figref>, the parameters of the lithography tool are: a wavelength of the source radiation=193 nm; a numerical aperture=1.35; TE (transverse electric) polarization; quadrupole illumination; and no lens aberration. The parameters also include application of the mask 3D effect, and a photo resist stack structure. The original mask pattern is a 50 nm square island pattern (a hole pattern in a bright field). Unlike the cases of annular illumination as shown in <figref idref="DRAWINGS">FIGS. <b>6</b> and <b>7</b>A</figref>, in the case of quadrupole illumination, some of the SRAF patterns are arc-shaped convex toward the original pattern.</p><p id="p-0080" num="0059">In <figref idref="DRAWINGS">FIG. <b>7</b>C</figref>, the parameters of the lithography tool are: a wavelength of the source radiation=13.5 nm; a numerical aperture=0.33; no polarization; quadrupole illumination; and no lens aberration. The parameters also include application of the mask 3D effect, and a photo resist stack structure. The original mask pattern is a 50 nm square island pattern (a hole pattern in a bright field). In the case of quadrupole illumination with a low NA, discontinuous SRAF patterns are disposed around the original pattern.</p><p id="p-0081" num="0060">In <figref idref="DRAWINGS">FIG. <b>7</b>D</figref>, the parameters of the lithography tool are: a wavelength of the source radiation=193 nm; a numerical aperture=1.35; TE polarized illumination; annular illumination; and no lens aberration. The parameters also include application of the mask 3D effect, and a photo resist stack structure. The original mask pattern is an OPCed pattern of an L-shaped pattern. Serif patterns are added to the corners of the L-shape pattern. The original L-shaped pattern has a width of 50 nm, a longer side of 300 nm and a shorter side of 135 nm in a bright field). <figref idref="DRAWINGS">FIG. <b>7</b>D</figref> shows SRAF patterns for the original L-shape (white) and the OPCed L-shape (gray). By performing an OPC before calculating the SRAF seed map (and placing the SRAF patterns), different SRAF patterns are obtained.</p><p id="p-0082" num="0061"><figref idref="DRAWINGS">FIG. <b>8</b>A</figref> shows a flowchart of a method of making a semiconductor device, and <figref idref="DRAWINGS">FIGS. <b>8</b>B, <b>8</b>C, <b>8</b>D and <b>8</b>E</figref> show a sequential manufacturing operation of the method of making a semiconductor device in accordance with embodiments of present disclosure. A semiconductor substrate or other suitable substrate to be patterned to form an integrated circuit thereon is provided. In some embodiments, the semiconductor substrate includes silicon. Alternatively or additionally, the semiconductor substrate includes germanium, silicon germanium or other suitable semiconductor material, such as a Group III-V semiconductor material. At S<b>801</b> of <figref idref="DRAWINGS">FIG. <b>8</b>A</figref>, a target layer to be patterned is formed over the semiconductor substrate. In certain embodiments, the target layer is the semiconductor substrate. In some embodiments, the target layer includes a conductive layer, such as a metallic layer or a polysilicon layer; a dielectric layer, such as silicon oxide, silicon nitride, SiON, SiOC, SiOCN, SiCN, hafnium oxide, or aluminum oxide; or a semiconductor layer, such as an epitaxially formed semiconductor layer. In some embodiments, the target layer is formed over an underlying structure, such as isolation structures, transistors or wirings. At S<b>802</b> of <figref idref="DRAWINGS">FIG. <b>8</b>A</figref>, a photo resist layer is formed over the target layer, as shown in <figref idref="DRAWINGS">FIG. <b>8</b>B</figref>. The photo resist layer is sensitive to the radiation from the exposing source during a subsequent photolithography exposing process. The photo resist layer may be formed over the target layer by spin-on coating or other suitable techniques. The coated photo resist layer may be further baked to drive out solvent in the photo resist layer.</p><p id="p-0083" num="0062">At S<b>803</b> of <figref idref="DRAWINGS">FIG. <b>8</b>A</figref>, the photoresist layer is patterned using an optical lithography tool. In some embodiments, the optical lithography tool is an ArF or a KrF excimer laser scanner using a transmissive mask as shown in <figref idref="DRAWINGS">FIG. <b>8</b>C</figref>. The transmissive mask includes SRAF patterns as explained above. In other embodiments, the optical lithography tool is an EUV scanner using a reflective mask including SRAF patterns, as shown in <figref idref="DRAWINGS">FIG. <b>8</b>D</figref>. During the exposing process, the integrated circuit (IC) design pattern defined on the mask is imaged to the photoresist layer to form a latent pattern thereon, without printing the SRAF patterns. The patterning of the photoresist layer further includes developing the exposed photoresist layer to form a patterned photoresist layer having one or more openings. In one embodiment where the photoresist layer is a positive tone photoresist layer, the exposed portions of the photoresist layer are removed during the developing process. The patterning of the photoresist layer may further include other process steps, such as various baking steps at different stages. For example, a post-exposure-baking (PEB) process may be implemented after the photolithography exposing process and before the developing process.</p><p id="p-0084" num="0063">At S<b>804</b> of <figref idref="DRAWINGS">FIG. <b>8</b>A</figref>, the target layer is patterned utilizing the patterned photoresist layer as an etching mask, as shown in <figref idref="DRAWINGS">FIG. <b>8</b>E</figref>. In some embodiments, the patterning the target layer includes applying an etching process to the target layer using the patterned photoresist layer as an etch mask. The portions of the target layer exposed within the openings of the patterned photoresist layer are etched while the remaining portions are protected from etching. Further, the patterned photoresist layer may be removed by wet stripping or plasma ashing, as shown in <figref idref="DRAWINGS">FIG. <b>8</b>F</figref>.</p><p id="p-0085" num="0064"><figref idref="DRAWINGS">FIGS. <b>9</b>A and <b>9</b>B</figref> illustrate an apparatus for manufacturing a lithographic mask for a semiconductor circuit in accordance with some embodiments of the disclosure. In some embodiments, the apparatus is an optical simulator.</p><p id="p-0086" num="0065"><figref idref="DRAWINGS">FIG. <b>9</b>A</figref> is a schematic view of a computer system that executes the process for manufacturing the lithographic mask according to one or more embodiments as described above. All of or a part of the processes, method and/or operations of the foregoing embodiments can be realized using computer hardware and computer programs executed thereon. The operations include OPC correction, TCC kernel calculation, SRAF seed map calculation, SRAF placement, etc., as set forth above. In <figref idref="DRAWINGS">FIG. <b>9</b>A</figref>, a computer system <b>1100</b> is provided with a computer <b>1101</b> including an optical disk read only memory (e.g., CD-ROM or DVD-ROM) drive <b>1105</b> and a magnetic disk drive <b>1106</b>, a keyboard <b>1102</b>, a mouse <b>1103</b>, and a monitor <b>1104</b>.</p><p id="p-0087" num="0066"><figref idref="DRAWINGS">FIG. <b>9</b>B</figref> is a diagram showing an internal configuration of the computer system <b>1100</b>. The computer <b>1101</b> is provided with, in addition to the optical disk drive <b>1105</b> and the magnetic disk drive <b>1106</b>, one or more processors <b>1111</b>, such as a micro processing unit (MPU), a ROM <b>1112</b> in which a program, such as a boot up program is stored, a random access memory (RAM) <b>1113</b> that is connected to the MPU <b>1111</b> and in which a command of an application program is temporarily stored and a temporary storage area is provided, a hard disk <b>1114</b> in which an application program, a system program, and data are stored, and a bus <b>1115</b> that connects the MPU <b>1111</b>, the ROM <b>1112</b>, and the like. Note that the computer <b>1101</b> may include a network card (not shown) for providing a connection to a LAN.</p><p id="p-0088" num="0067">The program for causing the computer system <b>1100</b> to execute the process for calculating the SRAF seed map and placing the SRAF patterns in the foregoing embodiments may be stored in an optical disk <b>1121</b> or a magnetic disk <b>1122</b>, which are inserted into the optical disk drive <b>1105</b> or the magnetic disk drive <b>1106</b>, and transmitted to the hard disk <b>1114</b>. Alternatively, the program may be transmitted via a network (not shown) to the computer <b>1101</b> and stored in the hard disk <b>1114</b>. At the time of execution, the program is loaded into the RAM <b>1113</b>. The program may be loaded from the optical disk <b>1121</b> or the magnetic disk <b>1122</b>, or directly from a network. The program does not necessarily have to include, for example, an operating system (OS) or a third party program to cause the computer <b>1101</b> to execute the process for manufacturing the lithographic mask of a semiconductor device in the foregoing embodiments. The program may only include a command portion to call an appropriate function (module) in a controlled mode and obtain desired results.</p><p id="p-0089" num="0068">The embodiments of the present disclosure offer advantages over existing art, though it is understood that other embodiments may offer different advantages, not all advantages are necessarily discussed herein, and that no particular advantage is required for all embodiments. By including all order of the eigenvalues and eigenfunctions of TCC in the calculation of a kernel, methods according to embodiments of the present disclosure consider exposure conditions of the exposure tool, including illumination intensity of the exposure tool, a numerical aperture of the exposure tool, a depth of focus (DOF), a thickness of a resist stack to be patterned, or a range of an aberration. In addition, methods of the present disclosure may include diffraction components to address polarization due to the mask three-dimensional (3D) effect. Because of the consideration of the exposure conditions and the mask 3D effect, methods of the present disclosure have better accuracy than conventional rule-based SRAF placement techniques. In addition, using the image slope as a factor to determine the locations of SRAF patterns, it is possible to more effectively place the SRAF patterns, which improves overall lithography quality. The present embodiments further can improve the image quality of specific locations because the input mask and target can be different. For example, if a weak spot (may be called as hot spot) is found, a heavy weight is put around the weak spot to improve the image quality specifically at that point. Since the present embodiments involve in image calculation with/without a unit pattern and the image quality improvement is qualitatively evaluated, a SRAF seed map qualitatively shows the SRAF impact on target. In this way, it is possible to clearly know which SRAF location(s) is/are more important than the other locations. An additional benefit includes that it is possible to specify an image slope to be improved. While it may be possible to empirically know that an improving image intensity could improve an image slope (indirectly), in the present embodiments, a SRAF location which helps to improve an image slope is directly shown.</p><p id="p-0090" num="0069">In accordance with one aspect of the present disclosure, in a pattern formation method for a semiconductor device fabrication, an original pattern for manufacturing a photomask is acquired, a modified original pattern is obtained by performing an optical proximity correction on the original pattern, a sub-resolution assist feature (SRAF) seed map with respect to the modified original pattern indicating locations where an image quality is improved by an SRAF pattern is obtained, SRAF patterns are placed around the original pattern, the SRAF patterns and the modified original pattern are output as mask data, and the photo mask is manufactured using the mask data. In one or more of the foregoing and following embodiments, another optical proximity correction is performed on the SRAF patterns and the modified original pattern. The mask data include the SRAF patterns and the modified original pattern on which the another optical proximity correction is performed. In one or more of the foregoing and following embodiments, a design rule check operation is performed on the SRAF patterns and the modified original pattern. In one or more of the foregoing and following embodiments, one or more of the SRAF patterns or the modified original pattern is modified after the design rule check operation. In one or more of the foregoing and following embodiments, when the SRAF seed map is obtained, locations where placement of a unit pattern improves an image quality of the modified original pattern are found. In one or more of the foregoing and following embodiments, the image quality comprises a image slope of an edge of the modified original pattern. In one or more of the foregoing and following embodiments, the unit pattern is a square having a size of 2 nm to 40 nm.</p><p id="p-0091" num="0070">In accordance with another aspect of the present disclosure, in a pattern formation method, an original pattern for manufacturing a photomask is acquired, a sub-resolution assist feature (SRAF) seed map is calculated to find candidate locations where placing a pattern improves an image slope of an edge of an optical image of the original pattern, SRAF patterns are placed at one or more of the candidate locations, the SRAF patterns and the modified original pattern are output as mask data, the photo mask is manufactured using the mask data, and a resist pattern is formed by an optical lithography using the photo mask. In one or more of the foregoing and following embodiments, the calculating the SRAF seed map comprises calculating the SRAF seed map according to the following formula:</p><p id="p-0092" num="0000"><maths id="MATH-US-00009" num="00009"><math overflow="scroll"> <mrow>  <mtext>	</mtext>  <mrow>   <mrow>    <mrow>     <mi>t</mi>     <mo>&#x2061;</mo>     <mo>(</mo>     <mrow>      <msup>       <mi>x</mi>       <mo>&#x2032;</mo>      </msup>      <mo>,</mo>      <msup>       <mi>y</mi>       <mo>&#x2032;</mo>      </msup>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <mo>&#x222b;</mo>     <mrow>      <mo>&#x222b;</mo>      <mrow>       <mrow>        <mo>[</mo>        <mrow>         <mrow>          <msub>           <mi>I</mi>           <mi>x</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mrow>            <mi>y</mi>            <mo>;</mo>            <msup>             <mi>x</mi>             <mo>&#x2032;</mo>            </msup>           </mrow>           <mo>,</mo>           <msup>            <mi>y</mi>            <mo>&#x2032;</mo>           </msup>          </mrow>          <mo>)</mo>         </mrow>         <mo>+</mo>         <mrow>          <msub>           <mi>I</mi>           <mi>y</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mrow>            <mi>y</mi>            <mo>;</mo>            <msup>             <mi>x</mi>             <mo>&#x2032;</mo>            </msup>           </mrow>           <mo>,</mo>           <msup>            <mi>y</mi>            <mo>&#x2032;</mo>           </msup>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mo>]</mo>       </mrow>       <mo>&#x2062;</mo>       <mi>dxdy</mi>      </mrow>     </mrow>    </mrow>   </mrow>   <mo>,</mo>  </mrow> </mrow></math></maths><maths id="MATH-US-00009-2" num="00009.2"><math overflow="scroll"> <mrow>  <mrow>   <mrow>    <mi>where</mi>    <mo>&#x2062;</mo>    <mtext>   </mtext>    <mrow>     <mi>FT</mi>     <mo>[</mo>     <mrow>      <msub>       <mi>I</mi>       <mi>x</mi>      </msub>      <mo>(</mo>      <mrow>       <mi>x</mi>       <mo>,</mo>       <mrow>        <mi>y</mi>        <mo>;</mo>        <msup>         <mi>x</mi>         <mo>&#x2032;</mo>        </msup>       </mrow>       <mo>,</mo>       <msup>        <mi>y</mi>        <mo>&#x2032;</mo>       </msup>      </mrow>      <mo>)</mo>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mrow>      <mrow>       <mi>FT</mi>       <mo>[</mo>       <mrow>        <mrow>         <mi>h</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mfrac>         <mrow>          <mo>&#x2202;</mo>          <mtext> </mtext>          <mrow>           <mi>W</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>         </mrow>         <mi>dx</mi>        </mfrac>       </mrow>       <mo>]</mo>      </mrow>      <mo>[</mo>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mn>2</mn>       <mo>&#x2062;</mo>       <mi>&#x3c0;</mi>       <mo>&#x2062;</mo>       <mi>f</mi>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>f</mi>         <mo>,</mo>         <mi>g</mi>        </mrow>        <mo>)</mo>       </mrow>      </mrow>      <mo>]</mo>     </mrow>     <mo>*</mo>    </msup>    <mo>+</mo>    <mrow>     <mrow>      <mi>FT</mi>      <mo>[</mo>      <mrow>       <mrow>        <msub>         <mi>h</mi>         <mi>x</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>x</mi>         <mo>,</mo>         <mi>y</mi>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mfrac>        <mrow>         <mo>&#x2202;</mo>         <mtext> </mtext>         <mrow>          <mi>W</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mi>dx</mi>       </mfrac>      </mrow>      <mo>]</mo>     </mrow>     <mo>&#x2062;</mo>     <mrow>      <msubsup>       <mi>&#x3a6;</mi>       <mi>i</mi>       <mo>*</mo>      </msubsup>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>   </mrow>  </mrow>  <mo>,</mo>  <mtext></mtext>  <mrow>   <mrow>    <mi>FT</mi>    <mo>[</mo>    <mrow>     <msub>      <mi>I</mi>      <mi>y</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mrow>       <mi>y</mi>       <mo>;</mo>       <mrow>        <msup>         <mi>x</mi>         <mo>&#x2032;</mo>        </msup>        <mo>&#x2062;</mo>        <msup>         <mi>y</mi>         <mo>&#x2032;</mo>        </msup>       </mrow>      </mrow>     </mrow>     <mo>)</mo>    </mrow>    <mo>]</mo>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mrow>      <mrow>       <mi>FT</mi>       <mo>[</mo>       <mrow>        <mrow>         <mi>h</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mfrac>         <mrow>          <mo>&#x2202;</mo>          <mtext> </mtext>          <mrow>           <mi>W</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>         </mrow>         <mi>dy</mi>        </mfrac>       </mrow>       <mo>]</mo>      </mrow>      <mo>[</mo>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mn>2</mn>       <mo>&#x2062;</mo>       <mi>&#x3c0;</mi>       <mo>&#x2062;</mo>       <mi>g</mi>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>f</mi>         <mo>,</mo>         <mi>g</mi>        </mrow>        <mo>)</mo>       </mrow>      </mrow>      <mo>]</mo>     </mrow>     <mo>*</mo>    </msup>    <mo>+</mo>    <mrow>     <mrow>      <mi>FT</mi>      <mo>[</mo>      <mrow>       <mrow>        <msub>         <mi>h</mi>         <mi>y</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>x</mi>         <mo>,</mo>         <mi>y</mi>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mfrac>        <mrow>         <mo>&#x2202;</mo>         <mtext> </mtext>         <mrow>          <mi>W</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mi>dy</mi>       </mfrac>      </mrow>      <mo>]</mo>     </mrow>     <mo>&#x2062;</mo>     <mrow>      <msubsup>       <mi>&#x3a6;</mi>       <mi>i</mi>       <mo>*</mo>      </msubsup>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>   </mrow>  </mrow>  <mo>,</mo> </mrow></math></maths><maths id="MATH-US-00009-3" num="00009.3"><math overflow="scroll"> <mrow>  <mtext>	</mtext>  <mrow>   <mrow>    <mrow>     <mi>h</mi>     <mo>&#x2061;</mo>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>   <mtext></mtext>   <mtext>	</mtext>   <mrow>    <mrow>     <msub>      <mi>h</mi>      <mi>x</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mi>i</mi>      <mo>&#x2062;</mo>      <mn>2</mn>      <mo>&#x2062;</mo>      <mi>&#x3c0;</mi>      <mo>&#x2062;</mo>      <mi>f</mi>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>   <mtext></mtext>   <mtext>	</mtext>   <mrow>    <mrow>     <msub>      <mi>h</mi>      <mi>y</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mi>i</mi>      <mo>&#x2062;</mo>      <mn>2</mn>      <mo>&#x2062;</mo>      <mi>&#x3c0;</mi>      <mo>&#x2062;</mo>      <mi>g</mi>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>  </mrow> </mrow></math></maths><ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0071">&#x3bb;<sub>i </sub>is the i-th eigenvalue of TCC, &#x3a6;<sub>i </sub>is the i-th eigenfunction of a transmission cross coefficient (TCC), W(x, y) expresses lens aberration, and &#x3a6;<sub>i</sub>=FT[&#x3c6;<sub>i</sub>] (FT is Fourier Transform).<br/>In one or more of the foregoing and following embodiments, a modified original pattern is obtained by performing an optical proximity correction on the original pattern. The SRAF seed map is obtained with respect to the modified original pattern. In one or more of the foregoing and following embodiments, another optical proximity correction is performed on the SRAF patterns and the modified original pattern. The mask data include the SRAF patterns and the modified original pattern on which the another optical proximity correction is performed. In one or more of the foregoing and following embodiments, a design rule check operation is performed on the SRAF patterns and the modified original pattern. In one or more of the foregoing and following embodiments, in the SRAF seed map, locations having a positive value indicate the candidate locations. In one or more of the foregoing and following embodiments, one or more locations having the positive value are selected, and the SRAF patterns are placed at the selected locations. No SRAF pattern is placed at least one of the locations having the positive value, which is not selected.</li>    </ul>    </li></ul></p><p id="p-0093" num="0072">In accordance with another aspect of the present disclosure, an apparatus for manufacturing a photo mask includes a processor, and a non-transitory computer readable storage medium storing a program. The program, when executed by the processor, causes the processor to perform: acquiring an original pattern for manufacturing a photomask; calculating a sub-resolution assist feature (SRAF) seed map to find candidate locations where placing a pattern improves an image slope of an edge of an optical image of the original pattern; placing SRAF patterns at one or more of the candidate locations; and outputting the SRAF patterns and the modified original pattern as mask data. In one or more of the foregoing and following embodiments, the calculating the SRAF seed map comprises calculating the SRAF seed map according to the following formula:</p><p id="p-0094" num="0000"><maths id="MATH-US-00010" num="00010"><math overflow="scroll"> <mrow>  <mtext>	</mtext>  <mrow>   <mrow>    <mrow>     <mi>t</mi>     <mo>&#x2061;</mo>     <mo>(</mo>     <mrow>      <msup>       <mi>x</mi>       <mo>&#x2032;</mo>      </msup>      <mo>,</mo>      <msup>       <mi>y</mi>       <mo>&#x2032;</mo>      </msup>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <mo>&#x222b;</mo>     <mrow>      <mo>&#x222b;</mo>      <mrow>       <mrow>        <mo>[</mo>        <mrow>         <mrow>          <msub>           <mi>I</mi>           <mi>x</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mrow>            <mi>y</mi>            <mo>;</mo>            <msup>             <mi>x</mi>             <mo>&#x2032;</mo>            </msup>           </mrow>           <mo>,</mo>           <msup>            <mi>y</mi>            <mo>&#x2032;</mo>           </msup>          </mrow>          <mo>)</mo>         </mrow>         <mo>+</mo>         <mrow>          <msub>           <mi>I</mi>           <mi>y</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mrow>            <mi>y</mi>            <mo>;</mo>            <msup>             <mi>x</mi>             <mo>&#x2032;</mo>            </msup>           </mrow>           <mo>,</mo>           <msup>            <mi>y</mi>            <mo>&#x2032;</mo>           </msup>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mo>]</mo>       </mrow>       <mo>&#x2062;</mo>       <mi>dxdy</mi>      </mrow>     </mrow>    </mrow>   </mrow>   <mo>,</mo>  </mrow> </mrow></math></maths><maths id="MATH-US-00010-2" num="00010.2"><math overflow="scroll"> <mrow>  <mrow>   <mrow>    <mi>where</mi>    <mo>&#x2062;</mo>    <mtext>   </mtext>    <mrow>     <mi>FT</mi>     <mo>[</mo>     <mrow>      <msub>       <mi>I</mi>       <mi>x</mi>      </msub>      <mo>(</mo>      <mrow>       <mi>x</mi>       <mo>,</mo>       <mrow>        <mi>y</mi>        <mo>;</mo>        <msup>         <mi>x</mi>         <mo>&#x2032;</mo>        </msup>       </mrow>       <mo>,</mo>       <msup>        <mi>y</mi>        <mo>&#x2032;</mo>       </msup>      </mrow>      <mo>)</mo>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mrow>      <mrow>       <mi>FT</mi>       <mo>[</mo>       <mrow>        <mrow>         <mi>h</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mfrac>         <mrow>          <mo>&#x2202;</mo>          <mtext> </mtext>          <mrow>           <mi>W</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>         </mrow>         <mi>dx</mi>        </mfrac>       </mrow>       <mo>]</mo>      </mrow>      <mo>[</mo>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mn>2</mn>       <mo>&#x2062;</mo>       <mi>&#x3c0;</mi>       <mo>&#x2062;</mo>       <mi>f</mi>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>f</mi>         <mo>,</mo>         <mi>g</mi>        </mrow>        <mo>)</mo>       </mrow>      </mrow>      <mo>]</mo>     </mrow>     <mo>*</mo>    </msup>    <mo>+</mo>    <mrow>     <mrow>      <mi>FT</mi>      <mo>[</mo>      <mrow>       <mrow>        <msub>         <mi>h</mi>         <mi>x</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>x</mi>         <mo>,</mo>         <mi>y</mi>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mfrac>        <mrow>         <mo>&#x2202;</mo>         <mtext> </mtext>         <mrow>          <mi>W</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mi>dx</mi>       </mfrac>      </mrow>      <mo>]</mo>     </mrow>     <mo>&#x2062;</mo>     <mrow>      <msubsup>       <mi>&#x3a6;</mi>       <mi>i</mi>       <mo>*</mo>      </msubsup>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>   </mrow>  </mrow>  <mo>,</mo>  <mtext></mtext>  <mrow>   <mrow>    <mi>FT</mi>    <mo>[</mo>    <mrow>     <msub>      <mi>I</mi>      <mi>y</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mrow>       <mi>y</mi>       <mo>;</mo>       <msup>        <mi>x</mi>        <mo>&#x2032;</mo>       </msup>      </mrow>      <mo>,</mo>      <msup>       <mi>y</mi>       <mo>&#x2032;</mo>      </msup>     </mrow>     <mo>)</mo>    </mrow>    <mo>]</mo>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mrow>      <mrow>       <mi>FT</mi>       <mo>[</mo>       <mrow>        <mrow>         <mi>h</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mfrac>         <mrow>          <mo>&#x2202;</mo>          <mtext> </mtext>          <mrow>           <mi>W</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>         </mrow>         <mi>dy</mi>        </mfrac>       </mrow>       <mo>]</mo>      </mrow>      <mo>[</mo>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mn>2</mn>       <mo>&#x2062;</mo>       <mi>&#x3c0;</mi>       <mo>&#x2062;</mo>       <mi>g</mi>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>f</mi>         <mo>,</mo>         <mi>g</mi>        </mrow>        <mo>)</mo>       </mrow>      </mrow>      <mo>]</mo>     </mrow>     <mo>*</mo>    </msup>    <mo>+</mo>    <mrow>     <mrow>      <mi>FT</mi>      <mo>[</mo>      <mrow>       <mrow>        <msub>         <mi>h</mi>         <mi>y</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>x</mi>         <mo>,</mo>         <mi>y</mi>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mfrac>        <mrow>         <mo>&#x2202;</mo>         <mtext> </mtext>         <mrow>          <mi>W</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mi>dy</mi>       </mfrac>      </mrow>      <mo>]</mo>     </mrow>     <mo>&#x2062;</mo>     <mrow>      <msubsup>       <mi>&#x3a6;</mi>       <mi>i</mi>       <mo>*</mo>      </msubsup>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>   </mrow>  </mrow>  <mo>,</mo> </mrow></math></maths><maths id="MATH-US-00010-3" num="00010.3"><math overflow="scroll"> <mrow>  <mtext>	</mtext>  <mrow>   <mrow>    <mrow>     <mi>h</mi>     <mo>&#x2061;</mo>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>   <mtext></mtext>   <mtext>	</mtext>   <mrow>    <mrow>     <msub>      <mi>h</mi>      <mi>x</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mi>i</mi>      <mo>&#x2062;</mo>      <mn>2</mn>      <mo>&#x2062;</mo>      <mi>&#x3c0;</mi>      <mo>&#x2062;</mo>      <mi>f</mi>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>   <mtext></mtext>   <mtext>	</mtext>   <mrow>    <mrow>     <msub>      <mi>h</mi>      <mi>y</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mi>i</mi>      <mo>&#x2062;</mo>      <mn>2</mn>      <mo>&#x2062;</mo>      <mi>&#x3c0;</mi>      <mo>&#x2062;</mo>      <mi>g</mi>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>  </mrow> </mrow></math></maths></p><p id="p-0095" num="0073">&#x3bb;<sub>i </sub>is the i-th eigenvalue of TCC, &#x3a6;<sub>i </sub>is the i-th eigenfunction of a transmission cross coefficient (TCC), W(x, y) expresses lens aberration, and &#x3a6;<sub>i</sub>=FT[&#x3c6;<sub>i</sub>] (FT is Fourier Transform). In one or more of the foregoing and following embodiments, the executed program further causes the processor to perform obtaining a modified original pattern by performing an optical proximity correction on the original pattern, and the SRAF seed map is obtained with respect to the modified original pattern. In one or more of the foregoing and following embodiments, the executed program further causes the processor to perform performing another optical proximity correction on the SRAF patterns and the modified original pattern, and the mask data include the SRAF patterns and the modified original pattern on which the another optical proximity correction is performed. In one or more of the foregoing and following embodiments, the executed program further causes the processor to perform selecting one or more locations, but not all locations, of the candidate locations indicated in the SRAF seed map. In one or more of the foregoing and following embodiments, the selecting the one or more locations is performed based on a distance from the original pattern.</p><p id="p-0096" num="0074">The foregoing outlines features of several embodiments so that those skilled in the art may better understand the aspects of the present disclosure. Those skilled in the art should appreciate that they may readily use the present disclosure as a basis for designing or modifying other processes and structures for carrying out the same purposes and/or achieving the same advantages of the embodiments introduced herein. Those skilled in the art should also realize that such equivalent constructions do not depart from the spirit and scope of the present disclosure, and that they may make various changes, substitutions, and alterations herein without departing from the spirit and scope of the present disclosure.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001 MATH-US-00001-2" nb-file="US20230005738A1-20230105-M00001.NB"><img id="EMI-M00001" he="13.72mm" wi="76.20mm" file="US20230005738A1-20230105-M00001.TIF" alt="text missing or illegible when filed" img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00002" nb-file="US20230005738A1-20230105-M00002.NB"><img id="EMI-M00002" he="12.36mm" wi="76.20mm" file="US20230005738A1-20230105-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00003" nb-file="US20230005738A1-20230105-M00003.NB"><img id="EMI-M00003" he="5.67mm" wi="76.20mm" file="US20230005738A1-20230105-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00004" nb-file="US20230005738A1-20230105-M00004.NB"><img id="EMI-M00004" he="6.01mm" wi="76.20mm" file="US20230005738A1-20230105-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00005 MATH-US-00005-2 MATH-US-00005-3" nb-file="US20230005738A1-20230105-M00005.NB"><img id="EMI-M00005" he="38.78mm" wi="76.20mm" file="US20230005738A1-20230105-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00006" nb-file="US20230005738A1-20230105-M00006.NB"><img id="EMI-M00006" he="5.67mm" wi="76.20mm" file="US20230005738A1-20230105-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00007" nb-file="US20230005738A1-20230105-M00007.NB"><img id="EMI-M00007" he="6.01mm" wi="76.20mm" file="US20230005738A1-20230105-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00008" nb-file="US20230005738A1-20230105-M00008.NB"><img id="EMI-M00008" he="5.67mm" wi="76.20mm" file="US20230005738A1-20230105-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00009 MATH-US-00009-2 MATH-US-00009-3" nb-file="US20230005738A1-20230105-M00009.NB"><img id="EMI-M00009" he="38.78mm" wi="76.20mm" file="US20230005738A1-20230105-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00010 MATH-US-00010-2 MATH-US-00010-3" nb-file="US20230005738A1-20230105-M00010.NB"><img id="EMI-M00010" he="38.78mm" wi="76.20mm" file="US20230005738A1-20230105-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00011 MATH-US-00011-2 MATH-US-00011-3" nb-file="US20230005738A1-20230105-M00011.NB"><img id="EMI-M00011" he="38.78mm" wi="76.20mm" file="US20230005738A1-20230105-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00012 MATH-US-00012-2 MATH-US-00012-3" nb-file="US20230005738A1-20230105-M00012.NB"><img id="EMI-M00012" he="38.78mm" wi="76.20mm" file="US20230005738A1-20230105-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A pattern formation method for a semiconductor device fabrication, comprising:<claim-text>acquiring an original pattern for manufacturing a photomask;</claim-text><claim-text>obtaining a modified original pattern by performing an optical proximity correction on the original pattern;</claim-text><claim-text>obtaining a sub-resolution assist feature (SRAF) seed map with respect to the modified original pattern indicating locations where an image quality is improved by an SRAF pattern;</claim-text><claim-text>placing SRAF patterns around the original pattern;</claim-text><claim-text>outputting the SRAF patterns and the modified original pattern as mask data; and</claim-text><claim-text>manufacturing the photo mask using the mask data.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The pattern formation method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising performing another optical proximity correction on the SRAF patterns and the modified original pattern,<claim-text>wherein the mask data include the SRAF patterns and the modified original pattern on which the another optical proximity correction is performed.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The pattern formation method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising performing a design rule check operation on the SRAF patterns and the modified original pattern.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The pattern formation method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein one or more of the SRAF patterns or the modified original pattern is modified after the design rule check operation.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The pattern formation method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the obtaining SRAF seed map comprises:<claim-text>finding locations where placement of a unit pattern improves an image quality of the modified original pattern.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The pattern formation method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the image quality comprises an image slope of an edge of the modified original pattern.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The pattern formation method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the unit pattern is a square having a size of 2 nm to 40 nm.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. A pattern formation method for a semiconductor device fabrication, comprising:<claim-text>acquiring an original pattern for manufacturing a photomask;</claim-text><claim-text>calculating a sub-resolution assist feature (SRAF) seed map to find candidate locations where placing a SRAF improves an image slope of an edge of an optical image of the original pattern;</claim-text><claim-text>placing SRAF patterns at one or more of the candidate locations;</claim-text><claim-text>outputting the SRAF patterns and the original pattern as mask data;</claim-text><claim-text>manufacturing the photo mask using the mask data; and</claim-text><claim-text>forming a resist pattern by an optical lithography using the photo mask.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The pattern formation method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the calculating the SRAF seed map comprises calculating the SRAF seed map according to the following formula:</claim-text><claim-text><maths id="MATH-US-00011" num="00011"><math overflow="scroll"> <mrow>  <mtext>	</mtext>  <mrow>   <mrow>    <mrow>     <mi>t</mi>     <mo>&#x2061;</mo>     <mo>(</mo>     <mrow>      <msup>       <mi>x</mi>       <mo>&#x2032;</mo>      </msup>      <mo>,</mo>      <msup>       <mi>y</mi>       <mo>&#x2032;</mo>      </msup>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <mo>&#x222b;</mo>     <mrow>      <mo>&#x222b;</mo>      <mrow>       <mrow>        <mo>[</mo>        <mrow>         <mrow>          <msub>           <mi>I</mi>           <mi>x</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mrow>            <mi>y</mi>            <mo>;</mo>            <msup>             <mi>x</mi>             <mo>&#x2032;</mo>            </msup>           </mrow>           <mo>,</mo>           <msup>            <mi>y</mi>            <mo>&#x2032;</mo>           </msup>          </mrow>          <mo>)</mo>         </mrow>         <mo>+</mo>         <mrow>          <msub>           <mi>I</mi>           <mi>y</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mrow>            <mi>y</mi>            <mo>;</mo>            <msup>             <mi>x</mi>             <mo>&#x2032;</mo>            </msup>           </mrow>           <mo>,</mo>           <msup>            <mi>y</mi>            <mo>&#x2032;</mo>           </msup>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mo>]</mo>       </mrow>       <mo>&#x2062;</mo>       <mi>dxdy</mi>      </mrow>     </mrow>    </mrow>   </mrow>   <mo>,</mo>  </mrow> </mrow></math></maths><maths id="MATH-US-00011-2" num="00011.2"><math overflow="scroll"> <mrow>  <mrow>   <mrow>    <mi>where</mi>    <mo>&#x2062;</mo>    <mtext>   </mtext>    <mrow>     <mi>FT</mi>     <mo>[</mo>     <mrow>      <msub>       <mi>I</mi>       <mi>x</mi>      </msub>      <mo>(</mo>      <mrow>       <mi>x</mi>       <mo>,</mo>       <mrow>        <mi>y</mi>        <mo>;</mo>        <msup>         <mi>x</mi>         <mo>&#x2032;</mo>        </msup>       </mrow>       <mo>,</mo>       <msup>        <mi>y</mi>        <mo>&#x2032;</mo>       </msup>      </mrow>      <mo>)</mo>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mrow>      <mrow>       <mi>FT</mi>       <mo>[</mo>       <mrow>        <mrow>         <mi>h</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mfrac>         <mrow>          <mo>&#x2202;</mo>          <mtext> </mtext>          <mrow>           <mi>W</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>         </mrow>         <mi>dx</mi>        </mfrac>       </mrow>       <mo>]</mo>      </mrow>      <mo>[</mo>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mn>2</mn>       <mo>&#x2062;</mo>       <mi>&#x3c0;</mi>       <mo>&#x2062;</mo>       <mi>f</mi>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>f</mi>         <mo>,</mo>         <mi>g</mi>        </mrow>        <mo>)</mo>       </mrow>      </mrow>      <mo>]</mo>     </mrow>     <mo>*</mo>    </msup>    <mo>+</mo>    <mrow>     <mrow>      <mi>FT</mi>      <mo>[</mo>      <mrow>       <mrow>        <msub>         <mi>h</mi>         <mi>x</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>x</mi>         <mo>,</mo>         <mi>y</mi>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mfrac>        <mrow>         <mo>&#x2202;</mo>         <mtext> </mtext>         <mrow>          <mi>W</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mi>dx</mi>       </mfrac>      </mrow>      <mo>]</mo>     </mrow>     <mo>&#x2062;</mo>     <mrow>      <msubsup>       <mi>&#x3a6;</mi>       <mi>i</mi>       <mo>*</mo>      </msubsup>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>   </mrow>  </mrow>  <mo>,</mo>  <mtext></mtext>  <mrow>   <mrow>    <mi>FT</mi>    <mo>[</mo>    <mrow>     <msub>      <mi>I</mi>      <mi>y</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mrow>       <mi>y</mi>       <mo>;</mo>       <msup>        <mi>x</mi>        <mo>&#x2032;</mo>       </msup>      </mrow>      <mo>,</mo>      <msup>       <mi>y</mi>       <mo>&#x2032;</mo>      </msup>     </mrow>     <mo>)</mo>    </mrow>    <mo>]</mo>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mrow>      <mrow>       <mi>FT</mi>       <mo>[</mo>       <mrow>        <mrow>         <mi>h</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mfrac>         <mrow>          <mo>&#x2202;</mo>          <mtext> </mtext>          <mrow>           <mi>W</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>         </mrow>         <mi>dy</mi>        </mfrac>       </mrow>       <mo>]</mo>      </mrow>      <mo>[</mo>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mn>2</mn>       <mo>&#x2062;</mo>       <mi>&#x3c0;</mi>       <mo>&#x2062;</mo>       <mi>g</mi>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>f</mi>         <mo>,</mo>         <mi>g</mi>        </mrow>        <mo>)</mo>       </mrow>      </mrow>      <mo>]</mo>     </mrow>     <mo>*</mo>    </msup>    <mo>+</mo>    <mrow>     <mrow>      <mi>FT</mi>      <mo>[</mo>      <mrow>       <mrow>        <msub>         <mi>h</mi>         <mi>y</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>x</mi>         <mo>,</mo>         <mi>y</mi>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mfrac>        <mrow>         <mo>&#x2202;</mo>         <mtext> </mtext>         <mrow>          <mi>W</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mi>dy</mi>       </mfrac>      </mrow>      <mo>]</mo>     </mrow>     <mo>&#x2062;</mo>     <mrow>      <msubsup>       <mi>&#x3a6;</mi>       <mi>i</mi>       <mo>*</mo>      </msubsup>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>   </mrow>  </mrow>  <mo>,</mo> </mrow></math></maths><maths id="MATH-US-00011-3" num="00011.3"><math overflow="scroll"> <mrow>  <mtext>	</mtext>  <mrow>   <mrow>    <mrow>     <mi>h</mi>     <mo>&#x2061;</mo>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>   <mtext></mtext>   <mtext>	</mtext>   <mrow>    <mrow>     <msub>      <mi>h</mi>      <mi>x</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mi>i</mi>      <mo>&#x2062;</mo>      <mn>2</mn>      <mo>&#x2062;</mo>      <mi>&#x3c0;</mi>      <mo>&#x2062;</mo>      <mi>f</mi>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>   <mtext></mtext>   <mtext>	</mtext>   <mrow>    <mrow>     <msub>      <mi>h</mi>      <mi>y</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mi>i</mi>      <mo>&#x2062;</mo>      <mn>2</mn>      <mo>&#x2062;</mo>      <mi>&#x3c0;</mi>      <mo>&#x2062;</mo>      <mi>g</mi>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>  </mrow> </mrow></math></maths><claim-text>&#x3bb;<sub>i </sub>is the i-th eigenvalue of TCC, &#x3a6;<sub>i </sub>is the i-th eigenfunction of a transmission cross coefficient (TCC), W(x, y) expresses lens aberration, and &#x3a6;<sub>i</sub>=FT[&#x3c6;<sub>i</sub>], where FT is Fourier Transform.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The pattern formation method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising obtaining a modified original pattern by performing an optical proximity correction on the original pattern,<claim-text>wherein the SRAF seed map is obtained with respect to the modified original pattern.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The pattern formation method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising performing another optical proximity correction on the SRAF patterns and the modified original pattern,<claim-text>wherein the mask data include the SRAF patterns and the modified original pattern on which the another optical proximity correction is performed.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The pattern formation method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising performing a design rule check operation on the SRAF patterns and the modified original pattern.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The pattern formation method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein in the SRAF seed map, locations having a positive value indicate the candidate locations.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The pattern formation method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising selecting one or more locations having the positive value, and placing the SRAF patterns at the selected locations,<claim-text>wherein no SRAF pattern is placed at at least one of the locations having the positive value, which is not selected.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. An apparatus for manufacturing a photo mask comprising:<claim-text>a processor; and</claim-text><claim-text>a non-transitory computer readable storage medium storing a program, wherein:</claim-text><claim-text>the program, when executed by the processor, causes the processor to perform:<claim-text>acquiring an original pattern for manufacturing a photomask;</claim-text><claim-text>calculating a sub-resolution assist feature (SRAF) seed map to find candidate locations where placing a SRAF improves an image slope of an edge of an optical image of the original pattern;</claim-text><claim-text>placing SRAF patterns at one or more of the candidate locations; and</claim-text><claim-text>outputting the SRAF patterns and the modified original pattern as mask data.</claim-text></claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The apparatus of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the calculating the SRAF seed map comprises calculating the SRAF seed map according to the following formula:</claim-text><claim-text><maths id="MATH-US-00012" num="00012"><math overflow="scroll"> <mrow>  <mtext>	</mtext>  <mrow>   <mrow>    <mrow>     <mi>t</mi>     <mo>&#x2061;</mo>     <mo>(</mo>     <mrow>      <msup>       <mi>x</mi>       <mo>&#x2032;</mo>      </msup>      <mo>,</mo>      <msup>       <mi>y</mi>       <mo>&#x2032;</mo>      </msup>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <mo>&#x222b;</mo>     <mrow>      <mo>&#x222b;</mo>      <mrow>       <mrow>        <mo>[</mo>        <mrow>         <mrow>          <msub>           <mi>I</mi>           <mi>x</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mrow>            <mi>y</mi>            <mo>;</mo>            <msup>             <mi>x</mi>             <mo>&#x2032;</mo>            </msup>           </mrow>           <mo>,</mo>           <msup>            <mi>y</mi>            <mo>&#x2032;</mo>           </msup>          </mrow>          <mo>)</mo>         </mrow>         <mo>+</mo>         <mrow>          <msub>           <mi>I</mi>           <mi>y</mi>          </msub>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mrow>            <mi>y</mi>            <mo>;</mo>            <msup>             <mi>x</mi>             <mo>&#x2032;</mo>            </msup>           </mrow>           <mo>,</mo>           <msup>            <mi>y</mi>            <mo>&#x2032;</mo>           </msup>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mo>]</mo>       </mrow>       <mo>&#x2062;</mo>       <mi>dxdy</mi>      </mrow>     </mrow>    </mrow>   </mrow>   <mo>,</mo>  </mrow> </mrow></math></maths><maths id="MATH-US-00012-2" num="00012.2"><math overflow="scroll"> <mrow>  <mrow>   <mrow>    <mi>where</mi>    <mo>&#x2062;</mo>    <mtext>   </mtext>    <mrow>     <mi>FT</mi>     <mo>[</mo>     <mrow>      <msub>       <mi>I</mi>       <mi>x</mi>      </msub>      <mo>(</mo>      <mrow>       <mi>x</mi>       <mo>,</mo>       <mrow>        <mi>y</mi>        <mo>;</mo>        <msup>         <mi>x</mi>         <mo>&#x2032;</mo>        </msup>       </mrow>       <mo>,</mo>       <msup>        <mi>y</mi>        <mo>&#x2032;</mo>       </msup>      </mrow>      <mo>)</mo>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mrow>      <mrow>       <mi>FT</mi>       <mo>[</mo>       <mrow>        <mrow>         <mi>h</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mfrac>         <mrow>          <mo>&#x2202;</mo>          <mtext> </mtext>          <mrow>           <mi>W</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>         </mrow>         <mi>dx</mi>        </mfrac>       </mrow>       <mo>]</mo>      </mrow>      <mo>[</mo>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mn>2</mn>       <mo>&#x2062;</mo>       <mi>&#x3c0;</mi>       <mo>&#x2062;</mo>       <mi>f</mi>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>f</mi>         <mo>,</mo>         <mi>g</mi>        </mrow>        <mo>)</mo>       </mrow>      </mrow>      <mo>]</mo>     </mrow>     <mo>*</mo>    </msup>    <mo>+</mo>    <mrow>     <mrow>      <mi>FT</mi>      <mo>[</mo>      <mrow>       <mrow>        <msub>         <mi>h</mi>         <mi>x</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>x</mi>         <mo>,</mo>         <mi>y</mi>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mfrac>        <mrow>         <mo>&#x2202;</mo>         <mtext> </mtext>         <mrow>          <mi>W</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mi>dx</mi>       </mfrac>      </mrow>      <mo>]</mo>     </mrow>     <mo>&#x2062;</mo>     <mrow>      <msubsup>       <mi>&#x3a6;</mi>       <mi>i</mi>       <mo>*</mo>      </msubsup>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>   </mrow>  </mrow>  <mo>,</mo>  <mtext></mtext>  <mrow>   <mrow>    <mi>FT</mi>    <mo>[</mo>    <mrow>     <msub>      <mi>I</mi>      <mi>y</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mrow>       <mi>y</mi>       <mo>;</mo>       <msup>        <mi>x</mi>        <mo>&#x2032;</mo>       </msup>      </mrow>      <mo>,</mo>      <msup>       <mi>y</mi>       <mo>&#x2032;</mo>      </msup>     </mrow>     <mo>)</mo>    </mrow>    <mo>]</mo>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mrow>      <mrow>       <mi>FT</mi>       <mo>[</mo>       <mrow>        <mrow>         <mi>h</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mfrac>         <mrow>          <mo>&#x2202;</mo>          <mtext> </mtext>          <mrow>           <mi>W</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>x</mi>            <mo>,</mo>            <mi>y</mi>           </mrow>           <mo>)</mo>          </mrow>         </mrow>         <mi>dy</mi>        </mfrac>       </mrow>       <mo>]</mo>      </mrow>      <mo>[</mo>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mn>2</mn>       <mo>&#x2062;</mo>       <mi>&#x3c0;</mi>       <mo>&#x2062;</mo>       <mi>g</mi>       <mo>&#x2062;</mo>       <mrow>        <msub>         <mi>&#x3a6;</mi>         <mi>i</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>f</mi>         <mo>,</mo>         <mi>g</mi>        </mrow>        <mo>)</mo>       </mrow>      </mrow>      <mo>]</mo>     </mrow>     <mo>*</mo>    </msup>    <mo>+</mo>    <mrow>     <mrow>      <mi>FT</mi>      <mo>[</mo>      <mrow>       <mrow>        <msub>         <mi>h</mi>         <mi>y</mi>        </msub>        <mo>(</mo>        <mrow>         <mi>x</mi>         <mo>,</mo>         <mi>y</mi>        </mrow>        <mo>)</mo>       </mrow>       <mo>&#x2062;</mo>       <mfrac>        <mrow>         <mo>&#x2202;</mo>         <mtext> </mtext>         <mrow>          <mi>W</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>          <mo>)</mo>         </mrow>        </mrow>        <mi>dy</mi>       </mfrac>      </mrow>      <mo>]</mo>     </mrow>     <mo>&#x2062;</mo>     <mrow>      <msubsup>       <mi>&#x3a6;</mi>       <mi>i</mi>       <mo>*</mo>      </msubsup>      <mo>(</mo>      <mrow>       <mi>f</mi>       <mo>,</mo>       <mi>g</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>   </mrow>  </mrow>  <mo>,</mo> </mrow></math></maths><maths id="MATH-US-00012-3" num="00012.3"><math overflow="scroll"> <mrow>  <mtext>	</mtext>  <mrow>   <mrow>    <mrow>     <mi>h</mi>     <mo>&#x2061;</mo>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>   <mtext></mtext>   <mtext>	</mtext>   <mrow>    <mrow>     <msub>      <mi>h</mi>      <mi>x</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mi>i</mi>      <mo>&#x2062;</mo>      <mn>2</mn>      <mo>&#x2062;</mo>      <mi>&#x3c0;</mi>      <mo>&#x2062;</mo>      <mi>f</mi>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>   <mtext></mtext>   <mtext>	</mtext>   <mrow>    <mrow>     <msub>      <mi>h</mi>      <mi>y</mi>     </msub>     <mo>(</mo>     <mrow>      <mi>x</mi>      <mo>,</mo>      <mi>y</mi>     </mrow>     <mo>)</mo>    </mrow>    <mo>=</mo>    <mrow>     <msup>      <mi>FT</mi>      <mrow>       <mo>-</mo>       <mn>1</mn>      </mrow>     </msup>     <mo>[</mo>     <mrow>      <mi>i</mi>      <mo>&#x2062;</mo>      <mn>2</mn>      <mo>&#x2062;</mo>      <mi>&#x3c0;</mi>      <mo>&#x2062;</mo>      <mi>g</mi>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>&#x3a6;</mi>        <mi>i</mi>       </msub>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>&#x2062;</mo>      <mrow>       <mover>        <mi>a</mi>        <mo>^</mo>       </mover>       <mo>(</mo>       <mrow>        <mi>f</mi>        <mo>,</mo>        <mi>g</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mo>]</mo>    </mrow>   </mrow>   <mo>,</mo>  </mrow> </mrow></math></maths><claim-text>&#x3bb;<sub>i </sub>is the i-th eigenvalue of TCC, &#x3a6;<sub>i </sub>is the i-th eigenfunction of a transmission cross coefficient (TCC), W(x, y) expresses lens aberration, and &#x3a6;<sub>i</sub>=FT[&#x3c6;<sub>i</sub>], where FT is Fourier Transform.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The apparatus of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein:<claim-text>the executed program further causes the processor to perform obtaining a modified original pattern by performing an optical proximity correction on the original pattern, and</claim-text><claim-text>the SRAF seed map is obtained with respect to the modified original pattern.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The apparatus of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein:<claim-text>the executed program further causes the processor to perform another optical proximity correction on the SRAF patterns and the modified original pattern, and</claim-text><claim-text>the mask data include the SRAF patterns and the modified original pattern on which the another optical proximity correction is performed.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The apparatus of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the executed program further causes the processor to perform selecting one or more locations, but not all locations, of the candidate locations indicated in the SRAF seed map.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The apparatus of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the selecting the one or more locations is performed based on a distance from the original pattern.</claim-text></claim></claims></us-patent-application>