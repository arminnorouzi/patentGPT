<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003979A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003979</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17930746</doc-number><date>20220909</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>02</class><subclass>B</subclass><main-group>13</main-group><subgroup>06</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>02</class><subclass>B</subclass><main-group>1</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>02</class><subclass>B</subclass><main-group>13</main-group><subgroup>06</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>02</class><subclass>B</subclass><main-group>1</main-group><subgroup>002</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">METHOD, APPARATUS, AND DEVICE FOR DETERMINING PARAMETERS OF FISHEYE LENS</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2020/078603</doc-number><date>20200310</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17930746</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>NANJING NANOTECH INSTITUTE CO. LTD.</orgname><address><city>Nanjing</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Wang</last-name><first-name>Qiu</first-name><address><city>Nanjing</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Wang</last-name><first-name>Yuan</first-name><address><city>Nanjing</city><country>CN</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method, an apparatus, and a device for determining parameters of a fisheye lens are provided. The fisheye lens includes a meta-lens including a first surface and a second surface, and the first and second surfaces are each provided with a plurality of columnar structures. The method includes: obtaining a focal length and a projection mode of a fisheye lens to be designed; determining a light angle offset of each columnar structure based on the focal length and the projection mode; determining a phase distribution of the columnar structure based on the light angle offset of the columnar structure; and determining a size of the columnar structure according to the phase distribution of the columnar structure. The fisheye lens may achieve a relatively large viewing field in a short distance.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="74.51mm" wi="111.59mm" file="US20230003979A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="196.85mm" wi="121.67mm" file="US20230003979A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="222.93mm" wi="154.09mm" file="US20230003979A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="167.64mm" wi="140.04mm" file="US20230003979A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="125.39mm" wi="162.39mm" file="US20230003979A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="174.16mm" wi="153.33mm" file="US20230003979A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="125.22mm" wi="95.84mm" file="US20230003979A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading><p id="p-0002" num="0001">This application is a continuation of International Application No. PCT/CN2020/078603, filed on Mar. 10, 2020, the disclosure of which is hereby incorporated by reference in its entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">The present application relates to the micro-nano optical imaging field and, in particular, to a method, an apparatus, and a device for determining parameters of a fisheye lens.</p><heading id="h-0003" level="1">BACKGROUD</heading><p id="p-0004" num="0003">A fisheye lens is a kind of lens with an ultra-large viewing angle (generally more than 120&#xb0;), which was initially designed and proposed by simulation of goldfish eyes in bionics. The fisheye lens has a unique projection mode to meet the physical requirements for obtaining an ultra-large viewing angle, which is different from the linear-type projection mode of a standard lens.</p><p id="p-0005" num="0004">The fisheye lens is essentially a set of lenses composed of multiple groups of glass lenses. A phase of light may be changed due to the inconsistence in thickness from an upper part to a lower part of glass lens, allowing the scattered light to re-converge, thereby making the optical path difference of the light emitting from each point uniform. Assembling of multiple groups of glass lenses makes the fisheye lens have a projection mode different from that of a single glass lens, which may eliminate the phase difference well, and then obtain an ultra-large viewing angle, which may even be close to 180&#xb0;. At present, traditional fisheye lens is usually composed of no less than eight groups of glass lenses, resulting in relatively large size of fisheye lens.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0006" num="0005">The present application provides a method, an apparatus, and a device for determining parameters of a fisheye lens, which reduces a size of the fisheye lens.</p><p id="p-0007" num="0006">In a first aspect of embodiments of the present application, there is provided a method for determining parameters of a fisheye lens, the fisheye lens includes a meta-lens, the meta-lens includes a first surface and a second surface, the first surface and the second surface are each provided with a plurality of columnar structures, and the method includes:</p><p id="p-0008" num="0007">obtaining a focal length and a projection mode of a fisheye lens to be designed;</p><p id="p-0009" num="0008">determining a light angle offset of each columnar structure based on the focal length and the projection mode;</p><p id="p-0010" num="0009">determining a phase distribution of the columnar structure based on the light angle offset of the columnar structure; and</p><p id="p-0011" num="0010">determining a size of the columnar structure based on the phase distribution of the columnar structure.</p><p id="p-0012" num="0011">In a possible embodiment, determining the light angle offset of each columnar structure based on the focal length and the projection mode includes:</p><p id="p-0013" num="0012">determining wave vectors corresponding to the columnar structure based on the focal length, the projection mode and the position of the columnar structure on the meta-lens; and</p><p id="p-0014" num="0013">determining the light angle offset of the columnar structure based on the wave vectors corresponding to the columnar structure.</p><p id="p-0015" num="0014">In a possible embodiment, the first columnar structure is any one of the plurality of columnar structures.</p><p id="p-0016" num="0015">In a possible embodiment, for a first columnar structure in the plurality of columnar structures, the wave vectors corresponding to the first columnar structure include: a first wave vector, a second wave vector, a third wave vector and a fourth wave vector; where,</p><p id="p-0017" num="0016">the first wave vector is a wave vector of the light prior to passing through the first surface from the first columnar structure;</p><p id="p-0018" num="0017">the second wave vector is a wave vector of the light after passing through the first surface from the first columnar structure;</p><p id="p-0019" num="0018">the third wave vector is a wave vector of the light prior to passing through the second surface from the first columnar structure; and</p><p id="p-0020" num="0019">the fourth wave vector is a wave vector of the light after passing through the second surface from the first columnar structure.</p><p id="p-0021" num="0020">In a possible embodiment,</p><p id="p-0022" num="0021">the first wave vector is represented as:</p><p id="p-0023" num="0022">k<sub>v1</sub>=k<sub>0 </sub>si n &#x3b8;;</p><p id="p-0024" num="0023">or, the second wave vector is represented as:</p><p id="p-0025" num="0024">k<sub>v2</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>2</sub>l;</p><p id="p-0026" num="0025">or, the third wave vector is represented as:</p><p id="p-0027" num="0026">k<sub>u1</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>10</sub>;</p><p id="p-0028" num="0027">or, the fourth wave vector is represented as:</p><p id="p-0029" num="0028">k<sub>u2</sub>=k<sub>0 </sub>si n &#x3b8;<sub>1</sub>,</p><p id="p-0030" num="0029">where, k<sub>0 </sub>is a wave vector in vacuum, k<sub>0</sub>=2&#x3c0; l &#x3bb;, n is a refractive index of the meta-lens, &#x3b8; is an incident angle of a first parallel light and a second parallel light, &#x3b8;<sub>10 </sub>is an exit angle of the first parallel light passing through the first surface from the first columnar structure, &#x3b8;<sub>2 </sub>is an exit angle of the second parallel light passing through the first surface from the first columnar structure, and &#x3b8;<sub>1 </sub>is an exit angle of the first parallel light passing through the second surface.</p><p id="p-0031" num="0030">In a possible embodiment, for the first columnar structure in the plurality of columnar structures, determining a light angle offset of the first columnar structure based on the wave vectors corresponding to the first columnar structure includes:</p><p id="p-0032" num="0031">determining the light angle offset of the first columnar structure on the first surface based on the first wave vector and the second wave vector; and</p><p id="p-0033" num="0032">determining the light angle offset of the first columnar structure on the second surface based on the third wave vector and the fourth wave vector.</p><p id="p-0034" num="0033">In a possible embodiment, for the first columnar structure in the plurality of columnar structures, determining a phase distribution of the first columnar structure based on the light angle offset of the first columnar structure includes:</p><p id="p-0035" num="0034">determining a first phase variation of the first columnar structure on the first surface based on the light angle offset of the first columnar structure on the first surface;</p><p id="p-0036" num="0035">determining a second phase variation of the first columnar structure on the second surface based on the light angle offset of the first columnar structure on the second surface; and</p><p id="p-0037" num="0036">determining the phase distribution based on the first phase variation and the second phase variation.</p><p id="p-0038" num="0037">In a possible embodiment, determining the size of each columnar structure based on the phase distribution of the columnar structure includes:</p><p id="p-0039" num="0038">determining a phase value of the columnar structure based on the phase distribution of the columnar structure;</p><p id="p-0040" num="0039">determining the size of each columnar structure based on the phase value of the columnar structure and a preset corresponding relationship, where, the preset corresponding relationship includes a plurality of phase values and a size corresponding to each phase value.</p><p id="p-0041" num="0040">At a second aspect of embodiments of the present application, there is provided an apparatus for determining parameters of a fisheye lens, the fisheye lens includes a meta-lens, the meta-lens includes a first surface and a second surface, the first surface and the second surface are each provided with a plurality of columnar structures, and the apparatus includes:</p><p id="p-0042" num="0041">an obtaining module configured to obtain a focal length and a projection mode of a fisheye lens to be designed;</p><p id="p-0043" num="0042">a first determination module configured to determine a light angle offset of each columnar structure based on the focal length and the projection mode;</p><p id="p-0044" num="0043">a second determination module configured to determine a phase distribution of the columnar structure based on the light angle offset of the columnar structure;</p><p id="p-0045" num="0044">a third determination module configured to determine a size of the columnar structure based on the phase distribution of the columnar structure.</p><p id="p-0046" num="0045">In a possible embodiment, the first determination module is specifically configured to:</p><p id="p-0047" num="0046">determine wave vectors corresponding to each columnar structure based on the focal length, the projection mode and a position of the columnar structure on the meta-lens; and</p><p id="p-0048" num="0047">determine the light angle offset of the columnar structure based on the wave vectors corresponding to the columnar structure.</p><p id="p-0049" num="0048">In a possible embodiment, for the first columnar structure in a plurality of columnar structures, the wave vectors corresponding to the first columnar structure include: a first wave vector, a second wave vector, a third wave vector and a fourth wave vector; where,</p><p id="p-0050" num="0049">the first wave vector is a wave vector of the light prior to passing through the first surface from the first columnar structure;</p><p id="p-0051" num="0050">the second wave vector is a wave vector of the light after passing through the first surface from the first columnar structure;</p><p id="p-0052" num="0051">the third wave vector is a wave vector of the light prior to passing through the second surface from the first columnar structure; and</p><p id="p-0053" num="0052">the fourth wave vector is a wave vector of the light after passing through the second surface from the first columnar structure.</p><p id="p-0054" num="0053">In a possible embodiment,</p><p id="p-0055" num="0054">the first wave vector is represented as:</p><p id="p-0056" num="0055">k<sub>v1</sub>=k<sub>0 </sub>si n &#x3b8;;</p><p id="p-0057" num="0056">or, the second wave vector is represented as:</p><p id="p-0058" num="0057">k<sub>v2</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>2</sub>;</p><p id="p-0059" num="0058">or, the third wave vector is represented as:</p><p id="p-0060" num="0059">k<sub>u1</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>10</sub>;</p><p id="p-0061" num="0060">or, the fourth wave vector is represented as:</p><p id="p-0062" num="0061">k<sub>u2</sub>=k<sub>0 </sub>si n &#x3b8;<sub>1</sub>,</p><p id="p-0063" num="0062">where, k<sub>0 </sub>is a wave vector in vacuum, k<sub>0</sub>=2&#x3c0; l &#x3bb;, n is a refractive index of the meta-lens, &#x3b8; is an incident angle of a first parallel light and a second parallel light, &#x3b8;<sub>10 </sub>is an exit angle of the first parallel light passing through the first surface from the first columnar structure, &#x3b8;<sub>2 </sub>is an exit angle of the second parallel light passing through the first surface from the first columnar structure, and &#x3b8;<sub>1 </sub>is an exit angle of the first parallel light passing through the second surface.</p><p id="p-0064" num="0063">In a possible embodiment, for the first columnar structure in a plurality of columnar structures, the first determination module is specifically configured to:</p><p id="p-0065" num="0064">determine a light angle offset of the first columnar structure on the first surface based on the first wave vector and the second wave vector; and</p><p id="p-0066" num="0065">determine a light angle offset of the first columnar structure on the second surface based on the third wave vector and the fourth wave vector.</p><p id="p-0067" num="0066">In a possible embodiment, for the first columnar structure in a plurality of columnar structures, the second determination module is specifically configured to:</p><p id="p-0068" num="0067">determine a first phase variation of the first columnar structure on the first surface based on the light angle offset of the first columnar structure on the first surface;</p><p id="p-0069" num="0068">determine a second phase variation of the first columnar structure on the second surface based on the light angle offset of the first columnar structure on the second surface; and</p><p id="p-0070" num="0069">determine the phase distribution based on the first phase variation and the second phase variation.</p><p id="p-0071" num="0070">In a possible embodiment, the third determination module is specifically configured to:</p><p id="p-0072" num="0071">determine a phase value of each columnar structure based on the phase distribution of the columnar structure; and</p><p id="p-0073" num="0072">determine the size of the columnar structure based on the phase value of the columnar structure and the preset corresponding relationship, where the preset corresponding relationship includes a plurality of phase values and a size corresponding to each phase value.</p><p id="p-0074" num="0073">At a third aspect of embodiments of the present application, there is provided a terminal device, including: a processor, which is coupled with a memory;</p><p id="p-0075" num="0074">the memory is configured to store a computer program;</p><p id="p-0076" num="0075">the processor is configured to execute the computer program stored in the memory so as to allow the terminal device to execute the method described in any of the above-mentioned first aspect.</p><p id="p-0077" num="0076">At a fourth aspect of embodiments of the present application, there is provided a readable storage medium, including a program or an instruction. When the program or the instruction runs on a computer, the method described in any of the above-mentioned first aspect is executed.</p><p id="p-0078" num="0077">In embodiments of the present application, there is provided a method, an apparatus, and a device for determining parameters of a fisheye lens. The fisheye lens includes a meta-lens, the meta-lens includes a first surface and a second surface, and the first surface and the second surface are each provided with a plurality of columnar structures. By means of obtaining a focal length and a projection mode of a fisheye lens to be designed, a light angle offset of each columnar structure is determined based on the focal length and the projection mode; a phase distribution of each columnar structure is determined based on the light angle offset of the columnar structure; and a size of each columnar structure is determined based on the phase distribution of the columnar structure. The fisheye lens conforming to the expected focal length and the projection mode is designed according to the determined size of each columnar structure, which reduces the size of the fisheye lens, and thus a relatively large field angle in a short distance may be achieved.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic structural diagram of a fisheye lens provided in an embodiment of the present application;</p><p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a method for determining parameters of a fisheye lens provided in an embodiment of the present application;</p><p id="p-0081" num="0080"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows another method for determining parameters of a fisheye lens provided in an embodiment of the present application;</p><p id="p-0082" num="0081"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of a fisheye lens provided in an embodiment of the present application;</p><p id="p-0083" num="0082"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic diagram of a process for G-S optimization iterative algorithm provided in an embodiment of the present application;</p><p id="p-0084" num="0083"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of determining a size of a first columnar structure provided in an embodiment of the present application;</p><p id="p-0085" num="0084"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of simulation results from a method for determining parameters of a fisheye lens provided in an embodiment of the present application; and</p><p id="p-0086" num="0085"><figref idref="DRAWINGS">FIG. <b>8</b></figref> shows an apparatus for determining parameters of a fisheye lens provided in an embodiment of the present application.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0087" num="0086">To make the objectives, technical solutions, and advantages of embodiments of the present application clearer, the technical solutions in embodiments of the present application will be described clearly and comprehensively below with reference to the accompanying drawings in embodiments of the present application. Apparently, the described embodiments are merely a part rather than all embodiments of the present application. All other embodiments obtained by persons of ordinary skill in the art based on embodiments of the present application without any creative effort shall fall within the protection scope of the present disclosure.</p><p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic structural diagram of a fisheye lens provided in an embodiment of the present application. Referring to <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the fisheye lens includes a first surface <b>1</b>, a second surface <b>2</b> and a fisheye lens body <b>3</b>, where, the fisheye lens body <b>3</b> may be made of silicon dioxide. A plurality of columnar structures <b>4</b> are distributed on the first surface <b>1</b> and the second surface <b>2</b>, and the columnar structures may be of polycrystalline silicon. The sizes of different columnar structures <b>4</b> may be different. When the sizes of the columnar structures are different, the columnar structures change a phase of light differently. In the process of practical application, the sizes of the columnar structures on the first surface and the second surface may be designed so as to make different columnar structures change the phase of light differently when the light irradiates on the columnar structures of the fisheye lens and then make the scattered light be re-converged, which makes the fisheye lens have a good focusing effect and can achieve relatively large viewing angle at the same time.</p><p id="p-0089" num="0088">The above-mentioned fisheye lens includes the fisheye lens body and the columnar structures on the fisheye lens body, where, both the fisheye lens body and the columnar structures have relatively small sizes, thereby making the fisheye lens have a relatively small size.</p><p id="p-0090" num="0089">The technical solutions shown in the present application will be illustrated in detail in the following through specific embodiments. It should be noted that the following several specific embodiments may be combined with each other. For the same or similar contents, the explanation will not be repeated in different embodiments.</p><p id="p-0091" num="0090">FIG.<b>2</b> shows a method for determining parameters of a fisheye lens provided by an embodiment of the present application. Referring to FIG.<b>2</b>, the method may include the following.</p><p id="p-0092" num="0091">At S<b>201</b>, a focal length and a projection mode of a fisheye lens to be designed are obtained.</p><p id="p-0093" num="0092">In the embodiment of the present application, an executive body may be not only an electronic device but also an apparatus for determining parameters of a fisheye lens disposed in the electronic device. Optionally, the electronic device may be a computer, a server, a mobile phone, etc. Optionally, the apparatus for determining parameters of a fisheye lens may be achieved not only by a software but also by the combination of a software and a hardware. For ease of description, the executive body being an electronic device will be taken as an example to illustrate in the following.</p><p id="p-0094" num="0093">The electronic device will obtain a focus length and a projection mode of the fisheye lens to be designed when a fisheye lens needs to be designed. The focal length of the fisheye lens is a measurement for measuring light converging in an optical system, and refers to a distance from an optical center of the fisheye lens to a focal point for light converging when parallel light is incoming. The projection mode of the fisheye lens refers to the relationship between an incident angle of parallel light and a position of the focal point, which may reflect both the range of the viewing angle of the light projected through the fisheye lens and the distortion degree of the light.</p><p id="p-0095" num="0094">In the process of practical application, when users need to design a fisheye lens with a larger viewing angle, they may input the parameters of a fisheye lens needed to be designed into an electronic device: the focal length and the projection mode.</p><p id="p-0096" num="0095">Optionally, users may input the parameters of the fisheye lens not only by setting options for the above-mentioned parameters, but also by inputting corresponding parameter values at set positions corresponding to different parameters, which is not specifically limited by embodiments of the present application.</p><p id="p-0097" num="0096">At S<b>202</b>, a light angle offset of each columnar structure is determined according to the focal length and the projection mode.</p><p id="p-0098" num="0097">A light angle offset refers to an offset of angle of light after passing through a fisheye lens, and the light angle offset may be represented by a difference value of wave vectors.</p><p id="p-0099" num="0098">Optionally, the light angle offset of each columnar structure may be determined according to the focal length and the projection mode by the following practicable implementations: determining wave vectors corresponding to each columnar structure based on the focal length, the projection mode and a position of each columnar structure on a meta-lens; determining the light angle offset of the columnar structure based on the wave vectors corresponded by the columnar structure.</p><p id="p-0100" num="0099">Optionally, the projection mode may include but not be limited to: stereographic projection r=2 f tan(&#x3b8;/2), equidistant projection r=f &#x3b8;, equiangular projection r=2 f sin(&#x3b8;/2), and orthogonal projection r=f sin &#x3b8;, where, r is the perpendicular distance from the focal point to the center of a fisheye lens, f is the focal length of a fisheye lens, and &#x3b8; is the incident angle of light. As for different projection modes, the method for determining the parameters of a fisheye lens is the same.</p><p id="p-0101" num="0100">Optionally, the fisheye lens may include at least two surfaces. For example, the fisheye lens may include two surfaces, three surfaces, four surfaces, etc. The fisheye lens including two surfaces will be illustrated as an example in the following. The fisheye lens may include a first surface and a second surface; a plurality of columnar structures are distributed on both the first surface and the second surface, positions of respective columnar structure being different; a phase of light penetrating through different columnar structures may be changed differently by the columnar structures at different positions. There may be many kinds of methods for identifying the position of each columnar structure. For example, a distance between the columnar structure and a light axis of the fisheye lens may be identified as the position of the columnar structure. The light axis of the fisheye lens is a reference line, which passes through the central position of the fisheye lens and is perpendicular to the fisheye lens.</p><p id="p-0102" num="0101">The wave vector is a vector whose value represents a wave number k=|k|=2&#x3c0;/&#x3bb;, where, &#x3bb; is the wavelength of light, and its direction represents the direction of light propagating. Optionally, the wave vectors corresponding to each columnar structure may include: a first wave vector, a second wave vector, a third wave vector, and a fourth wave vector; where, the first wave vector is a wave vector of the light prior to passing through the first surface from each columnar structure; the second wave vector is a wave vector of the light after passing through the first surface from each columnar structure; the third wave vector is a wave vector of the light prior to passing through the second surface from each columnar structure; and the fourth wave vector is a wave vector of the light after passing through the second surface from each columnar structure.</p><p id="p-0103" num="0102">At S<b>203</b>, a phase distribution of each columnar structure is determined based on the light angle offset of the columnar structure.</p><p id="p-0104" num="0103">The phase distribution of each columnar structure may be used to ensure that an optical path difference of the light passing through the columnar structure is uniform, so that the scattered light may be converged to the focal point with a fixed focal length.</p><p id="p-0105" num="0104">Optionally, the phase distribution of each columnar structure may be determined based on the light angle offset of the columnar structure by means of the following practicable implementations:</p><p id="p-0106" num="0105">determining a first phase variation of each columnar structure on the first surface based on the light angle offset of the columnar structure on the first surface; determining a second phase variation of the columnar structure on the second surface based on the light angle offset of the columnar structure on the second surface; and determining the phase distribution based on the first phase variation and the second phase variation.</p><p id="p-0107" num="0106">Optionally, the light angle offset of the first surface is used to represent the first phase variation per unit length, i.e., the first phase variation may be determined by the light angle offset of the first surface and the position of each columnar structure. Correspondingly, the second phase variation may be determined by the light angle offset of the second surface and the position of each columnar structure.</p><p id="p-0108" num="0107">Optionally, the phase distribution may be determined based on the first phase variation and the second phase variation by the following practicable implementations: integrating the first phase variation of each columnar structure to obtain the phase distribution of the columnar structure on the first surface; and integrating the second phase variation of each columnar structure to obtain the phase distribution of the columnar structure on the second surface.</p><p id="p-0109" num="0108">At S<b>204</b>, a size of each columnar structure is determined based on the phase distribution of the columnar structure.</p><p id="p-0110" num="0109">The size of each columnar structure may include a radius of the columnar structure, which has a corresponding relationship with the phase value of the light passing through the columnar structure.</p><p id="p-0111" num="0110">Optionally, the size of each columnar structure may be determined based on the phase distribution of the columnar structure by the following practicable implementations: determining the phase value of each columnar structure based on the phase distribution of the columnar structure; and determining the size of the columnar structure based on the phase value of the columnar structure and a preset corresponding relationship, where, the preset corresponding relationship includes a plurality of phase values and the size corresponding to each phase value.</p><p id="p-0112" num="0111">Optionally, the phase value of each columnar structure may be determined based on the phase distribution of the columnar structure by the following ways: the phase distribution of each columnar structure is taken as an initial condition, directions x and y being set as periodic boundary conditions, and a direction z being set as an absorbing boundary condition; the phase distribution is such a function that the phase value of each columnar structure may be determined by introducing relevant parameters of the columnar structure into the function; and the phase value of the columnar structure ranges from 0 to 2 &#x3c0;.</p><p id="p-0113" num="0112">In the process of practical application, the size of each columnar structure, such as the radius of each columnar structure, is determined according to the phase value of the columnar structure and the preset corresponding relationship. All of the structural units with determined sizes are arranged on the first surface and the second surface of the fisheye lens, so as to construct a fisheye lens that meets the expected parameters. The phase value of the light passing through the fisheye lens has a corresponding relationship with the radius of each columnar structure.</p><p id="p-0114" num="0113">In embodiments of the present application, there is provided a method, an apparatus, and a device for determining the parameters of a fisheye lens. The fisheye lens includes a meta-lens, the meta-lens including a first surface and a second surface; and a plurality of columnar structures are arranged on the first surface and the second surface. By means of acquiring a focal length and a projection mode of the fisheye lens to be designed, a light angle offset of each columnar structure is determined based on the focal length and the projection mode; a phase distribution of the columnar structure is determined based on the light angle offset of the columnar structure; and a size of the columnar structure is determined based on the phase distribution of the columnar structure. The fisheye lens conforming to the expected focal length and the projection mode is designed according to the determined size of each columnar structure, which reduces the size of the fisheye lens, and thus a relatively large field angle in a short distance may be achieved.</p><p id="p-0115" num="0114">On the basis of the above-mentioned embodiments, the process for determining the size of each columnar structure in a plurality of columnar structures is the same. The process for determining the size of a first columnar structure will be illustrated as an example in the following with reference to <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0116" num="0115"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows another method for determining parameters of the fisheye lens provided by embodiments of the present application. Referring to <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the method may include the following.</p><p id="p-0117" num="0116">At S<b>301</b>, a focal length and a projection mode of a fisheye lens to be designed are obtained.</p><p id="p-0118" num="0117">For ease of description, embodiments of the present application will be illustrated by taking the projection mode being r=a f sin(&#x3b8;/a) as an example.</p><p id="p-0119" num="0118">It should be noted that execution process of S<b>301</b> may refer to that of S<b>201</b>, which will not be repeated here.</p><p id="p-0120" num="0119">At S<b>302</b>, wave vectors corresponding to a first columnar structure are determined based on the focal length, the projection mode and the position of the first columnar structure on the meta-lens.</p><p id="p-0121" num="0120">The wave vectors corresponding to the first columnar structure include a first wave vector, a second wave vector, a third wave vector and a fourth wave vector.</p><p id="p-0122" num="0121">The first wave vector is the wave vector of the light prior to passing through the first surface from the first columnar structure.</p><p id="p-0123" num="0122">The second wave vector is the wave vector of the light after passing through the first surface from the first columnar structure.</p><p id="p-0124" num="0123">The third wave vector is the wave vector of the light prior to passing through the second surface from the first columnar structure.</p><p id="p-0125" num="0124">The fourth wave vector is the wave vector of the light after passing through the second surface from the first columnar structure.</p><p id="p-0126" num="0125">Optionally, the wave vectors corresponding to the first columnar structure may be determined according to the focal length, the projection mode and the position of the first columnar structure on the meta-lens by the following practicable implementations. Determining the wave vectors corresponding to the first columnar structure of the fish eye lens, shown in embodiments of the present application, will be illustrated by specific examples in the following with reference to <figref idref="DRAWINGS">FIG. <b>4</b></figref>.</p><p id="p-0127" num="0126"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of the fisheye lens provided in the embodiments of the present application. Referring to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, n is a refractive index of the fisheye lens; d<sub>1 </sub>is a thickness of the fisheye lens; and d<sub>2 </sub>is a focal length of the fisheye lens. Specifically, d<sub>2 </sub>is a distance from the second surface of the fisheye lens to an imaging surface; &#x3b8; is an incident angle of a first parallel light and a second parallel light; &#x3b8;<sub>10 </sub>is an exit angle of the first parallel light passing through the first surface; &#x3b8;<sub>2 </sub>is an exit angle of the second parallel light passing through the first surface; &#x3b8;<sub>1 </sub>is an exit angle of the first parallel light passing through the second surface; &#x3b8;<sub>20 </sub>is an exit angle of the second parallel light passing through the second surface; v represents a position of the first columnar structure on the first surface of the fisheye lens (i.e., the position of the light passing through the columnar structure of the first surface); u represents a position of the first columnar structure on the second surface of the fisheye lens (i.e., the position of the light passing through the columnar structure of the second surface); and r represents a perpendicular distance from the focal point to the center of the lens. The light includes the first parallel light and the second parallel light; the first parallel light is a reference light passing through a center point of the first surface; the center point of the first surface is an intersection point of the first surface and an optical axis of the fisheye lens; the optical axis is the reference line perpendicular to the fisheye lens and passing through the center of the fisheye lens, having a coordinate of <b>0</b>; the second parallel light is the light passing through the fisheye lens from the first columnar structure; and the first parallel light is parallel to the second parallel light.</p><p id="p-0128" num="0127">It should be noted that, in embodiments of the present application, the following specific parameter values are taken as examples to illustrate. Of course, the specific parameters may also be set as other values according to actual requirements: n=1.5, d<sub>1</sub>=200 &#x3bc;m, d<sub>2</sub>=400 &#x3bc;m, and the wavelengths of the first parallel light and the second parallel light &#x3bb; are both 635 nm.</p><p id="p-0129" num="0128">Optionally, in embodiments of the present application, the following may be obtained according to Snell's Law:</p><p id="p-0130" num="0129">si n &#x3b8;=n si n &#x3b8;<sub>10</sub>,</p><p id="p-0131" num="0130">n si n &#x3b8;<sub>2</sub>=si n &#x3b8;<sub>20</sub>;</p><p id="p-0132" num="0131">the first wave vector is represented as:</p><p id="p-0133" num="0132">k<sub>v1</sub>=k<sub>0 </sub>si n &#x3b8;;</p><p id="p-0134" num="0133">or, the second wave vector is represented as:</p><p id="p-0135" num="0134">k<sub>v2</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>2</sub>;</p><p id="p-0136" num="0135">or, the third wave vector is represented as:</p><p id="p-0137" num="0136">k<sub>u1</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>10</sub>;</p><p id="p-0138" num="0137">or, the fourth wave vector is represented as:</p><p id="p-0139" num="0138">k<sub>u2</sub>=k<sub>0 </sub>si n &#x3b8;<sub>1</sub>;</p><p id="p-0140" num="0139">where, k<sub>0 </sub>is the wave vector in vacuum, k<sub>0</sub>=2&#x3c0; l &#x3bb;; n is the refractive index of the meta-lens, &#x3b8; is the incident angle of the first parallel light and the second parallel light, &#x3b8;<sub>10 </sub>is the exit angle of the first parallel light passing through the first surface, &#x3b8;<sub>2 </sub>is the exit angle of the second parallel light passing through the first surface, and &#x3b8;<sub>1 </sub>is the exit angle of the first parallel light passing through the second surface; and &#x3b8;<sub>20 </sub>is an exit angle of the second parallel light passing through the second surface.</p><p id="p-0141" num="0140">At S<b>303</b>, a light angle offset of the first columnar structure on the first surface is determined based on the first wave vector and the second wave vector.</p><p id="p-0142" num="0141">Optionally, based on the first wave vector and the second wave vector, the light angle offset of the first columnar structure on the first surface is determined as:</p><p id="p-0143" num="0142">&#x394;k<sub>v</sub>=k<sub>v1</sub>&#x2212;k<sub>v2</sub>.</p><p id="p-0144" num="0143">At S<b>304</b>, a light angle offset of the first columnar structure on the second surface is determined based on the third wave vector and the fourth wave vector.</p><p id="p-0145" num="0144">Optionally, based on the third wave vector and the fourth wave vector, the light angle offset of the first columnar structure on the second surface is determined as:</p><p id="p-0146" num="0145">&#x394;k<sub>u</sub>=k<sub>u1</sub>&#x2212;k<sub>u2</sub>.</p><p id="p-0147" num="0146">At S<b>305</b>, a first phase variation of the first columnar structure on the first surface is determined based on the light angle offset of the first columnar structure on the first surface.</p><p id="p-0148" num="0147">Optionally, according to the light angle offset of the first columnar structure on the first surface, it may be obtained that:</p><p id="p-0149" num="0148">the first phase variation of the first columnar structure is represented as:</p><p id="p-0150" num="0149">&#x394;&#x3d5;<sub>1</sub>(v)=dv&#xb7;&#x394;k<sub>v</sub>.</p><p id="p-0151" num="0150">At S<b>306</b>, a second phase variation of the first columnar structure on the second surface is determined based on the light angle offset of the first columnar structure on the second surface.</p><p id="p-0152" num="0151">Based on the light angle offset of the first columnar structure on the second surface, it may be obtained that:</p><p id="p-0153" num="0152">the second phase variation of the first columnar structure is represented as:</p><p id="p-0154" num="0153">&#x394;&#x3d5;<sub>1</sub>(u)=du&#xb7;&#x394;k<sub>u</sub>.</p><p id="p-0155" num="0154">At S<b>307</b>, a phase distribution is determined based on the first phase variation and the second phase variation.</p><p id="p-0156" num="0155">Optionally, the phase distribution may be determined according to both the first phase variation and the second phase variation of the first columnar structure by the following practicable implementations: integrating the first phase variation and the second phase variation respectively to obtain phase distributions of the first columnar structure on the first surface and the second surface.</p><p id="p-0157" num="0156">At S<b>308</b>, the phase distributions of the first columnar structure are optimized.</p><p id="p-0158" num="0157">Optionally, the phase distributions of the first columnar structure may be optimized after the phase distributions of the first columnar structure are obtained.</p><p id="p-0159" num="0158">Optionally, the phase distributions of the first columnar structure may be optimized by the following practicable implementations: taking the phase distributions of the first columnar structure on the first surface and the second surface as the initial condition, and using a diffraction-based iterative optimization algorithm to optimize the phase distributions of the first columnar structure on the first surface and the second surface. Specifically, in embodiments of the present application, traditional G-S optimization iterative algorithm and Rayleigh-Sommerfeld diffraction formula are used to optimize the phase distribution.</p><p id="p-0160" num="0159">In the process of practical application, the specific optimization process using the Rayleigh-Sommerfeld diffraction formula and the traditional G-S optimization iterative algorithm to optimize the phase distribution is described as follows:</p><p id="p-0161" num="0160">an electric field distribution of any one plane in space may be represented as E (x, y)=A(x, y) e<sup>i&#x3c6;(x, y)</sup>;</p><p id="p-0162" num="0161">given the electric field distribution of the first surface in space, the distribution of electric field propagating to the second surface may be calculated by the Rayleigh-Sommerfeld diffraction formula, and specifically, the Rayleigh-Sommerfeld diffraction formula is represented as follows:</p><p id="p-0163" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"> <mrow>  <mrow>   <mrow>    <mi>U</mi>    <mo>&#x2061;</mo>    <mo>(</mo>    <mrow>     <msub>      <mi>x</mi>      <mn>0</mn>     </msub>     <mo>,</mo>     <msub>      <mi>y</mi>      <mn>0</mn>     </msub>    </mrow>    <mo>)</mo>   </mrow>   <mo>=</mo>   <mrow>    <mrow>     <mfrac>      <mn>1</mn>      <mrow>       <mi>i</mi>       <mo>&#x2062;</mo>       <mi>&#x3bb;</mi>      </mrow>     </mfrac>     <mo>&#x2062;</mo>     <mrow>      <mo>&#x222b;</mo>      <mrow>       <mo>&#x222b;</mo>       <mrow>        <mrow>         <mi>U</mi>         <mo>&#x2061;</mo>         <mo>(</mo>         <mrow>          <mi>x</mi>          <mo>,</mo>          <mi>y</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>&#x2062;</mo>        <mi>cos</mi>       </mrow>      </mrow>     </mrow>    </mrow>    <mtext>  </mtext>    <mo>&#x3c;</mo>    <mi>n</mi>   </mrow>  </mrow>  <mo>,</mo>  <mrow>   <mi>r</mi>   <mo>&#x3e;</mo>   <mrow>    <mfrac>     <mrow>      <mi>exp</mi>      <mo>&#x2061;</mo>      <mo>(</mo>      <mi>ikr</mi>      <mo>)</mo>     </mrow>     <mi>r</mi>    </mfrac>    <mo>&#x2062;</mo>    <mi>dxdy</mi>   </mrow>  </mrow>  <mo>,</mo> </mrow></math></maths></p><p id="p-0164" num="0162">where, r=&#x221a;{square root over ((x<sub>0</sub>&#x2212;x)<sup>2</sup>+(y<sub>0</sub>&#x2212;y)<sup>2</sup>)}, cos&#x3c;n, r&#x3e;=z/r,</p><p id="p-0165" num="0163">each of (x<sub>0</sub>, y<sub>0</sub>) and (x, y) is any point on the first surface and the second surface, and z is a distance between the first surface and the second surface.</p><p id="p-0166" num="0164">The G-S optimization iterative algorithm process will be illustrated in detail in the following with reference to <figref idref="DRAWINGS">FIG. <b>5</b></figref>.</p><p id="p-0167" num="0165">FIG.<b>5</b> is a schematic process diagram of G-S optimization iterative algorithm provided by embodiments of the present application. Referring to <figref idref="DRAWINGS">FIG. <b>5</b></figref>, after the electric field distributions of the first surface and the second surface are determined, the phase distribution phases and a constant amplitude distribution phase (A (x, y)=1) in the initial conditions are combined as an initial electric field, and the electric field distribution on a focal plane may be calculated by using the Rayleigh-Sommerfeld diffraction formula. The phase distribution of the electric field distribution is retained, an amplitude part is replaced with a desired result (i.e., an amplitude distribution of the focused focal spot). Then, the new electric field distribution is propagated reversely, and processed with the Rayleigh-Sommerfeld diffraction formula again to obtain the electric field distribution at an initial input plane. The obtained phase distribution of the electric field distribution is retained, and the amplitude distribution is replaced with the constant amplitude distribution so as to form a new input. The above-mentioned process constitutes a cycle, as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>. After many iterations, L&#x2032;(x, y) is more and more close to the expected result L (x, y). Finally, the phase distribution of the first columnar structure is optimized.</p><p id="p-0168" num="0166">At S<b>309</b>, a phase value of the first columnar structure is determined based on the phase distribution of the first columnar structure.</p><p id="p-0169" num="0167">Optionally, the phase value of the first columnar structure may be determined based on the phase distribution of the first columnar structure by the following ways: taking the phase distribution of the first columnar structure as the initial condition, where setting the directions x and y are set as the periodic boundary conditions, the direction z is set as the absorbent boundary condition, and the phase distribution is a function; and introducing the relevant parameters of the first columnar structure into the function to determine the phase value of the first columnar structure, where, the phase value of the first columnar structure ranges from 0 to 2&#x3c0;.</p><p id="p-0170" num="0168">At S<b>310</b>, a size of the first columnar structure is determined based on the phase value of the first columnar structure and the preset corresponding relationship.</p><p id="p-0171" num="0169">The preset corresponding relationship includes a plurality of phase values and a size corresponding to each phase value.</p><p id="p-0172" num="0170">Optionally, the size of the first columnar structure may include the radius of the first columnar structure.</p><p id="p-0173" num="0171">With reference to <figref idref="DRAWINGS">FIG. <b>6</b></figref>, determining the size of the first columnar structure based on the phase distribution of the first columnar structure provided in embodiments of the present application will be illustrated in the following.</p><p id="p-0174" num="0172"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of determining the size of the first columnar structure provided in embodiments of the present application. Referring to <figref idref="DRAWINGS">FIG. <b>6</b></figref>, the phase variation range 2&#x3c0; required by the first surface and the second surface of the fisheye lens may be obtained only by changing the radius of the first columnar structure. At the same time, the transmissivity of the fisheye lens is always maintained at a very high state. In the process of practical application, a first structural unit with determined size is arranged at the positions corresponding to the size on the first surface and the second surface of the fisheye lens, so as to construct the fisheye lens that meets the expected parameters.</p><p id="p-0175" num="0173">The performance of the fisheye lens provided in embodiments of the present application will be illustrated in detail with reference to <figref idref="DRAWINGS">FIG. <b>7</b></figref> in the following.</p><p id="p-0176" num="0174"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of the simulation results of a method for determining the parameters of fisheye lens provided in embodiments of the present application. Referring to <figref idref="DRAWINGS">FIG. <b>7</b></figref>, a good focusing effect may always be obtained when the incident angle changes from 0&#xb0; to nearly 90&#xb0;. The projection relationship shown in the simulation results is identical well with the design, where the deviation will keep slightly obvious when the incident angle is greater than 75&#xb0;, which may be solved by increasing the size of the super surface. Under any incident angle, the focal spot size perceived by the imaging surface (illustrated by CCD20 in the figure) is little different from the diffraction limit, and the energy of most incident light is focused at a certain point on the imaging surface (illustrated by CCD in the figure), which also indicates that the better focusing effect of the fisheye lens, thereby achieving a larger viewing field in short distance.</p><p id="p-0177" num="0175">Embodiments of the present application provide a method, an apparatus, and a device for determining parameters of a fisheye lens. The fisheye lens includes a meta-lens, the meta-lens includes a first surface and a second surface, and a plurality of columnar structures are arranged on the first surface and the second surface. Taking the process of determining the size of the first columnar structure as an example, by obtaining the focal length and the projection mode of the fisheye lens to be designed, the light angle offset of each columnar structure is determined based on the focal length and the projection mode. The phase distribution of each columnar structure is determined based on the light angle offset of the columnar structure and optimized, and the size of each columnar structure is determined based on the optimized phase distribution of the each columnar structure. Then, the fisheye lens conforming to the expected focal length and the projection mode may be designed according to the determined size of each columnar structure, which reduces the size of the fisheye lens and may achieve a larger viewing field in a short distance.</p><p id="p-0178" num="0176"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is an apparatus for determining parameters of a fisheye lens provided in embodiments of the present application. Referring to <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the apparatus <b>10</b> for determining the parameters of fisheye lens may include:</p><p id="p-0179" num="0177">an obtaining module <b>11</b> configured to obtain a focal length and a projection mode of a fisheye lens to be designed;</p><p id="p-0180" num="0178">a first determination module <b>12</b> configured to determine a light angle offset of each columnar structure based on the focal length and the projection mode;</p><p id="p-0181" num="0179">a second determination module <b>13</b> configured to determine a phase distribution of the columnar structure based on the light angle offset of the columnar structure; and</p><p id="p-0182" num="0180">a third determination module <b>14</b> configured to determine a size of the columnar structure based on the phase distribution of the columnar structure.</p><p id="p-0183" num="0181">The apparatus for determining the parameters of a fisheye lens provided in embodiments of the present application may perform the technical solutions shown in the above-mentioned method embodiments, the principles and beneficial effects of those are similar, so it will not be repeated here.</p><p id="p-0184" num="0182">In another possible embodiment, the first determination module <b>12</b> is specifically configured to:</p><p id="p-0185" num="0183">determine wave vectors corresponding to each columnar structure based on the focal length, the projection mode and the position of the columnar structure on the meta-lens; and</p><p id="p-0186" num="0184">determine the light angle offset of the columnar structure based on the wave vectors corresponding to the columnar structure.</p><p id="p-0187" num="0185">In another possible embodiment, for the first columnar structure in the plurality of columnar structures, the wave vectors corresponding to the first columnar structure include: a first wave vector, a second wave vector, a third wave vector and a fourth wave vector;</p><p id="p-0188" num="0186">where,</p><p id="p-0189" num="0187">the first wave vector is the wave vector of the light prior to passing through the first surface from the first columnar structure;</p><p id="p-0190" num="0188">the second wave vector is the wave vector of the light after passing through the first surface from the first columnar structure;</p><p id="p-0191" num="0189">the third wave vector is the wave vector of the light prior to passing through the second surface from the first columnar structure;</p><p id="p-0192" num="0190">the fourth wave vector is the wave vector of the light after passing through the second surface from the first columnar structure.</p><p id="p-0193" num="0191">In another possible embodiment, the first wave vector is represented as:</p><p id="p-0194" num="0192">k<sub>v1</sub>=k<sub>0 </sub>si n &#x3b8;;</p><p id="p-0195" num="0193">or, the second wave vector is represented as:</p><p id="p-0196" num="0194">k<sub>v2</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>2</sub>;</p><p id="p-0197" num="0195">or, the third wave vector is represented as:</p><p id="p-0198" num="0196">k<sub>u1</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>10</sub>;</p><p id="p-0199" num="0197">or, the fourth wave vector is represented as:</p><p id="p-0200" num="0198">k<sub>u2</sub>=k<sub>0 </sub>si n &#x3b8;<sub>1</sub>,</p><p id="p-0201" num="0199">where, k<sub>0 </sub>is the wave vector in vacuum and k<sub>0</sub>=2&#x3c0; l &#x3bb;; n is the refractive index of the meta-lens; &#x3b8; is the incident angle of the first parallel light and the second parallel light; &#x3b8;<sub>10 </sub>is the exit angle of the first parallel light passing through the first surface from the first columnar structure, &#x3b8;<sub>2 </sub>is the exit angle of the second parallel light passing through the first surface from the first columnar structure, and &#x3b8;<sub>1 </sub>is the exit angle of the first parallel light passing through the second surface.</p><p id="p-0202" num="0200">In another possible embodiment, for the first columnar structure in the plurality of columnar structures, the first determination module <b>12</b> is specifically configured to:</p><p id="p-0203" num="0201">determine the light angle offset of the first columnar structure on the first surface based on the first wave vector and the second wave vector; and</p><p id="p-0204" num="0202">determine the light angle offset of the first columnar structure on the second surface based on the third wave vector and the fourth wave vector.</p><p id="p-0205" num="0203">In another possible embodiment, for the first columnar structure in the plurality of columnar structures, the second determination module <b>13</b> is specifically configured to:</p><p id="p-0206" num="0204">determine a first phase variation of the first columnar structure on the first surface based on the light angle offset of the first columnar structure on the first surface;</p><p id="p-0207" num="0205">determine a second phase variation of the first columnar structure on the second surface based on the light angle offset of the first columnar structure on the second surface; and</p><p id="p-0208" num="0206">determine the phase distribution based on the first phase variation and the second phase variation.</p><p id="p-0209" num="0207">In another possible embodiment, the third determination module <b>14</b> is specifically configured to:</p><p id="p-0210" num="0208">determine a phase value of each columnar structure based on a phase distribution of the columnar structure; and</p><p id="p-0211" num="0209">determine a size of the columnar structure based on the phase value of the columnar structure and a preset corresponding relationship, where the preset corresponding relationship includes a plurality of phase values and the size corresponding to each phase value.</p><p id="p-0212" num="0210">The apparatus for determining the parameters of a fisheye lens provided in embodiments of the present application may perform the technical solutions shown in the above-mentioned method embodiments, the principles and beneficial effects of which are similar and will not be repeated here.</p><p id="p-0213" num="0211">In an embodiment of the present application, there is provided a terminal device, including: a processor coupled with a memory;</p><p id="p-0214" num="0212">the memory is configured to store a computer program;</p><p id="p-0215" num="0213">the processor is configured to execute the computer program stored in the memory to enable the terminal device to execute the method described in any of the above-mentioned method embodiments.</p><p id="p-0216" num="0214">In an embodiment of the present application, there is provided a readable storage medium, including a program or an instruction. When the program or the instruction runs on a computer, the method as described in any of the above-mentioned method embodiments is executed.</p><p id="p-0217" num="0215">The ordinary persons skilled in the art may understand that: all or part of the steps to realize the above-mentioned method embodiments may be completed by hardware related to the program or instruction. The aforementioned program may be stored in a computer-readable storage medium. When the program is executed, the steps including the above-mentioned method embodiments are executed. The above storage medium includes various media that may store program codes, such as ROM (read only memory), RAM (random access memory), magnetic disc or optical disc, etc.</p><p id="p-0218" num="0216">Finally, it should be noted that: the above-mentioned embodiments are only intended for illustrating the technical solutions of embodiments of the present application other than limiting the present application. Although embodiments of the present application have been described in detail with reference to the foregoing embodiments, those skilled in the art should understand that they may still make modifications to the technical solutions described in the foregoing embodiments, or make equivalent substitutions to some or all of the technical features thereof; and these modifications or substitutions do not make the essence of the corresponding technical solutions depart from the scope of embodiments of the present application.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001" nb-file="US20230003979A1-20230105-M00001.NB"><img id="EMI-M00001" he="6.01mm" wi="76.20mm" file="US20230003979A1-20230105-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method for determining parameters of a fisheye lens, wherein the fisheye lens comprises a meta-lens, the meta-lens comprises a first surface and a second surface, and the first surface and the second surface are each provided with a plurality of columnar structures, the method comprises:<claim-text>obtaining a focal length and a projection mode of a fisheye lens to be designed;</claim-text><claim-text>determining a light angle offset of each columnar structure based on the focal length and the projection mode;</claim-text><claim-text>determining a phase distribution of the each columnar structure based on the light angle offset of the each columnar structure respectively; and</claim-text><claim-text>determining a size of the each columnar structure based on the phase distribution of the each columnar structure.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining the light angle offset of the each columnar structure based on the focal length and the projection mode comprises:<claim-text>determining wave vectors corresponding to the each columnar structure based on the focal length, the projection mode and a position of the each columnar structure on the meta-lens; and</claim-text><claim-text>determining the light angle offset of the each columnar structure based on the wave vectors corresponding to the each columnar structure.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein for a first columnar structure in the plurality of columnar structures, the wave vectors corresponding to the first columnar structure comprise: a first wave vector, a second wave vector, a third wave vector and a fourth wave vector; wherein<claim-text>the first wave vector is a wave vector of the light prior to passing through the first surface from the first columnar structure;</claim-text><claim-text>the second wave vector is a wave vector of the light after passing through the first surface from the first columnar structure;</claim-text><claim-text>the third wave vector is a wave vector of the light prior to passing through the second surface from the first columnar structure; and</claim-text><claim-text>the fourth wave vector is a wave vector of the light after passing through the second surface from the first columnar structure.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein<claim-text>the first wave vector is represented as:</claim-text><claim-text>k<sub>v1</sub>=k<sub>0 </sub>si n &#x3b8;;</claim-text><claim-text>or, the second wave vector is represented as:</claim-text><claim-text>k<sub>v2</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>2</sub>;</claim-text><claim-text>or, the third wave vector is represented as:</claim-text><claim-text>k<sub>u1</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>10</sub>;</claim-text><claim-text>or, the fourth wave vector is represented as:</claim-text><claim-text>k<sub>u2</sub>=k<sub>0 </sub>si n &#x3b8;<sub>1</sub>;</claim-text><claim-text>wherein k<sub>0 </sub>is a wave vector in vacuum, k<sub>0</sub>=2&#x3bb; l &#x3bb;, n is a refractive index of the meta-lens, &#x3b8; is an incident angle of the first parallel light and the second parallel light, &#x3b8;<sub>10 </sub>is an exit angle of the first parallel light passing through the first surface from the first columnar structure, &#x3b8;<sub>2 </sub>is an exit angle of the second parallel light passing through the first surface from the first columnar structure, and &#x3b8;<sub>1 </sub>is an exit angle of the first parallel light passing through the second surface.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein for the first columnar structure in the plurality of columnar structures, determining a light angle offset of the first columnar structure based on the wave vectors corresponding to the first columnar structure comprises:<claim-text>determining a light angle offset of the first columnar structure on the first surface based on the first wave vector and the second wave vector; and</claim-text><claim-text>determining a light angle offset of the first columnar structure on the second surface based on the third wave vector and the fourth wave vector.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein for the first columnar structure in the plurality of columnar structures, determining a phase distribution of the first columnar structure based on the light angle offset of the first columnar structure comprises:<claim-text>determining a first phase variation of the first columnar structure on the first surface based on the light angle offset of the first columnar structure on the first surface;</claim-text><claim-text>determining a second phase variation of the first columnar structure on the second surface based on the light angle offset of the first columnar structure on the second surface; and</claim-text><claim-text>determining the phase distribution based on the first phase variation and the second phase variation.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein for the first columnar structure in the plurality of columnar structures, determining a light angle offset of the first columnar structure based on the wave vectors corresponding to the first columnar structure comprises:<claim-text>determining a light angle offset of the first columnar structure on the first surface based on the first wave vector and the second wave vector; and</claim-text><claim-text>determining a light angle offset of the first columnar structure on the second surface based on the third wave vector and the fourth wave vector.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein for the first columnar structure in the plurality of columnar structures, determining a phase distribution of the first columnar structure based on the light angle offset of the first columnar structure comprises:<claim-text>determining a first phase variation of the first columnar structure on the first surface based on the light angle offset of the first columnar structure on the first surface;</claim-text><claim-text>determining a second phase variation of the first columnar structure on the second surface based on the light angle offset of the first columnar structure on the second surface; and</claim-text><claim-text>determining the phase distribution based on the first phase variation and the second phase variation.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining the size of the each columnar structure based on the phase distribution of the each columnar structure comprises:<claim-text>determining a phase value of the each columnar structure based on the phase distribution of the each columnar structure; and</claim-text><claim-text>determining the size of the each columnar structure based on the phase value of the each columnar structure and preset corresponding relationship, wherein the preset corresponding relationship comprises a plurality of phase values and a size corresponding to each phase value.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein determining the size of the each columnar structure based on the phase distribution of the each columnar structure comprises:<claim-text>determining a phase value of the each columnar structure based on the phase distribution of the each columnar structure; and</claim-text><claim-text>determining the size of the each columnar structure based on the phase value of the each columnar structure and preset corresponding relationship, wherein the preset corresponding relationship comprises a plurality of phase values and a size corresponding to each phase value.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein determining the size of the each columnar structure based on the phase distribution of the each columnar structure comprises:<claim-text>determining a phase value of the each columnar structure based on the phase distribution of the each columnar structure; and</claim-text><claim-text>determining the size of the each columnar structure based on the phase value of the each columnar structure and preset corresponding relationship, wherein the preset corresponding relationship comprises a plurality of phase values and a size corresponding to each phase value.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein determining the size of the each columnar structure based on the phase distribution of the each columnar structure comprises:<claim-text>determining a phase value of the each columnar structure based on the phase distribution of the each columnar structure; and</claim-text><claim-text>determining the size of the each columnar structure based on the phase value of the each columnar structure and preset corresponding relationship, wherein the preset corresponding relationship comprises a plurality of phase values and a size corresponding to each phase value.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. An apparatus for determining parameters of a fisheye lens, wherein the fisheye lens comprises a meta-lens, the meta-lens comprises a first surface and a second surface, and the first surface and the second surface are each provided with a plurality of columnar structures, the apparatus comprising:<claim-text>an obtaining module configured to obtain a focal length and a projection mode of a fisheye lens to be designed;</claim-text><claim-text>a first determination module configured to determine a light angle offset of each columnar structure based on the focal length and the projection mode;</claim-text><claim-text>a second determination module configured to determine a phase distribution of the each columnar structure based on the light angle offset of the each columnar structure;</claim-text><claim-text>a third determination module configured to determine a size of the each columnar structure based on the phase distribution of the each columnar structure respectively.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. An apparatus for determining parameters of a fisheye lens, wherein comprising:<claim-text>at least a processor and a memory;</claim-text><claim-text>the memory is configured to store a computer program instruction;</claim-text><claim-text>the at least one processor is configured to execute the computer program instruction stored in the memory so as to allow the at least one processor to execute the method for determining the parameters of the fisheye lens according to <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The apparatus according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the determining the light angle offset of the each columnar structure based on the focal length and the projection mode comprises:<claim-text>determining wave vectors corresponding to the each columnar structure based on the focal length, the projection mode and a position of the each columnar structure on the meta-lens; and</claim-text><claim-text>determining the light angle offset of the each columnar structure based on the wave vectors corresponding to the each columnar structure.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The apparatus according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein for a first columnar structure in the plurality of columnar structures, the wave vectors corresponding to the first columnar structure comprise: a first wave vector, a second wave vector, a third wave vector and a fourth wave vector; wherein<claim-text>the first wave vector is a wave vector of the light prior to passing through the first surface from the first columnar structure;</claim-text><claim-text>the second wave vector is a wave vector of the light after passing through the first surface from the first columnar structure;</claim-text><claim-text>the third wave vector is a wave vector of the light prior to passing through the second surface from the first columnar structure; and</claim-text><claim-text>the fourth wave vector is a wave vector of the light after passing through the second surface from the first columnar structure.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The apparatus according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein<claim-text>the first wave vector is represented as:</claim-text><claim-text>k<sub>v1</sub>=k<sub>0 </sub>si n &#x3b8;;</claim-text><claim-text>or, the second wave vector is represented as:</claim-text><claim-text>k<sub>v2</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>2</sub>;</claim-text><claim-text>or, the third wave vector is represented as:</claim-text><claim-text>k<sub>u1</sub>=nk<sub>0 </sub>si n &#x3b8;<sub>10</sub>;</claim-text><claim-text>or, the fourth wave vector is represented as:</claim-text><claim-text>k<sub>u2</sub>=k<sub>0 </sub>si n &#x3b8;<sub>1</sub>;</claim-text><claim-text>wherein k<sub>0 </sub>is a wave vector in vacuum, k<sub>0</sub>=2&#x3c0; l &#x3bb;, n is a refractive index of the meta-lens, &#x3b8; is an incident angle of the first parallel light and the second parallel light, &#x3b8;<sub>10 </sub>is an exit angle of the first parallel light passing through the first surface from the first columnar structure, &#x3b8;<sub>2 </sub>is an exit angle of the second parallel light passing through the first surface from the first columnar structure, and &#x3b8;<sub>1 </sub>is an exit angle of the first parallel light passing through the second surface.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. A non-transitory computer-readable storage medium, wherein a computer program instruction is stored in the computer-readable storage medium, and the method for determining the parameters of the fisheye lens according to <claim-ref idref="CLM-00001">claim 1</claim-ref> is realized when a processor executes the computer program instruction.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the determining the light angle offset of the each columnar structure based on the focal length and the projection mode comprises:<claim-text>determining wave vectors corresponding to the each columnar structure based on the focal length, the projection mode and a position of the each columnar structure on the meta-lens; and</claim-text><claim-text>determining the light angle offset of the each columnar structure based on the wave vectors corresponding to the each columnar structure.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein for a first columnar structure in the plurality of columnar structures, the wave vectors corresponding to the first columnar structure comprise: a first wave vector, a second wave vector, a third wave vector and a fourth wave vector; wherein<claim-text>the first wave vector is a wave vector of the light prior to passing through the first surface from the first columnar structure;</claim-text><claim-text>the second wave vector is a wave vector of the light after passing through the first surface from the first columnar structure;</claim-text><claim-text>the third wave vector is a wave vector of the light prior to passing through the second surface from the first columnar structure; and</claim-text><claim-text>the fourth wave vector is a wave vector of the light after passing through the second surface from the first columnar structure.</claim-text></claim-text></claim></claims></us-patent-application>