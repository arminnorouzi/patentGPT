<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003903A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003903</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17363445</doc-number><date>20210630</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>39</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>12</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>25</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>55</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20190801</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>393</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>12</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>254</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>55</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">APPARATUS, SYSTEM AND METHOD FOR PROVIDING GLOBAL LOCALIZATION OUTPUT AND APPLICATION OF SAME</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Guangzhou Xiaopeng Autopilot Technology Co., Ltd.</orgname><address><city>Guangzhou</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Zhuang</last-name><first-name>Hairuo</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Bansal</last-name><first-name>Amit</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Ekambaram</last-name><first-name>Venkatesan Nallampatti</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Sethuraman</last-name><first-name>Vignesh</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">An apparatus and a method for providing a global localization output are provided. When the apparatus receives navigation signals, the apparatus processes the signals to determine, based on a fixed earth-centered, earth-fixed (ECEF) reference pose of a reference point in an ECEF coordinate, a new ECEF pose, and to convert the fixed ECEF reference pose to an east-north-up (ENU) reference pose in an ENU coordinate. When the apparatus determines that a jump occurs in the new ECEF pose based on a pose change between the new ECEF pose and a previous ECEF pose, the apparatus calculates a reference shift of the ENU reference pose based on the pose change to absorb the jump in the ENU coordinate, and updates the ENU reference pose based on the reference shift. Thus, a new ENU local pose may be obtained using the ENU reference pose.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="106.60mm" wi="158.75mm" file="US20230003903A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="186.10mm" wi="149.44mm" orientation="landscape" file="US20230003903A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="194.23mm" wi="130.64mm" orientation="landscape" file="US20230003903A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="95.93mm" wi="132.84mm" orientation="landscape" file="US20230003903A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="168.74mm" wi="154.09mm" orientation="landscape" file="US20230003903A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="217.51mm" wi="163.66mm" orientation="landscape" file="US20230003903A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="157.48mm" wi="165.35mm" orientation="landscape" file="US20230003903A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">FIELD OF THE INVENTION</heading><p id="p-0002" num="0001">The present invention relates generally to satellite navigation technology, and more particularly to a system and method for providing global localization output accurately and smoothly using a single Extended Kalman Filter (EKF) engine, and applications of the same.</p><heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading><p id="p-0003" num="0002">The background description provided herein is for the purpose of generally presenting the context of the present invention. The subject matter discussed in the background of the invention section should not be assumed to be prior art merely as a result of its mention in the background of the invention section. Similarly, a problem mentioned in the background of the invention section or associated with the subject matter of the background of the invention section should not be assumed to have been previously recognized in the prior art. The subject matter in the background of the invention section merely represents different approaches, which in and of themselves may also be inventions.</p><p id="p-0004" num="0003">The Global Navigation Satellite System (GNSS) is an essential part for obtaining accurate global positioning, and is widely used for vehicle localization purposes. Localization helps to map the position of the vehicle on the map, and model vehicle characteristics like speed, acceleration, angle of turn, etc. Due to environmental factors like Ionospherical Interference or Multipath reflections from obstacles such as tall buildings, there is sometimes noise in the satellite Observations, and the vehicle position from localization may &#x201c;jump&#x201d; thinking the vehicle is biased. However, the vehicle in real life clearly cannot move or &#x201c;jump&#x201d; beyond a certain limit, and these &#x201c;jumps&#x201d; are corrections of localization drifts or a result of an undesirable observation. These jumps may cause motion control to have abnormal acceleration and de-acceleration.</p><p id="p-0005" num="0004">Therefore, a heretofore unaddressed need exists in the art to address the aforementioned deficiencies and inadequacies.</p><heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading><p id="p-0006" num="0005">The present invention relates to an apparatus, system and method for providing global localization output accurately and smoothly using a single Extended Kalman Filter (EKF) engine, and application of the same. Specifically, the apparatus, system and method utilizes conversion between the earth-centered, earth-fixed (ECEF) and east-north-up (ENU) coordinates, in which the fixed ECEF reference pose (i.e., combination of position and orientation) of the reference point is converted to a variable ENU reference pose. When the EKF engine performs a GNSS measurement and observes a jump, the variable ENU reference pose is modified to absorb the jump. Thus, the local pose in the ENU coordinate looks smooth due to the modified ENU reference pose, while the global pose in the ECEF coordinate still reflects the accurate global pose.</p><p id="p-0007" num="0006">In one aspect of the invention, an apparatus for providing a global localization output is provided. In certain embodiments, the apparatus includes a receiving device communicatively connected to a navigation system to receive navigation signals; and a computing device having a processor and a storage device storing computer executable instructions. The computer executable instructions, when executed on the processor, cause the processor to: process the navigation signals received to determine, based on a fixed earth-centered, earth-fixed (ECEF) reference pose of a reference point in an ECEF coordinate, a new ECEF pose of the apparatus; convert the fixed ECEF reference pose of the reference point in the ECEF coordinate to an east-north-up (ENU) reference pose in an ENU coordinate, wherein the ENU reference pose is variable; determine whether a jump occurs in the new ECEF pose of the apparatus in the ECEF coordinate based on a pose change between the new ECEF pose and a previous ECEF pose of the apparatus; in response to determining that the jump occurs, calculate a reference shift of the ENU reference pose based on the pose change to absorb the jump in the ENU coordinate, and update the ENU reference pose based on the reference shift; obtain a new ENU local pose of the apparatus using the ENU reference pose; and output the new ENU local pose as a current pose of the apparatus.</p><p id="p-0008" num="0007">In another aspect of the present invention, a method for providing a global localization output includes: receiving navigation signals by an apparatus communicatively connected to a navigation system; processing, by the apparatus, the navigation signals received to determine, based on a fixed earth-centered, earth-fixed (ECEF) reference pose of a reference point in an ECEF coordinate, a new ECEF pose of the apparatus; converting, by the apparatus, the fixed ECEF reference pose of the reference point in the ECEF coordinate to an east-north-up (ENU) reference pose in an ENU coordinate; determining, by the apparatus, whether a jump occurs in the new ECEF pose of the apparatus in the ECEF coordinate based on a pose change between the new ECEF pose and a previous ECEF pose of the apparatus; in response to determining that the jump occurs, calculating, by the apparatus, a reference shift of the ENU reference pose based on the pose change to absorb the jump in the ENU coordinate, and updating the ENU reference pose based on the reference shift; obtaining, by the apparatus, a new ENU local pose of the apparatus using the ENU reference pose; and outputting, by the apparatus, the new ENU local pose as a current pose of the apparatus.</p><p id="p-0009" num="0008">Yet another aspect of the present invention relates to non-transitory tangible computer-readable medium storing computer executable instructions which, when executed by one or more processors, cause the method as discussed to be performed.</p><p id="p-0010" num="0009">In one embodiment, the ENU reference pose is updated based on based on the pose change by: calculating a reference shift of the ENU reference pose based on the pose change to absorb the jump in the ENU coordinate; and updating the ENU reference pose based on the reference shift</p><p id="p-0011" num="0010">In one embodiment, the jump is determined to occur in response to determining that the pose change exceeds a threshold.</p><p id="p-0012" num="0011">In one embodiment, the pose change includes: a position shift between the new ECEF pose and the previous ECEF pose on a X-Y plane in the ECEF coordinate; and a yaw shift between the new ECEF pose and the previous ECEF pose along a yaw direction in the ECEF coordinate.</p><p id="p-0013" num="0012">In one embodiments, the threshold is a position shift threshold, and the jump is determined to occur in response to determining that the position shift in the ECEF coordinate exceeds the position shift threshold.</p><p id="p-0014" num="0013">In one embodiment, the threshold is a yaw shift threshold, and the jump is determined to occur in response to determining that the yaw shift in the ECEF coordinate exceeds the yaw shift threshold.</p><p id="p-0015" num="0014">In one embodiment, the method further includes: receiving, by the apparatus, an adjusting input to adjust the threshold; and adjusting the threshold based on the adjusting input.</p><p id="p-0016" num="0015">In one embodiment, the navigation system is a Global Navigation Satellite System (GNSS), and the navigation signals are GNSS signals.</p><p id="p-0017" num="0016">Yet a further aspect of the invention relates to a vehicle or an autonomous system having the apparatus as described above.</p><p id="p-0018" num="0017">These and other aspects of the present invention will become apparent from the following description of the preferred embodiments, taken in conjunction with the following drawings, although variations and modifications therein may be affected without departing from the spirit and scope of the novel concepts of the disclosure.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0019" num="0018">The accompanying drawings illustrate one or more embodiments of the invention and, together with the written description, serve to explain the principles of the invention. The same reference numbers may be used throughout the drawings to refer to the same or like elements in the embodiments.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows schematically an overall architecture of a Global Navigation Satellite System (GNSS) according to one embodiment of the invention.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> shows schematically a computing device of the GNSS receiver according to one embodiment of the invention.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>2</b>B</figref> shows schematically an Extended Kalman Filter (EKF) engine in the computing device as shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> according to one embodiment of the invention.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows schematically an earth-centered, earth-fixed (ECEF) coordinate and an east-north-up (ENU) coordinate according to one embodiment of the invention.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a flowchart of a jump determination process according to one embodiment of the invention.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>5</b></figref> shows a flowchart of a method for providing a global localization output according to one embodiment of the invention.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading><p id="p-0026" num="0025">The invention will now be described more fully hereinafter with reference to the accompanying drawings, in which exemplary embodiments of the invention are shown. This invention may, however, be embodied in many different forms and should not be construed as limited to the embodiments set forth herein. Rather, these embodiments are provided so that this invention will be thorough and complete, and will fully convey the scope of the invention to those skilled in the art. Like reference numerals refer to like elements throughout.</p><p id="p-0027" num="0026">The terms used in this specification generally have their ordinary meanings in the art, within the context of the invention, and in the specific context where each term is used. Certain terms that are used to describe the invention are discussed below, or elsewhere in the specification, to provide additional guidance to the practitioner regarding the description of the invention. For convenience, certain terms may be highlighted, for example using italics and/or quotation marks. The use of highlighting has no influence on the scope and meaning of a term; the scope and meaning of a term is the same, in the same context, whether or not it is highlighted. It will be appreciated that same thing can be said in more than one way. Consequently, alternative language and synonyms may be used for any one or more of the terms discussed herein, nor is any special significance to be placed upon whether or not a term is elaborated or discussed herein. Synonyms for certain terms are provided. A recital of one or more synonyms does not exclude the use of other synonyms. The use of examples anywhere in this specification including examples of any terms discussed herein is illustrative only, and in no way limits the scope and meaning of the invention or of any exemplified term. Likewise, the invention is not limited to various embodiments given in this specification.</p><p id="p-0028" num="0027">It will be understood that, as used in the description herein and throughout the claims that follow, the meaning of &#x201c;a&#x201d;, &#x201c;an&#x201d;, and &#x201c;the&#x201d; includes plural reference unless the context clearly dictates otherwise. Also, it will be understood that when an element is referred to as being &#x201c;on&#x201d; another element, it can be directly on the other element or intervening elements may be present therebetween. In contrast, when an element is referred to as being &#x201c;directly on&#x201d; another element, there are no intervening elements present. As used herein, the term &#x201c;and/or&#x201d; includes any and all combinations of one or more of the associated listed items.</p><p id="p-0029" num="0028">It will be understood that, although the terms first, second, third etc. may be used herein to describe various elements, components, regions, layers and/or sections, these elements, components, regions, layers and/or sections should not be limited by these terms. These terms are only used to distinguish one element, component, region, layer or section from another element, component, region, layer or section. Thus, a first element, component, region, layer or section discussed below could be termed a second element, component, region, layer or section without departing from the teachings of the invention.</p><p id="p-0030" num="0029">Furthermore, relative terms, such as &#x201c;lower&#x201d; or &#x201c;bottom&#x201d; and &#x201c;upper&#x201d; or &#x201c;top,&#x201d; may be used herein to describe one element's relationship to another element as illustrated in the figures. It will be understood that relative terms are intended to encompass different orientations of the device in addition to the orientation depicted in the figures. For example, if the device in one of the figures is turned over, elements described as being on the &#x201c;lower&#x201d; side of other elements would then be oriented on &#x201c;upper&#x201d; sides of the other elements. The exemplary term &#x201c;lower&#x201d;, can therefore, encompasses both an orientation of &#x201c;lower&#x201d; and &#x201c;upper,&#x201d; depending of the particular orientation of the figure. Similarly, if the device in one of the figures is turned over, elements described as &#x201c;below&#x201d; or &#x201c;beneath&#x201d; other elements would then be oriented &#x201c;above&#x201d; the other elements. The exemplary terms &#x201c;below&#x201d; or &#x201c;beneath&#x201d; can, therefore, encompass both an orientation of above and below.</p><p id="p-0031" num="0030">It will be further understood that the terms &#x201c;comprises&#x201d; and/or &#x201c;comprising,&#x201d; or &#x201c;includes&#x201d; and/or &#x201c;including&#x201d; or &#x201c;has&#x201d; and/or &#x201c;having&#x201d;, or &#x201c;carry&#x201d; and/or &#x201c;carrying,&#x201d; or &#x201c;contain&#x201d; and/or &#x201c;containing,&#x201d; or &#x201c;involve&#x201d; and/or &#x201c;involving, and the like are to be open-ended, i.e., to mean including but not limited to. When used in this invention, they specify the presence of stated features, regions, integers, steps, operations, elements, and/or components, but do not preclude the presence or addition of one or more other features, regions, integers, steps, operations, elements, components, and/or groups thereof.</p><p id="p-0032" num="0031">Unless otherwise defined, all terms (including technical and scientific terms) used herein have the same meaning as commonly understood by one of ordinary skill in the art to which this invention belongs. It will be further understood that terms, such as those defined in commonly used dictionaries, should be interpreted as having a meaning that is consistent with their meaning in the context of the relevant art and the present invention, and will not be interpreted in an idealized or overly formal sense unless expressly so defined herein.</p><p id="p-0033" num="0032">As used herein, the phrase at least one of A, B, and C should be construed to mean a logical (A or B or C), using a non-exclusive logical OR. As used herein, the term &#x201c;and/or&#x201d; includes any and all combinations of one or more of the associated listed items.</p><p id="p-0034" num="0033">As used herein, the term module may refer to, be part of, or include an Application Specific Integrated Circuit (ASIC); an electronic circuit; a combinational logic circuit; a field programmable gate array (FPGA); a processor (shared, dedicated, or group) that executes code; other suitable hardware components that provide the described functionality; or a combination of some or all of the above, such as in a system-on-chip. The term module may include memory (shared, dedicated, or group) that stores code executed by the processor.</p><p id="p-0035" num="0034">The terms chip or computer chip, as used herein, generally refers to a hardware electronic component, and may refer to or include a small electronic circuit unit, also known as an integrated circuit (IC), or a combination of electronic circuits or ICs.</p><p id="p-0036" num="0035">As used herein, the term microcontroller unit or its acronym MCU generally refers to a small computer on a single IC chip that can execute programs for controlling other devices or machines. A microcontroller unit contains one or more CPUs (processor cores) along with memory and programmable input/output (I/O) peripherals, and is usually designed for embedded applications.</p><p id="p-0037" num="0036">The term interface, as used herein, generally refers to a communication tool or means at a point of interaction between components for performing wired or wireless data communication between the components. Generally, an interface may be applicable at the level of both hardware and software, and may be uni-directional or bi-directional interface. Examples of physical hardware interface may include electrical connectors, buses, ports, cables, terminals, and other I/O devices or components. The components in communication with the interface may be, for example, multiple components or peripheral devices of a computer system.</p><p id="p-0038" num="0037">The term code, as used herein, may include software, firmware, and/or microcode, and may refer to programs, routines, functions, classes, and/or objects. Some or all code from multiple modules may be executed using a single (shared) processor. In addition, some or all code from multiple modules may be stored by a single (shared) memory. Further, some or all code from a single module may be executed using a group of processors. Moreover, some or all code from a single module may be stored using a group of memories.</p><p id="p-0039" num="0038">The term &#x201c;pose,&#x201d; as used herein, refers to a combination of position and orientation of an object.</p><p id="p-0040" num="0039">The apparatuses and methods will be described in the following detailed description and illustrated in the accompanying drawings by various blocks, components, circuits, processes, algorithms, etc. (collectively referred to as &#x201c;elements&#x201d;). These elements may be implemented using electronic hardware, computer software, or any combination thereof. Whether such elements are implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. By way of example, an element, or any portion of an element, or any combination of elements may be implemented as a &#x201c;processing system&#x201d; that includes one or more processors. Examples of processors include microprocessors, microcontrollers, graphics processing units (GPUs), central processing units (CPUs), application processors, digital signal processors (DSPs), reduced instruction set computing (RISC) processors, systems on a chip (SoC), baseband processors, field programmable gate arrays (FPGAs), programmable logic devices (PLDs), state machines, gated logic, discrete hardware circuits, and other suitable hardware configured to perform the various functionality described throughout this disclosure. One or more processors in the processing system may execute software. Software shall be construed broadly to mean instructions, instruction sets, code, code segments, program code, programs, subprograms, software components, applications, software applications, software packages, routines, subroutines, objects, executables, threads of execution, procedures, functions, etc., whether referred to as software, firmware, middleware, microcode, hardware description language, or otherwise.</p><p id="p-0041" num="0040">Accordingly, in one or more example embodiments, the functions described may be implemented in hardware, software, or any combination thereof. If implemented in software, the functions may be stored on or encoded as one or more instructions or code on a computer-readable medium. Computer-readable media includes computer storage media. Storage media may be any available media that can be accessed by a computer. By way of example, and not limitation, such computer-readable media can comprise a random-access memory (RAM), a read-only memory (ROM), an electrically erasable programmable ROM (EEPROM), optical disk storage, magnetic disk storage, other magnetic storage devices, combinations of the aforementioned types of computer-readable media, or any other medium that can be used to store computer executable code in the form of instructions or data structures that can be accessed by a computer.</p><p id="p-0042" num="0041">The description below is merely illustrative in nature and is in no way intended to limit the invention, its application, or uses. The broad teachings of the invention can be implemented in a variety of forms. Therefore, while this invention includes particular examples, the true scope of the invention should not be so limited since other modifications will become apparent upon a study of the drawings, the specification, and the following claims. For purposes of clarity, the same reference numbers will be used in the drawings to identify similar elements. It should be understood that one or more steps within a method may be executed in different order (or concurrently) without altering the principles of the invention.</p><p id="p-0043" num="0042">For a vehicle positioning apparatus, downstream modules to localization have several and sometimes conflicting requirements. One of the requirements would be a smooth 6-degree of freedom (DOF) output, and another requirement would be globally accurate positioning. As discussed above, a vehicle position from localization may &#x201c;jump&#x201d; due to environmental noise. When the jumps occur frequently, the output for navigation or positioning in the localization process may not be smooth. On the other hand, any algorithm to reduce the jumps in order to provide a smooth localization output may cause the global positioning to be inaccurate. Satisfying both smoothness and accuracy constraints with a single positioning engine is very difficult and may even be theoretically impossible. For example, a single positioning engine may either focus on the accuracy, which may provide globally accurate positioning, but without the smoothness due to the jumps, or may aim on providing smooth localization with no jumps, but the positioning may not be globally accurate.</p><p id="p-0044" num="0043">However, for shorter distance positioning, the smoothness requirement may be more relaxed, as the change in pose over a relatively short distance needs to be smooth and only locally (instead of globally) accurate. Specifically, a local coordinate system is commonly used in most target and tracking applications. For example, in aviation applications, positions are tracked in an east-north-up (ENU) system, where the ENU coordinate is used. Some military target tracking applications also use the local tangent system as well. In addition, autonomous systems (such as autonomous driving, package-delivery drones, etc.) that rely on global positioning accuracy may also track the position of the mobile entity in the ENU frame. All these require a local frame. Autonomous systems that have on-board control also typically have a stringent requirement on the smoothness of the pose (i.e., the position and orientation). This can be satisfied using a positioning engine that may not be globally accurate, but has good relative change in pose accuracy.</p><p id="p-0045" num="0044">Accordingly, in certain aspects of the present invention, in a local frame (such as the ENU frame), the reference frame to define the local frame does not need to be fixed. For example, in an EKF engine used in a GNSS receiver, any jumps in the pose occur during the consumption of GNSS measurements. Whenever the GNSS measurement is consumed in the engine, and a jump in the state is observed, the reference anchor in the local frame may be modified to absorb this jump. Therefore, when the local pose in the local frame is output from the module, it always looks smooth, as the reference pose is the one that is modified and shaking, which does not affect the downstream modules of the receiver.</p><p id="p-0046" num="0045">To address the aforementioned issues, certain aspects of the present invention relate to an apparatus, system and method for providing global localization output accurately and smoothly using a single EKF engine, and application of the same. Specifically, the apparatus, system and method utilizes conversion between the global ECEF and local ENU coordinates, in which the fixed ECEF reference pose (i.e., combination of position and orientation) of a reference point is converted to a variable ENU reference pose. When the EKF engine in the apparatus performs a GNSS measurement and observes a jump, the variable ENU reference pose is modified to absorb the jump, and the positioning is performed using the local pose in the ENU coordinate based on the modified ENU reference pose. Thus, the local pose looks smooth due to the modified ENU reference pose, while the global pose in the ECEF coordinate still reflects the accurate global pose.</p><p id="p-0047" num="0046">One aspect of the invention relates to an apparatus for providing a global localization output, in which only one single engine is used. <figref idref="DRAWINGS">FIG. <b>1</b></figref> shows schematically an overall architecture of a GNSS according to one embodiment of the invention. It should be noted that the GNSS <b>100</b> is provided as a navigation system, and in certain embodiments, other navigation system may be used.</p><p id="p-0048" num="0047">As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the GNSS <b>100</b> includes a GNSS receiver <b>110</b>, a plurality of satellites <b>120</b>, and a reference point <b>130</b>. Specifically, the GNSS receiver <b>110</b> may be an apparatus having a receiving device communicatively connected to the satellites <b>120</b>, such that the GNSS receiver <b>110</b> may receive GNSS signals from the satellites <b>120</b>. In certain embodiments, the GNSS receiver <b>110</b> may be in the form of an in-vehicle device installed or mounted in a vehicle, which may be a car, a motorcycle, a plane, a ship, a rover or other types of vehicles that require positioning or localization functions. In one embodiment, the in-vehicle device may provide autonomous functions, thus making the vehicle an autonomous system. Further, the GNSS receiver <b>110</b> also includes a computing device to process the GNSS signals received from the satellites <b>120</b> and to perform GNSS outlier detection and rejection. In certain embodiment, the computing device may be an in-vehicle computer, such as the built-in electronic control unit (ECU) of the vehicle. Alternatively, in certain embodiments, the computing device may be an individual computing device or control unit of the GNSS receiver <b>110</b>, which runs independently and separately from the existing ECU of the vehicle. In certain embodiments, the computing device may be a general purpose computer being provided with the necessary hardware and/or software components to perform object detection, or may be a specialized computer or controller specifically designed and configured to perform object detection.</p><p id="p-0049" num="0048">Further, the reference point <b>130</b> may be a fixed station provided with a corresponding receiver, which also receive GNSS signals from the satellites <b>120</b>. Since the reference point <b>130</b> is fixed, its reference pose (i.e., combination of position and orientation) may be used to provide accurate positioning for the GNSS receiver <b>110</b>.</p><p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> shows schematically a computing device of the GNSS receiver according to one embodiment of the invention. Specifically, the computing device <b>200</b> as shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> is used as the computing device of the GNSS receiver <b>110</b> (i.e., the apparatus) as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. As shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, the computing device <b>200</b> includes a processor <b>210</b>, a memory <b>220</b>, and a storage device <b>230</b>, and a bus <b>240</b> interconnecting the processor <b>210</b>, the memory <b>220</b> and the storage device <b>230</b>. Optionally, an input device <b>235</b> may also be provided in the computing device <b>200</b>. In certain embodiments, the computing device <b>200</b> may include necessary hardware and/or software components (not shown) to perform its corresponding tasks. Examples of these hardware and/or software components may include, but not limited to, other required memory modules, interfaces, buses, Input/Output (I/O) modules and peripheral devices, and details thereof are not elaborated herein.</p><p id="p-0051" num="0050">The processor <b>210</b> controls operation of the computing device <b>200</b>, which may be used to execute any computer executable code or instructions. In certain embodiments, the processor <b>210</b> may be a central processing unit (CPU), and the computer executable code or instructions being executed by the processor <b>210</b> may include an operating system (OS) and other applications, codes or instructions stored in the computing device <b>200</b>. In certain embodiments, the computing device <b>200</b> may run on multiple processors, which may include any suitable number of processors.</p><p id="p-0052" num="0051">The memory <b>220</b> may be a volatile memory module, such as the random-access memory (RAM), for storing the data and information during the operation of the computing device <b>200</b>. In certain embodiments, the memory <b>220</b> may be in the form of a volatile memory array. In certain embodiments, the computing device <b>200</b> may run on more than one memory <b>220</b>.</p><p id="p-0053" num="0052">The storage device <b>230</b> is a non-volatile storage media or device for storing the computer executable code or instructions, such as the OS and the software applications for the computing device <b>200</b>. Examples of the storage device <b>230</b> may include flash memory, memory cards, USB drives, or other types of non-volatile storage devices such as hard drives, floppy disks, optical drives, or any other types of data storage devices. In certain embodiments, the computing device <b>200</b> may have more than one storage device <b>230</b>, and the software applications of the computing device <b>200</b> may be stored in the more than one storage device <b>230</b> separately.</p><p id="p-0054" num="0053">The input device <b>235</b> is a peripheral device allowing a user of the GNSS receiver <b>100</b> to create an input into the computing device <b>200</b>. For example, as will be described later, the user may input a threshold (or multiple thresholds) to be used in the jump determination process with the input device <b>235</b>, and the computing device, upon receiving the input through the input device <b>235</b>, may update the threshold based on the input. Examples of the input device <b>235</b> may include, without being limited thereto, a keyboard, a touchpad, switches, buttons or other types of input devices.</p><p id="p-0055" num="0054">As shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, the computer executable code stored in the storage device <b>230</b> may include an EKF engine <b>250</b>. Specifically, the EKF engine <b>250</b> is in the form of a software module which, when executed, provides the global positioning functions for processing the GNSS signals and generating the local pose of the apparatus. <figref idref="DRAWINGS">FIG. <b>2</b>B</figref> shows schematically an EKF engine in the computing device as shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> according to one embodiment of the invention. Specifically, the EKF engine <b>250</b> as shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref> includes a GNSS measurement module <b>260</b>, an ECEF-ENU module <b>270</b>, and a jump determination module <b>280</b>.</p><p id="p-0056" num="0055">The GNSS measurement module <b>260</b> is used to perform GNSS measurements for the apparatus (i.e., the GNSS receiver <b>110</b> as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>). Specifically, when the GNSS receiver <b>110</b> receives the GNSS signals, the GNSS measurement module <b>260</b> processes the GNSS signals received to determine the pose of the apparatus in the ECEF frame. For description purposes, the pose of the apparatus in the ECEF frame is hereinafter referred to as the &#x201c;ECEF pose,&#x201d; which is in contrast to the &#x201c;ENU local pose&#x201d; (i.e., the local pose of the apparatus in the ENU frame) to be described later. Further, since the apparatus (i.e., the GNSS receiver <b>110</b>) may be installed or mounted on a vehicle which is moving, the GNSS measurement module <b>260</b> may generate multiple poses in different frames, and for description purposes, the pose being generated based on the newly received GNSS signals is referred to as the &#x201c;new&#x201d; pose, and the pose previously generated in a previous frame is referred to as the &#x201c;previous&#x201d; pose. In certain embodiments, the GNSS signals received may include the ECEF reference pose of the reference point <b>130</b> in an ECEF coordinate, and the GNSS measurement module <b>260</b> may generate a new ECEF pose of the apparatus based on the ECEF reference pose.</p><p id="p-0057" num="0056">The ECEF-ENU module <b>270</b> is used to perform conversion of the ECEF poses generated by the GNSS measurement module <b>260</b>. Specifically, the poses generated by the GNSS measurement module <b>260</b> are all in the global ECEF frames, and to increase the smoothness of the output, the ECEF poses must be converted to ENU poses in a local ENU frame. <figref idref="DRAWINGS">FIG. <b>3</b></figref> shows schematically an ECEF coordinate and an ENU coordinate according to one embodiment of the invention. As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, for a specific point P on earth, the ECEF coordinate may provide a corresponding global ECEF pose, which includes the ECEF position (X, Y, Z) and the ECEF orientation (&#x3bb;, &#x3c6;). In contrast, the ENU coordinate may indicate the position of the point P in a local 3D ENU frame. Thus, the ECEF-ENU module <b>270</b> may convert the fixed ECEF reference pose of the reference point <b>110</b> in the ECEF coordinate to an ENU reference pose in an ENU coordinate. The ECEF reference pose may remain fixed, and the ENU reference pose may be variable and modifiable.</p><p id="p-0058" num="0057">The jump determination module <b>280</b> is used to perform a jump determination process to determine whether a jump occurs based on a pose change between the new ECEF pose and a previous ECEF pose of the apparatus. Specifically, as discussed above, a vehicle in real life clearly cannot move or &#x201c;jump&#x201d; beyond a certain limit. Thus, if the pose change between the new ECEF pose and the previous ECEF pose exceeds a threshold, the jump determination module <b>280</b> may determine that a jump occurs.</p><p id="p-0059" num="0058">As discussed above, in the ECEF coordinate, an ECEF pose includes the ECEF position (X, Y, Z) and the ECEF orientation (&#x3bb;, &#x3c6;) as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. In certain embodiments, the pose change between the new ECEF pose and the previous ECEF pose may be defined to include a position shift between the new ECEF pose and the previous ECEF pose on the X-Y plane in the ECEF coordinate; and a yaw shift between the new ECEF pose and the previous ECEF pose along the yaw direction (&#x3bb;) in the ECEF coordinate. In other words, the position shift refers to a position or distance change of the ECEF pose on the X-Y plane, which may be calculating by square rooting the sum of squares of the change in the X pose and Y pose between a current time stamp and a previous time stamp, and the yaw shift refers to a yaw angle (&#x3bb;) change between the current time stamp and the previous time stamp. Correspondingly, the threshold may include a position shift threshold and a yaw shift threshold. Thus, the jump determination module <b>280</b> may determine that a jump occurs when it is determined that the position shift in the ECEF coordinate exceeds the position shift threshold, and/or that the yaw shift in the ECEF coordinate exceeds the yaw shift threshold.</p><p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a flowchart of a jump determination process according to one embodiment of the invention. Specifically, the jump determination process as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> may be performed by the jump determination module <b>280</b> as shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>. It should be noted that, unless otherwise stated in the present disclosure, the steps of the flowchart as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> may be arranged in a different sequential order, and are thus not limited to the sequential order as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>.</p><p id="p-0061" num="0060">As shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, at the process <b>410</b>, the jump determination module <b>280</b> determines the pose change between the new ECEF pose and the previous ECEF pose. In certain embodiments, the pose change may include a position shift between the new ECEF pose and the previous ECEF pose on the X-Y plane and a yaw shift between the new ECEF pose and the previous ECEF pose along the yaw direction. Once the pose change is determined, at the processes <b>420</b> and <b>430</b>, the jump determination module <b>280</b> determines whether the pose change exceeds the threshold. Specifically, at the process <b>420</b>, the jump determination module <b>280</b> determines whether the position shift exceeds the position shift threshold, and at the process <b>430</b>, the jump determination module <b>280</b> determines whether the yaw shift exceeds the yaw shift threshold. It should be noted that the processes <b>420</b> and <b>430</b> do not need to be performed in a specifically sequence. If the jump determination module <b>280</b> determines that the pose change exceeds the threshold (i.e., either the position shift exceeds the position shift threshold or the yaw shift exceeds the yaw shift threshold), the jump determination module <b>280</b> determines that the jump occurs. In this case, at the process <b>440</b>, the jump determination module <b>280</b> calculates a reference shift of the ENU reference pose based on the pose change to absorb the jump in the ENU coordinate. Then, at the process <b>450</b>, the jump determination module <b>280</b> updates the ENU reference pose based on the reference shift obtained in the process <b>440</b>. On the other hand, if the jump determination module <b>280</b> determines that the pose change does not exceed the threshold (i.e., the position shift does not exceed the position shift threshold, and the yaw shift does not exceed the yaw shift threshold), at the process <b>460</b>, the jump determination module <b>280</b> determines that no jump occurs, and the ENU reference pose remains unchanged.</p><p id="p-0062" num="0061">In certain embodiments, the jump determination process as discussed above may be useful particularly in the global positioning system (GPS) in a vehicle, such as a car or a motorcycle, or in autonomous systems. Specifically, in an autonomous system, a jump in the localization is undesirable in Level <b>2</b> driving as it makes it difficult for lane-tracking to associate and track lanes. Such jumps may occur due to noise and environment reflections from the GPS.</p><p id="p-0063" num="0062">As discussed, the ECEF reference pose (Ref_pose_ecef) helps to transform the vehicle position from the ECEF frame to the ENU frame. Since the pose change involves the position shift on the X-Y plane and the yaw shift along the yaw direction, the ECEF reference pose (Ref_pose_ecef) may be converted to the ENU reference pose to compensate for the pose change (i.e., the position shift and/or the yaw shift). In certain embodiments, the local pose output in the ENU frame may be defined as:</p><p id="p-0064" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>local_pose=refpose_ecefinverse( )*vehiclepose_<i>ecef</i>&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0065" num="0000">where the function refpose_ecefinverse( ) gets updated on detection of a yaw and/or position shift in the jump determination process. The refpose is the reference anchor to convert to ENU, and the vehiclepose_ecef is the current vehicle position in ECEF.</p><p id="p-0066" num="0063">Thus, the reference shift (Rdiff) can be in the form of a transform between the updated and current ref_pose, which is defined as:</p><p id="p-0067" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>R</i>diff=current_local_pose.<i>R</i>( )*updated_global_pose_<i>R</i>( ).transpose( )*<i>R</i>_<i>ecef</i>_<i>enu</i>&#x2003;&#x2003;(2)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0068" num="0064">Using the reference shift (Rdiff), the updated ENU reference pose (new_R) and the new ENU local pose (new_P) may be obtained for refpose_ecef as follows:</p><p id="p-0069" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>new_<i>R=R</i>_<i>ecef</i>_<i>enu*R</i>diff&#x2003;&#x2003;(3)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0070" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>new_<i>p</i>=new_global_pose.<i>p</i>( )&#x2212;new_<i>R</i>*curr_local_pose.<i>p</i>( )&#x2003;&#x2003;(4)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0071" num="0065">Thus, it would be possible to make the local pose output smooth in the ENU frame using the updated ENU reference pose (new_R) and the new ENU local pose (new_P), as the reference shift (Rdiff) absorbs the jump. However, when observing the local pose output in the ECEF frame, the new ECEF pose would still have the jumps, and is thus globally accurate.</p><p id="p-0072" num="0066">It should be noted that the formulas and functions provided above constitute an exemplary embodiment to perform the transformation to convert the pose from the car frame to the ENU frame. However, the actual transformation may be performed using different calculation methods, and is not hereinafter limited to the embodiment as described.</p><p id="p-0073" num="0067">In another aspect of the present invention, a method for providing a global localization output is provided. For example, <figref idref="DRAWINGS">FIG. <b>5</b></figref> shows a flowchart of a method for providing a global localization output according to one embodiment of the invention. In certain embodiments, the method as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref> may be implemented on the GNSS receiver <b>110</b> as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> and the computing device <b>200</b> as shown in <figref idref="DRAWINGS">FIGS. <b>2</b>A and <b>2</b>B</figref>. It should be particularly noted that, unless otherwise stated in the present disclosure, the steps of the method may be arranged in a different sequential order, and are thus not limited to the sequential order as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>.</p><p id="p-0074" num="0068">As shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, when the apparatus (i.e., the GNSS receiver <b>110</b>) receives the navigation signals (i.e., the GNSS signals) from the GNSS, at the process <b>510</b>, the apparatus processes the navigation signals received to determined, based on a fixed ECEF reference pose of a reference point <b>130</b>, a new ECEF pose. Then, at the process <b>520</b>, the apparatus converts the fixed ECEF reference pose to an ENU reference pose, which is variable and modifiable. Then, at the processes <b>530</b>-<b>550</b>, the jump determination process may be performed. Specifically, at the process <b>530</b>, the jump determination module <b>280</b> may calculate a pose change between the new ECEF pose and a pervious ECEF pose. At the process <b>540</b>, the jump determination module <b>280</b> determines whether a jump occurs. If a jump is determined to occur, at the process <b>550</b>, the jump determination module <b>280</b> updates the ENU reference pose based on the pose change. If there is no jump, the jump determination module <b>280</b> does not update the ENU reference pose. In certain embodiments, the details of the jump determination process in the processes <b>530</b>-<b>550</b> may be referenced in the flowchart as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>. After the jump determination process, at the process <b>560</b>, the apparatus may obtain a new ENU local pose of the apparatus using the ENU reference pose, and output the new ENU local pose as a current pose of the apparatus.</p><p id="p-0075" num="0069">Optionally, a user may input, through the input device <b>235</b> of the computing device, an adjusting input to adjust the threshold. Once the apparatus receives the adjusting input, the apparatus may adjust the threshold based on the adjusting input.</p><p id="p-0076" num="0070">Yet another aspect of the invention provides a non-transitory tangible computer-readable medium storing instructions which, when executed by one or more processors of an apparatus (i.e., the GNSS receiver), cause the above disclosed method for performing global localization output to be performed. The computer executable instructions or program codes enable the above disclosed apparatus, such as the GNSS receiver or a similar system, to complete various operations in accordance with the above disclosed method. The storage medium/memory may include, but is not limited to, high-speed random access medium/memory such as DRAM, SRAM, DDR RAM or other random access solid state memory devices, and non-volatile memory such as one or more magnetic disk storage devices, optical disk storage devices, flash memory devices, or other non-volatile solid state storage devices.</p><p id="p-0077" num="0071">The foregoing description of the exemplary embodiments of the invention has been presented only for the purposes of illustration and description and is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations are possible in light of the above teaching.</p><p id="p-0078" num="0072">The embodiments were chosen and described in order to explain the principles of the invention and their practical application so as to enable others skilled in the art to utilize the invention and various embodiments and with various modifications as are suited to the particular use contemplated. Alternative embodiments will become apparent to those skilled in the art to which the invention pertains without departing from its spirit and scope. Accordingly, the scope of the invention is defined by the appended claims rather than the foregoing description and the exemplary embodiments described therein.</p><p id="p-0079" num="0073">Some references, which may include patents, patent applications and various publications, are cited and discussed in the description of this disclosure. The citation and/or discussion of such references is provided merely to clarify the description of the present disclosure and is not an admission that any such reference is &#x201c;prior art&#x201d; to the disclosure described herein. All references cited and discussed in this specification are incorporated herein by reference in their entireties and to the same extent as if each reference was individually incorporated by reference.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An apparatus for providing a global localization output, comprising:<claim-text>a receiving device communicatively connected to a navigation system to receive navigation signals; and</claim-text><claim-text>a computing device having a processor and a storage device storing computer executable instructions, wherein the computer executable instructions, when executed on the processor, cause the processor to:<claim-text>process the navigation signals received to determine, based on a fixed earth-centered, earth-fixed (ECEF) reference pose of a reference point in an ECEF coordinate, a new ECEF pose of the apparatus;</claim-text><claim-text>convert the fixed ECEF reference pose of the reference point in the ECEF coordinate to an east-north-up (ENU) reference pose in an ENU coordinate, wherein the ENU reference pose is variable;</claim-text><claim-text>determine whether a jump occurs in the new ECEF local position of the apparatus in the ECEF coordinate based on a pose change between the new ECEF pose and a previous ECEF pose of the apparatus;</claim-text><claim-text>in response to determining that the jump occurs, update the ENU reference pose based on the pose change;</claim-text><claim-text>obtain a new ENU local pose of the apparatus using the ENU reference pose; and</claim-text><claim-text>output the new ENU local pose as a current pose of the apparatus.</claim-text></claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the ENU reference pose is updated based on based on the pose change by:<claim-text>calculating a reference shift of the ENU reference pose based on the pose change to absorb the jump in the ENU coordinate; and</claim-text><claim-text>updating the ENU reference pose based on the reference shift</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the jump is determined to occur in response to determining that the pose change exceeds a threshold.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The apparatus of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the pose change comprises:<claim-text>a position shift between the new ECEF pose and the previous ECEF pose on a X-Y plane in the ECEF coordinate; and</claim-text><claim-text>a yaw shift between the new ECEF pose and the previous ECEF pose along a yaw direction in the ECEF coordinate.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein:<claim-text>the threshold is a position shift threshold, and</claim-text><claim-text>the jump is determined to occur in response to determining that the pose shift in the ECEF coordinate exceeds the position shift threshold.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein:<claim-text>the threshold is a yaw shift threshold, and</claim-text><claim-text>the jump is determined to occur in response to determining that the yaw shift in the ECEF coordinate exceeds the yaw shift threshold.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The apparatus of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the computer executable instructions, when executed on the processor, further cause the processor to adjust the threshold based on an adjusting input.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. A vehicle having the apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. A method for providing a global localization output, comprising:<claim-text>receiving navigation signals by an apparatus communicatively connected to a navigation system;</claim-text><claim-text>processing, by the apparatus, the navigation signals received to determine, based on a fixed earth-centered, earth-fixed (ECEF) reference pose of a reference point in an ECEF coordinate, a new ECEF pose of the apparatus;</claim-text><claim-text>converting, by the apparatus, the fixed ECEF reference pose of the reference point in the ECEF coordinate to an east-north-up (ENU) reference pose in an ENU coordinate, wherein the ENU reference pose is variable;</claim-text><claim-text>determining, by the apparatus, whether a jump occurs in the new ECEF pose of the apparatus in the ECEF coordinate based on a pose change between the new ECEF pose and a previous ECEF pose of the apparatus;</claim-text><claim-text>in response to determining that the jump occurs, updating, by the apparatus, the ENU reference pose based on the pose change;</claim-text><claim-text>obtaining, by the apparatus, a new ENU local pose of the apparatus using the ENU reference pose; and</claim-text><claim-text>outputting, by the apparatus, the new ENU local pose as a current pose of the apparatus.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the ENU reference pose is updated based on based on the pose change by:<claim-text>calculating a reference shift of the ENU reference pose based on the pose change to absorb the jump in the ENU coordinate; and</claim-text><claim-text>updating the ENU reference pose based on the reference shift</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the jump is determined to occur in response to determining that the pose change exceeds a threshold.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the pose change comprises:<claim-text>a position shift between the new ECEF pose and the previous ECEF pose on a X-Y plane in the ECEF coordinate; and</claim-text><claim-text>a yaw shift between the new ECEF pose and the previous ECEF pose along a yaw direction in the ECEF coordinate.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein:<claim-text>the threshold is a position shift threshold, and</claim-text><claim-text>the jump is determined to occur in response to determining that the position shift in the ECEF coordinate exceeds the position shift threshold.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein:<claim-text>the threshold is a yaw shift threshold, and</claim-text><claim-text>the jump is determined to occur in response to determining that the yaw shift in the ECEF coordinate exceeds the yaw shift threshold.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising:<claim-text>receiving, by the apparatus, an adjusting input to adjust the threshold; and</claim-text><claim-text>adjusting the threshold based on the adjusting input.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. A non-transitory tangible computer-readable medium storing computer executable instructions which, when executed by one or more processors, cause a method for providing a global localization output to be performed, the method comprising:<claim-text>receiving navigation signals from a navigation system;</claim-text><claim-text>processing the navigation signals received to determine, based on a fixed earth-centered, earth-fixed (ECEF) reference pose of a reference point in an ECEF coordinate, a new ECEF pose of the apparatus;</claim-text><claim-text>converting the fixed ECEF reference pose of the reference point in the ECEF coordinate to an east-north-up (ENU) reference pose in an ENU coordinate, wherein the ENU reference pose is variable;</claim-text><claim-text>determining whether a jump occurs in the new ECEF pose of the apparatus in the ECEF coordinate based on a pose change between the new ECEF pose and a previous ECEF pose of the apparatus;</claim-text><claim-text>in response to determining that the jump occurs, updating the ENU reference pose based on the pose change;</claim-text><claim-text>obtaining a new ENU local pose of the apparatus using the ENU reference pose; and</claim-text><claim-text>outputting the new ENU local pose as a current pose of the apparatus.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The non-transitory tangible computer-readable medium of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the ENU reference pose is updated based on based on the pose change by:<claim-text>calculating a reference shift of the ENU reference pose based on the pose change to absorb the jump in the ENU coordinate; and</claim-text><claim-text>updating the ENU reference pose based on the reference shift</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The non-transitory tangible computer-readable medium of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the jump is determined to occur in response to determining that the pose change exceeds a threshold.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The non-transitory tangible computer-readable medium of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the pose change comprises:<claim-text>a position shift between the new ECEF pose and the previous ECEF pose on a X-Y plane in the ECEF coordinate; and</claim-text><claim-text>a yaw shift between the new ECEF pose and the previous ECEF pose along a yaw direction in the ECEF coordinate.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The non-transitory tangible computer-readable medium of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein:<claim-text>the threshold includes a position shift threshold and a yaw shift threshold, and</claim-text><claim-text>the jump is determined to occur in response to determining that the position shift in the ECEF coordinate exceeds the position shift threshold, or that the yaw shift in the ECEF coordinate exceeds the yaw shift threshold.</claim-text></claim-text></claim></claims></us-patent-application>