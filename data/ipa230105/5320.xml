<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230005321A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230005321</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17852827</doc-number><date>20220629</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202110757214.3</doc-number><date>20210705</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>07</class><subclass>F</subclass><main-group>9</main-group><subgroup>00</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>07</class><subclass>F</subclass><main-group>9</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>07</class><subclass>F</subclass><main-group>9</main-group><subgroup>10</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>Q</subclass><main-group>20</main-group><subgroup>40</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>Q</subclass><main-group>20</main-group><subgroup>20</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20200501</date></cpc-version-indicator><section>G</section><class>07</class><subclass>F</subclass><main-group>9</main-group><subgroup>009</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20200501</date></cpc-version-indicator><section>G</section><class>07</class><subclass>F</subclass><main-group>9</main-group><subgroup>002</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20200501</date></cpc-version-indicator><section>G</section><class>07</class><subclass>F</subclass><main-group>9</main-group><subgroup>0235</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>07</class><subclass>F</subclass><main-group>9</main-group><subgroup>105</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>Q</subclass><main-group>20</main-group><subgroup>40145</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>Q</subclass><main-group>20</main-group><subgroup>203</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">VENDING MACHINE AND VENDING METHOD FOR SELLING RESTRICTED COMMODITIES BASED ON USER IDENTITIES</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>LUXSHARE PRECISION INDUSTRY COMPANY LIMITED</orgname><address><city>Shenzhen</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>LI</last-name><first-name>HuaBing</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>HUANG</last-name><first-name>Yu</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>LAI</last-name><first-name>ZhongYuan</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>YANG</last-name><first-name>Jia</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>LUXSHARE PRECISION INDUSTRY COMPANY LIMITED</orgname><role>03</role><address><city>Shenzhen</city><country>CN</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A vending machine for storing and selling restricted commodities, and a vending method implemented therein. In the vending machine, a control module comprises a processor executing program codes to provide a vending service. A user interface is connected to the control module, comprising a sensor sampling biometric characteristics of a user. A communication module is connected to the control module, comprising a wireless transceiver configured to receive commands from the control module, and communicate with a central system or the user. The control module drives said sensor to capture the biometric characteristics of the user, and then uploads the biometric characteristics to the central system through the communications module. A database storing associations of the biometric characteristics and identity characteristics of users. The control module receives a search result from the database based on the biometric characteristics of the user to determine whether a restricted commodity is authorized for sale.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="123.70mm" wi="158.75mm" file="US20230005321A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="105.58mm" wi="172.30mm" file="US20230005321A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="128.02mm" wi="170.26mm" file="US20230005321A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="144.36mm" wi="173.31mm" file="US20230005321A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="136.31mm" wi="171.62mm" file="US20230005321A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATION</heading><p id="p-0002" num="0001">This application claims the priority benefit of Chinese Patent Application Serial Number 202110757214.3, filed on Jul. 5, 2021, the full disclosure of which is incorporated herein by reference.</p><heading id="h-0002" level="1">BACKGROUND</heading><heading id="h-0003" level="1">Technical Field</heading><p id="p-0003" num="0002">The application relates to a vending machine, and more particularly, to a device and method for vending restricted commodities by determining categories of accessible commodities based on user identities.</p><heading id="h-0004" level="1">Related Art</heading><p id="p-0004" num="0003">Cigarettes are age restricted commodities. In present life, cigarettes are available in supermarkets or grocery stores. When administrative management is not in place, people under ages may easily access the age restricted commodities. Cigarettes may significantly affect the growth of the under-ages. An unattended cigarette vending machine can be adapted to effect cigarettes sales, in combination with technical means for preventing the cigarettes from selling to the under ages, such that various advantages can be rendered, such as significant reduction of cost from daily operation, and reduction of the issuance of licenses for retailors. Therefore, with the development of society and the balance of the game of interests, the cigarette vending machines set up in the stores under supervisions of people, particularly under the epidemic situations, may effectively realize self-serviced and unattended shopping.</p><p id="p-0005" num="0004">However, conventional vending machine may still be awkward in recognizing the legitimate status of the buyers. Therefore, an unattended cigarette vending machine with improved recognition ability remains desirable to be developed.</p><heading id="h-0005" level="1">SUMMARY</heading><p id="p-0006" num="0005">The embodiment of the present application provides a vending machine and a vending method implemented on the vending machine, so as to solve the problem in the prior art that user identities cannot be accurately verified to sell restricted commodities.</p><p id="p-0007" num="0006">To solve the above technical problems, this application is implemented through the following technical solutions.</p><p id="p-0008" num="0007">In an embodiment, a vending machine comprises at least a communication module, an inventory module, a cash management module, a user interface, and a control module. The user interface comprises sensors for sampling user biometric characteristics. The communication module is connected to the control module and comprises a wireless transceiver for communicating with the central system or a user. The inventory module is connected to the control module for managing storage, expiration dates and provision of commodities. The cash management module is connected to the control module and is adaptable for managing storage, reception and return of cash. The user interface is connected to the control module, adaptable for interacting with users using images or sounds. The control module comprises a memory device storing program codes, and a processor executing the program codes to control the communication module, the inventory module, and the user interface to provide vending services.</p><p id="p-0009" num="0008">The communication module may upload the user biometric characteristics to the central system. The central system may be a customer service system or a public security system, comprising a database storing associations of biometric characteristics and identity characteristics corresponding to the users.</p><p id="p-0010" num="0009">The control module may receive, through the communication module, a search result of searching the database by the central system according to the biometric characteristics, to determine whether a restricted commodity is authorized for sale. For example, the control module determines whether the user identity characteristic satisfies a first condition according to the search result. When the user identity characteristic satisfies the first condition, the control module generates a command to provide the restricted commodity based on the identity characteristic, so that the user interface allows the restricted commodity to be visible on a commodity menu. When the identity characteristic is undeterminable, the control module does not generate the command to provide the restricted commodity, so that the user interface does not display the restricted commodity on the commodity menu. Alternatively, when the first condition is not met, the restricted commodity may still be displayed but restricted for selection. For example, when an unauthorized user selects the restricted commodity on the commodity menu, a prompt of refusal is displayed.</p><p id="p-0011" num="0010">A commodity menu of selectable commodities may be determined according to the user's identity characteristics. The user interface receives a selection signal from the user, selecting one of the commodities on the commodity menu. Thereafter, the control module starts a payment process for the user to pay the price corresponding to the selected commodity through the communication module or the cash management module. When the payment is successfully performed, the control module instructs the inventory module to provide the commodity selected by the user.</p><p id="p-0012" num="0011">In an embodiment, the sensor may be at least one of a camera, a microphone, a scanner, and a fingerprint sensor. The sensor can be configured by the control module to receive the selection signal from the user selecting the commodities. The biometric characteristics may be facial images, voice, retinal images, or fingerprints respectively sensed by the camera, the microphone, the scanner, the fingerprint sensor, and etc.</p><p id="p-0013" num="0012">In a specific embodiment, the identity characteristic may be the age of users, and relatively, the first condition may be that the age is greater than or equal to a specific threshold, for example, the specific threshold is eighteen years old.</p><p id="p-0014" num="0013">In another embodiment, the communication module is configured to transmit the selection of the commodity to the database of the central system, so that the central system may establish an association with the biometric characteristics of the user as a basis for big data analysis. For example, the big data analysis result may be received by the communication module, and based on which, the control module may be able to recommend via the user interface, new commodity potentially suitable for the user. Such that a customized marketing promotion mechanism is implemented.</p><p id="p-0015" num="0014">In a specific embodiment, the restricted commodity may be cigarettes, and the types may include at least traditional type, non-combustible heated type, and atomized electronic type. As an extra service, the vending machine may also provide a heater controlled by the control module. When the control module generates a command directing the inventory module to provide the cigarettes, the control module also activates the heater for heating the cigarettes.</p><p id="p-0016" num="0015">In a further embodiment, the communication module is in compliance with at least one of the following communication protocols: Bluetooth, Wireless Local Area Network (WLAN), Near Field Communication (NFC), and Radio Frequency Identification (RFID). The control module is configured to provide an electronic payment mode and a cash payment mode. In a payment process, users can choose to use electronic payment or banknotes for the payment. For example, users can choose to use Bluetooth, wireless network, near-end wireless communication on mobile phones, or use a contactless protocol in an IC card or a proximity card with radio frequency identification to pay. Payments can also be performed by Mobile apps, such as WeChat, PayPal, Banks apps, and etc. When the user chooses a traditional banknotes transaction, the vending machine of the embodiment can also be configured with a traditional cash management module to provide the services.</p><p id="p-0017" num="0016">In a further embodiment, the inventory module in the vending machine of the present invention is configured to check remaining commodities in stock. When a number of remaining commodities in stock is lower than a threshold, the communication module in the vending machine sends a low inventory notification to the central system to schedule subsequent replenishment processes. On the other hand, the control module can be configured to detect alerts generated from problematic payments or module damage. The control module sends a warning notification to the central system when the alerts are detected. For example, when someone uses counterfeit banknotes to trade or destroys the hardware of the machine, the vending machine saves the currently captured image data and reports to a customer service system or a public security system through the communication module.</p><p id="p-0018" num="0017">As a further value adding service, when the transaction is successful, the control module may be configured to store the user biometric characteristics and the corresponding selection of commodities, allowing a default selection to be provided for the user when using the vending machine next time.</p><p id="p-0019" num="0018">In a specific embodiment, the user interface may include a console for receiving user selections of commodities on the commodity menu. To facilitate user interaction, the console may be a touch screen. For a console designed by mechanic buttons, the user interface may further use a display or a light board to indicate available commodities. In a further approach, a microphone may be installed in the user interface, allowing the user to orally select commodities.</p><p id="p-0020" num="0019">In another embodiment, the inventory module is configured to track expiration dates of commodities in stock. When one of the commodities is expired, the vending machine may suspend the services in the vending machine or recall the one of the commodities. For example, in the vending machine, in addition to a first channel for providing the commodities to the user, a second channel, such as a recalling channel, may be designed to specifically transport the expired commodities to a recalling area inside the machine body. For example, a recalling bin may be designed, storing the expired commodities pending for removal and destruction by the maintainers. In an alternative embodiment, a destruction module, such as a destruction chamber, is built within the machine body. The expired commodities are redirected into the destruction chamber via the recalling channel, and are destroyed therein.</p><p id="p-0021" num="0020">Furthermore, the vending machine of the present application may include multiple machine bodies, and the machine bodies are respectively electrically connected to the control module. The restricted commodities may comprise multiple types, and the multiple types of restricted commodities are respectively stored in the multiple machine bodies.</p><p id="p-0022" num="0021">In another aspect of the application, a vending method is implemented in the vending machine. The steps of the vending method are summarized as follows.</p><p id="p-0023" num="0022">Firstly, the user biometric characteristics are sampled. Thereafter, the user biometric characteristics are uploaded to the central system. The central system may include a database that correlates the biometric characteristics and the identity characteristics. When the vending machine receives a search result of searching the database based on the biometric characteristics by the central system, the user identify characteristic is determined based on the search result. When the user identity characteristic satisfies a first condition, for example, at least 18 years old, a restricted commodity, such as cigarettes, can be displayed on the commodity menu. Conversely, when the user's identity characteristics is undeterminable in the database, or the user is under eighteen years old, the purchase of cigarettes is not allowed, and in this case, the restricted commodity is not displayed on the commodity menu. A payment process was processed after selection of the commodities. Specifically, the vending machine accepts the user to select a commodity on the commodity menu. After deciding on the commodity, the payment process is started. The user pays the corresponding price according to the selected commodity. When the payment process is successfully performed, the vending machine provides the commodity selected by the user to complete the transaction.</p><p id="p-0024" num="0023">In another embodiment, the vending machine comprises a heater, and the vending method further comprises: after generating the command to provide the restricted commodity, activating the heater to heat the restricted commodity.</p><p id="p-0025" num="0024">In another embodiment, the vending method comprises checking remaining commodities in stock; and when a number of the remaining commodities is lower than a threshold, sending a low inventory notification to the central system through the communication module.</p><p id="p-0026" num="0025">In another embodiment, the vending method comprises detecting alerts generated from problematic payments or module damage; and sending a warning notification to the central system when the alerts are detected.</p><p id="p-0027" num="0026">In another embodiment, the vending method comprises storing associations of the biometric characteristics and the selection signal on the commodities.</p><p id="p-0028" num="0027">In another embodiment, the vending method further comprises tracking expiration dates of the commodities in stock; and when one of the commodities is expired, suspending services in the vending machine or recalling the one of the commodities.</p><p id="p-0029" num="0028">The subsequent steps of the vending method have been introduced in the foregoing embodiment of the vending machine, therefore the details are not repeated herein. The advantage of the present application is the provision of a multifunctional autonomous vending machine capable of accurately recognizing user identities according to user biometric characteristics, allowing an authorized user to legitimately purchase their favorite cigarettes, wherein the types of the cigarettes include traditional type, non-combustible heated type, and atomized electronic type. Labor costs are reduced. The association with the national public security service provides protections for under-ages, and maintain transactions of commodities traceable and controllable.</p><p id="p-0030" num="0029">It should be understood, however, that this summary may not contain all aspects and embodiments of the present invention, that this summary is not meant to be limiting or restrictive in any manner, and that the invention as disclosed herein will be understood by one of ordinary skill in the art to encompass obvious improvements and modifications thereto.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0031" num="0030">The features of the exemplary embodiments believed to be novel and the elements and/or the steps characteristic of the exemplary embodiments are set forth with particularity in the appended claims. The Figures are for illustration purposes only and are not drawn to scale. The exemplary embodiments, both as to organization and method of operation, may best be understood by reference to the detailed description which follows taken in conjunction with the accompanying drawings in which:</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a systematic architecture diagram of a vending ecosystem according to an embodiment of the application;</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a configuration diagram of a vending machine according to an embodiment of the application;</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart of the vending method according to an embodiment of the application; and</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a diagram of a cigarette vending machine according to an embodiment of the application.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0007" level="1">DETAILED DESCRIPTION OF THE EMBODIMENTS</heading><p id="p-0036" num="0035">The present invention will now be described more fully hereinafter with reference to the accompanying drawings, in which exemplary embodiments of the invention are shown. This present invention may, however, be embodied in many different forms and should not be construed as limited to the embodiments set forth herein. Rather, these embodiments are provided so that this present invention will be thorough and complete, and will fully convey the scope of the present invention to those skilled in the art.</p><p id="p-0037" num="0036">Certain terms are used throughout the description and following claims to refer to particular components. As one skilled in the art will appreciate, manufacturers may refer to a component by different names. This document does not intend to distinguish between components that differ in name but function. In the following description and in the claims, the terms &#x201c;include/comprising&#x201d; and &#x201c;comprise/comprising&#x201d; are used in an open-ended fashion, and thus should be interpreted as &#x201c;comprising but not limited to&#x201d;. &#x201c;Substantial/substantially&#x201d; means, within an acceptable error range, the person skilled in the art may solve the technical problem in a certain error range to achieve the basic technical effect.</p><p id="p-0038" num="0037">The following description is of the best-contemplated mode of carrying out the invention. This description is made for the purpose of illustration of the general principles of the invention and should not be taken in a limiting sense. The scope of the invention is best determined by reference to the appended claims.</p><p id="p-0039" num="0038">Moreover, the terms &#x201c;include&#x201d;, &#x201c;contain&#x201d;, and any variation thereof are intended to cover a non-exclusive inclusion. Therefore, a process, method, object, or device that comprises a series of elements not only include these elements, but also comprises other elements not specified expressly, or may include inherent elements of the process, method, object, or device. When no more limitations are made, an element limited by &#x201c;include a/an . . . &#x201d; does not exclude other same elements existing in the process, the method, the article, or the device which comprises the element.</p><p id="p-0040" num="0039">In the following embodiment, the same reference numerals are used to refer to the same or similar elements throughout the invention.</p><p id="p-0041" num="0040">The technical solutions in the embodiments of the present application will be described clearly and completely with reference to the accompanying drawings in the embodiments of the present application. Obviously, the described embodiments are part of the embodiments of the present application, rather than all of them. Based on the embodiments in this application, all other embodiments obtained by those of ordinary skill in the art without creative work shall fall within the protection scope of this application.</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a systematic architecture diagram of a vending ecosystem according to an embodiment of the application.</p><p id="p-0043" num="0042">Around the corners of many streets and alleys of a city, vending machines are commonly seen in both outdoors and indoors environments. A vending machine <b>100</b> may be connected to the Internet <b>120</b> through a communication module <b>200</b>, and is remotely connected to a central system. For example, the central system may be a customer service system <b>130</b> of the manufacturer, or a public security system <b>140</b>. In an embodiment of the vending machine <b>100</b>, various function blocks are implemented, including at least a communication module <b>200</b>, an inventory module <b>500</b>, a cash management module <b>600</b>, a user interface <b>300</b>, and a control module <b>210</b>.</p><p id="p-0044" num="0043">The communication module <b>200</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is connected to the control module and is mainly used for external communication. For example, a connection can be established with wire or wirelessly to the Internet <b>120</b>, so as to communicate with the central system remotely. The central system here is generally referred to as a customer service system <b>130</b> provided by the manufacturer, the vendors, or the cigarette administration authorities, and can also be referred to as the public security system <b>140</b>. The inventory module <b>500</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is connected to the control module <b>210</b>, and the inventory module <b>500</b> is adaptable for storing commodities, monitoring the expiration dates of the commodities, and providing commodities. The commodity provision module has been implemented by a large number of existing technologies, and this embodiment is only an improved application based on it, so the details of the mechanism will not be described in detail.</p><p id="p-0045" num="0044">In the customer service system <b>130</b> or the public security system <b>140</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, a database related to biometric characteristics and identity characteristics may be prepared. For example, in the central systems, a database of user facial images, and corresponding ID numbers and ages can be built. When the communication module <b>200</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> receives a search result performed by the central system based on the biometric characteristics (i.e., facial images), the control module <b>210</b> can determine the commodities that are allowed to be sold to the user. The control module <b>210</b> can generate a command according to the determination, instructing the inventory module <b>500</b> to provide an age restricted commodity based on the identity characteristic. For example, it is determined whether the current user identity characteristics meet a condition. When the user identity characteristic satisfies the condition, the control module <b>210</b> allows the inventory module <b>500</b> to provide the restricted commodity, and directs the user interface <b>300</b> to display the restricted commodity on a commodity menu for the user to purchase. The so-called condition in the embodiment is that the user has to be an adult. The condition may be that the age is greater than or equal to a specific threshold. The specific threshold is, for example, a legal age of majority. Satisfying the condition means meeting the condition of adulthood. The legal age of majority in most countries is referred to as the age of eighteen or older, but it may also be sixteen or twenty. Relevant restrictions can be adjusted by the program codes according to different regulations is various jurisdictions.</p><p id="p-0046" num="0045">In contrast, when the user identity characteristic is undeterminable, or does not satisfy the first condition, the control module <b>210</b> does not allow the provision of the restricted commodities. In this case, the user interface does not display the restricted commodity on the commodity menu. Alternatively, the user interface may still display the restricted commodity to unauthorized users, but would prompt a refusal to select when the restricted commodity is selected.</p><p id="p-0047" num="0046">The restricted commodities here can be cigarettes or alcohol, and can also include beverages or other types. The embodiment of the vending machine can be extended to a structure of multiple machine bodies connected to each other, wherein each machine body stores and sells different types of commodities.</p><p id="p-0048" num="0047">The fundamental principle of recognizing the identity characteristic based on the biometric characteristics to authorize accessibilities of the restricted commodities can be extended to various other embodiments. For example, the central system, such as the customer service system <b>130</b>, may be a website with memberships dedicated to a specific group of people, such as a dedicated host for employees within a company, or a dedicated host within a school. The vending machines <b>100</b> may be placed in specific communities, such as campuses. Therefore, only the identities of specific ethnic groups, such as students or faculty members, can be verified and get the opportunity to purchase. For example, only students can get preferential discounts, or limited-edition commodities that are only suitable for VIP members to snap up. It is to be understood that a variety of possible applications can be enabled based on the aforementioned embodiments of the vending machine.</p><p id="p-0049" num="0048">The cash management module <b>600</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is connected to the control module <b>210</b>, mainly responsible for the details of traditional cash payment, such as the reception, anti-counterfeiting, storage, change return and anti-theft of copper banknotes. The traditional cash payment implemented in unattended vending machines have been implemented by a large number of traditional technologies. The embodiment is an improved application based thereon, and therefore the details about the cash management module may not be thoroughly elaborated herein.</p><p id="p-0050" num="0049">The user interface <b>300</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is connected to the control module, responsible for receiving user inputs and outputting messages to the user. The information input by the user generally comprises images, input commands, voice, and biometric characteristics. The message output to the user is mainly in the forms of video and/or sound. In other words, the user interface <b>300</b> as a whole is an interface that interacts with users visually and acoustically.</p><p id="p-0051" num="0050">The control module <b>210</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, is generally referred to as a program-controlled computer system comprising a processor, and a memory device for storage of program codes. The processor executes the program codes to control the communication module <b>200</b>, the inventory module <b>500</b>, the cash management module <b>600</b>, and the user interface <b>300</b> so as to provide vending services.</p><p id="p-0052" num="0051">When the commodities to be displayed on the commodity menu are determined according to a user's identity characteristics, the user interface <b>300</b> of <figref idref="DRAWINGS">FIG. <b>1</b></figref> displays the commodity menu in front of the user, allowing the user to select and purchase the commodities. A payment process is initiated by the control module <b>210</b> when the user selects a commodity, wherein a variety of options to pay are provided. For example, online payment or contactless payment can be implemented through the communication module <b>200</b>, or alternatively, a traditional cash payment can be performed through the cash management module <b>600</b>. When the payment is successfully completed, the control module <b>210</b> instructs the inventory module <b>500</b> to provide the commodity selected by the user. For example, the commodity can be provided through a product retrieval window.</p><p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a configuration diagram of a vending machine according to an embodiment of the application. In this embodiment, the vending machine <b>100</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is further broken down for illustration. The control module <b>210</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref> can be regarded as a kernel based operating system. The implementation method is similar to a general computer, with a processor <b>230</b> that executes program codes stored in the memory device <b>220</b> to control all peripheral modules. The communication module <b>200</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref> can be roughly classified as comprising an antenna <b>206</b> and a transceiver <b>202</b>. It can be equipped with a phone number for 4G or 5G wireless transmission. On the other hand, the communication module <b>200</b> can also be connected to the Internet <b>120</b> through a wired network, and is eventually routed to the central system. In the embodiment, the central system may be the customer service system <b>130</b> and/or the public security system <b>140</b>. In a further implementation, a connection between the communication module <b>200</b> and the central system may be established on a virtual private network (VPN) to reinforce data security.</p><p id="p-0054" num="0053">In <figref idref="DRAWINGS">FIG. <b>2</b></figref>, a user interface <b>300</b> is presented for interactions with users as described. One of the main functions is to sample the user biometric characteristics. The sampling process can be implemented in many different ways, either individually or jointly. For example, the biometric characteristics of users can be sampled by a sensor <b>302</b> or a microphone <b>304</b> in the interface <b>300</b>. When the sensor <b>302</b> is a camera, the user's facial image is sampled as the biometric characteristics. The sensor <b>302</b> may also be implemented as a retinal scanner for sampling images of the user's retina. Alternatively, the sensor <b>302</b> may be a fingerprint sensor for collecting fingerprints of the user. Furthermore, the user's voice received by the microphone <b>304</b> may also be taken as the biometric characteristics. The various kinds of biometric characteristics, individually or selectively combining, may be uploaded and profiled in the central system, rendering a database for big data analysis. In this way, the unattended vending machines can be widely deployed in major cities across the country to enhance customer service and precise marketing.</p><p id="p-0055" num="0054">The user interface <b>300</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref> also comprises a console <b>306</b>, a speaker <b>308</b>, and a display <b>310</b>. The display <b>310</b> may be a liquid crystal display or a light-emitting diode display to present abundant visual information for user interactions. The console <b>306</b> may be a touch screen or a physical button, serving as a control interface for the user when using the vending service. The speaker <b>308</b> is adaptable for broadcasting sounds, such as voice guidance during a purchase process, or playing advertisements on the display <b>310</b> to attract users to stay. Although the above-mentioned sensor <b>302</b>, microphone <b>304</b>, console <b>306</b>, speaker <b>308</b> and display <b>310</b> are classified as user interface <b>300</b>, they are only for easy understanding of readers. In implementation, each module may feature different functions, cooperatively working together with the communication module <b>200</b> under control of the module <b>210</b>. The embodiments of the modules and blocks in <figref idref="DRAWINGS">FIG. <b>2</b></figref> are merely functional descriptions not intended to constrain the physical implementations. For example, the microphone <b>304</b> is not only used for collecting user's vocal characteristics for biometric characteristic identification, the microphone <b>304</b> can also be used to receive user voice that are recognizable in the control module <b>210</b> to perform an alternative input approach, such as an advanced interactive purchase process in addition to the touch input or button input via the console <b>306</b>. For example, when choosing a commodity, a user can orally order the desired commodity in a spoken language. As soon the control module <b>210</b> recognizes the voice received by the microphone <b>304</b>, a transaction can be performed.</p><p id="p-0056" num="0055">In a transaction process, the communication module <b>200</b> can transmit the data of the commodity selected by the user to the database of the central system, based on which, the central system establishes an association with the user biometric characteristics as the basis of big data analysis. For example, the biometric characteristics of the users, the selection of the commodity, and corresponding identity characteristic are all recorded in the central system. Going forward, the social researchers may be able to determine whether certain commodities affect healthiness of the public based on the correlation between commodity preference and personal health records. Furthermore, the big data analysis result may be provided from the central system to the control module <b>210</b> through the communication module <b>200</b>, allowing the control module <b>210</b> to determine new commodities recommendable to the user. The recommendation of new commodities can be displayed by the user interface <b>300</b>. In other words, a user customized marketing/promotion mechanism can be implemented based on the big data analysis. As an additional function, when the transaction is successfully completed, the control module <b>210</b> may store the user biometric characteristics and the corresponding selection of commodities, that is, to remember the user's face and the purchased commodity. When the user uses the vending machine <b>100</b> again, the last purchased commodities may be presented as a default selection to facilitate the transaction process.</p><p id="p-0057" num="0056">In a specific embodiment, the restricted commodity is referred to as cigarettes, with various types including at least traditional type, non-combustible heated type, and atomized electronic type. A value adding service may be further provided with the embodiment. A cigarette heater module <b>102</b> can be deposited in the vending machine <b>100</b>, controlled by the control module <b>210</b> to ignite or heat the purchased cigarettes. When the inventory module <b>500</b> provides the cigarettes to the user, the control module <b>210</b> may activate the cigarette heater module <b>102</b> for the user to ignite the purchased cigarettes.</p><p id="p-0058" num="0057">As mentioned above, the vending machine <b>100</b> of the embodiment provides multiple options to pay. Payments through contactless technology or mobile applications are both supported. For example, the communication module <b>200</b> in the vending machine <b>100</b> may support at least one of the following communication protocols: Bluetooth, WLAN (Wireless Fidelity; Wi-Fi), NFC, or RFID. In implementations of contactless payments, users may choose to use the Bluetooth, WLAN, NFC on the mobile phone, or IC cards and proximity cards with RFID, to make payments through the communication module <b>200</b> using a contactless protocol. In addition, the vending machine <b>100</b> comprises a display <b>310</b> configured to display not only the commodity menu. During a payment process, the display <b>310</b> also displays two-dimensional barcodes for the mobile app such as WeChat or bank apps to make the payment. When the user chooses to pay by traditional cash, the vending machine <b>100</b> of the embodiment is also equipped with a traditional cash management module to perform the transaction.</p><p id="p-0059" num="0058">The cash management module <b>600</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref> enables a traditional way of payment by cash. The basic operation comprises a cash reception module <b>602</b>, adaptable for receiving coins or banknotes while determining the authenticities thereof. The money safe <b>604</b> is reinforced with enhanced security and is adaptable for storing received cash. To process change returning, a mechanism to spit the changes can be deployed. A security control module <b>606</b> is adaptable for monitoring whether the integrity of the cash management module <b>600</b> is compromised. Once any module in the cash management module <b>600</b> is found affected by external forces or malfunctions, the communication module <b>200</b> is immediately triggered to issue a warning to the central system. In specific implementation of the cash management module <b>600</b>, a large number of known technologies have been existed. The embodiment is an enhanced application based on the know art, and therefore the detailed descriptions are omitted herein.</p><p id="p-0060" num="0059">In a further embodiment of the vending machine <b>100</b>, the inventory module <b>500</b> is adaptable for checking remaining commodities in stock. The function blocks in the inventory module <b>500</b> can be subsequently subdivided into a monitor module <b>510</b>, a warehouse module <b>520</b>, a provision module <b>530</b>, and a destruction module <b>540</b>. The warehouse module <b>520</b> is a device that actually stores the commodities. The monitor module <b>510</b> monitors the number of remaining commodities of each type stored in the warehouse module <b>520</b>. After the user completes the payment, the provision module <b>530</b> retrieves the selected commodity from the warehouse module <b>520</b>, and then provides the selected commodity through a cigarette exporting gate on the vending machine <b>100</b>. Every time a commodity is sold, a corresponding commodity counter in the monitor module <b>510</b> is decremented. When the number of remaining commodity of any type in the warehouse module <b>520</b> is lower than a threshold, the communication module <b>200</b> in the vending machine <b>100</b> is triggered to send a low stock notification to the central system, so that the customer service system can schedule a subsequent replenishment process. The monitor module <b>510</b> can be implemented by a mechanically triggered counter. To enable the capability to recognize the barcodes on the box of the commodity, an intelligent design of the monitoring function may be implemented with a microprocessor and a sensor executing a particular software application. The monitor module <b>510</b> in the embodiment of the present invention is therefore based on the intelligent design, such that the inventory module <b>500</b> is enabled to track the expiration dates of the commodities in stock. An expiration date is generally displayed on the barcodes of a box, and the monitor module <b>510</b> in this embodiment is designed to calculate the total number of commodities when the commodities are loaded into the warehouse module <b>520</b>, and simultaneously scan the barcodes on the box. The expiration dates encoded in the barcodes on the box of each commodity may be stored in the memory device <b>220</b>. As the days go by, when any commodity in the warehouse module <b>520</b> is expired, the vending machine <b>100</b> can stop the vending service, or automatically destroy/recall the expired commodity. For example, in the provision module <b>530</b> of the vending machine <b>100</b>, in addition to a channel providing commodities to users, a dedicated channel for destruction can also be designed, and a destruction module <b>540</b> can pick up the expired commodity from the warehouse module <b>520</b> and transfer them to a recalling bin, in which the expired commodities are tentatively stored until removal by the maintainer. In a further implementation, a simple destruction chamber, such as a paper shredding mechanism, or a small incinerator, can be built in the destruction module <b>540</b> to achieve the purpose of destroying the expired commodities.</p><p id="p-0061" num="0060">Both the inventory module <b>500</b> and the cash management module <b>600</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref> are most vulnerable to theft attack, and therefore a self-protection mechanism is crucial. When the control module detects that there is a payment abnormality during the user's operation, or that any insurance module in the vending machine <b>100</b> is damaged or functionally abnormal, the communication module <b>200</b> is triggered to immediately send a warning notice to the central system. For example, when someone uses counterfeit cash to trade, or destroys the machine hardware in the inventory module <b>500</b> and/or the cash management module <b>600</b>, the vending machine <b>100</b> may record the biometric characteristics sampled by the sensor <b>302</b> at the moment, and report to the customer service system <b>130</b> and/or the public security system <b>140</b> through the communication module <b>200</b>.</p><p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart of the vending method according to an embodiment of the application. The principle of operations based on the architecture of the vending machine <b>100</b> introduced in <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref> can be summarized as the flowchart in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. Firstly, in step <b>301</b>, a sensor <b>302</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref> samples the user biometric characteristics. The vending machine <b>100</b> uploads the sampled user biometric characteristics to the central system. In step <b>303</b>, the communication module <b>200</b> receives a search result of the central system searching the database according to the biometric characteristics, and the control module <b>210</b> determines whether the user's identity characteristics meet a condition. When the condition is met, the process goes to step <b>305</b>, wherein the restricted commodities are displayed on the commodity menu of the display <b>310</b>. On the other hand, when the condition is not met, or the identity is undeterminable, step <b>307</b> is performed, wherein the restricted commodity is not displayed on the commodity menu of the display <b>310</b>. In either case, step <b>309</b> is processed, wherein a selection signal is generated by the user selecting a commodity on the commodity menu displayed on the display <b>310</b>. When the commodity is selected, the payment process of step <b>311</b> is processed. Finally, when the payment is successfully completed in step <b>313</b>, the selected commodity may be provided to the user through a cigarette exporting gate on the cigarette vending machine <b>400</b> by the provision module <b>530</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a diagram of a cigarette vending machine <b>400</b> according to an embodiment of the application. In <figref idref="DRAWINGS">FIG. <b>4</b></figref>, a cigarette vending machine <b>400</b> is a multi-type composite vending machine, comprising a plurality of machine bodies. Each machine body is electrically connected to the control module <b>210</b>. The restricted commodities in the foregoing embodiments may further include multiple types, and the restricted commodities of each type are stored in different machine bodies. In <figref idref="DRAWINGS">FIG. <b>4</b></figref>, for example, a cigarette vending machine <b>400</b> may provide a variety of types of commodities, for example: traditional type, non-combustible heated type and atomizing type. Furthermore, the cigarette vending machines <b>400</b> may also sell other commodities, such as beverages, chewing gum, snacks and so on. Nevertheless, the embodiment of the vending machine <b>400</b> is particularly designed to facilitate sales of age restricted commodities.</p><p id="p-0064" num="0063">For example, the cigarette vending machine <b>400</b> can be equipped with at least 4 sets of multi-functional sensors <b>302</b>. <figref idref="DRAWINGS">FIG. <b>4</b></figref> shows only one sensor <b>302</b> as a representative for easy demonstration, though, the actual number of sensors <b>302</b> and layout is not constrained by the figure of the embodiment, wherein any feasible variation in design is allowed. Each sensor <b>302</b> is configured to sample the user biometric characteristics, such as facial characteristics, within a range of 3 meters. Through software algorithms, the embodiment can realize automatic face tracking in a range of 3 to 5 meters. The images sampled by the sensor <b>302</b> can be uploaded within 5 seconds to the central system, such as the customer service system <b>130</b> or the public security system <b>140</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The customer service system <b>130</b> may belong to a cigarette administrative authority or a unit of a manufacturer. In the central system, there is a pre-established database, comprising user profiles including the faces, ID numbers and corresponding ages. After comparing the uploaded facial images, the central system can return a comparison result, so that the cigarette vending machine <b>400</b> can determine whether the cigarette can be sold to the current user.</p><p id="p-0065" num="0064">In one embodiment, the commodity selection panel <b>410</b> on the cigarette vending machine <b>400</b> may be a liquid crystal display or light emitting diode display same as the display <b>310</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, displaying available commodities for users to choose. Only when a user is determined qualified to buy cigarettes, the commodity selection panel <b>410</b> displays cigarettes in the commodity menu for user selection. In a further embodiment, since alcoholic beverages are also age-restricted commodities, the embodiments can be extended to alcoholic beverages, not limited to cigarettes.</p><p id="p-0066" num="0065">In the embodiment of cigarette vending machine <b>400</b>, different types of commodities can be displayed separately in different commodity selection panels <b>410</b>. For example, the traditional type <b>402</b>, the non-combustible heated type <b>404</b>, and the atomizing type <b>406</b>. The user may first select a favorite brand, and based on which, the commodity selection panel <b>410</b> displays a variety of flavors in the brand for further selection.</p><p id="p-0067" num="0066">On the other hand, when the user is underage and unqualified to buy age restricted commodities, the commodity selection panel <b>410</b> may only display unrestricted commodities for all ages, such as drinks, snacks and so on. In this way, the user may select one of the displayed commodities through a console <b>306</b>. The console <b>306</b> can be a touch screen or a plate with mechanic buttons. In a further embodiment, the cigarette vending machine <b>400</b> may provide a microphone <b>304</b> for receiving voice commands from the user to realize a man-machine dialogue function. For example, the cigarette vending machine <b>400</b> may comprise a control module <b>210</b> and a processor <b>230</b> as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, for executing program codes <b>222</b> stored in the memory device <b>220</b> to recognize user speech command input via the console <b>306</b>, so as to determine the user's selection on the commodities. Since the cigarette vending machine <b>400</b> may be placed in an outdoor noisy environment, the microphone <b>304</b> is not limited to one set in this embodiment, and it may be a microphone array comprising multiple sets of directional microphones and omni-directional microphones which can filter background noise in a noisy environment to clearly sample human speech. In a further implementation, one or more speakers <b>308</b> may be included in the cigarette vending machine <b>400</b> to directly interact with the user with sounds. The number and configuration of the speakers <b>308</b> in <figref idref="DRAWINGS">FIG. <b>4</b></figref> are only exemplary, and the actual implementation can be arranged with any feasible variations not limited to those shown in the figure.</p><p id="p-0068" num="0067">In a further embodiment, the cigarette vending machine <b>400</b> of <figref idref="DRAWINGS">FIG. <b>4</b></figref> can implement customized services based on facial recognition. When the user uses the cigarette vending machine <b>400</b> more than once, the user can be automatically recognized, so that the user's favorite choice is automatically presented as a default selection based on statistics of past transaction records. More specifically, the cigarette vending machine <b>400</b> in <figref idref="DRAWINGS">FIG. <b>4</b></figref> can also sample the user's vocal characteristics or other biometric characteristics associated with the facial characteristics, and store the aforementioned characteristics in the database of the central system. This helps strengthening the accuracy of identification in future transactions. The user's transaction records can also be retained in the cigarette vending machine <b>400</b> for big data analysis. According to the user's transaction record, the user's frequent selections, or a new commodity that may suit the user's favorite taste, can be automatically displayed in the menu for a regular user who uses the cigarette vending machine <b>400</b> multiple times. In other words, an intelligent marketing analysis function is implemented in the cigarette vending machine <b>400</b>, which can also provide customized preferential policies for specific users. For example, the cigarette vending machine <b>400</b> can recommend new commodity under promotion according to personal taste preferences, and offer free gifts, such as a cigarette capsule.</p><p id="p-0069" num="0068">The user can make payments through the payment module <b>414</b>. The payment module <b>414</b> of the embodiment supports contactless payment, for example, wireless technologies such as Bluetooth, wireless network, NFC, RFID and other contactless protocols may be employed to conduct transactions with the user's mobile device, IC card or proximity card. The payment module <b>414</b> also supports online electronic payment, using barcode scanning applications such as WeChat, Alipay, UnionPay and other APPs. For users who have only traditional cash, the payment module <b>414</b> can also provide traditional coin or paper cash payment. When the payment is successfully performed, the selected cigarette is provided from the cigarette exporting gate <b>416</b>, allowing the user to take.</p><p id="p-0070" num="0069">As a further value adding service, the cigarette vending machine <b>400</b> also provides a voice-controlled cigarette heater function, allowing the purchased cigarette to be instantaneously unboxed and ignited. For example, a cigarette heater module <b>102</b> is designed on the cigarette vending machine <b>400</b>. When the user completes the transaction, the cigarette vending machine <b>400</b> can be instructed to activate the cigarette heater module <b>102</b> through the console <b>306</b> or voice commands, helping the user to ignite or heat the cigarette commodity just acquired. To achieve the embodiment, the microphone <b>304</b> can also be configured to receive the user's voice command about igniting a cigarette. A specific implementation of the cigarette heater module <b>102</b> may adapt the design of existing car cigarette lighters with customized modification and integration.</p><p id="p-0071" num="0070">Further, a communication module <b>200</b> (as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>) is built in the cigarette vending machine <b>400</b>, which can be connected to the central system through a wireless network or a wired network. The inventory module <b>500</b> (as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>) in the cigarette vending machine <b>400</b> is responsible for monitoring commodities in stock. According to the proposed design, the vendors can remotely monitor the commodities in the cigarette vending machine <b>400</b> through applications, so as to schedule the replenishment plan in advance.</p><p id="p-0072" num="0071">Since the cigarette vending machine <b>400</b> is designed to be placed around every corner of the city, usually in an outdoor environment, it can be equipped with a waterproof function such as IP68, so that the cigarette vending machine <b>400</b> is suitable for various indoor and outdoor working environments. On the other hand, since the cigarette vending machine <b>400</b> is usually unattended, an anti-theft function must be in place. When sabotage is detected, the cigarette vending machine <b>400</b> sends an alert signal to advise the spoiler by the commodity selection panel <b>410</b> and the speaker <b>308</b>, and the communication module <b>200</b> transmits a call for help to the security system <b>140</b>.</p><p id="p-0073" num="0072">In a conventional vending machine, the commodity selection panel <b>410</b> is not presented in a display, but rather a physical commodities reservoir windows, incorporated with light boards to display selectable items. Even in such a conventional mechanic architecture, the embodiments of the vending method are also applicable.</p><p id="p-0074" num="0073">Generally, the production date plus the shelf life equals to the expiration date. Regarding the expiration date control of the commodities, each commodity in the cigarette vending machine <b>400</b> can present the expiration information on the box in a form of barcodes. In the inventory module <b>500</b>, the monitor module <b>510</b> may identify some of the bar code at the time of commodity refilling, so as to build a file in the memory device <b>220</b>. The maintainer may also be allowed to remotely check the statuses of production dates and shelf lives through the app. As long as the commodity is still within the effective date, the commodity can be sold normally. When a commodity in the inventory module <b>500</b> is expired, the cigarette vending machine <b>400</b> may suspend the vending service, and inform the customer service system <b>130</b> through the communication module <b>200</b> to schedule a maintenance. Another way to deal with the expired commodity is to transport the expired commodity to a destruction module <b>540</b> by the provision module <b>530</b>. The destruction module <b>540</b> may be a recalling bin, a paper shredder, or a miniature incinerator. The monitor module <b>510</b> can also monitor the remaining commodities to ensure sufficient surpluses for all brands. For example, the monitor module <b>510</b> may comprise a microcontroller connected to a memory device and a counter, executing a software program to memorize the remaining quantity and expiration dates of each commodity. Although the embodiments of the present invention describe these functions in a modular manner, it is understandable that the implementations can be based on combinations of hardware and software.</p><p id="p-0075" num="0074">With the embodiments described, a cigarette vending machine <b>400</b> can effectively prevent under-ages from buying cigarettes. Users can buy their favorite commodity according to their brand preferences and type preferences.</p><p id="p-0076" num="0075">It is to be understood that the term &#x201c;comprises&#x201d;, &#x201c;comprising&#x201d;, or any other variants thereof, is intended to encompass a non-exclusive inclusion, such that a process, method, article, or device of a series of elements not only include those elements but also comprises other elements that are not explicitly listed, or elements that are inherent to such a process, method, article, or device. An element defined by the phrase &#x201c;comprising a . . . &#x201d; does not exclude the presence of the same element in the process, method, article, or device that comprises the element.</p><p id="p-0077" num="0076">Although the present invention has been explained in relation to its preferred embodiment, it does not intend to limit the present invention. It will be apparent to those skilled in the art having regard to this present invention that other modifications of the exemplary embodiments beyond those embodiments specifically described here may be made without departing from the spirit of the invention. Accordingly, such modifications are considered within the scope of the invention as limited solely by the appended claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A vending machine for storing and selling commodities, comprising:<claim-text>a control module, comprising a processor executing program codes to provide a vending service;</claim-text><claim-text>a user interface, connected to the control module, comprising a sensor sampling biometric characteristics of a user;</claim-text><claim-text>a communication module, connected to the control module, comprising a wireless transceiver configured to receive commands from the control module, and communicate with a central system or the user; wherein:</claim-text><claim-text>the control module is configured to drive said sensor to capture the biometric characteristics of the user, and upload the biometric characteristics to the central system through the communications module, wherein the central system comprises a database storing associations of biometric characteristics and identity characteristics corresponding to one or more users; and</claim-text><claim-text>the control module is configured to receive, through the communication module, a search result from the database based on the biometric characteristics of the user, to determine commodities authorized for sale.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The vending machine as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the control module is configured to determine, according to the search result, whether an identity characteristic corresponding to the biometric characteristics of the user satisfies a first condition; and</claim-text><claim-text>when the identity characteristic satisfies the first condition, the control module is configured to generate a command to provide a restricted commodity based on the identity characteristic.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The vending machine as claimed in <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein when the identity characteristic is undeterminable or does not satisfy the first condition, the control module is configured to not generate the command to provide the restricted commodity.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The vending machine as claimed in <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the user interface further comprises a display, a microphone, a console, and a speaker, and the user interface is configured by the control module for accepting a selection signal on the commodities.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The vending machine as claimed in <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising:<claim-text>an inventory module, connected to the control module, adaptable to manage storage, expiration dates and provision of the commodities;</claim-text><claim-text>a cash management module, connected to the control module, adaptable to manage storage, reception and return of cash; wherein when the user interface receives a selection signal, the control module initiates a payment process to receive a payment corresponding to the selection signal via the communication module or the cash management module; and</claim-text><claim-text>upon successful conclusion of the payment, the control module instructs the inventory module to provide commodities selected by the selection signal.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The vending machine as claimed in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein:<claim-text>the inventory module is adaptable for checking remaining commodities in stock; and</claim-text><claim-text>the control module is adaptable for determining whether a number of the remaining commodities is lower than a threshold, and sending a low inventory notification to the central system through the communication module when a number of the remaining commodities is lower than a threshold.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The vending machine as claimed in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein:<claim-text>the inventory module is adaptable for tracking expiration dates of the commodities in stock; and</claim-text><claim-text>when one of the commodities is expired, the control module is adaptable for suspending the vending service in the vending machine or recalling the one of the commodities.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The vending machine as claimed in <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein:<claim-text>the user interface further comprises a microphone, and the sensor comprises at least one of a camera, a scanner, and a fingerprint sensor;</claim-text><claim-text>the biometric characteristics comprises facial images captured by the camera, retinal images acquired by the scanner, fingerprints sampled by the fingerprint sensor, or voice sampled by the microphone;</claim-text><claim-text>the identity characteristics comprise age of users; and</claim-text><claim-text>the first condition comprises an age of the user being greater than or equal to a certain threshold.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The vending machine as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the communication module is configured to transmit the selection signal back to the database of the central system, to be associated with the biometric characteristics as a basis for the central system to perform big data analysis, and the central system comprises at least one of a customer service system or a public security system.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The vending machine as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the control module is configured to detect alerts generated from problematic payments or module damage, and send a warning notification to the central system when the alerts are detected.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The vending machine as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control module further comprises a memory device, storing associations of the biometric characteristics and the selection signal on the commodities.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The vending machine as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the communication module is in compliance with at least one of the following communication protocols: Bluetooth, Wireless Local Area Network, Near Field Communication, and Radio Frequency Identification; and</claim-text><claim-text>the control module is configured to provide an electronic payment mode and a cash payment mode.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The vending machine as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a plurality of machine bodies, electrically connected to the control module; wherein:<claim-text>the commodities comprise restricted commodities, the restricted commodities comprise multiple types, and</claim-text><claim-text>the multiple types of restricted commodities are respectively stored in the multiple machine bodies.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The vending machine as claimed in <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising a heater, controlled by the control module, wherein when the control module generates a command to provide the restricted commodity, the control module activates the heater to heat the restricted commodity.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A vending method for a vending machine, wherein the vending machine stores and sells commodities, and the vending method comprises:<claim-text>receiving a selection signal for purchasing a commodity;</claim-text><claim-text>sampling biometric characteristics of a user entering the selection signal; and</claim-text><claim-text>uploading the biometric characteristics to a central system, wherein:</claim-text><claim-text>the central system comprises a database storing associations of biometric characteristics and identity characteristics corresponding to one or more users;</claim-text><claim-text>the control module is configured to receive, through the communication module, a search result of searching the database by the central system according to the biometric characteristics, to determine commodities authorized for sale.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The vending method as claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, further comprising:<claim-text>receiving the search result to determine whether an identity characteristic corresponding to the biometric characteristics of the user satisfies a first condition; and</claim-text><claim-text>when the identity characteristic satisfies the first condition, generating a command to provide a restricted commodity based on the identity characteristic.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The vending method as claimed in <claim-ref idref="CLM-00016">claim 16</claim-ref>, further comprising:<claim-text>when the identity characteristic is undeterminable or does not satisfy the first condition, not generating the command to provide the restricted commodity.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The vending method as claimed in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein:<claim-text>the biometric characteristics comprise at least one of facial images, voice, retinal images and fingerprints of the user;</claim-text><claim-text>the identity characteristics comprise ages of users; and</claim-text><claim-text>the first condition comprises an age of the user being greater than or equal to a certain threshold.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The vending method as claimed in <claim-ref idref="CLM-00016">claim 16</claim-ref>, further comprising:<claim-text>transmitting the selection signal to the database of the central system, to be associated with the biometric characteristics as a basis for the central system to perform big data analysis;</claim-text><claim-text>wherein the central system comprises at least one of a customer service system or a public security system.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The vending method as claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein:<claim-text>the vending machine comprises a plurality of machine bodies, electrically connected to the control module;</claim-text><claim-text>the restricted commodities comprise multiple types, and</claim-text><claim-text>the multiple types of restricted commodities are respectively stored in the multiple machine bodies.</claim-text></claim-text></claim></claims></us-patent-application>