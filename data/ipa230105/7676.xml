<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007677A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007677</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17898313</doc-number><date>20220829</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>12</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>04</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>5</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>88</main-group><subgroup>06</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>27</main-group><subgroup>26</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>48</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>1278</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>0446</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>0453</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>5</main-group><subgroup>0007</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>88</main-group><subgroup>06</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>27</main-group><subgroup>2678</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>48</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">Elastic Scheduling</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16800263</doc-number><date>20200225</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11432314</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17898313</doc-number></document-id></child-doc></relation></continuation><continuation-in-part><relation><parent-doc><document-id><country>US</country><doc-number>15339916</doc-number><date>20161031</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11122559</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>16800263</doc-number></document-id></child-doc></relation></continuation-in-part><us-provisional-application><document-id><country>US</country><doc-number>62249210</doc-number><date>20151031</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Parallel Wireless, Inc.</orgname><address><city>Nashua</city><state>NH</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Mishra</last-name><first-name>Rajesh Kumar</first-name><address><city>Westford</city><state>MA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Papa</last-name><first-name>Steven Paul</first-name><address><city>Windham</city><state>NH</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Agarwal</last-name><first-name>Kaitki</first-name><address><city>Westford</city><state>MA</state><country>US</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Donepudi</last-name><first-name>Sridhar</first-name><address><city>Nashua</city><state>NH</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method for scheduling resources in a network where the scheduling activity is split across two nodes in the network is disclosed, comprising: receiving, from a local scheduler in a first radio access network, access network information at a global scheduler; accessing information regarding a second radio access network allocating, at the global scheduler, resources for secondary allocation by the local scheduler; applying a hash function to map the allocated resources for secondary allocation to a set of hash values; and sending, from the global scheduler, the set of hash values to the local scheduler.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="138.51mm" wi="154.26mm" file="US20230007677A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="156.29mm" wi="158.75mm" orientation="landscape" file="US20230007677A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="190.58mm" wi="153.59mm" orientation="landscape" file="US20230007677A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="120.82mm" wi="149.94mm" orientation="landscape" file="US20230007677A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="122.26mm" wi="155.79mm" orientation="landscape" file="US20230007677A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="115.32mm" wi="155.87mm" orientation="landscape" file="US20230007677A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="192.62mm" wi="145.97mm" orientation="landscape" file="US20230007677A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="192.28mm" wi="133.27mm" orientation="landscape" file="US20230007677A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="158.33mm" wi="127.08mm" orientation="landscape" file="US20230007677A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation of U.S. application Ser. No. 16/800,263, filed Feb. 25, 2020, which is a continuation-in-part of, and claims priority under 35 U.S.C. &#xa7; 120 to, U.S. Pat. application Ser. No. 15/339,916, titled &#x201c;Elastic Scheduling&#x201d; and filed on Oct. 31, 2016, which itself claims the benefit of priority under 35 U.S.C. &#xa7; 119(e) to U.S. Provisional Pat. App. No. 62/249,210, titled &#x201c;Elastic Scheduling&#x201d; and filed Oct. 31, 2015, each of which is hereby incorporated by reference in its entirety for all purposes. In addition, the present application hereby incorporates by reference each of the following patent applications: U.S. Provisional Pat. App. No. 62/278,319 (PWS-71808US00), U.S. Pat. No. 8,867,418 (PWS-71710US01), U.S. Pat. App. Pub. Nos. US20140086120 (PWS-71700US01), US20150045063 (PWS-71727US01), US20150257051 (PWS-71756US01), US20150094114 (PWS-71729US01), US20160135132 (PWS-71775US01), and US20160081082 (PWS-71778US01), and U.S. patent application Ser. Nos. 14/868,074 (PWS-71780US01) and 14/828,432 (PWS-71771US01), in their entirety for all purposes. In addition, U.S. Patent Publication No. 20190364616 A1; U.S. patent application Ser. No. 16/733,947; and International Patent Publication No. WO2019209922 are also hereby incorporated by reference in their entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0003" num="0002">Recently, it has become possible to create ad-hoc mesh networks that provide access to a cellular network, such as a Long Term Evolution (LTE) core network. The mesh networks may use backhaul that is wired or, in some cases, wireless using Wi-Fi or the LTE protocol itself (LTE backhaul), as described in U.S. Pat. No. 8,867,418 and U.S. Pat. Pub. No. US20150045063, for example, which are hereby incorporated by reference in their entirety. The use of mesh and wireless backhaul enables deployment of base stations in locations where they would otherwise not be able to be deployed.</p><p id="p-0004" num="0003">Such mesh nodes need coordination for scheduling, particularly for scheduling backhaul radio transmissions. For instance, it is possible that one mesh node may interfere with another neighboring node. Certain protocols have been devised for inter-cell interference coordination (ICIC) to mitigate this problem. One approach to mitigation is to schedule activity on different frequencies or timeslots than are being used at nearby nodes.</p><p id="p-0005" num="0004">However, latency is a problem for providing sophisticated ICIC and scheduling capabilities in a wireless network. The LTE standard requires all activity to be scheduled by the base station to within 1 ms (1 ms is thus referred to as the transport time interval, or TTI). It is difficult to provide scheduling that incorporates information from a network management gateway within 1 ms because the latency on communication between the base station and any node in the core network tends to entail single-digit millisecond latency or more. Reducing latency is expensive, as it requires, for example, installation of expensive high-speed fiber-optic backhaul connections for each node.</p><p id="p-0006" num="0005">A need therefore exists for a way to perform scheduling that is more flexible than existing methods.</p><heading id="h-0003" level="1">SUMMARY</heading><p id="p-0007" num="0006">In one embodiment, a method may be disclosed, comprising: receiving, from a local scheduler in a first radio access network, access network information at a global scheduler; accessing information regarding a second radio access network allocating, at the global scheduler, resources for secondary allocation by the local scheduler; applying a hash function to map the allocated resources for secondary allocation to a set of hash values; and sending, from the global scheduler, the set of hash values to the local scheduler.</p><p id="p-0008" num="0007">The local scheduler may be located at a Long Term Evolution (LTE) eNodeB and wherein the global scheduler may be located at a core network gateway. The local scheduler may be located at an ad-hoc multi-radio access technology (multi-RAT) base station, and wherein the global scheduler may be located at a radio access network (RAN) gateway node positioned between the ad-hoc multi-RAT base station and an operator core network, and wherein the first radio access network may be a cell. The hash function may be one of modulus, cyclic redundancy check, MD5, SHA1, or SHA-256. The set of hash values further may further comprise scheduling hints, access lists, exclusion lists, or handover predictions for the local scheduler.</p><p id="p-0009" num="0008">The method may further comprise accessing information regarding a plurality of radio access networks coupled to one or more core networks. The access network information further may further comprise channel usage information, signal strength information, interference information, or neighbor status information. The access network information further may further comprise user equipment (UE) measurement reports for a UE attached to the first radio access network. The access network information further may further comprise automatic neighbor relation lists from base stations in the first radio access network.</p><p id="p-0010" num="0009">The method may further comprise resolving contention between the local scheduler and a second local scheduler regarding resources to be secondarily allocated at either the local scheduler or the second local scheduler. The method may further comprise sending, from the global scheduler, a single hash value to multiple base stations to permit a user equipment (UE) to be handed over without changing a channel or frequency. The method may further comprise allocating a majority of the resources at the local scheduler for secondary allocation by the local scheduler, and holding back resources at the local scheduler for priority users, and holding back additional resources at the local scheduler for cell edge users. The method may further comprise sending, from the global scheduler, a new set of hash values to provide scheduling hints and to invalidate the prior-transmitted set of hash values. The method may further comprise periodically updating the allocated resources and repeatedly sending the set of hash values at intervals.</p><p id="p-0011" num="0010">The method may further comprise receiving, from the local scheduler, requests for resources; allocating, at the global scheduler, the requested resources; and sending, from the global scheduler, a set of hash values reflecting the requested resources to the local scheduler. The method may further comprise receiving, from the local scheduler, requests for resources; and coordinating, at the global scheduler, resource requests from a second local scheduler to prevent the second local scheduler from using the resources requested by the local scheduler.</p><p id="p-0012" num="0011">In another embodiment, a system for allocating resources within a network is disclosed, comprising: a coordinating gateway coupled to a base station and providing connectivity for the base station as a gateway to an operator core network, the base station providing access to a user equipment (UE), the coordinating gateway further comprising: a scheduling module for allocating resources to the base station; a hash function module for applying a hash function to map the allocated resources for secondary allocation by the base station to a set of hash values; and a coordination module to receive resource allocation requests from a plurality of base stations and to coordinate the received allocation requests.</p><p id="p-0013" num="0012">The system may further comprise the base station. The base station may further comprise a Long Term Evolution (LTE) eNodeB for providing access to a user equipment (UE) in an LTE radio access network (RAN), the base station further comprising a local scheduler for secondarily allocating resources according to instructions from the coordinating gateway, and a communications module for forwarding UE measurement reports and base station automatic neighbor relations (ANR) information to the coordinating gateway. The base station may further comprise multi-radio access technology (multi-RAT) functionality, the multi-RAT functionality comprising 3G and Wi-Fi functionality. The base station may further comprise an ad-hoc cellular base station.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic drawing of performing interference coordination at a centralized gateway in a wireless network, in accordance with some embodiments.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram of scheduling performed at a gateway and at a base station, in accordance with some embodiments.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic diagram showing access nodes in a wireless access network, in accordance with some embodiments.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a further schematic diagram showing access nodes in a wireless access network, in accordance with some embodiments.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flowchart of a scheduling coordination method, in accordance with some embodiments.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of an enhanced eNodeB, in accordance with some embodiments.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of a coordinating node incorporating a global scheduler, in accordance with some embodiments.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a system architecture diagram of an exemplary network configuration, in accordance with some embodiments.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION</heading><p id="p-0022" num="0021">Ad hoc networks, mesh networks and multi-hop networks pose problems for centralized scheduling and access control methods. In general, the medium access control protocols in ad hoc networks have to combat two problems, namely, the &#x201c;hidden terminal problem&#x201d; or &#x201c;hidden node problem,&#x201d; in which a node is visible to an access point but not to other nodes communicating with that access point, and the &#x201c;exposed terminal problem,&#x201d; in which one node is prevented from transmitting because it erroneously concludes by carrier sense that its transmission would be detected as an interferer by an exposed terminal node.</p><p id="p-0023" num="0022">On the other hand, deterministic access schemes set up timetables for individual nodes or links, such that the transmissions from the nodes or over the links are conflict-free in the code, time, frequency or space divisions of the channel. The schedules for conflict-free channel access can be established based on the topology of the network, or it can be topology independent. Deterministic access in real-world LTE systems require tight latency requirements. The method described herein allows relaxation of those requirements.</p><p id="p-0024" num="0023">A solution proposed in this application is to coordinate scheduling among base station nodes in conjunction with a central coordinating node. The method described herein may be used for ad hoc networks, and also for regular centralized networks. Some scheduling activity may be performed at the coordinating node, as a global scheduler with a high-level, top-down view of the entire network, while low-latency scheduling activity may be performed by the base station nodes themselves as a local scheduler. Coordinating which node will handle which aspect of scheduling activity is performed by an access control method that incorporates node-activated multiple access (NAMA) technologies. Each node may use a hash function to distribute scheduling tasks among the multiple nodes. As scheduling is split between the local and global schedulers, and as the scheduling load may be moved backward and forward at any time, the scheduling is referred to as elastic.</p><p id="p-0025" num="0024">In modern cellular network scheduling, the RAN typically performs all scheduling. For example, in LTE, the eNodeB is solely responsible for scheduling the use of resource blocks. The eNodeB has information about each mobile device, or user equipment (UE), that it is serving by receiving periodic measurement reports as specified in the LTe standard. Latency considerations make it difficult to move the scheduler off of the eNodeB or RAN. LTE performs scheduling every 1 ms, so scheduling at another network node is difficult without dedicated high-speed backhaul.</p><p id="p-0026" num="0025">However, this may result in locally optimized scheduling that is not well-optimized when looking at multiple base stations together. Two base stations may interfere, or a handover may result in a UE being moved disruptively from one frequency to another. A technique is described herein that is akin to techniques used in mesh and ad-hoc networks, which use coordination between nodes for scheduling.</p><p id="p-0027" num="0026">In some embodiments, the local scheduler may receive hints or instructions from a coordinating node, such as a core network node. Scheduling is still performed at the base station; however, with the addition of hinting information from the coordinating node it is possible to produce schedules that are more suitable for the network as a whole. A scheduler that operates on this principle is described herein, including two components: a global scheduler (potentially at a network node in the core network) and a local scheduler (at the RAN or eNB).</p><p id="p-0028" num="0027">Information in the network may flow to the global scheduler via the base station. A UE remains the source of real-time information regarding interferers at the location of the UE. UE measurement reports may also send information about other base stations that are able to be seen, which provides information to the global scheduler about which base stations are reachable from which locations. The UE also provides information about signal strength. This is helpful in allowing the global scheduler to understand whether a UE is at the cell center or at the cell edge. The UE may also provide information regarding its data and mobility needs, for example, regarding future handover or requested data rate, and this may be taken into account by the global scheduler. In some embodiments, the coordinating server hosting the global scheduler may be a gateway between the RAN and the core network, and may be in the data path for control plane messages, such as handover messages, and these messages may also be integrated.</p><p id="p-0029" num="0028">Once information regarding, e.g., cell edge/cell center, interferers, usage, and mobility is received at the global scheduler from UEs as measurement reports via the base station, the global scheduler may perform allocation of resources. Allocation may be performed on a global basis, across multiple base stations, thereby providing the advantages of coordination described herein. Allocation may be based on any of the preceding factors, UE priority, service type priority, public safety priority, or other factors. Allocation may be based on predictions of any of the above, derived from statistical analysis or heuristics. Prediction may be based on &#x201c;big data,&#x201d; e.g., any and all data that has been collected and retained over a period of time to facilitate discovery of statistical connections in the data, such as are described by U.S. Pat. App. Pub. No. 20160135132(PWS-71775US01), hereby incorporated herein in its entirety for all purposes. Allocation may be based on load or resource usage, availability of resources in another radio access technology (e.g., UEs may be scheduled based on their ability to be handed over from 4G to 3G).</p><p id="p-0030" num="0029">In an exemplary allocation, 80% of the available resources may be allocated to the eNodeB to allocate at its local scheduler at its discretion. 10% of the resources may be reserved for cell edge usage, and 10% may be reserved for priority usage. In some embodiments, different percentages may be used. Once a resource is allocated, it is mapped to a hash value (or hash key), which the global scheduler may send to the base station local schedulers. Granting limited autonomy to the local scheduler provides the efficiencies of parallel processing while also eliminating the very tight latency requirement of total scheduling offload to a remote server. The methods described herein permit control of the bounds for this limited autonomy.</p><p id="p-0031" num="0030">In some embodiments, allocated resources may be turned into a value using an arbitrary hash function that serves to provide a unique or semi-unique value. Collisions between hash values are not considered, in these embodiments, and therefore are intended to be rare and are to be avoided. Via a set of different hash construction methods, such as constructing hash values based on a node's IP address which is unique within the RAN, or such as via the schemes described below at para. [0043], we can avoid collisions. Prepending a base station identifier also helps to reduce the likelihood of hash collisions. The hash values may simply be used as a flexible way to denote particular resources, and the resources assigned may be broad. By use of a hash function, a level of indirection is added that allows for the semantics of the interaction to be changed and for the system to be reconfigurable to interoperate with different radio access technologies, environments, etc. The hash function may be any mapping, but may particularly be a fast message digest generator that returns a random integer in a predetermined range, as described by Bao et al., in some embodiments, or one of the hash functions typically used for creating a checksum, in some embodiments, or a hash table, in other embodiments, or a cryptographic hash table, in some embodiments. Specific examples include simple modulus, CRC32 checksum, Adler32, Haval, MD2, MD4, MD5, SHA1, SHA-224, SHA-256, SHA-384, SHA-512, RIPEMD128, RIPEMD160, RIPEMD320, Tiger, Whirlpool and GOST3411.</p><p id="p-0032" num="0031">In some embodiments this allocation may be represented as follows. All resources available to be allocated may be mapped to a hash space. At the simplest conceptual level, one hash value (hash key) may represent a single resource block out of all the resource blocks (RBs) available to every eNodeB in the network. This resource block can be assigned to a base station by sending the hash key to the base station. In other embodiments, the mapping of keys to RBs may be unequal, such that certain hash values represent a larger number of resource blocks, helpful in the scenario described above in which 80% of resources are intended to be scheduled by the local scheduler. For example, one 20 MHz band in LTE constitutes 100 RBs, which may be used to generate 100 hash values, with 80 of those hash values being sent to the eNodeB for independent local allocation. Another example of an unequal mapping is a hierarchical hash mapping, in which one hash value is mapped to a plurality of other hash values, defining a hierarchy of greater- and lower-valued hash values.</p><p id="p-0033" num="0032">In other embodiments, the hash function may be designed in such a way that a particular resource block is mapped to the same hash value. Two requests to use the same resource may result in a hash collision, as in a hash table. This may provide efficiency gains in some embodiments for determining which of a large set of resource requests conflict with other resource requests.</p><p id="p-0034" num="0033">Resources may be resource blocks in LTE, in accordance with some embodiments. However, the term as used herein is meant to be interpreted broadly. For example, resources may include frequencies, timeslots, symbols, channels, carriers, or other transmission slots, or all of the above, managed as a superset at the global scheduler. Resources in orthogonal frequency division multiplexing (OFDM), Long Term Evolution (LTE), 3G (3GPP and non-3GPP), 2G, code division multiple access (CDMA), time division multiple access (TDMA), frequency division multiple access (FDMA), and other standards are intended to be included. In some embodiments, resources may not be scheduled, e.g., such as in Wi-Fi. However, in some embodiments, a Wi-Fi access point may be equipped with a local scheduler and may be configured to use the global scheduler described herein, and the resources may be timeslots on Wi-Fi channels, and the system described herein may be used in place of, or in conjunction with, the carrier sense multiple access (CSMA) contention resolution method that is part of the Wi-Fi standards.</p><p id="p-0035" num="0034">In some embodiments, other resources may be represented using the hash function, i.e., within the hash space. Single resource blocks, sets (blocks) of resource blocks, other-radio access technology (other-RAT) resources, percentages of resource blocks, percentages of processor load, network bandwidth, etc. may be assigned using special hash values. Other, non-resource information, such as access lists, exclusion lists, handover predictions, and other scheduling hints may also be turned into hash values and sent from the global scheduler. Special hashes could be used to designate high-priority UEs, or UEs that are about to be handed over, with the global scheduler having access to analytics that make it possible to predict handover, or handover request messages, or both. Mesh backhaul traffic may be assigned priority using special hashes. This allows the global scheduler to exert control over aspects of the radio access network that are traditionally off limits to the core network. For example, the global scheduler could provide different hints at different times of day, and could allocate or reserve a larger or smaller portion of the available resource blocks using these hints and instructions conveyed using the hash function.</p><p id="p-0036" num="0035">The global scheduler may, when assigning resources, evaluate resource allocation based on the whole network, or based on resources at all base stations which are specifically known to be visible based on UE measurement reports from the UEs attached to each base station. The global scheduler may allow a particular base station to use more or fewer resources. Assigning fewer resources to an eNodeB may help mitigate CPU or network load, congestion, or other load factors, for example. Assigning more or fewer resources may also enable optimal use of a dense heterogeneous network (hetnet) deployment, in some embodiments, enabling a macro cell to not use up the most desirable frequency resources, and permitting small cells to schedule resources at the cell center that are excluded from use by the macro cell.</p><p id="p-0037" num="0036">The global scheduler may break ties among base stations for contested resources, such as resources in contention across the set of visible base stations. Even though base station may have its own unique hash function space, the global scheduler may be aware of which resources conflict with other resources across base stations. The global scheduler may, in some embodiments, pool the resources for a base station and all of its neighbors, as determined based on received UE measurement reports, a priori configuration, prior-collected statistics, or another means. The global scheduler may look at each base station's one-hop neighbors, or two-hop neighbors, to create the hash list. This mechanism, drawn from the node activated multiple access (NAMA) paradigm, enables the global scheduler to consider only a subset of resources in the network at any given time.</p><p id="p-0038" num="0037">The contested resource may be detected at the global scheduler, and the global scheduler may make a determination about which base station should receive the resource. Ties may be broken based on one of the methods described herein and in the references incorporated herein, or using such data as: by priority, by calculating and summing the negative effects on a set of UEs or base stations, randomly, or by another means. Once a hash value (or hash key) is assigned to a resource, the global scheduler may send it to the base station local schedulers.</p><p id="p-0039" num="0038">Contests may occur, for example, when a resource is being used by a UE which is part of a cell edge. The UE may report the relative signal strength (for example, RSRP, RSSI, or another measurement) for each of its neighboring base stations, thereby making it possible for the global scheduler to identify the UE as being at the cell edge. Neighbor lists from automatic neighbor relation (ANR) reported by the base stations themselves and according to the LTE standard could also be used, as well as neighbor lists based on GPS coordinates, pre-configured relationships, etc. The global scheduler may then determine that its resources should be reserved for use by the serving cell and not be released for use by the interfering cell. The global scheduler may then assign to the interfering cell a set of hash keys that does not include the hash key for the resources being used by the UE at the cell edge.</p><p id="p-0040" num="0039">Hash values and hash keys may be prepended or postpended with, or may have embedded within them, identifiers or information about the cell, such as a base station identifier, an operator identifier or another identifier, to be used for performing priority determinations, so that the local and global scheduler may, for example, always provide priority to a macro base station over a small cell base station, or to increase uniqueness. In some embodiments a base station identifier may be prepended to the hash value, so that each hash value is unique to a particular base station. This allows multiple base stations to reuse the same resources (such as resource blocks). The global scheduler may keep track of which resources are the subject of an exclusion across cell boundaries, i.e., complementary resources are required to be used because a particular resource is being used in another cell.</p><p id="p-0041" num="0040">During operation, UEs may request, and base stations may provide, resources. Based on resources that are being consumed or about to be consumed, the base station may report usage and predictive usage information to the global scheduler, while simultaneously assigning local resources for immediate use, from a block of resources granted by the global scheduler for the local scheduler's exclusive control. This information may be used to identify resources for use at the global scheduler. In some embodiments, at any time when resources are identified for use at a particular base station, the global scheduler may determine which base stations are neighboring base stations, and assign complementary and non-overlapping resources at the neighboring base stations. The reservations (hash values) and exclusions (implemented by assigning other hash values to other eNodeBs for resources that are complementary to the reserved resources) generated at the global scheduler are then pushed to the relevant local schedulers with a small latency, for example, seconds or tens of seconds. The end result is that neighboring base stations may be assigned complementary resources and may not contend for the same resource.</p><p id="p-0042" num="0041">In some embodiments, the global scheduler may attempt to keep a UE on the same frequency across handover. This simplifies things for the UE and prevents, for example, causing the UE to move to a frequency or radio resource with less-desirable propagation characteristics, thus resulting in a dropped call. The global scheduler may in such a case permit the UE to use the same resource across multiple base stations. This may be done by assigning the particular resource at one base station prior to handover, identifying the time at which the handover will occur, and assigning the resource to the target cell following handover. The global scheduler may use UE handover information from the UE or the base station to determine at what time the handover will occur. In some embodiments this may be performed by assigning the same hash twice, to both the source and the target eNodeB, or by otherwise sharing the same hash across eNodeBs. The global scheduler may, in some embodiments, permit the use of the same resource by two neighboring base stations in the case of handover, if by doing so the same resource is in use by the same UE. The UE may retain the same hash value across multiple base station handovers. The global scheduler may attempt to determine what hash value can be retained across handovers, and may attempt to determine this desirable hash value prior to handover.</p><p id="p-0043" num="0042">In some embodiments, the global scheduler may assign resources based in part on a random seed value, such as the current time. By assigning resources randomly, the global scheduler may avoid a lack of dynamism in time slot/frequency slot distribution. This is important because not all frequencies are equally usable; some frequencies propagate well or poorly, and act differently in different environments; some resource blocks may be noisy because of localized interferers, etc. Instead, the global scheduler attempts to ensure that different base stations use different frequencies over time. The global scheduler may incorporate hints or learn information over time regarding what frequencies and time slots are more effective to use for which base stations.</p><p id="p-0044" num="0043">In some embodiments, the global scheduler may change schedules assigned to individual base stations over time. Hash keys may be sent every 5, 10, or 15 seconds, in some embodiments. Hash calculation and distribution frequency may be dependent on X2 protocol link latency or any other link latency, traffic conditions on the backhaul network, load and congestion on the access network, or other factors. Hash keys may have a time value embedded in them, postpended, or prepended, such that the base station is aware of when the hash key will expire. In some embodiments, hash keys may be revoked or invalidated by the global scheduler. In some embodiments, revocability is enabled by retaining an issued time timestamp on the hash key or having the issued time embedded in the hash key itself, and causing some or all hash keys to be invalidated as soon as a new hash key for that resource is received at the base station. In some embodiments, hash keys may also or alternatively be given expiration semantics such as time-to-live. In some embodiments, hash keys may also or alternatively be expressly revocable using a special instruction that includes the hash key value itself, which is available at the global scheduler. This mechanism enables the global scheduler to provide up-to-date, near-real-time scheduling hints across the entire network without requiring all base stations to have single-digit latency with the global scheduler.</p><p id="p-0045" num="0044">In some embodiments, the global scheduler may be in communication with a TV whitespace database. TV White Space (TVWS) refers to the unused TV channels between the active ones in the VHF and UHF spectrum. These are typically referred to as the &#x201c;buffer&#x201d; channels. In the past, these buffers were placed between active TV channels to protect broadcasting interference. It has since been researched and proven that this unused spectrum can be used to provide broadband Internet access while operating harmoniously with surrounding TV channels. In 2010, the FCC made this highly effective yet underutilized spectrum available for unlicensed public use. With the use of a database manager and a White Space radio, these channels can be used to access broadband Internet connectivity. While the United States and United Kingdom are the forerunners in developing this new technology, many other countries are following their lead, and TV White Space is on track for worldwide usage. Geolocation databases track which channels are available in each geographic region. There are currently four companies that operate white spaces databases: Telcordia, Spectrum Bridge, Key Bridge and Google. These databases enable querying whether a particular frequency is in use at a particular location, and return results in near-real-time.</p><p id="p-0046" num="0045">In some embodiments, the global scheduler may query an existing TVWS database (TVWS DB) and may use the results when performing scheduling. For example, given a base station/RAN that is capable of using TVWS, the base station may be assigned a hash corresponding to a TVWS frequency that is available at the present time. The global scheduler may send a request to the TVWS DB to register the frequency as unavailable.</p><p id="p-0047" num="0046">In some embodiments, a global scheduler as described herein may be adapted for use with or as a local or worldwide TVWS DB. The scheduler described herein has a number of advantages over the current TVWS DB system. Currently, the TVWS DB contains statically configured transmitting stations, infrequently updated, and stored only with a binary yes or no status that is not useful for sharing. The scheduler described herein can accommodate near-real-time assignment of unused spectrum; can handle overlapping spectrum demands, which is superior to the current system; and can dynamically change the mix of who gets which spectrum.</p><p id="p-0048" num="0047">In some embodiments, when performing scheduling, certain frequency bands may be designated as higher value or more scarce. This allows for the higher value frequencies to be provided using a tiering approach, where certain high priority users get to use the higher value spectrum. In some embodiments, CBRS/TVWS, 5 GHz unlicensed (Wi-Fi), other high-band Wi-Fi channels including 6+ GHz and 60+ GHz, etc. could be considered higher value spectrum for tiering purposes. In some embodiments, backhaul could be considered high priority uses or high priority users, including LTE License Assisted Access (LAA) or equivalents. In some embodiments, the use of TVWS may involve performing TVWS reservation/registration at a central node, and scheduling of the use of the TVWS spectrum partly at a RAN node or at a node in close proximity to the RAN. In some embodiments, mobility of devices across different nodes may also enable mobility of those devices across different spectrum, including in some embodiments high value spectrum, and including in some embodiments TVWS; this involves anchoring the devices (UEs, etc.) at a central node as described elsewhere herein, and performing mobility management and scheduling at least in part at that central node.</p><p id="p-0049" num="0048">In some embodiments, a hash value may be calculated by the global scheduler for allocation of a particular frequency resource, and this hash value may be distributed to a base station for use. The hash value has the qualities described herein, such as revocability, reusability via namespacing, low double-digit millisecond latency, etc. The hash value may be intermingled with other frequency resources at the same time, enabling a suitably equipped base station to use a greater amount of bandwidth as needed. In some embodiments, the global scheduler may interface with Google, etc.'s TVWS DB to keep them up to date, to perform registrations and deregistrations, and otherwise maintain the integrity of those databases so that the global scheduler may be used alongside, not replacing, the existing databases. The following changes to transmitting stations are proposed for use with the global scheduler performing a TVWS DB function. Each transmitting station may receive a hash from the global scheduler with a spectrum assignment. When they receive a new hash, any prior hash is invalidated, as with various other embodiments described herein. Thus, frequency of update can be controlled by the global scheduler. The scheduler described herein may be used for any arbitrary spectrum registration and access management, not just TVWS spectrum.</p><p id="p-0050" num="0049">While in most embodiments contention resolution is not needed, the following text is drawn largely from Bao and Garcia-Luna-Aceves, &#x201c;Distributed Channel Access Scheduling for Ad Hoc Networks,&#x201d; hereby incorporated by reference, and describes some embodiments of the disclosure. Ambiguities should be resolved by referring thereto. NCR and NAMA are described below for resolving the question of who should be granted priority between two nodes. In some embodiments, these particular methods may be used to resolve priority and contention. In some embodiments, the global scheduler may use other information to break ties and resolve priority. As well, a method for applying a hash function is described below. The hash function described elsewhere herein may be, in some embodiments, similar or equivalent to the below hash functions.</p><p id="p-0051" num="0050">The neighbor-aware contention resolution (NCR) solves a special election problem where an entity to locally decide its leadership among a known set of contenders in any given contention context. We assume that the knowledge of the contenders for each entity is acquired by some means. For example, in the ad hoc networks of our interest, the contenders of each node are the neighbors within two hops, which can be obtained by each node periodically broadcasting the identifiers of its one-hop neighbors. Furthermore, NCR requires that each contention context be identifiable, such as the time slot number in networks based on a time-division multiple access scheme.</p><p id="p-0052" num="0051">We denote the set of contenders of an entity i as Mi, and the contention context as t. To decide the leadership of an entity without incurring communication overhead among the contenders, we assign each entity a priority that depends on the identifier of the entity and the current contention context. EQN. 1 provides a formula to derive the priority, denoted by i.prio, for entity i in contention context t.</p><p id="p-0053" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>i.prio=Hash(<i>i&#x2295;t</i>)&#x2295;<i>i, </i>&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0054" num="0052">where the function Hash(&#x22c5;) is a fast message digest generator that returns a random integer in a predefined range, and the sign &#x2018;&#x2295;&#x2019; is designated to carry out the concatenation operation on its two operands. Note that, although the Hash(&#x22c5;) function can generate the same number on different inputs, each priority number is unique because the priority is appended with identifier of the entity.</p><p id="p-0055" num="0000"><tables id="TABLE-US-00001" num="00001"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="offset" colwidth="28pt" align="left"/><colspec colname="1" colwidth="35pt" align="left"/><colspec colname="2" colwidth="154pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>&#x2003;</entry><entry>NCR(i, t) {</entry></row><row><entry/><entry/><entry>&#x2003;/* Initialize. */</entry></row><row><entry/><entry/><entry>&#x2003;for(k&#x2208;Mi &#x222a; {i})</entry></row><row><entry/><entry/><entry>&#x2003;k.prio = Hash(k &#x2295; t) &#x2295;k;</entry></row><row><entry/><entry/><entry>&#x2003;/* Resolve leadership. */</entry></row><row><entry/><entry/><entry>&#x2003;if (&#x2200;k &#x2208; Mi, i.prio &#x3e; k.prio) i is the leader;</entry></row><row><entry/><entry/><entry>} /* End of NCR. */</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0056" num="0053">The above code listing shows the NCR algorithm. NCR generates a permutation of the contending members, the order of which is decided by the priorities of all participants. Since the priority is a pseudo-random number generated from the contention context that changes from time to time, the permutation also becomes random such that each entity has certain probability to be elected in each contention context, which is inversely proportional to the contention level as shown in EQN. 2.</p><p id="p-0057" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>q</i><sub>i</sub>=1/(|<i>Mi&#x222a;{i}|</i>) &#x2003;&#x2003;(2)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0058" num="0054">Conflicts are avoided because it is assumed that contenders have mutual knowledge and t is synchronized, and the order of contenders based on the priority numbers is consistent at every participant.</p><p id="p-0059" num="0055">Dynamic Resource Allocation</p><p id="p-0060" num="0056">The description of NCR provided so far evenly divides the shared resource among the contenders. In practice, the demands from different entities may vary, which requires allocating different portion of the shared resource. There are several approaches for allocating variable portions of the resource according to individual demands. In any approach, an entity, say i, needs to specify its demand by an integer value chosen from a given integer set, denoted by pi. Because the demands need to be propagated to the contenders before the contention resolution process, the integer set should be small and allow enough granularity to accommodate the demand variations while avoiding the excess control overhead caused by the demand fluctuations.</p><p id="p-0061" num="0057">Suppose the integer set is {0,1, . . . ,P}, the following three approaches provide resource allocation schemes, differing in the portion of the resource allocated on a given integer value. If the resource demand is 0, the entity has no access to the shared resource.</p><p id="p-0062" num="0058">We can then apply the NCR algorithm to derive four channel access protocols in ad hoc networks with omni-directional antennas. The description below pertains to node activated multiple access (NAMA).</p><p id="p-0063" num="0059">Modeling of Network and Contention</p><p id="p-0064" num="0060">We assume that each node is assigned a unique identifier, and is mounted with an omni-directional radio transceiver that is capable of communicating using DSSS (direct sequence spread spectrum) on a pool of well-chosen spreading codes. The radio of each node only works in half-duplex mode, i.e., either transmit or receive data packet at a time, but not both.</p><p id="p-0065" num="0061">In multihop wireless networks, signal collisions may be avoided if the received radio signals are spread over different codes or scattered onto different frequency bands. Because the same codes on certain different frequency bands can be equivalently considered to be on different codes, we only consider channel access based on a code division multiple access scheme.</p><p id="p-0066" num="0062">Time is synchronized at each node, and nodes access the channel based on slotted time boundaries. Each time slot is long enough to transmit a complete data packet, and is numbered relative to a consensus starting point. Although global time synchronization is desirable, only limited-scope synchronization is necessary for scheduling conflict-free channel access in multihop ad hoc networks, as long as the consecutive transmissions in any part of the network do not overlap across time slot boundaries. Time synchronization has to depend on physical layer timing and labeling for accuracy, and is outside the scope of this chapter.</p><p id="p-0067" num="0063">The topology of a packet radio network is represented by a graph G=(V,E), where V is the set of network nodes, and E is the set of links between nodes. The existence of a link (u, v) &#x2208;E implies that (v, u) &#x2208;E, and that node u and v are within the transmission range of each other, so that they can exchange packets via the wireless channel. In this case, node u and v are called one-hop neighbors to each other. The set of one-hop neighbors of a node i is denoted as Ni1. Two nodes are called two-hop neighbors to each other if they are not adjacent, but have at least one common one-hop neighbor. The neighbor information of node i refers to the union of the one-hop neighbors of node i itself and the one-hop neighbors of i's one-hop neighbors, which equals</p><p id="p-0068" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Ni1&#x222a;(Nj1)&#x22c5;j&#x2208;Ni1<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0069" num="0064">In multihop wireless networks, a single radio channel is spatially reused at different parts of the network. Hidden-terminal problem is the main cause of interference and collision in ad hoc networks, and involves nodes within at most two hops. To ensure conflict-free transmissions, it is sufficient for nodes within two hops to not transmit on the same time, code and frequency coordinates. Therefore, the topology information within two hops provides the contender information required by the NCR algorithm. When describing the operation of the channel access protocols, we assume that each node already knows its neighbor information within two hops. Bao and Garcia-Luna-Aceves described a neighbor protocol for acquiring this information in mobile ad hoc networks.</p><p id="p-0070" num="0065">Node-Activation Multiple Access (NAMA)</p><p id="p-0071" num="0066">The node-activation multiple access, hereafter referred to as NAMA, protocol requires that the transmission from a node is received by the one-hop neighbors of the node without collisions. That is, when a node is activated for channel access, the neighbors within two hops of the node should not transmit. Therefore, the contender set Mi of node i is the one-hop and two-hop neighbors of node i, which is Ni1&#x222a;(j&#x2208;Ni1 Nj1)&#x2212;{i}.</p><p id="p-0072" num="0000"><tables id="TABLE-US-00002" num="00002"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="35pt" align="left"/><colspec colname="2" colwidth="168pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>&#x2003;</entry><entry>{</entry></row><row><entry/><entry/><entry>&#x2003;/* Initialize. */</entry></row><row><entry/><entry/><entry>&#x2003;Mi=Ni1 &#x222a; j&#x2208;Ni1Nj1 &#x2212;{i}; for(k&#x2208;Mi &#x222a; {i}))</entry></row><row><entry/><entry/><entry>&#x2003;k.prio = Hash(k &#x2295; t) &#x2295;k;</entry></row><row><entry/><entry/><entry>&#x2003;/* Resolve nodal state. */</entry></row><row><entry/><entry/><entry>&#x2003;if(&#x2200;k&#x2208;Mi,i.prio&#x3e;k.prio){</entry></row><row><entry/><entry/><entry>&#x2003;&#x2003;i.state = Tx;</entry></row><row><entry/><entry/><entry>&#x2003;&#x2003;i.out= Ni1;</entry></row><row><entry/><entry/><entry>&#x2003;&#x2003;[ Transmit the earliest packet in i.Q (i.out) ];</entry></row><row><entry/><entry/><entry>&#x2003;}</entry></row><row><entry/><entry/><entry>}</entry></row><row><entry/><entry/><entry>else {</entry></row><row><entry/><entry/><entry>&#x2003;i.state = Rx;</entry></row><row><entry/><entry/><entry>&#x2003;[ Listen to the channel ];</entry></row><row><entry/><entry/><entry>} /* End of NAMA. */</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0073" num="0067">The above code block specifies NAMA. Because only node i is able to transmit within its two-hop neighborhood when node i is activated, data transmissions from node i can be successfully received by all of its one-hop neighbor. Therefore, NAMA is capable of collision-free broadcast, and does not necessarily require code-division channelization for data transmissions.</p><p id="p-0074" num="0068">Table 1 which follows explains in further detail the symbols used herein.</p><p id="p-0075" num="0000"><tables id="TABLE-US-00003" num="00003"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="56pt" align="left"/><colspec colname="2" colwidth="147pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="2" rowsep="1">TABLE 1</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>i.prio</entry><entry>The priority of node i.</entry></row><row><entry/><entry>(u, v).prio</entry><entry>The priority of link (u, v).</entry></row><row><entry/><entry>i.code</entry><entry>The code assigned to node i for either</entry></row><row><entry/><entry/><entry>reception or transmission.</entry></row><row><entry/><entry>i.state</entry><entry>The activation state of node i for either</entry></row><row><entry/><entry/><entry>reception or transmission.</entry></row><row><entry/><entry>Tx</entry><entry>Transmission state.</entry></row><row><entry/><entry>Rx</entry><entry>Reception state.</entry></row><row><entry/><entry>i.in</entry><entry>The sender to node i.</entry></row><row><entry/><entry>i.out</entry><entry>The receiver set of node i.</entry></row><row><entry/><entry>i.Q(i.out)</entry><entry>The packet queues for the eligible receivers in</entry></row><row><entry/><entry/><entry>i.out.</entry></row><row><entry/><entry>Nic</entry><entry>The set of one-hop neighbors assigned with</entry></row><row><entry/><entry/><entry>code c at node i.</entry></row><row><entry/><entry>[ statement ]</entry><entry>A more complex and yet easy-to-implement</entry></row><row><entry/><entry/><entry>operation than an atomic statement, such as a</entry></row><row><entry/><entry/><entry>function call.</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0076" num="0069">A description of embodiments follows with reference to the figures.</p><p id="p-0077" num="0070"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic drawing of performing interference coordination at a centralized gateway in a wireless network, in accordance with some embodiments. Gateway <b>102</b> is shown coupled to core network <b>101</b> and TV whitespace database <b>112</b>. Gateway <b>102</b> is also placed between the core network <b>101</b> and the radio access network, specifically, base stations <b>103</b> and <b>110</b>. Base station <b>103</b> has coverage area <b>104</b>. Base station <b>110</b> has coverage area <b>111</b>. Base station <b>110</b> also has a wireless backhaul link to the public Internet (not shown). UE #1, labeled <b>107</b>, and UE #3, labeled <b>106</b>, are attached to base station <b>110</b>. UE <b>105</b> is attached to base station <b>103</b>. Base stations <b>110</b> and <b>103</b> are in communication with gateway <b>102</b>, sending interference and neighbor information, and receiving scheduling instructions from the gateway. UE <b>106</b> is being interfered with by transmissions to and from UE <b>107</b>. UE <b>106</b> is also a priority UE.</p><p id="p-0078" num="0071">In operation, base stations <b>110</b> and <b>103</b> perform two-stage scheduling with gateway <b>102</b> as follows. Both base stations <b>110</b> and <b>103</b> individually schedule their own coverage areas <b>111</b> and <b>104</b>, respectively. However, they only schedule their UEs within a preauthorized portion, such as 80%, of the available spectrum resources, as made available by gateway <b>102</b> via prior scheduling hints. After interference is detected at UE <b>106</b> and forwarded as a measurement report via base station <b>110</b>, gateway <b>102</b> determines that UE <b>106</b> requires greater priority, allocates resources out of a priority resource pool, and sends a new hash to base station <b>110</b> granting access to the new priority resource for UE <b>106</b>. During this time, base station <b>110</b> has been performing scheduling as normal. Several milliseconds later, when base station <b>110</b> receives the updated resource hash, the resource hash is decoded, the base station assigns UE <b>106</b> the additional priority resource, and UE <b>106</b> experiences improved performance. UE <b>106</b> closes the loop with gateway <b>102</b> several milliseconds later by sending a UE measurement report to base station <b>110</b>, which is forwarded to gateway <b>102</b>.</p><p id="p-0079" num="0072">In some embodiments, the coordinating node may perform some subset of the radio frequency chain (RF chain) processing of the base station. In some embodiments, any or all of the 3GPP 5G centralized unit (CU)/distributed unit (DU) functional splits may be permitted to be used, where the coordinating node performs the role of a CU and the base station performs the role of the DU. In some embodiments, these functional splits may be provided for 2G, 3G, 4G, and/or 5G RATs. In some embodiments, the flexibility of 5G numerologies and shorter TTI period can be supported or enabled by a suitably configured coordinating node and base station, such that, for example, the base stations may be configured to perform scheduling tasks requiring a certain latency and the coordinating nodes performing scheduling tasks requiring another latency. In some embodiments, a CU may be provided in conjunction with a coordinating node, providing multiple levels of coordination and centralized scheduling with different latency characteristics. 3GPP TR 38.801 14.0.0 is hereby incorporated by reference in its entirety.</p><p id="p-0080" num="0073">In some embodiments, the same architecture could be used with installations that use the common public radio interface (CPRI) to separate radio heads from their processing units at the base station. Individual base stations may have radio heads separated by a few meters or tens of meters from their baseband processing units, with the radio interface connected to the baseband unit by fiber optic or copper Ethernet connections according to the CPRI protocol and specification. No change is required in the disclosed systems or methods. Any 3GPP functional split could be supported, in some embodiments. As LTE requires processing to be performed within the 1 ms TTI budget, all processes described herein for the femto base station may be performed on a remote radio head (RRH) with a CPRI connection with &#x3c;1 ms latency. Further, as the distributed scheduler described herein is broken up into two (or more) portions, the base station scheduler is allowed the benefit of a remote cloud scheduler with greater (i.e., &#x2014;20ms) latency without requiring &#x3c;1 ms latency for the cloud scheduler.</p><p id="p-0081" num="0074">In some embodiments, an X2/Xx/Xn protocol-based coordination scheme may be used to coordinate between multiple cells and also between each cell and the central scheduler.</p><p id="p-0082" num="0075">In some embodiments, where the word eNodeB is used in the present disclosure, a multi-RAT node or a single-RAT node supporting one or more of 2G, 3G, 4G, and 5G may be substituted with no loss of generality.</p><p id="p-0083" num="0076"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram of scheduling performed at a gateway and at a base station, in accordance with some embodiments. Global scheduler <b>202</b> is located at a gateway. Base station <b>206</b> is in communication with gateway/global scheduler <b>202</b>. Within gateway/global scheduler <b>202</b> are inter-cell interference cancellation scheduler <b>203</b>, self-organizing network/automatic neighbor relations module <b>204</b>, and X2 protocol gateway <b>205</b>. Each of these modules work in concert to minimize interference among multiple cells and to communicate the mitigation instructions to the cells. The communication is shown as X2 messages with private information elements from the X2 gateway <b>205</b>, as ICIC control instructions from ICIC scheduler <b>203</b>, and ANR updates from SON/ANR module <b>204</b>. Gateway <b>202</b> is also in communication with macro <b>201</b> via X2AP ICIC messages. The connected base stations may communicate with each other using the X2 protocol, Xx protocol, Xn protocol, or any other protocol, in some embodiments</p><p id="p-0084" num="0077">Within base station <b>206</b> is a radio access network control module <b>210</b>, which incorporates an X2 application protocol/radio resource control module <b>209</b>, a radio resource management module <b>207</b>, and an ICIC-capable medium access control (MAC) scheduler <b>208</b>. These modules act in concert to schedule traffic by each UE attached to the base station, and to communicate to gateway <b>202</b> or the operator core network (not shown). Scheduler <b>208</b>, in particular, is responsible for performing the local scheduler activities described herein, including decoding resource allocations from ICIC scheduler <b>203</b>.</p><p id="p-0085" num="0078"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic diagram showing access nodes in a wireless access network, in accordance with some embodiments. Gateway <b>301</b> is a remote global scheduler. Base station <b>305</b> produces coverage area <b>303</b>, and base station <b>306</b> produces coverage area <b>304</b>. All the UEs attached to base station <b>305</b> are shown as triangles, and all of the UEs attached to base station <b>306</b> are shown as squares. Within each coverage area, certain UEs <b>307</b>, shown as black, are low priority traffic or low priority users; certain UEs <b>308</b>, shown as white, are normal priority traffic or normal priority users; and certain UEs <b>309</b>, shown as gray, are high priority traffic or users.</p><p id="p-0086" num="0079">Four users are shown in the overlapping area covered by both coverage area <b>303</b> and coverage area <b>304</b>. These UEs are the cell edge users <b>302</b>. Cell edge users have more interference to deal with, since they are covered by multiple base stations, and also have lower signal-to-noise ratios, since they are more distant from the transmitter. Based on UE measurement reports, gateway <b>301</b> is able to determine that these users are the cell edge users.</p><p id="p-0087" num="0080">In operation, remote scheduling gateway <b>301</b> periodically generates and distributes scheduling hash keys to base stations <b>305</b> and <b>306</b>, which give the base stations autonomy to calculate timeslots for different buckets, e.g., cell edge, traffic priority, user priority. As shown, UE <b>310</b> is being handed over from source base station <b>305</b> to target base station <b>306</b>, shown by the trail of three gray triangles followed by one gray square. UE <b>310</b> is first a cell center user, then a cell edge user, then a cell center user in the new cell. UE <b>310</b> is also a high priority user. Gateway <b>310</b>, based on measurement reports and handover messages, is able to determine that the user is being handed over. With the help of analytics, gateway <b>310</b> can proactively push the hash key to target base station <b>306</b> with anticipatory scheduling. A particular resource is reserved for this user at base station <b>305</b>, and as it is handed over to base station <b>306</b>, the hash for that resource is revoked at base station <b>305</b> and transferred to base station <b>306</b>, enabling the user to be handed over without diminished performance. The same process may be used when steering the user to a different RAT.</p><p id="p-0088" num="0081"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a further schematic diagram showing access nodes in a wireless access network, in accordance with some embodiments. Gateway <b>401</b> is a remote global scheduler. Base station <b>407</b> produces coverage area <b>405</b>, base station <b>408</b> produces coverage area <b>404</b>, and base station <b>405</b> produces coverage area <b>403</b>. All the UEs attached to base station <b>407</b> are shown as triangles, and the UEs attached to base station <b>408</b> are shown as squares, and the UEs attached to base station <b>406</b> are shown as diamonds. Within each coverage area, certain UEs <b>409</b>, shown as black, are low priority traffic or low priority users; certain UEs <b>410</b>, shown as white, are normal priority traffic or normal priority users; and certain UEs <b>411</b>, shown as gray, are high priority traffic or users. The coverage area of base station <b>406</b> uses a different band, shown with label <b>402</b>. Base station <b>406</b> is not as heavily loaded, based on number of UEs, as base stations <b>407</b> and <b>408</b>. Based on traffic, congestion, or other factors, gateway <b>401</b> may steer users from one band or RAT to another band, as shown here by base station <b>406</b>.</p><p id="p-0089" num="0082"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flowchart of a scheduling coordination method, in accordance with some embodiments. At step <b>501</b>, the global scheduler receives UE measurement reports via eNB 1. UE measurement reports and ANR information are continuously forwarded to the global scheduler by eNodeBs in the network. At step <b>502</b>, the global scheduler receives a request for resources from eNB <b>1</b>. This step may be performed periodically to allocate or reallocate resources in the network. If a request is being processed at a time when the base station has not received UE measurement reports or ANR data, other information may already be available, such as preconfigured information regarding locations and interference potential of base stations, or general policies regarding percentage of resources to be granted back to local schedulers to reallocate. If real-time or near-real time information is available, this information may be incorporated into the resource allocation decision.</p><p id="p-0090" num="0083">At step <b>503</b>, during processing of the received resource request from eNB 1, the global scheduler assesses global scheduling state, including information from other eNodeBs, global policies, information regarding load in various parts of the network, bandwidth constraints for backhaul, and so on. Interference caused by or to be caused to other nodes may be specifically considered. Previously-reserved resources in other neighboring cells and priority allocations in this cell and other cells are other examples of information that may be considered.</p><p id="p-0091" num="0084">At step <b>504</b>, resources are allocated to both eNB 1 and to eNB 2 (and other nodes in the network). Resource allocation may be performed, for example, as a depth-first search, in which each node is replaced with the set of the node plus its neighbors, in order to consider interference in other parts of the network. By expanding each node only to its neighbors, or in some cases to its neighbors' neighbors, the search space is limited in case the network is large, and distant or disjoint areas of the network are not forced to share resources unnecessarily.</p><p id="p-0092" num="0085">At step <b>505</b>, once resources have been allocated, a hash function is applied to each resource allocation to transform the resources into a series of hash values, as described herein. At step <b>506</b>, once the hash functions have been performed, messages are constructed and sent to eNB 1 and eNB 2 with the hashed resource allocation. The allocations may not be in real time, e.g., within 1 ms; however, the system may be configured based on the latency of the system to provide guesses for network conditions in the future, for example, 30 ms in the future for a system with 30 ms roundtrip latency. At step <b>507</b>, the allocations are periodically updated and re-sent to each base station.</p><p id="p-0093" num="0086"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of an enhanced eNodeB, in accordance with some embodiments. Enhanced eNodeB <b>600</b> may include processor <b>602</b>, processor memory <b>604</b> in communication with the processor, baseband processor <b>606</b>, and baseband processor memory <b>608</b> in communication with the baseband processor. Enhanced eNodeB <b>600</b> may also include first radio transceiver <b>610</b> and second radio transceiver <b>612</b>, internal universal serial bus (USB) port <b>616</b>, and subscriber information module card (SIM card) <b>618</b> coupled to USB port <b>614</b>. In some embodiments, the second radio transceiver <b>612</b> itself may be coupled to USB port <b>616</b>, and communications from the baseband processor may be passed through USB port <b>616</b>.</p><p id="p-0094" num="0087">A scheduler <b>630</b> is shown, and may perform operations as described elsewhere herein. Specifically, scheduler <b>630</b> may receive communications from attached UEs, such as measurement reports, and ANR information from the eNB itself, and may forward them to a coordinating server (identified in <figref idref="DRAWINGS">FIG. <b>6</b></figref> as &#x201c;to global scheduler&#x201d;). Scheduler <b>630</b> performs essential scheduling functions as required by the LTE standard, sending out scheduling information every 1 TTI for all UEs attached to eNodeB <b>600</b>, but may incorporate hints or allocated resources via hash values received from the global scheduler at local scheduler <b>630</b>. Local scheduler <b>630</b> may include a mapping to identify what resources have been allocated by reversing or otherwise interpreting the hashed hints and resource allocations received from the global scheduler.</p><p id="p-0095" num="0088">The processor <b>602</b> may be in communication with a local evolved packet core (EPC) module <b>620</b>, for authenticating users, storing and caching priority profile information, and performing other EPC-dependent functions when no backhaul link is available. Local EPC <b>620</b> may include local HSS <b>622</b>, local MME <b>624</b>, local SGW <b>626</b>, and local PGW <b>628</b>, as well as other modules. Local EPC <b>620</b> may incorporate these modules as software modules, processes, or containers. Local EPC <b>620</b> may alternatively incorporate these modules as a small number of monolithic software processes. Scheduler <b>630</b> and local EPC <b>620</b> may each run on processor <b>602</b> or on another processor, or may be located within another device.</p><p id="p-0096" num="0089">Processor <b>602</b> and baseband processor <b>606</b> are in communication with one another. Processor <b>602</b> may perform routing functions, and may determine if/when a switch in network configuration is needed. Baseband processor <b>606</b> may generate and receive radio signals for both radio transceivers <b>610</b> and <b>612</b>, based on instructions from processor <b>602</b>. In some embodiments, processors <b>602</b> and <b>606</b> may be on the same physical logic board. In other embodiments, they may be on separate logic boards.</p><p id="p-0097" num="0090">The first radio transceiver <b>610</b> may be a radio transceiver capable of providing LTE eNodeB functionality, and may be capable of higher power and multi-channel OFDMA. The second radio transceiver <b>612</b> may be a radio transceiver capable of providing LTE UE functionality. Both transceivers <b>610</b> and <b>612</b> are capable of receiving and transmitting on one or more LTE bands. In some embodiments, either or both of transceivers <b>610</b> and <b>612</b> may be capable of providing both LTE eNodeB and LTE UE functionality. Transceiver <b>610</b> may be coupled to processor <b>602</b> via a Peripheral Component Interconnect-Express (PCI-E) bus, and/or via a daughtercard. As transceiver <b>612</b> is for providing LTE UE functionality, in effect emulating a user equipment, it may be connected via the same or different PCI-E bus, or by a USB bus, and may also be coupled to SIM card <b>618</b>.</p><p id="p-0098" num="0091">SIM card <b>618</b> may provide information required for authenticating the simulated UE to the evolved packet core (EPC). When no access to an operator EPC is available, local EPC <b>620</b> may be used, or another local EPC on the network may be used. This information may be stored within the SIM card, and may include one or more of an international mobile equipment identity (IMEI), international mobile subscriber identity (IMSI), or other parameter needed to identify a UE. Special parameters may also be stored in the SIM card or provided by the processor during processing to identify to a target eNodeB that device <b>600</b> is not an ordinary UE but instead is a special UE for providing backhaul to device <b>600</b>.</p><p id="p-0099" num="0092">Wired backhaul or wireless backhaul may be used. Wired backhaul may be an Ethernet-based backhaul (including Gigabit Ethernet), or a fiber-optic backhaul connection, or a cable-based backhaul connection, in some embodiments. Additionally, wireless backhaul may be provided in addition to wireless transceivers <b>610</b> and <b>612</b>, which may be Wi-Fi 802.11a/b/g/n/ac/ad/ah, Bluetooth, ZigBee, microwave (including line-of-sight microwave), or another wireless backhaul connection. Any of the wired and wireless connections may be used for either access or backhaul, according to identified network conditions and needs, and may be under the control of processor <b>602</b> for reconfiguration.</p><p id="p-0100" num="0093">Other elements and/or modules may also be included, such as a home eNodeB, a local gateway (LGW), a self-organizing network (SON) module, or another module. Additional radio amplifiers, radio transceivers and/or wired network connections may also be included.</p><p id="p-0101" num="0094">Processor <b>602</b> may identify the appropriate network configuration, and may perform routing of packets from one network interface to another accordingly. Processor <b>602</b> may use memory <b>604</b>, in particular to store a routing table to be used for routing packets. Baseband processor <b>606</b> may perform operations to generate the radio frequency signals for transmission or retransmission by both transceivers <b>610</b> and <b>612</b>. Baseband processor <b>606</b> may also perform operations to decode signals received by transceivers <b>610</b> and <b>612</b>. Baseband processor <b>606</b> may use memory <b>608</b> to perform these tasks.</p><p id="p-0102" num="0095"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of a coordinating node, in accordance with some embodiments. Coordinating node <b>700</b> includes processor <b>702</b> and memory <b>704</b>, which are configured to provide the functions described herein. Also present are radio access network coordination/SON/scheduling module <b>706</b>, RAN proxying module <b>708</b>, and routing virtualization module <b>710</b>. RAN coordination/SON/scheduling module <b>706</b> may perform the functions described herein for global scheduling, including coordinating among requests from multiple base stations for resources, and assigning and sending hash keys to the base stations. In some embodiments, coordinating node <b>700</b> may coordinate multiple RANs using coordination module <b>706</b>. In some embodiments, coordination server may also provide proxying, routing virtualization and RAN virtualization, via modules <b>710</b> and <b>708</b>. In some embodiments, a downstream network interface <b>712</b> is provided for interfacing with the RANs, which may be a radio interface (e.g., LTE), and an upstream network interface <b>714</b> is provided for interfacing with the core network, which may be either a radio interface (e.g., LTE) or a wired interface (e.g., Ethernet). Signaling storm reduction functions may be performed in module <b>706</b>.</p><p id="p-0103" num="0096">Coordinating node <b>700</b> includes local evolved packet core (EPC) module <b>720</b>, for authenticating users, storing and caching priority profile information, and performing other EPC-dependent functions when no backhaul link is available. Local EPC <b>720</b> may include local HSS <b>722</b>, local MME <b>724</b>, local SGW <b>726</b>, and local PGW <b>728</b>, as well as other modules. Local EPC <b>720</b> may incorporate these modules as software modules, processes, or containers. Local EPC <b>720</b> may alternatively incorporate these modules as a small number of monolithic software processes. Modules <b>706</b>, <b>708</b>, <b>710</b> and local EPC <b>720</b> may each run on processor <b>702</b> or on another processor, or may be located within another device.</p><p id="p-0104" num="0097">In some embodiments, the gateway of <figref idref="DRAWINGS">FIG. <b>7</b></figref> may be a virtualized radio access network or may provide virtual network functions (VNFs). For example, the gateway of <figref idref="DRAWINGS">FIG. <b>7</b></figref> may be equipped and provisioned to provide a cloud radio access network (CRAN) virtual network function (VNF), with real-time elastic scheduling, real-time X2 brokering, real-time self-organizing network (SON) capability with load balancing, mobile edge computing (MEC) capability, video traffic optimization, software defined networking (SDN) with unlicensed assisted backhaul and quality of experience (QoE) management. The VNFs provided on this gateway may be located at a particular hardware node or moved around in containers or virtual machines within a data center. The latency characteristics of the global scheduler described herein are flexible, as it is possible to provide helpful hints and hash keys for resources even with latencies of tens or hundreds of milliseconds. Therefore, the flexibility of a virtualized global scheduler is greater than that of a convention cloud radio access network (CRAN) infrastructure.</p><p id="p-0105" num="0098"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a system architecture diagram of an exemplary network configuration, in accordance with some embodiments. Base stations <b>802</b> and <b>804</b> are connected via an S1-AP and an X2 interface to coordination server <b>806</b>. Base stations <b>802</b> and <b>804</b> are eNodeBs, in some embodiments. Coordination server <b>806</b> is connected to the evolved packet core (EPC)/Core Network <b>808</b> via an S1 protocol connection and an S1-MME protocol connection. Coordination of base stations <b>802</b> and <b>804</b> may be performed at the coordination server. In some embodiments, the coordination server may be located within the EPC/Core Network <b>808</b>. EPC/Core Network <b>808</b> provides various LTE core network functions, such as authentication, data routing, charging, and other functions. In some embodiments, mobility management is performed both by coordination server <b>806</b> and within the EPC/Core Network <b>808</b>. EPC/Core Network <b>808</b> provides, typically through a PGW functionality, a connection to the public Internet <b>810</b>. As shown in the figure, coordination server <b>806</b> is in both the data plane path and the control plane path between the base stations and the core network, and derives advantages from this position, including the ability to virtualize the base stations and control scheduling by communicating directly with the (non-virtualized) base stations.</p><p id="p-0106" num="0099">In some embodiments, the radio transceivers described herein may be base stations compatible with a Long Term Evolution (LTE) radio transmission protocol or air interface. The LTE-compatible base stations may be eNodeBs. In addition to supporting the LTE protocol, including FDD and TDD in different bands, the base stations may also support other air interfaces, such as UMTS/HSPA, CDMA/CDMA2000, GSM/EDGE, GPRS, EVDO, other 3G/2G, legacy TDD, or other air interfaces used for mobile telephony. In some embodiments, the base stations described herein may support Wi-Fi air interfaces, which may include one or more of IEEE 802.11a/b/g/n/ac. In some embodiments, the base stations described herein may support IEEE 802.16 (WiMAX), to LTE transmissions in unlicensed frequency bands (e.g., LTE-U, Licensed Access or LA-LTE), to LTE transmissions using dynamic spectrum access (DSA), to radio transceivers for ZigBee, Bluetooth, or other radio frequency protocols, or other air interfaces. In some embodiments, the base stations described herein may use programmable frequency filters. In some embodiments, the base stations described herein may provide access to land mobile radio (LMR)-associated radio frequency bands. In some embodiments, the base stations described herein may also support more than one of the above radio frequency protocols, and may also support transmit power adjustments for some or all of the radio frequency protocols supported. The embodiments disclosed herein can be used with a variety of protocols so long as there are contiguous frequency bands/channels. Although the method described assumes a single-in, single-output (SISO) system, the techniques described can also be extended to multiple-in, multiple-out (MIMO) systems. Wherever IMSI or IMEI are mentioned, other hardware, software, user or group identifiers, can be used in conjunction with the techniques described herein.</p><p id="p-0107" num="0100">In some embodiments the network may be a 5G network. 5G networks are digital cellular networks, in which the service area covered by providers is divided into a collection of small geographical areas called cells. Analog signals representing sounds and images are digitized in the phone, converted by an analog to digital converter and transmitted as a stream of bits. All the 5G wireless devices in a cell communicate by radio waves with a local antenna array and low power automated transceiver (transmitter and receiver) in the cell, over frequency channels assigned by the transceiver from a common pool of frequencies, which are reused in geographically separated cells. The local antennas are connected with the telephone network and the Internet by a high bandwidth optical fiber or wireless backhaul connection.</p><p id="p-0108" num="0101">5G is a term loosely connected to a current generation of a radio access network and core network, and includes both a 5G radio access network (RAN) and a 5G core network. The 5G RAN is designed to interoperate together with the 4G (Long Term Evolution or LTE) RAN and core network. The 5G core network is also designed to interoperate with the 4G core network. Deployment of the 5G RAN in conjunction with the 4G core network is known as &#x201c;non-standalone&#x201d; or NSA. Deployment of the 5G RAN with the 5G core network and without the 4G core network is known as &#x201c;standalone&#x201d; or SA. Various combinations of 5G, including standalone and non-standalone and with other radio access networks, are contemplated by the 3<sup>rd </sup>Generation Partnership Project (3GPP).</p><p id="p-0109" num="0102">Noteworthy is that the 5G RAN contemplates the use of millimeter waves to provide additional bandwidth. Millimeter waves tend to have shorter range than microwaves, such that the cells are limited to smaller size. Millimeter wave antennas are smaller than the large antennas used in previous cellular networks. They are only a few inches (several centimeters) long. Another technique used for increasing the data rate is massive MIMO (multiple-input multiple-output). Each cell will have multiple antennas communicating with the wireless device, received by multiple antennas in the device, thus multiple bitstreams of data will be transmitted simultaneously, in parallel. In a technique called beamforming the base station computer will continuously calculate the best route for radio waves to reach each wireless device, and will organize multiple antennas to work together as phased arrays to create beams of millimeter waves to reach the device. References to a UE also include a 5G UE, references to an eNode B also include a gNodeB and references to a core network also include a 5G core network.</p><p id="p-0110" num="0103">Those skilled in the art will recognize that multiple hardware and software configurations could be used depending upon the access protocol, backhaul protocol, duplexing scheme, or operating frequency band by adding or replacing daughtercards to the dynamic multi-RAT node. Presently, there are radio cards that can be used for the varying radio parameters. Accordingly, the multi-RAT nodes of the present invention could be designed to contain as many radio cards as desired given the radio parameters of heterogeneous mesh networks within which the multi-RAT node is likely to operate. Those of skill in the art will recognize that, to the extent an off-the shelf radio card is not available to accomplish transmission/reception in a particular radio parameter, a radio card capable of performing, e.g., in white space frequencies, would not be difficult to design.</p><p id="p-0111" num="0104">The concept of multiple radio access technology will also be defined. The term &#x201c;radio access technology&#x201d; indicates the type of radio technology used to access a core network. Multiple radio access technology, or multi-RAT, is a radio technology capable of operating in varying parameters. These varying radio parameters could be, for example, different protocols, different duplexing schemes, different media access methods, disparate frequency bands, and the like. The multi-RAT nodes, upon which SON embodiments operate may be, in some embodiments, dynamic mesh nodes. A multi-RAT node may include one or more &#x201c;Gs,&#x201d; including 2G, 3G, 4G, 5G and Wi-Fi. Where the present disclosure mentions any RAT, such as 2G/3G/4G/5G/Wi-Fi, it is understood that any other RAT could be substituted. E.g., any combination of 2 RATs, any combination of 3 RATs, etc. is enabled by the present disclosure; interworking between any 2 RATs is enabled by the present disclosure; virtualization of any RAT at the core (stand-alone or non-standalone) or at the RAN to appear as another RAT is enabled by the present disclosure; changing of operational parameters of any RAT based on environment variables of any RAT is contemplated; addition of one or more additional RF chains is contemplated, in some embodiments, to support the processing requirements of any particular RAT, which in combination with the multi-RAT architecture disclosed herein enables a multi-RAT node with any combination of RATs</p><p id="p-0112" num="0105">Those of skill in the art will also recognize that hardware may embody software, software may be stored in hardware as firmware, and various modules and/or functions may be performed or provided either as hardware or software depending on the specific needs of a particular embodiment.</p><p id="p-0113" num="0106">Although the scenarios for interference mitigation are described in relation to macro cells and micro cells, or for a pair of small cells or pair of macro cells, the same techniques could be used for reducing interference between any two cells, in which a set of cells is required to perform the CoMP methods described herein. The applicability of the above techniques to one-sided deployments makes them particularly suitable for heterogeneous networks, including heterogeneous mesh networks, in which all network nodes are not identically provisioned.</p><p id="p-0114" num="0107">In any of the scenarios described herein, where processing may be performed at the cell, the processing may also be performed in coordination with a cloud coordination server. The eNodeB may be in communication with the cloud coordination server via an X2 protocol connection, or another connection. The eNodeB may perform inter-cell coordination via the cloud communication server, when other cells are in communication with the cloud coordination server. The eNodeB may communicate with the cloud coordination server to determine whether the UE has the ability to support a handover to Wi-Fi, e.g., in a heterogeneous network.</p><p id="p-0115" num="0108">Although the methods above are described as separate embodiments, one of skill in the art would understand that it would be possible and desirable to combine several of the above methods into a single embodiment, or to combine disparate methods into a single embodiment. For example, all of the above methods could be combined. In the scenarios where multiple embodiments are described, the methods could be combined in sequential order, in various orders as necessary.</p><p id="p-0116" num="0109">Although many of the examples described herein describe the use of this technique with an LTE network, the technique described herein may be used in a cellular network, an ad-hoc cellular network or other ad-hoc network, a Wi-Fi or microwave mesh network, or various other types of networks that require coordination and control, as would be understood by one of skill in the art. For example, Wi-Fi networks incorporating these techniques could also use carrier sense multiple access (CSMA).</p><p id="p-0117" num="0110">In some embodiments, the software needed for implementing the methods and procedures described herein may be implemented in a high level procedural or an object-oriented language such as C, C++, C#, Python, Java, or Perl. The software may also be implemented in assembly language if desired. Packet processing implemented in a network device can include any processing determined by the context. For example, packet processing may involve high-level data link control (HDLC) framing, header compression, and/or encryption. In some embodiments, software that, when executed, causes a device to perform the methods described herein may be stored on a computer-readable medium such as read-only memory (ROM), programmable-read-only memory (PROM), electrically erasable programmable-read-only memory (EEPROM), flash memory, or a magnetic disk that is readable by a general or special purpose-processing unit to perform the processes described in this document. The processors can include any microprocessor (single or multiple core), system on chip (SoC), microcontroller, digital signal processor (DSP), graphics processing unit (GPU), or any other integrated circuit capable of processing instructions such as an x86 microprocessor.</p><p id="p-0118" num="0111">Although the present disclosure has been described and illustrated in the foregoing example embodiments, it is understood that the present disclosure has been made only by way of example, and that numerous changes in the details of implementation of the disclosure may be made without departing from the spirit and scope of the disclosure, which is limited only by the claims which follow. Various components in the devices described herein may be added, removed, or substituted with those having the same or similar functionality. Various steps as described in the figures and specification may be added or removed from the processes described herein, and the steps described may be performed in an alternative order, consistent with the spirit of the invention. Features of one embodiment may be used in another embodiment. Other embodiments are within the following claims. For example, an ordered sequence of multiple uplink cells may be selected by the coordinating node.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method, comprising:<claim-text>receiving, from a local scheduler in a first radio access network, access network information at a global scheduler, wherein the first radio access network is a 5G radio access network;</claim-text><claim-text>accessing information regarding a second radio access network</claim-text><claim-text>allocating, at the global scheduler, resources for secondary allocation by the local scheduler;</claim-text><claim-text>applying a hash function to map the allocated resources for secondary allocation to a set of hash values; and</claim-text><claim-text>sending, from the global scheduler, the set of hash values to the local scheduler.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the local scheduler is located at a Long Term Evolution (LTE) eNodeB and wherein the global scheduler is located at a core network gateway, wherein the core network is a 5G core network.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the local scheduler is located at an ad-hoc multi-radio access technology (multi-RAT) base station, and wherein the global scheduler is located at a radio access network (RAN) gateway node positioned between the ad-hoc multi-RAT base station and an operator core network, and wherein the first radio access network is a cell, wherein the multi-RAT base station supports a 5G RAT.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the hash function is one of modulus, cyclic redundancy check, MD5, SHA1, or SHA-256.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the set of hash values further comprises scheduling hints, access lists, exclusion lists, or handover predictions for the local scheduler.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising accessing information regarding a plurality of radio access networks coupled to one or more core networks.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the access network information further comprises channel usage information, signal strength information, interference information, or neighbor status information.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the access network information further comprises user equipment (UE) measurement reports for a UE attached to the first radio access network.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the access network information further comprises automatic neighbor relation lists from base stations in the first radio access network.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising resolving contention between the local scheduler and a second local scheduler regarding resources to be secondarily allocated at either the local scheduler or the second local scheduler.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising sending, from the global scheduler, a single hash value to multiple base stations to permit a user equipment (UE) to be handed over without changing a channel or frequency.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising allocating a majority of the resources at the local scheduler for secondary allocation by the local scheduler, and holding back resources at the local scheduler for priority users, and holding back additional resources at the local scheduler for cell edge users.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising sending, from the global scheduler, a new set of hash values to provide scheduling hints and to invalidate the prior-transmitted set of hash values.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising periodically updating the allocated resources and repeatedly sending the set of hash values at intervals.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising receiving, from the local scheduler, requests for resources; allocating, at the global scheduler, the requested resources; and sending, from the global scheduler, a set of hash values reflecting the requested resources to the local scheduler.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising receiving, from the local scheduler, requests for resources; and coordinating, at the global scheduler, resource requests from a second local scheduler to prevent the second local scheduler from using the resources requested by the local scheduler.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. A system for allocating resources within a 5G network, comprising:<claim-text>a coordinating gateway coupled to a base station and providing connectivity for the base station as a gateway to an operator core network, the base station providing access to a user equipment (UE),<claim-text>the coordinating gateway further comprising:<claim-text>a scheduling module for allocating resources to the base station;</claim-text><claim-text>a hash function module for applying a hash function to map the allocated resources for secondary allocation by the base station to a set of hash values; and</claim-text><claim-text>a coordination module to receive resource allocation requests from a plurality of base stations and to coordinate the received allocation requests.</claim-text></claim-text></claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The system of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising the base station, the base station further comprising a Long Term Evolution (LTE) eNodeB for providing access to a user equipment (UE) in an LTE radio access network (RAN), the base station further comprising a local scheduler for secondarily allocating resources according to instructions from the coordinating gateway, and a communications module for forwarding UE measurement reports and base station automatic neighbor relations (ANR) information to the coordinating gateway.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, the base station further comprising multi-radio access technology (multi-RAT) functionality, the multi-RAT functionality comprising 5G functionality.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, the base station further comprising an ad-hoc cellular base station.</claim-text></claim></claims></us-patent-application>