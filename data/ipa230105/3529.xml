<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003530A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003530</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17777642</doc-number><date>20201120</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2019-211864</doc-number><date>20191122</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>C</subclass><main-group>21</main-group><subgroup>28</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>08</class><subclass>G</subclass><main-group>1</main-group><subgroup>042</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>C</subclass><main-group>21</main-group><subgroup>28</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>08</class><subclass>G</subclass><main-group>1</main-group><subgroup>042</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">POSITION ESTIMATION METHOD AND POSITION ESTIMATION SYSTEM</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Aichi Steel Corporation</orgname><address><city>Tokai-shi, Aichi</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>YAMAMOTO</last-name><first-name>Michiharu</first-name><address><city>Tokai-shi, Aichi</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>AOYAMA</last-name><first-name>Hitoshi</first-name><address><city>Tokai-shi, Aichi</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Aichi Steel Corporation</orgname><role>03</role><address><city>Tokai-shi, Aichi</city><country>JP</country></address></addressbook></assignee></assignees><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/JP2020/043476</doc-number><date>20201120</date></document-id><us-371c12-date><date>20220518</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A position estimation system for a vehicle including a magnetic sensor which measures magnetism acting from a road surface side forming a surface of a traveling road to estimate an own vehicle position includes a map DB which stores a map (<b>1</b>) associated with a road-surface magnetic distribution (M<b>2</b>), which is a distribution of quantities of magnetism at respective points on the road surface, a magnetic distribution generation part which acquires magnetic measurement values from the magnetic sensor and generates a measured magnetic distribution, which is a distribution of magnetic measurement values, and a position estimation part which specifies an area corresponding to the measured magnetic distribution in the road-surface magnetic distribution (M<b>2</b>) associated with the map stored in the map DB and estimates the own vehicle position based on a position of the area corresponding to the measured magnetic distribution on the map.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="144.02mm" wi="158.75mm" file="US20230003530A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="125.98mm" wi="160.78mm" file="US20230003530A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="114.98mm" wi="135.55mm" file="US20230003530A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="172.64mm" wi="165.27mm" file="US20230003530A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="119.21mm" wi="162.73mm" file="US20230003530A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="134.54mm" wi="163.91mm" file="US20230003530A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="201.08mm" wi="126.92mm" file="US20230003530A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="107.19mm" wi="107.27mm" file="US20230003530A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="122.43mm" wi="121.58mm" file="US20230003530A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="102.11mm" wi="163.41mm" file="US20230003530A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="105.66mm" wi="166.62mm" file="US20230003530A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="131.15mm" wi="166.79mm" file="US20230003530A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="141.99mm" wi="118.19mm" file="US20230003530A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="111.68mm" wi="165.52mm" file="US20230003530A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="132.16mm" wi="165.78mm" file="US20230003530A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="106.17mm" wi="166.37mm" file="US20230003530A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="104.14mm" wi="146.30mm" file="US20230003530A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="79.25mm" wi="109.14mm" file="US20230003530A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="107.19mm" wi="166.12mm" file="US20230003530A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="59.44mm" wi="120.82mm" file="US20230003530A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="158.07mm" wi="165.02mm" file="US20230003530A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="150.11mm" wi="151.47mm" file="US20230003530A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">TECHNICAL FIELD</heading><p id="p-0002" num="0001">The present invention relates to a position estimation method and a position estimation system for estimating the position of an own vehicle on a map.</p><heading id="h-0002" level="1">BACKGROUND ART</heading><p id="p-0003" num="0002">In recent years, various techniques have been suggested for assisting vehicle driving such as lane following traveling and automatic driving (for example, refer to Patent Literature 1), and technology developments toward achievement have been active. To achieve sophisticated driving assists such as automatic driving, three-dimensional maps with high accuracy representing traveling environments have been suggested and utilized.</p><p id="p-0004" num="0003">For example, in Patent Literature 2 below, a highly-accurate three-dimensional map including three-dimensional position information such as lane marks and curbstones is described. This highly-accurate three-dimensional map is effective to grasp the three-dimensional structure of the traveling environment with high accuracy. Grasping the three-dimensional structure of the traveling environment with high accuracy is imperative to achieve lane following traveling, automatic driving, and so forth.</p><heading id="h-0003" level="1">CITATION LIST</heading><heading id="h-0004" level="1">Patent Literatures</heading><p id="p-0005" num="0000"><ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0004">Patent Literature 1: Japanese Unexamined Patent Application Publication No. 2014-34251</li>    <li id="ul0001-0002" num="0005">Patent Literature 2: Japanese Unexamined Patent Application Publication No. 2013-186718</li></ul></p><heading id="h-0005" level="1">SUMMARY OF INVENTION</heading><heading id="h-0006" level="1">Technical Problem</heading><p id="p-0006" num="0006">Even if a highly-accurate three-dimensional map is usable, when the accuracy of position estimation of an own vehicle on that three-dimensional map is insufficient, there is a possibility that the high accuracy of the three-dimensional map cannot be sufficiently utilized and highly-accurate driving assist cannot be achieved.</p><p id="p-0007" num="0007">The present invention was made in view of the above-described conventional problem, and is to provide a method and system for estimating the position of an own vehicle on a map.</p><heading id="h-0007" level="1">Solution to Problem</heading><p id="p-0008" num="0008">One mode of the present invention resides in a position estimation method for a vehicle including a magnetic sensor which measures magnetism acting from a road surface forming a surface of a traveling road to estimate an own vehicle position, including:</p><p id="p-0009" num="0009">a magnetic measurement process of acquiring magnetic measurement values from the magnetic sensor;</p><p id="p-0010" num="0010">a magnetic distribution generation process of generating a measured magnetic distribution indicating a distribution of magnetic data based on the magnetic measurement values acquired from the magnetic measurement process; and</p><p id="p-0011" num="0011">a position estimation process of, by referring to a map associated with a road-surface magnetic distribution indicating a distribution of magnetic data based on quantities of magnetism at respective points on the road surface, specifying an area of the road-surface magnetic distribution corresponding to the measured magnetic distribution and estimating the own vehicle position based on a position of the area corresponding to the measured magnetic distribution on the map.</p><p id="p-0012" num="0012">One mode of the present invention resides in a position estimation system for estimating an own vehicle position of a vehicle including a magnetic sensor which measures magnetism acting from a road surface forming a surface of a traveling road, including:</p><p id="p-0013" num="0013">a storage part which stores a map associated with a road-surface magnetic distribution, which is a distribution of magnetic data based on quantities of magnetism at respective points on the road surface;</p><p id="p-0014" num="0014">a magnetic distribution generation part which acquires a magnetic measurement value from the magnetic sensor and generates a measured magnetic distribution, which is a distribution of magnetic data based on the magnetic measurement value; and</p><p id="p-0015" num="0015">a position estimation part which specifies an area corresponding to the measured magnetic distribution in the road-surface magnetic distribution associated with the map stored in the storage part and estimates the own vehicle position based on a position of the area corresponding to the measured magnetic distribution on the map.</p><heading id="h-0008" level="1">Advantageous Effects of Invention</heading><p id="p-0016" num="0016">The present invention is an invention for estimating the own vehicle position in a map. The map associated with the road-surface magnetic distribution allows collation with the measured magnetic distribution acquired on a vehicle side. If an area of the road-surface magnetic distribution corresponding to the measured magnetic distribution can be specified, the own vehicle position can be estimated based on the position of that area corresponding to the measured magnetic distribution on the map.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0009" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0017" num="0017"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram describing the configuration of a map in a first embodiment.</p><p id="p-0018" num="0018"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a front view of a vehicle in the first embodiment.</p><p id="p-0019" num="0019"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a block diagram depicting the configuration the vehicle has in the first embodiment.</p><p id="p-0020" num="0020"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a top view of the vehicle in the first embodiment.</p><p id="p-0021" num="0021"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flow diagram depicting a procedure of a position estimation method in the first embodiment.</p><p id="p-0022" num="0022"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a descriptive diagram of a motion estimation process in the first embodiment.</p><p id="p-0023" num="0023"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a diagram exemplarily depicting a motion estimation result when the vehicle is in a straight forwarding state in the first embodiment.</p><p id="p-0024" num="0024"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a diagram exemplarily depicting a motion estimation result when the vehicle is in a cornering state in the first embodiment.</p><p id="p-0025" num="0025"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a diagram exemplarily depicting an area of a measured magnetic distribution when the vehicle is in a straight forwarding state in the first embodiment.</p><p id="p-0026" num="0026"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a diagram exemplarily depicting an area of a measured magnetic distribution which the vehicle is in a cornering state in the first embodiment.</p><p id="p-0027" num="0027"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a descriptive diagram of a process of collating a converted magnetic distribution based on a road-surface magnetic distribution and the measured magnetic distribution in the first embodiment.</p><p id="p-0028" num="0028"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a diagram exemplarily depicting a collation range of a one-dimensional magnetic distribution in the first embodiment.</p><p id="p-0029" num="0029"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a top view of a road where magnetic markers are laid in a second embodiment.</p><p id="p-0030" num="0030"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a flow diagram depicting a procedure of a position estimation method in the second embodiment.</p><p id="p-0031" num="0031"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a descriptive diagram exemplarily depicting changes of a magnetic measurement value in a forwarding direction at the time of passing over a magnetic marker in the second embodiment.</p><p id="p-0032" num="0032"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a descriptive diagram exemplarily depicting a distribution of magnetic measurement values in a vehicle-width direction from magnetic sensors Cn arrayed in the vehicle-width direction in the second embodiment.</p><p id="p-0033" num="0033"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a diagram exemplarily depicting a measured magnetic distribution where the position of a magnetic marker is plotted in the second embodiment.</p><p id="p-0034" num="0034"><figref idref="DRAWINGS">FIG. <b>18</b></figref> is a descriptive diagram of a process of collating with the measured magnetic distribution in the second embodiment.</p><p id="p-0035" num="0035"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a perspective view depicting a magnetic marker to which an RF-ID tag is attached in a third embodiment.</p><p id="p-0036" num="0036"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a block diagram depicting the configuration a vehicle has in the third embodiment.</p><p id="p-0037" num="0037"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is a descriptive diagram depicting a range to which an arrival position of the vehicle after passing over a magnetic marker belongs in the third embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0010" level="1">DESCRIPTION OF EMBODIMENTS</heading><p id="p-0038" num="0038">In the present invention, as magnetic data configuring a road-surface magnetic distribution and a measured magnetic distribution, in addition to quantities of magnetism or magnetic measurement values themselves, magnetic gradients are suitable. A magnetic gradient can be calculated from, for example, a difference between quantities of magnetism or magnetic measurement values at two locations on the road surface. For example, when magnetism on the road surface is measured by using a sensor array having magnetic sensors arrayed therein, a magnetic gradient can be calculated from, for example, a difference between magnetic measurement values from adjacent magnetic sensors. Also, for example, a temporal magnetic gradient may be calculated from a difference between magnetic measurement values at different times from one magnetic sensor. Furthermore, it can be thought that, for example, this difference forming a temporal magnetic gradient is calculated for each of two magnetic sensors and a difference is further taken between these two magnetic sensors, thereby calculating a magnetic gradient.</p><p id="p-0039" num="0039">In the magnetic gradient, a magnetic component acting uniformly or almost uniformly on the magnetic sensor is suppressed. For this reason, in the magnetic gradient, a magnetic component acting from a magnetism generation source that is present relatively far away is suppressed, and a magnetic component acting from a magnetism generation source that is present relatively near, such as one on the road surface or the like, is relatively emphasized. Therefore, by adopting the magnetic gradient as magnetic data configuring a road-surface magnetic distribution and a measured magnetic distribution, influences by magnetism generation sources such as surrounding vehicles, guardrails, and billboards and influences by terrestrial magnetism can be suppressed, and the distribution becomes in a state in which magnetism on the road surface is reflected with high accuracy.</p><p id="p-0040" num="0040">Embodiments of the present invention are specifically described by using the following embodiments.</p><heading id="h-0011" level="1">First Embodiment</heading><p id="p-0041" num="0041">The present embodiment is an example regarding a position estimation method and position estimation system <b>1</b>S for estimating the position of an own vehicle on a map with high accuracy. Details of this are described by using <figref idref="DRAWINGS">FIG. <b>1</b></figref> to <figref idref="DRAWINGS">FIG. <b>12</b></figref>.</p><p id="p-0042" num="0042">Position estimation system <b>1</b>S is a system which estimates a position of an own vehicle (own vehicle position) by using a distribution of magnetic data (magnetic distribution) based on quantities of magnetism at respective points on road surface <b>100</b>S (<figref idref="DRAWINGS">FIG. <b>2</b></figref>). Road surface <b>100</b>S forming a surface of road (one example of a traveling road) <b>100</b> is formed of a pavement material. The pavement material is inevitably mixed with a magnetic material such as metal powder. A manhole exposed to road surface <b>100</b>S, a joint (expansion device) of a bridge, and so forth are often made of metal, and can be magnetism generation sources. For this reason, the magnitude of magnetism at each point on road surface <b>100</b>S is not constant but is varied.</p><p id="p-0043" num="0043">The magnetic distribution on road surface <b>100</b>S is similar in mode of distribution to variations in brightness at respective points on an image acquired by, for example, taking an image of road surface <b>100</b>S from straight above by an imaging camera, that is, luminance distribution. Although the magnetic distribution on road surface <b>100</b>S is different from the luminance distribution in physical quantity as a target, as with the case in which the luminance distribution indicates a luminance pattern on road surface <b>100</b>S, the magnetic distribution indicates a magnetic pattern on road surface <b>100</b>S. Position estimation system <b>15</b> of the present embodiment estimates an own vehicle position by using a road-surface magnetic distribution, which is a distribution of magnetic data based on quantities of magnetism at the respective points on road surface <b>100</b>S. Note that the quantity of magnetism itself is adopted as magnetic data in the present embodiment. Therefore, the road-surface magnetic distribution of the present embodiment is a distribution of magnetic data being quantities of magnetism at the respective points on road surface <b>100</b>S.</p><p id="p-0044" num="0044">On map <b>1</b> (<figref idref="DRAWINGS">FIG. <b>1</b></figref>) to be used by position estimation system <b>1</b>S, road-surface magnetic distribution M<b>2</b> is associated with structure map M<b>1</b> where a road structure and so forth are depicted. Structure map M<b>1</b> and road-surface magnetic distribution M<b>2</b> are associated with each other by position data indicating absolute positions. A position in road-surface magnetic distribution M<b>2</b> uniquely corresponds to a position on structure map M<b>1</b>. If an area of a distribution pattern identical to that of the magnetic distribution on road surface <b>100</b>S measured by a vehicle can be specified in road-surface magnetic distribution M<b>2</b>, the own vehicle position on map <b>1</b> can be estimated based on the position of that area.</p><p id="p-0045" num="0045">This position estimation system <b>1</b>S can be combined with, for example, an automatic driving system (omitted in the drawings) for achieving automatic driving of a vehicle. For example, the automatic driving system grasps the structure of a traveling environment ahead by using the own vehicle position estimated by position estimation system <b>1</b>S. For example, by adopting a three-dimensional map, it is possible to grasp a three-dimensional structure of the traveling environment ahead and achieve automatic traveling with high accuracy.</p><p id="p-0046" num="0046">Road-surface magnetic distribution M<b>2</b> indicates a distribution of magnetic data being quantities of magnetism at the respective points on road surface <b>100</b>S can be generated by using, for example, a measuring vehicle (omitted in the drawings) including a positioning system with high accuracy including an RTK-GPS unit, IMU, and so forth and a magnetic measurement unit having magnetic sensors arrayed in a vehicle-width direction. The RTK-GPS (RealTime Kinematic Global Positioning System) is a known system which enhances positioning accuracy in units of centimeters by using a reference station. The IMU (Inertial Measurement Unit) is a known unit which estimates a relative position of a vehicle by inertial navigation. The IMU includes an electronic compass which measures an azimuth, acceleration sensor, gyro sensor, and so forth to calculate a relative position with respect to a position as a reference. By using the relative position estimated by the IMU, highly-accurate positioning can be achieved even between buildings, in a tunnel, and so forth where GPS waves are unstable.</p><p id="p-0047" num="0047">The magnetic measurement unit is preferably attached to a vehicle via a mechanism which automatically adjusts the height from road surface <b>100</b>S to be constant. By setting the height of the magnetic measurement unit from road surface <b>100</b>S to be constant, the magnetic distribution at the respective points on road surface <b>100</b>S can be measured with high accuracy. If the measuring vehicle (omitted in the drawings) has a positioning system with high accuracy such as an RTK-GPS unit and IMU, it is possible to generate road-surface magnetic distribution M<b>2</b> of magnetic data being quantities of magnetism measured by the magnetic measurement unit at the respective points on road surface <b>100</b>S, in which magnetic data is associated with highly-accurate position data.</p><p id="p-0048" num="0048">Vehicle <b>5</b> configuring position estimation system <b>1</b>S includes, as depicted in <figref idref="DRAWINGS">FIG. <b>2</b></figref> and <figref idref="DRAWINGS">FIG. <b>3</b></figref>, sensor array <b>2</b> having a plurality of magnetic sensors Cn arrayed in the vehicle-width direction, map database (map DB) <b>40</b> storing map <b>1</b> (<figref idref="DRAWINGS">FIG. <b>1</b></figref>), control unit <b>32</b> which performs various calculations, and so forth. Furthermore, control unit <b>32</b> has connected thereto GPS unit <b>351</b> which performs positioning calculation using a GPS satellite, steering angle sensor <b>353</b> which detects a steering direction, vehicle speed sensor <b>355</b>, height sensor <b>357</b> for measuring the height of sensor array <b>2</b>, and so forth. Map DB <b>40</b> is one example of a storage part which stores map <b>1</b> with which road-surface magnetic distribution M<b>2</b> is associated.</p><p id="p-0049" num="0049">Height sensor <b>357</b> is an ultrasonic-type distance-measuring sensor. Height sensor <b>357</b> is attached near sensor array <b>2</b> so as to be able to measure the height of sensor array <b>2</b> from road surface <b>100</b>S. The height to be measured by height sensor <b>357</b> is regarded as an attachment height of magnetic sensors Cn. Note that height sensors may be arranged at two or more locations in the vehicle-width direction so as to be able to adapt the tilt of a vehicle body by a roll. In this case, the attachment heights of the plurality of magnetic sensors Cn with different positions in the vehicle-width direction can be each grasped, and the tilt of the vehicle body can thereby be specified. Note that height sensor <b>357</b> may be a laser-type distance-measuring sensor.</p><p id="p-0050" num="0050">Sensor array <b>2</b> is an elongated-rod-shaped unit including fifteen magnetic sensors Cn (n is an integer of 1 to 15) and detection processing circuit <b>20</b> having a CPU not depicted and so forth incorporated therein. In sensor array <b>2</b>, fifteen magnetic sensors Cn are arrayed on a straight line with constant (0.1 m) pitches. Sensor array <b>2</b> is attached, for example, inside the front bumper of vehicle <b>5</b> so as to be along the vehicle-width direction in a state of facing road surface <b>100</b>S (<figref idref="DRAWINGS">FIG. <b>2</b></figref> and <figref idref="DRAWINGS">FIG. <b>4</b></figref>). In the case of vehicle <b>5</b> of the present embodiment, the attachment height of sensor array <b>2</b> with reference to road surface <b>100</b>S is 200 mm. Magnetic sensors Cn measure magnetism acting from a road surface <b>100</b>S side.</p><p id="p-0051" num="0051">Magnetic sensors Cn are sensors which detect magnetism by using the known MI effect (Magneto Impedance Effect) in which the impedance of a magneto-sensitive body such as an amorphous wire sensitively changes in response to the external magnetic field. Magnetic sensors Cn of the present embodiment has highly-sensitive detection performance with a measurement range of magnetic flux density of &#xb1;0.6 mT and a magnetic flux density resolution of 0.02 &#x3bc;T within the measurement range.</p><p id="p-0052" num="0052">In each magnetic sensor Cn, magneto-sensitive bodies are arranged along orthogonal biaxial directions, allowing detection of magnetism acting in these orthogonal biaxial directions. In the present embodiment, magnetic sensors Cn are incorporated in sensor array <b>2</b> so that sensor array <b>2</b> attached to measuring vehicle <b>11</b> along the vehicle-width direction can detect magnetic components in a forwarding direction and the vehicle-width direction.</p><p id="p-0053" num="0053">Note that the direction of magnetic components detected by magnetic sensor Cn may be in only one direction. In this case, magnetic sensors may be incorporated into the sensor array so as to detect magnetism acting in a vertical direction. A magnetic sensor which detects magnetism in triaxial directions orthogonal to one another may be adopted.</p><p id="p-0054" num="0054">Detection processing circuit <b>20</b> (<figref idref="DRAWINGS">FIG. <b>3</b></figref>) is a circuit which detects magnetism by controlling magnetic sensors Cn and performs a process of measuring quantity of magnetism and so forth. This detection processing circuit <b>20</b> is configured by using, in addition to a CPU (central processing unit) which performs various calculations, memory elements such as a ROM (read only memory) and RAM (random access memory), and so forth. Detection processing circuit <b>20</b> controls magnetic sensors Cn so that magnetic measurement process is performed at a frequency of 3 kHz. With the magnetic measurement process, detection processing circuit <b>20</b> acquires magnetic components in the forwarding direction and the vehicle-width direction from each magnetic sensor Cn.</p><p id="p-0055" num="0055">Detection processing circuit <b>20</b> composes magnetic components in the forwarding direction and magnetic components in the vehicle-width direction from each magnetic sensor Cn. Then, detection processing circuit <b>20</b> obtains, for each magnetic sensor Cn, the magnitude of magnetism acting along a horizontal plane defined by the forwarding direction and the vehicle-width direction, and externally outputs fifteen pieces of magnetic data being magnetic measurement values of respective magnetic sensors Cn. Here, in the present embodiment, the magnetic measurement values of magnetic sensors Cn themselves are adopted as magnetic data.</p><p id="p-0056" num="0056">As described above, sensor array <b>2</b> is attached to vehicle <b>5</b> so that fifteen magnetic sensors Cn are positioned along the vehicle-width direction with 0.1-m pitches. Magnetic data being fifteen magnetic measurement values of magnetic sensors Cn outputted from sensor array <b>2</b> indicates a magnetic distribution in a one-dimensional range (hereinafter referred to as a one-dimensional magnetic distribution) having a width of 1.5 m (0.1&#xd7;15) in the vehicle-width direction.</p><p id="p-0057" num="0057">Control unit <b>32</b> is a unit which performs calculations for estimating the own vehicle position on map <b>1</b> (refer to <figref idref="DRAWINGS">FIG. <b>1</b></figref>) and so forth. Control unit <b>32</b> includes an electronic substrate (omitted in the drawings) having, in addition to a CPU which performs various calculations, memory elements such as a ROM and RAM and so forth implemented thereon. Control unit <b>32</b> includes functions as motion estimation part <b>321</b>, magnetic distribution generation part <b>323</b>, conversion processing part <b>325</b>, and position estimation part <b>327</b>.</p><p id="p-0058" num="0058">Motion estimation part <b>321</b> performs a motion estimation process of estimating a motion of vehicle <b>5</b>. Although details are described further below with reference to <figref idref="DRAWINGS">FIG. <b>6</b></figref>, motion estimation part <b>321</b> estimates a motion of vehicle <b>5</b> by resolving the motion of vehicle <b>5</b> into a component of translational motion without a change in orientation and a component of rotational motion being a change in orientation.</p><p id="p-0059" num="0059">Magnetic distribution generation part <b>323</b> performs a magnetic distribution generation process for generating a two-dimensional measured magnetic distribution based on the one-dimensional magnetic distribution acquired from sensor array <b>2</b>. Magnetic distribution generation part <b>323</b> generates a measured magnetic distribution by using the motion of vehicle <b>5</b> estimated by motion estimation part <b>321</b>. This measured magnetic distribution is a two-dimensional distribution of magnetic measurement values acquired from the magnetic measurement process.</p><p id="p-0060" num="0060">Conversion processing part <b>325</b> performs a conversion process for converting road-surface magnetic distribution M<b>2</b> associated with map <b>1</b> into a magnetic distribution suitable for collation with the measured magnetic distribution. Conversion processing part <b>325</b> performs the conversion process on road-surface magnetic distribution M<b>2</b>, and convert to a magnetic distribution at the attachment height of magnetic sensors Cn (referred to as a converted magnetic distribution as appropriate).</p><p id="p-0061" num="0061">Position estimation part <b>327</b> performs a position estimation process of estimating the own vehicle position on map <b>1</b>. Position estimation part <b>327</b> specifies an area corresponding to the measured magnetic distribution with reference to map <b>1</b>, and estimates the own vehicle position based on the position of this corresponding area on map <b>1</b>. Specifically, position estimation part <b>327</b> specifies an area corresponding to the measured magnetic distribution in road-surface magnetic distribution M<b>2</b> configuring map <b>1</b>.</p><p id="p-0062" num="0062">Vehicle <b>5</b> repeatedly performs a process flow of <figref idref="DRAWINGS">FIG. <b>5</b></figref> during traveling to estimate the own vehicle position. During traveling of vehicle <b>5</b>, sensor array <b>2</b> performs a magnetic measurement process to acquire a one-dimensional magnetic distribution and inputs it to control unit <b>32</b> (S<b>101</b>). Control unit <b>32</b> estimates a motion of vehicle <b>5</b> based on a measured vehicle speed and a measured steering angle (S<b>103</b>, motion estimation process) to estimate a positional displacement in a one-dimensional area on the road surface sensor array <b>2</b> faces.</p><p id="p-0063" num="0063">Control unit <b>32</b> accumulates one-dimensional magnetic distributions acquired by sensor array <b>2</b>, according to positional displacements of one-dimensional areas on the road where surface sensor array <b>2</b> faces, to generate a two-dimensional measured magnetic distribution (S<b>105</b>, magnetic distribution generation process). Also, control unit <b>32</b> converts road-surface magnetic distribution M<b>2</b> associated with structure map M<b>1</b> (refer to <figref idref="DRAWINGS">FIG. <b>1</b></figref>) into a converted magnetic distribution which is a magnetic distribution at the attachment height of magnetic sensors Cn (S<b>107</b>, conversion process). Then, control unit <b>32</b> specifies an area in road-surface magnetic distribution M<b>2</b> corresponding to the measured magnetic distribution, and thereby estimates the own vehicle position (S<b>109</b>, position estimation process).</p><p id="p-0064" num="0064">Next, details of (A) magnetic measurement process, (B) motion estimation process, (C) magnetic distribution generation process, (D) conversion process, and (E) position estimation process configuring the process flow of <figref idref="DRAWINGS">FIG. <b>5</b></figref> are described.</p><p id="p-0065" num="0065">(A) Magnetic Measurement Process</p><p id="p-0066" num="0066">The magnetic measurement process is a process to be performed by sensor array <b>2</b>. Sensor array <b>2</b> performs the magnetic measurement process by fifteen magnetic sensors Cn at a frequency of 3 kHz. Sensor array <b>2</b> acquires fifteen magnetic measurement values from magnetic sensor Cn at a frequency of 3 kHz, and inputs magnetic data being fifteen magnetic measurement values to control unit <b>32</b> at the same frequency. As described above, the magnetic data being fifteen magnetic measurement values to be inputted by sensor array <b>2</b> to control unit <b>32</b> indicates a distribution of one-dimensional discrete values along the vehicle-width direction. The width of this one-dimensional magnetic distribution, which is the distribution of one-dimensional discrete values, is 1.5 meters equal to the range where magnetic sensors Cn are arranged in sensor array <b>2</b>. Note that sensor array <b>2</b> links identification information to the one-dimensional magnetic distribution and inputs it to the control unit <b>32</b>. Identification information linked to the one-dimensional magnetic distribution can be used to identify the one-dimensional magnetic distribution configuring the measured magnetic distribution.</p><p id="p-0067" num="0067">(B) Motion Estimation Process</p><p id="p-0068" num="0068">The motion estimation process is a process to be performed by control unit <b>32</b> (motion estimation part <b>321</b>) to estimate a motion of vehicle <b>5</b>. Control unit <b>32</b> estimates the motion of vehicle <b>5</b> by using the measured vehicle speed from vehicle speed sensor <b>355</b> and the measured steering angle from the steering angle sensor <b>353</b>. As described further below, control unit <b>32</b> of the present embodiment estimates a motion of vehicle <b>5</b> by resolving into a component of translational motion and a component of rotational motion.</p><p id="p-0069" num="0069">Control unit <b>32</b> estimates a motion of vehicle <b>5</b> in an interval period (during 1/3000 seconds) of the magnetic measurement process performed at the frequency of 3 kHz by using the measured vehicle speed and the measured steering angle. This motion of vehicle <b>5</b> is a motion of moving forward at a speed of the measured vehicle speed during 1/3000 seconds along a steering direction specified by the measured steering angle. Note that control unit <b>32</b> of the present embodiment sets the center of sensor array <b>2</b> (position of magnetic sensor C<b>8</b>) as a representative point of vehicle <b>5</b> and estimates a motion of the center of sensor array <b>2</b>.</p><p id="p-0070" num="0070">When vehicle <b>5</b> travels a curve, the motion of the center of sensor array <b>2</b> is, for example, motion Mo indicated by an arc-shaped arrow in <figref idref="DRAWINGS">FIG. <b>6</b></figref>. This motion Mo can be resolved into vector V in the drawing indicating a component of translational motion and turn angle R indicating a component of rotational motion. In the motion estimation process, motion Mo of vehicle <b>5</b> is estimated by resolving into vector V and turn angle R. If vector V and turn angle R are determined with reference to a position of the vehicle, the position and orientation of the vehicle after displacement are uniquely determined.</p><p id="p-0071" num="0071">As described above, in the present embodiment, the center of sensor array <b>2</b> is set as a representative point of vehicle <b>5</b>. For this reason, a one-dimensional area on road surface <b>100</b>S facing sensor array <b>2</b> and positional displacement of the one-dimensional magnetic distribution, which is a magnetic distribution of this one-dimensional area, match with motion Mo of vehicle <b>5</b>. The one-dimensional area on road surface <b>100</b>S facing sensor array <b>2</b> and positional displacement of the one-dimensional magnetic distribution can be specified by vector V and turn angle R estimated in the above-described motion estimation process.</p><p id="p-0072" num="0072">(C) Magnetic Distribution Generation Process</p><p id="p-0073" num="0073">The magnetic distribution generation process is a process to be performed by control unit <b>32</b> (magnetic distribution generation part <b>323</b>) to generate a measured magnetic distribution, which is a magnetic distribution on road surface <b>100</b>S measured by using sensor array <b>2</b>. The control unit <b>32</b> captures the above-described one-dimensional magnetic distribution configured of magnetic data being fifteen magnetic measurement values by sensor array <b>2</b> at the frequency of 3 kHz to generate a two-dimensional measured magnetic distribution.</p><p id="p-0074" num="0074">The measured magnetic distribution is acquired by sensor array <b>2</b> of vehicle <b>5</b> scanning road surface <b>100</b>S in a manner like a &#x201c;line scanner&#x201d;. An area of this measured magnetic distribution is an area scanned by sensor array <b>2</b>. When acquiring a new one-dimensional magnetic distribution and incorporating it into the measured magnetic distribution, control unit <b>32</b> deletes the one-dimensional magnetic distribution that is most obsolete in terms of acquisition time. According to this procedure, a magnetic distribution of a two-dimensional area with a width of 1.5 meters taking a one-dimensional area on road surface <b>100</b>S facing sensor array <b>2</b> as a start point and extending along a traveling path of vehicle <b>5</b> can be generated as a measured magnetic distribution. Note in the present embodiment that the number of times of incorporation of a one-dimensional magnetic distribution is variable in accordance with the vehicle speed so that the dimension of the measured magnetic distribution in a longitudinal direction (corresponding to the traveling direction of the vehicle) has a predetermined distance. The dimension of the measured magnetic distribution in the longitudinal direction is preferably, for example, on the order of 2 meters to 10 meters.</p><p id="p-0075" num="0075">A positional relation between existing measured magnetic distribution A and one-dimensional magnetic distribution L<b>2</b> to be newly incorporated into the measured magnetic distribution is described by using <figref idref="DRAWINGS">FIG. <b>7</b></figref> and <figref idref="DRAWINGS">FIG. <b>8</b></figref>. A positional relation between newest one-dimensional magnetic distribution L<b>1</b> in existing measured magnetic distribution A and one-dimensional magnetic distribution L<b>2</b> to be newly incorporated can be represented with vector V and turn angle R estimated in the motion estimation process.</p><p id="p-0076" num="0076"><figref idref="DRAWINGS">FIG. <b>7</b></figref> depicts the positional relation between one-dimensional magnetic distributions L<b>1</b> and L<b>2</b> when, for example, vehicle <b>5</b> travels straight forward. In this case, vector V orthogonal to the longitudinal direction of one-dimensional magnetic distribution L<b>1</b> determines the position of one-dimensional magnetic distribution L<b>2</b> to be newly incorporated into measured magnetic distribution A. <figref idref="DRAWINGS">FIG. <b>8</b></figref> depicts a positional relation between L<b>1</b> and L<b>2</b> when, for example, vehicle <b>5</b> travels a curve. In this case, rotating, by turn angle R, one-dimensional range Lp determined by vector V inclined with respect to one-dimensional magnetic distribution L<b>1</b> determines the position and orientation (posture) of one-dimensional magnetic distribution L<b>2</b>. In <figref idref="DRAWINGS">FIG. <b>8</b></figref>, dir<b>1</b> indicates a direction orthogonal to one-dimensional magnetic distribution L<b>1</b> and one-dimensional range Lp, and dir<b>2</b> indicates a direction orthogonal to one-dimensional magnetic distribution L<b>2</b>. Turn angle R is an angle formed by dir<b>1</b> and dir<b>2</b>.</p><p id="p-0077" num="0077">When vehicle <b>5</b> travels straight forward, as in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, rectangular-shaped measured magnetic distribution A taking one-dimensional magnetic distribution L<b>2</b> of an area facing sensor array <b>2</b> as an end portion and extending along traveling path H of vehicle <b>5</b> is formed. When vehicle <b>5</b> is traveling a curve, as in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, measured magnetic distribution A taking one-dimensional magnetic distribution L<b>2</b> of an area facing sensor array <b>2</b> as an end portion and extending along traveling path H of vehicle <b>5</b> in a curved shape is formed.</p><p id="p-0078" num="0078">(D) Conversion Process</p><p id="p-0079" num="0079">The conversion process is a process of converting road-surface magnetic distribution M<b>2</b> (magnetic distribution of the road surface) configuring map <b>1</b> (refer to <figref idref="DRAWINGS">FIG. <b>1</b></figref>) into a mode that is easy to be collated with measured magnetic distribution A. Control unit <b>32</b> performs a simulation of estimating a distribution of quantities of magnetism acting the respective points at a predetermined height from the road surface. By performing this simulation, control unit <b>32</b> converts road-surface magnetic distribution M<b>2</b> into converted magnetic distribution M<b>2</b>D (refer to <figref idref="DRAWINGS">FIG. <b>11</b></figref>), which is a magnetic distribution at the attachment height of magnetic sensors Cn (refer to <figref idref="DRAWINGS">FIG. <b>11</b></figref>).</p><p id="p-0080" num="0080">(E) Position Estimation Process</p><p id="p-0081" num="0081">The position estimation process is a process to be performed by control unit <b>32</b> (position estimation part <b>327</b>) to estimate the own vehicle position on the map. Control unit <b>32</b> collates converted magnetic distribution M<b>2</b>D based on road-surface magnetic distribution M<b>2</b> and measured magnetic distribution A (<figref idref="DRAWINGS">FIG. <b>11</b></figref>) and thereby specifies an area corresponding to measured magnetic distribution A in road-surface magnetic distribution M<b>2</b>. Specifically, control unit <b>32</b> performs a correlation operation between converted magnetic distribution M<b>2</b>D and measured magnetic distribution A, and specifies an area with a high degree of matching with measured magnetic distribution A in converted magnetic distribution M<b>2</b>D. Note that if a correlation operation between converted magnetic distribution M<b>2</b>D and measured magnetic distribution A is tried to be performed in entire road surface <b>100</b>S, there is a possibility that the amount of operation is enormous. By referring to a measured position by GPS unit <b>351</b> and performing a collation with measured magnetic distribution A by limiting to a nearby range with reference to that measured position, the amount of operation required for the above-described correlation operation can be suppressed.</p><p id="p-0082" num="0082">The position estimation process is a process of calculating a cross-correlation coefficient normalized by a correlation operation of Equation 1. Equation 1 is an equation of calculating a cross-correlation coefficient indicating a degree of matching between converted magnetic distribution M<b>2</b>D and measured magnetic distribution A when measured magnetic distribution A is superposed on an area represented by specific coordinates (u, v) in converted magnetic distribution M<b>2</b>D. In particular, Equation 1 is an arithmetic equation of a normalized cross-correlation coefficient, and maximum cross-correlation coefficient <b>1</b> is obtained when converted magnetic distribution M<b>2</b>D and measured magnetic distribution A match.</p><p id="p-0083" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mrow>      <msub>       <mi>C</mi>       <mrow>        <mi>u</mi>        <mo>,</mo>        <mi>v</mi>       </mrow>      </msub>      <mo>=</mo>      <mfrac>       <mrow>        <msubsup>         <mo>&#x2211;</mo>         <mrow>          <mi>x</mi>          <mo>=</mo>          <mi>u</mi>         </mrow>         <mrow>          <mi>u</mi>          <mo>+</mo>          <mi>Nx</mi>          <mo>-</mo>          <mn>1</mn>         </mrow>        </msubsup>        <mrow>         <msubsup>          <mo>&#x2211;</mo>          <mrow>           <mi>y</mi>           <mo>=</mo>           <mi>v</mi>          </mrow>          <mrow>           <mi>v</mi>           <mo>+</mo>           <mi>Ny</mi>           <mo>-</mo>           <mn>1</mn>          </mrow>         </msubsup>         <mrow>          <mrow>           <mo>(</mo>           <mrow>            <msub>             <mi>f</mi>             <mrow>              <mi>x</mi>              <mo>,</mo>              <mi>y</mi>             </mrow>            </msub>            <mo>-</mo>            <msub>             <mover>              <mi>f</mi>              <mo>_</mo>             </mover>             <mrow>              <mi>u</mi>              <mo>,</mo>              <mi>v</mi>             </mrow>            </msub>           </mrow>           <mo>)</mo>          </mrow>          <mo>&#x2062;</mo>          <mrow>           <mo>(</mo>           <mrow>            <msub>             <mi>t</mi>             <mrow>              <mrow>               <mi>x</mi>               <mo>-</mo>               <mi>u</mi>              </mrow>              <mo>,</mo>              <mrow>               <mi>y</mi>               <mo>-</mo>               <mi>v</mi>              </mrow>             </mrow>            </msub>            <mo>-</mo>            <mover>             <mi>t</mi>             <mo>_</mo>            </mover>           </mrow>           <mo>)</mo>          </mrow>         </mrow>        </mrow>       </mrow>       <mtable>        <mtr>         <mtd>          <msqrt>           <mrow>            <msubsup>             <mo>&#x2211;</mo>             <mrow>              <mi>x</mi>              <mo>=</mo>              <mi>u</mi>             </mrow>             <mrow>              <mi>u</mi>              <mo>+</mo>              <mi>Nx</mi>              <mo>-</mo>              <mn>1</mn>             </mrow>            </msubsup>            <mrow>             <msubsup>              <mo>&#x2211;</mo>              <mrow>               <mi>y</mi>               <mo>=</mo>               <mi>v</mi>              </mrow>              <mrow>               <mi>v</mi>               <mo>+</mo>               <mi>Ny</mi>               <mo>-</mo>               <mn>1</mn>              </mrow>             </msubsup>             <msup>              <mrow>               <mo>(</mo>               <mrow>                <msub>                 <mi>f</mi>                 <mrow>                  <mi>x</mi>                  <mo>,</mo>                  <mi>y</mi>                 </mrow>                </msub>                <mo>-</mo>                <msub>                 <mover>                  <mi>f</mi>                  <mo>_</mo>                 </mover>                 <mrow>                  <mi>u</mi>                  <mo>,</mo>                  <mi>v</mi>                 </mrow>                </msub>               </mrow>               <mo>)</mo>              </mrow>              <mn>2</mn>             </msup>            </mrow>           </mrow>          </msqrt>         </mtd>        </mtr>        <mtr>         <mtd>          <msqrt>           <mrow>            <msubsup>             <mo>&#x2211;</mo>             <mrow>              <mi>x</mi>              <mo>=</mo>              <mi>u</mi>             </mrow>             <mrow>              <mi>u</mi>              <mo>+</mo>              <mi>Nx</mi>              <mo>-</mo>              <mn>1</mn>             </mrow>            </msubsup>            <mrow>             <msubsup>              <mo>&#x2211;</mo>              <mrow>               <mi>y</mi>               <mo>=</mo>               <mi>v</mi>              </mrow>              <mrow>               <mi>v</mi>               <mo>+</mo>               <mi>Nx</mi>               <mo>-</mo>               <mn>1</mn>              </mrow>             </msubsup>             <msup>              <mrow>               <mo>(</mo>               <mrow>                <msub>                 <mi>t</mi>                 <mrow>                  <mrow>                   <mi>x</mi>                   <mo>-</mo>                   <mi>u</mi>                  </mrow>                  <mo>,</mo>                  <mrow>                   <mi>y</mi>                   <mo>-</mo>                   <mi>v</mi>                  </mrow>                 </mrow>                </msub>                <mo>-</mo>                <mover>                 <mi>t</mi>                 <mo>_</mo>                </mover>               </mrow>               <mo>)</mo>              </mrow>              <mn>2</mn>             </msup>            </mrow>           </mrow>          </msqrt>         </mtd>        </mtr>       </mtable>      </mfrac>     </mrow>     <mo>&#x2062;</mo>     <mtext></mtext>     <mrow>      <msub>       <mover>        <mi>f</mi>        <mo>_</mo>       </mover>       <mrow>        <mi>u</mi>        <mo>,</mo>        <mi>v</mi>       </mrow>      </msub>      <mo>=</mo>      <mrow>       <mfrac>        <mn>1</mn>        <mi>NxNy</mi>       </mfrac>       <mo>&#x2062;</mo>       <mrow>        <munderover>         <mo>&#x2211;</mo>         <mrow>          <mi>x</mi>          <mo>=</mo>          <mi>u</mi>         </mrow>         <mrow>          <mi>u</mi>          <mo>+</mo>          <mi>Nx</mi>          <mo>-</mo>          <mn>1</mn>         </mrow>        </munderover>        <mrow>         <munderover>          <mo>&#x2211;</mo>          <mrow>           <mi>y</mi>           <mo>=</mo>           <mi>v</mi>          </mrow>          <mrow>           <mi>v</mi>           <mo>+</mo>           <mi>Ny</mi>           <mo>-</mo>           <mn>1</mn>          </mrow>         </munderover>         <msub>          <mi>f</mi>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>         </msub>        </mrow>       </mrow>      </mrow>     </mrow>     <mo>&#x2062;</mo>     <mtext></mtext>     <mrow>      <mover>       <mi>t</mi>       <mo>_</mo>      </mover>      <mo>=</mo>      <mrow>       <mfrac>        <mn>1</mn>        <mi>NxNy</mi>       </mfrac>       <mo>&#x2062;</mo>       <mrow>        <munderover>         <mo>&#x2211;</mo>         <mrow>          <mi>x</mi>          <mo>=</mo>          <mn>0</mn>         </mrow>         <mrow>          <mi>Nx</mi>          <mo>-</mo>          <mn>1</mn>         </mrow>        </munderover>        <mrow>         <munderover>          <mo>&#x2211;</mo>          <mrow>           <mi>y</mi>           <mo>=</mo>           <mn>0</mn>          </mrow>          <mrow>           <mi>Ny</mi>           <mo>-</mo>           <mn>1</mn>          </mrow>         </munderover>         <msub>          <mi>t</mi>          <mrow>           <mi>x</mi>           <mo>,</mo>           <mi>y</mi>          </mrow>         </msub>        </mrow>       </mrow>      </mrow>     </mrow>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mrow>      <mi>Equation</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mn>1</mn>     </mrow>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths></p><p id="p-0084" num="0083">Here, f indicates converted magnetic distribution M<b>2</b>D, and t indicates measured magnetic distribution A. The area size of measured magnetic distribution A is Nx&#xd7;Ny, and the area size of converted magnetic distribution M<b>2</b>D is sufficiently larger than measured magnetic distribution A.</p><p id="p-0085" num="0084">In Equation 1, changing (u, v) means that an area to be superposed on measured magnetic distribution A is changed in converted magnetic distribution M<b>2</b>D. Calculating cross-correlation coefficients for various coordinates (u, v) corresponds to, for example, as in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, checking a degree of matching while the position of measured magnetic distribution A is shifted with respect to converted magnetic distribution M<b>2</b>D. An area corresponding to coordinates (u0, v0) when a cross-correlation coefficient closest to 1, which is the maximum correlation value, is obtained from among the cross-correlation coefficients calculated for various coordinates (u, v) can be specified as an area corresponding to measured magnetic distribution A. If the area corresponding to measured magnetic distribution A in converted magnetic distribution M<b>2</b>D based on road-surface magnetic distribution M<b>2</b> can be specified, the own vehicle position in road-surface magnetic distribution M<b>2</b> can be estimated. Road-surface magnetic distribution M<b>2</b> is associated with structure map M<b>1</b> (refer to <figref idref="DRAWINGS">FIG. <b>1</b></figref>) by position data indicating absolute positions. Estimating the own vehicle position in road-surface magnetic distribution M<b>2</b> is synonymous with estimating the own vehicle position on the map.</p><p id="p-0086" num="0085">When a correlation operation is performed at respective coordinates (u, v), measured magnetic distribution A may be rotated to calculate a cross-correlation coefficient for each rotation angle. Here, it is preferable to limit the range of rotation angles for performing cross-correlation by assuming driving situations such as a lane change in which the forwarding direction of vehicle <b>5</b> is shifted in angle with respect to the direction of road <b>100</b>. By calculating a cross-correlation coefficient by rotating measured magnetic distribution A, the own vehicle position can be estimated not only when vehicle <b>5</b> travels along road <b>100</b> but also during a lane change or the like. To calculate a cross-correlation coefficient for each coordinate or for each rotation angle, not only the position of vehicle <b>5</b> but also the azimuth (posture) of vehicle <b>5</b> can be estimated.</p><p id="p-0087" num="0086">As described above, position estimation system <b>1</b>S of the present embodiment is a system which estimates the own vehicle position on the map by using road-surface magnetic distribution M<b>2</b>, which is a magnetic distribution at the respective points on road surface <b>100</b>S. If the own vehicle position on the map can be estimated, various driving assist controls can be achieved, including lane following control and automatic driving.</p><p id="p-0088" num="0087">In road-surface magnetic distribution M<b>2</b> configuring map <b>1</b>, the magnitude of the quantity of magnetism is formed depending on magnetism generation sources, such as the magnetic material mixed into the pavement material forming road surface <b>100</b>S, a metal-made manhole installed on road surface <b>100</b>S, and a joint of a bridge. Since these magnetism generation sources are positionally fixed onto road surface <b>100</b>S, positional fluctuations are small. By using road-surface magnetic distribution M<b>2</b> derived from the positionally-fixed magnetism generation sources, the own vehicle position on the map can be estimated with high accuracy.</p><p id="p-0089" num="0088">Note that, as described above, when the position estimation process is first performed, for example, the use of the measured position by GPS unit <b>351</b> is effective. By using the measured position, the range in which measured magnetic distribution A is collated in road-surface magnetic distribution M<b>2</b> can be limited, and the amount of operation required for a correlation operation between converted magnetic distribution M<b>2</b>D and measured magnetic distribution A can be suppressed. Furthermore, after the own vehicle position is estimated, the own vehicle position after displacement is preferably predicted by motion estimation of vehicle <b>5</b>. By predicting the own vehicle position after displacement, the collation range of measured magnetic distribution A can be limited in road-surface magnetic distribution M<b>2</b> (converted magnetic distribution M<b>2</b>D), and efficiency of correlation operation can be improved.</p><p id="p-0090" num="0089">Furthermore, after the own vehicle position is estimated, for example, as in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, range RS as a candidate of the own vehicle position (in the present embodiment, the position of the center of sensor array <b>2</b>) is preferably set with reference to estimated own vehicle position P. Since this range RS is a candidate of an area sensor array <b>2</b> faces after displacement, it is preferable to collate one-dimensional magnetic distribution by the magnetic measurement process in this range RS. In this manner, after estimation of the own vehicle position, the own vehicle position can be estimated by collating the one-dimensional magnetic distribution in range RS of <figref idref="DRAWINGS">FIG. <b>12</b></figref>. A correlation operation of a one-dimensional magnetic distribution is efficient because it needs an amount of operation smaller than that of a correlation operation of a two-dimensional magnetic distribution.</p><p id="p-0091" num="0090">By collating road-surface magnetic distribution M<b>2</b> (converted magnetic distribution M<b>2</b>D) and measured magnetic distribution A or the one-dimensional magnetic distribution acquired by vehicle <b>5</b>, the position and posture of measured magnetic distribution A or the one-dimensional magnetic distribution can be specified in road-surface magnetic distribution M<b>2</b>. For example, after the own vehicle position can be estimated, by specifying the position and posture of measured magnetic distribution A or the one-dimensional magnetic distribution in road-surface magnetic distribution M<b>2</b>, changes in relative position or azimuth (orientation or posture of the vehicle) can be grasped with reference to the estimated own vehicle position. In this manner, the configuration of estimating the position of vehicle <b>5</b> by collating road-surface magnetic distribution M<b>2</b> (converted magnetic distribution M<b>2</b>D) and measured magnetic distribution A or the one-dimensional magnetic distribution can be an alternative to an IMU.</p><p id="p-0092" num="0091">In the present embodiment, to suppress the amount of operation of the position estimation process and efficiently perform the position estimation process, the configuration of using the measured position by GPS unit <b>351</b> is exemplarily described. In place of the GPS use, a communication unit such as a radio beacon or infrared beacon installed on a road side or the like may be used. When vehicle <b>5</b> is equipped with a receiving unit, the own vehicle position can be broadly grasped in response to reception of a beacon wave. Furthermore, by processing an image taken by a front camera, the name of an intersection, a placename, and so forth may be recognized to broadly grasp the own vehicle position. Alternatively, the own vehicle position may be broadly grasped by collation with foreground images stored in a vehicle onboard database or a database accessible via the Internet or the like. If the own vehicle position can be broadly grasped, suppression of the amount of operation required for correlation operation or the like in the position estimation process can be achieved.</p><p id="p-0093" num="0092">In the present embodiment, an automatic driving system is exemplarily described as a system to be combined with position estimation system <b>1</b>S. In place of the automatic driving system, a departure warning system which warns a departure from a lane or a lane keep system which automatically steers a steering wheel along a lane or causes a steering assist force for avoiding a departure from a lane may be applied.</p><p id="p-0094" num="0093">Note that when vehicle <b>5</b> is connectable to a communication line such as the Internet, the function of map DB <b>40</b> may be provided to a server device. Vehicle <b>5</b> preferably transmits information required for estimating the own vehicle position to the server device. The functions of performing the magnetic distribution generation process and the position estimation process may be provided to the server device. In this case, every time the magnetic measurement process is performed, it is only required that the one-dimensional magnetic distribution be transmitted from vehicle <b>5</b> to the server device. By using the one-dimensional magnetic distribution received from the vehicle, the server device can estimate the own vehicle position of the transmission-source vehicle and make a reply.</p><p id="p-0095" num="0094">In the present embodiment, conversion into a magnetic distribution at the attachment height of magnetic sensors Cn (converted magnetic distribution) is performed based on road-surface magnetic distribution M<b>2</b> to perform collation with measured magnetic distribution. In place of this, the measured magnetic distribution may be converted into a magnetic distribution on road surface <b>100</b>S to perform collation with road-surface magnetic distribution M<b>2</b>. Alternatively, the measured magnetic distribution may be directly collated without converting road-surface magnetic distribution M<b>2</b> or the like.</p><p id="p-0096" num="0095">To make a conversion into a magnetic distribution at the attachment height of magnetic sensors Cn based on road-surface magnetic distribution M<b>2</b>, the attachment height of magnetic sensors Cn is measured by using height sensor <b>357</b>. Then, by a simulation in consideration of this attachment height, road-surface magnetic distribution M<b>2</b> is converted into a magnetic distribution at the attachment height of magnetic sensors Cn to acquire a converted magnetic distribution. In place of height sensor <b>357</b>, a storage part which stores the attachment height of magnetic sensors Cn as a setting value may be provided.</p><p id="p-0097" num="0096">Two or more magnetic sensors at different heights may be arranged along the vertical direction. In this case, a ratio (such as attenuation ratio) of magnetic measurement values from two magnetic sensors arranged along the vertical direction can be specified. Then, by performing a simulation operation including, as a variable, the ratio of magnetic measurement values by two magnetic sensors with a known height difference, road-surface magnetic distribution M<b>2</b> can be converted into a magnetic distribution at the attachment height of magnetic sensors Cn.</p><p id="p-0098" num="0097">Furthermore, for example, magnetic markers with known quantity of magnetism may be laid on road surface <b>100</b>S. In this case, for the magnetic markers, an attenuation ratio of the quantity of magnetism measured by magnetic sensors Cn is preferably calculated. By using the attenuation ratio of the quantity of magnetism, conversion into a magnetic distribution at the attachment height of magnetic sensors Cn can be made based on the road-surface magnetic distribution.</p><p id="p-0099" num="0098">Note that the road surface may be paved by using a pavement material having a magnetic material such as magnetic powder of iron oxide mixed therewith. In this case, the magnetic material in the pavement material is magnetized, and undulations of road-surface magnetic distribution M<b>2</b> tend to increase. When the undulations of the magnetic distribution expand, collation between magnetic distributions becomes easy and accuracy can be improved. Note that it is also preferable to magnetize unevenly the road surface paved with the pavement material having the magnetic material mixed therewith. In this case, the undulations of the magnetic distribution can be further expanded, and collation between magnetic distributions becomes easy. A pavement material having a magnetic material mixed therewith and a normal pavement material not including a magnetic material may be prepared. In this case, the pavement materials of two types may be supplied unevenly to the road surface without being mixed together. Since a difference in composition ratio of the magnetic materials occurs in accordance with the position on the road surface, this can expand the undulations of the magnetic distribution.</p><p id="p-0100" num="0099">After paved by using the pavement material having the magnetic material mixed therewith, the road surface may be magnetized. For example, the road surface may be magnetized so that a predetermined pattern is formed, such as, for example, a checkered pattern in which a rectangular area with strong magnetism and a rectangular area with weak magnetism alternately appear. By using the pattern formed with strong and weak magnetisms, collation between magnetic distributions becomes easy, and position estimation accuracy can be improved. Also, when the road surface is magnetized so as to form a predetermined pattern, for example, by using a dividing line between a rectangular area with a large quantity of magnetism and a rectangular area with a small quantity of magnetism, collation with the measured magnetic distribution can be efficiently performed. For example, when the measured magnetic distribution includes a dividing line, it is only required that collation be performed by presuming coincidence with a dividing line in road-surface magnetic distribution M<b>2</b>. The predetermined pattern may be an information-readable pattern such as a one-dimensional or two-dimensional barcode.</p><p id="p-0101" num="0100">Furthermore, road surface <b>100</b>S may be magnetized so that a magnetic singular point appears on road surface <b>100</b>S paved with the pavement material having the magnetic material mixed therewith. In this manner, by creating magnetic singular points with magnetic powder of iron oxide or the like, collation between magnetic distributions becomes easy. By presuming coincidence of singular points, combinations where the singular points do not coincide can be eliminated at the time of collation between magnetic distributions, allowing collation to be efficiently performed.</p><p id="p-0102" num="0101">Also, a pavement material having a magnetic material mixed therewith and a normal pavement material not including a magnetic material may be prepared. In this case, the type of pavement material may be switched for each area. In this case, the magnetic material is condensed or scarce for each area, the undulations of the magnetic distribution can be expanded, allowing collation between magnetic distributions to be easily made.</p><p id="p-0103" num="0102">In the present embodiment, collation with the measured magnetic distribution, which is a two-dimensional magnetic distribution obtained by accumulating one-dimensional magnetic distributions by the magnetic measurement process, is performed. Collation with a temporal distribution of magnetic measurement values of any one of magnetic sensors Cn, that is, a one-dimensional distribution along the traveling path of the vehicle, may be performed. A sensor array having magnetic sensors two-dimensionally arrayed may be adopted. In this case, collation with a two-dimensional magnetic distribution measured by this sensor array can be performed. Alternatively, a plurality of sensor arrays with the same specification as that of sensor array <b>2</b> described above may be prepared and arranged at a plurality of locations in the forwarding direction of the vehicle. In this case, a plurality of one-dimensional magnetic distributions with a known relative positional relation can be acquired. Collation among the plurality of these one-dimensional magnetic distributions may be performed. The plurality of sensor arrays may be attached so as to be parallel to one another or intersect to form an L shape or cross shape.</p><p id="p-0104" num="0103">Note that the road-surface magnetic distribution may be a distribution of magnetic gradients, which are one example of magnetic data based on the quantities of magnetism at the respective points on the road surface. A magnetic gradient can be calculated as, for example, a difference in the quantity of magnetism between adjacent points. Also, the measured magnetic distribution to be collated with the road-surface magnetic distribution of magnetic gradients is preferably a distribution of magnetic gradients based on magnetic measurement values. The magnetic gradient can be calculated as, for example, a difference between magnetic measurement values of adjacent magnetic sensors among magnetic sensors Cn configuring sensor array <b>2</b>.</p><p id="p-0105" num="0104">In the magnetic gradient, a magnetic component acting uniformly or almost uniformly on the magnetic sensor is suppressed. For this reason, in the magnetic gradient, a magnetic component acting from a magnetism generation source that is present relatively far away is suppressed, and a magnetic component acting from a magnetism generation source that is present relatively near, such as one on the road surface or the like, is relatively emphasized. Therefore, to estimate the position using a magnetic pattern on the road surface the magnetic sensor faces, the use of a magnetic gradient distribution is suitable. By using the magnetic gradient distribution, influences by magnetism generation sources such as surrounding vehicles, guardrails, and billboards and influences by terrestrial magnetism can be suppressed, and position estimation accuracy can be improved.</p><p id="p-0106" num="0105">Note that, for example, a difference between magnetic measurement values with different acquisition times may be converted into a difference per distance specified based on vehicle speed information separately provided. A difference per distance may be calculated in advance for two magnetic sensors, and a difference may be further taken between the two magnetic sensors to calculate a magnetic gradient. In this case, an effect can be expected in which the above-described magnetic gradient can be calculated without providing in advance a spacing between magnetic markers arranged on the road. Furthermore, for example, to calculate a magnetic gradient from a difference between magnetic measurement values at different times from one magnetic sensor, a magnetic gradient may be calculated from a difference per distance specified by vehicle-speed information separately provided. In this case, the necessity to set two vehicle-onboard sensor units at the front and rear is lessened. If a magnetic gradient can be calculated by one sensor unit, effects can be expected in which the design load of allocating positions for mounting the sensor units can be reduced, and the cost of mounting sensor units can be reduced.</p><heading id="h-0012" level="1">Second Embodiment</heading><p id="p-0107" num="0106">The present embodiment is an example of application of position estimation system <b>1</b>S to road <b>100</b> where magnetic markers <b>10</b> are laid. Details of this are described with reference to <figref idref="DRAWINGS">FIG. <b>3</b></figref> and <figref idref="DRAWINGS">FIG. <b>13</b></figref> to <figref idref="DRAWINGS">FIG. <b>18</b></figref>.</p><p id="p-0108" num="0107">On exemplarily-depicted road <b>100</b>, as in <figref idref="DRAWINGS">FIG. <b>13</b></figref>, magnetic markers <b>10</b> are laid, for example, every 10 meters. When a vehicle travels this road <b>100</b>, as with the first embodiment, the magnetic measurement process (S<b>101</b>) is performed by sensor array <b>2</b>, and the motion estimation process (S<b>103</b>), the magnetic distribution generation process (S<b>105</b>), and the position estimation process (S<b>109</b>) are performed by control unit <b>32</b> (<figref idref="DRAWINGS">FIG. <b>14</b></figref>). A main difference from the first embodiment is that sensor array <b>2</b> performs a marker detection process (S<b>102</b>) in addition to the magnetic measurement process (S<b>101</b>). Sensor array <b>2</b> performs the marker detection process at a frequency of 3 kHz by using magnetic sensors Cn.</p><p id="p-0109" num="0108">As described in the first embodiment, magnetic sensors Cn are configured to measure magnetic components in the forwarding direction and the vehicle-width direction of the vehicle. For example, when these magnetic sensors Cn move in the forwarding direction to pass directly above magnetic marker <b>10</b>, the magnetic measurement value in the forwarding direction has its sign reversed before and after passing magnetic marker <b>10</b> as in <figref idref="DRAWINGS">FIG. <b>15</b></figref>, and changes so as to cross zero at a position directly above magnetic marker <b>10</b>. Therefore, during traveling of vehicle, when zero-cross Zc occurs in which the sign of magnetism in the forwarding direction detected by any magnetic sensor Cn is reversed, it can be determined that sensor array <b>2</b> is positioned directly above magnetic marker <b>10</b>. In this manner, when sensor array <b>2</b> is positioned directly above magnetic marker <b>10</b> and zero-cross Zc of the magnetic measurement value in the forwarding direction occurs, detection processing circuit <b>212</b> determines that magnetic marker <b>10</b> is detected.</p><p id="p-0110" num="0109">Also, for example, as for a magnetic sensor with the same specification as that of magnetic sensors Cn, a movement along a virtual line in the vehicle-width direction passing directly above magnetic marker <b>10</b> is assumed. The magnetic measurement value in the vehicle-width direction has its sign reversed on both sides across magnetic marker <b>10</b> and changes so as to cross zero at a position directly above magnetic marker <b>10</b>. In the case of sensor array <b>2</b> having fifteen magnetic sensors Cn arrayed in the vehicle-width direction, the sign of the magnetic measurement value in the vehicle-width direction to be detected by magnetic sensor Cn varies depending on which side the unit is present with respect to magnetic marker <b>10</b> (<figref idref="DRAWINGS">FIG. <b>16</b></figref>).</p><p id="p-0111" num="0110">Based on a distribution curve of <figref idref="DRAWINGS">FIG. <b>16</b></figref> exemplarily depicting magnetic measurement values in the vehicle-width direction of each magnetic sensor Cn of sensor array <b>2</b>, an intermediate position between adjacent two magnetic sensors Cn across zero-cross Zc where the magnetism in the vehicle-width direction is reversed between positive and negative, or a position straight below any of magnetic sensor Cn of which the detected magnetic measurement value in the vehicle-width direction is zero and the magnetic measurement values in the vehicle-width direction of magnetic sensors Cn on both outer sides is reversed between positive and negative is the position of the magnetic marker <b>10</b> in the vehicle-width direction. This position in the vehicle-width direction indicates a relative position of vehicle <b>5</b> with respect to magnetic marker <b>10</b>.</p><p id="p-0112" num="0111">When detecting magnetic marker <b>10</b> as described above, sensor array <b>2</b> inputs marker detection information including information about the fact of that detection, a position in the vehicle-width direction, and so forth to control unit (reference sign <b>32</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>). The position in the vehicle-width direction is indicated as a position in a one-dimensional direction in a one-dimensional magnetic distribution acquired by the magnetic measurement process. To this marker detection information, sensor array <b>2</b> links identification information of a one-dimensional magnetic distribution when magnetic marker <b>10</b> is detected.</p><p id="p-0113" num="0112">The control unit which performs the magnetic distribution generation process (S<b>105</b>) plots the position of magnetic marker <b>10</b> in measured magnetic distribution A as marker arrangement point <b>10</b>P (<figref idref="DRAWINGS">FIG. <b>17</b></figref>). In measured magnetic distribution A acquired by two-dimensionally accumulating one-dimensional magnetic distributions along the traveling path of the vehicle, on which one-dimensional magnetic distribution, marker arrangement point <b>10</b>P is present can be specified by identification information of the one-dimensional magnetic distribution linked to the marker detection information. Also, the position of marker arrangement point <b>10</b>P in the vehicle-width direction in measured magnetic distribution A can be specified by the position in the vehicle-width direction included in the marker detection information.</p><p id="p-0114" num="0113">Here, in road-surface magnetic distribution M<b>2</b> as a target for collation with measured magnetic distribution A in the present embodiment, as with measured magnetic distribution A described above, the positions of magnetic markers <b>10</b> are plotted as marker arrangement points <b>10</b>P. This road-surface magnetic distribution M<b>2</b> can be acquired by a measuring vehicle which has the functions of the measuring vehicle exemplarily described in the first embodiment and also can perform the above-described marker detection process. In converted magnetic distribution M<b>2</b>D, which is a magnetic distribution acquired by converting road-surface magnetic distribution M<b>2</b>, marker arrangement points <b>10</b>P are plotted at the same positions of the marker arrangement points in road-surface magnetic distribution M<b>2</b>.</p><p id="p-0115" num="0114">The control unit which performs the position estimation process (S<b>109</b>) collates measured magnetic distribution A exemplarily depicted in <figref idref="DRAWINGS">FIG. <b>17</b></figref> with converted magnetic distribution M<b>2</b>D having marker arrangement points <b>10</b>P plotted thereon. As in <figref idref="DRAWINGS">FIG. <b>17</b></figref>, measured magnetic distribution A includes a plot of marker arrangement point <b>10</b>P indicating the position of magnetic marker <b>10</b>. To collate measured magnetic distribution A with converted magnetic distribution M<b>2</b>D, as in <figref idref="DRAWINGS">FIG. <b>18</b></figref>, a cross-correlation coefficient is preferably calculated at each position for every 10 meters where marker arrangement points <b>10</b>P coincide. In this manner, in the case of a combination of converted magnetic distribution M<b>2</b>D and measured magnetic distribution A having a plot of marker arrangement points <b>10</b>P, it is only required that a correlation operation be performed only at the position where marker arrangement points P coincide with each other. That is, it is only required that the position of measured magnetic distribution A be shifted at 10-meter pitches with respect to converted magnetic distribution M<b>2</b>D, and the amount of operation for correlation operation can be significantly suppressed.</p><p id="p-0116" num="0115">That is, in this case, it is preferably specify an area corresponding to measured magnetic distribution A from among areas, where marker arrangement points <b>10</b>P (the position of magnetic marker <b>10</b>) coincide, in road-surface magnetic distribution M<b>2</b> or converted magnetic distribution M<b>2</b>D. By limiting to an area where marker arrangement points <b>10</b>P coincide, the number of times of collation with measured magnetic distribution A can be significantly reduced, and an area corresponding to measured magnetic distribution A can be efficiently specified. Marker arrangement points <b>10</b>P can be utilized as magnetic singular points in the magnetic distributions. Note that the other configurations and the operation and effects are similar to those in the first embodiment.</p><heading id="h-0013" level="1">Third Embodiment</heading><p id="p-0117" num="0116">The present embodiment is an example based on the position estimation system of the first embodiment, and is an example of application to a road where magnetic markers <b>10</b> are laid in a state in which the absolute positions can be specified. Details of this are described with reference to <figref idref="DRAWINGS">FIG. <b>19</b></figref> to <figref idref="DRAWINGS">FIG. <b>21</b></figref>.</p><p id="p-0118" num="0117">In the present embodiment, magnetic marker <b>10</b> having RF-ID tag <b>15</b> affixed to a surface is laid on the road surface (<figref idref="DRAWINGS">FIG. <b>19</b></figref>). Vehicle <b>5</b> is provided with, in addition to the configuration of the first embodiment, tag reader <b>34</b> which can communicate with RF-ID tag <b>15</b> (<figref idref="DRAWINGS">FIG. <b>20</b></figref>). RF-ID tag <b>15</b> transmits position information indicating an absolute position of corresponding magnetic marker <b>10</b>.</p><p id="p-0119" num="0118">Detection processing circuit <b>20</b> of sensor array <b>2</b> can perform the marker detection process exemplarily depicted in the second embodiment. As described above, according to the marker detection process, it is possible to detect magnetic marker <b>10</b> and also measure the position of vehicle <b>5</b> relative to magnetic marker <b>10</b> in the vehicle-width direction.</p><p id="p-0120" num="0119">When magnetic marker <b>10</b> is detected, control unit <b>32</b> receives position information from RF-ID tag <b>15</b> annexed to detected magnetic marker <b>10</b>, thereby acquiring an absolute position of that magnetic marker <b>10</b>. Then, a position shifted from the absolute position of magnetic marker <b>10</b> by the position of magnetic marker <b>10</b> in the vehicle-width direction measured by the marker detection process is specified as an own vehicle position (center position of sensor array <b>2</b>).</p><p id="p-0121" num="0120">On the other hand, when no magnetic marker <b>10</b> is detected, as with the configuration described in the first embodiment, control unit <b>32</b> specifies an area corresponding to the measured magnetic distribution to estimate an own vehicle position with reference to a map including road-surface magnetic distribution M<b>2</b>. Here, according to the steering angle measured by steering angle sensor <b>353</b> and the vehicle speed measured by vehicle speed sensor <b>355</b>, as with the first embodiment, motion Mo of vehicle <b>5</b> can be estimated (<figref idref="DRAWINGS">FIG. <b>21</b></figref>). By estimating motion Mo of vehicle <b>5</b>, an arrival position of vehicle <b>5</b> in accordance with the elapsed time after passing over magnetic marker <b>10</b> can be estimated. When a range RS on a map to which this arrival position belongs is selected and collation with the measured magnetic distribution is performed with limitation to this range RS, an area corresponding to measured magnetic distribution A in road-surface magnetic distribution M<b>2</b> or converted magnetic distribution M<b>2</b>D can be efficiently specified. Note that the other configurations and the operation and effects are similar to those in the first embodiment.</p><p id="p-0122" num="0121">In the foregoing, specific examples of the present invention are described in detail as in the embodiments, these specific examples merely disclose examples of technology included in the scope of the claims. Needless to say, the scope of the claims should not be restrictively construed based on the configuration, numerical values, and so forth of the specific examples. The scope of the claims includes techniques acquired by variously modifying, changing, or combining as appropriate the above-described specific examples by using known techniques, knowledge of a person skilled in the art, and so forth.</p><heading id="h-0014" level="1">REFERENCE SIGNS LIST</heading><p id="p-0123" num="0000"><ul id="ul0002" list-style="none">    <li id="ul0002-0001" num="0122"><b>1</b>S position estimation system</li>    <li id="ul0002-0002" num="0123"><b>1</b> map</li>    <li id="ul0002-0003" num="0124"><b>10</b> magnetic marker</li>    <li id="ul0002-0004" num="0125"><b>2</b> sensor array</li>    <li id="ul0002-0005" num="0126"><b>32</b> control unit</li>    <li id="ul0002-0006" num="0127"><b>321</b> motion estimation part</li>    <li id="ul0002-0007" num="0128"><b>323</b> magnetic distribution generation part</li>    <li id="ul0002-0008" num="0129"><b>325</b> conversion processing part</li>    <li id="ul0002-0009" num="0130"><b>327</b> position estimation part</li>    <li id="ul0002-0010" num="0131"><b>351</b> GPS unit</li>    <li id="ul0002-0011" num="0132"><b>353</b> steering angle sensor</li>    <li id="ul0002-0012" num="0133"><b>355</b> vehicle speed sensor</li>    <li id="ul0002-0013" num="0134"><b>357</b> height sensor</li>    <li id="ul0002-0014" num="0135"><b>40</b> map database (storage part)</li>    <li id="ul0002-0015" num="0136"><b>5</b> vehicle</li>    <li id="ul0002-0016" num="0137">A measured magnetic distribution</li>    <li id="ul0002-0017" num="0138">Cn magnetic sensor</li>    <li id="ul0002-0018" num="0139">M<b>1</b> structure map</li>    <li id="ul0002-0019" num="0140">M<b>2</b> road-surface magnetic distribution</li>    <li id="ul0002-0020" num="0141">M<b>2</b>D converted magnetic distribution</li></ul></p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001" nb-file="US20230003530A1-20230105-M00001.NB"><img id="EMI-M00001" he="40.22mm" wi="76.20mm" file="US20230003530A1-20230105-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A position estimation method for a vehicle including a magnetic sensor which measures magnetism acting from a road surface forming a surface of a traveling road to estimate an own vehicle position, comprising:<claim-text>a magnetic measurement process of acquiring magnetic measurement values from the magnetic sensor;</claim-text><claim-text>a magnetic distribution generation process of generating a measured magnetic distribution indicating a distribution of magnetic data based on the magnetic measurement values acquired from the magnetic measurement process; and</claim-text><claim-text>a position estimation process of, by referring to a map associated with a road-surface magnetic distribution indicating a distribution of magnetic data based on quantities of magnetism at respective points on the road surface, specifying an area of the road-surface magnetic distribution corresponding to the measured magnetic distribution and estimating the own vehicle position based on a position of the area corresponding to the measured magnetic distribution on the map.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The position estimation method in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the magnetic data based on the magnetic measurement values and the magnetic data based on the quantities of magnetism at the respective points on the road surface are magnetic gradients, and each of the measured magnetic distribution and the road-surface magnetic distribution is a distribution of the magnetic gradients.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The position estimation method in <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising a conversion process of converting the road-surface magnetic distribution into a distribution at an attachment height of the magnetic sensor, wherein<claim-text>in the position estimation process, the distribution after conversion by the conversion process and the measured magnetic distribution are collated to specify an area corresponding to the measured magnetic distribution.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The position estimation method in <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising a conversion process of converting the measured magnetic distribution into a distribution at a height of the road surface, wherein<claim-text>in the position estimation process, the distribution after conversion by the conversion and the road-surface magnetic distribution are collated to specify the area corresponding to the measured magnetic distribution.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The position estimation method in <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the conversion process is a process of converting the distribution in accordance with a ratio of magnetic measurement values from two magnetic sensors with different attachment heights.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The position estimation method in <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the conversion process is a process of converting the distribution in accordance with a magnitude of the magnetic measurement value acquired by the magnetic sensor for a magnetic marker which is a magnetism generation source laid on the road surface and having known magnetic intensity.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The position estimation method in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein magnetic markers as magnetism generation sources are laid on the traveling road as spaced in a state in which absolute positions can be specified,<claim-text>in the position estimation process, when any of the magnetic markers is detected by the vehicle, the own vehicle position is estimated with reference to the absolute position of the magnetic marker, and</claim-text><claim-text>when none of the magnetic markers is detected, the own vehicle position is estimated based on the position of the area corresponding to the measured magnetic distribution on the map.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The position estimation method in <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein when none of the magnetic markers is detected, an arrival position of the vehicle after detecting any magnetic marker is estimated, a range to which the arrival position belongs on the map is selected, and the area corresponding to the measured magnetic distribution is specified in the range on the map.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The position estimation method in <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the positions of the magnetic markers laid on the road surface are specified in the road-surface magnetic distribution and the measured magnetic distribution, and<claim-text>in the position estimation process, the area corresponding to the measured magnetic distribution is specified among areas where the position of the magnetic marker coincides in the road-surface magnetic distribution.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A position estimation system for a vehicle including a magnetic sensor which measures magnetism acting from a road surface forming a surface of a traveling road to estimate an own vehicle position, comprising:<claim-text>a storage part which stores a map associated with a road-surface magnetic distribution, which is a distribution of magnetic data based on quantities of magnetism at respective points on the road surface;</claim-text><claim-text>a magnetic distribution generation part which acquires magnetic measurement values from the magnetic sensor and generates a measured magnetic distribution, which is a distribution of magnetic data based on the magnetic measurement values; and</claim-text><claim-text>a position estimation part which specifies an area corresponding to the measured magnetic distribution in the road-surface magnetic distribution associated with the map stored in the storage part and estimates the own vehicle position based on a position of the area corresponding to the measured magnetic distribution on the map.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The position estimation system in <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the road surface is a surface of a pavement made of a pavement material having magnetic powder, which is powder of a magnetic material, dispersed therein and the magnetic powder dispersed in the pavement is magnetized so that a magnetic distribution of the road surface forms a predetermined pattern.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The position estimation system in <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein magnetic markers are laid along the traveling road.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The position estimation system in <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the positions of the magnetic markers are specified in the road-surface magnetic distribution and the measured magnetic distribution, and<claim-text>the position estimation part is configured to specify the area corresponding to the measured magnetic distribution among areas of where the position of the magnetic marker coincides in the road-surface magnetic distribution.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The position estimation system in <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the magnetic data based on the magnetic measurement values and the magnetic data based on the quantities of magnetism at the respective points on the road surface are magnetic gradients, and each of the measured magnetic distribution and the road-surface magnetic distribution is a distribution of the magnetic gradients.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The position estimation method in <claim-ref idref="CLM-00002">claim 2</claim-ref>, comprising a conversion process of converting the road-surface magnetic distribution into a distribution at an attachment height of the magnetic sensor, wherein<claim-text>in the position estimation process, the distribution after conversion by the conversion process and the measured magnetic distribution are collated to specify an area corresponding to the measured magnetic distribution.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The position estimation method in <claim-ref idref="CLM-00002">claim 2</claim-ref>, comprising a conversion process of converting the measured magnetic distribution into a distribution at a height of the road surface, wherein<claim-text>in the position estimation process, the distribution after conversion by the conversion and the road-surface magnetic distribution are collated to specify the area corresponding to the measured magnetic distribution.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The position estimation method in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the conversion process is a process of converting the distribution in accordance with a ratio of magnetic measurement values from two magnetic sensors with different attachment heights.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The position estimation method in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the conversion process is a process of converting the distribution in accordance with a magnitude of the magnetic measurement value acquired by the magnetic sensor for a magnetic marker which is a magnetism generation source laid on the road surface and having known magnetic intensity.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The position estimation method in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the conversion process is a process of converting the distribution in accordance with a magnitude of the magnetic measurement value acquired by the magnetic sensor for a magnetic marker which is a magnetism generation source laid on the road surface and having known magnetic intensity.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The position estimation method in <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the conversion process is a process of converting the distribution in accordance with a magnitude of the magnetic measurement value acquired by the magnetic sensor for a magnetic marker which is a magnetism generation source laid on the road surface and having known magnetic intensity.</claim-text></claim></claims></us-patent-application>