<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006943A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006943</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17855826</doc-number><date>20220701</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202110746087.7</doc-number><date>20210701</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>80</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>78</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>762</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>62</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>808</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>801</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>781</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>762</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>6215</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">CLOUD DATA CENTER TENANT-LEVEL OUTBOUND RATE LIMITING METHOD AND SYSTEM</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Tsinghua University</orgname><address><city>Beijing</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>REN</last-name><first-name>Fengyuan</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>FAN</last-name><first-name>Yingchen</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>QIAN</last-name><first-name>Kun</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>MENG</last-name><first-name>Qingkai</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>ZHANG</last-name><first-name>Yiran</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Tsinghua University</orgname><role>03</role><address><city>Beijing</city><country>CN</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A cloud data center tenant-level outbound rate limiting method includes: starting a timer, receiving and generating statistics of outbound packets of tenants in a current period, obtaining local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, and generating local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants; when a timing of the timer reaches the end of the current period, sending the local bandwidth demand frames of the tenants to a switch; receiving a global bandwidth demand frame sent by the switch, and computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants; modifying rate limiting parameters, and limiting the rate of the outbound packets of the tenants in a next period.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="119.13mm" wi="131.57mm" file="US20230006943A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="211.41mm" wi="146.47mm" file="US20230006943A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="232.92mm" wi="160.36mm" file="US20230006943A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="201.17mm" wi="164.76mm" file="US20230006943A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="241.30mm" wi="164.68mm" file="US20230006943A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="210.82mm" wi="156.63mm" file="US20230006943A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">CROSS REFERENCE TO THE RELATED APPLICATION</heading><p id="p-0002" num="0001">This application is based upon and claims priority to Chinese Patent Application No. 202110746087.7 filed on Jul. 1, 2021, the entire contents of which are incorporated herein by reference.</p><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">The present application relates to the field of computer technology, in particular to a cloud data center tenant-level outbound rate limiting method and system.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">A cloud service provider provides shared bandwidth service for the outbound traffic of a cloud data center, tenants purchase a set of virtual machines that multiplex a shared bandwidth, and the cloud service provider ensures that a sum of all the outbound traffic of the virtual machines of the tenants does not exceed the bandwidth ordered by the tenants by real-time rate limiting on the virtual machines of the tenants, thereby achieving tenant-level rate limiting. At present, the tenant-level rate limiting is achieved in the case that the outbound packets of the tenants are distributed to a plurality of gateway servers of a cloud gateway, and the difficulty is the aggregate rate limiting of the plurality of gateway servers.</p><p id="p-0005" num="0004">A centralized controller is used in related technologies to dynamically collect tenants' traffic bandwidth demands and allocate bandwidth budgets to all gateway servers based on tenants' traffic bandwidth demands, and the gateway servers limit the tenants' traffic rate according to the bandwidth budget.</p><p id="p-0006" num="0005">The scalability is poor where a larger number of tenants appear in the cloud data center in related technologies, liable to cause a bottleneck in computing bandwidth budget and communication, great overheads of computing resources and bandwidth resources, increased delay in allocating the bandwidth budget, and decreased rate limiting accuracy.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0007" num="0006">The present invention provides a cloud data center tenant-level outbound rate limiting method and a system thereof, in order to solve the technical problem that the scalability is poor where a larger number of tenants appear in the cloud data center in related technologies, liable to cause a bottleneck in computing bandwidth budget and communication, great overheads of computing resources and bandwidth resources, increased delay in allocating the bandwidth budget, and decreased rate limiting accuracy.</p><p id="p-0008" num="0007">In the first aspect, the present invention provides a cloud data center tenant-level outbound rate limiting method applied to a gateway server, including the following steps:</p><p id="p-0009" num="0008">starting a timer, receiving and making statistics of outbound packets of tenants in a current period, obtaining local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, and generating local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants;</p><p id="p-0010" num="0009">when the timing of the timer reaches the current period, sending the local bandwidth demand frames of the tenants to a switch;</p><p id="p-0011" num="0010">receiving global bandwidth demand frames of the tenants sent by the switch, and computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants; and</p><p id="p-0012" num="0011">modifying rate limiting parameters based on the bandwidth budgets of the tenants, and limiting the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters.</p><p id="p-0013" num="0012">Optionally, the step of computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0014" num="0013">obtaining global traffic rate information of the tenants based on the global bandwidth demand frames of the tenants; and</p><p id="p-0015" num="0014">computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global traffic rate information of the tenants.</p><p id="p-0016" num="0015">Optionally, the step of computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global traffic rate information of the tenants specifically includes the following steps:</p><p id="p-0017" num="0016">computing bandwidth budgets allocated to the tenants by formula (1) based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants:</p><p id="p-0018" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mi>R</mi>     <mo>=</mo>     <mrow>      <mfrac>       <msub>        <mi>D</mi>        <mi>local</mi>       </msub>       <msub>        <mi>D</mi>        <mi>global</mi>       </msub>      </mfrac>      <mo>&#x22c6;</mo>      <msub>       <mi>R</mi>       <mn>0</mn>      </msub>     </mrow>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>1</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths></p><p id="p-0019" num="0017">where R represents bandwidth budgets of the tenants, R<sub>0 </sub>represents bandwidths ordered by the tenants, D<sub>local </sub>represents local traffic rate information of the tenants, and D<sub>global </sub>represents global traffic rate information of the tenants.</p><p id="p-0020" num="0018">In the second aspect, the present invention provides a cloud data center tenant-level outbound rate limiting method applied to a switch, including the following steps:</p><p id="p-0021" num="0019">receiving local bandwidth demand frames of the tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain global bandwidth demand frames of the tenants; and</p><p id="p-0022" num="0020">broadcasting the global bandwidth demand frames of the tenants to all the gateway servers.</p><p id="p-0023" num="0021">Optionally, the step of aggregating the local bandwidth demand frames of the tenants sent by all gateway servers to obtain the global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0024" num="0022">acquiring all local traffic rate information of the tenants based on the local bandwidth demand frames of the tenants sent by all the gateway servers, and summing up all the local traffic rate information of the tenants; and</p><p id="p-0025" num="0023">modifying local traffic rate information fields in the last received local bandwidth demand frames of the tenants based on the summation result to obtain the global bandwidth demand frames of the tenants.</p><p id="p-0026" num="0024">Optionally, the switch includes a first switch and a second switch, and the first switch includes at least one switch.</p><p id="p-0027" num="0025">The step of receiving local bandwidth demand frames of the tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain the global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0028" num="0026">the first switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server, aggregates the local bandwidth demand frames of the tenants to obtain first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to the second switch; and</p><p id="p-0029" num="0027">the second switch receives the first local bandwidth demand frames of the tenants sent by the first switch, and aggregates the first local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants.</p><p id="p-0030" num="0028">The step of broadcasting the global bandwidth demand frames of the tenants to all the gateway servers specifically includes the following steps:</p><p id="p-0031" num="0029">the global bandwidth demand frames of the tenants are broadcast to the first switch; and</p><p id="p-0032" num="0030">the first switch receives and broadcasts the global bandwidth demand frames of the tenants to at least one gateway server.</p><p id="p-0033" num="0031">Optionally, the second switch includes at least one switch, wherein any second switch serves as a root node, the first switch serves as a layer-n child node, and child nodes at other layers are at least one second switch.</p><p id="p-0034" num="0032">The step that the first switch sends the first local bandwidth demand frames of the tenants to the second switch, and the second switch receives the first local bandwidth demand frames of the tenants sent by the first switch and aggregates the first local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0035" num="0033">the first switch sends the first local bandwidth demand frames of the tenants corresponding to each first switch to at least one second switch at a layer-(n&#x2212;1) child node;</p><p id="p-0036" num="0034">at least one second switch at the layer-(n&#x2212;1) child node aggregates the first local bandwidth demand frames of the tenants to obtain second local bandwidth demand frames of the tenants corresponding to each second switch at the layer-(n&#x2212;1) child node, and sends the second local bandwidth demand frames of the tenants to at least one second switch at a layer-(n&#x2212;2) child node until the second switch at the root node receives the (n&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants corresponding to each second switch at the layer-2 child node; and</p><p id="p-0037" num="0035">the second switch at the root node aggregates the (n&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants.</p><p id="p-0038" num="0036">The step that the second switch broadcasts the global bandwidth demand frames of the tenants to the first switch specifically includes the following steps:</p><p id="p-0039" num="0037">the second switch at the root node broadcasts the global bandwidth demand frames of the tenants to at least one second switch at the layer-2 child node, and at least one second switch at the layer-2 child node broadcasts the global bandwidth demand frames of the tenants to at least one second switch at the layer-3 child node until at least one second switch at the layer-(n&#x2212;1) child node receives the global bandwidth demand frames of the tenants and broadcasts the global bandwidth demand frames of the tenants to the first switch.</p><p id="p-0040" num="0038">Optionally, the switch includes at least two switches.</p><p id="p-0041" num="0039">The step of receiving local bandwidth demand frames of the tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain the global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0042" num="0040">a i<sup>th </sup>switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the i<sup>th </sup>switch, and receives the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants sent by the (i&#x2212;1)<sup>th </sup>switch;</p><p id="p-0043" num="0041">the local bandwidth demand frames of the tenants and (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants are aggregated to obtain the i<sup>th </sup>local bandwidth demand frames of the tenants;</p><p id="p-0044" num="0042">if the i<sup>th </sup>local bandwidth demand frames of the tenants are the global bandwidth demand frames of the tenants, the global bandwidth demand frames of the tenants are sent to the first switch, and the first switch sends the global bandwidth demand frames of the tenants to the second switch until the global bandwidth demand frames of the tenants are received by all switches;</p><p id="p-0045" num="0043">wherein i&#x2265;2 and i is an integer.</p><p id="p-0046" num="0044">The step of broadcasting the global bandwidth demand frames of the tenants to all the gateway servers specifically includes the following step:</p><p id="p-0047" num="0045">each switch broadcasts the global bandwidth demand frames of the tenants to at least one gateway server corresponding to each switch.</p><p id="p-0048" num="0046">In the third aspect, the present invention provides a gateway server, including:</p><p id="p-0049" num="0047">a demand collector, configured to start a timer, receive and make statistics of outbound packets of tenants in a current period, obtain local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, and generate local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants; and configured to send the local bandwidth demand frames of the tenants to a switch when the timing of the timer reaches the current period;</p><p id="p-0050" num="0048">a budget allocator, configured to receive global bandwidth demand frames of the tenants sent by the switch, and compute bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants; and</p><p id="p-0051" num="0049">a rate regulator, configured to modify rate limiting parameters based on the bandwidth budgets of the tenants, and limit the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters.</p><p id="p-0052" num="0050">In the fourth aspect, the present invention provides a switch, including:</p><p id="p-0053" num="0051">an aggregator, configured to receive local bandwidth demand frames of the tenants sent by all gateway servers, and aggregate the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain global bandwidth demand frames of the tenants; and</p><p id="p-0054" num="0052">a broadcasting unit, configured to broadcast the global bandwidth demand frames of the tenants to all the gateway servers.</p><p id="p-0055" num="0053">In the fifth aspect, the present invention provides a cloud data center tenant-level outbound rate limiting system applied to a gateway server, including the gateway server described in the third aspect and the switch described in the fourth aspect.</p><p id="p-0056" num="0054">In the sixth aspect, the present invention also provides an electronic device, including a memory, a processor, and a computer program stored in the memory and operable on the processor, wherein the processor executes the program to realize the steps of the cloud data center tenant-level outbound rate limiting method described in the first aspect or the second aspect.</p><p id="p-0057" num="0055">In the seventh aspect, the present invention also provides a non-transitory computer-readable storage medium, with a computer program stored, wherein the program is executed by the processor to realize the steps of the cloud data center tenant-level outbound rate limiting method described in the first aspect or the second aspect.</p><p id="p-0058" num="0056">In the cloud data center tenant-level outbound rate limiting method and system provided by the present invention, the gateway server starts a timer, receives and makes statistics of outbound packets of tenants in a current period, obtains the local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, generates local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants, sends the local bandwidth demand frames of the tenants to a switch when the timing of the timer reaches the current period, receives global bandwidth demand frames of the tenants sent by the switch, computes bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants, modifies rate limiting parameters based on the bandwidth budgets of the tenants, and limits the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters, so that the overheads of computing resources and bandwidth resources can be effectively reduced, the rate limiting accuracy can be improved, and the scalability can be improved.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0059" num="0057">In order to explain the technical solutions of the present invention or in the prior art more clearly, the accompanying drawings to be used in describing the embodiments or the prior art will be briefly introduced below. It is obvious that the accompanying drawings below only show some embodiments of the present invention. For those of ordinary skill in the art, other related drawings can also be obtained based on these drawings without making creative efforts.</p><p id="p-0060" num="0058"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a first flow chart of a cloud data center tenant-level outbound rate limiting method provided by the present invention.</p><p id="p-0061" num="0059"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a second flow chart of a cloud data center tenant-level outbound rate limiting method provided by the present invention.</p><p id="p-0062" num="0060"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a first scene diagram of a cloud data center tenant-level outbound rate limiting method provided by the present invention.</p><p id="p-0063" num="0061"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a second scene diagram of a cloud data center tenant-level outbound rate limiting method provided by the present invention.</p><p id="p-0064" num="0062"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a third scene diagram of a cloud data center tenant-level outbound rate limiting method provided by the present invention.</p><p id="p-0065" num="0063"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a fourth scene diagram of a cloud data center tenant-level outbound rate limiting method provided by the present invention.</p><p id="p-0066" num="0064"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a contrast diagram of scalability between a cloud data center tenant-level outbound rate limiting method provided by the present invention and an existing technical solution.</p><p id="p-0067" num="0065"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a contrast diagram of rate limiting accuracy between a cloud data center tenant-level outbound rate limiting method provided by the present invention and an existing technical solution.</p><p id="p-0068" num="0066"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a structural diagram of a gateway server provided by the present invention.</p><p id="p-0069" num="0067"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a structural diagram of a switch provided by the present invention.</p><p id="p-0070" num="0068"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a structural diagram of an electronic device provided by the present invention.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE EMBODIMENTS</heading><p id="p-0071" num="0069">In order to make the objectives, technical solutions and advantages of the present invention more clearly, the technical solutions in the present invention will be described clearly and completely below in combination with the accompanying drawings in the present invention. It is obvious that the embodiments described are only parts of, rather than all of, the embodiments of the present invention. On the basis of the embodiments of the present invention, all the other embodiments obtained by those of ordinary skill in the art without making creative efforts will fall within the protection scope of the present invention.</p><p id="p-0072" num="0070">The terms &#x201c;first&#x201d;, &#x201c;second&#x201d;, etc. in the specification and claims of the present invention are only used to distinguish similar objects, rather than describing specific order or sequence. It should be understood that the data used in this way are interchangeable in appropriate cases, so that the embodiments of the present invention can be practiced in sequences other than those illustrated or described herein, besides, the objects distinguished by &#x201c;first&#x201d;, &#x201c;second&#x201d;, etc. are usually of one type, and the number of objects is not limited, for example, the first object may be one or multiple. Moreover, in the description and the claims, &#x201c;and/or&#x201d; represents at least one of the connected objects, and the character &#x201c;/&#x201d; generally indicates that the related objects are in an &#x201c;or&#x201d; relationship.</p><p id="p-0073" num="0071">It should be understood that &#x201c;one embodiment&#x201d; or &#x201c;an embodiment&#x201d; mentioned in the specification means that the specific features, structures or characteristics related to an embodiment are involved in at least one embodiments of the present invention. Therefore, &#x201c;in one embodiment&#x201d; or &#x201c;in an embodiment&#x201d; described throughout the specification do not necessarily refer to the same embodiment. In addition, these specific features, structures or characteristics can be combined in any suitable manner in one or multiple embodiments.</p><p id="p-0074" num="0072">In the embodiments of the present invention, the term &#x201c;plurality&#x201d; refers to two or more than two, other quantifiers and similar words.</p><p id="p-0075" num="0073">The cloud data center tenant-level outbound rate limiting method provided by an embodiment of the present invention will be explained in detail below through some embodiments and the application scenes thereof in combination with the accompanying drawings.</p><p id="p-0076" num="0074">In order to solve the problem that the scalability is poor where a larger number of tenants appear in the cloud data center in related technologies, liable to cause a bottleneck in computing bandwidth budget and communication, great overheads of computing resources and bandwidth resources, increased delay in allocating the bandwidth budget, and decreased rate limiting accuracy, embodiments of the present invention provides a cloud data center tenant-level outbound rate limiting method, and <figref idref="DRAWINGS">FIG. <b>1</b></figref> is a first flow chart of a cloud data center tenant-level outbound rate limiting method provided by an embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the executor can be a gateway server, and the method includes the following steps:</p><p id="p-0077" num="0075">S<b>100</b>: a timer is started, outbound packets of tenants in a current period are received and statistics are made, local traffic rate information of the tenants is obtained based on all the outbound packets of the tenants in the current period, and local bandwidth demand frames of the tenants are generated based on the local traffic rate information of the tenants.</p><p id="p-0078" num="0076">It needs to be indicated that in order to solve the problem in the related art that all bandwidth budgets are computed using a centralized controller, and it results in great overheads of computing resources, an embodiment of the present invention adopts a distributed rate limiting scheme, and specifically provides a cloud data center tenant-level outbound rate limiting method. The method is applied to a plurality of gateway servers to realize that each gateway server computes the bandwidth budget based on the outbound packets of tenants received on the gateway server, so as to effectively reduce the overheads of computing resources.</p><p id="p-0079" num="0077">Local traffic rate information of the tenants is a ratio of a sum of sizes of all the outbound packets of tenants in a current period to a period.</p><p id="p-0080" num="0078">Local bandwidth demand frames of the tenants carry the local traffic rate information of the tenants.</p><p id="p-0081" num="0079">In an embodiment, each gateway server starts the timer, an egress router of a cloud data center sends the outbound packets of tenants to each gateway server, then each gateway server receives and makes statistics of the outbound packets of the tenants in a current period, computes the local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, and generate local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants.</p><p id="p-0082" num="0080">S<b>101</b>: when the timing of the timer reaches the current period, the local bandwidth demand frames of the tenants are sent to a switch.</p><p id="p-0083" num="0081">In an embodiment, when the timing of the timer reaches the current period, each gateway server sends the local bandwidth demand frames of the tenants to a switch.</p><p id="p-0084" num="0082">S<b>102</b>: global bandwidth demand frames of the tenants sent by the switch are received, and bandwidth budgets of the tenants are computed based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants.</p><p id="p-0085" num="0083">The global bandwidth demand frames of the tenants are obtained by the switch which aggregates the received local bandwidth demand frames of the tenants sent by all the gateway servers.</p><p id="p-0086" num="0084">The bandwidth budgets of the tenants refer to the bandwidth capacity of the tenants allocated to each gateway server, used to limit the rate of the outbound packets of the tenants reaching the gateway server.</p><p id="p-0087" num="0085">In an embodiment, each gateway server receives the global bandwidth demand frames of the tenants sent by the switch, and computes the bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants.</p><p id="p-0088" num="0086">S<b>103</b>: rate limiting parameters are modified based on the bandwidth budgets of the tenants, and the rate of the outbound packets of the tenants in a next period is limited based on the rate limiting parameters.</p><p id="p-0089" num="0087">The rate limiting parameters refers to related parameters of rate limiting algorithm corresponding to the rate limiting operation executed by the gateway server.</p><p id="p-0090" num="0088">Optionally, if the rate limiting algorithm is the token bucket algorithm, the step of modifying rate limiting parameters includes updating a number of tokens in a token bucket, a speed of adding tokens, and a depth of the token bucket.</p><p id="p-0091" num="0089">In an embodiment, the gateway server modifies the rate limiting parameters based on the bandwidth budgets of the tenants, and limits the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters.</p><p id="p-0092" num="0090">Further, each gateway server executes the token bucket algorithm, and when the outbound packets of the tenants in the next period reach the gateway server, the gateway server determines whether the traffic rate can be forwarded based on the rate limiting parameters of the token bucket algorithm, for example, if the number of tokens in the token bucket parameter meets a preset threshold, the outbound packets of the tenants can be forwarded by the gateway server to the switch, then the switch sends the outbound packets of the tenants to the egress router of the cloud data center, and the egress router of the cloud data center sends the outbound packets of the tenants to the Internet; and on the contrary, the gateway server discards the outbound packets of the tenants.</p><p id="p-0093" num="0091">In the cloud data center tenant-level outbound rate limiting method and system provided by the present invention, the gateway server starts a timer, receives and makes statistics of outbound packets of the tenants in a current period, obtains local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, generates local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants, sends the local bandwidth demand frames of the tenants to a switch when the timer reaches the current period, receives global bandwidth demand frames of the tenants sent by the switch, computes bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants, modifies rate limiting parameters based on the bandwidth budgets of the tenants, and limits the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters, so that the overheads of computing resources and bandwidth resources can be effectively reduced, and the rate limiting accuracy can be improved.</p><p id="p-0094" num="0092">On the basis of the contents of the above-mentioned embodiment, the step of computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0095" num="0093">obtaining global traffic rate information of the tenants based on the global bandwidth demand frames of the tenants; and</p><p id="p-0096" num="0094">computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global traffic rate information of the tenants.</p><p id="p-0097" num="0095">The global bandwidth demand frames of the tenants are obtained by the switch which aggregates all the received local bandwidth demand frames of the tenants.</p><p id="p-0098" num="0096">The global traffic rate information of the tenants is a sum of all local traffic rate information of the tenants.</p><p id="p-0099" num="0097">The global bandwidth demand frames of the tenants carry the global traffic rate information of the tenants.</p><p id="p-0100" num="0098">Optionally, the step of computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global traffic rate information of the tenants specifically includes the following step:</p><p id="p-0101" num="0099">computing bandwidth budgets allocated to the tenants by formula (1) based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants:</p><p id="p-0102" num="0000"><maths id="MATH-US-00002" num="00002"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mi>R</mi>     <mo>=</mo>     <mrow>      <mfrac>       <msub>        <mi>D</mi>        <mi>local</mi>       </msub>       <msub>        <mi>D</mi>        <mi>global</mi>       </msub>      </mfrac>      <mo>&#x22c6;</mo>      <msub>       <mi>R</mi>       <mn>0</mn>      </msub>     </mrow>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>1</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths></p><p id="p-0103" num="0100">where R represents bandwidth budgets of the tenants, R<sub>0 </sub>represents bandwidths ordered by the tenants, D<sub>local </sub>represents local traffic rate information of the tenants, and D<sub>global </sub>represents global traffic rate information of the tenants.</p><p id="p-0104" num="0101">In an embodiment, each gateway server acquires the global traffic rate information of the tenants based on the global bandwidth demand frames of the tenants, and computes the bandwidth budgets of the tenants on the gateway server by formula (1) based on the local traffic rate information of the tenants and the global traffic rate information of the tenants.</p><p id="p-0105" num="0102">In the cloud data center tenant-level outbound rate limiting method provided by the embodiment of present invention, the gateway server acquires the global traffic rate information of the tenants based on the global bandwidth demand frames of the tenants, and computes the bandwidth budgets of the tenants on the gateway server based on the local traffic rate information of the tenants and the global traffic rate information of the tenants, so that the overheads of computing resources and bandwidth resources can be effectively reduced, and the rate limiting accuracy can be improved.</p><p id="p-0106" num="0103"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a second flow chart of a cloud data center tenant-level outbound rate limiting method provided by an embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the executor can be a switch, and the method includes the following steps:</p><p id="p-0107" num="0104">S<b>200</b>: local bandwidth demand frames of the tenants sent by all gateway servers are received, and the local bandwidth demand frames of the tenants sent by all the gateway servers are aggregated to obtain global bandwidth demand frames of the tenants.</p><p id="p-0108" num="0105">It needs to be indicated that a switch can be connected with a plurality of gateway servers according to the number of its ports. For example, when a switch has 32 ports, the switch can be connected with at most 32 gateway servers.</p><p id="p-0109" num="0106">In an embodiment, the switch receives the local bandwidth demand frames of the tenants sent by all gateway servers, and aggregates all the local bandwidth demand frames of the tenants to obtain global bandwidth demand frames of the tenants.</p><p id="p-0110" num="0107">S<b>201</b>: the global bandwidth demand frames of the tenants are broadcast to all the gateway servers.</p><p id="p-0111" num="0108">In an embodiment, the switch broadcasts the global bandwidth demand frames of the tenants to all the gateway servers, and each gateway server computes bandwidth budgets of the tenants on the gateway server based on the global bandwidth demand frames of the tenants.</p><p id="p-0112" num="0109">In the cloud data center tenant-level outbound rate limiting method provided by the embodiment of present invention, the switch receives local bandwidth demand frames of the tenants sent by all gateway servers, aggregates the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain global bandwidth demand frames of the tenants, and broadcasts the global bandwidth demand frames of the tenants to all the gateway servers, so that the overheads of computing resources and bandwidth resources can be effectively reduced, and the rate limiting accuracy can be improved.</p><p id="p-0113" num="0110">On the basis of the contents of the above-mentioned embodiment, the step of aggregating the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0114" num="0111">acquiring all local traffic rate information of the tenants based on the local bandwidth demand frames of the tenants sent by all the gateway servers, and summing up all the local traffic rate information of the tenants; and</p><p id="p-0115" num="0112">modifying a local traffic rate information field in the received local bandwidth demand frames of the tenants sent by the last gateway server based on the summation result to obtain the global bandwidth demand frames of the tenants.</p><p id="p-0116" num="0113">The summation result is the global traffic rate information of the tenants.</p><p id="p-0117" num="0114">It needs to be indicated that the global traffic rate information of the tenants is a sum of all local traffic rate information of the tenants.</p><p id="p-0118" num="0115">It needs to be indicated that on acquiring all local traffic rate information of the tenants, the switch only reserves the local bandwidth demand frames of the tenants sent by the last gateway server, modifies the local traffic rate information field in the local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants, and discards other local bandwidth demand frames of the tenants.</p><p id="p-0119" num="0116">In an embodiment, the switch acquires all local traffic rate information of the tenants based on the local bandwidth demand frames of the tenants sent by all the gateway servers, sums up all the local traffic rate information of the tenants to obtain global traffic rate information of the tenants, obtains global bandwidth demand frames of the tenants by modifying the attribute value of the local traffic rate information field in the local bandwidth demand frames of the tenants into global traffic rate information of the tenants, and discards other local bandwidth demand frames of the tenants.</p><p id="p-0120" num="0117">In the cloud data center tenant-level outbound rate limiting method provided by the embodiment of present invention, the switch acquires all local traffic rate information of the tenants based on the local bandwidth demand frames of the tenants sent by all the gateway servers, sums up all the local traffic rate information of the tenants, modifies the local traffic rate information field in the received local bandwidth demand frames of the tenants sent by the last gateway server based on the summation result, and then computes bandwidth demand frames on each gateway server based on the global bandwidth demand frames of the tenants, so that the overheads of computing resources and bandwidth resources can be effectively reduced, and the rate limiting accuracy can be improved.</p><p id="p-0121" num="0118">On the basis of the contents of the above-mentioned embodiment, the switch includes a first switch and a second switch, and the first switch includes at least one switch.</p><p id="p-0122" num="0119">The step of receiving local bandwidth demand frames of the tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain the global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0123" num="0120">the first switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server, aggregates the local bandwidth demand frames of the tenants to obtain first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to the second switch; and</p><p id="p-0124" num="0121">the second switch receives the first local bandwidth demand frames of the tenants sent by the first switch, and aggregates the first local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants.</p><p id="p-0125" num="0122">The step of broadcasting the global bandwidth demand frames of the tenants to all the gateway servers specifically includes the following steps:</p><p id="p-0126" num="0123">the global bandwidth demand frames of the tenants are broadcast to the first switch; and</p><p id="p-0127" num="0124">the first switch receives and broadcasts the global bandwidth demand frames of the tenants to at least one gateway server.</p><p id="p-0128" num="0125">It needs to be indicated that considering the large scale of the cloud data center, the number of gateway servers that can be connected to a switch is too limited to handle the outbound packets of large-scale tenants. Therefore, the switch needs to be scaled. In the embodiment of the present invention, the scaling function of the switch is realized by a star topology.</p><p id="p-0129" num="0126">Wherein the star topology is that the second switch is connected with a plurality of first switches, and each first switch can be connected with at least one gateway server.</p><p id="p-0130" num="0127">The first switch is configured to receive the local bandwidth demand frames of the tenants sent by at least one gateway server, aggregate the local bandwidth demand frames of the tenants to obtain the first local bandwidth demand frames of the tenants, and send the first local bandwidth demand frames of the tenants to the second switch.</p><p id="p-0131" num="0128">The second switch is configured to aggregate the first local bandwidth demand frames of the tenants sent by all the first switches to obtain the global bandwidth demand frames of the tenants, and broadcast the global bandwidth demand frames of the tenants to each first switch.</p><p id="p-0132" num="0129">The first bandwidth demand frames of the tenants are obtained by each first switch which aggregates the received local bandwidth demand frames of the tenants sent by all gateway servers corresponding to the first switch.</p><p id="p-0133" num="0130">In an embodiment, each first switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the first switch, aggregates at least one local bandwidth demand frames of the tenants to obtain first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to the second switch.</p><p id="p-0134" num="0131">Further, the second switch receives the first local bandwidth demand frames of the tenants sent by all the first switches, and aggregates all the first local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants.</p><p id="p-0135" num="0132">Further, the second switch broadcasts the global bandwidth demand frames of the tenants to all the first switches, and each first switch receives the global bandwidth demand frames of the tenants and broadcasts the global bandwidth demand frames of the tenants to at least one gateway server corresponding to the first switch.</p><p id="p-0136" num="0133">In the cloud data center tenant-level outbound rate limiting method provided by the embodiment of present invention, each first switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the first switch, aggregates the local bandwidth demand frames of the tenants to obtain first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to the second switch; the second switch receives the first local bandwidth demand frames of the tenants sent by all the first switches, aggregates the first local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants, and broadcasts the global bandwidth demand frames of the tenants to the first switch; and the first switch receives and broadcasts the global bandwidth demand frames of the tenants to at least one gateway server, and then computes the bandwidth budgets of the tenants on each gateway server based on the global bandwidth demand frames of the tenants, so that the overheads of computing resources and bandwidth resources can be effectively reduced, the rate limiting accuracy can be improved, and the scalability is good.</p><p id="p-0137" num="0134">The process of realizing the cloud data center tenant-level outbound rate limiting method based on a scalable star topology is specifically explained in combination with <figref idref="DRAWINGS">FIG. <b>3</b></figref>. <figref idref="DRAWINGS">FIG. <b>3</b></figref> is a first scene diagram of a cloud data center tenant-level outbound rate limiting method provided by an embodiment of the present invention.</p><p id="p-0138" num="0135">As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the star topology is mainly composed of a special aggregation switch and a plurality of gateway switches, wherein the special aggregation switch is connected with the multiple gateway switches.</p><p id="p-0139" num="0136">S<b>1</b>: each gateway switch aggregates the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the gateway switch to obtain first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to the special aggregation switch.</p><p id="p-0140" num="0137">S<b>2</b>: the special aggregation switch aggregates all the first local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants, and broadcasts the global bandwidth demand frames of the tenants to all the gateway switches; and each gateway switch sends the global bandwidth demand frames of the tenants to at least one gateway server corresponding to the gateway switch.</p><p id="p-0141" num="0138">On the basis of the contents of the above-mentioned embodiment, the second switch includes at least one switch, wherein any second switch serves as a root node, the first switch serves as a layer-n child node, and child nodes at other layers are at least one second switch;</p><p id="p-0142" num="0139">The step that the first switch sends the first local bandwidth demand frames of the tenants to the second switch, and the second switch receives the first local bandwidth demand frames of the tenants sent by the first switch and aggregates the first local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0143" num="0140">the first switch sends the first local bandwidth demand frames of the tenants corresponding to each first switch to at least one second switch at a layer-(n&#x2212;1) child node;</p><p id="p-0144" num="0141">at least one second switch at the layer-(n&#x2212;1) child node aggregates the first local bandwidth demand frames of the tenants to obtain second local bandwidth demand frames of the tenants corresponding to each second switch at the layer-(n&#x2212;1) child node, and sends the second local bandwidth demand frames of the tenants to at least one second switch at a layer-(n&#x2212;2) child node until the second switch at the root node receives the (n&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants corresponding to each second switch at the layer-2 child node; and</p><p id="p-0145" num="0142">the second switch at the root node aggregates the (n&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants.</p><p id="p-0146" num="0143">The step that the second switch broadcasts the global bandwidth demand frames of the tenants to the first switch specifically includes the following steps:</p><p id="p-0147" num="0144">the second switch at the root node broadcasts the global bandwidth demand frames of the tenants to at least one second switch at the layer-2 child node, and at least one second switch at the layer-2 child node broadcasts the global bandwidth demand frames of the tenants to at least one second switch at the layer-3 child node until at least one second switch at the layer-(n&#x2212;1) child node receives the global bandwidth demand frames of the tenants and broadcasts the global bandwidth demand frames of the tenants to the first switch.</p><p id="p-0148" num="0145">It needs to be indicated that each second switch has limited number of ports that can be connected to the first switch, in the case of a large number of first switches, the second switch needs to be scaled to realize that at least one second switch is connected to at least one first switch. The embodiment of the present invention realizes the scaling function of the second switch using a tree topology.</p><p id="p-0149" num="0146">Wherein if the tree topology has n layers of nodes, the root node of the tree topology is a second switch, the layer-n child node of the tree topology is at least one first switch, and the child node of other layers of the tree topology is at least one second switch.</p><p id="p-0150" num="0147">The structure and functions of the tree topology in the embodiment of the present invention will be explained below in combination with the following example.</p><p id="p-0151" num="0148">Assuming that the tree topology has three layers, wherein the root node is a second switch, the layer-2 child nodes are three second switches, the layer-3 child nodes are eight first switches, and each second switch in the layer-2 child nodes is connected to at least one first switch.</p><p id="p-0152" num="0149">The first switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server, aggregates the local bandwidth demand frames of the tenants to obtain first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to the 3 second switches at the layer-2 child nodes.</p><p id="p-0153" num="0150">Each second switch at the layer-2 child node aggregates the received first local bandwidth demand frames of the tenants to obtain second local bandwidth demand frames of the tenants corresponding to each second switch at the layer-2 child node, and sends the second local bandwidth demand frames of the tenants to the second switch at the root node.</p><p id="p-0154" num="0151">The second switch at the root node aggregates all the received local bandwidth demand frames of the tenants to obtain global bandwidth demand frames of the tenants, and broadcasts the global bandwidth demand frames of the tenants to each second switch at the layer-2 child node.</p><p id="p-0155" num="0152">Each second switch at the layer-2 child node broadcasts the global bandwidth demand frames of the tenants to each first switch at the layer-3 child node.</p><p id="p-0156" num="0153">At least one of the first switches receives and broadcasts the global bandwidth demand frames of the tenants to at least one gateway server corresponding to each first switch.</p><p id="p-0157" num="0154">In the cloud data center tenant-level outbound rate limiting method provided by the embodiment of present invention, each first switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the first switch, aggregates the local bandwidth demand frames of the tenants to obtain the first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to the second switch at the layer (n-&#x2212;1) child node in the tree topology; the second switch at the layer (n&#x2212;1) child node aggregates all the first local bandwidth demand frames of the tenants to obtain the second bandwidth demand frames of the tenants, and the second local bandwidth demand frames of the tenants are sent to the second switch at the layer (n&#x2212;2) child node until the second switch at the layer root node receives and aggregates the (n&#x2212;1)<sup>th </sup>local bandwidth demand frame to obtain the global bandwidth demand frames of the tenants, then broadcasts the global bandwidth demand frames of the tenants to the child nodes of each layer according to the tree topology, until the first switch receives and broadcasts the global bandwidth demand frames of the tenants to at least one gateway server, and then computes the bandwidth budgets of the tenants on each gateway server based on the global bandwidth demand frames of the tenants, so that the overheads of computing resources and bandwidth resources can be effectively reduced, the rate limiting accuracy can be improved, and the scalability is good.</p><p id="p-0158" num="0155">The process of realizing the cloud data center tenant-level outbound rate limiting method based on a scalable tree topology is specifically explained in combination with <figref idref="DRAWINGS">FIG. <b>4</b></figref>. <figref idref="DRAWINGS">FIG. <b>4</b></figref> is a second scene diagram of a cloud data center tenant-level outbound rate limiting method provided by an embodiment of the present invention.</p><p id="p-0159" num="0156">As shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the tree topology is formed by 3 layers of nodes, wherein the root node is a special aggregation switch, the layer-2 child nodes are two special aggregation switches, the layer-3 child nodes are four gateway switches, one of the gateway switches is connected to the special aggregation switch at the right layer-2 child node, and the other three gateway switches are connected to the special aggregation switch at the left layer-2 child node.</p><p id="p-0160" num="0157">Each gateway switch of layer 3 aggregates the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the gateway switch to obtain first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to each special aggregation switch at the layer-2 child nodes.</p><p id="p-0161" num="0158">Each special aggregation switch at the layer-2 child node aggregates all the received first local bandwidth demand frames of the tenants to obtain second local bandwidth demand frames of the tenants, and sends the second local bandwidth demand frames of the tenants to the special aggregation switch at the root node.</p><p id="p-0162" num="0159">The special aggregation switch at the root node aggregates all the received second local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants, and broadcasts the global bandwidth demand frames of the tenants to all the special aggregation switches at the layer-2 child nodes.</p><p id="p-0163" num="0160">All the special aggregation switches at the layer-2 child nodes broadcast the global bandwidth demand frames of the tenants to all the gateway switches at the layer-3 child nodes, and each gateway switch broadcasts the global bandwidth demand frames of the tenants to at least one gateway server corresponding to the gateway switch.</p><p id="p-0164" num="0161">On the basis of the contents of the above-mentioned embodiment, the switch includes at least two switches.</p><p id="p-0165" num="0162">The step of receiving the local bandwidth demand frames of the tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain the global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0166" num="0163">a i<sup>th </sup>switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the i<sup>th </sup>switch, and receives the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants sent by the (i&#x2212;1)<sup>th </sup>switch;</p><p id="p-0167" num="0164">the local bandwidth demand frames of the tenants and the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants are aggregated to obtain the i<sup>th </sup>local bandwidth demand frames of the tenants;</p><p id="p-0168" num="0165">if the i<sup>th </sup>local bandwidth demand frames of the tenants are the global bandwidth demand frames of the tenants, the global bandwidth demand frames of the tenants are sent to the first switch, and the first switch sends the global bandwidth demand frames of the tenants to the second switch until the global bandwidth demand frames of the tenants are received by all switches;</p><p id="p-0169" num="0166">wherein i&#x2265;2 and i is an integer.</p><p id="p-0170" num="0167">The step of broadcasting the global bandwidth demand frames of the tenants to all the gateway servers specifically includes the following step:</p><p id="p-0171" num="0168">each switch broadcasts the global bandwidth demand frames of the tenants to at least one gateway server corresponding to each switch.</p><p id="p-0172" num="0169">It needs to be indicated that considering the large scale of the cloud data center, the number of gateway servers that can be connected to a switch is too limited to handle the outbound packets of large-scale tenants. Therefore, the switch needs to be scaled. In the embodiment of the present invention, the scaling function of the switch is realized by an ring topolpgy.</p><p id="p-0173" num="0170">Wherein the ring topolpgy is that the switches are in end-to-end connection, and each switch can be connected with at least one gateway server.</p><p id="p-0174" num="0171">It needs to be indicated that in order to obtain the global bandwidth demand frames of the tenants, in the ring topolpgy, it is necessary to determine any one switch as a first switch serving as an initial switch, according to the transmission direction of the data pockets of the tenants, a next switch of the first switch is a second switch, a previous switch of the first switch is a last switch, and the global bandwidth demand frames of the tenants are generated by the last switch.</p><p id="p-0175" num="0172">In an embodiment, a i<sup>th </sup>switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the i<sup>th </sup>switch, receives the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants sent by the (i&#x2212;1)<sup>th </sup>switch, and aggregates the local bandwidth demand frames of the tenants and the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants to obtain the i<sup>th </sup>local bandwidth demand frames of the tenants.</p><p id="p-0176" num="0173">Further, if the i<sup>th </sup>local bandwidth demand frames of the tenants are the global bandwidth demand frames of the tenants, the i<sup>th </sup>switch is the last switch, the i<sup>th </sup>switch sends the global bandwidth demand frames of the tenants to the first switch, the first switch sends the global bandwidth demand frames of the tenants to the second switch until the global bandwidth demand frames of the tenants are received by all switches, and each switch sends the global bandwidth demand frames of the tenants to at least gateway server corresponding to the switch.</p><p id="p-0177" num="0174">Or, if the i<sup>th </sup>local bandwidth demand frames of the tenants are not the global bandwidth demand frames of the tenants, the i<sup>th </sup>switch sends the i<sup>th </sup>local bandwidth demand frames of the tenants to the (i+1)<sup>th </sup>switch; the (i+1)<sup>th </sup>switch receives the i<sup>th </sup>local bandwidth demand frames of the tenants, receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the (i+1)<sup>th </sup>switch, and aggregates the local bandwidth demand frames of the tenants and the i<sup>th </sup>local bandwidth demand frames of the tenants to obtain the (i+1)<sup>th </sup>local bandwidth demand frames of the tenants.</p><p id="p-0178" num="0175">Wherein, the process of judging whether the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants are the global bandwidth demand frames of the tenants is the same as the process of judging whether the i<sup>th </sup>local bandwidth demand frames of the tenants are the global bandwidth demand frames of the tenants.</p><p id="p-0179" num="0176">In the cloud data center tenant-level outbound rate limiting method provided by the embodiment of present invention, according to the ring topolpgy, the i<sup>th </sup>switch receives the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants sent by the (i&#x2212;1)<sup>th </sup>switch and the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the i<sup>th </sup>switch, respectively, and aggregates the local bandwidth demand frames of the tenants and the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants to obtain the i<sup>th </sup>local bandwidth demand frames of the tenants; if the i<sup>th </sup>local bandwidth demand frames of the tenants are the global bandwidth demand frames of the tenants, the global bandwidth demand frames of the tenants are broadcast to all the switches according to the ring topolpgy; each switch broadcasts the global bandwidth demand frames of the tenants to at least one gateway server corresponding to the switch, and then computes the bandwidth budgets of the tenants on each gateway server based on the global bandwidth demand frames of the tenants, so that the overheads of computing resources and bandwidth resources can be effectively reduced, the rate limiting accuracy can be improved, and the scalability is good.</p><p id="p-0180" num="0177">The process of realizing the cloud data center tenant-level outbound rate limiting method based on a scalable ring topolpgy is specifically explained in combination with <figref idref="DRAWINGS">FIG. <b>5</b></figref>. <figref idref="DRAWINGS">FIG. <b>5</b></figref> is a third scene diagram of a cloud data center tenant-level outbound rate limiting method provided by an embodiment of the present invention.</p><p id="p-0181" num="0178">As shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the ring topolpgy is a closed-loop structure formed by four gateway switches in end-to-end connection. Any one of the gateway switches is taken as the first gateway switch, the first gateway switch serves as an initial gateway switch, and the fourth gateway switch is connected to the first gateway switch to generate the global bandwidth demand frames of the tenants.</p><p id="p-0182" num="0179">The first gateway switch acquires the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the first gateway switch, aggregates at least one local bandwidth demand frames of the tenants to obtain the first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to the second gateway switch.</p><p id="p-0183" num="0180">The second gateway switch receives the first local bandwidth demand frames of the tenants and receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the second gateway switch, aggregates at least one local bandwidth demand frames of the tenants and the first local bandwidth demand frames of the tenants to obtain second local bandwidth demand frames of the tenants, and sends the second local bandwidth demand frames of the tenants to the third gateway switch.</p><p id="p-0184" num="0181">The third gateway switch receives the second local bandwidth demand frames of the tenants and receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the third gateway switch, aggregates at least one local bandwidth demand frames of the tenants and the second local bandwidth demand frames of the tenants to obtain third local bandwidth demand frames of the tenants, and sends the third local bandwidth demand frames of the tenants to the fourth gateway switch.</p><p id="p-0185" num="0182">The fourth gateway switch receives the third local bandwidth demand frames of the tenants and receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the fourth gateway switch, and aggregates at least one local bandwidth demand frames of the tenants and the third local bandwidth demand frames of the tenants to obtain global bandwidth demand frames of the tenants.</p><p id="p-0186" num="0183">The fourth gateway switch sends the global bandwidth demand frames of the tenants to the first gateway switch, the first gateway switch sends the global bandwidth demand frames of the tenants to the second gateway switch, the second gateway switch sends the global bandwidth demand frames of the tenants to the third gateway switch, and each gateway switch broadcasts the global bandwidth demand frames of the tenants to at least one gateway server corresponding to each gateway switch.</p><p id="p-0187" num="0184">The interaction process of the cloud data center tenant-level outbound rate limiting method is specifically explained in combination with <figref idref="DRAWINGS">FIG. <b>6</b></figref>. <figref idref="DRAWINGS">FIG. <b>6</b></figref> is a fourth scene diagram of a cloud data center tenant-level outbound rate limiting method provided by an embodiment of the present invention.</p><p id="p-0188" num="0185">As shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, a switch is connected with two gateway servers, and the gateway servers include a gateway server <b>1</b> and a gateway server <b>2</b>.</p><p id="p-0189" num="0186">Wherein the gateway switches execute the three operations of demand collection, rate regulation and budget allocation. The switch executes the two operations of aggregation and broadcasting.</p><p id="p-0190" num="0187">S<b>1</b>: the gateway switches start a timer to execute the operation of demand collection, specifically including the following steps: receiving and making statistics of outbound packets of tenants in a current period, obtaining local traffic rate information of the tenants, generating local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants, and sending the local bandwidth demand frames of the tenants to the switch when the timing of the timer reaches the current period.</p><p id="p-0191" num="0188">S<b>2</b>: the switch executes the operation of aggregation, specifically including the following steps: receiving the local bandwidth demand frames of the tenants sent by the two gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by the two gateway servers to obtain global bandwidth demand frames of the tenants; and the switch executes the operation of broadcasting, specifically includes the following step: sending the global bandwidth demand frames of the tenants to all the gateway servers.</p><p id="p-0192" num="0189">S<b>3</b>: the gateway switches execute the operation of budge allocation, specifically includes the following steps: receiving the global bandwidth demand frames of the tenants sent by the switch, and computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants.</p><p id="p-0193" num="0190">S<b>4</b>: the gateway switches execute the operation of rate regulation, specifically includes the following steps: modifying the rate limiting parameters based on the bandwidth budgets of the tenants, and limiting the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters.</p><p id="p-0194" num="0191">The process of scalability comparison and rate limiting accuracy comparison between a cloud data center tenant-level outbound rate limiting method (distributed rate limiting scheme) and a centralized controller scheme in the prior art is specifically explained in combination with <figref idref="DRAWINGS">FIG. <b>7</b></figref> and <figref idref="DRAWINGS">FIG. <b>8</b></figref>. <figref idref="DRAWINGS">FIG. <b>7</b></figref> is a contrast diagram of scalability between a cloud data center tenant-level outbound rate limiting method provided by an embodiment of the present invention and an existing technical solution. <figref idref="DRAWINGS">FIG. <b>8</b></figref> is a contrast diagram of rate limiting accuracy between a cloud data center tenant-level outbound rate limiting method provided by an embodiment of the present invention and an existing technical solution.</p><p id="p-0195" num="0192">In the embodiment of the present invention, a gateway cluster is formed by twelve gateway servers and a programmable switch, and another server is connected with the programmable switch, wherein a link speed in the gateway cluster is 10 Gbps, and the link speed in the other server is 40 Gbps.</p><p id="p-0196" num="0193">The server sends a plenty of outbound packets of the tenants to the programmable switch, and the programmable switch forwards the outbound packets of the tenants to the gateway servers.</p><p id="p-0197" num="0194">As shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the scalability is compared between the cloud data center tenant-level outbound rate limiting method (distributed rate limiting scheme) and the centralized controller scheme in the prior art, and it can be concluded that as the number of gateway servers is increased, the number of tenants that can be supported by the cloud data center tenant-level outbound rate limiting method is unchanged, but the number of tenants that can be supported by the centralized controller scheme in the prior art is proportionally reduced. For example, in case of 12 gateway servers, the cloud data center tenant-level outbound rate limiting method (distributed rate limiting scheme) can support 2,500,000 tenants, and the centralized controller scheme in the prior art can only support about 200,000 tenants.</p><p id="p-0198" num="0195">As shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the rate limiting accuracy is compared between the cloud data center tenant-level outbound rate limiting method (distributed rate limiting scheme) and the centralized controller scheme in the prior art, and it can be concluded that in case of the same number of tenants, the limiting rate of the centralized controller scheme in the prior art is less than the rate under an ideal rate limiting condition, with an average loss rate of traffic rate of 16.56%, and a maximum loss rate of traffic rate up to 30%; and the limiting rate of the cloud data center tenant-level outbound rate limiting method (distributed rate limiting scheme) is almost the same as the rate under an ideal rate limiting condition, with the average loss rate of traffic rate of 2.68%.</p><p id="p-0199" num="0196">A gateway server provided by the present invention is described below, and the gateway server described below can be mutually referred to the cloud data center tenant-level outbound rate limiting method described above.</p><p id="p-0200" num="0197"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a structural diagram of a gateway server provided by an embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the gateway server includes a demand collector <b>900</b>, a budget allocator <b>910</b> and a rate regulator <b>920</b>, wherein</p><p id="p-0201" num="0198">the demand collector <b>900</b> is configured to start a timer, receive and make statistics of outbound packets of tenants in a current period, obtain local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, and generate local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants; and configured to send the local bandwidth demand frames of the tenants to a switch when the timing of the timer reaches the current period;</p><p id="p-0202" num="0199">the budget allocator <b>910</b> is configured to receive global bandwidth demand frames of the tenants sent by the switch, and compute bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants; and</p><p id="p-0203" num="0200">the rate regulator <b>920</b> is configured to modify rate limiting parameters based on the bandwidth budgets of the tenants, and limit the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters.</p><p id="p-0204" num="0201">For the gateway server provided by the embodiment of the present invention, the gateway server starts the timer, receives and makes statistics of outbound packets of tenants in a current period, obtains local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, generates local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants, sends the local bandwidth demand frames of the tenants to a switch when the timing of the timer reaches the current period, receives global bandwidth demand frames of the tenants sent by the switch, computes bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants, modifies rate limiting parameters based on the bandwidth budgets of the tenants, and limits the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters, so that the overheads of computing resources and bandwidth resources can be effectively reduced, and the rate limiting accuracy can be improved.</p><p id="p-0205" num="0202">Optionally, the budget allocator <b>910</b> is also configured to:</p><p id="p-0206" num="0203">obtain global traffic rate information of the tenants based on the global bandwidth demand frames of the tenants; and</p><p id="p-0207" num="0204">compute bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global traffic rate information of the tenants.</p><p id="p-0208" num="0205">Optionally, the step of computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global traffic rate information of the tenants specifically includes the following step:</p><p id="p-0209" num="0206">computing the bandwidth budgets allocated to the tenants by formula (1) based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants:</p><p id="p-0210" num="0000"><maths id="MATH-US-00003" num="00003"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mi>R</mi>     <mo>=</mo>     <mrow>      <mfrac>       <msub>        <mi>D</mi>        <mi>local</mi>       </msub>       <msub>        <mi>D</mi>        <mi>global</mi>       </msub>      </mfrac>      <mo>&#x22c6;</mo>      <msub>       <mi>R</mi>       <mn>0</mn>      </msub>     </mrow>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>1</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths></p><p id="p-0211" num="0207">where R represents bandwidth budgets of the tenants, R<sub>0 </sub>represents bandwidths ordered by the tenants, D<sub>local </sub>represents local traffic rate information of the tenants, and D<sub>global </sub>represents global traffic rate information of the tenants.</p><p id="p-0212" num="0208">The gateway server provided by the present invention can realize the processes realized by the embodiments of method in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, <figref idref="DRAWINGS">FIG. <b>6</b></figref>, <figref idref="DRAWINGS">FIG. <b>7</b></figref> or <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the same technical effects can be achieved, and it will not be repeated again in order to avoid repetition.</p><p id="p-0213" num="0209">A switch provided by the present invention is described below, and the switch described below can be mutually referred to the cloud data center tenant-level outbound rate limiting method described above.</p><p id="p-0214" num="0210"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a structural diagram of a switch provided by an embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the switch includes an aggregator <b>1000</b> and a broadcasting unit <b>1010</b>, wherein</p><p id="p-0215" num="0211">the aggregator <b>1000</b> is configured to receive local bandwidth demand frames of the tenants sent by all gateway servers, and aggregate the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain global bandwidth demand frames of the tenants; and</p><p id="p-0216" num="0212">the broadcasting unit <b>1010</b> is configured to broadcast the global bandwidth demand frames of the tenants to all the gateway servers.</p><p id="p-0217" num="0213">For the switch provided by the embodiment of present invention, the switch receives local bandwidth demand frames of the tenants sent by all gateway servers, aggregates the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain global bandwidth demand frames of the tenants, and broadcasts the global bandwidth demand frames of the tenants to all the gateway servers, so that the overheads of computing resources and bandwidth resources can be effectively reduced, and the rate limiting accuracy can be improved.</p><p id="p-0218" num="0214">Optionally, the broadcasting unit <b>1000</b> is also configured to:</p><p id="p-0219" num="0215">acquire all local traffic rate information of the tenants based on the local bandwidth demand frames of the tenants sent by all the gateway servers, and sum up all the local traffic rate information of the tenants; and</p><p id="p-0220" num="0216">modify a local traffic rate information field in the received local bandwidth demand frames of the tenants sent by the last gateway server based on the summation result to obtain global bandwidth demand frames of the tenants.</p><p id="p-0221" num="0217">Optionally, the switch includes a first switch and a second switch, and the first switch includes at least one switch.</p><p id="p-0222" num="0218">The broadcasting unit <b>1000</b> is specifically used in the following case:</p><p id="p-0223" num="0219">the first switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server, aggregates the local bandwidth demand frames of the tenants to obtain first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to the second switch; and</p><p id="p-0224" num="0220">the second switch receives the first local bandwidth demand frames of the tenants sent by the first switch, and aggregates the first local bandwidth demand frames of the tenants to obtain global bandwidth demand frames of the tenants.</p><p id="p-0225" num="0221">The broadcasting unit <b>1010</b> is specifically used in the following case:</p><p id="p-0226" num="0222">the global bandwidth demand frames of the tenants are broadcast to the first switch; and</p><p id="p-0227" num="0223">the first switch receives and broadcasts the global bandwidth demand frames of the tenants to at least one gateway server.</p><p id="p-0228" num="0224">Optionally, the second switch includes at least one switch, wherein any second switch serves as a root node, the first switch serves as a layer-n child node, and child nodes at other layers are at least one second switch;</p><p id="p-0229" num="0225">The step that the first switch sends the first local bandwidth demand frames of the tenants to the second switch, and the second switch receives the first local bandwidth demand frames of the tenants sent by the first switch and aggregates the first local bandwidth demand frames of the tenants to obtain global bandwidth demand frames of the tenants specifically includes the following steps:</p><p id="p-0230" num="0226">the first switch sends the first local bandwidth demand frames of the tenants to at least one second switch at a layer-(n&#x2212;1) child node;</p><p id="p-0231" num="0227">at least one second switch at the layer-(n&#x2212;1) child node aggregates the first local bandwidth demand frames of the tenants to obtain second local bandwidth demand frames of the tenants corresponding to each second switch at the layer-(n&#x2212;1) child node, and sends the second local bandwidth demand frames of the tenants to at least one second switch at a layer-(n&#x2212;2) child node until the second switch at the root node receives the (n&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants corresponding to each second switch at the layer-2 child node; and</p><p id="p-0232" num="0228">the second switch at the root node aggregates the (n&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants.</p><p id="p-0233" num="0229">The step that the second switch broadcasts the global bandwidth demand frames of the tenants to the first switch specifically includes the following steps:</p><p id="p-0234" num="0230">the second switch at the root node broadcasts the global bandwidth demand frames of the tenants to at least one second switch at the layer-2 child node, and at least one second switch at the layer-2 child node broadcasts the global bandwidth demand frames of the tenants to at least one second switch at the layer-3 child node until at least one second switch at the layer-(n&#x2212;1) child node receives the global bandwidth demand frames of the tenants and broadcasts the global bandwidth demand frames of the tenants to the first switch.</p><p id="p-0235" num="0231">Optionally, the switch includes at least two switches.</p><p id="p-0236" num="0232">The broadcasting unit <b>1000</b> is specifically used in the following case:</p><p id="p-0237" num="0233">a i<sup>th </sup>switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the i<sup>th </sup>switch, and receives the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants sent by the (i&#x2212;1)<sup>th </sup>switch;</p><p id="p-0238" num="0234">the local bandwidth demand frames of the tenants and the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants are aggregated to obtain the i<sup>th </sup>local bandwidth demand frames of the tenants;</p><p id="p-0239" num="0235">if the i<sup>th </sup>local bandwidth demand frames of the tenants are the global bandwidth demand frames of the tenants, the global bandwidth demand frames of the tenants are sent to the first switch, and the first switch sends the global bandwidth demand frames of the tenants to the second switch until the global bandwidth demand frames of the tenants are received by all switches;</p><p id="p-0240" num="0236">wherein i&#x2265;2 and i is an integer.</p><p id="p-0241" num="0237">The broadcasting unit <b>1010</b> is specifically used in the following case:</p><p id="p-0242" num="0238">each switch broadcasts the global bandwidth demand frames of the tenants to at least one gateway server corresponding to each switch.</p><p id="p-0243" num="0239">The switch provided by the present invention can realize the processes realized by the embodiments of methods in <figref idref="DRAWINGS">FIG. <b>2</b></figref>-<figref idref="DRAWINGS">FIG. <b>8</b></figref>, the same technical effects can be achieved, and it will not be repeated again in order to avoid repetition.</p><p id="p-0244" num="0240">An embodiment of the present invention also provides a cloud data center tenant-level outbound rate limiting system, including the contents of gateway server as described in the above embodiment and the contents of switch as described in the above embodiment, which will not be repeated again.</p><p id="p-0245" num="0241"><figref idref="DRAWINGS">FIG. <b>11</b></figref> shows a diagram of the physical structure of an electronic device, as shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the electronic device can include a processor <b>1110</b>, a communication interface <b>1120</b>, a memory <b>1130</b> and a communication bus <b>1140</b>, wherein the processor <b>1110</b>, the communication interface <b>1120</b> and the memory <b>1130</b> complete communication with each other through the communication bus <b>1140</b>. The processor <b>1110</b> can call a logic instruction in the memory <b>1130</b> to execute the cloud data center tenant-level outbound rate limiting method, and the method is applied to a gateway server, including the following steps:</p><p id="p-0246" num="0242">starting a timer, receiving and making statistics of outbound packets of tenants in a current period, obtaining local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, and generating local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants;</p><p id="p-0247" num="0243">when the timing of the timer reaches the current period, sending the local bandwidth demand frames of the tenants to a switch;</p><p id="p-0248" num="0244">receiving global bandwidth demand frames of the tenants sent by the switch, and computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants; and</p><p id="p-0249" num="0245">modifying rate limiting parameters based on the bandwidth budgets of the tenants, and limiting the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters.</p><p id="p-0250" num="0246">Or,</p><p id="p-0251" num="0247">The processor <b>1110</b> can call a logic instruction in the memory <b>1130</b> to execute the cloud data center tenant-level outbound rate limiting method which is applied to a switch, and the method includes the following steps:</p><p id="p-0252" num="0248">receiving local bandwidth demand frames of the tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain global bandwidth demand frames of the tenants; and</p><p id="p-0253" num="0249">broadcasting the global bandwidth demand frames of the tenants to all the gateway servers.</p><p id="p-0254" num="0250">In addition, the logic order in the above-mentioned memory <b>1130</b> can be realized in the form of a software functional unit, and when it is sold or used as an independent product, it can be stored in a computer-readable storage medium. Based on such understanding, the technical solution of the present invention in essence, or the part that contributes to the prior art or the part of the technical solution can be embodied in the form of a software product, and the computer software product is stored in a storage medium, including several instructions configured to enable a computer device (such as a personal computer, a server, or a network device, etc.) to execute all or part of the steps of the methods described in the embodiments of the present invention. The above-mentioned storage medium includes various media which can store procedure codes, such as U disk, mobile hard disk, read-only memory (ROM), random access memory (RAM), disk or CD-ROM.</p><p id="p-0255" num="0251">In another aspect, the present invention also provides a computer program product, wherein the computer program product includes a computer program stored on a non-transitory computer-readable storage medium, the computer program includes program instructions, when the program instructions are executed by a computer, the computer can execute the cloud data center tenant-level outbound rate limiting method provided by the above-mentioned methods, the method is applied to a gateway server, and the method includes the following steps:</p><p id="p-0256" num="0252">starting a timer, receiving and making statistics of outbound packets of tenants in a current period, obtaining local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, and generating local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants;</p><p id="p-0257" num="0253">when the timing of the timer reaches the current period, sending the local bandwidth demand frames of the tenants to a switch;</p><p id="p-0258" num="0254">receiving global bandwidth demand frames of the tenants sent by the switch, and computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants; and</p><p id="p-0259" num="0255">modifying rate limiting parameters based on the bandwidth budgets of the tenants, and limiting the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters.</p><p id="p-0260" num="0256">Or,</p><p id="p-0261" num="0257">when the program instructions are executed by a computer, the computer can execute the cloud data center tenant-level outbound rate limiting method provided by the above-mentioned methods, and the method is applied to a switch, including the following steps:</p><p id="p-0262" num="0258">receiving local bandwidth demand frames of the tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain global bandwidth demand frames of the tenants; and</p><p id="p-0263" num="0259">broadcasting the global bandwidth demand frames of the tenants to all the gateway servers.</p><p id="p-0264" num="0260">In another aspect, the present invention also provides a non-transitory computer-readable storage medium with a computer program stored, wherein the computer program can enabled when it is executed by the processor to execute the cloud data center tenant-level outbound rate limiting method provided by the above-mentioned embodiments, and the method is applied to a gateway server, including the following steps:</p><p id="p-0265" num="0261">starting a timer, receiving and making statistics of outbound packets of the tenants in a current period, obtaining local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, and generating local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants;</p><p id="p-0266" num="0262">when the timing of the timer reaches the current period, sending the local bandwidth demand frames of the tenants to a switch;</p><p id="p-0267" num="0263">receiving global bandwidth demand frames of the tenants sent by the switch, and computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants; and</p><p id="p-0268" num="0264">modifying rate limiting parameters based on the bandwidth budgets of the tenants, and limiting the rate of the outbound packets of the tenants in a next period based on the rate limiting parameters.</p><p id="p-0269" num="0265">Or,</p><p id="p-0270" num="0266">the computer program is enabled when it is executed by the processor to execute the cloud data center tenant-level outbound rate limiting method provided by the above-mentioned methods, and the method is applied to a switch, including the following steps:</p><p id="p-0271" num="0267">receiving local bandwidth demand frames of the tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain global bandwidth demand frames of the tenants; and</p><p id="p-0272" num="0268">broadcasting the global bandwidth demand frames of the tenants to all the gateway servers.</p><p id="p-0273" num="0269">The device embodiments described above are only examples, the described unit explained as a separate component can be either physically separated or not, the component displayed as a unit can be either a physical unit or not, that is, it can be either located in one place or distributed into a plurality of network elements. Part of or all the modules can be chosen according to the actual needs to achieve the objectives of the embodiments. It can be understood and implemented by those of ordinary skill in the art without making creative efforts.</p><p id="p-0274" num="0270">Through the above descriptions of the embodiments, those skilled in the art can clearly know that the embodiments can be realized with the help of software and necessary general hardware platforms, and can certainly be realized through hardware as well. Based on such understanding, the above-mentioned technical solution in essence or the part that contributes to the prior art can be embodied in the form of a software product, and the computer software product can be stored in a storage medium, such as ROM/RAM, disk, optical disk, etc., including several instructions configured to enable a computer device (such as a personal computer, a server, or a network device, etc.) to execute various embodiments or the methods described in some parts of the embodiments.</p><p id="p-0275" num="0271">Finally, it should be noted that the embodiments above are only used for explaining, rather than limiting, the technical solutions of the present invention; although the present invention is explained in detail referring to the above embodiments, those of ordinary skill in the art should be understood that the technical solutions recorded in the above embodiments can be modified, or a part of the technical features could be equivalently replaced; the modifications or replacements will not make the modified technical solutions depart from the spirit and scope of the technical solutions of the embodiments of the present invention.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001" nb-file="US20230006943A1-20230105-M00001.NB"><img id="EMI-M00001" he="6.35mm" wi="76.20mm" file="US20230006943A1-20230105-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00002" nb-file="US20230006943A1-20230105-M00002.NB"><img id="EMI-M00002" he="6.35mm" wi="76.20mm" file="US20230006943A1-20230105-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00003" nb-file="US20230006943A1-20230105-M00003.NB"><img id="EMI-M00003" he="6.35mm" wi="76.20mm" file="US20230006943A1-20230105-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00004" nb-file="US20230006943A1-20230105-M00004.NB"><img id="EMI-M00004" he="6.35mm" wi="76.20mm" file="US20230006943A1-20230105-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A cloud data center tenant-level outbound rate limiting method for a gateway server, comprising following steps:<claim-text>starting a timer, receiving and generating statistics of outbound packets of tenants in a current period, obtaining local traffic rate information of the tenants based on all of the outbound packets of the tenants in the current period, and generating local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants;</claim-text><claim-text>when a timing of the timer reaches the end of the current period, sending the local bandwidth demand frames of the tenants to a switch;</claim-text><claim-text>receiving global bandwidth demand frames of the tenants sent by the switch, and computing bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants; and</claim-text><claim-text>modifying rate limiting parameters based on the bandwidth budgets of the tenants, and limiting a rate of the outbound packets of the tenants in a next period based on the rate limiting parameters.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The cloud data center tenant-level outbound rate limiting method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the step of computing the bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants further comprises:<claim-text>obtaining global traffic rate information of the tenants based on the global bandwidth demand frames of the tenants; and</claim-text><claim-text>computing the bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global traffic rate information of the tenants.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The cloud data center tenant-level outbound rate limiting method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the step of computing the bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global traffic rate information of the tenants further comprises:<claim-text>computing the bandwidth budgets allocated to the tenants by formula (1) based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants:</claim-text></claim-text><claim-text><maths id="MATH-US-00004" num="00004"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mi>R</mi>     <mo>=</mo>     <mrow>      <mfrac>       <msub>        <mi>D</mi>        <mi>local</mi>       </msub>       <msub>        <mi>D</mi>        <mi>global</mi>       </msub>      </mfrac>      <mo>&#x22c6;</mo>      <msub>       <mi>R</mi>       <mn>0</mn>      </msub>     </mrow>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>1</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths><claim-text>where R represents the bandwidth budgets of the tenants, R<sub>0 </sub>represents bandwidths ordered by the tenants, D<sub>local </sub>represents the local traffic rate information of the tenants, and D<sub>global </sub>represents the global traffic rate information of the tenants.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. A cloud data center tenant-level outbound rate limiting method for a switch, comprising following steps:<claim-text>receiving local bandwidth demand frames of tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all of the gateway servers to obtain global bandwidth demand frames of the tenants; and</claim-text><claim-text>broadcasting the global bandwidth demand frames of the tenants to all of the gateway servers.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The cloud data center tenant-level outbound rate limiting method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the step of aggregating the local bandwidth demand frames of the tenants sent by all the gateway servers to obtain the global bandwidth demand frames of the tenants further comprises:<claim-text>acquiring all local traffic rate information of the tenants based on the local bandwidth demand frames of the tenants sent by all of the gateway servers, and summing up all of the local traffic rate information of the tenants to obtain a summation result; and</claim-text><claim-text>modifying a local traffic rate information field in the received local bandwidth demand frames of the tenants sent by a last gateway server based on the summation result to obtain the global bandwidth demand frames of the tenants.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The cloud data center tenant-level outbound rate limiting method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the switch comprises at least one first switch and at least one second switch;<claim-text>the step of receiving the local bandwidth demand frames of the tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all of the gateway servers to obtain the global bandwidth demand frames of the tenants further comprises:</claim-text><claim-text>the at least one first switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server, aggregates the local bandwidth demand frames of the tenants to obtain first local bandwidth demand frames of the tenants, and sends the first local bandwidth demand frames of the tenants to the at least one second switch;</claim-text><claim-text>the at least one second switch receives the first local bandwidth demand frames of the tenants sent by the at least one first switch, and aggregates the first local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants;</claim-text><claim-text>the step of broadcasting the global bandwidth demand frames of the tenants to all of the gateway servers further comprises:</claim-text><claim-text>the global bandwidth demand frames of the tenants are broadcast by the at least one second switch to the at least one first switch; and</claim-text><claim-text>the at least one first switch receives and broadcasts the global bandwidth demand frames of the tenants to at least one of the gateway servers.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The cloud data center tenant-level outbound rate limiting method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein one of the at least one second switch serves as a root node, the at least one first switch serves as a layer-n child node, and the other of the at least one second switch serves as child nodes at other layers;<claim-text>the step that the at least one first switch sends the first local bandwidth demand frames of the tenants to the at least one second switch, and the at least one second switch receives the first local bandwidth demand frames of the tenants sent by the at least one first switch, and aggregates the first local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants further comprises:</claim-text><claim-text>the at least one first switch sends the first local bandwidth demand frames of the tenants to the at least one second switch at a layer-(n&#x2212;1) child node;</claim-text><claim-text>the at least one second switch at the layer-(n&#x2212;1) child node aggregates the first local bandwidth demand frames of the tenants to obtain second local bandwidth demand frames of the tenants corresponding to each of the at least one second switch at the layer-(n&#x2212;1) child node, and sends the second local bandwidth demand frames of the tenants to the at least one second switch at a layer-(n&#x2212;2) child node until the at least one second switch at the root node receives (n&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants corresponding to each of the at least one second switch at a layer-2 child node;</claim-text><claim-text>the at least one second switch at the root node aggregates the (n&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants to obtain the global bandwidth demand frames of the tenants;</claim-text><claim-text>the step that the at least one second switch broadcasts the global bandwidth demand frames of the tenants to the at least one first switch further comprises:</claim-text><claim-text>the at least one second switch at the root node broadcasts the global bandwidth demand frames of the tenants to the at least one second switch at the layer-2 child node, and the at least one second switch at the layer-2 child node broadcasts the global bandwidth demand frames of the tenants to the at least one second switch at a layer-3 child node until the at least one second switch at the layer-(n&#x2212;1) child node receives the global bandwidth demand frames of the tenants and broadcasts the global bandwidth demand frames of the tenants to the at least one first switch.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The cloud data center tenant-level outbound rate limiting method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the switch comprises at least two switches;<claim-text>the step of receiving local bandwidth demand frames of the tenants sent by all gateway servers, and aggregating the local bandwidth demand frames of the tenants sent by all of the gateway servers to obtain the global bandwidth demand frames of the tenants further comprises:</claim-text><claim-text>a i<sup>th </sup>switch receives the local bandwidth demand frames of the tenants sent by at least one gateway server corresponding to the i<sup>th </sup>switch, and receives the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants sent by the (i&#x2212;1)<sup>th </sup>switch;</claim-text><claim-text>the local bandwidth demand frames of the tenants and the (i&#x2212;1)<sup>th </sup>local bandwidth demand frames of the tenants are aggregated to obtain the i<sup>th </sup>local bandwidth demand frames of the tenants;</claim-text><claim-text>if the i<sup>th </sup>local bandwidth demand frames of the tenants are the global bandwidth demand frames of the tenants, the global bandwidth demand frames of the tenants are sent to the first switch, and the first switch sends the global bandwidth demand frames of the tenants to the second switch until the global bandwidth demand frames of the tenants are received by all of the at least two switches;</claim-text><claim-text>wherein i&#x2265;2 and i is an integer;</claim-text><claim-text>the step of broadcasting the global bandwidth demand frames of the tenants to all of the gateway servers further comprises:</claim-text><claim-text>each of the at least two switch broadcasts the global bandwidth demand frames of the tenants to at least one gateway server corresponding to each of the at least two switch.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. A gateway server, comprising:<claim-text>a demand collector, configured to start a timer, receive and generate statistics of outbound packets of tenants in a current period, obtain local traffic rate information of the tenants based on all the outbound packets of the tenants in the current period, and generate local bandwidth demand frames of the tenants based on the local traffic rate information of the tenants; and configured to send the local bandwidth demand frames of the tenants to a switch when a timing of the timer reaches the end of the current period;</claim-text><claim-text>a budget allocator, configured to receive global bandwidth demand frames of the tenants sent by the switch, and compute bandwidth budgets of the tenants based on the local traffic rate information of the tenants and the global bandwidth demand frames of the tenants; and</claim-text><claim-text>a rate regulator, configured to modify rate limiting parameters based on the bandwidth budgets of the tenants, and limit a rate of the outbound packets of the tenants in a next period based on the rate limiting parameters.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A switch, comprising:<claim-text>an aggregator, configured to receive local bandwidth demand frames of tenants sent by all gateway servers, and aggregate the local bandwidth demand frames of the tenants sent by all of the gateway servers to obtain global bandwidth demand frames of the tenants; and</claim-text><claim-text>a broadcasting unit, configured to broadcast the global bandwidth demand frames of the tenants to all of the gateway servers.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A cloud data center tenant-level outbound rate limiting system, comprising the gateway server of <claim-ref idref="CLM-00009">claim 9</claim-ref> and a switch, wherein the switch further comprises:<claim-text>an aggregator, configured to receive local bandwidth demand frames of tenants sent by all gateway servers, and aggregate the local bandwidth demand frames of the tenants sent by all of the gateway servers to obtain global bandwidth demand frames of the tenants; and</claim-text><claim-text>a broadcasting unit, configured to broadcast the global bandwidth demand frames of the tenants to all of the gateway servers.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. An electronic device, comprising a memory, and a processor, wherein a computer program is stored in the memory and is operable on the processor, and the processor executes the program to realize steps of the cloud data center tenant-level outbound rate limiting method of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. A non-transitory computer-readable storage medium, with a computer program stored, wherein the computer program is executed by the processor to realize the steps of the cloud data center tenant-level outbound rate limiting method of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. An electronic device, comprising a memory, a processor, wherein a computer program is stored in the memory and is operable on the processor, and the processor executes the program to realize steps of the cloud data center tenant-level outbound rate limiting method of <claim-ref idref="CLM-00004">claim 4</claim-ref>.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A non-transitory computer-readable storage medium, with a computer program stored, wherein the computer program is executed by the processor to realize the steps of the cloud data center tenant-level outbound rate limiting method of <claim-ref idref="CLM-00004">claim 4</claim-ref>.</claim-text></claim></claims></us-patent-application>