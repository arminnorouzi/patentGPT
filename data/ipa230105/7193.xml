<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007194A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007194</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17756466</doc-number><date>20201201</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2019-220811</doc-number><date>20191206</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>365</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>17</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>351</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>3745</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>3651</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>17</main-group><subgroup>002</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>351</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>3745</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">SOLID-STATE IMAGING ELEMENT, IMAGING DEVICE, AND SOLID-STATE IMAGING ELEMENT CONTROL METHOD</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>SONY SEMICONDUCTOR SOLUTIONS CORPORATION</orgname><address><city>KANAGAWA</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>NAGAKI</last-name><first-name>NAOTO</first-name><address><city>TOKYO</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>KONISHI</last-name><first-name>TAKAO</first-name><address><city>KANAGAWA</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/JP2020/044592</doc-number><date>20201201</date></document-id><us-371c12-date><date>20220525</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">In a solid-state imaging element equipped with per-column ADCs, noise is reduced. A test signal source generates a test signal of a predetermined level. An analog-to-digital converter increases/decreases an analog signal according to an analog gain selected from among a plurality of analog gains, and converts the increased/decreased analog signal to a digital signal. An input switching section inputs, as the analog signal, either a test signal or a pixel signal to the analog-to-digital converter. A correction value calculation section obtains, on the basis of the test signal and the digital signal, a correction value for correcting an error in the selected analog gain, and outputs the correction value. A correction section corrects the digital signal according to the outputted correction value.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="122.85mm" wi="113.62mm" file="US20230007194A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="158.75mm" wi="115.49mm" file="US20230007194A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="173.91mm" wi="115.49mm" file="US20230007194A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="109.47mm" wi="115.15mm" file="US20230007194A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="73.58mm" wi="115.82mm" file="US20230007194A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="122.94mm" wi="113.79mm" file="US20230007194A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="147.24mm" wi="116.33mm" file="US20230007194A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="101.18mm" wi="114.47mm" file="US20230007194A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="131.23mm" wi="115.65mm" file="US20230007194A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="205.32mm" wi="159.34mm" file="US20230007194A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="231.06mm" wi="159.34mm" file="US20230007194A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="217.85mm" wi="147.57mm" file="US20230007194A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="173.82mm" wi="116.16mm" file="US20230007194A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="163.49mm" wi="115.82mm" file="US20230007194A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="162.14mm" wi="115.82mm" file="US20230007194A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="233.43mm" wi="154.43mm" file="US20230007194A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="174.24mm" wi="89.83mm" file="US20230007194A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="211.16mm" wi="159.34mm" file="US20230007194A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="216.49mm" wi="147.57mm" file="US20230007194A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="164.42mm" wi="116.16mm" file="US20230007194A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="158.24mm" wi="115.49mm" file="US20230007194A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="146.47mm" wi="116.59mm" file="US20230007194A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00022" num="00022"><img id="EMI-D00022" he="176.19mm" wi="114.72mm" file="US20230007194A1-20230105-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00023" num="00023"><img id="EMI-D00023" he="173.14mm" wi="115.91mm" file="US20230007194A1-20230105-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00024" num="00024"><img id="EMI-D00024" he="91.27mm" wi="105.16mm" file="US20230007194A1-20230105-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00025" num="00025"><img id="EMI-D00025" he="241.55mm" wi="117.43mm" file="US20230007194A1-20230105-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00026" num="00026"><img id="EMI-D00026" he="136.65mm" wi="115.49mm" file="US20230007194A1-20230105-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00027" num="00027"><img id="EMI-D00027" he="233.60mm" wi="155.53mm" file="US20230007194A1-20230105-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00028" num="00028"><img id="EMI-D00028" he="90.76mm" wi="115.57mm" file="US20230007194A1-20230105-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00029" num="00029"><img id="EMI-D00029" he="83.48mm" wi="129.54mm" file="US20230007194A1-20230105-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00030" num="00030"><img id="EMI-D00030" he="123.11mm" wi="100.25mm" file="US20230007194A1-20230105-D00030.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">TECHNICAL FIELD</heading><p id="p-0002" num="0001">The present technology relates to a solid-state imaging element. Specifically, the present technology relates to a solid-state imaging element, an imaging device, and a solid-state imaging element control method in which signal processing is performed per column.</p><heading id="h-0002" level="1">BACKGROUND ART</heading><p id="p-0003" num="0002">In the related solid-state imaging elements, single slope type ADCs (Analog to Digital Converters) equipped with comparators and counters are widely used because a configuration of a single slope type ADC is simpler than that of a successive comparison type ADC. For example, a solid-state imaging element that is equipped with per-column ADCs of a single slope type to capture image data has been proposed (for example, see PTL 1).</p><heading id="h-0003" level="1">CITATION LIST</heading><heading id="h-0004" level="1">Patent Literature</heading><heading id="h-0005" level="2">[PTL 1]</heading><p id="p-0004" num="0003">Japanese Patent Laid-Open No. 2009-124513</p><heading id="h-0006" level="1">SUMMARY</heading><heading id="h-0007" level="1">Technical Problems</heading><p id="p-0005" num="0004">In the above-mentioned conventional technology, single slope type ADCs which have a simple configuration are used. Accordingly, the circuit scale is reduced, compared to a case where successive comparison type ADCs or the like are used. However, there is a possibility that fixed pattern noise is generated in the above-mentioned solid-state imaging element due to dispersion of analog gains for input signals in the respective per-column ADCs. In particular, when a voltage of a power source of a comparator is lowered in order to reduce power consumption, there arises a problem that fixed pattern noise of a vertical stripe shape is likely to occur.</p><p id="p-0006" num="0005">The present technology has been made in view of the above-mentioned circumstances, and an object thereof is to reduce noise in a solid-state imaging element equipped with per-column ADCs.</p><heading id="h-0008" level="1">Solution to Problems</heading><p id="p-0007" num="0006">The present technology has been made in order to solve the above problems. A first aspect of the present technology is a solid-state imaging element and a control method therefor. The solid-state imaging element includes a test signal source that generates a test signal of a predetermined level, an analog-to-digital converter that increases/decreases an analog signal according to an analog gain selected from among a plurality of analog gains, and converts the increased/decreased analog signal to a digital signal, an input switching section that inputs, as the analog signal, either the test signal or a pixel signal to the analog-to-digital converter, a correction value calculation section that, on the basis of the test signal and the digital signal, obtains a correction value for correcting an error in the selected analog gain, and outputs the correction value, and a correction section that corrects the digital signal according to the outputted correction value. Accordingly, an effect of eliminating fixed pattern noise is provided.</p><p id="p-0008" num="0007">In addition, in the first aspect, the analog-to-digital converter may include a comparator that compares the analog signal with a predetermined ramp signal, and outputs a result of the comparison, and a digital signal generation section that generates the digital signal on the basis of the comparison result, and the comparator may include a differential amplification circuit that amplifies a difference between a predetermined reference voltage and a voltage of a predetermined node, and outputs the amplified difference as the comparison result, a vertical signal line-side capacity that is inserted between the predetermined node and the input switching section, a ramp-side capacity that is inserted between the predetermined node and a digital-to-analog converter that generates the ramp signal, and a switch that changes a capacity ratio of the vertical signal line-side capacity and the ramp-side capacity according to a predetermined control signal. Accordingly, an effect of controlling the capacity ratio is provided.</p><p id="p-0009" num="0008">In addition, in the first aspect, the plurality of analog gains may be classified into a plurality of gain domains in which the different capacity ratios are set, the kinds of the level of the test signal may include a high level that corresponds to a pixel signal when an incident light quantity is greater than a predetermined value and a low level that corresponds to a pixel signal when the incident light quantity is not greater than the predetermined value and the test signal source may supply only the high level for each of the plurality of gain domains during a signal level conversion time period for converting a signal level according to a light exposure quantity. Accordingly, an effect of shortening the calibration time period is provided.</p><p id="p-0010" num="0009">In addition, in the first aspect, the plurality of analog gains may be classified into a plurality of gain domains in which the different capacity ratios are set, the kinds of the level of the test signal may include a high level that corresponds to a pixel signal when an incident light quantity is greater than a predetermined value and a low level that corresponds to a pixel signal when the incident light quantity is not greater than the predetermined value, and the test signal source may supply the high level and the low level sequentially for a reference gain domain among the plurality of gain domains during a signal level conversion time period for converting the signal level according to a light exposure quantity, and supply only the high level for the remaining gain domains among the plurality of gain domains during the signal level conversion time period. Accordingly, an effect of shortening the calibration time period, and improving the correction accuracy is provided.</p><p id="p-0011" num="0010">In addition, in the first aspect, the plurality of analog gains may be classified into a plurality of gain domains in which the different capacity ratios are set, and the test signal source may supply the test signals as many as a sampling number that corresponds to an analog gain regarding the corresponding gain domain. Accordingly, an effect of shortening the calibration time period is provided.</p><p id="p-0012" num="0011">In addition, the first aspect may further include a reference data accumulation section that accumulates the digital signals for a reference gain domain among the plurality of gain domains, and outputs a result of the accumulation as a first addition result, and a target domain data accumulation section that accumulates the digital signals for each of the gain domains excluding the reference gain domain among the plurality of gain domains, and outputs a result of the accumulation as a second addition result, in which the correction value calculation section may calculate, as the correction value, a gain correction coefficient for correcting an analog gain on the basis of the first addition result and the second addition result. Accordingly, an effect of correcting the linearity is provided.</p><p id="p-0013" num="0012">In addition, in the first aspect, the correction value calculation section may include a first shift computation section that carries out computation of shifting a predetermined maximum sampling number according to the sampling number in the reference gain domain, a first multiplier that multiplies computation result obtained by the first shift computation section with a first addition result, a second shift computation section that carries out computation of shifting the predetermined maximum sampling number according to the sampling numbers in each of the gain domains excluding the reference gain domain, a second multiplier that multiplies computation result obtained by the second shift computation section with a second addition result, and a divider that divides the multiplication result obtained by the first multiplier, by the multiplication result obtained by the second multiplier, and outputs, as the gain correction coefficient, a result of the division. Accordingly, an effect of computing a gain correction coefficient is provided.</p><p id="p-0014" num="0013">In addition, in the first aspect, the correction value calculation section may include a first multiplier that multiplies the sampling number in each of the gains domains excluding the reference gain domain, with the first addition result, a second multiplier that multiplies the sampling number in the reference gain domain with the second addition result, and a divider that divides the multiplication result obtained by the first multiplier, by the multiplication result obtained by the second multiplier, and outputs, as the gain correction coefficient, a result of the division. Accordingly, an effect of reducing the computation amount is provided.</p><p id="p-0015" num="0014">Moreover, a second aspect of the present technology is an imaging device including a pixel array section in which a plurality of pixels that each generates a pixel signal are arranged, a test signal source that generates a test signal of a predetermined level, an analog-to-digital converter that increases/decreases an analog signal according to an analog gain selected from among a plurality of analog gains, and converts the increased/decreased analog signal to a digital signal, an input switching section that inputs, as the analog signal, either the test signal or the pixel signal to the analog-to-digital converter, a correction value calculation section that, on the basis of the test signal and the digital signal, obtains a correction value for correcting an error in the selected analog gain, and outputs the correction value, and a correction section that corrects the digital signal according to the outputted correction value. An effect of eliminating fixed pattern noise in image data captured by the imaging device is provided.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0009" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram depicting one configuration example of an imaging device according to a first embodiment of the present technology.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram depicting one configuration example of a solid-state imaging element according to the first embodiment of the present technology.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a circuit diagram depicting one configuration example of a pixel according to the first embodiment of the present technology.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a circuit diagram depicting one configuration example of an input switching section according to the first embodiment of the present technology.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a block diagram depicting one configuration example of a column signal processing section according to the first embodiment of the present technology.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a circuit diagram depicting one configuration example of a comparator according to the first embodiment of the present technology.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a diagram depicting one example of a VSL (Vertical Signal Line)-side capacity and a ramp-side capacity for each gain domain according to the first embodiment of the present technology.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a block diagram depicting one configuration example of an image processing section according to the first embodiment of the present technology.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>9</b></figref> depicts one example of diagrams of test signals and a frame according to the first embodiment of the present technology.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>10</b></figref> depicts one example of diagrams of test signals and a frame according to a comparative embodiment.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>11</b></figref> depicts one example of graphs of a relation between an input level and an output level in the first embodiment of the present technology, and a graph depicting the relation in the comparative embodiment.</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a diagram for explaining an error correction method according to the first embodiment of the present technology.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a diagram depicting one example of variation of test signals and reference signals according to the first embodiment of the present technology.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a diagram depicting one example of variation of test signals and reference signals according to the comparative embodiment.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>15</b></figref> depicts diagrams for an analog gain error correction method according to the first embodiment of the present technology.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a flowchart depicting one example of operation of the solid-state imaging element according to the first embodiment of the present technology.</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>17</b></figref> depicts one example of diagrams of test signals and a frame according to a modification of the first embodiment of the present technology.</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>18</b></figref> depicts one example of graphs of the relation between an input level and an output level in the modification of the first embodiment of the present technology.</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a diagram depicting one example of variation of test signals and reference signals according to the modification of the first embodiment of the present technology.</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a diagram depicting one example of calibration time periods in respective gain domains according to the second embodiment of the present technology.</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is a diagram depicting one example of calibration time periods in respective gain domains according to a comparative embodiment.</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is a diagram depicting one example of test signals according to the second embodiment of the present technology.</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is a block diagram depicting one configuration example of a gain error measurement section according to a third embodiment of the present technology.</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a block diagram depicting one configuration example of a correction value calculation section according to the third embodiment of the present technology.</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>25</b></figref> depicts one configuration example of block diagrams of a reference data accumulation section and a target domain data accumulation section according to the third embodiment of the present technology.</p><p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a block diagram depicting one configuration example of a gain correction coefficient computation section according to the third embodiment of the present technology.</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>27</b></figref> depicts diagrams for a linearity correction method according to the third embodiment of the present technology.</p><p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. <b>28</b></figref> is a block diagram depicting one configuration example of a gain correction coefficient computation section according to a modification of the third embodiment of the present technology.</p><p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. <b>29</b></figref> is a block diagram depicting an example of schematic configuration of a vehicle control system.</p><p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. <b>30</b></figref> is a diagram of assistance in explaining an example of installation positions of an outside-vehicle information detecting section and an imaging section.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0010" level="1">DESCRIPTION OF EMBODIMENTS</heading><p id="p-0046" num="0045">Hereinafter, embodiments for carrying out the present technology (hereinafter, referred to as embodiments) will be explained. The explanation will be given in the following order.</p><p id="p-0047" num="0046">1. First Embodiment (a test signal source supplies only high-level signals)</p><p id="p-0048" num="0047">2. Second Embodiment (test signals as many as a sampling number corresponding to an analog gain are supplied)</p><p id="p-0049" num="0048">3. Third Embodiment (Linearity correction is performed)</p><p id="p-0050" num="0049">4. Application Examples to Mobile Body</p><heading id="h-0011" level="1">1. First Embodiment</heading><p id="p-0051" num="0050">[Configuration Example of Imaging Device]</p><p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram depicting one configuration example of an imaging device <b>100</b> according to a first embodiment of the present technology. The imaging device <b>100</b> is a device for capturing image data (frame). The imaging device <b>100</b> includes an optical section <b>110</b>, a solid-state imaging element <b>200</b>, and a DSP (Digital Signal Processing) circuit <b>120</b>. The imaging device <b>100</b> further includes a display section <b>130</b>, an operation section <b>140</b>, a bus <b>150</b>, a frame memory <b>160</b>, a storage section <b>170</b>, and a power source section <b>180</b>. It is assumed that the imaging device <b>100</b> is a digital camera such as a digital still camera, a smartphone or personal computer with an image capturing function, or an on-vehicle camera, for example.</p><p id="p-0053" num="0052">The optical section <b>110</b> collects light from a subject and guides the light to the solid-state imaging element <b>200</b>. The solid-state imaging element <b>200</b> performs photoelectric conversion to generate a frame in synchronization with a vertical synchronization signal. Here, the vertical synchronization signal is a cyclic signal of a predetermined frequency indicating an image capturing timing. The solid-state imaging element <b>200</b> supplies the generated image data to the DSP circuit <b>120</b> via a signal line <b>209</b>.</p><p id="p-0054" num="0053">The DSP circuit <b>120</b> executes predetermined signal processing on the frame supplied from the solid-state imaging element <b>200</b>. The DSP circuit <b>120</b> outputs the processed frame to the frame memory <b>160</b>, etc., via the bus <b>150</b>.</p><p id="p-0055" num="0054">The display section <b>130</b> is used to display a frame. It is assumed that, for example, a liquid crystal panel or an organic EL (Electro Luminescence) panel is used as the display section <b>130</b>. The operation section <b>140</b> generates an operation signal according to a user's operation.</p><p id="p-0056" num="0055">The bus <b>150</b> is a common path for data exchange among the optical section <b>110</b>, the solid-state imaging element <b>200</b>, the DSP circuit <b>120</b>, the display section <b>130</b>, the operation section <b>140</b>, the frame memory <b>160</b>, the storage section <b>170</b>, and the power source section <b>180</b>.</p><p id="p-0057" num="0056">The frame memory <b>160</b> holds image data. The storage section <b>170</b> stores a variety of data such as a frame. The power source section <b>180</b> supplies a power source to the solid-state imaging element <b>200</b>, the DSP circuit <b>120</b>, the display section <b>130</b>, etc.</p><p id="p-0058" num="0057">[Configuration Example of Solid-State Imaging Element]</p><p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram depicting one configuration example of the solid-state imaging element <b>200</b> according to the first embodiment of the present technology. The solid-state imaging element <b>200</b> includes a vertical scanning circuit <b>210</b>, a test signal source <b>220</b>, a DAC <b>230</b>, a timing control circuit <b>240</b>, a pixel array section <b>250</b>, an input switching section <b>270</b>, a column signal processing section <b>280</b>, and an image processing section <b>300</b>.</p><p id="p-0060" num="0059">In the pixel array section <b>250</b>, a plurality of pixels <b>260</b> is arranged into a two-dimensional lattice shape. Hereinafter, a set of pixels <b>260</b> that are arranged in a predetermined horizontal direction is referred to as a &#x201c;row,&#x201d; while a set of pixels <b>260</b> that are arranged in a direction perpendicular to the horizontal direction is referred to as &#x201c;column.&#x201d;</p><p id="p-0061" num="0060">The timing control circuit <b>240</b> controls operation timings of the vertical scanning circuit <b>210</b>, the DAC <b>230</b>, and the column signal processing section <b>280</b> in synchronization with a vertical synchronization signal Vsync.</p><p id="p-0062" num="0061">The vertical scanning circuit <b>210</b> sequentially selects and drives a row to output analog pixel signals to the input switching section <b>270</b>.</p><p id="p-0063" num="0062">Each pixel <b>260</b> generates a pixel signal by photoelectric conversion, under control of the vertical scanning circuit <b>210</b>. Each pixel <b>260</b> outputs a pixel signal to the column signal processing section <b>280</b> via a vertical signal line <b>269</b>.</p><p id="p-0064" num="0063">The test signal source <b>220</b> generates a signal of a predetermined level as a test signal according to a control signal Tin supplied from the image processing section <b>300</b>, and supplies the test signal to the input switching section <b>270</b> via a signal line <b>229</b>. For example, a correction DAC which is provided separately from the DAC <b>230</b> is used as the test signal source <b>220</b>.</p><p id="p-0065" num="0064">The input switching section <b>270</b> selects, in each column, either a test signal or a pixel signal of the column, under control of the image processing section <b>300</b>. The input switching section <b>270</b> supplies, as an input signal, the selected signal to the column signal processing section <b>280</b>.</p><p id="p-0066" num="0065">The DAC <b>230</b> generates a reference signal by DA (Digital to Analog) conversion, and supplies the reference signal to the column signal processing section <b>280</b>. For example, a saw-tooth shaped ramp signal is used as the reference signal.</p><p id="p-0067" num="0066">The column signal processing section <b>280</b> converts, in each column, an analog input signal to a digital signal by using a reference signal. The column signal processing section <b>280</b> supplies the digital signal to the image processing section <b>300</b>.</p><p id="p-0068" num="0067">The image processing section <b>300</b> performs predetermined image processing on a frame in which digital signals are arrayed. This image processing includes correction processing for reducing fixed pattern noise. The image processing section <b>300</b> supplies the processed frame to the DSP circuit <b>120</b>.</p><p id="p-0069" num="0068">Further, setting information is inputted from the outside to the timing control circuit <b>240</b> and the image processing section <b>300</b>. For example, the setting information indicates a setting value of an analog gain during image capturing. The setting information is generated by a host computer or the like.</p><p id="p-0070" num="0069">[Configuration Example of Pixel]</p><p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a circuit diagram depicting one configuration example of a pixel <b>260</b> according to the first embodiment of the present technology. The pixel <b>260</b> includes a photoelectric conversion element <b>261</b>, a transfer transistor <b>262</b>, a reset transistor <b>263</b>, a floating diffusion layer <b>264</b>, an amplification transistor <b>265</b>, and a selection transistor <b>266</b>.</p><p id="p-0072" num="0071">The photoelectric conversion element <b>261</b> generates electric charge by photoelectrically converting incident light. The transfer transistor <b>262</b> transfers the electric charge from the photoelectric conversion element <b>261</b> to the floating diffusion layer <b>264</b> according to a transfer signal TX supplied from the vertical scanning circuit <b>210</b>. The reset transistor <b>263</b> initiates the electric charge quantity in the floating diffusion layer <b>264</b> according to a reset signal RST supplied from the vertical scanning circuit <b>210</b>.</p><p id="p-0073" num="0072">The floating diffusion layer <b>264</b> accumulates electric charge and generates a voltage corresponding to the electric charge quantity. The amplification transistor <b>265</b> amplifies the voltage of the floating diffusion layer <b>264</b>. The selection transistor <b>266</b> outputs, as a pixel signal SIG, a signal of the amplified voltage according to a selection signal SEL supplied from the vertical scanning circuit <b>210</b>. When the number of columns is defined as N (N is an integer), pixel signals of an n-th (n is an integer of 1 to N) column are transmitted to the input switching section <b>270</b> via a vertical signal line <b>269</b>-<i>n. </i></p><p id="p-0074" num="0073">It is to be noted that the circuit of the pixel <b>260</b> is not limited to the circuit depicted in <figref idref="DRAWINGS">FIG. <b>3</b></figref> as long as the pixel <b>260</b> is capable of generating a pixel signal by photoelectric conversion.</p><p id="p-0075" num="0074">[Configuration Example of Input Switching Section]</p><p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a circuit diagram depicting one configuration example of the input switching section <b>270</b> according to the first embodiment of the present technology. The input switching section <b>270</b> includes a plurality of selectors <b>271</b>. The selectors <b>271</b> are disposed for respective columns. In a case where the number of columns is N, N selectors <b>271</b> are arranged.</p><p id="p-0077" num="0076">According to an input switching signal SWin supplied from the image processing section <b>300</b>, each selector <b>271</b> selects either a pixel signal SIG of the corresponding column or a test signal Tout supplied from the test signal source <b>220</b>. One of two input terminals of the selector <b>271</b> of the n-th column is connected to the pixel array section <b>250</b> via the vertical signal line <b>269</b>-<i>n</i>, and the other input terminal is connected to the test signal source <b>220</b> via the signal line <b>229</b>. In addition, an output terminal of the selector <b>271</b> of the n-th column is connected to the column signal processing section <b>280</b> via a signal line <b>279</b>-<i>n</i>. The selector <b>271</b> outputs the selected signal as an input signal Ain.</p><p id="p-0078" num="0077">[Configuration Example of Column Signal Processing Section]</p><p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a block diagram depicting one configuration example of the column signal processing section <b>280</b> according to the first embodiment of the present technology. The column signal processing section <b>280</b> includes a plurality of ADCs <b>281</b>. The ADCs <b>281</b> are provided per column. In a case where the number of columns is N, N ADCs <b>281</b> are arranged.</p><p id="p-0080" num="0079">The ADCs <b>281</b> each convert an analog input signal Ain of the corresponding column to a digital signal Dout. Each of the ADCs <b>281</b> includes a comparator <b>400</b> and a counter <b>282</b>.</p><p id="p-0081" num="0080">The comparator <b>400</b> compares the reference signal RMP and the input signal Ain of the corresponding column. The comparator <b>400</b> supplies a comparison result CMP to the counter <b>282</b>. Further, an auto-zero signal AZ supplied from the timing control circuit <b>240</b> and a capacity ratio control signal Gctrl supplied from the image processing section <b>300</b> are inputted to the comparator <b>400</b>. Here, the capacity ratio control signal Gctrl is supplied for controlling an analog gain of the ADC <b>281</b> by switching the capacity ratio.</p><p id="p-0082" num="0081">The counter <b>282</b> obtains a count value, under control of the timing control circuit <b>240</b> until the comparison result CMP is inverted. The counter <b>282</b> supplies, as a digital signal Dout, a signal indicating the count value to the image processing section <b>300</b>. It is to be noted that the counter <b>282</b> is one example of the digital signal generation section set forth in the claims.</p><p id="p-0083" num="0082">Here, the kinds of the level of a pixel signal include a P-phase level and a D-phase level. The P-phase level is obtained when the pixel <b>260</b> is initialized. The D-phase level corresponds to an exposure quantity when electric charge is transferred to the floating diffusion layer <b>264</b> in the pixel <b>260</b>. The kinds of the AD conversion time period of an input signal Ain include a P-phase time period for AD conversion of the P-phase level and a D-phase time period for AD conversion of the D-phase level. It is to be noted that the P-phase level is one example of the reset level set forth in the claims, and the D-phase level is one example of the signal level set forth in the claims. Further, the D-phase time period is one example of the signal level conversion time period set forth in the claims.</p><p id="p-0084" num="0083">Under control of the timing control circuit <b>240</b>, the counter <b>282</b> carries out down/up counting (for example, down counting) during the P-phase time period, and carries out the other counting (for example, up counting) during the D-phase time period. As a result, CDS (Correlated Double Sampling) processing for obtaining a difference between the P-phase level and the D-phase level can be implemented.</p><p id="p-0085" num="0084">It is to be noted that the counter <b>282</b> performs CDS processing by carrying out both the up counting and down counting. However, the counter <b>282</b> may carry out only one of up counting and down counting. In this case, a CDS processing circuit that performs CDS processing is added to a poststage of the counter <b>282</b>.</p><p id="p-0086" num="0085">The ADC <b>281</b> in which AD conversion is performed by the comparator <b>400</b> and the counter <b>282</b>, as depicted in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, is called a single slope type ADC.</p><p id="p-0087" num="0086">It is to be noted that an ADC (e.g., successive comparison type ADC) that is not a single slope type may be provided as the ADC <b>281</b> as long as the ADC performs AD conversion using the comparator <b>400</b>. In a case where a successive comparison type ADC is disposed, an SAR (Successive Approximation Register) logic circuit and a register are provided in place of the counter <b>282</b>. The SAR logic circuit obtains the value of a reference signal that is approximated to an input signal on the basis of a comparison result CMP, and generates a DAC control signal for updating a reference signal to the obtained value. The register holds the DAC control signal and a digital signal in which the comparison results are arranged, and outputs the DAC control signal to the DAC <b>230</b> while outputting the digital signal to the image processing section <b>300</b>.</p><p id="p-0088" num="0087">[Configuration Example of Comparator]</p><p id="p-0089" num="0088"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a circuit diagram depicting one configuration example of the comparator <b>400</b> according to the first embodiment of the present technology. A capacity ratio switching circuit <b>410</b> and a differential amplification circuit <b>430</b> are disposed in the comparator <b>400</b>. The capacity ratio switching circuit <b>410</b> includes a predetermined number of switches including switches <b>411</b> to <b>415</b> and a plurality of capacities including capacities <b>416</b> to <b>421</b>.</p><p id="p-0090" num="0089">Respective one ends of the capacities <b>416</b> to <b>421</b> are all connected to a node <b>422</b>. The other end of the capacity <b>416</b> is connected to the input switching section <b>270</b> via the signal line <b>279</b>-<i>n</i>. The other end of the capacity <b>421</b> is connected to the DAC <b>230</b> via a signal line <b>239</b>.</p><p id="p-0091" num="0090">The switch <b>411</b> opens/closes a path between the other end of the capacity <b>416</b> and the other end of the capacity <b>417</b> according to a capacity ratio control signal Gctrl. The switch <b>412</b> opens/closes a path between the other end of the capacity <b>417</b> and the other end of the capacity <b>418</b> according to the capacity ratio control signal Gctrl. The switch <b>413</b> opens/closes a path between the other end of the capacity <b>418</b> and the other end of the capacity <b>419</b> according to the capacity ratio control signal Gctrl. The switch <b>414</b> opens/closes a path between the other end of the capacity <b>419</b> and the other end of the capacity <b>420</b> according to the capacity ratio control signal Gctrl. The switch <b>415</b> opens/closes a path between the other end of the capacity <b>420</b> and the other end of the capacity <b>421</b> according to the capacity ratio control signal Gctrl.</p><p id="p-0092" num="0091">According to the capacity ratio control signal Gctrl, the image processing section <b>300</b> performs control to make any one of the switches <b>411</b> to <b>415</b> open and make the remaining switches closed. As a result of this control, the capacity ratio between a vertical signal line-side combined capacity of the capacities that are inserted between the signal line <b>279</b>-<i>n </i>and the node <b>422</b> and a ramp signal-side combined capacity of the capacities that are inserted between the signal line <b>239</b> and the node <b>422</b> is changed. Hereinafter, the vertical signal line-side combined capacity and the ramp signal-side combined capacity are referred to as &#x201c;VSL-side capacity&#x201d; and &#x201c;ramp-side capacity,&#x201d; respectively. In <figref idref="DRAWINGS">FIG. <b>6</b></figref>, by controlling the five switches, the image processing section <b>300</b> can switch the capacity ratio among five stages.</p><p id="p-0093" num="0092">It is to be noted that the capacity ratio can be switched among five stages but the image processing section <b>300</b> may switch the capacity ratio among multiple stages other than five stages. When the number of the stages is defined as M (M is an integer), M switches and M+1 capacities are provided in the capacity ratio switching circuit <b>410</b>.</p><p id="p-0094" num="0093">In addition, the capacity <b>416</b> has the highest capacity value while the capacity values of the capacities <b>417</b> to <b>421</b> are set to be equal to one another. It is to be noted that the capacity value of each of the capacities <b>416</b> to <b>421</b> may be set to any value.</p><p id="p-0095" num="0094">The capacity <b>440</b> holds a predetermined reference voltage VSH.</p><p id="p-0096" num="0095">The differential amplification circuit <b>430</b> amplifies the difference between the voltage of the node <b>422</b> and the reference voltage VSH. The differential amplification circuit <b>430</b> includes pMOS transistors <b>431</b> and <b>432</b>, auto-zero switches <b>436</b> and <b>437</b>, and nMOS transistors <b>433</b> to <b>435</b>.</p><p id="p-0097" num="0096">The pMOS transistors <b>431</b> and <b>432</b> are connected in parallel to a power source. The gate of the pMOS transistor <b>431</b> is connected to the drain of the pMOS transistor <b>431</b> and the gate of the pMOS transistor <b>432</b>.</p><p id="p-0098" num="0097">The drain of the nMOS transistor <b>433</b> is connected to the pMOS transistor <b>431</b>, and the source of the nMOS transistor <b>433</b> is connected to a common node. Further, the gate of the nMOS transistor <b>433</b> is connected to the node <b>422</b>. The drain of the nMOS transistor <b>434</b> is connected to the pMOS transistor <b>432</b>, and the source of the nMOS transistor <b>434</b> is connected to the common node. Further, the gate of the nMOS transistor <b>434</b> is connected to the capacity <b>440</b>.</p><p id="p-0099" num="0098">The nMOS transistor <b>435</b> is inserted between the common node and a grounded terminal. A predetermined bias voltage Vbias is inputted to the gate of the nMOS transistor <b>435</b>.</p><p id="p-0100" num="0099">The auto-zero switch <b>436</b> makes a short circuit between the drain and the gate of the nMOS transistor <b>433</b> according to an auto-zero signal AZ supplied from the timing control circuit <b>240</b>. The auto-zero switch <b>437</b> makes a short circuit between the drain and the gate of the nMOS transistor <b>434</b> according to the auto-zero signal AZ.</p><p id="p-0101" num="0100">In addition, from a connection point between the pMOS transistor <b>432</b> and the nMOS transistor <b>434</b>, a comparison result CMP is outputted to the counter <b>282</b>.</p><p id="p-0102" num="0101"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a diagram depicting one example of the VSL-side capacity and the ramp-side capacity for each gain domain according to the first embodiment of the present technology.</p><p id="p-0103" num="0102">Here, the analog gain by the ADC <b>281</b> can be controlled according to the inclination of the slope of a reference signal RMP (ramp signal) and the capacity ratio between the VSL-side capacity and the ramp-side capacity. When the inclination of the slope is moderated, the analog gain becomes higher. Further, the analog gain is increased/decreased according to the capacity ratio. In a case where the inclination of the slope is controlled in K (K is an integer) stages and the capacity ratio is controlled in M stages, K&#xd7;M stages of analog gains can be realized. The K&#xd7;M analog gains are classified into M groups in which the different capacity ratios are set. Hereinafter, each of the groups is referred to as &#x201c;gain domain.&#x201d; For example, in a case where the capacity ratio can be switched among five stages, the analog gains can be classified into five gain domains d0 to d4. In each gain domain, the capacity ratio is set be fixed, and an analog gain is controlled in multiple stages according to the inclination of the slope. A host computer measures a light quantity of environmental light, for example, and sets a lower analog gain when the measured light quantity is higher.</p><p id="p-0104" num="0103">In <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the vertical axis indicates the VSL-side capacity or the ramp-side capacity, while the horizontal axis indicates the analog gain. In the gain domain d0, the VSL-side capacity is equal to the ramp-side capacity. In the gain domains d1 to d4, the VSL-side capacity is higher than the ramp-side capacity. When the VSL-side capacity is higher, the analog gain is higher.</p><p id="p-0105" num="0104">[Configuration Example of Image Processing Section]</p><p id="p-0106" num="0105"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a block diagram depicting one configuration example of the image processing section <b>300</b> according to the first embodiment of the present technology. The image processing section <b>300</b> includes a gain error measurement section <b>310</b>, a correction value calculation section <b>320</b>, a storage section <b>330</b>, a selector <b>340</b>, a correction section <b>350</b>, and a controller <b>360</b>.</p><p id="p-0107" num="0106">The selector <b>340</b> outputs a digital signal Dout supplied from the column signal processing section <b>280</b> to either the gain error measurement section <b>310</b> or the correction section <b>350</b> according to an output switching signal SWout supplied from the controller <b>360</b>.</p><p id="p-0108" num="0107">From the digital signal supplied from the selector <b>340</b>, the gain error measurement section <b>310</b> measures a parameter indicating an error in an analog gain. Here, in a case where the ADCs <b>281</b> are provided per column, an analog gain error may occur in each of the ADCs <b>281</b>. Further, different errors are likely to occur in the columns. Such relative gain errors in the columns may cause fixed pattern noise. An analog gain error is caused by a production variation of analog circuits in the comparator <b>400</b> or aging deterioration of these analog circuits, for example. Therefore, the gain error measurement section <b>310</b> measures a luminance level error multiple times in each column and in each gain domain in order to make analog gains uniform, and obtains relative gain errors in the columns on the basis of the luminance level errors. The number of times of performing AD conversion for obtaining an analog gain is set as a sampling number on the basis of setting information supplied from a host computer. Then, the gain error measurement section <b>310</b> supplies, as measurement data, the obtained error to the correction value calculation section <b>320</b>.</p><p id="p-0109" num="0108">In addition, the gain error measurement section <b>310</b> generates an update pulse on the basis of the sampling number supplied from the controller <b>360</b>, and supplies the update pulse and the measurement data to the correction value calculation section <b>320</b>. The update pulse is a signal for indicating a timing for updating a correction value.</p><p id="p-0110" num="0109">The correction value calculation section <b>320</b> obtains a correction value for correcting an analog gain error in each column and in each gain domain on the basis of the measurement data. Here, the correction values include the value of a gain correction coefficient &#x201c;a&#x201d; for collecting an analog gain error and an offset correction coefficient &#x201c;b&#x201d; for correcting an offset error. In a case where the number of columns and the number of gain domains are N and M, respectively, N&#xd7;M&#xd7;2 correction values are obtained.</p><p id="p-0111" num="0110">The correction value calculation section <b>320</b> stores the obtained correction values (the gain correction coefficient and the offset correction coefficient) into the storage section <b>330</b>. In addition, measurement target domain information indicating a gain domain that is a measurement target for the gain error measurement section <b>310</b> is inputted to the correction value calculation section <b>320</b>. The correction value calculation section <b>320</b> updates the correction value for the gain domain indicated by the measurement target gain domain information in synchronization with the update pulse.</p><p id="p-0112" num="0111">The storage section <b>330</b> stores the correction value for each column and for each gain domain.</p><p id="p-0113" num="0112">The correction section <b>350</b> corrects the digital signal supplied from the selector <b>340</b> according to the correction value. Correction target domain information indicating a gain domain that is a correction target is inputted to the correction section <b>350</b> by the controller <b>360</b>. In a case where digital signals Dout of the n-the column are inputted and the correction target domain information indicates m (m is an integer of 0 to M&#x2212;1), the correction section <b>350</b> reads out, from the storage section <b>330</b>, a gain correction coefficient &#x201c;a&#x201d; and an offset correction coefficient &#x201c;b&#x201d; for the n-th column and the m-th gain domain. Then, the digital signal Dout is corrected according to the following expression.</p><p id="p-0114" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Dout&#x2032;=Dout&#xd7;<i>a+b</i>&#x2003;&#x2003;Expression 1<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0115" num="0113">In the expression, Dout&#x2032; represents a corrected digital signal.</p><p id="p-0116" num="0114">The correction section <b>350</b> supplies image data (frame) in which the digital signals Dout&#x2032; obtained from Expression 1 are arranged, to the DSP circuit <b>120</b>.</p><p id="p-0117" num="0115">The controller <b>360</b> performs control concerning image processing. Before a video time period for generating a frame is started, the controller <b>360</b> first performs a start-time process for computing a correction value. During the start-time process, by using an input switching signal SWin, the controller <b>360</b> controls the input switching section <b>270</b> to input a test signal. In addition, by using an output switching signal SWout, the controller <b>360</b> controls the selector <b>340</b> to output a digital signal to the gain error measurement section <b>310</b>. In addition, by using a capacity ratio control signal Gctrl, the controller <b>360</b> controls the comparator <b>400</b> to sequentially switch the M gain domains. In addition, the controller <b>360</b> causes the correction value calculation section <b>320</b> to sequentially compute respective correction values for the M gain domains according to measurement target domain information.</p><p id="p-0118" num="0116">Next, during a vertical blanking time period, the controller <b>360</b> performs a divisional process of divisionally performing the processes of the start-time process. In the divisional process, the controller <b>360</b> causes input of a test signal by using the input switching signal SWin, and causes output of a digital signal to the gain error measurement section <b>310</b> by using the output switching signal SWout. In addition, by using the capacity ratio control signal Gctrl, the controller <b>360</b> controls the comparator <b>400</b> to perform switching to any one of the M gain domains. In addition, by using the measurement target domain information, the controller <b>360</b> causes the correction value calculation section <b>320</b> to compute a correction value for the one of the M gain domains.</p><p id="p-0119" num="0117">Then, during the video time period, the controller <b>360</b> causes input of a pixel signal by using the input switching signal SWin, and controls the selector <b>340</b> to output a digital signal to the correction section <b>350</b> by using an output switching signal SWout. In addition, by using the capacity ratio control signal Gctrl, the controller <b>360</b> causes switching to a gain domain corresponding to an analog gain indicated by setting information. In addition, by using the correction target domain information, the controller <b>360</b> causes correction of the digital signal according to the correction value for the gain domain corresponding to the analog gain indicated by the setting information.</p><p id="p-0120" num="0118">In the start-time process and the divisional process, the controller <b>360</b> supplies a sampling number indicated by the setting information, to the gain error measurement section <b>310</b>, and controls the test signal source <b>220</b> to generate test signals as many as the sampling number by using a control signal Tin.</p><p id="p-0121" num="0119">As previously explained, the setting information includes an analog gain that is set during the video time signal, and the sampling number in the start-time process and the sampling number in the divisional process. Hereinafter, the sampling number in the start-time process is referred to as &#x201c;total sampling number,&#x201d; and the sampling number in the divisional process is referred to as &#x201c;division sampling number.&#x201d;</p><p id="p-0122" num="0120"><figref idref="DRAWINGS">FIG. <b>9</b></figref> depicts one example of diagrams of test signals and a frame according to the first embodiment of the present technology. a of <figref idref="DRAWINGS">FIG. <b>9</b></figref> depicts one example of test signals that are supplied in the start-time process. b of <figref idref="DRAWINGS">FIG. <b>9</b></figref> depicts one example of a frame and test signals that are supplied in the divisional process. In <figref idref="DRAWINGS">FIG. <b>9</b></figref>, each horizontal axis indicates a column address while each vertical axis indicates a time.</p><p id="p-0123" num="0121">The kinds of the level of a test signal include a &#x201c;high level&#x201d; and a &#x201c;low level.&#x201d; The high level corresponds to a pixel signal when the incident light quantity is greater than a predetermined value. The low level corresponds to a pixel signal when the incident light quantity is not greater than the predetermined value. For example, a black level is set as the low level. In a case where electrons are accumulated as electric charge in the pixel <b>260</b>, a signal level is lower when the incident light quantity is larger, so that the high level becomes a minus value which is lower than the low level. On the other hand, in a case where positive holes are accumulated, the high level is higher than the low level.</p><p id="p-0124" num="0122">As depicted in a of <figref idref="DRAWINGS">FIG. <b>9</b></figref>, in the start-time process, the test signal source <b>220</b> supplies a predetermined number (e.g., 64) of high-level test signals for each of the plurality of gain domains d0 to d4 to all the columns during the D-phase time period. During the D-phase time period, only high-level test signals are supplied while no low-level test signal is supplied. The number of the supplied test signals corresponds to a sampling number.</p><p id="p-0125" num="0123">In addition, as depicted in b of <figref idref="DRAWINGS">FIG. <b>9</b></figref>, a 1V time period which is a cycle of a vertical synchronization signal includes the video time period and the vertical blanking time period. During the video time period, a frame <b>500</b> is generated. During the vertical blanking time period, no frame <b>500</b> is generated.</p><p id="p-0126" num="0124">The frame <b>500</b> includes an OPB (Optical Black) non-inquiry region, an OPB effective region, an aperture non-inquiry region, and an aperture effective region.</p><p id="p-0127" num="0125">During the vertical blanking time period, the controller <b>360</b> performs the divisional process. Here, the test signal source <b>220</b> supplies a predetermined number of high-level test signals for a measurement target gain domain to all the columns during the D-phase time period. During the D-phase time period, only high-level signals are supplied while no low-level signal is supplied.</p><p id="p-0128" num="0126">As depicted in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the test signal source <b>220</b> supplies only high-level signals during the D-phase time period. In contrast, a comparative embodiment in which the test signal source <b>220</b> supplies both high-level and low-level signals for each gain domain during the D-phase time period is assumed.</p><p id="p-0129" num="0127"><figref idref="DRAWINGS">FIG. <b>10</b></figref> depicts one example of diagrams of test signals and a frame according to the comparative embodiment. a of <figref idref="DRAWINGS">FIG. <b>10</b></figref> depicts one example of test signals that are supplied in the start-time process according to the comparative embodiment. b of <figref idref="DRAWINGS">FIG. <b>10</b></figref> depicts one example of a frame and test signals that are supplied in the divisional process according to the comparative embodiment. In <figref idref="DRAWINGS">FIG. <b>10</b></figref>, each horizontal axis indicates a column address while each vertical axis indicates a time.</p><p id="p-0130" num="0128">As depicted in a of <figref idref="DRAWINGS">FIG. <b>10</b></figref>, in the start-time period, the test signal source <b>220</b> supplies a predetermined number (e.g., 128) of high-level signals and a predetermined number of low-level signals for each of the plurality of gain domains d0 to d4 to all the columns during the D-phase time period.</p><p id="p-0131" num="0129">In addition, as depicted in b of <figref idref="DRAWINGS">FIG. <b>10</b></figref>, in the vertical blanking time period, the test signal source <b>220</b> supplies a predetermined number of high-level signals and a predetermined number of low-level signals for a measurement target gain domain to all the columns during the D-phase time period.</p><p id="p-0132" num="0130">In a configuration in which the test signal source <b>220</b> supplies high-level signals and low-level signals for each domain as depicted in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the time period of a calibration for computing a correction value becomes longer with an increase of the number of gain domains. In addition, in the comparative embodiment, a required sampling number is greater, compared to a case where only high-level signals are supplied. For example, when the sampling number for each level in each gain domain is set to &#x201c;128&#x201d; and the number of gain domains is M, 128&#xd7;M&#xd7;2 is seta as the total sampling number.</p><p id="p-0133" num="0131">In contrast, in a configuration in which the test signal source <b>220</b> supplies only high-level signals for each gain domain, variation of low-level signals is not needed to be taken into consideration. Therefore, the sampling number in each gain domain can be made less than that in the comparative embodiment. For example, when the sampling number in each gain domain is set to &#x201c;64&#x201d; and the number of gain domains is M, 64&#xd7;M is set as the total sampling number. As depicted in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, as a result of reduction in the sampling number, the calibration time period can be shortened.</p><p id="p-0134" num="0132"><figref idref="DRAWINGS">FIG. <b>11</b></figref> depicts one example of graphs of a relation between an input level and an output level in the first embodiment of the present technology and the comparative embodiment. a of <figref idref="DRAWINGS">FIG. <b>11</b></figref> depicts one example of a graph indicating the relation between an input level and an output level in the first embodiment of the present technology. b of <figref idref="DRAWINGS">FIG. <b>11</b></figref> depicts one example of a graph indicating the relation between an input level and an output level in the comparative embodiment. In <figref idref="DRAWINGS">FIG. <b>11</b></figref>, each vertical axis indicates the level (i.e., output level) of a digital signal Dout. In <figref idref="DRAWINGS">FIG. <b>11</b></figref>, each horizontal axis indicates the absolute value of the level (i.e., input level) of an input signal Ain before correction.</p><p id="p-0135" num="0133">The high level of an input signal Ain is defined as x<sub>H</sub>, while an output level converted from the high level x<sub>H </sub>is defined as y<sub>H</sub>. The gain error measurement section <b>310</b> computes y<sub>H</sub>/x<sub>H </sub>as an analog gain g for each column and each gain domain. In a of <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the inclination of the straight line corresponds to the analog gain g (=y<sub>H</sub>/x<sub>H</sub>).</p><p id="p-0136" num="0134">In a case where the sampling number is 2 or greater, the gain error measurement section <b>310</b> obtains a statistical amount STg (the average, the sum, or the like) of analog gains g for each column and each gain domain, and supplies the statistical amount STg as measurement data to the correction value calculation section <b>320</b>. The statistical amount STg for the m-th gain domain in the n-th column is defined as STg<sub>cn_dm</sub>.</p><p id="p-0137" num="0135">Further, the correction value calculation section <b>320</b> computes, as a target value AVGg, the average value of the statical amounts STg<sub>cn_dm </sub>for the gain domain d0 in all the columns. Then, the correction value calculation section <b>320</b> computes AVGg/STg<sub>cn_dm </sub>as a gain correction coefficient &#x201c;a&#x201d; for each column. Also for the gain domain d1 or later, the gain coefficient &#x201c;a&#x201d; for each column is computed in the same manner.</p><p id="p-0138" num="0136">On the other hand, in the comparative embodiment, a segment of a straight line in b of <figref idref="DRAWINGS">FIG. <b>11</b></figref> is computed, as an offset Ofs, together with an analog gain g.</p><p id="p-0139" num="0137">As depicted in a of <figref idref="DRAWINGS">FIG. <b>11</b></figref>, in a case where the test signal source <b>220</b> supplies only high-level signals, dispersion of analog gains (inclinations) is indicated by the following expression.</p><p id="p-0140" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>{1/(<i>x</i><sub>H</sub><i>&#x2212;x</i><sub>L</sub>)}&#xb7;{&#x3c3;<sub>RN</sub>/(<i>S</i><sub>H</sub>)<sup>1/2</sup>}&#x2003;&#x2003;Expression 2<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0141" num="0138">In this expression, &#x3c3;<sub>RN </sub>represents a standard deviation of dispersion of output levels, and indicates random noise, and S<sub>H</sub>represents a sampling number for a high-level signal.</p><p id="p-0142" num="0139">On the other hand, as depicted in b of <figref idref="DRAWINGS">FIG. <b>15</b></figref>, in a case where the test signal source <b>220</b> supplies high-level and low-level signals, dispersion of analog gains is expressed by the following expression.</p><p id="p-0143" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>{1/(<i>x</i><sub>H</sub><i>&#x2212;x</i><sub>L</sub>)}&#xb7;{&#x3c3;<sub>RN</sub>/(<i>S</i><sub>HL</sub>/4)<sup>1/2</sup>&#x2003;&#x2003;Expression 3<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0144" num="0140">In the expression, x<sub>L </sub>represents the low level of an input signal Ain, and S<sub>HL </sub>represents the sampling number for each of the high level and the low level.</p><p id="p-0145" num="0141">When the value obtained by Expression 2 is equal to the value obtained by Expression 3, the following expression is established.</p><p id="p-0146" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i><sub>H</sub><i>=S</i><sub>HL</sub>/4&#x2003;&#x2003;Expression 4<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0147" num="0142">According to Expression 4, in a case where only high-level signals are supplied, a sampling number that is required to eliminate the dispersion to obtain the substantially same correction accuracy becomes less. The sampling number in this case is &#xbc; of that in a case where high-level and low-level signals are supplied.</p><p id="p-0148" num="0143">Consequently, when the test signal source <b>220</b> supplies only high-level signals, the number of levels of test signals is reduced to be &#xbd;, a sampling number is reduced to &#xbc;, and the calibration time period can be shortened. As a result, a time period required for the start-time process can be shortened. In addition, a time period required for the divisional process in the vertical blanking time period can be shortened, so that the frame rate is improved.</p><p id="p-0149" num="0144"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a diagram for explaining an error correction method according to the first embodiment of the present technology. The pixel <b>260</b> generates a pixel signal SIG. For each gain domain, the test signal source <b>220</b> generates test signals Tout of a predetermined level (high level) during the D-phase time period.</p><p id="p-0150" num="0145">The selectors <b>271</b> in the input switching section <b>270</b> each select either a test signal Tout or a pixel signal SIG of the corresponding column according to an input switching signal SWin, and supplies the selected signal as an input signal Ain to the ADC <b>281</b> of the corresponding column.</p><p id="p-0151" num="0146">The ADC <b>281</b> converts the analog input signal Ain into a digital signal Dout by an analog gain selected from among a plurality of analog gains according to a capacity ratio control signal Gctrl.</p><p id="p-0152" num="0147">The selector <b>340</b> selects either the gain error measurement section <b>310</b> or the correction section <b>350</b> as an output destination according to an output switching signal SWout, and outputs the digital signal Dout to the output destination.</p><p id="p-0153" num="0148">The gain error measurement section <b>310</b> measures an analog gain and an offset in each column and in each gain domain in order to correct an analog gain error and an offset error, and supplies the analog gain and offset as measurement data to the correction value calculation section <b>320</b>.</p><p id="p-0154" num="0149">On the basis of the relation between the test signal Tout (input) and the digital signal Dout (output), the correction value calculation section <b>320</b> obtains a correction value for correcting the analog gain error or the like in each column and in each gain domain, and outputs the correction value to the storage section <b>330</b>.</p><p id="p-0155" num="0150">Then, the correction section <b>350</b> corrects the digital signal Dout according to the outputted correction value. As a result of the correction, fixed pattern noise of a vertical stripe shape which is caused by dispersion of analog gains in each column can be eliminated.</p><p id="p-0156" num="0151">In addition, the controller <b>360</b> performs the start-time process of selecting a plurality of gain domains one by one prior to the video time period. Then, the controller <b>360</b> performs the divisional process of changing a measurement target gain domain in the vertical blanking time period each time a predetermined number of frames are generated.</p><p id="p-0157" num="0152"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a diagram depicting one example of variation of test signals and reference signals according to the first embodiment of the present technology. In a time period from timing TO to T1 prior to the video time period, the test signal source <b>220</b> supplies a high-level signal as many times (e.g., 128 times) as the sampling number during the D-phase time period, under control of the controller <b>360</b>. In the period, the correction value of the gain domain d0 is computed.</p><p id="p-0158" num="0153">The test signal source <b>220</b> outputs low-level signals during the P-phase time period from timing T0 to t1 of the time period from timing T0 to T1, and outputs a high-level signal during the D-phase time period from timing t1 to t2. Next, the test signal source <b>220</b> outputs a low-level signal during the P-phase time period from timing t2 to t3, and outputs a high-level signal during the D-phase time period from timing t3 to t4. Thereafter, the same control is repeatedly performed until timing T1.</p><p id="p-0159" num="0154">Meanwhile, the DAC <b>230</b> generates a saw-tooth shaped reference signal RMP during the time period from timing TO to T1. The DAC <b>230</b> generates a reference signal RMP the level of which gradually decreases, during the P-phase time period from timing TO to t1, and generates the same reference signal RMP also during the D-phase time period from timing t1 to t2. However, the amplitude of the reference signal RMP during the D-phase time period is set to be larger than that during the P-phase time period. Thereafter, the same control is repeatedly performed until timing T1.</p><p id="p-0160" num="0155">In addition, the test signal source <b>220</b> supplies a high-level signal as many times as the sampling number during the D-phase time period of a time period from timing T2 to T3, under control of the controller <b>360</b>. In this time period, a correction value for the gain domain d1 is computed. Also in a time period from timing T4 to T5, a high-level signal is supplied, and a correction value for the gain domain d2 is computed. Also in a time period from timing T6 to T7 and a time period from timing T8 to T9, high-level signals are supplied, and a correction value for the gain domain d3 and a correction value for the gain domain d4 are computed.</p><p id="p-0161" num="0156">As depicted in <figref idref="DRAWINGS">FIG. <b>13</b></figref>, the test signal source <b>220</b> supplies only high-level signals for each gain domain during the D-phase time period.</p><p id="p-0162" num="0157"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a diagram depicting one example of variation of test signals and reference signals according to the comparative embodiment. In a time period from timing TO to T1 prior to the video time period, the test signal source <b>220</b> according to the comparative embodiment supplies a high-level signal as many times (e.g., 128 times) as the sampling number during the D-phase time period, under control of the controller <b>360</b>.</p><p id="p-0163" num="0158">Next, in a time period from timing T2 to T3, the test signal source <b>220</b> according to the comparative embodiment continuously supplies a low-level signal during the P-phase time period and the D-phase time period. In a time period from timing T1 to T3, a correction value for the gain domain d0 is computed.</p><p id="p-0164" num="0159">Next, in a time period from timing T4 to T5, the test signal source <b>220</b> according to the comparative embodiment supplies a high-level signal. Next, in a time period from timing T6 to T7, the test signal source <b>220</b> according to the comparative embodiment supplies a low-level signal. In a time period from timing T4 to T7, a correction value for the gain domain d1 is computed. Thereafter, the same control is repeatedly performed for up to the gain domain d3.</p><p id="p-0165" num="0160">As depicted in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, according to the comparative embodiment in which the test signal source <b>220</b> supplies high-level and low-level signals during the D-phase time period, the calibration time period is longer than that in the case where only high-level signals are supplied during the D-phase time period.</p><p id="p-0166" num="0161"><figref idref="DRAWINGS">FIG. <b>15</b></figref> depicts diagrams for an analog gain error correction method according to the first embodiment of the present technology. a of <figref idref="DRAWINGS">FIG. <b>15</b></figref> is one example of a graph depicting the relation between an incident light quantity and an output level in each column after correction of offsets but before correction of analog gains. b of <figref idref="DRAWINGS">FIG. <b>15</b></figref> is one example of a graph depicting the relation between an incident light quantity and an output level in each column after correction of analog gains. In <figref idref="DRAWINGS">FIG. <b>15</b></figref>, the dashed line indicates a characteristic in the first column C1, and the thin solid line indicates a characteristic in the second column C1. The characteristics of the remaining columns excluding the columns C1 and C2 are omitted. The thick solid line indicates an average characteristic of all the columns.</p><p id="p-0167" num="0162">As depicted in a of <figref idref="DRAWINGS">FIG. <b>15</b></figref>, before correction of analog gains, the inclinations (i.e., analog gains) in respective columns are dispersed due to product variation in the columns. Therefore, the correction section <b>350</b> corrects the digital signal by a gain correction coefficient while setting the average analog gain of all the columns as a target value. As a result, as depicted in b of <figref idref="DRAWINGS">FIG. <b>15</b></figref>, the analog gains in all the columns are made substantially uniform. Consequently, fixed pattern noise of a vertical stripe shape which is caused by dispersion of analog gains can be eliminated.</p><p id="p-0168" num="0163">[Operation Example of Solid-State Imaging Element]</p><p id="p-0169" num="0164"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a flowchart depicting one example of operation of the solid-state imaging element <b>200</b> according to the first embodiment of the present technology. The operation of the solid-state imaging element <b>200</b> is started when a predetermined application for capturing image data is started, for example.</p><p id="p-0170" num="0165">The column signal processing section <b>280</b> of the solid-state imaging element <b>200</b> performs AD conversion of high-level test signals for all the gain domains (step S<b>901</b>). The gain error measurement section <b>310</b> measures a gain error in each column and each gain domain (step S<b>902</b>). Subsequently, the correction value calculation section <b>320</b> computes a correction value for each column and each gain domain (step S<b>903</b>).</p><p id="p-0171" num="0166">Subsequently, during the video time period, the column signal processing section <b>280</b> generates a frame by performing AD conversion of pixel signals of all the pixels (step S<b>904</b>). The correction section <b>350</b> corrects digital signals of the frame according to the correction value (step S<b>905</b>).</p><p id="p-0172" num="0167">Next, during the vertical blanking time period, the column signal processing section <b>280</b> performs AD conversion of a test signal for a measurement target gain domain (step S<b>906</b>). The gain error measurement section <b>310</b> measures a column gain error in each column for the measurement target gain domain (step S<b>907</b>).</p><p id="p-0173" num="0168">The correction value calculation section <b>320</b> determines whether or not an update pulse has been generated (step S<b>908</b>). In a case where any update pulse has not been generated (step S<b>908</b>: No), the solid-state imaging element <b>200</b> repeatedly executes the flow from step S<b>904</b>.</p><p id="p-0174" num="0169">In a case where an update pulse has been generated (step S<b>908</b>: Yes), the correction value calculation section <b>320</b> computes a correction value in each column for the correction target gain domain, and performs updating according to the computation result (step S<b>909</b>). After step S<b>909</b>, the solid-state imaging element <b>200</b> repeatedly executes the flow from step S<b>904</b>.</p><p id="p-0175" num="0170">According to the first embodiment of the present technology, the correction value calculation section <b>320</b> obtains a correction value for correcting an analog gain error in each column, and the correction section <b>350</b> carries out correction according to the correction value. Therefore, noise caused by dispersion of analog gains in respective columns can be eliminated. As a result, the image quality of image data can be improved. Further, since the test signal source <b>220</b> supplies only a high-level signal as a test signal during the D-phase time period, the calibration time period is shorter than that in the case where high-level and low-level signals are supplied during the D-phase time period.</p><p id="p-0176" num="0171">[Modification]</p><p id="p-0177" num="0172">In the above-mentioned first embodiment, the test signal source <b>220</b> supplies only high-level signals for all the gain domains during the D-phase time period. With this configuration, however, dispersion of offsets cannot be corrected. A modification of the first embodiment differs from the first embodiment in that the test signal source <b>220</b> according to the modification further outputs a low-level signal for a reference gain domain d0 during the D-phase time period.</p><p id="p-0178" num="0173"><figref idref="DRAWINGS">FIG. <b>17</b></figref> depicts one example of diagrams of test signals and a frame according to the modification of the first embodiment of the present technology. a of <figref idref="DRAWINGS">FIG. <b>17</b></figref> depicts one example of test signals that are supplied in the start-time process. b of <figref idref="DRAWINGS">FIG. <b>17</b></figref> depicts one example of a frame and test signals that are supplied in the divisional process. In <figref idref="DRAWINGS">FIG. <b>17</b></figref>, each horizontal axis indicates a column address while each vertical axis indicates a time.</p><p id="p-0179" num="0174">As depicted in a of <figref idref="DRAWINGS">FIG. <b>17</b></figref>, in the start-time process, the test signal source <b>220</b> supplies high-level and low-level test signals for the reference gain domain d0 during the D-phase time period. A value (e.g., 128) that is greater than that for the remaining gain domains is set as a sampling number for each of the high level and the low level.</p><p id="p-0180" num="0175">Moreover, the test signal source <b>220</b> supplies high-level test signals for the remaining gain domains d1 to d3 during the D-phase time period.</p><p id="p-0181" num="0176">In addition, as depicted in b of <figref idref="DRAWINGS">FIG. <b>17</b></figref>, during the vertical blanking time period, the test signal source <b>220</b> supplies a predetermined number of test signals for a measurement target gain domain to all the columns during the D-phase time period. High-level and low-level signals for the reference gain domain d0 are supplied during the D-phase time period, while only high-level signals are supplied for the remaining gain domains.</p><p id="p-0182" num="0177"><figref idref="DRAWINGS">FIG. <b>18</b></figref> depicts one example of graphs of the relation between an input level and an output level according to the modification of the first embodiment of the present technology. a of <figref idref="DRAWINGS">FIG. <b>18</b></figref> depicts one example of a graph depicting the relation between an input level and an output level in the gain domain d0. b of <figref idref="DRAWINGS">FIG. <b>18</b></figref> depicts one example of a graph depicting the relation between an input level and an output level in the gain domain d1 or later. In <figref idref="DRAWINGS">FIG. <b>18</b></figref>, each vertical axis indicates the level (i.e., output level) of a digital signal Dout. In <figref idref="DRAWINGS">FIG. <b>18</b></figref>, each horizontal axis indicates the absolute value of the level (i.e., input level) of an input signal Ain before correction.</p><p id="p-0183" num="0178">As previously explained, the test signal source <b>220</b> supplies high-level and low-level test signals for the reference gain domain d0 during the D-phase time period. The gain error measurement section <b>310</b> measures an inclination g and an offset Ofs according to the following expressions.</p><p id="p-0184" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>g</i>=(<i>y</i><sub>H</sub><i>&#x2212;y</i><sub>L</sub>)/(<i>x</i><sub>H</sub><i>&#x2212;x</i><sub>L</sub>)&#x2003;&#x2003;Expression 5<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0185" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Ofs=(<i>x</i><sub>H</sub><i>y</i><sub>L</sub><i>&#x2212;x</i><sub>L</sub><i>y</i><sub>H</sub>)/(<i>x</i><sub>H</sub><i>&#x2212;x</i><sub>L</sub>)&#x2003;&#x2003;Expression 6<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0186" num="0179">In the expression, y<sub>L </sub>represents the level (output level) of a digital signal obtained by conversion of the low level x<sub>L</sub>.</p><p id="p-0187" num="0180">In a case where the sampling number is 2 or greater, the correction value calculation section <b>320</b> obtains a statistical amount STo (the average, the sum, or the like) of the offset Ofs in each column, as well as the statistical amount STg of the inclinations g. The statistical amount STo in the n-th column for the m-th gain domain is defined as STO<sub>cn_dm</sub>.</p><p id="p-0188" num="0181">Then, the correction value calculation section <b>320</b> computes, as an offset correction coefficient b, the average value of AD conversion values for the low level in the respective columns for each gain domain. Further, the correction value calculation section <b>320</b> also computes the gain correction coefficient &#x201c;a&#x201d; for each column.</p><p id="p-0189" num="0182">In addition, the test signal source <b>220</b> supplies only high-level signals for the gain domains d1 and later during the D-phase time periods. The gain error measurement section <b>310</b> computes an analog gain and an offset in each column according to Expression 5 and Expression 6. However, an output level y<sub>L </sub>corresponding to the low level cannot be obtained for the gain domains d1 and later, as depicted in b in <figref idref="DRAWINGS">FIG. <b>18</b></figref>, and thus, the output level y<sub>L </sub>for the gain domain d0 is used. It is to be noted that computation of an offset for the gain domains d1 and later may be omitted.</p><p id="p-0190" num="0183">For the gain domain d1 or later, the correction value calculation section <b>320</b> obtains correction values (a gain correction coefficient and an offset correction coefficient) for each column and each gain domain.</p><p id="p-0191" num="0184">As previously explained, since the test signal source <b>220</b> supplies a low-level signal for the gain domain d0, the correction value calculation section <b>320</b> can compute an offset correction coefficient as well as a gain correction coefficient. As a result, the correction accuracy can be improved, compared to the first embodiment in which correction is carried out according to a gain correction coefficient only.</p><p id="p-0192" num="0185"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a diagram depicting one example of variation of test signals and reference signals according to the modification of the first embodiment. In a time period from timing TO to T1 prior to the video time period, the test signal source <b>220</b> supplies a high-level signal as many times (e.g., 128 times) as the sampling number during the D-phase time period, under control of the controller <b>360</b>.</p><p id="p-0193" num="0186">Next, in a time period from timing T2 to T3, the test signal source <b>220</b> according to the comparative embodiment supplies low-level signals continuously during the P-phase time period and the D-phase time period. In a time period from timing T1 to T3, a correction value for the gain domain d0 is computed.</p><p id="p-0194" num="0187">Next, in a time period from timing T4 to T5, the test signal source <b>220</b> supplies a high-level signal as many times as the sampling number during the D-phase time period. In the time period from timing T4 to T5, a correction value for the gain domain d1 is computed. In a time period from timing T6 to T7, high-level signals are also supplied, and a correction value for the gain domain d2 is computed. Thereafter, the same control is repeatedly performed.</p><p id="p-0195" num="0188">According to the modification of the first embodiment of the present technology, the test signal source <b>220</b> outputs high-level and low-level signals for the reference gain domain d0 during the D-phase time period in the above-mentioned manner. Therefore, an offset correction coefficient as well as a gain correction coefficient can be computed. Accordingly, the correction accuracy can be improved, compared to the first embodiment in which correction is carried out with a gain correction coefficient only.</p><heading id="h-0012" level="1">2. Second Embodiment</heading><p id="p-0196" num="0189">In the above-mentioned first embodiment, sampling numbers in respective gain domains are made uniform. With this configuration, however, the total of the sampling numbers becomes greater with an increase of gain domains, so that the calibration time period becomes long. The test signal source <b>220</b> according to the second embodiment differs from that of the first embodiment in that the test signal source <b>220</b> according to the second embodiment sets a sampling number according to an analog gain concerning a gain domain such that the calibration time period is shortened.</p><p id="p-0197" num="0190">In the second embodiment, as a sampling number in each gain domain, a value corresponding to an analog gain concerning the corresponding gain domain is set. It is general that, as an analog gain is higher, variation of digital signals is greater. Therefore, a smaller sampling number is set when an analog gain is lower. For example, the analog gains in the gain domains d4, d3, d2, d1, and d0 sequentially become larger in this order. In this case, the sampling numbers in the gain domains d4, d3, d2, d1, and d0 become sequentially become smaller in this order.</p><p id="p-0198" num="0191">In addition, the test signal source <b>220</b> according to the second embodiment supplies both a high-level signal and a low-level signal for each gain domain during the D-phase time period.</p><p id="p-0199" num="0192"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a diagram depicting one example of test signals and a reference signal according to the second embodiment of the present technology. In <figref idref="DRAWINGS">FIG. <b>20</b></figref>, the vertical axis indicates the level of a test signal or a reference signal. In <figref idref="DRAWINGS">FIG. <b>20</b></figref>, the horizontal axis indicates a time.</p><p id="p-0200" num="0193">As depicted in <figref idref="DRAWINGS">FIG. <b>20</b></figref>, in the start-time process, the test signal source <b>220</b> supplies a high-level test signal for the gain domain d0 in a time period from timing t0 to t1. Further, the test signal source <b>220</b> supplies a low-level test signal for the gain domain d0 in a time period from timing t1 to t2. When the sampling number in the gain domain d0 is S<sub>0</sub>, S<sub>0</sub>&#xd7;2 test signals are supplied during the time period from timing t0 to t2, and D-phase AD conversion (i.e., sampling) is performed S<sub>0</sub>&#xd7;2 times.</p><p id="p-0201" num="0194">Then, the test signal source <b>220</b> supplies a high-level test signal for the gain domain d1 in a time period from timing t2 to t3. Further, the test signal source <b>220</b> supplies low-level test signals for the gain domain d1 during a time period from timing t3 to t4. When the sampling number in the gain domain d1 is S<sub>1</sub>, S<sub>1</sub>&#xd7;2 test signals are supplied during a time period from timing t2 to t4, and AD conversion (i.e., sampling) for the D phase is performed S<sub>1</sub>&#xd7;2 times.</p><p id="p-0202" num="0195">Next, in a time period from timing t4 to t6, the test signal source <b>220</b> supplies high-level and low-level test signals for the gain domain d2. In a time period from timing t6 to t8, the test signal source <b>220</b> supplies high-level and low-level test signals for the gain domain d3. In a time period from timing t8 to t11, the test signal source <b>220</b> supplies high-level and low-level test signals for the gain domain d4.</p><p id="p-0203" num="0196">In addition, as the difference between a high-level test signal and a low-level test signal, a greater value is set when an analog gain in the corresponding gain domain is lower. For example, in a case where the analog gains in the gain domains d0, d1, d2, d3, and d4 sequentially become larger in this order, the differences in the gain domains d0, d1, d2, d3, and d4 sequentially become smaller in this order.</p><p id="p-0204" num="0197">In addition, a smaller number is set as a sampling number in a certain gain domain when the corresponding analog gain is lower. For example, in a case where the analog gains in the gain domains d4, d3, d2, d1, and d0 sequentially become lower in this order, the sampling numbers S<sub>4</sub>, S<sub>3</sub>, S<sub>2</sub>, S<sub>1</sub>, and S<sub>0 </sub>sequentially become smaller in this order. In addition, a reference signal is also supplied during a high-level and low-level test signal supply time period.</p><p id="p-0205" num="0198">On the other hand, a comparative embodiment in which respective sampling numbers in the gain domains are made uniform, as depicted in <figref idref="DRAWINGS">FIG. <b>21</b></figref>, is assumed.</p><p id="p-0206" num="0199">As depicted in <figref idref="DRAWINGS">FIG. <b>21</b></figref>, a sampling number is set to be smaller when the corresponding analog gain is lower, so that the total sampling number in all the gain domains can be reduced, compared to the comparative embodiment. For example, when the largest sampling number S<sub>4 </sub>is equal to a sampling number (e.g., 128) in the comparative embodiment, the total sampling number in all the gain domains is smaller, compared to the comparative embodiment. As a result of the reduction of sampling numbers, the calibration time period can be shortened.</p><p id="p-0207" num="0200"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is a diagram depicting one example of test signals according to the second embodiment of the present technology. In <figref idref="DRAWINGS">FIG. <b>22</b></figref>, the horizontal axis indicates a column address while the vertical axis indicates a time.</p><p id="p-0208" num="0201">As depicted in <figref idref="DRAWINGS">FIG. <b>22</b></figref>, in the start-time process, the test signal source <b>220</b> supplies high-level test signals and low-level test signals for the gain domain d0 as many as the sampling number (S<sub>0</sub>).</p><p id="p-0209" num="0202">Also, the test signal source <b>220</b> supplies high-level and low-level test signals for the gain domain d1 as many as the sampling number (S<sub>1</sub>). Thereafter, the number of high-level test signals and the number of low-level test signals which are supplied for the gain domains d2, d3, and d4, are equal to the sampling numbers S<sub>2</sub>, S<sub>3</sub>, and S<sub>4</sub>, respectively. In a case where the analog gains in the gain domains d4, d3, d2, d1, and d0 sequentially become lower in this order, the sampling numbers S<sub>4</sub>, S<sub>3</sub>, S<sub>2</sub>, S<sub>1</sub>, and S<sub>0 </sub>sequentially become smaller in this order.</p><p id="p-0210" num="0203">On the other hand, in the comparative embodiment, the same number of test signals are supplied for each gain domain, as depicted in a in <figref idref="DRAWINGS">FIG. <b>10</b></figref>.</p><p id="p-0211" num="0204">It is to be noted that the first embodiment can be applied to the second embodiment. In this case, the test signal source <b>220</b> supplies only high-level signals for each gain domain during the D-phase time period. The modification of the first embodiment also can be applied to the second embodiment.</p><p id="p-0212" num="0205">As previously explained, according to the second embodiment of the present technology, the test signal source <b>220</b> supplies test signals as many as a sampling number corresponding to an analog gain. Thus, the number of times of AD conversion can be reduced according to the analog gain. As a result, the calibration time period can be shortened.</p><heading id="h-0013" level="1">3. Third Embodiment</heading><p id="p-0213" num="0206">In the above-mentioned first and second embodiments, the correction value calculation section <b>320</b> computes a gain correction coefficient for the gain domains d1 and later without using data on the gain domain d0. With this configuration, however, there is a possibility that linearity of a digital signal with respect to an analog gain is not ensured. The third embodiment differs from the first or second embodiment in that the linearity is corrected in the third embodiment.</p><p id="p-0214" num="0207"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is a block diagram depicting one configuration example of the gain error measurement section <b>310</b> according to the third embodiment of the present technology. The gain error measurement section <b>310</b> includes a sampling number counter <b>311</b>, an update pulse generation section <b>312</b>, a reference data accumulation section <b>380</b>, a target domain data accumulation section <b>385</b>, and an offset computation section <b>315</b>.</p><p id="p-0215" num="0208">The sampling number counter <b>311</b> counts, as a sampling number, the number of digital signals inputted from the selector <b>340</b>. The sampling number counter <b>311</b> supplies the sampling number to the update pulse generation section <b>312</b>.</p><p id="p-0216" num="0209">The update pulse generation section <b>312</b> generates an update pulse on the basis of the sampling number counted by the sampling number counter <b>311</b>. A total sampling number and a divisional sampling number are inputted from the controller <b>360</b> to the update pulse generation section <b>312</b>. In the start-time process, the update pulse generation section <b>312</b> generates an update pulse when the sampling number reaches the total sampling number, and supplies the update pulse to the correction value calculation section <b>320</b>. In addition, in the divisional process, the update pulse generation section <b>312</b> generates an update pulse each time the sampling number reaches the divisional sampling number, and supplies the update pulse to the correction value calculation section <b>320</b>.</p><p id="p-0217" num="0210">For the reference gain domain d0, the reference data accumulation section <b>380</b> accumulates, in each column, digital signals Dout the number of which is equal to a sampling number. The reference data accumulation section <b>380</b> supplies, as a sum total value SUM<sub>0</sub>, a result of the accumulation to the correction value calculation section <b>320</b>.</p><p id="p-0218" num="0211">For the gain domain d1 or later, the target domain data accumulation section <b>385</b> accumulates, in each column, digital signals Dout the number of which is equal to the sampling number. The target domain data accumulation section <b>385</b> supplies a result of the accumulation to the linearity correction value calculation section <b>320</b>. A result of the accumulation for the m-th gain domain is defined as a sum total value SUM<sub>m</sub>.</p><p id="p-0219" num="0212">The offset computation section <b>315</b> computes an offset for each column and each gain domain. The offset computation section <b>315</b> computes an offset Ofs in each gain domain according to Expression 6 each time sampling is performed. The gain computation section <b>314</b> computes a statistical amount STo of the offsets in each gain domain and each column. The statistical amount STo in the n-th column for the m-th gain domain is defined as STo<sub>cn_dm</sub>. In the start-time process, the respective statistical amounts STo<sub>cn_dm </sub>are computed for all the gain domains. On the other hand, in the divisional process, the statistical amount STo<sub>cn_dm </sub>in each frame is computed for a measurement target gain domain.</p><p id="p-0220" num="0213">The offset computation section <b>315</b> supplies, as measurement data, data including the computation result to the correction value calculation section <b>320</b>. It is to be noted that the gain error measurement section <b>310</b> computes offsets but may refrain from computing any offset when an error is small, for example.</p><p id="p-0221" num="0214"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a block diagram depicting one configuration example of the correction value calculation section <b>320</b> according to the third embodiment of the present technology. The correction value calculation section <b>320</b> includes a gain correction coefficient computation section <b>390</b> and an offset correction coefficient computation section <b>322</b>.</p><p id="p-0222" num="0215">The gain correction coefficient computation section <b>390</b> computes a gain correction coefficient for each column and for the gain domains d1 and later. The gain correction coefficient a<sub>m </sub>for the m-th gain domain is obtained, for example, according to the following expression.</p><p id="p-0223" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>a</i><sub>m</sub>=(SUM<sub>0</sub><i>&#xd7;S</i><sub>m</sub>)/(SUM<sub>m</sub><i>&#xd7;S</i><sub>0</sub>)&#x2003;&#x2003;Expression 7<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0224" num="0216">In the expression, S<sub>0 </sub>represents a sampling number in the gain domain d0, and S<sub>m </sub>represents a sampling number in the m-th gain domain.</p><p id="p-0225" num="0217">The gain correction coefficient computation section <b>390</b> supplies the gain correction coefficient a<sub>m </sub>for each column and each gain domain to the storage section <b>330</b>.</p><p id="p-0226" num="0218">The offset correction coefficient computation section <b>322</b> computes an offset correction coefficient &#x201c;b&#x201d; for each column and each gain domain, and outputs the offset correction coefficient &#x201c;b&#x201d; to the storage section <b>330</b>. The offset correction coefficient computation section <b>322</b> computes, as the offset correction coefficient b, the average values of AD conversion values for low-level signals in the respective columns for the gain domain d0. By the same computation, an offset correction coefficient &#x201c;b&#x201d; in each column is also computed for the gain domain d1 and later.</p><p id="p-0227" num="0219"><figref idref="DRAWINGS">FIG. <b>25</b></figref> depicts one configuration example of block diagrams of the reference data accumulation section <b>380</b> and the target domain data accumulation section <b>385</b> according to the third embodiment of the present technology. The reference data accumulation section <b>380</b> includes an output control section <b>381</b>, an adder <b>382</b>, a selector <b>383</b>, and a memory <b>384</b>. The target domain data accumulation section <b>385</b> includes an output control section <b>386</b>, an adder <b>387</b>, a selector <b>388</b>, and a memory <b>389</b>.</p><p id="p-0228" num="0220">The output control section <b>381</b> controls an output destination of the selector <b>383</b>. The output control section <b>381</b> counts the number of digital signals Dout in each column. When the count value is less than a sampling number corresponding to the gain domain d0, the output control section <b>381</b> performs control to select the memory <b>384</b> as an output destination of the selector <b>383</b>. When the count value reaches the sampling number, the output control section <b>381</b> switches the output destination of the selector <b>383</b> to the gain correction coefficient computation section <b>390</b>.</p><p id="p-0229" num="0221">The adder <b>382</b> adds up, in each column, the digital signals Dout for the gain domain d0 and a held value in the memory <b>384</b>. The adder <b>382</b> outputs the addition value to the selector <b>383</b>.</p><p id="p-0230" num="0222">The selector <b>383</b> outputs the addition value supplied from the adder <b>382</b> to the memory <b>384</b> or the gain correction coefficient computation section <b>390</b>, under control of the output control section <b>381</b>. According to the value outputted to the memory <b>384</b>, the memory <b>384</b> is updated. The sum total value SUM<sub>0 </sub>is outputted to the gain correction coefficient computation section <b>390</b>. The memory <b>384</b> holds the output value for each column from the selector <b>383</b>.</p><p id="p-0231" num="0223">The output control section <b>386</b> controls an output destination of the selector <b>388</b>. The output control section <b>386</b> counts the number of digital signals Dout in each column for the gain domains d1 and later, and performs control to select the memory <b>389</b> as an output destination of the selector <b>388</b> when the count value is less than a sampling number corresponding to a gain domain which is the computation target. When the count value reaches the sampling number, the output control section <b>386</b> switches an output destination of the selector <b>388</b> to the gain correction coefficient computation section <b>390</b>.</p><p id="p-0232" num="0224">The adder <b>387</b> adds up the digital signals Dout in each column and the held value in the memory <b>389</b> for each of the plurality of gain domains d1 and later. The adder <b>387</b> outputs the addition value to the selector <b>388</b>.</p><p id="p-0233" num="0225">The selector <b>388</b> outputs the addition value supplied from the adder <b>387</b> to the memory <b>389</b> or the gain correction coefficient computation section <b>390</b>, under control of the output control section <b>386</b>. According to the value outputted to the memory <b>389</b>, the memory <b>389</b> is updated. The sum total value SUM<sub>m </sub>is outputted to the gain correction coefficient computation section <b>390</b>. The memory <b>389</b> holds an output value for each column from the selector <b>388</b>.</p><p id="p-0234" num="0226"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a block diagram depicting one configuration example of the gain correction coefficient computation section <b>390</b> according to the third embodiment of the present technology. The gain correction coefficient computation section <b>390</b> includes a multiplier <b>391</b>, a divider <b>392</b>, a shift computation section <b>393</b>, a multiplier <b>394</b>, a shift computation section <b>395</b>, and a shift number setting section <b>396</b>.</p><p id="p-0235" num="0227">The shift computation section <b>393</b> shifts a predetermined maximum sampling number S<sub>MAX </sub>toward a direction to reduce the number of digits, by the sampling number S<sub>0 </sub>for the gain domain d0 as a shift number. The shift computation section <b>393</b> outputs the data obtained by the shifting, to the multiplier <b>391</b>. It is to be noted that the shift computation section <b>393</b> is one example of the first shift computation section set forth in the claims.</p><p id="p-0236" num="0228">The multiplier <b>391</b> multiplies the sum total value SUM<sub>0 </sub>of the gain domain d0 with output from the shift computation section <b>393</b>. The multiplier <b>391</b> supplies a result of the multiplication to the divider <b>392</b>. It is to be noted that the multiplier <b>391</b> is one example of the first multiplier set forth in the claims.</p><p id="p-0237" num="0229">The shift number setting section <b>396</b> sets a shift number for the shift computation section <b>395</b>. To the shift number setting section <b>396</b>, information for designating a gain domain which is a linearity correction target is inputted. The shift number setting section <b>396</b> supplies, as the shift number, a sampling number S<sub>m </sub>corresponding to the designated gain domain to the shift computation section <b>395</b>.</p><p id="p-0238" num="0230">The shift computation section <b>395</b> shifts a predetermined maximum sampling number S<sub>MAX </sub>toward a direction to reduce the number of digits, by the shift number supplied from the shift number setting section <b>396</b>. The shift computation section <b>395</b> outputs data obtained by the shifting, to the multiplier <b>394</b>. It is to be noted that the shift computation section <b>395</b> is one example of the second shift computation section set forth in the claims.</p><p id="p-0239" num="0231">The multiplier <b>394</b> multiplies, for each of the plurality of gain domains d1 and later, the sum total value SUM<sub>m </sub>with the output from the shift computation section <b>395</b>. The multiplier <b>394</b> supplies a result of the multiplication to the divider <b>392</b>. It is to be noted that the multiplier <b>394</b> is one example of the second multiplier set forth in the claims.</p><p id="p-0240" num="0232">The divider <b>392</b> divides the multiplication result in each column obtained by the multiplier <b>391</b>, by the multiplication result in the column obtained by the multiplier <b>394</b> for the gain domains d1 and later. The divider <b>392</b> supplies, as a gain correction coefficient a<sub>m</sub>, a result of the division for the m-th gain domain to the storage section <b>330</b>. The gain correction coefficient a<sub>m </sub>is expressed by the following expression.</p><p id="p-0241" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>a</i><sub>m</sub>={SUM<sub>0</sub>&#xd7;(<i>S</i><sub>MAX</sub><i>/S</i><sub>0</sub>)}/{SUM<sub>m</sub>&#xd7;(<i>S</i><sub>MAX</sub><i>/S</i><sub>m</sub>)}&#x2003;&#x2003;Expression 8<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0242" num="0233">Expression 8 is corresponding to Expression 7.</p><p id="p-0243" num="0234"><figref idref="DRAWINGS">FIG. <b>27</b></figref> depicts diagrams for a linearity correction method according to the third embodiment of the present technology. a of <figref idref="DRAWINGS">FIG. <b>27</b></figref> is one example of a graph depicting the relation between the level (i.e., output level) of a digital signal Dout and an analog gain in a case where correction of linearity is not performed. b of <figref idref="DRAWINGS">FIG. <b>27</b></figref> is one example of a graph depicting the relation between the output level and the analog gain in a case where correction of linearity is performed.</p><p id="p-0244" num="0235">In a case where the gain correction coefficient computation section <b>321</b> obtains a gain correction coefficient by using not Expression 8 but a statistical amount of digital signals in all the columns for a certain gain domain, as in the first embodiment, the linearity is not corrected. In this case, as depicted in a of <figref idref="DRAWINGS">FIG. <b>27</b></figref>, the linearity of the output level in each of the gain domains d1 to d3 is deviated from that in the gain domain d0.</p><p id="p-0245" num="0236">Therefore, the gain correction coefficient computation section <b>321</b> computes a gain correction coefficient by additionally using reference data on the gain domain d0 as indicated by Expression 8. As a result, the linearity in each of the gain domains can be corrected, as depicted in b of <figref idref="DRAWINGS">FIG. <b>27</b></figref>.</p><p id="p-0246" num="0237">It is to be noted that, in a case where the third embodiment is applied to the first embodiment, the sampling numbers in respective gains are made uniform. Thus, S<sub>0 </sub>and S<sub>m </sub>are set to the same value in Expression 7 and Expression 8.</p><p id="p-0247" num="0238">According to the third embodiment of the present technology, the gain correction coefficient computation section <b>390</b> computes gain correction coefficients for the gain domains d1 and later by using reference data of the gain domain d0 in the above-mentioned manner. Accordingly, linearity correction can be performed.</p><p id="p-0248" num="0239">[Modification]</p><p id="p-0249" num="0240">In the above-mentioned third embodiment, the gain correction coefficient computation section <b>390</b> carries out a shift computation on the maximum sampling number S<sub>MAX </sub>for each gain domain. With this configuration, however, the computation amount is increased with an increase of the number of gain domains. The gain correction coefficient computation section <b>390</b> according to a modification of the second embodiment differs from that of the third embodiment in that the computation amount in the gain correction coefficient computation section <b>390</b> according to the modification is reduced.</p><p id="p-0250" num="0241"><figref idref="DRAWINGS">FIG. <b>28</b></figref> is a block diagram depicting one configuration example of the gain correction coefficient computation section <b>390</b> according to the modification of the third embodiment of the present technology. The gain correction coefficient computation section <b>390</b> according to the modification of the second embodiment differs from that of the third embodiment in that neither the shift computation section <b>393</b> nor <b>395</b> is provided in the modification.</p><p id="p-0251" num="0242">The multiplier <b>391</b> according to the modification of the second embodiment multiplies the total number SUM<sub>0 </sub>in the gain domain d0 with the sampling number S<sub>m </sub>in the m-th gain domain.</p><p id="p-0252" num="0243">Further, the multiplier <b>394</b> according to the modification of the third embodiment multiplies the total number SUM<sub>M </sub>in the m-th gain domain with the sampling number S<sub>0 </sub>in the gain domain d0.</p><p id="p-0253" num="0244">With the configuration depicted in <figref idref="DRAWINGS">FIG. <b>28</b></figref>, Expression 7 can be calculated. In addition, as a result of omission of the shift computation sections <b>393</b> and <b>395</b>, the computation amount at the gain correction coefficient computation section <b>390</b> can be reduced.</p><p id="p-0254" num="0245">According to the modification of the third embodiment of the present technology, the shift computation sections <b>393</b> and <b>395</b> are not needed because multiplication of the sum and the corresponding sampling number is carried out for each gain domain in the above-mentioned manner. As a result, the computation amount at the gain correction coefficient computation section <b>390</b> can be reduced.</p><heading id="h-0014" level="1">4. Application Examples to Mobile Body</heading><p id="p-0255" num="0246">The technology according to the present disclosure is applicable for various kinds of products. For example, the technology according to the present disclosure can be implemented as a device included in any type of mobile bodies such as a vehicle, an electric vehicle, a hybrid electric vehicle, a motorcycle, a bicycle, a personal mobility, an airplane, a drone, a ship, or a robot.</p><p id="p-0256" num="0247"><figref idref="DRAWINGS">FIG. <b>29</b></figref> is a block diagram depicting an example of schematic configuration of a vehicle control system as an example of a mobile body control system to which the technology according to an embodiment of the present disclosure can be applied.</p><p id="p-0257" num="0248">The vehicle control system <b>12000</b> includes a plurality of electronic control units connected to each other via a communication network <b>12001</b>. In the example depicted in <figref idref="DRAWINGS">FIG. <b>29</b></figref>, the vehicle control system <b>12000</b> includes a driving system control unit <b>12010</b>, a body system control unit <b>12020</b>, an outside-vehicle information detecting unit <b>12030</b>, an in-vehicle information detecting unit <b>12040</b>, and an integrated control unit <b>12050</b>. In addition, a microcomputer <b>12051</b>, a sound/image output section <b>12052</b>, and a vehicle-mounted network interface (I/F) <b>12053</b> are illustrated as a functional configuration of the integrated control unit <b>12050</b>.</p><p id="p-0258" num="0249">The driving system control unit <b>12010</b> controls the operation of devices related to the driving system of the vehicle in accordance with various kinds of programs. For example, the driving system control unit <b>12010</b> functions as a control device for a driving force generating device for generating the driving force of the vehicle, such as an internal combustion engine, a driving motor, or the like, a driving force transmitting mechanism for transmitting the driving force to wheels, a steering mechanism for adjusting the steering angle of the vehicle, a braking device for generating the braking force of the vehicle, and the like.</p><p id="p-0259" num="0250">The body system control unit <b>12020</b> controls the operation of various kinds of devices provided to a vehicle body in accordance with various kinds of programs. For example, the body system control unit <b>12020</b> functions as a control device for a keyless entry system, a smart key system, a power window device, or various kinds of lamps such as a headlamp, a backup lamp, a brake lamp, a turn signal, a fog lamp, or the like. In this case, radio waves transmitted from a mobile device as an alternative to a key or signals of various kinds of switches can be input to the body system control unit <b>12020</b>. The body system control unit <b>12020</b> receives these input radio waves or signals, and controls a door lock device, the power window device, the lamps, or the like of the vehicle.</p><p id="p-0260" num="0251">The outside-vehicle information detecting unit <b>12030</b> detects information about the outside of the vehicle including the vehicle control system <b>12000</b>. For example, the outside-vehicle information detecting unit <b>12030</b> is connected with an imaging section <b>12031</b>. The outside-vehicle information detecting unit <b>12030</b> makes the imaging section <b>12031</b> image an image of the outside of the vehicle, and receives the imaged image. On the basis of the received image, the outside-vehicle information detecting unit <b>12030</b> may perform processing of detecting an object such as a human, a vehicle, an obstacle, a sign, a character on a road surface, or the like, or processing of detecting a distance thereto.</p><p id="p-0261" num="0252">The imaging section <b>12031</b> is an optical sensor that receives light, and which outputs an electric signal corresponding to a received light amount of the light. The imaging section <b>12031</b> can output the electric signal as an image, or can output the electric signal as information about a measured distance. In addition, the light received by the imaging section <b>12031</b> may be visible light, or may be invisible light such as infrared rays or the like.</p><p id="p-0262" num="0253">The in-vehicle information detecting unit <b>12040</b> detects information about the inside of the vehicle. The in-vehicle information detecting unit <b>12040</b> is, for example, connected with a driver state detecting section <b>12041</b> that detects the state of a driver. The driver state detecting section <b>12041</b>, for example, includes a camera that images the driver. On the basis of detection information input from the driver state detecting section <b>12041</b>, the in-vehicle information detecting unit <b>12040</b> may calculate a degree of fatigue of the driver or a degree of concentration of the driver, or may determine whether the driver is dozing.</p><p id="p-0263" num="0254">The microcomputer <b>12051</b> can calculate a control target value for the driving force generating device, the steering mechanism, or the braking device on the basis of the information about the inside or outside of the vehicle which information is obtained by the outside-vehicle information detecting unit <b>12030</b> or the in-vehicle information detecting unit <b>12040</b>, and output a control command to the driving system control unit <b>12010</b>. For example, the microcomputer <b>12051</b> can perform cooperative control intended to implement functions of an advanced driver assistance system (ADAS) which functions include collision avoidance or shock mitigation for the vehicle, following driving based on a following distance, vehicle speed maintaining driving, a warning of collision of the vehicle, a warning of deviation of the vehicle from a lane, or the like.</p><p id="p-0264" num="0255">In addition, the microcomputer <b>12051</b> can perform cooperative control intended for automatic driving, which makes the vehicle to travel autonomously without depending on the operation of the driver, or the like, by controlling the driving force generating device, the steering mechanism, the braking device, or the like on the basis of the information about the outside or inside of the vehicle which information is obtained by the outside-vehicle information detecting unit <b>12030</b> or the in-vehicle information detecting unit <b>12040</b>.</p><p id="p-0265" num="0256">In addition, the microcomputer <b>12051</b> can output a control command to the body system control unit <b>12020</b> on the basis of the information about the outside of the vehicle which information is obtained by the outside-vehicle information detecting unit <b>12030</b>. For example, the microcomputer <b>12051</b> can perform cooperative control intended to prevent a glare by controlling the headlamp so as to change from a high beam to a low beam, for example, in accordance with the position of a preceding vehicle or an oncoming vehicle detected by the outside-vehicle information detecting unit <b>12030</b>.</p><p id="p-0266" num="0257">The sound/image output section <b>12052</b> transmits an output signal of at least one of a sound and an image to an output device capable of visually or auditorily notifying information to an occupant of the vehicle or the outside of the vehicle. In the example of <figref idref="DRAWINGS">FIG. <b>29</b></figref>, an audio speaker <b>12061</b>, a display section <b>12062</b>, and an instrument panel <b>12063</b> are illustrated as the output device. The display section <b>12062</b> may, for example, include at least one of an on-board display and a head-up display.</p><p id="p-0267" num="0258"><figref idref="DRAWINGS">FIG. <b>30</b></figref> is a diagram depicting an example of the installation position of the imaging section <b>12031</b>.</p><p id="p-0268" num="0259">In <figref idref="DRAWINGS">FIG. <b>30</b></figref>, the imaging section <b>12031</b> includes imaging sections <b>12101</b>, <b>12102</b>, <b>12103</b>, <b>12104</b>, and <b>12105</b>.</p><p id="p-0269" num="0260">The imaging sections <b>12101</b>, <b>12102</b>, <b>12103</b>, <b>12104</b>, and <b>12105</b> are, for example, disposed at positions on a front nose, sideview mirrors, a rear bumper, and a back door of the vehicle <b>12100</b> as well as a position on an upper portion of a windshield within the interior of the vehicle. The imaging section <b>12101</b> provided to the front nose and the imaging section <b>12105</b> provided to the upper portion of the windshield within the interior of the vehicle obtain mainly an image of the front of the vehicle <b>12100</b>. The imaging sections <b>12102</b> and <b>12103</b> provided to the sideview mirrors obtain mainly an image of the sides of the vehicle <b>12100</b>. The imaging section <b>12104</b> provided to the rear bumper or the back door obtains mainly an image of the rear of the vehicle <b>12100</b>. The imaging section <b>12105</b> provided to the upper portion of the windshield within the interior of the vehicle is used mainly to detect a preceding vehicle, a pedestrian, an obstacle, a signal, a traffic sign, a lane, or the like.</p><p id="p-0270" num="0261">Incidentally, <figref idref="DRAWINGS">FIG. <b>30</b></figref> depicts an example of photographing ranges of the imaging sections <b>12101</b> to <b>12104</b>. An imaging range <b>12111</b> represents the imaging range of the imaging section <b>12101</b> provided to the front nose. Imaging ranges <b>12112</b> and <b>12113</b> respectively represent the imaging ranges of the imaging sections <b>12102</b> and <b>12103</b> provided to the sideview mirrors. An imaging range <b>12114</b> represents the imaging range of the imaging section <b>12104</b> provided to the rear bumper or the back door. A bird's-eye image of the vehicle <b>12100</b> as viewed from above is obtained by superimposing image data imaged by the imaging sections <b>12101</b> to <b>12104</b>, for example.</p><p id="p-0271" num="0262">At least one of the imaging sections <b>12101</b> to <b>12104</b> may have a function of obtaining distance information. For example, at least one of the imaging sections <b>12101</b> to <b>12104</b> may be a stereo camera constituted of a plurality of imaging elements, or may be an imaging element having pixels for phase difference detection.</p><p id="p-0272" num="0263">For example, the microcomputer <b>12051</b> can determine a distance to each three-dimensional object within the imaging ranges <b>12111</b> to <b>12114</b> and a temporal change in the distance (relative speed with respect to the vehicle <b>12100</b>) on the basis of the distance information obtained from the imaging sections <b>12101</b> to <b>12104</b>, and thereby extract, as a preceding vehicle, a nearest three-dimensional object in particular that is present on a traveling path of the vehicle <b>12100</b> and which travels in substantially the same direction as the vehicle <b>12100</b> at a predetermined speed (for example, equal to or more than 0 km/hour). Further, the microcomputer <b>12051</b> can set a following distance to be maintained in front of a preceding vehicle in advance, and perform automatic brake control (including following stop control), automatic acceleration control (including following start control), or the like. It is thus possible to perform cooperative control intended for automatic driving that makes the vehicle travel autonomously without depending on the operation of the driver or the like.</p><p id="p-0273" num="0264">For example, the microcomputer <b>12051</b> can classify three-dimensional object data on three-dimensional objects into three-dimensional object data of a two-wheeled vehicle, a standard-sized vehicle, a large-sized vehicle, a pedestrian, a utility pole, and other three-dimensional objects on the basis of the distance information obtained from the imaging sections <b>12101</b> to <b>12104</b>, extract the classified three-dimensional object data, and use the extracted three-dimensional object data for automatic avoidance of an obstacle. For example, the microcomputer <b>12051</b> identifies obstacles around the vehicle <b>12100</b> as obstacles that the driver of the vehicle <b>12100</b> can recognize visually and obstacles that are difficult for the driver of the vehicle <b>12100</b> to recognize visually. Then, the microcomputer <b>12051</b> determines a collision risk indicating a risk of collision with each obstacle. In a situation in which the collision risk is equal to or higher than a set value and there is thus a possibility of collision, the microcomputer <b>12051</b> outputs a warning to the driver via the audio speaker <b>12061</b> or the display section <b>12062</b>, and performs forced deceleration or avoidance steering via the driving system control unit <b>12010</b>. The microcomputer <b>12051</b> can thereby assist in driving to avoid collision.</p><p id="p-0274" num="0265">At least one of the imaging sections <b>12101</b> to <b>12104</b> may be an infrared camera that detects infrared rays. The microcomputer <b>12051</b> can, for example, recognize a pedestrian by determining whether or not there is a pedestrian in imaged images of the imaging sections <b>12101</b> to <b>12104</b>. Such recognition of a pedestrian is, for example, performed by a procedure of extracting characteristic points in the imaged images of the imaging sections <b>12101</b> to <b>12104</b> as infrared cameras and a procedure of determining whether or not it is the pedestrian by performing pattern matching processing on a series of characteristic points representing the contour of the object. When the microcomputer <b>12051</b> determines that there is a pedestrian in the imaged images of the imaging sections <b>12101</b> to <b>12104</b>, and thus recognizes the pedestrian, the sound/image output section <b>12052</b> controls the display section <b>12062</b> so that a square contour line for emphasis is displayed so as to be superimposed on the recognized pedestrian. The sound/image output section <b>12052</b> may also control the display section <b>12062</b> so that an icon or the like representing the pedestrian is displayed at a desired position.</p><p id="p-0275" num="0266">One example of the vehicle control system to which the technology according to the present disclosure can be applied has been explains so far. The technology according to the present disclosure can be applied to the imaging section <b>12301</b> of the above-mentioned configuration. For example, the imaging device <b>100</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> can be applied to the imaging section <b>12031</b>. When the technology according to the present disclosure is applied to the imaging section <b>12031</b>, individual pattern noise is eliminated, so that an easy-to-see captured image can be obtained. Accordingly, fatigue of a driver can be relieved.</p><p id="p-0276" num="0267">It is to be noted that the above-mentioned embodiments each exemplify one example for embodying the present technique, and the features of the embodiments have a correspondence with the invention-specifying features of the claims. Similarly, the invention-specifying features of the claims have the correspondence relation with components, of the embodiments, referred to by the same names. However, the present technique is not limited to the embodiments, and can be embodied by various modifications of the embodiments within the scope of the gist of the present technique.</p><p id="p-0277" num="0268">It is to be noted that the effects described in the present description are just examples, and thus, are not limited. In addition, any other effect may be provided.</p><p id="p-0278" num="0269">It is to be noted that the present technology can also have the following configurations.</p><p id="p-0279" num="0000">(1)</p><p id="p-0280" num="0270">A solid-state imaging element including:</p><p id="p-0281" num="0271">a test signal source that generates a test signal of a predetermined level;</p><p id="p-0282" num="0272">an analog-to-digital converter that increases/decreases an analog signal according to an analog gain selected from among a plurality of analog gains, and converts the increased/decreased analog signal to a digital signal;</p><p id="p-0283" num="0273">an input switching section that inputs, as the analog signal, either the test signal or a pixel signal to the analog-to-digital converter;</p><p id="p-0284" num="0274">a correction value calculation section that, on the basis of the test signal and the digital signal, obtains a correction value for correcting an error in the selected analog gain, and outputs the correction value; and</p><p id="p-0285" num="0275">a correction section that corrects the digital signal according to the outputted correction value.</p><p id="p-0286" num="0000">(2)</p><p id="p-0287" num="0276">The solid-state imaging element according to (1), in which</p><p id="p-0288" num="0277">the analog-to-digital converter includes<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0278">a comparator that compares the analog signal with a predetermined ramp signal, and outputs a result of the comparison, and</li>        <li id="ul0002-0002" num="0279">a digital signal generation section that generates the digital signal on the basis of the comparison result, and</li>    </ul>    </li></ul></p><p id="p-0289" num="0280">the comparator includes<ul id="ul0003" list-style="none">    <li id="ul0003-0001" num="0000">    <ul id="ul0004" list-style="none">        <li id="ul0004-0001" num="0281">a differential amplification circuit that amplifies a difference between a predetermined reference voltage and a voltage of a predetermined node, and outputs the amplified difference as the comparison result,</li>        <li id="ul0004-0002" num="0282">a vertical signal line-side capacity that is inserted between the predetermined node and the input switching section,</li>        <li id="ul0004-0003" num="0283">a ramp-side capacity that is inserted between the predetermined node and a digital-to-analog converter that generates the ramp signal, and</li>        <li id="ul0004-0004" num="0284">a switch that changes a capacity ratio of the vertical signal line-side capacity and the ramp-side capacity according to a predetermined control signal.<br/>(3)</li>    </ul>    </li></ul></p><p id="p-0290" num="0285">The solid-state imaging element according to (2), in which</p><p id="p-0291" num="0286">the plurality of analog gains is classified into a plurality of gain domains in which the different capacity ratios are set,</p><p id="p-0292" num="0287">kinds of the level of the test signal include a high level that corresponds to a pixel signal when an incident light quantity is greater than a predetermined value and a low level that corresponds to a pixel signal when the incident light quantity is not greater than the predetermined value, and</p><p id="p-0293" num="0288">the test signal source supplies only the high level for each of the plurality of gain domains during a signal level conversion time period for converting a signal level according to a light exposure quantity.</p><p id="p-0294" num="0000">(4)</p><p id="p-0295" num="0289">The solid-state imaging element according to (2), in which</p><p id="p-0296" num="0290">the plurality of analog gains is classified into a plurality of gain domains in which the different capacity ratios are set,</p><p id="p-0297" num="0291">the kinds of the level of the test signal include a high level that corresponds to a pixel signal when an incident light quantity is greater than a predetermined value and a low level that corresponds to a pixel signal when the incident light quantity is not greater than the predetermined value, and</p><p id="p-0298" num="0292">the test signal source supplies the high level and the low level sequentially for a reference gain domain among the plurality of gain domains during a signal level conversion time period for converting the signal level according to a light exposure quantity, and supplies only the high level for the remaining gain domains among the plurality of gain domains during the signal level conversion time period.</p><p id="p-0299" num="0000">(5)</p><p id="p-0300" num="0293">The solid-state imaging element according to any one of (2) to (4), in which</p><p id="p-0301" num="0294">the plurality of analog gains is classified into a plurality of gain domains in which the different capacity ratios are set, and</p><p id="p-0302" num="0295">the test signal source supplies the test signals as many as a sampling number that corresponds to an analog gain regarding the corresponding gain domain.</p><p id="p-0303" num="0000">(6)</p><p id="p-0304" num="0296">The solid-state imaging element according to (5), further including:</p><p id="p-0305" num="0297">a reference data accumulation section that accumulates the digital signals for a reference gain domain among the plurality of gain domains, and outputs a result of the accumulation as a first addition result; and</p><p id="p-0306" num="0298">a target domain data accumulation section that accumulates the digital signals for each of the gain domains excluding the reference gain domain among the plurality of gain domains, and outputs a result of the accumulation as a second addition result, in which</p><p id="p-0307" num="0299">the correction value calculation section calculates, as the correction value, a gain correction coefficient for correcting an analog gain on the basis of the first addition result and the second addition result.</p><p id="p-0308" num="0000">(7)</p><p id="p-0309" num="0300">The solid-state imaging element according to (6), in which</p><p id="p-0310" num="0301">the correction value calculation section includes<ul id="ul0005" list-style="none">    <li id="ul0005-0001" num="0000">    <ul id="ul0006" list-style="none">        <li id="ul0006-0001" num="0302">a first shift computation section that carries out computation of shifting a predetermined maximum sampling number according to the sampling number in the reference gain domain,</li>        <li id="ul0006-0002" num="0303">a first multiplier that multiplies computation result obtained by the first shift computation section with the first addition result,</li>        <li id="ul0006-0003" num="0304">a second shift computation section that carries out computation of shifting the predetermined maximum sampling number according to the sampling numbers in each of the gain domains excluding the reference gain domain,</li>        <li id="ul0006-0004" num="0305">a second multiplier that multiplies computation result obtained by the second shift computation section with the second addition result, and</li>        <li id="ul0006-0005" num="0306">a divider that divides the multiplication result obtained by the first multiplier, by the multiplication result obtained by the second multiplier, and outputs, as the gain correction coefficient, a result of the division.</li>    </ul>    </li></ul></p><p id="p-0311" num="0307">(8)</p><p id="p-0312" num="0308">The solid-state imaging element according to (6), in which</p><p id="p-0313" num="0309">the correction value calculation section includes<ul id="ul0007" list-style="none">    <li id="ul0007-0001" num="0000">    <ul id="ul0008" list-style="none">        <li id="ul0008-0001" num="0310">a first multiplier that multiplies the sampling number in each of the gains domains excluding the reference gain domain, with the first addition result,</li>        <li id="ul0008-0002" num="0311">a second multiplier that multiplies the sampling number in the reference gain domain with the second addition result, and</li>        <li id="ul0008-0003" num="0312">a divider that divides the multiplication result obtained by the first multiplier, by the multiplication result obtained by the second multiplier, and outputs, as the gain correction coefficient, a result of the division.<br/>(9)</li>    </ul>    </li></ul></p><p id="p-0314" num="0313">An imaging device including:</p><p id="p-0315" num="0314">a pixel array section in which a plurality of pixels that each generates a pixel signal are arranged;</p><p id="p-0316" num="0315">a test signal source that generates a test signal of a predetermined level;</p><p id="p-0317" num="0316">an analog-to-digital converter that increases/decreases an analog signal according to an analog gain selected from among a plurality of analog gains, and converts the increased/decreased analog signal to a digital signal;</p><p id="p-0318" num="0317">an input switching section that inputs, as the analog signal, either the test signal or the pixel signal to the analog-to-digital converter;</p><p id="p-0319" num="0318">a correction value calculation section that, on the basis of the test signal and the digital signal, obtains a correction value for correcting an error in the selected analog gain, and outputs the correction value; and</p><p id="p-0320" num="0319">a correction section that corrects the digital signal according to the outputted correction value.</p><p id="p-0321" num="0000">(10)</p><p id="p-0322" num="0320">A solid-state imaging element control method including:</p><p id="p-0323" num="0321">a test signal generation procedure of generating a test signal of a predetermined level;</p><p id="p-0324" num="0322">an analog-digital conversion procedure of increasing/decreasing an analog signal according to an analog gain selected from among a plurality of analog gains, and converting the increased/decreased analog signal to a digital signal;</p><p id="p-0325" num="0323">an input switching procedure of inputting, as the analog signal, either the test signal or the pixel signal to the analog-to-digital converter;</p><p id="p-0326" num="0324">a correction value acquisition procedure of obtaining, on the basis of the test signal and the digital signal, a correction value for correcting an error in the selected analog gain, and outputting the correction value; and</p><p id="p-0327" num="0325">a correction procedure of correcting the digital signal according to the outputted correction value.</p><heading id="h-0015" level="1">REFERENCE SIGNS LIST</heading><p id="p-0328" num="0000"><ul id="ul0009" list-style="none">    <li id="ul0009-0001" num="0000">    <ul id="ul0010" list-style="none">        <li id="ul0010-0001" num="0326"><b>100</b>: Imaging device</li>        <li id="ul0010-0002" num="0327"><b>110</b>: Optical section</li>        <li id="ul0010-0003" num="0328"><b>120</b>: DSP circuit</li>        <li id="ul0010-0004" num="0329"><b>130</b>: Display section</li>        <li id="ul0010-0005" num="0330"><b>140</b>: Operation section</li>        <li id="ul0010-0006" num="0331"><b>150</b>: Bus</li>        <li id="ul0010-0007" num="0332"><b>160</b>: Frame memory</li>        <li id="ul0010-0008" num="0333"><b>170</b>: Storage section</li>        <li id="ul0010-0009" num="0334"><b>180</b>: Power source section</li>        <li id="ul0010-0010" num="0335"><b>200</b>: Solid-state imaging element</li>        <li id="ul0010-0011" num="0336"><b>210</b>: Vertical scanning circuit</li>        <li id="ul0010-0012" num="0337"><b>220</b>: Test signal source</li>        <li id="ul0010-0013" num="0338"><b>230</b>: DAC</li>        <li id="ul0010-0014" num="0339"><b>240</b>: Timing control circuit</li>        <li id="ul0010-0015" num="0340"><b>250</b>: Pixel array section</li>        <li id="ul0010-0016" num="0341"><b>260</b>: Pixel</li>        <li id="ul0010-0017" num="0342"><b>261</b>: Photoelectric conversion element</li>        <li id="ul0010-0018" num="0343"><b>262</b>: Transfer transistor</li>        <li id="ul0010-0019" num="0344"><b>263</b>: Reset transistor</li>        <li id="ul0010-0020" num="0345"><b>264</b>: Floating diffusion layer</li>        <li id="ul0010-0021" num="0346"><b>265</b>: Amplification transistor</li>        <li id="ul0010-0022" num="0347"><b>266</b>: Selection transistor</li>        <li id="ul0010-0023" num="0348"><b>270</b>: Input switching section</li>        <li id="ul0010-0024" num="0349"><b>271</b>, <b>340</b>, <b>383</b>, <b>388</b>: Selector</li>        <li id="ul0010-0025" num="0350"><b>280</b>: Column signal processing section</li>        <li id="ul0010-0026" num="0351"><b>281</b>: ADC</li>        <li id="ul0010-0027" num="0352"><b>282</b>: Counter</li>        <li id="ul0010-0028" num="0353"><b>300</b>: Image processing section</li>        <li id="ul0010-0029" num="0354"><b>310</b>: Gain error measurement section</li>        <li id="ul0010-0030" num="0355"><b>311</b>: Sampling number counter</li>        <li id="ul0010-0031" num="0356"><b>312</b>: Update pulse generation section</li>        <li id="ul0010-0032" num="0357"><b>315</b>: Offset computation section</li>        <li id="ul0010-0033" num="0358"><b>320</b>: Correction value calculation section</li>        <li id="ul0010-0034" num="0359"><b>330</b>: Storage section</li>        <li id="ul0010-0035" num="0360"><b>350</b>: Correction section</li>        <li id="ul0010-0036" num="0361"><b>360</b>: Controller</li>        <li id="ul0010-0037" num="0362"><b>380</b>: Reference data accumulation section</li>        <li id="ul0010-0038" num="0363"><b>381</b>, <b>386</b>: Output control section</li>        <li id="ul0010-0039" num="0364"><b>382</b>, <b>387</b>: Adder</li>        <li id="ul0010-0040" num="0365"><b>384</b>, <b>389</b>: Memory</li>        <li id="ul0010-0041" num="0366"><b>385</b>: Target domain data accumulation section</li>        <li id="ul0010-0042" num="0367"><b>390</b>: Gain correction coefficient computation section</li>        <li id="ul0010-0043" num="0368"><b>391</b>, <b>394</b>: Multiplier</li>        <li id="ul0010-0044" num="0369"><b>392</b>: Divider</li>        <li id="ul0010-0045" num="0370"><b>393</b>, <b>395</b>: Shift computation section</li>        <li id="ul0010-0046" num="0371"><b>396</b>: Shift number setting section</li>        <li id="ul0010-0047" num="0372"><b>400</b>: Comparator</li>        <li id="ul0010-0048" num="0373"><b>410</b>: Capacity ratio switching circuit</li>        <li id="ul0010-0049" num="0374"><b>411</b> to <b>415</b>: Switch</li>        <li id="ul0010-0050" num="0375"><b>416</b> to <b>421</b>, <b>440</b>: Capacity</li>        <li id="ul0010-0051" num="0376"><b>430</b>: Differential amplification circuit</li>        <li id="ul0010-0052" num="0377"><b>431</b>, <b>432</b>: pMOS transistor</li>        <li id="ul0010-0053" num="0378"><b>433</b> to <b>435</b>: nMOS transistor</li>        <li id="ul0010-0054" num="0379"><b>436</b>, <b>437</b>: Auto-zero switch</li>        <li id="ul0010-0055" num="0380"><b>12031</b>: Imaging section</li>    </ul>    </li></ul></p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A solid-state imaging element comprising:<claim-text>a test signal source that generates a test signal of a predetermined level;</claim-text><claim-text>an analog-to-digital converter that increases/decreases an analog signal according to an analog gain selected from among a plurality of analog gains, and converts the increased/decreased analog signal to a digital signal;</claim-text><claim-text>an input switching section that inputs, as the analog signal, either the test signal or a pixel signal to the analog-to-digital converter;</claim-text><claim-text>a correction value calculation section that, on a basis of the test signal and the digital signal, obtains a correction value for correcting an error in the selected analog gain, and outputs the correction value; and</claim-text><claim-text>a correction section that corrects the digital signal according to the outputted correction value.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The solid-state imaging element according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the analog-to-digital converter includes<claim-text>a comparator that compares the analog signal with a predetermined ramp signal, and outputs a result of the comparison, and</claim-text><claim-text>a digital signal generation section that generates the digital signal on a basis of the comparison result, and</claim-text></claim-text><claim-text>the comparator includes<claim-text>a differential amplification circuit that amplifies a difference between a predetermined reference voltage and a voltage of a predetermined node, and outputs the amplified difference as the comparison result,</claim-text><claim-text>a vertical signal line-side capacity that is inserted between the predetermined node and the input switching section,</claim-text><claim-text>a ramp-side capacity that is inserted between the predetermined node and a digital-to-analog converter that generates the ramp signal, and</claim-text><claim-text>a switch that changes a capacity ratio of the vertical signal line-side capacity and the ramp-side capacity according to a predetermined control signal.</claim-text></claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The solid-state imaging element according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein<claim-text>the plurality of analog gains is classified into a plurality of gain domains in which the different capacity ratios are set,</claim-text><claim-text>kinds of the level of the test signal include a high level that corresponds to a pixel signal when an incident light quantity is greater than a predetermined value and a low level that corresponds to a pixel signal when the incident light quantity is not greater than the predetermined value, and</claim-text><claim-text>the test signal source supplies only the high level for each of the plurality of gain domains during a signal level conversion time period for converting a signal level according to a light exposure quantity.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The solid-state imaging element according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein<claim-text>the plurality of analog gains is classified into a plurality of gain domains in which the different capacity ratios are set,</claim-text><claim-text>the kinds of the level of the test signal include a high level that corresponds to a pixel signal when an incident light quantity is greater than a predetermined value and a low level that corresponds to a pixel signal when the incident light quantity is not greater than the predetermined value, and</claim-text><claim-text>the test signal source supplies the high level and the low level sequentially for a reference gain domain among the plurality of gain domains during a signal level conversion time period for converting the signal level according to a light exposure quantity, and supplies only the high level for the remaining gain domains among the plurality of gain domains during the signal level conversion time period.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The solid-state imaging element according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein<claim-text>the plurality of analog gains is classified into a plurality of gain domains in which the different capacity ratios are set, and</claim-text><claim-text>the test signal source supplies the test signals as many as a sampling number that corresponds to an analog gain regarding the corresponding gain domain.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The solid-state imaging element according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising:<claim-text>a reference data accumulation section that accumulates the digital signals for a reference gain domain among the plurality of gain domains, and outputs a result of the accumulation as a first addition result; and</claim-text><claim-text>a target domain data accumulation section that accumulates the digital signals for each of the gain domains excluding the reference gain domain among the plurality of gain domains, and outputs a result of the accumulation as a second addition result, wherein</claim-text><claim-text>the correction value calculation section calculates, as the correction value, a gain correction coefficient for correcting an analog gain on a basis of the first addition result and the second addition result.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The solid-state imaging element according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein<claim-text>the correction value calculation section includes<claim-text>a first shift computation section that carries out computation of shifting a predetermined maximum sampling number according to the sampling number in the reference gain domain,</claim-text><claim-text>a first multiplier that multiplies a computation result obtained by the first shift computation section with the first addition result,</claim-text><claim-text>a second shift computation section that carries out computation of shifting the predetermined maximum sampling number according to the sampling numbers in each of the gain domains excluding the reference gain domain,</claim-text><claim-text>a second multiplier that multiplies a computation result obtained by the second shift computation section with the second addition result, and</claim-text><claim-text>a divider that divides the multiplication result obtained by the first multiplier, by the multiplication result obtained by the second multiplier, and outputs, as the gain correction coefficient, a result of the division.</claim-text></claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The solid-state imaging element according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein<claim-text>the correction value calculation section includes<claim-text>a first multiplier that multiplies the sampling number in each of the gains domains excluding the reference gain domain, with the first addition result,</claim-text><claim-text>a second multiplier that multiplies the sampling number in the reference gain domain with the second addition result, and</claim-text><claim-text>a divider that divides the multiplication result obtained by the first multiplier, by the multiplication result obtained by the second multiplier, and outputs, as the gain correction coefficient, a result of the division.</claim-text></claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. An imaging device comprising:<claim-text>a pixel array section in which a plurality of pixels that each generates a pixel signal are arranged;</claim-text><claim-text>a test signal source that generates a test signal of a predetermined level;</claim-text><claim-text>an analog-to-digital converter that increases/decreases an analog signal according to an analog gain selected from among a plurality of analog gains, and converts the increased/decreased analog signal to a digital signal;</claim-text><claim-text>an input switching section that inputs, as the analog signal, either the test signal or the pixel signal to the analog-to-digital converter;</claim-text><claim-text>a correction value calculation section that, on a basis of the test signal and the digital signal, obtains a correction value for correcting an error in the selected analog gain, and outputs the correction value; and</claim-text><claim-text>a correction section that corrects the digital signal according to the outputted correction value.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A solid-state imaging element control method comprising:<claim-text>a test signal generation procedure of generating a test signal of a predetermined level;</claim-text><claim-text>an analog-digital conversion procedure of increasing/decreasing an analog signal according to an analog gain selected from among a plurality of analog gains, and converting the increased/decreased analog signal to a digital signal;</claim-text><claim-text>an input switching procedure of inputting, as the analog signal, either the test signal or the pixel signal to the analog-to-digital converter;</claim-text><claim-text>a correction value acquisition procedure of obtaining, on a basis of the test signal and the digital signal, a correction value for correcting an error in the selected analog gain, and outputting the correction value; and</claim-text><claim-text>a correction procedure of correcting the digital signal according to the outputted correction value.</claim-text></claim-text></claim></claims></us-patent-application>