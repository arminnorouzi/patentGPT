<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007320A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007320</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17930254</doc-number><date>20220907</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>234</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>44</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>845</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>8358</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>T</subclass><main-group>1</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>2389</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>81</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>8547</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>23424</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>44008</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>8456</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>8358</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>T</subclass><main-group>1</main-group><subgroup>0085</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>23892</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>44016</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>812</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>8547</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">Use of Steganographically-Encoded Time Information as Basis to Establish a Time Offset, to Facilitate Taking Content-Related Action</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>17302843</doc-number><date>20210513</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11470364</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17930254</doc-number></document-id></child-doc></relation></continuation><continuation><relation><parent-doc><document-id><country>US</country><doc-number>15929220</doc-number><date>20200206</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11051057</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17302843</doc-number></document-id></child-doc></relation></continuation><us-provisional-application><document-id><country>US</country><doc-number>62865607</doc-number><date>20190624</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>The Nielsen Company (US), LLC</orgname><address><city>New York</city><state>NY</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Ropke</last-name><first-name>Benjamin J.</first-name><address><city>Rochelle</city><state>NY</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Stavropoulos</last-name><first-name>John S.</first-name><address><city>Edison</city><state>NY</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Merchant</last-name><first-name>Shashank C.</first-name><address><city>Sunnyvale</city><state>CA</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method and system for using steganographically-encoded time information as a basis to control when a client carries out a content-related action. The client processes for presentation one or more linear media streams, each defining a respective time sequence of frames of media content, and at least one of the streams being steganographically encoded with at least one watermark at a respective time-point within the linear media stream, the watermark encoding a timestamp of the respective time-point within the linear media stream according to a server clock. The client extracts the timestamp from the watermark and computes a time offset based on a difference between the extracted timestamp and a current time according to a client clock. And the client uses the computed time offset as a basis to determine when the client should carry out a content-related action in a given one of the one or more linear media streams.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="163.75mm" wi="52.41mm" file="US20230007320A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="185.76mm" wi="54.44mm" file="US20230007320A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="242.65mm" wi="157.23mm" orientation="landscape" file="US20230007320A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="220.05mm" wi="130.22mm" orientation="landscape" file="US20230007320A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="169.84mm" wi="115.57mm" file="US20230007320A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="134.11mm" wi="140.29mm" file="US20230007320A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="162.64mm" wi="122.26mm" orientation="landscape" file="US20230007320A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="205.49mm" wi="127.08mm" orientation="landscape" file="US20230007320A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">REFERENCE TO RELATED APPLICATION</heading><p id="p-0002" num="0001">This is a continuation of U.S. patent application Ser. No. 17/302,843, filed May 13, 2021, which is a continuation of U.S. patent application Ser. No. 15/929,220, filed Feb. 6, 2020, which claims priority to U.S. Provisional Patent Application No. 62/865,607, filed Jun. 24, 2019, the entirety of each of which is hereby incorporated by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0003" num="0002">A typical media client operates to receive an analog or digital media stream representing media content such as video and/or audio content and to output the media content and/or forward the stream for presentation of the content on a user interface such as a display screen and/or an audio speaker. Examples of such clients include televisions, computer monitors, projection systems, loudspeakers, headphones, set top boxes (e.g. cable or satellite TV receivers), digital video recorders, radios, personal computers, mobile communication devices, gaming consoles, streaming media players, and the like.</p><p id="p-0004" num="0003">By way of example, a television could receive a broadcast stream (e.g., over the air, from a set top box, through an Internet connection, or in another manner) and could present the media content of that broadcast stream to a user. As another example, a set top box could receive a broadcast stream from a multi-channel video program distributor and could output the media content of that stream via a High-Definition Multimedia Interface (HDMI) cable or other interface to a television and/or audio/video receiver for playout. As still another example, a digital video or audio recorder could likewise receive a broadcast stream but could store the broadcast stream for later playout. And as yet another example a loudspeaker or headphones could receive a broadcast audio stream from a radio, computer, or other device, and could present the audio content of that stream to a user. Numerous other examples are possible as well.</p><heading id="h-0003" level="1">SUMMARY</heading><p id="p-0005" num="0004">When a media client receives, outputs, or otherwise processes a linear media stream for presentation to a user (e.g., when the media client is transcoding and/or rendering each frame of the media content to facilitate presentation of the content on user interface, and/or is otherwise processing the ongoing media stream), it may be useful in certain situations for the client to take special action with respect to the media content. Without limitation, for instance, it may be useful for the client to revise a portion of the stream's media content, such as to dynamically replace playout of an ad or other segment of the media content with playout of a replacement ad or with other replacement content, or to dynamically supplement playout of a portion of the media content with overlay or split-screen content, such as channel identification, context information, ad content, or the like.</p><p id="p-0006" num="0005">Further, it may be desirable for the client to perform such content revision at a specific time point within the media stream. For instance, if the client is to dynamically replace an existing ad with a replacement ad, it may be desirable for the client to position the replacement ad at a particular time in the media stream when the existing ad would have started. Likewise, if the client is to supplement a specific portion of the media content with an overlay related to that portion, it may be desirable for the client to start the overlay when that portion starts. Other examples are possible as well.</p><p id="p-0007" num="0006">More particularly, the media stream at issue could define a sequence of frames, such as video frames and/or audio frames, and it may be desirable for the client to perform the content revision on a frame-accurate basis. For instance, for ad replacement, it may be desirable for the client to insert the replacement ad in place of the existing ad starting precisely at the first frame of the existing ad. And for adding an overlay to a specific portion of the media stream, it may be desirable for the client to start the overlay at or in specific relation to the first frame of that portion of the media stream.</p><p id="p-0008" num="0007">To facilitate having the client take this or other such action at a desired time point within the media stream that the client is outputting for presentation, a server or other entity (hereafter &#x201c;server&#x201d;) external to the client could engage in signaling with the client, providing the client with a directive for the client to take the action, and specifying the time point when the client is to take the action (&#x201c;action time point&#x201d;). The client could then take the action at the specified time point.</p><p id="p-0009" num="0008">One technical issue that can arise in this process, however, is that the server may specify the action time point in the media stream using a different time reference than the client uses. Therefore, when the server tells the client to take an action at a particular action time point within the media stream, the server may specify that action time point as a time measured from the perspective of the server, i.e., according to &#x201c;server time.&#x201d; But that time may correspond with a different time measured from the client's perspective, i.e., according to &#x201c;client time.&#x201d;</p><p id="p-0010" num="0009">As an example of this, consider a scenario where the server interworks with a content distribution system that is outputting the media stream for distribution in real time to the client, and where the server uses server time to describe time points in the media stream. In that scenario, even if the content distribution system and media client have synchronized time clocks, there may be a transmission delay defining an amount of time that it takes for each successive frame of the media stream to travel from the content distribution system to the media client. As a result, there would be a difference between the server time of each such frame and the client time of each such frame.</p><p id="p-0011" num="0010">In that scenario, if the server has determined that the client should take action, such as performing content revision, at a particular frame of the media stream (e.g., starting at that particular frame), the server may determine that that frame exists at a particular time point measured in server time and may direct the client to perform the action at that particular time point. But due to the time delay, that particular time point measured in client time would not represent when the frame arrives or is being processed by the client. Therefore, the client may end up performing the directed action at the wrong time, or may end up not being able to perform the action at all.</p><p id="p-0012" num="0011">In this or other situations, it could be useful to establish a mapping between server time and client time, so as to enable the client to take action with respect to the media stream at an intended time point, such as at or near a particular frame for instance. Further, as the transmission delay may differ for different pairs of media clients and content distribution systems, it could be useful to establish such a mapping respectively and separately for each of multiple such clients, possibly with respect to each of multiple content distribution systems, so as to enable each such client to take action with respect to a given media stream at issue at an intended action time point.</p><p id="p-0013" num="0012">The present disclosure provides for use of one or more steganographically-encoded timestamps as a basis to determine this transmission delay or associated time offset on at least a per-client basis. In particular, the media stream that is being transmitted to a given client could be encoded with watermarks, each watermark being positioned at a respective position in the ongoing media stream and encoding a timestamp that defines a server time of that media-stream position. As the client receives and/or processes the ongoing media stream, the client could thus decode one or more such watermarks from the media stream in order to extract from the watermark the server time, and the client could compare that extracted server time to a current reading of client time, to compute a delay from the server time to the client time. The client could then use that computed delay as a basis to facilitate taking action when provided with an action time point specified in server time.</p><p id="p-0014" num="0013">The client could decode multiple such watermarks from the media stream and, for each watermark, could compute a respective time offset between the indicated server time and the current client time. These offsets may all be the same, or they may vary slightly for one reason or another. The client could further compute an ongoing average or other statistical measure of those computed offsets, perhaps on a sliding window basis, as a representative offset that the client could then use as a basis to facilitate taking action when provided with a server timestamp for when the action is to be taken.</p><p id="p-0015" num="0014">In an example implementation, as the client is receiving the ongoing media stream, if the client receives a directive to take an action, such as a content revision, at a particular server time, the client could then apply (e.g., add) the client's computed offset to that particular time in order to compute a corresponding client time. And the client could then take the desired action at that computed client time, which should thereby take into account transmission delay.</p><p id="p-0016" num="0015">These as well as other aspects, advantages, and alternatives will become apparent to those of ordinary skill in the art by reading the following detailed description, with reference where appropriate to the accompanying drawings. Further, it should be understood that the descriptions provided in this summary and below are intended to illustrate the invention by way of example only and not by way of limitation.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a simplified block diagram of an example system in which various disclosed principles can be applied.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is another simplified block diagram of an example system in which various disclosed principles can be applied.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a simplified block diagram illustrating components that could be involved in an example implementation.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a flow chart depicting a method that could be carried out in accordance with the disclosure.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is another flow chart depicting a method that could be carried out in accordance with the disclosure.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a simplified block diagram of an example system that could operate in accordance with the disclosure.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a simplified block diagram of an example media client that could operate in accordance with the disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION</heading><p id="p-0024" num="0023">The present disclosure will discuss example implementation in connection with media clients comprising content presentation devices such as televisions, loudspeakers, or the like. It will be understood, however, that various principles disclosed could extend to apply with respect to other types of media clients, such as set top boxes or other receivers, mobile phones, and the like. Further, it will be understood that various arrangements and processes described herein can take various other forms. For instance, elements and operations can be re-ordered, distributed, replicated, combined, omitted, added, or otherwise modified. And it will be understood that functions described herein as being carried out by one or more entities could be implemented by and/or on behalf of those entities, through hardware, firmware, and/or software, such as by one or more processing units executing program instructions or the like.</p><p id="p-0025" num="0024">Referring to the drawings, as noted above, <figref idref="DRAWINGS">FIG. <b>1</b></figref> is a simplified block diagram of an example system in which various disclosed principles can be applied.</p><p id="p-0026" num="0025">As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the example system includes one or more media content sources <b>100</b> (e.g., broadcasters, web servers, etc.), one or more media content distributors <b>102</b> (e.g., multi-channel distributors, such as cable providers, satellite providers, over-the-air broadcast providers, web aggregators, etc.), one or more media content receivers <b>104</b> (e.g., cable receivers, satellite receivers, over-the-air broadcast receivers, computers or other streaming media receivers, etc.), and one or more clients or content presentation devices <b>106</b> (e.g., televisions or other display devices, loudspeakers or other audio output devices, etc.)</p><p id="p-0027" num="0026">In practice, for instance, the media content sources <b>100</b> could be national broadcasters, such as ABC, NBC, CBS, FOX, HBO, and CNN, the media content distributors <b>102</b> could be local affiliates and/or other local content distributors, possibly for specific designated market areas (DMAs), and the receivers <b>104</b> and content presentation devices <b>18</b> could then be situated at customer premises, such as homes or business establishments.</p><p id="p-0028" num="0027">With this or other arrangements, the content sources <b>100</b> could deliver media content to the content distributors <b>102</b> for distribution to receivers <b>104</b> at customer premises, and the content distributors could distribute the media content to the receivers <b>104</b> as particular channels of content (e.g., particular frequencies, particular streaming media sessions, or other defined channels). Each receiver could then respond to user input or one or more other triggers by tuning to or otherwise starting to receive a selected channel and outputting to a content presentation device <b>106</b> a media stream representing media content of the selected channel. And the content presentation device <b>106</b> could receive and render the media content (e.g., display or otherwise present the content).</p><p id="p-0029" num="0028">Without limitation, for instance, the content presentation device could be a television situated at customer premises, which could be coupled by an HDMI cable with a cable-TV set top box, and the set top box could be coupled through a local distribution network with a cable-TV head end that distributes various television channels provided by national and/or local broadcasters. In this arrangement, the television could regularly receive a media stream via HDMI from the set top box, and the set top box could tune to a particular channel from the head end in response to user input, so that the media stream arriving at the television would then represent the user-selected channel. Other examples are possible as well.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>2</b></figref> next illustrates more specifically an example system in which some of the presently disclosed features could be implemented.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows at its top a representative content presentation device <b>200</b> receiving a channel of content <b>202</b> being provided by a content distribution system <b>204</b>. By way of example, the content presentation device <b>200</b> could be an example content presentation device <b>100</b> as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, and the content distribution system <b>204</b> could comprise any system that outputs, delivers, or otherwise provides media content, perhaps as a representative media content source <b>100</b> and/or media content distributor <b>102</b> of <figref idref="DRAWINGS">FIG. <b>1</b></figref>, among other possibilities.</p><p id="p-0032" num="0031">As such, the content presentation device <b>200</b> could be receiving and rendering the channel of content <b>202</b> in a media stream directly or indirectly from the content distribution system <b>204</b>. The channel might be a linear broadcast feed and/or might be a streaming media channel, and the content presentation device might be receiving the channel through any of a variety of distribution channels, such as but not limited to cable, satellite, terrestrial over-the-air broadcast, or others now known or later developed.</p><p id="p-0033" num="0032">In an example implementation, the media content of the channel could define a sequence of digital frames of media content that the media client is configured to render for presentation to a user. For instance, a media content source, media content distributor, and/or other entity might be broadcasting, streaming, or otherwise providing this sequence of frames encapsulated in a transport stream for receipt by a receiver (e.g., that is currently set to receive the channel of content), and the receiver may be extracting the sequence of frames from the transport stream and outputting the sequence of frames as the media stream for receipt and rendering by the media client.</p><p id="p-0034" num="0033">As further shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the content presentation device <b>200</b> is interconnected with a communication network <b>206</b>, which could be a packet-switched network such as the Internet. For instance, the content presentation device <b>200</b> may sit as a node on a local area network (LAN) at customer premises, with the content presentation device having an assigned Internet Protocol (IP) address on the LAN and the LAN having an IP address on the network <b>206</b>. The content presentation device <b>200</b> could thus engage in data communication with various entities via the network <b>206</b> while the content presentation device <b>200</b> is receiving and rendering the media stream representing the channel of content <b>202</b> provided by the content distribution system <b>204</b>.</p><p id="p-0035" num="0034">Shown accessible via the network <b>206</b> (e.g., at a defined IP address on the network) is an automatic content recognition (ACR) server <b>208</b>, which could operate to identify the channel of content being rendered by the content presentation device <b>200</b> and to coordinate having the content presentation device engage in channel-specific action, such as dynamic content modification of content included on the identified channel.</p><p id="p-0036" num="0035">In practice, the ACR server <b>208</b> could determine in various ways the channel of content being rendered by the content presentation device <b>200</b>. As one example, if the content presentation device <b>200</b> has information that identifies the channel of content being rendered, the content presentation device <b>200</b> might transmit to the ACR server <b>208</b> a message that specifies the channel being rendered. Alternatively, the ACR server <b>208</b> and content presentation device <b>200</b> could cooperatively engage in fingerprint-based ACR to identify the channel.</p><p id="p-0037" num="0036">With fingerprint-based ACR, the ACR server <b>208</b> could be provisioned with reference data that includes digital reference fingerprints respectively representing each of various known channels of media content (e.g., each of the channels within a subscription plan for a set-top box that supplies media content to the content presentation device) and that maps the reference fingerprints to the respective channels that they represent. Further, the ACR server <b>208</b> could receive digital query fingerprints that represent the media content currently being rendered by the content presentation device, and the ACR server <b>208</b> could compare the query fingerprints with the reference fingerprints in an effort to find a match. Upon finding that the query fingerprints match the reference fingerprints mapped to a particular channel, the ACR server <b>208</b> could thus determine that the channel being rendered by the content presentation device is that particular channel.</p><p id="p-0038" num="0037">In an example implementation of fingerprint-based ACR, the content distribution system <b>204</b> that distributes each of one or more known channels of media content to content presentation devices could regularly provision the ACR server <b>208</b> with reference data <b>210</b> to enable the ACR server <b>208</b> to conduct the fingerprint analysis.</p><p id="p-0039" num="0038">In particular, for each of one or more channels that the content distribution system is distributing, the content distribution system <b>204</b> could apply a reference-fingerprint generator <b>212</b> (e.g., program instructions executable by a processor of the content distribution system <b>204</b>) to generate reference fingerprints on a per-frame basis or other ongoing basis, and the content distribution system <b>204</b> could establish for each such reference fingerprint an associated reference timestamp according to server time indicated by a clock of the content distribution system <b>204</b>. Further, the content distribution system <b>204</b> could regularly transmit to the ACR server <b>208</b> the reference fingerprints, specifying for each reference fingerprint the associated reference timestamp and the channel whose frame the reference fingerprint represents.</p><p id="p-0040" num="0039">Without limitation, an example digital fingerprinting process as to video content could apply on a per video frame basis and could involve establishing a representation of luminosity and/or other video characteristics. For instance, for a given video frame, the fingerprint generator <b>212</b> could programmatically divide the frame into a grid, and the fingerprint generator could measure luminosity of the frame per grid cell and generate a bit string with each bit or series of bits representing luminosity of a respective grid cell, or representing a weighted difference between the luminosity of certain defined pairs of the grid cells, or the like. Further, the fingerprint generator <b>212</b> could apply this process continually to generate the digital fingerprint over time as a sequence of fingerprints (e.g., as a fingerprint stream). For instance, the fingerprint generator could apply this process to each frame, to each key frame, periodically, or on another defined basis, with each frame's bit string defining a digital fingerprint and/or with a specified hash, combination or series of such bit strings or other representative values defining a digital fingerprint, on a sliding window basis. Other digital fingerprinting processes could be used as well.</p><p id="p-0041" num="0040">Server time according to the clock of the content distribution system <b>204</b> could represent the progress of time (e.g., in milliseconds or microseconds) as the content distribution system outputs and/or otherwise processes the sequence of frames of a channel of content for distribution. Thus, as the content distribution system <b>204</b> processes those frames, the content distribution system <b>204</b> could generate for each of one or more of the frames a respective reference fingerprint and, based on its internal clock, could determine and record the current server time as the respective reference timestamp of the reference fingerprint. The content distribution system could carry out this timestamping process for each reference fingerprint regularly at the same processing step of the underlying frame represented, such as when the content distribution system <b>204</b> is outputting the frame as a next frame for distribution, among other possibilities.</p><p id="p-0042" num="0041">The ACR server <b>208</b> could thus regularly receive from the content distribution system <b>204</b> the reference data including these reference fingerprints, each being tagged or otherwise associated with information that maps the reference fingerprint to the channel whose frame the reference fingerprint represents, and each being tagged or otherwise associated with an associated reference timestamp defining server time of the underlying frame of content. And as the ACR server <b>208</b> receives this reference data, the ACR server <b>208</b> could store the reference data in a relational database or other form suitable for ready searching and access.</p><p id="p-0043" num="0042">In addition, as the content presentation device <b>200</b> receives and renders a media stream representing a given channel of media content, the content presentation device could generate the query fingerprints of the media content on a pre-frame basis or other ongoing basis and could regularly transmit the generated query fingerprints to the ACR server <b>208</b> for analysis.</p><p id="p-0044" num="0043">To facilitate this, the content presentation device <b>200</b> in an example implementation could be equipped with a fingerprint generator <b>214</b> (e.g., program instructions executable by a processor of the content presentation device <b>200</b>), configured to generate query fingerprints representing the media content of the channel <b>202</b> that the content presentation device <b>200</b> is currently rendering. The fingerprint generator <b>214</b> could be configured to receive as input a copy of the media content of the channel as the media content arrives at the content presentation device <b>200</b> and/or is processed for presentation by the content presentation device <b>200</b>, and the fingerprint generator <b>214</b> could be configured to generate the query fingerprints of the media content on a per frame basis or other ongoing basis, using the same digital fingerprinting process used to generate the reference fingerprints, so as to facilitate a comparison of the query fingerprints with the reference fingerprints.</p><p id="p-0045" num="0044">Further, the content presentation device <b>200</b> could transmit its generated query fingerprints via network <b>206</b> to the ACR server <b>208</b> for analysis, to enable the ACR server <b>208</b> to engage in fingerprint-based ACR and coordination of associated channel-specific action. By way of example, the content presentation device <b>200</b> could periodically or otherwise from time to time transmit to the ACR server <b>208</b> the query fingerprints representing a latest series of frames of the channel being rendered by the content presentation device <b>200</b>. For instance, the content presentation device <b>200</b> could generate a message carrying the latest generated query fingerprints and could transmit the message to the IP address of the ACR server <b>208</b> for analysis.</p><p id="p-0046" num="0045">Given the query fingerprints representing media content of the channel <b>202</b> being rendered by the content presentation device <b>200</b>, and given the reference data including reference fingerprints respectively representing each of various known channels, the ACR server <b>208</b> could engage in fingerprint-based ACR processing. For instance, on an ongoing basis or in response to one or more trigger events, the ACR server <b>208</b> could compare the query fingerprints provided by the content presentation device <b>200</b> with the reference fingerprints provided by the content distribution system <b>204</b>.</p><p id="p-0047" num="0046">To compare a given query fingerprint with a given reference fingerprint, the ACR server <b>208</b> could compare corresponding portions of the fingerprints with each other to determine whether the portions match exactly or within defined tolerances. For example, the ACR server <b>208</b> could compute a maximum deviation between the fingerprints and determine if the maximum deviation is within a predefined tolerance. Further, if the fingerprints are binary, this could be a Boolean determination or could involve computing a Hamming distance (as a count of mismatches between respective bit locations in the fingerprints), and if the fingerprints are more complex values, such as decimal values or vectors (e.g., grey values per video frame region), this could involve determining a distance between the values or vectors. Numerous other examples are possible as well.</p><p id="p-0048" num="0047">Upon finding with sufficient certainty that the query fingerprints match the reference fingerprints of a particular channel, the ACR server <b>208</b> could then conclude that that is the channel being rendered by the content presentation device <b>200</b>.</p><p id="p-0049" num="0048">In a representative implementation, once the ACR server <b>208</b> has determined, through fingerprint-based ACR or any in any other manner, the channel that the content presentation device is rendering, the ACR server <b>208</b> or another entity could then engage in a process to facilitate dynamic content modification, such as targeted advertisement replacement. Thus, the dynamic content modification could be responsive to the fingerprint-based ACR.</p><p id="p-0050" num="0049">By way of example, once the ACR server has determined the channel that the content presentation device is rendering, the ACR server could then use that determined channel identity as a basis to detect when a content-modification opportunity is about to occur on that particular channel. And the ACR server or other entity could then responsively cause the content presentation device to carry out a content modification at the time of the content-modification opportunity.</p><p id="p-0051" num="0050">This example channel-specific action could take advantage of the time delay that is likely to exist from the point in time when the content distribution system <b>204</b> outputs media content of the channel for transmission to the content presentation device <b>200</b> to the point in time when the content presentation device <b>200</b> receives and/or renders that media content. Depending on the configuration of the system, this delay could be on the order of 5-10 seconds.</p><p id="p-0052" num="0051">Given that delay, it may be possible for the content distribution system <b>204</b>, the ACR server <b>208</b>, and/or one or more other entities to detect the presence of particular content defining a content-modification opportunity on the channel that is en route to (e.g., about to be or being distributed to) the content presentation device <b>200</b> well enough before that content arrives at the content presentation device <b>200</b>. By engaging in relatively quick out-of-band (e.g., IP-based) communication with the content presentation device <b>200</b> during that delay period, the ACR server <b>208</b> could then prepare the content presentation device <b>200</b> to engage in content modification with respect to the detected content, so that when the detected content ultimately arrives at the content presentation device <b>200</b> and/or is ready for presentation by the content presentation device <b>200</b>, the content presentation device <b>200</b> could carry out the content modification in a timely manner.</p><p id="p-0053" num="0052">As to content modification, for instance, the ACR server <b>208</b> could be provisioned in advance with modifiable-content segment data <b>216</b> that includes digital fingerprints respectively representing each of various modifiable-content segments of media content, along with associated metadata per modifiable-content segment, such as a duration of the segment, an identifier of the segment, a type of associated content modification (e.g., replacement or overlay) and the like. For instance, a content management system <b>218</b> could generate and provide this information in advance to the ACR server.</p><p id="p-0054" num="0053">Having identified the channel being rendered by the content presentation device, the ACR server <b>208</b> could then compare the ongoing sequence of reference fingerprints representing that identified channel with the fingerprints representing the various modifiable-content segments. And upon finding with sufficient certainty that the reference fingerprints of the identified channel match the fingerprints representing a particular modifiable-content segment, the ACR server <b>208</b> could reasonably conclude that the media content en route to the content presentation device includes that modifiable-content segment. Further, the ACR server could thereby determine from the reference data <b>210</b> of the identified channel the reference timestamp indicating when the modifiable content segment is present on the channel.</p><p id="p-0055" num="0054">Upon so detecting the presence of a modifiable-content segment in the media content of the channel that is en route to the content presentation device <b>200</b>, the ACR server <b>208</b> could then responsively engage in out-of-band signaling with the content presentation device <b>200</b> to enable, cause, and prepare the content presentation device to perform a content modification with respect to that particular modifiable-content segment.</p><p id="p-0056" num="0055">For instance, the ACR server <b>208</b> could provide the content presentation device <b>200</b> with timing information regarding the upcoming content modification opportunity. This timing information regarding the upcoming content modification opportunity could include the reference timestamp that the reference data <b>210</b> indicates for the reference fingerprint representing the first frame of the modifiable-content segment. With this timing information, the content presentation device <b>200</b> could accordingly plan to carry out a content modification at the indicted action time point.</p><p id="p-0057" num="0056">Further, the ACR server <b>208</b> could provide the content presentation device with various other information regarding the modifiable content segment, to enable the content presentation device to carry out the content modification at the indicated time of the modifiable-content segment. For instance, the ACR server <b>208</b> could provide the content presentation device with metadata as described above, such as a duration of the segment, an identifier of the segment, and a type of associated content modification (e.g., replacement or overlay) and the like.</p><p id="p-0058" num="0057">With this information, the content presentation device <b>200</b> could then responsively work with the content management system <b>218</b> and/or another entity to obtain details of the content modification to perform with respect to the upcoming modifiable-content segment. For instance, the content presentation device <b>200</b> could transmit to the content management system <b>218</b> a request that provides the content management system <b>218</b> with the modifiable-content segment identifier and other associated metadata about the modifiable content segment. And the content management system <b>218</b> could responsively provide the content presentation device <b>200</b> with information to facilitate the content modification.</p><p id="p-0059" num="0058">The content management system <b>218</b> could use various information as a basis to determine supplemental content that the content presentation device <b>200</b> should render in place of or as an overlay superimposed on the modifiable-content segment. For instance, the content management system <b>218</b> could use user-demographics, location, and/or other information regarding the content presentation device <b>200</b> as a basis to determine appropriate supplemental content.</p><p id="p-0060" num="0059">Further, the content management system <b>218</b> could ascertain a storage location of determined supplemental content and could provide the content presentation device <b>200</b> with an indication of that storage location. For instance, the content management system <b>218</b> could query a supplemental-content delivery system <b>220</b> to determine a uniform resource locator (URL) or other address from which the content presentation <b>200</b> device could obtain the supplemental content from a network server or from local data storage of the content presentation device <b>200</b>. And the content management system <b>218</b> could provide the content presentation device <b>200</b> with that address and/or with other information to enable the content presentation device <b>200</b> to obtain the supplemental content. Alternatively, the content management system <b>218</b> itself or another entity could provide the content presentation device <b>200</b> with the supplemental content.</p><p id="p-0061" num="0060">With this information, the content presentation device <b>200</b> could thus obtain the supplemental content and could plan to present the supplemental content (e.g., as replacement or overlay) at the time of the modifiable-content segment on the channel that the content presentation device <b>200</b> is rendering.</p><p id="p-0062" num="0061">The example content-modification process described so far could be carried out for various purposes. Without limitation, for instance, the content-modification process could be carried out to facilitate dynamic advertisement insertion (DAI), in which the content presentation device replaces a generally applicable ad (e.g., a nationally broadcast ad) with a replacement ad possibly selected based on location, user demographics, and/or other information specific to the content presentation device.</p><p id="p-0063" num="0062">For DAI, an entity such as content broadcaster, distributor, or ad-replacement service might enter into agreements with advertisers to facilitate replacing playout of certain ads, deemed &#x201c;replaceable ads,&#x201d; with different ads, deemed &#x201c;replacement ads.&#x201d; For each of various replaceable ads, the content management system <b>218</b> or other entity could then receive a copy of the replaceable ad and could provision the ACR server <b>208</b> with digital fingerprints representing the replaceable ad and with associated data regarding the replaceable ad. For instance, for each replaceable ad, the content management system <b>218</b> could generate digital fingerprints of the replaceable ad on a per-frame basis or the like and could transmit to the ACR server <b>208</b> the generated fingerprints of the replaceable ad along with metadata as described above, such as a unique identifier of the replaceable ad, a duration of the replaceable ad, an indication that the ad is to be replaced, and so forth. (Further, the data provided to the ACR server <b>208</b> could include a traffic schedule that indicates when specific ads, with particular identifiers and associated fingerprints, are scheduled to be presented on each of one or more channels.)</p><p id="p-0064" num="0063">Once the ACR server <b>208</b> has identified the channel being rendered by the content presentation device <b>200</b>, the ACR server <b>208</b> could then responsively compare the reference fingerprints representing that identified channel with the fingerprints representing various replaceable ads. And upon finding with sufficient certainty that the reference fingerprints of the identified channel match the fingerprints representing a particular replaceable ad, the ACR server <b>208</b> could reasonably conclude that the channel being rendered by the content presentation device <b>208</b> includes the replaceable ad, and more specifically that the media content en route to the content presentation device <b>208</b> includes that replaceable ad.</p><p id="p-0065" num="0064">In response to this conclusion, the ACR server <b>208</b> and/or another entity could engage in signaling with the content presentation device <b>200</b> to prepare the content presentation device <b>200</b> to present a replacement ad in place of the replaceable ad. In line with the discussion above, for instance, the ACR server <b>208</b> or other entity could transmit to the content presentation device <b>200</b>, through out-of-band signaling, one or more messages that provide the content presentation device <b>200</b> with (i) a reference timestamp as described above that indicates when the replaceable ad will occur on the channel that the content presentation device <b>200</b> is rendering, (ii) the unique identifier of the replaceable ad, and (iii) a duration of the replaceable ad.</p><p id="p-0066" num="0065">Given the identifier and duration of the replaceable ad, the content presentation device <b>200</b> could then engage in out-of-band signaling with the content management system <b>218</b> to ascertain a replaceable ad that the content presentation device should render in place of the replaceable ad. Here, the content presentation device <b>200</b> might provide the content management system <b>218</b> with a user identification, demographics, location, and/or other information that the content management system <b>218</b> could use as a basis to select an appropriate replacement ad. Further, the content management system <b>218</b> could use the duration of the replaceable ad, indicated by the content presentation device <b>200</b> or mapped to the ad-identifier of the replaceable ad for instance, to select a replacement ad that is of the same duration as the replaceable ad.</p><p id="p-0067" num="0066">The content management system could then work with the supplemental-content delivery system <b>220</b> to determine a URL or other address or location from which the content presentation device could obtain the replacement ad and could inform the content presentation device <b>200</b> accordingly. And the content presentation device <b>200</b> could thus obtain the replacement ad and plan to render it in place of the replaceable ad on the channel that the content presentation device <b>200</b> is rendering, as discussed above.</p><p id="p-0068" num="0067">As discussed above, a technical difficulty with this process is that, when the ACR server <b>208</b> directs the content presentation device <b>200</b> to carry out a content modification at a particular time point, the ACR server <b>208</b> may specify that particular time point using a different time reference than the content presentation device <b>200</b> uses.</p><p id="p-0069" num="0068">As noted above, for instance, once the ACR server <b>208</b> has identified a modifiable-content segment on the channel being rendered by the content presentation device <b>200</b>, the ACR server <b>208</b> may determine that the start time of that modifiable-content segment is the server time that content distribution system <b>204</b> specified as the reference timestamp for the reference fingerprint representing a first frame of the modifiable-content segment. Therefore, the ACR server <b>208</b> may specify that server time point as the action time point when the content presentation device <b>200</b> should start the content modification. However, given the transmission delay for delivery of each such frame of the channel from the content distribution system <b>204</b> to the content presentation device <b>200</b>, that specified time point may not correctly represent the time of arrival or processing of that first frame according client time at the content presentation device.</p><p id="p-0070" num="0069">By way of example, if the clocks at the content distribution system <b>204</b> and content presentation device <b>200</b> are synchronized with each other (e.g., if both are synchronized with a common time clock such as network time, GPS time, or the like), and if the transmission delay is 10 seconds, then the action time point that the ACR server <b>208</b> specifies in its directive to the content presentation device <b>200</b> would be 10 seconds before the modifiable content segment actually starts at the content presentation device <b>200</b>.</p><p id="p-0071" num="0070">As noted above, the present disclosure helps to overcome this problem by providing a mechanism for mapping between server time and client time, to enable the content presentation device <b>200</b> to take action at an appropriate point in time. Further, because the delay and the associated time offset could vary per content presentation device and/or per content distribution system, the disclosure contemplates establishing and applying such a mapping on a case by case basis.</p><p id="p-0072" num="0071">As indicated above, the disclosure provides for use of one or more steganographically-encoded timestamps as a basis to determine this transmission delay or at least the associated time offset, so as to then translate an indicated action time point in server time into an action time point in client time.</p><p id="p-0073" num="0072">In particular, one or more media streams of one or more channels received and/or processed by the content presentation device <b>200</b> for presentation could be encoded with one or more watermarks that encode time information according to server time, i.e., according to the same clock that would form the basis for the ACR server's indication of when a content-modification opportunity would occur. The content presentation device <b>200</b> could thus decode the time information from one or more such watermarks and, by comparison with client time according to the content presentation device's own clock, could compute an associated time offset.</p><p id="p-0074" num="0073">The content presentation device could then use that computed time offset as a basis to determine when to carry out content modification on a channel of content, given an ACR-server-provided reference timestamp indicating when to carry out the content modification. Here, the channel of content in which the content modification would be carried out could be one of the one or more channels in which the one or more timestamp-watermarks were encoded and used as a basis to determine the time offset, or the channel of content could be another channel of content.</p><p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a simplified block diagram illustrating components that could be involved in an example implementation. In particular, <figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates a content presentation device <b>300</b>, a content distribution system <b>304</b>, and an ACR server <b>308</b>.</p><p id="p-0076" num="0075">The content presentation device <b>300</b>, content distribution system <b>304</b>, and the ACR server <b>308</b> could be examples of the content presentation device <b>200</b>, the content distribution system <b>204</b>, and the ACR server <b>208</b> discussed above. For instance, the content presentation device <b>300</b> could be a television located at customer premises, the ACR server <b>308</b> could be a network server configured to carry out fingerprint matching, content identification, and triggering of dynamic content modification as discussed above, with the content presentation device <b>300</b> and ACR server <b>308</b> being in communication with each other via a network <b>306</b> such as the Internet. Further the content distribution system <b>304</b> could operate to distribute a media stream in a channel of content directly or indirectly to the content presentation device <b>300</b>.</p><p id="p-0077" num="0076">As further shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the content distribution system <b>304</b> could include a timestamp-watermark encoder <b>310</b> that the content distribution system <b>304</b> could use in order to encode one or more timestamp-watermarks into a media stream that is being delivered (e.g., is now being delivered or will be delivered) to the content presentation device <b>300</b>. And the content presentation device <b>300</b> could include a timestamp-watermark decoder <b>312</b> that the content presentation device <b>300</b> could use in order to decode one or more timestamp-watermarks from a media stream that the content presentation device <b>300</b> is receiving and/or processing for presentation. Each of these components could comprise software stored in data storage and executable by a processing unit and/or could take other forms.</p><p id="p-0078" num="0077">As is known in the art, watermarking involves permanently embedding or otherwise encoding information into media content in a manner that enables the information to be decoded and extracted from the media content by a receiver of the media content but that may be imperceptible to a user to whom the media content is presented. This is in contrast to inserting such information into a packet header or the like without encoding the information into the underlying media content itself. Watermarking may permanently change the media content and be impossible to remove.</p><p id="p-0079" num="0078">More particularly, watermarking media content could involve encoding into the media content a code that can be mapped to associated information, or perhaps more directly encoding into the media content the associated information. In an example implementation, the watermark code could be on the order of 24 bits, and the watermarking could be done in an audio component of the media content and/or in a video component of the media content, depending on the form of the media content for instance.</p><p id="p-0080" num="0079">Existing audio watermarking techniques include, without limitation, inserting audio energy into the audio signal or otherwise adjusting one or more characteristics of the audio signal in a manner that can be detected by a suitably configured watermark-detection algorithm but that is masked from hearing (e.g., the audio characteristic and/or manner of encoding being sufficient to hide the watermark from human detection)&#x2014;known as stenographic or psychoacoustic encoding.</p><p id="p-0081" num="0080">Examples of audio watermarks and corresponding watermark detection techniques are described in U.S. Pat. No. 8,359,205 (entitled &#x201c;Methods and Apparatus to Perform Audio Watermarking and Watermark Detection and Extraction,&#x201d; which issued on Jan. 22, 2013), U.S. Pat. No. 8,369,972 (entitled &#x201c;Methods and Apparatus to Perform Audio Watermarking Detection and Extraction,&#x201d; which issued on Feb. 5, 2013), U.S. Patent Application Pub. No. 2010/0223062 (entitled &#x201c;Methods and Apparatus to Perform Audio Watermarking and Watermark Detection and Extraction,&#x201d; which was published on Sep. 2, 2010), U.S. Pat. No. 6,871,180 (entitled &#x201c;Decoding of Information in Audio Signals,&#x201d; which issued on Mar. 22, 2005), U.S. Pat. No. 5,764,763 (entitled &#x201c;Apparatus and Methods for Including Codes in Audio Signals and Decoding,&#x201d; which issued on Jun. 9, 1998), U.S. Pat. No. 5,574,962 (entitled &#x201c;Method and Apparatus for Automatically Identifying a Program Including a Sound Signal,&#x201d; which issued on Nov. 12, 1996), U.S. Pat. No. 5,581,800 (entitled &#x201c;Method and Apparatus for Automatically Identifying a Program Including a Sound Signal,&#x201d; which issued on Dec. 3, 1996), U.S. Pat. No. 5,787,334 (entitled &#x201c;Method and Apparatus for Automatically Identifying a Program Including a Sound Signal,&#x201d; which issued on Jul. 28, 1998), and U.S. Pat. No. 5,450,490 (entitled &#x201c;Apparatus and Methods for Including Codes in Audio Signals and Decoding,&#x201d; which issued on Sep. 12, 1995, all of which are hereby incorporated by reference in their entireties.</p><p id="p-0082" num="0081">Existing video watermarking techniques, on the other hand, involve embedding a code in a video component of the media content in a manner that can be detected by a suitably configured watermark-detection algorithm but that is masked from human visual detection.</p><p id="p-0083" num="0082">Examples of video watermarking techniques include various spatial-domain techniques such as flipping pixels, embedding the watermark into least significant bits, and adding a pseudo-random noise pattern to the video, and various frequency-domain techniques, such as SVD domain watermarking, Discrete Fourier Transform watermarking, Discrete Cosine Transform watermarking, Discrete Wavelet Transform watermarking, and principal component analysis watermarking. Other examples are possible as well.</p><p id="p-0084" num="0083">In line with the discussion above, each timestamp-watermark that the content distribution system <b>304</b> encodes into the media stream could be at a respective position in the media stream, such as at a particular frame of the media stream, and could encode a server-time timestamp of that position of the media stream. By way of example, the content distribution system <b>304</b> could encode each watermark at or in relation to a respective frame of the media stream and could have the watermark encode a timestamp established according to the same clock that the content distribution system <b>304</b> uses as a basis for establishing the reference-fingerprint timestamps that the content distribution system <b>304</b> provides to the ACR server <b>308</b>, and thus according to the same time reference that the ACR server <b>308</b> would use as a basis to designate an action time point this or another media stream.</p><p id="p-0085" num="0084">As the content presentation device <b>300</b> receives and/or processes one or more such media streams, the content presentation device <b>300</b> could then detect and decode one or more such watermarks from the media stream(s), extracting or otherwise determining the server time encoded by the watermark. And for each such watermark, the content presentation device <b>300</b> could compute a respective time offset between the watermarked server time and the current client time according content presentation device's own clock. And if the content presentation device <b>300</b> computes multiple such time offsets, the content presentation device <b>300</b> could compute an ongoing average or other representative time offset over a sliding window of time or the like.</p><p id="p-0086" num="0085">The content presentation device <b>300</b> could then use this computed time offset as a basis to facilitate carrying out content modification at an action time point specified by the ACR server <b>308</b>.</p><p id="p-0087" num="0086">As noted above, for instance, when the content presentation device <b>300</b> is receiving and/or processing a channel of content <b>302</b> comprising a media stream and the content presentation device <b>300</b> receives from the ACR server <b>308</b> a directive to carry out dynamic content modification at a particular action time point measured in server time (e.g., determined by the ACR server <b>308</b> from a reference timestamp provided by the content distribution system <b>304</b>), the content presentation device <b>300</b> could apply the computed time offset to determine a corresponding client time when the content presentation device <b>300</b> should carry out the content modification. For instance, the content presentation device <b>300</b> could add the computed time offset to the indicated action time point in order to compute a corresponding client time point. And the content presentation device <b>300</b> could then carry out the dynamic content modification at that computed client time point, which should thereby help to take into account the transmission delay.</p><p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is next a flow chart depicting a method that can be carried out in accordance with the present disclosure.</p><p id="p-0089" num="0088">As shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, at block <b>400</b>, the method includes a client processing one or more linear media streams for presentation, each of the one or more linear media streams defining a respective time sequence of frames of media content, and at least one of the linear media streams being steganographically encoded with at least one watermark at a respective time-point within the linear media stream, the watermark encoding a timestamp of the respective time-point within the linear media stream according to a server clock. At block <b>402</b>, which could occur in parallel with block <b>400</b>, the client further extracts the timestamp from the watermark and computes a time offset based on a difference between the extracted timestamp and a current time according to a client clock. And at block <b>404</b>, which could also occur in parallel with block <b>400</b>, the client uses the computed time offset as a basis to determine when the client should carry out a content-related action in a given one of the one or more linear media streams.</p><p id="p-0090" num="0089">In line with the discussion above, the act of computing the time offset based on the difference between the extracted timestamp and the current time according to the client clock could involve computing the time offset as the difference. Alternatively, the at least one linear media stream could be steganographically encoded with multiple watermarks each at a respective media-stream time-point and each encoding a respective timestamp of the respective media-stream time-point according to the server clock. And in that case, the method could additionally involve (i) the client extracting from each of the multiple watermarks the respective timestamp and (ii) the client computing multiple time offsets including, respectively for each extracted respective timestamp, a respective time offset between the extracted respective timestamp and a respective current time according to the client clock. The act of the client computing the time offset based on a difference between the extracted timestamp and the current time according to the client clock could then involve the client computing a statistical representation (e.g., average) of the multiple computed time offsets.</p><p id="p-0091" num="0090">As further discussed above, the content-related action could involve dynamic content modification, such as dynamic ad replacement, among other possibilities. And the method could additionally involve the client receiving from a server a directive for the client to carry out the content-related action in the given linear media stream, with the directive specifying an action time point when the client should carry out the content-related action, and with the action time point being defined according to the server clock. And in that case, the act of the client using the computed time offset as a basis to determine when the client should carry out the content-related action in the given linear media stream could involve the client applying the computed time offset as a basis to translate the specified action time point into an associated client time point according to the client clock, such as adding the computed time offset to the specified action time point.</p><p id="p-0092" num="0091">In addition, as discussed above, the act of the client processing the one or more linear media streams for presentation could include the client receiving each of the one or more linear media streams distributed by a content distribution system, in which case the server clock could define time according to the content distribution system, such as time used for reference-fingerprint timestamping by the content distribution system for instance. And as further discussed above, the method could additionally involve the client generating query fingerprints representing the given linear media stream and transmitting those generated query fingerprints to the server to enable the server to identify the given linear media stream.</p><p id="p-0093" num="0092"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is another flow chart depicting a method that can be carried out in accordance with the present disclosure.</p><p id="p-0094" num="0093">As shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, at block <b>500</b>, the method includes a client receiving an ongoing media stream that includes watermarks steganographically encoding server-timestamps of portions of the media stream from a time perspective of a sever. And at block <b>502</b>, which could occur in parallel with block <b>500</b>, the method includes, for each of one or more of the steganographically encoded watermarks in the media stream being received by the client, the client extracting the server-timestamp encoded by the watermark and comparing the extracted server-timestamp with a respective client from a time perspective of the client, to compute a time offset useable by the client as a basis to determine when the client should carry out a content-related action, such as dynamic content modification.</p><p id="p-0095" num="0094">Various features described above can be implemented in this context as well, and vice versa.</p><p id="p-0096" num="0095"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is next a simplified block diagram of an example system operable in accordance with the present disclosure. This system could represent an entity of a content distribution system as described above and/or one or more other entities. As shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, the example system includes a network communication interface <b>600</b>, a processing unit <b>602</b>, non-transitory data storage <b>604</b>, any or all of which could be integrated together or, as shown, communicatively linked together by a system bus, network, or other connection mechanism <b>606</b>.</p><p id="p-0097" num="0096">Network communication interface <b>600</b> could comprise one or more physical network connection mechanisms to facilitate communication on a network, and/or for engaging in direct or networked communication with one or more other local or remote entities. As such, the network communication interface could comprise a wireless or wired Ethernet interface or other type of network interface, for engaging in IP communication and/or other type of network communication.</p><p id="p-0098" num="0097">Processing unit <b>602</b>, could comprise one or more general purpose processors (e.g., microprocessors) and/or one or more specialized processors (e.g., application specific integrated circuits). And non-transitory data storage <b>606</b> could comprise one or more volatile and/or non-volatile storage components, such as optical, magnetic, or flash storage.</p><p id="p-0099" num="0098">As shown, the data storage <b>604</b> of the example system stores program instructions <b>608</b>, which could be executable by processing unit <b>602</b> to carry out various operations described herein. For instance, the operations could include encoding timestamp-watermarks into a linear media stream being processed by the system for distribution to one or more content presentation devices, with each timestamp-watermark being positioned at a respective time position in the linear media stream and encoding an indication of server time of that time position, such as time measured according to a clock of the system. Further, the operations could include generating and providing to a server such as an ACR server reference fingerprints representing frames of the linear media stream, the reference fingerprints being timestamped according to server time.</p><p id="p-0100" num="0099">Various features described above could be implemented in this context as well, and vice versa.</p><p id="p-0101" num="0100">Finally, <figref idref="DRAWINGS">FIG. <b>7</b></figref> is a simplified block diagram of an example media client such as a representative content presentation device operable in accordance with the present disclosure. In line with the discussion above, this media client could take various forms. For instance, it could be a television, computer monitor, or other device that operates to receive and render video content, and/or it could be a loudspeaker, a pair of headphones, or other device that operates to receive and render audio content. Numerous other examples are possible as well.</p><p id="p-0102" num="0101">As shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the media client includes a content input interface <b>700</b>, a content presentation interface <b>702</b>, a network communication interface <b>704</b>, a processing unit <b>706</b>, and non-transitory data storage <b>708</b>, any or all of which could be integrated together or, as shown, communicatively linked together by a system bus, network, or other connection mechanism <b>710</b>.</p><p id="p-0103" num="0102">Content input interface <b>700</b> could comprise a physical communication interface for receiving media content to be presented by the media client. As such, the content input interface could include one or more wired and/or wireless interfaces for establishing communication with and receiving media content in analog or digital form from a receiver or other device or system. For example, the content input interface could include one or more interfaces compliant with protocols such as DVI, HDMI, VGA, USB, BLUETOOTH, WIFI, among numerous others.</p><p id="p-0104" num="0103">Content presentation interface <b>702</b> could then comprise one or more components to facilitate presentation of the received media content. By way of example, the content presentation interface could comprise a user interface such as a display screen and/or a loudspeaker, as well as one or more drivers or other components for processing the received media content to facilitate presentation of the content on the user interface.</p><p id="p-0105" num="0104">Network communication interface <b>704</b> could comprise a physical network connection mechanism to facilitate communication on a network, and/or for engaging in direct or networked communication with one or more other local or remote entities. As such, the network communication interface could comprise a wireless or wired Ethernet interface or other type of network interface, for engaging in IP communication and/or other type of network communication.</p><p id="p-0106" num="0105">Processing unit <b>706</b> could then comprise one or more general purpose processors (e.g., microprocessors) and/or one or more specialized processors (e.g., application specific integrated circuits). And non-transitory data storage <b>708</b> could comprise one or more volatile and/or non-volatile storage components, such as optical, magnetic, or flash storage. Further, as shown, data storage <b>708</b> stores program instructions <b>712</b>, which could be executable by processing unit <b>706</b> to carry out various operations described herein.</p><p id="p-0107" num="0106">As discussed above, these operations could include processing one or more linear media streams for presentation by the media client, each of the one or more linear media streams defining a respective time sequence of frames of media content, and at least one of the linear media streams being steganographically encoded with at least one watermark at a respective time-point within the linear media stream, the watermark encoding a timestamp of the respective time-point within the linear media stream according to a server clock. Further, the operations could include extracting the timestamp from the watermark and computing a time offset based on a difference between the extracted timestamp and a current time according to a media-client clock. And the operations could include using the computed time offset as a basis to determine when the media client should carry out a content-related action in a given one of the one or more linear media streams.</p><p id="p-0108" num="0107">Various features described above could be implemented in this context as well, and vice versa.</p><p id="p-0109" num="0108">Further, the present disclosure also contemplates a non-transitory computer readable medium that is encoded with, stores, or otherwise embodies program instructions executable by a processing unit to carry out various operations as described above.</p><p id="p-0110" num="0109">Exemplary embodiments have been described above. Those skilled in the art will understand, however, that changes and modifications may be made to these embodiments without departing from the true scope and spirit of the invention.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>We claim:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method operable while a client is processing one or more linear media streams for presentation, each of the one or more linear media streams defining a respective time sequence of frames of media content, and at least one of the linear media streams being steganographically encoded with at least one watermark at a respective time-point within linear media stream, the watermark encoding a timestamp of the respective time-point within the linear media stream according to a server clock, the method comprising:<claim-text>extracting the timestamp from the watermark,</claim-text><claim-text>computing a time offset based on a difference between the extracted timestamp and a current time according to a client clock, and</claim-text><claim-text>using the computed time offset as a basis to determine when the client should carry out a content-related action in a given one of the one or more linear media streams.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein computing the time offset based on the difference between the extracted timestamp and the current time according to the client clock comprises computing the time offset as the difference.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the at least one linear media stream is steganographically encoded with multiple watermarks each at a respective media-stream time-point and each encoding a respective timestamp of the respective media-stream time-point according to the server clock, the operations further comprising:<claim-text>extracting from each of the multiple watermarks the respective timestamp, and</claim-text><claim-text>computing multiple time offsets including, respectively for each extracted respective timestamp, a respective time offset between the extracted respective timestamp and a respective current time according to the client clock,</claim-text><claim-text>wherein computing the time offset based on a difference between the extracted timestamp and the current time according to the client clock comprises computing a statistical representation of the multiple computed time offsets.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the statistical measure comprises an average.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the content-related action comprises dynamic content modification.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the content-related action comprises dynamic ad replacement.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising:<claim-text>receiving from a server a directive for the client to carry out the content-related action in the given linear media stream, the directive specifying an action time point when the client should carry out the content-related action, the action time point being defined according to the server clock,</claim-text><claim-text>wherein using by the client the computed time offset as a basis to determine when the client should carry out the content-related action in the given linear media stream comprises applying the computed time offset as a basis to translate the specified action time point into an associated client time point according to the client clock.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the applying the computed time offset as the basis to translate the specified action time point into the associated client time point according to the client clock comprises adding the computed time offset to the specified action time point.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein processing the one or more linear media streams for presentation comprises receiving each of the one or more linear media streams distributed by a content distribution system, wherein the server clock defines time according to the content distribution system.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising:<claim-text>generating query fingerprints representing the given linear media stream; and</claim-text><claim-text>transmitting, from the client to the server, the generated query fingerprints to enable the server to identify the given linear media stream.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A method operable while a client is receiving an ongoing media stream that includes watermarks steganographically encoding server-timestamps of portions of the media stream from a time perspective of a server, the method comprising, for each of one or more of the steganographically encoded watermarks in the media stream being received by the client:<claim-text>extracting the server-timestamp encoded by the watermark; and</claim-text><claim-text>comparing the extracted server-timestamp with a respective client-time from a time perspective of the client, to compute a time offset useable as a basis to determine when the client should carry out a content-related action.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the content-related action comprises dynamic content modification.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the dynamic content modification is responsive to fingerprint-based automatic content recognition.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the client is a television.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A media client comprising:<claim-text>a content input interface;</claim-text><claim-text>a content presentation interface;</claim-text><claim-text>a network communication interface;</claim-text><claim-text>a processing unit;</claim-text><claim-text>non-transitory data storage; and</claim-text><claim-text>program instructions stored in the non-transitory data storage and executable by the processing unit to carry out operations including:<claim-text>processing one or more linear media streams for presentation, each of the one or more linear media streams defining a respective time sequence of frames of media content, and at least one of the linear media streams being steganographically encoded with at least one watermark at a respective time-point within linear media stream, the watermark encoding a timestamp of the respective time-point within the linear media stream according to a server clock,</claim-text><claim-text>extracting the timestamp from the watermark,</claim-text><claim-text>computing a time offset based on a difference between the extracted timestamp and a current time according to a client clock, and</claim-text><claim-text>using the computed time offset as a basis to determine when the client should carry out a content-related action in a given one of the one or more linear media streams.</claim-text></claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The media client of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein computing the time offset based on the difference between the extracted timestamp and the current time according to the client clock comprises computing the time offset as the difference.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The media client of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the media client is a television.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The media client of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the one or more linear media streams are distributed by a content distribution system, wherein the server clock defines time according to the content distribution system.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The media client of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the content-related action comprises dynamic content modification.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The media client of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the content-related action comprises dynamic ad replacement.</claim-text></claim></claims></us-patent-application>