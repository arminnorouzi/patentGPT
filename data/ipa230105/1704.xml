<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230001705A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230001705</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17809609</doc-number><date>20220629</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2021-108551</doc-number><date>20210630</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>41</class><subclass>J</subclass><main-group>2</main-group><subgroup>21</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>41</class><subclass>J</subclass><main-group>2</main-group><subgroup>045</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>41</class><subclass>J</subclass><main-group>2</main-group><subgroup>2103</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>41</class><subclass>J</subclass><main-group>2</main-group><subgroup>04558</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>41</class><subclass>J</subclass><main-group>2</main-group><subgroup>04581</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">PRINTING DEVICE, AND NON-TRANSITORY COMPUTER-READABLE RECORDING MEDIUM THEREFOR</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Brother Kogyo Kabushiki Kaisha</orgname><address><city>Nagoya</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>OSAKABE</last-name><first-name>Yoshinori</first-name><address><city>Seto</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>KUROYANAGI</last-name><first-name>Sosuke</first-name><address><city>Nishio</city><country>JP</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>HOGA</last-name><first-name>Masahiro</first-name><address><city>Ogaki</city><country>JP</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>ISHIKAWA</last-name><first-name>Hiroyuki</first-name><address><city>Nisshin</city><country>JP</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>MORIKAWA</last-name><first-name>Jun</first-name><address><city>Nagoya</city><country>JP</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>SHIRONO</last-name><first-name>Taichi</first-name><address><city>Nagoya</city><country>JP</country></address></addressbook></inventor><inventor sequence="06" designation="us-only"><addressbook><last-name>NAKAZAWA</last-name><first-name>Fumio</first-name><address><city>Okazaki</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Brother Kogyo Kabushiki Kaisha</orgname><role>03</role><address><city>Nagoya</city><country>JP</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A printing device is provided with a print head having a plurality of nozzles configured to eject ink droplets therefrom, a supplier configured to supply ink contained in a container to the print head, and a controller. The controller is configured to perform obtaining ink information having correlation with a height of a liquid surface of the ink contained in the container, obtaining subject image data representing an image to be printed, generating print data based on the subject image data, and causing the print head to eject ink droplets based on the print data. The generating includes adjusting the print data in accordance with the ink information.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="234.95mm" wi="140.12mm" file="US20230001705A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="207.94mm" wi="143.09mm" file="US20230001705A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="243.59mm" wi="147.57mm" file="US20230001705A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="245.03mm" wi="144.61mm" file="US20230001705A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="123.27mm" wi="110.24mm" file="US20230001705A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="231.56mm" wi="167.30mm" file="US20230001705A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="242.99mm" wi="160.44mm" file="US20230001705A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="194.56mm" wi="163.41mm" file="US20230001705A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="143.09mm" wi="119.63mm" file="US20230001705A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="205.74mm" wi="149.44mm" file="US20230001705A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="138.77mm" wi="156.13mm" file="US20230001705A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="239.44mm" wi="136.74mm" orientation="landscape" file="US20230001705A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application claims priority from Japanese Patent Application No. 2021-108551 filed on Jun. 30, 2021. The entire content of the priority application is incorporated herein by reference.</p><heading id="h-0002" level="1">BACKGROUND ART</heading><p id="p-0003" num="0002">The present disclosures relate to controlling of a print engine which includes a print head having nozzles configured to eject ink droplets, and an ink supplier configured to supply ink contained in an ink container to the print head.</p><p id="p-0004" num="0003">There has been known an inkjet pen which is configured to eject ink from nozzles formed on an inkjet head to print an image. Typically, the inkjet pen is configured such that an ink cartridge containing ink is arranged above the inkjet head, and the ink is supplied from the ink cartridge to the inkjet head through a pipe connecting both.</p><heading id="h-0003" level="1">DESCRIPTION</heading><p id="p-0005" num="0004">In printing devices employing an inkjet method, as a height of a surface of the ink contained in the ink cartridge varies with ink consumption, a water head difference between a nozzle meniscus and the ink surface in the ink cartridge varies. When the water head difference fluctuates, the pressure at the nozzles changes.</p><p id="p-0006" num="0005">If the same discharge control is maintained regardless of the change in the pressure at the nozzles, the amount of ink discharged from the nozzles is changed.</p><p id="p-0007" num="0006">When the amount of the ink ejected from the nozzles varies due to fluctuations in the water head difference, the density of the image printed by the printing device could fluctuate.</p><p id="p-0008" num="0007">According to aspects of the present disclosures, there is provided a printing device, which is provided with a print head having a plurality of nozzles configured to eject ink droplets therefrom, a supplier configured to supply ink contained in a container to the print head, and a controller. The controller is configured to perform obtaining ink information having correlation with a height of a liquid surface of the ink contained in the container, obtaining subject image data representing an image to be printed, generating print data based on the subject image data, and causing the print head to eject ink droplets based on the print data. The generating includes adjusting the print data in accordance with the ink information.</p><p id="p-0009" num="0008">According to aspects of the present disclosures, there is provided a printing device, which is provided with a print head having a plurality of nozzles configured to eject ink droplets therefrom, a supplier configured to supply ink contained in a container to the print head, and a controller. The controller is configured to perform obtaining ink information having correlation with a height of a liquid surface of the ink contained in the container, obtaining subject image data representing an image to be printed, generating print data based on the subject image data, and causing the print head to eject ink droplets based on the print data. The generating includes adjusting the print data, based on the ink information, such that the lower the height of the liquid surface of the ink is, the more an ejection amount of the ink is.</p><p id="p-0010" num="0009">According to aspects of the present disclosures, there is provided a non-transitory computer-readable recording medium for a printing device having a print head having a plurality of nozzles configured to eject ink droplets therefrom, a supplier configured to supply ink contained in a container to the print head, and a controller. The non-transitory computer-readable recording medium contains computer-executable instructions which cause, when executed by the controller, the printing device to perform obtaining ink information having correlation with a height of a liquid surface of the ink contained in the container, obtaining subject image data representing an image to be printed, generating print data based on the subject image data, and causing the print head to eject ink droplets based on the print data, the generating including adjusting the print data in accordance with the ink information.</p><p id="p-0011" num="0010">According to the above configuration, the print data is adjusted according to information that correlates with the height of the liquid surface of the ink, thereby preventing fluctuations in the actually printed image caused by the difference in hydraulic head between the nozzle meniscus and the liquid surface of the ink in the container.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram showing a functional configuration of a printer according to an embodiment.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> schematically shows a configuration of a print engine.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>2</b>B</figref> schematically shows an arrangement of nozzles.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart illustrating a printing process according to a first embodiment.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a graph schematically showing an example of a tone curve for a compensating process.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIGS. <b>5</b>A and <b>5</b>B</figref> show a flowchart illustrating a printing process according to a second embodiment.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart illustrating an error diffusion process.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flowchart illustrating a printing process according to a third embodiment.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>8</b></figref> illustrates a selection of color conversion profiles.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart illustrating a printing process according to a fourth embodiment.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>10</b></figref> shows a configuration of an ink container according to a first modification.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>11</b></figref> shows a configuration of an ink container according to a second modification.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0004" level="1">FIRST EMBODIMENT</heading><p id="p-0024" num="0023">Configuration of Printer</p><p id="p-0025" num="0024">Referring to accompanying drawings, embodiments and modifications will be described.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram showing a configuration of a printer <b>200</b> according to an embodiment of the present disclosures.</p><p id="p-0027" num="0026">The printer <b>200</b> has, for example, a print engine <b>100</b>, a CPU <b>210</b> as a control unit for the print engine <b>100</b>, a non-volatile storage device <b>220</b> such as a hard disk drive or a flash memory, a volatile storage device <b>230</b> such as a RAM, and an operation panel <b>260</b> provided with buttons and/or a touch panel for obtaining operations by a user, a display <b>270</b> such as a liquid crystal display, a communication interface <b>280</b>. The printer <b>200</b> is connected to an external device, such as a user's terminal device <b>300</b> via the communication interface <b>280</b>.</p><p id="p-0028" num="0027">The volatile storage device <b>230</b> provides a buffer area <b>231</b> which is used to temporarily store various intermediate data generated when the CPU <b>210</b> executes various processes. In the non-volatile storage device <b>220</b>, a computer program PG is stored. The computer program PG according to the present disclosures is a control program configured to control operations of the printer <b>200</b>. The computer program PG may be provided as stored in the non-volatile storage device <b>220</b> when the printer <b>200</b> is shipped from a factory. Alternatively, the computer program PG may be provided so as to be downloaded from a server, or in a form of a DVD-ROM storing the program PG. By executing the program PG, the CPU <b>210</b> executes processes, for example, a printing process (described later), to control the print engine <b>100</b> to perform printing.</p><p id="p-0029" num="0028">The print engine <b>100</b> is configured to perform printing by ejecting ink Ik of each of the colors of cyan (C), magenta (M), yellow (Y) and black (K). In the following description, the cyan ink, the magenta ink, the yellow ink, the black ink will be referred to as C ink, M ink, Y ink and K ink, respectively, using the above-explained capital letters. The print engine <b>100</b> has a print head <b>110</b>, a head driver <b>120</b>, a main scanning mechanism <b>130</b>, a conveyor <b>140</b>, and an ink supplying device <b>150</b>.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIGS. <b>2</b>A and <b>2</b>B</figref> show a schematic configuration of the print engine <b>100</b>. As shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, the main scanning mechanism <b>130</b> includes a carriage <b>133</b> mounting the print head <b>110</b>, a slider shaft <b>134</b> configured to slidably support the carriage <b>133</b> so that the carriage <b>133</b> moves reciprocally in a main scanning direction, which is an X-axis direction indicated in <figref idref="DRAWINGS">FIGS. <b>2</b>A and <b>2</b>B</figref>. The main scanning mechanism <b>130</b> is configured to move the carriage <b>133</b> along the slider shaft <b>134</b> using a driving force of a main scanning motor (not shown). In this way, the main scanning to reciprocate the print head <b>110</b> along the main scanning direction with respect to a sheet M is realized.</p><p id="p-0031" num="0030">The conveyor <b>140</b> conveys the sheet M in a conveying direction AR (i.e., a Y-axis direction in <figref idref="DRAWINGS">FIGS. <b>2</b>A and <b>2</b>B</figref>) which intersects with the main scanning direction, with holding the sheet M. As shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, the conveyor <b>140</b> includes a sheet table <b>145</b>, an upstream roller pair <b>142</b>, and a downstream roller pair <b>141</b>. In the following description, an upstream side in the conveying direction AR (i.e., &#x2212;Y side) will be simply referred to as an upstream side, and a downstream side in the conveying direction (i.e., +Y side) will be simply referred to as a downstream side.</p><p id="p-0032" num="0031">The upstream roller pair <b>142</b> holds the sheet M on the upstream side (&#x2212;Y side) relative to the print head <b>110</b>, and the downstream roller pair <b>141</b> holds the sheet M on the downstream side (+Y side) relative to the print head <b>110</b>. The sheet table <b>145</b> is located at a position between the upstream roller pair <b>142</b> and the downstream roller pair <b>141</b>, and at a position facing a nozzle surface <b>111</b> of the print head <b>110</b>. As the downstream roller pair <b>141</b> and the upstream roller pair <b>142</b> are driven by the not-shown conveying motor, the sheet M is conveyed in the conveying direction.</p><p id="p-0033" num="0032">The ink supplier <b>150</b> has, for each of the CMYK inks Ik, an ink container <b>151</b>, an ink channel <b>152</b>, a valve mechanism <b>153</b>, and a liquid level sensor <b>154</b>. In <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, to avoid complications in the drawing, for one color of ink Ik, the ink container <b>151</b>, the ink channel <b>152</b>, the valve mechanism <b>153</b>, and the liquid level sensor <b>154</b> are shown. Actually, for each of the four CMYK inks Ik, the components <b>151</b>-<b>154</b> are aligned in the X-axis direction.</p><p id="p-0034" num="0033">The ink container <b>151</b> contains the ink Ik inside. The ink container <b>151</b> is mounted on the carriage <b>133</b> and is located above (i.e., on +Z side) the print head <b>110</b>. Therefore, according to the present embodiment, the entire ink contained in the ink container <b>151</b> is located on an upper side (i.e., a higher side) relative to the nozzle surface <b>111</b> of the print head <b>110</b>.</p><p id="p-0035" num="0034">On an upper wall of the ink container <b>151</b>, an inlet OP<b>1</b> for injecting the ink into the ink container <b>151</b> is formed. The inlet OP<b>1</b> is usually fitted with a lid <b>156</b> and is kept closed thereby. When the ink Ik is injected, the lid <b>156</b> is removed and the ink Ik is injected from a bottle through the inlet OP<b>1</b>.</p><p id="p-0036" num="0035">On an upper part of a side wall of the ink container <b>151</b>, a vent OP<b>2</b> is formed. The vent OP<b>2</b> is formed to penetrate the side wall of the ink container <b>151</b>.</p><p id="p-0037" num="0036">The valve mechanism <b>153</b> is configured to open and close the vent OP<b>2</b> in accordance with the control of the CPU <b>210</b>. A state where the vent OP is opened is a state where the inside of the ink container <b>151</b> and the outside of the ink container <b>151</b> communicate with each other via the vent OP<b>2</b> (which will also be referred to as a communicating state). A state where the vent OP is closed is a state where the inside of the ink container <b>151</b> and the outside of the ink container <b>151</b> do not communicate with each other (which will also be referred to as a non-communicating state). The valve mechanism <b>153</b> is, for example, a known electromagnetic valve provided with a valve <b>1531</b> and a solenoid <b>1532</b>.</p><p id="p-0038" num="0037">The solenoid <b>1532</b> is attached to the side wall of the ink container <b>151</b> via a supporting table <b>1533</b>. The valve <b>1531</b> is supported by the solenoid <b>1532</b>. The valve <b>1531</b> is configured to move in a right-left direction (i.e., the Y-axis direction) as indicated by arrow AM by a driving force generated by the solenoid <b>1532</b>. For example, when an electrical current does not flow in the solenoid <b>1532</b>, the valve <b>1531</b> contacts the vent OP<b>2</b> to close the same. On the other hand, when the electrical current is flowing in the solenoid <b>1532</b>, the valve <b>1531</b> is separated from the vent OP<b>2</b>, thereby opening the vent OP<b>2</b>.</p><p id="p-0039" num="0038">The liquid level sensor <b>154</b> is attached to the lower side of the side wall of the ink container <b>151</b>. The liquid level sensor <b>154</b> is configured to detect whether or not the surface IS of the ink Ik inside ink container <b>151</b> is equal to or lower than a particular height in accordance with the control of the CPU <b>210</b>. For example, the particular height is the height at which the liquid sensor <b>154</b> is attached to the ink container <b>151</b>, which is the height corresponding to an amount of the ink Ik at which the ink Ik is to be supplied. In other words, the particular height corresponds to an empty level or near-empty level of the ink Ik. As the liquid level sensor <b>154</b>, a known sensor employing a method of measuring electrical resistance or light transmission at the particular height may be used.</p><p id="p-0040" num="0039">The ink channel <b>152</b> is a flow path for supplying the ink Ik contained in the ink container <b>151</b> to the print head <b>110</b>. An upper end of the ink channel <b>152</b> communicates with a bottom surface of the ink container <b>151</b>, while a lower end of the ink channel <b>152</b> communicates with an internal flow path (not shown) of the print head <b>110</b>.</p><p id="p-0041" num="0040">There are known ink containers for printers that are equipped with a structure (e.g., a structure using a porous material or a negative pressure valve) to maintain the air pressure inside the container at a pressure less than atmospheric pressure (negative pressure). The ink container (container) <b>151</b> according to the present embodiment is not equipped with a structure to maintain the pressure of the air layer Ar at a negative pressure.</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>2</b>B</figref> illustrates a configuration of the print head <b>110</b> viewed from the &#x2212;Z side (i.e., from the lower side in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>). As shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>, the nozzle surface <b>111</b> of the print head <b>110</b> is formed with a plurality of rows of nozzles, i.e., nozzle rows NC, NM, NY, and NK for ejecting the above-described C, M, Y and K inks Ik. Each nozzle row contains a plurality of nozzles NZ aligned along the conveying direction AR. The plurality of nozzles NZ in each row are arranged such that positions thereof in the conveying direction AR (i.e., +Y direction) are different from each other, and are arranged at a particular nozzle interval NT along the conveying direction AR.</p><p id="p-0043" num="0042">The positions of the nozzle rows NC, NM, NY, and NK in the main scanning direction (<figref idref="DRAWINGS">FIG. <b>2</b>B</figref>) differ from each other, and the positions of nozzles between multiple nozzle rows in the conveying direction AR (i.e., the Y direction in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>) overlap each other. In the example shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>, in the +X direction of the nozzles of the nozzle row NY configured to eject the Y ink, the nozzles of the nozzle row NM configured to eject the M ink are arranged.</p><p id="p-0044" num="0043">Each nozzle NZ is formed on the nozzle surface <b>111</b>. Therefore, a vertical position of an aperture of each nozzle NZ (i.e., a position in the Z direction) is the vertical position of the nozzle surface <b>111</b>. The internal flow path (not shown) inside the print head <b>110</b> is formed for each nozzle NZ. In each internal flow path, an actuator (e.g., a piezoelectric element, not shown) causing the internal path to deform to eject the ink Ik from the nozzle NZ is provided.</p><p id="p-0045" num="0044">The head driver <b>120</b> (see <figref idref="DRAWINGS">FIG. <b>1</b></figref>) is configured to provide a drive signal to each actuator of the print head <b>110</b> when the main scanning mechanism <b>130</b> executes the main scanning of the print head <b>110</b>. Thus, the ink Ik is ejected from each nozzle NZ of the print head <b>110</b> onto the sheet which is conveyed by the conveyor <b>140</b> in the conveying direction AR, thereby dots of ink Ik being formed two-dimensionally on the sheet M.</p><p id="p-0046" num="0045">A difference between the height of the liquid level IS of ink Ik in the ink container <b>151</b> and the height of aperture of the nozzle NZ is referred to as a water head difference &#x394;H (<figref idref="DRAWINGS">FIG. <b>2</b>A</figref>). A convex or concave surface of the ink Ik, referred to as a meniscus, is formed at the aperture of the nozzle NZ. The pressure exerted from the above on the meniscus of the aperture of the nozzle NZ includes a water head pressure and an in-container atmospheric pressure. The water head pressure is the pressure resulting from the weight of the ink Ik. The water head pressure varies with the water head difference &#x394;H, and the larger the water head difference &#x394;H, the greater the water head pressure. The in-container atmospheric pressure is the air pressure in the air layer Ar above the liquid level IS in the ink container <b>151</b>. As printing is performed by the print engine <b>100</b> and ink Ik is consumed, the liquid level IS is lowered. Because the water head difference &#x394;H decreases as the liquid level IS is lowered, the water head pressure decreases as the liquid level IS is lowered.</p><p id="p-0047" num="0046">The print engine <b>100</b> uses the above-mentioned components <b>110</b>-<b>150</b> to execute printing. That is, the print engine <b>100</b> executes a partial printing to form dots on the sheet M with the print head <b>110</b> while the main scanning is executed by the main scanning mechanism <b>130</b>, and a sub-scanning (i.e., conveyance of the sheet M) is executed by the conveyor <b>140</b> alternately, by a plurality of times, thereby an image being formed on a printing medium (e.g., the sheet M).</p><p id="p-0048" num="0047">Printing Process</p><p id="p-0049" num="0048">The CPU <b>210</b> of the printer <b>200</b> (see <figref idref="DRAWINGS">FIG. <b>1</b></figref>) executes the printing process based on printing instructions from the user, which are received, for example, via the operation panel <b>260</b>. The print instruction includes a designation of image data representing the image to be printed.</p><p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart illustrating the printing process according to the first embodiment, which is executed by the CPU <b>210</b>.</p><p id="p-0051" num="0050">In S<b>100</b>, the CPU <b>210</b> obtains a count value CV which is a value related to a consumed amount of the ink Ik. It is noted that, in S<b>100</b>, the count value CV for each of the C, M, Y, K inks Ik is obtained. In the following description, the count values of the four colors of C, M, Y and K will also be expressed as count values CVc, CVm, CVy and CVk, respectively. These count values CVc, CVm, CVy, and CVk are recorded, for example, in the non-volatile storage device <b>220</b>. When there is no need to distinguish the count values CVc, CVm, CVy and CVk from each other for the purpose of description, the count value is simply referred to as a count value CV</p><p id="p-0052" num="0051">Each time the printing is performed, a number corresponding to the amount of ink consumed in the printing is added to the count value CV (S<b>160</b>, described below). The count value CV for a specific color (e.g., C (cyan)) is reset when ink Ik is refilled in the ink container <b>151</b> for ink Ik of the specific color. In the present embodiment, when the user inputs via the operation panel <b>260</b> that ink Ik of a specific color has been refilled, it is determined that the ink Ik of that specific color has been refilled. Thus, the count value CV is a value indicating the amount of ink consumed after the ink container <b>151</b> was refilled with the ink Ik.</p><p id="p-0053" num="0052">Assuming that Vmax is the amount of ink in the ink container <b>151</b> when ink Ik is fully refilled, the remaining amount Vr of the ink Ik in the ink container <b>151</b> can be expressed as (Vmax&#x2212;CV). The height of the liquid surface IS of the ink in the ink container <b>151</b> is uniquely determined by the remaining amount Vr of the ink in the ink container <b>151</b>. Therefore, the count value CV of the ink consumption is information that correlates with the remaining amount Vr and the height of the liquid level IS.</p><p id="p-0054" num="0053">In S<b>105</b>, the CPU <b>210</b> obtains subject image data. The subject image data is image data used for the printing process, and is designated by the print instruction. The subject image data is obtained from the external device or the volatile storage device <b>230</b>. The subject image data is image data with any of various formats such as a format of JPEG-compressed image data, a format of image data described in a page description language.</p><p id="p-0055" num="0054">In S<b>110</b>, the CPU <b>210</b> performs a rasterization process on the obtained target image data to generate RGB image data. The RGB image data is bitmap data containing RGB values for each pixel. The RGB value is, for example, a color value in the RGB color system that includes values for three components: red (R), green (G), and blue (B). In the following description, the R, G, and B component values are also referred to as R, G, and B values, respectively.</p><p id="p-0056" num="0055">In S<b>115</b>, the CPU <b>210</b> performs a color conversion process on the RGB image data. The color conversion process is a process of converting the RGB values of multiple pixels constituting the raster line of interest to CMYK values. The CMYK value is a color value in the CMYK color system that includes the component values corresponding to the inks used for printing (in this embodiment, the C, M, Y, and K component values). The color conversion process is performed, for example, by referring to a known look-up table that defines the correspondence between RGB values and CMYK component values. In the following description, the C, M, Y, and K component values are also referred to as C, M, Y, and K values, respectively. By the color conversion process, CMYK image data containing CMYK values for each pixel is generated.</p><p id="p-0057" num="0056">In S<b>120</b>, the CPU <b>210</b> selects, from among the four colors of CMYK, one color of interest. In S<b>125</b>, the CPU <b>210</b> determines whether the count value CV of the color of interest is greater than or equal to a threshold value CVth. It is noted that the threshold value CVth is the count value CV when the height of the liquid level IS of the ink container <b>151</b> is at the reference height Hth (see <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>). That is, the remaining amount Vrth of the ink Ik when the height of the liquid level IS of the ink container (container) <b>151</b> is Hth is (Vmax&#x2212;CVth). As can be seen from the above description, determining whether or not the count value CV of the color of interest is greater than or equal to the threshold value CVth is equivalent to determining whether or not the height of the liquid level IS of the ink Ik of the color of interest is less than or equal to the reference height Hth.</p><p id="p-0058" num="0057">If the count value CV of the color of interest is greater than or equal to the threshold value CVth (S<b>125</b>: YES), at S<b>130</b>, the CPU <b>210</b> executes a compensating process to increase the density for the component value of the color of interest. In other words, if the height of the liquid surface IS of the ink Ik of the color of interest can be determined to be less than or equal to the reference height Hth based on the count value CV, the compensating process is executed for the component values of the color of interest.</p><p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows an example of a tone curve for the compensating process. The tone curve TC in <figref idref="DRAWINGS">FIG. <b>4</b></figref> defines the correspondence between an input value Nin and an output value Nout for a range of values (256 steps from 0 to 255 in this example) that can be taken by the component values of the color of interest (e.g., C and M values). The CPU <b>210</b> is configured to apply the tone curve TC in <figref idref="DRAWINGS">FIG. <b>4</b></figref> to the component values of the color of interest from among the CMYK values of respective pixels contained in the CMYK image data. According to the tone curve TC in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, except when the component values are 0 or 255, the component values after compensation are larger than the corresponding component values before correction, respectively.</p><p id="p-0060" num="0059">When the count value CV of the color of interest is less than the threshold value CVth (S<b>125</b>: NO), the CPU <b>210</b> skips S<b>130</b>. In other words, when it is possible to determine, based on the count value CV, that the height of the liquid surface IS of the ink Ik of the color of interest is higher than the reference height Hth, no compensating process is performed for the component values of the color of interest.</p><p id="p-0061" num="0060">In S<b>135</b>, the CPU <b>210</b> determines whether or not all the CMYK colors have been processed as the color of interest. When there are unprocessed colors (S<b>135</b>: NO), the CPU <b>210</b> returns to S<b>120</b>. When all the colors have been processed (S<b>135</b>: YES), then CPU <b>210</b> proceeds to S<b>140</b>.</p><p id="p-0062" num="0061">In S<b>140</b>, the CPU <b>210</b> executes the halftone process on the CMYK image data to generate dot data. The dot data represents the dot forming status of each pixel for each of the CMYK color components. The value for each pixel in the dot data indicates, for example, the state of dot formation in two levels of &#x201c;no dot&#x201d; and &#x201c;with dot,&#x201d; or in four levels of &#x201c;no dot,&#x201d; &#x201c;small,&#x201d; &#x201c;medium,&#x201d; and &#x201c;large.&#x201d; The halftone process is performed using known techniques such as a dithering process or an error diffusion process.</p><p id="p-0063" num="0062">In S<b>145</b>, the CPU <b>210</b> controls the valve mechanism provided to the ink container <b>151</b> for each of the CMYK colors to open the vent OP<b>2</b> of each ink container <b>151</b> closed by the valve <b>1531</b>. In this way, the inside of each ink container <b>151</b> and the outside of each ink container <b>151</b> communicate with each other, and the air pressure in the air layer Ar of each ink container <b>151</b> becomes the atmospheric pressure.</p><p id="p-0064" num="0063">In S<b>150</b>, the CPU <b>210</b> controls the valve mechanism <b>153</b> provided to the ink container <b>151</b> of each of the MMYK colors to close the vent OP<b>2</b>, which was opened in S<b>145</b>, with the valve <b>1531</b>. In this way, for example, leakage of the ink Ik from the vent OP<b>2</b> and/or entry of foreign matters into the ink container <b>151</b> from the vent OP<b>2</b> can be suppressed.</p><p id="p-0065" num="0064">In S<b>155</b>, the CPU <b>210</b> outputs the print data to the print engine <b>100</b> and causes the print engine <b>100</b> to execute printing. For example, the CPU <b>210</b> generates print data by rearranging the dot data in the order used for printing and adding control data such as print commands, and outputs the print data to the print engine <b>100</b>. The print engine <b>100</b> prints images on the sheets according to the print data.</p><p id="p-0066" num="0065">In S<b>160</b>, the CPU <b>210</b> updates the count value CV of each of the CMYK colors stored in the non-volatile storage device <b>220</b>. For example, the CPU <b>210</b> calculates a consuming amount of the ink Ik of each of the CMYK colors based on the print data, and adds the calculated values to the count values of the ink Ik of the CMYK colors, respectively. When the count values CV are updated, the printing process is terminated.</p><p id="p-0067" num="0066">According to the printing process in the above-described embodiment, the CPU <b>210</b> is configured to obtain the count values CV which are information correlated with the height of the liquid surface IS of the ink Ik contained in the ink container <b>151</b> (S<b>100</b> of <figref idref="DRAWINGS">FIG. <b>3</b></figref>), obtain the subject image data (S<b>105</b> of <figref idref="DRAWINGS">FIG. <b>3</b></figref>), executes the generation process to generate the print data based on the subject image data (S<b>110</b>-S<b>140</b> of <figref idref="DRAWINGS">FIG. <b>3</b></figref>), and cause the print head <b>110</b> to eject the ink droplets based on the print data (S<b>155</b> of <figref idref="DRAWINGS">FIG. <b>3</b></figref>). The process of generating the print data includes an adjustment process to adjust the print data according to the count value CV (S<b>120</b>-S<b>130</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>). As a result, the print data is adjusted according to the count value CV that is correlated with the height of the ink surface IS of the ink Ik. As a result, fluctuations in the image which would occur due to the water head difference &#x394;H between the meniscus of nozzles NZ and the liquid surface of the ink Ik in the ink container <b>151</b>.</p><p id="p-0068" num="0067">For example, since the density of the image represented by the print data is adjusted according to the height of the liquid surface IS of the ink Ik, fluctuations due to the water head difference &#x394;H between the meniscus of nozzle NZ and the liquid surface of the ink Ik in the ink container can be suppressed.</p><p id="p-0069" num="0068">More details are explained below. The smaller the pressure applied from above to the meniscus of the nozzle NZ opening, the more difficult it is for the ink Ik to be ejected from the nozzle NZ. For this reason, when the actuators are driven using the same drive signal, the smaller the pressure applied to the meniscus from above, the less the amount of ink Ik for one dot ejected from the nozzle NZ. As the amount of ink Ik for one dot decreases, the size (area) of each dot that forms the printed image decreases, resulting in a decrease in the density of the printed image.</p><p id="p-0070" num="0069">The lower the height of the liquid surface IS of the ink Ik is, the smaller the water head difference &#x25a1;H is, and the smaller the pressure applied to the meniscus from the above is. Therefore, when the height of the liquid surface IS is less than the reference height Hth (<figref idref="DRAWINGS">FIG. <b>2</b>A</figref>), in comparison with the case where the height of the liquid surface IS is higher than the reference height Hth (<figref idref="DRAWINGS">FIG. <b>2</b>A</figref>), the water head difference &#x394;H is small, and therefore, the area of each dot that forms the printed image is smaller, and the density of the printed image decreases.</p><p id="p-0071" num="0070">In the present embodiment, when the height of the liquid surface IS is determined, based on the count value CV, to be less than or equal to the reference height Hth (S<b>125</b>: YES), a correction process to increase the density of the color of interest in the image represented by the print data (hereinafter also referred to as density on the data) is executed (S<b>130</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>). As a result, by increasing the density on the data, the reduction in the density of the printed image caused by the smaller size of the dots can be canceled out, thereby suppressing the reduction in the density of the printed image actually printed. Therefore, it is possible to suppress the difference in density between the printed image printed when the height of the liquid surface IS is less than the reference height Hth and the printed image printed when the height of the liquid surface IS is higher than the reference height Hth.</p><p id="p-0072" num="0071">In the present embodiment, the vent OP<b>2</b> is opened and closed (S<b>145</b>, S<b>150</b>), before printing, so that the in-container atmospheric pressure is set to the atmospheric pressure. According to this configuration, the in-container atmospheric pressure decreases as the volume of the air layer Ar increases due to the consumption of the ink Ik by printing since the vent OP<b>2</b> is closed during printing. However, if the amount of printing in one printing process is not excessively large, the effect of the decrease in the in-container atmospheric pressure is considered to be small.</p><p id="p-0073" num="0072">Further, the adjustment process in the above embodiment is a process of compensating the CMYK values by using the count values CV (S<b>120</b> to S<b>135</b>) after the color conversion process (S<b>115</b> in <figref idref="DRAWINGS">FIG. <b>4</b></figref>). Since the component values of the CMYK values correspond to the CMYK inks Ik, it is easy to selectively compensate for the color of the ink Ik of which the height of the liquid surface IS is less than or equal to the reference height Hth. Thus, the print data can be adjusted appropriately according to the height of the liquid surface IS of the ink Ik.</p><p id="p-0074" num="0073">Further, according to the above embodiment, the adjustment of the print data is performed for each of the CMYK colors. For example, the ink information includes first information (e.g., the count value CVc for cyan) correlated with the height of the liquid surface IS of a first ink (e.g., the cyan ink), and second information (e.g., the count value CVm for magenta) correlated with the height of the liquid surface IS of a second ink (e.g., the magenta ink). The adjustment process includes a process of adjusting the data (e.g., cyan component values) of the first color of the print data according to the first information and a process of adjusting the data (e.g., magenta component values) of the second color of the print data according to the second information (S<b>120</b> to S<b>135</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>). The height of the liquid surface IS of the ink container <b>151</b> depends on the consumption of the ink Ik and is different from each other among the CMYK colors. In the above embodiment, since the adjustment of the density corresponding to the height of the liquid surface IS is performed for each of the CMYK colors, fluctuation of the density and/or color in the color printing performed with use of multiple colors due to the difference in the height of the liquid surface IS of each ink Ik can be appropriately suppressed.</p><p id="p-0075" num="0074">Further, in the above-described embodiment, the ink container <b>151</b> is formed with the vent OP<b>2</b> that communicates between the inside and the outside of the ink container <b>151</b>. According to this configuration, since the in-container atmospheric pressure can be set to the atmospheric pressure by opening the vent OP<b>2</b>, the effect of in-container atmospheric pressure on the pressure fluctuations imparted to the meniscus can be reduced. As a result, the degree of density adjustment when generating the print data can easily be determined, taking into account the water head pressure caused by the water head difference &#x394;H.</p><p id="p-0076" num="0075">Further, in the above-described embodiment, the print engine <b>100</b> is provided with the valve <b>1531</b> for switching between a communicating state in which the inside and the outside of the ink container <b>151</b> communicate with each other via the vent OP<b>2</b> and a non-communicating state in which the inside and the outside of the ink container <b>151</b> do not communicate with each other. As a result, the in-container atmospheric pressure can be set to the atmospheric pressure by setting the valve <b>1531</b> in the communicating state, while ink leakage and intrusion of foreign matter through the vent OP<b>2</b> can be suppressed by setting the valve <b>1531</b> in the non-communicating state.</p><p id="p-0077" num="0076">Still further, in the above-described embodiment, the CPU <b>210</b> controls the valve <b>1531</b> to be in the non-communicating state when the printing is being performed (S<b>150</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>). As a result, leakage of the ink Ik via the vent OP <b>2</b> when, for example, the ink container <b>151</b> is reciprocating in the main scanning direction by the main scanning operation during printing can be suppressed.</p><p id="p-0078" num="0077">Furthermore, the adjustment process according to the present embodiment is a process of increasing the density of the image represented by the print data in a case where the count value CV indicates that the height of the liquid surface IS is a first height (e.g., less than or equal to the reference height) in comparison with a case where the count value CV indicates that the height of the liquid surface IS is a second height (e.g., higher than the reference height). As described above, the smaller the water head difference &#x394;H, the smaller the amount of ink ejected, and therefore the lower the height of the liquid surface IS is, the lower the density of the image actually printed. For this reason, the lower the height of the liquid surface IS is, the higher the density of the image represented by the print data should be, and therefore, according to the present embodiment, the density of the printed image can be suppressed from fluctuating. In the present embodiment, fluctuations in the density of the printed image can be suppressed when the density of the printed image may be fluctuated easily due to fluctuations in the water head pressure.</p><p id="p-0079" num="0078">According to the present embodiment, the ink container <b>151</b> is arranged at a position where the liquid surface IS of the ink Ik is higher than the apertures of the nozzles NZ (<figref idref="DRAWINGS">FIG. <b>2</b>A</figref>). According to such an arrangement, the water head difference &#x394;H tends to be large, and therefore the density of the printed image may easily fluctuate due to fluctuations in the water head pressure.</p><p id="p-0080" num="0079">Further, according to the present embodiment, the ink information referred to for determining the height of the liquid surface IS is the count value CV indicating the amount of the ink used for printing. As described above, the count value CV is information that is correlated with the liquid surface IS and can be accurately calculated based on the print data. For this reason, by using the count value CV as the ink information, the adjustment process can be properly executed according to the height of the liquid surface IS.</p><heading id="h-0005" level="1">SECOND EMBODIMENT</heading><p id="p-0081" num="0080"><figref idref="DRAWINGS">FIGS. <b>5</b>A and <b>5</b>B</figref> show a flowchart illustrating a printing process according to a second embodiment. In the second embodiment, instead of the printing process shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the printing process shown in <figref idref="DRAWINGS">FIGS. <b>5</b>A and <b>5</b>B</figref> is executed. It is noted that the overall configuration is substantially the same as that of the first embodiment.</p><p id="p-0082" num="0081">S<b>200</b>-S<b>225</b> of the printing process in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> are identical to S<b>100</b>-S<b>125</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, respectively. When the count value CV of the color of interest is equal to or greater than the threshold value CVth (S<b>225</b>: YES), the CPU <b>210</b> sets a relative density value D used in an error diffusion process (S<b>240</b>, described later) to a value Ds which is adjusted for the print data adjustment in S<b>230</b>. When the count value CV of the color of interest is less than the threshold value CVth (S<b>225</b>: NO), the CPU <b>210</b> sets, in S<b>235</b>, the relative density value D used in the error diffusion process in S<b>240</b> to the normal value Dn.</p><p id="p-0083" num="0082">In other words, when the height of the liquid surface IS of the ink Ik of the color of interest is determined to be less than or equal to the reference height Hth based on the count value CV, the relative density value D is set to the adjusted value Ds, while when the height of the liquid surface IS of the ink of the color of interest is determined to be higher than the reference height Hth, the relative density value D is set to the normal value Dn.</p><p id="p-0084" num="0083">In S<b>240</b>, the CPU <b>210</b> executes the error diffusion process on the component values of the color of interest in the CMYK image data to generate the dot data of the color of interest.</p><p id="p-0085" num="0084"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart illustrating the error diffusion process. In S<b>300</b>, the CPU <b>210</b> selects a pixel of interest. The CMYK image data represents an image which is composed such that multiple pixels are arranged in matrix, in a vertical direction and a horizontal direction. The CPU <b>210</b>, for example, sequentially selects the pixel of interest one pixel at a time along the horizontal direction. When processing of one pixel line extending in the horizontal direction is completed, the CPU <b>210</b> selects another vertically adjacent pixel lines and selects the pixel of interest one pixel at a time in the same manner.</p><p id="p-0086" num="0085">In S<b>310</b>, the CPU <b>210</b> calculates an error value Et to be distributed to the pixel of interest. For a processed pixel, an error value Ea distributed from the pixel has already been calculated (S<b>370</b>, described later), and the error value is stored in an error buffer. The CPU <b>210</b> calculates a weighted sum of the error values Ea distributed from the source pixels located around the pixel of interest as the error value Et. The distribution source pixels and weights are defined, for example, by a known error matrix (not shown).</p><p id="p-0087" num="0086">In S<b>320</b>, the CPU <b>210</b> calculates a compensated component value Na of the pixel of interest. The compensated component value Na is a sum of a component value Nin of the color of interest among the CMYK values of the pixel of interest and the error value Et (i.e., Na=Nin+Et).</p><p id="p-0088" num="0087">In S<b>330</b>, the CPU <b>210</b> determines whether the compensated component value Na is equal to or greater than a particular threshold TH (e.g., 255). When the compensated component value Na is greater than or equal to the threshold value TH (S<b>330</b>: YES), in S<b>340</b>, the CPU <b>210</b> determines that a dot is to be formed for the pixel of interest. That is, the value of the pixel of interest in the dot data (also called dot value) is determined to be the value indicating that a dot is to be formed. When the compensated component value Na is less than the threshold value TH (S<b>330</b>: NO), at S<b>350</b>, the CPU <b>210</b> determines not to form a dot for the pixel of interest. That is, the dot value of the pixel of interest is determined to be a value indicating that no dot is to be formed.</p><p id="p-0089" num="0088">In S<b>360</b>, the CPU <b>210</b> calculates the error value Ea to be distributed from the pixel of interest to the other pixels in the image. If the dot value of the interest pixel is determined to be a value indicating that no dot is to be formed, the error value Ea is the compensated component value Na (Ea=Na). When the dot value of the pixel of interest is determined to be a value indicating that a dot is to be formed, the error value Ea is a value calculated such that the relative density value D is subtracted from the compensated component value Na (Ea=Na&#x2212;D).</p><p id="p-0090" num="0089">As the relative density value D, the value Ds or Dn already determined in S<b>230</b> or S<b>235</b> for the color of interest as described above is used. The highly adjusted relative density value Ds is a value smaller than the normal relative density value Dn as described above. For example, when the normal relative density value Dn is in S<b>255</b>, the adjusted relative Ds is about 230 to 250. When the adjusted relative density value Ds is used, the error value Ea becomes larger in comparison to a case where the normal relative density value Dn is used. In S<b>370</b>, the CPU <b>210</b> stores the calculated error value Ea in the error buffer.</p><p id="p-0091" num="0090">In S<b>380</b>, the CPU <b>210</b> determines whether all the pixels in the CMYK image data have been processed as the pixel of interest. If there are unprocessed pixels (S<b>380</b>: NO), the CPU <b>210</b> returns to S<b>300</b>. When all the pixels have been processed (S<b>380</b>: YES), the CPU <b>210</b> terminates the error diffusion process.</p><p id="p-0092" num="0091">As described above, when the adjusted relative density value Ds is used, the error value Ea is larger in comparison with the case where the normal relative density value Dn is used, and therefore, the probability that a dot is formed for the color of interest is higher and the number of dots formed is greater. Therefore, when the adjusted relative density value Ds is used, the print quality is higher in comparison to the case where the normal relative density value Dn is used, and the data density of the image represented by the print data can be increased compared to the case where the normal relative density value Dn is used.</p><p id="p-0093" num="0092">After the error diffusion process is completed, the CPU <b>210</b> determines, in S<b>245</b>, whether all the CMYK colors have been processed as the color of interest, as in S<b>135</b> of <figref idref="DRAWINGS">FIG. <b>3</b></figref>. When there are unprocessed colors (S<b>245</b>: NO), the CPU <b>210</b> returns to S<b>220</b>. When it is determined that all the colors have been processed (S<b>245</b>: YES), the CPU <b>210</b> proceeds to S<b>250</b>. At this stage, the dot data has been generated for four colors of the CMYK.</p><p id="p-0094" num="0093">In S<b>250</b>, as in S<b>145</b> of <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the CPU <b>210</b> controls the valve mechanism <b>153</b> to open the vent OP<b>2</b> of the ink container <b>151</b>, which has been closed by the valve <b>153</b>. As a result, the inside and the outside of each ink container <b>151</b> communicate with each other, thereby the pressure in the air layer Ar of each ink containter<b>151</b> becoming the atmospheric pressure.</p><p id="p-0095" num="0094">In S<b>255</b>, as in S<b>155</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. the CPU <b>210</b> outputs the print data to the print engine <b>100</b> to have the print engine <b>100</b> execute printing.</p><p id="p-0096" num="0095">In S<b>260</b>, as in S<b>150</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. the CPU <b>210</b> controls the valve mechanism <b>153</b> to close the vent OP<b>2</b>, which was opened in S<b>250</b>, with the valve <b>1531</b>. In the second embodiment, the vent OP is closed after the printing has been executed. Therefore, different from the first embodiment, the printing is executed in a state where the inside and the outside are communicated with each other.</p><p id="p-0097" num="0096">In S<b>270</b>, as in S<b>160</b> of <figref idref="DRAWINGS">FIG. <b>3</b></figref>. the CPU <b>210</b> updates each count value CV of the CMYK colors recorded in the non-volatile storage device <b>220</b>, and terminates the printing process.</p><p id="p-0098" num="0097">According to the present embodiment described above, the error diffusion process is performed as the halftone process (S<b>240</b> in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>). The error diffusion process is performed such that if the count value CV indicates that the height of the liquid surface IS is the first height (concretely, the reference height Hth), the error diffusion process is executed using the first parameter (concretely, the adjusted relative density value Ds), while if the count value CV indicates that the height of the liquid surface IS is a second height different from the first height (concretely, a height higher than the reference height Hth), the error diffusion process is performed using a second parameter different from the first parameter (concretely, the normal relative density value Dn) (S<b>225</b>-S<b>235</b> in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>). As a result, the halftone process is executed using different parameters depending on the height of the liquid surface IS of the ink Ik, therefore the density of the image indicated by the print data can be adjusted appropriately according to the height of the liquid surface IS of the ink Ik.</p><p id="p-0099" num="0098">Concretely, as in the first embodiment, if the height of the liquid surface IS is higher than the first height (concretely, the height less or equal to the reference height Hth), in comparison with a case where the height of the liquid surface IS is higher than the second height (concretely, the height higher than the reference height Hth), the density on the data of the image represented by the print data can be increased. In addition, since the halftone process is performed for each color of the CMYK inks Ik used for printing, it is easy to selectively compensate for the color of ink Ik for which the height of the liquid surface IS is less than or equal to the reference height Hth.</p><p id="p-0100" num="0099">Further, according to the present embodiment, unlike the first embodiment, during a period when the print engine <b>100</b> executes printing, the CPU <b>210</b> controls the valve <b>1531</b> to be in the communicating state (S<b>250</b> in <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>). As a result, the in-container atmospheric pressure is maintained at the atmospheric pressure during printing. As a result, regarding the fluctuations in the pressure applied to the meniscus, only the water head pressure caused by the water head difference &#x394;H is to be considered, which makes it easy to adjust the printing data.</p><heading id="h-0006" level="1">THIRD EMBODIMENT</heading><p id="p-0101" num="0100"><figref idref="DRAWINGS">FIG. <b>7</b></figref> shows a flowchart illustrating a printing process according to a third embodiment. In the third embodiment, instead of the printing process shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, a printing process shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref> is executed. The other configurations of the third embodiment are the same as those of the first embodiment. In the flowchart shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, processes identical to those in the flowchart in <figref idref="DRAWINGS">FIG. <b>3</b></figref> are assigned with the same references as in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, and processes different from those in the flowchart shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref> are indicated by a letter &#x201c;C&#x201d; is appended at the end of the step numbers.</p><p id="p-0102" num="0101">The processes S<b>100</b>-S<b>110</b> in <figref idref="DRAWINGS">FIG. <b>7</b></figref> are the same as those in S<b>100</b>-S<b>110</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. In S<b>120</b>C after S<b>110</b> in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the CPU <b>210</b> determines whether there exist one or more color inks Ik of which count value CV is equal to or greater than the threshold value TH.</p><p id="p-0103" num="0102">If there is no ink Ik of which the count value CV is greater than or equal to the threshold value TH (S<b>120</b>C: NO), then, in S<b>130</b>C of <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the CPU <b>210</b> selects the normal color conversion profile. The normal color conversion profile is the same as the color conversion profile used in the color conversion process according to the first embodiment (S<b>115</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>). In other words, when the height of the liquid surface IS of all the containers <b>151</b> is higher than the reference height Hth, the normal color conversion profile (also referred to as a normal profile) is selected.</p><p id="p-0104" num="0103">When there are one or more inks Ik of which count value CV is greater than or equal to the threshold TH (S<b>120</b>C: YES), the CPU <b>210</b> selects a color conversion profile (which is also referred to as an adjusting profile) in S<b>125</b>C of <figref idref="DRAWINGS">FIG. <b>7</b></figref>. The adjusting profile is a look-up table having a similar data structure as the normal profile. The adjusting profile converts at least part of the RGB values to CMYK values, which represent a higher density of color than when the normal profile is used. In other words, when the height of the liquid surface IS of at least one ink container <b>151</b> is less than or equal to the reference height Hth, the adjusting profile is selected.</p><p id="p-0105" num="0104"><figref idref="DRAWINGS">FIG. <b>8</b></figref> illustrates selection of the color conversion profiles. As shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, there is only one normal profile, but fifteen adjusting profiles are available. The sixteen color conversion profiles are created in advance and stored in the non-volatile storage device <b>220</b> together with the computer program PG.</p><p id="p-0106" num="0105">Assuming that each of the CMYK inks Ik is either in the &#x201c;high&#x201d; or &#x201c;low&#x201d; state, all combinations of the states of the CMYK inks Ik (i.e., 16 combinations) are shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>. The C ink is &#x201c;high&#x201d; means that the height of the liquid surface IS of the C ink is higher than the reference height Hth, while the C ink is &#x201c;low&#x201d; means that the height of the liquid surface IS of the C ink is less than the reference height Hth. Each of the 16 color conversion profiles is associated with one of the 16 combinations.</p><p id="p-0107" num="0106">In S<b>125</b>C of <figref idref="DRAWINGS">FIG. <b>7</b></figref>, one profile is selected from among 15 adjusting profiles, depending on whether each of the four inks Ik is in the &#x201c;high&#x201d; or &#x201c;low&#x201d; state. For example, when the C ink is &#x201c;low&#x201d; and the MYK inks Ik are &#x201c;high,&#x201d; the adjusting profile <b>1</b> is selected. With the adjusting profile <b>1</b>, the RGB values indicating colors to be printed using the C ink among all the RGB values are converted to the CMYK values indicating colors with higher density than when the normal color conversion profile is used.</p><p id="p-0108" num="0107">Further, by using the adjusting profile <b>1</b>, all the RGB values, which indicate the colors to be printed without using C ink, are converted to the CMYK values, which indicate the same colors as when the normal color conversion profile is used. When the two inks of MY are in the &#x201c;low&#x201d; state and the two inks of CK are in the &#x201c;high&#x201d; state, the adjusting profile <b>8</b> is selected. According to the adjusting profile <b>8</b>, among all the RGB values, at least the RGB values indicating color to be printed using al least one of the MY inks are converted to the CMYK values which indicate colors with higher density than when the normal color conversion profile is used.</p><p id="p-0109" num="0108">On the other hand, according to the adjusting profile <b>8</b>, among all the RGB values, at least the RGB values indicating color to be printed without using the M ink or the Y inks are converted to the CMYK values which indicate the same colors as when the normal color conversion profile is used.</p><p id="p-0110" num="0109">In S<b>135</b>C of <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the CPU <b>210</b> performs the color conversion process using the color conversion profile selected in S<b>125</b>C or S<b>130</b>C. Then, the RGB image data is converted to the CMYK image data.</p><p id="p-0111" num="0110">The processes of S<b>140</b>-S<b>160</b> in <figref idref="DRAWINGS">FIG. <b>7</b></figref> are the same as processes in <figref idref="DRAWINGS">FIG. S<b>140</b></figref>-S<b>160</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0112" num="0111">According to the present embodiment, when the count value CV indicates that the height of the liquid surface IS is the first height (concretely, the reference height Hth or less), the color conversion process is performed using the first color conversion profile (specifically, the adjusting profile), while, when the count value CV indicates that the height of the liquid surface IS is the second height (concretely, higher than the reference height Hth), the color conversion process is performed using the second color conversion profile (specifically, the normal profile) which is different from the first color conversion profile (S<b>120</b>C-S<b>130</b>C of <figref idref="DRAWINGS">FIG. <b>7</b></figref>). As a result, the color conversion process is executed using different color conversion profiles according to the height of the liquid surface IS of ink Ik, and therefore the density of the image indicated by the print data can be adjusted appropriately according to the height of the liquid surface IS of the ink Ik.</p><p id="p-0113" num="0112">In the above embodiment, one adjusting profile is selected from among a plurality of adjusting profiles prepared for combinations indicating whether or not the height of the liquid surface IS of each ink Ik is less than or equal to the reference height Hth (<figref idref="DRAWINGS">FIG. <b>8</b></figref>). As a result, the color of the ink Ik of which the height of the liquid surface IS is less than or equal to the reference height Hth can be selectively compensated.</p><heading id="h-0007" level="1">FOURTH EMBODIMENT</heading><p id="p-0114" num="0113"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart illustrating a printing process according to a fourth embodiment. In the fourth embodiment, the printing process shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref> is executed instead of the printing process shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. The other configurations of the fourth embodiment are identical to those of the first embodiment. In the flowchart shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the same processes as in the flowchart in <figref idref="DRAWINGS">FIG. <b>3</b></figref> are indicated by the same step numbers as in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, while the processes that differ from the processes in the flowchart in <figref idref="DRAWINGS">FIG. <b>3</b></figref> are indicated by appending a letter &#x201c;D&#x201d; at the end of the step numbers.</p><p id="p-0115" num="0114">The processes of S<b>100</b>-S<b>110</b> of <figref idref="DRAWINGS">FIG. <b>9</b></figref> and the processes of <figref idref="DRAWINGS">FIG. S<b>100</b></figref>-S<b>110</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref> are identical. In S<b>115</b>D after S<b>110</b> of <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the CPU <b>210</b> determines whether or not there are inks Ik of which count value CV is greater than or equal to the threshold TH from among the CMYK inks.</p><p id="p-0116" num="0115">When there is one or more inks Ik of which count value CV is greater than or equal to the threshold TH (S<b>115</b>D: YES), the CPU <b>210</b> selects compensating profile in S<b>120</b>D of <figref idref="DRAWINGS">FIG. <b>9</b></figref>. The compensating profile is a profile defining the correspondence between the RGB values before compensation and the RGB value after the compensation, and is, for example, a look-up table. By using the correction profile, at least some RGB values are converted to RGB values that indicate higher density colors. In other words, when the height of the liquid surface IS of at least one ink container (container) <b>151</b> is less than or equal to the reference height Hth, the compensating profile is selected.</p><p id="p-0117" num="0116">Similar to the adjusting profiles according to the third embodiment, assuming that each of the CMYK inks Ik is either in the &#x201c;high&#x201d; or &#x201c;low&#x201d; state, fifteen compensating profiles respectively corresponding to fifteen combinations of the states of the CMYK inks Ik are prepared in advance and are stored in the non-volatile storage device <b>220</b> together with the computer program PG.</p><p id="p-0118" num="0117">In S<b>120</b>D of <figref idref="DRAWINGS">FIG. <b>9</b></figref>, one profile is selected from among the 15 compensating profiles, depending on whether each of the four inks Ik is in the &#x201c;high&#x201d; or &#x201c;low&#x201d; state. For example, when the C ink is &#x201c;low&#x201d; and the MYK inks Ik are &#x201c;high&#x201d;, a profile with which the RGB values indicating colors to be printed using the C ink are converted to the CMYK values indicating colors with higher density than when the normal color conversion profile is used is selected.</p><p id="p-0119" num="0118">When the MY inks are in the &#x201c;low&#x201d; state and the CK inks are in the &#x201c;high&#x201d; state, a compensating profile with which at least the RGB values, among all the RGB values, indicating color to be printed using al least one of the MY inks are converted to the CMYK values which indicate colors with higher density than when the normal color conversion profile is used is selected.</p><p id="p-0120" num="0119">In S<b>130</b>D of <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the CPU <b>210</b> uses the compensating profile selected <b>120</b>D to compensate the RGB values of each pixel in the RGB image data.</p><p id="p-0121" num="0120">When there is not a single ink Ik with the count value CV greater than or equal to the threshold value TH (S<b>115</b>D: NO), S<b>1</b>, <b>20</b>D and S<b>130</b>D of <figref idref="DRAWINGS">FIG. <b>9</b></figref> are skipped. In other words, when the height of the liquid surface IS of all inks Ik can be determined to be higher than the reference height Hth, no compensation is performed on the RGB image data.</p><p id="p-0122" num="0121">In S<b>135</b>D of <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the CPU <b>210</b> performs the color conversion process on the RGB image data as in S<b>115</b> of <figref idref="DRAWINGS">FIG. <b>3</b></figref>. In this way, the RGB image data is converted to the CMYK image data.</p><p id="p-0123" num="0122">The process in S<b>140</b>-S<b>160</b> of <figref idref="DRAWINGS">FIG. <b>9</b></figref> and the process in S<b>140</b>-S<b>160</b> of <figref idref="DRAWINGS">FIG. <b>3</b></figref> are identical.</p><p id="p-0124" num="0123">According to the present embodiment described above, the adjustment process according to the height of the liquid surface IS is a process of compensating the color values (i.e., RGB values) of the RGB color system using the count values CV (S<b>115</b>D-S<b>130</b>D of <figref idref="DRAWINGS">FIG. <b>9</b></figref>) before executing the color conversion process (S<b>135</b>D of <figref idref="DRAWINGS">FIG. <b>9</b></figref>). As a result of the above process, the color values of the RGB color system are compensated using the count values CV, and therefore, the density of the image represented by the image data can be appropriately adjusted in accordance with the height of the ink surface IS.</p><p id="p-0125" num="0124">In the above embodiment, similar to the third embodiment, one compensating profile is selected from among a plurality of compensating profiles prepared for combinations indicating whether or not the height of the liquid surface IS of each ink Ik is less than or equal to the reference height Hth (<figref idref="DRAWINGS">FIG. <b>8</b></figref>). As a result, the color of the ink Ik of which the height of the liquid surface IS is less than or equal to the reference height Hth can be selectively compensated.</p><p id="p-0126" num="0125">While the invention has been described in conjunction with various example structures outlined above and illustrated in the figures, various alternatives, modifications, variations, improvements, and/or substantial equivalents, whether known or that may be presently unforeseen, may become apparent to those having at least ordinary skill in the art. Accordingly, the example embodiments of the disclosure, as set forth above, are intended to be illustrative of the invention, and not limiting the invention. Various changes may be made without departing from the spirit and scope of the disclosure. Therefore, the disclosure is intended to embrace all known or later developed alternatives, modifications, variations, improvements, and/or substantial equivalents. Some specific examples of potential alternatives, modifications, or variations in the described invention are provided below.</p><p id="p-0127" num="0126"><figref idref="DRAWINGS">FIG. <b>10</b></figref> shows a configuration of an ink container according to a modification. In the above-described embodiments, the ink container <b>151</b> are mounted on the carriage <b>133</b>. However, the configuration according to the present disclosures is not necessarily limited to such a configuration. An ink container <b>151</b>A in <figref idref="DRAWINGS">FIG. <b>10</b></figref> is not mounted on the carriage <b>133</b>, but is installed in a particular position in a housing of the printer <b>200</b>, for example. The ink container (container) <b>151</b>A in <figref idref="DRAWINGS">FIG. <b>10</b></figref> and the print head <b>110</b> are connected via an ink channel <b>152</b>A. The ink in the ink container <b>151</b>A is supplied to the print head <b>110</b> via the ink channel <b>152</b>A.</p><p id="p-0128" num="0127">The ink container <b>151</b>A is formed with, similar to the ink container <b>151</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, an inlet OP<b>1</b>A and a vent OP<b>2</b>A, and a liquid surface sensor <b>154</b>A is also provided. Further, similar to the inlet OP<b>1</b> of the ink container <b>151</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, a detachable lid <b>156</b>A is attached to the inlet OP<b>1</b>A.</p><p id="p-0129" num="0128">On the ink container <b>151</b>A shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, no valve mechanism is provided at a position where the vent OP<b>2</b>A is formed. As in this modification, the valve mechanism for opening/closing the vent OP<b>2</b>A may be omitted. In this case, the inside and the outside of the ink container <b>151</b>A always communicate with each other.</p><p id="p-0130" num="0129">The entire ink container (container) <b>151</b>A in <figref idref="DRAWINGS">FIG. <b>10</b></figref> is located at a position higher than apertures of the nozzles NZ of the print head <b>110</b>. Therefore, the height of the liquid surface IS of the ink container <b>151</b>A is always higher than the apertures of the nozzles NZ.</p><p id="p-0131" num="0130"><figref idref="DRAWINGS">FIG. <b>11</b></figref> shows ink containers according to another modification. In the above-described embodiments, the print engine <b>100</b> is provided with a single ink container <b>151</b>. However, the configuration of the print engine is not necessarily limited to such a configuration. In the modification shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the print engine is provided with two ink containers <b>151</b>B and <b>151</b>C.</p><p id="p-0132" num="0131">The ink container <b>151</b>B is mounted on the carriage <b>133</b>. The ink container <b>151</b>B and the print head <b>110</b> are connected via an ink channel <b>152</b>B. the ink Ik contained in the ink container <b>151</b>B is supplied to the print head <b>110</b> via the ink channel <b>152</b>B.</p><p id="p-0133" num="0132">The ink container <b>151</b>C is not mounted on the carriage <b>133</b>, but disposed to a particular position of the housing of the printer <b>200</b>. The ink container <b>151</b>C and the ink container <b>151</b>B are connected via a ink channel <b>152</b>C. the ink Ik contained in the ink container <b>151</b>C is supplied to the ink container <b>151</b>B via the ink channel <b>152</b>C.</p><p id="p-0134" num="0133">A vent OP<b>2</b>B is formed on the ink container <b>151</b>B, and a vent OP<b>2</b>C is formed on the ink container <b>151</b>C. Accordingly, the in-container atmospheric pressure of the ink container <b>151</b>B and the in-container atmospheric pressure of the ink container <b>151</b>C are both atmospheric pressure. As a result, a liquid surface ISB of the ink Ik in the ink container <b>151</b>B and a liquid surface ISC of the ink Ik in the ink container <b>151</b>C are at the same height.</p><p id="p-0135" num="0134">The ink container <b>151</b>C is formed with an inlet OP<b>1</b>C similar to the ink container <b>151</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, and a liquid surface sensor <b>154</b>C is also provided. Further, similar to the inlet OP<b>1</b> of the ink container <b>151</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, a detachable lid <b>156</b>C is attached to the inlet OP<b>1</b>B.</p><p id="p-0136" num="0135">At portions of the containers <b>151</b>B and <b>151</b>C where the vents OP<b>2</b>B and OP<b>2</b>C are formed, no valve mechanism is provided. Therefore, the inside and outside of each of the containers <b>151</b>A and <b>151</b>C always communicate with each other.</p><p id="p-0137" num="0136">The entire ink container <b>151</b>B and the entire ink container <b>151</b>C are located at higher positions than the apertures of the nozzles NZ of the print head <b>110</b>. Therefore, the heights of the liquid surfaces ISA and ISB of the ink containers <b>151</b>B and <b>151</b>C are always higher than the apertures of the nozzles NZ.</p><p id="p-0138" num="0137">In each of the above embodiments, the ink information is the count value CV of ink consumption, but the ink information is not necessarily limited to the count value CV. The ink information may be, for example, information indicating the amount of ink remaining in the ink container <b>151</b>. The information indicating the remaining amount of the ink can be calculated easily using, for example, the count value CV.</p><p id="p-0139" num="0138">The ink information may be the result of detection using a liquid surface sensor. For example, a liquid surface sensor similar to the liquid surface sensor <b>154</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> may be attached at the reference height Hth. Then, with use of the detection result of the liquid surface sensor, whether or not the liquid surface IS is less than or equal to the reference height Hth.</p><p id="p-0140" num="0139">In each of the above embodiments, a process to increase the density on the data of the image represented by the print data is performed as the adjustment process. The adjustment process is not necessarily limited to this but, for example, an adjustment process to adjust the hue on the image data without changing the density may be executed. For example, when the liquid surface IS of the C ink Ik is less than or equal to the reference height Hth and the liquid surface IS of each of the MYK inks is higher than the reference height Hth, the C dots will be smaller than the MYK dots in the image to be printed, and the hue of the image to be printed may fluctuate. Therefore, a process to adjust the hue of the image represented by the print data may be executed as an adjustment process to cancel out the fluctuation of the hue of the image to be printed.</p><p id="p-0141" num="0140">In each of the above embodiments, the adjustment of density according to the height of the liquid surface of the ink is made at two levels: when the liquid surface IS is below the reference height Hth (with adjustment), and when the liquid surface IS is higher than the reference height Hth (no adjustment). The above configuration may be modified such that multiple (e.g., three or more steps of) adjustments may be made.</p><p id="p-0142" num="0141">For example, when the liquid surface IS is higher than a reference height Hth<b>1</b>, an adjustment to lower the density is performed, when the liquid surface IS is less than or equal to the reference height Hth<b>1</b> and greater than or equal to a reference height Hth<b>2</b>, no density adjustment is performed, and when the liquid level IS is less than or equal to the reference height Hth<b>2</b>, an adjustment to increase the density may be executed.</p><p id="p-0143" num="0142">In each of the above embodiments, the obtaining of the count value CV is performed only once per one print process, i.e., per one print job, to determine whether the density should be adjusted or not. Such a configuration can be modified such that, for example, the count value CV may be obtained every time printing is performed for n pages (n is an integer greater than or equal to 1), or It may be obtained at every execution of n partial prints (passes). Then, whether or not the density adjustment is to be performed is determined every time when the count value CV is obtained.</p><p id="p-0144" num="0143">In the second embodiment above (<figref idref="DRAWINGS">FIGS. <b>5</b>A, <b>5</b>B</figref> and <figref idref="DRAWINGS">FIG. <b>6</b></figref>), the error diffusion process is executed as the halftone process. The parameter used in the error diffusion process, depending on the height of the liquid surface IS, is the relative density value. Alternatively, a dither process may be performed as the halftone process. In such a case, the parameter used in the error diffusion process, depending on the height of the liquid surface IS, is a threshold value defined in a dither matrix.</p><p id="p-0145" num="0144">For example, when the liquid surface IS is less than or equal to the reference height Hth, a dither matrix with a smaller threshold value is used compared to the case where the liquid level IS is higher than the reference height Hth. Even in such a case, similar to the second embodiment, when the liquid surface IS is less than or equal to the reference height Hth, the density on the data of the image represented by the print data can be made higher compared to the case where the liquid surface IS is higher than the reference height Hth.</p><p id="p-0146" num="0145">In the above embodiments, the print engine <b>100</b> is configured to perform printing using the inks Ik of four colors (i.e., CMYK). The configuration may be modified such that the print engine may perform printing using only K ink Ik, or CMY inks Ik, or more than <b>4</b> colors of inks Ik. In whatever case, it is preferable that, for each ink Ik, whether or not the height of the liquid surface IS is less than or equal to the reference height Hth is determined, and the color density of the ink Ik is adjusted based on the result of the determination.</p><p id="p-0147" num="0146">In each of the above embodiments and modifications, the entirety of the ink Ik contained in the ink container <b>151</b> is located at a position higher than the apertures of the nozzles NZ (<figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, <figref idref="DRAWINGS">FIG. <b>10</b></figref>, <figref idref="DRAWINGS">FIG. <b>11</b></figref>). Alternatively, the entirety or a portion of the ink Ik contained in the ink container may be located at a position lower than the apertures of the nozzles NZ. It should be noted that when the liquid surface is lower than the nozzles NZ, the ink pressure at the nozzle apertures is negative, while, when the liquid surface is higher than the nozzle apertures, the ink pressure at the nozzle apertures is positive. In other words, the ink output of the ink varies depending on the position of the liquid surface, including when the liquid surface is lower than the nozzles NZ.</p><p id="p-0148" num="0147">However, it is preferable that the ink container should be positioned such that when the maximum amount of the ink Ik is contained in the ink container <b>151</b>, at least the liquid surface IS of the ink Ik is located at a position higher than the apertures of the nozzles NZ. In such a case, it is highly significant to adjust the density according to the height of the liquid surface IS, since the fluctuation of ejection amount of the ink Ik increases due to the effect of the water head difference &#x394;H.</p><p id="p-0149" num="0148">In each of the above embodiments, the ink container (container) <b>151</b> is fixed to the carriage <b>133</b> and the ink is refilled by injecting ink through the inlet OP<b>1</b>. Alternatively, the ink container <b>151</b> may be configured to be removable from the carriage <b>133</b>. In such a case, refilling of the ink Ik is done by replacing the ink container with a new ink container that contains the ink Ik inside.</p><p id="p-0150" num="0149">In the first, third, and fourth embodiments, a control to execute printing with the atmospheric vent closed is employed, while in the second embodiment, a control to execute printing with the atmospheric vent open is employed. However, the configuration is not necessarily limited to the above, and any of the embodiments can adopt both the control to execute printing with the atmospheric vent closed and the control to execute printing with the atmospheric vent open.</p><p id="p-0151" num="0150">The print engine <b>100</b> may include a so-called line printer. For example, the print engine does not have the main scanning mechanism <b>130</b>, and the print head <b>110</b> may have a nozzle group for each color including multiple nozzles lined up in a direction orthogonal to the sheet conveying direction. Such a print head <b>110</b> is also referred to as a line head. The multiple nozzles in each nozzle group are aligned over a length roughly equal to the width of the sheet. Line printers execute printing without a main scanning.</p><p id="p-0152" num="0151">The printing process in each embodiment may be executed by a CPU of a terminal device connected to the printer (e.g., by a CPU of the user's smartphone or personal computer) instead of the CPU <b>210</b> of the printer <b>200</b>. In such a case, the CPU of the terminal device functions as a printer driver by executing, for example, a computer program provided by the manufacturer of the printer. The CPU of the terminal device then executes the printing process for each embodiment as the printer driver. In such a case, the CPU of the terminal device obtains the ink information, such as the count value CV, from the printer by inquiring with the printer.</p><p id="p-0153" num="0152">The device that performs the printing process in each embodiment may be, for example, a server that obtains image data from a printer or a terminal device and generates print data using the image data. Such servers may be multiple computers that can communicate with each other via a network (i.e., so-called cloud servers).</p><p id="p-0154" num="0153">In each of the above embodiments, a part of the configuration realized by hardware may be replaced with software, or conversely, a part or all of the configuration realized by software may be replaced with hardware. For example, when the printing process in <figref idref="DRAWINGS">FIG. <b>3</b></figref> is executed on the printer <b>200</b>, the halftone or color conversion process may be performed by a dedicated hardware circuit (e.g., an ASIC) that operates according to the instructions of the CPU <b>210</b> of the printer <b>200</b>.</p><p id="p-0155" num="0154">The above description of the embodiments and modifications is intended to facilitate understanding of aspects of the present disclosures, and is not intended to limit the same. Aspects of the present disclosures may be modified and/or improved without departing from the intent and scope of the claims, and the invention set forth in claims includes equivalents thereof.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A printing device, comprising:<claim-text>a print head having a plurality of nozzles configured to eject ink droplets therefrom;</claim-text><claim-text>a supplier configured to supply ink contained in a container to the print head; and</claim-text><claim-text>a controller,</claim-text><claim-text>wherein the controller is configured to perform:</claim-text><claim-text>obtaining ink information having correlation with a height of a liquid surface of the ink contained in the container;</claim-text><claim-text>obtaining subject image data representing an image to be printed;</claim-text><claim-text>generating print data based on the subject image data; and</claim-text><claim-text>causing the print head to eject ink droplets based on the print data,</claim-text><claim-text>the generating including adjusting the print data in accordance with the ink information.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The printing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the subject image data is image data indicating a color of each pixel by a color value according to a fist color system;</claim-text><claim-text>the adjusting includes converting the color value according to the firs color system to a color value according to a second color system including multiple components corresponding to multiple inks used for printing; and</claim-text><claim-text>the converting includes converting using:<claim-text>a first color conversion profile when the ink information indicates that a height of the ink is a first height; and</claim-text><claim-text>a second color conversion profile different from the first profile when the ink information indicates that a height of the ink is a second height different from the first height.</claim-text></claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The printing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the subject image data is image data indicating a color of each pixel in accordance with a first color system;</claim-text><claim-text>the generating includes converting a color value in accordance with the first color system to a color value according to a second color system including multiple components corresponding to multiple inks used for printing; and</claim-text><claim-text>the adjusting includes compensating the color value in accordance with the first color system based on the ink information before the converting the color.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The printing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the subject image data is image data indicating a color of each pixel in accordance with a first color system;</claim-text><claim-text>the generating includes converting a color value in accordance with the first color system to a color value according to a second color system including multiple components corresponding to multiple inks used for printing; and</claim-text><claim-text>the adjusting compensates the color value according to the second color system based on the ink information before the converting.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The printing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the subject image data is image data indicating a color for each pixel by the color value according to the second color system that includes multiple components corresponding to multiple inks used for printing by the print engine;</claim-text><claim-text>the adjusting includes a halftone process of converting the subject image data to dot data indicating a dot formation status of each pixel;</claim-text><claim-text>the halftone process is executed using:<claim-text>a first parameter when the ink information indicates that a height of the ink is a first height; and</claim-text><claim-text>a second parameter different from the first profile when the ink information indicates that a height of the ink is a second height different from the first height.</claim-text></claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The printing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the supplier is configured to supply first color ink contained in a first container and a second color ink contained in a second container to the print head;</claim-text><claim-text>the print head having first nozzles configured to eject the first color ink and second nozzles configured to eject the second color ink;</claim-text><claim-text>the ink information includes first information having correlation with a height of a liquid surface of the first ink contained in the first container and second information having correlation with a height of a liquid surface of the second ink contained in the second container; and</claim-text><claim-text>the adjusting includes:</claim-text><claim-text>first adjusting data regarding the first color of the print data in accordance with the height of the liquid surface of the first color ink based on the first information; and</claim-text><claim-text>second adjusting data regarding the second color of the print data in accordance with the height of the liquid surface of the second color ink based on the second information.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The printing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the container has a communication opening communicating between an inside and an outside of the container.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The printing device according to <claim-ref idref="CLM-00007">claim 7</claim-ref>,<claim-text>further comprising a valve configured to open and close the communication opening to switch between a communicating state in which the inside and the outside of the container communicate and a non-communicating state in which the inside and the outside of the container do not communicate.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The printing device according to <claim-ref idref="CLM-00008">claim 8</claim-ref>,<claim-text>wherein the controller is configured to control the valve to be in the non-communicating state during a period in which printing is being executed.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The printing device according to <claim-ref idref="CLM-00008">claim 8</claim-ref>,<claim-text>wherein the controller is configured to control the valve to be in the communicating state during a period in which printing is being executed.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The printing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>wherein the adjusting is increasing density of an image represented by the print data when the ink information indicates that the height of the liquid surface is the first height, in comparison with a case where the ink information indicates that the height of the liquid surface is a second height which is higher than the first height.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The printing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>wherein the container is arranged at a position where a heigh of a liquid surface of the ink is higher than apertures of the nozzles in a state where a maximum amount of the ink is contained in the container.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The printing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>wherein the ink information includes a count value indicating an amount of ink used for printing.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. A non-transitory computer-readable recording medium for a printing device having a print head having a plurality of nozzles configured to eject ink droplets therefrom, a supplier configured to supply ink contained in a container to the print head, and a controller,<claim-text>wherein the non-transitory computer-readable recording medium contains computer-executable instructions which cause, when executed by the controller, the printing device to perform:</claim-text><claim-text>obtaining ink information having correlation with a height of a liquid surface of the ink contained in the container;</claim-text><claim-text>obtaining subject image data representing an image to be printed;</claim-text><claim-text>generating print data based on the subject image data; and</claim-text><claim-text>causing the print head to eject ink droplets based on the print data,</claim-text><claim-text>wherein the generating includes adjusting the print data in accordance with the ink information.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A printing device, comprising:<claim-text>a print head having a plurality of nozzles configured to eject ink droplets therefrom;</claim-text><claim-text>a supplier configured to supply ink contained in a container to the print head; and</claim-text><claim-text>a controller,</claim-text><claim-text>wherein the controller is configured to perform:</claim-text><claim-text>obtaining ink information having a correlation with a height of a liquid surface of the ink contained in the container;</claim-text><claim-text>obtaining subject image data representing an image to be printed;</claim-text><claim-text>generating print data based on the subject image data; and</claim-text><claim-text>causing the print head to eject ink droplets based on the print data,</claim-text><claim-text>wherein the generating includes adjusting the print data, based on the ink information, such that the lower the height of the liquid surface of the ink is, the more an ejection amount of the ink is.</claim-text></claim-text></claim></claims></us-patent-application>