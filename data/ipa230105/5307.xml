<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230005308A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230005308</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17781614</doc-number><date>20201007</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2019-220334</doc-number><date>20191205</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>07</class><subclass>C</subclass><main-group>5</main-group><subgroup>08</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>07</class><subclass>C</subclass><main-group>5</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>07</class><subclass>C</subclass><main-group>5</main-group><subgroup>0825</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>07</class><subclass>C</subclass><main-group>5</main-group><subgroup>008</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">FAULT SIGN DETECTION DEVICE, FAULT SIGN DETECTION SYSTEM, FAULT SIGN METHOD, AND FAULT SIGN DETECTION PROGRAM</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>NEC Corporation</orgname><address><city>Minato-ku, Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>SAKATA</last-name><first-name>Masayuki</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>NEC Corporation</orgname><role>03</role><address><city>Minato-ku, Tokyo</city><country>JP</country></address></addressbook></assignee></assignees><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/JP2020/037953</doc-number><date>20201007</date></document-id><us-371c12-date><date>20220601</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">An input unit <b>81</b> receives input of a normal pattern file including information indicating a normal condition of a vehicle, and a fault pattern file including information indicating a sign that a vehicle fault is about to occur. A collection unit <b>82</b> collects observation data observed by each device in the target vehicle. A comparison unit <b>83</b> compares the content of the normal pattern file with the content of the observation data. when the difference between the content of the normal pattern file and the content of the observation data is greater than a predetermined first threshold value, the comparison unit <b>83</b> further compares the content of the fault pattern file and the observation data, and when the difference between the content of the fault pattern file and the observation data is within a predetermined second threshold value, determines that there is the sign of the fault in the target vehicle.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="180.26mm" wi="143.26mm" file="US20230005308A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="87.46mm" wi="112.69mm" file="US20230005308A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="78.91mm" wi="100.84mm" file="US20230005308A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="197.53mm" wi="145.29mm" file="US20230005308A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="176.78mm" wi="123.36mm" file="US20230005308A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="77.55mm" wi="81.20mm" file="US20230005308A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="163.32mm" wi="116.42mm" file="US20230005308A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><p id="p-0002" num="0001">Technical Field</p><p id="p-0003" num="0002">The present invention relates to a fault sign detection device, a fault sign detection system, a fault sign detection method and a fault sign detection program for detecting a sign of a fault occurring in a vehicle.</p><p id="p-0004" num="0003">Background Art</p><p id="p-0005" num="0004">Currently, general vehicles are equipped with a system to grasp the content of faults that have occurred. Specifically, when a fault occurs in a vehicle, a DTC (Diagnostic Trouble Code) is output, and by reading the output DTC, it is possible to investigate the factors (fault location and fault content) that caused the fault of the vehicle.</p><p id="p-0006" num="0005">On the other hand, it is preferable to detect a sign of fault in advance and repair it before the vehicle breaks down, instead of responding after the vehicle breaks down. In this regard, for example, Patent literature 1 describes a vehicle fault diagnosis device that predicts when a vehicle will break down. The device described in the patent literature 1 maintains a fault pattern that represents the process until vehicle control system faults in time series, and predicts the fault timing of the vehicle control system by comparing the fault pattern with the history of learning values actually used in the vehicle control system of the vehicle in the past.</p><p id="p-0007" num="0006">Patent literature 2 also describes a device for estimating a fault condition of a tire using a pressure fluctuation spectrum. The device described in the patent literature 2 detects the pressure fluctuation level of the pressure fluctuation spectrum according to the tire condition and estimates that there is some abnormality in the tire by comparing it with the pressure fluctuation level of a normal tire.</p><p id="p-0008" num="0007">Non-patent literature 1 describes a method for extracting features from time series data.</p><p id="p-0009" num="0008">Citation List Patent Literature</p><p id="p-0010" num="0009">PTL 1: Japanese Patent Laid-Open No. 2006-53016</p><p id="p-0011" num="0010">PTL 2: Japanese Patent Laid-Open No. 2003-182475</p><p id="p-0012" num="0011">Non-patent Literature</p><p id="p-0013" num="0012">NPL 1: Dongjin Song, Ning Xia, Wei Cheng, Haifeng Chen, Dacheng Tao, &#x201c;Deep r-th Root Rank Supervised Joint Binary Embedding for Multivariate Time Series Retrieval&#x201d;, KDD '18 Proceedings of the 24th ACM SIGKDD International Conference on Knowledge Discovery &#x26; Data Mining, pp. 2229-2238, August, 2018.Summary of Invention</p><p id="p-0014" num="0013">Summary of Invention</p><p id="p-0015" num="0014">Technical Problem</p><p id="p-0016" num="0015">Noise and odor in a vehicle that can be sensed by humans can be considered a sign of a fault. Therefore, it is possible to detect signs of some kind of fault by installing sensors in vehicles that can detect such unusual noises and odors. However, not all vehicles are necessarily equipped with sensors to detect such events in general, and it is not realistic to install all the sensors that are assumed to detect faults in a vehicle. Therefore, it is preferable to be able to detect a sign of a fault of a vehicle without installing special sensors.</p><p id="p-0017" num="0016">The vehicle fault diagnostic device described in the patent literature 1 generates a fault pattern based on the relationship with the elapsed years and predicts faults based on the fault pattern. However, even if the device described in the patent literature 1 can predict faults due to age-related deterioration, etc., it cannot detect the signs of faults that may occur in daily life.</p><p id="p-0018" num="0017">The device described in the patent literature 2 estimates whether the tire is faulty or not by comparing the pressure fluctuation level of a normal tire with the pressure fluctuation level detected during driving to. However, a pressure fluctuation level that deviates from the normal condition is not necessarily an indication of a fault. For example, as described in the patent literature 2, since many patterns can be assumed as road surface conditions, the detected pressure fluctuation level may be greatly affected by the road surface conditions. In such cases, even if the condition is not a fault, detection of a level that deviates even slightly from the normal condition may result in frequent false detections.</p><p id="p-0019" num="0018">Therefore, it is an exemplary object of the present invention is to provide a fault sign detection device, a fault sign detection system, a fault sign detection method and a fault sign detection program that can improve the accuracy of detecting a sign of a vehicle fault.</p><p id="p-0020" num="0019">Solution to Problem</p><p id="p-0021" num="0020">The fault sign detection device according to the exemplary aspect of the present invention is a fault sign detection device for detecting a sign of a fault of a target vehicle, includes an input unit for receiving input of a normal pattern file including information indicating a normal condition of a vehicle, and a fault pattern file including information indicating a sign that a vehicle fault is about to occur, a collection unit for collecting observation data observed by each device in the target vehicle, and a comparison unit for comparing the content of the normal pattern file with the content of the observation data, wherein when the difference between the content of the normal pattern file and the content of the observation data is greater than a predetermined first threshold value, the comparison unit further compares the content of the fault pattern file and the observation data, and when the difference between the content of the fault pattern file and the observation data is within a predetermined second threshold value, determines that there is the sign of the fault in the target vehicle.</p><p id="p-0022" num="0021">The fault sign detection system according to the exemplary aspect of the present invention includes the above-mentioned fault sign detection device, and a server which generates a normal pattern file and a fault pattern file, wherein the server includes an observation data input unit for receiving input of observation data, a generation unit for extracting time series features of the observation data and generating the normal pattern file and the fault pattern file based on the extracted feature, and a transmitting unit for transmitting the generated normal pattern file and fault pattern file to the fault sign detection device.</p><p id="p-0023" num="0022">The fault sign detection method according to the exemplary aspect of the present invention is a fault sign detection method for detecting a sign of a fault of a target vehicle, includes receiving input of a normal pattern file including information indicating a normal condition of a vehicle, and a fault pattern file including information indicating a sign that a vehicle fault is about to occur, collecting observation data observed by each device in the target vehicle, comparing the content of the normal pattern file with the content of the observation data, when the difference between the content of the normal pattern file and the content of the observation data is greater than a predetermined first threshold value, comparing the content of the fault pattern file and the observation data, and when the difference between the content of the fault pattern file and the observation data is within a predetermined second threshold value, determining that there is the sign of the fault in the target vehicle.</p><p id="p-0024" num="0023">The fault sign detection program according to the exemplary aspect of the present invention is a fault sign detection program is installed in a computer for detecting a sign of a fault of a target vehicle, causes the computer to execute, an input process of receiving input of a normal pattern file including information indicating a normal condition of a vehicle, and a fault pattern file including information indicating a sign that a vehicle fault is about to occur, a collection process of collecting observation data observed by each device in the target vehicle, and a comparison process of comparing the content of the normal pattern file with the content of the observation data, wherein when the difference between the content of the normal pattern file and the content of the observation data is greater than a predetermined first threshold value, further comparing the content of the fault pattern file and the observation data, and when the difference between the content of the fault pattern file and the observation data is within a predetermined second threshold value, determining that there is the sign of the fault in the target vehicle, in the comparison process.</p><p id="p-0025" num="0024">Advantageous Effects of Invention</p><p id="p-0026" num="0025">According to the exemplary aspect of the present invention, it is possible to improve the accuracy of detecting a sign of a vehicle fault.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0001" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>1</b></figref> It depicts a block diagram showing a configuration example of an exemplary embodiment of a fault sign detection device according to the exemplary aspect of the present invention.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>2</b></figref> It depicts an explanatory diagram showing an example of a process for detecting a sign of a fault.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>3</b></figref> It depicts a flowchart showing an operation example of a fault sign detection device.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>4</b></figref> It depicts a block diagram showing a configuration example of an exemplary embodiment of a fault sign detection system according to the exemplary aspect of the present invention.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>5</b></figref> It depicts a block diagram showing an overview of a fault sign detection device according to the exemplary aspect of the present invention.</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>6</b></figref> It depicts a block diagram showing an overview of a fault sign detection system according to the exemplary aspect of the present invention.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0002" level="1">DESCRIPTION OF EMBODIMENTS</heading><p id="p-0033" num="0032">Hereinafter, exemplary embodiments of the present invention are described with reference to the drawings.</p><p id="p-0034" num="0033">Exemplary embodiment 1.</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram showing a configuration example of an exemplary embodiment of a fault sign detection device according to the exemplary aspect of the present invention. The fault sign detection device <b>100</b> of this exemplary embodiment is a device for detecting a sign of a fault of a target vehicle, and is installed in the target vehicle. The fault sign detection device <b>100</b> comprises a storage unit <b>10</b>, an input unit <b>20</b>, a collection unit <b>30</b>, a comparison unit <b>40</b>, and an output unit <b>50</b>.</p><p id="p-0036" num="0035">The storage unit <b>10</b> stores various information necessary for the fault sign detection device <b>100</b> to perform a process. The storage unit <b>10</b> may also store a pattern file received by the input unit <b>20</b> described below. The content of the pattern file will be described later. The storage unit <b>10</b> is realized by a magnetic disk or the like, for example.</p><p id="p-0037" num="0036">The input unit <b>20</b> receives input of the pattern file for comparison by the comparison unit <b>40</b>, described below, with data collected by the collection unit <b>30</b>. The input unit <b>20</b> may, for example, receive the input of the pattern file manually, or may receive the input of the pattern file transmitted from another device (not shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>). The input unit <b>20</b> stores the received pattern file in the storage unit <b>10</b>.</p><p id="p-0038" num="0037">The collection unit <b>30</b> collects observation data observed by each device in the target vehicle for detecting a sign of a fault in time series. Examples of devices include an engine, a water temperature sensor, and a battery. In general, CAN (Controller Area Network) is often used as a communication protocol for electronic control units (ECUs) in in-vehicle networks. Therefore, the collection unit <b>30</b> may collect communication data specified by a CAN protocol as observation data. In addition, the collection unit <b>30</b> may also collect data obtained by OBD (On-board diagnostics) as observation data. Data obtained by OBD may include an engine RPM and speed, a battery status, and a water temperature, etc.</p><p id="p-0039" num="0038">The form of the observation data to be collected is arbitrary, and the form of each data should be predetermined according to the information necessary for the comparison unit <b>40</b> described later to perform a process.</p><p id="p-0040" num="0039">Here, a pattern file used in this exemplary embodiment will be described. In this exemplary embodiment, two types of pattern files are assumed. The first pattern file is a pattern file including information indicating a normal condition (normal condition) of the vehicle, and is a file indicating a condition in which the vehicle is not determined to indicate a sign of a fault. In the following description, the first pattern file is sometimes referred to as a normal pattern file.</p><p id="p-0041" num="0040">The second pattern file is a pattern file including information indicating a sign that a vehicle fault is about to occur, and is a file indicating a condition in which a vehicle fault is expected to occur. In the following description, the second pattern file is sometimes referred to as a fault pattern file. Both the first pattern file and the second pattern file are files including information in a manner that can be compared with observation data observed in the vehicle.</p><p id="p-0042" num="0041">That is, the normal pattern file holds information on one or more observation data observed at each device when the vehicle is in a normal condition, and the fault pattern file holds information on one or more observation data observed at each device when there are signs that a vehicle fault may occur. The contents of the normal pattern file and the fault pattern file are arbitrary. The normal pattern file may simply be a file that defines a range of observation data values that can be taken when the vehicle is in a normal condition. Similarly, the fault pattern file may simply be a file that defines a range of observation data values indicating a sign of vehicle fault.</p><p id="p-0043" num="0042">It is preferable to be able to determine the normal condition of the vehicle and the signs of vehicle fault with respect to the features indicated by the observation data, rather than simply comparing them to the values of the observation data. Therefore, features indicating normal condition extracted from time-series observation data may be included in the normal pattern file. The normal pattern file including such features can be referred to as a feature master indicating the normal condition. Similarly, features indicating a sign of a fault extracted from time-series observation data may be included in the fault pattern file. A fault pattern file including such features can be referred to as a feature master indicating a sign of a fault.</p><p id="p-0044" num="0043">Hereinafter, a specific method for generating a feature master indicating a normal condition will be described. In the case of a vehicle, it is difficult to determine whether the vehicle is in a normal condition in general, and it is easily affected by the driving scene, such as the driving location, and the driving environment, such as the weather, making it difficult to obtained data that can be called normal.</p><p id="p-0045" num="0044">Therefore, it is particularly preferable to use the observation data of a vehicle operating at a predetermined speed to generate the feature master, in consideration of the environmental conditions in which the observation data is to be obtained. As an example, observation data for a vehicle that is idling (i.e., driven at speed =0) may be used. This is because, if the vehicle is idling, the environmental changes of the vehicle due to driving are considered to be minimal, and thus the steady state of the vehicle during idling can be considered a normal condition.</p><p id="p-0046" num="0045">As another form, it is preferable to use the observation data of the vehicle driving at speeds higher than a predetermined speed (for example, 80 km/h) on a highway to generate a feature master. When driving on a highway, the vehicle's environment changes to a small degree, but these changes are smaller than when driving on a regular road. Therefore, the condition indicated by the observation data obtained when driving on the highway can be considered a normal condition. The time series features of the observation data described above may be extracted as features indicating the normal condition, and a feature master indicating the normal condition of the vehicle may be generated based on the extracted features.</p><p id="p-0047" num="0046">For example, when observation data of a vehicle operating at a speed of 0 is used, the time series features of the observation data may be extracted as features indicating the normal condition of the vehicle while idling. For example, when observation data of the vehicle driving at speeds higher than a predetermined speed on a highway is used, the time series features of the observation data may be extracted as features indicating the normal condition of the vehicle operating at the speed or higher.</p><p id="p-0048" num="0047">The content of the feature master indicating the normal condition is arbitrary. Considering that the feature master is used for comparison with the observation data obtained by the vehicle, it is preferable to be able to extract features of the observation data in a compact form. Therefore, a partial time-series observation data may be generated by dividing the time- series observation data into multiple segments, and the features common to each segment may be extracted and a feature master including such features may be generated.</p><p id="p-0049" num="0048">Next, a specific method of generating a feature master indicating a sign of a fault is described. It is preferable that fault data (for example, a DTC (Diagnostic Trouble Code)) obtained from the vehicle when a vehicle fault occurs, and observation data observed by each device in the vehicle in time series up to immediately before the fault occurs are used to generate a feature master indicating a sign of a fault. This is because data up to immediately before the fault occurs is considered to include features indicating the sign of the fault.</p><p id="p-0050" num="0049">Therefore, a feature master may be generated in which the content of the fault indicated by the fault data and the feature extracted from the corresponding observation data are associated with each other. In this case, for example, a feature master may be generated by extracting a part having common features from multiple observation data regarding the same fault content that have been collected.</p><p id="p-0051" num="0050">In generating the above feature master, the so-called model-free analysis described in the non-patent literature <b>1</b> may be performed on the observation data obtained in a time series. Model-free analysis is a technique for matching the similarity between the present and the past for observation data such as sensor values that are obtained in a time series, and is a technique for determining when the present condition is similar to a past condition.</p><p id="p-0052" num="0051">Specifically, the observation data obtained in time series may be used as learning data for deep learning to learn a feature extraction engine for the system, and features may be extracted from the observation data using the learned feature extraction engine.</p><p id="p-0053" num="0052">It is preferable that a feature master be prepared for each type of vehicle (vehicle type). This is because, for example, the signs indicating normal conditions or faults may differ for each vehicle type.</p><p id="p-0054" num="0053">The comparison unit <b>40</b> compares the content of the normal pattern file with the content of the observation data collected by the collection unit <b>30</b> and determines that there is a possibility of a vehicle fault if those contents match. The match here includes not only the case where the contents completely match, but also the case where the difference between the two contents is within a predetermined range (hereinafter, referred to as a first threshold value). The first threshold value is predetermined by the user or others according to the content of the observation data to be compared.</p><p id="p-0055" num="0054">For example, when the normal pattern file includes features indicating the normal condition (i.e., it is a feature master), the comparison unit <b>40</b> may determine the similarity between the features of the observation data included in the feature master and the features of the observation data obtained by the own vehicle, and detect the possibility of the vehicle fault. Specifically, the comparison unit <b>40</b> may compare the observation data obtained under the same environmental conditions as the environmental conditions under which the observation data that was the basis for generating the feature master was obtained with the feature master, and determine that there is a possibility of a vehicle fault when observation data indicating a feature that is not similar to the feature included in the feature master is found.</p><p id="p-0056" num="0055">For example, when a feature master is generated based on the observation data obtained when the speed is 0 as an environmental condition, the comparison unit <b>40</b> compares the feature master with the observation data obtained when the speed is 0.Then, when observation data indicating a feature that is not similar to the feature included in the feature master is found, the comparison unit <b>40</b> may determine that there is a possibility of a vehicle fault. The method by which the comparison unit <b>40</b> extracts a feature from the observation data is the same as the method used to extract features from the observation data when generating the feature master.</p><p id="p-0057" num="0056">If the content of the normal pattern file and the content of the observation data obtained by the own vehicle match, or if the difference between the two contents is within a predetermined threshold value, the comparison unit <b>40</b> may determine that the vehicle is in a normal condition.</p><p id="p-0058" num="0057">When it is determined that there is a possibility of vehicle fault, the comparison unit <b>40</b> further compares the content of the fault pattern file with the content of the observation data collected by the collection unit <b>30</b>, and determines that there is a sign of a vehicle fault if those contents match. The match here also includes not only the case where the contents completely match, but also the case where the difference between the two contents is within a predetermined range (hereinafter, referred to as a second threshold value). The second threshold value is also predetermined by the user or others according to the content of the observation data to be compared.</p><p id="p-0059" num="0058">For example, when the fault pattern file includes features indicating a sign of a fault (i.e., it is a feature master), the comparison unit <b>40</b> may determine the similarity between the features of the observation data included in the feature master and the features of the observation data obtained by the own vehicle, and detect the sign of the vehicle fault. Specifically, the comparison unit <b>40</b> may compare the observation data collected by the collection unit <b>30</b> with the feature master, and determine that there is a sign of a vehicle fault when a feature similar to the features indicated by the observation data is found in the feature master.</p><p id="p-0060" num="0059">Thus, in this exemplary embodiment, if the comparison unit <b>40</b> determines that there is a possibility of a vehicle fault when the content of the normal pattern file and the content of the observation data do not match. Then, the comparison unit <b>40</b> further determines that there is a sign of a vehicle fault when the content of the fault pattern file and the content of the observation data match.</p><p id="p-0061" num="0060">In other words, the comparison unit <b>40</b> determines the possibility of a fault from the observation data using the normal pattern file, and further determines the sign of a fault from the observation data using the fault pattern file. Therefore, it is possible to suppress false detections that may occur frequently only by comparing with the normal pattern file by comparing with the fault pattern file. Thus, it is possible to improve the accuracy of detecting a sign of a vehicle fault.</p><p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is an explanatory diagram showing an example of a process for detecting a sign of a fault. After the collection unit <b>30</b> collects CAN/OBD data as the observation data <b>61</b> of the vehicle, the comparison unit <b>40</b> first compares the content of the normal pattern file <b>62</b> with the content of the observation data <b>61</b>. When the content of the normal pattern file <b>62</b> and the content of the observation data <b>61</b> do not match, the comparison unit <b>40</b> further compares the content of the fault pattern file <b>63</b> with the content of the observation data <b>61</b>. When the content of the fault pattern file <b>63</b> and the content of the observation data <b>61</b> match, the comparison unit <b>40</b> determines that there is a sign of a vehicle fault.</p><p id="p-0063" num="0062">The output unit <b>50</b> outputs the determination result by comparison unit <b>40</b>.</p><p id="p-0064" num="0063">The input unit <b>20</b>, the collection unit <b>30</b>, the comparison unit <b>40</b>, and the output unit <b>50</b> are realized by a processor (for example, CPU (Central Processing Unit), GPU (Graphics Processing Unit)) of a computer that operates according to a program (a fault sign detection program). For example, a program may be stored in the storage unit <b>10</b>, and the processor may read the program and operate as the input unit <b>20</b>, the collection unit <b>30</b>, the comparison unit <b>40</b>, and the output unit <b>50</b> according to the program. In addition, the functions of the fault sign detection device <b>100</b> may be provided in the form of SaaS (Software as a Service).</p><p id="p-0065" num="0064">The input unit <b>20</b>, the collection unit <b>30</b>, the comparison unit <b>40</b>, and the output unit <b>50</b> may each be realized by dedicated hardware. Some or all of the components of each device may be realized by general-purpose or dedicated circuit, a processor, or combinations thereof. These may be configured by a single chip or by multiple chips connected through a bus. Some or all of the components of each device may be realized by a combination of the above- mentioned circuit, etc., and a program.</p><p id="p-0066" num="0065">When some or all of the components of the fault sign detection device <b>100</b> are realized by multiple information processing devices, circuits, etc., the multiple information processing devices, circuits, etc. may be centrally located or distributed. For example, the information processing devices, circuits, etc. may be realized as a client-server system, a cloud computing system, etc., each of which is connected through a communication network.</p><p id="p-0067" num="0066">Next, the operation example of this exemplary embodiment will be described. <figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart showing an operation example of the fault sign detection device <b>100</b> of this exemplary embodiment.</p><p id="p-0068" num="0067">The input unit <b>20</b> receives input of a normal pattern file and a fault pattern file (step S<b>11</b>). The collection unit <b>30</b> collects observation data observed by each device in a target vehicle (step S<b>12</b>). The comparison unit <b>40</b> compares the content of the normal pattern file with the content of the observation data (step S<b>13</b>). If the difference between the content of the normal pattern file and the content of the observation data is less than a threshold value (Yes in step S<b>13</b>), the comparison unit <b>40</b> determines that there are no signs of fault in the target vehicle and then the processing after step S<b>12</b> is repeated.</p><p id="p-0069" num="0068">On the other hand, if the difference between the content of the normal pattern file and the content of the observation data is not less than the threshold value (No in step S<b>13</b>), the comparison unit <b>40</b> further compares the content of the fault pattern file with the content of the observation data (step S<b>14</b>). If the difference between the content of the fault pattern file and the observation data is not less than a threshold value (No in step S<b>14</b>), the comparison unit <b>40</b> determines that there are no signs of fault in the target vehicle and then the processing after step S<b>12</b> is repeated. On the other hand, if the difference between the content of the fault pattern file and the content of the observation data is less than the threshold value (Yes in step S<b>14</b>), the comparison unit <b>40</b> determines that there is a sign of a fault in the target vehicle, and the output unit <b>50</b> outputs the fact that there is a sign of a fault (step S<b>15</b>).</p><p id="p-0070" num="0069">As described above, in this exemplary embodiment, the input unit <b>20</b> receives input of a normal pattern file and a fault pattern file, and the collection unit <b>30</b> collects observation data observed by each device in a target vehicle. Then, the comparison unit <b>40</b> compares the content of the normal pattern file with the content of the observation data, and when the difference between the two is greater than a first threshold value, further compares the content of the fault pattern file with the content of the observation data. when the difference between the two is within the second threshold value, the comparison unit <b>40</b> determines that there is the sign of the fault in the target vehicle. With such a configuration, it is possible to improve the accuracy of detecting a sign of a vehicle fault.</p><p id="p-0071" num="0070">Exemplary embodiment 2. Next, a second exemplary embodiment of the present invention will be described. The second exemplary embodiment describes a method in which a normal pattern file and a fault pattern file generated by a server are transmitted to a fault sign detection device in a target vehicle, and a fault is detected based on the transmitted pattern files.</p><p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a block diagram showing a configuration example of an exemplary embodiment of a fault sign detection system according to the exemplary aspect of the present invention. The fault sign detection system <b>1</b> in this exemplary embodiment comprises a fault sign detection device <b>100</b> and a server <b>200</b>. The fault sign detection device <b>100</b> of this exemplary embodiment is similar to the fault sign detection device <b>100</b> of the first exemplary embodiment, so the description is omitted.</p><p id="p-0073" num="0072">The server <b>200</b> and the fault sign detection device <b>100</b> are interconnected via communication lines. In the example shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the fault sign detection device <b>100</b> is mounted on a target vehicle <b>110</b>. The number of target vehicles <b>110</b> is not limited to one, but may be two or more.</p><p id="p-0074" num="0073">The server <b>200</b> is a device generating the normal pattern file and the fault pattern file (i.e., feature masters) shown in the first exemplary embodiment. The server <b>200</b> comprises a storage unit <b>210</b>, an input unit <b>220</b>, a generation unit <b>230</b>, and an output unit <b>240</b>.</p><p id="p-0075" num="0074">The storage unit <b>210</b> stores various information necessary for the server <b>200</b> to perform a process. The storage unit <b>210</b> may also store observation data received by the input unit <b>220</b>, which is described below. The storage unit <b>210</b> is realized, for example, by a magnetic disk, or the like.</p><p id="p-0076" num="0075">The input unit <b>220</b> receives input of observation data observed in time series by each device in the vehicle. Specifically, the input unit <b>220</b> may receive input of observation data of a vehicle operating at a predetermined speed as the first observation data for generating a normal pattern file. The input unit <b>220</b> may also receive, as the second observation data for generating a fault pattern file, input of the fault data obtained from the vehicle when a fault of the vehicle occurs, and the observation data observed by each device in the vehicle in time series up to immediately before the fault occurs.</p><p id="p-0077" num="0076">The observation data received by the input unit <b>220</b> is not limited to the observation data observed by the target vehicle <b>110</b>, and may be observation data observed by another vehicle (not shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>). Thus, by receiving observation data from multiple vehicles, it is possible to generate a pattern file based on many observation data.</p><p id="p-0078" num="0077">The generation unit <b>230</b> extracts time series features of the observation data and generating the normal pattern file and the fault pattern file based on the extracted feature. Specifically, the generation unit <b>230</b> extracts time series features of the first input observation data as features indicating normal conditions. Then, the generation unit <b>230</b> generates a feature master indicating the normal condition of the vehicle based on the extracted features as a normal pattern file. For example, if the input unit <b>220</b> receives an input of observation data of a vehicle operating at speed 0, the generation unit <b>230</b> may extract time series features of the observation data as features that indicate the normal condition of the vehicle while idling.</p><p id="p-0079" num="0078">In addition, the generation unit <b>230</b> generates a feature master in which the content of the fault indicated by the fault data and the feature extracted from the corresponding observation data are associated with each other, as a fault pattern file.</p><p id="p-0080" num="0079">Considering that the feature master is used for comparison with the observation data obtained by the vehicle, as shown in the first exemplary embodiment, it is preferable to be able to extract features of the observation data in a compact form. Therefore, the generation unit <b>230</b> may generate observation data of a partial time series by dividing the observation data of a time series into multiple segments, extract common features for each segment, and generate a feature master that includes those features.</p><p id="p-0081" num="0080">The output unit <b>240</b> transmits the normal pattern file and the fault pattern file (i.e., feature masters) generated by the generation unit <b>230</b> to the fault sign detection device <b>100</b>.</p><p id="p-0082" num="0081">The input unit <b>220</b>, the generation unit <b>230</b>, and the output unit <b>240</b> are realized by a processor of a computer that operates according to a program (feature master generation program).</p><p id="p-0083" num="0082">As described above, in addition to the configuration of the first exemplary embodiment, in this exemplary embodiment, the input unit <b>220</b> of the server <b>200</b> input of observation data observed in time series by each device in the vehicle. Then, the generation unit <b>230</b> generates, a feature master in which the content of the fault indicated by the fault data and the feature extracted from the corresponding observation data are associated with each other, as a fault pattern file, and generates a feature master that includes features of observation data of a vehicle operating at a predetermined speed as features indicating a normal condition, as a normal pattern file. Therefore, in addition to the effects of the first exemplary embodiment, it is possible to use pattern files generated based on a large number of observation data for fault detection.</p><p id="p-0084" num="0083">Next, an overview of the present invention will be described. <figref idref="DRAWINGS">FIG. <b>5</b></figref> is a block diagram showing an overview of a fault sign detection device according to the exemplary aspect of the present invention. The fault sign detection device <b>80</b> according to the exemplary aspect of the present invention is a fault sign detection device (for example, the fault sign detection device <b>100</b>) for detecting a sign of a fault of a target vehicle, comprises an input unit <b>81</b> (for example, the input unit <b>20</b>) which receives input of a normal pattern file including information indicating a normal condition of a vehicle, and a fault pattern file including information indicating a sign that a vehicle fault is about to occur, a collection unit <b>82</b> (for example, the collection unit <b>30</b>) which collects observation data observed by each device in the target vehicle, and comparison unit <b>83</b> (for example, the comparison unit <b>40</b>) which compares the content of the normal pattern file with the content of the observation data, wherein when the difference between the content of the normal pattern file and the content of the observation data is greater than a predetermined first threshold value, the comparison means further compares the content of the fault pattern file and the observation data, and when the difference between the content of the fault pattern file and the observation data is within a predetermined second threshold value, determines that there is the sign of the fault in the target vehicle.</p><p id="p-0085" num="0084">when the difference between the content of the normal pattern file and the content of the observation data is greater than a predetermined first threshold value, the comparison unit <b>83</b> further compares the content of the fault pattern file and the observation data, and when the difference between the content of the fault pattern file and the observation data is within a predetermined second threshold value, determines that there is the sign of the fault in the target vehicle.</p><p id="p-0086" num="0085">With such a configuration, it is possible to improve the accuracy of detecting a sign of a vehicle fault.</p><p id="p-0087" num="0086">The input unit <b>81</b> may also receive input of the normal pattern file that includes a feature extracted in time series from the observation data of the vehicle operating at a predetermined speed as the feature indicating the normal condition. The collection unit <b>82</b> may then collect the observation data observed at the predetermined speed, and the comparison unit <b>83</b> may compare the observation data with the content of the normal pattern file.</p><p id="p-0088" num="0087">Specifically, the input unit <b>81</b> may receive input of the normal pattern file that includes a feature extracted in time series from the observation data of the vehicle operating at a speed of 0 as the feature indicating the normal condition. The collection unit <b>82</b> may then collect the observation data collected during idling, and the comparison unit <b>83</b> may compare the observation data with the content of the normal pattern file.</p><p id="p-0089" num="0088">The input unit <b>81</b> may also receive input of a normal pattern file, in which time-series observation data is divided into multiple segments, and which includes features of the observation data extracted for each segment. The comparison unit <b>83</b> may then compare the feature included in the normal pattern file with the feature of the collected observation data.</p><p id="p-0090" num="0089">Similarly, the input unit <b>81</b> may receive input of a fault pattern file, in which time-series observation data is divided into multiple segments, and which includes features of the observation data extracted for each segment. The comparison unit <b>83</b> may then compare the feature included in the fault pattern file with the feature of the collected observation data.</p><p id="p-0091" num="0090"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a block diagram showing an overview of a fault sign detection system according to the exemplary aspect of the present invention. The fault sign detection system <b>70</b> (for example, the fault sign detection system <b>1</b>) according to the exemplary aspect of the present invention comprises the above-mentioned fault sign detection device <b>80</b>, and a server <b>90</b> (for example, the server <b>200</b>) which generates a normal pattern file and a fault pattern file.</p><p id="p-0092" num="0091">The server <b>90</b> includes an observation data input unit <b>91</b> (for example, the input unit <b>220</b>) which receives input of observation data, a generation unit <b>92</b> (for example, the generation unit <b>230</b>) which extracts time series features of the observation data and generating the normal pattern file and the fault pattern file based on the extracted feature, and a transmitting unit <b>93</b> (for example, the output unit <b>240</b>) which transmits the generated normal pattern file and fault pattern file to the fault sign detection device.</p><p id="p-0093" num="0092">Even with such a configuration, it is possible to improve the accuracy of detecting a sign of a vehicle fault, and furthermore, to use pattern files generated based on a large number of observation data for detection of a sign of a fault.</p><p id="p-0094" num="0093">Although the present invention has been described with reference to the foregoing exemplary embodiments and examples, the present invention is not limited to the foregoing exemplary embodiments and examples. Various changes understandable by those skilled in the art can be made to the structures and details of the present invention within the scope of the present invention.</p><p id="p-0095" num="0094">This application is based upon and claims the benefit of priority from Japanese patent application No. 2019-220334, filed on Dec. 5, 2019, the disclosure of which is incorporated herein in its entirety by reference.</p><p id="p-0096" num="0095">Reference Signs List</p><p id="p-0097" num="0096">Fault sign detection system</p><p id="p-0098" num="0097"><b>10</b> Storage unit</p><p id="p-0099" num="0098"><b>20</b> Input unit</p><p id="p-0100" num="0099"><b>30</b> Collection unit</p><p id="p-0101" num="0100"><b>40</b> Comparison unit</p><p id="p-0102" num="0101"><b>50</b> Output unit</p><p id="p-0103" num="0102"><b>100</b> Fault sign detection device</p><p id="p-0104" num="0103"><b>110</b> Target vehicle</p><p id="p-0105" num="0104"><b>200</b> Server</p><p id="p-0106" num="0105"><b>210</b> Storage unit</p><p id="p-0107" num="0106"><b>220</b> Input unit</p><p id="p-0108" num="0107"><b>230</b> Generation unit</p><p id="p-0109" num="0108"><b>240</b> Output unit</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A fault sign detection device for detecting a sign of a fault of a target vehicle, comprising:<claim-text>a memory storing instructions; and</claim-text><claim-text>one or more processors configured to execute the instructions to:</claim-text><claim-text>receive input of a normal pattern file and a fault pattern file, the normal patten file including information indicating a normal condition of a vehicle, and the fault pattern file including information indicating a sign that a vehicle fault is about to occur;</claim-text><claim-text>collect observation data observed by each device in the target vehicle; and</claim-text><claim-text>compare the content of the normal pattern file with the content of the observation data;</claim-text><claim-text>in a case that the difference between the content of the normal pattern file and the content of the observation data is greater than a predetermined first threshold value, further compare the content of the fault pattern file and the observation data; and</claim-text><claim-text>in a case that the difference between the content of the fault pattern file and the observation data is within a predetermined second threshold value, determine that there is the sign of the fault in the target vehicle.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The fault sign detection device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is further configured to execute instructions to:<claim-text>receive input of the normal pattern file including a feature indicating the normal condition, the feature being extracted in time series from the observation data of the vehicle operating at a predetermined speed;</claim-text><claim-text>collect the observation data observed at the predetermined speed; and</claim-text><claim-text>compare the observation data with the content of the normal pattern file.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The fault sign detection device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is further configured to execute instructions to:<claim-text>receive input of the normal pattern file including a feature indicating the normal condition, the feature being extracted in time series from the observation data of the vehicle operating at a speed of 0;</claim-text><claim-text>collect the observation data collected during idling; and</claim-text><claim-text>compare the observation data with the content of the normal pattern file.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The fault sign detection device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is further configured to execute instructions to:<claim-text>receive input of a normal pattern file, the normal pattern file including time-series observation data in the form of multiple segments and including features of the observation data extracted for each segment; and</claim-text><claim-text>compare the feature included in the normal pattern file with the feature of the collected observation data.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The fault sign detection device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is further configured to execute instructions to:<claim-text>receive input of a fault pattern file, the fault pattern file including time-series observation data in the form of multiple segments, and including features of the observation data extracted for each segment; and</claim-text><claim-text>compare the feature included in the fault pattern file with the feature of the collected observation data.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. A fault sign detection system comprising:<claim-text>the fault sign detection device of <claim-ref idref="CLM-00001">claim 1</claim-ref>; and</claim-text><claim-text>a server which generates a normal pattern file and a fault pattern file,</claim-text><claim-text>wherein the server includes:</claim-text><claim-text>an observation data receiver for receiving input of observation data;</claim-text><claim-text>a generator for extracting time series features of the observation data and generating the normal pattern file and the fault pattern file based on the extracted feature; and</claim-text><claim-text>a transmitter for transmitting the generated normal pattern file and fault pattern file to the fault sign detection device.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. A fault sign detection method for detecting a sign of a fault of a target vehicle, comprising:<claim-text>receiving input of a normal pattern file and a fault pattern file, the normal patten file including information indicating a normal condition of a vehicle, and the fault pattern file including information indicating a sign that a vehicle fault is about to occur;</claim-text><claim-text>collecting observation data observed by each device in the target vehicle;</claim-text><claim-text>comparing the content of the normal pattern file with the content of the observation data;</claim-text><claim-text>in a case that the difference between the content of the normal pattern file and the content of the observation data is greater than a predetermined first threshold value, comparing the content of the fault pattern file and the observation data; and</claim-text><claim-text>in a case that the difference between the content of the fault pattern file and the observation data is within a predetermined second threshold value, determining that there is the sign of the fault in the target vehicle.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The fault sign detection method according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising:<claim-text>receiving input of the normal pattern file including a feature indicating the normal condition, the feature being extracted in time series from the observation data of the vehicle operating at a predetermined speed;</claim-text><claim-text>collecting the observation data observed at the predetermined speed; and</claim-text><claim-text>comparing the observation data with the content of the normal pattern file.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. A non-transitory computer readable information recording medium storing a fault sign detection program which is installed in a computer for detecting a sign of a fault of a target vehicle, when executed by a processor, the fault sign detection program performs a method for:<claim-text>receiving input of a normal pattern file and a fault pattern file, the normal patten file including information indicating a normal condition of a vehicle, and the fault pattern file including information indicating a sign that a vehicle fault is about to occur;</claim-text><claim-text>collecting observation data observed by each device in the target vehicle;</claim-text><claim-text>comparing the content of the normal pattern file with the content of the observation data;</claim-text><claim-text>in a case that the difference between the content of the normal pattern file and the content of the observation data is greater than a predetermined first threshold value, further comparing the content of the fault pattern file and the observation data, data; and</claim-text><claim-text>in a case that the difference between the content of the fault pattern file and the observation data is within a predetermined second threshold value, determining that there is the sign of the fault in the target vehicle, in the comparison process.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The non-transitory computer readable information recording medium according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising:<claim-text>receiving input of the normal pattern file including a feature indicating the normal condition, the feature being extracted in time series from the observation data of the vehicle operating at a predetermined speed;</claim-text><claim-text>collecting the observation data observed at the predetermined speed; and</claim-text><claim-text>comparing the observation data with the content of the normal pattern file.</claim-text></claim-text></claim></claims></us-patent-application>