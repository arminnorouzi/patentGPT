<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230004172A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230004172</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17943503</doc-number><date>20220913</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>201610224652.2</doc-number><date>20160412</date></priority-claim><priority-claim sequence="02" kind="national"><country>CN</country><doc-number>201610805198.X</doc-number><date>20160906</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20200101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>02</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20100101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>49</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20100101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>48</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>1</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>0278</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>49</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>027</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>0257</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>0088</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20200501</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>485</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>0259</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>028</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>0231</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>1</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>0225</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>2201</main-group><subgroup>0208</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e79">Automatic Working System, Self-Moving Device, and Methods for Controlling Same</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16157906</doc-number><date>20181011</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11442466</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17943503</doc-number></document-id></child-doc></relation></continuation><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2017/080313</doc-number><date>20170412</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>16157906</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Positec Power Tools (Suzhou) Co., Ltd.</orgname><address><city>Suzhou</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Shao</last-name><first-name>Yong</first-name><address><city>Suzhou</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>He</last-name><first-name>Mingming</first-name><address><city>Suzhou</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Zhou</last-name><first-name>Chang</first-name><address><city>Suzhou</city><country>CN</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Yang</last-name><first-name>Zhou</first-name><address><city>Suzhou</city><country>CN</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>Sun</last-name><first-name>Gen</first-name><address><city>Suzhou</city><country>CN</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>Rao</last-name><first-name>Yue</first-name><address><city>Suzhou</city><country>CN</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A self-moving device, including: a moving module, a task execution module, a control module. The control module is electrically connected to the moving module and the task execution module, controls the moving module to actuate the self-moving device to move, controls the task execution module to execute a working task. The self-moving device further includes a satellite navigation apparatus, electrically connected to the control module and configured to receive a satellite signal and output current location information of the self-moving device. The control module determines whether quality of location information output by the satellite navigation apparatus at a current location satisfies a preset condition, controls, if the quality does not satisfy the preset condition, the moving module to actuate the self-moving device to change a moving manner, to enable quality of location information output by the satellite navigation apparatus at a location after the movement to satisfy the preset condition.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="92.20mm" wi="158.75mm" file="US20230004172A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="206.84mm" wi="132.93mm" orientation="landscape" file="US20230004172A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="122.68mm" wi="106.76mm" orientation="landscape" file="US20230004172A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="213.78mm" wi="141.39mm" file="US20230004172A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="174.24mm" wi="123.78mm" file="US20230004172A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="220.22mm" wi="133.10mm" file="US20230004172A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="104.82mm" wi="148.00mm" file="US20230004172A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="152.23mm" wi="122.17mm" file="US20230004172A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="204.64mm" wi="152.57mm" file="US20230004172A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="216.41mm" wi="158.75mm" file="US20230004172A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="97.96mm" wi="78.66mm" file="US20230004172A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND</heading><heading id="h-0002" level="1">Technical Field</heading><p id="p-0002" num="0001">The present invention relates to an automatic working system, a self-moving device, and methods for controlling same.</p><heading id="h-0003" level="1">Related Art</heading><p id="p-0003" num="0002">With the development of science and technologies, self-moving devices are well-known to people. Because the self-moving devices can execute preset relevant tasks according to automatically preset programs without being manually operated or intervened, they are widely applied to industrial and household products. In industrial application such as robots implementing various functions and in application to household products such as mowers and vacuum cleaners, the self-moving devices greatly save people's time and bring great convenience to industrial production and home life.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0004" num="0003">An automatic mower is a most common household product that can be used to automatically execute a mowing task to mow a lawn and keep the lawn clean and beautiful. When the automatic mower is executing a mowing task, GPS navigation (including differential global positioning system (DGPS) navigation) is usually used, and as the BeiDou system becomes mature in the future, BeiDou signal navigation may alternatively be used.</p><p id="p-0005" num="0004">However, as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, when an automatic mower travels alongside an obstacle such as a fence/a tree/flowers, because of blocking, a GPS signal is relatively poor, and in this case, if GPS navigation continues to be used, the navigation is basically &#x201c;blind navigation&#x201d; and would cause a relatively large error. If the automatic mower is instructed to stop working and perform computation for a long time in situ to obtain accurate coordinates, computation software and hardware are complex, and device costs are increased. Meanwhile, if a device stops and does not move within a period of time, a user may have a misconception that the device is faulty, and it is disadvantageous to promotion and popularization of the device. In this case, the automatic mower may alternatively use an inertial navigation system carried thereon to perform navigation. However, it could be learned from a working principle of the inertial navigation system (a working principle of inertial navigation is based on Newton's laws of mechanics, and is measuring acceleration of a carrier in an inertial reference system, performing integration on time by using the acceleration, and converting the acceleration into a navigation coordinate system, so as to obtain information, such as a velocity, a yaw angle, and a location, in the navigation coordinate system) that the inertial navigation system is a calculation navigation manner, where as time extends, its precision is certainly reduced, and this is disadvantageous to long-time working of the automatic mower.</p><p id="p-0006" num="0005">In the differential global positioning system (DGPS), a monitoring receiver is mounted at a precise known location to calculate a range error of each GPS satellite that can be tracked by the monitoring receiver. This error is usually referred to as a pseudo range correction (PRC) value, and the PRC value is transmitted to a user receiver for error correction, so as to improve positioning precision. Currently, a base station and a mobile station of the DGPS need to receive signals of at least four satellites together, so as to use a real-time kinematic (RTK) algorithm to implement precise positioning, and when there is blocking of an obstacle such as a house, and the base station and the mobile station cannot receive signals of at least four satellites together, there is a dead zone, and precise positioning cannot be performed.</p><p id="p-0007" num="0006">Conventionally, a self-moving device is provided with a receive antenna of a mobile station of the DGPS, and a radio signal transmit antenna of a base station of the DGPS is usually disposed on a charging station of the self-moving device. However, because the charging station has a relatively small height, during a transmission process of a radio wave, the radio wave may encounter an obstacle such as a house, resulting in signal attenuation, and particularly, when the self-moving device travels beside an obstacle, the base station of the DGPS basically cannot perform data communication with a receiving station on the self-moving device. Consequently, precision of positioning of the DGPS is greatly reduced.</p><p id="p-0008" num="0007">When precision of positioning of the DGPS is greatly reduced, that is, the self-moving device travels beside an obstacle or into a signal dead zone, the self-moving device cannot accurately learn of its location. Therefore, when there is no borderline, the self-moving device may travel to a dangerous area, resulting in damage to the self-moving device.</p><p id="p-0009" num="0008">The embodiments of the present invention provide: a self-moving device, comprising:</p><p id="p-0010" num="0009">a moving module, a task execution module, and a control module, wherein the control module is electrically connected to the moving module and the task execution module, controls the moving module to actuate the self-moving device to move, and controls the task execution module to execute a working task; and</p><p id="p-0011" num="0010">the self-moving device further comprises a satellite navigation apparatus, electrically connected to the control module and configured to receive a satellite signal and output current location information of the self-moving device, wherein</p><p id="p-0012" num="0011">the control module determines whether quality of location information output by the satellite navigation apparatus at a current location satisfies a preset condition, and controls, if the quality does not satisfy the preset condition, the moving module to actuate the self-moving device to change a moving manner, to enable quality of location information output by the satellite navigation apparatus at a location after the movement to satisfy the preset condition.</p><p id="p-0013" num="0012">In one of the embodiments, the self-moving device comprises a storage unit, electrically connected to the control module and the satellite navigation apparatus; a location at which quality of location information output by the satellite navigation apparatus satisfies the preset condition is referred to as an expected location; the storage unit stores information of the expected location; and that the control module controls the moving module to actuate the self-moving device to change a moving manner comprises controlling the moving module to actuate the self-moving device to move toward the expected location.</p><p id="p-0014" num="0013">In one of the embodiments, the control module determines distances between several expected locations stored in the storage unit and the current location of the self-moving device, chooses one of the several expected locations according to the distances between the expected locations and the current location of the self-moving device, and controls the moving module to actuate the self-moving device to move toward the chosen expected location.</p><p id="p-0015" num="0014">In one of the embodiments, the control module controls the moving module to actuate the self-moving device to move toward an expected location closest to the current location of the self-moving device.</p><p id="p-0016" num="0015">In one of the embodiments, a location at which the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition before the self-moving device changes the moving manner is referred to as an original location, and the storage unit stores information of the original location; and after the self-moving device moves to the expected location, the control module controls the moving module to actuate the self-moving device to return to the original location.</p><p id="p-0017" num="0016">In one of the embodiments, before the control module controls the moving module to actuate the self-moving device to change the moving manner, the control module controls the moving module to actuate the self-moving device to move along a preset path; and after controlling the moving module to actuate the self-moving device return to the original location, the control module controls the moving module to actuate the self-moving device to continue to move along the preset path.</p><p id="p-0018" num="0017">In one of the embodiments, before the control module controls the moving module to actuate the self-moving device to change the moving manner, the control module controls the moving module to actuate the self-moving device to move along a preset path; and after determining that the quality of the location information output by the satellite navigation apparatus at the current location does not satisfy the preset condition, the control module controls the moving module to actuate the self-moving device to continue to move along the preset path for a preset time or by a preset distance before the self-moving device changes the moving manner.</p><p id="p-0019" num="0018">In one of the embodiments, the self-moving device further comprises at least one location sensor, electrically connected to the control module, and configured to detect features related to the location of the self-moving device; and when the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition, the control module determines the current location of the self-moving device at least partially based on output of the location sensor.</p><p id="p-0020" num="0019">In one of the embodiments, the location sensor comprises at least one of a camera, radar, a capacitive sensor, and an inertial navigation sensor.</p><p id="p-0021" num="0020">In one of the embodiments, when the quality of the location information output by the satellite navigation apparatus satisfies the preset condition, the self-moving device corrects the output of the location sensor by using output of the satellite navigation apparatus.</p><p id="p-0022" num="0021">In one of the embodiments, the preset condition comprises that the quantity of satellites from which the satellite navigation apparatus receives a signal is greater than or equal to a preset value.</p><p id="p-0023" num="0022">The embodiments of the present invention also provide an automatic working system, comprising the self-moving device according to any of the foregoing claims.</p><p id="p-0024" num="0023">The embodiments of the present invention also provide a method for controlling a self-moving device, wherein the self-moving device comprises a satellite navigation apparatus, configured to receive a satellite signal and output current location information of the self-moving device, and the method for controlling a self-moving device comprises steps of:</p><p id="p-0025" num="0024">determining whether quality of location information output by the satellite navigation apparatus at a current location satisfies a preset condition; and</p><p id="p-0026" num="0025">controlling, if the quality does not satisfy the preset condition, the self-moving device to change a moving manner, to enable quality of location information output by the satellite navigation apparatus at a location after the movement to satisfy the preset condition.</p><p id="p-0027" num="0026">In one of the embodiments, a location at which quality of location information output by the satellite navigation apparatus satisfies the preset condition is referred to as an expected location; information of the expected location is stored; and changing a moving manner comprises a step of controlling the self-moving device to move toward the expected location.</p><p id="p-0028" num="0027">In one of the embodiments, distances between several stored expected locations and the current location of the self-moving device are determined, one of the several expected locations is chosen according to the distances between the expected locations and the current location of the self-moving device, and the self-moving device is controlled to move toward the chosen expected location.</p><p id="p-0029" num="0028">In one of the embodiments, the self-moving device is controlled to move toward an expected location closest to the current location of the self-moving device.</p><p id="p-0030" num="0029">In one of the embodiments, a location at which the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition before the self-moving device changes the moving manner is referred to as an original location, and information of the original location is stored; and after the self-moving device is controlled to move to the expected location, the self-moving device is further controlled to return to the original location.</p><p id="p-0031" num="0030">In one of the embodiments, before the self-moving device changes the moving manner, the self-moving device is controlled to move along a preset path; and after the self-moving device returns to the original location, the self-moving device is controlled to continue to move along the preset path.</p><p id="p-0032" num="0031">In one of the embodiments, before the self-moving device changes the moving manner, the self-moving device is controlled to move along a preset path; and after it is determined that the quality of the location information output by the satellite navigation apparatus at the current location does not satisfy the preset condition, the self-moving device is controlled to continue to move along the preset path for a preset time or by a preset distance before the self-moving device changes the moving manner.</p><p id="p-0033" num="0032">In one of the embodiments, the self-moving device further comprises at least one location sensor, configured to detect features related to the location of the self-moving device; and when the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition, the current location of the self-moving device is determined at least partially based on output of the location sensor.</p><p id="p-0034" num="0033">In one of the embodiments, the location sensor comprises at least one of a camera, radar, a capacitive sensor, and an inertial navigation sensor.</p><p id="p-0035" num="0034">In one of the embodiments, when the quality of the location information output by the satellite navigation apparatus satisfies the preset condition, the output of the location sensor is corrected by using output of the satellite navigation apparatus.</p><p id="p-0036" num="0035">In one of the embodiments, the preset condition comprises that the quantity of satellites from which the satellite navigation apparatus receives a signal is greater than or equal to a preset value.</p><p id="p-0037" num="0036">Compared with the prior art, beneficial effects of the present invention are: when a self-moving device moves to an area where a satellite navigation signal is poor, by changing a moving manner, the self-moving device can maintain high-precision navigation, and can implement coverage on the area where the satellite navigation signal is poor, so that the self-moving device can efficiently implement coverage on an entire working area.</p><p id="p-0038" num="0037">The embodiments of the present invention further provide a method for navigating a self-moving device, including:</p><p id="p-0039" num="0038">(1) detecting whether a self-moving device can receive a stable satellite navigation signal;</p><p id="p-0040" num="0039">(2) if the self-moving device can receive a stable satellite navigation signal, proceeding to step (8);</p><p id="p-0041" num="0040">(3) moving, by the self-moving device in an inertial navigation manner, from a current location along a preset working direction S for a preset time period T, and recording corresponding location coordinates of the self-moving device after the movement;</p><p id="p-0042" num="0041">(4) detecting whether the self-moving device can receive a stable satellite navigation signal;</p><p id="p-0043" num="0042">(5) if the self-moving device can receive a stable satellite navigation signal, proceeding to step (8);</p><p id="p-0044" num="0043">(6) moving, by the self-moving device in the inertial navigation manner, along a preset direction S<b>1</b> for a preset time period T<b>1</b> from the location coordinates of the self-moving device after the self-moving device moves along the working direction S for the preset time period T, where after moving along the preset direction S<b>1</b> for the preset time period T<b>1</b>, the self-moving device can receive a stable satellite navigation signal;</p><p id="p-0045" num="0044">(7) controlling, in a satellite navigation manner, the self-moving device to return along a direction opposite to the preset direction S<b>1</b> to the location coordinates of the self-moving device after the self-moving device moves along the preset working direction S for the preset time period T, where postures of the self-moving device before and after the movement are the same, and proceeding to step (3); and</p><p id="p-0046" num="0045">(8) controlling, by the self-moving device in the satellite navigation manner, the self-moving device to move along the preset working direction S until the self-moving device completes a working task.</p><p id="p-0047" num="0046">In the foregoing method for navigating a self-moving device, when a satellite navigation signal cannot be received, a manner of alternating inertial navigation and satellite navigation may be adopted to ensure correctness of a path during working of the self-moving device, thereby improving navigation precision and reducing a navigation error.</p><p id="p-0048" num="0047">In one of the embodiments, a sum of the preset time periods T and T<b>1</b> is less than a time during which the self-moving device can maintain high-precision positioning of inertial navigation.</p><p id="p-0049" num="0048">In one of the embodiments, an angle between the preset direction S<b>1</b> and the working direction S includes, but is not limited to, a 90-degree angle.</p><p id="p-0050" num="0049">A self-moving device performing navigation by using the foregoing navigation method is provided, and includes a satellite navigation module and an inertial navigation module and further includes:</p><p id="p-0051" num="0050">a detection module, configured to detect whether the satellite navigation module can receive a stable satellite navigation signal;</p><p id="p-0052" num="0051">a first control module, configured to use, when the detection module detects that the satellite navigation module can receive a stable satellite navigation signal, the satellite navigation module to control the self-moving device to move along a preset working direction S or use, when the detection module detects that the satellite navigation module cannot receive a stable satellite navigation signal, the inertial navigation module to control the self-moving device to move from a current location along a preset working direction S for a preset time period T, and record corresponding location coordinates of the self-moving device after the movement;</p><p id="p-0053" num="0052">a second control module, configured to use, when the detection module detects that the satellite navigation module can receive a stable satellite navigation signal, the satellite navigation module to control the self-moving device to move along the preset working direction S or use, when the detection module detects that the satellite navigation module cannot receive a stable satellite navigation signal, the inertial navigation module to control the self-moving device to move along a preset direction S<b>1</b> for a preset time period T<b>1</b>, where after moving along the preset direction S<b>1</b> for the preset time period T<b>1</b>, the self-moving device can receive a stable satellite navigation signal;</p><p id="p-0054" num="0053">a third control module, configured to use the satellite navigation module to control the self-moving device to return along a direction opposite to the preset direction S<b>1</b> to location coordinates of the self-moving device after the self-moving device moves along the preset working direction S for the preset time period T; and</p><p id="p-0055" num="0054">a main control module, configured to control the detection module, the first control module, the second control module, and the third control module to work.</p><p id="p-0056" num="0055">When the foregoing self-moving device cannot receive a satellite navigation signal, a manner of alternating inertial navigation and satellite navigation may be adopted to ensure correctness of a path during working of the self-moving device, thereby improving navigation precision and reducing a navigation error.</p><p id="p-0057" num="0056">In one of the embodiments, a sum of the preset time periods T and T<b>1</b> is less than a time during which the self-moving device can maintain high-precision positioning of inertial navigation.</p><p id="p-0058" num="0057">In one of the embodiments, an angle between the preset direction S<b>1</b> and the working direction S includes, but is not limited to, a 90-degree angle.</p><p id="p-0059" num="0058">In one of the embodiments, the first control module includes:</p><p id="p-0060" num="0059">a first navigation unit, configured to use the satellite navigation module to control the self-moving device to move along the preset working direction S;</p><p id="p-0061" num="0060">a second navigation unit, configured to use the inertial navigation module to control the self-moving device to move from the current location along the preset working direction S for the preset time period T; and</p><p id="p-0062" num="0061">a recording unit, configured to record corresponding location coordinates of the self-moving device after the movement and a posture of the self-moving device.</p><p id="p-0063" num="0062">In one of the embodiments, the second control module includes:</p><p id="p-0064" num="0063">a first control unit, configured to use the satellite navigation module to control the self-moving device to move along the preset working direction S; and</p><p id="p-0065" num="0064">a second control unit, configured to use the inertial navigation module to control the self-moving device to move along the preset direction S<b>1</b> for the preset time period T<b>1</b>.</p><p id="p-0066" num="0065">The present invention further provides a method for controlling traveling of a self-moving device, where a traveling area of the self-moving device includes a radio signal dead zone and a radio signal coverage area, and the method includes:</p><p id="p-0067" num="0066">detecting the traveling area where the self-moving device is located when the self-moving device travels;</p><p id="p-0068" num="0067">starting timing when the self-moving device is located in the radio signal dead zone;</p><p id="p-0069" num="0068">when a time during which the self-moving device travels in the radio signal dead zone exceeds a first time threshold, controlling the self-moving device to move backward or turn and then continue to travel for a time of the first time threshold; and</p><p id="p-0070" num="0069">controlling the self-moving device to shut down and issue an alarm when the self-moving device is still in the radio signal dead zone after the self-moving device moves backward or turns and then continues to travel for the time of the first time threshold.</p><p id="p-0071" num="0070">In one of the embodiments, the step of turning and then continuing to travel for a time of the first time threshold is: controlling the self-moving device to continue, after rotating a traveling direction by an angle, to travel for the time of the first time threshold, where the angle ranges from 0 degrees to 180 degrees.</p><p id="p-0072" num="0071">In one of the embodiments, the radio signal coverage area includes a first radio signal coverage area and a second radio signal coverage area, where the strength of a radio signal of the first radio signal coverage area is higher than the strength of a radio signal of the second radio signal coverage area; and the method further includes:</p><p id="p-0073" num="0072">starting timing when the self-moving device is located in the second radio signal dead zone; and</p><p id="p-0074" num="0073">controlling the self-moving device to travel toward the first radio signal coverage area when a time during which the self-moving device travels in the second radio signal coverage area exceeds a second time threshold.</p><p id="p-0075" num="0074">In one of the embodiments, the step of controlling the self-moving device to travel toward the first radio signal coverage area includes:</p><p id="p-0076" num="0075">obtaining a relative direction between a current location of the self-moving device and the first radio signal coverage area; and</p><p id="p-0077" num="0076">controlling, according to the relative direction, the self-moving device to travel toward the first radio signal coverage area.</p><p id="p-0078" num="0077">In one of the embodiments, the method further includes:</p><p id="p-0079" num="0078">when the self-moving device travels from the second radio signal coverage area to the radio signal dead zone, calculating a time during which the self-moving device is located in the second radio signal coverage area last time;</p><p id="p-0080" num="0079">starting timing when the calculated time during which the self-moving device is located in the second radio signal coverage area last time does not exceed a third time threshold;</p><p id="p-0081" num="0080">when a time during which the self-moving device travels in the radio signal dead zone exceeds a fourth time threshold, controlling the self-moving device to move backward or turn and then continue to travel for a time of a fifth time threshold, where the fourth time threshold is less than the first time threshold; and</p><p id="p-0082" num="0081">controlling the self-moving device to shut down and issue an alarm when the self-moving device is still in the radio signal dead zone after the self-moving device moves backward or turns and then continues to travel for the time of the fifth time threshold.</p><p id="p-0083" num="0082">In one of the embodiments, the self-moving device is controlled to shut down and issue an alarm when the calculated time during which the self-moving device is located in the second radio signal coverage area last time exceeds the third time threshold and is less than the second time threshold.</p><p id="p-0084" num="0083">A system for controlling traveling of a self-moving device is provided, where a traveling area of the self-moving device includes a radio signal dead zone and a radio signal coverage area, and the system includes:</p><p id="p-0085" num="0084">a controller, configured to detect the traveling area where the self-moving device is located when the self-moving device travels;</p><p id="p-0086" num="0085">a timer, connected to the controller, and configured to start timing when the self-moving device is located in the radio signal dead zone;</p><p id="p-0087" num="0086">a steering, connected to the controller and configured to: when a time during which the self-moving device travels in the radio signal dead zone exceeds a first time threshold, control the self-moving device to move backward or turn, where after the self-moving device moves backward or turns, the controller is further configured to control the self-moving device to continue to travel for a time of the first time threshold; and</p><p id="p-0088" num="0087">an alarm, connected to the controller, and configured to control the self-moving device to shut down and issue an alarm when the self-moving device is still in the radio signal dead zone after the self-moving device moves backward or turns and then continues to travel for the time of the first time threshold.</p><p id="p-0089" num="0088">In one of the embodiments, the steering includes:</p><p id="p-0090" num="0089">an angle setting module, configured to set a rotation angle of the self-moving device, where the angle ranges from 0 degrees to 180 degrees; and</p><p id="p-0091" num="0090">a steering module, connected to the controller and the angle setting module, and configured to control the self-moving device to move backward or turn by the angle when the time during which the self-moving device travels in the radio signal dead zone exceeds the first time threshold.</p><p id="p-0092" num="0091">In one of the embodiments, the radio signal coverage area includes a first radio signal coverage area and a second radio signal coverage area, where the strength of a radio signal of the first radio signal coverage area is higher than the strength of a radio signal of the second radio signal coverage area;</p><p id="p-0093" num="0092">the timer is further configured to start timing when the self-moving device is located in the second radio signal dead zone; and</p><p id="p-0094" num="0093">the steering is further configured to control the self-moving device to travel toward the first radio signal coverage area when a time during which the self-moving device travels in the second radio signal coverage area exceeds a second time threshold.</p><p id="p-0095" num="0094">In one of the embodiments, the controller is further configured to: when the self-moving device travels from the second radio signal coverage area to the radio signal dead zone, calculate a time during which the self-moving device is located in the second radio signal coverage area;</p><p id="p-0096" num="0095">the timer is further configured to start timing when the calculated time during which the self-moving device is located in the second radio signal coverage area does not exceed a third time threshold;</p><p id="p-0097" num="0096">the steering is further configured to: when a time during which the self-moving device travels in the radio signal dead zone exceeds a fourth time threshold, control the self-moving device to move backward or turn, where the fourth time threshold is less than the first time threshold; and after the self-moving device moves backward or turns, the controller is further configured to control the self-moving device to continue to travel for a time of a fifth time threshold; and</p><p id="p-0098" num="0097">the alarm is further configured to control the self-moving device to shut down and issue an alarm when the self-moving device is still in the radio signal dead zone after the self-moving device moves backward or turns and then continues to travel for the time of the fifth time threshold.</p><p id="p-0099" num="0098">In one of the embodiments, the alarm is further configured to control the self-moving device to shut down and issue an alarm when the calculated time during which the self-moving device is located in the second radio signal coverage area last time exceeds the third time threshold and is less than the second time threshold.</p><p id="p-0100" num="0099">According to the foregoing method and system for controlling traveling of the self-moving device, operation of the self-moving device is controlled by determining whether the self-moving device is located in the radio signal dead zone, so that when the self-moving device is in an area where positioning precision is poor such as a radio signal dead zone, the self-moving device can be prevented from traveling into a dangerous area, so as to prevent the self-moving device from being damaged.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0101" num="0100">The foregoing objectives, technical solutions, and beneficial effects of the present invention can be achieved by using the following drawings:</p><p id="p-0102" num="0101"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram of an automatic working system according to an embodiment of the present invention;</p><p id="p-0103" num="0102"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic structural diagram of an automatic mower according to an embodiment of the present invention;</p><p id="p-0104" num="0103"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic diagram of a moving manner of an automatic mower according to an embodiment of the present invention;</p><p id="p-0105" num="0104"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of a working scenario of an automatic mower according to another embodiment of the present invention;</p><p id="p-0106" num="0105"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flowchart of a method for navigating an automatic mower according to another embodiment of the present invention;</p><p id="p-0107" num="0106"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart of a method for controlling traveling of an automatic mower according to another embodiment of the present invention;</p><p id="p-0108" num="0107"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of a traveling area of an automatic mower according to another embodiment of the present invention;</p><p id="p-0109" num="0108"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart of a method for controlling traveling of an automatic mower located in a second radio signal coverage area according to another embodiment of the present invention;</p><p id="p-0110" num="0109"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart of a method for controlling traveling of an automatic mower located in a second radio signal coverage area according to still another embodiment of the present invention;</p><p id="p-0111" num="0110"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flowchart of a method for controlling traveling of an automatic mower according to another embodiment of the present invention; and</p><p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a schematic structural diagram of a system for controlling traveling of an automatic mower according to another embodiment of the present invention.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0113" num="0112"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram of an automatic working system <b>100</b> according to an embodiment of the present invention. The automatic working system includes a self-moving device. In this embodiment, the self-moving device an automatic mower <b>1</b>, in other embodiments, the self-moving device may alternatively be a device suitable for an unattended situation such as an automatic cleaning device, an automatic watering device, or an automatic snow sweeper. The automatic working system <b>100</b> further includes a charging station <b>2</b>, configured to dock the automatic mower <b>1</b> and supplement electric energy. In this embodiment, the automatic working system <b>100</b> includes a navigation module, configured to output a current location of the automatic mower. Specifically, the navigation module includes a base station <b>17</b> and a mobile station <b>15</b>. The base station <b>17</b> and the mobile station <b>15</b> both receive satellite signals, and the base station <b>17</b> sends a positioning correction signal to the mobile station <b>15</b>, to implement differential satellite positioning. In this embodiment, the base station <b>17</b> and the mobile station <b>15</b> receive GPS positioning signals, to implement DGPS positioning. Certainly, in another embodiment, the base station <b>17</b> and the mobile station <b>15</b> may alternatively receive positioning signals of the Galileo satellite navigation system, the BeiDou satellite navigation system, or the GLONASS.</p><p id="p-0114" num="0113">As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the automatic working system is configured to work in a preset working area. In this embodiment, the working area includes at least two sub-working areas that are separate from each other, and the sub-working areas are connected through a channel <b>400</b>. A border <b>200</b> is formed between the working area and a non-working area, the working area includes obstacles <b>9</b> and <b>11</b>, and the obstacles include a tree, a pit, and the like.</p><p id="p-0115" num="0114">In this embodiment, the structure of the automatic mower <b>1</b> is shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. The automatic mower <b>1</b> includes a housing <b>3</b>, a moving module, a task execution module, an energy module, a control module, and the like. The moving module includes a track <b>5</b>, driven by a driving motor to actuate the automatic mower <b>1</b> to move. The task execution module includes a mowing component <b>7</b>, to perform lawn mowing work. The energy module includes a battery pack (not shown in the figure), to provide electric energy for moving and working of the automatic mower <b>1</b>. The control module is electrically connected to the moving module, the task execution module, and the energy module, controls the moving module to actuate the automatic mower <b>1</b> to move, and controls the task execution module to execute a working task. In this embodiment, the automatic mower includes a satellite navigation apparatus, electrically connected to the control module, and configured to receive a satellite signal and output current location information of the automatic mower <b>1</b>. The satellite navigation apparatus includes the foregoing mobile station <b>15</b>.</p><p id="p-0116" num="0115">Quality of location information output by the satellite navigation apparatus varies as a working environment changes. When the automatic mower is located in an open working area, the mobile station <b>15</b> can receive navigation signals of a plurality of satellites, and when communication between the mobile station <b>15</b> and the base station <b>17</b> is not blocked, the quality of the location information output by the satellite navigation apparatus is high. When the automatic mower is located in a shaded area, where the shaded area may be an area near a building or an area shaded by a tree or eaves, the mobile station <b>15</b> can only receive navigation signals of a few satellites or cannot receive a navigation signal of a satellite. Consequently, quality of location information output by the satellite navigation apparatus is degraded. In another case in which communication between the mobile station <b>15</b> and the base station <b>17</b> is blocked, quality of location information output by the satellite navigation apparatus is also degraded. When the satellite navigation apparatus outputs location information, it can output a precision level of a positioning signal. The automatic mower may alternatively determine a current positioning status according to the location information output by the satellite navigation apparatus and output a positioning status indication. A basis for determining the quality of the location information output by the satellite navigation apparatus may be the quantity of satellites from which the satellite navigation apparatus can receive a signal, or the positioning status indication, or a precision factor. Alternatively, various factors are combined, and importance weights are set, to obtain the quality of the location information. The quality of the location information output by the satellite navigation apparatus may be evaluated by the satellite navigation apparatus, and the control module obtains an evaluation result. Alternatively, evaluation may be performed by the control module by using output of the satellite navigation apparatus, to obtain an evaluation result.</p><p id="p-0117" num="0116">In this embodiment, the automatic mower further includes at least one location sensor, electrically connected to the control module and configured to detect a feature related to a location of the automatic mower. The location sensor may include a camera, radar, a capacitive sensor, an inertial navigation sensor, or the like. In this embodiment, the location sensor is an inertial navigation sensor. The inertial navigation sensor may include an accelerometer, an odometer, a compass, a gyroscope, a posture detection sensor, and the like, to detect a velocity, acceleration, a traveling direction, and the like of the self-moving device. In this embodiment, when the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition, the control module determines the current location of the self-moving device at least partially based on output of the location sensor. Specifically, fusion processing may be performed on the location information output by the satellite navigation apparatus and the output of the location sensor, to obtain the current location of the automatic mower. Using an inertial navigation sensor as an example, if the inertial navigation sensor is continuously used to perform navigation, output of the inertial navigation sensor accumulates the error with the time, and consequently, precision of the output position information is reduced. Therefore, when the quality of the location information output by the satellite navigation apparatus satisfies the preset condition, the output of the location sensor is corrected by using output of the satellite navigation apparatus, so as to enable the location sensor to maintain high-precision output.</p><p id="p-0118" num="0117">In this embodiment, the control module determines whether quality of location information output by the satellite navigation apparatus at a current location satisfies a preset condition, and controls, if the quality does not satisfy the preset condition, the moving module to actuate the automatic mower to change a moving manner, to enable quality of location information output by the satellite navigation apparatus at a location after the movement to satisfy the preset condition. Specifically, in this embodiment, the automatic mower includes a storage unit, electrically connected to the control module and the satellite navigation apparatus. The storage unit may be a storage unit integrated in a navigation module, or a storage unit integrated in a control circuit of the automatic mower. A location at which quality of location information output by the satellite navigation apparatus satisfies the preset condition is referred to as an expected location, and the storage unit stores information of the expected location. Controlling, by the control module, the moving module to actuate the automatic mower to change a moving manner includes controlling the moving module to actuate the automatic mower to move toward the expected location. That is, during a moving process of the automatic mower, the satellite navigation apparatus or the control module evaluates quality of location information output by the satellite navigation apparatus at a location by which the automatic mower moves and passes, and records a location at which quality of location information output by the satellite navigation apparatus satisfies a preset condition, and the location is usually a location at which the mobile station can receive a good satellite signal or base station signal. When the automatic mower enters a shaded area, because the automatic mower cannot perform precise navigation for a long time in the shaded area, the automatic mower needs to return to an area where a satellite navigation signal is good and use the satellite navigation signal to correct the output of the location sensor, so as to enable the automatic mower to maintain high-precision navigation, thereby avoiding a security problem that the automatic mower leaves the working area because of low-precision navigation, a problem that the working efficiency of the automatic mower is reduced, and the like.</p><p id="p-0119" num="0118">In this embodiment, the control module determines distances between several expected locations stored in the storage unit and the current location of the self-moving device, chooses one of the several expected locations according to the distances between the expected locations and the current location of the self-moving device, and controls the moving module to actuate the self-moving device to move toward the chosen expected location. Specifically, in this embodiment, the control module controls the moving module to actuate the automatic mower to move toward an expected location closest to the current location of the automatic mower. In another embodiment, a range of distance between the expected location and the current location of the automatic mower may alternatively be set to control the automatic mower to move toward an expected location within the range of distance. Controlling the automatic mower to move toward a closest expected location or an expected location within a preset range of distance can improve working efficiency of the automatic mower and reduce consumption of energy.</p><p id="p-0120" num="0119">In this embodiment, the location at which the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition before the self-moving device changes the moving manner is referred to as an original location, and the storage unit stores information of the original location. After the self-moving device moves to the expected location, the control module controls the moving module to actuate the self-moving device to return to the original location. After the automatic mower moves to the expected location, quality of location information output by the satellite navigation apparatus is improved, the automatic mower re-obtains high-precision location information, and the output of the location sensor is also corrected. Therefore, when the automatic mower returns to the original location, high-precision navigation can be maintained, so that the automatic mower can complete mowing work in a shaded area, thereby resolving a problem that the automatic mower cannot complete mowing in the shaded area. It could be understood that when the automatic mower moves toward the original location, the automatic mower does not need to return to a specific point before the moving manner is changed, and instead, may only move toward the direction to return to an area where mowing is not completed.</p><p id="p-0121" num="0120">In this embodiment, the control module controls the moving module to actuate the automatic mower to move along a preset path. The preset path may be a parallel reciprocating path, a spiral path, or the like. When the control module determines that the location information output by the satellite navigation apparatus does not satisfy the preset condition, a moving manner of the automatic mower is changed. Specifically, refer to <figref idref="DRAWINGS">FIG. <b>3</b></figref> for the moving manner of the automatic mower. In this embodiment, before the control module controls the moving module to actuate the automatic mower to change a moving manner, the control module controls the moving module to actuate the automatic mower to move along parallel straight lines. After the control module determines that the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition, the control module controls the moving module to actuate the automatic mower to continue to move along the parallel straight lines for a preset time or by a preset distance. Within the preset time or preset distance, an error of output of the inertial navigation sensor is small, and the automatic mower can maintain relatively high-precision navigation. After the automatic mower moves for the preset time or by the preset distance, the control module controls the moving module to actuate the automatic mower to move toward a first expected location. The first expected location is an expected location closest to the current location of the automatic mower in the expected locations recorded by the storage unit. After the automatic mower moves to the first expected location, a satellite navigation signal of the automatic mower is good. The satellite navigation signal is used to correct the error of the output of the inertial navigation sensor, to recover high precision of the output of the inertial navigation sensor. The automatic mower returns to the original location again, and continues to move along a preset parallel straight-line path, that is, continues to execute lawn mowing work in the shaded area. During a moving process of the automatic mower, if the quality of the location information output by the satellite navigation apparatus still does not satisfy the preset condition, after moving for the preset time or by the preset distance, the automatic mower changes a moving manner again. The foregoing steps are repeated until the automatic mower leaves the shaded area.</p><p id="p-0122" num="0121">In this embodiment, when the automatic mower moves to an area where a satellite navigation signal is poor, a moving manner is changed to enable the automatic mower to still maintain high-precision navigation and complete mowing in the area where the satellite navigation signal is poor, so that the automatic mower can efficiently complete mowing of the entire working area.</p><p id="p-0123" num="0122">In this embodiment, the quality of the location information output by the satellite navigation apparatus needs to satisfy a preset condition, which, as stated above, may be determined according to the quantity of satellites from which the satellite navigation apparatus can receive a signal, or a positioning status indication, or a precision factor, or a combination of various factors. For example, the preset condition may be that the quantity of satellites from which the satellite navigation apparatus receives a signal is greater than or equal to 4.</p><p id="p-0124" num="0123">It could be understood that <figref idref="DRAWINGS">FIG. <b>3</b></figref> is merely a schematic diagram of a moving manner of an automatic mower according to this embodiment. A specific path on which the automatic mower changes a moving manner may be flexibly chosen. After the automatic mower moves toward the expected location, the automatic mower alternatively does not need to return to the original location immediately, and instead, after completing mowing of the entire or partial working area, returns to a shaded area that has not been mowed. After the automatic mower travels to the expected location, the automatic mower can continue to move along the uncovered preset path or re-plan the path.</p><p id="p-0125" num="0124">In another embodiment of the present invention, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, when the automatic mower <b>1</b> travels alongside an obstacle such as a fence/a tree/flowers (a dotted-line part in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is a shadow formed by the obstacle such as the fence/tree/flowers), because of blocking, a GPS signal is relatively poor, and in this case, if GPS navigation continues to be used, the navigation is basically &#x201c;blind navigation&#x201d; and would cause a relatively large error. If the automatic mower is instructed to stop working and execute the lawn mowing task again after the GPS signal is stronger, efficiency is obviously reduced. In this case, the automatic mower may alternatively use an inertial navigation system carried thereon to perform navigation. However, it could be learned from a working principle of the inertial navigation system (a working principle of inertial navigation is based on Newton's laws of mechanics, and is measuring acceleration of a carrier in an inertial reference system, performing integration on time by using the acceleration, and converting the acceleration into a navigation coordinate system, so as to obtain information, such as a velocity, a yaw angle, and a location, in the navigation coordinate system) that the inertial navigation system is a calculation navigation manner, where as time extends, its precision is certainly reduced, and this is disadvantageous to long-time working of the automatic mower.</p><p id="p-0126" num="0125">Therefore, as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, a method for navigating a self-moving device of an embodiment includes steps S<b>110</b> to S<b>160</b>.</p><p id="p-0127" num="0126">Step S<b>110</b>: Detect whether a self-moving device can receive a stable satellite navigation signal, and if the self-moving device can receive a stable satellite navigation signal, proceed to step S<b>160</b>.</p><p id="p-0128" num="0127">Step S<b>120</b>: If the self-moving device cannot receive a stable satellite navigation signal, the self-moving device moves in an inertial navigation manner from a current location along a preset working direction S for a preset time period T, and records corresponding location coordinates of the self-moving device after the movement.</p><p id="p-0129" num="0128">Step S<b>130</b>: Detect whether the self-moving device can receive a stable satellite navigation signal, and if the self-moving device can receive a stable satellite navigation signal, proceed to step S<b>160</b>.</p><p id="p-0130" num="0129">Step S<b>140</b>: If the self-moving device cannot receive a stable satellite navigation signal, the self-moving device moves in the inertial navigation manner along a preset direction S<b>1</b> for a preset time period T<b>1</b> from the location coordinates of the moving device after the moving device moves along the working direction S for the preset time period T, where after moving along the preset direction S<b>1</b> for the preset time period T<b>1</b>, the self-moving device can receive a stable satellite navigation signal.</p><p id="p-0131" num="0130">Step S<b>150</b>: Control, in a satellite navigation manner, the self-moving device to return along a direction opposite to the preset direction S<b>1</b> to the location coordinates of the self-moving device after the self-moving device moves along the preset working direction S for the preset time period T, where postures of the self-moving device before and after the movement are the same, and proceed to step S<b>120</b>.</p><p id="p-0132" num="0131">Step S<b>160</b>: The self-moving device controls, in the satellite navigation manner, the self-moving device to move along the preset working direction S until the self-moving device completes a working task.</p><p id="p-0133" num="0132">In the foregoing method for navigating a self-moving device, when a satellite navigation signal cannot be received, a manner of alternating inertial navigation and satellite navigation may be adopted to ensure correctness of a path during working of the self-moving device, thereby improving navigation precision and reducing a navigation error.</p><p id="p-0134" num="0133">When the self-moving device adopts the inertial navigation manner, if the time period T during which the self-moving device moves along the preset working direction S is excessively long, a path error of the self-moving device is relatively large. Therefore, the time period T should be limited within a specific range. When the time period T<b>1</b> during which the self-moving device moves along the preset direction S<b>1</b> is excessively long, because the preset direction S<b>1</b> is not a working direction and is merely used for correcting a path error, the time period T<b>1</b> should also be limited within a specific range, so as to correct a navigation error as much as possible while reducing energy consumption of the self-moving device as much as possible. When the self-moving device moves along S and S<b>1</b>, a sum of moving times T and T<b>1</b> corresponding thereto should be less than a time during which the self-moving device can maintain high-precision positioning of inertial navigation, so as to sufficiently ensure accuracy of movement of the self-moving device along S and S<b>1</b> by using the inertial navigation.</p><p id="p-0135" num="0134">When the self-moving device moves along the preset direction S<b>1</b>, it should be ensured that the self-moving device can receive a stable satellite navigation signal within a shortest time. Therefore, an angle between the preset direction S<b>1</b> and the working direction S includes, but is not limited to, a 90-degree angle, so as to shorten, as much as possible, a time within which the self-moving device can receive a satellite navigation signal while moving along the preset direction S<b>1</b>. Moreover, correspondingly, the time period T<b>1</b> may be preset to the shortest time to improve working efficiency of the self-moving device.</p><p id="p-0136" num="0135">When the self-moving device moves along the preset direction S <b>1</b>, the self-moving device is located in different areas, and cases in which the self-moving device can receive a satellite signal are different in the different areas. Therefore, when the self-moving device moves long the direction S<b>1</b> in the different areas, times within which the self-moving device can receive a stable satellite navigation signal are different, that is, the time period T<b>1</b> for which the self-moving device moves along the direction S<b>1</b> may differ in different areas and may be, for example, 5 seconds, 6 seconds, or 10 seconds. However, the time period T<b>1</b> should be the shortest time within which the self-moving device can receive a satellite navigation signal while moving along the preset direction S<b>1</b>.</p><p id="p-0137" num="0136">The self-moving device may be different types of devices, and in particular, an automatic mower. A schematic diagram of that the automatic mower works according to the foregoing navigation method is shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. When an automatic mower R cannot receive a satellite navigation signal, the automatic mower R moves, in an inertial navigation manner, along a working direction S for a time period T to a point A, if the automatic mower R cannot receive a satellite navigation signal at the point A, the automatic mower R moves along a preset direction S<b>1</b> for a time period T<b>1</b> to a point B (where the automatic mower can receive a stable satellite navigation signal at the point B), and the automatic mower returns from the point B to the point A. Subsequently, the automatic mower moves from the point A along the working direction S for the time period T to a point C, if the automatic mower cannot receive a satellite navigation signal at the point C, the automatic mower moves long the preset direction S<b>1</b> for the time period T<b>1</b> to a point D (where the automatic mower can receive a stable satellite navigation signal at the point D), and the automatic mower returns from the point D to the point C. Afterward, the automatic mower moves from the point C along the working direction S for the time period T to a point E, if the automatic mower cannot receive a satellite navigation signal at the point E, the automatic mower moves long the preset direction S<b>1</b> for the time period T<b>1</b> to a point F (where the automatic mower can receive a stable satellite navigation signal at the point F), and automatic mower returns from the point F to the point E. The foregoing process is repeated until the automatic mower can receive a stable satellite navigation signal to move in a satellite navigation manner until the working task is completed.</p><p id="p-0138" num="0137">This embodiment further provides a self-moving device performing navigation by using the foregoing navigation method, and the self-moving device includes a satellite navigation module and an inertial navigation module and further includes:</p><p id="p-0139" num="0138">a detection module, configured to detect whether the satellite navigation module can receive a stable satellite navigation signal;</p><p id="p-0140" num="0139">a first control module, configured to use, when the detection module detects that the satellite navigation module can receive a stable satellite navigation signal, the satellite navigation module to control the self-moving device to move along a preset working direction S or use, when the detection module detects that the satellite navigation module cannot receive a stable satellite navigation signal, the inertial navigation module to control the self-moving device to move from a current location along a preset working direction S for a preset time period T, and record corresponding location coordinates of the self-moving device after the movement;</p><p id="p-0141" num="0140">a second control module, configured to use, when the detection module detects that the satellite navigation module can receive a stable satellite navigation signal, the satellite navigation module to control the self-moving device to move along the preset working direction S or use, when the detection module detects that the satellite navigation module cannot receive a stable satellite navigation signal, the inertial navigation module to control the self-moving device to move along a preset direction S<b>1</b> for a preset time period T<b>1</b>, where after moving along the preset direction S<b>1</b> for the preset time period T<b>1</b>, the self-moving device can receive a stable satellite navigation signal;</p><p id="p-0142" num="0141">a third control module, configured to use the satellite navigation module to control the self-moving device to return along a direction opposite to the preset direction S<b>1</b> to location coordinates of the self-moving device after the self-moving device moves along the preset working direction S for the preset time period T; and</p><p id="p-0143" num="0142">a main control module, configured to control the detection module, the first control module, the second control module, and the third control module to work.</p><p id="p-0144" num="0143">In the foregoing method for navigating a self-moving device, when a satellite navigation signal cannot be received, a manner of alternating inertial navigation and satellite navigation may be adopted to ensure correctness of a path during working of the self-moving device, thereby improving navigation precision and reducing a navigation error.</p><p id="p-0145" num="0144">When the self-moving device adopts the inertial navigation manner, if the time period T during which the self-moving device moves along the preset working direction S is excessively long, a path error of the self-moving device is relatively large. Therefore, the time period T should be limited within a specific range. When the time period T<b>1</b> during which the self-moving device moves along the preset direction S<b>1</b> is excessively long, because the preset direction S<b>1</b> is not a working direction and is merely used for correcting a path error, the time period T<b>1</b> should also be limited within a specific range, so as to correct a navigation error as much as possible while reducing energy consumption of the self-moving device as much as possible. Therefore, a sum of the preset time periods T and T<b>1</b> is less than a time during which the self-moving device can maintain high-precision positioning of inertial navigation.</p><p id="p-0146" num="0145">When the self-moving device moves along the preset direction S<b>1</b>, it should be ensured that the self-moving device can receive a stable satellite navigation signal within a shortest time. Therefore, an angle between the preset direction S<b>1</b> and the working direction S includes, but is not limited to, a 90-degree angle, so as to shorten, as much as possible, a time within which the self-moving device can receive a satellite navigation signal while moving along the preset direction S<b>1</b>. Moreover, correspondingly, the time period T<b>1</b> may be preset to the shortest time to improve working efficiency of the self-moving device.</p><p id="p-0147" num="0146">The first control module includes:</p><p id="p-0148" num="0147">a first navigation unit, configured to use the satellite navigation module to control the self-moving device to move along the preset working direction S;</p><p id="p-0149" num="0148">a second navigation unit, configured to use the inertial navigation module to control the self-moving device to move from the current location along the preset working direction S for the preset time period T; and</p><p id="p-0150" num="0149">a recording unit, configured to record corresponding location coordinates of the self-moving device after the movement and a posture of the self-moving device.</p><p id="p-0151" num="0150">The second control module includes:</p><p id="p-0152" num="0151">a first control unit, configured to use the satellite navigation module to control the self-moving device to move along the preset working direction S; and</p><p id="p-0153" num="0152">a second control unit, configured to use the inertial navigation module to control the self-moving device to move along the preset direction S<b>1</b> for the preset time period T<b>1</b>.</p><p id="p-0154" num="0153">In another embodiment of the present invention, referring to <figref idref="DRAWINGS">FIG. <b>6</b></figref>, <figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart of a method for controlling traveling of a self-moving device. In this embodiment, a traveling area of the self-moving device includes a radio signal dead zone and a radio signal coverage area. The method includes:</p><p id="p-0155" num="0154">S<b>102</b>: Detect a traveling area where a self-moving device is located when the self-moving device travels.</p><p id="p-0156" num="0155">Because precision of DGPS positioning of a mobile station is improved by means of communication with a base station, that is, the mobile station needs to receive a pseudo range correction (PRC) value sent by the base station in real time, but in actual applications, because of existence of blocking of obstacles such as a house, in communication between the base station and the mobile station, a dead zone or an area where a signal is relatively poor may appear, precise positioning of the mobile station is affected. Therefore, in this embodiment, a traveling area where the self-moving device is located is determined first, and if the self-moving device is located in a radio signal dead zone, a corresponding control policy is used to ensure that the self-moving device would not enter a dangerous area, so as to prevent damage to the self-moving device.</p><p id="p-0157" num="0156">S<b>104</b>: Start timing when the self-moving device is located in a radio signal dead zone.</p><p id="p-0158" num="0157">In this embodiment, the self-moving device is controlled to continue to travel. Usually, the self-moving device may be controlled to continue to travel according to a pre-planned path, or traveling of the self-moving device may be controlled according to a specific control policy.</p><p id="p-0159" num="0158">S<b>106</b>: Determine whether a time during which the self-moving device travels in the radio signal dead zone exceeds a first time threshold.</p><p id="p-0160" num="0159">In this embodiment, when the self-moving device enters a radio signal dead zone, the self-moving device is usually controlled to continue traveling according to a pre-planned path. If the self-moving device travels out of the radio signal dead zone within a first time threshold, that is, when the self-moving device travels to a radio signal coverage area, the self-moving device continues traveling according to the pre-planned path. If the self-moving device is still in the radio signal dead zone within the first time threshold, and if the self-moving device continues traveling according to the pre-planned path, the self-moving device may travel to a dangerous area. Therefore, traveling of the self-moving device needs to be controlled. Refer to the following for details. In addition, the first time threshold may be preset according to the width and the length of the radio signal dead zone, and may be, for example, 5 seconds, 10 seconds, 15 seconds, 18 seconds, or 20 seconds. However, usually, the first time threshold is less than or equal to 10 seconds.</p><p id="p-0161" num="0160">S<b>108</b>: When the time during which the self-moving device travels in the radio signal dead zone exceeds the first time threshold, control the self-moving device to move backward or turn and then continue to travel for a time of the first time threshold; otherwise, go back to step S<b>106</b> to determine whether the time during which the self-moving device travels in the radio signal dead zone exceeds the first time threshold.</p><p id="p-0162" num="0161">In this embodiment, because the time during which the self-moving device resides in the radio signal dead zone exceeds the first time threshold, to prevent the self-moving device from traveling into a dangerous area, a safest approach is enabling the self-moving device to return according to an original path, that is, to move backward and continue to travel for the time of the first time threshold. Alternatively, in another embodiment, the self-moving device may be controlled to turn, where, for example, a traveling direction of the self-moving device is controlled to rotate by an angle, and then the self-moving device continues to travel for the time of the first time threshold, where the angle ranges from 0 degrees to 180 degrees.</p><p id="p-0163" num="0162">S<b>111</b>: Determine whether the self-moving device is still in the radio signal dead zone after the self-moving device moves backward or turns and then continues to travel for the time of the first time threshold.</p><p id="p-0164" num="0163">S<b>112</b>: Control the self-moving device to shut down and issue an alarm when the self-moving device is still in the radio signal dead zone after the self-moving device moves backward or turns and then continues to travel for the time of the first time threshold; otherwise; otherwise, go back to step S<b>102</b> to determine whether the self-moving device is located in the radio signal dead zone.</p><p id="p-0165" num="0164">In this embodiment, the self-moving device may be controlled, by using devices such as a buzzer, to shut down and issue an alarm. Alternatively, information about that the self-moving device is located in the radio signal dead zone may be sent to a background.</p><p id="p-0166" num="0165">In the foregoing method for controlling traveling of the self-moving device, operation of the self-moving device is controlled by determining whether the self-moving device is located in the radio signal dead zone, so that when the self-moving device is in an area where positioning precision is poor such as a radio signal dead zone, the self-moving device can be prevented from traveling into a dangerous area, so as to prevent the self-moving device from being damaged.</p><p id="p-0167" num="0166">In one of the embodiments, referring to <figref idref="DRAWINGS">FIG. <b>7</b></figref>, <figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of a traveling area of a self-moving device in an embodiment. In one of the embodiments, the radio signal coverage area includes a first radio signal coverage area and a second radio signal coverage area, where the strength of a radio signal of the first radio signal coverage area is higher than the strength of a radio signal of the second radio signal coverage area. Usually, the first radio signal coverage area is an area where a radio signal is good, and the second radio signal coverage area is an area where a radio signal is relatively poor. In the second radio signal coverage area, the self-moving device may obtain a PRC signal sent by a base station, but the signal strength of the PRC signal is relatively poor, and there is much interference. Referring to <figref idref="DRAWINGS">FIG. <b>8</b></figref>, <figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart of a method for controlling traveling of a self-moving device located in a second radio signal coverage area in an embodiment. In this embodiment, the method includes:</p><p id="p-0168" num="0167">S<b>302</b>: Detect a traveling area where a self-moving device is located when the self-moving device travels.</p><p id="p-0169" num="0168">In this embodiment, a radio signal coverage area is divided into a first radio signal coverage area and a second radio signal coverage area. In the first radio signal coverage area, precise positioning of the self-moving device can be implemented, and the self-moving device only needs to continue traveling according to a pre-planned path. However, if the self-moving device is located in the second radio signal coverage area, because a signal of a base station received by a mobile station on the self-moving device has much interference, positioning of the self-moving device is no longer precise. Consequently. if the self-moving device continues traveling, the self-moving device is likely to enter a dangerous area, and therefore, traveling of the self-moving device needs to be controlled. Refer to the following for details.</p><p id="p-0170" num="0169">S<b>304</b>: Start timing when the self-moving device is located in a second radio signal coverage area.</p><p id="p-0171" num="0170">In this embodiment, a second time threshold may be set according to the width and the length of the second radio signal coverage area, and may be, for example, 10 seconds, 15 seconds, 22 seconds, 25 seconds, 28 seconds, 30 seconds, or 35 seconds or the like. However, usually, the second time threshold is less than or equal to 30 seconds, and the second time threshold is usually greater than a first time threshold.</p><p id="p-0172" num="0171">S<b>306</b>: Determine whether a time during which the self-moving device travels in the second radio signal coverage area exceeds a second time threshold.</p><p id="p-0173" num="0172">S<b>308</b>: When the time during which the self-moving device travels in the second radio signal coverage area exceeds the second time threshold, control the self-moving device to travel toward a first radio signal coverage area; otherwise, go back to step S<b>306</b> to determine whether the time during which the self-moving device travels in the second radio signal coverage area exceeds the second time threshold.</p><p id="p-0174" num="0173">In this embodiment, since the self-moving device is not completely unable receive a signal of a base station, a received signal of a base station is relatively poor, the self-moving device can approximately obtain a relative direction between a current location of the self-moving device and the first radio signal coverage area, so that the self-moving device can travel toward the first radio signal coverage area according to the relative direction. Therefore, the step of controlling the self-moving device to travel toward the first radio signal coverage area may include: obtaining a relative direction between a current location of the self-moving device and the first radio signal coverage area; and controlling, according to the relative direction, the self-moving device to travel toward the first radio signal coverage area.</p><p id="p-0175" num="0174">In one of the embodiments, when the self-moving device travels from the second radio signal coverage area to the first radio signal coverage area within the second time threshold time, the self-moving device only needs to continue traveling according to a pre-planned path. However, if the self-moving device travels from the second radio signal coverage area to the radio signal dead zone within the second time threshold time, the self-moving device cannot obtain precise positioning thereof. Therefore, referring to <figref idref="DRAWINGS">FIG. <b>9</b></figref>, <figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart of a method for controlling traveling of a self-moving device located in a second radio signal coverage area in still another embodiment. In this embodiment, the method includes:</p><p id="p-0176" num="0175">S<b>402</b>: Determine whether the self-moving device travels from the second radio signal coverage area to a radio signal dead zone.</p><p id="p-0177" num="0176">S<b>404</b>: When the self-moving device travels from the second radio signal coverage area to the radio signal dead zone, calculate a time during which the self-moving device is located in the second radio signal coverage area last time; otherwise, proceed to step S<b>420</b> to determine whether the self-moving device travels from the second radio signal coverage area to a first radio signal coverage area.</p><p id="p-0178" num="0177">Because the self-moving device travels from the second radio signal coverage area to the radio signal dead zone, and because in the second radio signal coverage area, the self-moving device already cannot perform positioning precisely, and if a time of further traveling to the radio signal dead zone is relatively long, a time during which the self-moving device cannot perform positioning precisely is excessively long, and the self-moving device is very likely to travel to a dangerous area, a time during which the self-moving device travels in the second radio signal coverage area needs to be calculated, and a threshold of a traveling time of the self-moving device in the radio signal dead zone is determined according to the time.</p><p id="p-0179" num="0178">S<b>406</b>: Determine whether the calculated time during which the self-moving device is located in the second radio signal coverage area last time is less than or equal to a third time threshold. In this embodiment, the third time threshold may be 5 seconds, 6 seconds, 8 seconds, 10 seconds, 12 seconds, 15 seconds, 18 seconds, or the like. Usually, the third time threshold is less than or equal to 10 seconds, and the third time threshold is less than the second time threshold.</p><p id="p-0180" num="0179">S<b>408</b>: Start timing when the calculated time during which the self-moving device is located in the second radio signal coverage area last time is less than or equal to the third time threshold; otherwise, proceed to step S<b>418</b> to control the self-moving device to shut down and issue an alarm.</p><p id="p-0181" num="0180">S<b>410</b>: Determine whether a time during which the self-moving device travels in the radio signal dead zone exceeds a fourth time threshold.</p><p id="p-0182" num="0181">In this embodiment, the fourth time threshold is determined according to the time during which the self-moving device is located in the second radio signal coverage area last time. The fourth time threshold may be 5 seconds, 7 seconds, 9 seconds, 12 seconds, 15 seconds, 18 seconds, or the like. Usually, the fourth time threshold is less than or equal to 10 seconds, and the fourth time threshold is less than the first time threshold.</p><p id="p-0183" num="0182">S<b>412</b>: When the time during which the self-moving device travels in the radio signal dead zone exceeds the fourth time threshold, control the self-moving device to move backward or turn and then continue to travel for a time of a fifth time threshold. In this embodiment, the fifth time threshold may be 5 seconds, 7 seconds, 9 seconds, 12 seconds, 15 seconds, 18 seconds, or the like. Usually, the fifth time threshold is 10 seconds, and the fifth time threshold is equal to or more than the fourth time threshold.</p><p id="p-0184" num="0183">S<b>414</b>: Determine whether the self-moving device is still in the radio signal dead zone after the self-moving device moves backward or turns and then continues to travel for the time of the fifth time threshold.</p><p id="p-0185" num="0184">S<b>416</b>: Control the self-moving device to shut down and issue an alarm when the self-moving device is still in the radio signal dead zone after the self-moving device moves backward or turns and then continues to travel for the time of the fifth time threshold.</p><p id="p-0186" num="0185">S<b>418</b>: Control the self-moving device to shut down and issue an alarm.</p><p id="p-0187" num="0186">S<b>420</b>: Determine whether the self-moving device travels from the second radio signal coverage area to the first radio signal coverage area.</p><p id="p-0188" num="0187">S<b>422</b>: When the self-moving device travels from the second radio signal coverage area to the first radio signal coverage area, control the self-moving device to travel according to a pre-planned path; otherwise, go back to step S<b>306</b> to continue to determine whether the time during which the self-moving device travels in the second radio signal coverage area exceeds the second time threshold.</p><p id="p-0189" num="0188">In this embodiment, the self-moving device may be controlled, by using devices such as a buzzer, to shut down and issue an alarm. Alternatively, information about that the self-moving device is located in the radio signal dead zone may be sent to a background.</p><p id="p-0190" num="0189">In one of the embodiments, the self-moving device is controlled to shut down and issue an alarm when the calculated time during which the self-moving device is located in the second radio signal coverage area last time exceeds the third time threshold and is less than the second time threshold.</p><p id="p-0191" num="0190">To make a person skilled in the art fully understand the method in this embodiment, a method for controlling traveling of a self-moving device in this embodiment is described below with reference to <figref idref="DRAWINGS">FIG. <b>10</b></figref>. <figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flowchart of a method for controlling traveling of a self-moving device in another embodiment. In this embodiment, a self-moving device is first controlled to start traveling.</p><p id="p-0192" num="0191">If the self-moving device is located in a first radio signal coverage area, the self-moving device is controlled to travel according to a pre-planned path.</p><p id="p-0193" num="0192">If the self-moving device is located in a radio signal dead zone, the self-moving device is controlled to travel according to a pre-planned path and start timing. If a time of traveling in the radio signal dead zone exceeds a first threshold time, the self-moving device is controlled to move backward or turn and then continue to travel for a time of the first time threshold. If the self-moving device is still in the radio signal dead zone after the self-moving device travels for the time of the first time threshold, the self-moving device shuts down and issues an alarm.</p><p id="p-0194" num="0193">If the self-moving device is located in the second radio signal coverage area, the self-moving device is controlled to travel according to a pre-planned path and start timing. If a time of traveling in the second radio signal coverage area exceeds a second time threshold, the self-moving device is controlled to travel toward the first radio signal coverage area. If the time of traveling in the second radio signal coverage area does not exceed the second time threshold, the self-moving device is controlled to continue to travel, and it is determined whether the self-moving device travels to the radio signal dead zone. If the self-moving device travels to the radio signal dead zone, a time of being located in the second radio signal coverage area last time is calculated, and it is determined whether the time of being located in the second radio signal coverage area last time exceeds a third time threshold. If the third time threshold is not exceeded, the self-moving device is controlled to continue traveling according to the pre-planned path, and it is determined whether a time during which the self-moving device travels in the radio signal dead zone exceeds a fourth time threshold. If the fourth time threshold is exceeded, the self-moving device is controlled to move backward or turn and then continue to travel a time of a fifth time threshold. If the self-moving device is still in the radio signal dead zone after the self-moving device travels for the time of the fifth time threshold, the self-moving device shuts down and issues an alarm.</p><p id="p-0195" num="0194">Referring to <figref idref="DRAWINGS">FIG. <b>11</b></figref>, <figref idref="DRAWINGS">FIG. <b>11</b></figref> is a schematic structural diagram of a system for controlling traveling of a self-moving device in an embodiment. In this embodiment, a traveling area of the self-moving device includes a radio signal dead zone and a radio signal coverage area. The system may include a controller, a timer, a steering, and an alarm. The timer is connected to the controller, the steering is connected to the controller, and the alarm is connected to the controller. The controller is configured to detect whether the self-moving device is located in the radio signal dead zone when the self-moving device travels; the timer is configured to start timing when the self-moving device is located in the radio signal dead zone; the steering is configured to: when a time during which the self-moving device travels in the radio signal dead zone exceeds a first time threshold, control the self-moving device to move backward or turn, where after the self-moving device moves backward or turns, the controller is further configured to control the self-moving device to continue to travel for a time of the first time threshold; and the alarm is configured to control the self-moving device to shut down and issue an alarm when the self-moving device is still in the radio signal dead zone after the self-moving device moves backward or turns and then continues to travel for the time of the first time threshold.</p><p id="p-0196" num="0195">In one of the embodiments, the steering may include: an angle setting module, configured to set a rotation angle of the self-moving device, where the angle ranges from 0 degrees to 180 degrees; and a steering module, connected to the controller and the angle setting module, and configured to control the self-moving device to move backward or turn by the angle when the time during which the self-moving device travels in the radio signal dead zone exceeds the first time threshold.</p><p id="p-0197" num="0196">In one of the embodiments, the radio signal coverage area includes a first radio signal coverage area and a second radio signal coverage area, where the strength of a radio signal of the first radio signal coverage area is higher than the strength of a radio signal of the second radio signal coverage area; the controller is further configured to detect that the self-moving device is located in the second radio signal coverage area when the self-moving device travels; the timer is further configured to start timing when the self-moving device is located in the second radio signal dead zone; and the steering is further configured to control the self-moving device to travel toward the first radio signal coverage area when a time during which the self-moving device travels in the second radio signal coverage area exceeds a second time threshold. In one of the embodiments, refer to the descriptions above for values of the first time threshold and the second time threshold. Usually, the first time threshold is less than or equal to 10 seconds, and the second time threshold is less than or equal to 30 seconds.</p><p id="p-0198" num="0197">In one of the embodiments, the controller is further configured to: when the self-moving device travels from the second radio signal coverage area to the radio signal dead zone, calculate a time during which the self-moving device is located in the second radio signal coverage area; the timer is further configured to start timing when the calculated time during which the self-moving device is located in the second radio signal coverage area does not exceed a third time threshold; the steering is further configured to: when a time during which the self-moving device travels in the radio signal dead zone exceeds a fourth time threshold, control the self-moving device to move backward or turn, where the fourth time threshold is less than the first time threshold; and after the self-moving device moves backward or turns, the controller is further configured to control the self-moving device to continue to travel for a time of a fifth time threshold; and the alarm is further configured to control the self-moving device to shut down and issue an alarm when the self-moving device is still in the radio signal dead zone after the self-moving device moves backward or turns and then continues to travel for the time of the fifth time threshold.</p><p id="p-0199" num="0198">In one of the embodiments, the alarm is further configured to control the self-moving device to shut down and issue an alarm when the calculated time during which the self-moving device is located in the second radio signal coverage area last time exceeds the third time threshold and is less than the second time threshold.</p><p id="p-0200" num="0199">In one of the embodiments, refer to the descriptions above for ranges of the third time threshold, the fourth time threshold, and the fifth time threshold. Usually, the third time threshold is less than or equal to 10 seconds, the fourth time threshold is less than 10 seconds, and the fifth time threshold is equal to 10 seconds.</p><p id="p-0201" num="0200">The present invention is not limited to the specific embodiments described, and structures and methods based on the idea of the present invention all fall within the protection scope of the present invention.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A self-moving device, comprising:<claim-text>a moving module, a task execution module, and a control module, wherein the control module is electrically connected to the moving module and the task execution module, and is configured to control the moving module to actuate the self-moving device to move, and to control the task execution module to execute a working task;</claim-text><claim-text>the self-moving device further comprises a satellite navigation apparatus, electrically connected to the control module and configured to receive a satellite signal and output current location information of the self-moving device, wherein the self-moving device comprises a storage unit, electrically connected to the control module and the satellite navigation apparatus; a location at which quality of location information output by the satellite navigation apparatus satisfies a preset condition is referred to as an expected location; the storage unit stores information of the expected location;</claim-text><claim-text>wherein the control module is further configured to:</claim-text><claim-text>control the moving module to actuate the self-moving device to move along a preset path;</claim-text><claim-text>determine whether quality of location information output by the satellite navigation apparatus at a current location satisfies the preset condition, and if the quality does not satisfy the preset condition, control the moving module to actuate the self-moving device to continue to move along the preset path;</claim-text><claim-text>if the quality still does not satisfy the preset condition after the self-moving device moves along the preset path for a preset time or by a preset distance, control the moving module to actuate the self-moving device to move toward the expected location, to enable quality of location information output by the satellite navigation apparatus at a location after the movement to satisfy the preset condition.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The self-moving device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control module determines distances between several expected locations stored in the storage unit and the current location of the self-moving device, chooses one of the several expected locations according to the distances between the expected locations and the current location of the self-moving device, and controls the moving module to actuate the self-moving device to move toward the chosen expected location.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The self-moving device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the control module controls the moving module to actuate the self-moving device to move toward an expected location closest to the current location of the self-moving device.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The self-moving device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a location at which the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition before the self-moving device changes the moving manner is referred to as an original location, and the storage unit stores information of the original location; and after the self-moving device moves to the expected location, the control module controls the moving module to actuate the self-moving device to return to the original location.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The self-moving device according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein after controlling the moving module to actuate the self-moving device return to the original location, the control module controls the moving module to actuate the self-moving device to continue to move along the preset path.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The self-moving device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the self-moving device further comprises at least one location sensor, electrically connected to the control module, and configured to detect features related to the location of the self-moving device; and<claim-text>when the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition, the control module determines the current location of the self-moving device at least partially based on output of the location sensor.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The self-moving device according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the location sensor comprises at least one of a camera, radar, a capacitive sensor, and an inertial navigation sensor.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The self-moving device according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein when the quality of the location information output by the satellite navigation apparatus satisfies the preset condition, the self-moving device corrects the output of the location sensor by using output of the satellite navigation apparatus.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The self-moving device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the preset condition comprises that a quantity of satellites from which the satellite navigation apparatus receives a signal is greater than or equal to a preset value.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The self-moving device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein if the quality does satisfy the preset condition while the self-moving device moves along the present path within the preset distance or the preset time, the self-moving device is controlled to continue to move along the preset path.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. An automatic working system, comprising the self-moving device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. A method for controlling a self-moving device, wherein the self-moving device comprises a satellite navigation apparatus, configured to receive a satellite signal and output current location information of the self-moving device, and the method for controlling a self-moving device comprises steps of:<claim-text>controlling the moving module to actuate the self-moving device to move along a preset path;</claim-text><claim-text>determining a location at which quality of location information output by the satellite navigation apparatus satisfies a preset condition is referred to as an expected location;</claim-text><claim-text>storing the expected location;</claim-text><claim-text>determining whether quality of location information output by the satellite navigation apparatus at a current location satisfies the preset condition, and if the quality does not satisfy the preset condition, control the moving module to actuate the self-moving device to continue to move along the preset path; and</claim-text><claim-text>controlling the moving module to actuate the self-moving device to move toward the expected location, if the quality still does not satisfy the preset condition after the self-moving device moves along the preset path for a preset time or by a preset distance, to enable quality of location information output by the satellite navigation apparatus at a location after the movement to satisfy the preset condition.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method for controlling a self-moving device according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein distances between several stored expected locations and the current location of the self-moving device are determined, one of the several expected locations is chosen according to the distances between the expected locations and the current location of the self-moving device, and the self-moving device is controlled to move toward the chosen expected location.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method for controlling a self-moving device according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the self-moving device is controlled to move toward an expected location closest to the current location of the self-moving device.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method for controlling a self-moving device according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein a location at which the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition before the self-moving device changes the moving manner is referred to as an original location, and information of the original location is stored; and after the self-moving device is controlled to move to the expected location, the self-moving device is further controlled to return to the original location.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method for controlling a self-moving device according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein after the self-moving device returns to the original location, the self-moving device is controlled to continue to move along the preset path.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method for controlling a self-moving device according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the self-moving device further comprises at least one location sensor, configured to detect features related to the location of the self-moving device; and when the quality of the location information output by the satellite navigation apparatus does not satisfy the preset condition, the current location of the self-moving device is determined at least partially based on output of the location sensor.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method for controlling a self-moving device according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, controlling the moving module to actuate the self-moving device to continue to move along the present path, if the quality satisfies the preset condition before the self-moving device moves along the preset path for the preset time or by the preset distance.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. A self-moving device, comprising:<claim-text>a moving module, a task execution module, and a control module, wherein the control module is electrically connected to the moving module and the task execution module, and is configured to control the moving module to actuate the self-moving device to move, and to control the task execution module to execute a working task;</claim-text><claim-text>the self-moving device further comprises a satellite navigation apparatus, electrically connected to the control module and configured to receive a satellite signal and output current location information of the self-moving device, wherein the self-moving device comprises a storage unit, electrically connected to the control module and the satellite navigation apparatus; a location at which quality of location information output by the satellite navigation apparatus satisfies a preset condition is referred to as an expected location; the storage unit stores information of the expected location; wherein</claim-text><claim-text>the control module is further configured to:</claim-text><claim-text>determine whether quality of location information output by the satellite navigation apparatus at a current location satisfies the preset condition, and if the quality does not satisfy the preset condition while the self-moving device moves along a preset path for a preset time or by a preset distance, control the moving module to actuate the self-moving device to move toward the expected location, to enable quality of location information output by the satellite navigation apparatus at a location after the movement to satisfy the preset condition, and if the quality does satisfy the preset condition while the self-moving device moves along the present path within the preset distance or the preset time, the self-moving device is controlled to continue to move along the preset path.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The self-moving device according to <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the storage unit stores information of several expected locations, the control module is further configured to choose one of the several expected locations, and control the moving module to actuate the self-moving device to move toward the chosen expected location.</claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. The self-moving device according to <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the control module is further configured to control the moving module to actuate the self-moving device to move toward the expected location directly, if the quality does not satisfy the preset condition.</claim-text></claim></claims></us-patent-application>