<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230005707A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230005707</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17944121</doc-number><date>20220913</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>01</class><subclass>J</subclass><main-group>37</main-group><subgroup>244</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>01</class><subclass>L</subclass><main-group>27</main-group><subgroup>146</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>01</class><subclass>J</subclass><main-group>37</main-group><subgroup>244</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>01</class><subclass>L</subclass><main-group>27</main-group><subgroup>14609</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">SWITCH MATRIX DESIGN FOR BEAM IMAGE SYSTEM</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16648385</doc-number><date>20200318</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11476085</doc-number></document-id></parent-grant-document><parent-pct-document><document-id><country>WO</country><doc-number>PCT/EP2018/074834</doc-number><date>20180914</date></document-id></parent-pct-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17944121</doc-number></document-id></child-doc></relation></continuation><us-provisional-application><document-id><country>US</country><doc-number>62560122</doc-number><date>20170918</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>ASML Netherlands B.V.</orgname><address><city>Veldhoven</city><country>NL</country></address></addressbook><residence><country>NL</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>WANG</last-name><first-name>Yongxin</first-name><address><city>San Ramon</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>DONG</last-name><first-name>Zhonghua</first-name><address><city>Sunnyvale</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>LAI</last-name><first-name>Rui-Ling</first-name><address><city>Chang-Hua</city><country>TW</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>ASML Netherlands B.V.</orgname><role>03</role><address><city>Veldhoven</city><country>NL</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">Systems and methods for implementing a detector array are disclosed. According to certain embodiments, a substrate comprises a plurality of sensing elements including a first element and a second element. The detector comprises a switching element configured to connect the first element and the second element. The switching region may be controlled based on signals generated in response to the sensing elements receiving electrons with a predetermined amount of energy.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="141.14mm" wi="114.55mm" file="US20230005707A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="114.55mm" wi="127.34mm" orientation="landscape" file="US20230005707A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="116.59mm" wi="152.65mm" orientation="landscape" file="US20230005707A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="123.53mm" wi="152.48mm" orientation="landscape" file="US20230005707A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="128.44mm" wi="155.02mm" orientation="landscape" file="US20230005707A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="108.29mm" wi="140.80mm" orientation="landscape" file="US20230005707A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="147.91mm" wi="151.98mm" orientation="landscape" file="US20230005707A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="144.95mm" wi="149.01mm" orientation="landscape" file="US20230005707A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="164.08mm" wi="150.45mm" orientation="landscape" file="US20230005707A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="146.90mm" wi="150.96mm" orientation="landscape" file="US20230005707A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="149.44mm" wi="155.02mm" orientation="landscape" file="US20230005707A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="144.44mm" wi="150.03mm" orientation="landscape" file="US20230005707A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="111.34mm" wi="153.42mm" orientation="landscape" file="US20230005707A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="107.36mm" wi="144.70mm" orientation="landscape" file="US20230005707A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="146.39mm" wi="149.35mm" orientation="landscape" file="US20230005707A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application claims priority of U.S. application 62/560,122 which was filed on Sep. 18, 2017 and which is incorporated herein in its entirety by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">The present disclosure generally relates to the field of detector arrays, and more particularly, to a detector array applicable for charged particle detection.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">Detectors are used in various fields for sensing physically observable phenomena. For example, electron microscopes are useful tools for observing the surface topography and composition of a sample. In a charged particle beam tool used for microscopy, charged particles are directed to a sample and may interact with the sample in various ways. For example, after hitting a sample, secondary electrons, backscattered electrons, auger electrons, x-rays, visible light, etc. may be emitted from the sample and detected by a detector. The scattered particles may form a beam incident on the detector.</p><p id="p-0005" num="0004">Electron beams comprising backscattered electrons and secondary electrons can form one or more beam spots at various locations on a surface of an electron detector. The electron detector can generate electrical signals (e.g., current, voltage, etc.) that represent an intensity of the detected electron beams. The electrical signals can be measured with measurement circuitries (e.g., analog-to-digital converters) to obtain a distribution of the detected electrons. The electron distribution data collected during a detection time window, in combination with corresponding scan path data of the one or more primary electron beams incident on the sample surface, can be used to reconstruct images of the sample structures under inspection. The reconstructed images can be used to reveal various features of the internal and/or external structures of the sample, and can be used to reveal any defects that may exist in the sample.</p><p id="p-0006" num="0005">Imperfections in electron optical sub-systems may degrade the quality of reconstructed images representing the sample. For example, in a case with multiple primary electron beams scanning a sample and where multiple electron beams are emitted by the sample under inspection, due to the effects of aberration and dispersion in the electron optical sub-system, electrons from adjacent beams emitted from the sample may reach the same location of the electron detector surface. As a result, beam spots formed by adjacent electron beams may partially overlap, leading to crosstalk. The effects of crosstalk may be added to the output signals of the electron detector as noise. Thus, output signals of the electron detector may include noise components that do not correlate with a particular sample structure under inspection, and the fidelity of image reconstruction suffers.</p><p id="p-0007" num="0006">Therefore, there is a need for a detector array having flexibility to allow electron sensing element reconfiguration. Application specific integrated circuits (ASICs) may provide flexibility to allow for grouping of active sensing elements. An ASIC may be useful for an electron detector array to allow grouping of active sensing elements corresponding to a particular beam or beamlet spot. Such an ASIC in an electron detector array would require a switching matrix for controlling grouping of the particular sensing elements which are desired to be grouped.</p><p id="p-0008" num="0007">However, a conventional switch matrix may face limitations in manufacturing and practical application due to its complexity. To obtain a high level of flexibility desirable for electron sensing element reconfiguration in an electron detector array, a very complicated switch matrix design would he required. A complicated design is difficult to be scaled up.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0009" num="0008">Embodiments of the present disclosure provide systems and methods for charged particle detection. In one embodiment, a detection system is provided. The detection system may comprise a detector.</p><p id="p-0010" num="0009">In some embodiments, a detector may include a substrate having a plurality of sensing elements. Among the sensing elements may be a first element and a second element. The detector may also include a switching element configured to connect the first element and the second element. The first clement may be configured to generate a first signal in response to the first element detecting a beam, and the second element may be configured to generate a second signal in response to the second element detecting the beam. The switching element may be configured to be controlled based on the first signal and the second signal.</p><p id="p-0011" num="0010">In some embodiments, a detector may include a sensor layer having an array of sensing elements including a first element and a second element where the first element and the second element are adjacent. The detector may also include a circuit layer having one or more circuits configured to he electrically connected to the first element and the second element. The detector may also comprise a switching element included in the circuit layer. The one or more circuits may be configured to generate a first status indicator when the first element receives charged particles with a predetermined amount of energy, generate a second status indicator when the second element receives charged particles with a predetermined amount of energy, and control the switching element based on the first status indicator and the second status indicator.</p><p id="p-0012" num="0011">In some embodiments, a detector system may include a detector array with a plurality of sensing elements including a first element and a second element, and a switching element configured to connect the first element and the second clement. The detector system may also include one or more circuits configured to generate a first signal in response to the first element detecting a beam, and generate a second signal in response to the second element detecting the beam. A controller may be provided that is connected to the one or more circuits.</p><p id="p-0013" num="0012">According to some embodiments, an arrangement can be achieved which eliminates a trade-off relationship between pixel count and increased detector manufacturing difficulties. A detector can be provided such that it can achieve a high pixel count, high flexibility, and without corresponding manufacturing difficulties.</p><p id="p-0014" num="0013">Additional objects and advantages of the disclosed embodiments will be set forth in part in the following description, and in part will be apparent from the description, or may be learned by practice of the embodiments. Objects and advantages of the disclosed embodiments may be realized and attained by the elements and combinations set forth in the claims. However, exemplary embodiments of the present disclosure are not necessarily required to achieve such exemplary objects and advantages, and some embodiments may not achieve any of the stated objects and advantages.</p><p id="p-0015" num="0014">It is to be understood that both the foregoing general description and the following detailed description are exemplary and explanatory only and are not restrictive of the disclosed embodiments, as claimed.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram illustrating an exemplary electron beam inspection (EBI) system, consistent with embodiments of the present disclosure.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic diagram illustrating an exemplary electron beam tool that can be a part of the exemplary electron beam inspection system of <figref idref="DRAWINGS">FIG. <b>1</b></figref>, consistent with embodiments of the present disclosure.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIGS. <b>3</b>A-<b>3</b>D</figref> are diagrams illustrating exemplary surfaces of a detector array, consistent with embodiments of the present disclosure.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIGS. <b>4</b>A-<b>4</b>C</figref> are diagrams illustrating a cross sectional view of a detector, consistent with embodiments of the present disclosure.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIGS. <b>5</b>A and <b>5</b>B</figref> are circuit diagrams illustrating a sensor layer and circuit layer of a detector, consistent with embodiments of the present disclosure.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a simplified circuit schematic diagram illustrating an exemplary detector array, consistent with embodiments of the present disclosure.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a diagram illustrating one or more circuits relating location data of sensing elements, consistent with embodiments of the present disclosure.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a diagram illustrating a detection system using a detector array comprising a plurality of sensing elements, consistent with embodiments of the present disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DESCRIPTION OF EMBODIMENTS</heading><p id="p-0024" num="0023">Reference will now be made in detail to exemplary embodiments, examples of which are illustrated in the accompanying drawings. The following description refers to the accompanying drawings in which the same numbers in different drawings represent the same or similar elements unless otherwise represented. The implementations set forth in the following description of exemplary embodiments do not represent all implementations consistent with the invention. Instead, they are merely examples of apparatuses and methods consistent with aspects related to the subject matter as recited in the appended claims.</p><p id="p-0025" num="0024">Embodiments of the present disclosure provide a detector having an array architecture. The detector may enable field reconfiguration of sensing elements included on an array surface of the detector. The detector may comprise switching elements, such as elements configured to connect pairs of sensing elements. Switching elements can control an electrical connection between the two sensing elements of the pair. Switching elements may comprise switches.</p><p id="p-0026" num="0025">Switches configured to connect two sensing elements can be formed in a switch matrix adjacent a sensing layer of a detector array, where the sensing layer contains the sensing elements. The switch matrix may be configured as an application specific integrated circuit (ASIC) composed of electrical components fabricated with standard device processes. Switches need not be embedded in the sensing layer. Thus, manufacturing of a detector array may be simplified.</p><p id="p-0027" num="0026">Switching elements may comprise any of electrically operated switches. For example, a switch may comprise a relay, a transistor, an analog switch, a solid-state relay, or semiconductor devices capable of connecting or disconnected an electrical circuit. A switch may have an element for operating the switch that is controlled by logical elements.</p><p id="p-0028" num="0027">The sensing elements can form an arbitrary number of groups with arbitrary shapes and an arbitrary number of sensing elements in each group. A control circuit for each switch may be located beside each corresponding switch. The control circuit may comprise logical elements. The switch between pairs of sensing elements can be addressed by row control and/or line control wires. The control circuit and the switches may be contained in a common circuit die.</p><p id="p-0029" num="0028">An array of sensing elements can be formed as a sensor layer in a substrate. The control circuit may be formed as a circuit layer in a substrate. The switching elements may be formed in the circuit layer. Alternatively, the switching elements may be formed as a separate layer sandwiched between the sensing layer and the circuit layer.</p><p id="p-0030" num="0029">In an arrangement consistent with aspects of the present disclosure, interconnections in the circuit layer can be simplified. Output signal of each group of sensing elements can be routed through multiple output wires connected to the group. The output wires, together with connections between sensing elements formed by the switches in the group, can form a network having a low equivalent output serial resistance and serial inductance. For example, in some embodiments, a control circuit may form a network that has reduced equivalent output serial resistance and serial inductance compared to a conventional methods. Output impedance of grouped sensing elements can be reduced such that wide band operation is facilitated.</p><p id="p-0031" num="0030">Embodiments of the present disclosure provide an electron beam tool with an electron detector. A circuit layer may be provided which is coupled with the electron detector. The electron detector can be configured to receive backscattered primary electrons and secondary electrons emitted from a sample. The received electrons form one or more beam spots on a surface of the detector. The surface of the detector can include a plurality of electron sensing elements configured to generate electrical signals in response to receiving the electrons.</p><p id="p-0032" num="0031">In some embodiments, the circuit layer may comprise pre-processing circuitry and signal processing circuitry that are used to configure grouping of the plurality of electron sensing elements. For example, the pre-processing circuitry and signal processing circuitry can be configured to generate indications related to the magnitude of the generated electrical signals. Such circuitry may comprise logic blocks, such as a gate associated with two sensing elements of the plurality of sensing elements. The gate may be configured to determine a connection state based on signals generated from the sensing elements. The gate may be controlled such that the two sensing elements are electrically connected or disconnected via the switching element configured to connect the two sensing elements. Electrical signals generated from the sensing elements may be configured to pass through the switching element. Determinations may be made based on electrical signals from the sensing elements.</p><p id="p-0033" num="0032">Post-processing circuitry may be configured to interact with a controller configured to acquire an image of beams or beamlets based on the output of the sensing elements. The controller may reconstruct an image of the beam. The controller may be configured to determine beam boundaries based on the reconstructed image, for example primary and secondary boundaries of a beam spot.</p><p id="p-0034" num="0033">Further implementations of post-processing circuitry may comprise one or more circuits that can be configured to determine, based on generated indications from the pre-processing circuitry, which of the electron sensing elements lie within a boundary of a beam spot, for example a primary boundary. Processing may be carried out to generate a value representing the intensity of a beam spot based on the determined primary boundary. In some embodiments, a grouping can be used to determine which of the electron sensing elements lie outside the primary boundary of the beam spot. Noise signals may be estimated based on the output of sensing elements determined to be outside the primary boundary. Post-processing circuitry can compensate for the estimated noise signals when generating the intensity data of the beam spot.</p><p id="p-0035" num="0034">Grouping of sensing elements may be based on electrical signals generated by the sensing elements in response to being hit by electrons of an electron beam. Grouping may be based on electrical signals passing through the switching element configured to connect neighboring sensing elements. Grouping may also be based on determinations by post-processing circuitry. For example, in some embodiments, primary and/or secondary beam spot boundaries may be determined based on output signals of the sensing elements.</p><p id="p-0036" num="0035">Local control logic associated with a pixel may generate an indication of the signal level of the corresponding sensing element. This indication can be used to determine whether two adjacent sensing elements should be connected by the switching element. In this manner, groups can be formed. Based on the formed groups of sensing elements, a primary boundary can be determined. Furthermore, in some embodiments, gradient information can be obtained and used to determine a secondary boundary.</p><p id="p-0037" num="0036">Electrons of an incident electron beam may have different properties, e.g., different energy due to different generation processes. Distribution or concentrations of electrons with different properties may vary at different locations. Thus, within an electron beam, an intensity pattern in the detected electron beam spot may correspond to primary or secondary boundaries.</p><p id="p-0038" num="0037">Primary and secondary beam spot boundaries can be used to group output signals of corresponding electron sensing elements. The groups can be formed so that their geometrical arrangement matches the pattern of the corresponding electron beam spot. As an example, a portion of the electron beam spot detected by electron sensing elements within the secondary beam boundary may consist almost entirely of backscattered electrons while a portion of the electron beam spot detected by electron sensing elements between the primary and secondary beam boundaries may consist almost entirely of secondary electrons. The formed groups can therefore yield intensity information of the entire detected beam and also the intensity information corresponding to the backscattered and secondary electron portions of the electron beam. Accordingly, some embodiments can provide information about the detected electron beam spots and properties of the sample under investigation.</p><p id="p-0039" num="0038">Reference will now be made in detail to the example embodiments, which are illustrated in the accompanying drawings. Although the following embodiments are described in the context of utilizing electron beams, the disclosure is not so limited. Other types of charged particle beams can be similarly applied. Furthermore, detectors consistent with aspects of the present disclosure are applicable in environments for sensing x-rays, photons, and other forms of energy.</p><p id="p-0040" num="0039">Reference is now made to <figref idref="DRAWINGS">FIG. <b>1</b></figref>, which illustrates an exemplary electron beam inspection (EBI) system <b>100</b> consistent with embodiments of the present disclosure. As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, EBI system <b>100</b> includes a main chamber <b>101</b> a load/lock chamber <b>102</b>, an electron beam tool <b>104</b>, and an equipment front end module (EFEM) <b>106</b>. Electron beam tool <b>104</b> is located within main chamber <b>101</b>. EFEM <b>106</b> includes a first loading port <b>106</b><i>a </i>and a second loading port <b>106</b><i>b. </i>EFEM <b>106</b> may include additional loading port(s). First loading port <b>106</b><i>a </i>and second loading port <b>106</b><i>b </i>receive wafer front opening unified pods (FOUPs) that contain wafers (e.g., semiconductor wafers or wafers made of other material(s)) or samples to be inspected (wafers and samples are collectively referred to as &#x201c;wafers&#x201d; hereafter).</p><p id="p-0041" num="0040">One or more robot arms (not shown) in EFEM <b>106</b> may transport the wafers to load/lock chamber <b>102</b>. Load/lock chamber <b>102</b> is connected to a load/lock vacuum pump system (not shown) which removes gas molecules in load/lock chamber <b>102</b> to reach a first pressure below the atmospheric pressure. After reaching the first pressure, one or more robot arms (not shown) may transport the wafer from load/lock chamber <b>102</b> to main chamber <b>101</b>. Main chamber <b>101</b> is connected to a main chamber vacuum pump system (not shown) which removes gas molecules in main chamber <b>101</b> to reach a second pressure below the first pressure. After reaching the second pressure, the wafer is subject to inspection by electron beam tool <b>104</b>. Electron beam tool <b>104</b> may be a single-beam system or a multi-beam system. A controller <b>109</b> is electronically connected to the electron beam tool <b>104</b>. The controller <b>109</b> may be a computer configured to execute various controls of the EBI system.</p><p id="p-0042" num="0041">Reference is now made to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, which illustrates an electron beam tool <b>104</b> (also referred to herein as apparatus <b>104</b>) that may be configured for use in a multi-beam image (MBI) system. Electron beam tool <b>104</b> comprises an electron source <b>202</b>, a gun aperture <b>204</b>, a condenser lens <b>206</b>, a primary electron beam <b>210</b> emitted from electron source <b>202</b>, a source conversion unit <b>212</b>, a plurality of beamlets <b>214</b>, <b>216</b>, and <b>218</b> of primary electron beam <b>210</b>, a primary projection optical system <b>220</b>, a wafer stage (not shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>), multiple secondary electron beams <b>236</b>, <b>238</b>, and <b>240</b>, a secondary optical system <b>242</b>, and an electron detection device <b>244</b>. Primary projection optical system <b>220</b> can comprise a beam separator <b>222</b>, deflection scanning unit <b>226</b>, and objective lens <b>228</b>. Electron detection device <b>244</b> can comprise detection sub-regions <b>246</b>, <b>248</b>, and <b>250</b>.</p><p id="p-0043" num="0042">Electron source <b>202</b>, gun aperture <b>204</b>, condenser lens <b>206</b>, source conversion unit <b>212</b>, beam separator <b>222</b>, deflection scanning unit <b>226</b>, and objective lens <b>228</b> can be aligned with a primary optical axis <b>260</b> of apparatus <b>104</b>. Secondary optical system <b>242</b> and electron detection device <b>244</b> can be aligned with a secondary optical axis <b>252</b> of apparatus <b>104</b>.</p><p id="p-0044" num="0043">Electron source <b>202</b> can comprise a cathode, an extractor or an anode, wherein primary electrons can be emitted from the cathode and extracted or accelerated to form a primary electron beam <b>210</b> with a crossover (virtual or real) <b>208</b>. Primary electron beam <b>210</b> can be visualized as being emitted from crossover <b>208</b>. Gun aperture <b>204</b> can block off peripheral electrons of primary electron beam <b>210</b> to reduce Coulomb effect. The Coulomb effect can cause an increase in size of probe spots <b>270</b>, <b>272</b>, and <b>274</b>.</p><p id="p-0045" num="0044">Source conversion unit <b>212</b> can comprise an array of image-forming elements (not shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>) and an array of beam-limit apertures (not shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>). The array of image-forming elements can comprise an array of micro-deflectors or micro-lenses. The array of image-forming elements can form a plurality of parallel images (virtual or real) of crossover <b>208</b> with a plurality of beamlets <b>214</b>, <b>216</b>, and <b>218</b> of primary electron beam <b>210</b>. The array of beam-limit apertures can limit the plurality of beamlets <b>214</b>, <b>216</b>, and <b>218</b>.</p><p id="p-0046" num="0045">Condenser lens <b>206</b> can focus primary electron beam <b>210</b>. The electric currents of beamlets <b>214</b>, <b>216</b>, and <b>218</b> downstream of source conversion unit <b>212</b> can be varied by adjusting the focusing power of condenser lens <b>206</b> or by changing the radial sizes of the corresponding beam-limit apertures within the array of beam-limit apertures. Objective lens <b>228</b> can focus beamlets <b>214</b>, <b>216</b>, and <b>218</b> onto a wafer <b>230</b> for inspection and can form a plurality of probe spots <b>270</b>, <b>272</b>, and <b>274</b> on surface of wafer <b>230</b>.</p><p id="p-0047" num="0046">Beam separator <b>222</b> can be a beam separator of Wien filter type generating an electrostatic dipole field and a magnetic dipole field. In some embodiments, if they arc applied, the force exerted by electrostatic dipole field on an electron of beamlets <b>214</b>, <b>216</b>, and <b>218</b> can be equal in magnitude and opposite in direction to the force exerted on the electron by magnetic dipole field. Beamlets <b>214</b>, <b>216</b>, and <b>218</b> can therefore pass straight through beam separator <b>222</b> with zero deflection angle. However, the total dispersion of beamlets <b>214</b>, <b>216</b>, and <b>218</b> generated by beam separator <b>222</b> can also be non-zero. Beam separator <b>222</b> can separate secondary electron beams <b>236</b>, <b>238</b>, and <b>240</b> from beamlets <b>214</b>, <b>216</b>, and <b>218</b> and direct secondary electron beams <b>236</b>, <b>238</b>, and <b>240</b> towards secondary optical system <b>242</b>.</p><p id="p-0048" num="0047">Deflection scanning unit <b>226</b> can deflect beamlets <b>214</b>, <b>216</b>, and <b>218</b> to scan probe spots <b>270</b>, <b>272</b>, and <b>274</b> over a surface area of wafer <b>230</b>. In response to incidence of beamlets <b>214</b>, <b>216</b>, and <b>218</b> at probe spots <b>270</b>, <b>272</b>, and <b>274</b>, secondary electron beams <b>236</b>, <b>238</b>, and <b>240</b> call he emitted from wafer <b>230</b>. Secondary electron beams <b>236</b>, <b>238</b>, and <b>240</b> can comprise electrons with a distribution of energies including secondary electrons (energies &#x3c;50 eV) and backscattered electrons (energies between 50 eV and landing energies of beamlets <b>214</b>, <b>216</b>, and <b>218</b>). Secondary optical system <b>242</b> can focus secondary electron beams <b>236</b>, <b>238</b>, and <b>240</b> onto detection sub-regions <b>246</b>, <b>248</b>, and <b>250</b> of electron detection device <b>244</b>. Detection sub-regions <b>246</b>, <b>248</b>, and <b>250</b> may be configured to detect corresponding secondary electron beams <b>236</b>, <b>238</b>, and <b>240</b> and generate corresponding signals used to reconstruct an image of surface area of wafer <b>230</b>.</p><p id="p-0049" num="0048">Reference is now made to <figref idref="DRAWINGS">FIG. <b>3</b>A</figref>, which illustrates an exemplary structure of a sensor surface <b>300</b> that can form a detection surface of electron detection device <b>244</b>. Sensor surface <b>300</b> can be divided into four regions <b>302</b>A-D (2&#xd7;2 rectangular grid), each region <b>302</b> capable of receiving a corresponding beam spot <b>304</b> emitted from a particular location from wafer <b>230</b>. All beam spots <b>304</b>A-D may exhibit an ideal round shape and have no loci offset. While four regions are displayed, it is appreciated that any plurality of regions could be used. Furthermore, a division of sensor surface <b>300</b> into four regions is arbitrary. An arbitrary selection of sensing elements <b>306</b> can be taken to form a particular region. Detection sub-regions <b>246</b>, <b>248</b>, <b>250</b> in detector <b>244</b> may be constituted by such regions.</p><p id="p-0050" num="0049">Each sensor region can comprise an array of electron sensing elements <b>306</b>. The electron sensing elements may comprise, for example, a PIN diode, avalanche diode, electron multiplier tube (EMT), etc., and combinations thereof. Moreover, it is appreciated that while <figref idref="DRAWINGS">FIG. <b>3</b>A</figref> shows each region <b>302</b> being separated from each other as predefined regions having their own sensing elements <b>306</b>, these predefined regions may not exist, e.g., such as surface sensor <b>400</b> of <figref idref="DRAWINGS">FIG. <b>3</b>C</figref>. For example, instead of having <b>4</b> predefined regions each having <b>81</b> sensing elements (a 9&#xd7;9 grid of sensing elements), a sensor surface could have one 18&#xd7;18 grid of sensing elements, still capable of sensing four beam spots.</p><p id="p-0051" num="0050">Electron sensing elements <b>306</b> can generate a current signal commensurate with the electrons received in the sensor region. A pre-processing circuit can convert the generated current signal into a voltage signal (representing the intensity of received electron beam spot). The pre-processing circuit may comprise, for example, a high speed transimpedance amplifier. A processing system can generate an intensity signal of the electron beam spot by, for example, summing the currents generated by the electron sensing elements located within a sensor region, correlate the intensity signal with a scan path data of the primary electron beam incident on the wafer, and construct an image of the wafer based on the correlation.</p><p id="p-0052" num="0051">While electron sensing element <b>306</b> is described as receiving electrons from an electron beam, in the case of other types of detectors, a sensor surface may be configured to generate a signal in response to receiving other types of irradiation. For example, a detector may react to charged particles having a particular charge. Also, a detector may be sensitive to flux, spatial distribution, spectrum, or other measurable properties. Thus, a detector sensing element may be configured to generate a signal in response to receiving a certain type or level of energy, for example, electrons having a predetermined amount of energy.</p><p id="p-0053" num="0052">In some embodiments, the processing system can selectively sum the signals generated by some of the electron sensing elements <b>306</b> to generate an intensity value of a beam spot. The selection can be based on a determination of which of the electron sensing elements are located within the beam spot.</p><p id="p-0054" num="0053">In some embodiments, the processing system can identify which of the electron sensing elements are located outside a beam spot, and which of the electron sensing elements are located within the beam spot, by identifying a boundary of the beam spot. For example, referring to <figref idref="DRAWINGS">FIG. <b>3</b>B</figref>, the processing system can identify primary boundaries <b>312</b>A, <b>312</b>B and secondary boundaries <b>314</b>A, <b>314</b>B for beam spots <b>304</b>A and <b>304</b>B, respectively. Primary boundary <b>312</b> can be configured to enclose a set of electron sensing elements <b>306</b> of which the signal outputs are to be included to determine an intensity of the beam spot.</p><p id="p-0055" num="0054">Secondary boundary <b>314</b> can be configured to enclose a center portion of the beam spot, and can be used to provide certain geometric information of the beam spot. The geometric information may include, for example, a shape of the beam spot, one or more loci of the beam spot, etc. Here, the loci may refer to a predetermined location within the beam spot, such as a center. The processing system may also determine primary boundary <b>312</b> based on secondary boundary <b>314</b>.</p><p id="p-0056" num="0055">Moreover, based on the loci information, the processing system can also track a drift in the location of a beam spot <b>304</b> due to, for example, imperfections within the electron optics components or the electron optics system. Imperfections may be those introduced during manufacturing or assembling processes. Furthermore, there may be drift introduced during long-term operation of the system. The processing system can update the boundary determinations, and the set of electron sensing elements to be included in the intensity determination, to mitigate the effects of the drifting on the accuracy of intensity determination. Further, the processing system may track shifts in the electron beam spots.</p><p id="p-0057" num="0056">The selection of the electron sensing elements <b>306</b> that are used to form each set of electron sensing elements surrounded by primary or secondary boundaries <b>312</b> and <b>314</b> can be determined by a designated electron collection ratio of each beam spot, which is related to the overall image signal strength and signal to noise ratio, the signal crosstalk of the adjacent electron beams, and the corresponding shape and locus of each electron beam spot. Selection of electron sensing elements may be controlled by processing circuitry located adjacent to the sensing elements or by an external controller, for example. The formation of each set may be static or may vary dynamically. Shape and locus variation information of beam spots may be used, for example, to monitor performance of the electron optical system (e.g., primary projection optical system <b>220</b>). Information collected regarding the positioning and shape of the beam can be used, for example, in making adjustments to the electron optical system. Accordingly, while <figref idref="DRAWINGS">FIG. <b>3</b>B</figref> shows beam spot <b>304</b>B having a shape deviating from a round shape, such types of deviations such as location, shape, and grid information due to drift in the electron optical system or imperfections of the components in the electron optical system can be compensated for.</p><p id="p-0058" num="0057">Reference is now made to <figref idref="DRAWINGS">FIG. <b>3</b>D</figref>, which illustrates an exemplary structure of a sensor surface <b>500</b> which can be used on electron detection device <b>244</b>. Sensor surface <b>500</b> has an array structure comprising a plurality of sensing elements, including sensing elements <b>501</b>, <b>502</b>, <b>503</b>, and so on, each capable of receiving at least a part of a beam spot. Sensing elements <b>501</b>, <b>502</b>, <b>503</b> may be configured to generate an electrical signal in response to receiving energy.</p><p id="p-0059" num="0058">The sensing element may comprise, for example, a PIN diode, avalanche diode, electron multiplier tube (EMT), and the like, and combinations thereof. For example, sensing elements <b>501</b>, <b>502</b>, <b>503</b> may be electron sensing elements. Electron sensing elements can generate a current signal commensurate with the electrons received in the sensor active area. A processing circuit can convert the generated current signal into a voltage signal (representing the intensity of the received electron beam spot). A processing system can generate an intensity signal of the electron beam spot by, for example, summing the currents generated by the electron sensing elements located within a sensor region, correlate the intensity signal with a scan path data of the primary electron beam incident on the wafer, and construct an image of the wafer based on the correlation.</p><p id="p-0060" num="0059">As shown in <figref idref="DRAWINGS">FIG. <b>3</b>D</figref>, area <b>525</b> may be provided between adjacent sensing elements. Area <b>525</b> may be an isolation area to isolate the sides and corners of neighboring pixels from one another.</p><p id="p-0061" num="0060">Although sensor surface <b>500</b> is depicted as having a rectangular grid arrangement, various geometric arrangements may be used. For example, sensing elements may be arranged in a hexagonal grid. Accordingly, individual sensing elements may have correspondingly different sizes and shapes. Sensing elements may also be arranged with octagonal tiling, triangular tiling, rhombic tiling, etc. Sensing elements need not be provided as uniform shapes and with regular packing. For example, pentagonal tiling with semiregular hexagons may be used. It is to be understood that these examples are exemplary, and various modifications may be applied.</p><p id="p-0062" num="0061">Reference is now made to <figref idref="DRAWINGS">FIG. <b>4</b>A</figref>, which illustrates a simplified illustration of a layer structure of a detector <b>600</b>. Detector <b>600</b> may be provided as detector <b>244</b> as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. Detector <b>600</b> may be configured to have a plurality of layers stacked in a thickness direction, which may be substantially parallel to an incidence direction of an electron beam. The plurality of layers may include a sensor layer <b>610</b> and a circuit layer <b>620</b>. Sensor layer <b>610</b> may be provided with sensor surface <b>500</b>, as described above. Sensing elements, for example sensing elements <b>611</b>, <b>612</b>, and <b>613</b> may be provided in sensing layer <b>610</b>. Switching elements <b>619</b> may be provided arranged between adjacent sensing elements in the cross sectional direction.</p><p id="p-0063" num="0062">For example, each of sensing elements <b>611</b>, <b>612</b>, and <b>613</b> may be configured as diodes. Furthermore, switching elements <b>619</b> may be configured as transistors, such as a MOSFET. Each of sensing elements <b>611</b>, <b>612</b>, <b>613</b> may comprise outputs for making electrical connections to circuit layer <b>620</b>. Outputs may be integrated with switching elements <b>619</b>, or may be provided separately. Outputs may be integrated in a bottom layer of sensor layer <b>610</b> which may be a metal layer.</p><p id="p-0064" num="0063">In one example, as illustrated in <figref idref="DRAWINGS">FIG. <b>4</b>B</figref>, sensing elements <b>611</b>,<b>612</b>, <b>613</b> may be configured as PIN diodes. A detector device <b>600</b>A may include semiconductor devices. For example, a semiconductor device constituting a PIN diode device may be manufactured as a substrate with a plurality of layers. Additionally, sensing elements <b>611</b>, <b>612</b>, <b>613</b>, and/or switching elements <b>619</b> may be configured as a plurality of discrete semiconductor devices. The discrete semiconductor devices may be configured to be directly adjacent each other.</p><p id="p-0065" num="0064">Detector device <b>600</b>A may comprise a metal layer <b>601</b> as a top layer. Metal layer <b>601</b> is a layer for receiving electrons incident on the electron detection device <b>244</b>. Thus, metal layer <b>601</b> is configured as a detection surface. A material of metal layer <b>601</b> may be aluminum, for example. When aluminum is used in metal layer <b>601</b>, an oxidized layer may be formed on the exterior of the surface so as to protect electron detection device <b>244</b>. Detector device <b>600</b>A may also comprise metal layer <b>605</b> as a bottom layer of sensor layer <b>610</b>. A material of metal layer <b>605</b> may be copper, for example. Metal layer <b>605</b> may comprise output lines for carrying induced current from each of the sensing elements <b>611</b>, <b>612</b>, <b>613</b>. Individual sensing elements <b>611</b>, <b>612</b>, <b>613</b> may be separated by area <b>625</b> in the cross sectional direction, where area <b>625</b> may be an isolation area.</p><p id="p-0066" num="0065">In operation of a PIN diode device that may constitute sensing element <b>611</b>, for example, a P+ region is formed adjacent to metal layer <b>601</b>. P+ region may be a p-type semiconductor layer. An intrinsic region is formed adjacent to P+ region. Intrinsic region may be an intrinsic semiconductor layer. An N+ region is formed adjacent to intrinsic region. N+ region may be an n-type semiconductor layer. Thus, the intrinsic region is sandwiched between the P+ region and N+ region. When electrons are incident on the top surface of metal layer <b>601</b>, the intrinsic region is flooded with charge carriers from P+ region. Thus, the area under metal layer <b>601</b> in the region irradiate will be activated.</p><p id="p-0067" num="0066">A sensor layer of electron detection device <b>244</b> may be formed as the layers of metal layer <b>601</b>, metal layer <b>605</b>, and the various P+ regions, intrinsic regions, and N+ regions contained in sensing elements.</p><p id="p-0068" num="0067">Circuit layer <b>620</b> is provided adjacent to sensor layer <b>610</b>. Circuit layer <b>620</b> comprises line wires and various electronic circuit components. Circuit layer <b>620</b> may be provided as a semiconductor device. Circuit layer <b>620</b> may also comprise a processing system. Circuit layer <b>620</b> may be configured to receive the output current detected in sensor layer <b>610</b>.</p><p id="p-0069" num="0068">While the above descriptions discuss a metal or metal layers, it is apparent that alternatives could be used, for example, a conductive material.</p><p id="p-0070" num="0069">In some embodiments, switching elements <b>619</b> may be formed in a separate die. As illustrated in <figref idref="DRAWINGS">FIG. <b>4</b>C</figref>, for example, a switch die <b>630</b> is provided. Switch die <b>630</b> comprises the plurality of switching elements <b>619</b>. Switch die <b>630</b> is sandwiched between sensor layer <b>610</b> and circuit layer <b>620</b>. Switch die <b>630</b> is electrically connected to sensor layer <b>610</b> and circuit layer <b>620</b>.</p><p id="p-0071" num="0070">A circuit schematic is shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>. A dashed line represents a division between a sensor die <b>701</b> and a circuit die <b>702</b>. A layout such as that shown in circuit die <b>702</b>, for example, may represent a circuit provided in circuit layer <b>620</b>. A layout such as that shown in sensor die <b>701</b>, for example, may represent a plurality of sensing elements. For example, sensor layer <b>610</b> may be configured in a sensor die.</p><p id="p-0072" num="0071">A further circuit schematic is shown in <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>. A layout shown in circuit die <b>702</b> may include an additional comparator <b>771</b>, as shall be discussed later.</p><p id="p-0073" num="0072">A simplified circuit diagram is shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>. As shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, a plurality of pixels P<b>1</b>, P<b>2</b>, P<b>3</b>, P<b>4</b> may be provided. Pixels P<b>1</b>, P<b>2</b>, P<b>3</b>, P<b>4</b> may represent pixels of a sensing array, each of which may be associated with a sensing element.</p><p id="p-0074" num="0073">In an exemplary process of detecting signal intensity from a sensing element, a sensing element in a sensor layer is configured to gather current induced by incident charged particles. Other types of energy conversion may be used. Current is output from the sensing element to a circuit layer configured to analyze the output from the sensing element. The circuit layer may comprise a wiring layout and a plurality of electronic components to analyze the output from the sensing element.</p><p id="p-0075" num="0074">A process of signal intensity detection will be discussed with reference to <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>. One pixel may be associated with one sensing element of a sensing element array. Thus, a first pixel is configured to generate a PIN diode current <b>711</b>. At the start of a process for PIN diode signal intensity detection, a switch <b>721</b> and a switch <b>731</b> are set to he open, while a switch <b>741</b> is set to be closed. Thus, voltage of a capacitor <b>735</b> can be reset to Vref<b>2</b>.</p><p id="p-0076" num="0075">Next, switch <b>721</b> and switch <b>741</b> are set to be open, while switch <b>731</b> is set to be closed. In this state, capacitor <b>735</b> begins charging and generates a voltage. Capacitor <b>735</b> may be configured to charge for a predetermined period of time, for example t_charge, after which switch <b>731</b> is set to be open.</p><p id="p-0077" num="0076">Then, comparator <b>736</b> compares the voltage at capacitor <b>735</b> to a reference value Vref<b>1</b>. Reference value Vref<b>1</b> may be set as a predetermined signal level. Based on the reference value, a circuit may be configured to output a signal that indicates that the sensing element is gathering current from an incident electron beam. Thus, the reference value may be a suitable value that indicates that the signal level from the PIN diode is high enough to be considered to be gathering current from an incident electron beam included within a beam spot. In comparator <b>736</b>, if voltage from capacitor <b>735</b> is higher than Vref<b>1</b>, an output signal is sent to block <b>750</b>.</p><p id="p-0078" num="0077">Vref<b>1</b> can be set so that each sensing element can be controlled to be included within an outer boundary of a beam spot. The value t_charge can be determined based on local logic or an external circuit, for example through a data line <b>752</b> communicating with block <b>750</b>. Logic blocks and circuitry components may be set so that functions such as signal intensity detection and pixel grouping determination can occur locally. However, signal intensity of each sensing element can be collected and determinations can be made via an external path. For example, an analog signal path and ADC may communicate with an external controller via an analog signal line and a data line.</p><p id="p-0079" num="0078">As described herein, each pixel in a sensing array may be associated with a sensing element that generates current based on incident electrons on the sensing element, and communicates with a circuit layer. Pixels may be connected to circuitry such as that discussed above with reference to the first pixel configured to generate PIN diode current <b>711</b>. Thus, a second pixel may be configured to generate a PIN diode current <b>712</b>, and so on. PIN diode current <b>712</b> may be connected to corresponding circuit elements, for example, switch <b>721</b><i>b, </i>switch <b>731</b><i>b, </i>switch <b>741</b><i>b, </i>capacitor <b>735</b><i>b, </i>comparator <b>736</b><i>b, </i>block <b>750</b><i>b, </i>etc.</p><p id="p-0080" num="0079">Generation and setting of a status indicator will be discussed, again with reference to <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>. Using the output current from the sensing element, the circuit layer is configured to generate a status indicator. The status indicator may be configured to trigger a function for implementing grouping of pixels. Various methods for achieving sensing element grouping can be provided.</p><p id="p-0081" num="0080">In a first method for grouping, sensing element grouping may be achieved according to a signal strength flag in a local logic circuit If a first pixel and a second pixel have a strong signal strength, the two pixels may be grouped. For example, PIN diode current <b>711</b> and PIN diode current <b>712</b> may both have high current values. Namely, voltage at capacitor <b>735</b> and voltage at capacitor <b>735</b>h may both he higher than Vref<b>1</b>. Then, a switch <b>767</b> is set to he closed so as to merge the two pixels.</p><p id="p-0082" num="0081">If at least one of the first pixel and the second pixel has a weak signal, that is, either voltage at capacitor <b>735</b> or capacitor <b>735</b><i>b </i>is less than Vref<b>1</b>, switch <b>767</b> is set to be open so that the two pixels are not merged.</p><p id="p-0083" num="0082">Switch <b>767</b> is configured as an element to implement a switch between two sensing elements. Switch <b>767</b> is located in circuit die <b>702</b>. Switch <b>767</b> may be configured as a transistor, such as a MOSFET. Switch <b>767</b> may also be configured as a relay, an analog switch, a solid-state relay, or other semiconductor devices.</p><p id="p-0084" num="0083">Switch <b>767</b> may be triggered by local logic in the circuit die <b>702</b>. Output from comparator <b>736</b> and output from comparator <b>736</b><i>b </i>may be routed to a block for activating switch <b>767</b>. For example, as illustrated in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>, an AND gate <b>760</b> is provided. AND gate <b>760</b> is arranged in circuit die <b>702</b>. AND gate <b>760</b> is associated with two pixels, and is associated with one switch between the two pixels. Output from comparator <b>736</b> and <b>736</b><i>b </i>may be routed, directly or through other blocks, to AND gate <b>760</b>. Based on signals input to AND gate <b>760</b>, for example status indicator <b>751</b> and status indicator <b>751</b><i>b, </i>AND gate <b>760</b> is configured to toggle switch <b>767</b>. When switch <b>767</b> is a transistor, such as a field effect transistor, the switch may be toggled by application of voltage to its gate. A gate of the transistor may be arranged such that at least a contact of the gate is embedded in metal layer <b>605</b>. Thus, in the configuration of <figref idref="DRAWINGS">FIG. <b>4</b>B</figref>, for example, voltage may be applied to a gate having a contact located in metal layer <b>605</b>. Additionally, in the configuration of <figref idref="DRAWINGS">FIG. <b>4</b>C</figref>, for example, metal layers may be provided on a top and bottom of switch die <b>630</b>. In this configuration, a gate of the transistor switch may be arranged such that at least a contact of the gate is embedded in the metal layer on the bottom of switch die <b>630</b>.</p><p id="p-0085" num="0084">While an AND gate is illustrated, it should be appreciated that various components may be used to achieve controlling a switch between sensing elements based on output signals from the sensing elements. For example, <figref idref="DRAWINGS">FIG. <b>6</b></figref> is a simplified circuit diagram illustrating an arrangement of four pixels in an array. In the array, a first pixel P<b>1</b> may be configured to generate a PIN diode current <b>711</b>, and output a status signal S<b>1</b> based thereon. Status signal S<b>1</b> may correspond to status indicator <b>75</b>L A second pixel P<b>2</b> may be configured to generate PIN diode current <b>712</b>, and output a status signal S<b>2</b> based thereon. Status signal S<b>2</b> may correspond to status indicator <b>751</b><i>b. </i></p><p id="p-0086" num="0085">Status signal S<b>1</b> from first pixel P<b>1</b> and status signal S<b>2</b> from second pixel P<b>2</b> arc input to an AND gate <b>760</b>. Status signal S<b>1</b> and status signal S<b>2</b> can be generated based on signals generated at each of pixel P<b>1</b> and pixel P<b>2</b>, for example, a current signal may be induced by electrons incident on the surface of the pixel. Status signal S<b>1</b> may be generated based on whether current at pixel P<b>1</b> reaches a predetermined threshold. Similarly, status signal S<b>2</b> may be generated based on whether current at pixel P<b>2</b> reaches a predetermined threshold. AND gate <b>760</b> outputs a signal based on status signal S<b>1</b> and status signal S<b>2</b> to switch <b>767</b>. Thus, switch <b>767</b> is configured to be controlled based on input signals generated from at least two pixels. Such an input signal may be a voltage. It will be apparent that various other blocks or electrical components could be used to achieve control of switch <b>767</b>.</p><p id="p-0087" num="0086">Similar components may be provided for other pixels of the array. For example, a switch <b>767</b><i>d </i>is provided between pixel P<b>3</b> and pixel P<b>4</b>. Pixel P<b>3</b> and pixel P<b>4</b> may be configured to output status signals S<b>3</b> and S<b>4</b>, respectively, similar to pixels P<b>1</b> and P<b>2</b>. Furthermore, a pixel may be in communication with multiple other pixels. For example, in addition to switch <b>767</b> configured to connect pixels P<b>1</b> and P<b>2</b>, a switch <b>767</b><i>b </i>may be provided between pixels P<b>1</b> and P<b>3</b>, and so on.</p><p id="p-0088" num="0087">Status signal S<b>1</b> may be configured to be sent to multiple neighboring pixels.</p><p id="p-0089" num="0088">In a second method for grouping, sensing element grouping may he achieved according to external logic circuits. For example, in <figref idref="DRAWINGS">FIGS. <b>5</b>A and <b>5</b>B</figref>, block <b>750</b> may be a digital logic block. Block <b>750</b> may communicate with external components via data line <b>752</b> and an address signal <b>753</b>. Status indicator <b>751</b> can be overwritten by external logic circuitry via data line <b>752</b> to control the status of switch <b>767</b>. Such external logic circuitry may also be provided in circuit die <b>702</b>, or may be provided as a separate system attached to block <b>750</b> by an input/output device.</p><p id="p-0090" num="0089">In some embodiments, local control logic associated with each pixel generates an indication of signal level of its corresponding sensing element. This indication can be used to determine whether two adjacent sensing elements should be connected by the switch configured to connect them. In this way, groups of sensing elements can he formed. Based on the formed groups, a primary boundary can be formed.</p><p id="p-0091" num="0090">To generate gradient information on signal intensity, additional comparator <b>771</b> may be provided, as shown in <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>. A result from comparator <b>771</b> can be fed to logic blocks <b>750</b> and <b>750</b><i>b. </i>With an arrangement including comparator <b>771</b>, processing may be carried out to generate a value representing the intensity of a beam spot based on the determined primary boundary. Grouping can be carried out based on which electron sensing elements are determined to lie outside the primary boundary of the beam spot.</p><p id="p-0092" num="0091">In electron beam imaging, beamlet image acquisition may be carried out. A process of image acquisition will be discussed with reference to <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>. Initially, switch <b>721</b> and switch <b>731</b> are set to be open, while switch <b>741</b> is set to be closed. For each row of a detector array, switch <b>721</b> (or a corresponding switch) is set to be closed, one-by-one. By sequentially closing switch <b>721</b> and corresponding switches, electronic scanning of a detector surface can be carried out. Scanning may be implemented to read the analog signal of each pixel. For example, analog output line <b>722</b> may be configured to be read by an analog path, output to external devices, or sent to an analog-to-digital converter (ADC).</p><p id="p-0093" num="0092">Based on signals output from analog output line <b>722</b>, image reconstruction of beams or beamlets can be achieved. A controller may be used to conduct image acquisition based on the reconstructed image. The reconstructed image can be used to determine the boundary of a group of sensing elements. For example, one group can be defined to correspond to one beamlet. Summed signal intensity of the sensing elements in the group is thus representative of the current of the one beamlet. The reconstructed image can also be used to evaluate the performance of the electron optical system. For example, primary projection optical system <b>220</b> and/or secondary optical system <b>242</b> may be adjusted based on the reconstructed image. The reconstructed image may be used to compensate for imperfections or drift in electron optical sub-systems.</p><p id="p-0094" num="0093">Moreover, a low impedance output path of current signal from groups of pixels can he achieved. For example, a plurality of switches, such as switch <b>721</b>, may be provided for a plurality of pixels in the same group. Pixels of the same group may be in close proximity. A plurality of analog signal lines, such as analog output line <b>722</b>, may be routed to a grouped output. Additionally, the plurality of analog signal lines may be connected when they are grouped to the same group of the plurality of pixels.</p><p id="p-0095" num="0094">For example, switch <b>767</b> may be configured to group together a first sensing element and a second sensing element. Accordingly, PIN diode current <b>711</b> and PIN diode current <b>712</b> may be routed together through circuit die <b>702</b>. An output signal path for conveying PIN diode current <b>711</b> may comprise analog output line <b>722</b> and/or other output lines depending on which of switches <b>721</b> and <b>731</b> are open/closed. The output signal path may be part of the circuit die <b>702</b>. Output signal paths for grouped sensing elements may be connected via their corresponding switching element.</p><p id="p-0096" num="0095">While an example has been discussed with reference to electron beam inspection systems, it should be noted that for photo image sensor applications, a buffer can be added after switch <b>721</b> to improve performance.</p><p id="p-0097" num="0096">In an exemplary embodiment of a detector array, individual sensing elements in the detector array can be enabled or disabled. In normal operation for electron beam imaging, certain sensing elements may be enabled to detect incident beam current.</p><p id="p-0098" num="0097">For example, with reference to <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>, a pixel may be enabled when voltage at capacitor <b>735</b> is greater than or equal to Vref<b>1</b>. A pixel may also be enabled by external logic circuits, for example in an override mode. In override mode, switch <b>721</b> may be open or closed depending on a control signal from external logic to decide the signal output routing. In override mode, switch <b>731</b> may be set to be open and switch <b>741</b> may be set to be closed.</p><p id="p-0099" num="0098">A pixel may be disabled when voltage at capacitor <b>735</b> is lower than Vref<b>1</b>. A pixel may also be disabled by external logic circuits, for example in an override mode. In an override mode for disabling, switch <b>721</b> may be set to be open. Switch <b>731</b> and switch <b>741</b> may be set to be closed.</p><p id="p-0100" num="0099">Operation in override modes may be conducted when, for example, it is determined that crosstalk is present in the sensing elements. Crosstalk can occur when a beam partially overlaps with an adjacent beam due to aberration, dispersion, and the like. In some embodiments, a processing system can detect the occurrence of partial overlapping based on primary or secondary beam spot boundaries. The processing system can exclude outputs from some sensing elements that are located in the area where beam spots overlap when determining intensity values of beam spots.</p><p id="p-0101" num="0100">Reference is now made to <figref idref="DRAWINGS">FIG. <b>7</b></figref>, which illustrates a diagram relating location data of sensing elements. A detector array may comprise a plurality of sensing elements arranged to form J&#xd7;K pixels having M&#xd7;N channels. A single sensing element may be represented by pixel P<b>1</b>. Pixel P<b>1</b> has an address column AC_<b>1</b>. Pixel P<b>2</b> has an address column AC_<b>2</b>, and so on. For example, in the exemplary array having J&#xd7;K pixels, pixel P<sub>JK </sub>has an address column AC_J and an address row AR_K. Each column may have an analog column. For example, pixel P<b>1</b> has analog column AnC_<b>1</b>, which carries output current from the sensing element of pixel P<b>1</b>.</p><p id="p-0102" num="0101">Each sensing element can be selected by address column and address row signals. For example, pixel P<b>1</b> may be addressed by AC_<b>1</b> and AR_<b>1</b>.</p><p id="p-0103" num="0102">Data can be read and written by data row signals to each local logic circuit associated with each sensing element. For example, data can be sent to and received from pixel P<b>1</b> via data row DR_<b>1</b>. Digital logic DL may control data read/write, etc.</p><p id="p-0104" num="0103">Analog signal from each sensing element may travel through corresponding analog column lines to reach a multiplexer Mux. Multiplexer Mux may be located in the detector array. Multiplexer Mux may also be external to the detector array. Multiplexer Mux may have J inputs and M&#xd7;N outputs.</p><p id="p-0105" num="0104">Pixels can he identified and grouped by their respective address line information. Any two pixels in a detector array can be in communication. Thus, grouping between any arbitrary number of pixels, in any arbitrary locations, can be achieved.</p><p id="p-0106" num="0105">Location information of the plurality of sensing elements may be used in various ways. For example, location information may be correlated with beam intensity to determine boundaries of beam spots. Additionally, based on the locations of the electron sensing elements that give rise to signal intensity comparator decisions, the processing system can identify a location on the sensor surface where a transition between the intensity gradients occurs. Intensity gradient information can be used for determinations involving primary and secondary boundaries. In some embodiments, location data may also be used to operate in override modes to control switching elements between two pixels independently of local logic.</p><p id="p-0107" num="0106">A processing system, for example, a processor embedded in circuit die <b>702</b> or externally connected may perform processing to determine identified locations as part of a beam boundary. The processing system may comprise an arrangement of comparators configured to perform processing based on voltage comparisons for each row and column of electron sensing elements to determine a set of locations on the detector array surface that may make up a beam boundary.</p><p id="p-0108" num="0107">In some embodiments, the processing system can also improve the fidelity of image reconstruction by compensating for the effect of noise signals using boundary information. The processing system can exclude signals received from outputs of electron sensing elements that are determined to be located outside a beam primary boundary. This can improve fidelity of image reconstruction by eliminating the random noise signals from electron sensing elements outside the primary boundary.</p><p id="p-0109" num="0108">In <figref idref="DRAWINGS">FIG. <b>7</b></figref>, lines interconnecting a plurality of sensing elements, for example lines illustrated as AC_<b>1</b>, AR_<b>1</b>, DR_<b>1</b>, AnC_<b>1</b>, etc. may be wire lines patterned by printing a conductive material on a substrate. Wire lines can be manufactured in various manners, such as by normal processes used in fabricating a MOSFET. The wire lines may be part of a circuit layer of a detector array.</p><p id="p-0110" num="0109">Reference is now made to <figref idref="DRAWINGS">FIG. <b>8</b></figref>, which illustrates a detection system <b>900</b> using a detector array comprising a plurality of sensing elements. A detector array may be provided having a detector surface <b>500</b> that can be used on electron detection device <b>244</b>. The detector array may comprise J&#xd7;K pixels, and have M&#xd7;N outputs to be connected with a multiplexer, for example multiplexer Mux. The detector array may be constructed as a substrate including a sensor layer and a circuit layer, as discussed herein.</p><p id="p-0111" num="0110">The detector array may be connected to a switch matrix <b>905</b>. Switch matrix <b>905</b> may be an analog switch matrix comprising local pixel circuits, and having J&#xd7;K inputs with and M&#xd7;N outputs.</p><p id="p-0112" num="0111">Switch matrix <b>905</b> may be connected to a signal conditioning circuit array <b>910</b>. Signal conditioning circuit array <b>910</b> may have M&#xd7;N inputs and outputs so as to match the output from switch matrix <b>905</b>. Since switching control can be implemented in switch matrix <b>905</b>, output from switch matrix <b>905</b> may be simplified. When signal conditioning circuit array <b>910</b> follows switch matrix <b>905</b>, signal preconditioning occurring in signal condition circuit array can be simplified.</p><p id="p-0113" num="0112">Signal conditioning circuit array <b>910</b> may be connected to a parallel analog signal processing path array <b>920</b> for providing gain and offset control. Parallel analog signal processing path array <b>920</b> may have M&#xd7;N inputs and outputs so that signals from all groups of electron sensing elements are processed.</p><p id="p-0114" num="0113">Parallel analog signal processing path array <b>920</b> may be connected to a parallel ADC array <b>930</b>, which may have M&#xd7;N inputs and outputs so that signals from all groups of electron sensing elements are digitized.</p><p id="p-0115" num="0114">Parallel ADC array <b>930</b> may be connected to digital control unit <b>940</b>. Digital control unit <b>940</b> may comprise a controller <b>941</b> which can communicate with parallel analog signal processing path array <b>920</b>, parallel ADC array <b>930</b>, and with switch matrix <b>905</b>. Digital control unit <b>940</b> may send and receive communications from a deflection and image control (DIC) unit via a transceiver.</p><p id="p-0116" num="0115">An external controller, such as controller <b>941</b>, may be configured to execute imaging control. For example, controller <b>941</b> may be configured to generate an image of detected beamlets. Furthermore, grouping can be determined on the basis of primary and secondary beam spot boundaries.</p><p id="p-0117" num="0116">While <figref idref="DRAWINGS">FIG. <b>8</b></figref> illustrates an arrangement where switch matrix <b>905</b> precedes signal conditioning circuit array <b>910</b>, it should be appreciated that this sequence could be reversed.</p><p id="p-0118" num="0117">Switch matrix <b>905</b> may comprise a circuit layout such as that shown in circuit die <b>702</b> of <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>, or in circuit die <b>702</b> of <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, or a similar arrangement Switch matrix <b>905</b> provide signal strength comparison between electron sensing elements and a threshold voltage, for example Vref<b>1</b>. Switch matrix <b>905</b> may also provide signal strength comparison between adjacent electron sensing elements. Further, switch matrix <b>905</b> may provide analog signal selection for analog-to-digital conversion. Analog-to-digital conversion may then be implemented at parallel ADC array <b>930</b>.</p><p id="p-0119" num="0118">Switch matrix <b>905</b> may also provide, from a local digital logic circuit, signal strength status reading, such as comparisons between electron sensing elements and threshold voltage, and comparisons between electron sensing element pairs. Local switch status can be read or overwritten by external digital control circuits.</p><p id="p-0120" num="0119">In some embodiments, switching matrix <b>905</b> can enable a simplified architecture for detection system <b>900</b>. For example, reconfiguration of electron sensing elements can he implemented without an overly complex switch matrix design. The output signal of each sensing element group can go through multiple output wires connected to the group. These wires in conjunction with the connections between sensing elements in the group may form a network that largely reduces the equivalent output serial resistance and serial inductance. Accordingly, in some embodiments, output impedance of a group of pixels can be reduced dramatically.</p><p id="p-0121" num="0120">Furthermore, since J&#xd7;K pixels are initially grouped in M&#xd7;N groups in the detector, the number of output may be reduced. Output from a plurality of pixels that are grouped may have a common output. For example, an arrangement having M&#xd7;N outputs can be achieved. Connection nodes between the electron detector array and signal conditioning circuits (TIA) can be dramatically reduced. The total number of outputs may be largely reduced compared to conventional detector arrays. Thus, a construction which is more apt for being scaled up can be achieved. Additionally, a more practical layout can be achieved, which may reduce the risk and cost involved in developing new devices.</p><p id="p-0122" num="0121">Furthermore, a reduced number of signal conditioning circuits may result in reduced total power consumption of an ASIC.</p><p id="p-0123" num="0122">In addition, a trade-off relationship between pixel count and difficulties of detector array manufacture can be eliminated. For example, pixel count limit may be related to the number of contacts formed with a switch matrix. Thus, by reducing the number of contacts and output lines used, higher pixel counts can be achieved. Also, higher tolerance to individual pixel failure may be achieved.</p><p id="p-0124" num="0123">The detector array may comprise its own memory so that the detector array can store an arrangement of the plurality of sensing elements and their associated circuitry. For example, the status of local indication <b>751</b>, and the grouping of sensing elements can be stored in the memory. A state of switches can be stored in the memory.</p><p id="p-0125" num="0124">Moreover, a switch matrix construction can be implemented with standard device processing, as would be understood to those having ordinary skill in the relevant art. Therefore, an increase in manufacturing difficulty and increased costs can be avoided.</p><p id="p-0126" num="0125">The embodiments may further be described using the following clauses:</p><p id="p-0127" num="0126">1. A detector comprising:</p><p id="p-0128" num="0127">a substrate comprising a plurality of sensing elements including a first element and a second element; and</p><p id="p-0129" num="0128">a switching element configured to connect the first element and the second element,</p><p id="p-0130" num="0129">wherein the first element is configured to generate a first signal in response to the first element detecting first charged particles that indicate a beam, and the second element is configured to generate a second signal in response to the second element detecting second charges particles that indicate the beam, and</p><p id="p-0131" num="0130">wherein the switching element is configured to be controlled based on the first signal and the second signal.</p><p id="p-0132" num="0131">2. The detector of clause 1, further comprising:</p><p id="p-0133" num="0132">a sensor die that includes the substrate; and</p><p id="p-0134" num="0133">a circuit die that includes the switching element and one or more circuits configured to control the switching element.</p><p id="p-0135" num="0134">3. The detector of any one of clauses 1 and 2, wherein the switching element comprises a switch configured to connect the first element and the second element.</p><p id="p-0136" num="0135">4. The detector of any one of clauses 1-3, wherein the substrate comprises a diode.</p><p id="p-0137" num="0136">5. The detector of any one of clauses 1-4, wherein</p><p id="p-0138" num="0137">the first element is configured to generate the first signal in response to the first element receiving first charged particles with a first predetermined amount of energy, and the second element is configured to generate the second signal in response to receiving second charged particles with a second predetermined amount of energy.</p><p id="p-0139" num="0138">6. The detector of any one of clauses 1-4, wherein</p><p id="p-0140" num="0139">the first element is configured to generate the first signal in response to the first element receiving first electrons with a first predetermined amount of energy, and the second element is configured to generate the second signal in response to receiving second electrons with a second predetermined amount of energy.</p><p id="p-0141" num="0140">7. The detector of any one of clauses 1-6, wherein</p><p id="p-0142" num="0141">in a thickness direction, the substrate comprises: a top metal layer configured as a detection surface, and a bottom metal layer, and</p><p id="p-0143" num="0142">in a cross section, an area between the top metal layer and the bottom metal layer is a charge carrier region.</p><p id="p-0144" num="0143">8. The detector of any one of clauses 1-7, wherein the switching element comprises a field effect transistor, wherein the field effect transistor comprises at least a contact of a gate fabricated in a metal layer.</p><p id="p-0145" num="0144">9. A detector comprising:</p><p id="p-0146" num="0145">a sensor layer comprising an array of sensing elements including a first element and a second element wherein the first element and the second element are adjacent;</p><p id="p-0147" num="0146">a circuit layer comprising one or more circuits electrically connected to the first element and the second element; and</p><p id="p-0148" num="0147">a switching element configured to connect the first element and the second element,</p><p id="p-0149" num="0148">wherein the one or more circuits is configured to:<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0149">generate a first status indicator when the first element receives charged particles with a predetermined amount of energy,</li>        <li id="ul0002-0002" num="0150">generate a second status indicator when the second element receives charged particles with a predetermined amount of energy, and</li>        <li id="ul0002-0003" num="0151">control the switching element based on the first status indicator and the second status indicator.</li>    </ul>    </li></ul></p><p id="p-0150" num="0152">10. The detector of clause 9, wherein the switching element comprises a transistor.</p><p id="p-0151" num="0153">11. The detector of clause 9, wherein the circuit layer comprises the switching clement.</p><p id="p-0152" num="0154">12. The detector of any one of clauses 9 and 10, wherein in a cross section of the substrate, the sensor layer and the circuit layer sandwich the switching element.</p><p id="p-0153" num="0155">13. A detector system, comprising</p><p id="p-0154" num="0156">a detector array comprising a plurality of sensing elements including a first element and a second element;</p><p id="p-0155" num="0157">a switching element configured to connect the first element and the second element;</p><p id="p-0156" num="0158">one or more circuits configured to generate a first signal in response to the first element detecting first charged particles that indicate a beam, and generate a second signal in response to the second element detecting second charged particles that indicate the beam; and</p><p id="p-0157" num="0159">a controller connected to the one or more circuits.</p><p id="p-0158" num="0160">14. The system of clause 13, further comprising a circuit layer comprising the switching element and the one or more circuits.</p><p id="p-0159" num="0161">15. The system of any one of clauses 13 and 14, wherein</p><p id="p-0160" num="0162">the controller is configured to control the switching element based on an address of any of the first element and the second element.</p><p id="p-0161" num="0163">16. The system of any one of clauses 13-15, wherein</p><p id="p-0162" num="0164">the controller is configured to acquire an image based on the beam, and generate a command signal based on the image; and</p><p id="p-0163" num="0165">the one or more circuits are configured to control the switching element based on the command signal.</p><p id="p-0164" num="0166">17. The system of any one of clauses 13-16, wherein</p><p id="p-0165" num="0167">the detector array comprises a first number of pixels configured to be grouped in a second number of groups, the second number being less than the first number.</p><p id="p-0166" num="0168">18. The system of clause 17, further comprising:</p><p id="p-0167" num="0169">a signal conditioning circuit array;</p><p id="p-0168" num="0170">a parallel analog signal processing path array;</p><p id="p-0169" num="0171">a parallel analog-to-digital converter array; and</p><p id="p-0170" num="0172">a digital control unit,</p><p id="p-0171" num="0173">wherein the signal conditioning circuit array, the parallel analog signal processing path array, the parallel analog-to-digital converter array, and the digital control unit are connected to the detector array via a plurality of channels, a number of the plurality of channels being greater than or equal to the second number.</p><p id="p-0172" num="0174">19. The system of any one of clauses 13-18, wherein the controller is configured to override a local logic of the one or more circuits.</p><p id="p-0173" num="0175">20. The system of any one of clauses 13-19, wherein the one or more circuits comprise the controller.</p><p id="p-0174" num="0176">21. The system of any one of clauses 13-19, wherein the controller is external to the detector array.</p><p id="p-0175" num="0177">22. The system of any one of clauses 13-19, wherein the first element and the second element have a common output.</p><p id="p-0176" num="0178">23. The system of clause 18, wherein the number of the plurality of channels is equal to the second number.</p><p id="p-0177" num="0179">24. A detector comprising:</p><p id="p-0178" num="0180">a substrate comprising a plurality of sensing elements including a first element and a second element; and</p><p id="p-0179" num="0181">a switching element configured to connect the first element and the second element,</p><p id="p-0180" num="0182">wherein the first element is configured to generate a first signal in response to the first element detecting an input, and the second element is configured to generate a second signal in response to the second element detecting an input,</p><p id="p-0181" num="0183">wherein the switching element is configured to group together the first element and the second element.</p><p id="p-0182" num="0184">25. The detector of clause 24, further comprising:</p><p id="p-0183" num="0185">a first output signal path connected to the first element; and</p><p id="p-0184" num="0186">a second output signal path connected to the second element,</p><p id="p-0185" num="0187">wherein the switching element is configured to connect the first output signal path and the second output signal path.</p><p id="p-0186" num="0188">26. The detector of any one of clauses 24 and 25, further comprising:</p><p id="p-0187" num="0189">one or more circuits configured to control the switching element based on the first signal and the second signal.</p><p id="p-0188" num="0190">27. The detector of any one of clauses 24-26, further comprising:</p><p id="p-0189" num="0191">a circuit die comprising the switching element.</p><p id="p-0190" num="0192">28. The detector of clause 25, further comprising:</p><p id="p-0191" num="0193">a circuit die comprising the switching element, the first output signal path, and the second output signal path.</p><p id="p-0192" num="0194">29. The detector of any one of clauses 24-28, wherein the detector comprises a first number of pixels configured to be grouped in a second number of groups, the second number being less than the first number.</p><p id="p-0193" num="0195">23. The detector of any one of clauses 5 or 6, wherein the first predetermined energy and the second predetermined energy are a same predetermined energy.</p><p id="p-0194" num="0196">24. The detector of any one of clauses 5 or 6, wherein the first predetermined energy and the second predetermined energy are different predetermined energies.</p><p id="p-0195" num="0197">25. The detector of clause 5, wherein the charged particles are electrons.</p><p id="p-0196" num="0198">26. The detector of clause 13, wherein the one or more circuits comprises a plurality of circuits, and wherein the controller being connected to the one or more circuits includes the controller being connected to any of the plurality of circuits.</p><p id="p-0197" num="0199">The block diagrams in the Figures illustrate the architecture, functionality, and operation of possible implementations of systems, methods, and computer hardware/software products according to various exemplary embodiments of the present disclosure. In this regard, each block in a flowchart or block diagram may represent a module, segment, or portion of code which comprises one or more executable instructions for implementing the specified logical functions. It should be understood that in some alternative implementations, functions indicated in the block may occur out of the order noted in the Figures. For example, two blocks shown in succession may be executed or implemented substantially concurrently, or two blocks may sometimes be executed in reverse order, depending upon the functionality involved. It should also be understood that each block of the block diagrams, and combination of the blocks, can be implemented by special purpose hardware-based systems that perform the specified functions or acts, or by combinations of special purpose hardware and computer instructions.</p><p id="p-0198" num="0200">It will be appreciated that the present invention is not limited to the exact construction that has been described above and illustrated in the accompanying drawings, and that various modifications and changes can be made without departing from the scope thereof. For example, while an exemplary detector has been set forth and described with respect to an electron beam system, a detector consistent with aspects of the present disclosure may be applied in a photo detector system, x-ray detector system, and other detection systems for high energy ionizing particles, etc. Detectors according to aspects of the present disclosure may be applied in a scanning electron microscope (SEM), a CMOS image sensor, a consumer camera, a specialized camera, or industry-use camera, etc.</p><p id="p-0199" num="0201">It is intended that the scope of the invention should only be limited by the appended</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-01-15" num="01-15"><claim-text><b>1</b>-<b>15</b>. (canceled)</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. A detector, comprising:<claim-text>a substrate comprising a plurality of sensing elements including a first element and a second element; and</claim-text><claim-text>a switching element configured to connect the first element and the second element, wherein the first element is configured to generate a first signal in response to the first element detecting first charged particles that indicate a beam, and the second element is configured to generate a second signal in response to the second element detecting second charges particles that indicate the beam, and</claim-text><claim-text>wherein the switching element is configured to be controlled based on the first signal and the second signal.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The detector of <claim-ref idref="CLM-00016">claim 16</claim-ref>, further comprising:<claim-text>a sensor die that includes the substrate; and</claim-text><claim-text>a circuit die that includes the switching element and one or more circuits configured to control the switching element.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The detector of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the switching element comprises a switch configured to connect the first element and the second element.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The detector of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the substrate comprises a diode.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The detector of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the first element is configured to generate the first signal in response to the first element receiving first charged particles with a first predetermined amount of energy, and the second element is configured to generate the second signal in response to receiving second charged particles with a second predetermined amount of energy.</claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. The detector of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the first element is configured to generate the first signal in response to the first element receiving first electrons with a first predetermined amount of energy, and the second element is configured to generate the second signal in response to receiving second electrons with a second predetermined amount of energy.</claim-text></claim><claim id="CLM-00022" num="00022"><claim-text><b>22</b>. The detector of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein:<claim-text>in a thickness direction, the substrate comprises: a top metal layer configured as a detection surface, and a bottom metal layer, and</claim-text><claim-text>in a cross section, an area between the top metal layer and the bottom metal layer is a charge carrier region.</claim-text></claim-text></claim><claim id="CLM-00023" num="00023"><claim-text><b>23</b>. The detector of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the switching element comprises a field effect transistor, wherein the field effect transistor comprises at least a contact of a gate fabricated in a metal layer.</claim-text></claim><claim id="CLM-00024" num="00024"><claim-text><b>24</b>. A detector comprising:<claim-text>a sensor layer comprising an array of sensing elements including a first element and a second element, wherein the first element and the second element are adjacent;</claim-text><claim-text>a circuit layer comprising one or more circuits electrically connected to the first element and the second element, and</claim-text><claim-text>a switching element configured to connect the first element and the second element, wherein the one or more circuits is configured to:</claim-text><claim-text>generate a first status indicator when the first element receives charged particles with a first predetermined amount of energy;</claim-text><claim-text>generate a second status indicator when the second element receives charged particles with a second predetermined amount of energy, and</claim-text><claim-text>control the switching element based on the first status indicator and the second status indicator.</claim-text></claim-text></claim><claim id="CLM-00025" num="00025"><claim-text><b>25</b>. The detector of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein the switching element comprises a transistor.</claim-text></claim><claim id="CLM-00026" num="00026"><claim-text><b>26</b>. The detector of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein the circuit layer comprises the switching element.</claim-text></claim><claim id="CLM-00027" num="00027"><claim-text><b>27</b>. The detector of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein in a cross section of the substrate, the sensor layer and the circuit layer sandwich the switching element.</claim-text></claim><claim id="CLM-00028" num="00028"><claim-text><b>28</b>. The detector of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein the first predetermined energy and the second predetermined energy are different predetermined energies.</claim-text></claim><claim id="CLM-00029" num="00029"><claim-text><b>29</b>. The detector of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein the first predetermined energy and the second predetermined energy are the same predetermined energy.</claim-text></claim><claim id="CLM-00030" num="00030"><claim-text><b>30</b>. The detector of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein<claim-text>the one or more circuits further comprise a gate; and</claim-text><claim-text>the first status indicator and the second status indicator are configured to be input to the gate.</claim-text></claim-text></claim><claim id="CLM-00031" num="00031"><claim-text><b>31</b>. The detector of <claim-ref idref="CLM-00030">claim 30</claim-ref>, wherein the gate is configured to toggle the switching element based on the first status indicator and the second status indicator.</claim-text></claim><claim id="CLM-00032" num="00032"><claim-text><b>32</b>. The detector of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising:<claim-text>a first comparator configured to compare a first voltage of a first capacitor to a first reference value, the first capacitor receiving charge from the first element; and</claim-text><claim-text>a second comparator configured to compare a second voltage of a second capacitor to the first reference value, the second capacitor receiving charge from the second element.</claim-text></claim-text></claim><claim id="CLM-00033" num="00033"><claim-text><b>33</b>. The detector of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein:<claim-text>the one or more circuits is configured to control the switching element in response to the first status indicator and the second status indicator being generated, and</claim-text><claim-text>the controlling comprises merging a first output of the first element with a second output of the second element by the switching element.</claim-text></claim-text></claim><claim id="CLM-00034" num="00034"><claim-text><b>34</b>. The detector of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein the one or more circuits is configured to control the switching element in response to the first status indicator or the second status indicator not being generated, and<claim-text>the controlling comprises preventing a merging of a first output of the first element with a second output of the second element by the switching element.</claim-text></claim-text></claim><claim id="CLM-00035" num="00035"><claim-text><b>35</b>. A charged particle detector, comprising:<claim-text>a sensor layer comprising an array of charged particle sensing elements including a first element and a second element; and</claim-text><claim-text>a switching element configured to selectively couple a first output of the first element with a second output of the second element based on a first level of the first output of the first sensing element and a second level of the second output of the second sensing element.</claim-text></claim-text></claim></claims></us-patent-application>