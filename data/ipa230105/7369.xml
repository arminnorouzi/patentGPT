<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007370A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007370</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17941269</doc-number><date>20220909</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202010170323.0</doc-number><date>20200312</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>Q</subclass><main-group>11</main-group><subgroup>00</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>B</subclass><main-group>10</main-group><subgroup>2513</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>J</subclass><main-group>14</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>Q</subclass><main-group>11</main-group><subgroup>0067</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>B</subclass><main-group>10</main-group><subgroup>25133</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>J</subclass><main-group>14</main-group><subgroup>0282</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">OPTICAL MODULE, DATA CENTER SYSTEM, AND DATA TRANSMISSION METHOD</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2021/078979</doc-number><date>20210304</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17941269</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Huawei Technologies Co., Ltd.</orgname><address><city>Shenzhen</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>MI</last-name><first-name>Guangcan</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>JI</last-name><first-name>Ruiqiang</first-name><address><city>Dongguan</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>CHANG</last-name><first-name>Zeshan</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">An optical module is disclosed. The optical module includes a first downlink port, a second downlink port, a directional coupler, a optical attenuator, a first photodiode (PD), and a second PD. The directional coupler, connected to the first downlink port, is configured to receive a downlink optical signal. The second PD connected to the directional coupler, is configured to obtain a power value. If the power value is greater than a first threshold, the optical attenuator is configured to receive a attenuation control signal, and attenuate, based on the attenuation control signal, a power of an optical signal passing through the second downlink port. The first PD is configured to: convert the downlink optical signal into a downlink electrical signal, and convert the optical signal passing through the second downlink port into an electrical signal. Both the first downlink port and the second downlink port are connected to the first PD.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="74.59mm" wi="158.75mm" file="US20230007370A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="214.80mm" wi="110.32mm" orientation="landscape" file="US20230007370A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="87.97mm" wi="158.58mm" file="US20230007370A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="217.59mm" wi="132.67mm" orientation="landscape" file="US20230007370A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="216.75mm" wi="158.92mm" orientation="landscape" file="US20230007370A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="211.33mm" wi="124.21mm" orientation="landscape" file="US20230007370A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="219.54mm" wi="158.75mm" orientation="landscape" file="US20230007370A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="214.12mm" wi="109.73mm" orientation="landscape" file="US20230007370A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="139.36mm" wi="146.90mm" file="US20230007370A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation of International Application No. PCT/CN2021/078979, filed on Mar. 4, 2021, which claims priority to Chinese Patent Application No. 202010170323.0, filed on Mar. 12, 2020. The disclosures of the aforementioned applications are hereby incorporated by reference in their entireties.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">Embodiments of this application relate to the field of optical network communication, and in particular, to an optical module, a data center system, and a data transmission method.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">Advantages of a data center network (DCN) in electronic office, cloud storage of data, cloud processing of data, and other aspects make the data center network increasingly popular in various industries. With vigorous development of the data center network, data streams of the data center network also continuously increase, and a switching device needs to be connected to an increasing quantity of switching devices. Because switching devices are connected through optical modules, a quantity of optical ports <b>111</b> of an optical module also increases. The optical port <b>111</b> is an optical signal port through which an optical module on a switching device is connected to another switching device. An electrical port <b>112</b> is an electrical signal port through which an optical module on a switching device is connected to the switching device. As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, a data center network in the figure includes a core layer, a convergence layer, and an access layer, and a switching device <b>110</b> belongs to the convergence layer. A first device is used as an example. The first device has four electrical signals that are connected to an optical module A<b>1</b> through four electrical ports <b>112</b>. The optical module A<b>1</b> is connected to switching devices <b>102</b> to <b>105</b> at the convergence layer through four optical ports <b>111</b> respectively. The first device further has four electrical signals that are connected to an optical module A<b>2</b> through four electrical ports <b>112</b>, and the optical module A<b>2</b> is connected to the switching device <b>110</b> through an optical port <b>111</b>.</p><p id="p-0005" num="0004">An increase in a quantity of optical ports <b>111</b> can improve connectivity of the first device. To be specific, the first device can be connected to more switching devices, or connected to one switching device through more optical ports <b>111</b>. Usually, a quantity of electrical ports <b>112</b> of the first device is limited, and a quantity of optical ports <b>111</b> is also limited by a quantity of electrical ports <b>112</b> of the optical module. Therefore, how to increase the quantity of optical ports <b>111</b> when the quantity of electrical ports <b>112</b> of the first device is limited is an issue that urgently needs to be addressed.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0006" num="0005">This application provides an optical module, a data center system, and a data transmission method that are applied to the field of optical network communication, to improve connectivity of an optical module and reduce costs of the optical module.</p><p id="p-0007" num="0006">A first aspect of this application provides an optical module, including a first downlink port, a second downlink port, a first directional coupler, a first optical attenuator, a first photodiode (PD), and a second PD. The first directional coupler is connected to the first downlink port, a first downlink optical signal passing through the first downlink port passes through the first directional coupler, and the first directional coupler includes two output ports. One output port transmits the first downlink optical signal to the first PD. The first PD is configured to convert the first downlink optical signal into a first downlink electrical signal. The other output port transmits, to the second PD, an optical signal obtained through coupling from the first downlink optical signal. The second PD detects a power of the optical signal obtained through coupling, to obtain a first power value. The first optical attenuator is connected to the second downlink port, and an optical signal passing through the second downlink port passes through the first optical attenuator. If the first power value is greater than a first threshold, the first optical attenuator may receive a first attenuation control signal, and attenuate, based on the first attenuation control signal, a power of the optical signal passing through the second downlink port. The first PD is further connected to the second downlink port. If the first power value is less than or equal to the first threshold and the first optical attenuator does not block the optical signal passing through the second downlink port, the first PD may further receive the optical signal passing through the second downlink port, and convert the optical signal into an electrical signal.</p><p id="p-0008" num="0007">Two ports share one PD, so that connectivity of the optical module can be improved in this embodiment of this application. In addition, a structural design of the optical module is simple, thereby reducing costs of the optical module.</p><p id="p-0009" num="0008">In one embodiment, the optical module further includes a first controller. The first controller is connected to the second PD, and is configured to receive the first power value sent by the second PD. If the first power value is greater than the first threshold, the first controller may generate the first attenuation control signal, and send the first attenuation control signal to the first optical attenuator.</p><p id="p-0010" num="0009">In one embodiment, the optical module further includes a beam combiner. An input terminal of the beam combiner is connected to the first directional coupler and the first optical attenuator. An output terminal of the beam combiner is connected to the first PD. The first downlink optical signal passes through the beam combiner, and the beam combiner transmits the first downlink optical signal to the first PD; or the optical signal passing through the second downlink port passes through the beam combiner, and the beam combiner transmits, to the first PD, the optical signal passing through the second downlink port. The first PD may have only one input port.</p><p id="p-0011" num="0010">In one embodiment, the first controller is further configured to obtain an attenuation stop signal, where the attenuation stop signal is obtained based on a transmission status of the first downlink electrical signal, and the transmission status is that transmission has stopped. The first controller is further configured to send the attenuation stop signal to the first optical attenuator. The first optical attenuator is further configured to stop, based on the attenuation stop signal, attenuating the power of the optical signal passing through the second downlink port. When no optical signal is transmitted on the first downlink port, the following problem can be avoided: The optical signal on the second downlink port is attenuated. As a result, the optical signal on the second downlink port cannot be transmitted, causing a waste of transmission resources.</p><p id="p-0012" num="0011">In one embodiment, the second PD is further configured to obtain a second power value, and send the second power value to the first controller. If the second power value is less than or equal to a second threshold, the first controller is further configured to send an attenuation stop signal to the first optical attenuator. The first optical attenuator is further configured to receive the attenuation stop signal, and stop, based on the attenuation stop signal, attenuating a power of a second optical signal. If the second power value is less than or equal to the second threshold, transmission of data of the first downlink optical signal has been completed, or transmission has stopped, and the first controller may generate the attenuation stop signal, and send the attenuation stop signal to the first optical attenuator. This avoids the following problem: When no optical signal is transmitted on the first downlink port, the optical signal on the second downlink port is still attenuated. As a result, the optical signal on the second downlink port cannot be transmitted, causing a waste of transmission resources.</p><p id="p-0013" num="0012">In one embodiment, the optical module further includes a second directional coupler, a second optical attenuator, and a third PD. An input terminal of the second directional coupler is connected to the first optical attenuator, an optical signal passing through the first optical attenuator passes through the second directional coupler, and the second directional coupler includes two output ports. One output port transmits, to the first PD, the optical signal passing through the second downlink port. The other output port transmits, to the third PD, an optical signal obtained through coupling from the optical signal passing through the second downlink port. The third PD detects a power of the optical signal obtained through coupling, to obtain a third power value. An input terminal of the second optical attenuator is connected to the first downlink port, an output terminal of the second optical attenuator is connected to the first directional coupler, and the optical signal passing through the first downlink port passes through the second optical attenuator. The second optical attenuator may further receive a second attenuation control signal, and if the third power value is greater than a third threshold, attenuate, based on the second attenuation control signal, a power of the optical signal passing through the first downlink port. With reference to the first aspect of this application, when it is detected that an optical signal is transmitted on the first downlink port, the first optical attenuator may attenuate the power of the optical signal passing through the second downlink port, thereby improving stability of optical signal transmission.</p><p id="p-0014" num="0013">In one embodiment, the optical module further includes a first light source, a first modulator, a first switch, a first uplink port, and a second uplink port. The first light source is configured to generate a first beam. The first modulator is configured to receive a first uplink electrical signal, modulate the first beam by using the first uplink electrical signal, to obtain a first uplink optical signal, and transmit the first uplink optical signal to the first switch. The first switch is configured to receive a first control signal, and transmit the first uplink optical signal to the first uplink port or the second uplink port based on the first control signal. The first uplink port and the second uplink port are optical ports, and the first modulator needs to occupy only one electrical port of the optical module. Therefore, a quantity of optical ports can be increased, and connectivity of the optical module can be improved. The first switch transmits the first uplink optical signal to the first uplink port or the second uplink port based on the first control signal. Therefore, the first control signal may be flexibly configured to flexibly control a transmission direction of the first uplink optical signal.</p><p id="p-0015" num="0014">In one embodiment, the first controller is further configured to send the first control signal to the first switch.</p><p id="p-0016" num="0015">In one embodiment, the optical module further includes a wavelength division multiplexer, a second light source, a second modulator, a second switch, and a third uplink port. The second light source is configured to generate a second beam. The second modulator is configured to receive a second uplink electrical signal, modulate the second beam by using the second uplink electrical signal, to obtain a second uplink optical signal, and transmit the second uplink optical signal to the second switch. The second switch is configured to receive a second control signal, and transmit the second uplink optical signal to the first uplink port or the third uplink port based on the second control signal. If the second switch transmits the second uplink optical signal to the first uplink port based on the second control signal, the second uplink optical signal passing through the second switch passes through the wavelength division multiplexer. If the first switch transmits the first uplink optical signal to the first uplink port based on the first control signal, the first uplink optical signal passing through the first switch also passes through the wavelength division multiplexer. The wavelength division multiplexer combines the second uplink optical signal and the first uplink optical signal to obtain a third uplink optical signal, and transmits the third uplink optical signal to the first uplink port. The first controller is further configured to obtain the second control signal, and send the second control signal to the second switch.</p><p id="p-0017" num="0016">In this application, an input terminal of the wavelength division multiplexer is connected to the first switch and the second switch, and an output terminal of the wavelength division multiplexer is connected to the first uplink port. The wavelength division multiplexer may combine two optical signals with different wavelengths onto one optical fiber for transmission. Therefore, when the second uplink optical signal and the first uplink optical signal are received by a same receiver, a quantity of ports of the receiver may be reduced.</p><p id="p-0018" num="0017">In one embodiment, the optical module further includes a drive amplifier. The drive amplifier is connected to the first modulator, and the drive amplifier is configured to receive the first uplink electrical signal, amplify the first uplink electrical signal, and send an amplified first uplink electrical signal to the first modulator.</p><p id="p-0019" num="0018">In one embodiment, the first controller is further configured to adjust an operating wavelength of the first modulator, so that the operating wavelength of the first modulator matches a wavelength of the first beam. First uplink optical signals with different wavelengths are obtained by changing the wavelength of the first beam, to improve adaptability of the optical module in scenarios with different wavelength requirements.</p><p id="p-0020" num="0019">In one embodiment, the first modulator is an electro-absorption modulator. Because the first uplink optical signal may have loss when passing through the first switch, loss of the first optical signal in other aspects is expected to be reduced. When the electro-absorption modulator is used, lower loss can be achieved, and strength of an optical signal can be improved.</p><p id="p-0021" num="0020">A second aspect of this application provides a data center system. The data center system includes a convergence layer switching device group and an access layer switching device group. The convergence layer switching device group includes one optical switching device and N electrical switching devices, where N is an integer greater than 0. The access layer switching device group includes a first device, and the first device includes the optical module according to any one of the first aspect or the embodiments of the first aspect. The first device includes N+1 downlink ports, and the N+1 downlink ports include one first downlink port and N second downlink ports. The first downlink port is connected to the optical switching device, and each second downlink port is connected to one electrical switching device. A first directional coupler is configured to receive a first downlink optical signal sent by the optical switching device.</p><p id="p-0022" num="0021">A third aspect of this application provides a data transmission method. The method includes: receiving a first downlink optical signal passing through a first downlink port; detecting a power of an optical signal obtained through coupling from the first downlink optical signal, to obtain a first power value; and if the first power value is greater than a first threshold, attenuating, by the optical module, a power of an optical signal passing through a second downlink port, and converting, by the optical module, the first downlink optical signal into a first downlink electrical signal; or if the first power value is less than or equal to the first threshold, receiving, by the optical module, the optical signal passing through the second downlink port, and converting the optical signal passing through the second downlink port into an electrical signal. In one embodiment, an operation, for example, wavelength combination processing or electrical signal amplification, of an optional component described in a specific implementation of the first aspect may be further performed. Details are not described herein again.</p><p id="p-0023" num="0022">A fourth aspect of this application provides an optical transmit module. The optical transmit module includes a first light source, a first modulator, a first switch, a first uplink port, and a second uplink port. The first light source is configured to generate a first beam. The first modulator is configured to receive a first uplink electrical signal, modulate the first beam by using the first uplink electrical signal, to obtain a first uplink optical signal, and transmit the first uplink optical signal to the first switch. The first switch is configured to receive a first control signal, and transmit the first uplink optical signal to the first uplink port or the second uplink port based on the first control signal.</p><p id="p-0024" num="0023">In this application, the first uplink port and the second uplink port are optical ports, and the first modulator needs to occupy only one electrical port of the optical module. Therefore, a quantity of optical ports can be increased, and connectivity of the optical module can be improved. The first switch transmits the first uplink optical signal to the first uplink port or the second uplink port based on the first control signal. Therefore, the first control signal may be flexibly configured to flexibly control a transmission direction of the first uplink optical signal.</p><p id="p-0025" num="0024">In one embodiment, the optical transmit module further includes a first controller, and the first controller is configured to send the first control signal to the first switch.</p><p id="p-0026" num="0025">In one embodiment, the optical transmit module further includes a wavelength division multiplexer, a second light source, a second modulator, a second switch, and a third uplink port. The second light source is configured to generate a second beam. The second modulator is configured to receive a second uplink electrical signal, modulate the second beam by using the second uplink electrical signal, to obtain a second uplink optical signal, and transmit the second uplink optical signal to the second switch. The second switch is configured to receive a second control signal, and transmit the second uplink optical signal to the first uplink port or the third uplink port based on the second control signal. The wavelength division multiplexer is configured to receive the second uplink optical signal passing through the second switch, and is further configured to receive the first uplink optical signal passing through the first switch, combine the second uplink optical signal and the first uplink optical signal to obtain a third uplink optical signal, and transmit the third uplink optical signal to the first uplink port. The first controller is further configured to obtain the second control signal, and send the second control signal to the second switch. When the second uplink optical signal and the first uplink optical signal are received by a same receiver, a quantity of ports of the receiver may be reduced.</p><p id="p-0027" num="0026">In one embodiment, the optical transmit module further includes a drive amplifier. The drive amplifier is connected to the first modulator, and is configured to amplify the first uplink electrical signal, and send an amplified first uplink electrical signal to the first modulator.</p><p id="p-0028" num="0027">In one embodiment, the first controller is further configured to adjust an operating wavelength of the first modulator, so that the operating wavelength of the first modulator matches a wavelength of the first beam. The wavelength of the first beam may be flexibly changed, and a wavelength of the first uplink optical signal may also be changed as the wavelength of the first beam is changed. Therefore, first uplink optical signals with different wavelengths can be flexibly obtained through modulation, to improve adaptability of an optical module in scenarios with different wavelength requirements.</p><p id="p-0029" num="0028">In one embodiment, the first modulator is an electro-absorption modulator.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram of a network framework according to an embodiment of this application;</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic diagram of a structure of an optical transmit module in the case of a single channel according to an embodiment of this application;</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic diagram of a structure of an optical transmit module in the case of two channels according to an embodiment of this application;</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of a structure of an optical transmit module in the case of four channels according to an embodiment of this application;</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic diagram of a structure of an optical receive module in the case of a single channel according to an embodiment of this application;</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of a structure of an optical receive module in the case of four channels according to an embodiment of this application;</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of a structure of a network center system according to an embodiment of this application; and</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a schematic flowchart of a data transmission method according to an embodiment of this application.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DESCRIPTION OF EMBODIMENTS</heading><p id="p-0038" num="0037">Embodiments of this application provide an optical module, a data center system, and a data transmission method that are applied to the field of optical network communication, to improve connectivity of an optical module and reduce costs of the optical module.</p><p id="p-0039" num="0038">Optical communication is a communication mode in which a light wave serves as a carrier. With rapid development of a network, a volume of data that needs to be transmitted on the network is also increasing. Compared with electrical communication, the optical communication has a higher operating frequency, and therefore can achieve a higher transmission speed. In the optical communication, an optical fiber is usually used as a transmission medium for light waves. Therefore, the optical communication is also referred to as fiber-optic communication. In the fiber-optic communication, a transmit end needs to convert an electrical signal into an optical signal, and transmit the optical signal through an optical fiber, and a receive end converts a received optical signal into an electrical signal.</p><p id="p-0040" num="0039">The optical module includes an optical receive module or an optical transmit module. The optical transmit module is configured to convert an electrical signal into an optical signal at a transmit end. A principle is as follows: A laser generates a beam, and a modulator modulates the beam by using an electrical signal, to make intensity, or a phase, or intensity and a phase of the beam change. The optical module may include both an optical receive module and an optical transmit module, and is also referred to as an integrated optical transceiver module. The modulator is one of basic devices of the optical communication. Common modulators include a modulator based on a free-carrier plasma dispersion effect and a modulator based on electro-absorption. Currently, there are mainly two types of modulators based on the free-carrier plasma dispersion effect: a Mach-Zehnder modulator (MZM) and a microring modulator. The modulator based on electro-absorption is an optical signal modulation device fabricated by using an electro-optic effect in a semiconductor. Usually, the electro-absorption modulator modulates a beam generated by a laser, and the electro-absorption modulator usually modulates the beam by changing intensity of the beam based on a change of an electrical signal.</p><p id="p-0041" num="0040">A plurality of optical signals with different wavelengths may be transmitted on one optical fiber. This is a wavelength division multiplexing (WDM) technology. A wavelength division multiplexer is used in the WDM technology. At a transmit end, the wavelength division multiplexer couples a plurality of optical signals with different wavelengths to one optical fiber for transmission. After optical signals with different wavelengths are transmitted to a receive end, a demultiplexer separates the optical signals with different wavelengths, where the demultiplexer is also referred to as a beam splitter.</p><p id="p-0042" num="0041">In the fiber-optic communication, a transmit end and a receive end are not necessarily directly connected, and there may be an intermediate network node, for example, a switching device or a router. In this case, the network node carries a signal receiving function and a signal sending function. Therefore, the network node also has an optical module, which is also referred to as an optical forwarding module. An optical module at the transmit end converts an electrical signal into an optical signal, and then transmits the optical signal to the receive end through an optical fiber. Therefore, the network node receives the optical signal. If the network node is a switching device and the network node directly forwards the optical signal to the receive end, the switching device is an optical switching device; or if the network node converts the optical signal into an electrical signal, converts the electrical signal into an optical signal, and then forwards the optical signal to the receive end, the switching device is an electrical switching device.</p><p id="p-0043" num="0042">In this application, the optical module may be an optical transmit module, or the optical module may be an optical receive module, and structural designs of the optical transmit module and the optical receive module are different. The following separately describes two structures. For example, features or content identified by dashed lines in accompanying drawings included in embodiments of this application may be understood as optional operations or optional structures of the embodiments.</p><p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic diagram of a structure of an optical transmit module in the case of a single channel according to an embodiment of this application. As shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the optical module includes a first light source <b>201</b>, a first modulator <b>202</b>, a first switch <b>203</b>, a first uplink port <b>204</b>, and a second uplink port <b>205</b>. The first light source <b>201</b> is configured to generate a first beam. The first modulator <b>202</b> is configured to receive a first uplink electrical signal, modulate the first beam by using the first uplink electrical signal, to obtain a first uplink optical signal, and transmit the first uplink optical signal to the first switch <b>203</b>. The first switch is configured to receive a first control signal, and transmit the first uplink optical signal to the first uplink port <b>204</b> or the second uplink port <b>205</b> based on the first control signal.</p><p id="p-0045" num="0044">The first light source <b>201</b> may be a laser, for example, a distributed feedback (DFB) laser or a Fabry-Perot (FP) laser. The FP laser mainly has two operating wavelengths: 1310 nanometers and 1550 nanometers. An operating wavelength of a laser is a center wavelength of a spectrum emitted by the laser.</p><p id="p-0046" num="0045">The first switch <b>203</b> may include an optical splitter, a first optical waveguide, and a second optical waveguide. The optical splitter includes one input port and two output ports. After the optical splitter receives the first uplink optical signal through the input port, the optical splitter separately transmits the first uplink optical signal to the two output ports. One output port is connected to the first optical waveguide, and the other output port is connected to the second optical waveguide. The optical waveguide may allow or prevent passing of the first uplink optical signal based on the first control signal. The first control signal may be an applied voltage, and the optical waveguide may allow or prevent passing of the first uplink optical signal based on a magnitude of the voltage. The first optical waveguide is connected to the first uplink port, and the second optical waveguide is connected to the second uplink port. For example, if a voltage applied to the first optical waveguide is greater than a fourth threshold and a voltage applied to the second optical waveguide is less than a fifth threshold, a first uplink optical signal passing through the first optical waveguide is blocked, and a first uplink optical signal passing through the second optical waveguide properly passes. The first uplink port <b>204</b> does not output the first uplink optical signal. Functions of the first optical waveguide and the second optical waveguide in the first switch <b>203</b> are similar to a function of an optical attenuator. Therefore, the optical waveguide may be replaced with the optical attenuator.</p><p id="p-0047" num="0046">Alternatively, the first switch <b>203</b> may be a Mach-Zehnder interferometer (MZI). The MZI is connected to a port a, a port c, and a port d. An optical signal input from the port a to the MZI is divided into two signals by a beam splitter <b>1</b>. After being transmitted on two arms of the MZI, the two signals are output by a 2&#xd7;2 directional coupler to the port c or the port d. One of the two arms of the MZI is equipped with a phase regulator, or each of the two arms is equipped with a phase regulator. The phase regulator may be based on an electro-optic or thermo-optic effect. A voltage or a temperature of the phase regulator is changed to change a phase difference between optical signals transmitted on the two arms, so that all optical signals input from the port a are output by the port c or the port d.</p><p id="p-0048" num="0047">The first uplink port <b>204</b> and the second uplink port <b>205</b> may be optical coupling devices. An optical coupling device needs to be disposed to prevent signal interference between an optical fiber and the optical module and because of the following reason: The optical waveguide in the optical module is usually small in size, and a cross-sectional size of the optical waveguide is less than 0.5 micrometers. However, a core diameter of a common single-mode optical fiber is approximately 8 to 10 micrometers. Therefore, the optical waveguide and the optical fiber vary greatly in size. The optical coupling device may be a mode size converter or a grating coupler.</p><p id="p-0049" num="0048">The first modulator <b>202</b> may be an MZM, a microring modulator, or an electro-absorption modulator.</p><p id="p-0050" num="0049">In one embodiment, the optical module may further include a first controller <b>206</b>, configured to send the first control signal to the first switch <b>203</b>. The first controller <b>206</b> may be an application-specific integrated circuit (ASIC), a digital signal processor (DSP), or a baseband chip. Alternatively, the first controller <b>206</b> may be another chip with a processing function, for example, may be a central processing unit (CPU), a network processor (NP), a field-programmable gate array (FPGA), or any combination thereof.</p><p id="p-0051" num="0050">In one embodiment, the first controller <b>206</b> is further configured to adjust an operating wavelength of the first modulator <b>202</b>. An operating wavelength of the first light source <b>201</b> is usually an 0 band near 1310 nanometers or a C band near 1550 nanometers. When the first light source <b>201</b> uses different operating wavelengths, the first modulator <b>202</b> may also use different operating wavelengths, and the first controller <b>206</b> may adjust the operating wavelength of the first modulator <b>202</b>, so that the operating wavelength of the first modulator <b>202</b> matches a wavelength of the first beam. The wavelength of the first beam is the operating wavelength of the first light source <b>201</b>, and the operating wavelength of the first modulator <b>202</b> is a wavelength range. The matching means making the operating wavelength of the first modulator <b>202</b> include the wavelength of the first beam. When a same first uplink electrical signal is input, a wavelength of a first uplink optical signal output by the first modulator <b>202</b> is related to a wavelength of an input first beam, that is, the first modulator <b>202</b> has an operating wavelength. If the wavelength of the input first beam deviates from the operating wavelength, a modulation effect of the modulator is weakened, or even no modulation effect can be implemented on the first uplink electrical signal.</p><p id="p-0052" num="0051">Therefore, the first controller <b>206</b> may further adjust the operating wavelength of the first modulator, so that the operating wavelength of the first modulator matches the wavelength of the first beam. Based on the thermo-optic effect, a temperature of an optical waveguide on an arm of the MZM or a temperature of a microring in the microring modulator is changed to change an effective refractive index of the optical waveguide, to change an operating wavelength of the MZM or the microring modulator. Specifically, a voltage loaded on the microring in the microring modulator may be changed, so that the temperature of the microring changes, and a resonance wavelength of the microring is shifted, that is, the operating wavelength of the microring modulator changes.</p><p id="p-0053" num="0052">In one embodiment, the optical module further includes a drive amplifier <b>207</b>. The drive amplifier <b>207</b> is connected to the first modulator <b>202</b>, and the drive amplifier <b>207</b> is configured to receive the first uplink electrical signal, amplify the first uplink electrical signal, and send an amplified first uplink electrical signal to the first modulator <b>202</b>. Because the drive amplifier <b>207</b> is disposed, a power of the first uplink electrical signal received by the optical module can be smaller.</p><p id="p-0054" num="0053">In one embodiment, the optical module further includes a wavelength division multiplexer <b>312</b>, a second light source <b>308</b>, a second modulator <b>309</b>, a second switch <b>310</b>, a third uplink port <b>311</b>, and a first device <b>313</b>. <figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic diagram of a structure of an optical transmit module in the case of two channels according to an embodiment of this application. As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the second light source <b>308</b> is configured to generate a second beam. The second modulator <b>309</b> is configured to receive a second uplink electrical signal, modulate the second beam by using the second uplink electrical signal, to obtain a second uplink optical signal, and transmit the second uplink optical signal to the second switch <b>310</b>. The second switch <b>310</b> is configured to receive a second control signal, and transmit the second uplink optical signal to the first uplink port <b>204</b> or the third uplink port <b>311</b> based on the second control signal. The wavelength division multiplexer <b>312</b> is configured to receive the second uplink optical signal passing through the second switch <b>310</b>, and is further configured to receive the first uplink optical signal passing through the first switch <b>203</b>, combine the second uplink optical signal and the first uplink optical signal to obtain a third uplink optical signal, and transmit the third uplink optical signal to the first uplink port <b>204</b>. The first controller <b>206</b> is further configured to obtain the second control signal, and send the second control signal to the second switch <b>310</b>. The first device <b>313</b> is a device connected to the optical module through an electrical port, and the first device may be a server, a router, a desktop computer, or the like. To clearly display a flow direction of a data stream, for example, the first uplink electrical signal received by the first modulator <b>202</b> and the second uplink electrical signal received by the second modulator <b>309</b> come from a same device, the first device <b>313</b> is added to <figref idref="DRAWINGS">FIG. <b>3</b></figref>. In actual application, when the optical module is not connected to a device, the first device <b>313</b> may not exist; or when the optical module is connected to a device, the device is the first device <b>313</b>. It should be determined that the first controller <b>206</b> may be disposed inside or outside the optical module. When the first controller <b>206</b> is disposed outside the optical module, the first controller <b>206</b> may or may not belong to the first device <b>313</b>. That the first controller <b>206</b> belongs to the first device <b>313</b> means that the first device <b>313</b> includes a controller, and the controller serves as the first controller <b>206</b> to implement a function that can be implemented by the first controller <b>206</b>.</p><p id="p-0055" num="0054">Descriptions of the second switch <b>310</b> are similar to those of the first switch <b>203</b>, descriptions of the second modulator <b>309</b> are similar to those of the first modulator <b>202</b>, and so on. For brevity of description, repeated concepts such as the second control signal and a third switch are not described below in this application, unless otherwise specified.</p><p id="p-0056" num="0055">An input terminal of the wavelength division multiplexer <b>312</b> is connected to the first switch <b>203</b> and the second switch <b>310</b>, and an output terminal of the wavelength division multiplexer <b>312</b> is connected to the first uplink port <b>204</b>. The wavelength division multiplexer <b>312</b> may combine two optical signals with different wavelengths onto one optical fiber for transmission. The wavelength division multiplexer <b>312</b> may be a device integrated in the optical module, for example, a device with a multi-stage cascaded Mach-Zehnder structure, a Bragg grating directional coupler, an optical add-drop multiplexer (OADM) including a microring filter, or an arrayed waveguide grating (AWG); or may be an additional optical device, for example, a planar lightwave circuit (PLC) wavelength division multiplexer or a thin film filter (TFF).</p><p id="p-0057" num="0056">In one embodiment, the optical module includes a common uplink port. <figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of a structure of an optical transmit module in the case of four channels according to an embodiment of this application. As shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the common uplink port does not include ports connected in parallel, and the first uplink port <b>204</b> and the second uplink port <b>205</b> are two ports connected in parallel. Therefore, a ratio of a quantity of common uplink ports to a quantity of ports connected in parallel may be configured to flexibly configure a quantity of electrical ports connected to the first uplink port <b>204</b>, namely, network bandwidth of the first uplink port <b>204</b>. The optical module in <figref idref="DRAWINGS">FIG. <b>4</b></figref> includes two common uplink ports: a fourth uplink port <b>414</b> and a fifth uplink port <b>415</b>. The optical module further includes two pairs of ports connected in parallel: The first uplink port <b>204</b> and the second uplink port <b>205</b> are connected in parallel, and the first uplink port <b>204</b> and the third uplink port <b>311</b> are connected in parallel. Therefore, there are two electrical ports connected to the first uplink port <b>204</b>. If network bandwidth that can be provided by each electrical port is 10 Gbps, the bandwidth of the first uplink port <b>204</b> is 20 Gbps. If the optical module does not include a common uplink port, four electrical ports are connected to the first uplink port <b>204</b>, and the bandwidth of the first uplink port <b>204</b> may reach 40 Gbps.</p><p id="p-0058" num="0057">Two ports share a light source and a modulator, so that the optical transmit module can improve connectivity of an optical module. In addition, the optical module structure provided in this embodiment has lower costs than a structure in a conventional technology.</p><p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic diagram of a structure of an optical receive module in the case of a single channel according to an embodiment of this application. As shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the optical module includes a first downlink port <b>505</b>, a second downlink port <b>506</b>, a first directional coupler <b>502</b>, a first optical attenuator <b>504</b>, a first PD <b>501</b>, and a second PD <b>503</b>. The first directional coupler <b>502</b> is connected to the first downlink port <b>505</b>, and is configured to receive a first downlink optical signal. A first downlink optical signal passing through the first downlink port <b>505</b> passes through the first directional coupler <b>502</b>. The first directional coupler <b>502</b> includes two output ports. One output port transmits the first downlink optical signal to the first PD <b>501</b>, and the first PD <b>501</b> is configured to convert the first downlink optical signal into a first downlink electrical signal. The other output port transmits, to the second PD <b>503</b>, an optical signal obtained through coupling from the first downlink optical signal, and the second PD <b>503</b> detects, based on the optical signal obtained through coupling, a power of the first downlink optical signal passing through the first directional coupler <b>502</b>, to obtain a first power value. The first optical attenuator <b>504</b> is connected to the second downlink port <b>506</b>, and an optical signal passing through the second downlink port <b>506</b> passes through the first optical attenuator <b>504</b>. The first optical attenuator <b>504</b> may further receive a first attenuation control signal, and if the first power value is greater than a first threshold, attenuate, based on the first attenuation control signal, a power of the optical signal passing through the second downlink port <b>506</b>. If the first optical attenuator <b>504</b> does not block the optical signal passing through the second downlink port <b>506</b>, the first PD <b>501</b> may receive the optical signal passing through the second downlink port <b>506</b>, and convert the optical signal into an electrical signal.</p><p id="p-0060" num="0059">The first downlink port <b>505</b> and the second downlink port <b>506</b> may be alternatively optical coupling devices. Descriptions are similar to those of the first uplink port <b>204</b>, and details are not described herein again.</p><p id="p-0061" num="0060">The first directional coupler <b>502</b> is a directional coupler. The directional coupler is an optical device, and essentially allocates a power of an optical signal based on a specific proportion. The directional coupler includes at least one input port and two output ports. The input port is connected to one output port through a primary waveguide, the primary waveguide is coupled to a secondary waveguide, and the secondary waveguide is connected to the other output port, where the output port is also referred to as a coupling terminal. When the first downlink optical signal is input from the input port, a part of the power of the first downlink optical signal is output from the output port connected to the primary waveguide. Because the secondary waveguide is coupled to the primary waveguide, the directional coupler may couple, to the secondary waveguide, a part of a power of a first downlink optical signal transmitted on a primary line. After receiving the first downlink optical signal, the first directional coupler <b>502</b> may transmit the optical signal obtained through coupling to the second PD <b>503</b> through the coupling terminal.</p><p id="p-0062" num="0061">The first PD <b>501</b> and the second PD <b>503</b> may be specifically a surface-illuminated PD and a waveguide PD. Like a common diode, the surface-illuminated PD is also a semiconductor device including a PN junction, and also has a unidirectional conductivity characteristic. The PD is a photoelectric sensor device that converts an optical signal into an electrical signal. When the photodiode is designed and fabricated, an area of a PN junction is made as large as possible, to receive incident light. An optical signal of the waveguide PD is transmitted to the PD through an optical waveguide. The PD also includes a part of the optical waveguide, and this part of the optical waveguide is made into a PN junction. The photodiode operates under the action of a reverse voltage. When there is no light, a reverse current is extremely weak, and is referred to as a dark current. When there is light, a reverse current rapidly increases to tens of microamperes, and is referred to as a photocurrent. Higher intensity of light leads to a larger reverse current. A change of light causes a change of a current of the photodiode. In this way, an optical signal can be converted into an electrical signal, and the photodiode becomes a photoelectric sensor device. After receiving the optical signal obtained through coupling that is transmitted by the first directional coupler <b>502</b>, the second PD <b>503</b> generates currents with different magnitudes based on a magnitude of a power of the optical signal obtained through coupling, where the magnitude of the power may also be referred to as the first power value.</p><p id="p-0063" num="0062">The first optical attenuator <b>504</b> is an optical attenuator, and the optical attenuator is a very important optical passive device. The optical attenuator may attenuate energy of an optical signal as expected. A specific implementation is to absorb or reflect a power of the optical signal. Types of the optical attenuator mainly include a displacement optical attenuator and an absorption optical attenuator. The first optical attenuator <b>504</b> is controlled by the first attenuation control signal, and the first attenuation control signal is obtained based on the first power value. If the first power value is greater than the first threshold, the first optical attenuator <b>504</b> enters an attenuation state, to attenuate the optical signal passing through the second downlink port <b>506</b>.</p><p id="p-0064" num="0063">In one embodiment, the optical module may further include a first controller <b>511</b>. The first controller <b>511</b> is connected to the second PD <b>503</b>, and is configured to receive the first power value sent by the second PD <b>503</b>. If the first power value is greater than the first threshold, the first controller <b>511</b> may generate the first attenuation control signal, and send the first attenuation control signal to the first optical attenuator <b>504</b>.</p><p id="p-0065" num="0064">In one embodiment, the optical module may further include a beam combiner <b>507</b>. An input terminal of the beam combiner <b>507</b> is connected to the first directional coupler <b>502</b> and the first optical attenuator <b>504</b>, and an output terminal of the beam combiner <b>507</b> is connected to the first PD <b>501</b>. The beam combiner <b>507</b> may be configured to receive the first downlink optical signal, and transmit the first downlink optical signal to the first PD <b>501</b>; or the beam combiner <b>507</b> may be configured to receive the optical signal passing through the second downlink port <b>506</b>, and transmit, to the first PD <b>501</b>, the optical signal passing through the second downlink port <b>506</b>. When the optical module does not include the beam combiner <b>507</b>, the first PD <b>501</b> may include two input terminals. One input terminal is connected to the first directional coupler <b>502</b>, and the other input terminal is connected to the first optical attenuator <b>504</b>.</p><p id="p-0066" num="0065">In one embodiment, the first controller <b>511</b> is further configured to obtain an attenuation stop signal, where the attenuation stop signal is obtained based on a transmission status of the first downlink electrical signal, and the transmission status is that transmission has stopped. The first controller <b>511</b> is further configured to send the attenuation stop signal to the first optical attenuator <b>504</b>. The first optical attenuator <b>504</b> is further configured to stop, based on the attenuation stop signal, attenuating the power of the optical signal passing through the second downlink port <b>506</b>. After converting the first downlink optical signal into the first downlink electrical signal, the first PD <b>501</b> may send the first downlink electrical signal to a device, and the device may learn of the transmission status of the first downlink electrical signal. After the device determines that transmission of the first downlink electrical signal has been completed, in other words, the transmission has stopped, if the first controller <b>511</b> belongs to the device, the device may send the attenuation stop signal to the first optical attenuator by using the first controller <b>511</b>. If the first controller <b>511</b> does not belong to the device, the device may send the attenuation stop signal to the first controller <b>511</b>, and then the first controller <b>511</b> sends the attenuation stop signal to the first optical attenuator <b>504</b>.</p><p id="p-0067" num="0066">In one embodiment, the second PD <b>503</b> is further configured to obtain a second power value, and send the second power value to the first controller <b>511</b>. If the second power value is less than or equal to a second threshold, the first controller <b>511</b> is further configured to send an attenuation stop signal to the first optical attenuator <b>504</b>. The first optical attenuator <b>504</b> is further configured to receive the attenuation stop signal, and stop, based on the attenuation stop signal, attenuating a power of a second optical signal. The second PD <b>503</b> may detect the power of the optical signal obtained through coupling from the first downlink optical signal, to obtain the second power value. If the second power value is less than or equal to the second threshold, transmission of data of the first downlink optical signal has been completed, or transmission has stopped. The first controller <b>511</b> may generate the attenuation stop signal, and send the attenuation stop signal to the first optical attenuator <b>504</b>. After receiving the attenuation stop signal, the first optical attenuator <b>504</b> may stop attenuating the power of the optical signal passing through the second downlink port <b>506</b>.</p><p id="p-0068" num="0067">In one embodiment, the optical module further includes a second directional coupler <b>508</b>, a second optical attenuator <b>510</b>, and a third PD <b>509</b>. An input terminal of the second directional coupler <b>508</b> is connected to the first optical attenuator <b>504</b>, and is configured to receive the optical signal passing through the second downlink port <b>506</b>. The second directional coupler <b>508</b> includes two output ports. One output port transmits, to the first PD <b>501</b>, the optical signal passing through the second downlink port <b>506</b>. The other output port transmits, to the third PD <b>509</b>, an optical signal obtained through coupling from the optical signal passing through the second downlink port <b>506</b>. The third PD <b>509</b> detects a power of the optical signal obtained through coupling, to obtain a third power value. An input terminal of the second optical attenuator <b>510</b> is connected to the first downlink port <b>505</b>, and an output terminal of the second optical attenuator <b>510</b> is connected to the first directional coupler <b>502</b>. The optical signal passing through the first downlink port <b>505</b> passes through the second optical attenuator <b>510</b>, and the second optical attenuator <b>510</b> may further receive a second attenuation control signal, and if the third power value is greater than a third threshold, attenuate, based on the second attenuation control signal, a power of the optical signal passing through the first downlink port.</p><p id="p-0069" num="0068">In one embodiment, the optical module may further include a common downlink port. The common downlink port does not include ports connected in parallel. The first downlink port <b>505</b> and the second downlink port <b>506</b> share the first PD, and the first downlink port <b>505</b> and the second downlink port <b>506</b> are two ports connected in parallel. Therefore, a ratio of a quantity of common downlink ports to a quantity of downlink ports connected in parallel may be configured to flexibly configure a quantity of PDs connected to the first downlink port, namely, network bandwidth of the first downlink port <b>505</b>. <figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of a structure of an optical receive module in the case of four channels according to an embodiment of this application. The optical module in <figref idref="DRAWINGS">FIG. <b>6</b></figref> includes three common downlink ports: a third downlink port <b>612</b>, a fourth downlink port <b>613</b>, and a fifth downlink port <b>614</b>. The optical module further includes a pair of ports connected in parallel: the first downlink port <b>505</b> and the second downlink port <b>506</b>. Therefore, there is only one PD connected to the first downlink port <b>505</b>. If network bandwidth that can be provided by each PD is 10 Gbps, the bandwidth of the first downlink port is 10 Gbps. When a quantity of PDs connected to the first downlink port is greater than 1, for example, the first PD and the second PD are included, a beam splitter may be disposed between the first downlink port and the first PD and second PD. The beam splitter splits the first downlink optical signal passing through the first downlink port into two optical signals with different wavelengths, and transmits the two optical signals to the first PD and the second PD respectively.</p><p id="p-0070" num="0069">Two ports share one PD, so that the optical transmit module can improve connectivity of an optical module. In addition, the optical module structure provided in this embodiment has lower costs than a structure in a conventional technology.</p><p id="p-0071" num="0070">The foregoing separately describes the cases in which the optical module is an optical transmit module or an optical receive module. It should be understood that, in actual application, the optical module may include both an optical transmit module and an optical receive module. Description is provided below by using an example.</p><p id="p-0072" num="0071">The optical module includes both the optical transmit module <b>314</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref> and the optical receive module <b>615</b> in <figref idref="DRAWINGS">FIG. <b>6</b></figref>. The optical transmit module <b>314</b> includes a first light source <b>201</b>, a first modulator <b>202</b>, a first switch <b>203</b>, a first uplink port <b>204</b>, and a second uplink port <b>205</b>. In one embodiment, the optical transmit module <b>314</b> further includes a wavelength division multiplexer <b>312</b>, a first controller <b>206</b>, a first device <b>313</b>, and a drive amplifier <b>207</b>. The optical receive module <b>615</b> includes a first downlink port <b>505</b>, a second downlink port <b>506</b>, a first directional coupler <b>502</b>, a first optical attenuator <b>504</b>, a first PD <b>501</b>, and a second PD <b>503</b>. In one embodiment, the optical receive module <b>615</b> further includes a beam combiner <b>507</b>, a second directional coupler <b>508</b>, a third PD <b>509</b>, a second optical attenuator <b>510</b>, and a first device <b>616</b>. The first device <b>616</b> is connected to the first PD <b>501</b>, and the first device <b>313</b> is connected to the first modulator <b>202</b>. The first device <b>616</b> and the first device <b>313</b> are a same device. The first controller <b>206</b> and the first controller <b>511</b> may be one controller or two controllers. It should be determined that the first controller may be disposed inside or outside the optical module. When the first controller is disposed outside the optical module, the first controller may or may not belong to the first device.</p><p id="p-0073" num="0072">The foregoing describes the optical module, and the following describes a data center system.</p><p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of a structure of a network center system according to an embodiment of this application. As shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the data center system includes a convergence layer switching device group and an access layer switching device group. The convergence layer switching device group includes one optical switching device and N electrical switching devices, where N is an integer greater than 0. The access layer switching device group includes a first device, and the first device includes N+1 downlink ports <b>711</b>. The N+1 downlink ports include one first downlink port and N second downlink ports. The first downlink port is connected to the optical switching device, and each second downlink port is connected to one electrical switching device. The first device includes the optical receive module shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref> or <figref idref="DRAWINGS">FIG. <b>6</b></figref>. The third downlink port, the fourth downlink port, and the fifth downlink port in the optical receive module are second downlink ports. The second downlink port <b>506</b> is connected to an electrical switching device <b>102</b>, the third downlink port is connected to an electrical switching device <b>103</b>, the fourth downlink port is connected to an electrical switching device <b>104</b>, and the fifth downlink port is connected to an electrical switching device <b>105</b>.</p><p id="p-0075" num="0074">In one embodiment, the first device further includes N+1 uplink ports. The N+1 uplink ports include one first uplink port and N second uplink ports. The first uplink port is connected to the optical switching device, and each second uplink port is connected to one electrical switching device. The first device further includes the optical transmit module shown in any one of <figref idref="DRAWINGS">FIG. <b>2</b></figref> to <figref idref="DRAWINGS">FIG. <b>4</b></figref>. The second uplink port, the third uplink port, the fourth uplink port, and the fifth uplink port in the optical transmit module are second uplink ports. The second uplink port is connected to the electrical switching device <b>102</b>, the third uplink port is connected to the electrical switching device <b>103</b>, the fourth uplink port is connected to the electrical switching device <b>104</b>, and the fifth uplink port is connected to the electrical switching device <b>105</b>.</p><p id="p-0076" num="0075">The foregoing describes the data center system, and the following describes a data transmission method.</p><p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a schematic flowchart of a data transmission method according to an embodiment of this application. As shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the method is performed by an optical module, and includes the following operations.</p><p id="p-0078" num="0077">Operation <b>801</b>: Receive a first downlink optical signal passing through a first downlink port.</p><p id="p-0079" num="0078">Operation <b>802</b>: Detect a power of an optical signal obtained through coupling from the first downlink optical signal, to obtain a first power value.</p><p id="p-0080" num="0079">Operation <b>803</b>: If the first power value is greater than a first threshold, attenuate a power of an optical signal passing through a second downlink port.</p><p id="p-0081" num="0080">Operation <b>804</b>: Convert a first downlink electrical signal into a first downlink optical signal.</p><p id="p-0082" num="0081">Operation <b>805</b>: When the power of the optical signal passing through the second downlink port is not attenuated, receive the optical signal passing through the second downlink port, and convert the optical signal passing through the second downlink port into an electrical signal.</p><p id="p-0083" num="0082">In one embodiment, if the first power value is greater than the first threshold, an attenuation control signal is obtained. The optical module attenuates, based on the attenuation control signal, the power of the optical signal passing through the second downlink port.</p><p id="p-0084" num="0083">In one embodiment, the optical module receives the first downlink optical signal by using a beam combiner. When the optical module does not attenuate the power of the optical signal passing through the second downlink port, the optical module may further receive, by using the beam combiner, the optical signal passing through the second downlink port, and convert the optical signal passing through the second downlink port into the electrical signal.</p><p id="p-0085" num="0084">In one embodiment, the optical module receives an attenuation stop signal, where the attenuation stop signal is obtained based on a transmission status of the first downlink electrical signal, and the transmission status is that transmission has stopped. The optical module stops, based on the attenuation stop signal, attenuating the power of the optical signal passing through the second downlink port. After converting the first downlink optical signal into the first downlink electrical signal, the optical module sends the first downlink electrical signal to a device, and the device may learn of the transmission status of the first downlink electrical signal.</p><p id="p-0086" num="0085">In one embodiment, the optical module detects a power of the optical signal passing through the first downlink port, to obtain a second power value; and if the second power value is less than or equal to a second threshold, the optical module generates the attenuation stop signal. The optical module stops, based on the attenuation stop signal, attenuating the power of the optical signal passing through the second downlink port.</p><p id="p-0087" num="0086">In one embodiment, the optical module further detects the power of the optical signal passing through the second downlink port, to obtain a third power value; and if the third power value is greater than a third threshold, the optical module attenuates the power of the optical signal passing through the first downlink port.</p><p id="p-0088" num="0087">In one embodiment, the optical module further generates a first beam. The optical module receives the first uplink electrical signal, and modulates the first beam by using the first uplink electrical signal to obtain the first uplink optical signal. The optical module transmits the first uplink optical signal to the first uplink port or the second uplink port based on a first control signal.</p><p id="p-0089" num="0088">In one embodiment, the optical module may further generate a second beam; the optical module receives a second uplink electrical signal, and modulates the second beam by using the second uplink electrical signal, to obtain a second uplink optical signal; and the optical module transmits the second uplink optical signal to the first uplink port or a third uplink port based on a second control signal. If the optical module transmits the second uplink optical signal to the first uplink port based on the second control signal and the optical module transmits the first uplink optical signal to the first uplink port based on the first control signal, the optical module combines the second uplink optical signal and the first uplink optical signal to obtain a third uplink optical signal. The optical module transmits the third uplink optical signal to the first uplink port.</p><p id="p-0090" num="0089">In one embodiment, the optical module amplifies the first uplink electrical signal by using a drive amplifier. The optical module modulates the first beam by using an amplified first uplink electrical signal, to obtain the first uplink optical signal.</p><p id="p-0091" num="0090">In one embodiment, the optical module uses a first modulator to modulate the first beam by using the first uplink electrical signal, to obtain the first uplink optical signal. The optical module may further adjust an operating wavelength of the first modulator, so that the operating wavelength of the first modulator matches a wavelength of the first beam.</p><p id="p-0092" num="0091">In one embodiment, the optical module uses a first modulator to modulate the first beam by using the first uplink electrical signal, to obtain the first uplink optical signal, where the first modulator is an electro-absorption modulator.</p><p id="p-0093" num="0092">For the data transmission method in this embodiment of this application, refer to the descriptions of the optical module in <figref idref="DRAWINGS">FIG. <b>2</b></figref> to <figref idref="DRAWINGS">FIG. <b>6</b></figref>. Details are not described herein again.</p><p id="p-0094" num="0093">Clearly, a person skilled in the art can make various modifications and variations to embodiments of this application without departing from the scope of embodiments of this application. In this case, this application is intended to cover these modifications and variations of embodiments of this application provided that they fall within the scope of protection defined by the following claims and their equivalent technologies.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An optical module, comprising:<claim-text>a first downlink port,</claim-text><claim-text>a second downlink port,</claim-text><claim-text>a first directional coupler connected to the first downlink port and configured to receive a first downlink optical signal,</claim-text><claim-text>a second PD connected to the first directional coupler and configured to obtain a first power value;</claim-text><claim-text>a first optical attenuator configured to attenuate, if the first power value is greater than a first threshold, based on a first attenuation control signal, a power of an optical signal passing through the second downlink port, and</claim-text><claim-text>a first photodiode (PD) configured to convert the first downlink optical signal into a first downlink electrical signal and, if the first power value is less than or equal to the first threshold, further configured to convert the optical signal passing through the second downlink port into an electrical signal.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The optical module according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the optical module further comprises a first controller, configured to receive the first power value, and if the first power value is greater than the first threshold, the first controller sends the first attenuation control signal to the first optical attenuator.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The optical module according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the optical module further comprises a beam combiner, configured to: receive the first downlink optical signal, and send the first downlink optical signal to the first PD; or configured to receive the optical signal passing through the second downlink port, and send the optical signal passing through the second downlink port to the first PD.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The optical module according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the first controller is further configured to: obtain an attenuation stop signal based on a transmission status of the first downlink electrical signal being that transmission has stopped; and send the attenuation stop signal to the first optical attenuator; and<claim-text>the first optical attenuator is further configured to stop, based on the attenuation stop signal, attenuating the power of the optical signal passing through the second downlink port.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The optical module according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the second PD is further configured to: obtain a second power value, and send the second power value to the first controller;<claim-text>if the second power value is less than or equal to a second threshold, the first controller is further configured to send an attenuation stop signal to the first optical attenuator; and</claim-text><claim-text>the first optical attenuator is further configured to: receive the attenuation stop signal, and stop, based on the attenuation stop signal, attenuating a power of the second optical signal.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The optical module according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the optical module further comprises a second directional coupler, a second optical attenuator, and a third PD, wherein<claim-text>the second directional coupler is connected to the second downlink port;</claim-text><claim-text>the third PD is connected to the second directional coupler and configured to obtain a third power value; and</claim-text><claim-text>if the third power value is greater than a third threshold, the second optical attenuator is configured to: receive a second attenuation control signal, and attenuate a power of the first optical signal based on the second attenuation control signal.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The optical module according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the optical module further comprises a first light source, a first modulator, a first switch, a first uplink port, and a second uplink port, wherein<claim-text>the first light source is configured to generate a first beam;</claim-text><claim-text>the first modulator is configured to: receive a first uplink electrical signal, modulate the first beam by using the first uplink electrical signal, to obtain a first uplink optical signal, and transmit the first uplink optical signal to the first switch; and</claim-text><claim-text>the first switch is configured to: receive a first control signal, and transmit the first uplink optical signal to the first uplink port or the second uplink port based on the first control signal.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The optical module according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the first controller is further configured to send the first control signal to the first switch.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The optical module according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the optical module further comprises a wavelength division multiplexer, a second light source, a second modulator, a second switch, and a third uplink port, wherein<claim-text>the second light source is configured to generate a second beam;</claim-text><claim-text>the second modulator is configured to receive a second uplink electrical signal, modulate the second beam by using the second uplink electrical signal, to obtain a second uplink optical signal, and transmit the second uplink optical signal to the second switch;</claim-text><claim-text>the second switch is configured to: receive a second control signal, and transmit the second uplink optical signal to the first uplink port or the third uplink port based on the second control signal;</claim-text><claim-text>the wavelength division multiplexer is configured to: combine the second uplink optical signal passing through the second switch and the first uplink optical signal passing through the first switch to obtain a third uplink optical signal, and transmit the third uplink optical signal to the first uplink port; and</claim-text><claim-text>the first controller is further configured to send the second control signal to the second switch.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The optical module according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the optical module further comprises:<claim-text>a drive amplifier connected to the first modulator and configured to: amplify the first uplink electrical signal, and send an amplified first uplink electrical signal to the first modulator.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The optical module according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the first controller is further configured to adjust an operating wavelength of the first modulator to match a wavelength of the first beam.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The optical module according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the first modulator is an electro-absorption modulator.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. A data center system, comprising:<claim-text>a convergence layer switching device group comprising an optical switching device and N electrical switching devices, wherein N is an integer greater than 0;</claim-text><claim-text>an access layer switching device group comprising a first device, the first device comprising:<claim-text>N+1 downlink ports comprising<claim-text>a first downlink port connected to the optical switching device, and</claim-text><claim-text>N second downlink ports, each of the N second downlink ports connected to one of the N electrical switching devices; and</claim-text></claim-text><claim-text>an optical module comprising:<claim-text>the first downlink port,</claim-text><claim-text>a second downlink port being one of the N second downlink ports,</claim-text><claim-text>a first directional coupler connected to the first downlink port and configured to receive a first downlink optical signal sent by the optical switching device,</claim-text><claim-text>a second PD connected to the first directional coupler and configured to obtain a first power value</claim-text><claim-text>a first optical attenuator configured to attenuate, if the first power value is greater than a first threshold, based on a first attenuation control signal, a power of an optical signal passing through the second downlink port, and</claim-text><claim-text>a first photodiode PD configured to convert the first downlink optical signal into a first downlink electrical signal, and if the first power value is less than or equal to the first threshold, further configured to convert the optical signal passing through the second downlink port into an electrical signal.</claim-text></claim-text></claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The data center system according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the optical module further comprises a first controller, configured to receive the first power value, and if the first power value is greater than the first threshold, the first controller sends the first attenuation control signal to the first optical attenuator.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The data center system according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the optical module further comprises a beam combiner, configured to: receive the first downlink optical signal, and send the first downlink optical signal to the first PD; or configured to receive the optical signal passing through the second downlink port, and send the optical signal passing through the second downlink port to the first PD.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The data center system according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the first controller is further configured to: obtain an attenuation stop signal based on a transmission status of the first downlink electrical signal being that transmission has stopped; and send the attenuation stop signal to the first optical attenuator; and<claim-text>the first optical attenuator is further configured to stop, based on the attenuation stop signal, attenuating the power of the optical signal passing through the second downlink port.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. A data transmission method, comprising:<claim-text>receiving a first downlink optical signal passing through a first downlink port;</claim-text><claim-text>detecting a power of an optical signal obtained through coupling from the first downlink optical signal, to obtain a first power value; and</claim-text><claim-text>in repose to the first power value is greater than a first threshold, attenuating a power of an optical signal passing through a second downlink port, and</claim-text><claim-text>converting the first downlink optical signal into a first downlink electrical signal; or</claim-text><claim-text>in response to the first power value is less than or equal to a first threshold, receiving an optical signal passing through a second downlink port, and</claim-text><claim-text>converting the optical signal passing through the second downlink port into an electrical signal.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The data transmission method according to <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising:<claim-text>receiving an attenuation stop signal obtained based on a transmission status of the first downlink electrical signal being that transmission has stopped; and</claim-text><claim-text>attenuating, based on the attenuation stop signal, the power of the optical signal passing through the second downlink port; or</claim-text><claim-text>detecting a power of the optical signal passing through the first downlink port to obtain a second power value;</claim-text><claim-text>if the second power value is less than or equal to a second threshold, generating an attenuation stop signal; and</claim-text><claim-text>attenuating, based on the attenuation stop signal, the power of the optical signal passing through the second downlink port.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The data transmission method according to <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising:<claim-text>generating a first beam;</claim-text><claim-text>receiving a first uplink electrical signal;</claim-text><claim-text>modulating the first beam by using the first uplink electrical signal, to obtain a first uplink optical signal; and</claim-text><claim-text>transmitting the first uplink optical signal to a first uplink port or a second uplink port based on a first control signal.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The data transmission method according to <claim-ref idref="CLM-00019">claim 19</claim-ref>, further comprising:<claim-text>generating a second beam;</claim-text><claim-text>receiving a second uplink electrical signal;</claim-text><claim-text>modulating the second beam by using the second uplink electrical signal, to obtain a second uplink optical signal;</claim-text><claim-text>transmitting the second uplink optical signal to the first uplink port or a third uplink port based on a second control signal;</claim-text><claim-text>if the second uplink optical signal is transmitted to the first uplink port based on the second control signal, and the first uplink optical signal is transmitted to the first uplink port based on the first control signal, combining the second uplink optical signal and the first uplink optical signal to obtain a third uplink optical signal; and</claim-text><claim-text>transmitting the third uplink optical signal to the first uplink port.</claim-text></claim-text></claim></claims></us-patent-application>