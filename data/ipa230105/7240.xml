<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007241A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007241</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17943202</doc-number><date>20220913</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20140101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>105</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20140101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>169</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20140101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>70</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20140101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>159</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20140101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>172</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>105</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>188</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>70</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>159</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>172</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">IMAGE DECODING DEVICE, IMAGE DECODING METHOD, IMAGE ENCODING DEVICE, AND IMAGE ENCODING METHOD</invention-title><us-related-documents><division><relation><parent-doc><document-id><country>US</country><doc-number>17429354</doc-number><date>20210809</date></document-id><parent-status>PENDING</parent-status><parent-pct-document><document-id><country>WO</country><doc-number>PCT/JP2020/010879</doc-number><date>20200312</date></document-id></parent-pct-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17943202</doc-number></document-id></child-doc></relation></division><us-provisional-application><document-id><country>US</country><doc-number>62817197</doc-number><date>20190312</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Sony Group Corporation</orgname><address><city>Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>FUJIMOTO</last-name><first-name>Yuji</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Sony Group Corporation</orgname><role>03</role><address><city>Tokyo</city><country>JP</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">The present disclosure relates to an image decoding device, an image decoding method, an image encoding device, and an image encoding method that enable further improvement of practicality.</p><p id="p-0002" num="0000">Reference image information indicating a reference image to be referred to by a current picture is saved in a header region of an access unit. The reference image information is saved in an AUD NAL unit indicating a delimiter of the access unit or a NEW NAL unit provided separately from the AUD NAL unit, and is applied to all tile group NAL units in the access unit. The present technology can be applied to, for example, an image decoding device and an image encoding device.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="69.60mm" wi="158.75mm" file="US20230007241A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="233.17mm" wi="128.27mm" orientation="landscape" file="US20230007241A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="190.58mm" wi="141.73mm" orientation="landscape" file="US20230007241A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="204.22mm" wi="135.72mm" orientation="landscape" file="US20230007241A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="234.02mm" wi="156.29mm" orientation="landscape" file="US20230007241A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="226.23mm" wi="159.77mm" orientation="landscape" file="US20230007241A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="229.70mm" wi="151.21mm" file="US20230007241A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="205.91mm" wi="99.31mm" file="US20230007241A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="229.87mm" wi="151.21mm" file="US20230007241A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="214.46mm" wi="99.31mm" file="US20230007241A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="234.02mm" wi="156.46mm" orientation="landscape" file="US20230007241A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="226.23mm" wi="153.33mm" orientation="landscape" file="US20230007241A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="232.33mm" wi="151.30mm" file="US20230007241A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="76.20mm" wi="101.26mm" file="US20230007241A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="232.41mm" wi="151.30mm" file="US20230007241A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="76.20mm" wi="101.26mm" file="US20230007241A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="212.01mm" wi="134.62mm" orientation="landscape" file="US20230007241A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="234.02mm" wi="156.29mm" orientation="landscape" file="US20230007241A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="234.78mm" wi="151.89mm" file="US20230007241A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="234.02mm" wi="156.21mm" orientation="landscape" file="US20230007241A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="235.46mm" wi="151.38mm" file="US20230007241A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="146.90mm" wi="154.52mm" file="US20230007241A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00022" num="00022"><img id="EMI-D00022" he="132.59mm" wi="151.13mm" file="US20230007241A1-20230105-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00023" num="00023"><img id="EMI-D00023" he="146.81mm" wi="154.52mm" file="US20230007241A1-20230105-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00024" num="00024"><img id="EMI-D00024" he="132.59mm" wi="151.13mm" file="US20230007241A1-20230105-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00025" num="00025"><img id="EMI-D00025" he="202.61mm" wi="138.51mm" orientation="landscape" file="US20230007241A1-20230105-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0003" num="0001">The present application is a Divisional of U.S. application Ser. No. 17/429,354, filed Aug. 9, 2021, which is based on PCT filing PCT/JP2020/010879, filed Mar. 12, 2020, which claims priority to U.S. Provisional Patent Application No. 62/817,197, filed Mar. 12, 2019, the entire contents of each are incorporated herein by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0004" num="0002">The present disclosure relates to an image decoding device, an image decoding method, an image encoding device, and an image encoding method, and in particular, relates to an image decoding device, an image decoding method, an image encoding device, and an image encoding method that are enabled to further improve the practicality.</p><heading id="h-0003" level="1">BACKGROUND ART</heading><p id="p-0005" num="0003">In H.264/AVC, which is one of the standard specifications of image coding schemes, each image (picture) is partitioned into one or more slices. Then, each of the slices is classified as one of an I-slice (intra slice), a P-slice (predictive slice), and a B-slice (bi-predictive slice). The I-slice is a slice that is independently decoded without referring to another image. The P-slice is a slice that is decoded by referring to another single image. The B-slice is a slice that is decoded by referring to a plurality of other images.</p><p id="p-0006" num="0004">A picture that is made up of only the I-slice and placed at the beginning of a sequence is called an instantaneous decoding refresh (IDR) picture. The IDR picture is identified by the value of the network abstraction layer (NAL) unit type. A picture subsequent to the IDR picture in the same sequence is located only after the IDR picture in a presentation order without referring to a picture previous to the IDR picture in a decoding order. Accordingly, in a case where random access (not decoding from the beginning of a stream but decoding/reproducing from the middle of a stream) is attempted at a time point in the middle of a video of a certain coded stream, the video can be appropriately decoded from an IDR picture in the proximity to a designated time point.</p><p id="p-0007" num="0005">In the standardization work for high efficiency video coding (HEVC), which is the next-generation image coding scheme following H.264/AVC, it has been proposed that a clean random access (CRA) picture is identified by the value of the NAL unit type separately from the IDR picture. The CRA picture is a picture that is made up of only the I-slice and placed in the middle of a sequence. A picture subsequent to the CRA picture in both of the decoding order and the presentation order does not refer to both of a picture preceding the CRA picture in the decoding order and a picture preceding the CRA picture in the presentation order. Accordingly, in a case where a random access to the CRA picture (decoding of a video from the CRA picture) is performed at a time point in the middle of the video, a decoding process for a picture subsequent to the CRA picture in the presentation order can be performed without failure.</p><p id="p-0008" num="0006">Here, Non-Patent Document 1 discloses a guideline for saving reference image information in a header of a tile group in order to specify a reference image per each tile group image of a multi-tile image.</p><heading id="h-0004" level="1">CITATION LIST</heading><heading id="h-0005" level="1">Non-Patent Document</heading><p id="p-0009" num="0000"><ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0007">Non-Patent Document 1: 14496-15: 2014, JVET-M1001</li></ul></p><heading id="h-0006" level="1">SUMMARY OF THE INVENTION</heading><heading id="h-0007" level="1">Problems to be Solved by the Invention</heading><p id="p-0010" num="0008">Incidentally, as disclosed in Non-Patent Document 1 mentioned above, in the past, the reference image information has to match in all the tile groups, and thus it has been redundant to designate the reference image per each tile group. Furthermore, in the past, in a case where the reference image as a long-term reference is desired to be updated, modifying only the long-term reference has not been allowed. For this reason, it has been expected to extend the past guidelines to further improve the practicality.</p><p id="p-0011" num="0009">The present disclosure has been made in view of such a situation and is intended to enable further improvement of practicality.</p><heading id="h-0008" level="1">Solutions to Problems</heading><p id="p-0012" num="0010">An image decoding device of a first aspect of the present disclosure includes a decoding unit that decodes an image of a bitstream made up of an access unit in which at least one or more network abstraction layer (NAL) units are arranged, in which reference image information indicating a reference image to be referred to by a current picture has been saved in a header region of the access unit.</p><p id="p-0013" num="0011">An image decoding method of the first aspect of the present disclosure includes decoding, by an image decoding device that performs an image decoding process, an image of a bitstream made up of an access unit in which at least one or more NAL units are arranged, in which reference image information indicating a reference image to be referred to by a current picture has been saved in a header region of the access unit.</p><p id="p-0014" num="0012">In the first aspect of the present disclosure, an image of a bitstream made up of an access unit in which at least one or more NAL units are arranged is decoded, and reference image information indicating a reference image to be referred to by a current picture has been saved in a header region of the access unit.</p><p id="p-0015" num="0013">An image encoding device of a second aspect of the present disclosure includes an encoding unit that encodes an image of a bitstream made up of an access unit in which at least one or more NAL units are arranged, in which reference image information indicating a reference image to be referred to by a current picture is saved in a header region of the access unit.</p><p id="p-0016" num="0014">An image encoding method of the second aspect of the present disclosure includes encoding, by an image encoding device that performs an image encoding process, an image of a bitstream made up of an access unit in which at least one or more NAL units are arranged, in which reference image information indicating a reference image to be referred to by a current picture is saved in a header region of the access unit.</p><p id="p-0017" num="0015">In the second aspect of the present disclosure, encoding an image of a bitstream made up of an access unit in which at least one or more NAL units are arranged is included, and reference image information indicating a reference image to be referred to by a current picture is saved in a header region of the access unit.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0009" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0018" num="0016"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram illustrating reference documents.</p><p id="p-0019" num="0017"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram illustrating an exemplary configuration of an image encoding device according to an embodiment to which the present technology is applied.</p><p id="p-0020" num="0018"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a block diagram illustrating an exemplary configuration of an image decoding device according to an embodiment to which the present technology is applied.</p><p id="p-0021" num="0019"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a diagram illustrating an exemplary configuration of a bitstream in a first variation of a first mode.</p><p id="p-0022" num="0020"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a diagram illustrating an exemplary description of the syntax of an access unit delimiter (AUD) NAL unit in the first variation of the first mode.</p><p id="p-0023" num="0021"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart explaining a NAL generation process of an image encoding process.</p><p id="p-0024" num="0022"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flowchart explaining an AUD encoding process.</p><p id="p-0025" num="0023"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart explaining a tile group encoding process.</p><p id="p-0026" num="0024"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart explaining a NAL generation process in an image decoding process.</p><p id="p-0027" num="0025"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flowchart explaining an AUD decoding process.</p><p id="p-0028" num="0026"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a flowchart explaining a tile group decoding process.</p><p id="p-0029" num="0027"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a diagram illustrating an exemplary configuration of a bitstream in a second variation of the first mode.</p><p id="p-0030" num="0028"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a diagram illustrating an exemplary description of the syntax of a NEW NAL unit in the second variation of the first mode.</p><p id="p-0031" num="0029"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a flowchart explaining a NAL generation process in an image encoding process.</p><p id="p-0032" num="0030"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a flowchart explaining a NEW encoding process.</p><p id="p-0033" num="0031"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a flowchart explaining a NAL generation process in an image decoding process.</p><p id="p-0034" num="0032"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a flowchart explaining a NEW decoding process.</p><p id="p-0035" num="0033"><figref idref="DRAWINGS">FIG. <b>18</b></figref> is a diagram explaining a technique of recovering image quality in a narrow band using a long-term reference.</p><p id="p-0036" num="0034"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a diagram illustrating an exemplary configuration of a bitstream in a first variation of a second mode.</p><p id="p-0037" num="0035"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a diagram illustrating an exemplary description of the syntax of sequence parameter set (SPS) NAL and AUD NAL in the first variation of the second mode.</p><p id="p-0038" num="0036"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is a diagram illustrating an exemplary configuration of a bitstream in a second variation of the second mode.</p><p id="p-0039" num="0037"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is a diagram illustrating an exemplary description of the syntax of SPS NAL and NEW NAL in the second variation of the second mode.</p><p id="p-0040" num="0038"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is a flowchart explaining a reference frame list designation and setting process of an image encoding process.</p><p id="p-0041" num="0039"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a flowchart explaining a long-term reference frame information modification process.</p><p id="p-0042" num="0040"><figref idref="DRAWINGS">FIG. <b>25</b></figref> is a flowchart explaining a reference frame list designation and setting process of an image decoding process.</p><p id="p-0043" num="0041"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a flowchart explaining a long-term reference frame information modification process.</p><p id="p-0044" num="0042"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is a block diagram illustrating an exemplary configuration of a computer according to an embodiment to which the present technology is applied.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0010" level="1">MODE FOR CARRYING OUT THE INVENTION</heading><p id="p-0045" num="0043">&#x3c;Documents etc. that Support Technological Contents and Terms&#x3e;</p><p id="p-0046" num="0044">The scope disclosed in the present description is not limited to the contents of the examples, and the contents of the reference documents REF <b>1</b> to REF <b>6</b> illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, which are known at the time of filing, are also incorporated in the present description by reference.</p><p id="p-0047" num="0045">In other words, the contents described in the reference documents REF <b>1</b> to REF <b>6</b> illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref> are also the basis for verifying the support requirements. For example, the NAL unit structure described in the reference document REF <b>4</b> and the byte stream format described in the reference document REF <b>5</b> are construed to be within the scope of the present disclosure and to meet the support requirements of the claims, even in a case where the above-mentioned technologies are not directly defined in the detailed description of the invention. Furthermore, similarly, for example, technological terms such as parsing, syntax, and semantics are also construed to be within the scope of the present disclosure and to meet the support requirements of the claims, even in a case where these technological terms are not directly defined in the detailed description of the invention.</p><p id="p-0048" num="0046">&#x3c;Terminology&#x3e;</p><p id="p-0049" num="0047">In the present application, the following terms are defined as follows.</p><p id="p-0050" num="0048">&#x3c;Block&#x3e;</p><p id="p-0051" num="0049">Unless otherwise noted, a &#x201c;block&#x201d; (not a block indicating a processing unit) used in the description as a partial region or a unit of processing of an image (picture) indicates any partial region in the picture, and its dimensions, shape, characteristics, and the like are not limited. For example, the &#x201c;block&#x201d; is assumed to include any partial region (a unit of processing) such as a transform block (TB), transform unit (TU), prediction block (PB), prediction unit (PU), smallest coding unit (SCU), coding unit (CU), largest coding unit (LCU), coding tree block (CTB), coding tree unit (CTU), conversion block, subblock, macroblock, tile, and slice.</p><p id="p-0052" num="0050">&#x3c;Designation of Block Size&#x3e;</p><p id="p-0053" num="0051">Furthermore, when the size of such a block is designated, not only the block size may be directly designated, but also the block size may be indirectly designated. For example, the block size may be designated using identification information that identifies the size. In addition, for example, the block size may be designated by the ratio or difference relative to the size of a block as a reference (for example, the LCU or SCU). For example, in a case where information that designates the block size is transmitted as a syntax element or the like, information that indirectly designates the size as described above may be used as that information. By designating the size in this manner, the amount of information of that information can be reduced, and the coding efficiency is enhanced in some cases. Besides, this designation of the block size also includes the designation of the range of the block size (for example, the designation of the range of an allowable block size).</p><p id="p-0054" num="0052">&#x3c;Unit of Information and Processing&#x3e;</p><p id="p-0055" num="0053">A unit of data for which various pieces of information are set and a unit of data targeted by various processes are both optional, and are not limited to the above-mentioned examples. For example, these pieces of information may be set per transform unit (TU), transform block (TB), prediction unit (PU), prediction block (PB), coding unit (CU), largest coding unit (LCU), subblock, block, tile, slice, picture, sequence, or component, whereas these processes may target data in those units of data. As a matter of course, these units of data can be set per information or process, and it is not necessary that the units of data are consistent among all pieces of information or processes. Note that a place where these pieces of information are saved is optional, and may be saved in the header, parameter set, or the like of the above-mentioned units of data. Furthermore, these pieces of information may be saved in a plurality of locations.</p><p id="p-0056" num="0054">&#x3c;Control Information&#x3e;</p><p id="p-0057" num="0055">Control information relating to the present technology may be transmitted from the encoding side to the decoding side. For example, control information (for example, enabled_flag) that controls whether or not the application of the present technology described above is permitted (or prohibited) may be transmitted. Furthermore, for example, control information indicating a target to which the present technology described above is to be applied (or a target to which the present technology described above is not to be applied) may be transmitted. For example, control information that designates a block size (an upper limit, a lower limit, or both of the upper and lower limits), frame, component, layer, and the like to which the present technology is to be applied (or for which the application is permitted or prohibited) may be transmitted.</p><p id="p-0058" num="0056">&#x3c;Flag&#x3e;</p><p id="p-0059" num="0057">Note that, in the present description, the &#x201c;flag&#x201d; refers to information for identifying between a plurality of states, and includes not only information used when identifying between two states of true (1) and false (0), but also information capable of identifying between three or more states. Accordingly, the value that this &#x201c;flag&#x201d; can take may be, for example, a binary value of 1 or 0, or a ternary or more value. That is, the number of bits constituting this &#x201c;flag&#x201d; is optional, and one bit or a plurality of bits may be employed. Furthermore, identification information (including the flag) is supposed to have not only a form in which the identification information is included in the bitstream but also a form in which the difference information of the identification information with respect to certain reference information is included in the bitstream. Therefore, in the present description, the &#x201c;flag&#x201d; and &#x201c;identification information&#x201d; imply not only the whole information therein but also the difference information with respect to reference information.</p><p id="p-0060" num="0058">&#x3c;Association of Metadata&#x3e;</p><p id="p-0061" num="0059">In addition, various pieces of information (metadata and the like) regarding the coded data (bitstream) may be transmitted or recorded in any form as long as the information is associated with the coded data. Here, the term &#x201c;associate&#x201d; means, for example, to ensure that one piece of data is available (linkable) when another piece of data is processed. In other words, pieces of data associated with each other may be collected into one piece of data or each may be treated as individual pieces of data. For example, information associated with the coded data (image) may be transmitted on a transmission path different from the transmission path of the associated coded data (image). Furthermore, for example, information associated with the coded data (image) may be recorded on a recording medium (or a recording area of the same recording medium) different from the recording medium of the associated coded data (image). Note that this &#x201c;association&#x201d; may be made on a part of the data, instead of the entire data. For example, an image and information corresponding to this image may be associated with each other in any units such as a plurality of frames, one frame, or a part of the frame.</p><p id="p-0062" num="0060">In addition, in the present description, terms such as &#x201c;synthesize&#x201d;, &#x201c;multiplex&#x201d;, &#x201c;add&#x201d;, &#x201c;integrate&#x201d;, &#x201c;include&#x201d;, &#x201c;save&#x201d;, &#x201c;consolidate&#x201d;, &#x201c;put into&#x201d;, and &#x201c;insert&#x201d; mean collecting a plurality of items into one, such as collecting coded data and metadata into one piece of data, and mean one method of &#x201c;associate&#x201d; described above. Furthermore, in the present description, encoding includes not only the entire process of converting an image into a bitstream but also a part of the process. For example, encoding not only includes a process that embraces a prediction process, orthogonal transformation, quantization, arithmetic coding, and the like, but also includes a process as which quantization and arithmetic coding are collectively referred to, a process that embraces a prediction process, quantization, and arithmetic coding, and the like. Similarly, decoding includes not only the entire process of converting a bitstream into an image, but also a part of the process. For example, decoding not only includes a process that embraces inverse arithmetic decoding, inverse quantization, inverse orthogonal transformation, a prediction process, and the like, but also includes a process that embraces inverse arithmetic decoding and inverse quantization, a process that embraces inverse arithmetic decoding, inverse quantization, and a prediction process, and the like.</p><p id="p-0063" num="0061">Hereinafter, specific embodiments to which the present technology is applied will be described in detail with reference to the drawings.</p><p id="p-0064" num="0062">&#x3c;Image Encoding Device and Image Decoding Device&#x3e;</p><p id="p-0065" num="0063">An image encoding device and an image decoding device to which the present technology is applied will be described with reference to <figref idref="DRAWINGS">FIGS. <b>2</b> and <b>3</b></figref>.</p><p id="p-0066" num="0064">As illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, an image encoding device <b>10</b> has a configuration including an encoding unit <b>11</b>, a determination unit <b>12</b>, a video coding layer (VCL) buffer <b>13</b>, a non-VCL buffer <b>14</b>, a file generation unit <b>15</b>, and a control unit <b>16</b>.</p><p id="p-0067" num="0065">The encoding unit <b>11</b> is an encoder that works in accordance with the HEVC scheme. The encoding unit <b>11</b> acquires an image sequence to be encoded from a moving image source such as a camera or a television tuner connected to the image encoding device <b>10</b>. Then, the encoding unit <b>11</b> generates a coded bitstream by executing diverse processes such as intra prediction, inter-frame prediction, orthogonal transformation, quantization, and lossless coding on each image in the acquired image sequence. Slice data corresponding to the substance of the image is generated as a video coding layer (VCL) NAL unit.</p><p id="p-0068" num="0066">Meanwhile, parameter sets such as a sequence parameter set (SPS), a picture parameter set (PPS), and an adaptation parameter set (APS) can be generated as non-VCL NAL units. The encoding unit <b>11</b> outputs a bitstream of the VCL NAL unit, that is, the slice data, to the file generation unit <b>15</b> via the VCL buffer <b>13</b>. Furthermore, the encoding unit <b>11</b> outputs the parameter sets to the file generation unit <b>15</b> via the non-VCL buffer <b>14</b>.</p><p id="p-0069" num="0067">The determination unit <b>12</b> determines the type of each image in the image sequence to be encoded by the encoding unit <b>11</b>. More specifically, in the present embodiment, the determination unit <b>12</b> at least determines whether each image is an IDR picture, a CRA picture, or a picture other than these pictures. Both of the IDR picture and the CRA picture are pictures made up of only the I-slice.</p><p id="p-0070" num="0068">As mentioned earlier, the IDR picture is a picture at the beginning of the sequence. A picture subsequent to the IDR picture in the same sequence does not refer to a picture previous to the IDR picture in a coding order (decoding order) and is located only after the IDR picture in a presentation order. The CRA picture is a picture that is located in the middle of the sequence and can be used as a decoding start picture at the time of random access on the decoder side. A picture subsequent to the CRA picture in both of the coding order (decoding order) and the presentation order does not refer to both of a picture preceding the CRA picture in the coding order (decoding order) and a picture preceding the CRA picture in the presentation order. The determination unit <b>12</b> outputs the result of the determination to the encoding unit <b>11</b> and the file generation unit <b>15</b>. The encoding unit <b>11</b> allocates a NAL unit type indicating the type of each image determined by the determination unit <b>12</b> to a NAL header of each NAL unit.</p><p id="p-0071" num="0069">Incidentally, in a case where a random access to the CRA picture is performed, only the CRA picture as the random access destination and a picture subsequent to this CRA picture in the decoding order are targeted for decoding. However, there can be a picture subsequent to the CRA picture in the decoding order but preceding the CRA picture in the presentation order. In the present description, such a picture is referred to as a preceding picture. As can be seen from the definition of the CRA picture, it is allowable for the preceding picture to refer to a picture preceding the CRA picture in the decoding order.</p><p id="p-0072" num="0070">When a random access to the CRA picture is performed, the preceding picture that refers to a picture preceding the CRA picture in the decoding order is not decoded normally. This is because the picture referred to by the preceding picture has not been decoded. That is, in a case where a random access is performed, whether or not the preceding picture targeted for decoding can be normally decoded depends on the reference relationship of the preceding picture. Thus, the determination unit <b>12</b> may further determine the preceding picture that is not to be normally decoded in a case where a random access to each CRA picture is performed, and provide the result of the determination to the file generation unit <b>15</b>.</p><p id="p-0073" num="0071">The VCL buffer <b>13</b> buffers the VCL NAL unit. The slice data of the CRA picture is buffered by the VCL buffer <b>13</b>.</p><p id="p-0074" num="0072">The non-VCL buffer <b>14</b> buffers the non-VCL NAL unit.</p><p id="p-0075" num="0073">The file generation unit <b>15</b> generates a moving image file in which a series of coded pieces of image data is saved, in accordance with a file format including a header region and a data region, and outputs the generated moving image file to a storage unit <b>20</b>. In this description, an example in which the MP4 format is used as the file format will be mainly described. However, the technology according to the present disclosure is not limited to such an example, and is applicable to other kinds of moving image file formats having the header region and the data region.</p><p id="p-0076" num="0074">In the MP4 format, data is saved in an object called a box, and recorded in units of objects. The boxes form a tree structure within one file, and a parent box contains a child box. The kind of each box is identified by a four-alphabetical letter identifier.</p><p id="p-0077" num="0075">More specifically, the file generation unit <b>15</b> inserts a bitstream of the slice data corresponding to the VCL NAL unit into the data region (for example, an mdat box) of the moving image file in the decoding order. Furthermore, the file generation unit <b>15</b> inserts one or more parameter sets corresponding to the non-VCL NAL units into the header region (for example, a moov box) of the moving image file. Moreover, in the present embodiment, the file generation unit <b>15</b> inserts CRA information that identifies one or more CRA pictures determined by the determination unit <b>12</b> into the header region of the moving image file. Additionally, the file generation unit <b>15</b> may append, to the CRA information, preceding picture information for identifying a preceding picture that is not to be normally decoded in a case where a random access to each CRA picture is performed.</p><p id="p-0078" num="0076">The control unit <b>16</b> controls an encoding process executed in the image encoding device <b>10</b>. For example, when an instruction to start encoding is detected, the control unit <b>16</b> causes the encoding unit <b>11</b> to encode a designated image sequence. Furthermore, the control unit <b>16</b> causes the file generation unit <b>15</b> to generate a moving image file in which image data encoded by the encoding unit <b>11</b> is saved. The control unit <b>16</b> may use a hypothetical decoder model called a hypothetical reference decoder (HRD) to control the generation of a coded stream so as not to bring about a failure in the decoder buffer.</p><p id="p-0079" num="0077">As illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the image decoding device <b>30</b> has a configuration including a VCL buffer <b>31</b>, a non-VCL buffer <b>32</b>, a parameter memory <b>33</b>, a decoding unit <b>34</b>, an output buffer <b>35</b>, and a control unit <b>37</b>.</p><p id="p-0080" num="0078">The VCL buffer <b>31</b> buffers a bitstream of image data (typically, the slice data) read from the data region (for example, the mdat box) of a moving image file stored in the storage unit <b>20</b>.</p><p id="p-0081" num="0079">The non-VCL buffer <b>32</b> buffers parameter sets such as SPS, PPS, and APS read from the header region (for example, the moov box) of the moving image file stored in the storage unit <b>20</b>, and header information such as the CRA information.</p><p id="p-0082" num="0080">The parameter memory <b>33</b> stores the information in the header region of the file acquired via the non-VCL buffer <b>32</b> as a whole. The CRA information that can be recorded in the header region of the moving image file in diverse formats described above is held by the parameter memory <b>33</b> while the moving image file is being opened.</p><p id="p-0083" num="0081">The decoding unit <b>34</b> is a decoder that works in accordance with the HEVC scheme. The decoding unit <b>34</b> decodes the image sequence from the bitstream acquired from the data region of the moving image file via the VCL buffer <b>31</b>. The decoding unit <b>34</b> uses parameters in the parameter sets stored in the parameter memory <b>33</b> when decoding the image. The decoding unit <b>34</b> sorts the images in the decoded image sequence in the presentation order, and outputs the sorted images to the output buffer <b>35</b>.</p><p id="p-0084" num="0082">Usually, the decoding unit <b>34</b> accesses the slice data saved in a moving image track in the moving image file in the decoding order, in order from the beginning of the slice data. However, when the control unit <b>37</b> detects a random access instruction, the decoding unit <b>34</b> performs a random access to the decoding start picture (in the middle of the moving image track) specified by the control unit <b>37</b>, and decodes the image sequence from the accessed decoding start picture. The decoding start picture is one of the IDR picture and the CRA picture in the moving image track.</p><p id="p-0085" num="0083">The output buffer <b>35</b> is a decoded picture buffer (DPB) for buffering an image decoded by the decoding unit <b>34</b>. The image buffered by the output buffer <b>35</b> is output to a display or processor (not illustrated) at an output timing of this buffered image.</p><p id="p-0086" num="0084">The control unit <b>37</b> controls an image decoding process executed in the image decoding device <b>30</b>. For example, the control unit <b>37</b> opens a moving image file stored in the storage unit <b>20</b> in response to an instruction from a user, and causes the decoding unit <b>34</b> to start decoding an image sequence. Furthermore, in a case where a random access instruction is detected, the control unit <b>37</b> uses the CRA information to specify one CRA picture in the image sequence as the decoding start picture. Then, the control unit <b>37</b> causes the decoding unit <b>34</b> to decode the image sequence from the specified decoding start picture (that is, from the middle of the moving image track).</p><p id="p-0087" num="0085">Typically, the control unit <b>37</b> specifies a CRA picture located most proximal to a timing designated in the random access instruction (for example, a timing pointed to by a pointer operated on a seek bar of a moving image reproduction window) as the decoding start picture.</p><p id="p-0088" num="0086">In a case where the CRA information contains the preceding picture information described above, the control unit <b>37</b> may cause the preceding picture identified using the preceding picture information, which is not to be normally decoded, to be skipped from the output from the output buffer <b>35</b> (and the decoding by the decoding unit <b>34</b>). By using the preceding picture information, a damaged image can be prevented from being presented on a display or being output to an external processor. At that time, the control unit <b>37</b> does not have to determine ex post facto whether or not each image has been normally decoded.</p><p id="p-0089" num="0087">Furthermore, the control unit <b>37</b> can send a command to the control unit <b>16</b> of the image encoding device <b>10</b>.</p><p id="p-0090" num="0088">&#x3c;First Mode of Bitstream&#x3e;</p><p id="p-0091" num="0089">A first variation of a first mode of the bitstream will be described with reference to <figref idref="DRAWINGS">FIGS. <b>4</b> to <b>11</b></figref>.</p><p id="p-0092" num="0090">As illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the bitstream is constituted by a plurality of access units (AUs), and at least one or more NAL units are arranged in each access unit corresponding to one frame. Furthermore, there is a plurality of kinds of NAL units, and, for example, the kinds include an access unit delimiter (AUD) NAL unit, a sequence parameter set (SPS) NAL unit, a picture parameter set (PPS) NAL unit, a tile group NAL unit, and the like.</p><p id="p-0093" num="0091">The AUD NAL unit indicates a delimiter between access units, and in general, only one AUD NAL unit is always arranged at the beginning of each access unit. Note that the current AUD is already given syntax that indicates the attributes of all tile group NALs in the access unit.</p><p id="p-0094" num="0092">In the SPS NAL unit, a sequence parameter necessary for reproducing the bitstream is saved. In the PPS NAL unit, a sequence parameter necessary for reproducing the picture is saved. In the tile group NAL unit, images per tile group are saved.</p><p id="p-0095" num="0093">Then, three cases as illustrated in the figure are supposed as the configuration of the bitstream.</p><p id="p-0096" num="0094">For example, in the first case, for all access units, the AUD NAL unit is arranged first, the SPS NAL unit is arranged second, the PPS NAL unit is arranged third, and thereafter, the tile group NAL units are arranged consecutively. That is, in the first case, the SPS NAL unit and the PPS NAL unit are allocated to every access unit.</p><p id="p-0097" num="0095">Furthermore, in the second case, for the access unit at the beginning, the AUD NAL unit is arranged first, the SPS NAL unit is arranged second, the PPS NAL unit is arranged third, and thereafter, the tile group NAL units are arranged consecutively. Then, for the second and following access units, the AUD NAL unit is arranged first, the PPS NAL unit is arranged second, and thereafter, the tile group NAL units are arranged consecutively. That is, in the second case, the SPS NAL unit is allocated to the access unit at the beginning, and the PPS NAL unit is allocated to every access unit.</p><p id="p-0098" num="0096">In addition, in the third case, for the access unit at the beginning, the AUD NAL unit is arranged first, the SPS NAL unit is arranged second, the PPS NAL unit is arranged third, and thereafter, the tile group NAL units are arranged consecutively. Then, for the second and following access units, the AUD NAL unit is arranged first, and thereafter, the tile group NAL units are arranged consecutively. That is, in the third case, the SPS NAL unit and the PPS NAL unit are allocated only to the access unit at the beginning.</p><p id="p-0099" num="0097">Then, in the first variation of the first mode of the bitstream, in any of the first to third cases, the configuration has been modified from the past configuration in that reference image information indicating a reference image to be referred to by a current picture is arranged in the AUD NAL unit. For example, this reference image information allows to designate ref_pic_list_idx placed in tile_group_header or to set a new ref_pic_list_struct. In this manner, by arranging the reference image information in the AUD NAL unit placed in the header region of the access unit and applying the arranged reference image information to all the tile group NAL units in the access unit, redundancy can be prevented as compared with when the reference image is designated per tile group.</p><p id="p-0100" num="0098">Specifically, in the first variation of the first mode of the bitstream, the syntax of AUD NAL is described as illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref>. As illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, in the syntax of AUD NAL, the syntax of pic_type is extended such that ref_pic_list_idx can be designated and a new ref_pic_list_struct can be set.</p><p id="p-0101" num="0099">An example of a NAL generation process in an image encoding process executed by the image encoding device <b>10</b> will be described with reference to the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0102" num="0100">For example, when an image sequence is supplied to the image encoding device <b>10</b>, the NAL generation process is started, and in step S<b>11</b>, the encoding unit <b>11</b> determines whether or not there is a NAL unit to be generated from the image sequence.</p><p id="p-0103" num="0101">In a case where the encoding unit <b>11</b> determines in step S<b>11</b> that there is a NAL unit to be generated from the image sequence, the process proceeds to step S<b>12</b>.</p><p id="p-0104" num="0102">In step S<b>12</b>, the encoding unit <b>11</b> determines whether or not the NAL unit to be generated from the image sequence is the AUD NAL unit.</p><p id="p-0105" num="0103">In a case where the encoding unit <b>11</b> determines in step S<b>12</b> that the NAL unit to be generated from the image sequence is the AUD NAL unit, the process proceeds to step S<b>13</b>. Then, in step S<b>13</b>, the encoding unit <b>11</b> performs an AUD encoding process to generate an AUD NAL unit containing the reference image information, and supplies the generated AUD NAL unit to the file generation unit <b>15</b> via the non-VCL buffer <b>14</b>. Subsequently, the process returns to step S<b>11</b>, and a similar process is repeatedly performed thereafter. On the other hand, in a case where the encoding unit <b>11</b> determines in step S<b>12</b> that the NAL unit to be generated from the image sequence is not the AUD NAL unit, the process proceeds to step S<b>14</b>.</p><p id="p-0106" num="0104">In step S<b>14</b>, the encoding unit <b>11</b> determines whether or not the NAL unit to be generated from the image sequence is the SPS NAL unit.</p><p id="p-0107" num="0105">In a case where the encoding unit <b>11</b> determines in step S<b>14</b> that the NAL unit to be generated from the image sequence is the SPS NAL unit, the process proceeds to step S<b>15</b>. Then, in step S<b>15</b>, the encoding unit <b>11</b> performs an SPS encoding process to generate an SPS NAL unit, and supplies the generated SPS NAL unit to the file generation unit <b>15</b> via the non-VCL buffer <b>14</b>. Subsequently, the process returns to step S<b>11</b>, and a similar process is repeatedly performed thereafter. On the other hand, in a case where the encoding unit <b>11</b> determines in step S<b>14</b> that the NAL unit to be generated from the image sequence is not the SPS NAL unit, the process proceeds to step S<b>16</b>.</p><p id="p-0108" num="0106">In step S<b>16</b>, the encoding unit <b>11</b> determines whether or not the NAL unit to be generated from the image sequence is the PPS NAL unit.</p><p id="p-0109" num="0107">In a case where the encoding unit <b>11</b> determines in step S<b>16</b> that the NAL unit to be generated from the image sequence is the PPS NAL unit, the process proceeds to step S<b>17</b>. Then, in step S<b>17</b>, the encoding unit <b>11</b> performs a PPS encoding process to generate a PPS NAL unit, and supplies the generated PPS NAL unit to the file generation unit <b>15</b> via the non-VCL buffer <b>14</b>. Subsequently, the process returns to step S<b>11</b>, and a similar process is repeatedly performed thereafter. On the other hand, in a case where the encoding unit <b>11</b> determines in step S<b>16</b> that the NAL unit to be generated from the image sequence is not the PPS NAL unit, the process proceeds to step S<b>18</b>.</p><p id="p-0110" num="0108">In step S<b>18</b>, the encoding unit <b>11</b> determines whether or not the NAL unit to be generated from the image sequence is the tile group NAL unit.</p><p id="p-0111" num="0109">In a case where the encoding unit <b>11</b> determines in step S<b>18</b> that the NAL unit to be generated from the image sequence is the tile group NAL unit, the process proceeds to step S<b>19</b>. Then, in step S<b>19</b>, the encoding unit <b>11</b> performs a tile group encoding process to generate a tile group NAL unit, and supplies the generated tile group NAL unit to the file generation unit <b>15</b> via the VCL buffer <b>13</b>. Subsequently, the process returns to step S<b>11</b>, and a similar process is repeatedly performed thereafter. On the other hand, in a case where the encoding unit <b>11</b> determines in step S<b>18</b> that the NAL unit to be generated from the image sequence is not the tile group NAL unit, the process proceeds to step S<b>20</b>.</p><p id="p-0112" num="0110">In step S<b>20</b>, the encoding unit <b>11</b> performs an encoding process of encoding another NAL unit apart from any of the above-described NAL units. Subsequently, the process returns to step S<b>11</b>, and a similar process is repeatedly performed thereafter.</p><p id="p-0113" num="0111">On the other hand, in a case where the encoding unit <b>11</b> determines in step S<b>11</b> that there is no NAL unit to be generated from the image sequence, the NAL generation process is ended.</p><p id="p-0114" num="0112"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flowchart explaining the AUD encoding process performed in step S<b>13</b> of <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0115" num="0113">In step S<b>31</b>, the encoding unit <b>11</b> performs a process of designating and setting a reference frame list in line with the reference image information, and is allowed to, for example, designate ref_pic_list_idx placed in tile_group_header or set a new ref_pic_list_struct.</p><p id="p-0116" num="0114">In step S<b>32</b>, the encoding unit <b>11</b> generates the AUD NAL unit by performing a frame delimiting process of delimiting the frame (access unit), and subsequently, the AUD encoding process is ended.</p><p id="p-0117" num="0115"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart explaining the tile group encoding process performed in step S<b>19</b> of <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0118" num="0116">In step S<b>41</b>, the encoding unit <b>11</b> performs a process of encoding the header, other than the process of designating and setting the reference frame list.</p><p id="p-0119" num="0117">In step S<b>42</b>, the encoding unit <b>11</b> performs an encoding process of encoding the units following the header, and subsequently, the tile group encoding process is ended.</p><p id="p-0120" num="0118">By the NAL generation process as described above, the image encoding device <b>10</b> can generate the AUD NAL unit in which the reference image information is arranged, and generate a moving image file made up of the bitstream as described above with reference to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, that is, encode an image of a bitstream made up of an access unit in which at least one or more NAL units are arranged.</p><p id="p-0121" num="0119">An example of a NAL generation process in the image decoding process executed by the image decoding device <b>30</b> will be described with reference to the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>9</b></figref>.</p><p id="p-0122" num="0120">For example, when the image decoding device <b>30</b> reads out a bitstream stored in the storage unit <b>20</b>, the process is started, and in step S<b>51</b>, the decoding unit <b>34</b> determines whether or not there is a NAL unit to be decoded from the bitstream.</p><p id="p-0123" num="0121">In a case where the decoding unit <b>34</b> determines in step S<b>51</b> that there is a NAL unit to be decoded from the bitstream, the process proceeds to step S<b>52</b>.</p><p id="p-0124" num="0122">In step S<b>52</b>, the decoding unit <b>34</b> determines whether or not the NAL unit to be decoded from the bitstream is the AUD NAL unit.</p><p id="p-0125" num="0123">In a case where the decoding unit <b>34</b> determines in step S<b>52</b> that the NAL unit to be decoded from the bitstream is the AUD NAL unit, the process proceeds to step S<b>53</b>. Then, in step S<b>53</b>, the decoding unit <b>34</b> supplies the reference image information acquired by performing an AUD decoding process to decode the AUD NAL unit to the parameter memory <b>33</b>. Subsequently, the process returns to step S<b>51</b>, and a similar process is repeatedly performed thereafter. On the other hand, in a case where the decoding unit <b>34</b> determines in step S<b>52</b> that the NAL unit to be decoded from the bitstream is not the AUD NAL unit, the process proceeds to step S<b>54</b>.</p><p id="p-0126" num="0124">In step S<b>54</b>, the decoding unit <b>34</b> determines whether or not the NAL unit to be decoded from the bitstream is the SPS NAL unit.</p><p id="p-0127" num="0125">In a case where the decoding unit <b>34</b> determines in step S<b>54</b> that the NAL unit to be decoded from the bitstream is the SPS NAL unit, the process proceeds to step S<b>55</b>. Then, in step S<b>55</b>, the decoding unit <b>34</b> supplies a parameter acquired by performing an SPS decoding process to decode the SPS NAL unit to the parameter memory <b>33</b>. Subsequently, the process returns to step S<b>51</b>, and a similar process is repeatedly performed thereafter. On the other hand, in a case where the decoding unit <b>34</b> determines in step S<b>54</b> that the NAL unit to be decoded from the bitstream is not the SPS NAL unit, the process proceeds to step S<b>56</b>.</p><p id="p-0128" num="0126">In step S<b>56</b>, the decoding unit <b>34</b> determines whether or not the NAL unit to be decoded from the bitstream is the PPS NAL unit.</p><p id="p-0129" num="0127">In a case where the decoding unit <b>34</b> determines in step S<b>56</b> that the NAL unit to be decoded from the bitstream is the PPS NAL unit, the process proceeds to step S<b>57</b>. Then, in step S<b>57</b>, the decoding unit <b>34</b> supplies a parameter acquired by performing a PPS decoding process to decode the PPS NAL unit to the parameter memory <b>33</b>. Subsequently, the process returns to step S<b>51</b>, and a similar process is repeatedly performed thereafter. On the other hand, in a case where the decoding unit <b>34</b> determines in step S<b>56</b> that the NAL unit to be decoded from the bitstream is not the PPS NAL unit, the process proceeds to step S<b>58</b>.</p><p id="p-0130" num="0128">In step S<b>58</b>, the decoding unit <b>34</b> determines whether or not the NAL unit to be decoded from the bitstream is the tile group NAL unit.</p><p id="p-0131" num="0129">In a case where the decoding unit <b>34</b> determines in step S<b>58</b> that the NAL unit to be decoded from the bitstream is the tile group NAL unit, the process proceeds to step S<b>59</b>. Then, in step S<b>59</b>, the decoding unit <b>34</b> supplies an image obtained by performing a tile group decoding process to decode the tile group NAL unit to the output buffer <b>35</b>. Subsequently, the process returns to step S<b>51</b>, and a similar process is repeatedly performed thereafter. On the other hand, in a case where the decoding unit <b>34</b> determines in step S<b>58</b> that the NAL unit to be decoded from the bitstream is not the tile group NAL unit, the process proceeds to step S<b>60</b>.</p><p id="p-0132" num="0130">In step S<b>60</b>, the decoding unit <b>34</b> performs a decoding process of decoding another NAL unit apart from any of the above-described NAL units. Subsequently, the process returns to step S<b>51</b>, and a similar process is repeatedly performed thereafter.</p><p id="p-0133" num="0131">On the other hand, in a case where the decoding unit <b>34</b> determines in step S<b>51</b> that there is no NAL unit to be decoded from the bitstream, the NAL generation process is ended.</p><p id="p-0134" num="0132"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flowchart explaining the AUD decoding process performed in step S<b>53</b> of <figref idref="DRAWINGS">FIG. <b>9</b></figref>.</p><p id="p-0135" num="0133">In step S<b>71</b>, the decoding unit <b>34</b> acquires the picture type from the AUD NAL unit.</p><p id="p-0136" num="0134">In step S<b>72</b>, the decoding unit <b>34</b> acquires the reference image information from the AUD NAL unit, and performs a process of designating and setting the reference frame list in accordance with the reference image information.</p><p id="p-0137" num="0135">In step S<b>73</b>, the decoding unit <b>34</b> decodes the AUD NAL unit by performing a frame delimiting process of delimiting the frame (access unit), and subsequently, the AUD decoding process is ended.</p><p id="p-0138" num="0136"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a flowchart explaining the tile group decoding process performed in step S<b>59</b> of <figref idref="DRAWINGS">FIG. <b>9</b></figref>.</p><p id="p-0139" num="0137">In step S<b>81</b>, the decoding unit <b>34</b> performs a process of decoding the header, other than the process of designating and setting the reference frame list.</p><p id="p-0140" num="0138">In step S<b>82</b>, the decoding unit <b>34</b> performs a decoding process of decoding the units following the header, and subsequently, the tile group decoding process is ended.</p><p id="p-0141" num="0139">As described above, the image decoding device <b>30</b> can decode the image in accordance with the reference image information acquired from the AUD NAL unit, that is, decode an image of the bitstream made up of an access unit in which at least one or more NAL units are arranged.</p><p id="p-0142" num="0140">A second variation of the first mode of the bitstream will be described with reference to <figref idref="DRAWINGS">FIGS. <b>12</b> to <b>17</b></figref>.</p><p id="p-0143" num="0141">As illustrated in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, the bitstream is constituted by a plurality of access units similarly to the case described above with reference to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, and at least one or more NAL units are arranged in each access unit. Furthermore, similarly to the first variation of the first mode of the bitstream (see <figref idref="DRAWINGS">FIG. <b>4</b></figref>), three cases as illustrated in <figref idref="DRAWINGS">FIG. <b>12</b></figref> are supposed as the configuration of the bitstream.</p><p id="p-0144" num="0142">Then, in the second variation of the first mode of the bitstream, a NEW NAL unit is used as the NAL unit in addition to the AUD NAL unit, the SPS NAL unit, the PPS NAL unit, and the tile group NAL unit.</p><p id="p-0145" num="0143">For example, in the first case, for all access units, the AUD NAL unit is arranged first, the SPS NAL unit is arranged second, the PPS NAL unit is arranged third, the NEW NAL unit is arranged fourth, and thereafter, the tile group NAL units are arranged consecutively. That is, in the first case, the SPS NAL unit and the PPS NAL unit are allocated to every access unit, and the NEW NAL unit is further allocated.</p><p id="p-0146" num="0144">Furthermore, in the second case, for the access unit at the beginning, the AUD NAL unit is arranged first, the SPS NAL unit is arranged second, the PPS NAL unit is arranged third, the NEW NAL unit is arranged fourth, and thereafter, the tile group NAL units are arranged consecutively. Then, for the second and following access units, the AUD NAL unit is arranged first, the PPS NAL unit is arranged second, the NEW NAL unit is arranged third, and thereafter, the tile group NAL units are arranged consecutively. That is, in the second case, the SPS NAL unit is allocated to the access unit at the beginning, the PPS NAL unit is allocated to every access unit, and the NEW NAL unit is further allocated.</p><p id="p-0147" num="0145">In addition, in the third case, for the access unit at the beginning, the AUD NAL unit is arranged first, the SPS NAL unit is arranged second, the PPS NAL unit is arranged third, the NEW NAL unit is arranged fourth, and thereafter, the tile group NAL units are arranged consecutively. Then, for the second and following access units, the AUD NAL unit is arranged first, the NEW NAL unit is arranged second, and thereafter, the tile group NAL units are arranged consecutively. That is, in the third case, the SPS NAL unit and the PPS NAL unit are allocated only to the access unit at the beginning, and the NEW NAL unit is allocated to every access unit.</p><p id="p-0148" num="0146">Then, in the second variation of the first mode of the bitstream, in any of the first to third cases, the configuration has been modified from the past configuration in that the reference image information indicating the reference image to be referred to by the current picture is arranged in the NEW NAL unit. For example, this reference image information allows to designate ref_pic_list_idx placed in tile_group_header or to set a new ref_pic_list_struct. In this manner, by arranging the reference image information in the NEW NAL unit (a NAL unit for identification) placed in the header region of the access unit and applying the arranged reference image information to all the tile group NAL units in the access unit, redundancy can be prevented as compared with when the reference image is designated per tile group.</p><p id="p-0149" num="0147">Specifically, in the second variation of the first mode of the bitstream, the syntax of the NEW NAL unit is described as illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>. As illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>, in the syntax of NEW NAL, ref_pic_list_idx can be designated and a new ref_pic_list_struct can be set.</p><p id="p-0150" num="0148">An example of a NAL generation process performed in the image encoding process executed by the image encoding device <b>10</b> will be described with reference to the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>14</b></figref>.</p><p id="p-0151" num="0149">In steps S<b>101</b> to S<b>107</b>, processes similar to the processes in steps S<b>11</b> to S<b>17</b> described above with reference to the flowchart in <figref idref="DRAWINGS">FIG. <b>6</b></figref> are performed. Then, in step S<b>108</b>, the encoding unit <b>11</b> determines whether or not the NAL unit to be generated from the image sequence is the NEW NAL unit.</p><p id="p-0152" num="0150">In a case where the encoding unit <b>11</b> determines in step S<b>108</b> that the NAL unit to be generated from the image sequence is the NEW NAL unit, the process proceeds to step S<b>109</b>. Then, in step S<b>109</b>, the encoding unit <b>11</b> performs a NEW encoding process to generate a NEW NAL unit containing the reference image information, and supplies the generated NEW NAL unit to the file generation unit <b>15</b> via the non-VCL buffer <b>14</b>. Subsequently, the process returns to step S<b>101</b>, and a similar process is repeatedly performed thereafter. On the other hand, in a case where the encoding unit <b>11</b> determines in step S<b>108</b> that the NAL unit to be generated from the image sequence is not the NEW NAL unit, the process proceeds to step S<b>110</b>.</p><p id="p-0153" num="0151">Then, in steps S<b>110</b> to <b>112</b>, processes similar to the processes in steps S<b>18</b> to S<b>20</b> described above with reference to the flowchart in <figref idref="DRAWINGS">FIG. <b>6</b></figref> are performed, and subsequently, the NAL generation process is ended.</p><p id="p-0154" num="0152"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a flowchart explaining the NEW encoding process performed in step S<b>109</b> of <figref idref="DRAWINGS">FIG. <b>14</b></figref>.</p><p id="p-0155" num="0153">In step S<b>121</b>, the encoding unit <b>11</b> performs a process of designating and setting the reference frame list in line with the reference image information and, for example, designates ref_pic_list_idx placed in tile_group_header or sets a new ref_pic_list_struct. In this manner, the encoding unit <b>11</b> generates the NEW NAL unit, and subsequently, the NEW encoding process is ended.</p><p id="p-0156" num="0154">Note that a tile group encoding process performed in step S<b>111</b> of <figref idref="DRAWINGS">FIG. <b>14</b></figref> is performed similarly to the tile group encoding process described above with reference to the flowchart in <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0157" num="0155">By the NAL generation process as described above, the image encoding device <b>10</b> can generate the NEW NAL unit in which the reference image information is arranged, and generate a moving image file made up of the bitstream as described above with reference to <figref idref="DRAWINGS">FIG. <b>12</b></figref>, that is, encode an image of a bitstream made up of an access unit in which at least one or more NAL units are arranged.</p><p id="p-0158" num="0156">An example of a NAL generation process in the image decoding process executed by the image decoding device <b>30</b> will be described with reference to the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>16</b></figref>.</p><p id="p-0159" num="0157">In steps S<b>131</b> to S<b>137</b>, processes similar to the processes in steps S<b>51</b> to S<b>57</b> described above with reference to the flowchart in <figref idref="DRAWINGS">FIG. <b>9</b></figref> are performed. Then, in step S<b>138</b>, the decoding unit <b>34</b> determines whether or not the NAL unit to be decoded from the bitstream is the NEW NAL unit.</p><p id="p-0160" num="0158">In a case where the decoding unit <b>34</b> determines in step S<b>138</b> that the NAL unit to be decoded from the bitstream is the NEW NAL unit, the process proceeds to step S<b>139</b>. Then, in step S<b>139</b>, the decoding unit <b>34</b> supplies the reference image information acquired by performing a NEW decoding process to decode the NEW NAL unit to the parameter memory <b>33</b>. Subsequently, the process returns to step S<b>131</b>, and a similar process is repeatedly performed thereafter. On the other hand, in a case where the decoding unit <b>34</b> determines in step S<b>138</b> that the NAL unit to be decoded from the bitstream is not the AUD NAL unit, the process proceeds to step S<b>140</b>.</p><p id="p-0161" num="0159">Then, in steps S<b>140</b> to <b>142</b>, processes similar to the processes in steps S<b>58</b> to S<b>60</b> described above with reference to the flowchart in <figref idref="DRAWINGS">FIG. <b>9</b></figref> are performed, and subsequently, the NAL generation process is ended.</p><p id="p-0162" num="0160"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a flowchart explaining the NEW decoding process performed in step S<b>139</b> of <figref idref="DRAWINGS">FIG. <b>16</b></figref>.</p><p id="p-0163" num="0161">In step S<b>151</b>, the decoding unit <b>34</b> acquires the reference image information from the NEW NAL unit, and decodes the NEW NAL unit by performing a process of designating and setting the reference frame list in accordance with the reference image information. Subsequently, the NEW decoding process is ended.</p><p id="p-0164" num="0162">Note that a tile group decoding process performed in step S<b>141</b> of <figref idref="DRAWINGS">FIG. <b>16</b></figref> is performed similarly to the tile group decoding process described above with reference to the flowchart in <figref idref="DRAWINGS">FIG. <b>11</b></figref>.</p><p id="p-0165" num="0163">As described above, the image decoding device <b>30</b> can decode the image in accordance with the reference image information acquired from the NEW NAL unit, that is, decode an image of the bitstream made up of an access unit in which at least one or more NAL units are arranged.</p><p id="p-0166" num="0164">&#x3c;Second Mode of Bitstream&#x3e;</p><p id="p-0167" num="0165">A second mode of the bitstream will be described with reference to <figref idref="DRAWINGS">FIGS. <b>18</b> to <b>26</b></figref>.</p><p id="p-0168" num="0166">In the second mode of the bitstream, a long-term reference, which can be set irregularly, can be modified dynamically.</p><p id="p-0169" num="0167">First, as an example of dynamically modifying the long-term reference, a technique of recovering image quality in a narrow band using the long-term reference will be described with reference to <figref idref="DRAWINGS">FIG. <b>18</b></figref>.</p><p id="p-0170" num="0168">For example, in a case where a packet loss occurs at a timing as illustrated in the figure, the image decoding device <b>30</b>, which is the receiving side, notifies the image encoding device <b>10</b>, which is the sending side, of error occurrence information indicating that the packet loss has occurred. Then, the image encoding device <b>10</b> refers to a long-term reference picture (LTR frame P<sub>L</sub>) to encode a frame P&#x2032; that is to be encoded after receiving the error occurrence information, by avoiding resending the I-Picture.</p><p id="p-0171" num="0169">Generally, the long-term reference picture is set (updated) irregularly when the movement is relatively large. For example, a short-term reference picture is encoded in a fixed group-of-pictures (GOP) structure and thus does not need to be modified, while it is possible to choose whether or not the long-term reference picture is modified when the picture is encoded.</p><p id="p-0172" num="0170">By dynamically modifying the long-term reference in this manner, even if a packet loss has occurred, the image decoding device <b>30</b> can recover from the deterioration of image quality due to the packet loss with lower latency by referring to the LTR frame P<sub>L </sub>to decode the frame P&#x2032; encoded by referring to the LTR frame P<sub>L</sub>.</p><p id="p-0173" num="0171">As a use case for using such a technique of recovering the image quality using the long-term reference, for example, a low-latency or interactive application with a limited transmission band is supposed. Specifically, the technique can be used in surveillance cameras, video chats, streaming game services, and the like.</p><p id="p-0174" num="0172">A first variation of the second mode of the bitstream will be described with reference to <figref idref="DRAWINGS">FIGS. <b>19</b> and <b>20</b></figref>.</p><p id="p-0175" num="0173">As illustrated in <figref idref="DRAWINGS">FIG. <b>19</b></figref>, the bitstream is constituted by a plurality of access units similarly to the case described above with reference to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, and at least one or more NAL units (the AUD NAL unit, the SPS NAL unit, the PPS NAL unit, and the tile group NAL unit) are arranged in each access unit. Furthermore, similarly to the first variation of the first mode of the bitstream (see <figref idref="DRAWINGS">FIG. <b>4</b></figref>), three cases as illustrated in <figref idref="DRAWINGS">FIG. <b>19</b></figref> are supposed as the configuration of the bitstream.</p><p id="p-0176" num="0174">Then, in the first variation of the second mode of the bitstream, in any of the first to third cases, the AUD NAL unit is extended such that only the setting for the long term can be independently modified (modify poc_lsb_lt of ref_pic_list_struct(i, ref_pic_list_idx[i]).</p><p id="p-0177" num="0175">Specifically, in the first variation of the second mode of the bitstream, the syntax of SPS NAL and AUD NAL is described as illustrated in <figref idref="DRAWINGS">FIG. <b>20</b></figref>.</p><p id="p-0178" num="0176">For example, a modification on the long term of ref_pic_list_struct already defined in the SPS NAL unit is enabled in the AUD NAL unit.</p><p id="p-0179" num="0177">A second variation of the second mode of the bitstream will be described with reference to <figref idref="DRAWINGS">FIGS. <b>21</b> and <b>22</b></figref>.</p><p id="p-0180" num="0178">As illustrated in <figref idref="DRAWINGS">FIG. <b>21</b></figref>, the bitstream is constituted by a plurality of access units similarly to the case described above with reference to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, and at least one or more NAL units (the AUD NAL unit, the SPS NAL unit, the PPS NAL unit, the tile group NAL unit, and the NEW NAL unit) are arranged in each access unit. Furthermore, similarly to the second variation of the first mode of the bitstream (see <figref idref="DRAWINGS">FIG. <b>12</b></figref>), three cases as illustrated in <figref idref="DRAWINGS">FIG. <b>21</b></figref> are supposed as the configuration of the bitstream.</p><p id="p-0181" num="0179">Then, in the second variation of the second mode of the bitstream, in any of the first to third cases, the NEW NAL unit is extended such that only the setting for the long term can be independently modified (modify poc_lsb_lt of ref_pic_list_struct(i, ref_pic_list_idx[i]).</p><p id="p-0182" num="0180">Specifically, in the second variation of the second mode of the bitstream, the syntax of SPS NAL and NEW NAL is described as illustrated in <figref idref="DRAWINGS">FIG. <b>22</b></figref>.</p><p id="p-0183" num="0181">For example, a modification on the long term of ref_pic_list_struct already defined in the SPS NAL unit is enabled in the NEW NAL unit.</p><p id="p-0184" num="0182">An example of a reference frame list designation and setting process performed in the image encoding process executed by the image encoding device <b>10</b> will be described with reference to the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0185" num="0183">For example, when an image sequence is supplied to the image encoding device <b>10</b>, a reference frame list setting process is started, and in step S<b>161</b>, the encoding unit <b>11</b> determines whether or not to designate the reference frame list already defined in the SPS NAL unit.</p><p id="p-0186" num="0184">In a case where it is determined in step S<b>161</b> that the reference frame list already defined in the SPS NAL unit is designated, the process proceeds to step S<b>162</b>, and the encoding unit <b>11</b> acquires the index of the reference frame list.</p><p id="p-0187" num="0185">In step S<b>163</b>, the encoding unit <b>11</b> determines whether or not to modify long-term reference frame information, in accordance with the index of the reference frame list acquired in step S<b>162</b>.</p><p id="p-0188" num="0186">In a case where the encoding unit <b>11</b> determines in step S<b>163</b> that the long-term reference frame information is to be modified, the process proceeds to step S<b>164</b>, and a long-term reference frame information modification process (see the flowchart in <figref idref="DRAWINGS">FIG. <b>24</b></figref> described later) is performed.</p><p id="p-0189" num="0187">On the other hand, in a case where it is determined in step S<b>163</b> that the long-term reference frame information is not to be modified, or after the long-term reference frame information modification process is performed in step S<b>164</b>, the reference frame list setting process is ended.</p><p id="p-0190" num="0188">Meanwhile, in a case where it is determined in step S<b>161</b> that the reference frame list already defined in the SPS NAL unit is not designated, the process proceeds to step S<b>165</b>. In step S<b>165</b>, the encoding unit <b>11</b> performs an encoding process for the reference frame list, and subsequently, the reference frame list designation and setting process is ended.</p><p id="p-0191" num="0189"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a flowchart explaining the long-term reference frame information modification process performed in step S<b>164</b> of <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0192" num="0190">In step S<b>171</b>, the encoding unit <b>11</b> acquires a long-term number k in the reference frame list of the index acquired in step S<b>162</b> of <figref idref="DRAWINGS">FIG. <b>23</b></figref>, and sets a parameter i with zero (i=0).</p><p id="p-0193" num="0191">In step S<b>172</b>, the encoding unit <b>11</b> determines whether or not the parameter i is less than the long-term number k.</p><p id="p-0194" num="0192">In a case where the encoding unit <b>11</b> determines in step S<b>172</b> that the parameter i is less than the long-term number k (i&#x3c;k), the process proceeds to step S<b>173</b>.</p><p id="p-0195" num="0193">In step S<b>173</b>, the encoding unit <b>11</b> modifies the absolute position of an i-th long-term reference frame. For example, the encoding unit <b>11</b> can set the absolute position of the i-th long-term reference frame on the basis of a command (information that specifies the reference image) from the image decoding device <b>30</b>. Furthermore, the image decoding device <b>30</b> updates the information that specifies the reference image, per frame.</p><p id="p-0196" num="0194">In step S<b>174</b>, the encoding unit <b>11</b> increments the parameter i (i=i+1), and subsequently, the process returns to step S<b>172</b>.</p><p id="p-0197" num="0195">On the other hand, in a case where the encoding unit <b>11</b> determines in step S<b>172</b> that the parameter i is not less than the long-term number k (i&#x2265;k), the long-term reference frame information modification process is ended.</p><p id="p-0198" num="0196">By the reference frame list designation and setting process as described above, the image encoding device <b>10</b> can modify the long-term reference frame information, and generate a moving image file made up of the bitstream as described above with reference to <figref idref="DRAWINGS">FIG. <b>19</b> or <b>21</b></figref>.</p><p id="p-0199" num="0197">An example of a reference frame list designation and setting process performed in the image decoding process executed by the image decoding device <b>30</b> will be described with reference to the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>25</b></figref>.</p><p id="p-0200" num="0198">For example, when the image decoding device <b>30</b> reads out a bitstream stored in the storage unit <b>20</b>, the process is started, and in step S<b>181</b>, the decoding unit <b>34</b> determines whether or not to designate the reference frame list already defined in the SPS NAL unit.</p><p id="p-0201" num="0199">In a case where it is determined in step S<b>181</b> that the reference frame list already defined in the SPS NAL unit is designated, the process proceeds to step S<b>182</b>, and the decoding unit <b>34</b> acquires the index of the reference frame list.</p><p id="p-0202" num="0200">In step S<b>183</b>, the decoding unit <b>34</b> determines whether or not to modify long-term reference frame information, in accordance with the index of the reference frame list acquired in step S<b>182</b>.</p><p id="p-0203" num="0201">In a case where the decoding unit <b>34</b> determines in step S<b>183</b> that the long-term reference frame information is to be modified, the process proceeds to step S<b>184</b>, and a long-term reference frame information modification process (see the flowchart in <figref idref="DRAWINGS">FIG. <b>26</b></figref> described later) is performed.</p><p id="p-0204" num="0202">On the other hand, in a case where it is determined in step S<b>183</b> that the long-term reference frame information is not to be modified, or after the long-term reference frame information modification process is performed in step S<b>184</b>, the reference frame list setting process is ended.</p><p id="p-0205" num="0203">Meanwhile, in a case where it is determined in step S<b>181</b> that the reference frame list already defined in the SPS NAL unit is not designated, the process proceeds to step S<b>185</b>. In step S<b>185</b>, the decoding unit <b>34</b> performs a decoding process for the reference frame list, and subsequently, the reference frame list designation and setting process is ended.</p><p id="p-0206" num="0204"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a flowchart explaining the long-term reference frame information modification process performed in step S<b>184</b> of <figref idref="DRAWINGS">FIG. <b>25</b></figref>.</p><p id="p-0207" num="0205">In step S<b>191</b>, the decoding unit <b>34</b> acquires the long-term number k in the reference frame list of the index acquired in step S<b>182</b> of <figref idref="DRAWINGS">FIG. <b>25</b></figref>, and sets a parameter i with zero (i=0).</p><p id="p-0208" num="0206">In step S<b>192</b>, the decoding unit <b>34</b> determines whether or not the parameter i is less than the long-term number k.</p><p id="p-0209" num="0207">In a case where the decoding unit <b>34</b> determines in step S<b>192</b> that the parameter i is less than the long-term number k (i&#x3c;k), the process proceeds to step S<b>193</b>.</p><p id="p-0210" num="0208">In step S<b>193</b>, the decoding unit <b>34</b> modifies the absolute position of an i-th long-term reference frame in accordance with the long-term reference frame information.</p><p id="p-0211" num="0209">In step S<b>194</b>, the decoding unit <b>34</b> increments the parameter i (i=i+1), and subsequently, the process returns to step S<b>192</b>.</p><p id="p-0212" num="0210">On the other hand, in a case where the decoding unit <b>34</b> determines in step S<b>192</b> that the parameter i is not less than the long-term number k (i&#x2265;k), the long-term reference frame information modification process is ended.</p><p id="p-0213" num="0211">By the reference frame list designation and setting process as described above, the image decoding device <b>30</b> can decode the image in accordance with the long-term reference frame information modified in a moving image file made up of the bitstream as described above with reference to <figref idref="DRAWINGS">FIG. <b>19</b> or <b>21</b></figref>.</p><p id="p-0214" num="0212">&#x3c;Exemplary Configuration of Computer&#x3e;</p><p id="p-0215" num="0213">Next, the series of processes (the image decoding method and the image encoding method) described above can be performed by hardware and also can be performed by software. In a case where the series of the processes are performed by software, a program constituting the software is installed in a general-purpose computer or the like.</p><p id="p-0216" num="0214"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is a block diagram illustrating an exemplary configuration of a computer according to an embodiment on which a program that executes the above-described series of processes is installed.</p><p id="p-0217" num="0215">The program can be pre-recorded on a hard disk <b>105</b> or a read only memory (ROM) <b>103</b> as a recording medium built in the computer.</p><p id="p-0218" num="0216">Alternatively, the program can be saved (recorded) in a removable recording medium <b>111</b> driven by a drive <b>109</b>. Such a removable recording medium <b>111</b> can be provided as so-called package software. Here, examples of the removable recording medium <b>111</b> include a flexible disk, a compact disc read only memory (CD-ROM), a magneto-optical (MO) disk, a digital versatile disc (DVD), a magnetic disk, and a semiconductor memory.</p><p id="p-0219" num="0217">Note that the program not only can be installed on the computer from the removable recording medium <b>111</b> as described above, but also can be downloaded to the computer via a communication network or a broadcasting network to be installed on the built-in hard disk <b>105</b>. That is, for example, the program can be transferred wirelessly from a download site to the computer via an artificial satellite for digital satellite broadcasting, or can be transferred to the computer by wire via a network such as a local area network (LAN) or the Internet.</p><p id="p-0220" num="0218">The computer has a built-in central processing unit (CPU) <b>102</b>, and an input/output interface <b>110</b> is connected to the CPU <b>102</b> via a bus <b>101</b>.</p><p id="p-0221" num="0219">When an order is input via the input/output interface <b>110</b> in response to, for example, an operation on an input unit <b>107</b> by a user, the CPU <b>102</b> executes the program saved in the read only memory (ROM) <b>103</b> in accordance with the order. Alternatively, the CPU <b>102</b> loads the program saved in the hard disk <b>105</b> into a random access memory (RAM) <b>104</b> and executes the loaded program.</p><p id="p-0222" num="0220">This causes the CPU <b>102</b> to perform processes in accordance with the above-described flowcharts or processes performed with the configurations in the above-described block diagrams. Then, the CPU <b>102</b> outputs the results of the processes from an output unit <b>106</b> or sends the results from a communication unit <b>108</b> as necessary, for example, via the input/output interface <b>110</b>, and additionally, records the results on the hard disk <b>105</b>, for example.</p><p id="p-0223" num="0221">Note that the input unit <b>107</b> is constituted by a keyboard, a mouse, a microphone, and the like. Furthermore, the output unit <b>106</b> is constituted by a liquid crystal display (LCD), a speaker, and the like.</p><p id="p-0224" num="0222">Here, in the present description, the processes performed by the computer in accordance with the program do not necessarily have to be performed chronologically in the order described as the flowcharts. That is, the processes performed by the computer in accordance with the program include processes executed in parallel or individually (for example, parallel processes or processes by an object).</p><p id="p-0225" num="0223">In addition, the program may be processed by a single computer (processor), or alternatively, may be processed by a plurality of computers in a distributed manner. Moreover, the program may be transferred to a remote computer and executed.</p><p id="p-0226" num="0224">Additionally, in the present description, a system stands for a collection of a plurality of constituent members (e.g., devices and modules (parts)) and whether or not all the constituent members are placed within the same cabinet is not regarded as important. Accordingly, a plurality of devices accommodated in separate cabinets so as to be connected to one another via a network and one device of which a plurality of modules is accommodated within one cabinet are both deemed as systems.</p><p id="p-0227" num="0225">Furthermore, for example, a configuration described as one device (or processing unit) may be partitioned so as to be configured as a plurality of devices (or processing units). Conversely, configurations described as a plurality of devices (or processing units) in the above may be collected so as to be configured as one device (or processing unit). In addition, as a matter of course, a configuration other than those described above may be added to the configurations of the respective devices (or processing units). Moreover, a part of the configuration of a certain device (or processing unit) may be included in the configuration of another device (or processing unit) as long as the configuration or the action of the system as a whole is maintained substantially unchanged.</p><p id="p-0228" num="0226">Meanwhile, for example, the present technology can employ a cloud computing configuration in which one function is divided and allocated to a plurality of devices so as to be processed in coordination thereamong via a network.</p><p id="p-0229" num="0227">In addition, for example, the above-described program can be executed by any device. In that case, that device is only required to have necessary functions (function blocks or the like) such that necessary information can be obtained.</p><p id="p-0230" num="0228">Furthermore, for example, the respective steps described in the aforementioned flowcharts can be executed by a plurality of devices each taking a share thereof as well as executed by a single device. Moreover, in a case where a plurality of processes is included in one step, the plurality of processes included in one step can be executed by a plurality of devices each taking a share thereof as well as executed by a single device. In different terms, a plurality of processes included in one step can also be executed as processes in a plurality of steps. Conversely, the processes described as a plurality of steps can also be collected into one step and executed.</p><p id="p-0231" num="0229">Note that the program executed by the computer may be designed in such a manner that the processes of steps describing the program are executed chronologically in the order described in the present description, or individually executed in parallel or at a necessary timing, for example, when called. In other words, as long as there is no inconsistency, the processes of the respective steps may be executed in an order different from the order described above. Moreover, these processes of the steps describing the program may be executed in parallel with a process of another program, or may be executed in combination with a process of another program.</p><p id="p-0232" num="0230">Note that, as long as there is no inconsistency, each of a plurality of the present technologies described in the present description can be independently carried out alone. As a matter of course, it is also possible to carry out any plurality of the present technologies at the same time. For example, a part or the whole of the present technology described in any of the embodiments can also be carried out in combination with a part or the whole of the present technology described in another embodiment. In addition, a part or the whole of any one of the present technologies described above can also be carried out with another technology not mentioned above at the same time.</p><p id="p-0233" num="0231">&#x3c;Exemplary Combinations of Configurations&#x3e;</p><p id="p-0234" num="0232">Note that the present technology can be also configured as described below.</p><p id="p-0235" num="0233">(1)</p><p id="p-0236" num="0234">An image decoding device including</p><p id="p-0237" num="0235">a decoding unit that decodes an image of a bitstream made up of an access unit in which at least one or more network abstraction layer (NAL) units are arranged, in which</p><p id="p-0238" num="0236">reference image information indicating a reference image to be referred to by a current picture has been saved in a header region of the access unit.</p><p id="p-0239" num="0237">(2)</p><p id="p-0240" num="0238">The image decoding device according to (1) above, in which</p><p id="p-0241" num="0239">the reference image information has been saved in an access unit delimiter (AUD) NAL unit indicating a delimiter of the access unit, and is applied to all tile group NAL units in the access unit.</p><p id="p-0242" num="0240">(3)</p><p id="p-0243" num="0241">The image decoding device according to (1) above, in which</p><p id="p-0244" num="0242">the reference image information has been saved in the NAL unit for identification provided separately from an access unit delimiter (AUD) NAL unit indicating a delimiter of the access unit, and is applied to all tile group NAL units in the access unit.</p><p id="p-0245" num="0243">(4)</p><p id="p-0246" num="0244">The image decoding device according to any one of (1) to (3) above, in which</p><p id="p-0247" num="0245">the reference image information includes long-term information indicating whether or not the reference image is assigned as a long-term reference picture.</p><p id="p-0248" num="0246">(5)</p><p id="p-0249" num="0247">The image decoding device according to (4) above, in which</p><p id="p-0250" num="0248">the long-term information includes information that specifies the reference image chosen on the basis of information from a client that is a receiving side of the bitstream.</p><p id="p-0251" num="0249">(6)</p><p id="p-0252" num="0250">The image decoding device according to (5) above, in which</p><p id="p-0253" num="0251">the information from the client is updated per frame.</p><p id="p-0254" num="0252">(7)</p><p id="p-0255" num="0253">The image decoding device according to any one of (4) to (6) above, in which</p><p id="p-0256" num="0254">the long-term information has been saved in an access unit delimiter (AUD) NAL unit indicating a delimiter of the access unit, and is applied to all tile group NAL units in the access unit.</p><p id="p-0257" num="0255">(8)</p><p id="p-0258" num="0256">The image decoding device according to any one of (4) to (6) above, in which</p><p id="p-0259" num="0257">the long-term information has been saved in the NAL unit for identification provided separately from an access unit delimiter (AUD) NAL unit indicating a delimiter of the access unit, and is applied to all tile group NAL units in the access unit.</p><p id="p-0260" num="0258">(9)</p><p id="p-0261" num="0259">An image decoding method including</p><p id="p-0262" num="0260">decoding, by an image decoding device that performs an image decoding process, an image of a bitstream made up of an access unit in which at least one or more network abstraction layer (NAL) units are arranged, in which</p><p id="p-0263" num="0261">reference image information indicating a reference image to be referred to by a current picture has been saved in a header region of the access unit.</p><p id="p-0264" num="0262">(10)</p><p id="p-0265" num="0263">An image encoding device including</p><p id="p-0266" num="0264">an encoding unit that encodes an image of a bitstream made up of an access unit in which at least one or more network abstraction layer (NAL) units are arranged, in which</p><p id="p-0267" num="0265">reference image information indicating a reference image to be referred to by a current picture is saved in a header region of the access unit.</p><p id="p-0268" num="0266">(11)</p><p id="p-0269" num="0267">The image encoding device according to (10) above, in which</p><p id="p-0270" num="0268">the reference image information is saved in an access unit delimiter (AUD) NAL unit indicating a delimiter of the access unit, and is applied to all tile group NAL units in the access unit.</p><p id="p-0271" num="0269">(12)</p><p id="p-0272" num="0270">The image encoding device according to (10) above, in which</p><p id="p-0273" num="0271">the reference image information is saved in the NAL unit for identification provided separately from an access unit delimiter (AUD) NAL unit indicating a delimiter of the access unit, and is applied to all tile group NAL units in the access unit.</p><p id="p-0274" num="0272">(13)</p><p id="p-0275" num="0273">The image encoding device according to any one of (10) to (12) above, in which</p><p id="p-0276" num="0274">the reference image information includes long-term information indicating whether or not the reference image is assigned as a long-term reference picture.</p><p id="p-0277" num="0275">(14)</p><p id="p-0278" num="0276">The image encoding device according to (13) above, in which</p><p id="p-0279" num="0277">the long-term information includes information that specifies the reference image chosen on the basis of information from a client that is a receiving side of the bitstream.</p><p id="p-0280" num="0278">(15)</p><p id="p-0281" num="0279">The image encoding device according to (14) above, in which</p><p id="p-0282" num="0280">the information from the client is updated per frame.</p><p id="p-0283" num="0281">(16)</p><p id="p-0284" num="0282">The image encoding device according to any one of (13) to (15) above, in which</p><p id="p-0285" num="0283">the long-term information is saved in an access unit delimiter (AUD) NAL unit indicating a delimiter of the access unit, and is applied to all tile group NAL units in the access unit.</p><p id="p-0286" num="0284">(17)</p><p id="p-0287" num="0285">The image encoding device according to any one of (13) to (15) above, in which</p><p id="p-0288" num="0286">the long-term information is saved in the NAL unit for identification provided separately from an access unit delimiter (AUD) NAL unit indicating a delimiter of the access unit, and is applied to all tile group NAL units in the access unit.</p><p id="p-0289" num="0287">(18)</p><p id="p-0290" num="0288">An image encoding method including</p><p id="p-0291" num="0289">encoding, by an image encoding device that performs an image encoding process, an image of a bitstream made up of an access unit in which at least one or more network abstraction layer (NAL) units are arranged, in which</p><p id="p-0292" num="0290">reference image information indicating a reference image to be referred to by a current picture is saved in a header region of the access unit.</p><p id="p-0293" num="0291">Note that the present embodiments are not limited to the aforementioned embodiments and a variety of modifications can be made without departing from the scope of the present disclosure. Furthermore, the effects described in the present description merely serve as examples and not construed to be limited. There may be another effect.</p><heading id="h-0011" level="1">REFERENCE SIGNS LIST</heading><p id="p-0294" num="0000"><ul id="ul0002" list-style="none">    <li id="ul0002-0001" num="0292"><b>10</b> Image encoding device</li>    <li id="ul0002-0002" num="0293"><b>11</b> Encoding unit</li>    <li id="ul0002-0003" num="0294"><b>12</b> Determination unit</li>    <li id="ul0002-0004" num="0295"><b>13</b> VCL buffer</li>    <li id="ul0002-0005" num="0296"><b>14</b> Non-VCL buffer</li>    <li id="ul0002-0006" num="0297"><b>15</b> File generation unit</li>    <li id="ul0002-0007" num="0298"><b>16</b> Control unit</li>    <li id="ul0002-0008" num="0299"><b>20</b> Storage unit</li>    <li id="ul0002-0009" num="0300"><b>30</b> Image decoding device</li>    <li id="ul0002-0010" num="0301"><b>31</b> VCL buffer</li>    <li id="ul0002-0011" num="0302"><b>32</b> Non-VCL buffer</li>    <li id="ul0002-0012" num="0303"><b>33</b> Parameter memory</li>    <li id="ul0002-0013" num="0304"><b>34</b> Decoding unit</li>    <li id="ul0002-0014" num="0305"><b>35</b> Output buffer</li>    <li id="ul0002-0015" num="0306"><b>37</b> Control unit</li></ul></p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An image encoding device comprising<claim-text>an encoder that encodes an image of a bitstream made up of an access unit in which at least one or more network abstraction layer (NAL) units are arranged, wherein</claim-text><claim-text>reference image information indicating a reference image to be referred to by a current picture is included in a header region of the access unit,</claim-text><claim-text>the reference image information is provided separately from an access unit delimiter (AUD) NAL unit indicating a delimiter of the access unit, and is applied to all tile group NAL units in the access unit, and</claim-text><claim-text>the reference image information includes information related to a list of images to include the reference image to be referred to by the current picture.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The image encoding device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>presence of the information related to the list of images is indicated by a dedicated flag bit located in the header region of the access unit.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The image encoding device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the reference image information further includes information for modifying long-term reference frame information, corresponding to a long-term reference image of the one or more reference images.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The image encoding device according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein<claim-text>whether or not the long-term reference frame information is to be modified is indicated by a dedicated flag bit located in the header region of the access unit.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The image encoding device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the reference image information includes long-term information indicating whether or not the reference image is assigned as a long-term reference picture.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The image encoding device according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein<claim-text>the long-term information includes information that specifies the reference image chosen on a basis of information from a client that is a receiving side of the bitstream.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The image encoding device according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein<claim-text>the information from the client is updated per frame.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The image encoding device according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein<claim-text>the long-term information further includes information for modifying long-term reference frame information, corresponding to a long-term reference image of the one or more reference images.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. An image encoding method by an image encoding device, the method comprising:<claim-text>receiving a bitstream made up of an access unit in which at least two or more network abstraction layer (NAL) units are arranged; and</claim-text><claim-text>encoding an image, wherein</claim-text><claim-text>in the encoding, reference image information, indicating one or more reference images to be referred to by a current picture, is included in a header region of an access unit in which at least two or more network abstraction layer (NAL) units are arranged; and</claim-text><claim-text>transmitting a bitstream made up of the access unit.</claim-text></claim-text></claim></claims></us-patent-application>