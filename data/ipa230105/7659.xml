<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007660A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007660</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17944038</doc-number><date>20220913</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202010238861.9</doc-number><date>20200330</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>08</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>04</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>085</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>044</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>72</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">RESOURCE SELECTION METHOD AND DEVICE</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2021/082577</doc-number><date>20210324</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17944038</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>VIVO MOBILE COMMUNICATION CO., LTD.</orgname><address><city>Guangdong</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>JI</last-name><first-name>Zichao</first-name><address><city>Guangdong</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>VIVO MOBILE COMMUNICATION CO., LTD.</orgname><role>03</role><address><city>Guangdong</city><country>CN</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A resource selection method and a device. The method is applied to user equipment and includes at least one of the following steps: determining a first resource selection window based on a first resource set; determining a first candidate resource set based on the first resource set and a second resource selection window; and selecting target resources based on the first resource set and a second candidate resource set.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="99.14mm" wi="124.38mm" file="US20230007660A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="207.26mm" wi="126.41mm" file="US20230007660A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="144.61mm" wi="149.78mm" file="US20230007660A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation application of International Application No. PCT/CN2021/082577 filed on Mar. 24, 2021, which claims priority to Chinese Patent Application No. 202010238861.9 filed on Mar. 30, 2020, which are incorporated herein by reference in their entireties.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">The present invention relates to the field of communications technologies, and in particular, to a resource selection method and a device.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">In a new radio (NR) technology, NR sidelink (SL) resources are allocated in two modes: one is a scheduled-by-base-station mode (mode 1), and the other is a user equipment UE autonomous resource selection mode (mode 2).</p><p id="p-0005" num="0004">In the scheduled-by-base-station resource allocation mode, a base station determines a sidelink resource to be used by UE for data transmission and notifies transmit (TX) UE of the sidelink resource by using downlink signaling. In the UE autonomous selection resource allocation mode, the UE selects an available transmission resource from a (pre)configured resource pool, and the UE performs channel monitoring before resource selection, selects a resource set with less interference based on a channel monitoring result, and then randomly selects, from the resource set, a resource for transmission. For physical sidelink control channel (PSCCH) and/or physical sidelink shared channel (PSSCH) resource selection, the UE needs to select at least a physical time-frequency resource for PSCCH and/or PSSCH transmission.</p><p id="p-0006" num="0005">However, in the UE autonomous selection resource allocation mode, resources selected by transmit user equipments TX UEs may conflict, which reduces reliability of transmission between UEs.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0007" num="0006">According to a first aspect, an embodiment of the present invention provides a resource selection method, applied to user equipment and including at least one of the following steps:</p><p id="p-0008" num="0007">determining a first resource selection window based on a first resource set;</p><p id="p-0009" num="0008">determining a first candidate resource set based on the first resource set and a second resource selection window; and</p><p id="p-0010" num="0009">selecting target resources based on the first resource set and a second candidate resource set.</p><p id="p-0011" num="0010">According to a second aspect, an embodiment of the present invention further provides user equipment, including:</p><p id="p-0012" num="0011">a first processing module, configured to perform at least one of the following steps:</p><p id="p-0013" num="0012">determining a first resource selection window based on a first resource set;</p><p id="p-0014" num="0013">determining a first candidate resource set based on the first resource set and a second resource selection window; and</p><p id="p-0015" num="0014">selecting target resources based on the first resource set and a second candidate resource set.</p><p id="p-0016" num="0015">According to a third aspect, an embodiment of the present invention further provides user equipment, including a processor, a memory, and a computer program stored in the memory and capable of running on the processor. When the computer program is executed by the processor, the steps of the resource selection method described above are implemented.</p><p id="p-0017" num="0016">According to a fourth aspect, an embodiment of the present invention further provides a computer-readable storage medium, where the computer-readable storage medium stores a computer program. When the computer program is executed by a processor, the steps of the resource selection method described above are implemented.</p><p id="p-0018" num="0017">According to a fifth aspect, an embodiment of the present invention provides a computer software product, where the computer software product is stored in a non-volatile storage medium, and when the software product is configured to be executed by at least one processor, the steps of the resource selection method described above are implemented.</p><p id="p-0019" num="0018">According to a sixth aspect, an embodiment of the present invention further provides user equipment, where the user equipment is configured to execute the resource selection method described above.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic flowchart of a resource selection method according to an embodiment of the present invention;</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>2</b></figref> illustrates user equipment according to an embodiment of the present invention; and</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates user equipment according to another embodiment of the present invention.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0023" num="0022">To make the technical problems to be resolved, technical solutions, and advantages of the present invention clearer, the following provides descriptions with reference to accompanying drawings and specific embodiments.</p><p id="p-0024" num="0023">The method in the embodiments of the present invention is applied to user equipment, and the user equipment (UE) may be an access terminal, a subscriber unit, a subscriber station, a mobile station, a mobile, a remote station, a remote terminal, a mobile device, a user terminal, a terminal, a wireless communications device, a user agent, or a user apparatus. The terminal device may alternatively be a cellular phone, a cordless phone, a session initiation protocol (SIP) phone, a wireless local loop (WLL) station, a personal digital assistant (PDA), a handheld device with a wireless communication function, a computing device or another processing device connected to a wireless modem, an in-vehicle device, or a wearable device.</p><p id="p-0025" num="0024">As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, a resource selection method according to an embodiment of the present invention is applied to user equipment and includes at least one of the following steps in step <b>101</b>:</p><p id="p-0026" num="0025">determining a first resource selection window based on a first resource set;</p><p id="p-0027" num="0026">determining a first candidate resource set based on the first resource set and a second resource selection window; and</p><p id="p-0028" num="0027">selecting target resources based on the first resource set and a second candidate resource set.</p><p id="p-0029" num="0028">In the foregoing step <b>101</b>, according to the method in this embodiment of the present invention, during resource selection, selection of the target resources may implemented by performing at least one of determining the first resource selection window based on the first resource set, determining the first candidate resource set based on the first resource set and the second resource selection window, and selecting the target resources based on the first resource set and the second candidate resource set. In this way, with the target resource selected by the user equipment based on the first resource set, more reliable transmission can be ensured.</p><p id="p-0030" num="0029">In one embodiment, the user equipment UE to which the method in this embodiment of the present invention is applied may determine the first resource selection window based on the first resource set, and then select the target resource based on the first resource selection window. Alternatively, the first candidate resource set is determined based on the first resource set and the second resource selection window, and the target resource is then selected based on the first candidate resource set. Certainly, the second resource selection window may alternatively be the first resource selection window determined based on the first resource set. Alternatively, the target resource is selected based on the first resource set and the second candidate resource set. Certainly, the second candidate resource set may alternatively be the first candidate resource set determined based on the first resource set and the second resource selection window.</p><p id="p-0031" num="0030">The first resource set may be preconfigured, or configured by a control node, or configured by a transmission node (for example, a peer device in transmission with the user equipment). The control node may be a base station, a group head of a UE group, a remote subscriber unit (RSU), a relay device relay UE, or the like. In one embodiment, the first resource set may be a sidelink bandwidth part (SL BWP) or part of resources in a resource pool, or may be in other forms.</p><p id="p-0032" num="0031">It should be known that a resource selection window is a window with a length of T<b>1</b> to T<b>2</b> after resource selection, resource selection evaluation, or resource selection reevaluation is triggered, and T<b>2</b> is greater than or equal to T<b>1</b>. Because T<b>2</b> may be selected within a packet delay budget (PDB) of transport block (TB) transmission, an actual length and position of the resource selection window are determined by the UE, and the UE selects the resource selection window within a variable time range. The variable time range is hereinafter referred to as a variable range of the resource selection window.</p><p id="p-0033" num="0032">Therefore, in this embodiment, optionally, in step <b>101</b>, the determining a first resource selection window based on a first resource set includes:</p><p id="p-0034" num="0033">if all or part of resources of the first resource set are included in a variable range of the first resource selection window, selecting the first resource selection window in at least one of the following manners:</p><p id="p-0035" num="0034">the first resource selection window including at least first resources or part of the first resources;</p><p id="p-0036" num="0035">the first resource selection window including only the first resources or only part of the first resources; and</p><p id="p-0037" num="0036">the first resource selection window not including the first resources; where</p><p id="p-0038" num="0037">the first resources are all resources of an overlapping portion between the variable range of the first resource selection window and a packet delay budget of transport block transmission.</p><p id="p-0039" num="0038">Herein, in a case that the first resource selection window includes at least a portion of the first resource, optionally, the portion of the first resource is at least a first preset percentage such as x% of the first resource, so as to ensure that the portion of the first resource is at least a second preset percentage such as y% of the first resource selection window.</p><p id="p-0040" num="0039">If resources of the first resource set are preferentially selected, the first resource selection window includes at least first resources or part of the first resources; or the first resource selection window includes only the first resources or only part of the first resources. If resources outside the first resource set are preferentially selected, the first resource selection window does not include the first resource.</p><p id="p-0041" num="0040">However, in a case that the variable range of the first resource selection window does not include all or part of the resources of the first resource set, in this embodiment, optionally, in step <b>101</b>, the determining a first resource selection window based on a first resource set include:</p><p id="p-0042" num="0041">if none of the resources of the first resource set are included in the variable range of the first resource selection window, dropping current transport block transmission; or autonomously selecting a resource selection window within the variable range of the first resource selection window.</p><p id="p-0043" num="0042">In one embodiment, implementation of autonomously selecting a resource selection window within the variable range of the first resource selection window may be: determining, based on a preset value, a lower limit T<b>1</b> of the first resource selection window; and selecting one value within the PDB of TB transmission as an upper limit T<b>2</b> of the first resource selection window.</p><p id="p-0044" num="0043">In addition, it should be further known that determining of a candidate resource set is implemented through reference signal received power (RSRP) estimation on candidate resources in the resource selection window. The estimation is implemented based on an RSRP measurement result of resources corresponding to a resource monitoring window. Based on a comparison result between the estimated RSRP and a corresponding RSRP threshold, candidate resources whose estimated RSRP is greater than the RSRP threshold are excluded and not added to the candidate resource set. In addition, candidate resources in the candidate resource set need to be not less than a third preset percentage (for example, 20%) of all candidate resources in the resource selection window. If less than 20%, the RSRP threshold needs to be increased based on a step value (for example, 3 dB), and exclusion is further performed on the candidate resources until candidate resources being no less than the third preset percentage are selected for the candidate resource set. The candidate resource is a resource required for TB transmission, and the candidate resource may include one or more resource blocks. In sidelink transmission, the resource block usually includes one slot and one sub-channel, or may be in other forms.</p><p id="p-0045" num="0044">On a basis of a known first resource set, optionally, in step <b>101</b>, the determining a first candidate resource set based on the first resource set and a second resource selection window includes:</p><p id="p-0046" num="0045">in a case that all or part of resources of the first resource set are included in the second resource selection window, determining second resources and obtaining the first candidate resource set, based on at least one of the following information, where the first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the second resources:</p><p id="p-0047" num="0046">an adjustment value of a first reference signal received power threshold;</p><p id="p-0048" num="0047">an adjustment value of a step value of the first reference signal received power threshold;</p><p id="p-0049" num="0048">an adjustment value of a first reference signal received power;</p><p id="p-0050" num="0049">the first reference signal received power threshold;</p><p id="p-0051" num="0050">a step value of the first reference signal received power threshold; and</p><p id="p-0052" num="0051">the first reference signal received power.</p><p id="p-0053" num="0052">Herein, for the first candidate resource set, the first reference signal received power is obtained through RSRP estimation on candidate resources located in the second resource selection window, and the first reference signal received power threshold is a threshold used for comparison during exclusion of candidate resources. The step value of the first reference signal received power threshold is a step value used when the candidate resources of the first candidate resource set do not satisfy the third preset percentage. In this way, during determining of the second resources, at least one of the adjustment value of the first reference signal reception power threshold, the adjustment value of the first reference signal reception power, and the adjustment value of the step value of the first reference signal reception power threshold may be correspondingly adjusted to determine the second resource, so that the resulting first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the second resources. Certainly, during determining of the second resources, the first reference signal received power threshold, the step value of the first reference signal received power threshold, and the first reference signal received power may alternatively be not adjusted.</p><p id="p-0054" num="0053">In a scenario where the resources of the first resource set are preferentially selected, the second resource may be determined in at least one of the following manners, to obtain the first candidate resource set that includes remaining candidate resources in the second resource selection window exclusive of the second resources: decreasing, by using the adjustment value of the first reference signal received power, a first reference signal received power of candidate resources overlapping the first resource set in the second resource selection window, that is, a value of the first reference signal received power minus the adjustment value of the first reference signal received power; increasing, by using the adjustment value of the first reference signal received power threshold, a first reference signal received power threshold of candidate resources overlapping the first resource set in the second resource selection window, that is, the first reference signal received power threshold plus the adjustment value of the first reference signal received power threshold; and increasing, by using the adjustment value of the step value of the first reference signal received power threshold, a step value of a first reference signal received power threshold of candidate resources overlapping the first resource set in the second resource selection window, that is, the step value of the first reference signal received power threshold plus the adjustment value of the step value of the first reference signal received power threshold. The overlapping with the first resource set includes that all or part of resources of the candidate resources are located in the first resource set.</p><p id="p-0055" num="0054">In one embodiment, the candidate resource set is determined by performing RSRP estimation on the candidate resources located in the resource selection window, and then excluding candidate resources whose estimated RSRP is greater than the RSRP threshold from the candidate resource set. Candidate resources in the candidate resource set need to be not less than a third preset percentage (for example, 20%) of all candidate resources in the resource selection window. If less than the third preset percentage, the RSRP threshold needs to be increased based on a step value, and exclusion is further performed on the candidate resources until candidate resources being no less than the third preset percentage are selected for the candidate resource set. The estimated RSRP is the value of the first reference signal received power, or the value of the first reference signal received power minus the adjustment value of the first reference signal received power. The RSRP threshold is the first reference signal received power threshold, or the first reference signal received power threshold plus the adjustment value of the first reference signal received power threshold. The step value of the RSRP threshold is the step value of the first reference signal received power, or the step value of the first reference signal received power plus the adjustment value of the step value of the first reference signal received power threshold. The excluded candidate resources are collectively referred to as the second resources.</p><p id="p-0056" num="0055">In this way, using determining of the second resources based on the adjustment value of the first reference signal received power as an example, for the candidate resources overlapping the first resource set in the second resource selection window, the estimated RSRP is the first reference signal received power minus the adjustment value of the first reference signal received power value. The estimated RSRP is compared with the first reference signal received power threshold, to determine the candidate resource whose estimated RSRP is greater than the first reference signal received power threshold as the second resource. Certainly, if the resources of the first candidate resource set need to be not less than the third preset percentage of the resources in the second resource selection window, the first reference signal received power threshold needs to be increased based on the step value of the first reference signal received power threshold, and exclusion is further performed on the candidate resources until candidate resources being no less than the third preset percentage are selected for the candidate resource set.</p><p id="p-0057" num="0056">In a scenario where the resources outside the first resource set are preferentially selected, the second resource may be determined in at least one of the following manners, to obtain the first candidate resource set that includes remaining candidate resources in the second resource selection window exclusive of the second resources: increasing, by using the adjustment value of the first reference signal received power, a first reference signal received power of candidate resources overlapping the first resource set, that is, a value of the first reference signal received power plus the adjustment value of the first reference signal received power; decreasing, by using the adjustment value of the first reference signal received power threshold, a first reference signal received power threshold of candidate resources overlapping the first resource set, that is, the first reference signal received power threshold minus the adjustment value of the first reference signal received power threshold; and decreasing, by using the adjustment value of the step value of the first reference signal received power threshold, a step value of a first reference signal received power threshold of candidate resources overlapping the first resource set, that is, the step value of the first reference signal received power threshold minus the adjustment value of the step value of the first reference signal received power threshold. The overlapping the first resource set includes that all or part of resources of the candidate resources are located in the first resource set.</p><p id="p-0058" num="0057">In one embodiment, the first candidate resource set is determined by performing RSRP estimation on the candidate resources located in the resource selection window, and then excluding candidate resources whose estimated RSRP is greater than the RSRP threshold from the candidate resource set. Candidate resources in the candidate resource set need to be not less than a third preset percentage (for example, 20%) of resources in the resource selection window. If less than the third preset percentage, the RSRP threshold needs to be increased based on a step value, and exclusion is further performed on the candidate resources until candidate resources being no less than the third preset percentage are selected for the candidate resource set. The estimated RSRP is the value of the first reference signal received power, or the value of the first reference signal received power plus the adjustment value of the first reference signal received power. The RSRP threshold is the first reference signal received power threshold, or the first reference signal received power threshold minus the adjustment value of the first reference signal received power threshold. The step value of the RSRP threshold is the step value of the first reference signal received power, or the step value of the first reference signal received power minus the adjustment value of the step value of the first reference signal received power threshold. The excluded candidate resources are collectively referred to as the second resources.</p><p id="p-0059" num="0058">In this way, using determining of the second resources based on the adjustment value of the first reference signal received power as an example, for the candidate resources overlapping the first resource set in the second resource selection window, the estimated RSRP is the first reference signal received power plus the adjustment value of the first reference signal received power value. The estimated RSRP is compared with the first reference signal received power threshold, to determine the candidate resource whose estimated RSRP is greater than the first reference signal received power threshold as the second resource. Certainly, if the resources of the first candidate resource set need to be not less than the third preset percentage of the resources in the second resource selection window, the first reference signal received power threshold needs to be increased based on the step value of the first reference signal received power threshold, and exclusion is further performed on the candidate resources until candidate resources being no less than the third preset percentage are selected for the candidate resource set.</p><p id="p-0060" num="0059">The adjustment value of the first reference signal received power threshold, the adjustment value of the step value of the first reference signal received power threshold, and the adjustment value of the first reference signal received power may be defined by a protocol, configured, or preconfigured.</p><p id="p-0061" num="0060">In addition, in this embodiment, optionally, in step <b>101</b>, the determining a first candidate resource set based on the first resource set and a second resource selection window includes:</p><p id="p-0062" num="0061">in a case that all or part of resources of the first resource set are included in the second resource selection window, determining a third resource and obtaining the first candidate resource set, where the first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the third resources; and</p><p id="p-0063" num="0062">the third resources are resources in the second resource selection window that do not overlap the first resource set.</p><p id="p-0064" num="0063">In this case, the first candidate resource set is also applicable to a scenario of preferentially selecting resources of the first resource set.</p><p id="p-0065" num="0064">Furthermore, in this embodiment, optionally, in step <b>101</b>, the determining a first candidate resource set based on the first resource set and a second resource selection window includes:</p><p id="p-0066" num="0065">in a case that all or part of resources of the first resource set are included in the second resource selection window, determining fourth resources and obtaining the first candidate resource set, based on at least one of the following information, where the first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the fourth resources and fifth resources:</p><p id="p-0067" num="0066">a second reference signal received power threshold;</p><p id="p-0068" num="0067">a step value of the second reference signal received power threshold; and</p><p id="p-0069" num="0068">a second reference signal received power; where</p><p id="p-0070" num="0069">the fifth resources are resources in the second resource selection window that do not overlap the first resource set.</p><p id="p-0071" num="0070">Herein, for the first candidate resource set, the second reference signal received power is obtained through RSRP estimation on candidate resources located in the second resource selection window, and the second reference signal received power threshold is a threshold used for comparison during exclusion of candidate resources. The step value of the second reference signal received power threshold is a step value used when the candidate resources of the first candidate resource set do not satisfy the third preset percentage.</p><p id="p-0072" num="0071">In this case, the first candidate resource set is also applicable to a scenario of preferentially selecting resources of the first resource set.</p><p id="p-0073" num="0072">In one embodiment, the first candidate resource set is determined by performing RSRP estimation on the candidate resources in the resource selection window exclusive of the fifth resources, and then excluding candidate resources whose estimated RSRP is greater than the RSRP threshold from the candidate resource set. Candidate resources in the candidate resource set need to be not less than a third preset percentage (for example, 20%) of resources in the resource selection window. If less than the third preset percentage, the RSRP threshold needs to be increased based on a step value, and exclusion is further performed on the candidate resources until candidate resources being no less than the third preset percentage are selected for the candidate resource set. The estimated RSRP is the second reference signal received power value, the RSRP threshold is the second reference signal received power threshold, the step value of the RSRP threshold is the step value of the second reference signal received power, and excluded candidate resources are collectively referred to as the fourth resources.</p><p id="p-0074" num="0073">Moreover, for the first candidate resource set including remaining candidate resources in the second resource selection window exclusive of the fourth resources and the fifth resources, optionally, the first resources in the first candidate resource set account for no less than a first percentage.</p><p id="p-0075" num="0074">the proportion of the first resources is a proportion of candidate resources in the first candidate resource set in candidate resources in the second resource selection window, or a proportion of candidate resources in the first candidate resource set in candidate resources in an overlapping portion between the second resource selection window and the first candidate resource set.</p><p id="p-0076" num="0075">In addition, in this embodiment, optionally, in step <b>101</b>, the determining a first candidate resource set based on the first resource set and a second resource selection window includes:</p><p id="p-0077" num="0076">in a case that all or part of resources of the first resource set are included in the second resource selection window, determining sixth resources and obtaining the first candidate resource set, where the first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the sixth resources; and</p><p id="p-0078" num="0077">the sixth resources are resources in the second resource selection window that overlap the first resource set.</p><p id="p-0079" num="0078">In this case, the first candidate resource set is applicable to a scenario of preferentially selecting resources outside the first resource set.</p><p id="p-0080" num="0079">In this embodiment, optionally, in step <b>101</b>, the determining a first candidate resource set based on the first resource set and a second resource selection window includes:</p><p id="p-0081" num="0080">in a case that all or part of resources of the first resource set are included in the second resource selection window, determining seventh resources and obtaining the first candidate resource set, based on at least one of the following information, where the first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the seventh resources and eighth resources:</p><p id="p-0082" num="0081">a third reference signal received power threshold;</p><p id="p-0083" num="0082">a step value of the third reference signal received power threshold; and</p><p id="p-0084" num="0083">a third reference signal received power; where</p><p id="p-0085" num="0084">the eighth resources are resources in the second resource selection window that overlap the first resource set.</p><p id="p-0086" num="0085">Herein, for the first candidate resource set, the third reference signal received power is obtained through RSRP estimation on candidate resources located in the second resource selection window, and the third reference signal received power threshold is a threshold used for comparison during exclusion of candidate resources. The step value of the third reference signal received power threshold is a step value used when the candidate resources of the first candidate resource set do not satisfy the third preset percentage.</p><p id="p-0087" num="0086">In this case, the first candidate resource set is also applicable to a scenario of preferentially selecting resources outside the first resource set.</p><p id="p-0088" num="0087">In one embodiment, the first candidate resource set is determined by performing RSRP estimation on the candidate resources in the resource selection window exclusive of the eighth resources, and then excluding candidate resources whose estimated RSRP is greater than the RSRP threshold from the candidate resource set. Candidate resources in the candidate resource set need to be not less than a third preset percentage (for example, <b>20</b>%) of resources in the resource selection window. If less than the third preset percentage, the RSRP threshold needs to be increased based on a step value, and exclusion is further performed on the candidate resources until candidate resources being no less than the third preset percentage are selected for the candidate resource set. The estimated RSRP is the third reference signal received power value, the RSRP threshold is the third reference signal received power threshold, the step value of the RSRP threshold is the step value of the third reference signal received power, and excluded candidate resources are collectively referred to as the seventh resources.</p><p id="p-0089" num="0088">Moreover, for the first candidate resource set including remaining candidate resources in the second resource selection window exclusive of the seventh resources and the eighth resources, optionally, the second resources in the first candidate resource set account for no less than a second percentage.</p><p id="p-0090" num="0089">the proportion of the second resources are a proportion of candidate resources in the first candidate resource set in candidate resources in the second resource selection window, or a proportion of candidate resources in the first candidate resource set in candidate resources in a non-overlapping portion between the second resource selection window and the first candidate resource set.</p><p id="p-0091" num="0090">In this embodiment, optionally, in step <b>101</b>, the selecting target resources based on the first resource set and a second candidate resource set includes:</p><p id="p-0092" num="0091">if the second candidate resource set includes candidate resources in the first resource set and candidate resources outside the first resource set, selecting the target resources from the second candidate resource set, where a probability of the candidate resources in the first resource set being selected as the target resources and/or a probability of the candidate resources outside the first resource set being selected as the target resources is a first value; or a preset condition is satisfied between the probability of the candidate resources in the first resource set being selected as the target resources and the probability of the candidate resources outside the first resource set being selected as the target resources.</p><p id="p-0093" num="0092">Herein, the candidate resources in the first resource set indicate that all the resources of the candidate resources belong to the first resource set and/or part of the resources of the candidate resources belong to the first resource set; and candidate resources outside the first resource set are candidate resources other than the candidate resources in the first resource set.</p><p id="p-0094" num="0093">The first value may be defined by the protocol, preconfigured, or configured by the control node, that is, the candidate resources in the first resource set are selected as a value of the probability of the target resource, and/or, the candidate resources outside the first resource set are selected as a value of the probability of the target resource. Certainly, a specific value of the probability may alternatively not be configured; instead, the two probabilities are configured to satisfy a preset condition. For example, a ratio of or a difference between the probability of the candidate resources in the first resource set being selected as the target resources and the probability of the candidate resources outside the first resource set being selected as the target resources may be defined by the protocol, preconfigured, or configured by the control node; or the probability of the candidate resources in the first resource set being selected as the target resources is n times the probability of the candidate resources outside the first resource set being selected as the target resource, where n is a positive number.</p><p id="p-0095" num="0094">Preferably, in a scenario where the resources of the first resource set are preferentially selected, the probability of the candidate resources in the first resource set being selected as the target resources is greater than the probability of the candidate resources outside the first resource set being selected as the target resource; in a scenario where the resources outside the first resource set are preferentially selected, the probability of the candidate resources in the first resource set being selected as the target resources is less than the probability of the candidate resources outside the first resource set being selected as the target resources. Certainly, if the probability of the candidate resources in the first resource set being selected as the target resources is <b>1</b>, the target resource is selected from the candidate resources in the first resource set; if the probability of the candidate resources outside the first resource set being selected as the target resources is <b>1</b>, the target resource is selected from the candidate resources outside the first resource set.</p><p id="p-0096" num="0095">Moreover, in this embodiment, in a scenario where the resources of the first resource set are preferentially selected, a first proportion threshold may be further configured. When a proportion of the candidate resources in the first resource set in the candidate resources of the second candidate resource set is greater than the first proportion threshold, the target resource is selected from the candidate resources in the first resource set. In a scenario where the resources outside the first resource set are preferentially selected, a second proportion threshold may be further configured. When a proportion of the candidate resources outside the first resource set in the candidate resources of the second candidate resource set is greater than the second proportion threshold, the target resource is selected from the candidate resources outside the first resource set.</p><p id="p-0097" num="0096">In this embodiment, considering a transmission requirement, optionally, the method further includes:</p><p id="p-0098" num="0097">in a case that a current data transmission is of a preset communication type, obtaining the first resource set and/or performing the step <b>101</b>.</p><p id="p-0099" num="0098">In this way, only in the scenario where the current data transmission is the preset communication type, the first resource set is obtained, and/or the step <b>101</b> is performed to select the target resource based on the first resource set, so as to implement more reliable transmission.</p><p id="p-0100" num="0099">The preset communication type includes one or more of unicast, groupcast, and broadcast communication. In one embodiment, the preset communication type may alternatively be transmission specific to a link, a UE group, or a destination device identifier destination ID (for example, UE with a destination ID indicates the first resource set to TX UE).</p><p id="p-0101" num="0100">The preset communication type may be defined by the protocol, configured by the control node, or preconfigured.</p><p id="p-0102" num="0101">To sum up, according to the method in this embodiment of the present invention, during resource selection, selection of the target resources may be implemented by performing at least one of determining the first resource selection window based on the first resource set, determining the first candidate resource set based on the first resource set and the second resource selection window, and selecting the target resources based on the first resource set and the second candidate resource set. In this way, with the target resource selected by the user equipment based on the first resource set, more reliable transmission can be ensured.</p><p id="p-0103" num="0102"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram of user equipment according to an embodiment of the present invention. The user equipment <b>200</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> includes a first processing module <b>210</b>.</p><p id="p-0104" num="0103">The first processing module <b>210</b> is configured to perform at least one of the following steps:</p><p id="p-0105" num="0104">determining a first resource selection window based on a first resource set;</p><p id="p-0106" num="0105">determining a first candidate resource set based on the first resource set and a second resource selection window; and</p><p id="p-0107" num="0106">selecting target resources based on the first resource set and a second candidate resource set.</p><p id="p-0108" num="0107">Optionally, the first processing module is further configured to:</p><p id="p-0109" num="0108">if all or part of resources of the first resource set are included in a variable range of the first resource selection window, select the first resource selection window in at least one of the following manners:</p><p id="p-0110" num="0109">the first resource selection window including at least first resources or part of the first resources;</p><p id="p-0111" num="0110">the first resource selection window including only the first resources or only part of the first resources; and</p><p id="p-0112" num="0111">the first resource selection window not including the first resources; where</p><p id="p-0113" num="0112">the first resources are all resources of an overlapping portion between the variable range of the first resource selection window and a packet delay budget of transport block transmission.</p><p id="p-0114" num="0113">Optionally, the first processing module is further configured to:</p><p id="p-0115" num="0114">if none of the resources of the first resource set are included in the variable range of the first resource selection window, drop current transport block transmission; or autonomously select a resource selection window within the variable range of the first resource selection window.</p><p id="p-0116" num="0115">Optionally, the first processing module is further configured to:</p><p id="p-0117" num="0116">in a case that all or part of resources of the first resource set are included in the second resource selection window, determine second resources and obtain the first candidate resource set, based on at least one of the following information, where the first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the second resources:</p><p id="p-0118" num="0117">an adjustment value of a first reference signal received power threshold;</p><p id="p-0119" num="0118">an adjustment value of a step value of the first reference signal received power threshold;</p><p id="p-0120" num="0119">an adjustment value of a first reference signal received power;</p><p id="p-0121" num="0120">the first reference signal received power threshold;</p><p id="p-0122" num="0121">a step value of the first reference signal received power threshold; and</p><p id="p-0123" num="0122">the first reference signal received power.</p><p id="p-0124" num="0123">Optionally, the first processing module is further configured to:</p><p id="p-0125" num="0124">in a case that all or part of resources of the first resource set are included in the second resource selection window, determine a third resource and obtain the first candidate resource set, where the first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the third resources; and</p><p id="p-0126" num="0125">the third resources are resources in the second resource selection window that do not overlap the first resource set.</p><p id="p-0127" num="0126">Optionally, the first processing module is further configured to:</p><p id="p-0128" num="0127">in a case that all or part of resources of the first resource set are included in the second resource selection window, determine fourth resources and obtain the first candidate resource set, based on at least one of the following information, where the first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the fourth resources and fifth resources:</p><p id="p-0129" num="0128">a second reference signal received power threshold;</p><p id="p-0130" num="0129">a step value of the second reference signal received power threshold; and</p><p id="p-0131" num="0130">a second reference signal received power; where</p><p id="p-0132" num="0131">the fifth resources are resources in the second resource selection window that do not overlap the first resource set.</p><p id="p-0133" num="0132">Optionally, a proportion of first resources in the first candidate resource set is not less than a first percentage; and</p><p id="p-0134" num="0133">the proportion of the first resources is a proportion of candidate resources in the first candidate resource set in candidate resources in the second resource selection window, or a proportion of candidate resources in the first candidate resource set in candidate resources in an overlapping portion between the second resource selection window and the first candidate resource set.</p><p id="p-0135" num="0134">Optionally, the first processing module is further configured to:</p><p id="p-0136" num="0135">in a case that all or part of resources of the first resource set are included in the second resource selection window, determine sixth resources and obtain the first candidate resource set, where the first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the sixth resources; and</p><p id="p-0137" num="0136">the sixth resources are resources in the second resource selection window that overlap the first resource set.</p><p id="p-0138" num="0137">Optionally, the first processing module is further configured to:</p><p id="p-0139" num="0138">in a case that all or part of resources of the first resource set are included in the second resource selection window, determine seventh resources and obtain the first candidate resource set, based on at least one of the following information, where the first candidate resource set includes remaining candidate resources in the second resource selection window exclusive of the seventh resources and eighth resources:</p><p id="p-0140" num="0139">a third reference signal received power threshold;</p><p id="p-0141" num="0140">a step value of the third reference signal received power threshold; and</p><p id="p-0142" num="0141">a third reference signal received power; where</p><p id="p-0143" num="0142">the eighth resources are resources in the second resource selection window that overlap the first resource set.</p><p id="p-0144" num="0143">Optionally, a proportion of a second resource in the first candidate resource set is not less than a second percentage; and</p><p id="p-0145" num="0144">the proportion of the second resources are a proportion of candidate resources in the first candidate resource set in candidate resources in the second resource selection window, or a proportion of candidate resources in the first candidate resource set in candidate resources in a non-overlapping portion between the second resource selection window and the first candidate resource set.</p><p id="p-0146" num="0145">Optionally, the first processing module is further configured to:</p><p id="p-0147" num="0146">if the second candidate resource set includes candidate resources in the first resource set and candidate resources outside the first resource set, select the target resources from the second candidate resource set, where a probability of the candidate resources in the first resource set being selected as the target resources and/or a probability of the candidate resources outside the first resource set being selected as the target resources is a first value; or a preset condition is satisfied between the probability of the candidate resources in the first resource set being selected as the target resources and the probability of the candidate resources outside the first resource set being selected as the target resources.</p><p id="p-0148" num="0147">The user equipment further includes:</p><p id="p-0149" num="0148">a second processing module, configured to: in a case that a current data transmission is of a preset communication type, obtain the first resource set.</p><p id="p-0150" num="0149">The user equipment <b>200</b> is capable of implementing the processes implemented by the user equipment in the foregoing method embodiments in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. To avoid repetition, details are not described herein again. During resource selection, the user equipment in this embodiment of the present invention may implement selection of the target resources by performing at least one of determining the first resource selection window based on the first resource set, determining the first candidate resource set based on the first resource set and the second resource selection window, and selecting the target resources based on the first resource set and the second candidate resource set. In this way, with the target resource selected by the user equipment based on the first resource set, more reliable transmission can be ensured.</p><p id="p-0151" num="0150"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic structural diagram of hardware of user equipment for implementing the embodiments of the present invention. The user equipment <b>300</b> includes but is not limited to components such as a radio frequency unit <b>301</b>, a network module <b>302</b>, an audio output unit <b>303</b>, an input unit <b>304</b>, a sensor <b>305</b>, a display unit <b>306</b>, a user input unit <b>307</b>, an interface unit <b>308</b>, a memory <b>309</b>, a processor <b>310</b>, and a power supply <b>311</b>. A person skilled in the art understands that the user equipment structure shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref> does not constitute any limitation on the user equipment. The user equipment may include more or fewer components than those shown in the figure, or some components may be combined, or the components may be disposed in different manners. In this embodiment of the present invention, the user equipment includes but is not limited to a mobile phone, a tablet computer, a laptop computer, a palmtop computer, an in-vehicle terminal, a wearable device, a pedometer, and the like.</p><p id="p-0152" num="0151">The processor <b>310</b> is configured to perform at least one of the following steps:</p><p id="p-0153" num="0152">determining a first resource selection window based on a first resource set; determining a first candidate resource set based on the first resource set and a second resource selection window; and</p><p id="p-0154" num="0153">selecting target resources based on the first resource set and a second candidate resource set.</p><p id="p-0155" num="0154">It can be learned that during resource selection, the user equipment may implement selection of the target resources by performing at least one of determining the first resource selection window based on the first resource set, determining the first candidate resource set based on the first resource set and the second resource selection window, and selecting the target resources based on the first resource set and the second candidate resource set. In this way, with the target resource selected by the user equipment based on the first resource set, more reliable transmission can be ensured.</p><p id="p-0156" num="0155">It should be understood that in this embodiment of the present invention, the radio frequency unit <b>301</b> may be configured to: receive and transmit signals in an information receiving/sending process or a call process; and in one embodiment, after receiving downlink data from a base station, transmit the downlink information to the processor <b>310</b> for processing, and in addition, transmit uplink data to the base station. Generally, the radio frequency unit <b>301</b> includes but is not limited to an antenna, at least one amplifier, a transceiver, a coupler, a low noise amplifier, a duplexer, and the like. In addition, the radio frequency unit <b>301</b> may also communicate with a network and other devices via a wireless communications system.</p><p id="p-0157" num="0156">The user equipment provides a user with wireless broadband internet access through the network module <b>302</b>, for example, helping the user to transmit and receive e-mails, browse web pages, and access streaming media.</p><p id="p-0158" num="0157">The audio output unit <b>303</b> may convert audio data received by the radio frequency unit <b>301</b> or the network module <b>302</b> or stored in the memory <b>309</b> into an audio signal and output the audio signal as a sound. Furthermore, the audio output unit <b>303</b> may also provide audio output (for example, a call signal received sound or a message received sound) related to a specific function performed by the user equipment <b>300</b>. The audio output unit <b>303</b> includes a speaker, a buzzer, a receiver, and the like.</p><p id="p-0159" num="0158">The input unit <b>304</b> is configured to receive an audio or video signal. The input unit <b>304</b> may include a graphics processing unit (GPU) <b>3041</b> and a microphone <b>3042</b>. The graphics processing unit <b>3041</b> processes image data of a still picture or a video obtained by an image capture apparatus (for example, a camera) in an image capture mode or a video capture mode. A processed image frame may be displayed on the display unit <b>306</b>. The image frame processed by the graphics processing unit <b>3041</b> may be stored in the memory <b>309</b> (or another storage medium) or be transmitted by the radio frequency unit <b>301</b> or the network module <b>302</b>. The microphone <b>3042</b> is capable of receiving sounds and processing such sounds into audio data. The processed audio data may be converted in a telephone call mode into a format that can be transmitted by the radio frequency unit <b>301</b> to a mobile communications base station, for outputting.</p><p id="p-0160" num="0159">The user equipment <b>300</b> may further include at least one sensor <b>305</b>, for example, an optical sensor, a motion sensor, and other sensors. In one embodiment, the optical sensor may include an ambient light sensor and a proximity sensor. The ambient light sensor may adjust luminance of the display panel <b>3061</b> based on brightness of ambient light, and the proximity sensor may turn off the display panel <b>3061</b> and/or backlight when the user equipment <b>300</b> moves close to an ear. As a type of motion sensor, an accelerometer sensor can detect magnitudes of accelerations in all directions (usually three axes), can detect a magnitude and a direction of gravity when the mobile phone is in a static state, and can be applied to posture recognition (such as screen switching between portrait and landscape, related games, and magnetometer posture calibration) of the user equipment, functions related to vibration recognition (such as pedometer and tapping), and the like. The sensor <b>305</b> may also include a fingerprint sensor, a pressure sensor, an iris sensor, a molecular sensor, a gyroscope, a barometer, a hygrometer, a thermometer, an infrared sensor, and the like. Details are not described herein.</p><p id="p-0161" num="0160">The display unit <b>306</b> is configured to display information input by the user or information provided to the user. The display unit <b>306</b> may include a display panel <b>3061</b>, and the display panel <b>3061</b> may be configured in a form of a liquid crystal display (LCD), an organic light-emitting diode (OLED), or the like.</p><p id="p-0162" num="0161">The user input unit <b>307</b> may be configured to receive input digit or character information and generate key signal input related to user setting and function control of the user equipment. In one embodiment, the user input unit <b>307</b> may include a touch panel <b>3071</b> and other input devices <b>3072</b>. The touch panel <b>3071</b> is also referred to as a touchscreen and can collect a touch operation (such as an operation performed by the user on the touch panel <b>3071</b> or near the touch panel <b>3071</b> with a finger or by using any proper object or accessory such as a stylus) of the user on or near the touch panel <b>3071</b>. The touch panel <b>3071</b> may include two parts: a touch detection apparatus and a touch controller. The touch detection apparatus detects a touch azimuth of a user, detects a signal brought by a touch operation, and transmits the signal to the touch controller. The touch controller receives touch information from the touch detection apparatus, converts the touch information into touchpoint coordinates, and transmits the touchpoint coordinates to the processor <b>310</b>, and can receive a command transmitted by the processor <b>310</b> and execute the command. In addition, the touch panel <b>3071</b> may be implemented in a plurality of forms, for example, as a resistive, capacitive, infrared, or surface acoustic wave touch panel. The user input unit <b>307</b> may further include the other input devices <b>3072</b> in addition to the touch panel <b>3071</b>. In one embodiment, the other input devices <b>3072</b> may include but are not limited to a physical keyboard, a function key (such as a volume control key or an on/off key), a trackball, a mouse, and a joystick. Details are not described herein.</p><p id="p-0163" num="0162">Further, the touch panel <b>3071</b> may cover the display panel <b>3061</b>. When detecting a touch operation on or near the touch panel <b>3071</b>, the touch panel <b>3071</b> transmits the touch operation to the processor <b>310</b> to determine a type of a touch event. Then, the processor <b>310</b> provides a corresponding visual output on the display panel <b>3061</b> based on the type of the touch event. Although in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the touch panel <b>3071</b> and the display panel <b>3061</b> act as two independent parts to implement input and output functions of the user equipment, in some embodiments, the touch panel <b>3071</b> and the display panel <b>3061</b> may be integrated to implement the input and output functions of the user equipment. This is not specifically limited herein.</p><p id="p-0164" num="0163">The interface unit <b>308</b> is an interface between an external apparatus and the user equipment <b>300</b>. For example, the external apparatus may include a wired or wireless headphone port, an external power (or battery charger) port, a wired or wireless data port, a memory card port, a port for connecting an apparatus provided with a recognition module, an audio input/output (I/O) port, a video I/O port, an earphone port, and the like. The interface unit <b>308</b> may be configured to receive an input (for example, data information or power) from an external apparatus and transmit the received input to one or more elements within the user equipment <b>300</b>, or may be configured to transmit data between the user equipment <b>300</b> and the external apparatus.</p><p id="p-0165" num="0164">The memory <b>309</b> may be configured to store software programs and various data. The memory <b>309</b> may mainly include a program storage area and a data storage area. The program storage area may store an operating system, and an application program required by at least one function (for example, a sound playback function or an image playback function). The data storage area may store data (for example, audio data or a phone book) created according to use of the mobile phone. In addition, the memory <b>309</b> may include a high-speed random access memory, and may further include a non-volatile memory such as at least one disk storage device, a flash memory device, or another volatile solid-state storage device.</p><p id="p-0166" num="0165">The processor <b>310</b> is a control center of the user equipment, uses various interfaces and lines to connect parts of the entire user equipment, and executes various functions and processing data of the user equipment by running or executing software programs and/or modules stored in the memory <b>309</b> and invoking data stored in the memory <b>309</b>, so as to perform overall monitoring on the user equipment. The processor <b>310</b> may include one or more processing units. Preferably, the processor <b>310</b> may integrate an application processor and a modem processor. The application processor mainly processes the operating system, a user interface, an application program, and the like. The modem processor mainly processes wireless communication. It can be understood that the modem processor may alternatively be not integrated in the processor <b>310</b>.</p><p id="p-0167" num="0166">The user equipment <b>300</b> may further include a power supply <b>311</b> (such as a battery) that supplies power to components. Preferably, the power supply <b>311</b> may be logically connected to the processor <b>310</b> through a power management system. In this way, functions such as charge management, discharge management, and power consumption management are implemented by using the power management system.</p><p id="p-0168" num="0167">In addition, the user equipment <b>300</b> includes some functional modules that are not shown. Details are not described herein.</p><p id="p-0169" num="0168">Preferably, an embodiment of the present invention further provides a mobile terminal, including a processor, a memory, and a computer program stored in the memory and capable of running on the processor. When the computer program is executed by the processor, the processes of the embodiment of the foregoing resource selection method can be implemented, with same technical effects achieved. To avoid repetition, details are not described herein again.</p><p id="p-0170" num="0169">An embodiment of the present invention further provides a computer-readable storage medium, where a computer program is stored in the computer-readable storage medium. When the computer program is executed by a processor, the processes of the embodiment of the foregoing resource selection method can be implemented, with same technical effects achieved. To avoid repetition, details are not described herein again. The computer-readable storage medium is, for example, a read-only memory (ROM), a random access memory (RAM), a magnetic disk, or an optical disc.</p><p id="p-0171" num="0170">It should be noted that the terms &#x201c;include&#x201d;, &#x201c;comprise&#x201d;, or any of their variants are intended to cover a non-exclusive inclusion, such that a process, a method, an article, or an apparatus that includes a list of elements not only includes those elements but also includes other elements that are not expressly listed, or further includes elements inherent to such process, method, article, or apparatus. In absence of more constraints, an element preceded by &#x201c;includes a . . . &#x201d; does not preclude the existence of other identical elements in the process, method, article, or apparatus that includes the element.</p><p id="p-0172" num="0171">A person of ordinary skill in the art may be aware that the units and algorithm steps in the examples described with reference to the embodiments disclosed in this specification can be implemented by electronic hardware or a combination of computer software and electronic hardware. Whether the functions are performed by hardware or software depends on particular applications and design constraints of the technical solutions. A person skilled in the art may use different methods to implement the described functions for each particular application, but it should not be considered that the implementation goes beyond the scope of this disclosure.</p><p id="p-0173" num="0172">It may be clearly understood by a person skilled in the art that, for the purpose of convenient and brief description, for a detailed working process of the foregoing system, apparatus, and unit, reference may be made to a corresponding process in the foregoing method embodiments, and details are not described again herein.</p><p id="p-0174" num="0173">In the embodiments provided in this application, it should be understood that the disclosed apparatus and method may be implemented in other manners. For example, the described apparatus embodiment is merely an example. For example, the unit division is merely logical function division and may be other division in actual implementation. For example, a plurality of units or components may be combined or integrated into another system, or some features may be ignored or may not be performed. In addition, the displayed or discussed mutual couplings or direct couplings or communication connections may be implemented by using some interfaces. The indirect couplings or communication connections between the apparatuses or units may be implemented in electronic, mechanical, or other forms.</p><p id="p-0175" num="0174">The units described as separate parts may or may not be physically separate, and parts displayed as units may or may not be physical units, may be located in one position, or may be distributed on a plurality of network elements. Some or all of the units may be selected based on actual requirements to achieve the objectives of the solutions of the embodiments.</p><p id="p-0176" num="0175">In addition, functional units in the embodiments of this disclosure may be integrated into one processing unit, or each of the units may exist alone physically, or two or more units are integrated into one unit.</p><p id="p-0177" num="0176">According to the foregoing description of the implementations, a person skilled in the art may clearly understand that the methods in the foregoing embodiments may be implemented by using software in combination with a necessary common hardware platform, and certainly may alternatively be implemented by using hardware. However, in most cases, the former is a preferred implementation. Based on such an understanding, the technical solutions of the present invention essentially, or the part contributing to the related art, may be implemented in a form of a software product. The software product is stored in a storage medium (such as a ROM/RAM, a magnetic disk, or an optical disc), and includes several instructions for instructing a terminal (which may be a mobile phone, a computer, a server, an air conditioner, a network device, or the like) to perform the methods described in the embodiments of the present invention.</p><p id="p-0178" num="0177">A person of ordinary skill in the art may understand that all or some of the processes of the methods in the embodiments may be implemented by a computer program controlling relevant hardware. The program may be stored in a computer readable storage medium. When the program runs, the processes of the method embodiments may be included. The foregoing storage medium may be a magnetic disk, an optical disc, a read-only memory (ROM), a random access memory (RAM), or the like.</p><p id="p-0179" num="0178">It can be understood that the embodiments described in this disclosure may be implemented by hardware, software, firmware, middleware, microcode, or a combination thereof. For hardware implementation, a module, a unit, a sub-unit, a sub-module, and the like may be implemented in one or more application specific integrated circuits (ASIC), digital signal processors (DSP), digital signal processing devices (DSPD), programmable logic devices (PLD), field-programmable gate arrays (FPGA), general-purpose processors, controllers, microcontrollers, microprocessors, and other electronic units for performing the functions described in this disclosure, or a combination thereof.</p><p id="p-0180" num="0179">For software implementation, the techniques described in the embodiments of this disclosure may be implemented by modules (such as processes and functions) that perform the functions described in the embodiments of this disclosure. Software code may be stored in the memory and executed by the processor. The memory may be implemented in or outside the processor.</p><p id="p-0181" num="0180">Some embodiments of the present invention have been described with reference to the attached drawings; however, the present invention is not limited to the aforesaid embodiments, and these embodiments are merely illustrative but are not intended to limit the present invention. Persons of ordinary skill in the art may further derive many other implementations according to the teachings of the present invention and within the scope defined in the claims, and all of the implementations shall fall within the scope of the present invention.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A resource selection method, performed by user equipment and comprising at least one of the following steps:<claim-text>determining a first resource selection window based on a first resource set;</claim-text><claim-text>determining a first candidate resource set based on the first resource set and a second resource selection window; and</claim-text><claim-text>selecting target resources based on the first resource set and a second candidate resource set.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the determining a first resource selection window based on a first resource set comprises:<claim-text>if all or part of resources of the first resource set are comprised in a variable range of the first resource selection window, selecting the first resource selection window in at least one of the following manners:</claim-text><claim-text>the first resource selection window comprising at least first resources or part of the first resources;</claim-text><claim-text>the first resource selection window comprising only the first resources or only part of the first resources; and</claim-text><claim-text>the first resource selection window not comprising the first resources; wherein</claim-text><claim-text>the first resources are all resources of an overlapping portion between the variable range of the first resource selection window and a packet delay budget of transport block transmission.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the determining a first resource selection window based on a first resource set comprises:<claim-text>if none of the resources of the first resource set are comprised in the variable range of the first resource selection window, dropping current transport block transmission; or autonomously selecting a resource selection window within the variable range of the first resource selection window.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the determining a first candidate resource set based on the first resource set and a second resource selection window comprises:<claim-text>in a case that all or part of resources of the first resource set are comprised in the second resource selection window, determining second resources and obtaining the first candidate resource set, based on at least one of the following information, wherein the first candidate resource set comprises remaining candidate resources in the second resource selection window exclusive of the second resources:</claim-text><claim-text>an adjustment value of a first reference signal received power threshold;</claim-text><claim-text>an adjustment value of a step value of the first reference signal received power threshold;</claim-text><claim-text>an adjustment value of a first reference signal received power;</claim-text><claim-text>the first reference signal received power threshold;</claim-text><claim-text>a step value of the first reference signal received power threshold; and</claim-text><claim-text>the first reference signal received power.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the determining a first candidate resource set based on the first resource set and a second resource selection window comprises:<claim-text>in a case that all or part of resources of the first resource set are comprised in the second resource selection window, determining a third resource and obtaining the first candidate resource set, wherein the first candidate resource set comprises remaining candidate resources in the second resource selection window exclusive of the third resources; and</claim-text><claim-text>the third resources are resources in the second resource selection window that do not overlap the first resource set.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the determining a first candidate resource set based on the first resource set and a second resource selection window comprises:<claim-text>in a case that all or part of resources of the first resource set are comprised in the second resource selection window, determining fourth resources and obtaining the first candidate resource set, based on at least one of the following information, wherein the first candidate resource set comprises remaining candidate resources in the second resource selection window exclusive of the fourth resources and fifth resources:</claim-text><claim-text>a second reference signal received power threshold;</claim-text><claim-text>a step value of the second reference signal received power threshold; and</claim-text><claim-text>a second reference signal received power; wherein</claim-text><claim-text>the fifth resources are resources in the second resource selection window that do not overlap the first resource set.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein a proportion of first resources in the first candidate resource set is not less than a first percentage; and<claim-text>the proportion of the first resources is a proportion of candidate resources in the first candidate resource set in candidate resources in the second resource selection window, or a proportion of candidate resources in the first candidate resource set in candidate resources in an overlapping portion between the second resource selection window and the first candidate resource set.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the determining a first candidate resource set based on the first resource set and a second resource selection window comprises:<claim-text>in a case that all or part of resources of the first resource set are comprised in the second resource selection window, determining sixth resources and obtaining the first candidate resource set, wherein the first candidate resource set comprises remaining candidate resources in the second resource selection window exclusive of the sixth resources; and</claim-text><claim-text>the sixth resources are resources in the second resource selection window that overlap the first resource set.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the determining a first candidate resource set based on the first resource set and a second resource selection window comprises:<claim-text>in a case that all or part of resources of the first resource set are comprised in the second resource selection window, determining seventh resources and obtaining the first candidate resource set, based on at least one of the following information, wherein the first candidate resource set comprises remaining candidate resources in the second resource selection window exclusive of the seventh resources and eighth resources:</claim-text><claim-text>a third reference signal received power threshold;</claim-text><claim-text>a step value of the third reference signal received power threshold; and</claim-text><claim-text>a third reference signal received power; wherein</claim-text><claim-text>the eighth resources are resources in the second resource selection window that overlap the first resource set.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein<claim-text>a proportion of a second resource in the first candidate resource set is not less than a second percentage; and</claim-text><claim-text>the proportion of the second resources are a proportion of candidate resources in the first candidate resource set in candidate resources in the second resource selection window, or a proportion of candidate resources in the first candidate resource set in candidate resources in a non-overlapping portion between the second resource selection window and the first candidate resource set.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the selecting target resources based on the first resource set and a second candidate resource set comprises:<claim-text>if the second candidate resource set comprises candidate resources in the first resource set and candidate resources outside the first resource set, selecting the target resources from the second candidate resource set, wherein a probability of the candidate resources in the first resource set being selected as the target resources and/or a probability of the candidate resources outside the first resource set being selected as the target resources is a first value; or a preset condition is satisfied between the probability of the candidate resources in the first resource set being selected as the target resources and the probability of the candidate resources outside the first resource set being selected as the target resources.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>in a case that a current data transmission is of a preset communication type, obtaining the first resource set.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. User equipment, comprising a processor, a memory, and a computer program stored in the memory and capable of running on the processor, wherein the processor executes the computer program to perform:<claim-text>determining a first resource selection window based on a first resource set;</claim-text><claim-text>determining a first candidate resource set based on the first resource set and a second resource selection window; and</claim-text><claim-text>selecting target resources based on the first resource set and a second candidate resource set.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The user equipment according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the determining a first resource selection window based on a first resource set comprises:<claim-text>if all or part of resources of the first resource set are comprised in a variable range of the first resource selection window, selecting the first resource selection window in at least one of the following manners:</claim-text><claim-text>the first resource selection window comprising at least first resources or part of the first resources;</claim-text><claim-text>the first resource selection window comprising only the first resources or only part of the first resources; and</claim-text><claim-text>the first resource selection window not comprising the first resources; wherein</claim-text><claim-text>the first resources are all resources of an overlapping portion between the variable range of the first resource selection window and a packet delay budget of transport block transmission.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The user equipment according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the determining a first resource selection window based on a first resource set comprises:<claim-text>if none of the resources of the first resource set are comprised in the variable range of the first resource selection window, dropping current transport block transmission; or autonomously selecting a resource selection window within the variable range of the first resource selection window.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The user equipment according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the determining a first candidate resource set based on the first resource set and a second resource selection window comprises:<claim-text>in a case that all or part of resources of the first resource set are comprised in the second resource selection window, determining second resources and obtaining the first candidate resource set, based on at least one of the following information, wherein the first candidate resource set comprises remaining candidate resources in the second resource selection window exclusive of the second resources:</claim-text><claim-text>an adjustment value of a first reference signal received power threshold;</claim-text><claim-text>an adjustment value of a step value of the first reference signal received power threshold;</claim-text><claim-text>an adjustment value of a first reference signal received power;</claim-text><claim-text>the first reference signal received power threshold;</claim-text><claim-text>a step value of the first reference signal received power threshold; and</claim-text><claim-text>the first reference signal received power.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The user equipment according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the determining a first candidate resource set based on the first resource set and a second resource selection window comprises:<claim-text>in a case that all or part of resources of the first resource set are comprised in the second resource selection window, determining a third resource and obtaining the first candidate resource set, wherein the first candidate resource set comprises remaining candidate resources in the second resource selection window exclusive of the third resources; and</claim-text><claim-text>the third resources are resources in the second resource selection window that do not overlap the first resource set.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The user equipment according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the determining a first candidate resource set based on the first resource set and a second resource selection window comprises:<claim-text>in a case that all or part of resources of the first resource set are comprised in the second resource selection window, determining fourth resources and obtaining the first candidate resource set, based on at least one of the following information, wherein the first candidate resource set comprises remaining candidate resources in the second resource selection window exclusive of the fourth resources and fifth resources:</claim-text><claim-text>a second reference signal received power threshold;</claim-text><claim-text>a step value of the second reference signal received power threshold; and</claim-text><claim-text>a second reference signal received power; wherein</claim-text><claim-text>the fifth resources are resources in the second resource selection window that do not overlap the first resource set.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The user equipment according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein a proportion of first resources in the first candidate resource set is not less than a first percentage; and<claim-text>the proportion of the first resources is a proportion of candidate resources in the first candidate resource set in candidate resources in the second resource selection window, or a proportion of candidate resources in the first candidate resource set in candidate resources in an overlapping portion between the second resource selection window and the first candidate resource set.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. A non-transitory computer-readable storage medium, wherein the computer-readable storage medium stores a computer program, and the processor executes the computer program to perform:<claim-text>determining a first resource selection window based on a first resource set;</claim-text><claim-text>determining a first candidate resource set based on the first resource set and a second resource selection window; and</claim-text><claim-text>selecting target resources based on the first resource set and a second candidate resource set.</claim-text></claim-text></claim></claims></us-patent-application>