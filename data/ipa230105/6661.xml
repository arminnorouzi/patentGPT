<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006662A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006662</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17782103</doc-number><date>20201204</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>K</subclass><main-group>5</main-group><subgroup>1252</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>K</subclass><main-group>5</main-group><subgroup>1252</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc></classifications-cpc><invention-title id="d2e43">USE OF STABLE TUNABLE ACTIVE FEEDBACK ANALOG FILTERS IN FREQUENCY SYNTHESIS</invention-title><us-related-documents><us-provisional-application><document-id><country>US</country><doc-number>62944360</doc-number><date>20191205</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Anlotek Limited</orgname><address><city>London</city><country>GB</country></address></addressbook><residence><country>GB</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Nielsen</last-name><first-name>Jorgen Staal</first-name><address><city>Calgary</city><country>CA</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Anlotek Limited</orgname><role>03</role><address><city>London</city><country>GB</country></address></addressbook></assignee></assignees><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/IB2020/061547</doc-number><date>20201204</date></document-id><us-371c12-date><date>20220602</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method and apparatus for generating an RF signal uses digital signal components to generate a synthesized RF signal having a plurality of frequency components. An analog filter is used to filter the synthesized RF signal. The analog filter is a tunable, active feedback circuit having one or more variable resonators and a variable gain block connected in a signal loop that is defined by a passband. The analog filter is tuned such that the passband of the analog filter overlaps one or more desired frequency components of the plurality of frequency components of the synthesized RF signal, and such that the passband has a relative bandwidth of about 1% or less.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="76.37mm" wi="131.57mm" file="US20230006662A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="172.64mm" wi="114.47mm" orientation="landscape" file="US20230006662A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="116.33mm" wi="115.57mm" file="US20230006662A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="180.00mm" wi="160.95mm" file="US20230006662A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="155.70mm" wi="168.40mm" file="US20230006662A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="214.63mm" wi="126.15mm" file="US20230006662A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="220.98mm" wi="149.01mm" file="US20230006662A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="156.72mm" wi="142.83mm" file="US20230006662A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">FIELD</heading><p id="p-0002" num="0001">This relates to frequency synthesis for radio frequency (RF) applications, and in particular, to fast frequency switching applications such as frequency hopping communications.</p><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0003" num="0002">The need for arbitrary frequency in radio communications has led to the creation of numerous devices for frequency synthesis. While a number of frequency conversion techniques are currently available in the prior art, the rise of various frequency hopped communication systems has led to the prevalent use of Direct Digital Sequence (DDS).</p><p id="p-0004" num="0003">Conventional DDS is a technique for using digital data processing blocks as a means to generate both a frequency tunable and phase tunable output signal referenced to a fixed-frequency precision reference clock source. In essence, the reference clock frequency is &#x201c;divided down&#x201d; in a DDS architecture by the scaling factor set forth in a programmable binary tuning word stored within the Frequency Control Register (FCR). This &#x201c;dividing down&#x201d; generally limits the maximum synthesized frequency to the Nyquist frequency limit which is one-half of the reference oscillator clock frequency. A block diagram of a conventional DDS <b>10</b> is shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> and includes digital signal components, such as a frequency-controlled register (FCR) <b>12</b>, a numerically-controlled oscillator (NCO) <b>14</b>, a reference oscillator <b>16</b>, a digital-to-analog converter <b>18</b>, and a reconstruction lowpass filter <b>19</b>.</p><p id="p-0005" num="0004">A conventional numerically controlled oscillator (NCO) is a DSP implementation of a generic local oscillator (LO) as required for a desired transceiver frequency conversion and signal correlation. The NCO is driven by the same reference oscillator clock and controlled by the FCR. The tuning word is typically 24-48 bits long, driven in large part by a lookup table (LUT) that has high resolution in terms in phase and amplitude increments, resulting in large read only memory (ROM) requirements. Frequently contained within the NCO is a typically wideband tunable DSP-based filter that removes unwanted spurious output signals. Adding a high-speed digital-to-analog converter (DAC) to the NCO results in an analog sinusoidal RF output suitable for driving analog components. Herein, the term RF is not limited at either low or high frequency. Typically, this analog output is additionally passed through a low pass filter to remove all unwanted high frequency spurious components of the resulting frequency synthesis. The conventional DDS typically relies heavily on digital signal processing. <figref idref="DRAWINGS">FIG. <b>2</b></figref> shows an example of a 7 MHz signal generated by a 100 MHz clock DDS with a large ROM LUT with a 14-bit accumulator, with 4-bits dither, and a 12-bit DAC.</p><p id="p-0006" num="0005">A significant advantage of a DDS output is that it is phase coherent, regardless of the imposed frequency and phase modulation. Also, the transition from one frequency output to another, as well as continuous frequency sweeps, may be time synchronous during the transition. This is of significance in implementation of modern radar and radio communications. The utility of a DDS is that frequency transitions may be instantaneous over a broad frequency interval without losing phase coherency, as is typical of a LO based on a Phase Locked Loop (PLL) based frequency synthesis.</p><p id="p-0007" num="0006">In a communications system, the modulated signal based on a DDS may therefore remain coherent from one transmitted data burst to the next, which may map into higher data throughput. In a frequency agile radar application, the transmitted signal remains coherent over multiple pulses. Therefore, more signal information regarding the target may be abstracted from the return echo signal. For instance, the distance to the target can be inferred from the phase of the return signal as the frequency is changed.</p><p id="p-0008" num="0007">Some disadvantages to the DDS frequency synthesis architecture may include:<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0008">Power: There is a relatively high power requirement for the DSP based signal processing and DSP based NCO. In one example, a device operating at 3.5 GHz may consume up to 4 W, presenting a significant challenge for hand-held communications.</li>        <li id="ul0002-0002" num="0009">Output frequency: In principle, the DDS may produce sinusoidal outputs from 0 Hz all the way up to an arbitrary harmonic of the clock frequency. However, the DDS is effectively limited in terms of the upper frequency to half the reference clock frequency due to potentially high time domain response distortion at higher synthesized frequencies. Additionally, the output frequency is limited by the Nyquist frequency at the same one-half of the clock frequency.</li>        <li id="ul0002-0003" num="0010">Large memory requirements for control FCR.</li>        <li id="ul0002-0004" num="0011">Circuit footprint.</li>    </ul>    </li></ul></p><p id="p-0009" num="0012">However, the main disadvantage with a DDS is the number of spurious frequency components that exist around the intended frequency component of the synthesized sinusoidal signal. These interfere with frequency translation, as well as interfering with neighboring frequency bands that may lead to intermodulation distortion.</p><p id="p-0010" num="0013">A pure sinusoidal frequency reference signal, with a frequency spectrum that is not distorted with spurious frequency components in the neighborhood of the desired frequency, is beneficial for high performance signal processing architectures of modern RF communication architectures. While the DDS LUT and DAC must support a high clock rate, such that there are number of DAC readout samples per cycle of RF signal produced by the DDS, future 5G networking requirements are at frequencies well above 20 GHz. Creating this pure synthetic frequency may be challenging using DDS techniques.</p><heading id="h-0003" level="1">SUMMARY</heading><p id="p-0011" num="0014">According to an aspect, there is provided a method of generating a signal, the method comprising the steps of: using digital signal components, generating a synthesized signal having a plurality of frequency components; filtering the synthesized signal using an analog filter having a passband, the analog filter comprising a tunable, active feedback circuit having one or more variable resonators and a variable gain block connected in a signal loop; and tuning the analog filter such that the passband of the analog filter overlaps one or more desired frequency components of the plurality of frequency components of the synthesized signal, and such that the passband has a relative bandwidth of about 1% or less.</p><p id="p-0012" num="0015">According to other aspects, the method may further comprise one or more of the following elements, alone or in combination: the synthesized signal may be frequency translated such that the plurality of frequency components comprise a plurality of translated frequency components; the synthesized signal may be filtered before and after the synthesized signal is frequency translated; the one or more desired frequency components may be filtered from among frequency components that may be as close as 0.01% to 0.1% of the one or more desired frequency components; the analog filter may comprise a plurality of analog filters, and the plurality of analog filters may comprise a plurality of distinct passbands; and the method may further comprise the steps of configuring the synthesized signal and tuning the analog filter to one or more different desired frequency components.</p><p id="p-0013" num="0016">According to an aspect, there is provided an apparatus for generating a signal, the apparatus comprising a synthesizer that generates a synthesized signal having a plurality of frequency components; an analog filter connected to process the synthesized signal, the analog filter having a passband that filters the synthesized signal, the analog filter comprising a tunable, active feedback circuit having one or more variable resonators and a variable gain block connected in a signal loop; and a controller connected to the synthesizer and the analog filter. The controller may comprise instructions to tune the analog filter such that the passband of the analog filter overlaps one or more desired frequency components of the plurality of frequency components, the analog filter being capable of generating a relative bandwidth of the passband of about 1% or less.</p><p id="p-0014" num="0017">According to other aspects, the apparatus may further comprise one or more of the following elements, alone or in combination: there may be a frequency translator adapted to translate the synthesized signal such that the plurality of frequency components comprise a plurality of translated frequency components; the analog filter may be connected between the synthesizer and the frequency translator, and may further comprise an additional analog filter connected downstream of the frequency translator; the one or more desired frequency components may be filtered from among frequency components that are within about 0.1% to about 1% of the desired frequency component; the analog filter may comprise a plurality of analog filters; the synthesizer may be adapted to tune the plurality of frequency components, and the controller may further comprise instructions to tune the analog filter to a different desired frequency component.</p><p id="p-0015" num="0018">In other aspects, the features described above may be combined together in any reasonable combination as will be recognized by those skilled in the art.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0016" num="0019">These and other features will become more apparent from the following description in which reference is made to the appended drawings, the drawings are for the purpose of illustration only and are not intended to be in any way limiting, wherein:</p><p id="p-0017" num="0020"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram of a conventional Direct Digital Sequence (DDS) circuit.</p><p id="p-0018" num="0021"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a graph depicting a DDS time domain response generating a 7 MHz signal using a 100 MHz clock.</p><p id="p-0019" num="0022"><figref idref="DRAWINGS">FIG. <b>3</b><i>a </i></figref>is a block diagram of an ATF-DDS.</p><p id="p-0020" num="0023"><figref idref="DRAWINGS">FIG. <b>3</b><i>b</i>-<i>d </i></figref>are block diagrams of analog filters with one or more variable resonators within an active feedback loop.</p><p id="p-0021" num="0024"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a plot of the spectrum of a conventional DDS produced 7 MHz signal with a 100 MHz clock showing one of the high frequency spurious tones at 93 MHz.</p><p id="p-0022" num="0025"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a plot of the smooth normalized frequency response of an analog filter centered at the 7 MHz signal of <figref idref="DRAWINGS">FIG. <b>4</b></figref> and structured normalized output spectrum of the ATF-DDS.</p><p id="p-0023" num="0026"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a graph depicting the spectrum of a frequency translated DDS output with a fundamental at 7 MHz and clock at 100 MHz, the frequency response of the analog filter, and a normalized output spectrum of the ATF analog filtered DDS signal.</p><p id="p-0024" num="0027"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a plot of a frequency translated DDS output, the tuned analog passband, and the filtered frequency response centered at 193 MHz.</p><p id="p-0025" num="0028"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a block diagram of the combination of the DDS with ATF filters and frequency translation to generate the desired sinusoidal output carrier signal.</p><p id="p-0026" num="0029"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a block diagram of the DDS with ATF filters and an added power detector as an element of calibration.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION</heading><p id="p-0027" num="0030">There will now be described a method and device for generating an RF signal. Digital signal components are used to generate a synthesized signal having a plurality of frequency components. The synthesized signal is filtered by an analog filter. The analog filter may be a tunable, active feedback circuit with one or more variable resonators, and a variable gain block connected in a signal loop. The analog filter applies a tunable passband to the synthesized signal to select one or more DDS synthesized frequency components. By narrowing and/or tuning the passband, the method and device allows an analog signal to be generated that has the desirable frequency content. This may be used to generate a close approximation of a desired continuous single-frequency analog signal with a minimal bandwidth, and at a desired frequency. A circuit implemented with such an analog tunable filter (ATF) will be referred to herein as the ATF-DDS. It will be understood that, while the frequency synthesis circuit described herein uses the term DDS, the circuit may use digital signal components other than commonly-known designs of a DDS, and that the circuit may be based on a different circuit design that uses to generate a synthesized signal that may then be suitably filtered to produce the desired output signal.</p><p id="p-0028" num="0031">In one example, <figref idref="DRAWINGS">FIG. <b>3</b><i>a </i></figref>shows a block diagram of an ATF-DDS <b>20</b> that uses a narrowband, analog, high-performance tunable filter <b>100</b> downstream of a DDS <b>10</b>. In this example, ATF-DDS <b>20</b> includes digital signal components similar to those shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, such as a frequency-controlled register (FCR) <b>12</b>, a numerically-controlled oscillator (NCO) <b>14</b>, a reference oscillator <b>16</b>, and a digital-to-analog converter <b>18</b>. These components are known in the art, and are connected and operated as is known in the art. The output of these components is input into analog filter <b>100</b> to produce the desired analog output <b>22</b>. A controller <b>24</b> is preferably included that controls analog filter <b>100</b>, such as to tune the passband as described herein. Controller <b>24</b> may also be connected to control one or more other circuit components, and may operate based on user input, preprogrammed parameters, or a combination thereof. The specific control techniques of ATF-DDS will not be discussed further. It will be noted that ATF-DDS <b>20</b> as depicted in <figref idref="DRAWINGS">FIG. <b>3</b><i>a </i></figref>does not include reconstruction lowpass filter <b>19</b> as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, but instead includes analog filter <b>100</b> to produce the analog output. It will be understood that other filters and other components may be used downstream of DDS <b>10</b> if required by a particular intended use.</p><p id="p-0029" num="0032">Active feedback analog filter <b>100</b> may be used to provide a narrow passband filter that is tunable, both in terms of center frequency and the width of the passband. This allows for a variable degree of selectivity to be applied to the synthesized signal generated by DDS <b>10</b>. For example, the passband may be tuned to have a width that it is 1% or less than the relative frequency and may be tuned in frequency to extend across a desired set of frequencies. The passband may also be tuned to have a wider frequency, if desired for some circumstances. In this manner, a user may select one or more frequency components from among the frequency components in the synthesized signal generated by DDS <b>10</b>. In some examples, the passband may be tuned to select one or more desired frequency components that may be as close as 0.01% to 0.1% of adjacent, undesired frequency components. It will be understood that ATF-DDS <b>20</b> may be designed with more complex structures that may, for example, generate more than one passband to select frequency components that are not adjacent on the spectrum, that are separated by undesirable frequency components, or other undesirable features. In addition, by tuning ATF <b>100</b>, the frequency components in the analog output signal are also changed, which may be useful, for example, in frequency-hopping applications. Other, more complex circuit designs may also be used for various applications.</p><p id="p-0030" num="0033">Some examples of tunable band pass filters that may be used as analog filter <b>100</b> are described in U.S. Pat. No. 10,050,604 (Nielsen et al.) entitled &#x201c;Variable Filter&#x201d;. These filters may be designed to be stable, tunable, active feedback filters used as a narrow bandwidth filter to achieve improved performance and frequency range. Examples of analog ATF filters <b>100</b> are shown in <figref idref="DRAWINGS">FIG. <b>3</b><i>b</i></figref>-<b>3</b><i>d. </i></p><p id="p-0031" num="0034">Referring to <figref idref="DRAWINGS">FIG. <b>3</b><i>b</i></figref>, analog tunable filter <b>100</b> may include an input <b>102</b>, an output <b>104</b>, resonator couplings <b>106</b>, a variable resonator <b>108</b>, and a feedback loop <b>110</b> with a variable scaling block <b>112</b>. Referring to <figref idref="DRAWINGS">FIG. <b>3</b><i>c</i></figref>, analog tunable filter <b>100</b> includes multiple variable resonators <b>106</b> connected in series. Referring to <figref idref="DRAWINGS">FIG. <b>3</b><i>d</i></figref>, analog filter <b>100</b> may include variable resonators <b>106</b>, each of which may have an individual variable feedback loop <b>110</b><i>a </i>with a scaling block <b>112</b><i>a </i>connected within the overall feedback loop <b>110</b>. It will be understood that the number of resonators and the overall circuit architecture may vary according to the preferences of the user or the requirements of a given application.</p><p id="p-0032" num="0035">The design described herein may be implemented, for example, by utilizing smaller components that use less power and may be implementable at chip level with no off-chip components relative to other known DDS designs.</p><p id="p-0033" num="0036">The structured frequency domain response of a synthesized 7 MHz DDS signal using a 100 MHz clock, as produced by the prior art discussed above, is shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> labeled line <b>42</b> and showing the line spectral component at 7 MHz. It is the higher order frequency terms at 93 MHz and 107 MHz and so forth, seen in the highly structured signal of <figref idref="DRAWINGS">FIG. <b>7</b></figref>, that generate the staircasing distortion in the time domain response of <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0034" num="0037">Typically, a low pass interpolating filter will be used with a DDS to suppress these higher order frequency terms, leaving the fundamental frequency, which is 7 MHz in this example. The phase noise of this desired fundamental tone may include phase noise from the reference clock signal driving the DDS and the jitter of the digital processing of the DDS.</p><p id="p-0035" num="0038">The DDS with a low pass filter is therefore well behaved for frequency synthesis when the desired fundamental frequency is a fraction of the clock frequency. To generate different frequencies, a DDS output may be translated with a frequency translator. For example, the frequency may be up-converted as is known in the art, such as with a fixed frequency LO signal. The unwanted frequency spurs are generally removed from the DDS output prior to up-conversion using the low pass fixed filter in order to control the proliferation of frequency spurs. With up-conversion, the bandwidth of the DDS will approach that of the clock frequency as both positive and negative frequencies may be generated with a quadrature DDS producing both in-phase and quadrature phase components. However, such single sideband up-conversion typically requires two DDS-DAC outputs for the in-phase and quadrature signal synthesis, as well as a pair of matched frequency mixers. Any mismatch of the mixer pair will result in a frequency spur in the unwanted sideband. Also, as the DDS frequency approaches the Nyquist limit of half the clock frequency, the low pass filter transition requirement becomes excessive. Hence there is a compromise of the frequency spur performance and the afforded fixed low pass filter complexity. Other methods of translating the frequency may also be used with suitable modifications.</p><p id="p-0036" num="0039">A key utility of the DDS is the precision synthesis of a quasi-sinusoidal signal that is time-phase coherent over an arbitrary number of frequency steps. As indicated above, good performance requires a precision high speed DAC and large LUT. Typically, the frequency range is limited to a fraction of the DDS clock frequency for reasons discussed above. Hence, for an application such as a communications transceiver or radar that is based on DDS synthesized frequency hopping, a high performance, high speed DDS is required. This is not typically an issue for large high-valued platforms where power consumption, circuit size and cost are secondary issues, but for smaller low-cost components, a low-cost DDS may not provide sufficient performance. An example of a low-cost DDS might be in specific applications where the LUT is part of the firmware for an FPGA.</p><p id="p-0037" num="0040">Extending the Synthesized Output Signal Frequency Beyond the Synthesizer Clock Frequency</p><p id="p-0038" num="0041">The architecture described herein permits frequencies to be achieved beyond the synthesizer clock frequency by coupling digital signal components from a low-complexity DDS, with an active feedback narrowband variable frequency filter, described herein as the ATF-DDS. For simplicity, the digital signal components will be referred to herein as a DDS. In one example, a variable frequency filter may be used to track the desired fundamental frequency component of the DDS output and suppress the unwanted spurious components. This results in a clean output spectrum at a single dominant frequency component as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, labeled as line <b>52</b>, and in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, labeled as line <b>72</b>. The ATF-DDS may be used to provide a low-distortion time domain sinusoidal signal ideal for transmit signal generation as well as signal correlation in the receiver. In other examples, the ATF-DDS may be used to select more than one frequency component, either by filtering for adjacent frequency components, by using an analog filter that has more than one passband, or by using multiple ATF filters.</p><p id="p-0039" num="0042">The ATF-DDS may allow the clock reference frequency to be significantly reduced as the analog filter may be used to select a wide range of frequency components of the DDS output without being subject to the Nyquist frequency limit of the DDS. Hence the produced output frequency range may be extended to several times that of the reference clock frequency instead of being limited to a fraction of the clock frequency as in a DDS that does not use such a variable frequency filter. This may allow the size of the ROM LUT to be reduced as well as the required clock frequency. Furthermore, the variable frequency analog filter may be used to eliminate much of the wide bandwidth quantization noise resulting from the finite precision DAC. Not only does this reduce the precision required of the DAC, but also reduces the size of the ROM LUT as fewer sample bits are required.</p><p id="p-0040" num="0043"><figref idref="DRAWINGS">FIG. <b>5</b></figref> shows an example of a high-performance analog filter applied to the 7 MHz DDS signal described above. The normalized frequency response of the analog variable frequency narrowband analog filter is shown on top, and the resulting ATF-DDS structured spectrum filtered by the analog filter is shown at the bottom. The analog filter used in this example consists of cascaded high performance active analog tunable filters as described in Nielsen et al. In particular, the ATF herein comprises two cascaded variable filter components of the referenced patent, where the number of dominant poles in the filter section may be varied. Additional architectures for the ATF, using additional poles and/or additional tunable filter modules are not excluded.</p><p id="p-0041" num="0044">As another example, consider the DDS described above (100 MHz clock and 7 MHz fundamental) that is up-converted by a square wave 200 MHz LO. The portion of the DDS spectrum between 180 MHz and 220 MHz, without the analog filter is shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref> as the structured upper trace, labeled line <b>66</b>. Note that both the upper sideband modulation spectral component at 207 MHz, as well as the lower sideband spectral component at 193 MHz, are present along with many other spectral components produced by the up-conversion process. As before, the smooth center trace, labeled line <b>62</b> is the frequency response of an analog filter. The bottom structured trace, labeled line <b>64</b> is the resulting filtered spectrum showing the selection of desired upper sideband at 207 MHz.</p><p id="p-0042" num="0045">As revealed in this simulation, the DDS operating with a 100 MHz clock can synthesize quasi-sinusoidal waveforms over a tuning bandwidth that is several times that of the DDS clock.</p><p id="p-0043" num="0046">Consider the application of a frequency hopping communications system where the frequency increment of the individual hops may extend past the DDS clock frequency. It is necessary to jump between different mixer spectral components. However, all of these spectral components are phase coherent with respect to the original DDS clock. Hence phase coherency is maintained in the frequency hop. This allows for additional modulation information to be packed into the carrier waveform increasing the overall information throughput.</p><p id="p-0044" num="0047">In another example presented in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the DDS output is not up-converted with an LO. Instead, the higher harmonic content of the DDS output is utilized by appropriately tuning the analog filter. Shown is the plot of the frequency transfer function of the same ATF which is now centered at the frequency of the component at 193 MHz with a Q of 167, labeled as line <b>72</b>, and the resulting structured output filtered spectrum below, labeled as line <b>74</b>.</p><p id="p-0045" num="0048">Additional combinations of DDS configurations, analog filters and frequency translations may be considered to achieve a desired result. One example of a design variation is shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref> showing a modest DDS <b>10</b> output being filtered with an ATF <b>100</b>, which is frequency translated to a higher frequency using a frequency translation block <b>202</b> connected to a fixed LO <b>204</b> and then further filtered at a microwave frequency. An arbitrary frequency may be achieved by appropriately configuring the DDS in combination with a fixed LO <b>204</b>, or by providing a tunable LO <b>204</b>. In another example, analog filter <b>100</b> may have a multi-pole bandpass response to enable an analog signal with a desired bandwidth. In a further example, analog filter <b>100</b> may apply a filter response with a plurality of distinct passbands.</p><p id="p-0046" num="0049">Calibration of the ATF</p><p id="p-0047" num="0050">In order to calibrate the ATF-DDS, a power detector may be added, which may be as simple as a diode/DAC that is built in. A method of calibration in the context of the DDS with two ATF filters as shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref> may be as follows:</p><p id="p-0048" num="0051">The DDS may be programmed with a specific clock frequency and fundamental frequency and the resulting frequency spectrum may consist of deterministic frequency components that are accurately known.</p><p id="p-0049" num="0052">The ATF may then be swept in frequency, registering the pattern of frequency components based on the output of the power detector.</p><p id="p-0050" num="0053">The amplitude at a specific frequency may then be maximized with the frequency control.</p><p id="p-0051" num="0054">The DDS frequency may then be changed slightly and the drop in the power detector output is registered.</p><p id="p-0052" num="0055">The detector power output may be used to estimate the bandwidth of the filter.</p><p id="p-0053" num="0056">The ATF loop gain may be set accordingly.</p><p id="p-0054" num="0057">Comparing Performance of a Prior Art DDS with a High-Performance ATF-DDS</p><p id="p-0055" num="0058">While a data sheet for a DSP-DDS may be very detailed, some of the key differences between an example of an existing DDS and the same DDS integrated with a tunable active feedback analog tunable filter (ATF-DDS) are presented in Table 1. It will be understood that the results listed in Table 1 are for illustration purposes only and may vary depending on the particular circuit.</p><p id="p-0056" num="0000"><tables id="TABLE-US-00001" num="00001"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 1</entry></row></thead><tbody valign="top"><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>Parameter performance comparison of State of the Art</entry></row><row><entry>(SOA) DSP-DDS operating with a clock frequency of</entry></row><row><entry>3.5 GHz, providing a 1.5 GHz sinusoidal output versus</entry></row><row><entry>the ATF-DDS using the same core DDS component.</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="70pt" align="left"/><colspec colname="2" colwidth="49pt" align="center"/><colspec colname="3" colwidth="98pt" align="center"/><tbody valign="top"><row><entry>Parameter</entry><entry>Prior Art DDS</entry><entry>ATF-DDS</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row><row><entry>Maximum undistorted</entry><entry>Half of clock</entry><entry>&#x3e;10x clock frequency</entry></row><row><entry>synthesized frequency</entry><entry>frequency</entry></row><row><entry>Filtering Q factor</entry><entry>&#x2248;20</entry><entry>Stable Q of over 1,000 has</entry></row><row><entry/><entry/><entry>been demonstrated</entry></row><row><entry>Narrow-Band SFDR</entry><entry>&#x2212;92 dBc @</entry><entry>&#x3e;&#x2212;95 dBc at all frequencies</entry></row><row><entry/><entry>1.4 GHz</entry><entry>outside of bands at clock</entry></row><row><entry/><entry/><entry>frequency harmonics &#xb1; 0.5% f<sub>c</sub></entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="4"><colspec colname="1" colwidth="70pt" align="left"/><colspec colname="2" colwidth="21pt" align="right"/><colspec colname="3" colwidth="28pt" align="left"/><colspec colname="4" colwidth="98pt" align="center"/><tbody valign="top"><row><entry>Input power</entry><entry>2.4</entry><entry>W</entry><entry>20 mW (nominal)</entry></row><row><entry>Design footprint</entry><entry>1.5</entry><entry>cm<sup>2</sup></entry><entry>Die integratable</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="70pt" align="left"/><colspec colname="2" colwidth="49pt" align="center"/><colspec colname="3" colwidth="98pt" align="center"/><tbody valign="top"><row><entry>Switching speed</entry><entry>Instantaneous</entry><entry>&#x3c;10 nsec</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0057" num="0059">As can be seen, incorporating a tunable active feedback analog filter into a DDS architecture may result in a substantially higher frequency range synthesizer at much lower power, with a substantially smaller footprint and no reduction in linearity and noise rejection relative to a DDS without such an analog filter.</p><p id="p-0058" num="0060">In some examples, a lower-resolution DDS, such as a DDS with a lower clock rate and/or lower bit-resolution DAC, may be used with one or more analog tunable filters (ATF) to synthesize a low distortion sinusoidal signal by using the ATF-enabled selection of resultant multiple output frequency components of the DDS. This may also involve the use of a frequency translation to produce a signal at an arbitrary frequency. The ATF may be automatically tuned to the desired frequency component and bandwidth adjusted as desired, isolating this frequency component from the other unwanted frequency components. This may be a highly flexible method as the ATF passband may be dynamically programmed, depending upon specific application requirements. Other benefits may include the ability to:<ul id="ul0003" list-style="none">    <li id="ul0003-0001" num="0000">    <ul id="ul0004" list-style="none">        <li id="ul0004-0001" num="0061">Narrow the bandwidth for more suppression of the unwanted frequency components of the ATF-DDS output;</li>        <li id="ul0004-0002" num="0062">Increase the bandwidth for faster output changes;</li>        <li id="ul0004-0003" num="0063">For an ATF-DDS with phase and amplitude modulation, adjust the ATF to a commensurate bandwidth;</li>        <li id="ul0004-0004" num="0064">Allow for an implementation of a self-calibrating, agile LO based frequency synthesis created from a LUT of modest phase and amplitude resolution that may result in improved spectral purity and phase coherence, regardless of any arbitrary frequency hopping modulation that may be applied.</li>    </ul>    </li></ul></p><p id="p-0059" num="0065">In this patent document, the word &#x201c;comprising&#x201d; is used in its non-limiting sense to mean that items following the word are included, but items not specifically mentioned are not excluded. A reference to an element by the indefinite article &#x201c;a&#x201d; does not exclude the possibility that more than one of the elements is present, unless the context clearly requires that there be one and only one of the elements.</p><p id="p-0060" num="0066">The scope of the following claims should not be limited by the preferred embodiments set forth in the examples above and in the drawings, but should be given the broadest interpretation consistent with the description as a whole.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method of generating a signal, the method comprising the steps of:<claim-text>using digital signal components, generating a synthesized signal having a plurality of frequency components;</claim-text><claim-text>filtering the synthesized signal using an analog filter having a passband, the analog filter comprising a tunable, active feedback circuit having one or more variable resonators and a variable gain block connected in a signal loop; and</claim-text><claim-text>tuning the analog filter such that the passband of the analog filter overlaps one or more desired frequency components of the plurality of frequency components of the synthesized signal, and such that the passband has a relative bandwidth of about 1% or less.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising the step of frequency translating the synthesized signal such that the plurality of frequency components comprises a plurality of translated frequency components.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising the step of filtering the synthesized signal before the synthesized signal is frequency translated, after the synthesized signal is frequency translated, or both before and after the synthesized signal is frequency translated.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the one or more desired frequency components are filtered from among frequency components that are as close as 0.01% to 0.1% of the one or more desired frequency components.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the analog filter comprises a plurality of analog filters.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the plurality of analog filters comprises a plurality of distinct passbands.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising the steps of configuring the synthesized signal and tuning the analog filter to one or more different desired frequency components.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. An apparatus for generating a signal, the apparatus comprising:<claim-text>a synthesizer that generates a synthesized signal having a plurality of frequency components;</claim-text><claim-text>an analog filter connected to process the synthesized signal, the analog filter having a passband that filters the synthesized signal, the analog filter comprising a tunable, active feedback circuit having one or more variable resonators and a variable gain block connected in a signal loop; and</claim-text><claim-text>a controller connected to the synthesizer and the analog filter, the controller comprising instructions to:<claim-text>tune the analog filter such that the passband of the analog filter overlaps one or more desired frequency components of the plurality of frequency components, the analog filter being capable of generating a relative bandwidth of the passband of about 1% or less.</claim-text></claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising a frequency translator adapted to translate the synthesized signal such that the plurality of frequency components comprises a plurality of translated frequency components.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the analog filter is connected between the synthesizer and the frequency translator, and further comprises an additional analog filter connected downstream of the frequency translator.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the one or more desired frequency components are filtered from among frequency components that are as close as about 0.1% to about 1% of the one or more desired frequency components.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the analog filter comprises a plurality of analog filters.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the synthesizer is adapted to tune the plurality of frequency components, and the controller further comprises instructions to tune the analog filter to a different one or more desired frequency components.</claim-text></claim></claims></us-patent-application>