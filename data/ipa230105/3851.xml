<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003852A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003852</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17363658</doc-number><date>20210630</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>7</main-group><subgroup>497</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>7</main-group><subgroup>48</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>17</main-group><subgroup>931</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>7</main-group><subgroup>497</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>7</main-group><subgroup>4802</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20200101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>17</main-group><subgroup>931</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">Systems and Methods for Retroreflector Mitigation Using Lidar</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Waymo LLC</orgname><address><city>Mountain View</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Dunphy</last-name><first-name>James</first-name><address><city>San Jose</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Onal</last-name><first-name>Caner</first-name><address><city>Palo Alto</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Schleuning</last-name><first-name>David</first-name><address><city>Piedmont</city><state>CA</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">The present disclosure relates to light detection and ranging (lidar) systems, lidar-equipped vehicles, and associated methods. An example method includes causing a firing circuit to trigger emission of an initial group of detection pulses from at least one light-emitter device of a lidar system in accordance with an initial set of one or more light-emission parameters. The method also includes causing the firing circuit to trigger emission of one or more test pulses and receiving, from at least one detector, information indicative of one or more return test pulses. The method yet further includes determining, based on the received information, a presence of a retroreflector based on an intensity of the return test pulse. The method additionally includes determining a subsequent set of light-emission parameters and causing the firing circuit to trigger emission of a subsequent group of detection pulses in accordance with the subsequent set of light-emission parameters.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="89.24mm" wi="94.06mm" file="US20230003852A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="230.46mm" wi="154.43mm" file="US20230003852A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="226.40mm" wi="167.47mm" file="US20230003852A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="226.40mm" wi="163.32mm" file="US20230003852A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="229.53mm" wi="167.64mm" file="US20230003852A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="227.08mm" wi="164.68mm" file="US20230003852A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="223.86mm" wi="124.38mm" file="US20230003852A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="174.67mm" wi="165.86mm" file="US20230003852A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="230.04mm" wi="149.94mm" file="US20230003852A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND</heading><p id="p-0002" num="0001">Light detection and ranging (lidar) systems may be used to determine ranges to objects in an environment. Such range information can be aggregated into a dynamic &#x201c;point cloud&#x201d; that can be used for object detection, object avoidance, and/or navigation, for example. In an example application, lidar systems may be utilized by an autonomous vehicle to identify objects, such as other vehicles, roadways, signs, pedestrians, buildings, etc.</p><p id="p-0003" num="0002">Conventional lidar systems can be adversely affected when interacting with highly-back-reflective objects, also termed retroreflectors, within the environment. Retroreflectors are both very reflective and also direct incoming light back in the direction of the source with minimal scatter in other directions. For example, light pulses emitted by lidar systems can be reflected with high efficiency by such retroreflectors so that the return light pulses saturate lidar detectors and/or create crosstalk (e.g., blooming) between lidar detector channels. In such scenarios, bright light pulses from retroreflectors can temporarily disable a lidar system, at least in part, until the detector channel recovers. Accordingly, improved systems and methods that mitigate the effect of retroreflector objects in lidar systems are desired.</p><heading id="h-0002" level="1">SUMMARY</heading><p id="p-0004" num="0003">The present disclosure relates to lidar systems and methods of their use that may be configured to dynamically adjust various aspects of light emitted into an environment based on information about retroreflectors in the environment. In various embodiments, return information from one or more test pulses may be utilized to control subsequent detection light pulses emitted from the lidar system. In some examples, such embodiments could include lidar systems configured to be utilized with self-driving vehicles.</p><p id="p-0005" num="0004">In a first aspect, a light detection and ranging (lidar) system is provided. The lidar system includes a plurality of light-emitter devices configured to emit light pulses into an environment. The lidar system also includes a firing circuit configured to selectively control the plurality of light-emitter devices to emit the light pulses in accordance with one or more adjustable light-emission parameters. The lidar system additionally includes a plurality of detectors. The lidar system also includes a controller configured to perform operations. The operations include causing the firing circuit to trigger emission of an initial group of detection pulses from at least one light-emitter device in accordance with an initial set of one or more light-emission parameters. The operations additionally include causing the firing circuit to trigger emission of at least one test pulse. The operations also include receiving, from at least one detector, information indicative of at least one return test pulse that corresponds to an interaction between the at least one test pulse and an object in the environment. The operations further include determining, based on the received information, a presence of a retroreflector based on an intensity of the return test pulse being above a threshold level. The operations also include, in response to determining the presence of the retroreflector, determining a subsequent set of one or more light-emission parameters. The subsequent set of one or more light-emission parameters is different than the initial set of one or more light-emission parameters. The operations yet further include causing the firing circuit to trigger emission of a subsequent group of detection pulses in accordance with the subsequent set of one or more light-emission parameters</p><p id="p-0006" num="0005">In a second aspect, a vehicle is provided. The vehicle includes a light detection and ranging (lidar) system. The lidar system includes a plurality of light-emitter devices configured to emit light pulses into an environment. The lidar system additionally includes a firing circuit configured to selectively control the plurality of light-emitter devices to emit the light pulses in accordance with one or more adjustable light-emission parameters. The lidar system also includes a plurality of detectors. The lidar system further includes a controller configured to perform operations. The operations include causing the firing circuit to trigger emission of an initial group of detection pulses from at least one light-emitter device in accordance with an initial set of one or more light-emission parameters. The operations also include causing the firing circuit to trigger emission of at least one test pulse. The operations additionally include receiving, from at least one detector, information indicative of at least one return test pulse that corresponds to an interaction between the at least one test pulse and an object in the environment. The operations yet further include determining, based on the received information, a presence of a retroreflector based on an intensity of the return test pulse being above a threshold level. The operations also include determining a subsequent set of one or more light-emission parameters. The subsequent set of one or more light-emission parameters is different than the initial set of one or more light-emission parameters. The operations additionally include causing the firing circuit to trigger emission of a subsequent group of detection pulses.</p><p id="p-0007" num="0006">In a third aspect, a method is provided. The method includes causing a firing circuit to trigger emission of an initial group of detection pulses from at least one light-emitter device of a lidar system in accordance with an initial set of one or more light-emission parameters. The method also includes causing the firing circuit to trigger emission of at least one test pulse. The method also includes receiving, from at least one detector, information indicative of at least one return test pulse that corresponds to an interaction between the at least one test pulse and an object in an environment. The method additionally includes determining, based on the received information, a presence of a retroreflector based on an intensity of the return test pulse being above a threshold level. The method yet further includes, in response to determining the presence of the retroreflector, determining a subsequent set of one or more light-emission parameters. The subsequent set of one or more light-emission parameters is different than the initial set of one or more light-emission parameters. The method also includes causing the firing circuit to trigger emission of a subsequent group of detection pulses in accordance with the subsequent set of one or more light-emission parameters.</p><p id="p-0008" num="0007">Other aspects, embodiments, and implementations will become apparent to those of ordinary skill in the art by reading the following detailed description, with reference where appropriate to the accompanying drawings.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE FIGURES</heading><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates a light detection and ranging (lidar) system, according to an example embodiment.</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>2</b></figref> illustrates an operating scenario, according to an example embodiment.</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates a swimlane diagram, according to an example embodiment.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates an operating scenario, according to an example embodiment.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>5</b>A</figref> illustrates a vehicle, according to an example embodiment.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>5</b>B</figref> illustrates a vehicle, according to an example embodiment.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>5</b>C</figref> illustrates a vehicle, according to an example embodiment.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>5</b>D</figref> illustrates a vehicle, according to an example embodiment.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>5</b>E</figref> illustrates a vehicle, according to an example embodiment.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates a method, according to an example embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0004" level="1">DETAILED DESCRIPTION</heading><p id="p-0019" num="0018">Example methods, devices, and systems are described herein. It should be understood that the words &#x201c;example&#x201d; and &#x201c;exemplary&#x201d; are used herein to mean &#x201c;serving as an example, instance, or illustration.&#x201d; Any embodiment or feature described herein as being an &#x201c;example&#x201d; or &#x201c;exemplary&#x201d; is not necessarily to be construed as preferred or advantageous over other embodiments or features. Other embodiments can be utilized, and other changes can be made, without departing from the scope of the subject matter presented herein.</p><p id="p-0020" num="0019">Thus, the example embodiments described herein are not meant to be limiting.</p><p id="p-0021" num="0020">Aspects of the present disclosure, as generally described herein, and illustrated in the figures, can be arranged, substituted, combined, separated, and designed in a wide variety of different configurations, all of which are contemplated herein.</p><p id="p-0022" num="0021">Further, unless context suggests otherwise, the features illustrated in each of the figures may be used in combination with one another. Thus, the figures should be generally viewed as component aspects of one or more overall embodiments, with the understanding that not all illustrated features are necessary for each embodiment.</p><p id="p-0023" num="0022">Present embodiments describe lidar systems and methods that may reduce or eliminate the negative effects of retroreflectors or other highly reflective objects in the environment. Within the context of this disclosure, a retroreflector could include a device or surface that reflects light back towards the light source with minimal scattering or optical loss/attenuation. Additionally or alternatively, the retroreflector could reflect light back toward the lidar system with much higher efficiency as compared to an object that may provide one or more diffuse reflective surfaces.</p><p id="p-0024" num="0023">An example lidar system may include a plurality of light-emitter devices configured to emit pulses of laser light into an environment. As an example, an environment could include an interior or exterior environment, such as inside a building or outside of the building. Additionally or alternatively, the environment could include a vicinity around and/or on a roadway. Furthermore, the environment could include objects such as other vehicles, traffic signs, pedestrians, roadway surfaces, buildings, terrain, etc. Additionally light pulses could be emitted into a local environment of the lidar system itself. For example, the light pulses could interact with a housing of the lidar system and/or surfaces or structures coupled to the lidar system. In some cases, the lidar system could be mounted to a vehicle. In such scenarios, the lidar system could be configured to emit light pulses that interact with surfaces of the vehicle.</p><p id="p-0025" num="0024">The lidar system may additionally include a firing circuit configured to selectively control the plurality of light-emitter devices to emit the light pulses in accordance with one or more adjustable light-emission parameters. The lidar system also includes a plurality of detectors configured to receive return light generated by interactions between the emitted laser light pulses and the environment.</p><p id="p-0026" num="0025">The lidar system also includes a controller having at least one processor and a memory. The processor may execute instructions stored in the memory so as to perform various operations.</p><p id="p-0027" num="0026">The operations include causing the firing circuit to trigger emission of an initial group of detection pulses from at least one light-emitter device in accordance with an initial set of one or more light-emission parameters.</p><p id="p-0028" num="0027">The operations also include causing the firing circuit to trigger emission of at least one test pulse and receiving, from at least one detector, information indicative of at least one return test pulse that corresponds to an interaction between the at least one test pulse and an object in the environment.</p><p id="p-0029" num="0028">The operations also include determining, based on the received information, a presence of a retroreflector based on an intensity of the return test pulse being above a threshold level. Additionally or alternatively, the operations could include determining, based on the received information, a presence of a sufficiently bright object (e.g., an object with a very bright lambertian reflectance).</p><p id="p-0030" num="0029">The operations additionally include, in response to determining the presence of the retroreflector, determining a subsequent set of one or more light-emission parameters. In such scenarios, the subsequent set of one or more light-emission parameters is different than the initial set of one or more light-emission parameters.</p><p id="p-0031" num="0030">The operations also include causing the firing circuit to trigger emission of a subsequent group of detection pulses in accordance with the subsequent set of one or more light-emission parameters.</p><p id="p-0032" num="0031">In some examples, the operations of causing the firing circuit to trigger emission of the at least one test pulse, receiving information indicative of the at least one return pulse, and determining the presence of the retroreflector could occur during a test pulse phase that is between 1 to 5 microseconds in duration.</p><p id="p-0033" num="0032">In some embodiments, the subsequent set of light-emission parameters could include a different pulse energy parameter, a different pulse repetition rate parameter, and/or a different pulse number parameter than the initial set of light emission parameters, such that emitted light pulses in the subsequent group of detection pulses have a different pulse energy, a different pulse repetition rate, or a different number of pulses than emitted light pulses in the initial group of detection pulses. Additionally or alternatively, the subsequent set of light-emission parameters could include changing the shot pattern of light pulses emitted into the environment. Furthermore, the spatial resolution of light pulses could be adjusted (e.g., reduce resolution as a tradeoff for reduced artifacts due to bright returns). In other words, the subsequent set of light-emission parameters could trigger a subsequent set of light pulses with different spatio-temporal characteristics than that of the test pulse(s).</p><p id="p-0034" num="0033">In various embodiments, the operations could also include causing the firing circuit to trigger emission of the subsequent group of detection pulses from the at least one light-emitter device.</p><p id="p-0035" num="0034">Additionally or alternatively, the operations could include a test pulse phase and a detection pulse phase, wherein the test pulse phase and the detection pulse phase are between 1 to 500 microseconds in total duration. It will be understood that other time periods are possible. For example, the test pulse phase and the detection pulse phase could be between 10 and 25 microseconds, 5 and 10 microseconds, and/or between 25 and 50 microseconds in total duration.</p><p id="p-0036" num="0035">Example embodiments include that the subsequent group of detection pulses could include between 1 to 500 successive light pulses or between 10 to 25 successive light pulses. In such scenarios, the at least one detector is configured to aggregate the intensity of return pulses that correspond to interactions between the detection pulses and the environment.</p><p id="p-0037" num="0036">In some examples, adjusting the firing circuit to change at least one aspect of the subsequent group of detection pulses could be further based on determining the presence of a retroreflector during a plurality of test pulse phase (e.g., prior return information).</p><p id="p-0038" num="0037">Yet further, the operations could additionally include dynamically adjusting the threshold level based on at least one of: detector soiling, background light conditions, weather conditions, or precipitation. In some embodiments, detector soiling could include dust, soil, mud, or other organic or inorganic matter that may collect along an optical surface of the lidar system. Additionally or alternatively, detector soiling could include water droplets and/or condensation.</p><p id="p-0039" num="0038">Optionally, the plurality of light-emitter devices could include an array of vertical-cavity surface-emitting lasers (VCSELs). However, other types of light-emitter devices are possible and contemplated. In some examples, the plurality of detectors could form an array of detector elements that may be grouped into at least one macropixel. Other arrangements of detector elements are possible and contemplated.</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates a light detection and ranging (lidar) system <b>100</b>, according to an example embodiment. In specific embodiments, the lidar system <b>100</b> could provide lidar functionality for a self-driving vehicle, a robot, or another type of vehicle configured to navigate its environment <b>10</b>. As described herein, the environment <b>10</b> could include an interior or exterior environment, such as inside a building or outside of the building. Additionally or alternatively, the environment could include a vicinity around and/or on a roadway. Furthermore, the environment could include objects such as other vehicles, traffic signs, pedestrians, roadway surfaces, buildings, terrain, etc. In some embodiments, the lidar system <b>100</b> could be configured to obtain point cloud information that could include information indicative of a plurality of points in specific locations in three-dimensional space. As an example, the point cloud information could indicate the location of objects <b>12</b> in the environment <b>10</b>.</p><p id="p-0041" num="0040">The lidar system <b>100</b> includes a plurality of light-emitter devices <b>110</b> configured to emit light pulses into an environment <b>10</b>. The light-emitter devices <b>110</b> could include one or more laser diodes (e.g., semiconductor laser bars), light-emitting diodes (LEDs), or other types of devices configured to emit light in discrete light pulses. In some embodiments, the plurality of light-emitter devices <b>110</b> could include an array of vertical-cavity surface-emitting lasers (VCSELs) <b>116</b>.</p><p id="p-0042" num="0041">In some embodiments, the light-emitter devices <b>110</b> could be configured to emit light with wavelength around 905 nm. It will be understood that other wavelengths are possible and contemplated.</p><p id="p-0043" num="0042">The lidar system <b>100</b> includes a firing circuit <b>120</b> configured to selectively control the plurality of light-emitter devices to emit the light pulses in accordance with one or more adjustable light-emission parameters. As an example, the firing circuit <b>120</b> could include a laser driver circuit or another type of circuit configured to provide a control signal <b>122</b> to cause the light-emitter devices to emit the light pulses in an adjustable and/or controllable manner. The firing circuit <b>120</b> could include an application specific integrated circuit (ASIC) or a field-programmable gate array (FPGA). Other types of circuits and computing devices are possible and contemplated.</p><p id="p-0044" num="0043">The lidar system <b>100</b> includes a plurality of detectors <b>130</b>. In some embodiments, the detectors <b>130</b> could include a plurality of single photon avalanche detectors (SPADs) and/or silicon photomultiplier (SiPM) devices. Other types of image sensors and photodetector devices are possible and contemplated. In various embodiments, the plurality of detectors <b>130</b> could include an array of detector elements that form at least one macropixel. In some examples, a macropixel could include a plurality of detector elements that are physically adjacent and/or associated with one another. In such scenarios, a macropixel could form a large area detector compared to the area of an individual detector element. Systems and methods could relate to examples including a single light-emitter device (e.g., 1 transmitter or 1 Tx) that can be utilized with N detectors (or macropixels) (e.g., N receivers or N Rx). However, it will be understood that disclosed systems and methods could include N Tx to N Rx (e.g., each Tx channel corresponds to an Rx channel) or N Tx to M Rx, where M is greater than N. Other configurations and arrangements of Tx and Rx elements are contemplated and possible.</p><p id="p-0045" num="0044">The lidar system <b>100</b> additionally includes a controller <b>150</b> having at least one processor <b>152</b> and a memory <b>154</b>. In some embodiments, the controller <b>150</b> could be communicatively coupled (e.g., wirelessly or wired) to various elements of lidar system <b>100</b> by way of communication interface <b>155</b>. For example, the controller <b>150</b> could be communicatively coupled to the light-emitter devices <b>110</b>, the firing circuit <b>120</b>, and/or the detectors <b>130</b> by way of the communication interface <b>155</b>.</p><p id="p-0046" num="0045">The at least one processor <b>152</b> could execute instructions stored in the memory <b>154</b> so as to perform certain operations. Additionally or alternatively, the controller <b>150</b> could include an application specific integrated circuit (ASIC) or a field-programmable gate array (FPGA). Other types of circuits and computing devices are possible and contemplated. The operations include causing the firing circuit <b>120</b> to trigger emission of an initial group of detection pulses <b>114</b><i>a </i>from the at least one light-emitter device <b>110</b> in accordance with an initial set of one or more light-emission parameters (e.g., pulse energy parameter <b>124</b>, pulse repetition rate parameter <b>126</b>, and number (#) of detection pulses parameter <b>128</b>). As an example, pulse energy parameter <b>124</b> could include information indicative of a total optical energy (e.g., in Joules) of a light pulse. The pulse energy parameter <b>124</b> could be based on an integral of the pulse optical energy over time. The pulse repetition rate parameter <b>126</b> could include information indicative of the periodicity of light pulses emitted by the lidar system <b>100</b>. For example, the light pulses could be emitted by the lidar system <b>100</b> at a pulse repetition rate of 1 kHz, 10 kHz, 30 kHz, 100 kHz, or another frequency. In some embodiments, the number (#) of detection pulses parameter <b>128</b> could include the number of pulses that are emitted into the environment <b>10</b> in the initial group of detection pulses. It will be understood that the initial group of detection pulses <b>114</b><i>a </i>may have other characteristic features that could be included in the initial set of one or more light-emission parameters.</p><p id="p-0047" num="0046">The operations could include causing the firing circuit <b>120</b> to trigger emission of at least one test pulse <b>112</b> from at least one light-emitter device <b>110</b>. As an example, the controller <b>150</b> could transmit a firing signal to the firing circuit <b>120</b>, which could in turn provide a current and/or voltage pulse to the at least one light-emitter device <b>110</b>. In response, the at least one light-emitter device <b>110</b> could emit one or more test pulses <b>112</b> into the environment <b>10</b>.</p><p id="p-0048" num="0047">The operations could also include receiving, from at least one detector <b>130</b>, information indicative of at least one return test pulse <b>118</b> that corresponds to an interaction between the at least one test pulse <b>112</b> and an object <b>12</b> in the environment <b>10</b>.</p><p id="p-0049" num="0048">Put another way, the emitted test pulse(s) <b>112</b> could interact with one or more objects <b>12</b> and at least a portion of the light of the test pulse(s) <b>112</b> could be reflected and/or refracted back towards the lidar system <b>100</b>. In some embodiments, 0.1% of the photons emitted in a test pulse <b>112</b> could be reflected from the object <b>12</b> back towards the lidar system <b>100</b> as a return test pulse <b>118</b>. In other embodiments, 60% of the photons emitted in the test pulse <b>112</b> could be reflected from the object <b>12</b> back towards the lidar system <b>100</b> as a return test pulse <b>118</b>. It will be understood that the test pulses <b>112</b> may interact differently with various objects <b>12</b> in the environment <b>10</b> depending on, for example, various characteristics of the objects <b>12</b> including surface characteristics (e.g., smooth or rough), color, shape, orientation, size, among other factors. Highly reflective objects could include, without limitation, smooth mirror-like surfaces, glass, polished metal, corner cubes, among other possibilities. In such scenarios, the highly reflective objects may reflect/refract light back towards the lidar system <b>100</b> in a very efficient manner (e.g., over 30%, over 50%, over 70%, or even over 90% of the emitted photons could be reflected back towards the lidar system <b>100</b>). Such highly reflective objects may be termed retroreflectors <b>14</b>.</p><p id="p-0050" num="0049">The operations could include determining, based on the received information about the at least one return test pulse <b>118</b>, a presence of a retroreflector <b>14</b> based on an intensity of the return test pulse <b>118</b> being above a threshold level <b>156</b>. In some embodiments, the threshold level <b>156</b> could be stored in the memory <b>154</b> (e.g., in a database or look-up table). Additionally or alternatively, the threshold level <b>156</b> could be a static value, a set of static values, and/or a dynamic value or set of dynamic values. In some examples, the threshold level could be determined dynamically and/or continuously based on the intensity of test pulse returns. In such scenarios, and with sufficient intensity bit depth, various pulse parameters can be continuously modulated.</p><p id="p-0051" num="0050">The operations yet further include, in response to determining the presence of the retroreflector <b>14</b>, determining a subsequent set of one or more light-emission parameters (e.g., pulse energy parameter <b>124</b>, pulse repetition rate parameter <b>126</b>, and/or #of detection pulses parameter <b>128</b>). The subsequent set of one or more light-emission parameters is different than the initial set of one or more light-emission parameters. As an example, determining the subsequent set of light-emission parameters could include adjusting a pulse energy <b>124</b> of the subsequent group of detection pulses <b>114</b><i>b</i>; changing a pulse repetition rate <b>126</b> of the subsequent group of detection pulses <b>114</b><i>b</i>; and/or changing a number of detection pulses <b>128</b> in the subsequent group of detection pulses <b>114</b><i>b. </i></p><p id="p-0052" num="0051">In some embodiments, the operations of: 1) causing the firing circuit <b>120</b> to trigger emission of the at least one test pulse <b>112</b>; 2) receiving information indicative of the at least one return pulse <b>118</b>; and 3) determining the presence of the retroreflector <b>14</b> could occur during a test pulse phase that is between 1 to 5 microseconds in duration.</p><p id="p-0053" num="0052">In various examples, the operations may additionally include causing the firing circuit <b>120</b> to trigger emission of the subsequent group of detection pulses <b>114</b><i>b </i>from the at least one light-emitter device <b>110</b>.</p><p id="p-0054" num="0053">In example embodiments, the operations could include a test pulse phase and a detection pulse phase. The test pulse phase and the detection pulse phase could be between 10 to 25 microseconds in duration.</p><p id="p-0055" num="0054">In some embodiments, the subsequent group of detection pulses <b>114</b><i>b </i>could include between 10 and 25 successive light pulses. In such scenarios, the at least one detector <b>130</b> is configured to aggregate the intensity of return pulses (e.g., return detection pulses <b>119</b>) that correspond to interactions between the detection pulses <b>114</b><i>a</i>, <b>114</b><i>b </i>and the environment <b>10</b>.</p><p id="p-0056" num="0055">In some embodiments, determining the subsequent set of one or more light-emission parameters to change at least one aspect of the subsequent group of detection pulses <b>114</b><i>b </i>could be further based on determining the presence of a retroreflector <b>14</b> during at least one prior test pulse phase. In other words, the determination of the presence of the retroreflector <b>14</b> could be performed in a prior test pulse phase. In such scenarios, the presence of the retroreflector <b>14</b> could be inferred or determined based on an earlier test pulse cycle.</p><p id="p-0057" num="0056">Put another way, determining the presence of a retroreflector <b>14</b> could be performed based on prior return information, which could include information about objects <b>12</b> and retroreflectors <b>14</b> in the environment <b>10</b> obtained from prior lidar scans. Such prior return information could include lidar point cloud information from a prior lidar scan. The prior lidar scan could have been conducted at a prior time by lidar system <b>100</b> or by a different lidar system.</p><p id="p-0058" num="0057">In various examples, the operations may include dynamically adjusting the threshold level <b>156</b> based on at least one of: detector soiling, lens or lens protection glass soiling, background light conditions, weather conditions (e.g., dust, smoke, fog), or precipitation (e.g., rain, sleet, snow, hail, etc.). In some embodiments, soiling could include accumulation of dirt, oil, organic particles, water, or other particulates on an optical surface (e.g., a lens or optical window) of the lidar system <b>100</b>. Within the context of the present disclosure, background light conditions could include a lighting condition of an environment, such as daylight, cloudy, hazy, and/or nighttime conditions. For example, the threshold level <b>156</b> could be adjusted based on a background light level that could vary due to the time of day, ambient lighting, internal or external temperature, headlights from other vehicles, etc. In some examples, the threshold level <b>156</b> could be adjusted based on cracking and/or failure of optical components and/or changes in stray light levels inside an assembly housing of the lidar system <b>100</b> during operation. Additionally or alternatively, the threshold level <b>156</b> could be adjusted based on rainy, foggy, or snowy conditions. Such environmental conditions could introduce relatively reflective objects (e.g., rain drops or snowflakes) into the environment <b>10</b>. In such scenarios, the threshold level <b>156</b> could be adjusted higher or lower to balance the need to obtain a high definition point cloud with avoiding the oversaturation of detectors <b>130</b> due to overbright return pulses or scattering of the overbright return light onto adjacent detector channels other than those intended to receive light from the reflectors direction.</p><p id="p-0059" num="0058">In some embodiments, the operations may additionally include determining a three-dimensional retroreflector object map that could include information indicative of spatial locations of highly reflective objects within the environment <b>10</b>. Generating such a retroreflector object map may provide a way to predict the relative locations of retroreflectors at a future point in time (e.g., as a vehicle moves within its environment <b>10</b>).</p><p id="p-0060" num="0059">In some embodiments, information obtained from other sensors <b>160</b> could be utilized as a basis to dynamically adjust the threshold level <b>156</b> and/or the various aspects of the light pulses (e.g., pulse energy, pulse repetition rate, #of detection pulses, etc.).</p><p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. <b>2</b></figref> illustrates an operating scenario <b>200</b>, according to an example embodiment. A first signal waveform <b>202</b> could represent a pulse emission amplitude <b>210</b> as a function of time <b>230</b>. The first signal waveform <b>202</b> could illustrate signals occurring after a plurality of initial detection pulses <b>114</b><i>a</i>. Thereafter, the first signal waveform <b>202</b> could include one or more test pulses <b>112</b> emitted during a test pulse phase <b>206</b>. The first signal waveform <b>202</b> may also include a plurality of detection pulses <b>114</b><i>b </i>emitted during a detection pulse phase <b>208</b> that could be subsequent to the test pulse phase <b>206</b>. In some embodiments, the emission amplitude of the detection pulses <b>114</b><i>b </i>could be less (e.g., less than 1%, 10%, 50%, etc.) of the emission amplitude of the test pulse(s) <b>112</b>. Other differences in the relative amplitude of the detection pulses <b>114</b><i>b </i>with respect to the test pulse(s) <b>112</b> are possible and contemplated. Additionally or alternatively, the detection pulses <b>114</b><i>b </i>could have a shorter pulse duration than the test pulse(s) <b>112</b>.</p><p id="p-0062" num="0061">In some embodiments, the test pulse phase <b>206</b> could include a pulse emission period and a listening period. Likewise, the detection pulse phase <b>208</b> could include a pulse emission period and a listening period.</p><p id="p-0063" num="0062">A second signal waveform <b>204</b> could represent a pulse detection amplitude <b>220</b> as a function of time <b>230</b>. The second signal waveform <b>204</b> could be an output of one or more detectors <b>130</b> or one or more macropixels <b>134</b>.</p><p id="p-0064" num="0063">The second signal waveform <b>204</b> could include a return test pulse signal <b>222</b> and a return detection pulse signal <b>224</b>. In some embodiments, the return test pulse signal <b>222</b> could be based on one or more reflected light pulses associated with the test pulse(s) <b>112</b>. The return detection pulse signal <b>224</b> could be based on the temporal aggregation of reflected light pulses associated with the respective detection pulse(s) <b>114</b><i>b</i>. It will be understood that other types of return test pulse signals <b>222</b> and return detection pulse signals <b>224</b> are possible and contemplated.</p><p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates a swimlane diagram <b>300</b>, according to an example embodiment. The swimlane diagram <b>300</b> is a flowchart that illustrates the various functions carried out by: 1) the light-emitter device(s) <b>110</b> and the firing circuit <b>120</b>; 2) the detector(s) <b>130</b>; and 3) the controller <b>150</b>. As an example, the controller <b>150</b> may initially trigger a plurality of initial detection pulses <b>114</b><i>a</i>. Subsequently, the controller <b>150</b> can trigger one or more initial test pulses <b>302</b> by sending a trigger signal to the firing circuit <b>120</b> associated with the light-emitter devices <b>110</b>. The reflected or refracted return light pulses could be measured by the detectors <b>130</b> as return light pulse signal <b>222</b>.</p><p id="p-0066" num="0065">In some examples, the return test pulse signal <b>222</b> could be provided to the controller <b>150</b> as information indicative of the light intensity/amplitude received at the detector(s) <b>130</b>. If the amplitude of the return test pulse signal <b>222</b> is above the threshold level <b>156</b>, a high test signal detection <b>304</b> could be obtained. Based on the high test signal detection <b>304</b>, the controller <b>150</b> could determine the presence of a retroreflector <b>306</b>.</p><p id="p-0067" num="0066">In response to determining the presence of the retroreflector <b>306</b>, the controller <b>150</b> could adjust the firing circuit <b>304</b>. For example, the controller <b>150</b> could determine a subsequent set of light-emission parameters (e.g., pulse energy parameter <b>124</b>, pulse repetition rate parameter <b>126</b>, or #of detection pulses parameter <b>128</b>). As an example, upon detecting a retroreflector, the controller <b>150</b> could be configured to reduce or completely eliminate, the number of subsequent detection pulses. Alternatively, upon detecting the retroreflector, the firing circuit <b>304</b> could be adjusted to change the pulse energy of the detection pulses <b>114</b><i>b</i>. Other ways to adjust various aspects of the subsequent detection pulses <b>114</b><i>b </i>are possible and contemplated.</p><p id="p-0068" num="0067">The controller <b>150</b> could then trigger the detection pulse(s) <b>306</b> by sending a detection pulse trigger signal to the firing circuit <b>120</b>. In turn, the firing circuit <b>120</b> could cause the light-emitter devices <b>110</b> to emit one or more detection pulses <b>114</b><i>b. </i></p><p id="p-0069" num="0068">Upon interacting with the environment, the detection pulses <b>114</b><i>b </i>could be reflected and/or refracted back toward the detectors <b>130</b> so as to form a return detection pulse signal <b>224</b>. The returns could be processed via detection pulse processing <b>306</b>.</p><p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates an operating scenario <b>400</b>, according to an example embodiment. The operating scenario <b>400</b> could include a return test pulse signal <b>222</b> that could be quantified by way of photon counts and/or amplitude <b>410</b> versus time. In some examples, the threshold level <b>156</b> could be stored in a look up table and/or in the memory <b>154</b>. As illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the maximum count/amplitude peak <b>412</b> of the return test pulse signal <b>222</b> is greater than the threshold level <b>156</b>. It will be understood that the controller <b>150</b> or another type of computing device could be configured to determine the presence of a retroreflector. Furthermore, the measurement of the return test pulse signal <b>222</b> could be temporally limited in software or hardware between T<sub>min </sub>and T<sub>max</sub>. That is, the counts/amplitude <b>410</b> will be zero if outside the T<sub>min</sub>&#x2212;T<sub>max </sub>range</p><p id="p-0071" num="0070"><figref idref="DRAWINGS">FIGS. <b>5</b>A, <b>5</b>B, <b>5</b>C, <b>5</b>D, and <b>5</b>E</figref> illustrate a vehicle <b>500</b>, according to an example embodiment. In some embodiments, the vehicle <b>500</b> could be a semi- or fully-autonomous vehicle. While <figref idref="DRAWINGS">FIGS. <b>5</b>A, <b>5</b>B, <b>5</b>C, <b>5</b>D, and <b>5</b>E</figref> illustrates vehicle <b>500</b> as being an automobile (e.g., a passenger van), it will be understood that vehicle <b>500</b> could include another type of autonomous vehicle, robot, or drone that can navigate within its environment using sensors and other information about its environment.</p><p id="p-0072" num="0071">In some examples, the vehicle <b>500</b> may include one or more sensor systems <b>502</b>, <b>504</b>, <b>506</b>, <b>508</b>, <b>510</b>, and <b>512</b>. In some embodiments, sensor systems <b>502</b>, <b>504</b>, <b>506</b>, <b>508</b>, <b>510</b> and/or <b>512</b> could represent one or more lidar systems <b>100</b> as illustrated and described in relation to <figref idref="DRAWINGS">FIG. <b>1</b></figref>. In other words, lidar systems described elsewhere herein could be coupled to the vehicle <b>500</b> and/or could be utilized in conjunction with various operations of the vehicle <b>500</b>. As an example, the lidar system <b>100</b> could be utilized in self-driving or other types of navigation, planning, perception, and/or mapping operations of the vehicle <b>500</b>.</p><p id="p-0073" num="0072">In some examples, the one or more devices or systems could be disposed in various locations on the vehicle <b>500</b> and could have fields of view that correspond to internal and/or external environments of the vehicle <b>500</b>.</p><p id="p-0074" num="0073">While the one or more sensor systems <b>502</b>, <b>504</b>, <b>506</b>, <b>508</b>, <b>510</b>, and <b>512</b> are illustrated on certain locations on vehicle <b>500</b>, it will be understood that more or fewer sensor systems could be utilized with vehicle <b>500</b>. Furthermore, the locations of such sensor systems could be adjusted, modified, or otherwise changed as compared to the locations of the sensor systems illustrated in <figref idref="DRAWINGS">FIGS. <b>5</b>A, <b>5</b>B, <b>5</b>C, <b>5</b>D, and <b>5</b>E</figref>.</p><p id="p-0075" num="0074">The one or more sensor systems <b>502</b>, <b>504</b>, <b>506</b>, <b>508</b>, <b>510</b>, and/or <b>512</b> could include other lidar sensors. For example, the other lidar sensors could include a plurality of light-emitter devices arranged over a range of angles with respect to a given plane (e.g., the x-y plane). For example, one or more of the sensor systems <b>502</b>, <b>504</b>, <b>506</b>, <b>508</b>, <b>510</b>, and/or <b>512</b> may be configured to rotate or pivot about an axis (e.g., the z-axis) perpendicular to the given plane so as to illuminate an environment around the vehicle <b>500</b> with light pulses. Based on detecting various aspects of reflected light pulses (e.g., the elapsed time of flight, polarization, intensity, etc.), information about the environment may be determined.</p><p id="p-0076" num="0075">In an example embodiment, sensor systems <b>502</b>, <b>504</b>, <b>506</b>, <b>508</b>, <b>510</b>, and/or <b>512</b> may be configured to provide respective point cloud information that may relate to physical objects within the environment of the vehicle <b>500</b>. While vehicle <b>500</b> and sensor systems <b>502</b>, <b>504</b>, <b>506</b>, <b>508</b>, <b>510</b>, and <b>512</b> are illustrated as including certain features, it will be understood that other types of sensor systems are contemplated within the scope of the present disclosure.</p><p id="p-0077" num="0076">While lidar systems with multiple light-emitter devices (e.g., a light-emitter device with multiple laser bars on a single laser die) are described and illustrated herein, lidar systems with single light-emitter devices are also contemplated. For example, light pulses emitted by one or more laser diodes may be controllably directed about an environment of the system. The angle of emission of the light pulses may be adjusted by a scanning device such as, for instance, a mechanical scanning mirror and/or a rotational motor. For example, the scanning devices could rotate in a reciprocating motion about a given axis and/or rotate about a vertical axis. In another embodiment, the light-emitter device may emit light pulses towards a spinning prism mirror, which may cause the light pulses to be emitted into the environment based on an angle of the prism mirror angle when interacting with each light pulse. Additionally or alternatively, scanning optics and/or other types of electro-opto-mechanical devices are possible to scan the light pulses about the environment. While <figref idref="DRAWINGS">FIGS. <b>5</b>A-<b>5</b>E</figref> illustrate various lidar sensors attached to the vehicle <b>500</b>, it will be understood that the vehicle <b>500</b> could incorporate other types of sensors.</p><p id="p-0078" num="0077">The lidar system also includes a firing circuit (e.g., firing circuit <b>120</b>) configured to selectively control the plurality of light-emitter devices to emit the light pulses in accordance with one or more adjustable light-emission parameters.</p><p id="p-0079" num="0078">The lidar system further includes a plurality of detectors (e.g., detectors <b>130</b>).</p><p id="p-0080" num="0079">The lidar system additionally includes a controller (e.g., controller <b>150</b>) having at least one processor (e.g., processor(s) <b>152</b>) and a memory (e.g., memory <b>154</b>). The at least one processor executes instructions stored in the memory so as to perform operations.</p><p id="p-0081" num="0080">The operations can include causing the firing circuit to trigger emission of an initial group of detection pulses (e.g., initial detection pulses <b>114</b><i>a</i>) from at least one light-emitter device in accordance with an initial set of one or more light-emission parameters.</p><p id="p-0082" num="0081">The operations include causing the firing circuit to trigger emission of at least one test pulse (e.g., test pulse <b>112</b>).</p><p id="p-0083" num="0082">The operations also include receiving, from at least one detector, information indicative of at least one return test pulse (e.g., return test pulse <b>118</b>) that corresponds to an interaction between the at least one test pulse and an object (e.g., object <b>12</b>) in the environment of the lidar system.</p><p id="p-0084" num="0083">The operations additionally include determining, based on the received information, a presence of a retroreflector (e.g., retroreflector <b>14</b>) based on an intensity of the return test pulse being above a threshold level (e.g. threshold level <b>156</b>).</p><p id="p-0085" num="0084">Yet further, the operations include, in response to determining the presence of the retroreflector, determining a subsequent set of one or more light-emission parameters (e.g., pulse energy <b>124</b>, pulse repetition rate <b>126</b>, and/or number of detection pulses <b>128</b>). The subsequent set of one or more light-emission parameters is different than the initial set of one or more light-emission parameters.</p><p id="p-0086" num="0085">In some embodiments, the one or more sensor systems <b>502</b>, <b>504</b>, <b>506</b>, <b>508</b>, <b>510</b>, and/or <b>512</b> could include image sensors. For example, vehicle <b>500</b> could include a camera system that includes an image sensor configured to provide images of a field of view. In various examples, the image sensor may include a plurality of detector elements.</p><p id="p-0087" num="0086">Additionally or alternatively, the vehicle <b>500</b> and/or sensor system <b>502</b>, <b>504</b>, <b>506</b>, <b>508</b>, <b>510</b>, and/or <b>512</b> could include one or more radar systems. The radar system(s) could be configured to emit radio waves to determine the range, angle, and/or relative velocity of objects within the environment <b>10</b>.</p><p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates a method <b>600</b>, according to an example embodiment. While method <b>600</b> illustrates several blocks of a method, it will be understood that fewer or more blocks or steps could be included. In such scenarios, at least some of the various blocks or steps may be carried out in a different order than of that presented herein. Furthermore, blocks or steps may be added, subtracted, transposed, and/or repeated. Some or all of the blocks or steps of method <b>600</b> may be carried out so as to operate the lidar system <b>100</b>, as illustrated and described in reference to <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0089" num="0088">Block <b>602</b> includes causing a firing circuit (e.g., firing circuit <b>120</b>) to trigger emission of an initial group of detection pulses from at least one light-emitter device (e.g., light-emitter device <b>110</b>) of a lidar system in accordance with an initial set of one or more light-emission parameters</p><p id="p-0090" num="0089">Block <b>604</b> includes causing the firing circuit to trigger emission of at least one test pulse (e.g., test pulse(s) <b>112</b>). Put another way, as described herein, a trigger signal could be provided to the firing circuit, which may, in turn interact with the light-emitter device so as to actually induce emission of the test pulses <b>112</b>.</p><p id="p-0091" num="0090">Block <b>606</b> includes receiving, from at least one detector (e.g., detector(s) <b>130</b>), information indicative of at least one return test pulse (e.g., return test pulse(s) <b>118</b>) that corresponds to an interaction between the at least one test pulse and an object (e.g., object <b>12</b>) in an environment (e.g., environment <b>10</b>). As described herein, the environment could include an interior or exterior environment, such as inside a building or outside of the building. Additionally or alternatively, the environment could include a vicinity around and/or on a roadway. Furthermore, the environment could include objects such as other vehicles, traffic signs, pedestrians, roadway surfaces, buildings, terrain, etc. In some scenarios, the plurality of light-emitter devices could include an array of vertical-cavity surface-emitting lasers (VCSELs). Additionally or alternatively, the plurality of detectors could include an array of detector elements that form at least one macropixel.</p><p id="p-0092" num="0091">Block <b>608</b> includes determining, based on the received information, a presence of a retroreflector (e.g., retroreflector <b>14</b>) based on an intensity of the return test pulse being above a threshold level (e.g., threshold level <b>156</b>).</p><p id="p-0093" num="0092">Block <b>610</b> includes, in response to determining the presence of the retroreflector, determining a subsequent set of one or more light-emission parameters. In such scenarios, the subsequent set of one or more light-emission parameters is different than the initial set of one or more light-emission parameters. In various examples, adjusting the firing circuit to change at least one aspect of the subsequent group of detection pulses could include one or more of: 1) changing a pulse energy of the subsequent group of detection pulses; 2) changing a pulse repetition rate of the detection pulses; or 3) changing a number of detection pulses in the subsequent group.</p><p id="p-0094" num="0093">Block <b>612</b> includes causing the firing circuit to trigger emission of a subsequent group of detection pulses (e.g., subsequent detection pulses <b>114</b><i>b</i>) in accordance with the subsequent set of one or more light-emission parameters.</p><p id="p-0095" num="0094">In some embodiments, the blocks or operations of: 1) causing the firing circuit to trigger emission of the at least one test pulse; 2) receiving information indicative of the at least one return pulse; and 3) determining the presence of the retroreflector could occur during a test pulse phase that is between 1 to 5 microseconds in duration. In other embodiments, the test pulse phase could be between 2 to 10 microseconds or between 5 to 20 microseconds. It will be understood that other test pulse phase durations are possible and contemplated.</p><p id="p-0096" num="0095">In some embodiments, method <b>600</b> could additionally include a detection pulse phase. In such scenarios, the test pulse phase and the detection pulse phase could be between 1 to 500 microseconds in total duration. Alternatively, the test pulse phase and the detection pulse phase could be between 10 to 25 microseconds in total duration or between 15 to 40 microseconds in total duration. Other time periods are possible and contemplated.</p><p id="p-0097" num="0096">In some examples, method <b>600</b> could include causing the firing circuit to trigger emission of the subsequent group of detection pulses from the at least one light-emitter device.</p><p id="p-0098" num="0097">In example embodiments, the subsequent group of detection pulses could include between 1 to 500 successive light pulses or between 10 to 25 successive light pulses. In some examples, the at least one detector is configured to aggregate the intensity of return pulses that correspond to interactions between the detection pulses and the environment.</p><p id="p-0099" num="0098">In some examples, adjusting the firing circuit to change at least one aspect of the subsequent group of detection pulses could be further based on determining the presence of a retroreflector during at least one prior test pulse phase.</p><p id="p-0100" num="0099">In some embodiments, method <b>600</b> could also include dynamically adjusting the threshold level based on at least one of: detector soiling, background light conditions, weather conditions, or precipitation.</p><p id="p-0101" num="0100">The particular arrangements shown in the Figures should not be viewed as limiting. It should be understood that other embodiments may include more or less of each element shown in a given Figure. Further, some of the illustrated elements may be combined or omitted. Yet further, an illustrative embodiment may include elements that are not illustrated in the Figures.</p><p id="p-0102" num="0101">A step or block that represents a processing of information can correspond to circuitry that can be configured to perform the specific logical functions of a herein-described method or technique. Alternatively or additionally, a step or block that represents a processing of information can correspond to a module, a segment, or a portion of program code (including related data). The program code can include one or more instructions executable by a processor for implementing specific logical functions or actions in the method or technique. The program code and/or related data can be stored on any type of computer readable medium such as a storage device including a disk, hard drive, or other storage medium.</p><p id="p-0103" num="0102">The computer readable medium can also include non-transitory computer readable media such as computer-readable media that store data for short periods of time like register memory, processor cache, and random access memory (RAM). The computer readable media can also include non-transitory computer readable media that store program code and/or data for longer periods of time. Thus, the computer readable media may include secondary or persistent long term storage, like read only memory (ROM), optical or magnetic disks, compact-disc read only memory (CD-ROM), for example. The computer readable media can also be any other volatile or non-volatile storage systems. A computer readable medium can be considered a computer readable storage medium, for example, or a tangible storage device.</p><p id="p-0104" num="0103">While various examples and embodiments have been disclosed, other examples and embodiments will be apparent to those skilled in the art. The various disclosed examples and embodiments are for purposes of illustration and are not intended to be limiting, with the true scope being indicated by the following claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A light detection and ranging (lidar) system comprising:<claim-text>a plurality of light-emitter devices configured to emit light pulses into an environment;</claim-text><claim-text>a firing circuit configured to selectively control the plurality of light-emitter devices to emit the light pulses in accordance with one or more adjustable light-emission parameters;</claim-text><claim-text>a plurality of detectors; and</claim-text><claim-text>a controller configured to perform operations, the operations comprising:<claim-text>causing the firing circuit to trigger emission of an initial group of detection pulses from at least one light-emitter device in accordance with an initial set of one or more light-emission parameters;</claim-text><claim-text>causing the firing circuit to trigger emission of at least one test pulse;</claim-text><claim-text>receiving, from at least one detector, information indicative of at least one return test pulse that corresponds to an interaction between the at least one test pulse and an object in the environment;</claim-text><claim-text>determining, based on the received information, a presence of a retroreflector or a bright object based on an intensity of the return test pulse being above a threshold level;</claim-text><claim-text>in response to determining the presence of the retroreflector, determining a subsequent set of one or more light-emission parameters, wherein the subsequent set of one or more light-emission parameters is different than the initial set of one or more light-emission parameters; and</claim-text><claim-text>causing the firing circuit to trigger emission of a subsequent group of detection pulses in accordance with the subsequent set of one or more light-emission parameters.</claim-text></claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The lidar system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the operations of causing the firing circuit to trigger emission of the at least one test pulse, receiving information indicative of the at least one return pulse, and determining the presence of the retroreflector occur during a test pulse phase that is between 1 to 5 microseconds in duration.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The lidar system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the subsequent set of light-emission parameters comprises a different pulse energy parameter than the initial set of light emission parameters, such that emitted light pulses in the subsequent group of detection pulses have a different pulse energy than emitted light pulses in the initial group of detection pulses.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The lidar system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the subsequent set of light-emission parameters comprises a different pulse repetition rate parameter than the initial set of light emission parameters, such that the subsequent group of detection pulses has a different pulse repetition rate than the initial group of detection pulses.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The lidar system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the subsequent set of light-emission parameters comprises a different pulse number parameter than the initial set of light emission parameters, such that the subsequent group of detection pulses has a different number of detection pulses than the initial group of detection pulses.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The lidar system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the operations comprise a test pulse phase and a detection pulse phase, wherein the test pulse phase and the detection pulse phase are between 1 to 500 microseconds in duration.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The lidar system of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the subsequent group of detection pulses comprises between 1 to 500 successive light pulses, wherein the plurality of detectors is configured to aggregate the intensity of return pulses that correspond to interactions between the detection pulses and the environment.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The lidar system of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the subsequent set of light-emission parameters is based on determining the presence of the retroreflector during a plurality of test pulse phases.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The lidar system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the operations further comprise dynamically adjusting the threshold level based on at least one of: detector soiling, background light conditions, weather conditions, or precipitation.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The lidar system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the plurality of light-emitter devices comprises an array of vertical-cavity surface-emitting lasers (VCSELs).</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The lidar system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the plurality of detectors comprises an array of detector elements forming at least one macropixel.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. A vehicle comprising:<claim-text>a light detection and ranging (lidar) system, the lidar system comprising:<claim-text>a plurality of light-emitter devices configured to emit light pulses into an environment;</claim-text><claim-text>a firing circuit configured to selectively control the plurality of light-emitter devices to emit the light pulses in accordance with one or more adjustable light-emission parameters;</claim-text><claim-text>a plurality of detectors; and</claim-text><claim-text>a controller configured to perform operations, the operations comprising:<claim-text>causing the firing circuit to trigger emission of an initial group of detection pulses from at least one light-emitter device in accordance with an initial set of one or more light-emission parameters;</claim-text><claim-text>causing the firing circuit to trigger emission of at least one test pulse;</claim-text><claim-text>receiving, from at least one detector, information indicative of at least one return test pulse that corresponds to an interaction between the at least one test pulse and an object in the environment;</claim-text><claim-text>determining, based on the received information, a presence of a retroreflector based on an intensity of the return test pulse being above a threshold level;</claim-text><claim-text>determining a subsequent set of one or more light-emission parameters, wherein the subsequent set of one or more light-emission parameters is different than the initial set of one or more light-emission parameters; and</claim-text><claim-text>causing the firing circuit to trigger emission of a subsequent group of detection pulses.</claim-text></claim-text></claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. A method comprising:<claim-text>causing a firing circuit to trigger emission of an initial group of detection pulses from at least one light-emitter device of a lidar system in accordance with an initial set of one or more light-emission parameters;</claim-text><claim-text>causing the firing circuit to trigger emission of at least one test pulse;</claim-text><claim-text>receiving, from at least one detector, information indicative of at least one return test pulse that corresponds to an interaction between the at least one test pulse and an object in an environment of the lidar system;</claim-text><claim-text>determining, based on the received information, a presence of a retroreflector based on an intensity of the return test pulse being above a threshold level; and</claim-text><claim-text>in response to determining the presence of the retroreflector, determining a subsequent set of one or more light-emission parameters, wherein the subsequent set of one or more light-emission parameters is different than the initial set of one or more light-emission parameters; and</claim-text><claim-text>causing the firing circuit to trigger emission of a subsequent group of detection pulses in accordance with the subsequent set of one or more light-emission parameters.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein causing the firing circuit to trigger emission of the at least one test pulse, receiving information indicative of the at least one return pulse, and determining the presence of the retroreflector occur during a test pulse phase that is between 1 to 5 microseconds in duration.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the subsequent set of light-emission parameters includes a different pulse energy parameter than the initial set of light-emission parameters, such that emitted light pulses in the subsequent group of detection pulses have a different pulse energy than emitted light pulses in the initial group of detection pulses.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the subsequent set of light-emission parameters includes a different pulse number parameter than the initial set of light emission parameters, such that the subsequent group of detection pulses has a different number of detection pulses than the initial group of detection pulses.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising a detection pulse phase, wherein the test pulse phase and the detection pulse phase are between 1 to 500 microseconds in duration.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the subsequent group of detection pulses comprises between 1 to 500 successive light pulses, wherein the at least one detector is configured to aggregate the intensity of return pulses that correspond to interactions between the detection pulses and the environment.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the subsequent set of light-emission parameters is based on determining the presence of the retroreflector during a plurality of test pulse phases.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising dynamically adjusting the threshold level based on at least one of: detector soiling, background light conditions, weather conditions, or precipitation.</claim-text></claim></claims></us-patent-application>