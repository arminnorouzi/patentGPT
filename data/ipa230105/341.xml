<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230000342A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230000342</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17946064</doc-number><date>20220916</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2018-173777</doc-number><date>20180918</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>A</section><class>61</class><subclass>B</subclass><main-group>3</main-group><subgroup>10</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>A</section><class>61</class><subclass>B</subclass><main-group>3</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>A</section><class>61</class><subclass>B</subclass><main-group>3</main-group><subgroup>15</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>A</section><class>61</class><subclass>B</subclass><main-group>3</main-group><subgroup>102</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>A</section><class>61</class><subclass>B</subclass><main-group>3</main-group><subgroup>0025</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>A</section><class>61</class><subclass>B</subclass><main-group>3</main-group><subgroup>152</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">OPHTHALMIC APPARATUS, CONTROLLING METHOD THEREOF, AND RECORDING MEDIUM</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16568262</doc-number><date>20190912</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17946064</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>TOPCON CORPORATION</orgname><address><city>Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>FUKUMA</last-name><first-name>Yasufumi</first-name><address><city>Wako-shi</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>HAYASHI</last-name><first-name>Takefumi</first-name><address><city>Wako-shi</city><country>JP</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>TATARA</last-name><first-name>Yoko</first-name><address><city>Kita-ku</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>TOPCON CORPORATION</orgname><role>03</role><address><city>Tokyo</city><country>JP</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">An ophthalmic apparatus of an exemplary aspect performs the first and second OCT scans on a subject's eye. The first OCT scan is performed on the first region including the first site of the subject's eye, and the second OCT scan is performed on the second region including the second site. The ophthalmic apparatus acquires the first deviation information of the subject's eye prior to the first OCT scan and performs alignment, and also acquires the second deviation information of the subject's eye prior to the second OCT scan and performs alignment. The ophthalmic apparatus calculates the distance between the first site and the second site based on the first data acquired through the first OCT scan and second data acquired through the second OCT scan.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="93.05mm" wi="158.75mm" file="US20230000342A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="233.26mm" wi="167.22mm" orientation="landscape" file="US20230000342A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="174.67mm" wi="132.00mm" orientation="landscape" file="US20230000342A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="228.26mm" wi="146.05mm" orientation="landscape" file="US20230000342A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="205.49mm" wi="134.54mm" orientation="landscape" file="US20230000342A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="114.22mm" wi="103.21mm" orientation="landscape" file="US20230000342A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="113.20mm" wi="97.37mm" orientation="landscape" file="US20230000342A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="161.37mm" wi="134.11mm" orientation="landscape" file="US20230000342A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="226.91mm" wi="155.36mm" file="US20230000342A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="205.49mm" wi="134.54mm" orientation="landscape" file="US20230000342A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="191.52mm" wi="138.94mm" orientation="landscape" file="US20230000342A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="235.63mm" wi="152.23mm" file="US20230000342A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="224.87mm" wi="158.83mm" file="US20230000342A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation of U.S. application Ser. No. 16/568,262, filed Sep. 12, 2019, which is based upon and claims the benefit of priority from Japanese Patent Application No. 2018-173777, filed Sep. 18, 2018, the entire contents of each are incorporated herein by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD</heading><p id="p-0003" num="0002">Embodiments described herein relate to an ophthalmic apparatus, a controlling method thereof, and a recording medium.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">Ophthalmic apparatuses capable of axial length measurement are known. For example, Japanese Unexamined Patent Application Publication No. 2016-19634 discloses an axial length measurement technique using optical coherence tomography (OCT). Axial length is defined as the distance between the corneal apex and the macula (fovea centralis). Axial length is one of useful intraocular parameters in selection of the power of an intraocular lens before cataract surgery, in checking of axial ametropia (axial refractive abnormality), etc.</p><p id="p-0005" num="0004">Since axial length is defined as the distance between the corneal apex and the macula as described above, both the corneal position and the retinal position are required for axial length measurement. Regarding the invention disclosed in Japanese Unexamined Patent Application Publication No. 2016-19634, there is a time difference between the first measurement for determining the corneal position and the second measurement for determining the retinal position. Here, the first measurement includes an OCT scan of anterior eye segment mode and the second measurement includes an OCT scan of posterior eye segment mode. Therefore, if a subject's eye moves between the first measurement and the second measurement, there is a possibility that axial length cannot be measured accurately. In particular, movement in a direction orthogonal to the depth direction of the subject's eye may greatly reduce the reliability of the measured value of axial length.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram illustrating an example of the configuration of an ophthalmic apparatus according to an exemplary embodiment.</p><p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic diagram illustrating an example of the configuration of the ophthalmic apparatus according to the exemplary embodiment.</p><p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. <b>3</b>A</figref> is a schematic diagram illustrating an example of the configuration of the ophthalmic apparatus according to the exemplary embodiment.</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>3</b>B</figref> is a schematic diagram illustrating an example of the configuration of the ophthalmic apparatus according to the exemplary embodiment.</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>4</b>A</figref> is a schematic diagram illustrating an example of the configuration of the ophthalmic apparatus according to the exemplary embodiment.</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>4</b>B</figref> is a schematic diagram illustrating an example of the configuration of the ophthalmic apparatus according to the exemplary embodiment.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic diagram illustrating an example of the operation that can be performed by the ophthalmic apparatus according to the exemplary embodiment.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart illustrating an example of the operation that can be performed by the ophthalmic apparatus according to the exemplary embodiment.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram illustrating an example of the configuration of an ophthalmic apparatus according to an exemplary embodiment.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a schematic diagram illustrating an example of the operation that can be performed by the ophthalmic apparatus according to the exemplary embodiment.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart illustrating an example of the operation that can be performed by the ophthalmic apparatus according to the exemplary embodiment.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flowchart illustrating an example of the operation that can be performed by the ophthalmic apparatus according to the exemplary embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION</heading><p id="p-0018" num="0017">One object of exemplary embodiments is to provide a technique capable of performing highly reliable axial length measurement regardless of the movement of the subject's eye.</p><p id="p-0019" num="0018">The first aspect of the exemplary embodiments is an ophthalmic apparatus comprising: a scanner that applies an optical coherence tomography (OCT) scan to a subject's eye; a movement mechanism that moves at least part of the scanner; a deviation detector that measures deviation of the subject's eye with respect to a predetermined reference position; scan controlling circuitry that performs first scan control of causing the scanner to perform an OCT scan on a first region including a first site of the subject's eye, and second scan control of causing the scanner to perform an OCT scan on a second region including a second site different from the first site; alignment controlling circuitry that performs first alignment control of controlling the movement mechanism based on first deviation information of the subject's eye acquired by the deviation detector prior to the first scan control, and second alignment control of controlling the movement mechanism based on second deviation information of the subject's eye acquired by the deviation detector prior to the second scan control; and distance calculating circuitry that calculates a distance between the first site and the second site based on first data acquired by the scanner under the first scan control and second data acquired by the scanner under the second scan control.</p><p id="p-0020" num="0019">The second aspect of the exemplary embodiments is the ophthalmic apparatus of the first aspect, wherein the scanner includes: an interference optical system that includes a measurement arm that guides measurement light to the subject's eye and a reference arm that guides reference light; and an arm length changer that is provided in at least one of the measurement arm and the reference arm, and changes an arm length under control of the scan controlling circuitry. Further, the distance calculating circuitry calculates a difference between a first arm length applied at a time of the first scan control and a second arm length applied at a time of the second scan control, analyzes the first data to specify a first position corresponding to the first site, analyzes the second data to specify a second position corresponding to the second site, and calculates the distance based on the difference, the first position, and the second position.</p><p id="p-0021" num="0020">The third aspect of the exemplary embodiments is an ophthalmic apparatus comprising: a scanner that applies an optical coherence tomography (OCT) scan to a subject's eye; a deviation detector that measures deviation of the subject's eye with respect to a predetermined reference position; scan controlling circuitry that performs first scan control of causing the scanner to perform an OCT scan on a first region including a first site of the subject's eye, and second scan control of causing the scanner to perform an OCT scan on a second region including a second site different from the first site; and distance calculating circuitry that calculates a distance between the first site and the second site, based on at least one of first deviation information of the subject's eye acquired by the deviation detector in response to the first scan control and second deviation information of the subject's eye acquired by the deviation detector in response to the second scan control, first data acquired by the scanner under the first scan control, and second data acquired by the scanner under the second scan control.</p><p id="p-0022" num="0021">The fourth aspect of the exemplary embodiments is the ophthalmic apparatus of the third aspect, wherein the deviation detector acquires one deviation information in response to one of the first scan control and the second scan control, and acquires another deviation information prior to an other of the first scan control and the second scan control. Further, the ophthalmic apparatus further comprises: a movement mechanism that moves at least part of the scanner; and alignment controlling circuitry that performs alignment control of controlling the movement mechanism based on the another deviation information prior to the other of the first scan control and the second scan control. In addition, the distance calculating circuitry calculates the distance based on the one deviation information, the first data, and the second data.</p><p id="p-0023" num="0022">The fifth aspect of the exemplary embodiments is the ophthalmic apparatus of the third or fourth aspect, wherein the scanner includes: an interference optical system that includes a measurement arm that guides measurement light to the subject's eye, and a reference arm that guides reference light; and an arm length changer that is provided in at least one of the measurement arm and the reference arm, and changes an arm length under control of the scan controlling circuitry. Further, the distance calculating circuitry calculates a difference between a first arm length applied at a time of the first scan control and a second arm length applied at a time of the second scan control, analyzes the first data to specify a first position corresponding to the first site, analyzes the second data to specify a second position corresponding to the second site, and calculates the distance based on the difference, the first position, the second position, and at least one of the first deviation information and the second deviation information.</p><p id="p-0024" num="0023">The sixth aspect of the exemplary embodiments is the ophthalmic apparatus of the fifth aspect, wherein the distance calculating circuitry calculates a provisional distance between the first site and the second site based on the difference, the first position, and the second position, and calculates the distance based on the provisional distance, at least one of the first deviation information and the second deviation information, and corneal curvature radius of the subject's eye acquired in advance.</p><p id="p-0025" num="0024">The seventh aspect of the exemplary embodiments is the ophthalmic apparatus of the sixth aspect, wherein the distance calculating circuitry calculates the distance between the first site and the second site by using the following arithmetic formula: AL=(r&#x2212;r*cos(arcsin(h/r)))+ALm*cos(arcsin(h/ALm)), where AL is the distance between the first site and the second site, ALm is the provisional distance, h is the first deviation information or the second deviation information, and r is the corneal curvature radius.</p><p id="p-0026" num="0025">The eighth aspect of the exemplary embodiments is the ophthalmic apparatus of any one of the first to seventh aspects, wherein the scan controlling circuitry causes the scanner to perform a plurality of OCT scans in at least one of the first scan control and the second scan control, and the distance calculating circuitry acquires a single piece of data from a data group acquired by the plurality of OCT scans, and calculates the distance using the single piece of data.</p><p id="p-0027" num="0026">The ninth aspect of the exemplary embodiments is the ophthalmic apparatus of the eighth aspect, wherein the distance calculating circuitry generates the single piece of data by averaging the data group.</p><p id="p-0028" num="0027">The tenth aspect of the exemplary embodiments is the ophthalmic apparatus of any one of the first to seventh aspects, wherein the scan controlling circuitry causes the scanner to perform an OCT scan on a three dimensional region of the subject's eye in at least one of the first scan control and the second scan control, and the distance calculating circuitry analyzes data acquired by the OCT scan on the three dimensional region to specify a feature position corresponding to a feature point of the subject's eye, and calculates a length of a line segment whose one end is placed at the feature position, as the distance.</p><p id="p-0029" num="0028">The eleventh aspect of the exemplary embodiments is the ophthalmic apparatus of the tenth aspect, wherein the scan controlling circuitry causes the scanner to perform an OCT scan on a three dimensional region including at least part of a corneal surface of the subject's eye in the first scan control, and the distance calculating circuitry analyzes data acquired by the OCT scan on the three dimensional region to specify a feature position corresponding to a corneal apex.</p><p id="p-0030" num="0029">The twelfth aspect of the exemplary embodiments is the ophthalmic apparatus of the tenth or eleventh aspect, wherein the scan controlling circuitry causes the scanner to perform an OCT scan on a three dimensional region including at least part of a retinal surface of the subject's eye in the second scan control, and the distance calculating circuitry analyzes data acquired by the OCT scan on the three dimensional region to specify a feature position corresponding to a macular center.</p><p id="p-0031" num="0030">The thirteenth aspect of the exemplary embodiments is the ophthalmic apparatus of any one of the first to twelfth aspects, wherein the deviation detector includes: a projection system that projects a light beam onto an anterior eye segment of the subject's eye; two or more cameras that photograph the anterior eye segment from directions different from each other; and deviation calculating circuitry that calculates the deviation of the subject's eye based on positions of images of the light beam in two or more anterior eye segment images acquired by the two or more cameras.</p><p id="p-0032" num="0031">The fourteenth aspect of the exemplary embodiments is the ophthalmic apparatus of any one of the first to twelfth aspects, wherein the deviation detector includes: a projection system that projects a light beam obliquely onto an anterior eye segment of the subject's eye; an image sensor that detects reflection of the light beam from the anterior eye segment; and deviation calculating circuitry that calculates the deviation of the subject's eye based on a position of the reflection detected by the image sensor.</p><p id="p-0033" num="0032">The fifteenth aspect of the exemplary embodiments is a method of controlling an ophthalmic apparatus that includes a scanner configured to apply an optical coherence tomography (OCT) scan to a subject's eye, a movement mechanism configured to move at least part of the scanner, and a deviation detector configured to measure deviation of the subject's eye with respect to a predetermined reference position. The method comprises: a first alignment control step that controls the movement mechanism based on first deviation information of the subject's eye acquired by the deviation detector; a first scan control step that causes the scanner to perform an OCT scan on a first region including a first site of the subject's eye; a second alignment control step that controls the movement mechanism based on second deviation information of the subject's eye acquired by the deviation detector; a second scan control step that causes the scanner to perform an OCT scan on a second region including a second site different from the first site; and a distance calculation step that calculates a distance between the first site and the second site, based on first data acquired by the scanner in the first scan control step and second data acquired by the scanner in the second scan control step.</p><p id="p-0034" num="0033">The sixteenth aspect of the exemplary embodiments is a method of controlling an ophthalmic apparatus that includes a scanner configured to apply an optical coherence tomography (OCT) scan to a subject's eye, and a deviation detector configured to measure deviation of the subject's eye with respect to a predetermined reference position. The method comprises: a first scan control step that causes the scanner to perform an OCT scan on a first region including a first site of the subject's eye; a second scan control step that causes the scanner to perform an OCT scan on a second region including a second site different from the first site; a deviation detection step that causes the deviation detector to perform at least one of acquisition of first deviation information of the subject's eye in response to the first scan control, and acquisition of second deviation information of the subject's eye in response to the second scan control; and a distance calculation step that calculates a distance between the first site and the second site, based on at least one of the first deviation information and the second deviation information acquired in the deviation detection step, first data acquired by the scanner in the first scan control step, and second data acquired by the scanner in the second scan control step.</p><p id="p-0035" num="0034">The seventeenth aspect of the exemplary embodiments is a program that causes a computer to execute the method of the fifteenth or sixteenth aspect.</p><p id="p-0036" num="0035">The eighteenth aspect of the exemplary embodiments is a computer-readable non-transitory recording medium storing the program of the seventeenth aspect.</p><p id="p-0037" num="0036">According to the exemplary embodiments, axial length measurement may be carried out with high reliability regardless of the movement of the subject's eye.</p><p id="p-0038" num="0037">Hereinafter; exemplary aspects of ophthalmic apparatuses; controlling methods thereof, programs, and recording media according to the exemplary embodiments will be described in detail with referring to the drawings. The ophthalmic apparatuses according to the embodiments acquire data by applying an OCT scan to the subject's eye, and determine the distance between two different sites of the subject's eye. Typically, the ophthalmic apparatuses according to the embodiments may sequentially apply OCT scans to the anterior eye segment and the posterior eye segment of the subject's eye, and determine the value of the axial length from the data acquired through the sequential OCT scans.</p><p id="p-0039" num="0038">The following exemplary disclosures describes an ophthalmic apparatus including a combination of spectral domain OCT and a fundus camera; however, embodiments are not limited thereto. The type of OCT employed in embodiments is not limited to spectral domain OCT, and may be swept source OCT, for example.</p><p id="p-0040" num="0039">Spectral domain OCT is an imaging technique performed by splitting light from a low coherence light source into measurement light and reference light, superposing the return light of the measurement light returned from the object with the reference light to generate interference light, detecting the spectral distribution of the interference light using a spectrometer, and applying Fourier transform and other processes to the spectral distribution detected.</p><p id="p-0041" num="0040">Swept source OCT is an imaging technique performed by splitting light emitted from a wavelength tunable light source into measurement light and reference light, superposing the return light of the measurement light returned from the object with the reference light to generate interference light, detecting the interference light by a photodetector such as a balanced photodiode, and applying Fourier transform and other processes to the detected data acquired according to the wavelength sweeping and the measurement light scanning.</p><p id="p-0042" num="0041">As described above, spectral domain OCT is an OCT technique for acquiring a spectral distribution by space division, and swept source OCT is an OCT technique for acquiring a spectral distribution by time division. In addition, the OCT technique utilizable for embodiments is not limited to the two, and embodiments may utilize any type of OCT technique different from them. For example, time domain OCT may be employed.</p><p id="p-0043" num="0042">In the present specification, &#x201c;image data&#x201d; and an &#x201c;image&#x201d; that is information visualized based thereon may not be distinguished from one another unless otherwise mentioned. Further, a site or tissue of the subject's eye and an image visualizing the site or tissue may not be distinguished from one another unless otherwise mentioned.</p><heading id="h-0006" level="1">First Embodiment</heading><p id="p-0044" num="0043">The first embodiment performs an OCT scan (first OCT scan) on the first region of the subject's eye after performing alignment for the subject's eye, performs another OCT scan (second OCT scan) on the second region after performing another alignment, and then calculates the distance between the first site included in the first region and the second site included in the second region based on the first data acquired through the first OCT scan and the second data acquired through the second OCT scan. With this, both the first and second OCT scans can be carried out under appropriate alignment states, thereby making it possible to achieve distance measurement with high reliability even in the case where eye movement occurs between the first and second OCT scans. Some examples of such embodiment are disclosed below.</p><heading id="h-0007" level="2">&#x3c;Configurations&#x3e;</heading><p id="p-0045" num="0044">The exemplary ophthalmic apparatus <b>1</b> shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> includes the fundus camera unit <b>2</b>, the OCT unit <b>100</b> and the arithmetic and control unit <b>200</b>. The fundus camera unit <b>2</b> is provided with optical systems and mechanisms for acquiring front images of the subject's eye E, and optical systems and mechanisms for performing OCT. The OCT unit <b>100</b> includes optical systems and mechanisms for performing OCT. The arithmetic and control unit <b>200</b> includes one or more processors configured to execute various processes (e.g., calculations, operations, and controls). In addition to them, the ophthalmic apparatus <b>1</b> includes the two anterior eye segment cameras <b>300</b> for photographing an anterior eye segment from two directions different from each other.</p><p id="p-0046" num="0045">The fundus camera unit <b>2</b> is provided with a chin rest and a forehead rest for supporting the face of the subject. The chin rest and the forehead rest correspond to the supporter <b>340</b> shown in <figref idref="DRAWINGS">FIG. <b>4</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>4</b>B</figref>. The base <b>310</b> stores a drive mechanism and an arithmetic control circuit. The housing <b>320</b> provided on the base <b>310</b> stores an optical system. The lens container <b>330</b> is provided in such a way that it protrudes from the front surface of the housing <b>320</b>, and accommodates the objective lens <b>22</b>.</p><p id="p-0047" num="0046">Further, the ophthalmic apparatus <b>1</b> includes a lens unit for switching the target of OCT imaging between some sites. More specifically, the ophthalmic apparatus <b>1</b> includes the anterior eye segment OCT attachment <b>400</b> for applying OCT to an anterior eye segment. For example, the attachment <b>400</b> may be configured in the same manner as the optical unit disclosed in Japanese Unexamined Patent Application Publication No. 2015-160103.</p><p id="p-0048" num="0047">As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the attachment <b>400</b> can be disposed between the objective lens <b>22</b> and the subject's eye E. When the attachment <b>400</b> is placed in the optical path, the ophthalmic apparatus <b>1</b> can apply an OCT scan to the anterior eye segment. On the other hand, when the attachment <b>400</b> is retracted from the optical path, the ophthalmic apparatus <b>1</b> can apply an OCT scan to the posterior eye segment. The movement of the attachment <b>400</b> is performed manually or automatically.</p><p id="p-0049" num="0048">In another embodiment, an OCT scan may be applied to a posterior eye segment when an attachment is placed in the optical path, and an OCT scan may be applied to an anterior eye segment when the attachment is retracted from the optical path. Further, the target sites switched by the attachment is not limited to the posterior and eye segments, and may be any sites of an eye. Such attachments are not the only configuration of switching the target sites of OCT. For example, the followings may be adopted: a configuration including a lens movable along an optical path; or a configuration including a lens insertable into and removable from an optical path.</p><p id="p-0050" num="0049">In the present embodiment, the term &#x201c;processor&#x201d; is, for example, a circuit (circuitry) such as a central processing unit (CPU), a graphics processing unit (GPU), an application specific integrated circuit (ASIC), a programmable logic device (e.g., a simple programmable logic device (SPLD), a complex programmable logic device (CPLD), or a field programmable gate array (FPGA)), or the like. The processor realizes the functions according to the embodiment, for example, by reading out and executing a program stored in a memory circuit or a memory device.</p><heading id="h-0008" level="2">&#x3c;Fundus Camera Unit <b>2</b>&#x3e;</heading><p id="p-0051" num="0050">The fundus camera unit <b>2</b> is provided with optical systems for photographing the fundus Ef of the subject's eye E. Digital images of the fundus Ef (referred to as fundus images, fundus photographs, or the like) obtained by the fundus camera unit <b>2</b> are, in general, front images such as observation images and photographed images. An observation image is obtained by capturing a moving image using near-infrared light. A photographed image is a still image obtained by using flash light in the visible range.</p><p id="p-0052" num="0051">The fundus camera unit <b>2</b> includes the illumination optical system <b>10</b> and the photography optical system <b>30</b>. The illumination optical system <b>10</b> projects illumination light onto the subject's eye E. The photography optical system <b>30</b> detects the return light of the illumination light projected onto the subject's eye E. The measurement light incident from the OCT unit <b>100</b> is directed to the subject's eye E through the optical path in the fundus camera unit <b>2</b>. The return light of the measurement light projected onto the subject's eye E (e.g., the fundus Ef) is directed to the OCT unit <b>100</b> through the same optical path in the fundus camera unit <b>2</b>.</p><p id="p-0053" num="0052">The light output from the observation light source <b>11</b> of the illumination optical system <b>10</b> (referred to as observation illumination light) is reflected by the concave mirror <b>12</b>, passes through the condenser lens <b>13</b>, and becomes near-infrared light after passing through the visible cut filter <b>14</b>. Further, the observation illumination light is once converged at a location near the photographing light source <b>15</b>, reflected by the mirror <b>16</b>, passes through the relay lens system <b>17</b>, the relay lens <b>18</b>, the diaphragm <b>19</b>, and the relay lens system <b>20</b>, and is directed to the aperture mirror <b>21</b>. Then, the observation illumination light is reflected on the peripheral part (i.e., the surrounding area of the aperture part) of the aperture mirror <b>21</b>, penetrates the dichroic mirror <b>46</b>, and is refracted by the objective lens <b>22</b>, thereby illuminating the subject's eye E (the fundus Ef thereof). The return light of the observation illumination light from the subject's eye E is refracted by the objective lens <b>22</b>, penetrates the dichroic mirror <b>46</b>, passes through the aperture part formed in the center area of the aperture mirror <b>21</b>, passes through the dichroic mirror <b>55</b>, travels through the photography focusing lens <b>31</b>, and is reflected by the mirror <b>32</b>. Further, the return light passes through the half mirror <b>33</b>A, is reflected by the dichroic mirror <b>33</b>, and forms an image on the light receiving surface of the image sensor <b>35</b> by the imaging lens <b>34</b>. The image sensor <b>35</b> detects the return light at a predetermined frame rate (capture rate). Note that the focus of the photography optical system <b>30</b> can be adjusted to match the fundus Ef or vicinity thereof, and can be adjusted to match the anterior eye segment or vicinity thereof.</p><p id="p-0054" num="0053">The light output from the photographing light source <b>15</b> (referred to as photographing illumination light) passes through the same route as that of the observation illumination light and is projected onto the fundus Ef. The return light of the photographing illumination light from the subject's eye E passes through the same route as that of the return light of the observation illumination light, is guided to and passes through the dichroic mirror <b>33</b>, is reflected by the mirror <b>36</b>, and forms an image on the light receiving surface of the image sensor <b>38</b> by the imaging lens <b>37</b>.</p><p id="p-0055" num="0054">The liquid crystal display (LCD) <b>39</b> displays a fixation target (i.e., a fixation target image). Part of the light beam output from the LCD <b>39</b> is reflected by the half mirror <b>33</b>A, reflected by the mirror <b>32</b>, travels through the photography focusing lens <b>31</b> and the dichroic mirror <b>55</b>, and passes through the aperture part of the aperture mirror <b>21</b>. The light beam having passed through the aperture part of the aperture mirror <b>21</b> penetrates the dichroic mirror <b>46</b>, and is refracted by the objective lens <b>22</b>, thereby being projected onto the fundus Ef. Fixation targets are typically used for guidance and fixation of the line of sight. The direction in which the line of sight of the subject's eye E is guided (and fixed), that is, the direction in which the fixation of the subject's eye E is urged is referred to as a fixation position.</p><p id="p-0056" num="0055">The fixation position can be changed by changing the display position of the fixation target image on the screen of the LCD <b>39</b>. Examples of fixation positions include a fixation position for acquiring an image centered on the macula, a fixation position for acquiring an image centered on the optic nerve head, a fixation position for acquiring an image centered on a position between the macula and the optic nerve head (i.e., the fundus center position), and a fixation position for acquiring an image of a site far away from the macula (i.e., a peripheral position of the fundus).</p><p id="p-0057" num="0056">A user interface such as a graphical user interface (GUI) for designating at least one of such typical fixation positions can be provided. Further, a user interface such as a GUI for manually changing the fixation position (i.e., the display position of the fixation target) can be provided. In addition, it is also possible to apply a configuration in which the fixation position is automatically set.</p><p id="p-0058" num="0057">The configuration of presenting fixation targets to the subject's eye E for changing fixation positions is not limited to display devices such as LCD. For example, a device that has light emitting elements (e.g., light emitting diodes) disposed in a matrix-like arrangement (referred to as a fixation matrix) can be adopted in place of a display device. In this case, fixation positions of the subject's eye E by the fixation target can be changed by lighting one (or more) of the light emitting elements in a selective manner. As another example, a device provided with one or more movable light emitting elements can generate the fixation target capable of changing fixation positions.</p><p id="p-0059" num="0058">The alignment optical system <b>50</b> generates an alignment indicator used for the alignment of the optical system with respect to the subject's eye E. The alignment light output from the light emitting diode (LED) <b>51</b> travels through the diaphragm <b>52</b>, the diaphragm <b>53</b>, and the relay lens <b>54</b>, is reflected by the dichroic mirror <b>55</b>, passes through the aperture part of the aperture mirror <b>21</b>, penetrates the dichroic mirror <b>46</b>, and is projected onto the subject's eye E via the objective lens <b>22</b>. The return light of the alignment light from the subject's eye E passes through the same route as that of the return light of the observation illumination light and is guided to the image sensor <b>35</b>. Based on the received image (referred to as the alignment indicator image), manual alignment and/or automatic alignment can be performed.</p><p id="p-0060" num="0059">Note that alignment methods applicable to embodiments are not limited to the above method using an alignment indicator. It may be any known method, such as a method using the anterior eye segment camera <b>300</b> (described later), or a method using an optical lever configured to project light obliquely onto the cornea and detect the cornea reflection light in the opposite oblique direction (described later).</p><p id="p-0061" num="0060">The focus optical system <b>60</b> generates a split indicator used for the focus adjustment with respect to subject's eye E. The focus optical system <b>60</b> is moved along the optical path of the illumination optical system <b>10</b> (referred to as the illumination optical path) in conjunction with the movement of the photography focusing lens <b>31</b> along the optical path of the photography optical system <b>30</b> (referred to as the photographing optical path). The reflection rod <b>67</b> is inserted into and removed from the illumination optical path, Before performing focus adjustment, the reflective surface of the reflection rod <b>67</b> is arranged in the slanted state in the illumination optical path. The focus light output from the LED <b>61</b> passes through the relay lens <b>62</b>, is split into two light beams by the split indicator plate <b>63</b>, passes through the two-hole diaphragm <b>64</b>. Then, the focus light is reflected by the mirror <b>65</b>, is converged on the reflective surface of the reflection rod <b>67</b> by the condenser lens <b>66</b>, and is reflected by the reflective surface. Further, the focus light travels through the relay lens <b>20</b>, is reflected by the aperture mirror <b>21</b>, and penetrates the dichroic mirror <b>46</b>, thereby being projected onto the subject's eye E via the objective lens <b>22</b>. The return light of the focus light from the subject's eye E (e.g., the fundus reflection light) passes through the same route as that of the return light of the alignment light and is guided to the image sensor <b>35</b>. Based on the received image (referred to as the split indicator image), manual focusing and/or automatic focusing can be performed.</p><p id="p-0062" num="0061">The diopter correction lenses <b>70</b> and <b>71</b> can be selectively inserted into the photographing optical path between the aperture mirror <b>21</b> and the dichroic mirror <b>55</b>. The diopter correction lens <b>70</b> is a positive lens (convex lens) for correcting high hyperopia. The diopter correction lens <b>71</b> is a negative lens (concave lens) for correcting high myopia.</p><p id="p-0063" num="0062">The dichroic mirror <b>46</b> couples the optical path for fundus photography and the optical path for OCT (measurement arm). The dichroic mirror <b>46</b> reflects the light of wavelength bands used for OCT and transmits the light for fundus photography. The measurement arm is formed by, listed from the OCT unit <b>100</b> side, the collimator lens unit <b>40</b>, the retroreflector <b>41</b>, the dispersion compensation member <b>42</b>, the OCT focusing lens <b>43</b>, the optical scanner <b>44</b>, and the relay lens <b>45</b>.</p><p id="p-0064" num="0063">The retroreflector <b>41</b> is movable along the optical path of the measurement light LS incident on the retroreflector <b>41</b>, whereby the length of the measurement arm is changed. The change in the length of the measurement arm can be utilized for operations such as optical path length correction according to axial length and interference condition adjustment.</p><p id="p-0065" num="0064">The dispersion compensation member <b>42</b> acts to eliminate the difference between the dispersion characteristics of the measurement light LS and that of the reference light LR, together with the dispersion compensation member <b>113</b> (described later) arranged in the reference arm.</p><p id="p-0066" num="0065">The OCT focusing lens <b>43</b> is moved along the measurement arm in order to perform the focus adjustment of the measurement arm. Note that the movements of the photography focusing lens <b>31</b>, the focus optical system <b>60</b> and the OCT focusing lens <b>43</b> may be controlled in an interlocking manner.</p><p id="p-0067" num="0066">The optical scanner <b>44</b> is placed at a position substantially optically conjugate with the pupil of the subject's eye E. The optical scanner <b>44</b> is configured to deflect the measurement light LS guided by the measurement arm. An example of the optical scanner <b>44</b> is a galvano scanner that allows two dimensional scanning. Typically, the optical scanner <b>44</b> includes a one dimensional scanner for deflecting the measurement light in the +x and &#x2212;x directions (x-scanner), and another one dimensional scanner for deflecting the measurement light in the +y and &#x2212;y directions (y-scanner). In this case, for example, either one of the one dimensional scanners may be placed at a position optically conjugate with the pupil, or a position optically conjugate with the pupil is placed between the one dimensional scanners.</p><heading id="h-0009" level="2">&#x3c;OCT Unit <b>100</b>&#x3e;</heading><p id="p-0068" num="0067">The exemplary OCT unit <b>100</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> is provided with the optical system for performing spectral domain OCT. The optical system includes an interference optical system. The interference optical system is configured to split light emitted from a wavelength tunable light source into measurement light and reference light, superpose the return light of the measurement light projected onto the subject's eye E with the reference light having traveled through the reference optical path, thereby yielding interference light. The spectral distribution of the interference light generated by the interference optical system is detected with a spectrometer. The data (i.e., a detection signal) obtained by detecting the spectral distribution of the interference light is sent to the arithmetic and control unit <b>200</b>.</p><p id="p-0069" num="0068">The light source unit <b>101</b> outputs the low coherence light L<b>0</b> (broadband low coherence light). The low coherence light L<b>0</b> includes, for example, wavelength bands in the near-infrared region (about 800 nm to 900 nm), and has a temporal coherence length of about several tens of micrometers. The low coherence light L<b>0</b> may be invisible to human eyes, such as near-infrared light having a central wavelength of about 1040 nm to 1060 nm. The light source unit <b>101</b> includes a light output device such as a super luminescent diode (SLD), LED, semiconductor optical amplifier (SOA), or the like.</p><p id="p-0070" num="0069">In the case where swept source OCT is employed in place of spectral domain OCT, a light source unit is used that includes a near-infrared wavelength tunable laser configured to vary wavelengths of emitted light at high speed.</p><p id="p-0071" num="0070">The low coherence light L<b>0</b> output from the light source unit <b>101</b> is guided to the polarization controller <b>103</b> through the optical fiber <b>102</b>, and the polarization state of the light L<b>0</b> is regulated. The light L<b>0</b> with regulated polarization state is guided to the fiber coupler <b>105</b> through the optical fiber <b>104</b> and is split into the measurement light LS and the reference light LR. The optical path guiding the measurement light LS is referred to as a measurement arm (or a sample arm), and the optical path guiding the reference light LR is referred to as a reference arm.</p><p id="p-0072" num="0071">The reference light LR generated by the fiber coupler <b>105</b> is guided through the optical fiber <b>110</b> to the collimator <b>111</b>, is converted into a parallel light beam, travels through the optical path length correction member <b>112</b> and the dispersion compensation member <b>113</b>, and is guided to the retroreflector <b>114</b>. The optical path length correction member <b>112</b> acts to match the optical path length of the reference light LR and that of the measurement light LS with each other. The dispersion compensation member <b>113</b> acts to eliminate the difference between the dispersion characteristics of the reference light LR and that of the measurement light LS with each other, together with the dispersion compensation member <b>42</b> arranged in the measurement arm. The retroreflector <b>114</b> is movable along the optical path of the reference light LR incident on the retroreflector <b>114</b>. With this, the length of the reference arm is changed. The change in the length of the reference arm may be utilized for operations such as optical path length correction according to axial length and interference condition adjustment.</p><p id="p-0073" num="0072">After passing through the retroreflector <b>114</b>, the reference light LR travels through the dispersion compensation member <b>113</b> and the optical path length correction member <b>112</b>, is converted from a parallel light beam to a convergent light beam by the collimator <b>116</b>, and is incident on the optical fiber <b>117</b>. The reference light LR having entered the optical fiber <b>117</b> is guided to the polarization controller <b>118</b>, and the polarization state of the reference light LR is regulated. Then, the reference light LR is guided to the attenuator <b>120</b> through the optical fiber <b>119</b>, and the light amount of the reference light LR is regulated. Subsequently, the reference light LR is guided to the fiber coupler <b>122</b> through the optical fiber <b>121</b>.</p><p id="p-0074" num="0073">Meanwhile, the measurement light LS generated by the fiber coupler <b>105</b> is guided to the collimator lens unit <b>40</b> through the optical fiber <b>127</b> and is converted to a parallel light beam. Then, the measurement light LS passes through the retroreflector <b>41</b>, the dispersion compensation member <b>42</b>, the OCT focusing lens <b>43</b>, the optical scanner <b>44</b>, and the relay lens <b>45</b>, and then reaches the dichroic mirror <b>46</b>. The measurement light LS is reflected by the dichroic mirror <b>46</b>, is refracted by the objective lens <b>22</b>, and is projected onto the subject's eye E. The measurement light LS is reflected and scattered at various depths of the subject's eye E. The return light of the measurement light LS returned from the subject's eye E travels along the measurement arm in the opposite direction, is directed to the fiber coupler <b>105</b>, and then reaches the fiber coupler <b>122</b> via the optical fiber <b>128</b>.</p><p id="p-0075" num="0074">The fiber coupler <b>122</b> superposes the measurement light LS incident through the optical fiber <b>128</b> with the reference light LR incident through the optical fiber <b>121</b>, to generate the interference light LC.</p><p id="p-0076" num="0075">The interference light LC generated by the fiber coupler <b>122</b> is guided to the spectrometer <b>130</b> through the optical fiber <b>129</b>. For example, the spectrometer <b>130</b> is configured to convert the incident interference light LC into a parallel light beam by a collimator lens, separate the interference light LC (parallel light beam) into its constituent wavelength components by a diffraction grating, and project the spectral components onto an image sensor by the lens <b>114</b>. The image sensor is, for example, a line sensor that detects the spectral components of the interference light LC to generate an electrical signal (i.e., detection signal). The detection signal generated is sent to the arithmetic and control unit <b>200</b>.</p><p id="p-0077" num="0076">When swept source OCT is employed, interference light generated by superposition of measurement light and reference light is split at a predetermined splitting ratio (e.g., 1 to 1) to generate a pair of interference light. The pair of interference light is guided to a photodetector. The photodetector includes, for example, a balanced photodiode that includes a pair of photodiodes configured to respectively detect the pair of interference light and output the difference between the pair of detection signals obtained by the pair of photodiodes. The photodetector transmits the output (i.e., detection signal such as the difference signal) to a data acquisition system (DAO). A clock signal is supplied from the light source unit to the data acquisition system. The clock signal is generated in the light source unit in synchronization with the output timings of the respective wavelengths varied within a predetermined wavelength range by the wavelength tunable type light source. For example, the light source unit splits light of each output wavelength to generate two pieces of split light, optically delays one of the two pieces of split light, combines the two pieces of split light, detects the combined light, and generates a clock signal from the detection signal thereof. The data acquisition system performs sampling of the detection signal (difference signal) input from the photodetector based on the clock signal. The data extracted by the sampling is used for processing such as image construction.</p><p id="p-0078" num="0077">The ophthalmic apparatus <b>1</b> shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> and <figref idref="DRAWINGS">FIG. <b>2</b></figref> is provided with both an element for changing the measurement arm length (e.g.; the retroreflector <b>41</b>) and an element for changing the reference arm length (e.g., the retroreflector <b>114</b> or a reference mirror); however; only one of these two elements may be provided in some other embodiments. The coherence gate position is changed by changing the difference between the measurement arm length and the reference arm length (i.e.; the optical path length difference). Elements for changing the optical path length difference are not limited to the exemplary elements in the present embodiment; and any type of element (e.g.; any type of optical member, any type of mechanism) may be employed.</p><heading id="h-0010" level="2">&#x3c;Arithmetic and Control Unit <b>200</b>&#x3e;</heading><p id="p-0079" num="0078">The arithmetic and control unit <b>200</b> controls each part of the ophthalmic apparatus <b>1</b>. Further, the arithmetic and control unit <b>200</b> executes various kinds of arithmetic processes. For example, the arithmetic and control unit <b>200</b> applies signal processing such as Fourier transform on the spectral distribution acquired by the spectrometer <b>130</b>, to create reflection intensity profiles respectively for A-lines. Furthermore, the arithmetic and control unit <b>200</b> applies imaging processing to the reflection intensity profiles for the A-lines to construct image data. Arithmetic processes for the image data construction are the same as those of conventional spectral domain OCT.</p><p id="p-0080" num="0079">The arithmetic and control unit <b>200</b> includes, for example; a processor, random access memory (RAM), read only memory (ROM), hard disk drive, and communication interface. A storage device such the hard disk drive stores various kinds of computer programs. The arithmetic and control unit <b>200</b> may include an operation device, input device, display device, etc.</p><heading id="h-0011" level="2">&#x3c;User Interface <b>240</b>&#x3e;</heading><p id="p-0081" num="0080">The user interface <b>240</b> includes the display device <b>241</b> and the operation device <b>242</b>. The display device <b>241</b> includes the display device <b>3</b>. The operation device <b>242</b> includes various kinds of operation devices and input devices. The user interface <b>240</b> may include a device having both display and operation functions, such as a touch panel display. Some embodiments may be configured not to include at least part of the user interface <b>240</b>. For example, the display device may be an external device connected to the ophthalmic apparatus.</p><heading id="h-0012" level="2">&#x3c;Anterior Eye Segment Cameras <b>300</b>&#x3e;</heading><p id="p-0082" num="0081">The anterior eye segment cameras <b>300</b> photograph the anterior eye segment of the subject's eye E from two or more different directions. The anterior eye segment camera <b>300</b> includes an imaging element such as a COD image sensor or CMOS image sensor. The present embodiment includes the two anterior eye segment cameras <b>300</b> placed on the surface of the fundus camera unit <b>2</b> on the subject side (see the anterior eye segment cameras <b>300</b>A and <b>300</b>B illustrated in <figref idref="DRAWINGS">FIG. <b>4</b>A</figref>). As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> and <figref idref="DRAWINGS">FIG. <b>4</b>A</figref>, the anterior eye segment cameras <b>300</b>A and <b>3003</b> are placed in positions outside the optical path that passes through the objective lens <b>22</b>. Hereinafter, any one or both of the anterior eye segment cameras <b>300</b>A and <b>300</b>B may be denoted by the reference symbol &#x201c;300&#x201d;. In addition, anterior eye segment cameras that can be adopted instead of the anterior eye segment cameras <b>300</b>A and <b>300</b>B may be denoted by the reference symbol &#x201c;300&#x201d;.</p><p id="p-0083" num="0082">Although the two anterior eye segment cameras <b>300</b>A and <b>3003</b> are provided in the present embodiment, the number of the anterior eye segment cameras <b>300</b> may be any number of two or more. In consideration of the calculation processing described later, it is sufficient to employ (but not limited to) a configuration capable of photographing the anterior eye segment from two different directions. Alternatively, one or more movable anterior eye segment camera <b>300</b> may be provided to sequentially perform two or more times of anterior eye segment photography at two or more different positions.</p><p id="p-0084" num="0083">The present embodiment is provided with the anterior eye segment cameras <b>300</b> separately from the illumination optical system <b>10</b> and the photography optical system <b>30</b>. However, for example, the photography optical system <b>30</b> can be used for anterior eye segment photography. In other words, one of the two or more anterior eye segment cameras <b>300</b> may be the photography optical system <b>30</b>. The anterior eye segment cameras <b>300</b> of the present embodiment may be capable of photographing the anterior eye segment from two (or more) directions different from each other.</p><p id="p-0085" num="0084">A configuration for illuminating the anterior eye segment may be provided. The anterior eye segment illuminating means may include one or more light sources. Typically, at least one light source (e.g., infrared light source(s)) may be provided in the vicinity of each of the two or more anterior eye segment cameras <b>300</b>.</p><p id="p-0086" num="0085">In the case where the two or more anterior eye segment cameras <b>300</b> are provided, the anterior eye segment may be photographed substantially simultaneously from two or more different directions. The substantially simultaneous photography here means that the case where the photography timings by the two or more anterior eye segment cameras are simultaneous. In addition, this also means to tolerate, for example, a negligible time lag hi photography with respect to eye movement. Such substantially simultaneous photography enables the two or more anterior eye segment cameras to capture two or more images of the subject's eye E in substantially the same position and orientation.</p><p id="p-0087" num="0086">The photography with two or more anterior eye segment cameras may be motion-picture photography or still-picture photography. In the case of motion-picture photography, the substantially simultaneous anterior eye segment photography described above can be achieved by matching photography start timings of the two or more anterior eye segment cameras, or by controlling frame rates and/or frame capture timings thereof. On the other hand, in the case of still-picture photography, substantially simultaneous anterior eye segment photography can be achieved by controlling capture timings of the two or more anterior eye segment cameras,</p><heading id="h-0013" level="2">&#x3c;Control System&#x3e;</heading><p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. <b>3</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>3</b>B</figref> show an example of the configuration of the control system (processing system) of the ophthalmic apparatus <b>1</b>. The controlling circuitry <b>210</b>, the image constructing circuitry <b>220</b> and the data processing circuitry <b>230</b> are provided, for example, in the arithmetic and control unit <b>200</b>.</p><heading id="h-0014" level="2">&#x3c;Controlling Circuitry <b>210</b>&#x3e;</heading><p id="p-0089" num="0088">The controlling circuitry <b>210</b> includes a processor and controls each part of the ophthalmic apparatus <b>1</b>. The controlling circuitry <b>210</b> includes the main controlling circuitry <b>211</b> and the memory <b>212</b>.</p><heading id="h-0015" level="2">&#x3c;Main Controlling Circuitry <b>211</b>&#x3e;</heading><p id="p-0090" num="0089">The main controlling circuitry <b>211</b> includes a processor, and controls each element of the ophthalmic apparatus <b>1</b> (including the elements shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> to <figref idref="DRAWINGS">FIG. <b>3</b>B</figref>). The main controlling circuitry <b>211</b> is realized by the cooperation of hardware including a circuit (circuitry) and controlling software.</p><p id="p-0091" num="0090">The photography focusing lens <b>31</b> disposed in the photography optical path and the focus optical system <b>60</b> disposed in the illumination optical path are moved in an integral or interlocking manner by a photography focus driver (not shown) under control of the main controlling circuitry <b>211</b>. The retroreflector <b>41</b> disposed in the measurement arm is moved by the retroreflector driver (RR driver) <b>41</b>A under control of the main controlling circuitry <b>211</b>. The OCT focusing lens <b>43</b> disposed in the measurement arm is moved by the OCT focus driver <b>43</b>A under control of the main controlling circuitry <b>211</b>. Note that the movement of the OCT focusing lens <b>43</b> can be performed in an interlocking manner with the movement of the photography focusing lens <b>31</b> and the focus optical system <b>60</b>. The retroreflector <b>114</b> disposed in the reference arm is moved by the retroreflector driver (RR driver) <b>114</b>A under control of the main controlling circuitry <b>211</b>. Each of the mechanisms exemplified here typically includes an actuator such as a pulse motor that operates under control of the main controlling circuitry <b>211</b>. The optical scanner <b>44</b> disposed in the measurement arm operates under control of the main controlling circuitry <b>211</b>. Further, the main controlling circuitry <b>211</b> can control any of the elements included in the ophthalmic apparatus <b>1</b> such as the polarization controller <b>103</b>, the polarization controller <b>118</b>; the attenuator <b>120</b>; various kinds of light sources; various kinds of optical elements; various kinds of devices; and various kinds of mechanisms. Also, the main controlling circuitry <b>211</b> may be configured to execute control of any peripheral device (apparatus; equipment, instrument, device, etc.) connected to the ophthalmic apparatus <b>1</b>; and/or control of any apparatus; equipment, instrument; device, etc. accessible by the ophthalmic apparatus <b>1</b>.</p><p id="p-0092" num="0091">The movement mechanism <b>150</b> moves, for example, at least the fundus camera unit <b>2</b> in a three dimensional manner. In a typical example, the movement mechanism <b>150</b> includes the followings: an x stage movable in the +x and &#x2212;x directions (i.e., left and right directions); an x movement mechanism that moves the x stage; a y stage movable in the +y and &#x2212;y directions (i.e., up and down directions); a y movement mechanism that moves the y stage; a z stage movable in the +z and &#x2212;z directions (i.e., depth direction); and a z movement mechanism that moves the z stage. Each of the movement mechanisms described here includes an actuator such as a pulse motor that operates under control of the main controlling circuitry <b>211</b>.</p><heading id="h-0016" level="2">&#x3c;Memory <b>212</b>&#x3e;</heading><p id="p-0093" num="0092">The memory <b>212</b> stores various kinds of data, Examples of the data stored in the memory <b>212</b> include image data of OCT images, image data of fundus images, and subject's eye information. The subject's eye information includes subject information such as patient IDs and patient's names, identification information for the left eye and the right eye, and electronic medical record information.</p><heading id="h-0017" level="2">&#x3c;Image Constructing Circuitry <b>220</b>&#x3e;</heading><p id="p-0094" num="0093">The image constructing circuitry <b>220</b> constructs OCT image data based on data acquired by the spectrometer <b>130</b>. The image constructing circuitry <b>220</b> includes a processor. The image constructing circuitry <b>220</b> is realized by the cooperation of hardware including a circuit (circuitry) and image constructing software.</p><p id="p-0095" num="0094">The image constructing circuitry <b>220</b> constructs cross sectional image data based on data acquired by the spectrometer <b>130</b>. The image constructing processing includes signal processing such as sampling (A/D conversion), noise elimination (noise reduction), filtering, fast Fourier transform (FFT), and other processes as in conventional spectral domain OCT.</p><p id="p-0096" num="0095">Image data constructed by the image constructing circuitry <b>220</b> is a data set including a group of a plurality of pieces of image data (a group of a plurality of pieces of A-scan image data or an A-scan image data group) constructed by applying imaging processing to reflection intensity profiles at corresponding A-lines arranged in the area to which OCT scans are applied. An A-line is a scan line lying along the z direction.</p><p id="p-0097" num="0096">Image data constructed by the image constructing circuitry <b>220</b> is, for example, B-scan image data or stack data. Stack data is constructed by embedding a plurality of pieces of B-scan image data in a single three dimensional coordinate system. The image constructing circuitry <b>220</b> may apply voxelization processing to stack data to construct volume data (voxel data). Stack data and volume data are typical examples of three dimensional image data. Three dimensional image data is image data that is represented by a three dimensional coordinate system.</p><p id="p-0098" num="0097">The image constructing circuitry <b>220</b> may be configured to apply image processing to three dimensional image data. For example, the image constructing circuitry <b>220</b> may construct new image data by applying rendering to three dimensional image data. Examples of the rendering method include volume rendering, maximum intensity projection (MIP), minimum intensity projection (MinIP), surface rendering, and multi planar reconstruction (MPR). Further, the image constructing circuitry <b>220</b> may be configured to construct projection data by projecting three dimensional image data in the z direction (i.e., the A-line direction or the depth direction). In addition, the image constructing circuitry <b>220</b> may be configured to construct a shadowgram by projecting part of three dimensional image data (i.e., three dimensional partial image data) in the z direction. Three dimensional partial image data is designated, for example, by applying segmentation to three dimensional image data.</p><heading id="h-0018" level="2">&#x3c;Data Processing Circuitry <b>230</b>&#x3e;</heading><p id="p-0099" num="0098">The data processing circuitry <b>230</b> performs various kinds of data processing. For example, the data processing circuitry <b>230</b> may be configured to apply image processing and/or analysis processing to OCT image data, and/or, apply image processing and/or analysis processing to observation image data and/or photographed image data. The data processing circuitry <b>230</b> includes, for example, at least one of a processor and a dedicated circuit board. The data processing circuitry <b>230</b> is realized by the cooperation of hardware including a circuit (circuitry) and data processing software.</p><p id="p-0100" num="0099">Next, the functional configuration of the ophthalmic apparatus <b>1</b> realized by the elements (hardware elements, software elements) shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> to <figref idref="DRAWINGS">FIG. <b>3</b>A</figref> will be described. <figref idref="DRAWINGS">FIG. <b>3</b>B</figref> shows an example of the functional configuration of the ophthalmic apparatus <b>1</b>. Note that, of the elements shown in <figref idref="DRAWINGS">FIG. <b>33</b></figref>, the same elements as in <figref idref="DRAWINGS">FIG. <b>3</b>A</figref> are indicated by the same reference symbols.</p><heading id="h-0019" level="2">&#x3c;Scanner <b>410</b>&#x3e;</heading><p id="p-0101" num="0100">The scanner <b>410</b> applies OCT scans to the subject's eye E to acquire data. The data acquired by the scanner <b>410</b> may be any kind of data from among, for example, the first data acquired by the spectrometer <b>130</b>, the second data generated by the image constructing circuitry <b>220</b> from the first data (e.g., sampling data, reflection intensity profile, or image data), and data generated by the data processing circuitry <b>230</b> from the second data (e.g., image data). As such, the scanner <b>410</b> include at least the spectrometer <b>130</b>, may further include at least part of the image constructing circuitry <b>220</b>, and may still further include at least part of the data processing circuitry <b>230</b>.</p><p id="p-0102" num="0101">The scanner <b>410</b> includes an interference optical system including the measurement arm that guides the measurement light LS to the subject's eye E and the reference arm that guides the reference light LR. As described above, the measurement arm is provided with the OCT focusing lens <b>43</b>, the optical scanner <b>44</b>, etc., and the reference arm is provided with the polarization controller <b>118</b>, the attenuator <b>120</b>, etc. The interference optical system includes the spectrometer <b>130</b>.</p><p id="p-0103" num="0102">Further, the scanner <b>410</b> includes an arm length changer provided in at least one of the measurement arm and the reference arm. The arm length changer includes any one or both of the combination of the retroreflector <b>41</b> and the retroreflector driver <b>41</b>A and the combination of the retroreflector <b>114</b> and the retroreflector driver <b>114</b>A. The arm length changer changes the arm length under the control of the scan controlling circuitry <b>450</b> described later. More specifically, in the case where the arm length changer includes the combination of the retroreflector <b>41</b> and the retroreflector driver <b>41</b>A, the arm length changer can change the measurement arm length. In the case where the arm length changer includes the combination of the retroreflector <b>114</b> and the retroreflector driver <b>114</b>A, the arm length changer can change the reference arm length.</p><heading id="h-0020" level="2">&#x3c;Deviation Detector <b>420</b>&#x3e;</heading><p id="p-0104" num="0103">The deviation detector <b>420</b> measures the deviation (or positional error) of the subject's eye E with respect to a reference position set in advance. The alignment controlling circuitry <b>440</b>, which will be described later, performs alignment control based on the measurement result of the deviation (deviation information) acquired by the deviation detector <b>420</b>. The alignment control includes control of the movement mechanism <b>150</b> on the basis of the deviation information. For example, the alignment control is a process of moving the optical system to cancel (eliminate) the deviation obtained by the deviation detector <b>420</b>. The optical system moved includes at least the measurement arm.</p><p id="p-0105" num="0104">The deviation of the subject's eye E from the reference position is a relative position with respect to the reference position, and is typically a vector quantity that possesses both magnitude and direction.</p><p id="p-0106" num="0105">The reference position may be set based on, for example, the optical system configuration of the ophthalmic apparatus <b>1</b>. The reference position typically includes a reference position in the x direction, a reference position in the y direction, and a reference position in the z direction. In other words, the reference position is typically a three dimensional position. The reference position is not limited to such a three dimensional position, and may be a two dimensional position or a one dimensional position.</p><p id="p-0107" num="0106">As described above, the deviation of the subject's eye E with respect to the reference position is a relative position. Therefore, in the case where the reference position is set based on the optical system configuration of the ophthalmic apparatus <b>1</b>, the deviation of the subject's eye E with respect to the optical system of the ophthalmic apparatus <b>1</b> and the deviation of the optical system with respect to the subject's eye E are identical with each other, Even in the event that the reference position is not set based on the optical system of the ophthalmic apparatus <b>1</b>, the deviation of the subject's eye E with respect to the optical system of the ophthalmic apparatus <b>1</b> and the deviation with respect to the optical system with respect to the subject's eye E are identical with each other for that reference position.</p><p id="p-0108" num="0107">The combination of the reference position in the x direction and the reference position in the y direction (xy reference position) is, for example, the position of the optical axis of the ophthalmic apparatus <b>1</b> (optical axis position). The optical axis position may be the position of the optical axis of the objective lens <b>22</b>. If this is the case, the deviation detector <b>420</b> may be configured to determine the deviation of subject's eye E with respect to the optical axis position in the xy plane (i.e., the xy coordinate system).</p><p id="p-0109" num="0108">On the other hand, the reference position in the z direction (z reference position) is, for example, a position distant from the optical system (front surface of the objective lens <b>22</b>) of the ophthalmic apparatus <b>1</b> by a predetermined distance in the +z direction. In such a case, the deviation detector <b>420</b> may be configured to determine the deviation of the subject's eye E with respect to the z reference position in the z direction (i.e., the z coordinate).</p><p id="p-0110" num="0109">The predetermined distance in the definition of the z reference position is, for example, a working distance set in advance or a distance obtained by adding a predetermined value to the working distance. Examples of the predetermined value include a half value of corneal curvature radius and the distance between cornea and pupil.</p><p id="p-0111" num="0110">In the case where alignment is performed using the corneal surface as a reference, the working distance may be adopted to be the predetermined distance. In the case where alignment is performed using the bright spot (Purkinje image) formed on the anterior eye segment as a reference the distance obtained by adding a half value of the corneal curvature radius to the working distance may be adopted to be the predetermined distance. In the case where alignment is performed using the pupil as a reference, the distance obtained by adding the value of the cornea-pupil distance to the working distance may be adopted to be the predetermined distance. Note that the corneal curvature radius and the cornea-pupil distance may be the values obtained by actual measurement of the subject's eye E.</p><p id="p-0112" num="0111">An example of the three dimensional reference position is a position distant from the front surface of the objective lens <b>22</b> by the predetermined distance in the +z direction on the optical axis of the ophthalmic apparatus <b>1</b>.</p><p id="p-0113" num="0112">It is necessary to define the position of the subject's eye E in order to obtain the deviation of the subject's eye E with respect to the reference position. The position of the subject's eye E is defined, for example, to be the position of the bright spot formed on the anterior eye segment, the position of the pupil center (the position of the center of gravity of the pupil), or the position of the corneal apex.</p><p id="p-0114" num="0113">In the case where the position of the subject's eye E is defined to be the bright spot position, the deviation detector <b>420</b> may be configured to specify the bright spot positions from two anterior eye segment images acquired by the two anterior eye segment cameras <b>300</b>, and determine the deviation of the subject's eye E with respect to the reference position. The processes of this example may be carried out, for example, in accordance with the processing method disclosed in Japanese Unexamined Patent Application Publication No. 2017-074115 and Japanese Unexamined Patent Application Publication No. 2017-225638 filed by the present applicant.</p><p id="p-0115" num="0114">In the case where the position of the subject's eye E is defined to be the pupil center position, the deviation detector <b>420</b> may be configured to specify the pupil center positions from two anterior eye segment images acquired by the two anterior eye segment cameras <b>300</b>, and determine the deviation of the subject's eye E with respect to the reference position. The processes of this example may be carried out, for example, in accordance with the processing method disclosed in Japanese Unexamined Patent Application Publication No. 2013-248376 and Japanese Unexamined Patent Application Publication No. 2017-225638 filed by the present applicant.</p><p id="p-0116" num="0115">In the case where the position of the subject's eye E is defined to be the corneal apex position, the deviation detector <b>420</b> may be configured to specify the corneal apex positions from two anterior eye segment images acquired by the two anterior eye segment cameras <b>300</b>, and determine the deviation of the subject's eye E with respect to the reference position. The processes of this example may be carried out, for example, in accordance with the processing method disclosed in Japanese Unexamined Patent Application Publication No. 2017-225638 filed by the present applicant.</p><p id="p-0117" num="0116">Note that the definition of the reference position, the definition of the position of the subject's eye E, the processing method for specifying the position of the subject's eye E, and the method of calculating the deviation of the subject's eye E with respect to the reference position are not limited to the examples described above and may be arbitrary. For example, an alignment method based on the positional relationship between two bright spots, or an alignment method using an optical lever may be employed.</p><p id="p-0118" num="0117">The deviation detector <b>420</b> shown in Fla <b>3</b>B is an example applicable to the case where the position of the subject's eye E is defined to be the bright spot position. The deviation detector <b>420</b> in the present example includes the alignment optical system <b>50</b>, the two anterior eye segment cameras <b>300</b>, and the deviation calculating circuitry <b>430</b>. The deviation calculating circuitry <b>430</b> is included in the data processing circuitry <b>230</b>, and is realized by the cooperation of hardware including a circuit (circuitry) and deviation calculating software.</p><p id="p-0119" num="0118">As described above, the alignment optical system <b>50</b> projects the alignment indicator onto the anterior eye segment of the subject's eye E. In other words, the alignment optical system <b>50</b> corresponds to a projection system configured to project a light beam onto the anterior eye segment of the subject's eye E.</p><p id="p-0120" num="0119">The two anterior eye segment cameras <b>300</b> photograph the anterior eye segment of the subject's eye E from different directions during the light beam is being projected by the alignment optical system <b>50</b>. With this, two anterior eye segment images corresponding to directions different from each other can be obtained. In each of the anterior eye segment images, the image of the light beam projected by the alignment optical system <b>50</b> is depicted. That is, the bright spot used as the alignment indicator is depicted.</p><p id="p-0121" num="0120">The deviation calculating circuitry <b>430</b> calculates the deviation of the subject's eye E with respect to the predetermined reference position based on the positions of the two bright spots rendered respectively in the two anterior eye segment images acquired by the two anterior eye segment cameras <b>300</b>.</p><p id="p-0122" num="0121">The deviation calculating circuitry <b>430</b> analyzes each of the two anterior eye segment images to detect bright spots, and specifies the position of the subject's eye E based on the two bright spots detected from the two anterior eye segment images. The processes of this example may be carried out in a similar manner to the processing method disclosed in Japanese Unexamined Patent Application Publication No. 2017-074115 and Japanese Unexamined Patent Application Publication No. 2017-225638.</p><p id="p-0123" num="0122">For example, the deviation calculating circuitry <b>430</b> may calculate the distance between the subject's eye E and the ophthalmic apparatus <b>1</b> (e.g., the objective lens <b>22</b>) in the direction along the optical axis of the ophthalmic apparatus <b>1</b> (i.e., the z direction), based on the relative position of the two bright spots detected from the two anterior eye segment images. Based on the distance calculated, the alignment controlling circuitry <b>440</b> may control the movement mechanism <b>150</b> in such a way that the distance between the subject's eye E and the ophthalmic apparatus <b>1</b> in the z direction coincides with the working distance.</p><p id="p-0124" num="0123">Further, based on the positions of the two bright spots detected from the two anterior eye segment images, the deviation calculating circuitry <b>430</b> may calculate the deviation between the subject's eye E and the ophthalmic apparatus <b>1</b> in the direction orthogonal to the z direction (i.e., the x and y directions). Based on the deviation calculated, the alignment controlling circuitry <b>440</b> may control the movement mechanism <b>150</b> in such a way that the optical axis of the ophthalmic apparatus <b>1</b> coincides with the axis of the subject's eye E.</p><p id="p-0125" num="0124">In addition, in the event that no bright point is detected from any one or both of the two anterior eye segment images, another alignment method (e.g., alignment on the basis of pupil center) may be employed.</p><p id="p-0126" num="0125">The ophthalmic apparatus <b>1</b> performs the first OCT scan and the second OCT scan. The first OCT scan is performed on the first region including the first site of the subject's eye E. The first region is, for example, the anterior eye segment region, and the first site is, for example, the corneal surface. The second OCT scan is performed on the second region including the second site. The second region is, for example, the posterior eye segment region, and the second site is, for example, the retinal surface. Details of the first and second OCT scans will be described later. The deviation detector <b>420</b> performs the first deviation measurement prior to the first OCT scan to acquire the first deviation information, and further performs the second deviation measurement prior to the second OCT scan to acquire the second deviation information. Typically, the first deviation measurement is performed immediately before the first OCT scan, and the second deviation measurement is performed immediately before the second OCT scan.</p><p id="p-0127" num="0126">The execution order of the first OCT scan and the second OCT scan is arbitrary. The second OCT scan may be performed after the first OCT scan, or the first OCT scan may be performed after the second OCT scan.</p><heading id="h-0021" level="2">&#x3c;Alignment Controlling Circuitry <b>440</b>&#x3e;</heading><p id="p-0128" num="0127">The alignment controlling circuitry <b>440</b> performs the first alignment control and the second alignment control. The first alignment control is executed to control the movement mechanism <b>150</b> based on the first deviation information acquired by the deviation detector <b>420</b> prior to the first OCT scan. The second alignment control is executed to control the movement mechanism <b>150</b> based on the second deviation information acquired by the deviation detector <b>420</b> prior to the second OCT scan.</p><p id="p-0129" num="0128">For example, in the same manner as the alignment method disclosed in any one of Japanese Unexamined Patent Application Publication No. 2017-074115, Japanese Unexamined Patent Application Publication No. 2017-225638, and Japanese Unexamined Patent Application Publication No. 2013-248376, the alignment controlling circuitry <b>440</b> performs the first alignment control so as to cancel out the deviation indicated by the first deviation information, and also performs the second alignment control so as to cancel out the deviation indicated by the second deviation information.</p><p id="p-0130" num="0129">The alignment controlling circuitry <b>440</b> is included in the controlling circuitry <b>210</b>, and is realized by the cooperation of hardware including a circuit (circuitry) and alignment controlling software.</p><heading id="h-0022" level="2">&#x3c;Scan Controlling Circuitry <b>450</b>&#x3e;</heading><p id="p-0131" num="0130">The scan controlling circuitry <b>450</b> performs control for the first and second OCT scans described above. More specifically, the scan controlling circuitry <b>450</b> performs the followings: the first scan control for causing the scanner <b>410</b> to perform the first OCT scan on the first region (e.g., the anterior eye segment region) including the first site (e.g., the corneal surface) of the subject's eye E; and the second scan control for causing the scanner <b>410</b> to perform the second OCT scan on the second region (e.g., the posterior eye segment region) including the second site (e.g., the retinal surface).</p><p id="p-0132" num="0131">Each of the first scan control and the second scan control includes, for example, control of the arm length changer (any one or both of the retroreflector driver <b>41</b>A and the retroreflector driver <b>114</b>A), control of the light source unit <b>101</b>, and control of the optical scanner <b>44</b>. Note that each of the first scan control and the second scan control may further include any of the followings: control of the polarization controller <b>103</b>; control of the polarization controller <b>118</b>; control of the attenuator <b>120</b>; and control of the OCT focus driver <b>43</b>A. Examples of the first scan control and the second scan control will be described later.</p><p id="p-0133" num="0132">The scan controlling circuitry <b>450</b> is included in the controlling circuitry <b>210</b>; and is realized by the cooperation of hardware including a circuit (circuitry) and scan controlling software.</p><heading id="h-0023" level="2">&#x3c;Distance Calculating Circuitry <b>460</b>&#x3e;</heading><p id="p-0134" num="0133">The distance calculating circuitry <b>460</b> calculates the distance between the first site included in the target area of the first OCT scan and the second site included in the target area of the second OCT scan, based on the first data acquired by the first OCT scan and the second data acquired by the second OCT scan. In other words, the distance calculating circuitry <b>460</b> calculates the distance between the first site and the second site of the subject's eye E based on the first data acquired by the scanner <b>410</b> under the first scan control and the second data acquired by the scanner <b>410</b> under the second scan control.</p><p id="p-0135" num="0134">For example, in the case where the first site is the corneal surface and the second site is the retinal surface, that is, in the case where the first OCT scan is applied to the anterior eye segment region including (at least part of) the corneal surface, and where the second OCT scan is applied to the posterior eye segment region including (at least part of) the retinal surface; the distance calculating circuitry <b>460</b> may calculate the distance between the corneal surface and the retinal surface. Typically, the distance calculating circuitry <b>460</b> may calculate the axial length indicating the distance between the corneal apex and the macular center (fovea centralis).</p><p id="p-0136" num="0135">For example, the distance calculating circuitry <b>460</b> performs the distance calculation by a series of processes (first to fourth processes) shown below. Here, the execution order of the first to third processes is arbitrary, and any two or more of these processes may be performed in parallel.</p><p id="p-0137" num="0136">In the first process, the distance calculating circuitry <b>460</b> calculates the difference between the first arm length applied at the time of the first scan control, and the second arm length applied at the time of the second scan control. The first arm length and the second arm length are obtained, for example, from the scan controlling circuitry <b>450</b> that has performed the first scan control and the second scan control. Alternatively, any one or both of the first arm length and the second arm length may be detected with a means of detecting the arm length. The arm length detecting means is, for example, a position sensor configured to detect any one or both of the position of the retroreflector <b>41</b> and that of the retroreflector <b>114</b>.</p><p id="p-0138" num="0137">In the second process, the distance calculating circuitry <b>460</b> analyzes the first data acquired by the scanner <b>410</b> under the first scan control, to specify a position (first position) in the first data corresponding to the first site of the subject's eye E. For example, in the case where the first site is the corneal surface, the distance calculating circuitry <b>460</b> analyzes the first data acquired by applying the first OCT scan to the anterior eye segment region, to specify the first position corresponding to the corneal surface of the subject's eye E (typically the corneal apex). Typically, the first position is a signal position in the reflection intensity profile generated from the detection signal acquired in the first OCT scan, or a pixel position in A-scan image data constructed from the reflection intensity profile.</p><p id="p-0139" num="0138">In the third process, the distance calculating circuitry <b>460</b> analyzes the second data acquired by the scanner <b>410</b> under the second scan control, to specify a position (second position) in the second data corresponding to the second site of the subject's eye E. For example, in the case where the second site is the retinal surface, the distance calculating circuitry <b>460</b> analyzes the second data acquired by applying the second OCT scan to the posterior eye segment region, to specify the second position corresponding to the retinal surface of the subject's eye E (typically the macular center). Typically, the second position is a signal position in the reflection intensity profile generated from the detection signal acquired in the second OCT scan, or a pixel position in A-scan image data constructed from the reflection intensity profile.</p><p id="p-0140" num="0139">In the fourth process, the distance calculating circuitry <b>460</b> calculates the distance between the first site and the second site, based on the arm length difference calculated in the first process, the first position specified in the second process, and the second position specified in the third process.</p><p id="p-0141" num="0140">Typically, in the fourth process, the distance calculating circuitry <b>460</b> determines a value of the axial length of the subject's eye E, based on the arm length difference calculated in the first process, the corneal apex position specified in the second process, and the macular center position specified in the third process. <figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates a schema of the arithmetic processing.</p><p id="p-0142" num="0141">The corneal apex of the subject's eye E is indicated by the reference symbol C, and the macular center is indicated by the reference symbol M. The reference symbols A<sub>1 </sub>and A<sub>2 </sub>indicate the first OCT scan and the second OCT scan, respectively. Each of the first OCT scan A<sub>1 </sub>and the second OCT scan A<sub>2 </sub>in the present example is an A-scan. <figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates a case where the first OCT scan A<sub>1 </sub>and the second OCT scan A<sub>2 </sub>both are performed under appropriate alignment states. That is, <figref idref="DRAWINGS">FIG. <b>5</b></figref> shows a case where the first OCT scan A<sub>1 </sub>is performed on an A-line that passes through the corneal apex C, and the second OCT scan A<sub>2 </sub>is performed on an A-line that passes through the macular center M.</p><p id="p-0143" num="0142">The reflection intensity profile acquired by the first OCT scan A<sub>1 </sub>is indicated by the reference symbol P<sub>1</sub>, and the reflection intensity profile acquired by the second OCT scan A<sub>2 </sub>is indicated by the reference symbol P<sub>2</sub>. The z coordinate axis in which the first reflection intensity profile P<sub>1 </sub>is defined is represented by &#x201c;z<sub>1</sub>&#x201d;, and the z coordinate axis in which the second reflection intensity profile P<sub>2 </sub>is defined is represented by &#x201c;z<sub>2</sub>&#x201d;.</p><p id="p-0144" num="0143">The first OCT scan A<sub>1 </sub>on the anterior eye segment region is performed in a state that the coherence gate is disposed at an arbitrary position in the anterior eye segment. For example, the coherence gate is disposed at a position distant from the corneal apex C by a half distance of the corneal curvature radius in the +z direction. A bright spot is formed at this position. The reference symbol z<sub>1</sub>(0) indicates the coherence gate position applied at the time of the first OCT scan A<sub>1 </sub>of the present example.</p><p id="p-0145" num="0144">On the other hand, the second OCT scan A<sub>2 </sub>for the posterior eye segment region is performed in a state that the coherence gate is disposed at an arbitrary position in the posterior eye segment. For example, the coherence gate is disposed in the vitreous body at a position near the retinal surface. The reference symbol z<sub>2</sub>(0) indicates the coherence gate position applied at the time of the second OCT scan A<sub>2 </sub>of the present example.</p><p id="p-0146" num="0145">The distance calculating circuitry <b>460</b> calculates the difference between the coherence gate position z<sub>1</sub>(0) applied at the time of the first OCT scan A<sub>1 </sub>and the coherence gate position z<sub>2</sub>(0) applied at the time of the second OCT scan A<sub>2</sub>. The difference is indicated by the reference symbol &#x394;z<sub>12 </sub>in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, and corresponds to the arm length difference between the first OCT scan A<sub>1 </sub>and the second OCT scan A<sub>2</sub>. This process is an example of the first process described above.</p><p id="p-0147" num="0146">The first reflection intensity profile P<sub>1 </sub>includes a peak corresponding to the corneal front surface, a peak corresponding to the corneal back surface, a peak corresponding to the crystalline lens front surface, and a peak corresponding to the crystalline lens back surface. The distance calculating circuitry <b>460</b> specifies a peak corresponding to the corneal front surface from among the peaks in the first reflection intensity profile P<sub>1</sub>. The peak specification includes, for example, a process of specifying the peak of maximum intensity. Alternatively, the peak specification may include a process of specifying the peak having the smallest z<sub>1 </sub>coordinate value (i.e., the peak located on the most &#x2212;z<sub>1 </sub>side) from among the peaks whose intensities exceed a predetermined threshold. The z coordinate value of the peak corresponding to the corneal front surface thus specified is represented by &#x201c;z<sub>C</sub>&#x201d;. The z<sub>1 </sub>coordinate value z<sub>C </sub>in the present example corresponds to the position of the corneal apex C. The process of determining the z<sub>1 </sub>coordinate value z<sub>C </sub>is an example of the second process described above.</p><p id="p-0148" num="0147">The second reflection intensity profile P<sub>2 </sub>includes a peak corresponding to the retinal surface, and also a plurality of peaks corresponding to the retinal inner layers, and peaks corresponding to the choroid. The distance calculating circuitry <b>460</b> specifies a peak corresponding to the retinal surface from among the peaks in the second reflection intensity profile P<sub>2</sub>. The peak specification includes, for example, a process of specifying the peak of maximum intensity. Alternatively, the peak specification may include a process of specifying the peak having the smallest z<sub>2 </sub>coordinate value (i.e., the peak located on the most &#x2212;z<sub>2 </sub>side) from among the peaks having intensities exceeding a predetermined threshold. The z<sub>2 </sub>coordinate value of the peak corresponding to the retinal surface thus specified is represented by &#x201c;z<sub>M</sub>&#x201d;. The z<sub>2 </sub>coordinate value z<sub>M </sub>in the present example corresponds to the position of the macular center M. The process of determining the z<sub>2 </sub>coordinate value z<sub>M </sub>is an example of the third process described above.</p><p id="p-0149" num="0148">The distance calculating circuitry <b>460</b> calculates the distance (axial length) between the corneal apex C and the macular center M, based on the arm length difference &#x394;z<sub>12 </sub>calculated in the first process, the corneal apex position z<sub>C </sub>specified in the second process, and the pupil center position z<sub>M </sub>specified in the third process. In the example shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the axial length AL is calculated using the following formula: AL=&#x394;z<sub>12 </sub>(z<sub>1</sub>(0)&#xd7;z<sub>C</sub>)+(z<sub>M</sub>&#x2212;z<sub>2</sub>(0)). The positive signs and negative signs in the right hand side of the formula are determined according to the setting of the coherence gate position, the setting of the first site, the setting of the second site, etc. In general, the axial length AL is calculated using the following formula: AL=&#x394;z<sub>12</sub>&#xb1;|z<sub>C</sub>&#x2212;z<sub>1</sub>(0)|&#xb1;|z<sub>M</sub>&#x2212;z<sub>2</sub>(0)|. The process of calculating the distance, such as the axial length, is an example of the fourth process.</p><heading id="h-0024" level="2">&#x3c;Operations&#x3e;</heading><p id="p-0150" num="0149">Some examples of the operation of the ophthalmic apparatus <b>1</b> according to the present embodiment will be described. <figref idref="DRAWINGS">FIG. <b>6</b></figref> shows an example of the operation of the ophthalmic apparatus <b>1</b>. In the present operation example, a fixation target for macula imaging is presented to the subject's eye E.</p><heading id="h-0025" level="2">(S<b>1</b>: Perform Alignment)</heading><p id="p-0151" num="0150">First, alignment of the ophthalmic apparatus <b>1</b> is performed with respect to the subject's eye E.</p><p id="p-0152" num="0151">In the present example, the alignment controlling circuitry <b>440</b> first turns on the light emitting diode <b>51</b> of the alignment optical system <b>50</b>. With this, a light beam is projected onto the anterior eye segment of the subject's eye E, and a bright spot is formed in the anterior eye segment. The two anterior eye segment cameras <b>300</b> photograph the anterior eye segment, onto which the light beam is being projected, from directions different from each other. As a result, a pair of anterior eye segment images in which the bright spot is photographed are obtained.</p><p id="p-0153" num="0152">The deviation calculating circuitry <b>430</b> specifies the bright spot position from each of the pair of anterior eye segment images, and determines the deviation of the subject's eye E with respect to a predetermined reference position. The alignment controlling circuitry <b>440</b> controls the movement mechanism <b>150</b> so as to cancel the deviation calculated by the deviation calculating circuitry <b>430</b>.</p><p id="p-0154" num="0153">In the present example, the ophthalmic apparatus <b>1</b> repeatedly performs a series of processes at predetermined time intervals, the series of processes including anterior eye segment photography with the two anterior eye segment cameras <b>300</b>, deviation calculation with the deviation calculation circuitry <b>430</b>, and movement control with the alignment controlling circuitry <b>440</b>. The series of processes allows gradual improvement of the alignment state and also maintenance of an appropriate alignment state. The maintenance of the appropriate alignment state is referred to as tracking.</p><heading id="h-0026" level="2">(S<b>2</b>: Change Arm Length to Obtain Signal of Cornea)</heading><p id="p-0155" num="0154">After the appropriate alignment state has been achieved by step S<b>1</b>, the scan controlling circuitry <b>450</b> (and the data processing circuitry <b>230</b>) changes any one or both of the measurement arm length and the reference arm length in such a way that a signal corresponding to the cornea of the subject's eye E can be obtained. Here, the measurement arm length is changed by controlling the retroreflector driver <b>41</b>A, and the reference arm length is changed by controlling the retroreflector driver <b>114</b>A.</p><p id="p-0156" num="0155">Further, in consideration of the fact that the position of the cornea is determined by the working distance, the ophthalmic apparatus <b>1</b> may control a retroreflector driver (i.e., any one or both of the retroreflector driver <b>41</b>A and the retroreflector driver <b>114</b>A) by a predetermined control amount in such a way that a retroreflector any one or both of the retroreflector <b>41</b> and the retroreflector <b>114</b>) is disposed at a position corresponding to an arm length (i.e., any one or both of the measurement arm length and the reference arm length) at which a signal from the corneal position determined by the predetermined working distance can be detected.</p><p id="p-0157" num="0156">The process in step S<b>2</b> includes, for example, the process referred to as &#x201c;Auto-Z&#x201d; disclosed in Japanese Unexamined Patent Application Publication No. 2017-184874 filed by the present applicant. Auto-Z is an automatic process of searching for an appropriate arm length. The appropriate arm length here is an arm length with which the signal of the cornea can be obtained, Note that the arm length adjustment in step S<b>2</b> may be performed by a process different from Auto-Z. further, a process called &#x201c;Z-lock&#x201d; disclosed in the same patent application publication may be performed in addition to Auto-Z. Z-lock is an automatic process of maintaining a preferred imaging state that has been achieved by Auto-Z.</p><p id="p-0158" num="0157">The ophthalmic apparatus <b>1</b> may be configured to perform alignment in the same manner as in step S<b>1</b> again, after the arm length adjustment in step S<b>2</b>.</p><p id="p-0159" num="0158">Here, the OCT focusing lens <b>43</b> may be moved to set the focus position at a vicinity of the cornea. For example, since the position of the cornea is determined by the working distance as described above, the corresponding position of the OCT focusing lens <b>43</b> may be determined in advance and the OCT focusing lens <b>43</b> may be moved to that position. Further, in consideration of that fact that the signal intensity from the front surface of the cornea is high, the OCT focusing lens <b>43</b> may be moved to focus on the retina at the time of acquiring the signal of the cornea. If this is the case, the OCT focusing lens <b>43</b> may be moved in an interlocking manner with the movement of the focusing optical system <b>60</b>, or the OCT focusing lens <b>43</b> may be moved by a movement amount determined using the focusing optical system <b>60</b>.</p><heading id="h-0027" level="2">(S<b>3</b>: Apply OCT Scan to Anterior Eye Segment)</heading><p id="p-0160" num="0159">After the completion of the arm length adjustment in step S<b>2</b>, the scan controlling circuitry <b>450</b> performs control for applying an OCT scan to the anterior eye segment of the subject's eye E. In the present example, the scan controlling circuitry <b>450</b> performs the first scan control for causing the scanner <b>410</b> to perform an OCT scan on the anterior eye segment region including the corneal surface of the subject's eye E.</p><p id="p-0161" num="0160">The OCT scan applied here is, for example, an A-scan. Some cases of applying other scan modes will be described later.</p><heading id="h-0028" level="2">(S<b>4</b>: Generate Reflection Intensity Profile)</heading><p id="p-0162" num="0161">The scanner <b>410</b> (the mage constructing circuitry <b>220</b> therein) generates a reflection intensity profile from the data acquired in the OCT scan of step S<b>3</b>. The reflection intensity profile generated here is data corresponding to the A-line to which the A-scan is applied in step S<b>3</b>.</p><heading id="h-0029" level="2">(S<b>5</b>: Record Retroreflector Position and Reflection Intensity Profile)</heading><p id="p-0163" num="0162">The ophthalmic apparatus <b>1</b> (e.g., the distance calculating circuitry <b>460</b>) records the position of the retroreflector at the time of the OCT scan of step S<b>3</b> being performed, and the reflection intensity profile generated in step S<b>4</b>.</p><p id="p-0164" num="0163">In the case where the measurement arm length has been changed in step S<b>2</b>, the position of the retroreflector <b>41</b> is recorded. In the case where the reference arm length has been changed in step S<b>2</b>, the position of the retroreflector <b>114</b> is recorded. Here, the position of the retroreflector <b>41</b> can be determined, for example, based on the content of the control for the retroreflector driver <b>41</b>A, or determined by detection of the position of the retroreflector <b>41</b>. Similarly, the position of the retroreflector <b>114</b> can be determined, for example, based on the content of the control for the retroreflector driver <b>114</b>A or determined by detection of the position of the retroreflector <b>114</b>.</p><heading id="h-0030" level="2">(S<b>6</b>: Change Arm Length to Obtain Signal of Retina)</heading><p id="p-0165" num="0164">Next, the scan controlling circuitry <b>450</b> (and the data processing circuitry <b>230</b>) changes any one or both of the measurement arm length and the reference arm length to obtain a signal corresponding to the retina of the subject's eye E. This process is performed in a similar manner to that in step S<b>2</b>.</p><heading id="h-0031" level="2">(S<b>7</b>: Perform Alignment)</heading><p id="p-0166" num="0165">After the arm length adjustment in step <b>36</b> has been completed, the alignment of the ophthalmic apparatus <b>1</b> with respect to the subject's eye E is performed. The alignment is performed in the same manner as in step S<b>1</b>.</p><p id="p-0167" num="0166">In the case where the OCT focusing lens <b>43</b> is moved to focus on the cornea or the vicinity thereof for acquiring the signal from the cornea (as described above), the OCT focusing lens <b>43</b> may be moved to focus on the retina at this stage. At this time, the OCT focusing lens <b>43</b> may be moved in an interlocking manner with the movement of the focusing optical system <b>60</b>, or the OCT focusing lens <b>43</b> may be moved by a movement amount determined using the focusing optical system <b>60</b>.</p><heading id="h-0032" level="2">(S<b>8</b>: Apply OCT Scan to Posterior Eye Segment)</heading><p id="p-0168" num="0167">After the alignment in step S<b>7</b> has been completed, the scan controlling circuitry <b>450</b> performs control for applying an OCT scan to the posterior eye segment of the subject's eye E. In the present example, the scan controlling circuitry <b>450</b> performs the second scan control for causing the scanner <b>410</b> to perform an OCT scan on the posterior eye segment region including the retinal surface of the subject's eye E.</p><p id="p-0169" num="0168">The OCT scan applied here is, for example, an A-scan. Some cases of applying other scan modes will be described later.</p><heading id="h-0033" level="2">(S<b>9</b>: Generate Reflection Intensity Profile)</heading><p id="p-0170" num="0169">The scanner <b>410</b> (the image constructing circuitry <b>220</b> therein) generates a reflection intensity profile from the data acquired in the OCT scan of step <b>38</b>. The reflection intensity profile generated here is data corresponding to the A-line to which the A-scan is applied in step S<b>8</b>.</p><heading id="h-0034" level="2">(S<b>10</b>: Record Retroreflector Position and Reflection Intensity Profile)</heading><p id="p-0171" num="0170">The ophthalmic apparatus <b>1</b> (e.g., the distance calculating circuitry <b>460</b>) records the position of the retroreflector at the time of the OCT scan of step <b>38</b> being performed, and the reflection intensity profile generated in step S<b>9</b>. This process is performed in the same manner as in step S<b>5</b>.</p><heading id="h-0035" level="2">(S<b>11</b>: Calculate Axial Length)</heading><p id="p-0172" num="0171">The distance calculating circuitry <b>460</b> calculates the distance between the corneal surface and the retinal surface based on the retroreflector position and the reflection intensity profile recorded in step S<b>5</b> and the retroreflector position and the reflection intensity profile recorded in step S<b>10</b>.</p><p id="p-0173" num="0172">In the present example, the distance calculating circuitry <b>460</b> first calculates the difference between the first arm length and the second arm length based on the retroreflector position recorded in step S<b>5</b> (that is, the first arm length applied to the anterior eye segment OCT scan) and the retroreflector position recorded in step S<b>10</b> (that is, the second arm length applied to the posterior eye segment OCT scan). Further, the distance calculating circuitry <b>460</b> analyzes the reflection intensity profile recorded in step S<b>5</b> to specify a position corresponding to the corneal surface (the first position), and analyzes the reflection intensity profile recorded in step S<b>10</b> to specify a position corresponding to the retinal surface (the second position). Then, the distance calculating circuitry <b>460</b> calculates the axial length of the subject's eye E based on the difference between the arm lengths, the first position, and the second position. This terminates the operation according to the present operation example (End).</p><heading id="h-0036" level="2">&#x3c;Modifications of the First Embodiment&#x3e;</heading><p id="p-0174" num="0173">Some modifications applicable to the ophthalmic apparatus <b>1</b> according to the first embodiment will be described. Unless otherwise mentioned, the reference symbols used in the description of the ophthalmic apparatus <b>1</b> will be used in the following description.</p><heading id="h-0037" level="1">First Modification Example</heading><p id="p-0175" num="0174">For example, if the subject's eye suffers from eye floaters (myodesopsia), turbidity/floaters moving in the vitreous body can adversely affect the posterior eye segment OCT scan.</p><p id="p-0176" num="0175">In order to address this issue, a plurality of OCT scans may be applied to the posterior eye segment. Such repetitive OCT scan is performed by the scanner <b>410</b> under the control of the scan controlling circuitry <b>450</b>. Each OCT scan therein is typically an A-scan, but is not limited thereto, and may be any scan mode such as a B-scan or a three dimensional scan.</p><p id="p-0177" num="0176">An example of an applicable repetitive OCT scan (a plurality of OCT scans) is described. The ophthalmic apparatus of the present example first carries out an A-scan. In the case where the distance measurement cannot be appropriately performed even after the A-scan has been repeated a predetermined number of times (e.g., 10 times), the ophthalmic apparatus of the present example switches the scan mode from the A-scan mode to another scan mode. Another scan mode here is, for example, a B-scan. The judgment as to whether or not the distance measurement has been carried out appropriately includes, for example, comparing the intensity of the interference signal obtained by the OCT scan (A-scan at this stage) with a predetermined threshold. If the interference signal intensity is equal to or higher than the threshold value, the ophthalmic apparatus of the present example determines that the distance measurement has been appropriately performed. On the other hand, if the interference signal intensity is less than the threshold value, the ophthalmic apparatus of the present example determines that the distance measurement has not been appropriately performed. The scan line length of the B-scan of the present example is optional, and is typically shorter than that of normal B-scans (e.g., 1 mm in length for the present example). In the case where the distance measurement cannot be appropriately performed even after the B-scan has been repeated the predetermined number of times (e.g., 10 times), the ophthalmic apparatus of the present example again switches the scan mode from the B-scan to another scan mode. The scan pattern of this another scan mode is, for example, a radial scan. The determination as to whether or not the distance measurement with the B-scan has been carried out appropriately is performed in the same manner as in the case of the A-scan. The size of the radial scan in the present example is arbitrary, and typically smaller than that of normal radial scans (e.g., each scan line having a length of 1 mm for the present example). By performing the scan mode switching as described above, a signal corresponding to the retina can be obtained at some stage.</p><p id="p-0178" num="0177">More generally, the ophthalmic apparatus of the present example first applies the first scan mode. The ophthalmic apparatus of the present example determines whether or not the data obtained by the OCT scan in the first scan mode meets a predetermined condition. In the case where the condition is not satisfied even after the OCT scan in the first scan mode has been repeated a predetermined number of times, the ophthalmic apparatus of the present example switches the scan mode from the first scan mode to the second scan mode. The ophthalmic apparatus of the present example determines whether the data obtained by the OCT scan in the second scan mode satisfies a predetermined condition. In the event where the condition is not satisfied even after the OCT scan in the second scan mode has been repeated a predetermined number of times, the ophthalmic apparatus of the present example switches the scan mode from the second scan mode to the third scan mode. In this way, the ophthalmic apparatus of the present example determines whether or not appropriate data has been obtained by the OCT scan in the q-th scan mode by considering a predetermined condition. In the event where appropriate data cannot be obtained, the ophthalmic apparatus switches the scan mode from the q-th scan mode to the (q+1)-th scan mode to perform an OCT scan (where q is an integer 1 or larger). Here, at least two scan modes are set in advance, and one or more scan mode transition conditions are also set in advance. Further, for example, the (q+1)-th scan mode is applied to a position different from the position to which the q-th scan mode is applied, and/or, the (q+1)-th scan mode is applied to a wider area than the area to which the q-th scan mode is applied. By performing such a scan mode transition one after another, it becomes possible to detect a signal corresponding to the retina at some stage, even in the cases where floaters are present in the subject's eye.</p><p id="p-0179" num="0178">The orientation of the optical scanner <b>44</b> (mirrors therein) may or may not be constant in the plurality of OCT scans. In the case of constant orientation, even when one OCT scan receives the influence of turbidity or floaters by the movement of the turbidity or floaters in the vitreous body, some other OCT scans may not be affected thereby. In the case of inconstant orientation, the influence of the turbidity or floaters in the vitreous body can be positively avoided. However, in the latter case, it may be desirable to restrict the area of change in the orientation of the optical scanner <b>44</b> in such a way that the target site for the distance measurement (e.g., the macular center) does not deviate from the area to which OCT scans are applied. In particular, in the case of applying A-scans, it is required to restrict the range of the change in the orientation of the optical scanner <b>44</b> to a very small area. The area of the change in the orientation of the optical scanner <b>44</b> may be set in advance, for example, according to the scan mode to be applied.</p><p id="p-0180" num="0179">The scanner <b>410</b> generates a reflection intensity profile or image data from a detection signal obtained by each of the plurality of OCT scans. Thereby, a data group (a plurality of pieces of data) corresponding to the plurality of OCT scans can be obtained.</p><p id="p-0181" num="0180">The distance calculating circuitry <b>460</b> can acquire a single piece of data from the data group acquired through the plurality of OCT scans, and perform the distance calculation using the single piece of data acquired.</p><p id="p-0182" num="0181">For example, the distance calculating circuitry <b>460</b> can generate the single piece of data by synthesizing (that is, averaging) at least two pieces of data from among the plurality of pieces of data included in the data group. By averaging two or more pieces of data obtained through two or more OCT scans applied to (substantially) the same site of the subject's eye E, noise due to turbidity or floaters in the vitreous body etc. can be reduced or eliminated.</p><p id="p-0183" num="0182">In another example, the distance calculating circuitry <b>460</b> may be configured to select one piece of data from the data group acquired through the plurality of OCT scans. In the data selection, for example, a predetermined evaluation value (e.g., contrast) that can be obtained from the data may be referred to. Thereby, even in the event where any of the plurality of pieces of data included in the data group is affected by the turbidity or floaters in the vitreous body, non-affected or less-affected data can be selected.</p><p id="p-0184" num="0183">In addition, in the case where the single piece of data obtained by the distance calculating circuitry <b>460</b> does not meet a predetermined condition (e.g., contrast condition), the ophthalmic apparatus of the present example may perform the posterior eye segment OCT scan again and/or display a message that prompts the user to instruct re-execution of the posterior eye segment OCT scan.</p><heading id="h-0038" level="1">Second Modification Example</heading><p id="p-0185" num="0184">In order to accurately measure the distance between two sites of the subject's eye E, it is necessary to accurately specify the two sites. To that end, an OCT scan may be applied to a three dimensional region of the subject's eye E. Examples of scan modes for that purpose include a three dimensional scan, a radial scan, and a multi-line cross scan. The radial scan is a scan mode composed of a plurality of line scans (a plurality of B-scans) arranged in a radial pattern, and the multi-line cross scan is a scan mode composed of two groups of line scans orthogonal to each other.</p><p id="p-0186" num="0185">In some examples, the scan controlling circuitry <b>450</b> causes the scanner <b>410</b> to perform an OCT scan on a three dimensional region of the subject's eye E in at least one of the anterior eye segment OCT scan and the posterior eye segment OCT scan.</p><p id="p-0187" num="0186">Typically, the scan controlling circuitry <b>450</b> may cause the scanner <b>410</b> to perform an OCT scan on a three dimensional region including the corneal surface of the subject's eye E in the anterior eye segment OCT scan. In a state where an appropriate alignment is being maintained, an OCT scan is applied to a three dimensional region of the anterior eye segment including the corneal apex of the subject's eye E.</p><p id="p-0188" num="0187">In addition, the scan controlling circuitry <b>450</b> causes the scanner <b>410</b> to perform an OCT scan on a three dimensional region including the retinal surface of the subject's eye E in the posterior eye segment OCT scan. In a state where an appropriate alignment is being maintained, an OCT scan is applied to a three dimensional region of the posterior eye segment including the macular center of the subject's eye E.</p><p id="p-0189" num="0188">The distance calculating circuitry <b>460</b> may analyze the data acquired by the OCT scan from the three dimensional region of the subject's eye E, to specify a feature position corresponding to a feature point of the subject's eye E.</p><p id="p-0190" num="0189">Typically, the distance calculating circuitry <b>460</b> may analyze the data acquired by the OCT scan from the three dimensional region of the anterior eye segment including the corneal apex of the subject's eye E, to specify a feature position corresponding to the corneal apex. This process includes, for example, a process of specifying an image region corresponding to the corneal surface from the data of the three dimensional region of the anterior eye segment, and a process of specifying a feature position (corneal apex position) corresponding to the corneal apex based on the shape of the image region.</p><p id="p-0191" num="0190">Further, the distance calculating circuitry <b>460</b> may analyze the data acquired by the OCT scan from the three dimensional region of the posterior eye segment including the macular center of the subject's eye E, to specify a feature position corresponding to the macular center. This process includes, for example, a process of specifying an image region corresponding to the retinal surface (the inner limiting membrane or the like) from the data of the three dimensional region of the posterior eye segment, and a process of specifying a feature position (macular center position) corresponding to the macular center based on the shape of the image region, the position of a predetermined tissue, the position of a predetermined site, etc. An example of the predetermined tissue is any sub-tissue (layer tissue) of the retina, and an example of the predetermined site is the optic nerve head.</p><p id="p-0192" num="0191">The distance calculating circuitry <b>460</b> calculates the length of a line segment whose one end is placed at the feature position specified. The length of the line segment is the distance for measurement purposes.</p><p id="p-0193" num="0192">In the case where the corneal apex position is specified from the data acquired by the anterior eye segment OCT scan, and also the macular center position is specified from the data acquired by the posterior eye segment OCT scan, the distance calculating circuitry <b>460</b> calculates the distance of the line segment connecting the corneal apex position and the macular center position. The distance calculated in this way corresponds to the axial length of the subject's eye E.</p><heading id="h-0039" level="2">&#x3c;Effects&#x3e;</heading><p id="p-0194" num="0193">The effects of the ophthalmic apparatus <b>1</b> according to the first embodiment and the modification examples thereof will be described.</p><p id="p-0195" num="0194">The ophthalmic apparatus <b>1</b> includes the scanner <b>410</b>, the movement mechanism <b>150</b>, the deviation detector <b>420</b>, the scan controlling circuitry <b>450</b>, the alignment controlling circuitry <b>440</b>, and the distance calculating circuitry <b>460</b>.</p><p id="p-0196" num="0195">The scanner <b>410</b> is configured to apply an OCT scan to the subject's eye E. The movement mechanism <b>150</b> is configured to move at least part of the scanner <b>410</b>. The deviation detector <b>420</b> is configured to measure the deviation of the subject's eye E with respect to a predetermined reference position.</p><p id="p-0197" num="0196">The scan controlling circuitry <b>450</b> is configured to perform the first scan control and the second scan control. The first scan control causes the scanner <b>410</b> to perform an OCT scan on the first region (e.g., the anterior eye segment region) including the first site of the subject's eye E (e.g., the corneal surface). The second scan control causes the scanner <b>410</b> to perform an OCT scan on the second region (e.g., the posterior eye segment region) including the second site different from the first site (e.g., the retinal surface). The OCT scan performed under the first scan control is referred to as the first OCT scan, and the OCT scan performed under the second scan control is referred to as the second OCT scan.</p><p id="p-0198" num="0197">The alignment controlling circuitry <b>440</b> is configured to perform the first alignment control and the second alignment control. In the first alignment control, the alignment controlling circuitry <b>440</b> controls the movement mechanism <b>150</b> based on the first deviation information of the subject's eye E acquired by the deviation detector <b>420</b> prior to the first scan control. In the second alignment control, the alignment controlling circuitry <b>440</b> controls the movement mechanism <b>150</b> based on the second deviation information of the subject's eye E acquired by the deviation detector <b>420</b> prior to the second scan control. Note that the ophthalmic apparatus <b>1</b> may perform alignment in the x direction and the y direction as well as alignment in the z direction.</p><p id="p-0199" num="0198">The distance calculating circuitry <b>460</b> is configured to calculate the distance between the first site and the second site (e.g., the axial length) based on the first data acquired by the scanner <b>410</b> under the first scan control and the second data acquired by the scanner <b>410</b> under the second scan control.</p><p id="p-0200" num="0199">According to the ophthalmic apparatus <b>1</b> configured in this way, the alignment is performed prior to both the first OCT scan and the second OCT scan. Therefore, both the first OCT scan and the second OCT scan may be performed in appropriate alignment conditions. Thus, for example, in the case of performing the second OCT scan after the first OCT scan, even if the subject's eye moves during the period from the first OCT scan to the second OCT scan, the alignment controlling circuitry <b>440</b> controls may perform the alignment on the moved subject's eye prior to the second OCT scan. This ensures the reliability of the distance measurement.</p><p id="p-0201" num="0200">As an optional configuration, the scanner <b>410</b> of the ophthalmic apparatus <b>1</b> includes the interference optical system that includes the measurement arm that guides the measurement light to the subject's eye, and the reference arm that guides the reference light. Further, as an optional configuration, the scanner <b>410</b> includes the arm length changer that is provided in at least one of the measurement arm and the reference arm, and changes the arm length under the control of the scan controlling circuitry <b>450</b>. The combination of the retroreflector <b>41</b> and the retroreflector driver <b>41</b>A is an example of the arm length changer provided in the measurement arm. The combination of the retroreflector <b>114</b> and the retroreflector driver <b>114</b>A is an example of the arm length changer provided in the reference arm.</p><p id="p-0202" num="0201">In addition, as an optional configuration, the distance calculating circuitry <b>460</b> may perform the following series of processes: (1) the process of calculating the difference (the arm length difference) between the first arm length applied at the time of the first scan control (the first OCT scan) and the second arm length applied at the time of the second scan control (the second OCT scan); (2) the process of analyzing the first data acquired through the first OCT scan to specify the first position corresponding to the first site of the subject's eye E (e.g., a signal position corresponding to the corneal surface); (3) the process of analyzing the second data acquired in the second OCT scan to specify the second position corresponding to the second site of the subject's eye E (e.g., a signal position corresponding to the retinal surface); and (4) the processing of calculating the distance between the first site and the second site (e.g., axial length) based on the arm length difference calculated by the process in (1), the first position specified by the process in (2), and the second position specified by the process in (3).</p><p id="p-0203" num="0202">Such an optional configuration is capable of providing specific and concrete processing for calculating the distance between the first site and the second site of the subject's eye E.</p><p id="p-0204" num="0203">As an optional configuration, the scan controlling circuitry <b>450</b> may cause the scanner <b>410</b> to perform a plurality of times of OCT scans in at least one of the first scan control (the first OCT scan) and the second scan control (the second OCT scan). If this is the case, the distance calculating circuitry <b>460</b> may acquire a single piece of data from the data group acquired by the plurality of times of OCT scans. Here, the distance calculating circuitry <b>460</b> can generate the single piece of data by performing averaging on the data group acquired by the plurality of OCT scans. Further, the distance calculating circuitry <b>460</b> may calculate the distance between the first site and the second site using the single piece of data acquired.</p><p id="p-0205" num="0204">According to the optional configuration described above, even in the case where the turbidity or floaters moving in the vitreous body adversely affects the posterior eye segment OCT scan, the noise caused by the turbidity or floaters may be reduced or eliminated, and/or, the data that is not affected by the turbidity or floaters or data that is less affected may be selected. This makes it possible to improve the reliability of the distance measurement.</p><p id="p-0206" num="0205">As an optional configuration, the scan controlling circuitry <b>450</b> may cause the scanner <b>410</b> to perform an OCT scan on a three dimensional region of the subject's eye E in at least one of the first scan control (the first OCT scan) and the second scan control (the second OCT scan). If this is the case, the distance calculating circuitry <b>460</b> may analyzes the data acquired by the OCT scan on the three dimensional region to specify the feature position corresponding to a feature point of the subject's eye E. Further, the distance calculating circuitry <b>460</b> may calculate a length of a line segment whose one end is placed at the feature position, as the distance between the first site and the second site.</p><p id="p-0207" num="0206">As the first typical example, the scan controlling circuitry <b>450</b> may cause the scanner <b>410</b> to perform an OCT scan on a three dimensional region including the corneal surface of the subject's eye E in the first scan control (the first OCT scan). Further, the distance calculating circuitry <b>460</b> may analyzes the data acquired by the OCT scan on the three dimensional region to specify the feature position corresponding to the corneal apex of the subject's eye E. If this is the case, the distance calculating circuitry <b>460</b> may calculate the length of a line segment whose one end is placed at the corneal apex, as the distance between the first site and the second site.</p><p id="p-0208" num="0207">As the second typical example, the scan controlling circuitry <b>450</b> may cause the scanner <b>410</b> to perform an OCT scan on a three dimensional region including the retinal surface of the subject's eye E in the second scan control (the second OCT scan). Further, the distance calculating circuitry <b>460</b> may analyzes the data acquired by the OCT scan on the three dimensional region to specify the feature position corresponding to the macular center of the subject's eye E. If this is the case, the distance calculating circuitry <b>460</b> can calculate the length of a line segment whose one end is placed at the macular center, as the distance between the first site and the second site.</p><p id="p-0209" num="0208">By combining the first and second typical examples, the length of the line segment whose one end is placed at the corneal apex and the other end is placed at the macular center, which corresponds to the axial length of the subject's eye E, can be determined.</p><p id="p-0210" num="0209">As an optional configuration, the deviation detector <b>420</b> includes the alignment optical system <b>50</b> (corresponding to the projection system), the two (or more) anterior eye segment cameras <b>300</b> (corresponding to the two or more cameras), and the deviation calculating circuitry <b>430</b>. The alignment optical system <b>50</b> is configured to project a light beam onto the anterior eye segment of the subject's eye E. The two (or more) anterior eye segment cameras <b>300</b> are configured to photograph the anterior eye segment of the subject's eye E from directions different from each other. The deviation calculating circuitry <b>430</b> is configured to calculate the deviation of the subject's eye E with respect to a predetermined reference position based on positions of images of the light beam (bright spot images) in the two (or more) anterior eye segment images acquired by the two or more anterior eye segment cameras <b>300</b>.</p><p id="p-0211" num="0210">This optional configuration may provide a specific and concrete configuration and processing for measuring the deviation of the subject's eye E with respect to the predetermined reference position.</p><p id="p-0212" num="0211">In addition, any of the items described in the first embodiment (configurations, elements, processing, processes, operations, actions, functions, etc.) and/or any of known items may be combined with the ophthalmic apparatus described here.</p><p id="p-0213" num="0212">The first embodiment provides a method of controlling an ophthalmic apparatus. The ophthalmic apparatus includes a scanner (<b>410</b>) configured to apply an OCT scan to a subject's eye, a movement mechanism (<b>150</b>) configured to move at least part of the scanner (<b>410</b>), and a deviation detector (<b>420</b>) configured to measure deviation of the subject's eye (E) with respect to a predetermined reference position.</p><p id="p-0214" num="0213">The controlling method includes the first alignment control step, the first scan control step, the second alignment control step, the second scan control step, and a distance calculation step.</p><p id="p-0215" num="0214">The first alignment control step controls the movement mechanism (<b>150</b>) based on the first deviation information of the subject's eye (E) acquired by the deviation detector (<b>420</b>). The first scan control step causes the scanner (<b>410</b>) to perform an OCT scan on the first region including the first site of the subject's eye (E). The OCT scan performed under the first scan control step is referred to as the first OCT scan.</p><p id="p-0216" num="0215">The second alignment control step controls the movement mechanism (<b>150</b>) based on the second deviation information of the subject's eye (E) acquired by the deviation detector (<b>420</b>). The second scan control step causes the scanner (<b>410</b>) to perform an OCT scan on the second region including the second site different from the first site of the subject's eye (E). The OCT scan performed under the second scan control step is referred to as the second OCT scan.</p><p id="p-0217" num="0216">The distance calculation step calculates a distance between the first site and the second site, based on the first data acquired by the scanner (<b>410</b>) in the first scan control step and the second data acquired by the scanner (<b>410</b>) in the second scan control step.</p><p id="p-0218" num="0217">According to the method of controlling the ophthalmic apparatus carried out in this way, the alignment is performed prior to both the first OCT scan and the second OCT scan. Therefore, both the first OCT scan and the second OCT scan may be performed in appropriate alignment conditions, Thus, the reliability of the distance measurement can be ensured by the controlling method provided by the first embodiment.</p><p id="p-0219" num="0218">In addition, any or the items (configurations, elements, processing, processes, operations, actions, functions, etc.) described in the first embodiment and/or any of known items may be combined with the controlling method.</p><p id="p-0220" num="0219">It is possible to configure a program for causing a computer to execute such the above-described controlling method. The program may include, for example, any of the aforementioned programs for operating the ophthalmic apparatus <b>1</b> of the first embodiment or any of its modification examples.</p><p id="p-0221" num="0220">Further, a computer-readable non-transitory recording medium storing such a program may be created. The non-transitory recording medium may be of any form or aspect, and examples thereof include magnetic disks, optical disks, magneto-optical disks, semiconductor memories, and the like.</p><heading id="h-0040" level="1">Second Embodiment</heading><p id="p-0222" num="0221">As described above, the first embodiment is designed to improve the reliability of the distance measurement of the subject's eye by performing alignment prior to both the first and second OCT scans. In other words, the first embodiment is designed to improve the reliability of the distance measurement through improving the reliability of the first and second OCT scans.</p><p id="p-0223" num="0222">On the other hand, the second embodiment is designed to improve the reliability of the distance measurement by means of data processing for correcting an alignment error involved in OCT scans.</p><p id="p-0224" num="0223">Hereinafter, the description of the items same as those of the first embodiment will be omitted unless otherwise mentioned. Further, among the elements included in the second embodiment, the same elements as those in the first embodiment are given the same reference symbols as the corresponding elements in the first embodiment. Further, in the following description, some elements of the first embodiment will be referred to as required.</p><heading id="h-0041" level="2">&#x3c;Configurations&#x3e;</heading><p id="p-0225" num="0224"><figref idref="DRAWINGS">FIG. <b>7</b></figref> shows an example of the configuration of an ophthalmic apparatus according to the present embodiment. The ophthalmic apparatus <b>1</b>A has the same hardware configuration as that of the ophthalmic apparatus <b>1</b> according to the first embodiment (see <figref idref="DRAWINGS">FIG. <b>1</b></figref>, <figref idref="DRAWINGS">FIG. <b>2</b></figref>, <figref idref="DRAWINGS">FIG. <b>3</b>A</figref>, <figref idref="DRAWINGS">FIG. <b>4</b>A</figref>, and <figref idref="DRAWINGS">FIG. <b>4</b>B</figref>). The configuration shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref> is applied in place of the configuration shown in <figref idref="DRAWINGS">FIG. <b>3</b>B</figref> of the first embodiment.</p><p id="p-0226" num="0225">In the ophthalmic apparatus <b>1</b>A, the scanner <b>410</b>, the deviation detector <b>420</b>, and the movement mechanism <b>150</b> respectively have the same configurations, functions, and actions as those of the first embodiment.</p><p id="p-0227" num="0226">The scanner <b>410</b> applies an OCT scan to the subject's eye E to acquire data. As in the first embodiment, the scanner <b>410</b> includes an interference optical system that includes a measurement arm that guides the measurement light LS to the subject's eye E and a reference arm that guides the reference light LS. Further, as in the first embodiment, the scanner <b>410</b> includes an arm length changer provided in any one or both of the measurement arm and the reference arm.</p><p id="p-0228" num="0227">The deviation detector <b>420</b> measures the deviation of the subject's eye E with respect to a predetermined reference position. As in the first embodiment, the deviation detector <b>420</b> may include the alignment optical system <b>50</b>, the anterior eye segment cameras <b>300</b>, and the deviation calculating circuitry <b>430</b>. The deviation detector <b>420</b> shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref> is an example applicable to the case where the position of the subject's eye E is defined as the bright spot position. When another definition (for example, the pupil center position or the corneal apex position) is employed, a configuration according thereto is applied.</p><p id="p-0229" num="0228">The alignment controlling circuitry <b>440</b>A, which will be described later, is configured to perform alignment control based on the measurement result of the deviation (deviation information) acquired by the deviation detector <b>420</b>. Further, the distance calculating circuitry <b>460</b>A described later is configured to calculate a distance in the subject's eye E in consideration of the deviation information acquired by the deviation detector <b>420</b>.</p><p id="p-0230" num="0229">The ophthalmic apparatus <b>1</b>A performs the first OCT scan on the first region (e.g., the anterior eye segment region) including the first site of the subject's eye E (e.g., the corneal surface), and the second OCT scan on the second region (e.g., the posterior eye segment region) including the second site (e.g., the retinal surface). Details of the first OCT scan and second OCT scan will be described later. Note that the order of execution of the first OCT scan and the second OCT scan is optional.</p><p id="p-0231" num="0230">The deviation detector <b>420</b> is configured to perform the first deviation measurement corresponding to the first OCT scan to acquire the first deviation information, and perform the second deviation measurement corresponding to the second OCT scan to acquire the second deviation information.</p><p id="p-0232" num="0231">The first deviation measurement is performed at any timing such as before, during, or after the execution of the first OCT scan. Similarly, the second deviation measurement is performed at any timing such as before, during, or after the execution of the second OCT scan. Typically, the first deviation measurement is performed immediately before, during, or immediately after the first OCT scan, and the second deviation measurement is performed immediately before, during, or immediately after the second OCT scan.</p><p id="p-0233" num="0232">The distance calculating circuitry <b>460</b>A, which will be described later, is configured to calculate a predetermined distance (distance between predetermined sites) in the subject's eye E in consideration of any one or both of the first deviation information and the second deviation information acquired by the deviation detector <b>420</b>. Further, the alignment controlling circuitry <b>440</b>A described later is configured to perform alignment control based on any one of the first deviation information and the second deviation information acquired by the deviation detector <b>420</b>. Note that the configuration in which the alignment control (the first alignment control) is performed based on the first deviation information and the alignment control (the second alignment control) is performed based on the second deviation information, corresponds to the first embodiment.</p><p id="p-0234" num="0233">As in the first embodiment, the movement mechanism <b>150</b> is configured to move the scanner <b>410</b> (in particular, the measurement arm of the interference optical system) relative to the subject's eye E.</p><p id="p-0235" num="0234">The alignment controlling circuitry <b>440</b>A and the scan controlling circuitry <b>450</b>A are provided in the controlling circuitry <b>210</b>A. The controlling circuitry <b>210</b>A is provided in place of the controlling circuitry <b>210</b> of the first embodiment. The controlling circuitry <b>210</b>A includes a processor, and controls each part of the ophthalmic apparatus <b>1</b>A. The controlling circuitry <b>210</b>A includes main controlling circuitry and a memory (both not shown). The controlling circuitry <b>210</b>A is realized by the cooperation of hardware including a circuit (circuitry) and controlling software.</p><p id="p-0236" num="0235">As in the first embodiment, the alignment controlling circuitry <b>440</b>A performs the alignment control for controlling the movement mechanism <b>150</b> based on the deviation information acquired by the deviation detector <b>420</b>.</p><p id="p-0237" num="0236">The scan controlling circuitry <b>450</b>A is configured to perform the first scan control and the second scan control. The first scan control causes the scanner <b>410</b> to perform an OCT scan on the first region (e.g., the anterior eye segment region) including the first site of the subject's eye E (e.g., the corneal surface). The second scan control causes the scanner <b>410</b> to perform an OCT scan on the second region (e.g., the posterior eye segment region) including the second site different from the first site (e.g., the retinal surface). The first scan control and the second scan control are performed in the same manner as those executed by the scan controlling circuitry <b>450</b> of the first embodiment. The OCT scan performed under the first scan control is referred to as the first OCT scan, and the OCT scan performed under the second scan control is referred to as the second OCT scan.</p><p id="p-0238" num="0237">As described above, the deviation detector <b>420</b> performs the deviation measurement of the subject's eye E before, during, or after the execution of the first scan control to acquire the first deviation information, and performs the deviation measurement of the subject's eye E before, during, or after the execution of the second scan control to acquire the second deviation information.</p><p id="p-0239" num="0238">The distance calculating circuitry <b>460</b>A is configured to calculate a distance (e.g., the axial length) between the first site (e.g., the corneal surface) and the second site (e.g., the retinal surface) of the subject's eye E, based on any one or both of the first deviation information and the second deviation information, the first data acquired in the first OCT scan, and the second data acquired in the second OCT scan.</p><p id="p-0240" num="0239">In other words, the distance calculating circuitry <b>460</b>A executes the distance calculation in consideration of any one or both of the alignment error at the time of performing the first OCT scan (the first deviation information) and the alignment error at the time of performing the second OCT scan (the second deviation information).</p><p id="p-0241" num="0240">The distance calculating circuitry <b>460</b>A performs, for example, the following series of processing. In the first process, the distance calculating circuitry <b>460</b>A calculates the difference (the arm length difference) between the first arm length applied at the time of the first OCT scan and the second arm length applied at the time of the second OCT scan. In the second process, the distance calculating circuitry <b>460</b>A analyzes the first data acquired by the first OCT scan to specify the first position corresponding to the first site of the subject's eye E (e.g., the signal position corresponding to the corneal surface). In the third process, the distance calculating circuitry <b>460</b>A analyzes the second data acquired by the second OCT scan to specify the second position corresponding to the second site of the subject's eye E (e.g., the signal position corresponding to the retinal surface). The first to third processes are respectively performed in the same manner as those processes n the first embodiment. In the fourth process, the distance calculating circuitry <b>460</b>A calculates the distance between the first site and the second site, based on the arm length difference calculated in the first process, the first position specified in the second process, the second position specified in the third process, and the deviation information (i.e., at least one of the first deviation information and the second deviation information) acquired by the deviation detector <b>420</b>.</p><p id="p-0242" num="0241">An example of such arithmetic processing will be described with referring to <figref idref="DRAWINGS">FIG. <b>8</b></figref>. As in <figref idref="DRAWINGS">FIG. <b>5</b></figref> of the first embodiment, the reference symbol C indicates the corneal apex of the subject's eye E, and the reference symbol M indicates the macular center. Further, the straight line Ax passing through the corneal apex C and the macular center M indicates the eye axis of the subject's eye E.</p><p id="p-0243" num="0242">The reference symbol K indicates the curvature center of the corneal surface at the corneal apex C. The curvature center K is the center of the curvature circle (i.e., the osculating circle) at the corneal apex C. The radius of the curvature circle, that is, the curvature radius of the corneal surface at the corneal apex C is denoted by r.</p><p id="p-0244" num="0243">The reference symbol G indicates the path (incident path) of the measurement light LS projected onto the macular center M. The reference symbol H indicates the intersection point of the incident path G and the corneal surface of the subject's eye E, that is, the incident position of the measurement light LS on the subject's eye E.</p><p id="p-0245" num="0244">The deviation (i.e., the height) of the incident path G with respect to the eye axis Ax is denoted by h. Assuming that the shape of the cornea surface is substantially spherical, or assuming that the height h is sufficiently small (that is, assuming that the alignment error is sufficiently small), it can be considered that the distance between the incident position H and the curvature center K is equal to the curvature radius r at the corneal apex C.</p><p id="p-0246" num="0245">The angle formed by the eye axis Ax and the line segment connecting the incident position H and the curvature center K, is denoted by &#x3b8;. Further, the angle formed by the eye axis Ax and the line segment connecting the incident position H and the macular center M, is denoted by &#x3c6;.</p><p id="p-0247" num="0246">The length of the line connecting the incident position H and the macular center M, is denoted by ALm. The length ALm corresponds to the measurement value of the axial length of the subject's eye E obtained from the data acquired by the OCT scan using the measurement light LS projected onto the macular center M along the incident path G.</p><p id="p-0248" num="0247">The axial length of the subject's eye E (the true value) is denoted by AL. In addition, the distance between the corneal apex C and the incident position H in the direction along the eye axis Ax, that is, the magnitude of the eye-axis-direction (Ax-direction) component of the vector whose initial point is located at the corneal apex C and terminal point is located at the incident position H, is denoted by AL1. Further, the distance between the incident position H and the macular center M in the direction along the eye axis Ax, that is, the magnitude of the eye-axis-direction (Ax-direction) component of the vector whose initial point is located at the macular center M and terminal point is located at the incident position H is denoted by AL2.</p><p id="p-0249" num="0248">As apparent from <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the axial length AL is represented by the following formula: AL=AL1+AL2=(r&#x2212;r*cos &#x3b8;)+ALm&#xd7;cos &#x3c6;=(r&#x2212;r*cos(arcsin(h/r)))+ALm*cos(arcsin(h/ALm)).</p><p id="p-0250" num="0249">Here, the corneal curvature radius r is assumed to be obtained in advance by a corneal shape measuring apparatus such as a keratometer. Further, the height h is an alignment error in the xy direction measured by the deviation detector <b>420</b> and is included in the deviation information. Further, the axial length measurement value ALm is a value of the axial length obtained by the ophthalmic apparatus <b>1</b>A in the same manner as in the first embodiment. By substituting the values r, h, and ALm into the above formula, the axial length AL can be calculated.</p><p id="p-0251" num="0250">The distance calculating circuitry <b>460</b>A stores the above formula and the corneal curvature radius value (r) of the subject's eye E in advance, for example. The distance calculating circuitry <b>460</b>A calculates the axial length (AL) of the subject's eye E, by substituting the following values into the above formula: the corneal curvature radius value (r); the deviation (h) in the xy direction included in the deviation information acquired by the deviation detector <b>420</b>; and the value (ALm) of the axial length measured using the OCT scan.</p><p id="p-0252" num="0251">Note that the present example describes the case where an alignment error in the xy direction is present at the time of performing the posterior eye segment OCT scan. It is clear to those skilled in the art that similar calculations may be applied to the case where an alignment error in the xy direction is present at the time of performing the anterior eye segment OCT scan, and the case where alignment errors are present at the time of performing both the anterior eye segment OCT scan and the posterior eye segment OCT scan.</p><p id="p-0253" num="0252">Further, the present example considers only the refraction of the measurement light LS on the corneal surface; however, other refractive index boundaries may also be considered. For example, the refraction of the measurement light LS on refractive index boundaries such as the back surface of the cornea, the surface of the crystalline lens, and/or the back surface of the crystalline lens, may be considered.</p><p id="p-0254" num="0253">In addition to the alignment error in the xy direction, the alignment error in the z direction may also be considered. The alignment error in the z direction is obtained by the deviation detector <b>420</b> as in the first embodiment.</p><heading id="h-0042" level="2">&#x3c;Operations&#x3e;</heading><p id="p-0255" num="0254">Some examples of the operation of the ophthalmic apparatus <b>1</b>A according to the present embodiment will be described. Described below are the first operation example and the second operation example. The first operation example performs the distance calculation in consideration of both the first deviation information and the second deviation information. The second operation example performs the distance calculation in consideration of the second deviation information while using the first deviation information for alignment.</p><heading id="h-0043" level="1">First Operation Example</heading><p id="p-0256" num="0255"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows the first operation example of the ophthalmic apparatus <b>1</b>A. In the present operation example, for example, a fixation target for macula imaging may be presented on the subject's eye E. In addition, preliminary alignment may be performed prior to step S<b>21</b>.</p><heading id="h-0044" level="2">(S<b>21</b>: Change Arm Length to Obtain Signal of Cornea)</heading><p id="p-0257" num="0256">In the same manner as step S<b>2</b> in the first embodiment, the scan controlling circuitry <b>450</b>A (and the data processing circuitry <b>230</b>) changes any one or both of the measurement arm length and the reference arm length to obtain a signal corresponding to the cornea of the subject's eye E.</p><heading id="h-0045" level="2">(S<b>22</b>: Acquire First Deviation Information)</heading><p id="p-0258" num="0257">After the change of the arm length in step S<b>21</b> has been completed, the deviation detector <b>420</b> performs the first deviation measurement corresponding to the first OCT scan (the anterior eye segment OCT scan) to acquire the first deviation information.</p><heading id="h-0046" level="2">(S<b>23</b>: Apply OCT Scan to Anterior Eye Segment)</heading><p id="p-0259" num="0258">After the acquisition of the deviation information in step S<b>22</b> has been completed, the scan controlling circuitry <b>450</b>A performs control for applying an OCT scan to the anterior eye segment of the subject's eye E. In the present example, the scan controlling circuitry <b>450</b>A performs the first scan control that causes the scanner <b>410</b> to perform an OCT scan on the anterior eye segment region including the corneal surface of the subject's eye E. Step S<b>23</b> is performed in the same manner as step S<b>3</b> in the first embodiment.</p><heading id="h-0047" level="2">(S<b>24</b>: Generate Reflection Intensity Profile)</heading><p id="p-0260" num="0259">The scanner <b>410</b> (the image constructing circuitry <b>220</b> therein) generates a reflection intensity profile from the data acquired in the OCT scan in step S<b>23</b>. The reflection intensity profile generated is, for example, data corresponding to the A-line to which the A-scan is applied in step S<b>23</b>.</p><heading id="h-0048" level="2">(S<b>25</b>: Record Retroreflector Position, Reflection Intensity Profile, and First Deviation Information)</heading><p id="p-0261" num="0260">In the same manner as step S<b>5</b> in the first embodiment, the ophthalmic apparatus <b>1</b> (e.g., the distance calculating circuitry <b>460</b>A) records the position of the retroreflector at the time of performing the OCT scan in step S<b>23</b>, and the reflection intensity profile generated in step S<b>24</b>. In addition, the ophthalmic apparatus <b>1</b> (e.g., the distance calculating circuitry <b>460</b>A) records the first deviation information acquired in step S<b>22</b>.</p><heading id="h-0049" level="2">(S<b>26</b>: Change Arm Length to Obtain Signal of Retina)</heading><p id="p-0262" num="0261">Next, the scan controlling circuitry <b>450</b>A (and the data processing circuitry <b>230</b>) changes any one or both of the measurement arm length and the reference arm length to obtain a signal corresponding to the retina of the subject's eye E.</p><heading id="h-0050" level="2">(S<b>27</b>: Acquire Second Deviation Information)</heading><p id="p-0263" num="0262">After the adjustment of the arm length in step S<b>26</b> has been completed, the deviation detector <b>420</b> performs the second deviation measurement corresponding to the second OCT scan (the posterior eye segment OCT scan) to acquire the second deviation information. This process is performed in the same manner as step S<b>22</b>.</p><heading id="h-0051" level="2">(S<b>28</b>: Apply OCT Scan to Posterior Eye Segment)</heading><p id="p-0264" num="0263">After the acquisition of the deviation information in step S<b>27</b> has been completed, the scan controlling circuitry <b>450</b>A performs control for applying an OCT scan to the posterior eye segment of the subject's eye E. In the present example, the scan controlling circuitry <b>450</b>A performs the second scan control that causes the scanner <b>410</b> to perform an OCT scan on the posterior eye segment region including the retinal surface of the subject's eye E.</p><heading id="h-0052" level="2">(S<b>29</b>: Generate Reflection Intensity Profile)</heading><p id="p-0265" num="0264">The scanner <b>410</b> (the image constructing circuitry <b>220</b> therein) generates a reflection intensity profile from the data acquired in the OCT scan in step S<b>28</b>. The reflection intensity profile generated is, for example, data corresponding to the A-line to which the A-scan is applied in step S<b>28</b>.</p><heading id="h-0053" level="2">(S<b>30</b>: Record Retroreflector Position, Reflection Intensity Profile, and Second Deviation Information)</heading><p id="p-0266" num="0265">In the same manner as step S<b>25</b>, the ophthalmic apparatus <b>1</b> (e.g., the distance calculating circuitry <b>460</b>A) records the position of the retroreflector at the time of performing the OCT scan in step S<b>28</b>, the reflection intensity profile generated in step <b>329</b>, and the second deviation information acquired in step S<b>27</b>.</p><heading id="h-0054" level="2">(S<b>31</b>: Calculate Axial Length Considering First and Second Deviation Information)</heading><p id="p-0267" num="0266">The distance calculating circuitry <b>460</b>A calculates the distance between the corneal surface and the retinal surface, based on the position of the retroreflector, the reflection intensity profile, and the first deviation information recorded in step S<b>25</b>, and on the position of the retroreflector, the reflection intensity profile, and the second deviation information recorded in step <b>330</b>.</p><p id="p-0268" num="0267">In the present example, the distance calculating circuitry <b>460</b>A first calculates the difference between the first arm length and the second arm length (the arm length difference), based on the position of the retroreflector recorded in step <b>325</b> (that is, the first arm length applied to the anterior eye segment OCT scan), and on the position of the retroreflector recorded in step <b>330</b> (that is, the second arm length applied to the posterior eye segment OCT scan). Further, the distance calculating circuitry <b>460</b>A analyzes the reflection intensity profile recorded in step <b>325</b> to specify a position corresponding to the corneal surface (the first position), and analyzes the reflection intensity profile recorded in step S<b>30</b> to specify a position corresponding to the retinal surface (the second position). Then, the distance calculating circuitry <b>460</b>A calculates the axial length of the subject's eye E, based on the first deviation information recorded in step S<b>25</b> and the second deviation information recorded in step S<b>30</b> in addition to the arm length difference, the first position, and the second position. This calculation is performed, for example, according to the method described in conjunction with <figref idref="DRAWINGS">FIG. <b>8</b></figref>. Note that this example considers both the alignment error in the anterior eye segment OCT scan and the alignment error in the posterior eye segment OCT scan. This terminates the operation according to the present operation example (End).</p><heading id="h-0055" level="1">Second Operation Example</heading><p id="p-0269" num="0268"><figref idref="DRAWINGS">FIG. <b>10</b></figref> shows the second operation example of the ophthalmic apparatus <b>1</b>A. In the present operation example, a fixation target for macula imaging may be presented on the subject's eye E, for example. In addition, preliminary alignment may be performed prior to step S<b>41</b>.</p><heading id="h-0056" level="2">(S<b>41</b>: Change Arm Length to Obtain Signal of Cornea)</heading><p id="p-0270" num="0269">The scan controlling circuitry <b>450</b>A (and the data processing circuitry <b>230</b>) changes any one or both of the measurement arm length and the reference arm length to obtain a signal corresponding to the cornea of the subject's eye E.</p><heading id="h-0057" level="2">(S<b>42</b>: Acquire First Deviation Information and Perform Alignment)</heading><p id="p-0271" num="0270">After the change of the arm length in step S<b>41</b> has been completed, the deviation detector <b>420</b> performs the first deviation measurement corresponding to the first OCT scan (the anterior eye segment OCT scan) to acquire the first deviation information. The alignment controlling circuitry <b>440</b>A performs alignment control that controls the movement mechanism <b>150</b> based on the first deviation information acquired. The alignment control is performed in the same manner as in the first embodiment.</p><heading id="h-0058" level="2">(S<b>43</b>: Apply OCT Scan to Anterior Eye Segment)</heading><p id="p-0272" num="0271">After the alignment in step S<b>42</b> has been completed, the scan controlling circuitry <b>450</b>A performs control for applying an OCT scan to the anterior eye segment of the subject's eye E. In the present example, the scan controlling circuitry <b>450</b>A performs the first scan control that causes the scanner <b>410</b> to perform an OCT scan on the anterior eye segment region including the corneal surface of the subject's eye E. It may be assumed that the anterior eye segment OCT scan is performed in an appropriate alignment condition.</p><heading id="h-0059" level="2">(S<b>44</b>: Generate Reflection Intensity Profile)</heading><p id="p-0273" num="0272">The scanner <b>410</b> (the image constructing circuitry <b>220</b> therein) generates a reflection intensity profile from the data acquired in the OCT scan in step S<b>43</b>. The reflection intensity profile generated is, for example, data corresponding to the A-line to which the A-scan is applied in step S<b>43</b>.</p><heading id="h-0060" level="2">(S<b>45</b>: Record Retroreflector Position and Reflection Intensity Profile)</heading><p id="p-0274" num="0273">The ophthalmic apparatus <b>1</b> (e.g., the distance calculating circuitry <b>460</b>A) records the position of the retroreflector at the time of performing the OCT scan in step S<b>43</b>, and the reflection intensity profile generated in step S<b>44</b>.</p><heading id="h-0061" level="2">(S<b>46</b>: Change Arm Length to Obtain Signal of Retina)</heading><p id="p-0275" num="0274">Next, the scan controlling circuitry <b>450</b>A (and the data processing circuitry <b>230</b>) changes any one or both of the measurement arm length and the reference arm length to obtain a signal corresponding to the retina of the subject's eye E.</p><heading id="h-0062" level="2">(S<b>47</b>: Acquire Second Deviation Information)</heading><p id="p-0276" num="0275">After the adjustment of the arm length in step S<b>46</b> has been completed, the deviation detector <b>420</b> performs the second deviation measurement corresponding to the second OCT scan (the posterior eye segment OCT scan) to acquire the second deviation information. Unlike the anterior eye segment OCT scan, which is assumed to be performed in an appropriate alignment condition, an appropriate alignment condition is not ensured in the posterior eye segment OCT scan. Therefore, only the second deviation information is taken into account in the distance calculation in the present example (described later in step S<b>51</b>).</p><heading id="h-0063" level="2">(S<b>48</b>: Apply OCT Scan to Posterior Eye Segment)</heading><p id="p-0277" num="0276">After the acquisition of the deviation information in step S<b>47</b> has been completed, the scan controlling circuitry <b>450</b>A performs control for applying an OCT scan to the posterior eye segment of the subject's eye E. In the present example, the scan controlling circuitry <b>450</b>A performs the second scan control that causes the scanner <b>410</b> to perform an OCT scan on the posterior eye segment region including the retinal surface of the subject's eye E.</p><heading id="h-0064" level="2">(S<b>49</b>: Generate Reflection Intensity Profile)</heading><p id="p-0278" num="0277">The scanner <b>410</b> (the image constructing circuitry <b>220</b> therein) generates a reflection intensity profile from the data acquired in the OCT scan in step S<b>48</b>. The reflection intensity profile generated is, for example, data corresponding to the A-line to which the A-scan is applied in step S<b>48</b>.</p><heading id="h-0065" level="2">(S<b>50</b>: Record Retroreflector Position, Reflection Intensity Profile, and Second Deviation Information)</heading><p id="p-0279" num="0278">The ophthalmic apparatus <b>1</b> (e.g., the distance calculating circuitry <b>460</b>A) records the position of the retroreflector at the time of performing the OCT scan in step S<b>48</b>, the reflection intensity profile generated in step S<b>49</b>, and the second deviation information acquired in step S<b>47</b>.</p><heading id="h-0066" level="2">(S<b>51</b>: Calculate Axial Length)</heading><p id="p-0280" num="0279">The distance calculating circuitry <b>460</b>A calculates the distance between the corneal surface and the retinal surface, based on the position of the retroreflector and the reflection intensity profile recorded in step S<b>45</b>, as well as the position of the retroreflector, the reflection intensity profile, and the second deviation information recorded in step S<b>50</b>.</p><p id="p-0281" num="0280">In the present example, the distance calculating circuitry <b>460</b>A first calculates the difference between the first arm length and the second arm length (the arm length difference), based on the position of the retroreflector recorded in step S<b>45</b> (that is, the first arm length applied to the anterior eye segment OCT scan), and the position of the retroreflector recorded in step S<b>50</b> (that is, the second arm length applied to the posterior eye segment OCT scan), Further, the distance calculating circuitry <b>460</b>A analyzes the reflection intensity profile recorded in step S<b>45</b> to specify a position corresponding to the corneal surface (the first position), and analyzes the reflection intensity profile recorded in step S<b>50</b> to specify a position corresponding to the retinal surface (the second position). Then, the distance calculating circuitry <b>460</b>A calculates the axial length of the subject's eye E, based on the second deviation information recorded in step S<b>50</b> in addition to the arm length difference, the first position, and the second position. This calculation is performed, for example, according to the method described in conjunction with <figref idref="DRAWINGS">FIG. <b>8</b></figref>. This terminates the operation according to the present operation example (End).</p><heading id="h-0067" level="2">&#x3c;Modifications of the Second Embodiment&#x3e;</heading><p id="p-0282" num="0281">Some modifications applicable to the ophthalmic apparatus <b>1</b>A according to the second embodiment will be described. Note that, unless otherwise mentioned, the reference symbols used in the description of the ophthalmic apparatus <b>1</b> and/or the ophthalmic apparatus <b>1</b>A will be used in the following description.</p><heading id="h-0068" level="1">First Modification Example</heading><p id="p-0283" num="0282">Similar to the first modification example of the first embodiment, the OCT scan may be applied to the posterior eye segment a plurality of times in order to cope with the adverse effect of the turbidity or floaters moving in the vitreous body on the posterior eye segment OCT scan. The repetitive OCT scan is performed by the scanner <b>410</b> under the control of the scan controlling circuitry <b>450</b>A.</p><p id="p-0284" num="0283">The scanner <b>410</b> generates a reflection intensity profile or image data from detection signals obtained by each of the plurality of OCT scans. Thereby, a data group (a plurality of pieces of data) corresponding to the plurality of OCT scans are obtained. The distance calculating circuitry <b>460</b>A may acquire a single piece of data from the data group acquired by the plurality of OCT scans, and perform the distance calculation using the single piece of data acquired.</p><heading id="h-0069" level="1">Second Modification Example</heading><p id="p-0285" num="0284">As in the second modification of the first embodiment, an OCT scan may be applied to a three dimensional region of the subject's eye E in order to accurately specify the two sites of the subject's eye E. For example, in any one or both of the anterior eye segment OCT scan and the posterior eye segment OCT scan, the scan controlling circuitry <b>450</b>A causes the scanner <b>410</b> to perform an OCT scan on a three dimensional region of the subject's eye E.</p><p id="p-0286" num="0285">The distance calculating circuitry <b>460</b>A may specify the feature position corresponding to a feature point of the subject's eye E by analyzing the data acquired by the OCT scan on the three dimensional region of the subject's eye E, and then calculate the length of a line segment whose one end is placed at the feature position specified. The length of the line segment is the distance for the purpose of the measurement.</p><heading id="h-0070" level="2">&#x3c;Effects&#x3e;</heading><p id="p-0287" num="0286">The effects of the ophthalmic apparatus <b>1</b>A according to the second embodiment and the modification examples thereof will be described.</p><p id="p-0288" num="0287">The ophthalmic apparatus <b>1</b>A includes the scanner <b>410</b>, the deviation detector <b>420</b>, the scan controlling circuitry <b>450</b>A, and the distance calculating circuitry <b>460</b>A.</p><p id="p-0289" num="0288">The scanner <b>410</b> is configured to apply an OCT scan to the subject's eye E. The deviation detector <b>420</b> is configured to measure the deviation of the subject's eye E with respect to a predetermined reference position.</p><p id="p-0290" num="0289">The scan controlling circuitry <b>450</b>A is configured to perform the first scan control and the second scan control. The first scan control causes the scanner <b>410</b> to perform an OCT scan on the first region (e.g., the anterior eye segment region) including the first site of the subject's eye E (e.g., the corneal surface). The second scan control causes the scanner <b>410</b> to perform an OCT scan on the second region (e.g., the posterior eye segment region) including the second site different from the first site (e.g., the retinal surface).</p><p id="p-0291" num="0290">The distance calculating circuitry <b>460</b>A is configured to calculate a distance between the first site and the second site of the subject's eye E (e.g., the axial length) based on the followings: at least one of the first deviation information of the subject's eye E acquired by the deviation detector <b>420</b> in response to the first scan control and the second deviation information of the subject's eye E acquired by the deviation detector <b>420</b> in response to the second scan control; the first data acquired by the scanner <b>410</b> under the first scan control; and the second data acquired by the scanner <b>410</b> under the second scan control.</p><p id="p-0292" num="0291">According to the ophthalmic apparatus <b>1</b>A configured as described above, the alignment error (the deviation information) in any one or both of the first OCT scan and the second OCT scan can be acquired, and the distance can be calculated in consideration of the alignment error(s). Therefore, for example, in the event of performing the second OCT scan after the first OCT scan, the reliability of the distance measurement can be secured even if the subject's eye moves during the period from the first OCT scan to the second OCT scan.</p><p id="p-0293" num="0292">As an optional configuration, the deviation detector <b>420</b> may be configured to acquire one deviation information in response to one scan control from among the first scan control and the second scan control, and further acquire the other deviation information prior to the other scan control from among the first scan control and the second scan control. Further, the ophthalmic apparatus <b>1</b>A may include the movement mechanism <b>150</b> and the alignment controlling circuitry <b>440</b>A. The movement mechanism <b>150</b> is configured to move at least part of the scanner <b>410</b>. The alignment controlling circuitry <b>440</b>A is configured to perform alignment control of controlling the movement mechanism <b>150</b> based on the other deviation information prior to the other scan control. The distance calculating circuitry <b>460</b>A may be configured to calculate the distance based on the one deviation information, the first data, and the second data.</p><p id="p-0294" num="0293">For example, in the second operation example shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the deviation detector <b>420</b> acquires the first deviation information and performs alignment prior to the first scan control, and calculates the distance based on the second deviation information acquired in response to the second scan control, the first data, and the second data.</p><p id="p-0295" num="0294">According to the optional configuration thus configured, one of the first OCT scan and the second OCT scan can be performed after alignment, and the distance can be calculated in consideration of the alignment error in the other OCT scan. Therefore, the distance measurement can be performed with high reliability.</p><p id="p-0296" num="0295">As an optional configuration, the scanner <b>410</b> may include an interference optical system and an arm length changer. The interference optical system includes a measurement arm that guides the measurement light LS to the subject's eye E, and a reference arm that guides the reference light LR. The arm length changer is provided in at least one of the measurement arm and the reference arm, and changes the arm length under the control of the scan controlling circuitry <b>450</b>A. The combination of the retroreflector <b>41</b> and the retroreflector driver <b>41</b>A is an example of the arm length changer provided in the measurement arm. The combination of the retroreflector <b>114</b> and the retroreflector driver <b>114</b>A is an example of the arm length changer provided in the reference arm.</p><p id="p-0297" num="0296">In addition, as an optional configuration, the distance calculating circuitry <b>460</b>A can perform the following series of processes: (1) the process of calculating the difference (arm length difference) between the first arm length applied at the time of the first scan control (the first OCT scan) and the second arm length applied at the time of the second scan control (the second OCT scan); (2) the process of analyzing the first data acquired in the first OCT scan to specify the first position corresponding to the first site of the subject's eye E (e.g., a signal position on the corneal surface); (3) the process of analyzing the second data acquired in the second OCT scan to specify the second position corresponding to the second site of the subject's eye E (e.g., a signal position on the retinal surface); and (4) the process of calculating the distance between the first site and the second site (e.g., the axial length) based on the arm length difference calculated in (1), the first position specified in (2), the second position specified in (3), and at least one of the first deviation information and the second deviation information acquired by the deviation detector <b>420</b>.</p><p id="p-0298" num="0297">Here, the distance calculating circuitry <b>460</b>A may be configured as follows. First, the distance calculating circuitry <b>460</b>A calculates a provisional distance between the first site and the second site based on the arm length difference, the first position, and the second position. Further, the distance calculating circuitry <b>460</b>A calculates the distance between the first site and the second site based on the provisional distance, at least one of the first deviation information and the second deviation information, and the corneal curvature radius of the subject's eye E acquired in advance.</p><p id="p-0299" num="0298">The following is a specific example of such a distance calculation; When the provisional distance between the first site and the second site is denoted by ALm, one of the first deviation information and the second deviation information is denoted by h, the corneal curvature radius is denoted by r, and the distance between the first site and the second site (the true value) is denoted by AL, the distance calculating circuitry <b>460</b>A calculates the distance AL by using the following arithmetic formula: AL=(r&#x2212;r*cos(arcsin(h/r))) ALm*cos(arcsin(h/ALm)).</p><p id="p-0300" num="0299">According to the optional configurations described above, specific and concrete processing for calculating the distance between the first site and the second site of the subject's eye E can be provided.</p><p id="p-0301" num="0300">As an optional configuration, the scan controlling circuitry <b>450</b>A may be configured to cause the scanner <b>410</b> to perform a plurality of OCT scans in at least one of the first scan control (the first OCT scan) and the second scan control (the second OCT scan). If this is the case, the distance calculating circuitry <b>460</b>A can acquire a single piece of data from the data group acquired by the plurality of OCT scans. Here, the distance calculating circuitry <b>460</b>A may be configured to generate the single piece of data by applying averaging calculation to the data group acquired by the plurality of OCT scans. Further, the distance calculating circuitry <b>460</b>A may be configured to calculate the distance between the first site and the second site (e.g., the provisional distance mentioned above) using the single piece of data acquired.</p><p id="p-0302" num="0301">According to the optional configuration configured in this way, even if the turbidity or floaters moving in the vitreous body adversely affects the posterior eye segment OCT scan, the noise caused by the turbidity or floaters can be reduced or eliminated, and/or, the data that is not affected by the turbidity or floaters or data that is less affected can be selected. This makes it possible to improve the reliability of the distance measurement.</p><p id="p-0303" num="0302">As an optional configuration, the scan controlling circuitry <b>450</b>A may be configured to cause the scanner <b>410</b> to perform an OCT scan on a three dimensional region of the subject's eye E in at least one of the first scan control (the first scan) and the second scan control (the second scan). If this is the case, the distance calculating circuitry <b>460</b>A may be configured to analyze the data acquired by the OCT scan on the three dimensional region to specify a feature position corresponding to a feature point of the subject's eye E. In addition, the distance calculating circuitry <b>460</b>A may be configured to calculate the length of a line segment whose one end is placed at the specified feature position, as the distance between the first site and the second site (e.g., the aforementioned provisional distance).</p><p id="p-0304" num="0303">As the first typical example, the scan controlling circuitry <b>450</b>A may be configured to cause the scanner <b>410</b> to perform an OCT scan on a three dimensional region including the corneal surface of the subject's eye E in the first scan control (the first OCT scan). In addition, the distance calculating circuitry <b>460</b>A may be configured to analyze the data acquired by the OCT scan on the three dimensional region to specify a feature position corresponding to the corneal apex of the subject's eye E. If this is the case, the distance calculating circuitry <b>460</b>A may be configured to calculate the length of a line segment whose one end is placed at the corneal apex, as the distance between the first site and the second site (e.g., the aforementioned provisional distance).</p><p id="p-0305" num="0304">As the second typical example, the scan controlling circuitry <b>450</b>A may be configured to cause the scanner to perform an OCT scan on a three dimensional region including the retinal surface of the subject's eye E in the second scan control (the second OCT scan). Further, the distance calculating circuitry <b>460</b>A may be configured to analyze the data acquired by the OCT scan on the three dimensional region to specify a feature position corresponding to the macular center. Id this is the case, the distance calculating circuitry <b>460</b>A may be configured to calculate the length of a line segment whose one end is placed at the macular center, as the distance between the first site and the second site (e.g., the aforementioned provisional distance).</p><p id="p-0306" num="0305">By combining the first and second typical examples, the length of the line segment whose one end is placed at the corneal apex and the other end is placed at the macular center can be determined. That is, the axial length of the subject's eye E can be determined in this way.</p><p id="p-0307" num="0306">As an optional configuration, the deviation detector <b>420</b> includes the alignment optical system <b>50</b> (a projection system), the two (or more) anterior eye segment cameras <b>300</b> (two or more cameras), and the deviation calculating circuitry <b>430</b>. The alignment optical system <b>50</b> is configured to project a light beam onto the anterior eye segment of the subject's eye E. The two (or more) anterior eye segment cameras <b>300</b> are configured to photograph the anterior eye segment of the subject's eye E from mutually different directions. The deviation calculating circuitry <b>430</b> is configured to calculate the deviation of the subject's eye E with respect to a predetermined reference position based on positions of images of the light beam (bright spot images) in the two (or more) anterior eye segment images acquired by the two or more anterior eye segment cameras <b>300</b>.</p><p id="p-0308" num="0307">According to the optional configuration described above, a specific and concrete configuration and processing for measuring the deviation of the subject's eye E with respect to a predetermined reference position can be provided.</p><p id="p-0309" num="0308">In addition, any of the items described in the second embodiment (configurations, elements, processing, processes, operations, actions, functions, etc.) and/or any of known items may be combined with the ophthalmic apparatus described in the present example. Further, any of the items described in the first embodiment (configurations, elements, processing, processes, operations, actions, functions, etc.) may be combined with the ophthalmic apparatus described in the present example.</p><p id="p-0310" num="0309">The second embodiment provides a method of controlling an ophthalmic apparatus. The ophthalmic apparatus includes a scanner (<b>410</b>) configured to apply an OCT scan to the subject's eye E and a deviation detector (<b>420</b>) configured to measure the deviation of the subject's eye (E) with respect to a predetermined reference position.</p><p id="p-0311" num="0310">The controlling method includes the first scan control step, the second scan control step; the deviation detection step, and the distance calculation step.</p><p id="p-0312" num="0311">The first scan control step causes the scanner (<b>410</b>) to perform an OCT scan on the first region including the first site of the subject's eye (E). This OCT scan is referred to as the first OCT scan. Further, the second scan control step causes the scanner (<b>410</b>) to perform an OCT scan on the second region including the second site different from the first site of the subject's eye (E). This OCT scan is referred to as the second OCT scan.</p><p id="p-0313" num="0312">The deviation detection step causes the deviation detector (<b>420</b>) to perform at least one of the step of acquiring the first deviation information of the subject's eye (E) in response to the first scan control, and the step of acquiring the second deviation information of the subject's eye (E) in response to the second scan control.</p><p id="p-0314" num="0313">The distance calculation step calculates the distance between the first site and the second site of the subject's eye (E), based on at least one of the first deviation information and the second deviation information acquired in the deviation detection step, the first data acquired by the scanner (<b>410</b>) in the first scan control step, and the second data acquired by the scanner (<b>410</b>) in the second scan control step.</p><p id="p-0315" num="0314">According to the controlling method of ophthalmic apparatus as described above, it is possible to obtain an alignment error (deviation information) in any one or both of the first OCT scan and the second OCT scan, and to calculate the distance in consideration of the alignment error(s). Therefore, the reliability of the distance measurement can be secured.</p><p id="p-0316" num="0315">Note that any of the items described in the first embodiment (configurations, elements, processing, processes, operations, actions, functions, etc.), and/or, any of the items described in the second embodiment (configurations, elements, processing, processes, operations, actions, functions, etc.), and/or, any of known items may be combined with the controlling method of the present example.</p><p id="p-0317" num="0316">A program that causes a computer to execute such a controlling method may be configured. The program may include, for example, any of the aforementioned programs for operating the ophthalmic apparatus <b>1</b>A of the second embodiment or a modification example thereof.</p><p id="p-0318" num="0317">Further, it is possible to create a computer readable non-transitory recording medium storing such a program. The non-transitory recording medium may be in any form or aspect, and examples thereof include magnetic disks, optical disks, magneto-optical disks, semiconductor memories and the like.</p><heading id="h-0071" level="2">&#x3c;Other Items&#x3e;</heading><p id="p-0319" num="0318">The aspects described above are merely illustrative of the implementation of the present invention. A person who intends to practice the present invention may apply any modification (omission, substitution, replacement, addition, etc.) within the scope of the present invention.</p><p id="p-0320" num="0319">For example, the ophthalmic apparatus according to some embodiments may have a configuration for measuring a characteristic of the subject's eye. As a specific example, the ophthalmic apparatus according to some embodiments may have a configuration for measuring the corneal curvature radius of the subject's eye. The configuration for the corneal curvature radius measurement may include an optical system, an arithmetic system, and a control system that have the same configurations as those of a conventional corneal shape measuring apparatus. An example of the configuration for measuring the corneal curvature radius includes the configuration using a kerato plate (kerato ring) or a placido plate (placido ring) disclosed in Japanese Unexamined Patent Application Publication No. 2017-063978 filed by the present applicant. The corneal curvature radius may be measured by using an anterior eye segment OCT scan, instead. Note that the configuration for measuring the corneal curvature radius is not limited to these examples, and may be a configuration using any known technique.</p><p id="p-0321" num="0320">The characteristics of the subject's eye that can be measured by the ophthalmic apparatus according to some embodiments are not limited to the corneal curvature radius. For example, the ophthalmic apparatus according to some embodiments may have a configuration for measuring the refractive power of the subject's eye (e.g., spherical power, astigmatic power, and/or astigmatism axis angle). The configuration for measuring the refractive power of the subject's eye may include an optical system, an arithmetic system, and a control system that have the same configurations as a conventional refractive power measuring apparatus (a refractometer). An example of the configuration for measuring the refractive power includes the configuration disclosed in Japanese Unexamined Patent Application Publication No. 2017-063978 filed by the present applicant.</p><p id="p-0322" num="0321">When the ophthalmic apparatus according to some embodiments has the eye refractive power measuring function, the ophthalmic apparatus may be configured to use the eye refractive power measuring function, in place of using the focus optical system <b>60</b> as described in the above disclosure, to determine the focal position. Then, the ophthalmic apparatus may move the OCT focusing lens <b>43</b> to focus on the focal position determined.</p><p id="p-0323" num="0322">In the above-mentioned disclosure, the method using the alignment indicator and the method using the anterior eye segment cameras have been described as the applicable alignment method. However, other alignment methods may be applied. An example of the other alignment methods is a method using an optical lever. The alignment method of ophthalmic apparatus using the optical lever is disclosed, for example, in Japanese Unexamined Patent Application Publication No. 2012-148032 and Japanese Unexamined Patent Application Publication No. 2018-050922.</p><p id="p-0324" num="0323">The deviation detector of the ophthalmic apparatus of the present example is configured to measure the deviation of the subject's eye with respect to a predetermined reference position by using the optical lever. The predetermined reference position is, for example, the position corresponding to the working distance. In other words, the predetermined reference position is the position separated in the z direction from the subject's eye by the predetermined working distance, and the deviation measured is typically a deviation in the z direction.</p><p id="p-0325" num="0324">The deviation detector in the present example includes a projection system that projects a light beam obliquely onto the anterior eye segment of the subject's eye and an image sensor that detects reflection of the light beam of the projected light beam from the anterior eye segment. The configurations and arrangement of the projection system and the image sensor may be the same as those of a conventional optical lever alignment means.</p><p id="p-0326" num="0325">A typical projection system includes a light source and a lens. The optical axis of the typical projection system is tilted by the first angle in the first direction with respect to the optical axis of the measurement arm (the optical axis of the objective lens). A typical image sensor may be a CCD image sensor or a CMOS image sensor, and may be a line sensor or an area sensor. Typically, an imaging lens is disposed between the image sensor and the subject's eye E. The optical axis of the detection system including the image sensor and the imaging lens is tilted by the second angle in the second direction with respect to the optical axis of the measurement arm. Here, the second angle is equal to the first angle, and the second direction is opposite to the first direction.</p><p id="p-0327" num="0326">With such a configuration and arrangement, when the projection system and the detection system are located within a predetermined area with respect to the subject's eye, the image sensor can detect the reflection of the light beam. In addition, the change in the relative position of the projection system and the detection system with respect to the subject's eye, induces the change in the detection position of the reflection of the light beam by the image sensor changes. In other words, the position of the reflection of the light beam projected on the light receiving area (e.g., the light receiving element array) of the image sensor varies according to the relative position of the projection system and the detection system with respect to the subject's eye.</p><p id="p-0328" num="0327">The deviation detector of the present example includes the deviation calculating circuitry that calculates the deviation of the subject's eye based on the position of the reflection detected by the image sensor. The calculation executed by the deviation calculating circuitry of the present example may be the same as the calculation performed by the conventional optical lever type alignment method, and; typically, the deviation in the z direction is detected. The deviation calculating circuitry of the present example is realized by the cooperation of hardware including a circuit (circuitry) and deviation calculating software.</p><p id="p-0329" num="0328">According to the present example, a specific and concrete configuration and processing for measuring the deviation of the subject's eye with respect to a predetermined reference position can be provided as in the case of using the alignment indicator or using two or more anterior eye segment cameras.</p><p id="p-0330" num="0329">While certain embodiments have been described, these embodiments have been presented by way of example only, and are not intended to limit the scope of the inventions. Indeed, the novel embodiments described herein may be embodied in a variety of other forms; furthermore, various omissions, substitutions, additions and changes in the form of the embodiments described herein may be made without departing from the spirit of the inventions. The accompanying claims and their equivalents are intended to cover such forms or modifications as would fall within the scope and spirit of the inventions.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An ophthalmic apparatus comprising:<claim-text>a scanner that applies an optical coherence tomography (OCT) scan to a subject's eye;</claim-text><claim-text>a movement mechanism that moves at least part of the scanner;</claim-text><claim-text>a deviation detector that measures deviation of the subject's eye with respect to a predetermined reference position;</claim-text><claim-text>scan controlling circuitry that performs first scan control of causing the scanner to perform an OCT scan on a first region including a first site of the subject's eye, and second scan control of causing the scanner to perform an OCT scan on a second region including a second site different from the first site;</claim-text><claim-text>alignment controlling circuitry that performs first alignment control for first automatic alignment by controlling the movement mechanism based on first deviation information of the subject's eye acquired by the deviation detector prior to the first scan control, and second alignment control for second automatic alignment by controlling the movement mechanism based on second deviation information of the subject's eye acquired by the deviation detector prior to the second scan control; and</claim-text><claim-text>distance calculating circuitry that calculates a distance between the first site and the second site based on first data acquired by the scanner under the first scan control and second data acquired by the scanner under the second scan control.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The ophthalmic apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the scan controlling circuitry causes the scanner to perform a plurality of OCT scans in at least one of the first scan control and the second scan control, and</claim-text><claim-text>the distance calculating circuitry acquires a single piece of data from a data group acquired by the plurality of OCT scans, and calculates the distance using the single piece of data.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The ophthalmic apparatus of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the distance calculating circuitry generates the single piece of data by averaging the data group.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The ophthalmic apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the scan controlling circuitry causes the scanner to perform an OCT scan on a three dimensional region of the subject's eye in at least one of the first scan control and the second scan control, and</claim-text><claim-text>the distance calculating circuitry analyzes data acquired by the OCT scan on the three dimensional region to specify a feature position corresponding to a feature point of the subject's eye, and calculates a length of a line segment whose one end is placed at the feature position, as the distance.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The ophthalmic apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein<claim-text>the scan controlling circuitry causes the scanner to perform an OCT scan on a three dimensional region including at least part of a corneal surface of the subject's eye in the first scan control, and</claim-text><claim-text>the distance calculating circuitry analyzes data acquired by the OCT scan on the three dimensional region to specify a feature position corresponding to a corneal apex.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The ophthalmic apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein<claim-text>the scan controlling circuitry causes the scanner to perform an OCT scan on a three dimensional region including at least part of a retinal surface of the subject's eye in the second scan control, and</claim-text><claim-text>the distance calculating circuitry analyzes data acquired by the OCT scan on the three dimensional region to specify a feature position corresponding to a macular center.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The ophthalmic apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the deviation detector includes:<claim-text>a projection system that projects a light beam onto an anterior eye segment of the subject's eye;</claim-text><claim-text>two or more cameras that photograph the anterior eye segment from directions different from each other; and</claim-text><claim-text>deviation calculating circuitry that calculates the deviation of the subject's eye based on positions of images of the light beam in two or more anterior eye segment images acquired by the two or more cameras.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The ophthalmic apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the deviation detector includes:<claim-text>a projection system that projects a light beam obliquely onto an anterior eye segment of the subject's eye;</claim-text><claim-text>an image sensor that detects reflection of the light beam from the anterior eye segment; and</claim-text><claim-text>deviation calculating circuitry that calculates the deviation of the subject's eye based on a position of the reflection detected by the image sensor.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. A method of controlling an ophthalmic apparatus that includes a scanner configured to apply an optical coherence tomography (OCT) scan to a subject's eye; a movement mechanism configured to move at least part of the scanner, and a deviation detector configured to measure deviation of the subject's eye with respect to a predetermined reference position, the method comprising:<claim-text>a first alignment control step for first automatic alignment that controls the movement mechanism based on first deviation information of the subject's eye acquired by the deviation detector;</claim-text><claim-text>a first scan control step that causes the scanner to perform an OCT scan on a first region including a first site of the subject's eye;</claim-text><claim-text>a second alignment control step for second automatic alignment that controls the movement mechanism based on second deviation information of the subject's eye acquired by the deviation detector;</claim-text><claim-text>a second scan control step that causes the scanner to perform an OCT scan on a second region including a second site different from the first site; and</claim-text><claim-text>a distance calculation step that calculates a distance between the first site and the second site, based on first data acquired by the scanner in the first scan control step and second data acquired by the scanner in the second scan control step.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A computer-readable non-transitory recording medium storing a program that causes a computer to execute the method of <claim-ref idref="CLM-00009">claim 9</claim-ref>.</claim-text></claim></claims></us-patent-application>