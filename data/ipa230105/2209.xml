<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230002210A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230002210</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17930853</doc-number><date>20220909</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>67</class><subclass>D</subclass><main-group>1</main-group><subgroup>12</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>67</class><subclass>D</subclass><main-group>1</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>67</class><subclass>D</subclass><main-group>1</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>67</class><subclass>D</subclass><main-group>1</main-group><subgroup>1238</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>67</class><subclass>D</subclass><main-group>1</main-group><subgroup>0888</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>67</class><subclass>D</subclass><main-group>1</main-group><subgroup>0085</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>67</class><subclass>D</subclass><main-group>2001</main-group><subgroup>009</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>67</class><subclass>D</subclass><main-group>2001</main-group><subgroup>1263</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">BEVERAGE DISPENSER VALVE WITH FILL DETECTION</invention-title><us-related-documents><division><relation><parent-doc><document-id><country>US</country><doc-number>17336893</doc-number><date>20210602</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11472693</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17930853</doc-number></document-id></child-doc></relation></division><us-provisional-application><document-id><country>US</country><doc-number>63034135</doc-number><date>20200603</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Marmon Foodservice Technologies, Inc.</orgname><address><city>Osseo</city><state>MN</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Bendig</last-name><first-name>James</first-name><address><city>Naperville</city><state>IL</state><country>US</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Marmon Foodservice Technologies, Inc.</orgname><role>02</role><address><city>Osseo</city><state>MN</state><country>US</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A system and method for dispensing a beverage includes the detection of a presence of a cup underneath a nozzle, and in response to the detected presence of the cup, a target fill height is calculated. The controller operates to begin a dispense of a beverage into the cup. A beverage fill height determined and compared to a target fill height. When the beverage fill height exceeds the target fill height, the controller operates to stop dispensing the beverage into the cup.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="177.72mm" wi="101.09mm" file="US20230002210A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="240.28mm" wi="135.55mm" file="US20230002210A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="145.63mm" wi="149.69mm" file="US20230002210A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="216.83mm" wi="146.47mm" file="US20230002210A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="213.78mm" wi="103.12mm" file="US20230002210A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="212.77mm" wi="103.12mm" file="US20230002210A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="213.36mm" wi="103.12mm" file="US20230002210A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="206.76mm" wi="161.37mm" file="US20230002210A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="257.05mm" wi="134.96mm" file="US20230002210A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="257.05mm" wi="134.96mm" file="US20230002210A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="173.06mm" wi="150.71mm" orientation="landscape" file="US20230002210A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">The present application claims priority to U.S. Provisional Patent Application No. 63/034,135 filed on Jun. 3, 2020, and which is incorporated by reference herein in its entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD</heading><p id="p-0003" num="0002">The present disclosure relates to a touchless beverage valve assembly for ice and beverage dispensing machines.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">The following U.S. patents provide background information and are incorporated by reference in their entireties.</p><p id="p-0005" num="0004">U.S. Pat. No. 10,077,180 discloses a beverage dispensing head includes a housing having a front, a rear, and a base that extends between the front and the rear. A mixing nozzle is configured to dispense a flow of beverage via the base. A valve is configured to control the flow of beverage via the mixing nozzle, and a switch is movable into and between a closed position in which the valve opens the flow of beverage via the mixing nozzle and an open position in which the valve closes the flow of beverage via the mixing nozzle. A lighting module disposed in the housing is configured to illuminate the front of the housing and the base of the housing when the switch is moved into the closed position.</p><p id="p-0006" num="0005">U.S. Pat. No. 9,840,407 discloses a beverage dispensing system that includes a plurality of beverage sources each containing a beverage component, and at least one flow valve connected to one or more of the beverage sources and operable to control a flow of the beverage component therefrom. The system further includes a graphical display that presents a plurality of available beverages and a gesture capture device that receives a selection gesture input to select a beverage from the plurality of available beverages. A controller is also included that adjusts the at least one flow valve based on the selection gesture input to dispense the selected beverage.</p><p id="p-0007" num="0006">U.S. Pat. No. 6,053,359 discloses an automated system for preparing and delivering postmix beverages in response to one or more drink orders being entered from a remote point of sale unit or a local keypad that includes: a postmix beverage preparation assembly for dispensing ice and a selected postmix beverage into a cup; an oblong carousel type conveyor assembly including a plurality of upwardly open cup holders which are driven by a motor driven belt so as to pass beneath a cup dispensing station, an ice dispensing station, a beverage dispensing station, and a plurality of pick-up stations; a cup storage and dispenser assembly including a bidirectionally rotatable turret upon which is mounted a plurality of different sized cup supply tubes for holding a respective stack of beverage cups; and a pneumatic vertically driven cup gripper/extractor mechanism having a pair of pneumatically operated gripper arms which operate to remove a cup from a selected supply tube on the turret and placing the extracted cup into an empty cup holder which is then transported past the dispensing stations and then to a pick-up station on the conveyor for manual removal by an attendant.</p><p id="p-0008" num="0007">U.S. Patent Application Publication No. 2013/0075426 discloses a beverage dispensing apparatus that includes a dispensing structure, a transportation mechanism linked with the dispensing structure, and a staging structure linked with the transportation structure. A control system is linked with the dispensing structure, the staging structure, and the transportation mechanism. A sensor mechanism is linked with the control system. The sensor mechanism provides signals indicating the position of a cup. A cup identification system having an interactive display is connected to the control system. The display has visual characteristics indicating the position and characteristics of a cup.</p><p id="p-0009" num="0008">U.S. Application Publication No. 2015/0219380 and U.S. Application Publication No. 2021/0033329 disclose ice dispensers and features thereof.</p><heading id="h-0004" level="1">BRIEF DISCLOSURE</heading><p id="p-0010" num="0009">This section is provided to introduce a selection of concepts that are further described herein below in the Detailed Description. It is not intended to identify key or essential features of the claimed subject matter, nor is it intended to be used as an aid in limiting the scope of the claimed subject matter.</p><p id="p-0011" num="0010">An example of a touchless beverage valve assembly includes a nozzle, an optical sensor, and a radar sensor. A valve is coupled upstream of the nozzle. The valve configured to control a flow of a substance through the valve to the nozzle. A solenoid is operatively connected to the valve and configured to operate the valve between an open condition and a closed condition. A controller is configured to receive output signals from the optical sensor and the radar sensor. The controller operates the solenoid to control the valve between an open condition to dispense the substance through the nozzle and a closed condition.</p><p id="p-0012" num="0011">In other examples, the controller is configured to detect a presence of a cup below the nozzle based upon the output signals from the optical sensor. The controller is configured to determine a cup height (H) of the cup below the nozzle from the output signals from the optical sensor. The controller is configured to calculate a target fill height based upon the cup height and a safety margin (M). The controller is configured, once the valve is in the open condition, to determine a current fill height of beverage within the cup based upon the output signals from the radar sensor. The controller is configured to compare the current fill height to the target fill height and operate the solenoid to control the valve to the closed condition when the current fill height reaches or exceeds the target fill height. The controller is configured to calculate an estimated fill height based upon at least a beverage flow rate and a dispense time. The controller is configured to compare the current fill height to the estimated fill height. The controller is configured to operate the solenoid to control the valve to the closed condition if the current fill height exceeds the estimated fill height by a predetermined amount. When the current fill height exceeds the estimated fill height by the predetermined amount, the controller is further configured to evaluate the current fill height until the current fill height reaches an equilibrium, the controller is configured to then compare the current fill height to the target fill height and operate the solenoid to control the valve to the open condition if the current fill height is below the target fill height.</p><p id="p-0013" num="0012">In further examples, the optical sensor is an infrared (IR) sensor. A drip tray positioned below the nozzle and configured to support a cup. The controller is configured to perform a calibration routine wherein the controller calculates an average distance measurement based upon a plurality of distance measurements using the output signals from at least the optical sensor. The controller is configured to detect a presence of a cup below the nozzle based upon the output signals from the optical sensor compared to the average distance measurement.</p><p id="p-0014" num="0013">An example of a method of dispensing a beverage from a beverage dispensing system includes detecting a presence of a cup underneath a nozzle. In response to detecting the presence of the cup, a target fill height is calculated. A valve is operated to an open condition to dispense a beverage through the nozzle into the cup. A current fill height of the beverage in the cup is determined. The current fill height is compared to the target fill height. In response to determining that current fill height reaches or exceeds the target fill height, the valve is operated to a closed condition to stop dispense of the beverage through the nozzle into the cup.</p><p id="p-0015" num="0014">In examples of the method an optical sensor is operated to produce optical sensor output signals representative of a distance from which light frequency waves of the optical sensor is reflected back to the optical sensor. A cup height (H) of the cup below the nozzle is determined from the output signals. The target fill height is calculated based at least upon the cup height (H) and a safety margin (M). A radar sensor is operated to produce a radar sensor output signal representative of a distance from which radio frequency waves from the radar sensor are reflected back to the radar sensor. The current fill height of beverage is continuously determined from the radar sensor output signal. The current fill height is compared to the target fill height. The valve is operated to the closed condition, when the current fill height reaches or exceeds the target fill height. An estimated fill height is based upon at least a beverage flow rate and a dispense time. The current fill height is compared to the estimated fill height. The valve is operated to the closed position when the current fill height exceeds the estimated fill height by a predetermined amount. The current fill height is evaluated until the current fill height reaches an equilibrium. The valve is operated to the open condition. The optical sensor may be an infrared (IR) sensor. The presence of the cup may be detected using an RGB-D camera.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0016" num="0015">The present disclosure includes the following Figures. The same numbers are used throughout the Figures to reference like features and like components.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a side cross-sectional view of the touchless beverage valve assembly.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a bottom view of the touchless beverage valve assembly.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a side cross-sectional view of the touchless beverage valve assembly of during a calibration process.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a side cross-sectional view of the touchless beverage valve assembly of <figref idref="DRAWINGS">FIG. <b>1</b></figref> during a cup recognition and fill process.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is another side cross-sectional view of the touchless beverage valve assembly during a cup recognition and fill process.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is another side cross-sectional view of the touchless beverage valve assembly during a cup recognition and fill process.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flow chart depicting a calibration process for a touchless beverage valve assembly.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flow chart depicting a cup recognition and fill process for a touchless beverage valve assembly.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is an alternate cup recognition and fill process for a touchless beverage valve assembly.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a graph illustrating an example of the sensor output data during a dispense cycle and associated with various operating conditions of the touchless beverage valve assembly.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DISCLOSURE</heading><p id="p-0027" num="0026">In the present description, certain terms have been used for brevity, clearness, and understanding. No unnecessary limitations are to be inferred therefrom beyond the requirement of the prior art because such terms are used for descriptive purposes only and are intended to be broadly construed.</p><p id="p-0028" num="0027">The present disclosure generally relates to ice and beverage dispensing systems with improved sanitary features. Beverage dispensers are commonly used in restaurants and convenience stores to mix a beverage concentrate with carbonated or non-carbonated water, and to cool the mixed beverage. In some instances, the ice and beverage dispensing systems are operated solely by the employees of restaurants and convenience stores in order to reduce the risks associated with permitting customers to operate the dispensing systems. These risks include, but are not limited to, incorrect operation of the system and pathogen spread due to the presence of high touch surfaces on the system. Although restricting dispenser use to employees may mitigate the risks of pathogen spread from high touch surfaces, it does not fully eliminate them. The present inventors have recognized that customer comfort and safety would be increased through the use of an ice and beverage dispenser with beverage valve assemblies that do not require contact for operation.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>1</b></figref> depicts an example of a touchless beverage valve assembly <b>8</b>, as shown and described in detail herein. Examples of the touchless beverage valve assembly <b>8</b> can provide improved sanitation in operation and use. The touchless beverage valve assembly <b>8</b> is shown to include, among other components a trigger sensor <b>1</b>. The trigger sensor <b>1</b> can include various components and implementations as described herein all of which are considered to be variations of the disclosed trigger sensor. The touchless beverage valve assembly <b>8</b> further includes a nozzle <b>14</b> coupled to the underside of a valve base plate <b>13</b>. A solenoid <b>9</b> is operatively connected to a valve <b>10</b>. The valve <b>10</b> is connected to a valve mounting block <b>11</b> and a back block <b>12</b> to a source of the substance to be dispensed. The solenoid <b>9</b> operates to actuate the valve <b>10</b> between an open condition that permits the flow of a substance through the valve <b>10</b> and a closed condition that occludes flow of the substance through the valve <b>10</b>. It will be recognized that while the present disclosure uses the example of a liquid, which may exemplarily include water, carbonated water, a pre-mixed beverage, or a post-mixed beverage, in other examples, the substance may be ice, and the arrangement and configuration of components for ice dispensing will be recognized based upon the disclosure provided herein, as well as the references noted above, the contents of which have incorporated by reference.</p><p id="p-0030" num="0029">Above the valve base plate <b>13</b>, the valve assembly <b>8</b> includes a controller <b>7</b>, which is exemplarily a single board computer (SBC) or a central processing unit (CPU), that includes a processor. The processor of controller <b>7</b> may be integral with or communicatively connected to a computer-readable medium upon which computer-readable code is stored. Upon execution of the computer-readable code by the processor, the processor performs functions and calculations and subsequently transmits control signals as described herein. The controller <b>7</b>, is communicably coupled to the trigger sensor <b>1</b>, the valve solenoid <b>9</b>, and a feedback device <b>20</b>. As described herein, the controller operates to coordinate the detection of a receptacle with the trigger sensor <b>1</b> with the operation of the valve solenoid <b>9</b> to dispense a substance and control the feedback device <b>20</b> to communicate an operational status of the dispenser to a user.</p><p id="p-0031" num="0030">In examples, the touchless beverage valve assembly <b>8</b> operates to dispense a beverage into a receptacle based upon a touchless interaction with the touchless beverage valve assembly <b>8</b>. In an example detailed herein the trigger sensor <b>1</b> includes both an infrared (IR) sensor <b>4</b> and a radar sensor <b>5</b>. The IR sensor is exemplarily used to detect the presence of the cup, while the radar sensor is used to detect a height of a beverage dispensed into the cup. The trigger sensor <b>1</b>, including the IR sensor and/or radar sensor comprised therein communicates this detection data to the controller <b>7</b>. In an example, the trigger sensor <b>1</b> detects the presence of the receptacle, which may be a cup <b>15</b>, beneath the nozzle <b>14</b>. In an exemplary implementation, at least one optical sensor <b>4</b> of the trigger sensor <b>1</b> is positioned such that the at least one optical sensor <b>4</b> detects a cup target zone <b>16</b> that is below the trigger sensor <b>1</b> and in the region of the rear lip of the cup <b>15</b> (depicted as the shaded regions).</p><p id="p-0032" num="0031">The optical sensor <b>4</b> may be any of a variety of photoelectric sensors. Examples of the optical sensor <b>4</b> may include a through-beam sensor, a reflective through-beam, a reflective laser, or a diffuse photoelectric sensor. While an example of an infrared (IR) sensor is provided herein, optical sensors within the scope of the present disclosure may operate within visible or infrared (IR) light frequency bands. Signals from the at least one optical sensor may be provided to and analyzed directly by the controller, or a trigger sensor controller <b>3</b> may be provided as a component of the trigger sensor <b>1</b>, the trigger sensor controller <b>3</b> may initially receive the outputs of the optical sensor <b>4</b> and/or the radar sensor <b>5</b>, for example in proximity sensing or range sensing implementations. The trigger sensor controller <b>3</b> may then provide a preprocessed output on to the controller <b>7</b>. In an exemplary implementation, the trigger sensor <b>1</b> is implemented in part by a VL6180 proximity sensing module manufactured by STMicroelectronics that includes both an infrared emitter and a range sensor. The infrared emitter and the range sensor act as a time-of-flight sensor by calculating range measurements based on the time it takes light emitted from the infrared emitter to travel to the nearest object and reflect back to the range sensor. In this way, distance measurements are obtained independent of the reflectance of the target object, meaning that the optical sensor <b>4</b> is operable in the presence of both clear and transparent cups, as well as cups filled with ice. In other implementations, a different style of distance sensor (e.g., laser, lidar, radar, ultrasonic) may be utilized. In some implementations, these sensing technologies may be utilized to confirm the presence of ice in a cup and/or to determine the fill height of liquid in a cup.</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a graph <b>30</b> that presents an example of an output signal <b>32</b> provided by the optical sensor/controller <b>3</b> to the controller <b>7</b>. The output signal <b>32</b> is exemplarily an indication of measured distance (but may also be an indication of detected proximity) over time. Initially, the graph <b>30</b> presents the standby condition <b>34</b> in which the nominal distance, e.g. 26 cm is measured. At reference point <b>40</b>, a user exemplarily introduces a cup below the nozzle. Initially, the signal is transitory as the user is moving the cup into position, as described in further detail below, this may be interpreted by the controller <b>7</b> as a detection condition <b>38</b>, but the controller <b>7</b> may remain in this condition until the output signal <b>32</b> persists for a predetermined time (e.g. 100 ms or 200 ms or another predetermined time period) and/or the output signal <b>32</b> stabilizes, indicative of the cup resting in a position to be filled. Upon this determination, the controller <b>7</b> may operate to an active dispensing condition <b>36</b> whereby the solenoid <b>9</b> is operated to actuate the valve <b>10</b> from the closed condition into the open condition, and beverage is dispensed through the valve <b>10</b> into and through the nozzle <b>14</b> into the cup <b>15</b>. As described in further detail herein, the solenoid <b>9</b> may be operated to hold the valve <b>10</b> in the open condition until either of a predetermined time has elapsed or the cup is removed from the target area, for example as provided by reference point <b>42</b>. Thereafter, the controller <b>7</b> operates the solenoid <b>9</b> to actuate the valve <b>10</b> from the open condition to the closed condition and remain in a standby condition <b>34</b>. Further details of the operation of the optical sensor <b>4</b> and the radar sensor <b>5</b> are included below with reference to <figref idref="DRAWINGS">FIGS. <b>3</b>-<b>8</b></figref>.</p><p id="p-0034" num="0033">Turning now to <figref idref="DRAWINGS">FIG. <b>3</b></figref>, a cross-sectional view of the touchless beverage valve assembly <b>8</b> during a calibration process is depicted. The feedback device <b>20</b> exemplarily includes a calibration button <b>22</b>. The calibration button <b>22</b> may be a capacitive touch-sensitive button. In other examples, the calibration button <b>22</b> may be a physical button or may be another form of input sensor capable of receiving a user input to initiate the calibration process. Upon activation of the calibration button <b>22</b>, the radar sensor <b>5</b> of the trigger sensor may be activated. In some implementations, a user must depress the calibration button <b>22</b> for a predetermined period of time (e.g., 5 seconds) in order to avoid initiation of the calibration process for fleeting and accidental button presses. In an exemplary implementation, the radar sensor may be a 60 GHz radar sensor <b>5</b> that can accurately measure distances from 5 mm up to 10 m, as well as detect the shape and location of objects. During the calibration process, the radar sensor may be configured to take a series of measurements of the distance between the drip tray <b>26</b> and the radar sensor <b>5</b> in order to obtain a mean distance measurement. The vertical distance difference between the position of the radar sensor <b>5</b> and the nozzle <b>14</b> may be known and used to compensate or adjust the mean distance measurement to accommodate the nozzle <b>14</b>. This calibration process is described in greater detail below with reference to <figref idref="DRAWINGS">FIG. <b>7</b></figref>.</p><p id="p-0035" num="0034">Referring now to <figref idref="DRAWINGS">FIGS. <b>4</b>-<b>6</b></figref>, cross-sectional views of the touchless beverage valve assembly <b>8</b> during a cup recognition and fill process are depicted. The mean distance measurement from the radar sensor <b>5</b> to the drip tray <b>26</b> is stored in a computer readable medium accessible by the controller <b>7</b>. In an example, this mean distance measurement may be a stored, fixed value, while in other examples, the mean distance measurement is calculated through the calibration process described above, and in further detail with respect to <figref idref="DRAWINGS">FIG. <b>7</b></figref>, or another calibration process. A user may place a cup <b>15</b> on the drip tray <b>26</b> or otherwise positioned below the nozzle <b>14</b>. Advantageously, with the cup <b>15</b> supported below the nozzle <b>14</b>, for example by the drip tray <b>26</b>, the user is free to perform other tasks, since the touchless beverage valve assembly <b>8</b> described herein eliminates the need for the user to depress a button or lever to dispense beverage from the nozzle <b>14</b>. As specifically depicted in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the presence of the cup <b>15</b> is detected using the infrared sensor <b>4</b> of the trigger sensor <b>1</b>. The IR sensor <b>4</b> exemplarily produces a cone beam <b>24</b> of IR energization directed downwardly in the direction of the drip tray <b>26</b>. IR energization reflected back from within the cone beam <b>24</b>. In an example the change in an output signal from the IR sensor <b>4</b> is received and interpreted by the controller <b>7</b> to provide an indication of the presence of a cup <b>15</b> below the nozzle <b>14</b>. Additional examples and description of operation of such an IR sensor <b>4</b> is provided in Applicant's co-pending U.S. patent application Ser. No. 17/313,542, which is incorporated by reference herein in its entirety. In some implementations, the fill process is only initiated once the presence of the cup <b>15</b> has been continuously detected for a predetermined period of time (e.g., 100 ms).</p><p id="p-0036" num="0035">The IR sensor <b>4</b> may be configured to produce a signal indicative of the detection of a rear lip of the cup <b>15</b>. The controller <b>7</b> is able to interpret this signal, for example as explained above, as the presence of a cup <b>15</b>. Upon detection of the rear lip of the cup <b>15</b>, the controller <b>7</b> determines a cup height (H) between the lip of the cup <b>15</b> and adjusted for any vertical distance between the IR sensor <b>4</b> and a lower most point of the nozzle <b>14</b>. The controller <b>7</b> then calculates a target fill height by adjusting the cup height by a safety margin (M). This calculated target fill height is stored in a computer readable medium accessible by the controller <b>7</b>. In various implementations, the safety margin (M) may be based on a variety of factors, including, but not limited to, the cup height, a flow speed of the nozzle, an ambient temperature, a volume of ice in the cup, and a type of beverage syrup. In still further implementations, the target fill height may be predetermined and printed on the cup <b>15</b> and/or pre-stored in the computer readable medium, to reflect the preferences and practices of particular restaurants or retail establishments. These stored predetermined safety margin and/or target fill heights by be accessible by the controller <b>7</b> for example in response to an identification of a cup size, for example by the measured cup height, or by a user or computer input indicating the cup size and beverage order to dispense. In some implementations, the safety margin may be automatically updated based on an internal model stored in a computer readable medium accessible by the controller <b>7</b>. The internal model may utilize data from recent pours to determine the timing for the controller <b>7</b> to operate the solenoid <b>9</b> and stop the flow through the nozzle <b>14</b> to achieve the target fill height. The internal model may be non-linear and may associate the time of fill with the measured fill height. Non-linearity of the model may arise due to the presence of ice or foam in the cup, which may artificially increase the measured fill height above the actual beverage fill height.</p><p id="p-0037" num="0036">As depicted in <figref idref="DRAWINGS">FIGS. <b>5</b> and <b>6</b></figref>, once the target fill height is determined, the controller <b>7</b> operates the solenoid <b>9</b> to cause beverage to flow through the nozzle <b>14</b>. While beverage is flowing through the nozzle <b>14</b>, the radar sensor <b>5</b> operates to continuously obtain a signal from which a fill height <b>28</b> of the beverage within the cup <b>15</b> is calculated. The radar sensor <b>5</b> provides this signal and/or measurement (if calculated by a sensor controller <b>3</b>) to the controller <b>7</b> for processing and/or analysis. The controller <b>7</b> compares the measured fill height to the target fill height. Once the fill height <b>28</b> is equal to or exceeds the target fill height, as specifically depicted in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, the controller <b>7</b> operates the solenoid <b>9</b> to stop the flow of beverage through the nozzle <b>14</b>. It will be recognized that in examples, the added safety margin (M) may incorporate a lag time or hysteresis between the detection of the fill height <b>28</b> being equal to or exceeding the target fill height (F) and the communicative, electrical, and mechanical controls to close the valve <b>9</b> and dispense of any remaining beverage in the system after the valve <b>9</b> once the valve <b>9</b> is closed. Incorporation of these considerations results in a final fill height <b>28</b> of the beverage that is below the cup height H and suitable for delivery to the customer. Further details of the cup recognition and fill process are included below with reference to <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flow chart that depicts an example of a calibration process <b>700</b> for the touchless beverage valve assembly <b>8</b> is shown. At <b>702</b>, the valve assembly <b>8</b> communicates to the user to clear all cups and debris from underneath the valve. In some implementations, the signal may be visually presented as a text or graphical message to the user on feedback device <b>20</b> operable by the controller <b>7</b>. In other implementations, the communication may be an audible cue or message to the user. In still further implementations, the user may be trained to clear debris from beneath the valve assembly <b>8</b> before initiating a calibration process and no signal may be provided. At <b>704</b>, the controller <b>7</b> initiates the calibration procedure. In examples, the controller <b>7</b> initiates the calibration procedure in response to a user input, for example a button input as described above. In an example, the controller receives the user input, then transmits the communication at <b>702</b>, followed by initiating the calibration procedure at <b>704</b>. In other examples the calibration procedure may be automatically initiated as soon as power is supplied to the beverage valve assembly <b>8</b>. In other words, the calibration procedure may be initiated when the ice and beverage dispenser including the beverage valve assembly <b>8</b> is plugged into an electrical outlet, after having been without power, or when the beverage valve assembly <b>8</b> is otherwise turned on.</p><p id="p-0039" num="0038">At <b>706</b>, a distance measurement counter is incremented. For example, a counter value of 0 may be incremented to 1. In various implementations, the distance measurement counter is executed as a function of the controller <b>7</b>, while in other examples, the distance measurement counter may be a standalone counter circuit. The distance measurement counter thus keeps track of a number of distance measurements performed by one or more sensors of the trigger sensor <b>1</b>. In an example, this may include one or both of the IR sensor <b>4</b> and radar sensor <b>5</b>. The distance measurements may be utilized to calculate a mean distance measurement from the nozzle <b>14</b> to the beverage drip tray <b>26</b>. The accuracy of the mean distance measurement may be proportional to the number of distance measurements performed by the calibration distance sensors. In other words, a mean distance measurement calculated from ten distance measurements may be more accurate than a mean distance measurement calculated from only three distance measurements.</p><p id="p-0040" num="0039">At <b>708</b>, controller <b>7</b> determines whether the distance measurement counter value is equal to a target value of distance measurements. The target value of distance measurements is exemplarily <b>10</b>, but may be more or fewer measurements and may be a fixed value or a user-settable value. If the counter value is not equal to the target value, process <b>700</b> proceeds to <b>710</b> and at least one of the sensors of the trigger sensor, exemplarily the radar sensor <b>5</b> obtains a distance measurement to the drip tray <b>26</b>. This measurement is processed by the controller <b>7</b> and stored in computer readable memory accessible thereto. After the distance to the drip tray <b>26</b> is measured, process <b>700</b> reverts to <b>706</b> and the distance measurement counter is incremented. If however, at <b>708</b>, it is determined that the distance measurement counter value is equal to the target value, process <b>700</b> proceeds to <b>712</b>. At <b>712</b>, controller <b>7</b> calculates a mean distance measurement to the drip tray based on the distance measurements obtained by at least one of the sensors of the trigger sensor, which are exemplarily stored at a computer readable memory accessible by the controller <b>7</b>. In some implementations, the mean distance measurement is obtained using a trimmed mean technique. After the mean distance measurement is calculated, the mean distance measurement is stored in a computer readable memory accessible by the controller <b>7</b>.</p><p id="p-0041" num="0040">Process <b>700</b> concludes at <b>714</b>, as the valve assembly <b>8</b> presents a communication to the user indicating the completion of the calibration process. Similar to the communication at the initiation of the calibration process, the communication indicating the completion of the calibration process may be visual or audible. Examples of the calibration process <b>700</b> are thus able to be performed in a fast and automated manner. The distance between the sensors and the drip tray is a fixed distance and is not subject to variations in system operation, for example water pressure during the calibration and/or subsequent operation. Additionally, the distance measurement counter can increment through the intended number of distance measurements to produce an average distance, in a relatively rapid period of time without waiting for the time to fill a cup with beverage, or to waste the dispensed beverage after the calibration process.</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flow chart that depicts an example of a cup recognition and fill process <b>800</b> that may be performed by the valve assembly <b>8</b>. At <b>802</b>, a cup <b>15</b> is detected underneath the nozzle <b>14</b>. In an exemplary implementation, the presence of the cup <b>15</b> is detected using the IR sensor <b>4</b>. The presence of the cup may be determined through a measurement obtained by the IR sensor <b>4</b> that is between a predetermined distance value from the nozzle <b>14</b> and the trigger sensor <b>1</b>, and the mean distance measurement to the drip tray obtained during the calibration process. The description above with respect to <figref idref="DRAWINGS">FIG. <b>10</b></figref> provides further details of a processor detecting the present of a cup <b>15</b> below the nozzle <b>14</b>. At <b>804</b>, a cup height is determined by the controller <b>7</b> from the signals provided by the IR sensor <b>4</b> and the determined cup height is used to calculate a target fill height for the beverage. As described above, the target fill height may represent the total height (H) of the cup less a safety margin (M) that is implemented to prevent any overfill of the cup <b>15</b>.</p><p id="p-0043" num="0042">At <b>806</b>, the controller <b>7</b> may initiate a beverage dispense timer and at <b>808</b>, the controller <b>7</b> may operate the solenoid <b>9</b> to cause beverage to flow through the nozzle <b>14</b>. Continuing with <b>810</b>, the controller <b>7</b> may determine whether the cup <b>15</b> has been removed from beneath the nozzle <b>14</b>, or if a user has placed a hand or other object beneath the nozzle <b>14</b>. The controller <b>7</b> may determine that one of these scenarios has occurred if a signal from the radar sensor <b>5</b> indicates a fill height that is outside a predetermined bound, e.g the cup height. As such a detection is indicative of either a removed cup or an obstruction between the nozzle and the cup, either of which presents a risk for beverage spillage, If the controller <b>7</b> identifies a fill height outside of the predetermined bound, the process <b>800</b> proceeds to <b>816</b>, and the controller <b>7</b> may operates the solenoid <b>9</b> to stop dispensing beverage through the nozzle <b>14</b>.</p><p id="p-0044" num="0043">Returning <b>810</b>, if the controller <b>7</b> determines radar signal has remained within the predetermined bounds of the expected fill height, process <b>800</b> proceeds to. At <b>812</b>, the controller <b>7</b> compares a current value of the beverage dispense timer initiated at <b>806</b> to a maximum safety pour time. In various implementations, the maximum safety pour time may be previously stored, may be set by a user, or may be calculated by the controller based upon known dimensions of the cup, for example as determined calculation of the cup height and the target fill height, and/or a flow rate of the beverage through the nozzle <b>14</b>. If the beverage dispense timer exceeds the maximum safety pour time, process <b>800</b> proceeds to <b>816</b> and the controller <b>7</b> operates the valve solenoid <b>9</b> to stop the flow of beverage through the nozzle <b>14</b>.</p><p id="p-0045" num="0044">If however, the beverage dispense timer does not exceed the maximum safety pour time, then the process <b>800</b> proceeds to <b>814</b>, in which the controller <b>7</b> determines whether a beverage fill height determined by the controller <b>7</b> based upon the radar sensor signals is equal to or within a specified range of the target fill height. If the beverage fill height is not equal to the target fill height, process <b>800</b> reverts to <b>808</b>. Steps <b>808</b>-<b>814</b> may be repeatedly performed in sequence until controller determines that the fill height measured based upon the radar sensor signals is equal to the target fill height. When the target fill height is reached, process <b>800</b> proceeds to <b>816</b>, and the controller <b>7</b> operates the solenoid <b>9</b> to stop the flow of beverage through the nozzle <b>14</b>.</p><p id="p-0046" num="0045">In some implementations, the radar sensor may be configured to detect and compensate for the presence of foam in measuring the beverage fill height. In other words, an additional step between steps <b>814</b> and <b>816</b> may be performed in process <b>800</b> to determine whether foam is artificially increasing the measured beverage fill height. For example, if the controller <b>7</b> determines that the beverage fill height measured by the radar sensor exceeds an expected value due to the presence of foam, the controller <b>7</b> may operate the valve solenoid <b>9</b> to stop the flow of beverage through the nozzle <b>14</b> and permit the foam to disperse before reverting to step <b>808</b> and operating the solenoid <b>9</b> to restart the flow of beverage through the nozzle <b>14</b>. In such an example, the controller <b>7</b> may access a value representative of a beverage flow rate when the solenoid <b>9</b> is open, and using such beverage flow rate calculates an expected fill height based upon the current duration of the dispense. This expected fill height may be further adjusted for any ice detected in the cup. In an example, ice may be detected in the cup and an estimation of the ice volume quantified based upon signals obtained by the radar sensor <b>5</b> prior to dispense of the beverage through the nozzle <b>14</b>. Once an expected fill height is determined, the controller <b>7</b> may compare beverage fill height to the expected fill height. If the two values deviate by more than a predetermined amount, e.g. 10% although such amount may be more or less, then the controller <b>7</b> may operate the solenoid <b>9</b> to close, temporarily stopping the dispense of beverage through the nozzle <b>14</b>. The controller <b>7</b> may then evaluate the signals from the radar sensor <b>5</b> to determine if the beverage fill height reaches an equilibrium. If the beverage has experienced foaming, the detected beverage fill height will reduce as the foaming settles. If an equilibrium is reached, then this may be stored as the current expected fill height, and if such equilibrium beverage fill height is below the target fill height, then the controller may operate the solenoid <b>9</b> to resume dispense of the beverage.</p><p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flow chart depicting an alternative cup recognition and fill process <b>900</b>. In contrast to the process <b>800</b> depicted in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, rather than using an IR sensor to detect the presence of a cup <b>15</b>, the trigger sensor <b>1</b> may include an RGB-D camera. The camera may be used at <b>902</b> to detect one or more images of the cup <b>15</b>. Since an RGB-D camera is capable of obtaining both color and dense depth images, these camera images may be used to calculate a target fill height for the cup <b>15</b> based on the height and volume of the cup. Once the target fill height for the cup <b>15</b> is calculated, steps <b>906</b>-<b>916</b> proceed in an identical or substantially similar manner to steps <b>806</b>-<b>816</b> described above with reference to <figref idref="DRAWINGS">FIG. <b>8</b></figref>, although based upon controller analysis of the acquired camera images instead of the IR signals and the radar sensor signals.</p><p id="p-0048" num="0047">Examples of the systems and methods as described herein present the advantages of a calibration process that is independent of the fluid inputs to the dispenser during calibration. Instead, the system is calibrated to the distance to the drip tray. Furthermore, fill detection is determined as described based upon detected heights relative to the calibrated drip tray distance. The height of the unfilled cup is detected, from which the target fill height is determined. A beverage fill height within the cup is iteratively determined and compared against the target fill height to determine when the filling operation is complete.</p><p id="p-0049" num="0048">In some implementations, any or all of the processes above may be integrated into an existing point of sale (POS) system. For example, rather than perform the calibration process <b>700</b> described with reference to <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the distance between the nozzle <b>14</b> and the drip tray may be stored in a memory module of the controller <b>7</b>. Similarly, standard cup sizes and volumes may be stored in the memory module to eliminate the need to calculate target cup fill heights.</p><p id="p-0050" num="0049">Citations to a number of references are made herein. The cited references are incorporated by reference herein in their entireties. If there is any inconsistency between a definition of a term in the specification as compared to a definition of the term in a cited reference, the term should be interpreted based on the definition in the specification.</p><p id="p-0051" num="0050">In the above description, certain terms have been used for brevity, clarity, and understanding. No unnecessary limitations are to be inferred therefrom beyond the requirement of the prior art because such terms are used for descriptive purposes and are intended to be broadly construed. The different systems and method steps described herein may be used alone or in combination with other systems and methods. It is to be expected that various equivalents, alternatives, and modifications are possible within the scope of the appended claims.</p><p id="p-0052" num="0051">The functional block diagrams, operational sequences, and flow diagrams provided in the Figures are representative of exemplary architectures, environments, and methodologies for performing novel aspects of the disclosure. While, for purposes of simplicity of explanation, the methodologies included herein may be in the form of a functional diagram, operational sequence, or flow diagram, and may be described as a series of acts, it is to be understood and appreciated that the methodologies are not limited by the order of acts, as some acts may, in accordance therewith, occur in a different order and/or concurrently with other acts from that shown and described herein. For example, those skilled in the art will understand and appreciate that a methodology can alternatively be represented as a series of interrelated states or events, such as in a state diagram. Moreover, not all acts illustrated in a methodology may be required for a novel implementation.</p><p id="p-0053" num="0052">This written description uses examples to disclose the invention, including the best mode, and also to enable any person skilled in the art to make and use the invention. The patentable scope of the invention is defined by the claims and may include other examples that occur to those skilled in the art. Such other examples are intended to be within the scope of the claims if they have structural elements that do not differ from the literal language of the claims, or if they include equivalent structural elements with insubstantial differences from the literal languages of the claims</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-01-12" num="01-12"><claim-text><b>1</b>-<b>12</b>. (canceled)</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. A method for dispensing a beverage from a beverage dispensing system, the method comprising:<claim-text>detecting a presence of a cup underneath a nozzle;</claim-text><claim-text>in response to detecting the presence of the cup, calculating a target fill height;</claim-text><claim-text>operating a valve to an open condition to dispense a beverage through the nozzle into the cup;</claim-text><claim-text>determining a current fill height of the beverage in the cup;</claim-text><claim-text>comparing the current fill height to the target fill height; and</claim-text><claim-text>in response to determining that current fill height reaches or exceeds the target fill height, operating the valve to a closed condition to stop dispense of the beverage through the nozzle into the cup.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising:<claim-text>operating an optical sensor to produce optical sensor output signals representative of a distance from which light frequency waves of the optical sensor is reflected back to the optical sensor; and</claim-text><claim-text>determining a cup height (H) of the cup below the nozzle from the output signals.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, further comprising calculating the target fill height based at least upon the cup height (H) and a safety margin (M).</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, further comprising:<claim-text>operating a radar sensor to produce a radar sensor output signal representative of a distance from which radio frequency waves from the radar sensor are reflected back to the radar sensor; and</claim-text><claim-text>continuously determining the current fill height of beverage from the radar sensor output signal.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, further comprising:<claim-text>comparing the current fill height to the target fill height; and</claim-text><claim-text>operating the valve to the closed condition, when the current fill height reaches or exceeds the target fill height.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, further comprising:<claim-text>calculating an estimated fill height based upon at least a beverage flow rate and a dispense time;</claim-text><claim-text>comparing the current fill height to the estimated fill height;</claim-text><claim-text>operating the valve to the closed condition, when the current fill height exceeds the estimated fill height by a predetermined amount;</claim-text><claim-text>then evaluating the current fill height until the current fill height reaches an equilibrium; and</claim-text><claim-text>operating the valve to the open condition.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the optical sensor is an infrared (IR) sensor.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the presence of the cup is detected using an RGB-D camera.</claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the beverage dispensing system comprises a first sensor and a second sensor, wherein the first sensor is used in detecting the presence of the cup underneath the nozzle and calculating the target fill height and the second sensor is used in determining the current fill height of the beverage in the cup, and further comprising:<claim-text>obtaining a first output from the first sensor that is representative of a distance between the first sensor and the cup;</claim-text><claim-text>determining a cup height (H) of the cup below the nozzle from the first output; and</claim-text><claim-text>calculating the target fill height based at least upon the cup height (H) and a safety margin (M).</claim-text></claim-text></claim><claim id="CLM-00022" num="00022"><claim-text><b>22</b>. The method of <claim-ref idref="CLM-00021">claim 21</claim-ref>, further comprising:<claim-text>obtaining a second output from the second sensor;</claim-text><claim-text>continuously determining the current fill height of beverage from the second output;</claim-text><claim-text>comparing the current fill height to the target fill height; and</claim-text><claim-text>operating the valve to the closed condition, when the current fill height reaches or exceeds the target fill height.</claim-text></claim-text></claim><claim id="CLM-00023" num="00023"><claim-text><b>23</b>. The method of <claim-ref idref="CLM-00022">claim 22</claim-ref>, further comprising:<claim-text>after operating the valve to the closed condition, monitoring the determined current fill height to reach an equilibrium; and</claim-text><claim-text>comparing the current fill height at the equilibrium to the target fill height.</claim-text></claim-text></claim><claim id="CLM-00024" num="00024"><claim-text><b>24</b>. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, further comprising ending the beverage dispense if the current fill height at the equilibrium is equal to or exceeds the target fill height.</claim-text></claim><claim id="CLM-00025" num="00025"><claim-text><b>25</b>. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, further comprising:<claim-text>operating the valve to the open condition if the current fill height at the equilibrium is below the target fill height;</claim-text><claim-text>comparing the current fill height to the target fill height; and</claim-text><claim-text>operating the valve to the closed condition, when the current fill height reaches or exceeds the target fill height.</claim-text></claim-text></claim><claim id="CLM-00026" num="00026"><claim-text><b>26</b>. The method of <claim-ref idref="CLM-00022">claim 22</claim-ref>, further comprising:<claim-text>while the valve is in the open condition, calculating an estimated fill height based upon at least a beverage flow rate and a dispense time;</claim-text><claim-text>comparing the current fill height to the estimated fill height; and</claim-text><claim-text>operating the valve to the closed position, when the current fill height exceeds the estimated fill height by a predetermined amount.</claim-text></claim-text></claim><claim id="CLM-00027" num="00027"><claim-text><b>27</b>. The method of <claim-ref idref="CLM-00026">claim 26</claim-ref>, further comprising:<claim-text>monitoring the determined current fill height to reach an equilibrium below the target fill height;</claim-text><claim-text>storing the current fill height at the equilibrium as a current estimated fill height; and</claim-text><claim-text>operating the valve to the open condition.</claim-text></claim-text></claim><claim id="CLM-00028" num="00028"><claim-text><b>28</b>. The method of <claim-ref idref="CLM-00027">claim 27</claim-ref>, further comprising:<claim-text>determining an estimate ice volume in the cup prior to dispense of the beverage based upon the second output from the second sensor; and</claim-text><claim-text>using the estimate ice volume in calculating the estimated fill height.</claim-text></claim-text></claim><claim id="CLM-00029" num="00029"><claim-text><b>29</b>. The method of <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein comparing the current fill height to the target fill height comprises applying the current fill height to a model of measured fill height.</claim-text></claim><claim id="CLM-00030" num="00030"><claim-text><b>30</b>. The method of <claim-ref idref="CLM-00029">claim 29</claim-ref>, wherein the model associates a time of the fill with the current fill height.</claim-text></claim><claim id="CLM-00031" num="00031"><claim-text><b>31</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the second sensor is a radar sensor and further comprising:<claim-text>prior to operating the valve to the open condition, determining an estimate ice volume in the cup based upon the second signal from the radar sensor.</claim-text></claim-text></claim><claim id="CLM-00032" num="00032"><claim-text><b>32</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the beverage dispensing system comprises:<claim-text>the nozzle;</claim-text><claim-text>the valve coupled upstream of the nozzle, the valve configured to control a flow of beverage through the valve to the nozzle;</claim-text><claim-text>an optical sensor;</claim-text><claim-text>a radar sensor; and</claim-text><claim-text>a controller configured to receive output signals from the optical sensor and the radar sensor, to detect the presence of the cup underneath the nozzle from the output signals of the optical sensor, to determine the current fill height of the beverage in the cup from the output signals of the radar sensor, and to control the valve between the open condition and the closed condition.</claim-text></claim-text></claim></claims></us-patent-application>