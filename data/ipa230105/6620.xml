<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006621A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006621</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17363049</doc-number><date>20210630</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>F</subclass><main-group>3</main-group><subgroup>24</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>F</subclass><main-group>1</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>B</subclass><main-group>1</main-group><subgroup>04</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>27</main-group><subgroup>12</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>F</subclass><main-group>3</main-group><subgroup>245</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>F</subclass><main-group>1</main-group><subgroup>0233</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>B</subclass><main-group>1</main-group><subgroup>04</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>27</main-group><subgroup>12</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>F</subclass><main-group>2200</main-group><subgroup>105</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>F</subclass><main-group>2200</main-group><subgroup>451</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>B</subclass><main-group>2001</main-group><subgroup>0408</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">Dual-Mode Power Amplifier For Wireless Communication</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Silicon Laboratories Inc.</orgname><address><city>Austin</city><state>TX</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Sun</last-name><first-name>Ruifeng</first-name><address><city>Charlottesville</city><state>VA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Wu</last-name><first-name>Sherry</first-name><address><city>Austin</city><state>TX</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Johnson</last-name><first-name>Michael S.</first-name><address><city>Austin</city><state>TX</state><country>US</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Pereira</last-name><first-name>Vitor</first-name><address><city>Austin</city><state>TX</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">In one embodiment, a dual-mode power amplifier that can operate in different modes includes: a first pair of metal oxide semiconductor field effect transistors (MOSFETs) to receive and pass a constant envelope signal; a second pair of MOSFETs to receive and pass a variable envelope signal, where first terminals of the first pair of MOSFETs are coupled to first terminals of the second pair of MOSFETs, and second terminals of the first pair of MOSFETs are coupled to. second terminals of the second pair of MOSFETs; and a shared MOSFET stack coupled to the first pair of MOSFETs and the second pair of MOSFETs.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="130.64mm" wi="158.75mm" file="US20230006621A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="245.11mm" wi="166.71mm" file="US20230006621A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="217.68mm" wi="163.75mm" file="US20230006621A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="153.59mm" wi="160.70mm" file="US20230006621A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="192.87mm" wi="110.49mm" file="US20230006621A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="166.96mm" wi="114.64mm" orientation="landscape" file="US20230006621A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="223.94mm" wi="152.32mm" orientation="landscape" file="US20230006621A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND</heading><p id="p-0002" num="0001">Modern wireless communication systems often are tasked to support multiple modulation schemes. For modulation in which a signal has a constant envelope, such as in frequency modulation (FM in analog form or frequency shift keying (FSK) in digital form), a switching mode power amplifier (PA) is typically used due to better efficiency. For modulation in which signal envelope varies, such as in orthogonal frequency division multiplexing (OFDM), a linear mode PA is typically used to meet performance requirements (e.g., error vector magnitude (EVM), spectral emission mask (SEM)).</p><p id="p-0003" num="0002">As such, typical wireless devices include separate PAs that are configured for these different modes of operation. But in so doing, additional chip real estate, power consumption, and complexity of operation (including switching between these devices) is incurred.</p><heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading><p id="p-0004" num="0003">In one aspect, a transmitter includes: a first power amplifier to amplify a first signal of a first modulation scheme; a second power amplifier to amplify a second signal of a second modulation scheme; and an energy storage device having a first node coupled to an output node of the first power amplifier and a second node directly coupled to a shared output node, where an output node of the second power amplifier is directly coupled to the shared output node.</p><p id="p-0005" num="0004">In an example, the first power amplifier and the second power amplifier are AC coupled. The first power amplifier may be configured for linear mode operation and the second power amplifier may be configured for switching mode operation. The first power amplifier is to receive the first signal of the first modulation scheme comprising a variable envelope modulation scheme, and the second power amplifier is to receive the second signal of the second modulation scheme comprising a constant envelope modulation scheme.</p><p id="p-0006" num="0005">In an example, the first power amplifier, the second power amplifier, and the energy storage device are adapted on a single semiconductor die. The common output node is coupled to an off-chip matching network, the off-chip matching network coupled to an antenna to radiate the first signal and the second signal. As an example, the energy storage device comprises a capacitor. The first power amplifier comprises a first cascoded transistor stack and the second power amplifier comprises a second cascoded transistor stack.</p><p id="p-0007" num="0006">In another aspect, a dual-mode power amplifier comprises: a first pair of metal oxide semiconductor field effect transistors (MOSFETs) to receive and pass a constant envelope signal; a second pair of MOSFETs to receive and pass a variable envelope signal, where first terminals of the first pair of MOSFETs are coupled to first terminals of the second pair of MOSFETs, and second terminals of the first pair of MOSFETs are coupled to second terminals of the second pair of MOSFETs; and a shared MOSFET stack coupled to the first pair of MOSFETs and the second pair of MOSFETs.</p><p id="p-0008" num="0007">In an example, the shared MOSFET stack comprises a first plurality of MOSFETs of a first polarity coupled between a supply voltage node and an output node and a second plurality of MOSFETs of a second polarity coupled between a reference voltage node and the output node. The shared MOSFET stack comprises a first enable MOSFET and a second enable MOSFET, where the first enable MOSFET is coupled to the supply voltage node and the second enable MOSFET is coupled to the reference voltage node. The shared MOSFET stack further comprises a first output MOSFET and a second output MOSFET, where the first output MOSFET is coupled to a first one of the first pair of MOSFETs and a first one of the second pair of MOSFETs, and the second output MOSFET is coupled to a second one of the first pair of MOSFETs and a second one of the second pair of MOSFETs.</p><p id="p-0009" num="0008">In an example, the first pair of MOSFETs is to receive the constant envelope signal via a first buffer coupled to a first capacitor coupled to a first one of the first pair of MOSFETs and a second buffer coupled to a second capacitor coupled to a second one of the first pair of MOSFETs. The second pair of MOSFETs is to receive the variable envelope signal via a third capacitor coupled to a first one of the second pair of MOSFETs and a fourth capacitor coupled to a second one of the second pair of MOSFETs.</p><p id="p-0010" num="0009">In yet another aspect, a dual-mode power amplifier comprises: a transistor stack comprising a first plurality of MOSFETs of a first polarity and a second plurality of MOSFETs of a second polarity; a first buffer pair to receive a variable envelope signal of a first modulation scheme and provide the variable envelope signal to a first MOSFET of the first plurality of MOSFETs and a first MOSFET of the second plurality of MOSFETs; and a second buffer pair to receive a constant envelope signal of a second modulation scheme and provide the constant envelope signal to the first MOSFET of the first plurality of MOSFETs and the first MOSFET of the second plurality of MOSFETs.</p><p id="p-0011" num="0010">In an example, the dual-mode power amplifier further comprises: a first coupling capacitor coupled between a first buffer of the first buffer pair and the first MOSFET of the first plurality of MOSFETs; and a second coupling capacitor coupled between a second buffer of the first buffer pair and the first MOSFET of the second plurality of MOSFETs.</p><p id="p-0012" num="0011">In an example, the transistor stack comprises: a second MOSFET of the first plurality of MOSFETs coupled to the first MOSFET of the first plurality of MOSFETs, where a first terminal of the second MOSFET of the first plurality of MOSFETs is coupled to an output node of the dual-mode power amplifier; and a second MOSFET of the second plurality of MOSFETs coupled to the first MOSFET of the second plurality of MOSFETs, where a first terminal of the second MOSFET of the second plurality of MOSFETs is coupled to the output node.</p><p id="p-0013" num="0012">A bias circuit may be configured to: provide a first bias voltage to the second MOSFET of the first plurality of MOSFETs when operation is according to the first modulation scheme, to minimize switching resistance of the second MOSFET of the first plurality of MOSFETs; and provide a second bias voltage to the second MOSFET of the second plurality of MOSFETs when the operation is according to the second modulation scheme, to bias the second MOSFET of the second plurality of MOSFETs at a minimal gate voltage to maintain device reliability.</p><p id="p-0014" num="0013">In an example, the dual-mode power amplifier further comprises a controller to control the dual-mode power amplifier to operate in a linear mode to output the variable envelope signal and to operate in a switching mode to output the constant envelope signal. The controller may control the bias circuit to provide a first bias voltage to the second MOSFET of the first plurality of MOSFETs in the linear mode and provide a second bias voltage to the second MOSFET of the first plurality of MOSFETs in the switching mode, the first bias voltage different than the second bias voltage.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram of a transmitter in accordance with an embodiment.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic diagram of a dual-mode PA in accordance with an embodiment.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic diagram of a dual-mode PA in accordance with another embodiment.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of a dual-mode PA in accordance with a still further embodiment.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flow diagram of a method in accordance with an embodiment.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a block diagram of a representative integrated circuit that incorporates an embodiment.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a high level diagram of a network in accordance with an embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0004" level="1">DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS</heading><p id="p-0022" num="0021">In various embodiments, a transmitter may be configured with one or more power amplifiers (PAs) that can be operated in both a linear mode and a switching mode. In one embodiment, two separate PAs are used. By using an AC-coupled connection between outputs of these two PAs, a better trade-off may be realized to achieve optimum matching conditions for each PA. In other embodiments, a single dual-mode PA is used, which can be configured to operate either in linear or switching modes. In such embodiment, by sharing at least some circuitry of the PA (such as output driving transistors), smaller die area is realized.</p><p id="p-0023" num="0022">In many wireless communication systems, multiple modulation schemes are used for various reasons. One example is a wireless smart utility network (SUN) as defined in IEEE 802.15.4g. In this use case, three modulations are used: FSK, offset-quadrature phase shift keying (O-QPSK), and OFDM. For such applications, different PA requirements exist.</p><p id="p-0024" num="0023">In turn, PA architecture heavily depends on the modulation being supported. For modulation in which signal envelope is kept constant such as FSK, a switching mode PA is desired due to its high efficiency, which can directly impact system energy consumption and cost, and particularly so for low power Internet of Things (IoT) systems. On the other hand, for modulation in which signal envelope varies over time such as OFDM, a linear mode PA is desired since the output is to faithfully track the input waveform, otherwise system performance, such as EVM and SEM, will be sacrificed.</p><p id="p-0025" num="0024">One straightforward way to implement a dual-mode PA is to have two separate PAs: one PA optimized for switching-mode operation, and the other PA optimized for linear-mode operation. In this arrangement, the outputs of the PAs may be coupled in parallel. However in such an implementation, each PA may require a different optimum matched impedance. In addition, since two PAs are directly connected together, an output impedance of one PA directly affects a load impedance seen by the other PA. While these issues may be compensated by including impedance matching stages at the outputs of the PAs, complexity is raised. For example, careful considerations have to be taken into account because these additional matching networks imply more complexity, more loss and additional cost.</p><p id="p-0026" num="0025">In one embodiment, separate PAs may be provided with an AC coupling between the PAs. Referring now to <figref idref="DRAWINGS">FIG. <b>1</b></figref>, shown is a block diagram of a transmitter in accordance with an embodiment. As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, transmitter <b>100</b> includes multiple separate power amplifiers (PAs), namely a first PA <b>110</b> and a second PA <b>120</b>. In the embodiment shown, first PA <b>110</b> may be implemented as a linear mode PA for use in connection with various modulation schemes that provide for a variable envelope signal. As an example, one such variable envelope modulation scheme is OFDM. In contrast, second amplifier PA <b>120</b> may be implemented as a switching mode PA for use in connection with various modulation schemes that provide for a constant envelope signal. As an example, one such constant envelope modulation scheme is FSK.</p><p id="p-0027" num="0026">To provide an impendence transformation, a coupling capacitor Cc is directly coupled between an output of first PA <b>110</b> and an output node <b>130</b>. In an example where PAs <b>110</b> and <b>120</b> are configured on a single semiconductor die, output node <b>130</b> may be an output pad of the die. In turn, output node <b>130</b> couples to a matching network <b>140</b>, in turn coupled to an antenna <b>150</b>.</p><p id="p-0028" num="0027">Thus in contrast to an implementation in which two PA outputs are directly connected (hence named &#x201c;DC-coupled&#x201d; since they share the same DC potential), circuit <b>100</b> provides an AC-coupled configuration. As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the load impedance seen by PA <b>110</b> and PA <b>120</b> are given by:</p><p id="p-0029" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>Z</i>_(<i>L</i>,OFDM&#x2212;<i>PA</i>)=<i>Z</i>_(<i>C</i>_<i>c</i>)+(<i>Z</i>_1&#x2225;<i>Z</i>_(<i>O,FSK&#x2212;PA</i>))&#x2003;&#x2003;Equation (1)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0030" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>Z</i>_(<i>L,FSK&#x2212;PA</i>)=<i>Z</i>_1&#x2225;(<i>Z</i>_(<i>C</i>_<i>c</i>)+<i>Z</i>_(<i>O</i>,OFDM-<i>PA</i>))&#x2003;&#x2003;Equation (2)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0031" num="0028">In Equations (1) and (2), Z1 is the impedance looking toward antenna at the common node, Z<sub>CC </sub>is the impedance of the capacitor (i.e., 1/(j&#x3c0;C)), ZO,FSK-PA is the output impedance of FSK-PA looking toward its output node, and ZO,OFDM-PA is the output impedance of OFDM-PA looking toward its output node. In an embodiment, the capacitance value of &#x201c;Cc&#x201d; is chosen such that an optimum impedance exists for both PAs simultaneously. Note that capacitor &#x201c;Cc&#x201d; can possibly be present in PA <b>120</b> if, for instance, the optimum load impedance of PA <b>120</b> requires a more negative imaginary part compared to that of PA <b>110</b>. In some embodiments, a capacitor may be more suitable, as compared to an inductor, because the loss of a capacitor is usually lower than an inductor and the area occupied is smaller, especially for an on-chip implementation (or perhaps at least at lower frequencies). However, an inductor can still be used in embodiments.</p><p id="p-0032" num="0029">Although implementing a dual-mode PA using two separate PAs is simple, one drawback is the excess die area due to the large size of the output driving transistors, as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, which is a schematic diagram of a dual-mode PA in accordance with an embodiment. In the embodiment of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, dual-mode PA <b>200</b> has separate power amplifiers, namely a first PA stage <b>210</b> and a second PA stage <b>220</b>. As with the discussion above, first PA <b>210</b> may be configured as a linear mode PA (for, e.g., OFDM modulation), while second PA <b>220</b> may be configured as a switching mode PA (for, e.g., FSK modulation).</p><p id="p-0033" num="0030">With reference to first PA <b>210</b>, a transistor stack is provided and is coupled between a supply voltage node <b>212</b> and a reference voltage node <b>214</b>. Specifically as shown in the implementation of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the transistor stack is formed of a plurality of cascoded MOSFETs, including a plurality of P-channel MOSFETs (PMOS) devices M<sub>4A-6A </sub>that couple between supply voltage node <b>212</b> and an output node <b>230</b> via a coupling capacitor Cc. The cascoded transistor stack further includes a plurality of N-channel MOSFETs (NMOS) devices M<sub>1A-3A </sub>that couple between reference voltage node <b>214</b> and output node <b>230</b> via coupling capacitor Cc.</p><p id="p-0034" num="0031">As further shown, an incoming OFDM signal to be transmitted is coupled by way of separate capacitors C<sub>2A,1A </sub>to input transistors, namely MOSFETs M<sub>5A </sub>and M<sub>2A </sub>that pass the signal. In this arrangement, MOSFETs M<sub>1A, 6A </sub>may be configured as enable transistors. When valid incoming signals are received in first PA <b>210</b>, active enable signals (EN_OFDM, ENB_OFDM) may be provided to the gate terminals of enable MOSFETs M<sub>6A,1A </sub>and similarly, when there is no active signal here, these transistors may be disabled to reduce power consumption. First PA <b>210</b> further includes output transistors, namely MOSFETs M<sub>4A,3A</sub>, which receive the incoming signal by way of coupling to input MOSFETs M<sub>5A,2A</sub>. As seen, these output MOSFETs are gated by bias signals VB<b>4</b>A, VB<b>3</b>A. In an embodiment, these bias signals are provided by a bias circuit <b>250</b>. As will be described herein, bias circuit <b>250</b> may be controlled to provide appropriate bias signals to various MOSFETs of PAs <b>210</b>, <b>220</b>.</p><p id="p-0035" num="0032">Thus when OFDM or other variable envelope signals are being transmitted and first PA <b>210</b> is active, the incoming signals are passed through the transistor stack of first PA <b>210</b> and are output to output node <b>230</b> via coupling capacitor Cc. Note that while shown with this particular implementation, it is equally possible for this coupling capacitor to instead couple on the other side of output node <b>230</b>.</p><p id="p-0036" num="0033">With reference now to second PA <b>220</b>, a similar transistor stack couples between a supply voltage node <b>222</b> and a reference voltage node <b>224</b>. The same number of MOSFETS (having the same reference numerals, except of the &#x201c;B&#x201d; letters) are present as in first PA <b>210</b>. Note further here presence of AC-coupling capacitors C<b>2</b>B, C<b>1</b>B that receive incoming FSK signals from input buffers <b>240</b><i>p,n </i>that receive the FSK signal.</p><p id="p-0037" num="0034">Depending on the output power level, M<b>1</b>A-M<b>6</b>A and M<b>1</b>B-M<b>6</b>B can be very large and consume most of the area of the entire PA. Two transistors of the stack, the bottom (top) transistor, M<b>1</b>A or M<b>1</b>B (M<b>6</b>A or M<b>6</b>B), are used as enable-disable switches. Note that although they function as switches, their gate voltages (EN_FSK, ENB_FSK, EN_OFDM, ENB_OFDM) are not necessarily ground or VDD as in case of a digital logic gate. In one example, when enabled, their voltage levels may be selected for device reliability, or in another example, the gate voltages may be set up by a current mirror (e.g., diode-connected NMOS or PMOS devices) as they will be used as a current source. The top (bottom) transistors, M<b>3</b>A or M<b>3</b>B (M<b>4</b>A or M<b>4</b>B), are used as protection devices because the voltage swing at PA output is usually large.</p><p id="p-0038" num="0035">Note that in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the incoming FSK signal is split before AC-coupling capacitors C<b>2</b>B, C<b>1</b>B, while the ODFM signal is only separated after AC-coupling capacitors C<b>2</b>A, C<b>1</b>A. This is done to satisfy different signal conditioning requirements. Because the function of M<b>1</b>A and M<b>1</b>B (M<b>6</b>A and M<b>6</b>B) is same, so is that of M<b>3</b>A and M<b>3</b>B (M<b>4</b>A and M<b>4</b>B), they can be reused in both PA modes, although their gate biasing levels may need to be adjusted accordingly.</p><p id="p-0039" num="0036">Thus in other cases, a dual-mode PA may be realized in which at least some shared transistors are used, to reduce chip area, complexity and power consumption. Referring now to <figref idref="DRAWINGS">FIG. <b>3</b></figref>, shown is a schematic diagram of a dual-mode PA in accordance with another embodiment. In the embodiment of <figref idref="DRAWINGS">FIG. <b>3</b></figref>, a dual-mode PA <b>300</b> has a plurality of slices <b>310</b><sub>1</sub>-<b>310</b><sub>N</sub>, also referred to as transistors stacks. Depending on a desired power level, a controller may controllably select one, a subset, or all slices to be enabled.</p><p id="p-0040" num="0037">As shown, transistor stack <b>310</b> has partially shared driving transistors that couple between a supply voltage node <b>312</b> and a reference voltage node <b>314</b>. In this embodiment, variable envelope signals such as OFDM signals may couple to gate terminals of input transistors M<sub>5A,2A</sub>. Constant envelope signals such as FSK signals instead couple to gate terminals of input transistors M<sub>5B,2B</sub>. In other aspects, the transistor stack may generally be the same as discussed above in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, with enable transistors M<sub>1,6 </sub>and output transistors M<sub>3,4</sub>. Given the similarity, the common components are not further discussed, and understand that reference numerals used in <figref idref="DRAWINGS">FIG. <b>3</b></figref> generally refer to the same components as in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, albeit of the &#x201c;300&#x201d; series in place of the &#x201c;200&#x201d; series of <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0041" num="0038">In the implementation of <figref idref="DRAWINGS">FIG. <b>3</b></figref>, input transistors M<b>2</b>A/M<b>2</b>B and M<b>5</b>A/M<b>5</b>B cannot be shared because their input signals are connected in different ways. As a result, there is still some area overhead. On top of this, the biasing of input transistors may be complicated, because the unused input transistors (M<b>2</b>A and M<b>5</b>A in FSK mode, M<b>2</b>B and M<b>5</b>B in OFDM mode), remain off, but their gate voltages have to be chosen carefully to not compromise device reliability.</p><p id="p-0042" num="0039">As further shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, details of a programmable bias system <b>350</b> are illustrated. A bias circuit <b>352</b> may include circuitry to generate multiple bias voltages. For example, bias circuit <b>352</b> may include one or more of current mirrors, current digital-to-analog converters (DACs), and resistor networks/DACs to generate multiple bias voltages. As shown bias circuit <b>352</b> outputs the bias voltages to a multiplexer <b>354</b>. Multiplexer <b>354</b> may be controlled to output one or more bias voltages that are provided to one or more MOSFETs of a transistor stack.</p><p id="p-0043" num="0040">In turn, a controller <b>356</b> may control multiplexer <b>354</b> based at least in part on modulation scheme, desired output power level and so forth to output specific bias voltages. In one embodiment, controller <b>356</b> may include either dedicated or programmable hardware circuitry configured to control generation of bias signals, among other functions, such as configuring circuitry of a dual-mode PA as described herein. To this end, controller <b>356</b> may include or be coupled to a non-volatile storage or other non-transitory storage medium to store instructions and data usable for bias signal generation as described herein.</p><p id="p-0044" num="0041">Although shown with this particular implementation, understand that variations and alternatives are possible. For example, controller <b>356</b> may be a separate component, and can be an overall controller of a transmitter, in some cases. And for ease of discussion herein, note that use of the term &#x201c;bias circuit&#x201d; may be used to more generally refer to all the components of a programmable bias system such as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0045" num="0042">In yet another embodiment, a dual-mode PA with fully shared driving transistors is possible. Referring now to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, shown is a schematic diagram of a dual-mode PA in accordance with a still further embodiment. In the embodiment of <figref idref="DRAWINGS">FIG. <b>4</b></figref>, note that all transistors of the transistor stack are shared to accommodate incoming constant envelope signals and variable envelope signals. Given the similarity with the implementation of <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the common components are not further discussed, and understand that reference numerals used in <figref idref="DRAWINGS">FIG. <b>4</b></figref> generally refer to the same components as in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, albeit of the &#x201c;400&#x201d; series in place of the &#x201c;300&#x201d; series of <figref idref="DRAWINGS">FIG. <b>3</b></figref>. In <figref idref="DRAWINGS">FIG. <b>4</b></figref>, note that buffers <b>420</b><sub>A1,A2 </sub>are provided for the OFDM signals.</p><p id="p-0046" num="0043">In this implementation, all driving transistors are shared between FSK and OFDM modes, thus area savings are maximized. Again, to ensure that PA <b>400</b> is operating in the desired mode (switching or linear), the biasing voltages are to be adjusted properly. In switching-mode operation, transistors M<b>2</b> and M<b>5</b> are used as a switch, thus the switch resistance, which depends on the gate voltage, should be minimized to maximize efficiency. On the other hand, in linear-mode operation, transistors M<b>2</b> and M<b>5</b> are used as a linear amplifying device, and the biasing should be set with consideration of device linearity in mind. In a particular embodiment, transistors M<b>2</b> and M<b>5</b> in FSK or switching mode may be biased such that when they are on, the switch on resistance is minimized (since they are used as switch), where the upper limit is bound by device reliability. On the other hand, when transistors M<b>2</b> and M<b>5</b> are used in OFDM or linear mode, gate biasing may be biased at a level such that the linearity of the transistors are maximized to minimize non-linear distortion. In turn, transistors M<b>3</b> and M<b>4</b> may have their gate voltages (biasing levels) controlled to be different in OFDM and FSK modes.</p><p id="p-0047" num="0044">Besides area savings, the embodiment of <figref idref="DRAWINGS">FIG. <b>4</b></figref> does not require independent interfaces for the switching and linear PAs, thus potentially saving package pins, circuit board area and external components, and creates advantages in cost and ease of use. Understand while shown at this high level in the embodiment of <figref idref="DRAWINGS">FIG. <b>4</b></figref>, many variations and alternatives are possible.</p><p id="p-0048" num="0045">Referring now to <figref idref="DRAWINGS">FIG. <b>5</b></figref>, shown is a flow diagram of a method in accordance with an embodiment. More specifically as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, method <b>500</b> is a method for configuring a dual mode PA for operation in a particular mode. In embodiments, method <b>500</b> may be performed by hardware circuitry, such as a controller of a radio that configures various components of the radio including a PA as described herein.</p><p id="p-0049" num="0046">As shown, method <b>500</b> begins by performing a negotiation to determine a modulation scheme (block <b>510</b>). Understand that this negotiation may be performed by two devices in wireless communication and may be based on a given negotiation protocol in which capabilities of the devices can be identified. During this negotiation, a given modulation scheme may be determined. For purposes of discussion herein, assume that the modulation scheme is a given one of a FSK or OFDM modulation scheme. Next at block <b>520</b> modulation parameters may be configured for the determined modulation scheme. Such modulation parameters may include a type of encoding, data rates and so forth. Control next passes to block <b>530</b> where one or more slices of the dual-mode PA may be enabled. In embodiments, this enabling of given slices may be based on the modulation parameters as well as an output power level. For example, it is possible for more slices to be enabled to output a RF signal at higher power levels, and vice versa.</p><p id="p-0050" num="0047">Still referring to <figref idref="DRAWINGS">FIG. <b>5</b></figref>, next at block <b>540</b> bias signals may be generated in a bias circuit based on the modulation parameters. Understand that these bias signals may be used to appropriately bias various transistors of the dual-mode PA, such as driving transistors, enable transistors and so forth. The bias signals may then be provided to the PA (block <b>550</b>).</p><p id="p-0051" num="0048">Thus when appropriately biased, an RF signal of the determined modulation scheme may be driven to the dual-mode PA (block <b>560</b>). For example, the RF signal may be driven to gate terminals of input MOSFETs of the PA. This RF signal is amplified and is output from the PA (at block <b>570</b>). Understand that the amplified RF signal may be radiated via an antenna to which the PA is coupled to enable communication to a target.</p><p id="p-0052" num="0049">Referring now to <figref idref="DRAWINGS">FIG. <b>6</b></figref>, shown is a block diagram of a representative integrated circuit <b>600</b> that includes multi-mode power amplifier circuitry as described herein. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, integrated circuit <b>600</b> may be, e.g., a microcontroller, wireless transceiver that may operate according to one or more wireless protocols (e.g., WLAN-OFDM, WLAN-DSSS, Bluetooth, among others), or other device that can be used in a variety of use cases, including sensing, metering, monitoring, embedded applications, communications, applications and so forth, and which may be particularly adapted for use in an IoT device.</p><p id="p-0053" num="0050">In the embodiment shown, integrated circuit <b>600</b> includes a memory system <b>610</b> which in an embodiment may include a non-volatile memory such as a flash memory and volatile storage, such as RAM. In an embodiment, this non-volatile memory may be implemented as a non-transitory storage medium that can store instructions and data. Such non-volatile memory may store instructions, including instructions for determining appropriate configuration of a PA in accordance with an embodiment for a given mode of operation and control of bias signals for the PA, as described herein.</p><p id="p-0054" num="0051">Memory system <b>610</b> couples via a bus <b>650</b> to a digital core <b>620</b>, which may include one or more cores and/or microcontrollers that act as a main processing unit of the integrated circuit. In turn, digital core <b>620</b> may couple to clock generators <b>630</b> which may provide one or more phase locked loops or other clock generator circuitry to generate various clocks for use by circuitry of the IC.</p><p id="p-0055" num="0052">As further illustrated, IC <b>600</b> further includes power circuitry <b>640</b>, which may include one or more voltage regulators. Additional circuitry may optionally be present depending on particular implementation to provide various functionality and interaction with external devices. Such circuitry may include interface circuitry <b>660</b> which may provide interface with various off-chip devices, sensor circuitry <b>670</b> which may include various on-chip sensors including digital and analog sensors to sense desired signals, such as for a metering application or so forth.</p><p id="p-0056" num="0053">In addition as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, transceiver circuitry <b>680</b> may be provided to enable transmission and receipt of wireless signals, e.g., according to one or more of a local area or wide area wireless communication scheme, such as Zigbee, Bluetooth, IEEE 802.11, IEEE 802.15.4, cellular communication or so forth. As shown, transceiver circuitry <b>680</b> includes a PA <b>685</b> that may include shared circuitry to be used for communicating signals of multiple modulation schemes in multiple modes including linear and switching modes as described herein. Understand while shown with this high level view, many variations and alternatives are possible.</p><p id="p-0057" num="0054">Note that ICs such as described herein may be implemented in a variety of different devices such as an IoT device. This IoT device may be, as two examples, a smart bulb of a home or industrial automation network or a smart utility meter for use in a smart utility network, e.g., a mesh network in which communication is according to an IEEE 802.15.4 specification or other such wireless protocol.</p><p id="p-0058" num="0055">Referring now to <figref idref="DRAWINGS">FIG. <b>7</b></figref>, shown is a high level diagram of a network in accordance with an embodiment. As shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, a network <b>700</b> includes a variety of devices, including smart devices such as IoT devices, routers and remote service providers. In the embodiment of <figref idref="DRAWINGS">FIG. <b>7</b></figref>, a mesh network <b>705</b> may be present, e.g., in a building having multiple IoT devices <b>710</b><sub>0-n</sub>. Such IoT devices may include multi-mode PAs as described herein. As shown, at least one IoT device <b>710</b> couples to a router <b>730</b> that in turn communicates with a remote service provider <b>760</b> via a wide area network <b>750</b>, e.g., the internet. In an embodiment, remote service provider <b>760</b> may be a backend server of a utility that handles communication with IoT devices <b>710</b>. Understand while shown at this high level in the embodiment of <figref idref="DRAWINGS">FIG. <b>7</b></figref>, many variations and alternatives are possible.</p><p id="p-0059" num="0056">While the present disclosure has been described with respect to a limited number of implementations, those skilled in the art, having the benefit of this disclosure, will appreciate numerous modifications and variations therefrom. It is intended that the appended claims cover all such modifications and variations.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A transmitter comprising:<claim-text>a first power amplifier to amplify a first signal of a first modulation scheme;</claim-text><claim-text>a second power amplifier to amplify a second signal of a second modulation scheme; and</claim-text><claim-text>an energy storage device having a first node coupled to an output node of the first power amplifier and a second node directly coupled to a shared output node, wherein an output node of the second power amplifier is directly coupled to the shared output node.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first power amplifier and the second power amplifier are AC coupled.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first power amplifier is configured for linear mode operation and the second power amplifier is configured for switching mode operation.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The transmitter of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the first power amplifier is to receive the first signal of the first modulation scheme comprising a variable envelope modulation scheme, and the second power amplifier is to receive the second signal of the second modulation scheme comprising a constant envelope modulation scheme.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a single semiconductor die on which the first power amplifier, the second power amplifier, and the energy storage device are adapted.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The transmitter of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the common output node is coupled to an off-chip matching network, the off-chip matching network coupled to an antenna to radiate the first signal and the second signal.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the energy storage device comprises a capacitor.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the first power amplifier comprises a first cascoded transistor stack; and</claim-text><claim-text>the second power amplifier comprises a second cascoded transistor stack.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. A dual-mode power amplifier comprising:<claim-text>a first pair of metal oxide semiconductor field effect transistors (MOSFETs) to receive and pass a constant envelope signal;</claim-text><claim-text>a second pair of MOSFETs to receive and pass a variable envelope signal, wherein first terminals of the first pair of MOSFETs are coupled to first terminals of the second pair of MOSFETs, and second terminals of the first pair of MOSFETs are coupled to second terminals of the second pair of MOSFETs; and</claim-text><claim-text>a shared MOSFET stack coupled to the first pair of MOSFETs and the second pair of MOSFETs.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The dual-mode power amplifier of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the shared MOSFET stack comprises a first plurality of MOSFETs of a first polarity coupled between a supply voltage node and an output node and a second plurality of MOSFETs of a second polarity coupled between a reference voltage node and the output node.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The dual-mode power amplifier of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the shared MOSFET stack comprises a first enable MOSFET and a second enable MOSFET, wherein the first enable MOSFET is coupled to the supply voltage node and the second enable MOSFET is coupled to the reference voltage node.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The dual-mode power amplifier of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the shared MOSFET stack further comprises a first output MOSFET and a second output MOSFET, wherein the first output MOSFET is coupled to a first one of the first pair of MOSFETs and a first one of the second pair of MOSFETs, and the second output MOSFET is coupled to a second one of the first pair of MOSFETs and a second one of the second pair of MOSFETs.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The dual-mode power amplifier of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the first pair of MOSFETs is to receive the constant envelope signal via a first buffer coupled to a first capacitor coupled to a first one of the first pair of MOSFETs and a second buffer coupled to a second capacitor coupled to a second one of the first pair of MOSFETs.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The dual-mode power amplifier of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the second pair of MOSFETs is to receive the variable envelope signal via a third capacitor coupled to a first one of the second pair of MOSFETs and a fourth capacitor coupled to a second one of the second pair of MOSFETs.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A dual-mode power amplifier comprising:<claim-text>a transistor stack comprising a first plurality of metal oxide semiconductor field effect transistors (MOSFETs) of a first polarity and a second plurality of MOSFETs of a second polarity;</claim-text><claim-text>a first buffer pair to receive a variable envelope signal of a first modulation scheme and provide the variable envelope signal to a first MOSFET of the first plurality of MOSFETs and a first MOSFET of the second plurality of MOSFETs; and</claim-text><claim-text>a second buffer pair to receive a constant envelope signal of a second modulation scheme and provide the constant envelope signal to the first MOSFET of the first plurality of MOSFETs and the first MOSFET of the second plurality of MOSFETs.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The dual-mode power amplifier of <claim-ref idref="CLM-00015">claim 15</claim-ref>, further comprising:<claim-text>a first coupling capacitor coupled between a first buffer of the first buffer pair and the first MOSFET of the first plurality of MOSFETs; and</claim-text><claim-text>a second coupling capacitor coupled between a second buffer of the first buffer pair and the first MOSFET of the second plurality of MOSFETs.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The dual-mode power amplifier of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the transistor stack comprises:<claim-text>a second MOSFET of the first plurality of MOSFETs coupled to the first MOSFET of the first plurality of MOSFETs, wherein a first terminal of the second MOSFET of the first plurality of MOSFETs is coupled to an output node of the dual-mode power amplifier; and</claim-text><claim-text>a second MOSFET of the second plurality of MOSFETs coupled to the first MOSFET of the second plurality of MOSFETs, wherein a first terminal of the second MOSFET of the second plurality of MOSFETs is coupled to the output node.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The dual-mode power amplifier of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising a bias circuit to:<claim-text>provide a first bias voltage to the second MOSFET of the first plurality of MOSFETs when operation is according to the first modulation scheme, to minimize switching resistance of the second MOSFET of the first plurality of MOSFETs; and</claim-text><claim-text>provide a second bias voltage to the second MOSFET of the second plurality of MOSFETs when the operation is according to the second modulation scheme, to bias the second MOSFET of the second plurality of MOSFETs at a minimal gate voltage to maintain device reliability.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The dual-mode power amplifier of <claim-ref idref="CLM-00018">claim 18</claim-ref>, further comprising a controller to control the dual-mode power amplifier to operate in a linear mode to output the variable envelope signal and to operate in a switching mode to output the constant envelope signal.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The dual-mode power amplifier of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein controller is to control the bias circuit to provide a first bias voltage to the second MOSFET of the first plurality of MOSFETs in the linear mode and provide a second bias voltage to the second MOSFET of the first plurality of MOSFETs in the switching mode, the first bias voltage different than the second bias voltage.</claim-text></claim></claims></us-patent-application>