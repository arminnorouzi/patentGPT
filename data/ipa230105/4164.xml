<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230004165A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230004165</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17901736</doc-number><date>20220901</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>02</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>05</class><subclass>B</subclass><main-group>13</main-group><subgroup>04</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>N</subclass><main-group>20</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>0221</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>0088</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>B</subclass><main-group>13</main-group><subgroup>048</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20190101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>N</subclass><main-group>20</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">SYSTEM AND METHOD FOR REAL WORLD AUTONOMOUS VEHICLE TRAJECTORY SIMULATION</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16929954</doc-number><date>20200715</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11435748</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17901736</doc-number></document-id></child-doc></relation></continuation><continuation><relation><parent-doc><document-id><country>US</country><doc-number>15796765</doc-number><date>20171028</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>10739775</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>16929954</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>TuSimple, Inc.</orgname><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>SUN</last-name><first-name>Xing</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>LIN</last-name><first-name>Wutu</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>LIU</last-name><first-name>Liu</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>MA</last-name><first-name>Kai-Chieh</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>XUAN</last-name><first-name>Zijie</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>ZHAO</last-name><first-name>Yufei</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A system and method for real world autonomous vehicle trajectory simulation may include: receiving training data from a data collection system; obtaining ground truth data corresponding to the training data; performing a training phase to train a plurality of trajectory prediction models; and performing a simulation or operational phase to generate a vicinal scenario for each simulated vehicle in an iteration of a simulation. Vicinal scenarios may correspond to different locations, traffic patterns, or environmental conditions being simulated. Vehicle intention data corresponding to a data representation of various types of simulated vehicle or driver intentions.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="35.90mm" wi="158.75mm" file="US20230004165A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="178.82mm" wi="55.71mm" orientation="landscape" file="US20230004165A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="241.38mm" wi="129.37mm" orientation="landscape" file="US20230004165A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="217.09mm" wi="109.56mm" file="US20230004165A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="134.03mm" wi="112.44mm" file="US20230004165A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation of U.S. patent application Ser. No. 16/929,954, filed Jul. 15, 2020, titled &#x201c;System and Method for Real World Autonomous Vehicle Trajectory Simulation&#x201d;, which is a continuation of U.S. patent application Ser. No. 15/796,765, filed Oct. 28, 2017, titled &#x201c;System and Method for Real World Autonomous Vehicle Trajectory Simulation.&#x201d;</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">COPYRIGHT NOTICE</heading><p id="p-0003" num="0002">A portion of the disclosure of this patent document contains material that is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the U.S. Patent and Trademark Office patent files or records, but otherwise reserves all copyright rights whatsoever. The following notice applies to the disclosure herein and to the drawings that form a part of this document: Copyright 2016-2022, TuSimple, Inc., All Rights Reserved.</p><heading id="h-0003" level="1">TECHNICAL FIELD</heading><p id="p-0004" num="0003">This patent document pertains generally to tools (systems, apparatuses, methodologies, computer program products, etc.) for autonomous driving simulation systems, trajectory planning, vehicle control systems, and autonomous driving systems, and more particularly, but not by way of limitation, to a system and method for real world autonomous vehicle trajectory simulation.</p><heading id="h-0004" level="1">BACKGROUND</heading><p id="p-0005" num="0004">An autonomous vehicle is often configured to follow a trajectory based on a computed driving path. However, when variables such as obstacles are present on the driving path, the autonomous vehicle must perform control operations so that the vehicle may be safely driven by changing the driving path to avoid the obstacles. In the related art, autonomous vehicle control operations have been determined by representing spatial information (e.g., a coordinate, a heading angle, a curvature, etc.) of the driving path as a polynomial expression or mathematical function for a movement distance in order to avoid a stationary obstacle. However, when dynamic obstacles are present on the driving path, the autonomous vehicle according to the related art may not accurately predict whether or not the vehicle will collide with the dynamic obstacles. In particular, the related art does not consider the interaction between the autonomous vehicle and other dynamic vehicles. Therefore, conventional autonomous vehicle control systems cannot accurately predict the future positions of other proximate dynamic vehicles. Further, conventional simulation systems do not consider the typical responses and behaviors of human drivers, which is often different than the response or behavior generated by a computing system. As a result, the optimal behavior of the conventional autonomous vehicle cannot be achieved.</p><heading id="h-0005" level="1">SUMMARY</heading><p id="p-0006" num="0005">A system and method for real world autonomous vehicle trajectory simulation is disclosed herein. Specifically, the present disclosure describes a data-driven system and method to simulate trajectory patterns of vehicles driven by human drivers for the purpose of establishing a traffic simulation with high fidelity. To eliminate the gap between simulated trajectories and actual trajectories of vehicles driven by human drivers under a similar situation, the system and method of various example embodiments may include various sensors to collect vehicle sensor data corresponding to driving patterns of human drivers, which is considered when building models to simulate trajectories of vehicles driven by human drivers.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0007" num="0006">The various embodiments are illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings in which:</p><p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates a first phase for building an autonomous vehicle trajectory simulation system in an example embodiment;</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>2</b></figref> illustrates the components of the autonomous vehicle trajectory simulation system of an example embodiment in a second phase;</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a process flow diagram illustrating an example embodiment of a system and method for real world autonomous vehicle trajectory simulation; and</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a diagrammatic representation of machine in the example form of a computer system within which a set of instructions when executed may cause the machine to perform any one or more of the methodologies discussed herein.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0007" level="1">DETAILED DESCRIPTION</heading><p id="p-0012" num="0011">In the following description, for purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the various embodiments. It will be evident, however, to one of ordinary skill in the art that the various embodiments may be practiced without these specific details.</p><p id="p-0013" num="0012">A system and method for real world autonomous vehicle trajectory simulation is disclosed herein. Specifically, the present disclosure describes a data-driven system and method to simulate trajectory patterns of vehicles driven by human drivers for the purpose of establishing a traffic simulation with high fidelity. To eliminate the gap between simulated trajectories and actual trajectories of vehicles driven by human drivers under a similar situation, the system and method of various example embodiments may include various sensors to collect vehicle sensor data corresponding to driving patterns of human drivers, which is considered when building models to simulate trajectories of vehicles driven by human drivers.</p><p id="p-0014" num="0013">As described in various example embodiments, a system and method for real world autonomous vehicle trajectory simulation are described herein. Referring to <figref idref="DRAWINGS">FIG. <b>1</b></figref>, an example embodiment disclosed herein can be used in the context of a trajectory simulation system <b>202</b> for autonomous vehicles. In particular, the real world data collection system <b>201</b> can be used to generate or train one or more trajectory prediction models <b>180</b>. As described in more detail below for an example embodiment, the autonomous vehicle trajectory simulation system <b>202</b> can use one or more of the trained trajectory prediction models <b>180</b> to generate simulated vehicle trajectories based on driving intentions and vicinal scenarios provided to the autonomous vehicle trajectory simulation system <b>202</b> and based on the training the trajectory prediction models <b>180</b> receive from the data collection system <b>201</b>.</p><p id="p-0015" num="0014">The data collection system <b>201</b> can include an array of perception information gathering devices or sensors that may include image generating devices (e.g., cameras), light amplification by stimulated emission of radiation (laser) devices, light detection and ranging (LIDAR) devices, global positioning system (GPS) devices, sound navigation and ranging (sonar) devices, radio detection and ranging (radar) devices, and the like. The perception information gathered by the information gathering devices at various traffic locations can include traffic or vehicle image data, roadway data, environmental data, distance data from LIDAR or radar devices, and other sensor information received from the information gathering devices of the data collection system <b>201</b> positioned adjacent to particular roadways (e.g., monitored locations). Additionally, the data collection system <b>201</b> can include information gathering devices installed in moving test vehicles being navigated through pre-defined routings in an environment or location of interest. The perception information can include data from which a position and velocity of neighboring vehicles in the vicinity of or proximate to the autonomous vehicle can be obtained or calculated. Corresponding ground truth data can also be gathered by the data collection system <b>201</b>.</p><p id="p-0016" num="0015">The real world data collection system <b>201</b> can collect actual trajectories of vehicles and corresponding ground truth data under different scenarios and different driver intentions. The different scenarios can correspond to different locations, different traffic patterns, different environmental conditions, and the like. The scenarios can be represented, for example, by an occupancy grid, a collection of vehicle states on a map, or a graphical representation, such as a top-down image of one or more areas of interest. The driver intentions can correspond to a driver's short term driving goals, such as merging to a ramp, making right turn at an intersection, making a U-turn, and the like. The driver intentions can also correspond to a set of driver or vehicle control actions to accomplish a particular short term driving goal.</p><p id="p-0017" num="0016">The image data and other perception data and ground truth data collected by the data collection system <b>201</b> reflects truly realistic, real-world traffic information related to the locations or routings, the scenarios, and the driver intentions being monitored. Using the standard capabilities of well-known data collection devices, the gathered traffic and vehicle image data and other perception or sensor data can be wirelessly transferred (or otherwise transferred) to a data processor of a standard computing system, upon which the real world data collection system <b>201</b> can be executed. Alternatively, the gathered traffic and vehicle image data and other perception or sensor data can be stored in a memory device at the monitored location or in the test vehicle and transferred later to the data processor of the standard computing system. The traffic and vehicle image data and other perception or sensor data, the ground truth data and the driver intention data gathered or calculated by the real world data collection system <b>201</b> can be used to generate training data, which can be processed by the one or more trajectory prediction models <b>180</b> in a training phase. For example, as well-known, neural networks, or other machine learning systems, can be trained to produce configured output based on training data provided to the neural network or other machine learning system in a training phase. The training data provided by the real world data collection system <b>201</b> can be used to build and/or train the generative prediction model (trajectory prediction models <b>180</b> shown in <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref>) that can predict vehicles' future trajectories given their driving intentions and vicinal scenarios as described in more detail below. Once the one or more trajectory prediction models <b>180</b> are trained with the real world data collection system <b>201</b> in the training phase, the trained one or more trajectory prediction models <b>180</b> can be integrated into or connected with the autonomous vehicle trajectory simulation system <b>202</b>. As described in more detail below, the autonomous vehicle trajectory simulation system <b>202</b> can use the trained one or more trajectory prediction models <b>180</b> in a simulation or operational phase to produce predicted vehicle trajectories given their driving intentions and vicinal scenarios.</p><p id="p-0018" num="0017">Referring to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, components of the autonomous vehicle trajectory simulation system <b>202</b> are illustrated. The autonomous vehicle trajectory simulation system <b>202</b> can use the machine learning training provided by the real world data collection system <b>201</b> in the training phase and the real-world vehicle/object scenarios or vicinal scenes generated by the vicinal scene data generator module <b>173</b> in a simulation phase to create corresponding simulations of vehicle or object trajectories in a prediction model. As a result, the example embodiments use the real world data collection system <b>201</b> in the training phase to collect data corresponding to human driving behaviors and train the one or more trajectory prediction models <b>180</b>. Additionally, example embodiments can use a loss function in the training phase to examine and correct the results of the training provided to the one or more trajectory prediction models <b>180</b> by the real world data collection system <b>201</b>. Then, the example embodiments can use the autonomous vehicle trajectory simulation system <b>202</b> in the simulation or operational phase to simulate human driving behaviors using the trained one or more trajectory prediction models <b>180</b>.</p><p id="p-0019" num="0018">In an example embodiment, the processing performed by the example embodiments can be divided into two stages: the offline training phase, and the operational or simulation phase. In the offline training phase, the processed data provided by the real world data collection system <b>201</b> can be used to generate and/or train the plurality of trajectory prediction models <b>180</b> (shown in <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref>), the use of which is described in more detail below. In an example embodiment, the prediction models <b>180</b> can be implemented as neural networks or other machine learning systems, which can be trained using the processed data provided by the real world data collection system <b>201</b>. As a result, the prediction models <b>180</b> can be trained to simulate or predict the behavior and trajectories of simulated vehicles with simulated drivers in a simulation scenario based on the processed data provided by the real world data collection system <b>201</b>. Because the prediction models <b>180</b> are trained using real world data, the predicted behavior and trajectories of simulated vehicles produced by the prediction models <b>180</b> are closely correlated to the actual behavior and trajectories of vehicles in a real world environment.</p><p id="p-0020" num="0019">After the prediction models <b>180</b> are trained in the training phase as described above, the prediction models <b>180</b> can be deployed in an operational or simulation phase of the autonomous vehicle trajectory simulation system <b>202</b>. In the operational or simulation phase, the autonomous vehicle trajectory simulation system <b>202</b> can generate vicinal scenarios for each of a plurality of simulated vehicles in a simulation system. The vicinal scenarios serve to predict the behaviors and trajectories of vehicles in simulation based on scenarios driven by a vicinal scene data generator <b>173</b> and vehicle intention data <b>174</b> described in more detail below.</p><p id="p-0021" num="0020">As a result of the processing performed by the autonomous vehicle trajectory simulation system <b>202</b>, data corresponding to predicted or simulated driver behaviors and predicted or simulated vehicle trajectories can be produced and fed back into the simulation system <b>202</b> to improve the accuracy of the predicted trajectories. Ultimately, the improved simulation system <b>202</b> can be used to provide highly accurate predicted traffic trajectory information to a user or for configuration of a control system of an autonomous vehicle. In particular, the predicted or simulated traffic trajectory information can be provided to a system component used to create a virtual world where a control system for an autonomous vehicle can be trained and improved. The virtual world is configured to be identical (as possible) to the real world where vehicles are operated by human drivers. In other words, the predicted or simulated traffic trajectory information generated by the autonomous vehicle trajectory simulation system <b>202</b> is indirectly useful for configuring the control systems for an autonomous vehicle. It will be apparent to those of ordinary skill in the art that the autonomous vehicle trajectory simulation system <b>202</b> and the predicted or simulated traffic trajectory information described and claimed herein can be implemented, configured, processed, and used in a variety of other applications and systems as well.</p><p id="p-0022" num="0021">Referring again to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, a diagram illustrates the components of the autonomous vehicle trajectory simulation system <b>202</b> of an example embodiment. In the example embodiment, the autonomous vehicle trajectory simulation system <b>202</b> can be configured to include an autonomous vehicle trajectory simulation module <b>200</b> configured for execution by a data processor <b>171</b> in a computing environment of the autonomous vehicle trajectory simulation system <b>202</b>. In the example embodiment, the autonomous vehicle trajectory simulation module <b>200</b> can be configured to include a vicinal scene data generator module <b>173</b>, a state updater module <b>175</b>, a plurality of prediction models <b>180</b>, and a plurality of trajectory samplers <b>182</b>. The vicinal scene data generator module <b>173</b>, state updater module <b>175</b>, the plurality of prediction models <b>180</b>, and the plurality of trajectory samplers <b>182</b> can be configured as software modules for execution by the data processor <b>171</b>. As described in more detail below, the vicinal scene data generator module <b>173</b> serves to generate a vicinal scenario for each simulated vehicle in the simulation system. The different vicinal scenarios can correspond to different locations, different traffic patterns, different environmental conditions, and the like. The vicinal scenarios can be represented, for example, by an occupancy grid, a collection of vehicle states on a map, or a graphical representation, such as a top-down image of one or more areas of interest. The vicinal scenarios can also correspond to a particular set of conditions in which the simulated vehicle is operating. For example, the vicinal scenario can include the simulated location of the simulated vehicle, the simulated road and traffic conditions, the environmental conditions, the vehicle and occupant status, and the like. The vicinal scenario can be used to vary the simulated conditions across a wide variety of different kinds of circumstances typical in the real world. The vicinal scenario data generated by the vicinal scene data generator module <b>173</b> for a particular iteration of the simulation can be passed to one of the plurality of prediction models <b>180</b> as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> and described in more detail below.</p><p id="p-0023" num="0022">A data storage device or memory <b>172</b> is also provided in the autonomous vehicle trajectory simulation system <b>202</b> of an example embodiment. The memory <b>172</b> can be implemented with standard data storage devices (e.g., flash memory, DRAM, SIM cards, or the like) or as cloud storage in a networked server. In an example embodiment, the memory <b>172</b> can be used to store a set of vehicle intention data <b>174</b>. The vehicle intention data <b>174</b> corresponds to a data representation of various types of simulated vehicle and/or driver intentions. The simulated vehicle and/or driver intentions can correspond to a driver's short term driving goals, such as merging to a ramp, making right turn at an intersection, making a U-turn, and the like. The simulated vehicle and/or driver intentions can also correspond to a set of driver or vehicle control actions to accomplish a particular short term driving goal. The simulated vehicle and/or driver intentions for a variety of different vehicle actions and behaviors can be stored in the memory <b>172</b> as vehicle intention data <b>174</b>. In a particular embodiment, the vicinal scene data generator module <b>173</b> can select a particular set of the vehicle intention data <b>174</b> to be processed with a particular vicinal scenario dataset configured by the vicinal scene data generator module <b>173</b> for an iteration of the simulation. In another embodiment, the particular set of the vehicle intention data <b>174</b> can be pre-determined prior to the execution of the simulation. For each iteration of the simulation, the vehicle intention data <b>174</b> can be passed to one of the plurality of prediction models <b>180</b> as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> and described in more detail below.</p><p id="p-0024" num="0023">In the example embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the autonomous vehicle trajectory simulation system <b>202</b> can be configured to include or connect with a plurality of trained prediction models <b>180</b> used to simulate or predict the behavior and trajectories of simulated vehicles with simulated drivers in a simulation scenario. In particular, the plurality of trained prediction models <b>180</b> enable the generation of a distribution of predicted vehicle trajectories for each of a plurality of simulated vehicles of the simulation based on a particular vicinal scenario dataset configured by the vicinal scene data generator module <b>173</b> and a corresponding vehicle intention dataset <b>174</b>. For each of the vehicle trajectories in each of the generated trajectory distributions, a confidence value, likelihood rating, or probability value can also be computed by the prediction models <b>180</b> to specify a degree of likelihood or probability that the particular simulated vehicle will actually traverse the corresponding trajectory of the distribution. The trained prediction models <b>180</b> represent a simulated virtual world configured to be identical (as possible) to the real world where vehicles are operated by human drivers. The virtual world can be used to train and improve a control system for an autonomous vehicle. Thus, the simulation produced by the autonomous vehicle trajectory simulation system <b>202</b> can be indirectly useful for configuring the control systems in autonomous vehicles. The plurality of trained prediction models <b>180</b> can be parameterized models, which may be configured or trained using either (or both) real-world input provided by the data collection system <b>201</b> or randomized variables. In one example, the trained prediction models <b>180</b> may simulate the typical and atypical driver behaviors, such as steering or heading control, speed or throttle control, and stopping or brake control. In one example, the trained prediction models <b>180</b> may use, for example, sensory-motor transport delay, dynamic capabilities, and preferred driving behaviors. In some implementations, the trained prediction models <b>180</b> may include modeling of the transport time delay between a stimulus and the simulated driver's control response. In some implementations, this delay may represent the time necessary for the driver to sense a stimulus, process it, determine the best corrective action, and respond. The trained prediction models <b>180</b> may also include a speed control model with an absolute maximum vehicle speed (e.g., the maximum speed of the vehicle, the speed a driver is not comfortable exceeding, etc.) and a cornering aggressiveness measure to reduce the speed based on the turning radius. In the example, this may replicate the tendency of drivers to slow down through a turn. In the example, once the turning radius drops below the cornering threshold in the scenario, the speed may be reduced in proportion to the tightness of the turn.</p><p id="p-0025" num="0024">In various example embodiments, the plurality of prediction models <b>180</b> can be configured or trained to simulate more than the typical driving behaviors. To simulate an environment that is identical to the real world as much as possible, the prediction models <b>180</b> can receive training related to typical driving behaviors, which represent average people. Additionally, the prediction models <b>180</b> can receive training related to atypical driving behaviors. In most cases, training data related to typical and atypical driver and vehicle behaviors is used by the data collection system <b>201</b> to train the prediction models <b>180</b>. In other words, in reality, most human drivers drive vehicles in a pleasant and humble way, while other drivers drive aggressively and impatiently. Because the plurality of prediction models <b>180</b> of an example embodiment is trained using real world driving and traffic data from the data collection system <b>201</b>, the plurality of prediction models <b>180</b> of the various example embodiments receives training related to the driving behaviors of polite and impolite drivers as well as patient and impatient drivers in the virtual world. In all, the trained prediction models <b>180</b> can be configured with data representing driving behaviors that are as varied as possible. In some implementations, the dynamics of how a human may respond to stimuli may be included in the logic implemented in the trained prediction models <b>180</b>, which may include, for example, a metric of how aggressively the driver brakes, turns, and accelerates. In some implementations, an aggressive driver may be modeled as one who applies very high control inputs to achieve the desired vehicle speeds, while a conservative driver may use more gradual control inputs. In some implementations, this may be modeled using parameterized values, with the input being controlled to the desired value. In some implementations, by adjusting the parameterized values, the aggressiveness of the simulated driver may be increased or decreased.</p><p id="p-0026" num="0025">As described above, the plurality of trained prediction models <b>180</b>, for each iteration of the simulation in the simulation or operational phase, enable the generation of a distribution of vehicle trajectories with corresponding likelihood ratings or probability values for each of a plurality of simulated vehicles of the simulation based on a particular vicinal scenario dataset configured by the vicinal scene data generator module <b>173</b> and a corresponding vehicle intention dataset <b>174</b>. For each iteration of the simulation and for each of the plurality of trained prediction models <b>180</b>, one of the plurality of trajectory samplers <b>182</b> can select a particular trajectory from the distribution of vehicle trajectories generated for the particular iteration. The particular trajectory can be selected based on a variety of pre-defined criteria including a maximal or minimal likelihood rating or probability value, conformity with pre-defined safety parameters, conformity with pre-defined economy parameters, conformity with pre-defined timing or distance parameters, and the like. The particular trajectory selected by the one of the plurality of trajectory samplers <b>182</b> can be stored in the memory <b>172</b> as vehicle trajectory data <b>176</b>. Once the particular trajectory is selected and the vehicle trajectory data <b>176</b> for the current iteration is stored, the state updater module <b>175</b> can update the states and predicted trajectories of all simulated vehicles in the simulation according to the selected trajectory. The predicted vehicle trajectories retained as vehicle trajectory data <b>176</b> can be saved and fed back into the state updated module <b>175</b> to improve the accuracy of the predicted trajectories. At this point, the current iteration of the simulation is complete and control is passed back to the vicinal scene data generator module <b>173</b> for the start of the next iteration of the simulation in the simulation or operational phase. As described above, the vicinal scene data generator module <b>173</b> generates a new vicinal scenario for each simulated vehicle in the simulation system for the next iteration. The new vicinal scenarios are passed to the plurality of trained prediction models <b>180</b>. A new set of vehicle intention data <b>174</b> is also selected or generated and passed to the plurality of trained prediction models <b>180</b>. The trained prediction models <b>180</b> use the new vicinal scenarios and the new set of vehicle intention data <b>174</b> to produce a new distribution of vehicle trajectories for each of a plurality of simulated vehicles with corresponding likelihood ratings or probability values for the next iteration as described above. As a result, the autonomous vehicle trajectory simulation system <b>202</b> of an example embodiment can produce an interactive, realistic traffic simulation.</p><p id="p-0027" num="0026">Referring now to <figref idref="DRAWINGS">FIG. <b>3</b></figref>, a flow diagram illustrates an example embodiment of a system and method <b>1000</b> for providing trajectory simulation of autonomous vehicles. The example embodiment can be configured for: receiving training data from a real world data collection system (processing block <b>1010</b>); obtaining ground truth data corresponding to the training data (processing block <b>1020</b>); performing a training phase to train a plurality of trajectory prediction models (processing block <b>1030</b>); and performing a simulation or operational phase to generate a vicinal scenario for each simulated vehicle in an iteration of a simulation, the vicinal scenarios corresponding to different locations, traffic patterns, or environmental conditions being simulated, provide vehicle intention data corresponding to a data representation of various types of simulated vehicle or driver intentions, generate a trajectory corresponding to perception data and the vehicle intention data, execute at least one of the plurality of trained trajectory prediction models to generate a distribution of predicted vehicle trajectories for each of a plurality of simulated vehicles of the simulation based on the vicinal scenario and the vehicle intention data, select at least one vehicle trajectory from the distribution based on pre-defined criteria, and update a state and trajectory of each of the plurality of simulated vehicles based on the selected vehicle trajectory from the distribution (processing block <b>1040</b>).</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a diagrammatic representation of a machine in the example form of a computing system <b>700</b> within which a set of instructions when executed and/or processing logic when activated may cause the machine to perform any one or more of the methodologies described and/or claimed herein. In alternative embodiments, the machine operates as a standalone device or may be connected (e.g., networked) to other machines. In a networked deployment, the machine may operate in the capacity of a server or a client machine in server-client network environment, or as a peer machine in a peer-to-peer (or distributed) network environment. The machine may be a personal computer (PC), a laptop computer, a tablet computing system, a Personal Digital Assistant (PDA), a cellular telephone, a smartphone, a web appliance, a set-top box (STB), a network router, switch or bridge, or any machine capable of executing a set of instructions (sequential or otherwise) or activating processing logic that specify actions to be taken by that machine. Further, while only a single machine is illustrated, the term &#x201c;machine&#x201d; can also be taken to include any collection of machines that individually or jointly execute a set (or multiple sets) of instructions or processing logic to perform any one or more of the methodologies described and/or claimed herein.</p><p id="p-0029" num="0028">The example computing system <b>700</b> can include a data processor <b>702</b> (e.g., a System-on-a-Chip (SoC), general processing core, graphics core, and optionally other processing logic) and a memory <b>704</b>, which can communicate with each other via a bus or other data transfer system <b>706</b>. The mobile computing and/or communication system <b>700</b> may further include various input/output (I/O) devices and/or interfaces <b>710</b>, such as a touchscreen display, an audio jack, a voice interface, and optionally a network interface <b>712</b>. In an example embodiment, the network interface <b>712</b> can include one or more radio transceivers configured for compatibility with any one or more standard wireless and/or cellular protocols or access technologies (e.g., 2nd (2G), 2.5, 3rd (3G), 4th (4G) generation, and future generation radio access for cellular systems, Global System for Mobile communication (GSM), General Packet Radio Services (GPRS), Enhanced Data GSM Environment (EDGE), Wideband Code Division Multiple Access (WCDMA), LTE, CDMA2000, WLAN, Wireless Router (WR) mesh, and the like). Network interface <b>712</b> may also be configured for use with various other wired and/or wireless communication protocols, including TCP/IP, UDP, SIP, SMS, RTP, WAP, CDMA, TDMA, UMTS, UWB, WiFi, WiMax, Bluetooth&#x2122;, IEEE 802.11x, and the like. In essence, network interface <b>712</b> may include or support virtually any wired and/or wireless communication and data processing mechanisms by which information/data may travel between a computing system <b>700</b> and another computing or communication system via network <b>714</b>.</p><p id="p-0030" num="0029">The memory <b>704</b> can represent a machine-readable medium on which is stored one or more sets of instructions, software, firmware, or other processing logic (e.g., logic <b>708</b>) embodying any one or more of the methodologies or functions described and/or claimed herein. The logic <b>708</b>, or a portion thereof, may also reside, completely or at least partially within the processor <b>702</b> during execution thereof by the mobile computing and/or communication system <b>700</b>. As such, the memory <b>704</b> and the processor <b>702</b> may also constitute machine-readable media. The logic <b>708</b>, or a portion thereof, may also be configured as processing logic or logic, at least a portion of which is partially implemented in hardware. The logic <b>708</b>, or a portion thereof, may further be transmitted or received over a network <b>714</b> via the network interface <b>712</b>. While the machine-readable medium of an example embodiment can be a single medium, the term &#x201c;machine-readable medium&#x201d; should be taken to include a single non-transitory medium or multiple non-transitory media (e.g., a centralized or distributed database, and/or associated caches and computing systems) that store the one or more sets of instructions. The term &#x201c;machine-readable medium&#x201d; can also be taken to include any non-transitory medium that is capable of storing, encoding or carrying a set of instructions for execution by the machine and that cause the machine to perform any one or more of the methodologies of the various embodiments, or that is capable of storing, encoding or carrying data structures utilized by or associated with such a set of instructions. The term &#x201c;machine-readable medium&#x201d; can accordingly be taken to include, but not be limited to, solid-state memories, optical media, and magnetic media.</p><p id="p-0031" num="0030">The Abstract of the Disclosure is provided to allow the reader to quickly ascertain the nature of the technical disclosure. It is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims. In addition, in the foregoing Detailed Description, it can be seen that various features are grouped together in a single embodiment for the purpose of streamlining the disclosure. This method of disclosure is not to be interpreted as reflecting an intention that the claimed embodiments require more features than are expressly recited in each claim. Rather, as the following claims reflect, inventive subject matter lies in less than all features of a single disclosed embodiment. Thus, the following claims are hereby incorporated into the Detailed Description, with each claim standing on its own as a separate embodiment.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A system comprising:<claim-text>a data processor;</claim-text><claim-text>a data collection system interface for receiving perception or sensor data collected from a data collection system, the perception or sensor data including data from at least one image generating device;</claim-text><claim-text>a memory for storage of a plurality of trained trajectory prediction models, the plurality of trained trajectory prediction models having been trained using real world training data and simulated driver behaviors;</claim-text><claim-text>a trajectory generation module, executable by the data processor, the trajectory generation module being configured to:<claim-text>generate, by the data processor, a trajectory for an autonomous vehicle, the trajectory corresponding to the perception or sensor data and autonomous vehicle intention data;</claim-text><claim-text>execute, by the data processor, at least one of the plurality of trained trajectory prediction models to generate a distribution of predicted vehicle trajectories for each of a plurality of vehicles proximate to the autonomous vehicle based on the perception or sensor data and the autonomous vehicle intention data;</claim-text><claim-text>select, by the data processor, at least one predicted vehicle trajectory from the distribution for each proximate vehicle based on pre-defined criteria; and</claim-text><claim-text>modify, by the data processor, the trajectory for the autonomous vehicle to avoid the at least one predicted vehicle trajectory for each proximate vehicle; and</claim-text></claim-text><claim-text>an autonomous vehicle control system for the autonomous vehicle configured to cause the autonomous vehicle to traverse the modified trajectory for the autonomous vehicle.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the data collection system is further configured to perform a training phase to train the plurality of trajectory prediction models with training data to produce the plurality of trained trajectory prediction models.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the plurality of trained trajectory prediction models comprising at least one trained trajectory prediction model configured to model a variable level of driver aggressiveness.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the memory is further configured to store the perception or sensor data collected from the data collection system.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the perception or sensor data includes traffic image data, vehicle image data, roadway data, environmental data, distance data from LIDAR devices, and distance data from radar devices, the data collection system being installed on the autonomous vehicle.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the autonomous vehicle control system being configured to control a direction and speed of the autonomous vehicle to direct the autonomous vehicle to follow the modified trajectory for the autonomous vehicle.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. A method comprising:<claim-text>receiving, by a data processor, perception or sensor data collected from a data collection system, the perception or sensor data including data from at least one image generating device;</claim-text><claim-text>storing, by a memory device, a plurality of trained trajectory prediction models, the plurality of trained trajectory prediction models having been trained using real world training data and simulated driver behaviors;</claim-text><claim-text>generating, by the data processor, a trajectory for an autonomous vehicle, the trajectory corresponding to the perception or sensor data and autonomous vehicle intention data;</claim-text><claim-text>executing, by the data processor, at least one of the plurality of trained trajectory prediction models to generate a distribution of predicted vehicle trajectories for each of a plurality of vehicles proximate to the autonomous vehicle based on the perception or sensor data and the autonomous vehicle intention data;</claim-text><claim-text>selecting, by the data processor, at least one predicted vehicle trajectory from the distribution for each proximate vehicle based on pre-defined criteria;</claim-text><claim-text>modifying, by the data processor, the trajectory for the autonomous vehicle to avoid the at least one predicted vehicle trajectory for each proximate vehicle; and</claim-text><claim-text>using an autonomous vehicle control system for the autonomous vehicle to cause the autonomous vehicle to traverse the modified trajectory for the autonomous vehicle.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref> further including performing a training phase to train the plurality of trajectory prediction models with training data to produce the plurality of trained trajectory prediction models.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref> wherein the plurality of trained trajectory prediction models comprising at least one trained trajectory prediction model configured to model a variable level of driver conservatism.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref> wherein the distribution of predicted vehicle trajectories includes data indicative of a degree of likelihood or probability that a particular proximate vehicle will traverse a corresponding trajectory of the distribution.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the pre-defined criteria including a maximal or minimal likelihood rating or probability value, conformity with pre-defined safety parameters, conformity with pre-defined economy parameters, and conformity with pre-defined timing or distance parameters.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the plurality of trained trajectory prediction models includes modeling of a transport time delay between a stimulus and a driver's control response.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref> wherein the plurality of trained trajectory prediction models includes a speed control model and a cornering aggressiveness model.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref> including controlling a direction and speed of the autonomous vehicle to direct the autonomous vehicle to follow the modified trajectory for the autonomous vehicle.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A non-transitory machine-useable storage medium embodying instructions which, when executed by a data processor, cause the data processor to:<claim-text>receive perception or sensor data collected from a data collection system, the perception or sensor data including data from at least one image generating device;</claim-text><claim-text>store in a memory device a plurality of trained trajectory prediction models, the plurality of trained trajectory prediction models having been trained using real world training data and simulated driver behaviors;</claim-text><claim-text>generate a trajectory for an autonomous vehicle, the trajectory corresponding to the perception or sensor data and autonomous vehicle intention data;</claim-text><claim-text>execute at least one of the plurality of trained trajectory prediction models to generate a distribution of predicted vehicle trajectories for each of a plurality of vehicles proximate to the autonomous vehicle based on the perception or sensor data and the autonomous vehicle intention data;</claim-text><claim-text>select at least one predicted vehicle trajectory from the distribution for each proximate vehicle based on pre-defined criteria;</claim-text><claim-text>modify the trajectory for the autonomous vehicle to avoid the at least one predicted vehicle trajectory for each proximate vehicle; and</claim-text><claim-text>use an autonomous vehicle control system for the autonomous vehicle to cause the autonomous vehicle to traverse the modified trajectory for the autonomous vehicle.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The non-transitory machine-useable storage medium of <claim-ref idref="CLM-00015">claim 15</claim-ref> wherein the instructions include machine learnable components.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The non-transitory machine-useable storage medium of <claim-ref idref="CLM-00015">claim 15</claim-ref> wherein the instructions being further configured to perform a training phase to train the plurality of trajectory prediction models with training data to produce the plurality of trained trajectory prediction models.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The non-transitory machine-useable storage medium of <claim-ref idref="CLM-00015">claim 15</claim-ref> wherein the plurality of trained trajectory prediction models comprising at least one trained trajectory prediction model configured to model a variable level of driver aggressiveness.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The non-transitory machine-useable storage medium of <claim-ref idref="CLM-00015">claim 15</claim-ref> wherein the distribution of predicted vehicle trajectories includes data indicative of a degree of likelihood or probability that a particular proximate vehicle will traverse a corresponding trajectory of the distribution.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The non-transitory machine-useable storage medium of <claim-ref idref="CLM-00015">claim 15</claim-ref> wherein the instructions being further configured to control a direction and speed of the autonomous vehicle to direct the autonomous vehicle to follow the modified trajectory for the autonomous vehicle.</claim-text></claim></claims></us-patent-application>