<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003615A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003615</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17848860</doc-number><date>20220624</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>M</subclass><main-group>11</main-group><subgroup>00</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>T</subclass><main-group>7</main-group><subgroup>70</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>T</subclass><main-group>7</main-group><subgroup>66</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>T</subclass><main-group>7</main-group><subgroup>30</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>T</subclass><main-group>7</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>M</subclass><main-group>11</main-group><subgroup>33</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20170101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>T</subclass><main-group>7</main-group><subgroup>70</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20170101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>T</subclass><main-group>7</main-group><subgroup>66</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20170101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>T</subclass><main-group>7</main-group><subgroup>30</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>T</subclass><main-group>7</main-group><subgroup>0004</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>01</class><subclass>L</subclass><main-group>21</main-group><subgroup>67253</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">SYSTEM AND METHOD OF FIBER LOCATION MAPPING IN A MULTI-BEAM SYSTEM</invention-title><us-related-documents><us-provisional-application><document-id><country>US</country><doc-number>63218083</doc-number><date>20210702</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="obligated-assignee"><addressbook><orgname>KLA Corporation</orgname><address><city>Milpitas</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Shriyan</last-name><first-name>Sameet K.</first-name><address><city>Milpitas</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Essmeier</last-name><first-name>Frank</first-name><address><city>Milpitas</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Yang</last-name><first-name>Hedong</first-name><address><city>Santa Clara</city><state>CA</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A multi-beam system includes a light source configured to emit light; a fiber bundle connected to the light source; and a camera configured to capture an image set including images corresponding to each fiber connected to the light source. The fiber bundle includes a central fiber having one end connected to the light source, and N layers of fibers surrounding the central fiber. The first layer of fibers includes M fibers, each having one end connected to the light source, and the Nth layer of fibers includes more than M fibers, but only M fibers in the Nth layer of fibers have one end connected the light source. A processor is configured to determine a centroid of each image in the image set to produce a centroid map and generate a fiber location map comprising fiber locations of all fibers in the fiber bundle based on the centroid map.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="215.65mm" wi="147.24mm" file="US20230003615A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="235.37mm" wi="149.27mm" file="US20230003615A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="234.02mm" wi="119.21mm" file="US20230003615A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="164.08mm" wi="138.35mm" file="US20230003615A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="168.57mm" wi="149.27mm" file="US20230003615A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="230.63mm" wi="143.09mm" file="US20230003615A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application claims priority to the provisional patent application filed Jul. 2, 2021 and assigned U.S. App. No. 63/218,083, the entire disclosure of which is hereby incorporated by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD OF THE DISCLOSURE</heading><p id="p-0003" num="0002">This disclosure relates to inspection systems and, more particularly, to multi-beam inspection systems.</p><heading id="h-0003" level="1">BACKGROUND OF THE DISCLOSURE</heading><p id="p-0004" num="0003">Evolution of the semiconductor manufacturing industry is placing greater demands on yield management and, in particular, on metrology and inspection systems. Critical dimensions continue to shrink, yet the industry needs to decrease time for achieving high-yield, high-value production. Minimizing the total time from detecting a yield problem to fixing it determines the return-on-investment for a semiconductor manufacturer.</p><p id="p-0005" num="0004">Fabricating semiconductor devices, such as logic and memory devices, typically includes processing a semiconductor wafer using a large number of fabrication processes to form various features and multiple levels of the semiconductor devices. For example, lithography is a semiconductor fabrication process that involves transferring a pattern from a reticle to a photoresist arranged on a semiconductor wafer. Additional examples of semiconductor fabrication processes include, but are not limited to, chemical-mechanical polishing (CMP), etch, deposition, and ion implantation. Multiple semiconductor devices may be fabricated in an arrangement on a single semiconductor wafer that are separated into individual semiconductor devices.</p><p id="p-0006" num="0005">Inspection processes are used at various steps during semiconductor manufacturing to detect defects on wafers to promote higher yield in the manufacturing process and, thus, higher profits. Inspection has always been an important part of fabricating semiconductor devices such as integrated circuits (ICs). However, as the dimensions of semiconductor devices decrease, inspection becomes even more important to the successful manufacture of acceptable semiconductor devices because smaller defects can cause the devices to fail. For instance, as the dimensions of semiconductor devices decrease, detection of defects of decreasing size has become necessary because even relatively small defects may cause unwanted aberrations in the semiconductor devices.</p><p id="p-0007" num="0006">One device used for inspection processes is a multi-beam system. In a multi-beam system, hundreds of beamlets are focused onto a scintillator. Light from the scintillator may be focused using optical fibers. The focused beamlets should be aligned on the scintillator to the exact fiber locations to calibrate the system. However, the exact fiber locations cannot be easily predicted based on the mechanical tolerance of the light optics.</p><p id="p-0008" num="0007">Therefore, what is needed is a method of fiber location mapping for multi-beam calibration and alignment.</p><heading id="h-0004" level="1">BRIEF SUMMARY OF THE DISCLOSURE</heading><p id="p-0009" num="0008">An embodiment of the present disclosure provides a method of fiber location mapping in a multi-beam system. The method may comprise emitting light from a light source. The light may be directed toward a camera.</p><p id="p-0010" num="0009">The method may further comprise providing a fiber bundle. The fiber bundle may comprise a central fiber having one end connected to the light source, and N layers of fibers surrounding the central fiber. A first layer of fibers may be the innermost of the N layers, an Nth layer of fibers may be outermost of the N layers, and N&#x2265;2. The first layer of fibers may include M fibers, and each of the M fibers in the first layer of fibers may have one end connected to the light source. The Nth layer of fiber may comprise more than M fibers, and M fibers in the Nth layer of fibers may have one end connected the light source.</p><p id="p-0011" num="0010">The method may further comprise capturing an image set using the camera. The image set may include images corresponding to each fiber connected to the light source.</p><p id="p-0012" num="0011">The method may further comprise determining a centroid of each image in the image set to produce a centroid map using a processor. The processor may determine an intensity of light of each pixel of each image in the image set. When one pixel is determined to have a highest intensity of the pixels in one image, the (x, y) location of the pixel may be determined as the centroid of the image. When more than one pixel is determined to have a highest intensity of the pixels in one image, the centroid of the image may be determined based on the (x, y) locations of each of the pixels having the highest intensity.</p><p id="p-0013" num="0012">The method may further comprise generating, using the processor, a fiber location map comprising fiber locations of all fibers in the fiber bundle based on the centroid map. The processor may be configured to determine pitch and rotation of the centroid of each image in the image set based on the centroid map. The processor may be further configured to determine fiber locations of remaining fibers in the Nth layer of the fiber bundle based on the pitch and rotation. The processor may be further configured to generate a fiber location map comprising the centroids and the fiber locations of the remaining fibers in the Nth layer of the fiber bundle.</p><p id="p-0014" num="0013">According to an embodiment of the present disclosure, the processor may be further configured to determine fiber locations of all fibers between the first layer of fibers and the Nth layer of fibers in the fiber bundle based on the pitch and rotation. The processor may be further configured to generate the fiber location map comprising the centroids, the fiber locations of the remaining fibers in the Nth layer of the fiber bundle, and the fiber locations of all fibers between the first layer of fibers and the Nth layer of fibers in the fiber bundle.</p><p id="p-0015" num="0014">According to an embodiment of the present disclosure, only the central fiber, M fibers in the first layer, and M fibers in the Nth layer may be connected to the light source.</p><p id="p-0016" num="0015">According to an embodiment of the present disclosure, the N layers of fibers may surround the central fiber in a polygon shape, and the M fibers in the Nth layer of fibers may correspond to corners of the polygon shape. The N layers of fibers may surround the central fiber in a hexagon shape, and the M fibers in the Nth layer may correspond to corners of the hexagon shape.</p><p id="p-0017" num="0016">According to an embodiment of the present disclosure, the fiber bundle may comprise more than 300 fibers.</p><p id="p-0018" num="0017">According to an embodiment of the present disclosure, the method may further comprise calibrating the multi-beam system based on the fiber location map. The processor may be further configured to receive an image from a beam source having a multi-beam array. The processor may be further configured to overlay the fiber location map on the image from the beam source. The processor may be further configured to align centers of the fiber location map and the image from the beam source to determine error, wherein the error comprises shift, rotation, orthogonality, aspect ratio, magnification, or astigmatism. The processor may be further configured to perform linear distortion correction based on the error.</p><p id="p-0019" num="0018">Another embodiment of the present disclosure provides a multi-beam system. The system may comprise a light source configured to emit light.</p><p id="p-0020" num="0019">The system may further comprise a fiber bundle. The fiber bundle may comprise a central fiber having one end connected to the light source, and N layers of fibers surrounding the central fiber. The first layer of fibers may be the innermost layer, the Nth layer of fibers is the outermost layer, and N&#x2265;2. The first layer of fibers may include M fibers, and each of the M fibers in the first layer of fibers may have one end connected to the light source. The Nth layer of fibers may comprise more than M fibers, and M fibers in the Nth layer of fibers may have one end connected the light source;</p><p id="p-0021" num="0020">The system may further comprise a camera configured to capture an image set. The image set may include images corresponding to each fiber connected to the light source.</p><p id="p-0022" num="0021">The system may further comprise a processor in electronic communication with the camera. The processor may be configured to determine a centroid of each image in the image set to produce a centroid map. The processor may determine an intensity of light of each pixel of each image in the image set. When one pixel is determined to have a highest intensity of the pixels in one image, the (x, y) location of the pixel may be determined as the centroid of the image. When more than one pixel is determined to have a highest intensity of the pixels in one image, the centroid of the image may be determined based on the (x, y) locations of each of the pixels having the highest intensity.</p><p id="p-0023" num="0022">The processor may be further configured to generate a fiber location map comprising fiber locations of all fibers in the fiber bundle based on the centroid map. The processor may be configured to determine pitch and rotation of the centroid of each image in the image set based on the centroid map. The processor may be further configured to determine fiber locations of remaining fibers in the Nth layer of the fiber bundle based on the pitch and rotation. The processor may be further configured to generate a fiber location map comprising the centroids and the fiber locations of the remaining fibers in the Nth layer of the fiber bundle.</p><p id="p-0024" num="0023">According to an embodiment of the present disclosure, the processor may be further configured to determine fiber locations of all fibers between the first layer of fibers and the Nth layer of fibers in the fiber bundle based on the pitch and rotation. The processor may be further configured to generate the fiber location map comprising the centroids, the fiber locations of the remaining fibers in the Nth layer of the fiber bundle, and the fiber locations of all fibers between the first layer of fibers and the Nth layer of fibers in the fiber bundle.</p><p id="p-0025" num="0024">According to an embodiment of the present disclosure, only the central fiber, M fibers in the first layer, and M fibers in the Nth layer may be connected to the light source.</p><p id="p-0026" num="0025">According to an embodiment of the present disclosure, the N layers of fibers may surround the central fiber in a polygon shape, and the M fibers in the Nth layer of fibers may correspond to corners of the polygon shape. The N layers of fibers may surround the central fiber in a hexagon shape, and the M fibers in the Nth layer may correspond to corners of the hexagon shape.</p><p id="p-0027" num="0026">According to an embodiment of the present disclosure, the fiber bundle may comprise more than 300 fibers.</p><p id="p-0028" num="0027">According to an embodiment of the present disclosure, the processor may be further configured to calibrate the multi-beam system based on the fiber location map. The processor may be further configured to receive an image from a beam source having a multi-beam array. The processor may be further configured to overlay the fiber location map on the image from the beam source. The processor may be further configured to align centers of the fiber location map and the image from the beam source to determine error, wherein the error comprises shift, rotation, orthogonality, aspect ratio, magnification, or astigmatism. The processor may be further configured to perform linear distortion correction based on the error.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">DESCRIPTION OF THE DRAWINGS</heading><p id="p-0029" num="0028">For a fuller understanding of the nature and objects of the disclosure, reference should be made to the following detailed description taken in conjunction with the accompanying drawings, in which:</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a flowchart of a method of fiber location mapping in a multi-beam system according to an embodiment of the present disclosure;</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> illustrates an example image of one fiber according to an embodiment of the present disclosure;</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>2</b>B</figref> illustrates an example centroid map according to an embodiment of the present disclosure;</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates an example fiber location map according to an embodiment of the present disclosure;</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates further steps of the method of the present disclosure for calibrating the multi-beam system;</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>5</b>A</figref> is a schematic of a multi-beam system according to an embodiment of the present disclosure; and</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>5</b>B</figref> is a schematic cross-sectional view of a fiber bundle according to an embodiment of the present disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE DISCLOSURE</heading><p id="p-0037" num="0036">Although claimed subject matter will be described in terms of certain embodiments, other embodiments, including embodiments that do not provide all of the benefits and features set forth herein, are also within the scope of this disclosure. Various structural, logical, process step, and electronic changes may be made without departing from the scope of the disclosure. Accordingly, the scope of the disclosure is defined only by reference to the appended claims.</p><p id="p-0038" num="0037">An embodiment of the present disclosure provides a method of fiber location mapping in a multi-beam system. As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the method may comprise the following steps.</p><p id="p-0039" num="0038">At step <b>101</b>, light is emitted from a light source. The light source may be an LED light source. The light may be directed toward a camera. The camera may be a charge-coupled device (CCD) camera.</p><p id="p-0040" num="0039">At step <b>102</b>, a fiber bundle is provided. The fiber bundle may comprise a plurality of fibers extending parallel to one another. The fibers may be silica fibers. The diameter of each fiber may vary, based on the wavelengths of light transmissible by the fibers. The plurality of fibers may have the same diameter. The plurality of fibers may be held together glue or a frame to form the fiber bundle. The fiber bundle may comprise a central fiber. The central fiber may be arranged centrally in the fiber bundle, surrounded by the other fibers in the fiber bundle. In some embodiments, more than one fiber may be arranged centrally in the fiber bundle, and thus these fibers may be collectively considered as the central fiber. The central fiber may have one end connected to the light source. For example, one end of the central fiber may be disposed on the light source such that the light emitted from the light source is directed through the central fiber.</p><p id="p-0041" num="0040">The fiber bundle may further comprise N layers of fibers. The N layers of fibers may surround the central fiber. In the N layers of fibers, a first layer of fibers may be defined as the innermost of the N layers. For example, the first layer may be closest to the central fiber, and may directly surround the central fiber. In the N layers of fibers, an Nth layer of fibers may be defined as the outermost of the N layers. For example, the Nth layer of fibers may be farthest from the central fiber, and may define the outer bounds of the fiber bundle. In the N layers of fibers, N may be greater than or equal to 2. For example, when N=2, the Nth layer of fibers may be the second layer of fibers, and may directly surround the first layer of fibers. In another example, when N=3, the Nth layer of fibers may be the third layer of fibers, and a second layer of fibers may be disposed between the first layer of fibers and the Nth layer of fibers. It can be appreciated that N may be any number greater than 2, and for each increasing number N, additional layers of fibers are provided between the first layer and the Nth layer.</p><p id="p-0042" num="0041">The first layer of fibers may include M fibers. M may be greater than or equal to 4. According to a particular embodiment of the present disclosure, M=6. Each of the M fibers in the first layer of fibers may have one end connected to the light source. For example, one end of each of the M fibers in the first layer may be disposed on the light source such that the light emitted from the light source may be directed through each of the M fibers in the first layer. The Nth layer of fiber may comprise more than M fibers. For example, when N=2 and M=6, the Nth layer of fibers may comprise 12 fibers. When N=3 and M=6, the Nth layer of fibers may comprise 18 fibers. M fibers in the Nth layer of fibers may have one end connected the light source. For example, one end of each of the M fibers in the Nth layer may be disposed on the light source such that the light emitted from the light source may be directed through each of the M fibers in the Nth layer.</p><p id="p-0043" num="0042">According to an embodiment of the present disclosure, only the central fiber, the M fibers in the first layer, and the M fibers in the Nth layer may be connected to the light source. In other words, the number of fibers connected to the light source for any given fiber bundle may be equal to 2M+1. Thus, the remaining fibers in the Nth layer and all fibers in the layers between the first layer and the Nth layer may not be connected to the light source. While more fibers may be connected to the light source, it can be appreciated that minimizing the number of fibers connected to the light source may simplify the system and reduce computational complexity. Each of the fibers connected to the light source may be connected to the light source by a separate connector.</p><p id="p-0044" num="0043">According to an embodiment of the present disclosure, the N layers of fibers may surround the central fiber in a polygon shape. The polygon shape may be a regular polygon shape, meaning that all angles and sides of the polygon may be equal. For example, the polygon shape may be a triangle, square, pentagon, hexagon, heptagon, octagon, or a polygon with any number of sides. The number of M fibers in the first layer of fibers may correspond to the number of sides of the polygon shape. For example, when M=6, the polygon shape may be a hexagon. The M fibers in the Nth layer of fibers may correspond to corners of the polygon shape. For example, the N layers of fibers may surround the central fiber in a hexagon shape, and the M fibers in the Nth layer may correspond to corners of the hexagon shape.</p><p id="p-0045" num="0044">As described above, the number of fibers in the fiber bundle may depend on the number of layers N and the number of fibers in the first layer M. Thus, the fiber bundle may comprise hundreds of fibers, as the number of layers of fibers N surrounding the central fiber increases. For example, the fiber bundle may comprise more than 300 fibers. It can be appreciated that while the fiber bundle may comprise hundreds of fibers, the number of fibers connected to the light source only depends on the M number of fibers in the first layer. For example, when M=6, 13 fibers may be connected to the light source regardless of the number of layers of fibers N or total number of fibers in the fiber bundle.</p><p id="p-0046" num="0045">At step <b>103</b>, an image set is captured using the camera. The image set may include images corresponding to each fiber connected to the light source. For example, an image may be captured corresponding to the light directed through the central fiber, the M fibers in the first layer, and the M fibers in the Nth layer. In a particular embodiment where M=6, a total of 13 images may be captured. An example image is shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>.</p><p id="p-0047" num="0046">At step <b>104</b>, a centroid of each image in the image set is determined using a processor, to produce a centroid map. The centroid map may plot the (x, y) locations of each centroid on a graph, for example, as shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>. The centroid of each image may be determined by image processing. For example, the processor may determine the intensity of the light in each pixel of each image. The processor may perform filtering or smoothing operations to the image to remove noise before processing the image. If a pixel is determined to have a highest/peak intensity, the (x, y) location of this pixel may be determined as the centroid C of the image. If more than one pixel k is determined to have a highest/peak intensity, the centroid C may be determined based on the (x, y) locations of each pixel k. For example, the centroid C may be determined by the following equation:</p><p id="p-0048" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"> <mrow>  <mi>C</mi>  <mo>=</mo>  <mrow>   <mo>(</mo>   <mrow>    <mfrac>     <mrow>      <msub>       <mi>x</mi>       <mn>1</mn>      </msub>      <mo>+</mo>      <mo>&#x2026;</mo>      <mo>+</mo>      <msub>       <mi>x</mi>       <mi>k</mi>      </msub>     </mrow>     <mi>k</mi>    </mfrac>    <mo>,</mo>    <mfrac>     <mrow>      <msub>       <mi>y</mi>       <mn>1</mn>      </msub>      <mo>+</mo>      <mo>&#x2026;</mo>      <mo>+</mo>      <msub>       <mi>y</mi>       <mi>k</mi>      </msub>     </mrow>     <mi>k</mi>    </mfrac>   </mrow>   <mo>)</mo>  </mrow> </mrow></math></maths></p><p id="p-0049" num="0047">If more than one adjacent pixels have the highest/peak intensity, then the (x, y) location of a center pixel of this group of pixels can be determined as the centroid C of the image.</p><p id="p-0050" num="0048">At step <b>105</b>, a fiber location map is generated using the processor. The fiber location map may comprise fiber locations of all fibers in the fiber bundle based on the centroid map. For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the fiber location map may plot the (x, y) locations of all fibers in the fiber bundle based on the (x, y) locations of each centroid on the graph. In <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the locations of the fibers from the centroid map (i.e., the locations of the central fiber, the M fibers in the first layer, and M fibers in the Nth layer) are shown in solid lines, and the locations of all other fibers (i.e., the remaining fibers in the Nth layer and the fibers in the layers between the first layer and Nth layer) are shown in dotted lines, and can be determined based on the design of the fiber bundle.</p><p id="p-0051" num="0049">According to an embodiment of the present disclosure, step <b>105</b> may comprise the following steps. Pitch and rotation of the centroid of each image in the image set may be determined based on the centroid map. The pitch and rotation of the centroid of each image may correspond to a difference between the determined centroid location and an expected location of each fiber. For example, the pitch may be calculated based on the distance between the (x, y) locations of the central fiber and the fibers in the first layer. The rotation may be determined based on the angle of a line extending from the central fiber to a fiber in the first layer. Pitch and rotation also can include comparing between images. It can be appreciated that the centroid location may not be exactly at the expected location due to mechanical tolerance of the light optics. For example, as shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>, the center fiber centroid is calculated as (1018, 1116), while the expected location is (1024, 1024). Fiber locations of remaining fibers in the Nth layer of the fiber bundle may be determined based on the pitch and rotation. As explained above, the Nth layer of fibers may comprise more than M fibers, but the centroids are determined for only the M fibers in the Nth layer connected to the light source. For example, when N=3 and M=6, there may be 12 remaining fibers in the Nth layer of fibers. The fiber locations of these fibers may be determined based on the pitch and rotation. A fiber location map may be generated, comprising the centroids and the fiber locations of the remaining fibers in the Nth layer of the fiber bundle. For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the fiber location map may plot the (x, y) locations of the remaining fibers in the Nth layer of fibers based on the (x, y) locations of each centroid on the graph.</p><p id="p-0052" num="0050">According to an embodiment of the present disclosure, step <b>105</b> may further comprise the following additional steps. Fiber locations of all fibers between the first layer of fibers and the Nth layer of fibers in the fiber bundle may be determined based on the pitch and rotation. As explained above, when N&#x3e;2, there may be one or more layers of fibers between the first layer of fibers and the Nth layer of fibers. The fiber locations of these fibers may be determined based on the pitch and rotation. The fiber location map may be generated, comprising the centroids, the fiber locations of the remaining fibers in the Nth layer of the fiber bundle, and the fiber locations of all fibers between the first layer of fibers and the Nth layer of fibers in the fiber bundle. For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the fiber location map may plot the (x, y) locations of the fibers between the first layer of fibers and the Nth layer of fibers based on the (x, y) locations of each centroid on the graph and the design of the fiber bundle in terms of N and M.</p><p id="p-0053" num="0051">According to an embodiment of the present disclosure, the method <b>100</b> may further comprise calibrating the multi-beam system based on the fiber location map <b>106</b>. Calibrating the multi-beam system may comprise the following steps, shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>.</p><p id="p-0054" num="0052">At step <b>107</b>, the processor may receive an image from the tool having error. The error may comprise shift (x/y deflection), ROAM (rotation, orthogonality, aspect ratio, and/or magnification), or astigmatism (shape distortion). Linear distortion correction may be performed based on the error. A deflector in the system can be used to correct shift error. A lens can be used to correct ROAM error or astigmatism error.</p><p id="p-0055" num="0053">At step <b>108</b>, the fiber location map may be overlaid on the image from the tool, and the centers may be identified.</p><p id="p-0056" num="0054">At step <b>109</b> the centers of the fiber location map and the image from the tool may be aligned, the shift, ROAM, and/or astigmatism can be determined. In other words, the differences between the fiber location map and the image from the tool may be quantified as shift, ROAM, and/or astigmatism.</p><p id="p-0057" num="0055">At step <b>110</b>, the shift, ROAM, and/or astigmatism can be used to perform linear distortion correction, which can calibrate multi-beam system.</p><p id="p-0058" num="0056">With the method <b>100</b> of the present disclosure, a fiber location map may be simply generated, corresponding to the physical locations of each fiber in the fiber bundle. The fiber location map may be used to calibrate and align a multi-beam source to improve accuracy and efficiency of inspection processes.</p><p id="p-0059" num="0057">An embodiment of the present disclosure, shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>, provides an apparatus <b>200</b>. The apparatus <b>200</b> may comprise a light source <b>210</b> configured to emit light. Light from the light source <b>210</b> may be directed toward a camera <b>220</b>. The camera <b>220</b> may be a charge-coupled device (CCD) camera.</p><p id="p-0060" num="0058">The apparatus <b>200</b> may further comprise a fiber bundle <b>230</b>. The fiber bundle <b>230</b> may comprise a plurality of fibers extending parallel to one another. The fibers may be silica fibers. The diameter of each fiber may vary, based on the wavelengths of light transmissible by the fibers. The plurality of fibers may have the same diameter. The plurality of fibers may be held together by glue or a frame to form the fiber bundle <b>230</b>. The fiber bundle <b>230</b> may comprise a central fiber <b>231</b>. The central fiber <b>231</b> may be arranged centrally in the fiber bundle <b>230</b>, surrounded by the other fibers in the fiber bundle <b>230</b>. In some embodiments, more than one fiber may be arranged centrally in the fiber bundle, and thus these fibers may be collectively considered as the central fiber. The central fiber <b>231</b> may have one end connected to the light source <b>210</b>. For example, one end of the central fiber <b>231</b> may be disposed on the light source <b>210</b> such that the light emitted from the light source <b>210</b> is directed through the central fiber <b>231</b>.</p><p id="p-0061" num="0059">The fiber bundle <b>230</b> may further comprise N layers of fibers surrounding the central fiber <b>231</b>. In the N layers of fibers, a first layer of fibers <b>232</b> may be defined as the innermost of the N layers. For example, the first layer <b>232</b> may be closest to the central fiber <b>231</b>, and may directly surround the central fiber <b>231</b>. In the N layer of fibers, an Nth layer of fibers <b>234</b> may be defined as the outermost of the N layers. For example, the Nth layer of fibers <b>234</b> may be farthest from the central fiber <b>231</b>, and may define the outer bounds of the fiber bundle <b>230</b>. In the N layers of fibers, N may be greater than or equal to 2. For example, when N=2, the Nth layer of fibers <b>234</b> may be the second layer of fibers, and may directly surround the first layer of fibers <b>232</b>. In another example shown in <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, when N=3, the Nth layer of fibers <b>234</b> may be the third layer of fibers, and a second layer of fibers <b>233</b> may be disposed between the first layer of fibers <b>232</b> and the Nth layer of fibers <b>234</b>. It can be appreciated that N may be any number greater than 2, and for each increasing number N, additional layers of fibers <b>233</b> are provided between the first layer of fibers <b>232</b> and the Nth layer of fibers <b>234</b>.</p><p id="p-0062" num="0060">The first layer of fibers <b>232</b> may include M fibers. M may be greater than or equal to 4. According to a particular embodiment of the present disclosure shown in <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, M=6. Each of the M fibers in the first layer of fibers <b>232</b> may have one end connected to the light source <b>210</b>. For example, one end of each of the M fibers in the first layer of fibers <b>232</b> may be disposed on the light source <b>210</b> such that the light emitted from the light source <b>210</b> may be directed through each of the M fibers in the first layer of fibers <b>232</b>. The Nth layer of fibers <b>234</b> may comprise more than M fibers. For example, when N=2 and M=6, the Nth layer of fibers <b>234</b> may comprise 12 fibers. When N=3 and M=6, as shown in <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the Nth layer of fibers <b>234</b> may comprise 18 fibers. M fibers in the Nth layer of fibers <b>234</b> may have one end connected the light source <b>210</b>. For example, one end of each of the M fibers in the Nth layer of fibers <b>234</b> may be disposed on the light source <b>210</b> such that the light emitted from the light source <b>210</b> may be directed through each of the M fibers in the Nth layer of fibers <b>234</b>.</p><p id="p-0063" num="0061">According to an embodiment of the present disclosure, only the central fiber <b>231</b>, the M fibers in the first layer <b>232</b>, and the M fibers in the Nth layer <b>234</b> may be connected to the light source <b>210</b>. In other words, the number of fibers connected to the light source <b>210</b> for any given fiber bundle <b>230</b> may be equal to 2M+1. Thus, the remaining fibers in the Nth layer <b>234</b> and all fibers in the layers between the first layer of fibers <b>232</b> and the Nth layer of fibers <b>234</b> may not be connected to the light source <b>210</b>. For example, as shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>, fibers in the second layer of fibers <b>233</b> may not be connected to the light source <b>210</b>. While more fibers may be connected to the light source <b>210</b>, it can be appreciated that minimizing the number of fibers connected to the light source may simplify the system and reduce computational complexity. Each of the fibers connected to the light source <b>210</b> may be connected to the light source <b>210</b> by a separate connector <b>211</b>.</p><p id="p-0064" num="0062">According to an embodiment of the present disclosure, the N layers of fibers <b>234</b> may surround the central fiber <b>231</b> in a polygon shape. The polygon shape may be a regular polygon shape, meaning that all angles and sides of the polygon may be equal. For example, the polygon shape may be a triangle, square, pentagon, hexagon, heptagon, octagon, or a polygon with any number of sides. The number of M fibers in the first layer of fibers <b>232</b> may correspond to the number of sides of the polygon shape. For example, when M=6, the polygon shape may be a hexagon. The M fibers in the Nth layer <b>234</b> of fibers may correspond to corners of the polygon shape. For example, the N layers of fibers <b>234</b> may surround the central fiber <b>231</b> in a hexagon shape, and the M fibers in the Nth layer of fibers <b>234</b> may correspond to corners of the hexagon shape.</p><p id="p-0065" num="0063">As described above, the number of fibers in the fiber bundle may depend on the number of layers N and the number of fibers in the first layer M. Thus, the fiber bundle <b>230</b> may comprise hundreds of fibers, as the number of layers of fibers N surrounding the central fiber <b>231</b> increases. For example, the fiber bundle <b>230</b> may comprise more than 300 fibers. It can be appreciated that while the fiber bundle <b>230</b> may comprise hundreds of fibers, the number of fibers connected to the light source <b>210</b> only depends on the M number of fibers in the first layer <b>232</b>. For example, when M=6, 13 fibers may be connected to the light source <b>210</b> regardless of the number of layers of fibers N or total number of fibers in the fiber bundle <b>230</b>.</p><p id="p-0066" num="0064">The apparatus <b>200</b> may further comprise a camera <b>220</b>. The camera <b>220</b> may be configured to capture an image set. The image set may include images corresponding to each fiber connected to the light source <b>210</b>. For example, an image may be captured corresponding to the light directed through the central fiber <b>231</b>, the M fibers in the first layer of fibers <b>232</b>, and the M fibers in the Nth layer of fibers <b>234</b>. In a particular embodiment where M=6, a total of 13 images may be captured by the camera <b>220</b>. An example image is shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>.</p><p id="p-0067" num="0065">The apparatus <b>200</b> may further comprise a processor <b>240</b>. The processor <b>240</b> may include a microprocessor, a microcontroller, or other devices.</p><p id="p-0068" num="0066">The processor <b>240</b> may be coupled to the components of the apparatus <b>200</b> in any suitable manner (e.g., via one or more transmission media, which may include wired and/or wireless transmission media) such that the processor <b>240</b> can receive output. The processor <b>240</b> may be configured to perform a number of functions using the output. The wafer inspection tool can receive instructions or other information from the processor <b>240</b>. The processor <b>240</b> optionally may be in electronic communication with another wafer inspection tool, a wafer metrology tool, or a wafer review tool (not illustrated) to receive additional information or send instructions.</p><p id="p-0069" num="0067">The processor <b>240</b> is in electronic communication with the wafer inspection tool, such as the camera <b>220</b>. The processor <b>240</b> may be configured to process images generated using measurements from the camera <b>220</b>. For example, the processor may perform embodiments of the method <b>100</b>.</p><p id="p-0070" num="0068">The processor <b>240</b> may be part of various systems, including a personal computer system, image computer, mainframe computer system, workstation, network appliance, internet appliance, or other device. The subsystem(s) or system(s) may also include any suitable processor known in the art, such as a parallel processor. In addition, the subsystem(s) or system(s) may include a platform with high-speed processing and software, either as a standalone or a networked tool.</p><p id="p-0071" num="0069">The processor <b>240</b> may be disposed in or otherwise part of the apparatus <b>200</b> or another device. In an example, the processor <b>240</b> and may be part of a standalone control unit or in a centralized quality control unit. Multiple processors <b>240</b> may be used, defining multiple subsystems of the apparatus <b>200</b>.</p><p id="p-0072" num="0070">The processor <b>240</b> may be implemented in practice by any combination of hardware, software, and firmware. Also, its functions as described herein may be performed by one unit, or divided up among different components, each of which may be implemented in turn by any combination of hardware, software and firmware. Program code or instructions for the processor <b>240</b> to implement various methods and functions may be stored in readable storage media, such as a memory.</p><p id="p-0073" num="0071">If the apparatus <b>200</b> includes more than one subsystem, then the different processors <b>240</b> may be coupled to each other such that images, data, information, instructions, etc. can be sent between the subsystems. For example, one subsystem may be coupled to additional subsystem(s) by any suitable transmission media, which may include any suitable wired and/or wireless transmission media known in the art. Two or more of such subsystems may also be effectively coupled by a shared computer-readable storage medium (not shown).</p><p id="p-0074" num="0072">The processor <b>240</b> may be configured to perform a number of functions using the output of the apparatus <b>200</b> or other output. For instance, the processor <b>240</b> may be configured to send the output to an electronic data storage unit or another storage medium. The processor <b>240</b> may be further configured as described herein.</p><p id="p-0075" num="0073">The processor <b>240</b> may be part of a defect review system, an inspection system, a metrology system, or some other type of system. Thus, the embodiments disclosed herein describe some configurations that can be tailored in a number of manners for systems having different capabilities that are more or less suitable for different applications.</p><p id="p-0076" num="0074">The processor <b>240</b> may be configured according to any of the embodiments described herein. The processor <b>240</b> also may be configured to perform other functions or additional steps using the output of the apparatus <b>200</b> or using images or data from other sources.</p><p id="p-0077" num="0075">The processor <b>240</b> may be communicatively coupled to any of the various components or sub-systems of apparatus <b>200</b> in any manner known in the art. Moreover, the processor <b>240</b> may be configured to receive and/or acquire data or information from other systems (e.g., inspection results from an inspection system such as a review tool, a remote database including design data and the like) by a transmission medium that may include wired and/or wireless portions. In this manner, the transmission medium may serve as a data link between the processor <b>240</b> and other subsystems of the apparatus <b>200</b> or systems external to apparatus <b>200</b>. Various steps, functions, and/or operations of apparatus <b>200</b> and the methods disclosed herein are carried out by one or more of the following: electronic circuits, logic gates, multiplexers, programmable logic devices, ASICs, analog or digital controls/switches, microcontrollers, or computing systems. Program instructions implementing methods such as those described herein may be transmitted over or stored on carrier medium. The carrier medium may include a storage medium such as a read-only memory, a random access memory, a magnetic or optical disk, a non-volatile memory, a solid state memory, a magnetic tape, and the like. A carrier medium may include a transmission medium such as a wire, cable, or wireless transmission link. For instance, the various steps described throughout the present disclosure may be carried out by a single processor <b>240</b> (or computer subsystem) or, alternatively, multiple processors <b>240</b> (or multiple computer subsystems). Moreover, different sub-systems of the apparatus <b>200</b> may include one or more computing or logic systems. Therefore, the above description should not be interpreted as a limitation on the present disclosure but merely an illustration.</p><p id="p-0078" num="0076">The processor <b>240</b> may be configured to determine a centroid of each image in the image set to produce a centroid map. The centroid map may plot the (x, y) locations of each centroid on a graph, for example, as shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>. The centroid of each image may be determined by image processing. For example, the processor <b>240</b> may determine the intensity of the light in each pixel of each image. The processor <b>240</b> may perform filtering or smoothing operations to the image to remove noise before processing the image. If a pixel is determined to have a highest/peak intensity, the (x, y) location of this pixel may be determined as the centroid C of the image. If more than one pixel k is determined to have a highest/peak intensity, the centroid C may be determined based on the (x, y) locations of each pixel k. For example, the centroid C may be determined by the following equation:</p><p id="p-0079" num="0000"><maths id="MATH-US-00002" num="00002"><math overflow="scroll"> <mrow>  <mi>C</mi>  <mo>=</mo>  <mrow>   <mo>(</mo>   <mrow>    <mfrac>     <mrow>      <msub>       <mi>x</mi>       <mn>1</mn>      </msub>      <mo>+</mo>      <mo>&#x2026;</mo>      <mo>+</mo>      <msub>       <mi>x</mi>       <mi>k</mi>      </msub>     </mrow>     <mi>k</mi>    </mfrac>    <mo>,</mo>    <mfrac>     <mrow>      <msub>       <mi>y</mi>       <mn>1</mn>      </msub>      <mo>+</mo>      <mo>&#x2026;</mo>      <mo>+</mo>      <msub>       <mi>y</mi>       <mi>k</mi>      </msub>     </mrow>     <mi>k</mi>    </mfrac>   </mrow>   <mo>)</mo>  </mrow> </mrow></math></maths></p><p id="p-0080" num="0077">If more than one adjacent pixels have the highest/peak intensity, then the (x, y) location of a center pixel of this group of pixels can be determined as the centroid C of the image.</p><p id="p-0081" num="0078">The processor <b>240</b> may be further configured to generate a fiber location map comprising fiber locations of all fibers in the fiber bundle <b>230</b> based on the centroid map. For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the fiber location map may plot the (x, y) locations of all fibers in the fiber bundle <b>230</b> based on the (x, y) locations of each centroid on the graph. In <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the locations of the fibers from the centroid map (i.e., the locations of the central fiber <b>231</b>, the M fibers in the first layer <b>232</b>, and M fibers in the Nth layer <b>234</b>) are shown in solid lines, and the locations of all other fibers (i.e., the remaining fibers in the Nth layer <b>234</b> and the fibers in the layers between the first layer and Nth layer) are shown in dotted lines, and can be determined based on the design of the fiber bundle <b>230</b>.</p><p id="p-0082" num="0079">According to an embodiment of the present disclosure, the processor <b>240</b> may be further configured to determine pitch and rotation of the centroid of each image in the image set based on the centroid map. The pitch and rotation of the centroid of each image may correspond to a difference between the determined centroid location and an expected location of each fiber in the fiber bundle <b>230</b>. For example, the pitch may be calculated based on the distance between the (x, y) locations of the central fiber <b>231</b> and the fibers in the first layer <b>232</b>. The rotation may be determined based on the angle of a line extending from the central fiber <b>231</b> to a fiber in the first layer <b>232</b>. It can be appreciated that the centroid location may not be exactly at the expected location due to mechanical tolerance of the light optics. For example, as shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>, the center fiber <b>231</b> has a centroid calculated as (1018, 1116), while the expected location is (1024, 1024).</p><p id="p-0083" num="0080">The processor <b>240</b> may be further configured to determine fiber locations of remaining fibers in the Nth layer of fibers <b>234</b> in the fiber bundle <b>230</b> based on the pitch and rotation. As explained above, the Nth layer of fibers <b>234</b> may comprise more than M fibers, but the centroids are determined for only the M fibers in the Nth layer connected to the light source <b>210</b>. For example, when N=3 and M=6, there may be 12 remaining fibers in the Nth layer of fibers <b>234</b>. The fiber locations of these fibers may be determined based on the pitch and rotation.</p><p id="p-0084" num="0081">The processor <b>240</b> may be further configured to generate a fiber location map comprising the fiber locations of the remaining fibers in the Nth layer of fibers <b>234</b> in the fiber bundle <b>230</b>. For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the fiber location map may plot the (x, y) locations of the remaining fibers in the Nth layer of fibers <b>234</b> based on the (x, y) locations of each centroid on the graph and the design of the fiber bundle in terms of N and M.</p><p id="p-0085" num="0082">According to an embodiment of the present disclosure, the processor <b>240</b> may be further configured to determine fiber locations of all fibers between the first layer of fibers <b>232</b> and the Nth layer of fibers <b>234</b> in the fiber bundle <b>230</b> based on the pitch and rotation. As explained above, when N&#x3e;2, there may be one or more layers of fibers <b>233</b> between the first layer of fibers <b>232</b> and the Nth layer of fibers <b>234</b>. The fiber locations of these fibers <b>233</b> may be determined based on the pitch and rotation.</p><p id="p-0086" num="0083">The processor <b>240</b> may be further configured to generate the fiber location map comprising the centroids, the fiber locations of the remaining fibers in the Nth layer of fibers <b>234</b> in the fiber bundle <b>230</b>, and the fiber locations of all fibers between the first layer of fibers <b>232</b> and the Nth layer of fibers <b>234</b> in the fiber bundle <b>230</b>. Accordingly, the fiber location map may comprise locations of all fibers <b>231</b>, <b>232</b>, <b>233</b>, <b>234</b> in the fiber bundle <b>230</b>.</p><p id="p-0087" num="0084">According to an embodiment of the present disclosure, the processor <b>240</b> may be further configured to calibrate the multi-beam system based on the fiber location map. The processor <b>240</b> may be configured to overlay the fiber location map on an image from a beam source <b>250</b> having a multi-beam array. The processor <b>240</b> may be configured to align the fiber location map and the image from the beam source to determine error. The error may comprise shift (x/y deflection), ROAM (rotation, orthogonality, aspect ratio, magnification), or astigmatism (shape distortion). The differences between the fiber location map and the image from the tool may be quantified as shift, ROAM, and/or astigmatism. The processor <b>240</b> may be configured to perform linear distortion correction based on the error to calibrate the beam source <b>250</b>. The apparatus <b>200</b> also can include various lenses, apertures, deflectors, or other components. A deflector can be used to correct shift error. A lens can be used to correct ROAM error or astigmatism error.</p><p id="p-0088" num="0085">With the apparatus <b>200</b> of the present disclosure, a fiber location map may be simply generated, corresponding to the physical locations of each fiber in the fiber bundle <b>230</b>. The fiber location map may be used to calibrate and align a multi-beam source to improve accuracy and efficiency of inspection processes.</p><p id="p-0089" num="0086">Although the present disclosure has been described with respect to one or more particular embodiments, it will be understood that other embodiments of the present disclosure may be made without departing from the scope of the present disclosure. Hence, the present disclosure is deemed limited only by the appended claims and the reasonable interpretation thereof.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001" nb-file="US20230003615A1-20230105-M00001.NB"><img id="EMI-M00001" he="4.91mm" wi="76.20mm" file="US20230003615A1-20230105-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00002" nb-file="US20230003615A1-20230105-M00002.NB"><img id="EMI-M00002" he="4.91mm" wi="76.20mm" file="US20230003615A1-20230105-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method of fiber location mapping in a multi-beam system, the method comprising:<claim-text>emitting light from a light source, the light being directed toward a camera;</claim-text><claim-text>providing a fiber bundle, comprising:<claim-text>a central fiber having one end connected to the light source; and</claim-text><claim-text>N layers of fibers surrounding the central fiber, wherein a first layer of fibers is innermost of the N layers, an Nth layer of fibers is outermost of the N layers, and N&#x2265;2;</claim-text><claim-text>wherein the first layer of fibers includes M fibers, each of the M fibers in the first layer of fibers has one end connected to the light source, the Nth layer of fiber comprises more than M fibers, and M fibers in the Nth layer of fibers have one end connected the light source;</claim-text></claim-text><claim-text>capturing an image set using the camera, the image set including images corresponding to each fiber connected to the light source;</claim-text><claim-text>determining a centroid of each image in the image set to produce a centroid map using a processor; and</claim-text><claim-text>generating, using the processor, a fiber location map comprising fiber locations of all fibers in the fiber bundle based on the centroid map.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining a centroid of each image in the image set comprises:<claim-text>determining an intensity of light of each pixel of each image in the image set;</claim-text><claim-text>when one pixel is determined to have a highest intensity of the pixels in one image, determining the (x, y) location of the pixel as the centroid of the image; and</claim-text><claim-text>when more than one pixel is determined to have a highest intensity of the pixels in one image, determining the centroid of the image based on the (x, y) locations of each of the pixels having the highest intensity.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein generating a fiber location map comprising fiber locations of all fibers in the fiber bundle based on the centroid map comprises:<claim-text>determining pitch and rotation of the centroid of each image in the image set based on the centroid map;</claim-text><claim-text>determining fiber locations of remaining fibers in the Nth layer of the fiber bundle based on the pitch and rotation; and</claim-text><claim-text>generating a fiber location map comprising the centroids and the fiber locations of the remaining fibers in the Nth layer of the fiber bundle.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein generating a fiber location map comprising fiber locations of all fibers in the fiber bundle based on the centroid map further comprises:<claim-text>determining fiber locations of all fibers between the first layer of fibers and the Nth layer of fibers in the fiber bundle based on the pitch and rotation; and</claim-text><claim-text>generating the fiber location map comprising the centroids, the fiber locations of the remaining fibers in the Nth layer of the fiber bundle, and the fiber locations of all fibers between the first layer of fibers and the Nth layer of fibers in the fiber bundle.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein only the central fiber, M fibers in the first layer, and M fibers in the Nth layer are connected to the light source.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the N layers of fibers surround the central fiber in a polygon shape, and the M fibers in the Nth layer of fibers correspond to corners of the polygon shape.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the N layers of fibers surround the central fiber in a hexagon shape, and the M fibers in the Nth layer correspond to corners of the hexagon shape.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the fiber bundle comprises more than 300 fibers.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>calibrating the multi-beam system based on the fiber location map.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein calibrating the multi-beam system based on the fiber location map comprises:<claim-text>receiving an image from a beam source having a multi-beam array;</claim-text><claim-text>overlaying the fiber location map on the image from the beam source;</claim-text><claim-text>aligning centers of the fiber location map and the image from the beam source to determine error, wherein the error comprises shift, rotation, orthogonality, aspect ratio, magnification, or astigmatism; and</claim-text><claim-text>performing linear distortion correction based on the error.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A multi-beam system comprising:<claim-text>a light source configured to emit light;</claim-text><claim-text>a fiber bundle, comprising:<claim-text>a central fiber having one end connected to the light source; and</claim-text><claim-text>N layers of fibers surrounding the central fiber, wherein the first layer of fibers is the innermost layer, the Nth layer of fibers is the outermost layer, and N&#x2265;2;</claim-text><claim-text>wherein the first layer of fibers includes M fibers, each of the M fibers in the first layer of fibers has one end connected to the light source, the Nth layer of fibers comprises more than M fibers, and M fibers in the Nth layer of fibers have one end connected the light source;</claim-text></claim-text><claim-text>a camera configured to capture an image set, the image set including images corresponding to each fiber connected to the light source; and</claim-text><claim-text>a processor in electronic communication with the camera that is configured to:<claim-text>determine a centroid of each image in the image set to produce a centroid map; and</claim-text><claim-text>generate a fiber location map comprising fiber locations of all fibers in the fiber bundle based on the centroid map.</claim-text></claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the processor is configured to determine a centroid of each image in the image set by steps of:<claim-text>determining an intensity of light of each pixel of each image in the image set;</claim-text><claim-text>when one pixel is determined to have a highest intensity of the pixels in one image, determining the (x, y) location of the pixel as the centroid of the image; and</claim-text><claim-text>when more than one pixel is determined to have a highest intensity of the pixels in one image, determining the centroid of the image based on the (x, y) locations of each of the pixels having the highest intensity.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the processor is configured to generate a fiber location map comprising fiber locations of all fibers in the fiber bundle based on the centroid map by steps of:<claim-text>determining pitch and rotation of the centroid of each image in the image set based on the centroid map;</claim-text><claim-text>determining fiber locations of remaining fibers in the Nth layer of the fiber bundle based on the pitch and rotation; and</claim-text><claim-text>generating a fiber location map comprising the fiber locations of the remaining fibers in the Nth layer of the fiber bundle.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the processor is configured to generate a fiber location map comprising fiber locations of all fibers in the fiber bundle based on the centroid map by further steps of:<claim-text>determining fiber locations of all fibers between the first layer of fibers and the Nth layer of fibers in the fiber bundle based on the pitch and rotation; and</claim-text><claim-text>generating the fiber location map comprising the centroids, the fiber locations of the remaining fibers in the Nth layer of the fiber bundle, and the fiber locations of all fibers between the first layer of fibers and the Nth layer of fibers in the fiber bundle.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein only the central fiber, the M fibers in the first layer of fibers, and the M fibers in the Nth layer of fibers are connected to the light source.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the N layers of fibers surround the central fiber in a polygon shape, and the M fibers in the Nth layer of fibers correspond to corners of the polygon shape.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the N layers of fibers surround the central fiber in a hexagon shape, and the M fibers in the Nth layer correspond to corners of the hexagon shape.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the fiber bundle comprises more than 300 fibers.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the processor is further configured to:<claim-text>calibrate the multi-beam system based on the fiber location map.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The system of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the processor is configured to calibrate the multi-beam system based on the fiber location map by steps of:<claim-text>receiving an image from a beam source having a multi-beam array;</claim-text><claim-text>overlaying the fiber location map on the image from the beam source;</claim-text><claim-text>aligning centers of the fiber location map and the image from the beam source to determine error, wherein the error comprises shift, rotation, orthogonality, aspect ratio, magnification, or astigmatism; and</claim-text><claim-text>performing linear distortion correction based on the error.</claim-text></claim-text></claim></claims></us-patent-application>