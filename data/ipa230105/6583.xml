<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006584A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006584</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17782737</doc-number><date>20200907</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2019-221776</doc-number><date>20191209</date></priority-claim><priority-claim sequence="02" kind="national"><country>JP</country><doc-number>2020-012088</doc-number><date>20200129</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>P</subclass><main-group>21</main-group><subgroup>14</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>P</subclass><main-group>27</main-group><subgroup>06</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>R</subclass><main-group>31</main-group><subgroup>34</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>R</subclass><main-group>19</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>P</subclass><main-group>21</main-group><subgroup>14</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>P</subclass><main-group>27</main-group><subgroup>06</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>R</subclass><main-group>31</main-group><subgroup>34</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>R</subclass><main-group>19</main-group><subgroup>0092</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e79">DEMAGNETIZATION DIAGNOSIS DEVICE FOR MOTOR AND DEMAGNETIZATION DIAGNOSIS METHOD FOR MOTOR CONTROL DEVICE</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>MEIDENSHA CORPORATION</orgname><address><city>Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>FUJIMAGARI</last-name><first-name>Hiromu</first-name><address><city>Kiyosu-shi, Aichi</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>MEIDENSHA CORPORATION</orgname><role>03</role><address><city>Tokyo</city><country>JP</country></address></addressbook></assignee></assignees><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/JP2020/033706</doc-number><date>20200907</date></document-id><us-371c12-date><date>20220606</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A pulse voltage generator calculates a corrected pulse voltage application time. The pulse voltage generator also outputs, for the duration of the corrected pulse voltage application time, a voltage vector closest to a rotor phase from among twelve voltage vectors as a voltage vector command. A current detector detects three-phase output currents of a power converter, which are obtained when first to sixth switching elements of the power converter are turned on or off on the basis of the voltage vector command. A three-phase/two-phase converter converts the three-phase output currents to two-phase output currents to output d-axis current. When the d-axis current after the corrected pulse voltage application time has elapsed becomes less than or equal to a demagnetization determination threshold value, a demagnetization determiner determines that demagnetization occurs in a permanent magnet of a rotor of a motor.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="60.11mm" wi="158.75mm" file="US20230006584A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="243.25mm" wi="153.25mm" file="US20230006584A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="227.25mm" wi="169.16mm" file="US20230006584A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="268.48mm" wi="114.38mm" orientation="landscape" file="US20230006584A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="221.23mm" wi="168.83mm" file="US20230006584A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">TECHNICAL FIELD</heading><p id="p-0002" num="0001">The present invention relates to a demagnetization diagnosis device for a motor and a demagnetization diagnosis method for a motor control device.</p><heading id="h-0002" level="1">BACKGROUND ART</heading><p id="p-0003" num="0002"><figref idref="DRAWINGS">FIG. <b>5</b></figref> shows an example of configurations for an in-vehicle motor drive system. Voltage of a battery <b>1</b> is boosted by a booster circuit <b>2</b> and applied to a capacitor C. Then, voltage of capacitor C is converted to alternating-current voltage by an inverter <b>3</b> (i.e., a power converter) and applied to a PM motor <b>4</b>, which rotates PM motor <b>4</b>. As shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, inverter <b>3</b> includes first to sixth switch elements U+, U&#x2212;, V+, V&#x2212;, W+, and W&#x2212; connected to arms of U-phase, V-phase, and W-phase.</p><p id="p-0004" num="0003"><figref idref="DRAWINGS">FIG. <b>7</b></figref> schematically shows configurations of PM motor <b>4</b>. PM motor <b>4</b> includes in its inner side a rotor <b>5</b> composed of a permanent magnet including a north pole and a south pole. Furthermore, PM motor <b>4</b> includes in its outer side a stator including a U-phase winding <b>6</b>U, a V-phase winding <b>6</b>V, and a W-phase winding <b>6</b>W connected to inverter <b>3</b>. Rotor <b>5</b> composed of the permanent magnet rotates in response to magnetic field that is generated inside PM motor <b>4</b> by applying voltage from inverter <b>3</b> to U-phase winding <b>6</b>U, V-phase winding <b>6</b>V, and W-phase winding <b>6</b>W.</p><p id="p-0005" num="0004">The permanent magnet of rotor <b>5</b> may undergo deterioration in magnetic flux (i.e., demagnetization) due to aging. This may prevent PM motor <b>4</b> from being driven at an intended torque. Therefore, the in-vehicle motor drive system requires a function to detect the demagnetization due to aging.</p><p id="p-0006" num="0005">Patent Document 3 discloses a prior art for demagnetization diagnosis. FIG. 7 of Patent Document 3 shows an art for performing the demagnetization diagnosis by estimating a magnetic flux from a current slope when applying a d-axis pulse voltage Vd for a predetermined time period during a stop of a motor.</p><p id="p-0007" num="0006">Furthermore, it is possible to modify Patent Document 3 to yield another art for performing the demagnetization diagnosis based on a value of d-axis current when applying a d-axis pulse voltage Vd for a predetermined time period during a stop of a motor.</p><p id="p-0008" num="0007">However, this modified art is configured to generate the d-axis current value used for the demagnetization diagnosis, based on a voltage vector command shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> in which the voltage vector command has a phase limited to twelve types. This causes an error in d-axis current value for the demagnetization diagnosis depending on conditions of rotor phase position of the permanent magnet, and thereby suppresses the demagnetization diagnosis from being performed with high accuracy.</p><p id="p-0009" num="0008">In view of the foregoing, it is desirable to improve accuracy of demagnetization diagnosis performed by a demagnetization diagnosis device for a motor.</p><heading id="h-0003" level="1">PRIOR ART DOCUMENT(S)</heading><heading id="h-0004" level="1">Patent Document(s)</heading><p id="p-0010" num="0000"><ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0009">Patent Document 1: JP 2011-200019 A</li>    <li id="ul0001-0002" num="0010">Patent Document 2: JP 2008-043153 A</li>    <li id="ul0001-0003" num="0011">Patent Document 3: JP 6158115 B2</li></ul></p><heading id="h-0005" level="1">SUMMARY OF THE INVENTION</heading><heading id="h-0006" level="1">Problem(s) to be Solved by the Invention</heading><p id="p-0011" num="0012">In view of the foregoing conventional problem, according to one aspect of the present invention, a demagnetization diagnosis device for a motor includes a power converter including: a first switch element and a second switch element connected to each other in series between a first end and a second end of a capacitor; a third switch element and a fourth switch element connected to each other in series between the first end and the second end of the capacitor; and a fifth switch element and a sixth switch element connected to each other in series between the first end and the second end of the capacitor; a motor including: a first winding connected to a connection point common between the first switch element and the second switch element; a second winding connected to a connection point common between the third switch element and the fourth switch element; and a third winding connected to a connection point common between the fifth switch element and the sixth switch element; a pulse voltage generator that calculates a corrected pulse voltage application time period by a Mathematical Expression 5 below, and selects a voltage vector nearest to a rotor phase of a rotor of the motor out of voltage vectors V1 to V12 shown in a Table 1 below, and outputs the selected voltage vector as a voltage vector command, for the corrected pulse voltage application time period; a current measurement instrument that measures output currents of three phases of the power converter outputted when the first to sixth switch elements of the power converter are turned ON or OFF in accordance with the Table 1 in response to the voltage vector command; a three-phase/two-phase converter that converts the output currents of the three phases into output currents of two phases, and outputs a d-axis current; and a demagnetization determiner that determines demagnetization as occurring in a permanent magnet of the rotor of the motor, in response to satisfaction of a condition that the d-axis current after passage of the corrected pulse voltage application time period is equal to or less than a demagnetization determination threshold.</p><p id="p-0012" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[Mathematical Expression 5]<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0013" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i>on&#x2032;=<i>T</i>on/cos(&#x394;&#x3b8;)&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?><ul id="ul0002" list-style="none">    <li id="ul0002-0001" num="0000">    <ul id="ul0003" list-style="none">        <li id="ul0003-0001" num="0013">Ton Before-correction pulse voltage application time period (fixed value)</li>        <li id="ul0003-0002" num="0014">Ton&#x2032;: Corrected pulse voltage application time period</li>        <li id="ul0003-0003" num="0015">&#x394;&#x3b8;: Absolute value of difference between current rotor phase &#x3b3; and phase of voltage vector command</li>    </ul>    </li></ul></p><p id="p-0014" num="0000"><tables id="TABLE-US-00001" num="00001"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="1" colwidth="21pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="42pt" align="left"/><colspec colname="4" colwidth="42pt" align="left"/><colspec colname="5" colwidth="42pt" align="left"/><colspec colname="6" colwidth="42pt" align="left"/><colspec colname="7" colwidth="42pt" align="left"/><thead><row><entry namest="1" nameend="7" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row><row><entry/><entry>FIRST</entry><entry>SECOND</entry><entry>THIRD</entry><entry>FOURTH</entry><entry>FIFTH</entry><entry>SIXTH</entry></row><row><entry/><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry></row><row><entry/><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>V1</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V2</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V3</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V4</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V5</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V6</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry>V7</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V8</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V9</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V10</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V11</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V12</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0015" num="0016">According to another aspect of the present invention, a demagnetization diagnosis device for a motor includes: a power converter including: a first switch element and a second switch element connected to each other in series between a first end and a second end of a capacitor; a third switch element and a fourth switch element connected to each other in series between the first end and the second end of the capacitor; and a fifth switch element and a sixth switch element connected to each other in series between the first end and the second end of the capacitor; a motor including: a first winding connected to a connection point common between the first switch element and the second switch element; a second winding connected to a connection point common between the third switch element and the fourth switch element; and a third winding connected to a connection point common between the fifth switch element and the sixth switch element; a pulse voltage generator that calculates a corrected pulse voltage application time period by a Mathematical Expression 6 below, and selects a voltage vector nearest to a rotor phase of a rotor of the motor out of voltage vectors V1 to V12 shown in a Table 1 below, and outputs the selected voltage vector as a voltage vector command, for the corrected pulse voltage application time period; a current measurement instrument that measures output currents of three phases of the power converter outputted when the first to sixth switch elements of the power converter are turned ON or OFF in accordance with the Table 1 in response to the voltage vector command; a three-phase/two-phase converter that converts the output currents of the three phases into output currents of two phases, and outputs a d-axis current and a q-axis current; and a demagnetization determiner that determines demagnetization as occurring in a permanent magnet of the rotor of the motor, in response to satisfaction of a condition that an alternating-current effective value calculated from the d-axis current and the q-axis current after passage of the corrected pulse voltage application time period is equal to or less than a demagnetization determination threshold.</p><p id="p-0016" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mo>[</mo>     <mrow>      <mi>Mathematical</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mi>Expression</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mn>6</mn>     </mrow>     <mo>]</mo>    </mrow>   </mtd>   <mtd>    <mi>&#xf3ba;</mi>   </mtd>  </mtr>  <mtr>   <mtd>    <mrow>     <msup>      <mi>Ton</mi>      <mo>&#x2032;</mo>     </msup>     <mo>=</mo>     <mfrac>      <mi>Ton</mi>      <msqrt>       <mrow>        <mrow>         <msup>          <mi>cos</mi>          <mn>2</mn>         </msup>         <mo>(</mo>         <mrow>          <mi>&#x394;</mi>          <mo>&#x2062;</mo>          <mi>&#x3b8;</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>+</mo>        <msup>         <mrow>          <mo>(</mo>          <mrow>           <mfrac>            <mrow>             <mi>L</mi>             <mo>&#x2062;</mo>             <mi>d</mi>            </mrow>            <mrow>             <mi>L</mi>             <mo>&#x2062;</mo>             <mi>q</mi>            </mrow>           </mfrac>           <mo>*</mo>           <mrow>            <mi>sin</mi>            <mo>&#x2061;</mo>            <mo>(</mo>            <mi>&#x394;&#x3b8;</mi>            <mo>)</mo>           </mrow>          </mrow>          <mo>)</mo>         </mrow>         <mn>2</mn>        </msup>       </mrow>      </msqrt>     </mfrac>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>6</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths><ul id="ul0004" list-style="none">    <li id="ul0004-0001" num="0000">    <ul id="ul0005" list-style="none">        <li id="ul0005-0001" num="0017">Ton: Pulse voltage application time period before correction (fixed value)</li>        <li id="ul0005-0002" num="0018">Ton&#x2032;: Pulse voltage application time period after correction</li>        <li id="ul0005-0003" num="0019">&#x394;&#x3b8;: Absolute value of difference between current rotor phase &#x3b3; and phase of voltage vector command</li>        <li id="ul0005-0004" num="0020">Ld d-axis inductance</li>        <li id="ul0005-0005" num="0021">Lq: q-axis inductance</li>    </ul>    </li></ul></p><p id="p-0017" num="0000"><tables id="TABLE-US-00002" num="00002"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="1" colwidth="21pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="42pt" align="left"/><colspec colname="4" colwidth="42pt" align="left"/><colspec colname="5" colwidth="42pt" align="left"/><colspec colname="6" colwidth="42pt" align="left"/><colspec colname="7" colwidth="42pt" align="left"/><thead><row><entry namest="1" nameend="7" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row><row><entry/><entry>FIRST</entry><entry>SECOND</entry><entry>THIRD</entry><entry>FOURTH</entry><entry>FIFTH</entry><entry>SIXTH</entry></row><row><entry/><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry></row><row><entry/><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>V1</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V2</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V3</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V4</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V5</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V6</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry>V7</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V8</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V9</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V10</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V11</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V12</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0018" num="0022">According to still another aspect of the present invention, the pulse voltage generator further corrects the corrected pulse voltage application time period, by multiplying the corrected pulse voltage application time period by a first value, where the first value is obtained by dividing a direct-current voltage reference value by a direct-current voltage measured value.</p><p id="p-0019" num="0023">According to still another aspect of the present invention, a demagnetization diagnosis device for a motor includes: a power converter including: a first switch element and a second switch element connected to each other in series between a first end and a second end of a capacitor; a third switch element and a fourth switch element connected to each other in series between the first end and the second end of the capacitor; and a fifth switch element and a sixth switch element connected to each other in series between the first end and the second end of the capacitor; a motor including: a first winding connected to a connection point common between the first switch element and the second switch element; a second winding connected to a connection point common between the third switch element and the fourth switch element; and a third winding connected to a connection point common between the fifth switch element and the sixth switch element; a pulse voltage generator that calculates a corrected pulse voltage application time period by a Mathematical Expression 8 below, and selects a voltage vector nearest to a rotor phase of a rotor of the motor out of voltage vectors V1 to V12 shown in a Table 1 below, and outputs the selected voltage vector as a voltage vector command, for the corrected pulse voltage application time period; a current measurement instrument that measures output currents of three phases of the power converter outputted when the first to sixth switch elements of the power converter are turned ON or OFF in accordance with the Table 1 in response to the voltage vector command; a three-phase/two-phase converter that converts the output currents of the three phases into output currents of two phases, and outputs a d-axis current or both of the d-axis current and a q-axis current; and a demagnetization determiner that determines demagnetization as occurring in a permanent magnet of the rotor of the motor, in response to satisfaction of a condition that the d-axis current or an alternating-current effective value calculated from the d-axis current and the q-axis current after passage of the corrected pulse voltage application time period is equal to or less than a demagnetization determination threshold.</p><p id="p-0020" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[Mathematical Expression 8]<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0021" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i>on&#x2033;=<i>T</i>on*VDC/VDC&#x2032;&#x2003;&#x2003;(8)<?in-line-formulae description="In-line Formulae" end="tail"?><ul id="ul0006" list-style="none">    <li id="ul0006-0001" num="0000">    <ul id="ul0007" list-style="none">        <li id="ul0007-0001" num="0024">Ton Pulse voltage application time period before correction (fixed value)</li>        <li id="ul0007-0002" num="0025">Ton&#x2033;: Pulse voltage application time period after correction</li>        <li id="ul0007-0003" num="0026">VDC Direct-current voltage reference value (fixed value)</li>        <li id="ul0007-0004" num="0027">VDC&#x2032;: Direct-current voltage measured value</li>    </ul>    </li></ul></p><p id="p-0022" num="0000"><tables id="TABLE-US-00003" num="00003"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="1" colwidth="21pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="42pt" align="left"/><colspec colname="4" colwidth="42pt" align="left"/><colspec colname="5" colwidth="42pt" align="left"/><colspec colname="6" colwidth="42pt" align="left"/><colspec colname="7" colwidth="42pt" align="left"/><thead><row><entry namest="1" nameend="7" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row><row><entry/><entry>FIRST</entry><entry>SECOND</entry><entry>THIRD</entry><entry>FOURTH</entry><entry>FIFTH</entry><entry>SIXTH</entry></row><row><entry/><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry></row><row><entry/><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>V1</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V2</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V3</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V4</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V5</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V6</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry>V7</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V8</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V9</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V10</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V11</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V12</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0023" num="0028">According to still another aspect of the present invention, the demagnetization determiner sets the demagnetization determination threshold, based on a temperature of a permanent magnet of the motor.</p><p id="p-0024" num="0029">The present invention serves to improve accuracy of demagnetization diagnosis performed by a demagnetization diagnosis device for a motor.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0007" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0025" num="0030"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram showing configurations for control of demagnetization diagnosis, according to first to fourth embodiments.</p><p id="p-0026" num="0031"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is an illustrative view of voltage vectors.</p><p id="p-0027" num="0032"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a graph showing relation between d-axis current and d-axis inductance.</p><p id="p-0028" num="0033"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a graph showing relation between voltage pulse application time period and d-axis current, in cases of a normal state and a demagnetized state.</p><p id="p-0029" num="0034"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a block diagram showing an example of configurations of an in-vehicle motor drive system.</p><p id="p-0030" num="0035"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a diagram showing an inverter and a motor.</p><p id="p-0031" num="0036"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic view of the PM motor.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0008" level="1">MODE(S) FOR CARRYING OUT THE INVENTION</heading><p id="p-0032" num="0037">The following describes first to fourth embodiments of a demagnetization diagnosis device for a motor according to the present invention, with reference to <figref idref="DRAWINGS">FIGS. <b>1</b> to <b>4</b> and <b>6</b> and <b>7</b></figref>.</p><p id="p-0033" num="0038">[First Embodiment] The following describes configurations of an inverter <b>3</b> and a motor <b>4</b> employed in the demagnetization diagnosis device according to the first embodiment. Inverter <b>3</b> includes first and second switch elements U+ and U&#x2212;, third and fourth switch elements V+ and V&#x2212;, and fifth and sixth switch elements W+ and W&#x2212;. First switch element U+ and second switch element U&#x2212; are connected to each other in series between a first end and a second end of a capacitor C. Third switch element V+ and fourth switch element V&#x2212; are connected to each other in series between the first end and the second end of capacitor C. Fifth switch element W+ and sixth switch element W&#x2212; are connected to each other in series between the first end and the second end of capacitor C.</p><p id="p-0034" num="0039">Motor <b>4</b> includes a U-phase winding <b>6</b>U (i.e., a first winding), a V-phase winding <b>6</b>V (i.e., a second winding), and a W-phase winding <b>6</b>W (i.e., a third winding). U-phase winding <b>6</b>U is connected to a connection point common between first switch element U+ and second switch element U&#x2212;. V-phase winding <b>6</b>V is connected to a connection point common between third switch element V+ and fourth switch element V&#x2212;. W-phase winding <b>6</b>W is connected to a connection point common between fifth switch element W+ and sixth switch element W&#x2212;. U-phase winding <b>6</b>U and V-phase winding <b>6</b>V and W-phase winding <b>6</b>W are connected to each other by star connection. Incidentally, the present embodiment may be applied to devices other than the in-vehicle motor drive system exemplified in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, provided that each device includes an inverter and a motor.</p><p id="p-0035" num="0040"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram showing configurations for control of demagnetization diagnosis according to the first embodiment. In the first embodiment, the demagnetization diagnosis is implemented during a stop of PM motor <b>4</b>. Normal rotational operation of PM motor <b>4</b> is controlled by a control block different from one shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, explanation for which is omitted because of a lack of direct relevance with the present invention.</p><p id="p-0036" num="0041">The following describes the demagnetization diagnosis according to the first embodiment, with reference to <figref idref="DRAWINGS">FIG. <b>1</b></figref>. PM motor <b>4</b> has a rotor phase &#x3b3; that is inputted to a pulse voltage generator <b>7</b>. As shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, rotor phase &#x3b3; is difference in phase between an axis (i.e., a d-axis) of a north pole of a rotor <b>5</b> and an axis of the U&#x2212; phase winding. Based on rotor phase &#x3b3;, pulse voltage generator <b>7</b> selects one voltage vector nearest to the d-axis out of twelve voltage vectors V1 to V12 shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, and outputs the selected voltage vector as a voltage vector command V+* for a predetermined time period Ton&#x2032; (i.e., a corrected pulse voltage application time period described below). For example, in case of &#x2212;15&#xb0;&#x3c;&#x3b3;&#x3c;+15&#xb0;, the voltage vector V1 is selected for the voltage vector command V+*.</p><p id="p-0037" num="0042">Inverter <b>3</b> turns ON/OFF the switch elements depending on the voltage vector of the voltage vector command V+* inputted to inverter <b>3</b>, and applies a pulsatile output voltage to PM motor <b>4</b>.</p><p id="p-0038" num="0043">Table 1 below shows relation between the voltage vectors and ON/OFF commands for the first to sixth switch elements U+, U&#x2212;, V+, V&#x2212;, W+, and W&#x2212;. As shown in Table 1, inverter <b>3</b> turns ON/OFF the switch elements U+, U&#x2212;, V+, V&#x2212;, W+, and W&#x2212;, based on the voltage vector command V+*.</p><p id="p-0039" num="0000"><tables id="TABLE-US-00004" num="00004"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="1" colwidth="21pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="42pt" align="left"/><colspec colname="4" colwidth="42pt" align="left"/><colspec colname="5" colwidth="42pt" align="left"/><colspec colname="6" colwidth="42pt" align="left"/><colspec colname="7" colwidth="42pt" align="left"/><thead><row><entry namest="1" nameend="7" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row><row><entry/><entry>FIRST</entry><entry>SECOND</entry><entry>THIRD</entry><entry>FOURTH</entry><entry>FIFTH</entry><entry>SIXTH</entry></row><row><entry/><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry></row><row><entry/><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>V1</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V2</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V3</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V4</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V5</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V6</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry>V7</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V8</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V9</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V10</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V11</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V12</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0040" num="0044">Current measurement instrument <b>8</b> measures winding currents Iu, Iv, and Iw of U, V, and W phases of PM motor <b>4</b> (i.e., output currents of three phases of inverter <b>3</b>) which flow when the first to sixth switch elements U+ to W&#x2212; of inverter <b>3</b> are turned ON or OFF in response to the voltage vector command V+*. The output currents of the three phases satisfies Iu+Iv+Iw=0, because U-phase winding <b>6</b>U, V-phase winding <b>6</b>V, and W&#x2212; phase winding <b>6</b>W are connected to each other by star connection. It is allowed to use current measurement instruments for respective ones of the three phases and measure respective ones of the output currents of the three phases. In another manner, it is allowed to use current measurement instruments for two phases and measure the output currents of the two phases, and calculate the output current of the rest one phase by the above equation. The latter manner has an advantage in reduction of the number of current measurement instruments.</p><p id="p-0041" num="0045">Three-phase/two-phase converter <b>9</b> performs three-phase/two-phase conversion by using the mathematical expressions (1) and (2) below based on output currents Iu, Iv, and Iw of the three phases and rotor phase &#x3b3;, and outputs d-axis current Id.</p><p id="p-0042" num="0000"><maths id="MATH-US-00002" num="00002"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mo>[</mo>     <mrow>      <mi>Mathematical</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mi>Expression</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mn>1</mn>     </mrow>     <mo>]</mo>    </mrow>   </mtd>   <mtd>    <mi>&#xf3ba;</mi>   </mtd>  </mtr>  <mtr>   <mtd>    <mrow>     <mi>C</mi>     <mo>=</mo>     <mrow>      <msqrt>       <mfrac>        <mn>2</mn>        <mn>3</mn>       </mfrac>      </msqrt>      <mo>[</mo>      <mtable>       <mtr>        <mtd>         <mrow>          <mi>cos</mi>          <mo>&#x2062;</mo>          <mi>Y</mi>         </mrow>        </mtd>        <mtd>         <mrow>          <mi>cos</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>&#x3b3;</mi>           <mo>-</mo>           <mrow>            <mn>2</mn>            <mo>&#x2062;</mo>            <mi>&#x3c0;</mi>            <mo>/</mo>            <mn>3</mn>           </mrow>          </mrow>          <mo>)</mo>         </mrow>        </mtd>        <mtd>         <mrow>          <mi>cos</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mrow>           <mi>&#x3b3;</mi>           <mo>+</mo>           <mrow>            <mn>2</mn>            <mo>&#x2062;</mo>            <mi>&#x3c0;</mi>            <mo>/</mo>            <mn>3</mn>           </mrow>          </mrow>          <mo>)</mo>         </mrow>        </mtd>       </mtr>       <mtr>        <mtd>         <mrow>          <mrow>           <mo>-</mo>           <mi>s</mi>          </mrow>          <mo>&#x2062;</mo>          <mi>in</mi>          <mo>&#x2062;</mo>          <mi>&#x3b3;</mi>         </mrow>        </mtd>        <mtd>         <mrow>          <mo>-</mo>          <mrow>           <mi>sin</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>&#x3b3;</mi>            <mo>-</mo>            <mrow>             <mn>2</mn>             <mo>&#x2062;</mo>             <mi>&#x3c0;</mi>             <mo>/</mo>             <mn>3</mn>            </mrow>           </mrow>           <mo>)</mo>          </mrow>         </mrow>        </mtd>        <mtd>         <mrow>          <mo>-</mo>          <mrow>           <mi>sin</mi>           <mo>&#x2061;</mo>           <mo>(</mo>           <mrow>            <mi>&#x3b3;</mi>            <mo>+</mo>            <mrow>             <mn>2</mn>             <mo>&#x2062;</mo>             <mi>&#x3c0;</mi>             <mo>/</mo>             <mn>3</mn>            </mrow>           </mrow>           <mo>)</mo>          </mrow>         </mrow>        </mtd>       </mtr>      </mtable>      <mo>]</mo>     </mrow>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>1</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths><maths id="MATH-US-00002-2" num="00002.2"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mo>[</mo>     <mrow>      <mi>Mathematical</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mi>Expression</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mn>2</mn>     </mrow>     <mo>]</mo>    </mrow>   </mtd>   <mtd>    <mi>&#xf3ba;</mi>   </mtd>  </mtr>  <mtr>   <mtd>    <mrow>     <mrow>      <mo>[</mo>      <mtable>       <mtr>        <mtd>         <msub>          <mi>i</mi>          <mi>d</mi>         </msub>        </mtd>       </mtr>       <mtr>        <mtd>         <msub>          <mi>i</mi>          <mi>q</mi>         </msub>        </mtd>       </mtr>      </mtable>      <mo>]</mo>     </mrow>     <mo>=</mo>     <mrow>      <mi>C</mi>      <mo>[</mo>      <mtable>       <mtr>        <mtd>         <msub>          <mi>i</mi>          <mi>u</mi>         </msub>        </mtd>       </mtr>       <mtr>        <mtd>         <msub>          <mi>i</mi>          <mi>v</mi>         </msub>        </mtd>       </mtr>       <mtr>        <mtd>         <msub>          <mi>i</mi>          <mi>w</mi>         </msub>        </mtd>       </mtr>      </mtable>      <mo>]</mo>     </mrow>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>2</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths></p><p id="p-0043" num="0046">Demagnetization determiner <b>10</b> performs the demagnetization diagnosis of a permanent magnet of rotor <b>5</b>, based on a value of d-axis current Id at a timing after the corrected pulse voltage application time period has passed from a start of output of the voltage vector command V+*. Since the voltage vector for the voltage vector command V+* has been selected to be one nearest to the d-axis, q-axis current Iq satisfies Iq&#x2248;0. Accordingly, the winding currents generate almost no torque, and rotor <b>5</b> remains at rest.</p><p id="p-0044" num="0047">D-axis inductance Ld may be expressed by the mathematical expression (3) below, provided that conditions of Iq=0 and &#x3c9;=0 (where &#x3c9; is rotational frequency of rotor <b>5</b>) are satisfied and that d-axis current Id has a direct-current component being substantially zero.</p><p id="p-0045" num="0000"><maths id="MATH-US-00003" num="00003"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mo>[</mo>     <mrow>      <mi>Mathematical</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mi>Expression</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mn>3</mn>     </mrow>     <mo>]</mo>    </mrow>   </mtd>   <mtd>    <mi>&#xf3ba;</mi>   </mtd>  </mtr>  <mtr>   <mtd>    <mrow>     <mi>Ld</mi>     <mo>=</mo>     <mfrac>      <mi>Vd</mi>      <mrow>       <mfrac>        <mi>d</mi>        <mi>dt</mi>       </mfrac>       <mo>&#x2062;</mo>       <mi>Id</mi>      </mrow>     </mfrac>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>3</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths></p><p id="p-0046" num="0048">When regarding d-axis voltage Vd as a constant, d-axis current Id can be calculated from an inverse of a change rate of d-axis inductance Ld.</p><p id="p-0047" num="0049">D-axis inductance Ld may be expressed also by the mathematical expression (4) below, with d-axis current change amount &#x394;Id and magnetic flux change amount &#x394;&#x3a6;. This allows magnetic flux (of the motor magnet to be estimated from d-axis inductance Ld.</p><p id="p-0048" num="0000"><maths id="MATH-US-00004" num="00004"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mo>[</mo>     <mrow>      <mi>Mathematical</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mi>Expression</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mn>4</mn>     </mrow>     <mo>]</mo>    </mrow>   </mtd>   <mtd>    <mi>&#xf3ba;</mi>   </mtd>  </mtr>  <mtr>   <mtd>    <mrow>     <mi>Ld</mi>     <mo>=</mo>     <mfrac>      <mi>&#x394;&#x3d5;</mi>      <mrow>       <mi>&#x394;</mi>       <mo>&#x2062;</mo>       <mi>Id</mi>      </mrow>     </mfrac>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>4</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths></p><p id="p-0049" num="0050">PM motor <b>4</b> in general is characterized by monotonically decreasing in d-axis inductance Ld with increase in d-axis current Id. However, in case of PM motor <b>4</b> with a specific structure, it is known that d-axis inductance Ld has a maximum point with respect to d-axis current Id in a positive region thereof, due to magnetic saturation.</p><p id="p-0050" num="0051">As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, this inductance characteristic is further characterized in that increase in demagnetization factor with respect to a design maximum magnetic flux of the magnet causes increase in maximum value at the maximum point and decrease in d-axis current Id at the maximum point.</p><p id="p-0051" num="0052">In view of the inductance characteristic above and the mathematical expression (3), d-axis current Id is calculated by time integration of the mathematical expression (3), and varies depending on magnetic flux of the magnet as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> when regarding the time period Ton for pulse voltage application in a direction of the d-axis as a constant. Thus, d-axis current Id decreases with increase in demagnetization factor. Accordingly, demagnetization determiner <b>10</b> diagnoses demagnetization as occurring and raises an alarm, in response to a value of d-axis current Id equal to or less than a demagnetization determination threshold.</p><p id="p-0052" num="0053">However, when rotor phase &#x3b3; has a value corresponding to a phase of a voltage vector Vn being one of the twelve voltage vectors in the d-axis direction, the rotor phase corresponding to the voltage vector Vn exists within a range of Vn&#x2212;15&#xb0;&#x3c;&#x3b3;&#x3c;Vn+15&#xb0;. Accordingly, the more the rotor phase &#x3b3; becomes distant from any voltage vector Vn, the more the voltage is applied also to a direction of the q-axis. This causes current to flow also in the q-axis direction, against the original intention to let current flow only in the d-axis direction.</p><p id="p-0053" num="0054">Thus, d-axis current Id varies depending on position of rotor phase &#x3b3; even under application of the voltage vector command V+*. In case of rotor phase satisfying &#x3b3;=Vn+15&#xb0; at which d-axis current Id becomes minimum, d-axis current Id has a value of approximately 96.6% in comparison with a case of rotor phase satisfying &#x3b3;=Vn. Such variation in value of d-axis current Id depending on rotor phase &#x3b3; may affect the demagnetization diagnosis.</p><p id="p-0054" num="0055">In order to suppress the variation in current depending on rotor phase &#x3b3;, pulse voltage application time period Ton is corrected based on rotor phase &#x3b3;. The mathematical expression (5) below shows corrected pulse voltage application time period Ton&#x2032;.</p><p id="p-0055" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[Mathematical Expression 5]<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0056" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i>on&#x2032;=<i>T</i>on/cos(&#x394;&#x3b8;)&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?><ul id="ul0008" list-style="none">    <li id="ul0008-0001" num="0000">    <ul id="ul0009" list-style="none">        <li id="ul0009-0001" num="0056">Ton Before-correction pulse voltage application time period (fixed value)</li>        <li id="ul0009-0002" num="0057">Ton&#x2032;: Corrected pulse voltage application time period</li>        <li id="ul0009-0003" num="0058">&#x394;&#x3b8;: Absolute value of difference between current rotor phase &#x3b3; and phase of voltage vector command</li>    </ul>    </li></ul></p><p id="p-0057" num="0059">For example, in case that the voltage vector V2 has been selected for the voltage vector command V+* under rotor phase &#x3b3;=28&#xb0;, the voltage vector command V+* has a phase of 30&#xb0; as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, and the above &#x394;&#x3b8; is calculated as &#x394;&#x3b8;=|28&#xb0;&#x2212;30&#xb0;|=2&#xb0;.</p><p id="p-0058" num="0060">It is allowed to set d-axis current Id to flow independently of position of rotor phase &#x3b3;, by correcting the pulse voltage application time period Ton with the mathematical expression (5) and outputting the voltage vector command V+* for the corrected pulse voltage application time period Ton&#x2032;.</p><p id="p-0059" num="0061">As described above, the first embodiment discloses accurately measuring d-axis current Id used for the demagnetization diagnosis, independently of rotor phase &#x3b3; during the demagnetization diagnosis, by correcting pulse voltage application time period Ton with use of the mathematical expression (5) in pulse voltage generator <b>7</b>. This serves to improve accuracy of the demagnetization diagnosis.</p><p id="p-0060" num="0062">[Second Embodiment] The first embodiment is configured to compare the value of d-axis current Id with the demagnetization determination threshold. Whereas, the second embodiment is configured to perform the demagnetization diagnosis by comparing an effective value I1=&#x221a;(Id<sup>2</sup>+Iq<sup>2</sup>) of alternating current with the demagnetization determination threshold. The following describes points at which the second embodiment is different from the first embodiment.</p><p id="p-0061" num="0063">As described above, q-axis current Iq satisfies Iq&#x2248;0 during operation of the demagnetization determination. In addition, alternating-current effective value I1=&#x221a;(Id<sup>2</sup>+Iq<sup>2</sup>) varies depending on position of rotor phase &#x3b3;, because d-axis inductance Ld and q-axis inductance Lq are not equivalent to each other.</p><p id="p-0062" num="0064">In this case, corrected pulse voltage application time period Ton&#x2032; is expressed by the following mathematical expression (6).</p><p id="p-0063" num="0000"><maths id="MATH-US-00005" num="00005"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mo>[</mo>     <mrow>      <mi>Mathematical</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mi>Expression</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mn>6</mn>     </mrow>     <mo>]</mo>    </mrow>   </mtd>   <mtd>    <mi>&#xf3ba;</mi>   </mtd>  </mtr>  <mtr>   <mtd>    <mrow>     <msup>      <mi>Ton</mi>      <mo>&#x2032;</mo>     </msup>     <mo>=</mo>     <mfrac>      <mi>Ton</mi>      <msqrt>       <mrow>        <mrow>         <msup>          <mi>cos</mi>          <mn>2</mn>         </msup>         <mo>(</mo>         <mrow>          <mi>&#x394;</mi>          <mo>&#x2062;</mo>          <mi>&#x3b8;</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>+</mo>        <msup>         <mrow>          <mo>(</mo>          <mrow>           <mfrac>            <mrow>             <mi>L</mi>             <mo>&#x2062;</mo>             <mi>d</mi>            </mrow>            <mrow>             <mi>L</mi>             <mo>&#x2062;</mo>             <mi>q</mi>            </mrow>           </mfrac>           <mo>*</mo>           <mrow>            <mi>sin</mi>            <mo>&#x2061;</mo>            <mo>(</mo>            <mi>&#x394;&#x3b8;</mi>            <mo>)</mo>           </mrow>          </mrow>          <mo>)</mo>         </mrow>         <mn>2</mn>        </msup>       </mrow>      </msqrt>     </mfrac>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>6</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths><ul id="ul0010" list-style="none">    <li id="ul0010-0001" num="0000">    <ul id="ul0011" list-style="none">        <li id="ul0011-0001" num="0065">Ton: Pulse voltage application time period before correction (fixed value)</li>        <li id="ul0011-0002" num="0066">Ton&#x2032;: Pulse voltage application time period after correction</li>        <li id="ul0011-0003" num="0067">&#x394;&#x3b8;: Absolute value of difference between current rotor phase &#x3b3; and phase of voltage vector command</li>        <li id="ul0011-0004" num="0068">Ld: d-axis inductance</li>        <li id="ul0011-0005" num="0069">Lq: q-axis inductance</li>    </ul>    </li></ul></p><p id="p-0064" num="0070">Demagnetization determiner <b>10</b> may perform the demagnetization determination based on comparison between the demagnetization determination threshold and a peak current of a waveform of alternating-current effective value I1=&#x221a;(Id<sup>2</sup>+Iq<sup>2</sup>) instead of d-axis current Id, where the peak current is a current at a timing after the corrected pulse voltage application time period has passed from a start of output of the voltage vector command V+*. In such case, three-phase/two-phase converter <b>9</b> shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> outputs d-axis current Id and q-axis current Iq to demagnetization determiner <b>10</b>.</p><p id="p-0065" num="0071">As described above, the second embodiment achieves the effects similar to the first embodiment.</p><p id="p-0066" num="0072">[Third Embodiment] The third embodiment is configured to correct the demagnetization determination threshold of demagnetization determiner <b>10</b> in view of temperature of the magnet, because magnetic flux of the magnet varies depending on temperature of the magnet. The demagnetization determination threshold is corrected by: expressing beforehand a relation between magnet temperature and magnet magnetic flux as a mathematical expression; and appropriately calculating the demagnetization determination threshold from an inputted value of magnet temperature. In case that the calculation is complicated, the demagnetization determination threshold may be changed by reference to a table that is prepared to include values of magnet magnetic flux corresponding to values of magnet temperature within a range of use.</p><p id="p-0067" num="0073">The third embodiment may be applied in addition to the first embodiment or the second embodiment.</p><p id="p-0068" num="0074">As described above, the third embodiment is configured to correct the demagnetization determination threshold in view of variation in magnet temperature, and thereby serves to improve accuracy of the demagnetization diagnosis in addition to the effects of the first and second embodiments.</p><p id="p-0069" num="0075">[Fourth Embodiment] Each of the first to third embodiments is configured to improve accuracy in measurement of d-axis current Id used for the demagnetization diagnosis, independently of rotor phase &#x3b3; during the demagnetization diagnosis, by correcting pulse voltage application time period Ton in view of rotor phase &#x3b3;. This serves to improve accuracy of the demagnetization diagnosis.</p><p id="p-0070" num="0076">However, each of the first to third embodiments requires direct-current voltage inputted to the inverter (i.e., direct-current voltage VDC of capacitor C in <figref idref="DRAWINGS">FIG. <b>6</b></figref>) to be always constant as a precondition for the demagnetization diagnosis with high accuracy, because each of the first to third embodiments is configured to apply pulse voltage (i.e., d-axis voltage) Vd for the predetermined time period and implement the demagnetization diagnosis based on a value of d-axis current Id on that occasion. Accordingly, the first to third embodiments may be impractical in an environment in which the voltage supplied to inverter <b>3</b> changes due to changes in charge state of battery <b>1</b>, power consumption of the other components, ambient temperature, etc.</p><p id="p-0071" num="0077">The fourth embodiment is configured to correct pulse voltage application time period Ton in pulse voltage generator <b>7</b> in view of direct-current voltage VDC, because d-axis voltage Vd depends on direct-current voltage VDC.</p><p id="p-0072" num="0078">Direct-current voltage VDC and pulse voltage (i.e., d-axis voltage) Vd have therebetween a relation shown in the following mathematical expression (7) provided that rotor phase &#x3b3; has a fixed value.</p><p id="p-0073" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[Mathematical Expression 7]<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0074" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>Vd</i>=VDC*cos(&#x394;&#x3b8;)&#x2003;&#x2003;(7)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0075" num="0079">From the mathematical expression (7), pulse voltage application time period Ton can be corrected by the following mathematical expression (8) in which pulse voltage application time period is in inverse proportion to measured value VDC&#x2032; of direct-current voltage.</p><p id="p-0076" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[Mathematical Expression 8]<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0077" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i>on&#x2033;=<i>T</i>on*VDC/VDC&#x2032;&#x2003;&#x2003;(8)<?in-line-formulae description="In-line Formulae" end="tail"?><ul id="ul0012" list-style="none">    <li id="ul0012-0001" num="0000">    <ul id="ul0013" list-style="none">        <li id="ul0013-0001" num="0080">Ton Pulse voltage application time period before correction (fixed value)</li>        <li id="ul0013-0002" num="0081">Ton&#x2033;: Pulse voltage application time period after correction</li>        <li id="ul0013-0003" num="0082">VDC Direct-current voltage reference value (fixed value)</li>        <li id="ul0013-0004" num="0083">VDC&#x2032;: Direct-current voltage measured value</li>    </ul>    </li></ul></p><p id="p-0078" num="0084">The direct-current voltage reference value (fixed value) is set to a direct-current voltage in a rated operational state of the in-vehicle motor drive system.</p><p id="p-0079" num="0085">Demagnetization determiner <b>10</b> may compare d-axis current Id with the demagnetization determination threshold, or compare alternating-current effective value I1=&#x221a;(Id<sup>2</sup>+Iq<sup>2</sup>) with the demagnetization determination threshold. The other controls are same with the first and second embodiments.</p><p id="p-0080" num="0086">In case that direct-current voltage VDC varies through a wide range and simultaneously pulse voltage application time period Ton is not sufficiently greater than a dead time, pulse voltage application time period Ton conspicuously varies depending on the dead time. This requires pulse voltage application time period to be corrected beforehand in view of the dead time.</p><p id="p-0081" num="0087">The fourth embodiment serves to further improve accuracy of the demagnetization, in combination with the first to third embodiments.</p><p id="p-0082" num="0088">In such cases, the corrected pulse voltage application time period Ton&#x2033; is obtained by substituting the corrected pulse voltage application time period Ton&#x2032;, which is calculated by the mathematical expression (5) or (6), for the before-correction pulse voltage application time period Ton in the mathematical expression (8). In other words, the corrected pulse voltage application time period Ton&#x2033; is obtained by multiplying the corrected pulse voltage application time period Ton&#x2032;, which is calculated by the mathematical expression (5) or (6), by the direct-current voltage reference value (fixed value) VDC/the direct-current voltage measured value VDC&#x2032;.</p><p id="p-0083" num="0089">As described above, the fourth embodiment is configured to correct the corrected pulse voltage application time period Ton&#x2032; in view of the direct-current voltage measured value VDC&#x2032;, and thereby serves to further improve accuracy of the demagnetization diagnosis in addition to the effects of the first to third embodiments.</p><p id="p-0084" num="0090">Although the above details only the recited embodiments in the present invention, it is obvious for a person skilled in the art that the embodiments may be variously changed or modified within scope of technological thoughts of the present invention. Such various changes and modifications are naturally included within scope of the present claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001" nb-file="US20230006584A1-20230105-M00001.NB"><img id="EMI-M00001" he="13.38mm" wi="76.20mm" file="US20230006584A1-20230105-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00002 MATH-US-00002-2" nb-file="US20230006584A1-20230105-M00002.NB"><img id="EMI-M00002" he="23.62mm" wi="76.20mm" file="US20230006584A1-20230105-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00003" nb-file="US20230006584A1-20230105-M00003.NB"><img id="EMI-M00003" he="11.60mm" wi="76.20mm" file="US20230006584A1-20230105-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00004" nb-file="US20230006584A1-20230105-M00004.NB"><img id="EMI-M00004" he="8.13mm" wi="76.20mm" file="US20230006584A1-20230105-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00005" nb-file="US20230006584A1-20230105-M00005.NB"><img id="EMI-M00005" he="13.38mm" wi="76.20mm" file="US20230006584A1-20230105-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00006" nb-file="US20230006584A1-20230105-M00006.NB"><img id="EMI-M00006" he="13.38mm" wi="76.20mm" file="US20230006584A1-20230105-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00007" nb-file="US20230006584A1-20230105-M00007.NB"><img id="EMI-M00007" he="13.38mm" wi="76.20mm" file="US20230006584A1-20230105-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A demagnetization diagnosis device for a motor, the demagnetization diagnosis device comprising:<claim-text>a power converter including: a first switch element and a second switch element connected to each other in series between a first end and a second end of a capacitor; a third switch element and a fourth switch element connected to each other in series between the first end and the second end of the capacitor; and a fifth switch element and a sixth switch element connected to each other in series between the first end and the second end of the capacitor;</claim-text><claim-text>a motor including: a first winding connected to a connection point common between the first switch element and the second switch element; a second winding connected to a connection point common between the third switch element and the fourth switch element; and a third winding connected to a connection point common between the fifth switch element and the sixth switch element;</claim-text><claim-text>a pulse voltage generator that calculates a corrected pulse voltage application time period by a Mathematical Expression 5 below, and selects a voltage vector nearest to a rotor phase of a rotor of the motor out of voltage vectors V1 to V12 shown in a Table 1 below, and outputs the selected voltage vector as a voltage vector command, for the corrected pulse voltage application time period;</claim-text><claim-text>a current measurement instrument that measures output currents of three phases of the power converter outputted when the first to sixth switch elements of the power converter are turned ON or OFF in accordance with the Table 1 in response to the voltage vector command;</claim-text><claim-text>a three-phase/two-phase converter that converts the output currents of the three phases into output currents of two phases, and outputs a d-axis current; and</claim-text><claim-text>a demagnetization determiner that determines demagnetization as occurring in a permanent magnet of the rotor of the motor, in response to satisfaction of a condition that the d-axis current after passage of the corrected pulse voltage application time period is equal to or less than a demagnetization determination threshold.<claim-text><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[Mathematical Expression 5]<?in-line-formulae description="In-line Formulae" end="tail"?></claim-text><claim-text><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i>on&#x2032;=<i>T</i>on/cos(&#x394;&#x3b8;)&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?></claim-text><claim-text>Ton: Before-correction pulse voltage application time period (fixed value)</claim-text><claim-text>Ton&#x2032;: Corrected pulse voltage application time period</claim-text><claim-text>&#x394;&#x3b8;: Absolute value of difference between current rotor phase &#x3b3; and phase of voltage vector command</claim-text></claim-text></claim-text><claim-text><tables id="TABLE-US-00005" num="00005"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="1" colwidth="21pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="42pt" align="left"/><colspec colname="4" colwidth="42pt" align="left"/><colspec colname="5" colwidth="42pt" align="left"/><colspec colname="6" colwidth="42pt" align="left"/><colspec colname="7" colwidth="42pt" align="left"/><thead><row><entry namest="1" nameend="7" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row><row><entry/><entry>FIRST</entry><entry>SECOND</entry><entry>THIRD</entry><entry>FOURTH</entry><entry>FIFTH</entry><entry>SIXTH</entry></row><row><entry/><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry></row><row><entry/><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>V1</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V2</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V3</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V4</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V5</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V6</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry>V7</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V8</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V9</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V10</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V11</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V12</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. A demagnetization diagnosis device for a motor, the demagnetization diagnosis device comprising:<claim-text>a power converter including: a first switch element and a second switch element connected to each other in series between a first end and a second end of a capacitor; a third switch element and a fourth switch element connected to each other in series between the first end and the second end of the capacitor; and a fifth switch element and a sixth switch element connected to each other in series between the first end and the second end of the capacitor;</claim-text><claim-text>a motor including: a first winding connected to a connection point common between the first switch element and the second switch element; a second winding connected to a connection point common between the third switch element and the fourth switch element; and a third winding connected to a connection point common between the fifth switch element and the sixth switch element;</claim-text><claim-text>a pulse voltage generator that calculates a corrected pulse voltage application time period by a Mathematical Expression 6 below, and selects a voltage vector nearest to a rotor phase of a rotor of the motor out of voltage vectors V1 to V12 shown in a Table 1 below, and outputs the selected voltage vector as a voltage vector command, for the corrected pulse voltage application time period;</claim-text><claim-text>a current measurement instrument that measures output currents of three phases of the power converter outputted when the first to sixth switch elements of the power converter are turned ON or OFF in accordance with the Table 1 in response to the voltage vector command;</claim-text><claim-text>a three-phase/two-phase converter that converts the output currents of the three phases into output currents of two phases, and outputs a d-axis current and a q-axis current; and</claim-text><claim-text>a demagnetization determiner that determines demagnetization as occurring in a permanent magnet of the rotor of the motor, in response to satisfaction of a condition that an alternating-current effective value calculated from the d-axis current and the q-axis current after passage of the corrected pulse voltage application time period is equal to or less than a demagnetization determination threshold.</claim-text></claim-text><claim-text><maths id="MATH-US-00006" num="00006"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mo>[</mo>     <mrow>      <mi>Mathematical</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mi>Expression</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mn>6</mn>     </mrow>     <mo>]</mo>    </mrow>   </mtd>   <mtd>    <mi>&#xf3ba;</mi>   </mtd>  </mtr>  <mtr>   <mtd>    <mrow>     <msup>      <mi>Ton</mi>      <mo>&#x2032;</mo>     </msup>     <mo>=</mo>     <mfrac>      <mi>Ton</mi>      <msqrt>       <mrow>        <mrow>         <msup>          <mi>cos</mi>          <mn>2</mn>         </msup>         <mo>(</mo>         <mrow>          <mi>&#x394;</mi>          <mo>&#x2062;</mo>          <mi>&#x3b8;</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>+</mo>        <msup>         <mrow>          <mo>(</mo>          <mrow>           <mfrac>            <mrow>             <mi>L</mi>             <mo>&#x2062;</mo>             <mi>d</mi>            </mrow>            <mrow>             <mi>L</mi>             <mo>&#x2062;</mo>             <mi>q</mi>            </mrow>           </mfrac>           <mo>*</mo>           <mrow>            <mi>sin</mi>            <mo>&#x2061;</mo>            <mo>(</mo>            <mi>&#x394;&#x3b8;</mi>            <mo>)</mo>           </mrow>          </mrow>          <mo>)</mo>         </mrow>         <mn>2</mn>        </msup>       </mrow>      </msqrt>     </mfrac>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>6</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths><claim-text><claim-text>Ton: Pulse voltage application time period before correction (fixed value)</claim-text><claim-text>Ton&#x2032;: Pulse voltage application time period after correction</claim-text><claim-text>&#x394;&#x3b8;: Absolute value of difference between current rotor phase &#x3b3; and phase of voltage vector command</claim-text><claim-text>Ld: d-axis inductance</claim-text><claim-text>Lq: q-axis inductance</claim-text></claim-text></claim-text><claim-text><tables id="TABLE-US-00006" num="00006"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="1" colwidth="21pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="42pt" align="left"/><colspec colname="4" colwidth="42pt" align="left"/><colspec colname="5" colwidth="42pt" align="left"/><colspec colname="6" colwidth="42pt" align="left"/><colspec colname="7" colwidth="42pt" align="left"/><thead><row><entry namest="1" nameend="7" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row><row><entry/><entry>FIRST</entry><entry>SECOND</entry><entry>THIRD</entry><entry>FOURTH</entry><entry>FIFTH</entry><entry>SIXTH</entry></row><row><entry/><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry></row><row><entry/><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>V1</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V2</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V3</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V4</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V5</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V6</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry>V7</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V8</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V9</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V10</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V11</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V12</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The demagnetization diagnosis device as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the pulse voltage generator further corrects the corrected pulse voltage application time period, by multiplying the corrected pulse voltage application time period by a first value, where the first value is obtained by dividing a direct-current voltage reference value by a direct-current voltage measured value.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. A demagnetization diagnosis device for a motor, the demagnetization diagnosis device comprising:<claim-text>a power converter including: a first switch element and a second switch element connected to each other in series between a first end and a second end of a capacitor; a third switch element and a fourth switch element connected to each other in series between the first end and the second end of the capacitor; and a fifth switch element and a sixth switch element connected to each other in series between the first end and the second end of the capacitor;</claim-text><claim-text>a motor including: a first winding connected to a connection point common between the first switch element and the second switch element; a second winding connected to a connection point common between the third switch element and the fourth switch element; and a third winding connected to a connection point common between the fifth switch element and the sixth switch element;</claim-text><claim-text>a pulse voltage generator that calculates a corrected pulse voltage application time period by a Mathematical Expression 8 below, and selects a voltage vector nearest to a rotor phase of a rotor of the motor out of voltage vectors V1 to V12 shown in a Table 1 below, and outputs the selected voltage vector as a voltage vector command, for the corrected pulse voltage application time period;</claim-text><claim-text>a current measurement instrument that measures output currents of three phases of the power converter outputted when the first to sixth switch elements of the power converter are turned ON or OFF in accordance with the Table 1 in response to the voltage vector command;</claim-text><claim-text>a three-phase/two-phase converter that converts the output currents of the three phases into output currents of two phases, and outputs a d-axis current or both of the d-axis current and a q-axis current; and</claim-text><claim-text>a demagnetization determiner that determines demagnetization as occurring in a permanent magnet of the rotor of the motor, in response to satisfaction of a condition that the d-axis current or an alternating-current effective value calculated from the d-axis current and the q-axis current after passage of the corrected pulse voltage application time period is equal to or less than a demagnetization determination threshold.<claim-text><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[Mathematical Expression 8]<?in-line-formulae description="In-line Formulae" end="tail"?></claim-text><claim-text><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i>on&#x2033;=<i>T</i>on*VDC/VDC&#x2032;&#x2003;&#x2003;(8)<?in-line-formulae description="In-line Formulae" end="tail"?></claim-text><claim-text>Ton: Pulse voltage application time period before correction (fixed value)</claim-text><claim-text>Ton&#x2033;: Pulse voltage application time period after correction</claim-text><claim-text>VDC: Direct-current voltage reference value (fixed value)</claim-text><claim-text>VDC&#x2032;: Direct-current voltage measured value</claim-text></claim-text></claim-text><claim-text><tables id="TABLE-US-00007" num="00007"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="1" colwidth="21pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="42pt" align="left"/><colspec colname="4" colwidth="42pt" align="left"/><colspec colname="5" colwidth="42pt" align="left"/><colspec colname="6" colwidth="42pt" align="left"/><colspec colname="7" colwidth="42pt" align="left"/><thead><row><entry namest="1" nameend="7" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row><row><entry/><entry>FIRST</entry><entry>SECOND</entry><entry>THIRD</entry><entry>FOURTH</entry><entry>FIFTH</entry><entry>SIXTH</entry></row><row><entry/><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry></row><row><entry/><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>V1</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V2</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V3</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V4</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V5</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V6</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry>V7</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V8</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V9</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V10</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V11</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V12</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The demagnetization diagnosis device as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the demagnetization determiner sets the demagnetization determination threshold, based on a temperature of a permanent magnet of the motor.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. A demagnetization diagnosis method for a motor control device, wherein the motor control device includes:<claim-text>a power converter including: a first switch element and a second switch element connected to each other in series between a first end and a second end of a capacitor; a third switch element and a fourth switch element connected to each other in series between the first end and the second end of the capacitor; and a fifth switch element and a sixth switch element connected to each other in series between the first end and the second end of the capacitor; and</claim-text><claim-text>a motor including: a first winding connected to a connection point common between the first switch element and the second switch element; a second winding connected to a connection point common between the third switch element and the fourth switch element; and a third winding connected to a connection point common between the fifth switch element and the sixth switch element,</claim-text><claim-text>the demagnetization diagnosis method comprising:</claim-text><claim-text>with use of a pulse voltage generator, calculating a corrected pulse voltage application time period by a Mathematical Expression 5 below, and selecting a voltage vector nearest to a rotor phase of a rotor of the motor out of voltage vectors V1 to V12 shown in a Table 1 below, and outputting the selected voltage vector as a voltage vector command, for the corrected pulse voltage application time period;</claim-text><claim-text>with use of a current measurement instrument, measuring output currents of three phases of the power converter outputted when the first to sixth switch elements of the power converter are turned ON or OFF in accordance with the Table 1 in response to the voltage vector command;</claim-text><claim-text>with use of a three-phase/two-phase converter, converting the output currents of the three phases into output currents of two phases, and outputting a d-axis current; and</claim-text><claim-text>with use of a demagnetization determiner, determining demagnetization as occurring in a permanent magnet of the rotor of the motor, in response to satisfaction of a condition that the d-axis current after passage of the corrected pulse voltage application time period is equal to or less than a demagnetization determination threshold.<claim-text><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[Mathematical Expression 5]<?in-line-formulae description="In-line Formulae" end="tail"?></claim-text><claim-text><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i>on&#x2032;=<i>T</i>on/cos(&#x394;&#x3b8;)&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?></claim-text><claim-text>Ton: Before-correction pulse voltage application time period (fixed value)</claim-text><claim-text>Ton&#x2032;: Corrected pulse voltage application time period</claim-text><claim-text>&#x394;&#x3b8;: Absolute value of difference between current rotor phase Y and phase of voltage vector command</claim-text></claim-text></claim-text><claim-text><tables id="TABLE-US-00008" num="00008"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="1" colwidth="21pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="42pt" align="left"/><colspec colname="4" colwidth="42pt" align="left"/><colspec colname="5" colwidth="42pt" align="left"/><colspec colname="6" colwidth="42pt" align="left"/><colspec colname="7" colwidth="42pt" align="left"/><thead><row><entry namest="1" nameend="7" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row><row><entry/><entry>FIRST</entry><entry>SECOND</entry><entry>THIRD</entry><entry>FOURTH</entry><entry>FIFTH</entry><entry>SIXTH</entry></row><row><entry/><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry></row><row><entry/><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>V1</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V2</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V3</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V4</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V5</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V6</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry>V 7</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V8</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V9</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V10</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V11</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V12</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. A demagnetization diagnosis method for a motor control device, wherein the motor control device includes:<claim-text>a power converter including: a first switch element and a second switch element connected to each other in series between a first end and a second end of a capacitor; a third switch element and a fourth switch element connected to each other in series between the first end and the second end of the capacitor; and a fifth switch element and a sixth switch element connected to each other in series between the first end and the second end of the capacitor; and</claim-text><claim-text>a motor including: a first winding connected to a connection point common between the first switch element and the second switch element; a second winding connected to a connection point common between the third switch element and the fourth switch element; and a third winding connected to a connection point common between the fifth switch element and the sixth switch element;</claim-text><claim-text>the demagnetization diagnosis method comprising:</claim-text><claim-text>with use of a pulse voltage generator, calculating a corrected pulse voltage application time period by a Mathematical Expression 6 below, and selecting a voltage vector nearest to a rotor phase of a rotor of the motor out of voltage vectors V1 to V12 shown in a Table 1 below, and outputting the selected voltage vector as a voltage vector command, for the corrected pulse voltage application time period;</claim-text><claim-text>with use of a current measurement instrument, measuring output currents of three phases of the power converter outputted when the first to sixth switch elements of the power converter are turned ON or OFF in accordance with the Table 1 in response to the voltage vector command;</claim-text><claim-text>with use of a three-phase/two-phase converter, converting the output currents of the three phases into output currents of two phases, and outputting a d-axis current and a q-axis current; and</claim-text><claim-text>with use of a demagnetization determiner, determining demagnetization as occurring in a permanent magnet of the rotor of the motor, in response to satisfaction of a condition that an alternating-current effective value calculated from the d-axis current and the q-axis current after passage of the corrected pulse voltage application time period is equal to or less than a demagnetization determination threshold.</claim-text></claim-text><claim-text><maths id="MATH-US-00007" num="00007"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mo>[</mo>     <mrow>      <mi>Mathematical</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mi>Expression</mi>      <mo>&#x2062;</mo>      <mtext>   </mtext>      <mn>6</mn>     </mrow>     <mo>]</mo>    </mrow>   </mtd>   <mtd>    <mi>&#xf3ba;</mi>   </mtd>  </mtr>  <mtr>   <mtd>    <mrow>     <msup>      <mi>Ton</mi>      <mo>&#x2032;</mo>     </msup>     <mo>=</mo>     <mfrac>      <mi>Ton</mi>      <msqrt>       <mrow>        <mrow>         <msup>          <mi>cos</mi>          <mn>2</mn>         </msup>         <mo>(</mo>         <mrow>          <mi>&#x394;</mi>          <mo>&#x2062;</mo>          <mi>&#x3b8;</mi>         </mrow>         <mo>)</mo>        </mrow>        <mo>+</mo>        <msup>         <mrow>          <mo>(</mo>          <mrow>           <mfrac>            <mrow>             <mi>L</mi>             <mo>&#x2062;</mo>             <mi>d</mi>            </mrow>            <mrow>             <mi>L</mi>             <mo>&#x2062;</mo>             <mi>q</mi>            </mrow>           </mfrac>           <mo>*</mo>           <mrow>            <mi>sin</mi>            <mo>&#x2061;</mo>            <mo>(</mo>            <mi>&#x394;&#x3b8;</mi>            <mo>)</mo>           </mrow>          </mrow>          <mo>)</mo>         </mrow>         <mn>2</mn>        </msup>       </mrow>      </msqrt>     </mfrac>    </mrow>   </mtd>   <mtd>    <mrow>     <mo>(</mo>     <mn>6</mn>     <mo>)</mo>    </mrow>   </mtd>  </mtr> </mtable></math></maths><claim-text><claim-text>Ton: Pulse voltage application time period before correction (fixed value)</claim-text><claim-text>Ton&#x2032;: Pulse voltage application time period after correction</claim-text><claim-text>&#x394;&#x3b8;: Absolute value of difference between current rotor phase &#x3b3; and phase of voltage vector command</claim-text><claim-text>Ld: d-axis inductance</claim-text><claim-text>Lq q-axis inductance</claim-text></claim-text></claim-text><claim-text><tables id="TABLE-US-00009" num="00009"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="1" colwidth="21pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="42pt" align="left"/><colspec colname="4" colwidth="42pt" align="left"/><colspec colname="5" colwidth="42pt" align="left"/><colspec colname="6" colwidth="42pt" align="left"/><colspec colname="7" colwidth="42pt" align="left"/><thead><row><entry namest="1" nameend="7" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row><row><entry/><entry>FIRST</entry><entry>SECOND</entry><entry>THIRD</entry><entry>FOURTH</entry><entry>FIFTH</entry><entry>SIXTH</entry></row><row><entry/><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry></row><row><entry/><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>V1</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V2</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V3</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V4</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V5</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V6</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry>V7</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V8</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V9</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V10</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V11</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V12</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. A demagnetization diagnosis method for a motor control device, wherein the motor control device includes:<claim-text>a power converter including: a first switch element and a second switch element connected to each other in series between a first end and a second end of a capacitor; a third switch element and a fourth switch element connected to each other in series between the first end and the second end of the capacitor; and a fifth switch element and a sixth switch element connected to each other in series between the first end and the second end of the capacitor; and</claim-text><claim-text>a motor including: a first winding connected to a connection point common between the first switch element and the second switch element; a second winding connected to a connection point common between the third switch element and the fourth switch element; and a third winding connected to a connection point common between the fifth switch element and the sixth switch element;</claim-text><claim-text>the demagnetization diagnosis method comprising:</claim-text><claim-text>with use of a pulse voltage generator, calculating a corrected pulse voltage application time period by a Mathematical Expression 8 below, and selecting a voltage vector nearest to a rotor phase of a rotor of the motor out of voltage vectors V1 to V12 shown in a Table 1 below, and outputting the selected voltage vector as a voltage vector command, for the corrected pulse voltage application time period;</claim-text><claim-text>with use of a current measurement instrument, measuring output currents of three phases of the power converter outputted when the first to sixth switch elements of the power converter are turned ON or OFF in accordance with the Table 1 in response to the voltage vector command;</claim-text><claim-text>with use of a three-phase/two-phase converter, converting the output currents of the three phases into output currents of two phases, and outputting a d-axis current or both of the d-axis current and a q-axis current; and</claim-text><claim-text>with use of a demagnetization determiner, determining demagnetization as occurring in a permanent magnet of the rotor of the motor, in response to satisfaction of a condition that the d-axis current or an alternating-current effective value calculated from the d-axis current and the q-axis current after passage of the corrected pulse voltage application time period is equal to or less than a demagnetization determination threshold.<claim-text><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[Mathematical Expression 8]<?in-line-formulae description="In-line Formulae" end="tail"?></claim-text><claim-text><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i>on&#x2033;=<i>T</i>on*VDC/VDC&#x2032;&#x2003;&#x2003;(8)<?in-line-formulae description="In-line Formulae" end="tail"?></claim-text><claim-text>Ton: Pulse voltage application time period before correction (fixed value)</claim-text><claim-text>Ton&#x2033;: Pulse voltage application time period after correction</claim-text><claim-text>VDC: Direct-current voltage reference value (fixed value)</claim-text><claim-text>VDC&#x2032;: Direct-current voltage measured value</claim-text></claim-text></claim-text><claim-text><tables id="TABLE-US-00010" num="00010"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="1" colwidth="21pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="42pt" align="left"/><colspec colname="4" colwidth="42pt" align="left"/><colspec colname="5" colwidth="42pt" align="left"/><colspec colname="6" colwidth="42pt" align="left"/><colspec colname="7" colwidth="42pt" align="left"/><thead><row><entry namest="1" nameend="7" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row><row><entry/><entry>FIRST</entry><entry>SECOND</entry><entry>THIRD</entry><entry>FOURTH</entry><entry>FIFTH</entry><entry>SIXTH</entry></row><row><entry/><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry><entry>SWITCH</entry></row><row><entry/><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry><entry>ELEMENT</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>V1</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V2</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V3</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V4</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V5</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry></row><row><entry>V6</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry>V7</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V8</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V9</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V10</entry><entry>OFF</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V11</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>ON</entry><entry>OFF</entry></row><row><entry>V12</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry><entry>ON</entry><entry>OFF</entry><entry>OFF</entry></row><row><entry namest="1" nameend="7" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></claim-text></claim></claims></us-patent-application>