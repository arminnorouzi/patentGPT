<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230004595A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230004595</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17781093</doc-number><date>20210430</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202010368319.5</doc-number><date>20200430</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>16</main-group><subgroup>532</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>16</main-group><subgroup>583</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>16</main-group><subgroup>538</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>V</subclass><main-group>10</main-group><subgroup>774</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>V</subclass><main-group>10</main-group><subgroup>40</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20190101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>16</main-group><subgroup>532</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20190101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>16</main-group><subgroup>583</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20190101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>16</main-group><subgroup>538</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20220101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>V</subclass><main-group>10</main-group><subgroup>774</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20220101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>V</subclass><main-group>10</main-group><subgroup>40</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">IMAGE RETRIEVAL METHOD, IMAGE RETRIEVAL DEVICES, IMAGE RETRIEVAL SYSTEM AND IMAGE DISPLAY SYSTEM</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>BOE TECHNOLOGY GROUP CO., LTD.</orgname><address><city>Beijing</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>XU</last-name><first-name>Jingtao</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>ZHANG</last-name><first-name>Shaonan</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>BOE TECHNOLOGY GROUP CO., LTD.</orgname><role>03</role><address><city>Beijing</city><country>CN</country></address></addressbook></assignee></assignees><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/CN2021/091308</doc-number><date>20210430</date></document-id><us-371c12-date><date>20220531</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">An image retrieval method, an image retrieval device, and an image retrieval system, which are used for image retrieval, are provided. The image retrieval method comprises: receiving a first original image (S<b>100</b>); extracting an image feature of the first original image to obtain a first feature code (S<b>200</b>); obtaining first target information according to the first feature code (S<b>300</b>); according to the first target information, searching for a first target painting set corresponding to the first target information in at least one of a painting library and a knowledge graph library, so as to obtain the first target painting set (S<b>400</b>); and outputting the first target painting set (S<b>500</b>).</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="27.26mm" wi="75.27mm" file="US20230004595A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="235.46mm" wi="151.05mm" file="US20230004595A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="172.38mm" wi="151.89mm" file="US20230004595A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="239.10mm" wi="152.99mm" file="US20230004595A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="230.55mm" wi="153.25mm" file="US20230004595A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="226.74mm" wi="74.08mm" file="US20230004595A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="237.41mm" wi="164.42mm" file="US20230004595A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="192.87mm" wi="92.63mm" file="US20230004595A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="149.69mm" wi="166.29mm" file="US20230004595A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="165.52mm" wi="162.73mm" file="US20230004595A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a national phase entry under 35 USC 371 of International Patent Application No. PCT/CN2021/091308, filed on Apr. 30, 2021, which claims priority to Chinese Patent Application No. 202010368319.5, filed on Apr. 30, 2020, which are incorporated herein by reference in their entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">The present disclosure relates to the field of image processing technologies, and in particular, to an image retrieval method, image retrieval devices, an image retrieval system, an image display system, and a computer readable storage medium.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">A painting screen is able to display images (a painting is considered as an example herein) and restore a true texture of the painting, and thus it has been widely used.</p><p id="p-0005" num="0004">A user may enter a text description (e.g., a name or an author of a painting) of relevant information of the painting, so that a corresponding painting can be displayed on the painting screen for the user to appreciate. However, in a case where the user finds a condition that relevant information such as a name and an author of a painting is unknown, it is difficult for the user to directly retrieve and display the painting through the painting screen, and it is also difficult for the user to know about information of the painting.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0006" num="0005">In a first aspect, an image retrieval method is provided. The image retrieval method includes: receiving a first original image; extracting an image feature of the first original image to obtain a first feature code; obtaining first target information according to the first feature code; searching in at least one of a painting library and a knowledge graph library for a first target painting set corresponding to the first target information according to the first target information, so as to obtain the first target painting set; and outputting the first target painting set.</p><p id="p-0007" num="0006">In some embodiments, extracting the image feature of the first original image to obtain the first feature code, includes: extracting the image feature of the first original image using a first image feature extraction model to obtain the first feature code.</p><p id="p-0008" num="0007">The image retrieval method further includes: acquiring operation information of a user in response to an operation of the user on the first target painting set; updating the first image feature extraction model according to the operation information of the user to obtain a second image feature extraction model; receiving a second original image; extracting an image feature of the second original image using the second image feature extraction model to obtain a second feature code; obtaining second target information according to the second feature code; searching in the painting library and the knowledge graph library for a second target painting set corresponding to the second target information according to the second target information, so as to obtain the second target painting set; and outputting the second target painting set.</p><p id="p-0009" num="0008">In some embodiments, updating the first image feature extraction model according to the operation information of the user to obtain the second image feature extraction model, includes: classifying the operation information of the user; calculating a proportion of operation information of the user corresponding to each type of label; adjusting a weight of an image feature corresponding to each type of label according to the proportion of the operation information of the user corresponding to each type of label; forming the second image feature extraction model by training according to the first image feature extraction model and the adjusted weight; and replacing the first image feature extraction model with the second image feature extraction model.</p><p id="p-0010" num="0009">In some embodiments, obtaining the first target information according to the first feature code, includes: calculating a distance between the first feature code and each feature code in a first feature code library and a second feature code library; acquiring feature codes corresponding to distances in a preset range and taking the acquired feature codes as a first target feature code set; and determining the first target information according to the first target feature code set. The first feature code library is a feature code library obtained by performing an image feature extraction on a plurality of images in the painting library using a first image feature extraction model; and the second feature code library is a feature code library obtained by performing an image feature extraction on a plurality of images in the knowledge graph library using the first image feature extraction model.</p><p id="p-0011" num="0010">In some embodiments, obtaining the second target information according to the second feature code, includes: calculating a distance between the second feature code and each feature code in a third feature code library and a fourth feature code library; acquiring feature codes corresponding to distances in a preset range and taking the acquired feature codes as a second target feature code set; and determining the second target information according to the second target feature code set. The third feature code library is a feature code library obtained by performing an image feature extraction on a plurality of images in the painting library using the second image feature extraction model; and the fourth feature code library is a feature code library obtained by performing the image feature extraction on a plurality of images in the knowledge graph library using the second image feature extraction model.</p><p id="p-0012" num="0011">In some embodiments, searching in the at least one of the painting library and the knowledge graph library for the first target painting set corresponding to the first target information according to the first target information, so as to obtain the first target painting set, includes: searching in the painting library according to the first target information to obtain a first search result; searching in the knowledge graph library according to the first target information to obtain a second search result; if the first search result includes a hit painting, taking the first search result as the first target painting set, the hit painting being a painting with a highest similarity to the first original image among paintings corresponding to the first target information; if the first search result does not include the hit painting and the second search result includes the hit painting, taking the first search result and the hit painting together as the first target painting set; and if neither the first search result nor the second search result includes the hit painting, taking the first search result as the first target painting set.</p><p id="p-0013" num="0012">In some embodiments, searching in the at least one of the painting library and the knowledge graph library for the first target painting set corresponding to the first target information according to the first target information, so as to obtain the first target painting set, includes: searching in the painting library according to the first target information to obtain a first search result; searching in the knowledge graph library according to the first target information to obtain a second search result; if the first search result and the second search result are same, taking the first search result as the first target painting set; and if the first search result and the second search result are not completely same, taking a union set of the first search result and the second search result as the first target painting set.</p><p id="p-0014" num="0013">In a second aspect, an image retrieval device is provided. The image retrieval device is configured to perform the image retrieval method as described in any of the above embodiments. The image retrieval device includes a processor and a memory. The memory stores program instructions, and the program instructions are executed by the processor.</p><p id="p-0015" num="0014">In a third aspect, an image retrieval device is provided. The image retrieval device has stored a painting library and a knowledge graph library therein, and includes a first server and a second server. The first server is configured to: receive a first original image and send the first original image to the second server. The second server is configured to: receive the first original image sent by the first server; extract an image feature of the first original image to obtain a first feature code; and obtain first target information according to the first feature code and transmit the first target information to the first server. The first server is further configured to: receive the first target information transmitted by the second server; search in at least one of a painting library and a knowledge graph library for a first target painting set corresponding to the first target information according to the first target information, so as to obtain the first target painting set; and output the first target painting set.</p><p id="p-0016" num="0015">In some embodiments, the first server is further configured to perform data processing on the received first original image and send the data-processed first original image to the second server.</p><p id="p-0017" num="0016">In some embodiments, the second server is further configured to: extract the image feature of the first original image using a first image feature extraction model to obtain the first feature code.</p><p id="p-0018" num="0017">In some embodiments, the second server is further configured to: acquire operation information of a user in response to an operation of the user on the first target painting set; and update a first image feature extraction model according to the operation information of the user to obtain a second image feature extraction model. The first server is further configured to: receive a second original image and send the second original image to the second server. The second server is further configured to: extract an image feature of the second original image using the second image feature extraction model to obtain a second feature code; obtain second target information according to the second feature code; and transmit the second target information to the first server. The first server is further configured to: search in the painting library and the knowledge graph library for a second target painting set corresponding to the second target information according to the second target information, so as to obtain the second target painting set; and output the second target painting set.</p><p id="p-0019" num="0018">In some embodiments, the second server is further configured to: classify the operation information of the user and calculate a proportion of operation information of the user corresponding to each type of label; adjust a weight of an image feature corresponding to each type of label according to the proportion of the operation information of the user corresponding to each type of label; form the second image feature extraction model by training according to the first image feature extraction model and an image feature, a weight of which is adjusted; and replace the first image feature extraction model with the second image feature extraction model.</p><p id="p-0020" num="0019">In some embodiments, the first server is further configured to: search in the painting library according to the first target information to obtain a first search result; search in the knowledge graph library according to the first target information to obtain a second search result; in the case where the first search result includes a hit painting that is a painting with a highest similarity to the first original image among paintings corresponding to the first target information, take the first search result as the first target painting set; in the case where the first search result does not include the hit painting and the second search result includes the hit painting, take the first search result and the hit painting together as the first target painting set; and in the case where neither the first search result nor the second search result includes the hit painting, take the first search result as the first target painting set.</p><p id="p-0021" num="0020">In some embodiments, the first server is further configured to: search in the painting library according to the first target information to obtain a first search result; search in the knowledge graph library according to the first target information to obtain a second search result; in the case where the first search result and the second search result are same, take the first search result as the first target painting set; and in the case where the first search result and the second search result are not completely same, take a union set of the first search result and the second search result as the first target painting set.</p><p id="p-0022" num="0021">In a fourth aspect, an image retrieval system is provided. The image retrieval system includes an image retrieval device and a terminal device. The image retrieval device is configured to perform the image retrieval method as described in any of the above embodiments. The terminal device is configured to capture the first original image and upload the first original image to the image retrieval device, receive the first target painting set output by the image retrieval device, and display the first target painting set in response to an operation of a user.</p><p id="p-0023" num="0022">In a fifth aspect, an image display system is provided. The image display system includes an image retrieval device, a terminal device and a painting display terminal. The image retrieval device is configured to perform the image retrieval method as described in any of the above embodiments. The terminal device is configured to capture the first original image and upload the first original image to the image retrieval device, receive the first target painting set output by the image retrieval device, and output the first target painting set to the painting display terminal in response to an operation of a user. The painting display terminal is configured to display the first target painting set.</p><p id="p-0024" num="0023">In a sixth aspect, a non-transitory computer-readable storage medium is provided. The non-transitory computer-readable storage medium has stored thereon computer program instructions that, when run on a processor, cause the processor to perform the image retrieval method as described in any of the above embodiments.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0025" num="0024">In order to describe technical solutions in the present disclosure more clearly, accompanying drawings to be used in some embodiments of the present disclosure will be introduced briefly below. Obviously, the accompanying drawings to be described below are merely accompanying drawings of some embodiments of the present disclosure, and a person of ordinary skill in the art can obtain other drawings according to these drawings. In addition, the accompanying drawings in the following description may be regarded as schematic diagrams, and are not limitations on actual sizes of products, actual processes of methods and actual timings of signals involved in the embodiments of the present disclosure.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a structural diagram of a knowledge graph, in accordance with some embodiments of the present disclosure;</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a structural diagram of another knowledge graph, in accordance with some embodiments of the present disclosure;</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flow diagram of an image retrieval method, in accordance with some embodiments of the present disclosure;</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a flow diagram of S<b>300</b> in the image retrieval method shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>;</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flow diagram of S<b>400</b> in the image retrieval method shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>;</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flow diagram of another image retrieval method, in accordance with some embodiments of the present disclosure;</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flow diagram of S<b>700</b> in the image retrieval method shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>;</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flow diagram of S<b>1000</b> in the image retrieval method shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>;</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is an interface diagram of a first target painting set displayed by a terminal device, in accordance with some embodiments of the present disclosure;</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is an interface diagram of information of a first target painting set displayed by a terminal device, in accordance with some embodiments of the present disclosure;</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is an interface diagram of information corresponding to questioned key fields displayed by a terminal device, in accordance with some embodiments of the present disclosure;</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>12</b>A</figref> is a structural diagram of an image retrieval device, in accordance with some embodiments of the present disclosure;</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>12</b>B</figref> is a flow diagram of an image retrieval device performing an image retrieval method, in accordance with some embodiments of the present disclosure;</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. <b>13</b>A</figref> is a structural diagram of an image retrieval system, in accordance with some embodiments of the present disclosure;</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>13</b>B</figref> is a structural diagram of an image display system and an image retrieval device, in accordance with some embodiments of the present disclosure;</p><p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. <b>13</b>C</figref> is a diagram showing an operation interface of a terminal device, in accordance with some embodiments of the present disclosure;</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a structural diagram of another image retrieval system, in accordance with some embodiments of the present disclosure;</p><p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a structural diagram of a cloud server deployment scheme, in accordance with some embodiments of the present disclosure; and</p><p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a structural diagram of a scheme of user feedback, knowledge graph search and log storage, in accordance with some embodiments of the present disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0045" num="0044">Technical solutions in some embodiments of the present disclosure will be described clearly and completely with reference to the accompanying drawings below. Obviously, the described embodiments are merely some but not all embodiments of the present disclosure. All other embodiments obtained by a person of ordinary skill in the art based on the embodiments of the present disclosure shall be included in the protection scope of the present disclosure.</p><p id="p-0046" num="0045">Unless the context requires otherwise, throughout the description and the claims, the term &#x201c;comprise&#x201d; and other forms thereof such as the third-person singular form &#x201c;comprises&#x201d; and the present participle form &#x201c;comprising&#x201d; are construed as open and inclusive, i.e., &#x201c;including, but not limited to&#x201d;. In the description of the specification, the terms such as &#x201c;one embodiment&#x201d;, &#x201c;some embodiments&#x201d;, &#x201c;exemplary embodiments&#x201d;, &#x201c;example&#x201d;, &#x201c;specific example&#x201d; and &#x201c;some examples&#x201d; are intended to indicate that specific features, structures, materials or characteristics related to the embodiment(s) or example(s) are included in at least one embodiment or example of the present disclosure. Schematic representations of the above terms do not necessarily refer to the same embodiment(s) or example(s). In addition, the specific features, structures, materials or characteristics may be included in any one or more embodiments or examples in any suitable manner.</p><p id="p-0047" num="0046">Hereinafter, the terms such as &#x201c;first&#x201d; and &#x201c;second&#x201d; are used for descriptive purposes only, and are not to be construed as indicating or implying the relative importance or implicitly indicating the number of indicated technical features. Thus, features defined by &#x201c;first&#x201d; and &#x201c;second&#x201d; may explicitly or implicitly include one or more of the features. In the description of the embodiments of the present disclosure, &#x201c;a plurality of&#x201d; or &#x201c;the plurality of&#x201d; means two or more unless otherwise specified.</p><p id="p-0048" num="0047">In the description of some embodiments, terms such as &#x201c;coupled&#x201d; and &#x201c;connected&#x201d; and their extensions may be used. For example, the term &#x201c;connected&#x201d; may be used in the description of some embodiments to indicate that two or more components are in direct physical or electrical contact with each other. As another example, the term &#x201c;coupled&#x201d; may be used in the description of some embodiments to indicate that two or more components are in direct physical or electrical contact. However, the term &#x201c;coupled&#x201d; or &#x201c;communicatively coupled&#x201d; may also mean that two or more components are not in direct contact with each other, but still cooperate or interact with each other. The embodiments disclosed herein are not necessarily limited to the content herein.</p><p id="p-0049" num="0048">The phrase &#x201c;at least one of A, B and C&#x201d; has the same meaning as the phrase &#x201c;at least one of A, B or C&#x201d;, and they both include the following combinations of A, B and C: only A, only B, only C, a combination of A and B, a combination of A and C, a combination of B and C, and a combination of A, B and C.</p><p id="p-0050" num="0049">The phrase &#x201c;A and/or B&#x201d; includes the following three combinations: only A, only B, and a combination of A and B.</p><p id="p-0051" num="0050">As used herein, the term &#x201c;if&#x201d; is optionally construed as &#x201c;when&#x201d; or &#x201c;in a case where&#x201d; or &#x201c;in response to determining&#x201d; or &#x201c;in response to detecting&#x201d;, depending on the context. Similarly, the phrase &#x201c;if it is determined&#x201d; or &#x201c;if [a stated condition or event] is detected&#x201d; is optionally construed as &#x201c;in a case where it is determined that&#x201d; or &#x201c;in response to determining that&#x201d; or &#x201c;in a case where [the stated condition or event] is detected&#x201d; or &#x201c;in response to detecting [the stated condition or event]&#x201d;, depending on the context.</p><p id="p-0052" num="0051">The usage of the phrase &#x201c;applicable to&#x201d; or &#x201c;configured to&#x201d; herein means an open and inclusive language, which does not exclude devices that are applicable to or configured to perform additional tasks or steps.</p><p id="p-0053" num="0052">In addition, the use of the phrase &#x201c;based on&#x201d; is meant to be open and inclusive, since a process, step, calculation or other action that is &#x201c;based on&#x201d; one or more of the stated conditions or values may, in practice, be based on additional conditions or values exceeding those stated.</p><p id="p-0054" num="0053">As used herein, the term such as &#x201c;about&#x201d;, &#x201c;substantially&#x201d; or &#x201c;approximately&#x201d; includes a stated value and an average value within an acceptable range of deviation of a particular value. The acceptable range of deviation is determined by a person of ordinary skill in the art in view of the measurement in question and errors associated with the measurement of a particular quantity (i.e., the limitations of the measurement system).</p><p id="p-0055" num="0054">Some embodiments of the present disclosure provide an image retrieval method. Technical elements involved in the image retrieval method are schematically described below.</p><heading id="h-0007" level="1">Knowledge Graph (KG)</heading><p id="p-0056" num="0055">The knowledge graph is a structured semantic knowledge base, and basic component units thereof include a first entity, a relationship and a second entity.</p><p id="p-0057" num="0056">The knowledge graph is generally composed of a plurality of nodes and a plurality of edges, each node represents the first entity or the second entity, and each edge represents the relationship. In the knowledge graph, the plurality of edges connect all nodes to form a net structure. Each node corresponds to a unique identification, and each edge corresponds to a relationship. The knowledge graph can be applied to relevant scenarios such as knowledge inference, searching, question and answer, and can give accurate and elaborative answers.</p><p id="p-0058" num="0057">For example, as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, <figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a basic structure of the knowledge graph. The knowledge graph includes a first node <b>11</b> and a second node <b>13</b>, and the first node <b>11</b> and the second node <b>13</b> are connected through an edge <b>12</b>. Here, the first node <b>11</b> represents the first entity, the edge <b>12</b> represents the relationship, and the second node <b>13</b> represents the second entity. The first node <b>11</b>, the edge <b>12</b> and the second node <b>13</b> form a three-tuple structure of &#x201c;the first entity, the relationship and the second entity&#x201d;.</p><p id="p-0059" num="0058">For example, as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the first entity may be a person name, a place name or the like, and the second entity may be a person name, a place name or the like. The relationship may be a father-child relationship, a mother-child relationship, a spouse relationship or an affiliation of geographical regions, etc.</p><p id="p-0060" num="0059">It will be seen from <figref idref="DRAWINGS">FIG. <b>2</b></figref> that a person A and a person C have a father-daughter relationship, that is, the person A corresponds to the person C through the father-daughter relationship. Here, in the person A and the person C, the person A is the first entity and the person C is the second entity; alternatively, the person C is the first entity and the person A is the second entity.</p><p id="p-0061" num="0060">It will be seen from <figref idref="DRAWINGS">FIG. <b>2</b></figref> that the person A and a person B have the spouse relationship, that is, the person A corresponds to the person B through the spouse relationship. Here, in the person A and the person B, the person A is the first entity and the person B is the second entity; alternatively, the person B is the first entity and the person A is the second entity.</p><p id="p-0062" num="0061">It will be seen from <figref idref="DRAWINGS">FIG. <b>2</b></figref> that the person B and a place D have a birthplace relationship, that is, the person B corresponds to the place D through the birthplace relationship. Here, in the person B and the place D, the person B is the first entity and the place D is the second entity.</p><p id="p-0063" num="0062">As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the image retrieval method provided by some embodiments of the present disclosure includes S<b>100</b> to S<b>500</b>.</p><p id="p-0064" num="0063">In S<b>100</b>, a first original image is received.</p><p id="p-0065" num="0064">In some examples, before the S<b>100</b>, the image retrieval method further includes: capturing the first original image by a terminal device. For example, the first original image is shot by the terminal device.</p><p id="p-0066" num="0065">For example, a captured object corresponding to the first original image includes a plurality of types of sources. For example, the captured object may come from an image displayed on a certain electronic display apparatus (e.g., a television), or come from a print (e.g., a poster, a magazine or a calendar).</p><p id="p-0067" num="0066">For example, a subject of receiving the first original image and retrieving images according to the first original image may be an image retrieval device.</p><p id="p-0068" num="0067">In S<b>200</b>, an image feature of the first original image is extracted to obtain a first feature code.</p><p id="p-0069" num="0068">In some examples, the image feature includes a plurality of categories. For example, the image feature may include categories of color, shape (e.g., plant shape or animal shape, etc.), texture, type or time. Each category corresponds to a label and represents a dimensionality of the image feature. Therefore, it can also be said that the image feature has a plurality of dimensionalities.</p><p id="p-0070" num="0069">In some examples, after the image feature of the first original image is extracted, a dimensionality reduction and a Hash quantization may be performed on the image feature to obtain the first feature code. For example, the first feature code is a string of numbers in binary, a length of which may be set according to a complexity of the image feature of the first original image. For example, the first feature code may be 2048-dimensional, 1024-dimensional or 512-dimensional.</p><p id="p-0071" num="0070">In some examples, in the S<b>200</b>, extracting the image feature of the first original image to obtain the first feature code, includes: extracting the image feature of the first original image using a first image feature extraction model to obtain the first feature code.</p><p id="p-0072" num="0071">For example, the first image feature extraction model may be a feature extraction model of a deep learning model.</p><p id="p-0073" num="0072">In S<b>300</b>, first target information is obtained according to the first feature code.</p><p id="p-0074" num="0073">The first target information is information that can correspond to at least one image in the painting library and/or the knowledge graph library. For example, the first target information may include identifications (e.g., names, serial numbers, store addresses and the like, the following will take the names or the store addresses as an example) of images, each name corresponds to a unique image in the painting library and/or the knowledge graph library.</p><p id="p-0075" num="0074">In some examples, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, in S<b>300</b>, obtaining the first target information according to the first feature code, includes S<b>310</b> to S<b>330</b>.</p><p id="p-0076" num="0075">In S<b>310</b>, a first feature code library corresponding to the painting library and a second feature code library corresponding to the knowledge graph library are acquired. The first feature code library and the second feature code library are obtained by respectively performing image feature extractions on images in the painting library and images in the knowledge graph library using the first image feature extraction model. For example, the first feature code library is a feature code library obtained by performing an image feature extraction on a plurality of images in the painting library using the first image feature extraction model, and the second feature code library is a feature code library obtained by performing the image feature extraction on a plurality of images in the knowledge graph library using the first image feature extraction model.</p><p id="p-0077" num="0076">It will be noted that the painting library and the knowledge graph library each store a plurality of images therein. In a case where image features of both the images in the painting library and the images in the knowledge graph library are extracted using the first image feature extraction model, the category and the number of labels of the extracted image features are the same as the category and the number of labels of the extracted image feature of the first original image. A dimension of each feature code in the first feature code library and a dimension of each feature code in the second feature code library are the same as a dimension of the first feature code.</p><p id="p-0078" num="0077">In S<b>320</b>, a distance between the first feature code and each feature code in the first feature code library and the second feature code library is calculated, and feature codes corresponding to distances in a preset range are acquired and all acquired feature codes are taken as a first target feature code set.</p><p id="p-0079" num="0078">The distance includes a plurality of types, which may be selectively set according to actual requirements. For example, the distance is the Hamming distance, or the distance is the Euclidean distance.</p><p id="p-0080" num="0079">Here, the preset range has different meanings according to the difference of the set types of the distance.</p><p id="p-0081" num="0080">For example, the distance is the Hamming distance, and in this case, the preset range may be 0 to 5. The Hamming distance refers to the number of different characters in corresponding positions between two character strings. That is, the Hamming distance is a natural number. In this case, the Hamming distance may be 0, 1, 2, 3, 4 or 5.</p><p id="p-0082" num="0081">For example, the distance is the Euclidean distance, and in this case, the preset range may be 0 to 5. The Euclidean distance refers to a real distance between two points in an m-dimensional space (m is a positive integer), and in this case, the Euclidean distance may be any value from 0 to 5. For example, the Euclidean distance is 0, 1, &#x221a;{square root over (2)}, &#x221a;{square root over (3)}, 2, &#x221a;{square root over (5)}, &#x221a;{square root over (6)}, 3 or 5.</p><p id="p-0083" num="0082">The following will be illustrated in an example in which the distance is the Hamming distance and the distance between the first feature code and each feature code in the first feature code library is calculated.</p><p id="p-0084" num="0083">After the first feature code is obtained, the first feature code may be compared to all feature codes in the first feature code library sequentially, so as to determine whether characters in corresponding positions between the first feature code and each feature code in the first feature code library are the same and record the number of positions of different characters. The number of the positions of different characters is the Hamming distance between the first feature code and each feature code in the first feature code library.</p><p id="p-0085" num="0084">For example, the first feature code is 1011101, and a feature code in the first feature code library is 1001001. It will be seen from the two feature codes that a third bit of the first feature code is different from a third bit of the feature code in the first feature code library, a fifth bit of the first feature code is different from a fifth bit of the feature code in the first feature code library, and characters of remaining corresponding positions are the same. Thus, the Hamming distance between the first feature code 1011101 and the feature code 1001001 in the first feature code library is 2.</p><p id="p-0086" num="0085">For example, the first feature code is 1011101, and a feature code in the first feature code library is 0001001. It will be seen from the two feature codes that a first bit of the first feature code is different from a first bit of the feature code in the first feature code library, the third bit of the first feature code is different from a third bit of the feature code in the first feature code library, the fifth bit of the first feature code is different from a fifth bit of the feature code in the first feature code library, and characters of remaining corresponding positions are the same. Thus, the Hamming distance between the first feature code 1011101 and the feature code 0001001 in the first feature code library is 3.</p><p id="p-0087" num="0086">In the above two examples, the Hamming distance between the first feature code 1011101 and the feature code 1001001 in the first feature code library is less than the Hamming distance between the first feature code 1011101 and the feature code 0001001 in the first feature code library. That is, the number of the same characters in corresponding positions between the first feature code 1011101 and the feature code 1001001 in the first feature code library is greater than the number of the same characters in corresponding positions between the first feature code 1011101 and the feature code 0001001 in the first feature code library. Therefore, the feature code 1001001 in the first feature code library is more similar to the first feature code 1011101 than the feature code 0001001 in the first feature code library, and thus an image corresponding to the feature code 1001001 in the first feature code library is more similar to the first original image.</p><p id="p-0088" num="0087">Thus, the greater the distance between the first feature code and the feature code in the first feature code library, the lower a similarity between the captured object corresponding to the first original image and the image corresponding to the feature code in the first feature code library. The smaller the distance between the first feature code and the feature code in the first feature code library, the higher the similarity between the captured object corresponding to the first original image and the image corresponding to the feature code in the first feature code library. In a case where the distance between the first feature code and the feature code in the first feature code library is 0, the captured object corresponding to the first original image and the image corresponding to the feature code in the first feature code library are the same.</p><p id="p-0089" num="0088">It will be noted that a calculation of the distance between the first feature code and each feature code in the second feature code library is the same as a calculation of the distance between the first feature code and each feature code in the first feature code library, which may refer to the above schematic description of the calculation of the distance between the first feature code and each feature code in the first feature code library and will not be described in detail here.</p><p id="p-0090" num="0089">In the S<b>320</b>, after the distance between the first feature code and each feature code in the first feature code library and the second feature code library is calculated, the feature codes corresponding to the distances in the preset range may be acquired, and all the acquired feature codes are taken as the first target feature code set.</p><p id="p-0091" num="0090">The preset range refers to a preset range of the distance between the first feature code and each feature code in the first feature code library and the second feature code library. An upper limit value of the preset range may be selectively set according to actual requirements. For example, the upper limit value of the preset range is 5, that is, the preset range is 0 to 5. In this case, feature codes corresponding to distances, in the range of 0 to 5, each between the first feature code and each feature code in the first feature code library and the second feature code library may be extracted and taken as the first target feature code set.</p><p id="p-0092" num="0091">In some examples, the S<b>320</b> further includes: after the distance between the first feature code and each feature code in the first feature code library and the second feature code library is calculated, sorting the calculated distances according to magnitudes of the distances.</p><p id="p-0093" num="0092">Sorting the calculated distances according to the magnitudes of the distances includes: sorting the calculated distances in ascending order, or sorting the calculated distances in descending order. In this way, the distances in the preset range and feature codes corresponding thereto may be directly acquired from a beginning or an end of a sequence list obtained by sorting. Moreover, the similarity between the image corresponding to each feature code and the captured object corresponding to the first original image may be intuitively understood according to an arrangement order.</p><p id="p-0094" num="0093">In some examples, before the distances are sorted by magnitudes thereof, the S<b>320</b> further includes: in a process of calculating the distance between the first feature code and each feature code in the first feature code library and the second feature code library, deleting a feature code corresponding to a distance, greater than the upper limit value of the preset range, between the first feature code and each feature code in the first feature code library and the second feature code library. Thus, it may help reduce a subsequent workload of sorting distances and improve an efficiency of the image retrieval method.</p><p id="p-0095" num="0094">In S<b>330</b>, the first target information is determined according to the first target feature code set.</p><p id="p-0096" num="0095">For example, the first target information may be a list constituted of names of the images, and a corresponding image may be found in the painting library and/or the knowledge graph library according to the first target information. For example, a name of each image corresponds to an image store address, and the image may be found according to the image store address.</p><p id="p-0097" num="0096">As another example, the first target information may also be link addresses where the images are stored. An image stored in each link address is an image corresponding to the first target feature code set.</p><p id="p-0098" num="0097">Here, the first target feature code set is obtained according to the first feature code library and the second feature code library. Therefore, the first target feature code set may only be feature codes in the first feature code library, and in this case, the first target information corresponds to names (or stored link addresses) of part of images in the painting library. Alternatively, the first target feature code set may only be feature codes in the second feature code library, and in this case, the first target information corresponds to names (or stored link addresses) of part of images in the knowledge graph library. Alternatively, part of the first target feature code set is the feature codes in the first feature code library, the other part of the first target feature code set is the feature codes in the second feature code library, and in this case, the first target information corresponds to the names (or the stored link addresses) of the part of images in the painting library, and also corresponds to the names (or the stored link addresses) of the part of images in the knowledge graph library.</p><p id="p-0099" num="0098">In the embodiments of the present disclosure, the first feature code library and the second feature code library are established, and after the image feature of the first original image is extracted to obtain the first feature code, the distance between the first feature code and each feature code in the first feature code library and the second feature code library is calculated to select and acquire the feature codes corresponding to the distances in the preset range as the first target feature code set, so that the first target information is determined according to the first target feature code set. In this way, compared to directly comparing an original image to each painting in the painting library and the knowledge graph library, it is beneficial to reduce a comparing difficulty and improve a retrieval accuracy.</p><p id="p-0100" num="0099">In S<b>400</b>, a first target painting set corresponding to the first target information is obtained by searching in the painting library and/or the knowledge graph library according to the first target information.</p><p id="p-0101" num="0100">Since the painting library and the knowledge graph library each store the plurality of images therein, after the first target information is determined, images with names (or stored link addresses) that are the same as the first target information may be searched in the painting library and the knowledge graph library according to the first target information, and images obtained by searching are the first target painting set.</p><p id="p-0102" num="0101">It will be noted that the number of images included in the first target painting set may be selectively set according to actual requirements. For example, the number of the images included in the first target painting set is 5, 10 or 20.</p><p id="p-0103" num="0102">In some examples, in the images included in the first target painting set, there may be one image that is the same as the captured object corresponding to the first original image, this image may be referred to as a hit painting, and the remaining images are similar to the captured object corresponding to the first original image. Alternatively, the images included in the first target painting set are all similar to the captured object corresponding to the first original image, and in this case, the first target painting set does not include the hit painting.</p><p id="p-0104" num="0103">In the images included in the first target painting set, if there is one image that is the same as the captured object corresponding to the first original image (i.e., the hit painting is included), retrieval and searching for the captured object may be achieved in a case where relevant information such as a name and an author of the captured object is unknown. In the first target painting set obtained by searching, the remaining images are similar to the captured object corresponding to the first original image, so that a user may be provided with an opportunity to appreciate images similar to the captured object corresponding to the first original image, thereby being convenient for the user to compare and learn the images.</p><p id="p-0105" num="0104">In some examples, as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, considering a relationship between the first target information and both the name (or the stored link address) of the image in the painting library and the name (or the stored link address) of the image in the knowledge graph library, in the S<b>400</b>, searching in the painting library and/or the knowledge graph library for the first target painting set corresponding to the first target information according to the first target information, so as to obtain the first target painting set, includes S<b>410</b> to S<b>430</b>.</p><p id="p-0106" num="0105">In S<b>410</b>, a first search result is obtained by searching in the painting library according to the first target information.</p><p id="p-0107" num="0106">In S<b>420</b>, a second search result is obtained by searching in the knowledge graph library according to the first target information.</p><p id="p-0108" num="0107">In some embodiments, a process of searching in the painting library according to the first target information to obtain the first search result may include: finding a name of a corresponding image in the painting library according to the first target information, finding a store address of the corresponding image according to the name of the corresponding image, and then finding the corresponding image according to the store address of each image, so as to form the first search result.</p><p id="p-0109" num="0108">Similarly, the second search result may also be formed through the above method, which will not be repeated.</p><p id="p-0110" num="0109">For example, in a case where the first target information only corresponds to the names (or the stored link addresses) of the part of images in the painting library, the first search result is the part of images in the painting library, and the second search result is none.</p><p id="p-0111" num="0110">For example, in a case where the first target information only corresponds to the names (or the stored link addresses) of the part of images in the knowledge graph library, the first search result is none, and the second search result is the part of images in the knowledge graph library.</p><p id="p-0112" num="0111">For example, in a case where the first target information corresponds to the names (or the stored link addresses) of the part of images in the painting library, and also corresponds to the names (or the stored link addresses) of the part of images in the knowledge graph library, the first search result is the part of images in the painting library, and the second search result is the part of images in the knowledge graph library.</p><p id="p-0113" num="0112">It will be noted that the S<b>410</b> and the S<b>420</b> may be performed simultaneously, or the S<b>410</b> may be performed before the S<b>420</b>, or the S<b>420</b> may be performed before the S<b>410</b>, which is not limited in the examples.</p><p id="p-0114" num="0113">In S<b>430</b>, in a case where the first search result and the second search result are the same, the first search result is taken as the first target painting set. In a case where the first search result and the second search result are different, the first search result and the second search result are taken together as the first target painting set.</p><p id="p-0115" num="0114">For example, the first search result and the second search result are the same, that is, the part of images obtained by searching in the painting library are the same as the part of images obtained by searching in the knowledge graph library. In this case, the part of images obtained by searching in the painting library may be taken as the first target painting set. Thus, it may avoid duplication of images in the first target painting set.</p><p id="p-0116" num="0115">For example, the first search result and the second search result are not completely the same, that is, the part of images obtained by searching in the painting library are different from the part of images obtained by searching in the knowledge graph library. In this case, a union set of the part of images obtained by searching in the painting library and the part of images obtained by searching in the knowledge graph library may be taken as the first target painting set. Thus, it may ensure integrity of the images in the first target painting set.</p><p id="p-0117" num="0116">In addition, in a case where the first search result is some images in the painting library, the second search result is some images in the knowledge graph library, parts of the some images in the painting library and the some images in the knowledge graph library are the same, and the other parts of the some images in the painting library and the some images in the knowledge graph library are different, one of the same parts of the some images in the painting library and the some images in the knowledge graph library may be eliminated, and the rest parts of the some images in the painting library and the some images in the knowledge graph library may be taken as the first target painting set.</p><p id="p-0118" num="0117">By determining the first search result and the second search result after the first search result and the second search result are obtained by searching, it is convenient to ensure the integrity of the first target painting set obtained by retrieval using the image retrieval method provided by the embodiments of the present disclosure, and to prevent a part of images in the first target painting set obtained by retrieval from duplicating.</p><p id="p-0119" num="0118">In some embodiments, in a case where the first search result and the second search result are different or partially the same, the first target painting set may be determined by the following method.</p><p id="p-0120" num="0119">In a case where the first search result includes the hit painting, the first search result is taken as the first target painting set; the hit painting is a painting with a highest similarity to the first original image among paintings corresponding to the first target information. For example, a captured object included in the first target painting set is the same as the captured object in the first original image.</p><p id="p-0121" num="0120">In a case where the first search result does not include the hit painting and the second search result includes the hit painting, the first search result and the hit painting are together taken as the first target painting set.</p><p id="p-0122" num="0121">In a case where neither the first search result nor the second search result includes the hit painting, the first search result is taken as the first target painting set.</p><p id="p-0123" num="0122">In some embodiments, whether the first search result is the same as the second search result may be determined by comparing the names of the images.</p><p id="p-0124" num="0123">In S<b>500</b>, the first target painting set is output.</p><p id="p-0125" num="0124">After the first target painting set is obtained by searching, the first target painting set can be output.</p><p id="p-0126" num="0125">The image retrieval method provided by some embodiments of the present disclosure is combined with the painting library and the knowledge graph library. The first original image is acquired, and the first feature code is obtained by performing the image feature extraction thereon, so that target paintings that are the same as or similar to the captured object corresponding to the first original image can be obtained by retrieval in the painting library or the knowledge graph library according to the first feature code, thereby achieving the retrieval of a painting in a case where the relevant information such as the name and the author of the painting is unknown to the user.</p><p id="p-0127" num="0126">In some examples, before the S<b>100</b>, the image retrieval method further includes: performing data processing on the first original image. Here, the data processing may include a plurality of ways.</p><p id="p-0128" num="0127">In some examples, the data processing includes correction processing. For example, the correction processing includes using a background removal algorithm and a gradient correction algorithm to correct the first original image that does not match a material object due to reasons such as a shooting angle or a shooting position. The correction processing is performed on the first original image, which is beneficial to improving an accuracy of a result of the retrieval performed by a cloud device according to the first original image.</p><p id="p-0129" num="0128">In some other examples, the data processing includes compression processing. The compression processing is performed on the first original image, a transmission speed of the first original image sent from the terminal device to the cloud device may be improved, and distortion of the first original image may be avoided.</p><p id="p-0130" num="0129">In yet other examples, the data processing includes the correction processing and the compression processing. In this case, the correction processing may be firstly performed on the first original image, and then the compression processing may be performed on the correction-processed first original image. As for beneficial effects of performing the data processing on the first original image, reference may be made to the beneficial effects of the above two examples.</p><p id="p-0131" num="0130">In some embodiments, in addition to storing the plurality of images, the painting library and the knowledge graph library each further store information corresponding to respective images stored therein.</p><p id="p-0132" num="0131">In some examples, in the S<b>400</b>, in a process of searching in the painting library and/or the knowledge graph library for the first target painting set corresponding to the first target information according to the first target information to obtain the first target painting set, information corresponding to the first target painting set may also be obtained by searching. The information includes relevant information of the first target painting set. For example, the information may include authors, styles or collection sites of the first target painting set.</p><p id="p-0133" num="0132">In some examples, after the S<b>500</b>, the terminal device may display the first target painting set.</p><p id="p-0134" num="0133">For example, as shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, considering an area of a display screen of the terminal device and an area occupied by each image on the display screen in a process of displaying the first target painting set, only one, two, three or five images can be displayed on the display screen, and the remaining target paintings can be displayed by an operation of scrolling pages up and down or an operation of turning page by whole screen. Here, display of the first target painting set by the terminal device may be referred to as a first-stage display.</p><p id="p-0135" num="0134">In some examples, after the first target painting set is displayed by the terminal device, the terminal device may, in response to a selection operation of the user, search for information corresponding to a selected image in the painting library or the knowledge graph library, and display the information of the selected image.</p><p id="p-0136" num="0135">For example, in the first-stage display, the terminal device only displays at least one image in the first target painting set. As shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, after the first-stage display, if the user wants to know about information of a certain image, the user can select (for example, select by clicking on the display screen of the terminal device) this image from at least one image displayed by the terminal device. The terminal device may, in response to the selection operation of the user, cause an image displayed on the display screen to jump and display the information of the selected image.</p><p id="p-0137" num="0136">Here, display of the information of the selected image by the terminal device may be referred to as a second-stage display.</p><p id="p-0138" num="0137">In some examples, after the information of the selected image is displayed by the terminal device, the terminal device may, in response to a question operation of the user, send a questioned key field to the image retrieval device. The information of each image includes at least one key field, and each key field in the at least one key field includes an information entity.</p><p id="p-0139" num="0138">For example, the information of the certain image includes &#x201c;an author is Zhang San, a style is oil painting, and it is collected in the National Art Museum of China&#x201d;, and thus key fields include Zhang San, the oil painting or the National Art Museum of China. Here, Zhang San, the oil painting or the National Art Museum of China is the information entity.</p><p id="p-0140" num="0139">After the second-stage display, if the user wants to further know about some information (e.g., a detailed introduction of Zhang San) in the information of the selected image, the user can select one key field (i.e., asking questioning for information you want to know). The terminal device may, in response to the question operation of the user, send the questioned key field to the image retrieval device.</p><p id="p-0141" num="0140">In some examples, the image retrieval device may obtain information corresponding to the questioned key field according to the knowledge graph library, and send the information to the terminal device.</p><p id="p-0142" num="0141">After the questioned key field is received by the image retrieval device, the image retrieval device can search in the knowledge graph library for information in relationship to the questioned key field (i.e., the information corresponding to the questioned key field), so as to obtain the information.</p><p id="p-0143" num="0142">The information corresponding to the questioned key field is a detailed introduction of the questioned key field. The information corresponding to the questioned key field corresponds to the questioned key field, which means that the information corresponding to the questioned key field corresponds to the questioned key field through the relationship. The relationship includes but is not limited to, a date of birth, a place of birth, a work or a style of the work.</p><p id="p-0144" num="0143">For example, the questioned key field is Zhang San, and the information corresponding to the questioned key field includes: xx (the month) xx (the day), xx (the year) corresponding to Zhang San through the date of birth, Beijing corresponding to Zhang San through the place of birth, One, Two and Three corresponding to Zhang San through the work, or the pastoralism corresponding to Zhang San through the style of the work.</p><p id="p-0145" num="0144">In some examples, as shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, after the information corresponding to the questioned key field is received by the terminal device, the terminal device will display the information. Thus, retrieval of an image and retrieval and understanding of information of the image may be achieved in a case where relevant information such as the name and the author of the image is unknown. Here, display of the information corresponding to the questioned key field by the terminal device may be referred to as a three-stage display.</p><p id="p-0146" num="0145">In the image retrieval method provided by some embodiments of the present disclosure, by combining with the knowledge graph library, the information corresponding to the questioned key field in the information of the selected image can be fed back when the question operation of the user about the information of the selected image is received, so that the user is able to further know about the relevant information of the retrieved image, thereby further understanding the retrieved image.</p><p id="p-0147" num="0146">In addition, after the information corresponding to the questioned key field is displayed by the terminal device, the terminal device may further respond to the question operation of the user to perform the above steps cyclically and sequentially, so as to further know about the information corresponding to the questioned key field. In this way, the embodiments of the present disclosure can respond to and feed on the question operation of the user step by step in combination with the knowledge graph library, so that the user may fully understand the retrieved image.</p><p id="p-0148" num="0147">In some embodiments, the image retrieval method further includes: storing, by the image retrieval device, at least one of the first original image and questioned key fields.</p><p id="p-0149" num="0148">In some examples, the questioned key fields include a questioned key field in at least one question operation.</p><p id="p-0150" num="0149">The retrieval of the at least one of the first original image and the questioned key fields by the user can be taken as a log of the user. In this way, storage of the log of the user may be achieved by storing the at least one of the first original image and the questioned key fields, which is convenient for the user to repeat retrieving and understanding the retrieved contents in the subsequent.</p><p id="p-0151" num="0150">In some examples, the user needs to register a user name when using the terminal device. The image retrieval device will further store the user name of the user while storing the log of the user, so that the user name of each user can correspond to the log thereof, which is convenient to management of the log of each user.</p><p id="p-0152" num="0151">In some embodiments, the image retrieval method further includes: according to the knowledge graph library, obtaining relevant information corresponding to the at least one of the first original image and the stored questioned key fields, and sending the relevant information to the terminal device. The relevant information includes similar target painting(s) and/or similar target information that are similar to the at least one of the stored first original image and the stored questioned key fields.</p><p id="p-0153" num="0152">After the at least one of the first original image and the questioned key fields is stored by the image retrieval device, the image retrieval device can obtain the relevant information corresponding to the at least one of the first original image and the questioned key fields according to the relationship in the knowledge graph library. Thus, recommendation of information related to the log of the user may be achieved.</p><p id="p-0154" num="0153">For example, if the image retrieval device stores the first original image, the relevant information corresponding to the first original image may be obtained through the relationship in the knowledge graph library, and the relevant information includes the similar target painting(s) and/or the similar target information that are similar to the first original image.</p><p id="p-0155" num="0154">In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, the image retrieval method further includes S<b>600</b> to S<b>1200</b>.</p><p id="p-0156" num="0155">In S<b>600</b>, operation information of the user is acquired in response to an operation of the user on the first target painting set.</p><p id="p-0157" num="0156">The operation information of the user refers to a content record of information interaction between the user and the image retrieval device through the terminal device.</p><p id="p-0158" num="0157">For example, the operation of the user on the first target painting set is the selection operation or the question operation, and the operation information of the user is the log of the user.</p><p id="p-0159" num="0158">For example, the acquired operation information of the user may be operation information of the user within a period of time. For example, the period of time may be one month, two weeks, one week or one day, which may be selected and set according to actual requirements.</p><p id="p-0160" num="0159">In S<b>700</b>, the first image feature extraction model is updated according to the operation information of the user to obtain a second image feature extraction model.</p><p id="p-0161" num="0160">In S<b>800</b>, a second original image is received.</p><p id="p-0162" num="0161">In S<b>900</b>, an image feature of the second original image is extracted using the second image feature extraction model to obtain a second feature code.</p><p id="p-0163" num="0162">In S<b>1000</b>, second target information is obtained according to the second feature code.</p><p id="p-0164" num="0163">In S<b>1100</b>, a second target painting set corresponding to the second target information is obtained by searching in the painting library and the knowledge graph library according to the second target information.</p><p id="p-0165" num="0164">In S<b>1200</b>, the second target painting set is output.</p><p id="p-0166" num="0165">Here, processes of searching to obtain the second target painting set and outputting the second target painting set in S<b>800</b> to S<b>1200</b> may refer to a description of processes of searching to obtain first target painting set and outputting the first target painting set in S<b>100</b> to S<b>500</b>, and will not be described here.</p><p id="p-0167" num="0166">In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, in the S<b>700</b>, updating the first image feature extraction model according to the operation information of the user to obtain the second image feature extraction model, includes S<b>710</b> to S<b>740</b>.</p><p id="p-0168" num="0167">In S<b>710</b>, the operation information of the user is classified, and a proportion of operation information of the user corresponding to each type of label is calculated.</p><p id="p-0169" num="0168">For example, classifying the operation information of the user may include: providing a plurality of labels, and labeling corresponding operation information of the user with at least one label. Each label represents a type of operation information. For example, the plurality of labels may be: more relevant works, brief descriptions of authors, market prices of the works, etc.</p><p id="p-0170" num="0169">Based on that the user generally has a content of interest or a content of less interest, in the operation information of the user, proportions of operation information of the user corresponding to different types of label may be different. For example, a proportion of operation information of the user corresponding to a label that the user is very interested in may be relatively large, and a proportion of operation information of the user corresponding to a label that the user is less interested in may be relatively small.</p><p id="p-0171" num="0170">In S<b>720</b>, a weight of an image feature corresponding to each type of label is adjusted according to the proportion of the operation information of the user corresponding to each type of label.</p><p id="p-0172" num="0171">Here, in the first image feature extraction model, a sum of weights of image features corresponding to all types of labels is 1. For example, a weight of an image feature corresponding to a label &#x201c;type&#x201d; is 50%, and a weight of an image feature corresponding to a label &#x201c;content&#x201d; is 50%.</p><p id="p-0173" num="0172">For example, in the S<b>710</b>, a proportion of operation information of the user corresponding to the label &#x201c;type&#x201d; is calculated to be 70%, and a proportion of operation information of the user corresponding to the label &#x201c;content&#x201d; is calculated to be 30%. In this case, the weights of the image features respectively corresponding to the label &#x201c;type&#x201d; and the label &#x201c;content&#x201d; may be adjusted. For example, the weight of the image feature corresponding to the label &#x201c;type&#x201d; is adjusted from 50% to 70%, and the weight of the image feature corresponding to the label &#x201c;content&#x201d; is adjusted from 50% to 30%.</p><p id="p-0174" num="0173">In S<b>730</b>, the second image feature extraction model is formed by training according to the first image feature extraction model and the adjusted weight.</p><p id="p-0175" num="0174">After the weight of the image feature corresponding to each type of label is adjusted, the second image feature extraction model can be formed by training in combination with the first image feature extraction model. The second image feature extraction model is a feature extraction model of a deep learning model.</p><p id="p-0176" num="0175">In S<b>740</b>, the first image feature extraction model is replaced with the second image feature extraction model.</p><p id="p-0177" num="0176">For example, in a process of replacing the first image feature extraction model with the second image feature extraction model, the first image feature extraction model may be replaced according to a path in which the first image feature extraction model is stored.</p><p id="p-0178" num="0177">In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, in the S<b>1000</b>, obtaining the second target information according to the second feature code, includes S<b>1010</b> to S<b>1030</b>.</p><p id="p-0179" num="0178">In S<b>1010</b>, a third feature code library corresponding to the painting library and a fourth feature code library corresponding to the knowledge graph library are acquired. The third feature code library and the fourth feature code library are obtained by respectively performing image feature extractions on the images in the painting library and the images in the knowledge graph library using the second image feature extraction model.</p><p id="p-0180" num="0179">For example, the third feature code library is a feature code library obtained by performing an image feature extraction on the plurality of images in the painting library using the second image feature extraction model, and the fourth feature code library is a feature code library obtained by performing an image feature extraction on the plurality of images in the knowledge graph library using the second image feature extraction model.</p><p id="p-0181" num="0180">In some examples, in the second image feature extraction model, the weight of the image feature corresponding to the label &#x201c;type&#x201d; is 70%, and the weight of the image feature corresponding to the label &#x201c;content&#x201d; is 30%. In this case, in the third feature code library and the fourth feature code library obtained using the second image feature extraction model, a proportion of a feature code corresponding to the label &#x201c;type&#x201d; may be 70%, and a proportion of a feature code corresponding to the label &#x201c;content&#x201d; may be 30%.</p><p id="p-0182" num="0181">In S<b>1020</b>, a distance between the second feature code and each feature code in the third feature code library and the fourth feature code library is calculated, and feature codes corresponding to distances in the preset range are acquired and all acquired feature codes are taken as a second target feature code set.</p><p id="p-0183" num="0182">For example, a process of acquiring the second target feature code set may refer to the content described in the S<b>320</b>, which will not be described in detail here.</p><p id="p-0184" num="0183">In S<b>1030</b>, the second target information is determined according to the second target feature code set.</p><p id="p-0185" num="0184">For example, a process of determining the second target information according to the second target feature code set may refer to the content described in the S<b>330</b>, which will not be described in detail here.</p><p id="p-0186" num="0185">In some embodiments, since paintings are continually created, the number of paintings will continually increase. In this way, the painting library may be updated for multiple times to make paintings stored in the painting library comprehensive. Moreover, in some examples, it is difficult for the painting library to include all paintings existing in the world, and thus in a process of retrieving an original image, the target paintings obtained by retrieving may all be paintings similar to a painting corresponding to the original image. By updating the painting library, the above situation may be reduced or even avoided, so that the target paintings obtained by retrieving have a painting the same as the painting corresponding to the original image as much as possible.</p><p id="p-0187" num="0186">Thus, in some examples, the image retrieval method further includes: in response to an update operation of the user, sending an update request to the image retrieval device by the terminal device; and updating the painting library by the image retrieval device according to the update request.</p><p id="p-0188" num="0187">Since the first feature code library is obtained by extracting an image feature of each painting in the painting library, the first feature code library may further be updated after the painting library is updated.</p><p id="p-0189" num="0188">The image retrieval method provided by the embodiments of the present disclosure is described above. It can be understood that in combination with steps of exemplary methods described by some embodiments herein, the present disclosure may be implemented in a form of hardware or in a form of a combination of hardware and computer software. Whether a certain function is performed by the hardware or by computer software driving hardware depends on a specific application of the technical solution and restrictive conditions on design. A skilled person may implement the described function for each specific application using different ways, but such implementation should not be considered beyond the scope of the present disclosure.</p><p id="p-0190" num="0189">In order to implement the above method or function, some embodiments of the present disclosure further provide the image retrieval device for implementing the above image retrieval method, and an image retrieval system including the image retrieval device and the terminal device. The image retrieval device and the image retrieval system including the image retrieval device and the terminal device will be exemplarily described below.</p><p id="p-0191" num="0190">The embodiments of the present disclosure may divide the image retrieval device into functional modules according to the above embodiments of the method. For example, the functional modules may be divided corresponding to the functions, or two or more functions may be integrated into one processing module. The above integrated module may be implemented in a form of hardware, or in a form of a software functional module. It will be noted that the division of modules in the embodiments of the present disclosure is illustrative, and is merely a logic function division, and there may be other division manners in practical implementations.</p><p id="p-0192" num="0191">In a case where an integrated unit is used, as shown in <figref idref="DRAWINGS">FIGS. <b>12</b>A and <b>13</b>A</figref>, the image retrieval device <b>100</b> and the image retrieval system <b>300</b> are schematically described below.</p><p id="p-0193" num="0192">As shown in <figref idref="DRAWINGS">FIG. <b>12</b>A</figref>, the image retrieval device <b>100</b> includes a processor <b>11</b> and a memory <b>12</b>. The memory <b>12</b> stores program instructions, and the program instructions are executed by the processor <b>11</b> to make the image retrieval device <b>100</b> perform the following operations: the S<b>100</b> to the S<b>500</b>.</p><p id="p-0194" num="0193">For example, the processor <b>11</b> may include one or more processing units. For example, the processor <b>11</b> may include an application processor (AP), a modem processor, a graphics processing unit (GPU), an image signal processor (ISP), a controller, a memory, a video codec, a digital signal processor (DSP), a baseband processor, and/or a neural-network processing unit (NPU). Different processing units may be separate devices or may be integrated in one or more processors.</p><p id="p-0195" num="0194">The memory <b>12</b> may be provided separately from and coupled to the processor <b>11</b>. The memory <b>12</b> may also be provided in the processor <b>11</b> for storing instructions and data. In some embodiments, the memory in the processor is a cache memory, and the memory may hold instructions or data that the processor has just used or reused. If the processor needs to reuse the instructions or the data, it can directly call the instructions or the data from the memory. Thus, repeated access may be avoided, which may reduce waiting time of the processor, and improve efficiency of the system.</p><p id="p-0196" num="0195">Beneficial effects that can be achieved by the image retrieval device <b>100</b> provided by some embodiments of the present disclosure are the same as beneficial effects that can be achieved by the image retrieval method provided by some embodiments mentioned above, which will not be described in detail here.</p><p id="p-0197" num="0196">In some examples, in the S<b>200</b>, the image retrieval device <b>100</b> further performs the following operations: extracting the image feature of the first original image using the first image feature extraction model to obtain the first feature code.</p><p id="p-0198" num="0197">In some examples, in the S<b>300</b>, in a process of obtaining the first target information according to the first feature code, the image retrieval device <b>100</b> further performs the following operations: the S<b>310</b> to the S<b>330</b>.</p><p id="p-0199" num="0198">In some examples, in the S<b>400</b>, in a process of searching in the painting library and/or the knowledge graph library for the first target painting set corresponding to the first target information according to the first target information to obtain the first target painting set, the image retrieval device <b>100</b> further performs the following operations: the S<b>410</b> to the S<b>430</b>.</p><p id="p-0200" num="0199">In some embodiments, the image retrieval device <b>100</b> further performs the following operations: the S<b>600</b> to the S<b>1200</b>.</p><p id="p-0201" num="0200">In some examples, in the S<b>700</b>, in a process of updating the first image feature extraction model according to the operation information of the user to obtain the second image feature extraction model, the image retrieval device <b>100</b> further performs the following operations: the S<b>710</b> to the S<b>740</b>.</p><p id="p-0202" num="0201">In some examples, in the S<b>1000</b>, in a process of obtaining the second target information according to the second feature code, the image retrieval device <b>100</b> further performs the following operations: the S<b>1010</b> to the S<b>1030</b>.</p><p id="p-0203" num="0202">In some embodiments, as shown in <figref idref="DRAWINGS">FIGS. <b>12</b>B and <b>13</b>B</figref>, the image retrieval device <b>100</b> includes a first server <b>110</b> and a second server <b>120</b>. The first server may be, for example, a middle server, and the second server may be a cloud server. By providing two servers, it can be ensured that different functions are set on different servers, so that in a case where one server has a problem, functions on the other server can still work normally.</p><p id="p-0204" num="0203">In some examples, the first server may store the painting library, and the second server may store the knowledge graph library.</p><p id="p-0205" num="0204">Referring to <figref idref="DRAWINGS">FIG. <b>12</b>B</figref>, in some examples, the first server <b>110</b> is configured to receive a first original image and send the first original image to the second server <b>120</b>. Alternatively, the first server <b>110</b> is configured to receive the first original image, perform data processing on the first original image and send the data-processed first original image to the second server <b>120</b>.</p><p id="p-0206" num="0205">The second server <b>120</b> is configured to receive the first original image sent by the first server <b>110</b>, extract an image feature of the first original image to obtain a first feature code, and obtain first target information according to the first feature code.</p><p id="p-0207" num="0206">The first server <b>110</b> is configured to search in the painting library and/or the knowledge graph library for a first target painting set corresponding to the first target information according to the first target information, so as to obtain the first target painting set; and output the first target painting set.</p><p id="p-0208" num="0207">The first server is further configured to receive the first target information send by the second server, and search in the painting library for a first search result corresponding to the first target information according to the first target information to obtain the first search result.</p><p id="p-0209" num="0208">The second server is further configured to search in the knowledge graph library for a second search result corresponding to the first target information according to the first target information to obtain the second search result.</p><p id="p-0210" num="0209">In the case where the first search result and the second search result are the same, the first search result is taken as the first target painting set. In the case where the first search result and the second search result are different, a union set of the first search result and the second search result is taken as the first target painting set.</p><p id="p-0211" num="0210">In some embodiments, the first server is further configured to: search in the painting library according to the first target information to obtain the first search result, and search in the knowledge graph library according to the first target information to obtain the second search result.</p><p id="p-0212" num="0211">In the case where the first search result includes the hit painting, the first search result is taken as the first target painting set; in the case where the first search result does not include the hit painting and the second search result includes the hit painting, the first search result and the hit painting are taken together as the first target painting set; and in the case where neither the first search result nor the second search result includes the hit painting, the first search result is taken as the first target painting set.</p><p id="p-0213" num="0212">In some embodiments, the second server is further configured to compare the first search result with the second search result.</p><p id="p-0214" num="0213">In some embodiments, the image retrieval device <b>100</b> is further configured to acquire operation information of a user in response to an operation of the user on the first target painting set.</p><p id="p-0215" num="0214">The operation information of the user refers to a question operation of the user for a displayed painting and information of the painting. For example, the operation information of the user includes a keyword clicked by the user and the number of times of clicking a corresponding keyword.</p><p id="p-0216" num="0215">The image retrieval device <b>100</b> is further configured to update the first image feature extraction model according to the operation information of the user to obtain a second image feature extraction model.</p><p id="p-0217" num="0216">The image retrieval device <b>100</b> is further configured to receive a second original image; extract an image feature of the second original image using the second image feature extraction model to obtain a second feature code; obtain second target information according to the second feature code; search in the painting library and the knowledge graph library for a second target painting set corresponding to the second target information according to the second target information to obtain the second target painting set; and output the second target painting set.</p><p id="p-0218" num="0217">In some embodiments, the second server is further configured to acquire the operation information of the user in response to the operation of the user on the first target painting set, and update the first image feature extraction model according to the operation information of the user to obtain the second image feature extraction model.</p><p id="p-0219" num="0218">The first server is further configured to receive the second original image and send the second original image to the second server.</p><p id="p-0220" num="0219">The second server is further configured to extract the image feature of the second original image using the second image feature extraction model to obtain the second feature code; obtain the second target information according to the second feature code; and transmit the second target information to the first server.</p><p id="p-0221" num="0220">The first server is further configured to search in the painting library and the knowledge graph library for the second target painting set corresponding to the second target information according to the second target information, so as to obtain the second target painting set; and output the second target painting set.</p><p id="p-0222" num="0221">In some embodiments, the second server is further configured to classify the operation information of the user and calculate a proportion of the operation information of the user corresponding to each type of label; adjust a weight of an image feature corresponding to each type of label according to the proportion of the operation information of the user corresponding to each type of label; form the second image feature extraction model by training according to the first image feature extraction model and an image feature, a weight of which is adjusted; and replace the first image feature extraction model with the second image feature extraction model.</p><p id="p-0223" num="0222">As shown in <figref idref="DRAWINGS">FIG. <b>13</b>A</figref>, the image retrieval system <b>300</b> includes the terminal device <b>200</b> and the image retrieval device <b>100</b> provided by some embodiments mentioned above.</p><p id="p-0224" num="0223">The terminal device <b>200</b> includes a plurality of types, which are not limited in the embodiments of the present disclosure, as long as the image can be captured and displayed. For example, the terminal device may be a device such as a mobile phone, a tablet computer, a PC (Personal Computer) or a notebook. Alternatively, the terminal device may be a device such as a camera, a mobile phone, a tablet computer, a PC (Personal Computer) or a notebook that is electrically connected to a painting screen.</p><p id="p-0225" num="0224">In the embodiments of the present disclosure, the terminal device is configured to capture the first original image and upload the first original image to the image retrieval device; receive the first target painting set output by the image retrieval device; and output the first target painting set in response to the operation of the user.</p><p id="p-0226" num="0225">The terminal device may be coupled to a painting display terminal to form an image display system (also referred to as a display system), so as to display the first target painting set on the painting display terminal. The painting display terminal refers to a device capable of displaying paintings. For example, a size of the painting display terminal is larger than a size of the terminal device. As another example, a display effect of the painting display terminal is better than a display effect of the terminal device. For example, the painting display terminal is the painting screen.</p><p id="p-0227" num="0226">For example, referring to <figref idref="DRAWINGS">FIG. <b>13</b>B</figref>, considering an example in which the terminal device <b>200</b> is the mobile phone and the painting display terminal <b>40</b> is the painting screen P, the terminal device <b>200</b> may be coupled to the image retrieval device <b>100</b> and configured to send the first original image to the image retrieval device <b>100</b> and receive the first target information, etc. In addition, the terminal device <b>200</b> may further be coupled to the painting screen P to form the image display system (i.e., the display system <b>400</b>), so that the retrieved paintings can be displayed on the painting screen P. The embodiments of the present disclosure do not limit a coupling manner between the terminal device <b>200</b> and the painting screen P. For example, the terminal device <b>200</b> and the painting screen P may be coupled through bluetooth or Wireless-Fidelity (Wi-Fi).</p><p id="p-0228" num="0227">For example, the user may operate on the terminal device <b>200</b>, so as to achieve functions of retrieving paintings and acquiring relevant information. For example, the terminal device <b>200</b> may include a painting appreciation applet. Referring to <figref idref="DRAWINGS">FIG. <b>13</b>C</figref>, after the user clicks to enter the painting appreciation applet, the terminal device <b>200</b> will display an initial interface as shown in (a) of <figref idref="DRAWINGS">FIG. <b>13</b>C</figref>. When the user finds a painting of interest and wants to appreciate the painting on the painting screen, the user can achieve this purpose through the following operations. Firstly, a button of &#x201c;adding an image&#x201d; is clicked, for example, an icon, to which the finger points, in (a) of <figref idref="DRAWINGS">FIG. <b>13</b>C</figref> is clicked to enter an image acquisition interface shown in (b) of <figref idref="DRAWINGS">FIG. <b>13</b>C</figref>. On this interface, the user can acquire a photograph of an image to be appreciated from a storage system (e.g., an album) of the terminal device <b>200</b>, or take a living shoot of the image to be appreciated. Considering the live shooting as an example, a &#x201c;camera&#x201d; icon in (b) of <figref idref="DRAWINGS">FIG. <b>13</b>C</figref> is clicked to enter a shooting interface shown in (c) of <figref idref="DRAWINGS">FIG. <b>13</b>C</figref> and a photograph is taken. In this case, the painting appreciation applet will automatically identify a painting in the photograph and retrieve relevant paintings in the image retrieval device <b>300</b>, and as shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, a retrieved target painting and similar paintings will be displayed on the terminal device <b>200</b>. Then, the user may further continue to click on these paintings or words in brief descriptions of these paintings, so as to acquire more relevant information, that is, question these displayed paintings and the relevant information thereof.</p><p id="p-0229" num="0228">In some embodiments, the terminal device <b>200</b> and the image retrieval device <b>100</b> may communicate through a network, which may include various connection types such as a wired or wireless communication link, or an optical fiber cable.</p><p id="p-0230" num="0229">In some embodiments, the terminal device <b>200</b> is configured to capture the first original image and upload the first original image to the image retrieval device <b>100</b>.</p><p id="p-0231" num="0230">The image retrieval device <b>100</b> is configured to receive the first original image, and extract the image feature of the first original image to obtain the first feature code.</p><p id="p-0232" num="0231">The image retrieval device <b>100</b> is further configured to obtain the first target information according to the first feature code.</p><p id="p-0233" num="0232">The image retrieval device <b>100</b> is further configured to search in the painting library and the knowledge graph library for the first target painting set corresponding to the first target information according to the first target information to obtain the first target painting set.</p><p id="p-0234" num="0233">The image retrieval device <b>100</b> is further configured to output the first target painting set.</p><p id="p-0235" num="0234">The terminal device <b>200</b> is further configured to display the first target painting set.</p><p id="p-0236" num="0235">Beneficial effects that can be achieved by the image retrieval system <b>300</b> provided by some embodiments of the present disclosure are the same as beneficial effects that can be achieved by the image retrieval device <b>100</b> and the terminal device <b>200</b> provided by some embodiments mentioned above, which will not be described in detail here.</p><p id="p-0237" num="0236">The terminal device <b>200</b> is further configured to display the second target painting set.</p><p id="p-0238" num="0237">In some embodiments, the image retrieval device <b>100</b> is further configured to classify the operation information of the user and calculate the proportion of the operation information of the user corresponding to each type of label.</p><p id="p-0239" num="0238">The image retrieval device <b>100</b> is further configured to adjust the weight of the image feature corresponding to each type of label according to the proportion of the operation information of the user corresponding to each type of label</p><p id="p-0240" num="0239">The image retrieval device <b>100</b> is further configured to form the second image feature extraction model by training according to the first image feature extraction model and the image feature, a weight of which is adjusted.</p><p id="p-0241" num="0240">The image retrieval device <b>100</b> is further configured to replace the first image feature extraction model with the second image feature extraction model.</p><p id="p-0242" num="0241">In a case where functional modules are divided corresponding to functions, as shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the image retrieval device <b>100</b>&#x2032; and the image retrieval system <b>300</b>&#x2032; including the terminal device <b>200</b>&#x2032; and the image retrieval device <b>100</b>&#x2032; will be respectively and schematically described below.</p><p id="p-0243" num="0242">As shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the image retrieval device <b>100</b>&#x2032; includes a painting retrieval module <b>1</b>&#x2032;, a search module <b>2</b>&#x2032;, the knowledge graph library <b>3</b>&#x2032; and the painting library <b>4</b>&#x2032;. The terminal device <b>200</b>&#x2032; includes an image capture module <b>5</b>&#x2032; and a display module <b>6</b>&#x2032;.</p><p id="p-0244" num="0243">In some examples, the image capture module <b>5</b>&#x2032; is configured to capture the first original image and upload the first original image to the image retrieval device <b>100</b>&#x2032;.</p><p id="p-0245" num="0244">In some examples, the painting retrieval module <b>1</b>&#x2032; is configured to receive the first original image, extract the image feature of the first original image to obtain the first feature code, and obtain the first target information according to the first feature code.</p><p id="p-0246" num="0245">In some examples, the search module <b>2</b>&#x2032; is configured to search in the painting library <b>4</b>&#x2032; and the knowledge graph library <b>3</b>&#x2032; for the first target painting set corresponding to the first target information according to the first target information to obtain the first target painting set; and output the first target painting set.</p><p id="p-0247" num="0246">In some examples, the display module <b>6</b>&#x2032; is configured to display the first target painting set. In some examples, the display module <b>6</b>&#x2032; may be the display screen. For example, the display screen may be a liquid crystal display (LCD) screen or an organic light-emitting diode (OLED) display screen. For example, the display screen may be a display screen having a touch function, which is convenient for the user to perform the selection operation and the question operation by touching the display screen.</p><p id="p-0248" num="0247">In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the image retrieval device <b>100</b>&#x2032; further includes a feature code library <b>7</b>&#x2032;. The feature code library <b>7</b>&#x2032; includes the first feature code library and the second feature code library, and is configured to store a feature code, obtained by the first image feature extraction model, in each painting in the painting library and the knowledge graph library.</p><p id="p-0249" num="0248">In some examples, the painting retrieval module <b>1</b>&#x2032; is further configured to calculate the distance between the first feature code and each feature code in the first feature code library and the second feature code library, acquire the feature codes corresponding to the distances in the preset range and take the acquired feature codes as the first target feature code set; and determine the first target information according to the first target feature code set.</p><p id="p-0250" num="0249">In some examples, the search module <b>2</b>&#x2032; is further configured to obtain a retrieval result list according to the first target information, and search in the painting library <b>4</b>&#x2032; and the knowledge graph library <b>3</b>&#x2032; according to the retrieval result list to obtain the first target painting set. The retrieval result list includes names of paintings corresponding to the first target painting set.</p><p id="p-0251" num="0250">In some examples, the search module <b>2</b>&#x2032; is further configured to search in the knowledge graph library <b>3</b>&#x2032; to obtain the information corresponding to the first target painting set.</p><p id="p-0252" num="0251">In some examples, the display module <b>6</b>&#x2032; is further configured to display the information corresponding to the first target painting set.</p><p id="p-0253" num="0252">In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the terminal device <b>200</b>&#x2032; further includes a feedback module <b>8</b>&#x2032;. The feedback module <b>8</b>&#x2032; is configured to in response to the question operation of the user, send the questioned key field to the image retrieval device <b>100</b>&#x2032;.</p><p id="p-0254" num="0253">In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the image retrieval device <b>100</b>&#x2032; further includes a question module <b>9</b>&#x2032;. The question module <b>9</b>&#x2032; is configured to receive the questioned key field and send the questioned key field to the search module <b>2</b>&#x2032;.</p><p id="p-0255" num="0254">In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the image retrieval device <b>100</b>&#x2032; further includes a knowledge query module <b>10</b>&#x2032;. The knowledge query module <b>10</b>&#x2032; is configured to receive the questioned key field sent by the search module <b>2</b>&#x2032;, search according to the knowledge graph library <b>3</b>&#x2032; to obtain the information corresponding to the questioned key field, and send the information to the search module <b>2</b>&#x2032;.</p><p id="p-0256" num="0255">In some embodiments, the search module <b>2</b>&#x2032; is further configured to search in the painting library <b>4</b>&#x2032; to obtain the information corresponding to the questioned key field.</p><p id="p-0257" num="0256">In some examples, the search module <b>2</b>&#x2032; is further configured to send the information corresponding to the questioned key field to the terminal device <b>200</b>&#x2032;.</p><p id="p-0258" num="0257">In some examples, the display module <b>6</b>&#x2032; is further configured to display the information corresponding to the questioned key field.</p><p id="p-0259" num="0258">In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the image retrieval device <b>100</b>&#x2032; further includes a log storage module <b>11</b>&#x2032;. The log storage module <b>11</b>&#x2032; is configured to receive the first original image sent by the painting retrieval module <b>1</b>&#x2032;, receive the questioned key field sent by the question module <b>9</b>&#x2032;, and store at least one of the first original image and the questioned key field.</p><p id="p-0260" num="0259">In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the image retrieval device <b>100</b>&#x2032; further includes a data processing module <b>12</b>&#x2032;. The data processing module <b>12</b>&#x2032; is configured to receive the first original image sent by the image capture module <b>5</b>&#x2032;, perform the data processing on the first original image, and send the data-processed first original image to the painting retrieval module <b>1</b>&#x2032;. Here, the data processing includes the correction processing and/or the compression processing.</p><p id="p-0261" num="0260">In some embodiments, the image retrieval device <b>100</b>&#x2032; further includes a painting library updating module <b>13</b>&#x2032;. The painting library updating module <b>13</b>&#x2032; is configured to update the painting library <b>4</b>&#x2032;.</p><p id="p-0262" num="0261">In some embodiments, the image retrieval device <b>100</b>&#x2032; further includes a feature code library updating module <b>14</b>&#x2032;. The feature code library updating module <b>14</b>&#x2032; is configured to update the first feature code library in the feature code library <b>7</b>&#x2032; after the painting library <b>4</b>&#x2032; is updated.</p><p id="p-0263" num="0262">In some embodiments, the feature code library updating module <b>14</b>&#x2032; is further configured to update the second feature code library in the feature code library <b>7</b>&#x2032; after the knowledge graph library <b>3</b>&#x2032; is updated.</p><p id="p-0264" num="0263">In some embodiments, the image retrieval device <b>100</b>&#x2032; further includes a feature extraction model updating module <b>15</b>&#x2032;. The feature extraction model updating module <b>15</b>&#x2032; is configured to update the feature code library updating module <b>14</b>&#x2032; according to information in the log storage module <b>11</b>&#x2032;.</p><p id="p-0265" num="0264">It will be noted that a structure of the image retrieval device <b>100</b>&#x2032; provided by some embodiments mentioned above includes a plurality of types, which are not limited in the embodiments of the present disclosure, as long as the functions mentioned in the above embodiments can be achieved.</p><p id="p-0266" num="0265">In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the image retrieval device <b>100</b>&#x2032; includes a first server <b>110</b>&#x2032; and a second server <b>120</b>&#x2032;. The first server <b>110</b>&#x2032; may include the search module <b>2</b>&#x2032;, the painting library <b>4</b>&#x2032;, the question module <b>9</b>&#x2032; and the data processing module <b>12</b>&#x2032;, and the second server <b>120</b>&#x2032; may include the painting retrieval module <b>1</b>&#x2032;, the knowledge graph library <b>3</b>&#x2032;, the feature code library <b>7</b>&#x2032;, the knowledge query module <b>10</b>&#x2032;, the log storage module <b>11</b>&#x2032;, the painting library updating module <b>13</b>&#x2032;, the feature code library updating module <b>14</b>&#x2032; and the feature extraction model updating module <b>15</b>&#x2032;.</p><p id="p-0267" num="0266">Hereinafter, a structure of the second server <b>120</b>&#x2032; is schematically described by considering an example in which the second server <b>120</b>&#x2032; is the cloud server which has built a Graphic Processing Unit (GPU) Docker and/or a Central Processing Unit (CPU) Docker therein.</p><p id="p-0268" num="0267">As shown in <figref idref="DRAWINGS">FIG. <b>15</b></figref>, a deployment scheme of the cloud server is as follows.</p><p id="p-0269" num="0268">Firstly, the GPU Docker and/or the CPU Docker are built in a container cloud platform based on Kubernetes (abbreviated as K8S). Here, depending on a computation speed required by the container cloud platform, the CPU Docker, the GPU Docker, or both the GPU Docker and the CPU Docker may be built in the container cloud platform.</p><p id="p-0270" num="0269">For example, the GPU Docker and the CPU Docker are both built in the container cloud platform.</p><p id="p-0271" num="0270">After both the GPU Docker and the CPU Docker are built in the container cloud platform, input or output application programming interfaces (abbreviated as APIs) for invoking a painting retrieval algorithm, a painting library updating algorithm, a log storage algorithm and the knowledge graph library are deployed in the GPU Docker and the CPU Docker. The number of GPU Docker and CPU Docker that are used may correspondingly increase or decrease according to load capacities and performance indexes of hardware resources. A deployment of each algorithm adopts a Docker deployment scheme of combining the GPU Docker and the CPU Docker, which can effectively evaluate a utilization efficiency of the hardware resources, thereby facilitating an arithmetic transplantation and a resource expansion.</p><p id="p-0272" num="0271">In some examples, a Nginx load balance is provided between the GPU Docker and the CPU Docker, and an effect of the Nginx load balance is: the greater the number of accesses per unit of time of a server, the greater pressure borne by the server, and the server will crash when pressure borne by the server is large enough to exceed a bearing capacity of the server. By providing the Nginx load balance, the pressure borne by the server can be shared to prevent the server from crashing, so that the user can have a good experience.</p><p id="p-0273" num="0272">A method of sharing the pressure borne by the server by providing the Nginx load balance is: building a server cluster including a plurality of servers (e.g., the server is a Docker including the painting retrieval module <b>1</b>&#x2032; or a Docker including the painting library updating module <b>13</b>&#x2032;), and an middle server (e.g., the Nginx load balance). Thus, when the user accesses the server cluster, an access request may be firstly sent to the middle server, so that the middle server can select a server with a less pressure among the server cluster and import the access request to this server. By the above accessing manner, a pressure borne by each server among the server cluster can tend to be balanced, so that a situation that the pressure borne by the server is so large that the server crashes can be avoided.</p><p id="p-0274" num="0273">For example, after the first original image is captured and sent to the image retrieval device <b>100</b>&#x2032; by the terminal device <b>200</b>&#x2032;, the image retrieval device <b>100</b>&#x2032; may select a certain server with a less pressure (i.e., the Docker including the painting retrieval module <b>1</b>&#x2032;) through the Nginx load balance, and send the first original image to this server retrieve the first original image. Thus, it can be avoided that requests of retrieving the first original images that are generated by the terminal device <b>200</b>&#x2032; are concentrated in one server to cause the server to crash.</p><p id="p-0275" num="0274">In some examples, as shown in <figref idref="DRAWINGS">FIG. <b>15</b></figref>, an update of the painting library and an update of the first feature code library may be achieved by interacting with a Redis cluster. Thus, in a process of updating the painting library and/or updating the first feature code library, it is not necessary to restart the server.</p><p id="p-0276" num="0275">In some examples, as shown in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, the storage of the log of the user (i.e., a retrieval record of the user) may be achieved by interacting with a kafka cluster. For a feedback request and/or a question request of the user for information of the first original image displayed by the terminal device, knowledge in the knowledge graph library <b>3</b>&#x2032; may be invoked by the knowledge query module <b>10</b>&#x2032;, and the invoked knowledge may be fed back to the user. In addition, through the log storage module <b>11</b>&#x2032;, bundling and storing of the feedback request of the user and the user name of the user may be completed by interacting with the kafka cluster.</p><p id="p-0277" num="0276">In addition, shared storages shown in <figref idref="DRAWINGS">FIGS. <b>15</b> and <b>16</b></figref> are used to store code data of each algorithm and a model file invoked by each algorithm.</p><p id="p-0278" num="0277">In some embodiments, the above functional modules included by the terminal device <b>200</b>&#x2032; may be integrated in mobile software in the terminal device <b>200</b>&#x2032;. By running an application program (abbreviated as APP) in the mobile software, the functions need to be achieved by the terminal device <b>200</b>&#x2032; can be achieved.</p><p id="p-0279" num="0278">Some embodiments of the present disclosure provide a computer-readable storage medium (e.g., a non-transitory computer-readable storage medium) that has stored computer program instructions thereon that, when run on the processor, cause the processor to perform one or more steps of the image retrieval method as described in any of the above embodiments. The above computer-readable storage medium may be, for example, a non-transitory computer-readable storage medium.</p><p id="p-0280" num="0279">For example, the computer-readable storage medium may include, but is not limited to: a magnetic storage device (e.g., a hard disk, a floppy disk or a magnetic tape), an optical disk (e.g., a compact disk (CD), a digital versatile disk (DVD)), a smart card, a flash memory device (e.g., an erasable programmable read-only memory (EPROM), a card, a stick or a key driver). Various computer-readable storage media described in the embodiments of the present disclosure may represent one or more devices and/or other machine-readable storage media, which are used for storing information. The term &#x201c;machine-readable storage medium&#x201d; may include, but is not limited to, wireless channels and various other media capable of storing, containing and/or carrying instructions and/or data.</p><p id="p-0281" num="0280">Some embodiments of the present disclosure further provide a computer program product. The computer program product includes computer program instructions that, when executed by a computer, cause the computer to perform one or more steps of the image retrieval method as described in the above embodiments.</p><p id="p-0282" num="0281">Some embodiments of the present disclosure further provide a computer program. When executed by a computer, the computer program causes the computer to perform one or more steps of the image retrieval method as described in the above embodiments.</p><p id="p-0283" num="0282">Beneficial effects of the computer-readable storage medium, the computer program product and the computer program are the same as the beneficial effects of the image retrieval method as described in some embodiments mentioned above, which will not be described in detail here.</p><p id="p-0284" num="0283">The foregoing descriptions are merely specific implementations of the present disclosure, but the protection scope of the present disclosure is not limited thereto. Changes or replacements that any person skilled in the art could conceive of within the technical scope of the present disclosure shall be included in the protection scope of the present disclosure. Therefore, the protection scope of the present disclosure shall be subject to the protection scope of the claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An image retrieval method, comprising:<claim-text>receiving a first original image;</claim-text><claim-text>extracting an image feature of the first original image to obtain a first feature code;</claim-text><claim-text>obtaining first target information according to the first feature code;</claim-text><claim-text>searching in at least one of a painting library and a knowledge graph library for a first target painting set corresponding to the first target information according to the first target information, so as to obtain the first target painting set; and</claim-text><claim-text>outputting the first target painting set.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The image retrieval method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>extracting the image feature of the first original image to obtain the first feature code, includes:</claim-text><claim-text>extracting the image feature of the first original image using a first image feature extraction model to obtain the first feature code; and</claim-text><claim-text>the image retrieval method further comprises:</claim-text><claim-text>acquiring operation information of a user in response to an operation of the user on the first target painting set;</claim-text><claim-text>updating the first image feature extraction model according to the operation information of the user to obtain a second image feature extraction model;</claim-text><claim-text>receiving a second original image;</claim-text><claim-text>extracting an image feature of the second original image using the second image feature extraction model to obtain a second feature code;</claim-text><claim-text>obtaining second target information according to the second feature code;</claim-text><claim-text>searching in the painting library and the knowledge graph library for a second target painting set corresponding to the second target information according to the second target information, so as to obtain the second target painting set; and</claim-text><claim-text>outputting the second target painting set.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The image retrieval method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein<claim-text>updating the first image feature extraction model according to the operation information of the user to obtain the second image feature extraction model, includes:</claim-text><claim-text>classifying the operation information of the user;</claim-text><claim-text>calculating a proportion of operation information of the user corresponding to each type of label;</claim-text><claim-text>adjusting a weight of an image feature corresponding to each type of label according to the proportion of the operation information of the user corresponding to each type of label;</claim-text><claim-text>forming the second image feature extraction model by training according to the first image feature extraction model and the adjusted weight; and</claim-text><claim-text>replacing the first image feature extraction model with the second image feature extraction model.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The image retrieval method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>obtaining the first target information according to the first feature code, includes:</claim-text><claim-text>calculating a distance between the first feature code and each feature code in a first feature code library and a second feature code library;</claim-text><claim-text>acquiring feature codes corresponding to distances in a preset range and taking the acquired feature codes as a first target feature code set; and</claim-text><claim-text>determining the first target information according to the first target feature code set;</claim-text><claim-text>wherein the first feature code library is a feature code library obtained by performing an image feature extraction on a plurality of images in the painting library using a first image feature extraction model; and the second feature code library is a feature code library obtained by performing the image feature extraction on a plurality of images in the knowledge graph library using the first image feature extraction model.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The image retrieval method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein<claim-text>obtaining the second target information according to the second feature code, includes:</claim-text><claim-text>calculating a distance between the second feature code and each feature code in a third feature code library and a fourth feature code library</claim-text><claim-text>acquiring feature codes corresponding to distances in a preset range and taking the acquired feature codes as a second target feature code set; and</claim-text><claim-text>determining the second target information according to the second target feature code set;</claim-text><claim-text>wherein the third feature code library is a feature code library obtained by performing an image feature extraction on a plurality of images in the painting library using the second image feature extraction model; the fourth feature code library is a feature code library obtained by performing the image feature extraction on a plurality of images in the knowledge graph library using the second image feature extraction model.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The image retrieval method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>searching in the at least one of the painting library and the knowledge graph library for the first target painting set corresponding to the first target information according to the first target information, so as to obtain the first target painting set, includes:</claim-text><claim-text>searching in the painting library according to the first target information to obtain a first search result;</claim-text><claim-text>searching in the knowledge graph library according to the first target information to obtain a second search result;</claim-text><claim-text>if the first search result includes a hit painting, taking the first search result as the first target painting set; the hit painting being a painting with a highest similarity to the first original image among paintings corresponding to the first target information;</claim-text><claim-text>if the first search result does not include the hit painting and the second search result includes the hit painting, taking the first search result and the hit painting together as the first target painting set; and</claim-text><claim-text>if neither the first search result nor the second search result includes the hit painting, taking the first search result as the first target painting set.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The image retrieval method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>searching in the at least one of the painting library and the knowledge graph library for the first target painting set corresponding to the first target information according to the first target information, so as to obtain the first target painting set, includes:</claim-text><claim-text>searching in the painting library according to the first target information to obtain a first search result;</claim-text><claim-text>searching in the knowledge graph library according to the first target information to obtain a second search result;</claim-text><claim-text>if the first search result and the second search result are same, taking the first search result as the first target painting set; and</claim-text><claim-text>if the first search result and the second search result are not completely same, taking a union set of the first search result and the second search result as the first target painting set.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. An image retrieval device configured to perform the image retrieval method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>the image retrieval device comprising a processor and a memory, wherein</claim-text><claim-text>the memory stores program instructions, and the program instructions are executed by the processor.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. An image retrieval device having stored a painting library and a knowledge graph library therein, the image retrieval device comprising a first server and a second server wherein<claim-text>the first server is configured to: receive a first original image and send the first original image to the second server;</claim-text><claim-text>the second server is configured to: receive the first original image sent by the first server; extract an image feature of the first original image to obtain a first feature code; and obtain first target information according to the first feature code and transmit the first target information to the first server;</claim-text><claim-text>the first server is further configured to: receive the first target information transmitted by the second server; search in at least one of a painting library and a knowledge graph library for a first target painting set corresponding to the first target information according to the first target information, so as to obtain the first target painting set; and output the first target painting set.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The image retrieval device according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein<claim-text>the first server is further configured to perform data processing on the received first original image and send the data-processed first original image to the second server.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The image retrieval device according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein<claim-text>the second server is further configured to:</claim-text><claim-text>extract the image feature of the first original image using a first image feature extraction model to obtain the first feature code.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The image retrieval device according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein<claim-text>the second server is further configured to: acquire operation information of a user in response to an operation of the user on the first target painting set; and update a first image feature extraction model according to the operation information of the user to obtain a second image feature extraction model;</claim-text><claim-text>the first server is further configured to: receive a second original image and send the second original image to the second server;</claim-text><claim-text>the second server is further configured to: extract an image feature of the second original image using the second image feature extraction model to obtain a second feature code; obtain second target information according to the second feature code; and transmit the second target information to the first server;</claim-text><claim-text>the first server is further configured to: search in the painting library and the knowledge graph library for a second target painting set corresponding to the second target information according to the second target information, so as to obtain the second target painting set; and output the second target painting set.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The image retrieval device according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein<claim-text>the second server is further configured to:</claim-text><claim-text>classify the operation information of the user and calculate a proportion of operation information of the user corresponding to each type of label;</claim-text><claim-text>adjust a weight of an image feature corresponding to each type of label according to the proportion of the operation information of the user corresponding to each type of label;</claim-text><claim-text>form the second image feature extraction model by training according to the first image feature extraction model and an image feature, a weight of which is adjusted; and</claim-text><claim-text>replace the first image feature extraction model with the second image feature extraction model.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The image retrieval device according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein<claim-text>the first server is further configured to:</claim-text><claim-text>search in the painting library according to the first target information to obtain a first search result;</claim-text><claim-text>search in the knowledge graph library according to the first target information to obtain a second search result;</claim-text><claim-text>in a case where the first search result includes a hit painting that is a painting with a highest similarity to the first original image among paintings corresponding to the first target information, take the first search result as the first target painting set;</claim-text><claim-text>in a case where the first search result does not include the hit painting and the second search result includes the hit painting, take the first search result and the hit painting together as the first target painting set; and</claim-text><claim-text>in a case where neither the first search result nor the second search result includes the hit painting, take the first search result as the first target painting set.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The image retrieval device according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein<claim-text>the first server is further configured to: search in the painting library according to the first target information to obtain a first search result;</claim-text><claim-text>search in the knowledge graph library according to the first target information to obtain a second search result;</claim-text><claim-text>in a case where the first search result and the second search result are same, take the first search result as the first target painting set; and</claim-text><claim-text>in a case where the first search result and the second search result are not completely same, take a union set of the first search result and the second search result as the first target painting set.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. An image retrieval system, comprising:<claim-text>an image retrieval device configured to perform the image retrieval method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>; and</claim-text><claim-text>a terminal device configured to capture the first original image and upload the first original image to the image retrieval device, receive the first target painting set output by the image retrieval device, and display the first target painting set in response to an operation of a user.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. An image display system, comprising an image retrieval device, a terminal device and a painting display terminal, wherein<claim-text>the image retrieval device is configured to perform the image retrieval method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>;</claim-text><claim-text>the terminal device is configured to capture the first original image and upload the first original image to the image retrieval device, receive the first target painting set output by the image retrieval device, and output the first target painting set to the painting display terminal in response to an operation of a user; and</claim-text><claim-text>the painting display terminal is configured to display the first target painting set.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. A non-transitory computer-readable storage medium having stored thereon computer program instructions that, when run on a processor, cause the processor to perform the image retrieval method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim></claims></us-patent-application>