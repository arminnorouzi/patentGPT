<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007332A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007332</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17943057</doc-number><date>20220912</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>422</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>3</main-group><subgroup>16</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>439</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>42203</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>3</main-group><subgroup>165</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>439</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>21</main-group><subgroup>816</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">MIXED REALITY VIRTUAL REVERBERATION</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16970331</doc-number><date>20200814</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11477510</doc-number></document-id></parent-grant-document><parent-pct-document><document-id><country>WO</country><doc-number>PCT/US2019/018368</doc-number><date>20190215</date></document-id></parent-pct-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17943057</doc-number></document-id></child-doc></relation></continuation><us-provisional-application><document-id><country>US</country><doc-number>62631418</doc-number><date>20180215</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Magic Leap, Inc.</orgname><address><city>Plantation</city><state>FL</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>TAJIK</last-name><first-name>Anastasia Andreyevna</first-name><address><city>Fort Lauderdale</city><state>FL</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>JOT</last-name><first-name>Jean-Marc</first-name><address><city>Aptos</city><state>CA</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method of presenting an audio signal to a user of a mixed reality environment is disclosed, the method comprising the steps of detecting a first audio signal in the mixed reality environment, where the first audio signal is a real audio signal; identifying a virtual object intersected by the first audio signal in the mixed reality environment; identifying a listener coordinate associated with the user; determining, using the virtual object and the listener coordinate, a transfer function; applying the transfer function to the first audio signal to produce a second audio signal; and presenting, to the user, the second audio signal.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="230.55mm" wi="133.60mm" file="US20230007332A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="176.11mm" wi="156.38mm" orientation="landscape" file="US20230007332A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="176.28mm" wi="156.29mm" orientation="landscape" file="US20230007332A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="179.41mm" wi="156.38mm" orientation="landscape" file="US20230007332A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="150.79mm" wi="162.05mm" file="US20230007332A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="170.60mm" wi="161.63mm" file="US20230007332A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="183.22mm" wi="158.75mm" file="US20230007332A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="240.45mm" wi="59.52mm" file="US20230007332A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="217.09mm" wi="155.87mm" file="US20230007332A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="210.57mm" wi="153.42mm" file="US20230007332A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="220.30mm" wi="145.97mm" file="US20230007332A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="264.16mm" wi="150.62mm" file="US20230007332A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="232.66mm" wi="148.51mm" file="US20230007332A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading><p id="p-0002" num="0001">This application is a continuation of U.S. application Ser. No. 16/970,331, filed Aug. 14, 2020, which is a national stage application under 35 U.S.C. &#xa7; 371 of International Application No. PCT/US2019/18368, filed internationally on Feb. 15, 2019, which claims benefit of U.S. Provisional Patent Application No. 62/631,418, filed Feb. 15, 2018, which are hereby incorporated by reference in their entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD</heading><p id="p-0003" num="0002">This disclosure relates in general to systems and methods for presenting audio signals, and in particular to systems and methods for presenting reflected audio signals to a user of a mixed reality environment.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">Virtual environments are ubiquitous in computing environments, finding use in video games (in which a virtual environment may represent a game world); maps (in which a virtual environment may represent terrain to be navigated); simulations (in which a virtual environment may simulate a real environment); digital storytelling (in which virtual characters may interact with each other in a virtual environment); and many other applications. Modern computer users are generally comfortable perceiving, and interacting with, virtual environments. However, users' experiences with virtual environments can be limited by the technology for presenting virtual environments. For example, conventional displays (e.g., 2D display screens) and audio systems (e.g., fixed speakers) may be unable to realize a virtual environment in ways that create a compelling, realistic, and immersive experience.</p><p id="p-0005" num="0004">Virtual reality (&#x201c;VR&#x201d;), augmented reality (&#x201c;AR&#x201d;), mixed reality (&#x201c;MR&#x201d;), and related technologies (collectively, &#x201c;XR&#x201d;) share an ability to present, to a user of an XR system, sensory information corresponding to a virtual environment represented by data in a computer system. This disclosure contemplates a distinction between VR, AR, and MR systems (although some systems may be categorized as VR in one aspect (e.g., a visual aspect), and simultaneously categorized as AR or MR in another aspect (e.g., an audio aspect)). As used herein, VR systems present a virtual environment that replaces a user's real environment in at least one aspect; for example, a VR system could present the user with a view of the virtual environment while simultaneously obscuring his or her view of the real environment, such as with a light-blocking head-mounted display. Similarly, a VR system could present the user with audio corresponding to the virtual environment, while simultaneously blocking (attenuating) audio from the real environment.</p><p id="p-0006" num="0005">VR systems may experience various drawbacks that result from replacing a user's real environment with a virtual environment. One drawback is a feeling of motion sickness that can arise when a user's field of view in a virtual environment no longer corresponds to the state of his or her inner ear, which detects one's balance and orientation in the real environment (not a virtual environment). Similarly, users may experience disorientation in VR environments where their own bodies and limbs (views of which users rely on to feel &#x201c;grounded&#x201d; in the real environment) are not directly visible. Another drawback is the computational burden (e.g., storage, processing power) placed on VR systems which must present a full 3D virtual environment, particularly in real-time applications that seek to immerse the user in the virtual environment. Similarly, such environments may need to reach a very high standard of realism to be considered immersive, as users tend to be sensitive to even minor imperfections in virtual environments&#x2014;any of which can destroy a user's sense of immersion in the virtual environment. Further, another drawback of VR systems is that such applications of systems cannot take advantage of the wide range of sensory data in the real environment, such as the various sights and sounds that one experiences in the real world. A related drawback is that VR systems may struggle to create shared environments in which multiple users can interact, as users that share a physical space in the real environment may not be able to directly see or interact with each other in a virtual environment.</p><p id="p-0007" num="0006">As used herein, AR systems present a virtual environment that overlaps or overlays the real environment in at least one aspect. For example, an AR system could present the user with a view of a virtual environment overlaid on the user's view of the real environment, such as with a transmissive head-mounted display that presents a displayed image while allowing light to pass through the display into the user's eye. Similarly, an AR system could present the user with audio corresponding to the virtual environment, while simultaneously mixing in audio from the real environment. Similarly, as used herein, MR systems present a virtual environment that overlaps or overlays the real environment in at least one aspect, as do AR systems, and may additionally allow that a virtual environment in an MR system may interact with the real environment in at least one aspect. For example, a virtual character in a virtual environment may toggle a light switch in the real environment, causing a corresponding light bulb in the real environment to turn on or off. As another example, the virtual character may react (such as with a facial expression) to audio signals in the real environment. By maintaining presentation of the real environment, AR and MR systems may avoid some of the aforementioned drawbacks of VR systems; for instance, motion sickness in users is reduced because visual cues from the real environment (including users' own bodies) can remain visible, and such systems need not present a user with a fully realized 3D environment in order to be immersive. Further, AR and MR systems can take advantage of real world sensory input (e.g., views and sounds of scenery, objects, and other users) to create new applications that augment that input.</p><p id="p-0008" num="0007">XR systems may provide the user with various ways in which to interact with a virtual environment; for example, XR systems may include various sensors (e.g., cameras, microphones, etc.) for detecting a user's position and orientation, facial expressions, speech, and other characteristics; and present this information as input to the virtual environment. Some XR systems may incorporate a sensor-equipped input device, such as a virtual &#x201c;mallet,&#x201d; and may be configured to detect a position, orientation, or other characteristic of the input device. XR systems can offer a uniquely heightened sense of immersion and realism by combining virtual visual and audio cues with real sights and sounds. For example, it may be desirable to present audio cues to a user of an XR system in a way that mimics aspects, particularly subtle aspects, of our own sensory experiences. The present invention is directed to presenting, to a user, a reflected audio signal simulating a reflection of a real sound wave (e.g., the user's own voice) against a virtual object in a mixed reality environment. By taking into account the position and orientation of the user relative to the virtual object, and attributes of the virtual object (such as its material properties), the reflected audio signal can simulate the reflection that would be heard by a user if the virtual object were a real object in the user's environment. By using virtual objects to present audio cues that are faithful to the way sound waves behave in the real world, the user may experience a heightened awareness of such virtual objects in the mixed reality environment.</p><p id="p-0009" num="0008">In one example of use, early arriving reflections of the user's own voice from nearby virtual objects (e.g., a virtual book held 20 centimeters from the user's face) are synthesized. In this manner the realism of virtual content in a mixed reality environment can be enhanced. Being virtual, the book cannot physically reflect the user's voice back to the user's ears; but the reflected audio wave that would be produced if the book were real can be computed, and output via one or more speakers, for example coupled to a mixed reality wearable head device.</p><heading id="h-0004" level="1">BRIEF SUMMARY</heading><p id="p-0010" num="0009">Examples of the disclosure describe systems and methods for presenting audio signals to a user of a mixed reality environment. In one example, a method comprises the steps of detecting a first audio signal in the mixed reality environment, where the first audio signal is a real audio signal; identifying a virtual object intersected by the first audio signal in the mixed reality environment; identifying a listener coordinate associated with the user; determining, using the virtual object and the listener coordinate, a transfer function; applying the transfer function to the first audio signal to produce a second audio signal; and presenting, to the user, the second audio signal.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIGS. <b>1</b>A-<b>1</b>C</figref> illustrates an example mixed reality environment.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIGS. <b>2</b>A-<b>2</b>D</figref> illustrate components of an example mixed reality system that can be used to generate and interact with a mixed reality environment.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>3</b>A</figref> illustrates an example mixed reality handheld controller that can be used to provide input to a mixed reality environment.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>3</b>B</figref> illustrates an example auxiliary unit that can be included in an example mixed reality system.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates an example functional block diagram for an example mixed reality system.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIGS. <b>5</b>A-<b>5</b>B</figref> illustrate an example mixed reality environment that includes a user, a virtual object, and an audio signal reflected against the virtual object.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates an example flow chart of a process for presenting a reflected audio signal to a user of a mixed reality environment.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>7</b></figref> illustrates an example functional block diagram of an example system for presenting a reflected audio signal to a user of a mixed reality environment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0019" num="0018">In the following description of examples, reference is made to the accompanying drawings which form a part hereof, and in which it is shown by way of illustration specific examples that can be practiced. It is to be understood that other examples can be used and structural changes can be made without departing from the scope of the disclosed examples.</p><p id="p-0020" num="0019">Mixed Reality Environment</p><p id="p-0021" num="0020">Like all people, a user of a mixed reality system exists in a real environment&#x2014;that is, a three-dimensional portion of the &#x201c;real world,&#x201d; and all of its contents, that are perceptible by the user. For example, a user perceives a real environment using one's ordinary human senses&#x2014;sight, sound, touch, taste, smell&#x2014;and interacts with the real environment by moving one's own body in the real environment. Locations in a real environment can be described as coordinates in a coordinate space; for example, a coordinate can comprise latitude, longitude, and elevation with respect to sea level; distances in three orthogonal dimensions from a reference point; or other suitable values. Likewise, a vector can describe a quantity having a direction and a magnitude in the coordinate space.</p><p id="p-0022" num="0021">A computing device can maintain, for example in a memory associated with the device, a representation of a virtual environment. As used herein, a virtual environment is a computational representation of a three-dimensional space. A virtual environment can include representations of any object, action, signal, parameter, coordinate, vector, or other characteristic associated with that space. In some examples, circuitry (e.g., a processor) of a computing device can maintain and update a state of a virtual environment; that is, a processor can determine at a first time t<b>0</b>, based on data associated with the virtual environment and/or input provided by a user, a state of the virtual environment at a second time t<b>1</b>. For instance, if an object in the virtual environment is located at a first coordinate at time t<b>0</b>, and has certain programmed physical parameters (e.g., mass, coefficient of friction); and an input received from user indicates that a force should be applied to the object in a direction vector; the processor can apply laws of kinematics to determine a location of the object at time t<b>1</b> using basic mechanics. The processor can use any suitable information known about the virtual environment, and/or any suitable input, to determine a state of the virtual environment at a time t<b>1</b>. In maintaining and updating a state of a virtual environment, the processor can execute any suitable software, including software relating to the creation and deletion of virtual objects in the virtual environment; software (e.g., scripts) for defining behavior of virtual objects or characters in the virtual environment; software for defining the behavior of signals (e.g., audio signals) in the virtual environment; software for creating and updating parameters associated with the virtual environment; software for generating audio signals in the virtual environment; software for handling input and output; software for implementing network operations; software for applying asset data (e.g., animation data to move a virtual object over time); or many other possibilities.</p><p id="p-0023" num="0022">Output devices, such as a display or a speaker, can present any or all aspects of a virtual environment to a user. For example, a virtual environment may include virtual objects (which may include representations of inanimate objects; people; animals; lights; etc.) that may be presented to a user. A processor can determine a view of the virtual environment (for example, corresponding to a &#x201c;camera&#x201d; with an origin coordinate, a view axis, and a frustum); and render, to a display, a viewable scene of the virtual environment corresponding to that view. Any suitable rendering technology may be used for this purpose. In some examples, the viewable scene may include only some virtual objects in the virtual environment, and exclude certain other virtual objects. Similarly, a virtual environment may include audio aspects that may be presented to a user as one or more audio signals. For instance, a virtual object in the virtual environment may generate a sound originating from a location coordinate of the object (e.g., a virtual character may speak or cause a sound effect); or the virtual environment may be associated with musical cues or ambient sounds that may or may not be associated with a particular location. A processor can determine an audio signal corresponding to a &#x201c;listener&#x201d; coordinate&#x2014;for instance, an audio signal corresponding to a composite of sounds in the virtual environment, and mixed and processed to simulate an audio signal that would be heard by a listener at the listener coordinate&#x2014;and present the audio signal to a user via one or more speakers.</p><p id="p-0024" num="0023">Because a virtual environment exists only as a computational structure, a user cannot directly perceive a virtual environment using one's ordinary senses. Instead, a user can perceive a virtual environment only indirectly, as presented to the user, for example by a display, speakers, haptic output devices, etc. Similarly, a user cannot directly touch, manipulate, or otherwise interact with a virtual environment; but can provide input data, via input devices or sensors, to a processor that can use the device or sensor data to update the virtual environment. For example, a camera sensor can provide optical data indicating that a user is trying to move an object in a virtual environment, and a processor can use that data to cause the object to respond accordingly in the virtual environment.</p><p id="p-0025" num="0024">A mixed reality system can present to the user, for example using a transmissive display and/or one or more speakers (which may, for example, be incorporated into a wearable head device), a mixed reality environment (&#x201c;MRE&#x201d;) that combines aspects of a real environment and a virtual environment. In some embodiments, the one or more speakers may be external to the wearable head device. As used herein, a MRE is a simultaneous representation of a real environment and a corresponding virtual environment. In some examples, the corresponding real and virtual environments share a single coordinate space; in some examples, a real coordinate space and a corresponding virtual coordinate space are related to each other by a transformation matrix (or other suitable representation). Accordingly, a single coordinate (along with, in some examples, a transformation matrix) can define a first location in the real environment, and also a second, corresponding, location in the virtual environment; and vice versa.</p><p id="p-0026" num="0025">In a MRE, a virtual object (e.g., in a virtual environment associated with the MRE) can correspond to a real object (e.g., in a real environment associated with the MRE). For instance, if the real environment of a MRE comprises a real lamp post (a real object) at a location coordinate, the virtual environment of the MRE may comprise a virtual lamp post (a virtual object) at a corresponding location coordinate. As used herein, the real object in combination with its corresponding virtual object together constitute a &#x201c;mixed reality object.&#x201d; It is not necessary for a virtual object to perfectly match or align with a corresponding real object. In some examples, a virtual object can be a simplified version of a corresponding real object. For instance, if a real environment includes a real lamp post, a corresponding virtual object may comprise a cylinder of roughly the same height and radius as the real lamp post (reflecting that lamp posts may be roughly cylindrical in shape). Simplifying virtual objects in this manner can allow computational efficiencies, and can simplify calculations to be performed on such virtual objects. Further, in some examples of a MRE, not all real objects in a real environment may be associated with a corresponding virtual object. Likewise, in some examples of a MRE, not all virtual objects in a virtual environment may be associated with a corresponding real object. That is, some virtual objects may solely in a virtual environment of a MRE, without any real-world counterpart.</p><p id="p-0027" num="0026">In some examples, virtual objects may have characteristics that differ, sometimes drastically, from those of corresponding real objects. For instance, while a real environment in a MRE may comprise a green, two-armed cactus&#x2014;a prickly inanimate object&#x2014;a corresponding virtual object in the MRE may have the characteristics of a green, two-armed virtual character with human facial features and a surly demeanor. In this example, the virtual object resembles its corresponding real object in certain characteristics (color, number of arms); but differs from the real object in other characteristics (facial features, personality). In this way, virtual objects have the potential to represent real objects in a creative, abstract, exaggerated, or fanciful manner; or to impart behaviors (e.g., human personalities) to otherwise inanimate real objects. In some examples, virtual objects may be purely fanciful creations with no real-world counterpart (e.g., a virtual monster in a virtual environment, perhaps at a location corresponding to an empty space in a real environment).</p><p id="p-0028" num="0027">Compared to VR systems, which present the user with a virtual environment while obscuring the real environment, a mixed reality system presenting a MRE affords the advantage that the real environment remains perceptible while the virtual environment is presented. Accordingly, the user of the mixed reality system is able to use visual and audio cues associated with the real environment to experience and interact with the corresponding virtual environment.</p><p id="p-0029" num="0028">As an example, while a user of VR systems may struggle to perceive or interact with a virtual object displayed in a virtual environment&#x2014;because, as noted above, a user cannot directly perceive or interact with a virtual environment&#x2014;a user of an MR system may find it intuitive and natural to interact with a virtual object by seeing, hearing, and touching a corresponding real object in his or her own real environment. This level of interactivity can heighten a user's feelings of immersion, connection, and engagement with a virtual environment. Similarly, by simultaneously presenting a real environment and a virtual environment, mixed reality systems can reduce negative psychological feelings (e.g., cognitive dissonance) and negative physical feelings (e.g., motion sickness) associated with VR systems. Mixed reality systems further offer many possibilities for applications that may augment or alter our experiences of the real world.</p><p id="p-0030" num="0029">FIG. lA illustrates an example real environment <b>100</b> in which a user <b>110</b> uses a mixed reality system <b>112</b>. Mixed reality system <b>112</b> may comprise a display (e.g., a transmissive display) and one or more speakers, and one or more sensors (e.g., a camera), for example as described below. The real environment <b>100</b> shown comprises a rectangular room <b>104</b>A, in which user <b>110</b> is standing; and real objects <b>122</b>A (a lamp), <b>124</b>A (a table), <b>126</b>A (a sofa), and <b>128</b>A (a painting). Room <b>104</b>A further comprises a location coordinate <b>106</b>, which may be considered an origin of the real environment <b>100</b>. As shown in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>, an environment/world coordinate system <b>108</b> (comprising an x-axis <b>108</b>X, a y-axis <b>108</b>Y, and a z-axis <b>108</b>Z) with its origin at point <b>106</b> (a world coordinate), can define a coordinate space for real environment <b>100</b>. In some embodiments, the origin point <b>106</b> of the environment/world coordinate system <b>108</b> may correspond to where the mixed reality system <b>112</b> was powered on. In some embodiments, the origin point <b>106</b> of the environment/world coordinate system <b>108</b> may be reset during operation. In some examples, user <b>110</b> may be considered a real object in real environment <b>100</b>; similarly, user <b>110</b>&#x2032;s body parts (e.g., hands, feet) may be considered real objects in real environment <b>100</b>. In some examples, a user/listener/head coordinate system <b>114</b> (comprising an x-axis <b>114</b>X, a y-axis <b>114</b>Y, and a z-axis <b>114</b>Z) with its origin at point <b>115</b> (e.g., user/listener/head coordinate) can define a coordinate space for the user/listener/head on which the mixed reality system <b>112</b> is located. The origin point <b>115</b> of the user/listener/head coordinate system <b>114</b> may be defined relative to one or more components of the mixed reality system <b>112</b>. For example, the origin point <b>115</b> of the user/listener/head coordinate system <b>114</b> may be defined relative to the display of the mixed reality system <b>112</b> such as during initial calibration of the mixed reality system <b>112</b>. A matrix (which may include a translation matrix and a Quaternion matrix or other rotation matrix), or other suitable representation can characterize a transformation between the user/listener/head coordinate system <b>114</b> space and the environment/world coordinate system <b>108</b> space. In some embodiments, a left ear coordinate <b>116</b> and a right ear coordinate <b>117</b> may be defined relative to the origin point <b>115</b> of the user/listener/head coordinate system <b>114</b>. A matrix (which may include a translation matrix and a Quaternion matrix or other rotation matrix), or other suitable representation can characterize a transformation between the left ear coordinate <b>116</b> and the right ear coordinate <b>117</b>, and user/listener/head coordinate system <b>114</b> space. The user/listener/head coordinate system <b>114</b> can simplify the representation of locations relative to the user's head, or to a head-mounted device, for example, relative to the environment/world coordinate system <b>108</b>. Using Simultaneous Localization and Mapping (SLAM), visual odometry, or other techniques, a transformation between user coordinate system <b>114</b> and environment coordinate system <b>108</b> can be determined and updated in real-time.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>1</b>B</figref> illustrates an example virtual environment <b>130</b> that corresponds to real environment <b>100</b>. The virtual environment <b>130</b> shown comprises a virtual rectangular room <b>104</b>B corresponding to real rectangular room <b>104</b>A; a virtual object <b>122</b>B corresponding to real object <b>122</b>A; a virtual object <b>124</b>B corresponding to real object <b>124</b>A; and a virtual object <b>126</b>B corresponding to real object <b>126</b>A. Metadata associated with the virtual objects <b>122</b>B, <b>124</b>B, <b>126</b>B can include information derived from the corresponding real objects <b>122</b>A, <b>124</b>A, <b>126</b>A. Virtual environment <b>130</b> additionally comprises a virtual monster <b>132</b>, which does not correspond to any real object in real environment <b>100</b>. Real object <b>128</b>A in real environment <b>100</b> does not correspond to any virtual object in virtual environment <b>130</b>. A persistent coordinate system <b>133</b> (comprising an x-axis <b>133</b>X, a y-axis <b>133</b>Y, and a z-axis <b>133</b>Z) with its origin at point <b>134</b> (persistent coordinate), can define a coordinate space for virtual content. The origin point <b>134</b> of the persistent coordinate system <b>133</b> may be defined relative/with respect to one or more real objects, such as the real object <b>126</b>A. A matrix (which may include a translation matrix and a Quaternion matrix or other rotation matrix), or other suitable representation can characterize a transformation between the persistent coordinate system <b>133</b> space and the environment/world coordinate system <b>108</b> space. In some embodiments, each of the virtual objects <b>122</b>B, <b>124</b>B, <b>126</b>B, and <b>132</b> may have their own persistent coordinate point relative to the origin point <b>134</b> of the persistent coordinate system <b>133</b>. In some embodiments, there may be multiple persistent coordinate systems and each of the virtual objects <b>122</b>B, <b>124</b>B, <b>126</b>B, and <b>132</b> may have their own persistent coordinate point relative to one or more persistent coordinate systems.</p><p id="p-0032" num="0031">With respect to <figref idref="DRAWINGS">FIGS. <b>1</b>A and <b>1</b>B</figref>, environment/world coordinate system <b>108</b> defines a shared coordinate space for both real environment <b>100</b> and virtual environment <b>130</b>. In the example shown, the coordinate space has its origin at point <b>106</b>. Further, the coordinate space is defined by the same three orthogonal axes (<b>108</b>X, <b>108</b>Y, <b>108</b>Z). Accordingly, a first location in real environment <b>100</b>, and a second, corresponding location in virtual environment <b>130</b>, can be described with respect to the same coordinate space. This simplifies identifying and displaying corresponding locations in real and virtual environments, because the same coordinates can be used to identify both locations. However, in some examples, corresponding real and virtual environments need not use a shared coordinate space. For instance, in some examples (not shown), a matrix (which may include a translation matrix and a Quaternion matrix or other rotation matrix), or other suitable representation can characterize a transformation between a real environment coordinate space and a virtual environment coordinate space.</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>1</b>C</figref> illustrates an example MRE <b>150</b> that simultaneously presents aspects of real environment <b>100</b> and virtual environment <b>130</b> to user <b>110</b> via mixed reality system <b>112</b>. In the example shown, MRE <b>150</b> simultaneously presents user <b>110</b> with real objects <b>122</b>A, <b>124</b>A, <b>126</b>A, and <b>128</b>A from real environment <b>100</b> (e.g., via a transmissive portion of a display of mixed reality system <b>112</b>); and virtual objects <b>122</b>B, <b>124</b>B, <b>126</b>B, and <b>132</b> from virtual environment <b>130</b> (e.g., via an active display portion of the display of mixed reality system <b>112</b>). As above, origin point <b>106</b> acts as an origin for a coordinate space corresponding to MRE <b>150</b>, and coordinate system <b>108</b> defines an x-axis, y-axis, and z-axis for the coordinate space.</p><p id="p-0034" num="0033">In the example shown, mixed reality objects comprise corresponding pairs of real objects and virtual objects (i.e., <b>122</b>A/<b>122</b>B, <b>124</b>A/<b>124</b>B, <b>126</b>A/<b>126</b>B) that occupy corresponding locations in coordinate space <b>108</b>. In some examples, both the real objects and the virtual objects may be simultaneously visible to user <b>110</b>. This may be desirable in, for example, instances where the virtual object presents information designed to augment a view of the corresponding real object (such as in a museum application where a virtual object presents the missing pieces of an ancient damaged sculpture). In some examples, the virtual objects (<b>122</b>B, <b>124</b>B, and/or <b>126</b>B) may be displayed (e.g., via active pixelated occlusion using a pixelated occlusion shutter) so as to occlude the corresponding real objects (<b>122</b>A, <b>124</b>A, and/or <b>126</b>A). This may be desirable in, for example, instances where the virtual object acts as a visual replacement for the corresponding real object (such as in an interactive storytelling application where an inanimate real object becomes a &#x201c;living&#x201d; character).</p><p id="p-0035" num="0034">In some examples, real objects (e.g., <b>122</b>A, <b>124</b>A, <b>126</b>A) may be associated with virtual content or helper data that may not necessarily constitute virtual objects. Virtual content or helper data can facilitate processing or handling of virtual objects in the mixed reality environment. For example, such virtual content could include two-dimensional representations of corresponding real objects; custom asset types associated with corresponding real objects; or statistical data associated with corresponding real objects. This information can enable or facilitate calculations involving a real object without incurring unnecessary computational overhead.</p><p id="p-0036" num="0035">In some examples, the presentation described above may also incorporate audio aspects. For instance, in MRE <b>150</b>, virtual monster <b>132</b> could be associated with one or more audio signals, such as a footstep sound effect that is generated as the monster walks around MRE <b>150</b>. As described further below, a processor of mixed reality system <b>112</b> can compute an audio signal corresponding to a mixed and processed composite of all such sounds in MRE <b>150</b>, and present the audio signal to user <b>110</b> via one or more speakers included in mixed reality system <b>112</b> and/or one or more external speakers.</p><p id="p-0037" num="0036">Example Mixed Reality System</p><p id="p-0038" num="0037">Example mixed reality system <b>112</b> can include a wearable head device (e.g., a wearable augmented reality or mixed reality head device) comprising a display (which may comprise left and right transmissive displays, which may be near-eye displays, and associated components for coupling light from the displays to the user's eyes); left and right speakers (e.g., positioned adjacent to the user's left and right ears, respectively); an inertial measurement unit (IMU)(e.g., mounted to a temple arm of the head device); an orthogonal coil electromagnetic receiver (e.g., mounted to the left temple piece); left and right cameras (e.g., depth (time-of-flight) cameras) oriented away from the user; and left and right eye cameras oriented toward the user (e.g., for detecting the user's eye movements). However, a mixed reality system <b>112</b> can incorporate any suitable display technology, and any suitable sensors (e.g., optical, infrared, acoustic, LIDAR, EOG, GPS, magnetic). In addition, mixed reality system <b>112</b> may incorporate networking features (e.g., Wi-Fi capability) to communicate with other devices and systems, including other mixed reality systems. Mixed reality system <b>112</b> may further include a battery (which may be mounted in an auxiliary unit, such as a belt pack designed to be worn around a user's waist), a processor, and a memory. The wearable head device of mixed reality system <b>112</b> may include tracking components, such as an IMU or other suitable sensors, configured to output a set of coordinates of the wearable head device relative to the user's environment. In some examples, tracking components may provide input to a processor performing a Simultaneous Localization and Mapping (SLAM) and/or visual odometry algorithm. In some examples, mixed reality system <b>112</b> may also include a handheld controller <b>300</b>, and/or an auxiliary unit <b>320</b>, which may be a wearable beltpack, as described further below.</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIGS. <b>2</b>A-<b>2</b>D</figref> illustrate components of an example mixed reality system <b>200</b> (which may correspond to mixed reality system <b>112</b>) that may be used to present a MRE (which may correspond to MRE <b>150</b>), or other virtual environment, to a user. <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> illustrates a perspective view of a wearable head device <b>2102</b> included in example mixed reality system <b>200</b>. <figref idref="DRAWINGS">FIG. <b>2</b>B</figref> illustrates a top view of wearable head device <b>2102</b> worn on a user's head <b>2202</b>. <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> illustrates a front view of wearable head device <b>2102</b>. <figref idref="DRAWINGS">FIG. <b>2</b>D</figref> illustrates an edge view of example eyepiece <b>2110</b> of wearable head device <b>2102</b>. As shown in <figref idref="DRAWINGS">FIGS. <b>2</b>A-<b>2</b>C</figref>, the example wearable head device <b>2102</b> includes an example left eyepiece (e.g., a left transparent waveguide set eyepiece) <b>2108</b> and an example right eyepiece (e.g., a right transparent waveguide set eyepiece) <b>2110</b>. Each eyepiece <b>2108</b> and <b>2110</b> can include transmissive elements through which a real environment can be visible, as well as display elements for presenting a display (e.g., via imagewise modulated light) overlapping the real environment. In some examples, such display elements can include surface diffractive optical elements for controlling the flow of imagewise modulated light. For instance, the left eyepiece <b>2108</b> can include a left incoupling grating set <b>2112</b>, a left orthogonal pupil expansion (OPE) grating set <b>2120</b>, and a left exit (output) pupil expansion (EPE) grating set <b>2122</b>. Similarly, the right eyepiece <b>2110</b> can include a right incoupling grating set <b>2118</b>, a right OPE grating set <b>2114</b> and a right EPE grating set <b>2116</b>. Imagewise modulated light can be transferred to a user's eye via the incoupling gratings <b>2112</b> and <b>2118</b>, OPEs <b>2114</b> and <b>2120</b>, and EPE <b>2116</b> and <b>2122</b>. Each incoupling grating set <b>2112</b>, <b>2118</b> can be configured to deflect light toward its corresponding OPE grating set <b>2120</b>, <b>2114</b>. Each OPE grating set <b>2120</b>, <b>2114</b> can be designed to incrementally deflect light down toward its associated EPE <b>2122</b>, <b>2116</b>, thereby horizontally extending an exit pupil being formed. Each EPE <b>2122</b>, <b>2116</b> can be configured to incrementally redirect at least a portion of light received from its corresponding OPE grating set <b>2120</b>, <b>2114</b> outward to a user eyebox position (not shown) defined behind the eyepieces <b>2108</b>, <b>2110</b>, vertically extending the exit pupil that is formed at the eyebox. Alternatively, in lieu of the incoupling grating sets <b>2112</b> and <b>2118</b>, OPE grating sets <b>2114</b> and <b>2120</b>, and EPE grating sets <b>2116</b> and <b>2122</b>, the eyepieces <b>2108</b> and <b>2110</b> can include other arrangements of gratings and/or refractive and reflective features for controlling the coupling of imagewise modulated light to the user's eyes.</p><p id="p-0040" num="0039">In some examples, wearable head device <b>2102</b> can include a left temple arm <b>2130</b> and a right temple arm <b>2132</b>, where the left temple arm <b>2130</b> includes a left speaker <b>2134</b> and the right temple arm <b>2132</b> includes a right speaker <b>2136</b>. An orthogonal coil electromagnetic receiver <b>2138</b> can be located in the left temple piece, or in another suitable location in the wearable head device <b>2102</b>. An Inertial Measurement Unit (IMU) <b>2140</b> can be located in the right temple arm <b>2132</b>, or in another suitable location in the wearable head device <b>2102</b>. The wearable head device <b>2102</b> can also include a left depth (e.g., time-of-flight) camera <b>2142</b> and a right depth camera <b>2144</b>. The depth cameras <b>2142</b>, <b>2144</b> can be suitably oriented in different directions so as to together cover a wider field of view.</p><p id="p-0041" num="0040">In the example shown in <figref idref="DRAWINGS">FIGS. <b>2</b>A-<b>2</b>D</figref>, a left source of imagewise modulated light <b>2124</b> can be optically coupled into the left eyepiece <b>2108</b> through the left incoupling grating set <b>2112</b>, and a right source of imagewise modulated light <b>2126</b> can be optically coupled into the right eyepiece <b>2110</b> through the right incoupling grating set <b>2118</b>. Sources of imagewise modulated light <b>2124</b>, <b>2126</b> can include, for example, optical fiber scanners; projectors including electronic light modulators such as Digital Light Processing (DLP) chips or Liquid Crystal on Silicon (LCoS) modulators; or emissive displays, such as micro Light Emitting Diode (&#x3bc;LED) or micro Organic Light Emitting Diode (&#x3bc;OLED) panels coupled into the incoupling grating sets <b>2112</b>, <b>2118</b> using one or more lenses per side. The input coupling grating sets <b>2112</b>, <b>2118</b> can deflect light from the sources of imagewise modulated light <b>2124</b>, <b>2126</b> to angles above the critical angle for Total Internal Reflection (TIR) for the eyepieces <b>2108</b>, <b>2110</b>. The OPE grating sets <b>2114</b>, <b>2120</b> incrementally deflect light propagating by TIR down toward the EPE grating sets <b>2116</b>, <b>2122</b>. The EPE grating sets <b>2116</b>, <b>2122</b> incrementally couple light toward the user's face, including the pupils of the user's eyes.</p><p id="p-0042" num="0041">In some examples, as shown in <figref idref="DRAWINGS">FIG. <b>2</b>D</figref>, each of the left eyepiece <b>2108</b> and the right eyepiece <b>2110</b> includes a plurality of waveguides <b>2402</b>. For example, each eyepiece <b>2108</b>, <b>2110</b> can include multiple individual waveguides, each dedicated to a respective color channel (e.g., red, blue and green). In some examples, each eyepiece <b>2108</b>, <b>2110</b> can include multiple sets of such waveguides, with each set configured to impart different wavefront curvature to emitted light. The wavefront curvature may be convex with respect to the user's eyes, for example to present a virtual object positioned a distance in front of the user (e.g., by a distance corresponding to the reciprocal of wavefront curvature). In some examples, EPE grating sets <b>2116</b>, <b>2122</b> can include curved grating grooves to effect convex wavefront curvature by altering the Poynting vector of exiting light across each EPE.</p><p id="p-0043" num="0042">In some examples, to create a perception that displayed content is three-dimensional, stereoscopically-adjusted left and right eye imagery can be presented to the user through the imagewise light modulators <b>2124</b>, <b>2126</b> and the eyepieces <b>2108</b>, <b>2110</b>. The perceived realism of a presentation of a three-dimensional virtual object can be enhanced by selecting waveguides (and thus corresponding the wavefront curvatures) such that the virtual object is displayed at a distance approximating a distance indicated by the stereoscopic left and right images. This technique may also reduce motion sickness experienced by some users, which may be caused by differences between the depth perception cues provided by stereoscopic left and right eye imagery, and the autonomic accommodation (e.g., object distance-dependent focus) of the human eye.</p><p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. <b>2</b>D</figref> illustrates an edge-facing view from the top of the right eyepiece <b>2110</b> of example wearable head device <b>2102</b>. As shown in <figref idref="DRAWINGS">FIG. <b>2</b>D</figref>, the plurality of waveguides <b>2402</b> can include a first subset of three waveguides <b>2404</b> and a second subset of three waveguides <b>2406</b>. The two subsets of waveguides <b>2404</b>, <b>2406</b> can be differentiated by different EPE gratings featuring different grating line curvatures to impart different wavefront curvatures to exiting light. Within each of the subsets of waveguides <b>2404</b>, <b>2406</b> each waveguide can be used to couple a different spectral channel (e.g., one of red, green and blue spectral channels) to the user's right eye <b>2206</b>. (Although not shown in <figref idref="DRAWINGS">FIG. <b>2</b>D</figref>, the structure of the left eyepiece <b>2108</b> is analogous to the structure of the right eyepiece <b>2110</b>.)</p><p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. <b>3</b>A</figref> illustrates an example handheld controller component <b>300</b> of a mixed reality system <b>200</b>. In some examples, handheld controller <b>300</b> includes a grip portion <b>346</b> and one or more buttons <b>350</b> disposed along a top surface <b>348</b>. In some examples, buttons <b>350</b> may be configured for use as an optical tracking target, e.g., for tracking six-degree-of-freedom (6DOF) motion of the handheld controller <b>300</b>, in conjunction with a camera or other optical sensor (which may be mounted in a head device (e.g., wearable head device <b>2102</b>) of mixed reality system <b>200</b>). In some examples, handheld controller <b>300</b> includes tracking components (e.g., an IMU or other suitable sensors) for detecting position or orientation, such as position or orientation relative to wearable head device <b>2102</b>. In some examples, such tracking components may be positioned in a handle of handheld controller <b>300</b>, and/or may be mechanically coupled to the handheld controller. Handheld controller <b>300</b> can be configured to provide one or more output signals corresponding to one or more of a pressed state of the buttons; or a position, orientation, and/or motion of the handheld controller <b>300</b> (e.g., via an IMU). Such output signals may be used as input to a processor of mixed reality system <b>200</b>. Such input may correspond to a position, orientation, and/or movement of the handheld controller (and, by extension, to a position, orientation, and/or movement of a hand of a user holding the controller). Such input may also correspond to a user pressing buttons <b>350</b>.</p><p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. <b>3</b>B</figref> illustrates an example auxiliary unit <b>320</b> of a mixed reality system <b>200</b>. The auxiliary unit <b>320</b> can include a battery to provide energy to operate the system <b>200</b>, and can include a processor for executing programs to operate the system <b>200</b>. As shown, the example auxiliary unit <b>320</b> includes a clip <b>2128</b>, such as for attaching the auxiliary unit <b>320</b> to a user's belt. Other form factors are suitable for auxiliary unit <b>320</b> and will be apparent, including form factors that do not involve mounting the unit to a user's belt. In some examples, auxiliary unit <b>320</b> is coupled to the wearable head device <b>2102</b> through a multiconduit cable that can include, for example, electrical wires and fiber optics. Wireless connections between the auxiliary unit <b>320</b> and the wearable head device <b>2102</b> can also be used.</p><p id="p-0047" num="0046">In some examples, mixed reality system <b>200</b> can include one or more microphones to detect sound and provide corresponding signals to the mixed reality system. In some examples, a microphone may be attached to, or integrated with, wearable head device <b>2102</b>, and may be configured to detect a user's voice. In some examples, a microphone may be attached to, or integrated with, handheld controller <b>300</b> and/or auxiliary unit <b>320</b>. Such a microphone may be configured to detect environmental sounds, ambient noise, voices of a user or a third party, or other sounds.</p><p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows an example functional block diagram that may correspond to an example mixed reality system, such as mixed reality system <b>200</b> described above (which may correspond to mixed reality system <b>112</b> with respect to <figref idref="DRAWINGS">FIG. <b>1</b></figref>). As shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, example handheld controller <b>400</b>B (which may correspond to handheld controller <b>300</b> (a &#x201c;totem&#x201d;)) includes a totem-to-wearable head device six degree of freedom (6DOF) totem subsystem <b>404</b>A and example wearable head device <b>400</b>A (which may correspond to wearable head device <b>2102</b>) includes a totem-to-wearable head device 6DOF subsystem <b>404</b>B. In the example, the 6DOF totem subsystem <b>404</b>A and the 6DOF subsystem <b>404</b>B cooperate to determine six coordinates (e.g., offsets in three translation directions and rotation along three axes) of the handheld controller <b>400</b>B relative to the wearable head device <b>400</b>A. The six degrees of freedom may be expressed relative to a coordinate system of the wearable head device <b>400</b>A. The three translation offsets may be expressed as X, Y, and Z offsets in such a coordinate system, as a translation matrix, or as some other representation. The rotation degrees of freedom may be expressed as sequence of yaw, pitch and roll rotations, as a rotation matrix, as a quaternion, or as some other representation. In some examples, the wearable head device <b>400</b>A; one or more depth cameras <b>444</b> (and/or one or more non-depth cameras) included in the wearable head device <b>400</b>A; and/or one or more optical targets (e.g., buttons <b>350</b> of handheld controller <b>400</b>B as described above, or dedicated optical targets included in the handheld controller <b>400</b>B) can be used for 6DOF tracking. In some examples, the handheld controller <b>400</b>B can include a camera, as described above; and the wearable head device <b>400</b>A can include an optical target for optical tracking in conjunction with the camera. In some examples, the wearable head device <b>400</b>A and the handheld controller <b>400</b>B each include a set of three orthogonally oriented solenoids which are used to wirelessly send and receive three distinguishable signals. By measuring the relative magnitude of the three distinguishable signals received in each of the coils used for receiving, the 6DOF of the wearable head device <b>400</b>A relative to the handheld controller <b>400</b>B may be determined. Additionally, 6DOF totem subsystem <b>404</b>A can include an Inertial Measurement Unit (IMU) that is useful to provide improved accuracy and/or more timely information on rapid movements of the handheld controller <b>400</b>B.</p><p id="p-0049" num="0048">In some examples, it may become necessary to transform coordinates from a local coordinate space (e.g., a coordinate space fixed relative to the wearable head device <b>400</b>A) to an inertial coordinate space (e.g., a coordinate space fixed relative to the real environment), for example in order to compensate for the movement of the wearable head device <b>400</b>A relative to the coordinate system <b>108</b>. For instance, such transformations may be necessary for a display of the wearable head device <b>400</b>A to present a virtual object at an expected position and orientation relative to the real environment (e.g., a virtual person sitting in a real chair, facing forward, regardless of the wearable head device's position and orientation), rather than at a fixed position and orientation on the display (e.g., at the same position in the right lower corner of the display), to preserve the illusion that the virtual object exists in the real environment (and does not, for example, appear positioned unnaturally in the real environment as the wearable head device <b>400</b>A shifts and rotates). In some examples, a compensatory transformation between coordinate spaces can be determined by processing imagery from the depth cameras <b>444</b> using a SLAM and/or visual odometry procedure in order to determine the transformation of the wearable head device <b>400</b>A relative to the coordinate system <b>108</b>. In the example shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the depth cameras <b>444</b> are coupled to a SLAM/visual odometry block <b>406</b> and can provide imagery to block <b>406</b>. The SLAM/visual odometry block <b>406</b> implementation can include a processor configured to process this imagery and determine a position and orientation of the user's head, which can then be used to identify a transformation between a head coordinate space and another coordinate space (e.g., an inertial coordinate space). Similarly, in some examples, an additional source of information on the user's head pose and location is obtained from an IMU <b>409</b>. Information from the IMU <b>409</b> can be integrated with information from the SLAM/visual odometry block <b>406</b> to provide improved accuracy and/or more timely information on rapid adjustments of the user's head pose and position.</p><p id="p-0050" num="0049">In some examples, the depth cameras <b>444</b> can supply 3D imagery to a hand gesture tracker <b>411</b>, which may be implemented in a processor of the wearable head device <b>400</b>A. The hand gesture tracker <b>411</b> can identify a user's hand gestures, for example by matching 3D imagery received from the depth cameras <b>444</b> to stored patterns representing hand gestures. Other suitable techniques of identifying a user's hand gestures will be apparent.</p><p id="p-0051" num="0050">In some examples, one or more processors <b>416</b> may be configured to receive data from the wearable head device's 6DOF headgear subsystem <b>404</b>B, the IMU <b>409</b>, the SLAM/visual odometry block <b>406</b>, depth cameras <b>444</b>, and/or the hand gesture tracker <b>411</b>. The processor <b>416</b> can also send and receive control signals from the 6DOF totem system <b>404</b>A. The processor <b>416</b> may be coupled to the 6DOF totem system <b>404</b>A wirelessly, such as in examples where the handheld controller <b>400</b>B is untethered. Processor <b>416</b> may further communicate with additional components, such as an audio-visual content memory <b>418</b>, a Graphical Processing Unit (GPU) <b>420</b>, and/or a Digital Signal Processor (DSP) audio spatializer <b>422</b>. The DSP audio spatializer <b>422</b> may be coupled to a Head Related Transfer Function (HRTF) memory <b>425</b>. The GPU <b>420</b> can include a left channel output coupled to the left source of imagewise modulated light <b>424</b> and a right channel output coupled to the right source of imagewise modulated light <b>426</b>. GPU <b>420</b> can output stereoscopic image data to the sources of imagewise modulated light <b>424</b>, <b>426</b>, for example as described above with respect to <figref idref="DRAWINGS">FIGS. <b>2</b>A-<b>2</b>D</figref>. The DSP audio spatializer <b>422</b> can output audio to a left speaker <b>412</b> and/or a right speaker <b>414</b>. The DSP audio spatializer <b>422</b> can receive input from processor <b>419</b> indicating a direction vector from a user to a virtual sound source (which may be moved by the user, e.g., via the handheld controller <b>320</b>). Based on the direction vector, the DSP audio spatializer <b>422</b> can determine a corresponding HRTF (e.g., by accessing a HRTF, or by interpolating multiple HRTFs). The DSP audio spatializer <b>422</b> can then apply the determined HRTF to an audio signal, such as an audio signal corresponding to a virtual sound generated by a virtual object. This can enhance the believability and realism of the virtual sound, by incorporating the relative position and orientation of the user relative to the virtual sound in the mixed reality environment&#x2014;that is, by presenting a virtual sound that matches a user's expectations of what that virtual sound would sound like if it were a real sound in a real environment.</p><p id="p-0052" num="0051">In some examples, such as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, one or more of processor <b>416</b>, GPU <b>420</b>, DSP audio spatializer <b>422</b>, HRTF memory <b>425</b>, and audio/visual content memory <b>418</b> may be included in an auxiliary unit <b>400</b>C (which may correspond to auxiliary unit <b>320</b> described above). The auxiliary unit <b>400</b>C may include a battery <b>427</b> to power its components and/or to supply power to the wearable head device <b>400</b>A or handheld controller <b>400</b>B. Including such components in an auxiliary unit, which can be mounted to a user's waist, can limit the size and weight of the wearable head device <b>400</b>A, which can in turn reduce fatigue of a user's head and neck.</p><p id="p-0053" num="0052">While <figref idref="DRAWINGS">FIG. <b>4</b></figref> presents elements corresponding to various components of an example mixed reality system, various other suitable arrangements of these components will become apparent to those skilled in the art. For example, elements presented in <figref idref="DRAWINGS">FIG. <b>4</b></figref> as being associated with auxiliary unit <b>400</b>C could instead be associated with the wearable head device <b>400</b>A or handheld controller <b>400</b>B. Furthermore, some mixed reality systems may forgo entirely a handheld controller <b>400</b>B or auxiliary unit <b>400</b>C. Such changes and modifications are to be understood as being included within the scope of the disclosed examples.</p><p id="p-0054" num="0053">Virtual Reflections</p><p id="p-0055" num="0054">As described above, a MRE (such as experienced via a mixed reality system, e.g., mixed reality system <b>200</b> described above) can present audio signals that appear, to a user of the MRE, to originate at a sound source with an origin coordinate in the MRE, and travel in a direction of an orientation vector in the MRE. That is, the user may perceive these audio signals as if they were real audio signals originating from the origin coordinate of the sound source and traveling along the orientation vector.</p><p id="p-0056" num="0055">In some cases, audio signals may be considered virtual in that they correspond to computational signals in a virtual environment, and do not necessarily correspond to real sounds in the real environment. However, virtual audio signals can be presented to a user as real audio signals detectable by the human ear, for example as generated via speakers <b>2134</b> and <b>2136</b> of wearable head device <b>2102</b> in <figref idref="DRAWINGS">FIGS. <b>2</b>A-<b>2</b>D</figref>.</p><p id="p-0057" num="0056">A sound source may correspond to a real object and/or a virtual object. For example, a virtual object (e.g., virtual monster <b>132</b> of <figref idref="DRAWINGS">FIG. <b>1</b>C</figref>) can emit an audio signal in a MRE, which is represented in the MRE as a virtual audio signal, and presented to the user as a real audio signal. For instance, virtual monster <b>132</b> of <figref idref="DRAWINGS">FIG. <b>1</b>C</figref> can emit a virtual sound corresponding to the monster's speech (e.g., dialogue) or sound effects. Similarly, a real object (e.g., real object <b>122</b>A of <figref idref="DRAWINGS">FIG. <b>1</b>C</figref>) can be made to appear to emit a virtual sound in a MRE, which is represented in the MRE as a virtual audio signal, and presented to the user as a real audio signal. For instance, real lamp <b>122</b>A can emit a virtual sound corresponding to the sound effect of the lamp being switched on or off&#x2014;even if the lamp is not being switched on or off in the real environment. The virtual sound can correspond to a position and orientation of the sound source (whether real or virtual). For instance, if the virtual sound is presented to the user as a real audio signal (e.g., via speakers <b>2134</b> and <b>2136</b>), the user may perceive the virtual sound as originating from the position of the sound source, and traveling in the direction of the orientation of the sound source. Sound sources are referred to herein as &#x201c;virtual sound sources,&#x201d; even though the underlying object made to apparently emit a sound may itself correspond to a real object, such as described above.</p><p id="p-0058" num="0057">Some virtual or mixed reality environments suffer from a perception that the environments do not feel real or authentic. One reason for this perception is that audio and visual cues do not always match each other in virtual environments. For example, if a user is positioned behind a large brick wall in a MRE, the user may expect sounds coming from behind the brick wall to be quieter and more muffled than sounds originating right next to the user. This expectation is based on our own auditory experiences in the real world, where sounds may be altered (e.g., may become quiet and muffled) by the presence of large, dense objects. For example, when the user is presented with an audio signal that purportedly originates from behind the brick wall, but that is presented unmuffled and at full volume, the illusion that the user is behind a brick wall&#x2014;or that the sound originates from behind it&#x2014;is compromised. The entire virtual experience may feel fake and inauthentic, in part because it does not comport with our own expectations based on real world interactions. Further, in some cases, the &#x201c;uncanny valley&#x201d; problem arises, in which even subtle differences between virtual experiences and real experiences can cause feelings of discomfort. It is desirable to improve the user's experience by presenting, in a MRE, audio signals that appear to realistically interact&#x2014;even in subtle ways with objects in the user's environment. The more consistent that such audio signals are with our own expectations, based on real world experience, the more immersive and engaging the user's MRE experience will be.</p><p id="p-0059" num="0058">Lessons from perceptual science may be useful here. One way that people perceive and understand the environment around them is through audio cues. In the real world, the real audio signals we hear are affected by where those audio signals originate from, in what direction those audio signals travel, and what objects that audio signals interact with. For example, with all other factors equal, a sound that originates a great distance from a listener (e.g., a dog barking in the distance) will appear quieter than the same sound originating from a short distance (e.g., the dog barking in the same room as the listener). A listener can thus identify a location of a dog in the real environment based on the perceived volume of its bark. Likewise, with all other factors equal, a sound that travels away from the listener (e.g., the voice of a person who is facing away from the listener) will appear less clear and more muffled (i.e., low-pass filtered) than the same sound traveling toward the user (e.g., the voice of a person who is facing toward the listener). A listener can thus identify the orientation of a person in the real environment based on the perceived frequency characteristics of that person's voice.</p><p id="p-0060" num="0059">Our perception of real audio signals can also be affected by the presence of objects in the environment, with which audio signals interact. That is, listeners may perceive not only an audio signal generated by a sound source, but also the reverberations of that audio signal against nearby physical objects (&#x201c;reverb&#x201d;). For example, if a person speaks in a small room with close walls, those walls may cause short natural reverberated signals to result as the person's voice reflects off of the walls. A listener may infer from those reverberations that he or she is in a small room with close walls. Likewise, a large concert hall or cathedral may cause longer reverberations, from which the listener can infer that he or she is in a large, spacious room. Similarly, reverberations of audio signals may take on various sonic characteristics based on the position or orientation of the surfaces against which those signals reflect, or the material of those surfaces. For example, reverberations against bathroom tile will sound different than reverberations against brick, carpet, drywall, or other materials. These reverberation characteristics can be used by the listener to infer the location, orientation, and material of the objects in his or her vicinity.</p><p id="p-0061" num="0060">The above examples illustrate how audio cues can inform our perception of the environment around us. These cues can act in combination with visual cues: for example, if we see a dog in the distance, we expect the sound of that dog's bark to be consistent with that distance (and may feel disconcerted or disoriented if it is not, as in some virtual environments). In some examples, such as in low-light environments, or with respect to visually impaired users, visual cues may be limited or unavailable; in such cases, audio cues may take on a particular importance, and may serve as the user's primary means of understanding his or her environment.</p><p id="p-0062" num="0061">In some environments&#x2014;whether real, virtual, mixed, or otherwise&#x2014;an important source of audio cues is the user's own voice. That is, the sound of a user's own voice in his or her environment can be a particularly important audio cue for understanding that environment. One reason is that the user, as the one speaking, is highly attuned to what his or her own voice will sound like; and deviations from that expectation can be especially valuable as clues to the environment. Another reason is that people may have substantial experience speaking in various physical environments&#x2014;small rooms, cavernous rooms, tiled bathrooms, etc.&#x2014;and intuitively understand, from this experience, how those rooms will affect the sound of their own voices.</p><p id="p-0063" num="0062">It is desirable to present audio signals in a MRE to a user in a manner that incorporates realistic reverberation effects, based on virtual objects in the MRE, so that the user can use these audio signals as cues to identify the virtual objects&#x2014;a problem with which users of some MREs struggle. Incorporating such reverberation effects is further desirable in order to lend the audio signals a more realistic, believable quality by simulating real-world reverberations. This may reduce suboptimal dissonance between the user's auditory experience in the MRE, and the user's auditory experience in the real world, such as where audio signals in the MRE do not seem quite right (the aforementioned uncanny valley problem). Further, it may be particularly desirable for a MRE to apply such effects to the user's own voice, for the reasons noted above. Compared to conventional reverb systems, the present invention can allow for a more nuanced, and believable, presentation of audio signals by taking into account the user's position, orientation, and other characteristics relative to the audio signals and the environment. By presenting a user of a MRE with an audio experience that evokes the audio experiences of our everyday lives, a MRE can enhance the user's feeling of immersion and connectedness when engaging with the MRE.</p><p id="p-0064" num="0063"><figref idref="DRAWINGS">FIGS. <b>5</b>A and <b>5</b>B</figref> depict a perspective view and a top view, respectively, of an example mixed reality environment <b>500</b> (which may correspond to mixed reality environment <b>150</b> of <figref idref="DRAWINGS">FIG. <b>1</b>C</figref>). In MRE <b>500</b>, user <b>501</b> is wearing a wearable head device <b>510</b>, including a microphone <b>512</b>. The wearable head device <b>510</b> can correspond to the wearable head device <b>2102</b> described above with respect to <figref idref="DRAWINGS">FIGS. <b>2</b>A-<b>2</b>D</figref>, which in turn can correspond to the wearable head device <b>400</b>A described above with respect to <figref idref="DRAWINGS">FIG. <b>4</b></figref>. Microphone <b>512</b> is configured to provide voice signals of user <b>501</b> as input to mixed reality system <b>112</b>, so that the user's voice can be properly integrated into the MRE <b>500</b>.</p><p id="p-0065" num="0064">In example MRE <b>500</b>, user <b>501</b>'s speech produces one or more real audio signals, including a real audio signal <b>520</b>, which represents a directional audio signal emitted by user <b>501</b> (e.g., a sound ray along which acoustic energy travels), and can have a position and orientation in a coordinate system of MRE <b>500</b>. In the example, real audio signal <b>520</b> originates at an origin coordinate <b>522</b> associated with user <b>501</b> (e.g., user <b>501</b>'s mouth), and travels along a vector <b>524</b> associated with user <b>501</b>. Vector <b>524</b> can represent the propagation of any real audio signal emitted by user <b>501</b>. Real audio signal <b>520</b> may be detected by microphone <b>512</b> and provided as input to MRE <b>500</b>.</p><p id="p-0066" num="0065">Example MRE <b>500</b> includes a virtual object <b>530</b>, which is depicted in <figref idref="DRAWINGS">FIGS. <b>5</b>A and <b>5</b>B</figref> as a wall with a planar surface. In the example shown, real audio signal <b>520</b> intersects with virtual object <b>530</b> at an example intersection point <b>526</b>, at an angle <b>528</b> to the normal <b>527</b> of the virtual object at the intersection point <b>526</b>. In some examples, virtual object <b>530</b> may be associated with one or more virtual physical parameters, such as a size, a shape, a mass, or a material. These parameters may affect the simulated reflection of audio signals (such as real audio signal <b>520</b>) by a surface of virtual object <b>530</b>. Such parameters can include spatial properties in a coordinate space of a MRE (e.g., position, orientation, shape, dimensions); physical properties (e.g., density; elasticity; tensile strength; temperature; smoothness; resonance); or other suitable properties of an object. The virtual object <b>530</b> may be associated with additional parameters that are not related to acoustic reflections such as visual properties (e.g., color, transparency, reflectivity); and other physical parameters (e.g., wetness; electrical conductivity). A mixed reality system can determine such parameters, and accordingly generate virtual objects having those parameters, using any suitable method.</p><p id="p-0067" num="0066">In some examples, virtual objects with which a virtual audio signal intersects may correspond to real objects (e.g., such as real objects <b>122</b>A, <b>124</b>A, and <b>126</b>A correspond to virtual objects <b>122</b>B, <b>124</b>B, and <b>126</b>B in <figref idref="DRAWINGS">FIG. <b>1</b>C</figref>). In some such examples, the user may be placed in an acoustically sealed environments (e.g., sealed headphones) to attenuate undesired audio signals that may be caused by reflections against the real objects. In some examples, such virtual objects may not correspond to real objects (e.g., such as virtual monster <b>132</b> in <figref idref="DRAWINGS">FIG. <b>1</b>C</figref>). In cases where virtual objects correspond to real objects, the virtual objects may have parameters (e.g., dimensions, materials) that correspond to the properties of those real objects.</p><p id="p-0068" num="0067">In example MRE <b>500</b>, an example reflected audio signal <b>540</b> results when real audio signal <b>520</b> intersects with virtual object <b>530</b>. Reflected audio signal <b>540</b> has an origin coordinate <b>542</b>, and propagates along a vector <b>544</b>. In the example, origin coordinate <b>542</b> lies on a surface of virtual object <b>530</b>, and vector <b>544</b> lies at an angle <b>548</b> to the normal of the surface at origin coordinate <b>542</b>. Typically, but not necessarily, coordinate <b>542</b> is the same coordinate as coordinate <b>526</b>; and angle <b>548</b> is equal to angle <b>528</b>.</p><p id="p-0069" num="0068">Reflected audio signal <b>540</b> may represent a simulated acoustic reverberation of real audio signal <b>520</b> off of virtual object <b>530</b>. As such, reflected audio signal <b>540</b> may be described as a sonically modified version of real audio signal <b>520</b>. For example, reflected audio signal <b>540</b> may be described as a version of real audio signal <b>520</b> that has been attenuated, filtered (e.g., low-pass filtered), and/or phase-shifted and output via the speakers <b>412</b>, <b>414</b>, <b>2134</b>, <b>2136</b>. In some examples, virtual object <b>530</b> causes diffraction effects that affect the frequency spectrum of reflected audio signal <b>540</b>. Further, reflected audio signal <b>540</b> may be a composite of two or more signals obtained by reverb processing techniques (e.g., versions of real audio signal <b>520</b> that are temporarily stored and output after a delay), for instance to simulate a natural reverb effect. The adjustments to real audio signal <b>520</b> to generate reflected audio signal <b>540</b> may be considered to be one or more transfer functions (e.g., a transfer function H(t)), such that the one or more transfer functions when applied to real audio signal <b>520</b> result in reflected audio signal <b>540</b>.</p><p id="p-0070" num="0069">Example reflected audio signal <b>540</b> may be a virtual audio signal that is not directly perceptible by a user of the MRE, but that can be converted to a real audio signal by one or more speakers (e.g., speakers <b>2134</b> and/or <b>2136</b>), which real audio signal can be heard by the user. For example, reflected audio signal <b>540</b> may be a computational representation, for instance by a processor and/or memory associated with a MRE, of digital audio data that could be converted to an analog signal via a digital-audio converter (e.g., as part of DSP audio spatializer <b>422</b> of <figref idref="DRAWINGS">FIG. <b>4</b></figref>); and then amplified and used to drive a speaker, producing sound perceptible by a listener. Such computational representation can comprise, for example, a coordinate in the MRE at which the reflected audio signal originates; a vector in the MRE along which the reflected audio signal propagates; a time at which the reflected audio signal originates; a speed at which the reflected audio signal propagates; or other suitable characteristics. Various techniques, such as ray-tracing, can be used to model propagation from the audio source (e.g., user's vocal apparatus) to a reflection point on a virtual object and back to user's ears. As one example, in the case of a user facing a flat surface of a virtual object, a virtual image of an audio source (an &#x201c;image source&#x201d;) can be spaced from the user's mouth along a segment that is twice the distance to the flat surface (i.e., twice the length of the shortest path to the flat surface) and perpendicular to the flat surface. The reflected acoustic wave path of the user's voice can be modeled as acoustic wave propagation from the virtual image of the audio source to a listener position. (In this example, for the virtual reflection to exist, the extent of the virtual flat surface must be large enough so that the path from the virtual image to the listener position passes through the flat surface.) Polyhedral representations of virtual objects that include numerous flat surfaces can be maintained in the audio visual content memory <b>418</b>.</p><p id="p-0071" num="0070">A MRE may include a representation of one or more listener coordinates (e.g., coordinate <b>516</b> in <figref idref="DRAWINGS">FIGS. <b>5</b>A and <b>5</b>B</figref>), each of which corresponds to a location in a coordinate system (a &#x201c;listener&#x201d;) at which a reflected audio signal can be perceived. In some examples, a MRE may also include a representation of one or more listener vectors, which can represent an orientation of a listener. Listener coordinate <b>516</b> can have a spatial relationship to a position of user <b>501</b>, such as may be determined using one or more sensors of wearable head device <b>510</b>; for instance, listener coordinate <b>516</b> may have a fixed or variable spatial offset relative to a position of user <b>501</b>. In the example MRE <b>500</b> shown, listener coordinate <b>516</b> corresponds to origin coordinate <b>522</b> (the center of the user's head), which in the example is the origin of real audio signal <b>520</b>. However, in some examples, a listener coordinate need not correspond to the origin of real audio signal <b>520</b>, and can correspond to the location of a user's ear, the location of a speaker of wearable head device <b>510</b>, or another suitable location. Further, a listener vector can correspond to the direction in which the user faces. In some examples, listener coordinates and/or listener vectors can be determined using a position and/or orientation of a wearable head device worn by the user; for example, listener coordinate <b>516</b> can be defined as an offset from a detected position of the wearable head device. In some cases, listener coordinates and listener vectors can be detected via one or more sensors described above with respect to wearable head device <b>510</b> (e.g., IMUs, GPS units, accelerometers, acoustic sensors, cameras, radar, etc.), or any other suitable sensors. In some examples, a MRE can include left and right listener coordinates, corresponding to the locations of the user's left and right ears, respectively, in a coordinate system of the MRE. By determining a vector of a reflected audio signal from its origin (the image source) to the listener coordinate, a real audio signal can be determined that corresponds to how a human listener with an ear at that coordinate would perceive the reflected audio signal. This audio signal can then be rendered to the user <b>501</b>, for example via one or more speakers (e.g., <b>2134</b>, <b>2136</b>) of wearable head device <b>510</b>.</p><p id="p-0072" num="0071">In some examples, reflected audio signal <b>540</b> comprises base sound data (e.g., digital data in a memory, the data representing an audio waveform) and a transfer function comprising one or more parameters that can be applied to that base sound data. Such parameters may correspond to attenuation of the base sound (e.g., a volume drop-off); filtering of the base sound (e.g., a low-pass filter); time delay (e.g., phase shift) of the base sound; or other suitable parameters. In some examples, such parameters may include input parameters for a MIDI engine, or for an artificial reverb engine for applying artificial reverb and echo effects.</p><p id="p-0073" num="0072">In some examples, a transfer function can model a relationship of the listener coordinate to the reflected audio signal. For example, a transfer function could define the amplitude of the real audio signal to be a decreasing function of distance from a listener coordinate to the origin of the reflected audio source (the image source)&#x2014;that is, the gain of the reflected signal decreases as the distance from the listener to the origin increases. As another example, a transfer function could define a low-pass filter applied to a reflected audio signal to be a function of the distance of the listener coordinate (and/or the angle of a listener vector) to the propagation vector of the reflected audio signal; for instance, a listener far away from the reflected audio signal may perceive less high frequency power in the signal than would a listener closer to the signal. As a further example, a transfer function could define a time delay (e.g., phase shift) to be applied based on the distance between the listener coordinate and the origin of the reflected audio signal. In some examples, one or more characteristics of a relationship of the user's head to the reflected audio signal can be incorporated in a head-related transfer function (HRTF), which can be selected (e.g., based on coordinates of virtual object <b>530</b> relative to the user's head) and applied to a real audio signal. In some examples, DSP audio spatializer <b>422</b> of <figref idref="DRAWINGS">FIG. <b>4</b></figref> can utilize a HRTF to present an audio signal that incorporates the position and orientation of the user's head.</p><p id="p-0074" num="0073">Some characteristics of a transfer function applied to real audio signal <b>520</b> (and thus affecting virtual reflected audio signal <b>540</b>) may be determined or influenced by virtual object <b>530</b>. For example, the transfer function could comprise an attenuation of a real audio signal (resulting in the corresponding reflected audio signal appearing quieter to the listener) based on a parameter (e.g., a material or dimension) of virtual object <b>530</b>. The transfer function could also comprise a low-pass filter applied to the real audio signal, resulting in the reflected audio signal appearing more muffled as high-frequency content is rolled off, based on a parameter of virtual object <b>530</b>. This can allow reflected audio signal <b>540</b> to meet a user's expectations of what acoustic reflections of real audio signal <b>520</b> against virtual object <b>530</b> should sound like: for instance, a user would expect certain types of virtual objects (e.g., a virtual thick curtain) to result in a greater degree of attenuation or low-pass filtering than other types of virtual objects, such as a virtual glass wall. In some cases, reflected audio signal <b>540</b> may be delayed, relative to real audio signal <b>520</b>, based on a distance between virtual object <b>530</b> and the user; this can simulate the natural delay caused by the travel time of an audio signal from the user to a reflecting object, and back again to the user. In some cases, virtual objects may apply a phase shift, or other effects, to the real audio signal. In some examples, virtual objects may result in wavelength-dependent diffraction effects which may alter the frequency spectrum of reflected audio signals. These diffraction effects may be based, for example, on an angle and size of a surface intersecting the real audio signal. In some cases, the effect that a virtual object has on a real audio signal can be determined by a physical modeling of the virtual object&#x2014;for example, if the virtual object corresponds to a particular material (e.g., brick, aluminum, water), the transfer function could incorporate the known density and speed of transmission of an audio signal through that material in the real world.</p><p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. <b>6</b></figref> shows an example process <b>600</b> for presenting a reflected audio signal to a user of a MRE, such as a user of mixed reality system <b>112</b>. Example process <b>600</b> may be implemented by one or more processors (e.g., corresponding to processor <b>416</b> of <figref idref="DRAWINGS">FIG. <b>4</b></figref>) and/or a DSP module (e.g., corresponding to DSP audio spatializer <b>422</b> of <figref idref="DRAWINGS">FIG. <b>4</b></figref>) of wearable head device <b>510</b>, or by any other suitable circuitry. It should be noted that the steps of example process <b>600</b> may be performed in any suitable order; the disclosure is not limited to the particular sequence of steps depicted in the example shown.</p><p id="p-0076" num="0075">At stage <b>610</b> of process <b>600</b>, a real audio signal (e.g., real audio signal <b>520</b>) is detected by one or more microphones, such as microphone <b>512</b>. The real audio signal may, but need not, correspond to sound generated by user <b>501</b> (e.g., sound generated by user <b>501</b>&#x2032;s voice or body movements). In some embodiments, the real audio signal may correspond to sounds not generated by user <b>501</b>. Microphone <b>512</b> may be used to input the real audio signal, for example via a A/D converter, to a processor (e.g., processor <b>416</b> of <figref idref="DRAWINGS">FIG. <b>4</b></figref>) and/or a memory (e.g., memory <b>418</b> of <figref idref="DRAWINGS">FIG. <b>4</b></figref>) or other storage element, such as a shift register, which can store digital data corresponding to the real audio signal. Preprocessing (e.g., feedback cancellation, anti-aliasing, amplification) may be applied to the real audio signal to condition the real audio signal for additional processing.</p><p id="p-0077" num="0076">At stage <b>620</b> of process <b>600</b>, one or more positions and/or orientations of user <b>501</b>, or wearable head device <b>510</b>, can be determined, for example using sensors and/or an IMU of wearable head device <b>510</b>, as described above. Positions and orientations can be updated in real time, for example as the user's head moves and rotates within MRE <b>500</b>. A position determined at stage <b>620</b> may correspond to a position of the user's head (e.g., the center of the user's head); a position of the user's ear; a position of the user's mouth; or a position of the head-mounted device. An orientation determined at stage <b>620</b> may correspond to the direction the user is facing.</p><p id="p-0078" num="0077">At stage <b>630</b> of process <b>600</b>, an origin coordinate (e.g., coordinate <b>522</b>) and a direction vector (e.g., vector <b>524</b>) corresponding to the real audio signal (detected at stage <b>610</b>) is determined. A direction vector can comprise an orientation vector as well as, in some examples, a directivity pattern. In some examples, the origin coordinate may be identical to the user's position determined at stage <b>620</b>. In some examples, such as where the real audio signal corresponds to the sound of the user's voice, the origin coordinate may correspond to a position of the user's mouth (detected, for example, using sensors associated with wearable head device <b>510</b>, or assumed to be at a fixed offset relative to the wearable head device <b>510</b>). In some examples, such as where the real audio signal corresponds to the user's voice, the direction vector may correspond to the orientation of the user determined at stage <b>620</b> (e.g., the direction in which the user is facing). This can be determined in some examples using one or more suitable sensors, such as sensors described above with respect to wearable head device <b>510</b> (e.g., IMUs, accelerometers), or from external sources (e.g., databases). In some examples, two or more microphones or other sensors may be used to identify a direction in which the real audio signal is traveling (e.g., by measuring the time delay between when the signal reaches each of two microphones).</p><p id="p-0079" num="0078">At stage <b>640</b> of process <b>600</b>, one or more virtual objects (e.g., virtual object <b>530</b>) in MRE <b>500</b> are identified. Such identification can include one or more of a position, orientation, shape, boundary, and any parameter described above with respect to a virtual object (e.g., material type). In some implementations, a virtual object can be overlaid or fixed relative to a real object (e.g., a hand controller), and a calculated acoustic reflection of the virtual object may be stronger than the acoustic reflection associated with the real object; in such examples, the acoustic reflection of the virtual object can be synthesized by the system <b>112</b> as described herein. In some examples, virtual objects (e.g., virtual monster <b>132</b>) may not correspond to any real objects. In such examples, virtual objects can be identified in any suitable manner, such as by iterating through a list of virtual objects in MRE <b>500</b>, identifying which virtual objects in the list are within a threshold distance from user <b>501</b> in MRE <b>500</b>, and identifying relevant information (e.g., position, orientation) associated with those virtual objects.</p><p id="p-0080" num="0079">At stage <b>650</b>, it can be determined whether the real audio signal detected at stage <b>610</b>, originating at the origin coordinate identified at stage <b>630</b> and traveling in the direction identified at stage <b>630</b>, should result in a reflected audio signal (e.g., reflected audio signal <b>540</b>). That is, it can be determined whether the real audio signal intersects a surface of a virtual object in MRE <b>500</b> such that it is desirable to present a reflected audio signal to the user. (In some cases, it may not be desirable to present such a reflected audio signal&#x2014;for example, if the reflected audio signal would not be perceptually significant to the user, or if there are insufficient computational resources.) This determination can be performed by using any suitable method for determining whether a vector (e.g., the vector describing the direction of travel of the real audio signal) intersects with a surface in a three-dimensional coordinate system (e.g., coordinate system <b>108</b>). If it is determined that it would be desirable to present a reflected audio signal to the user, it can be further determined at stage <b>650</b>, using any suitable method, at what coordinate (e.g., coordinate <b>526</b>) the real audio signal intersects the surface of the virtual object, and at what angle (e.g., the angle, such as angle <b>528</b>, between the direction vector of the real audio signal, and the normal to the surface at the intersection coordinate). In some examples, second-order reflections may result if the real audio signal intersects multiple virtual objects&#x2014;for example, where a first reflected audio signal itself intersects with a virtual object, creating a second-order reflected audio signal (which can be determined recursively using process <b>600</b>). Further, in some examples, a real audio signal intersecting a virtual object may result in two or more reflected audio signals (e.g., in the case of wave diffraction, where different acoustic frequencies can be reflected with different intensities at different angles).</p><p id="p-0081" num="0080">In some examples, at stage <b>650</b>, an audio wave incident on a virtual object can be determined. The determination may take into account the frequency-dependent directivity of the source (e.g., a user's vocal apparatus), and thus determine a frequency-dependent incident wave amplitude at the virtual object. The position and orientation of the user's head and the position and orientation of any virtual object surfaces can be used in determining the incident wave. In some examples, there may be a programmed distance limit beyond which no reflection of user generated sounds will be generated.</p><p id="p-0082" num="0081">At stage <b>660</b>, if it has been determined at stage <b>650</b> that the real audio signal intersects a virtual object to create a reflected audio signal, an origin coordinate (e.g., coordinate <b>542</b>) and direction vector (e.g., vector <b>548</b>) for that reflected audio signal can be determined. In many cases, the origin will be identical to the intersection point of the real audio signal and the virtual object. Further, in many cases, the direction vector of the reflected audio signal will simply be the direction vector of the real audio signal, reflected with respect to the normal of the intersected surface at the point of intersection. However, for some audio signals and virtual objects (e.g., virtual objects that cause significant wave diffraction), it may be that the origin and/or direction of the reflected audio signal bear a more complex geometric relationship to the real audio signal.</p><p id="p-0083" num="0082">In some examples, at stage <b>660</b>, a wave reflected back to the user from a virtual object can be determined. The virtual object may have an ascribed (e.g., pre-programmed) specular acoustic property in which case the reflected wave can be determined by simple ray tracing, or, in some examples, by diffraction analysis. In some examples, the virtual object may also have an ascribed diffuse characteristic such that diffusive spreading of the reflected wave can be taken into account. In some examples, wavelength dependence or frequency dependence of diffraction and diffusion can be utilized in determining the reflected wave.</p><p id="p-0084" num="0083">At stage <b>670</b>, one or more transfer functions can be determined that, when applied to the real audio signal, will produce a reflected audio signal with the desired sonic characteristics&#x2014;that is, the reflected audio signal that a user would expect to hear at listener coordinate <b>516</b> (and, in some examples, at a particular listener orientation). As described above, these transfer functions can incorporate one or more of attenuation, filtering, time delay, phase shift, or other suitable effects. Transfer functions can accept as input the real audio signal detected at stage <b>610</b>, and one or more parameters comprising the user's position and/or orientation determined at stage <b>620</b>; the listener coordinate <b>516</b> (which may be equal to the user's position); a listener orientation (which may be equal to the user's orientation); the origin and/or direction of the real audio signal determined at stage <b>630</b>; the origin and/or direction of the reflected audio signal determined at stage <b>660</b>; a parameter of the MRE (e.g., the speed at which sound waves propagate in the MRE); and/or a parameter of a virtual object (e.g., material, density, thickness, resonance, or any other suitable parameter such described above) identified at stage <b>650</b>.</p><p id="p-0085" num="0084">In some examples, the magnitude of the transfer function may be wavelength dependent. If the wavelength corresponding to a particular frequency is comparable to or larger than the size of a wave scattering object (e.g., virtual object), then the scatter pattern (e.g., a directivity of a scattered wave) can typically be modeled by diffraction. Longer wavelengths are diffracted into a wider angular distributions. Surface texture can also affect the angular distribution of sound scattered by an object. If the surface texture has a scale that is much smaller than the wavelength corresponding to a particular frequency band of the sound, the scattering effect due to the surface texture may be negligible. However, for frequencies at which the wavelength is comparable to the surface texture scale, the scattering effect of the surface texture can be significant. Empirical models of the acoustic scatter of various surface textures may be obtained from experimental data. When synthesizing the reflection of user-generated sounds by virtual objects, a frequency (wavelength) dependent scatter pattern may be used to determine a frequency-specific transfer function describing the reflection of user generated sounds back to the user. Such a scatter pattern may be based on diffraction effects related to size, shape, or texture. A transfer function may, but need not be, based on physical modeling of the acoustic wave scattering that can be attributed to virtual objects. In some examples, the transfer function for virtual objects for various distances and incidence angles (e.g., depending on the manner in which the object is disposed relative to the user) may be precomputed and stored for use in the course of real-time augmented reality interaction.</p><p id="p-0086" num="0085">The angle of incidence of a wave on an object surface can be determined by the direction of propagation of a wave, and the surface normal of the surface. Virtual objects sufficiently close to the user's head (e.g., within two wavelengths, for a particular audio frequency) can be said to be in the near-zone (or near field) in which the audio waves are not assumed to be planar. In the near zone, even where an angle of incidence may not be applicable, wave propagation analysis may still be used to obtain the characteristics of the reflected wave, for example as a function of frequency based on the size, shape and mechanical properties of a virtual object. The mechanical properties may be associated with a material (e.g., glass, water) ascribed to the virtual object. The characteristics of the reflected wave can be determined by applying a frequency dependent transfer function to the original audio generated by the user. In some examples, the transfer function may be based on approximations, rather than rigorous wave propagation analysis.</p><p id="p-0087" num="0086">At stage <b>670</b>, with respect to attenuation, a transfer function can be determined that attenuates the input real audio signal such that the output reflected audio signal is presented at the correct gain level. Typically, the gain of the reflected audio signal will decrease (and thus the attenuation will increase) as the distance between the listener coordinate <b>516</b> and the reflected audio signal origin <b>542</b> increases. The attenuation may vary directly with the distance; may vary exponentially with the distance; or may bear some other relationship to the distance. In addition, attenuation may depend on the angle (e.g., <b>528</b>) between the real audio signal and the normal of the intersecting surface of the virtual object: if the angle is small, indicating that a large component of real audio signal is perpendicular to the surface, attenuation may be lower than if the angle is high. This is because audio signals that travel directly into a surface generally result in larger reverberations than do signals that travel mostly parallel to the surface (such that less of the signal's acoustic energy is transferred to the surface). Attenuation may also depend on a parameter of the virtual object; for example, resonance characteristics of the virtual object may result in higher or lower attenuation at resonant frequencies. Attenuation may also depend on a parameter of a ambient medium (e.g., water, air) of the MRE. Other effects on attenuation that can be modeled by a transfer function will be apparent.</p><p id="p-0088" num="0087">At stage <b>670</b>, with respect to filtering, a transfer function can be determined that filters specific frequencies of the input real audio signal such that the output reflected audio signal possesses the appropriate frequency spectrum. Typically, high frequencies will roll off (e.g., become low-pass filtered) as the distance between the listener coordinate <b>516</b> and the reflected audio signal origin <b>542</b> increases. The parameters of this low-pass filtering may vary with the distance. Moreover, filtering may depend on the direction of the reflected audio signal relative to listener coordinate <b>516</b>. For example, low-pass filtering may be stronger if the reflected audio signal travels away from the listener coordinate than if it travels toward the listener coordinate. Filtering may also depend on the angle (e.g., <b>528</b>) between the real audio signal and the normal of the intersecting surface of the virtual object: for example, with respect to some surfaces, if the angle is small, indicating that a large component of real audio signal is perpendicular to the surface, filtering (e.g., low-pass filtering) may be stronger than if the angle is high. This reflects that audio signals that travel directly into a surface can result in reverberations of a different sonic character than reverberations of signals that travel mostly parallel to the surface. Moreover, oblique angles between the real audio signal and the intersecting surface may result in diffraction of the audio signal. Filtering may also depend on a parameter of the virtual object; for example, filter characteristics may be influenced by a material of the virtual object (e.g., glass, metal). Further, virtual objects associated with particular resonance characteristics may result in more or less attenuation of resonant frequencies of the real audio signal. Filtering may also depend on a parameter of the MRE; for example, filtering may depend on a material (e.g., water, air) associated with the MRE. Other frequency-sensitive effects that can be modeled by a transfer function will be apparent.</p><p id="p-0089" num="0088">At stage <b>670</b>, with respect to time delay and phase shift effects, a transfer function can be determined that shifts the input real audio signal such that the output reflected audio signal is presented to the user at the correct time. Typically, the shift of the reflected audio signal will increase as the distance between the listener coordinate <b>516</b> and the reflected audio signal origin <b>542</b> increases. This reflects that sound waves must travel farther and longer to reach the listener coordinate. The shift will typically vary linearly with the distance, but in some examples may bear some other relationship to the distance. In some examples, time delay may be dependent on frequency. Time delay or phase shift may also depend on a parameter of the virtual object, such as a material associated with the surface of the virtual object. Time delay and phase shift may also depend on a parameter of the MRE; for example, time delay and phase shift may depend on a material (e.g., water, air) associated with the MRE. Other effects on time delay and phase shift that can be modeled by a transfer function will be apparent. Similarly, modulation effects can be modeled by a transfer function along the same lines (e.g., with the frequency of oscillation dependent on one or more of the parameters described above).</p><p id="p-0090" num="0089">In some examples, one or more transfer functions determined at stage <b>670</b> may comprise a HRTF. A HRTF may process the real audio signal (either as detected at stage <b>610</b>, or as modified by one or more transfer functions determined at stage <b>670</b>) according to a position and/or orientation of the user's head with respect to MRE <b>500</b>. An appropriate HRTF may be selected at stage <b>670</b> by a DSP audio spatializer (e.g., DSP audio spatializer <b>422</b> of <figref idref="DRAWINGS">FIG. <b>4</b></figref>).</p><p id="p-0091" num="0090">At stage <b>680</b>, the one or more transfer functions identified at stage <b>670</b> can be applied to the real audio signal input at stage <b>610</b>, using any suitable method, to generate the reflected audio signal as output. For example, where the transfer functions comprise a global attenuation, that attenuation, can be applied by multiplying the amplitude of the real audio signal by a gain factor. Where the transfer functions comprise a frequency filter, the filter can be applied to the real audio signal by convolving the real audio signal with the filter in the time domain, or multiplying the real audio signal with the filter in the frequency domain. Where the transfer functions comprise a time delay and/or phase shift, the time delay and/or phase shift can be applied using a shift register, circular buffer, or other suitable storage element, with audio data shifted within the storage element according to the desired time delay and/or phase shift. In some examples, transfer functions may be recursively applied to the real audio signal, such that a first output of a transfer function is provided as input to a transfer function, which will produce a second output. Other suitable methods of applying the transfer functions to the real audio signal will be apparent. For example, a MIDI engine and/or reverb engine may be supplied with the real audio signal and one or more parameters as input, which will output the desired reflected audio signal.</p><p id="p-0092" num="0091">At stage <b>690</b>, the reflected audio signal output from stage <b>680</b> can be presented to user <b>501</b> as one or more audio signals. Stage <b>690</b> can incorporate any suitable mixing techniques to generate these audio signals. In some examples, the system <b>112</b> can include non-occluding speakers which will naturally present real sounds from the environment in addition to the reflected audio signal output. However, in some examples, the system <b>112</b> can include occluding speakers (e.g., over-the-ear headphones, noise-canceling headphones, or earbuds with silicone seals) that occlude real sounds from the environment. In such examples, such real sounds can be input via microphones; and the reflected audio signal can be mixed with the real audio signal, for example such that the relative gains of the reflected audio signal and the real audio signal produce a balance of the two signals that is consistent with the user's expectations.</p><p id="p-0093" num="0092">In some examples, the reflected audio signal, with or without the real audio signal mixed in, is composited with other sounds of MRE <b>500</b>. In some examples, the gain or frequency spectrum of the reflected audio signal may be adjusted based on events or conditions of MRE <b>500</b>; for example, MRE <b>500</b> may execute a script that results in a programmatic adjustment of global reverb levels, which can result in a gain factor being applied to reflected audio signals at stage <b>690</b>. In examples involving stereo audio, different audio signals can be determined for separate left and right channels. In examples involving mono audio, audio signals can be mixed into a single mono signal that is presented to both ears. The mixed audio signals can be converted to left and right analog signals (e.g., by a D/A converter and/or DSP audio spatializer <b>422</b> of <figref idref="DRAWINGS">FIG. <b>4</b></figref>) that are amplified and presented to left and right speakers <b>2134</b> and <b>2136</b>, respectively.</p><p id="p-0094" num="0093"><figref idref="DRAWINGS">FIG. <b>7</b></figref> depicts an example use of functional components (e.g., components of wearable head device <b>510</b> and/or MRE <b>500</b>) to implement aspects of example process <b>600</b> described above. The components illustrated may be implemented in any suitable hardware component, such as the components described above with respect to <figref idref="DRAWINGS">FIG. <b>4</b></figref> (e.g., processor <b>416</b>; GPU <b>420</b>; DSP audio spatializer <b>422</b>); HRTF memory <b>425</b>; audio visual content memory <b>418</b>). The components may further be implemented on any suitable combination of the wearable head device <b>400</b>A, handheld controller <b>400</b>B, and/or auxiliary unit <b>400</b>C. <figref idref="DRAWINGS">FIG. <b>7</b></figref> depicts an example game engine <b>700</b> with virtual content <b>702</b>, which may comprise one or more virtual objects such as virtual object <b>530</b> described above, and a coordinate system <b>108</b> such as described above. Game engine <b>700</b> and/or virtual content <b>702</b> may comprise virtual components of a mixed reality environment, such as MRE <b>500</b> described above, and may be stored, executed, and/or presented to a user via a wearable head device, such as wearable head device <b>2102</b> described above.</p><p id="p-0095" num="0094">In <figref idref="DRAWINGS">FIG. <b>7</b></figref>, microphone <b>708</b> (which may correspond to microphone <b>512</b>) can be configured to detect a real audio signal, such as at stage <b>610</b> of example process <b>600</b>. As described above with respect to stage <b>610</b>, the signal input by the microphone may undergo preprocessing via A/D conversion (<b>710</b>) and feedback cancellation (<b>712</b>). Feedback cancellation may be performed by computing a difference between the input signal and one or more previously output audio signals (e.g., as processed via speaker-to-microphone transfer function <b>714</b> and summer <b>716</b>). The preprocessed audio signal can be stored digitally in shift register <b>718</b>, which may be configured to store any suitable number of bits (and thus audio samples). In some examples, the functions of the shift register may be implemented using a memory.</p><p id="p-0096" num="0095">In <figref idref="DRAWINGS">FIG. <b>7</b></figref>, game engine <b>700</b>, as part of a mixed reality environment, can be configured to perform steps <b>620</b>, <b>630</b>, <b>640</b>, <b>650</b>, and <b>660</b> as described above with respect to example process <b>600</b>. For instance, Game engine <b>700</b> may perform six-degree-of-freedom tracking <b>704</b> (i.e., comprising three degrees of translation and three degrees of rotation) of a user, such as user <b>501</b>, using sensors and tracking hardware of wearable head device <b>2102</b>. This may provide input used to determine a position (e.g., origin <b>522</b>) and/or orientation of the user (step <b>620</b>), and an origin and direction (e.g., <b>524</b>) of the real audio signal (step <b>630</b>), as described above. Game engine <b>700</b> may further identify one or more virtual objects of virtual content <b>702</b> (step <b>640</b>), and determine whether (and to what extent) the real audio signal intersects any such virtual objects (step <b>650</b>). If so, game engine <b>700</b> may determine an origin (e.g., <b>542</b>) and direction (<b>544</b>) of the resultant reflected audio signal (step <b>660</b>).</p><p id="p-0097" num="0096">Game engine <b>700</b> may output one or more parameters corresponding to virtual objects comprising virtual content <b>702</b>, such as virtual objects with which real audio signal intersects. Game engine <b>700</b> may also output a position and/or an orientation of a user relative to a virtual object of virtual content <b>702</b>. Game engine <b>700</b> may also output other spatial information relating to the user with respect to a virtual object, such as the distance and/or angle of the user relative to that virtual object.</p><p id="p-0098" num="0097">Game engine <b>700</b>, alone or in conjunction with other components, may determine a transfer function according to step <b>670</b> of process <b>600</b>. For example, game engine <b>700</b> in conjunction with virtual object reflection gain setter <b>720</b> may determine a level of attenuation, such as described above with respect to step <b>670</b>, to be applied to the real audio signal.</p><p id="p-0099" num="0098">Additionally, game engine <b>700</b> may identify a HRTF <b>722</b> to be applied to the real audio signal. Other aspects of determining a transfer function at step <b>670</b> may be performed by game engine <b>700</b> as described above.</p><p id="p-0100" num="0099"><figref idref="DRAWINGS">FIG. <b>7</b></figref> shows various functional components that may be used to apply a transfer function to the real audio signal to obtain a reflected audio signal, such as described above with respect to stage <b>680</b> of process <b>600</b>. For example, to implement a time delay aspect of a transfer function, game engine <b>700</b> can utilize a lookup table <b>724</b> to apply a time delay to the real audio signal. Time delays that are stored in the lookup table <b>724</b> can be decreased in value to take into account the propagation delay from the user to the microphone <b>708</b>. Game engine <b>700</b> can, for instance, provide a distance from a listener coordinate to a virtual object as input to lookup table <b>724</b>, which lookup table could then output one or more control signals to a multiplexer <b>726</b>. Multiplexer <b>726</b> could in turn use the control signals to select data from shift register <b>718</b> corresponding to the desired amount of time delay.</p><p id="p-0101" num="0100">Similarly, to implement an attenuation aspect of a transfer function, the output of multiplexer <b>726</b> could be provided to a variable gain stage <b>728</b>, with a level of attenuation set by virtual object reflection gain setter <b>720</b>, as described above. This attenuation may be provided at variable gain stage <b>728</b> by applying a simple multiplier, corresponding to the level of attenuation, to the output of multiplexer <b>726</b>.</p><p id="p-0102" num="0101">Likewise, to implement a filtering aspect of a transfer function, the output of variable gain stage may be separated by frequency band, for example using a fast Fourier transform <b>730</b> and corresponding inverse transform <b>733</b>. In some examples, time domain filtering (e.g., a running average, finite impulse response (FIR) filters, or infinite impulse response (IIR) filters) may be used. An appropriate level of attenuation (e.g., as selected by virtual object reflection gain setter <b>720</b>) may then be applied on a per-frequency-band basis at frequency-sensitive gain stage <b>732</b>, for instance by multiplying each frequency band by the determined level of attenuation.</p><p id="p-0103" num="0102">HRTF <b>722</b>, for example selected by game engine <b>700</b> as described above, can be applied to the signal output by frequency-sensitive gain stage <b>732</b>; the combination of the HRTF <b>722</b> and the frequency-sensitive gain can be used to determine an overall frequency-dependent gain.</p><p id="p-0104" num="0103">As described above with respect to stage <b>690</b> of process <b>600</b>, the reflected audio signal output by HRTF <b>722</b> can be mixed at stage <b>734</b> in preparation for presentation to the user. For example, stage <b>734</b> can create one or more composite audio signals (e.g., a single mono audio signal, or left/right stereo audio signals) by summing the output of HRTF <b>722</b> with other audio signals associated with game engine <b>700</b> (e.g., corresponding to virtual content <b>702</b>). These audio signals may be provided by a virtual audio processor <b>736</b>, which may send audio output to stage <b>734</b> to be composited with the output of HRTF <b>722</b>. At stage <b>738</b>, the composite audio signals are processed by D/A converter <b>738</b>, and amplified at stage <b>740</b> to drive speakers <b>742</b> (e.g., corresponding to speakers <b>2134</b> and <b>2136</b>), which ultimately present the resultant audio signal to the user.</p><p id="p-0105" num="0104">It should be noted that the elements of the example functional block diagram shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref> can be arranged in any suitable order. For example, time delay multiplexer <b>726</b>, variable gain stage <b>728</b>, frequency-sensitive gain stage <b>732</b>, fast Fourier transform <b>730</b>, inverse fast Fourier transform <b>733</b>, and HRTF <b>722</b> may be placed in any suitable order&#x2014;not necessarily the order shown. The disclosure is not limited to any particular order or arrangement of the functional components shown in the example.</p><p id="p-0106" num="0105">Some examples of the disclosure are directed to a method of presenting an audio signal to a user of a mixed reality environment, the method comprising: detecting a first audio signal in the mixed reality environment, where the first audio signal is a real audio signal; identifying a virtual object intersected by the first audio signal in the mixed reality environment; identifying a listener coordinate corresponding to the position of the user; determining, using the virtual object and the listener coordinate, a transfer function; applying the transfer function to the first audio signal to produce a second audio signal; and presenting, to the user, the second audio signal. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the method further comprises identifying a position of the user in the mixed reality environment, wherein the listener coordinate associated with the user is identified based on the position. Additionally or alternatively to one or more of the examples disclosed above, in some examples, detecting the first audio signal comprises detecting a voice signal generated by the user. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the method further comprises identifying an orientation of the user in the mixed reality environment, wherein the transfer function is determined using the orientation of the user. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the first audio signal is a user-generated signal. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the method further comprises determining an angle at which the first audio signal intersects the virtual object, wherein the transfer function is determined using the angle. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the first audio signal is associated with a direction in the mixed reality environment, and the transfer function is determined using the direction. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the virtual object is associated with a material, and the transfer function is determined using the material. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the transfer function comprises a function of one or more of time, frequency, gain, and phase. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the transfer function comprises a head-related transfer function. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the method further comprises determining an origin and direction of the second audio signal in the mixed reality environment, wherein the transfer function is determined using the origin and direction of the second audio signal. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the first audio signal is detected using a microphone associated with a wearable head device worn by the user. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the method further comprises presenting, to the user via a display, the virtual object.</p><p id="p-0107" num="0106">Some examples of the disclosure are directed to a system comprising: a wearable head device including: a display for displaying a mixed reality environment to a user, the display comprising a transmissive eyepiece through which a real environment is visible; a microphone; a speaker; and a sensor configured to detect one or more of a position and an orientation of the wearable head device in the mixed reality environment; one or more processors configured to perform: detecting, via the microphone, a first audio signal in the mixed reality environment, where the first audio signal is a real audio signal; identifying a virtual object intersected by the first audio signal in the mixed reality environment; presenting, to the user via the display, the virtual object; identifying, via the sensor, a position of the wearable head device in the mixed reality environment; identifying a listener coordinate using the position of the wearable head device; determining, using the virtual object and the listener coordinate, a transfer function; applying the transfer function to the first audio signal to produce a second audio signal; and presenting, to the user via the speaker, the second audio signal. Additionally or alternatively to one or more of the examples disclosed above, in some examples, detecting, via the microphone, the first audio signal comprises detecting, via the microphone, a voice signal generated by the user. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the one or more processors are further configured to perform identifying, via the sensor, an orientation of the wearable head device in the mixed reality environment, and the transfer function is determined using the orientation of the wearable head device. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the one or more processors are further configured to perform identifying a position of the user in the mixed reality environment, wherein the listener coordinate associated with the user is identified based on the position. Additionally or alternatively to one or more of the examples disclosed above, in some examples, detecting the first audio signal comprises detecting a voice signal generated by the user. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the one or more processors are further configured to perform identifying an orientation of the user in the mixed reality environment, and the transfer function is further determined using the orientation of the user. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the first audio signal is a user-generated signal. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the one or more processors are further configured to perform determining an angle at which the first audio signal intersects the virtual object, and the transfer function is determined using the angle. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the first audio signal is associated with a direction in the mixed reality environment, and the transfer function is determined using the direction. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the virtual object is associated with a material, and the transfer function is determined using the material. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the transfer function comprises a function of one or more of time, frequency, gain, and phase. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the transfer function comprises a head-related transfer function. Additionally or alternatively to one or more of the examples disclosed above, in some examples, the one or more processors are further configured to perform determining an origin and direction of the second audio signal in the mixed reality environment, and wherein the transfer function is determined using the origin and direction of the second audio signal.</p><p id="p-0108" num="0107">Although the disclosed examples have been fully described with reference to the accompanying drawings, it is to be noted that various changes and modifications will become apparent to those skilled in the art. For example, elements of one or more implementations may be combined, deleted, modified, or supplemented to form further implementations. Such changes and modifications are to be understood as being included within the scope of the disclosed examples as defined by the appended claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method of presenting an audio signal to a user of a mixed reality environment, the method comprising:<claim-text>detecting a first audio signal in the mixed reality environment, wherein the first audio signal comprises a real audio signal;</claim-text><claim-text>identifying a virtual object intersected by the first audio signal in the mixed reality environment;</claim-text><claim-text>identifying, via one or more sensors of a wearable head device, a position of the user in the mixed reality environment;</claim-text><claim-text>identifying, based on the position of the user, a listener coordinate associated with the user;</claim-text><claim-text>determining, based on the virtual object and based further on the listener coordinate, a transfer function;</claim-text><claim-text>generating a second audio signal based on the first audio signal and based further on the transfer function; and</claim-text><claim-text>presenting, to the user, the second audio signal.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein detecting the first audio signal comprises detecting a voice signal generated by the user.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising identifying, via the one or more sensors, an orientation of the user in the mixed reality environment, wherein the transfer function is determined based further on the orientation of the user.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising determining an angle at which the first audio signal intersects the virtual object, wherein the transfer function is determined based further on the angle.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the virtual object is associated with a material, and the transfer function is determined based further on the material.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising determining an origin and a direction of the second audio signal in the mixed reality environment, wherein the transfer function is determined based further on the origin and the direction of the second audio signal.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising presenting, to the user via a see-through display of the wearable head device, the virtual object.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. A system comprising:<claim-text>a wearable head device including a see-through display configured to present a mixed reality environment to a user;</claim-text><claim-text>a speaker;</claim-text><claim-text>one or more sensors; and</claim-text><claim-text>one or more processors configured to perform a method comprising:<claim-text>detecting a first audio signal in the mixed reality environment, wherein the first audio signal comprises a real audio signal;</claim-text><claim-text>identifying a virtual object intersected by the first audio signal in the mixed reality environment;</claim-text><claim-text>identifying, via the one or more sensors, a position of the user in the mixed reality environment;</claim-text><claim-text>identifying, based on the position of the user, a listener coordinate associated with the user;</claim-text><claim-text>determining, based on the virtual object and based further on the listener coordinate, a transfer function;</claim-text><claim-text>generating a second audio signal based on the first audio signal and based further on the transfer function; and</claim-text><claim-text>presenting, to the user via the speaker, the second audio signal.</claim-text></claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the system further comprises a microphone and wherein detecting the first audio signal comprises detecting, via the microphone, a voice signal generated by the user.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the method further comprises identifying, via the one or more sensors, an orientation of the user in the mixed reality environment, wherein the transfer function is determined based further on the orientation of the user.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the method further comprises determining an angle at which the first audio signal intersects the virtual object, wherein the transfer function is determined based further on the angle.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein:<claim-text>the virtual object is associated with a material, and</claim-text><claim-text>the transfer function is determined based further on the material.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the method further comprises determining an origin and a direction of the second audio signal in the mixed reality environment, wherein the transfer function is determined based further on the origin and the direction of the second audio signal.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the method further comprises presenting, to the user via the see-through display, the virtual object.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A non-transitory computer-readable medium storing instructions which, when executed by one or more processors, cause the one or more processors to perform a method comprising:<claim-text>detecting a first audio signal in a mixed reality environment, wherein the first audio signal comprises a real audio signal;</claim-text><claim-text>identifying a virtual object intersected by the first audio signal in the mixed reality environment;</claim-text><claim-text>identifying, via one or more sensors of a wearable head device, a position of a user in the mixed reality environment;</claim-text><claim-text>identifying, based on the position of the user, a listener coordinate associated with the user;</claim-text><claim-text>determining, based on the virtual object and based further on the listener coordinate, a transfer function;</claim-text><claim-text>generating a second audio signal based on the first audio signal and based further on the transfer function; and</claim-text><claim-text>presenting, to the user, the second audio signal.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The non-transitory computer-readable medium of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein detecting the first audio signal comprises detecting a voice signal generated by the user.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The non-transitory computer-readable medium of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the method further comprises identifying, via the one or more sensors, an orientation of the user in the mixed reality environment, wherein the transfer function is determined based further on the orientation of the user.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The non-transitory computer-readable medium of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein:<claim-text>the virtual object is associated with a material, and</claim-text><claim-text>the transfer function is determined based further on the material.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The non-transitory computer-readable medium of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the method further comprises determining an origin and a direction of the second audio signal in the mixed reality environment, wherein the transfer function is determined based further on the origin and the direction of the second audio signal.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The non-transitory computer-readable medium of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the method further comprises presenting, to the user via a see-through display of the wearable head device, the virtual object.</claim-text></claim></claims></us-patent-application>