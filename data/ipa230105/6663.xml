<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006664A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006664</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17942011</doc-number><date>20220909</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2020-041029</doc-number><date>20200310</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>K</subclass><main-group>17</main-group><subgroup>082</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>K</subclass><main-group>17</main-group><subgroup>16</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>K</subclass><main-group>17</main-group><subgroup>0828</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>K</subclass><main-group>17</main-group><subgroup>168</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>M</subclass><main-group>1</main-group><subgroup>32</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">CONTROL CIRCUIT FOR POWER CONVERSION APPARATUS</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/JP2021/005295</doc-number><date>20210212</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17942011</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="obligated-assignee"><addressbook><orgname>DENSO CORPORATION</orgname><address><city>Kariya-city</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>INOUE</last-name><first-name>Kent</first-name><address><city>Kariya-city</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>NISHIBATA</last-name><first-name>Kouichi</first-name><address><city>Kariya-city</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>DENSO CORPORATION</orgname><role>03</role><address><city>Kariya-city</city><country>JP</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A control circuit of a power conversion apparatus is provided with a switch driving unit that drives the upper and lower arm switches; a short circuit control unit that causes the switch driving unit to execute a short circuit control when a failure occurs in the system, the short circuit control turning an ON side switch to an ON state and turning an OFF side switch to an OFF state; a checking unit that executes a checking process to check whether the short circuit control is able to perform correctly; and a protection control unit that causes the switch driving unit to execute a protection control when a failure occurs on either the upper arm switch or the lower arm switch, the protection control turning the switch where the failure occurs to an OFF state. The control circuit enables the protection control during execution of the checking process.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="207.86mm" wi="153.42mm" file="US20230006664A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="203.71mm" wi="145.12mm" orientation="landscape" file="US20230006664A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="224.20mm" wi="155.45mm" file="US20230006664A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="111.93mm" wi="118.79mm" file="US20230006664A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="231.90mm" wi="138.77mm" file="US20230006664A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="235.97mm" wi="132.25mm" file="US20230006664A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="243.50mm" wi="154.09mm" file="US20230006664A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="224.37mm" wi="155.62mm" file="US20230006664A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="224.28mm" wi="155.79mm" file="US20230006664A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="224.54mm" wi="155.87mm" file="US20230006664A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is the U.S. bypass application of International Application No. PCT/JP2021/5295 filed on Feb. 12, 2021, which designated the U.S. and claims priority to Japanese Patent Application No. 2020-041029 filed on Mar. 10, 2020, the contents of both of these are incorporated herein by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">BACKGROUND</heading><heading id="h-0003" level="1">Technical Field</heading><p id="p-0003" num="0002">The present disclosure relates to a control circuit for a power conversion apparatus having upper and lower arm switches electrically connected to respective phase windings of a rotary electric machine.</p><heading id="h-0004" level="1">Description of the Related Art</heading><p id="p-0004" num="0003">For this type of control circuit, a shutdown control may be performed in which upper and lower arm switches are controlled to be forcibly in an OFF state when an abnormality occurs on the rotary electric machine that constitutes the system. In the case where a reverse voltage occurs in the winding due to a rotation of the rotor constituting the rotary electric machine during the shutdown control being executed, the line voltage of the windings may be higher than the voltage of the storage unit which is parallelly connected to the series-connected bodies of the upper and lower arm switches. The situation where the line voltage is high may be caused by, for example, a large amount of field magnetic flux of the rotor or a high speed of the rotor.</p><heading id="h-0005" level="1">SUMMARY</heading><p id="p-0005" num="0004">The present disclosure is provided with a control circuit of a power conversion apparatus adapted for a system provided with a storage unit, a multiphase rotary electric machine, a power conversion apparatus having upper and lower arm switches electrically connected to each winding in multiphase windings of the rotary electric machine. The control circuit includes: a switch driving unit that drives the upper and lower arm switches; a short circuit control unit that causes the switch driving unit to execute a short circuit control; a checking unit that executes a checking process to check whether the short circuit control is able to performed correctly; and a protection control unit that causes the switch driving unit to execute a protection control.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0006" num="0005">The above-described objects and other objects, features and advantages of the present disclosure will be clarified further by the following detailed description with reference to the accompanying drawings. The drawings are:</p><p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is an overall circuit diagram showing a control system according to a first embodiment of the present disclosure;</p><p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram showing a control circuit and a peripheral circuit thereof;</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart showing a control procedure of a three-phase short circuit control;</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a flowchart showing a procedure of a checking process;</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a timing diagram showing a trend of a driving state or the like of a switch during the checking process;</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a timing diagram showing a trend of a driving state or the like of a switch during a checking process according to a comparative example;</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flowchart showing a procedure of the checking process according to a modification example of the first embodiment;</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a timing diagram showing a disabling state of a shutdown control according to a second embodiment;</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a block diagram showing a control circuit and a peripheral circuit thereof;</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a block diagram showing a control circuit and a peripheral circuit thereof according to a third embodiment; and</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a block diagram showing a control circuit and a peripheral circuit thereof according to a fourth embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0007" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading><p id="p-0018" num="0017">According to a control circuit of a power conversion apparatus, a shutdown control may be performed in which upper and lower arm switches are controlled to be forcibly in an OFF state when an abnormality occurs on the rotary electric machine that constitutes the system. In the case where a reverse voltage occurs in the winding due to a rotation of the rotor constituting the rotary electric machine during the shutdown control being executed, the line voltage of the windings may be higher than the voltage of the storage unit which is parallelly connected to the series-connected bodies of the upper and lower arm switches. The situation where the line voltage is high may be caused by, for example, a large amount of field magnetic flux of the rotor or a high speed of the rotor.</p><p id="p-0019" num="0018">When the line voltage of the windings is higher than the voltage of the storage unit, despite an execution of the shutdown control, a so-called regeneration is performed where the induced current occurred in the windings flows through a closed circuit including a diode reverse-connected to a switch, the winding and the storage unit. As a result, there is a concern that an over voltage failure occurs in which a DC voltage in the storage unit side of the power conversion apparatus significantly increases, and may cause a malfunction on at least one of the storage unit, the power conversion apparatus and equipment other than the power conversion apparatus connected to the storage unit.</p><p id="p-0020" num="0019">As disclosed in patent literature, JP-A-2017-225236, a control circuit in order to deal with such a problem is known in which a short circuit control is performed such that the ON switches in either one arm of the upper arm and lower arm are turned ON and the OFF switches in the other arm are turned OFF.</p><p id="p-0021" num="0020">In a situation where the short circuit control is required to be executed, in order to accurately execute the short circuit control, it may preferably be checked in advance whether the short circuit control is correctly performed. When this checking process is performed in advance, the following problem may occur.</p><p id="p-0022" num="0021">A short circuit failure in the OFF side switch between upper and lower arm switches may occur. In the case where the short circuit failure occurs, if the ON side switch is switched to the ON state to determine whether the short circuit control is correctly performed, a short circuit occurs in the upper and lower circuits. As a result, an over current (short circuit current) flows through upper and lower arm switches and may cause a malfunction on the upper and lower arm switches.</p><p id="p-0023" num="0022">In light of the above-described circumstances, hereinafter, embodiments of the present disclosure will be described.</p><heading id="h-0008" level="1">First Embodiment</heading><p id="p-0024" num="0023">A first embodiment where a control circuit according to the present disclosure is embodied will be described with reference to the drawings. The control circuit according to the present embodiment is applied to a three-phase inverter as a power conversion apparatus. In the present embodiment, the control system provided with an inverter is mounted to a vehicle such as an electric vehicle and a hybrid vehicle.</p><p id="p-0025" num="0024">As shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the control system is provided with a rotary electric machine <b>10</b> and an inverter <b>15</b>. The rotary electric machine <b>10</b> serves as an on-vehicle main machine in which the rotor thereof is configured to be capable of transmitting a motive force to the driving wheel. According to the present embodiment, as the rotary electric machine, a synchronous machine is used. More specifically, a permanent magnet synchronous machine is used.</p><p id="p-0026" num="0025">The inverter <b>15</b> is provided with a switching device unit <b>20</b>. The switching device unit <b>20</b> includes three series-connected bodies each configured of an upper arm switch SWH and a lower arm switch SWL for three phases. In each phase, a first end of a winding <b>11</b> of the rotary electric machine <b>10</b> is connected to a connection point between the upper arm switch SWH and the lower arm switch. The second ends of respective windings <b>11</b> are connected at the neutral point. The respective windings <b>11</b> are arranged to be shifted by 120&#xb0; of electrical angle. According to the present embodiment, as the respective switches SWH and SWL, voltage control type semiconductor switching elements are used. More specifically, IGBTs are used. For the upper and lower arm switches SWH and SWL, upper and lower arm diodes DH and DL are connected in reverse as free-wheel diodes.</p><p id="p-0027" num="0026">A positive electrode of a high voltage power source <b>30</b> is connected to collectors of respective upper arm switches SWH via a high voltage side electrical path <b>22</b>H. A negative electrode of the high voltage power source <b>30</b> is connected to emitters of the respective lower arm switches SWL via a low voltage side electrical path <b>22</b>L. According to the present embodiment, the high voltage power source <b>20</b> is a secondary battery of which the output voltage (i.e. rated voltage) is several hundreds voltages, for example.</p><p id="p-0028" num="0027">A first cutoff switch <b>23</b><i>a </i>is disposed on the high voltage side electrical path <b>22</b>H, and a second cutoff switch <b>23</b><i>b </i>is disposed on the low voltage side electrical path <b>22</b>L. The respective switches <b>23</b><i>a </i>and <b>23</b><i>b </i>are each configured as a relay or a semiconductor switching element. The respective switches <b>23</b><i>a </i>and <b>23</b><i>b </i>may be driven by a control circuit <b>50</b> included in the inverter <b>15</b> or may be driven by an upper-level ECU which is not shown. The upper-level ECU is configured as a host processor relative to the control circuit <b>50</b>.</p><p id="p-0029" num="0028">The inverter <b>15</b> is provided with a smoothing capacitor <b>24</b> as a storage unit. The smoothing capacitor <b>24</b> electrically connects between a point on the high voltage side electrical path <b>22</b>H which is closer to a switching device unit <b>20</b> side than the position of the first cutoff switch <b>23</b><i>a </i>and a point on the lower voltage side electrical path <b>22</b>L which is closer to a switching device unit <b>20</b> side than the position of the second cutoff switch <b>23</b><i>b. </i></p><p id="p-0030" num="0029">The control system is provided with an on-vehicle electrical equipment <b>25</b>. The electrical equipment <b>25</b> includes at least either an electrical compressor or a DC-DC converter. The electrical compressor constitutes an in-cabin air conditioner, and is driven by being supplied with power from the high voltage source <b>30</b> so as to circulate the cooling of the on-vehicle refrigerating cycle. The DC-DC converter steps down the output voltage of the high voltage source <b>30</b> and supplies the stepped-down voltage to the on-vehicle low voltage load. The low voltage load includes a low voltage power source <b>31</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. According to the present embodiment, the low voltage power source <b>31</b> is configured as a secondary battery (e.g. lead-acid battery) of which the output voltage, for example, 12 volts (rated voltage) is lower than the output voltage (rated voltage) of the high voltage power source <b>30</b>.</p><p id="p-0031" num="0030">A configuration of the control circuit <b>50</b> will be described with reference to <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0032" num="0031">The control circuit <b>50</b> is provided with a power source circuit <b>51</b>. The positive terminal of the low voltage power source <b>41</b> is connected to the power source circuit <b>51</b> via a fuse which is not shown. At the negative terminal of the low voltage power source, a ground as the earth potential is connected thereto. The power source circuit <b>51</b> generates, based on the voltage supplied from the low voltage power source <b>31</b>, a power source voltage Vm which is supplied to respective configurations in the low voltage region side of the control circuit <b>50</b>. The power source circuit <b>51</b> steps down the output voltage of the low voltage power source <b>31</b>, thereby generating the power source voltage Vm. Note that a plurality of power source circuits are provided in the low voltage region of the control circuit <b>50</b>, which are simply referred to as the power source circuit <b>51</b>.</p><p id="p-0033" num="0032">The control circuit <b>50</b> is provided with a microprocessor <b>60</b> in the low voltage region thereof. The microprocessor <b>60</b> includes a CPU and other peripheral circuits. The peripheral circuits include an input-output unit for exchanging the signals from/to external units and an AD converter. The microprocessor <b>60</b> is capable of operating by being supplied with the power source voltage Vm of the power source circuit <b>51</b>.</p><p id="p-0034" num="0033">The control circuit <b>50</b> is provided with an upper arm processing unit <b>61</b>H and a lower arm processing unit <b>61</b>L. The voltage sensor <b>52</b> is electrically connected to the high voltage side electrical path <b>22</b><i>h </i>and the low voltage side electrical path <b>22</b>L to detect the terminal voltage of the smoothing capacitor <b>24</b>. The terminal voltage detected by the voltage sensor <b>52</b> is inputted to the microprocessor <b>60</b>. The microprocessor <b>60</b> determines whether the terminal voltage of the smoothing capacitor <b>24</b> detected by the voltage sensor <b>52</b> exceeds the upper limit voltage thereof. When determined that the terminal voltage exceeds the upper limit voltage thereof, the microprocessor <b>60</b> determines that an overvoltage failure occurs.</p><p id="p-0035" num="0034">The upper arm processing unit <b>61</b>H and the lower arm processing unit <b>61</b>L are provided in the low voltage region and are configured to be capable of operating by being supplied with the power source voltage Vm of the power source circuit <b>51</b>. Further, the respective processing units <b>61</b>H and <b>61</b>L are constituted by ASIC.</p><p id="p-0036" num="0035">The microprocessor <b>60</b> functions as a switch command generation unit that generates a switching command for the respective switches SWH and SWL of the switching device unit <b>20</b> so as to control the control quantity of the rotary electric machine <b>10</b> to be the command value. The control quantity is, for example, a torque. The switching command is either an ON command that indicates driving of the switch to be ON or an OFF command that indicates driving of the switch to be OFF. The microprocessor <b>50</b> generates the switching command such that the upper arm switch SWH and the lower arm switch SWL are alternately ON in the respective phases.</p><p id="p-0037" num="0036">The control circuit <b>50</b> is provided with an insulation power source <b>70</b>, an upper arm driver <b>71</b> and a lower arm driver <b>72</b>. According to the present embodiment, the upper arm driver <b>71</b> is provided for each upper arm switch SWH individually, and the lower arm driver <b>72</b> is provided for each lower arm switch SWL individually. Hence, six drivers <b>71</b> and <b>72</b> are provided in total.</p><p id="p-0038" num="0037">The insulation power source <b>70</b> generates, based on the voltage supplied from the low voltage power source <b>41</b>, an upper arm drive voltage VdH supplied to the upper arm driver <b>71</b> and a lower arm drive voltage VdL supplied to the lower arm driver <b>72</b> and outputs the generated upper and lower arm drive voltages VdH and VdL. The insulation power source <b>70</b> is provided in the low voltage region and the high voltage region in the control circuit <b>50</b> to be positioned across the boundary between the low voltage region and the high voltage region. The respective drivers <b>71</b> and <b>72</b> are provided in the high voltage region.</p><p id="p-0039" num="0038">Note that the insulation power source <b>70</b> is provided with upper arm insulation power sources individually provided for respective upper arm drivers <b>71</b> for three phases, and a lower arm insulation power source commonly provided for lower arm drivers <b>72</b> for three phases. Note that, the lower arm insulation power source may be provided individually for respective three-phase lower arm drivers <b>72</b>.</p><p id="p-0040" num="0039">The upper arm switch SWH is provided with an upper arm sense terminal StH. At the upper arm sense terminal StH, a fine current which correlates with the collector current of the upper arm switch SWH flows therethrough. The current flowing through the upper arm sense terminal StH is detected as an electrical potential at an upper arm sense resistor <b>73</b>H (hereinafter referred to as upper arm sense voltage VsH).</p><p id="p-0041" num="0040">The lower arm switch SWL is provided with a lower arm sense terminal StL. At the lower arm sense terminal StL, a fine current which correlates with the collector current of the lower arm switch SWL flows therethrough. The current flowing through the lower arm sense terminal StL is detected as an electrical potential at a lower arm sense resistor <b>73</b>L (hereinafter referred to as lower arm sense voltage VsL).</p><p id="p-0042" num="0041">The inverter <b>15</b> is provided with an upper arm temperature sensor <b>74</b>H and a lower arm temperature sensor <b>74</b>L. The upper arm temperature sensor <b>74</b>H detects the temperature of the upper arm switch SWH, and the lower arm temperature sensor <b>74</b>L detects the temperature of the lower arm switch SWL. The respective temperature sensor <b>74</b>H and <b>74</b>L are configured as a temperature sensitive diode or a thermistor.</p><p id="p-0043" num="0042">The upper arm driver <b>71</b> is provided with an upper arm driving unit <b>71</b><i>a </i>as a switch driving unit and an upper arm determination unit <b>71</b><i>b</i>. The upper arm driver <b>71</b> is configured to be capable of operating by being supplied with the upper arm drive voltage Vdh of the insulation power source <b>70</b>. The upper arm driving unit <b>71</b><i>a </i>accepts an upper arm switching command INH from the microprocessor <b>60</b> via a first upper arm transmission unit <b>62</b><i>a</i>. The first upper arm transmission unit <b>62</b><i>a </i>is provided in the low voltage region and the high voltage region to be positioned across the boundary between the low voltage region and the high voltage region. The first upper arm transmission unit <b>62</b><i>a </i>transmits signals between the low voltage region and the high voltage region while electrically insulating between the low voltage region and the high voltage region. The first upper arm transmission unit <b>62</b><i>a </i>is configured as a photo coupler or a magnetic coupler, for example.</p><p id="p-0044" num="0043">The upper arm driving unit <b>71</b><i>a </i>supplies a charge current to the gate of the upper arm switch SWH when the upper arm switching command INH transmitted from the microprocessor is an ON command. Thus, the gate voltage of the upper arm switch SWH is higher than or equal to the threshold voltage Vth and the upper arm switch SWH turns to ON state. On the other hand, when the upper arm switching command INH is OFF command, the upper arm driving unit <b>71</b><i>a </i>causes the discharge current to flow from the gate of the upper arm switch SWH to the emitter side thereof. Thus, the gate voltage of the upper arm switch SWH is less than the threshold voltage Vth and the upper arm switch SWH turns to OFF state.</p><p id="p-0045" num="0044">The upper arm determination unit <b>71</b><i>b </i>accepts the upper arm sense voltage VsH and a detection value of the upper arm temperature sensor <b>74</b>H. The upper arm determination unit <b>71</b><i>b </i>determines that an over current failure occurs on the upper arm switch SWH when determined that the upper arm sense voltage VsH exceeds the over current threshold. Further, the upper arm determination unit <b>71</b><i>b </i>determines that an over heating failure occurs on the upper arm switch SWH when determined that the temperature detected by the upper arm temperature sensor <b>74</b>H exceeds a temperature threshold. The upper arm determination unit <b>71</b><i>b</i>, when determined that an over current failure or an over heating failure occurs on the upper arm switch SWH, outputs an upper arm failure signal FailH as information indicating an occurrence of failure to the microprocessor <b>60</b> and the upper arm processing unit <b>61</b>H via an upper arm failure transmission unit <b>63</b>. According to the present embodiment, the upper arm determination unit <b>71</b><i>b</i>, when determined that an over current failure or an over heating failure occurs on the upper arm switch SWH, switches the logical state of the upper arm failure signal FailH from L to H. The upper arm failure transmission unit <b>63</b> is configured as a photo coupler or a magnetic coupler, for example.</p><p id="p-0046" num="0045">The lower arm driver <b>72</b> is provided with a lower arm driving unit <b>72</b><i>a </i>as a switch driving unit and a lower determination unit <b>72</b><i>b</i>. The lower arm driver <b>72</b> is configured to be capable of operating by being supplied with the lower arm drive voltage VdL. The lower arm driving unit <b>72</b><i>a </i>accepts a lower arm switching command INL from the microprocessor <b>60</b> via the first lower arm transmission unit <b>64</b><i>a</i>. The first lower arm transmission unit <b>64</b><i>a </i>is configured as a photo coupler or a magnetic coupler, for example. The lower arm driving unit <b>72</b><i>a </i>supplies a charge current to the gate of the lower arm switch SWL when the lower arm switching command INL transmitted from the microprocessor <b>60</b> is an ON command. Thus, the gate voltage of the lower arm switch SWL is higher than or equal to the threshold voltage Vth and the lower arm switch SWL turns to ON state. On the other hand, when the lower arm switching command INL transmitted from the microprocessor <b>60</b> is OFF command, the lower arm driving unit <b>72</b><i>a </i>causes the discharge current to flow from the gate of the lower arm switch SWL to the emitter side thereof. Thus, the gate voltage of the lower arm switch SWL is less than the threshold voltage Vth and the lower arm switch SWL turns to OFF state.</p><p id="p-0047" num="0046">The lower arm determination unit <b>72</b><i>b </i>accepts the lower arm sense voltage VsL and a detection value of the lower arm temperature sensor <b>74</b>L. The lower arm determination unit <b>72</b><i>b </i>determines that an over current failure occurs on the lower arm switch SWL when determined that the lower arm sense voltage VsL exceeds the over current threshold. Further, the lower arm determination unit <b>72</b><i>b </i>determines that an over heating failure occurs on the lower arm switch SWL when determined that the temperature detected by the lower arm temperature sensor <b>74</b>L exceeds a temperature threshold. The lower arm determination unit <b>72</b><i>b</i>, when determined that an over current failure or an over heating failure occurs on the lower arm switch SWL, outputs a lower arm failure signal FailL as information indicating an occurrence of failure to the microprocessor <b>60</b> and the lower arm processing unit <b>61</b>L via a lower arm failure transmission unit <b>65</b>. According to the present embodiment, the lower arm determination unit <b>72</b><i>b</i>, when determined that an over current failure or an over heating failure occurs on the lower arm switch SWL, switches the logical state of the lower arm failure signal FailL from L to H. The lower arm failure transmission unit <b>65</b> is configured as a photo coupler or a magnetic coupler, for example.</p><p id="p-0048" num="0047">The control circuit <b>50</b> is configured to be capable of performing a three-phase short circuit control (i.e. active short circuit: ASC). Specifically, the microprocessor <b>60</b> outputs an upper arm ASC command CmASCH to the upper arm driving unit <b>71</b><i>a </i>via a second upper arm transmission unit <b>62</b><i>b</i>, and outputs a lower arm ASC command CmASCL to the lower arm driving unit <b>64</b><i>b </i>via a second lower arm transmission unit <b>64</b><i>b</i>. Note that the second upper arm transmission unit <b>62</b><i>b </i>and the second lower arm transmission unit <b>64</b><i>b </i>are configured as a photo coupler or a magnetic coupler. Note that the microprocessor <b>60</b> includes a short circuit control unit.</p><p id="p-0049" num="0048">The control circuit <b>50</b> is capable of performing an over current and over heating protection control. Specifically, the upper arm processing unit <b>61</b>H outputs, when determined that the accepted upper arm failure signal FailH is logical H, an upper arm shutdown command CmSDNH to the upper arm driving unit <b>71</b><i>a </i>via a third upper arm transmission unit <b>62</b><i>c</i>. The upper arm driving unit <b>71</b><i>a </i>changes, when determined that upper arm shutdown command CmSDNH is accepted, the state of the upper arm switch SWH to be OFF regardless of the upper arm switching command INH and the upper arm ASC command CmASCH.</p><p id="p-0050" num="0049">The lower arm processing unit <b>61</b>L outputs, when determined that the lower arm failure signal FailL is logical H, the lower arm shutdown command CmSDNL to the lower arm driving unit <b>72</b><i>a </i>via a third lower arm transmission unit <b>64</b><i>c</i>. The lower arm driving unit <b>72</b><i>a </i>changes, when determined that lower arm shutdown command CmSDNL is accepted, the state of the lower arm switch SWL to be OFF regardless of the lower arm switching command INL and the lower arm ASC command CmASCL. Note that, the third upper arm transmission unit <b>62</b><i>c </i>and the third lower arm transmission unit <b>64</b><i>c </i>are configured as a photo coupler or a magnetic coupler. Further, according to the present embodiment, the upper arm processing unit <b>61</b>H and the lower arm processing unit <b>61</b>L include protection control unit.</p><p id="p-0051" num="0050">The microprocessor <b>60</b> commands the upper arm processing unit <b>61</b>H to output the upper arm disabling signal SgAH. The upper arm disabling signal SgAH outputted from the upper arm processing unit <b>61</b>H is transmitted to the upper arm driving unit <b>71</b><i>a </i>via a fourth upper arm transmission unit <b>62</b><i>d</i>. Note that the fourth upper arm transmission unit <b>62</b><i>d </i>is configured as a photo coupler or a magnetic coupler, for example.</p><p id="p-0052" num="0051">According to the present embodiment, the upper arm driving unit <b>71</b><i>a </i>enables the shutdown control when determined that the logical state of the upper arm disabling signal SgAH is logical H. In other words, the upper arm driving unit <b>71</b><i>a </i>enables, when determined that the logical state of the upper arm disabling signal SgAH is H, a function for causing the upper arm switch SWH to be OFF when the upper arm shutdown command CmSDNH is accepted.</p><p id="p-0053" num="0052">On the other hand, the upper arm driving unit <b>71</b><i>a </i>disables the shutdown control when determined that the logical state of the upper arm disabling signal SgAH is L. In other words, the upper arm driving unit <b>71</b><i>a </i>does not enable, when determined that the logical state of the upper arm disabling signal SgAH is L, a function for causing the upper arm switch SWH to be OFF even when the upper arm shutdown command CmSDNH is accepted. In this case, the upper arm driving unit <b>71</b><i>a </i>changes the upper arm switch SWH to be in an ON state or OFF state in accordance with the upper arm ASC command CmASCH.</p><p id="p-0054" num="0053">The microprocessor <b>60</b> commands the lower arm processing unit <b>61</b>L to output the lower arm disabling signal SgAL. The lower arm disabling signal SgAL outputted from the lower arm processing unit <b>61</b>L is transmitted to the lower arm driving unit <b>72</b><i>a </i>via the fourth lower arm transmission unit <b>64</b><i>d</i>. Note that the fourth lower arm transmission unit <b>64</b><i>d </i>is configured as a photo coupler or a magnetic coupler.</p><p id="p-0055" num="0054">According to the present embodiment, the lower arm driving unit <b>72</b><i>a </i>enables the shutdown control when determined that the logical state of the lower arm disabling signal SgAL is H. In other words, the lower arm driving unit <b>72</b><i>a </i>enables, when determined that the logical state of the lower arm disabling signal SgAL is H, a function for causing the lower arm switch SWL to be OFF when the lower arm shutdown command CmSDNL is accepted.</p><p id="p-0056" num="0055">On the other hand, the lower arm driving unit <b>72</b><i>a </i>disables the shutdown control when determined that the logical state of the lower arm disabling signal SgAL is L. In other words, the lower arm driving unit <b>72</b><i>a </i>does not enable, when determined that the logical state of the lower arm disabling signal SgAL is L, a function for causing the lower arm switch SWL to be OFF even when the lower arm shutdown command CmSDNL is accepted. In this case, the lower arm driving unit <b>72</b><i>a </i>changes the lower arm switch SWL to be in an ON state or OFF state in accordance with the lower arm ASC command CmASCL. According to the present embodiment, the upper arm processing unit <b>61</b>H and the lower arm processing unit <b>61</b>L include disabling control unit.</p><p id="p-0057" num="0056">Subsequently, with reference to a flowchart shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, a three-phase short circuit control executed by the microprocessor <b>60</b> during a normal control state will be described. Note that the normal control state refers to a state where the microprocessor <b>60</b> generates and outputs the upper and lower arm switching commands INH and INL so as to translate the control quantity of the rotary electric machine <b>10</b> to be its command value.</p><p id="p-0058" num="0057">At step S<b>10</b>, the process determines whether an execution condition of the three-phase short circuit control is satisfied. According to the present embodiment, the execution condition includes a condition where an over voltage failure occurs. Note that, a determination whether an over voltage failure occurs can be made based on the detection value of the voltage sensor <b>52</b> as described above.</p><p id="p-0059" num="0058">When the determination at step S<b>10</b> is negative, the normal control state is maintained. On the other hand, when the determination at step S<b>10</b> is affirmative, the process proceeds to step S<b>11</b>, and determines whether a short failure on the upper arm switch SWH or an open failure on the lower arm switch SWL occurs. Note that, which arm in the upper arm switch SWH and lower arm switch SWL, which phase a failure occurs and contents of the failure can be determined based on, for example, respective failure signals FailH and FailL outputted from the respective determination units <b>71</b><i>b </i>and <b>72</b><i>b </i>of the respective drivers <b>71</b> and <b>72</b>.</p><p id="p-0060" num="0059">When the determination at step S<b>11</b> is affirmative, the process proceeds to step S<b>12</b> and executes the upper arm ASC. The lower arm ASC refers to a process in which the upper arm ASC command CmASCH to the upper arm drivers <b>71</b> of three-phases are set to be ON command and the lower arm ASC command CmASCL to the lower arm drivers <b>72</b> of three-phases are OFF command. In this case, the upper arm switch SWH corresponds to ON side switch and the lower arm switch SWL corresponds to OFF side switch.</p><p id="p-0061" num="0060">When the determination at step S<b>11</b> is negative, the process proceeds to step S<b>13</b> and executes the lower arm ASC. The lower arm ASC refers to a process in which the lower arm ASC command CmASCL to the lower arm drivers <b>72</b> of three-phases are set to be ON command and the upper arm ASC command CmASCH to the upper arm drivers <b>71</b> of three-phases are OFF command. In this case, the lower arm switch SWL corresponds to ON side switch and the upper arm switch SWH corresponds to OFF side switch.</p><p id="p-0062" num="0061">Thus, the microprocessor <b>60</b>, when determined that a short circuit failure occurs on at least one switch in either one arm between the upper arm and the lower arm, outputs an ON command to respective switches of the three-phases in the arm where the short circuit failure occurs between the upper arm and the lower arm, and outputs an OFF command to respective switches of the three-phases in the other arms. On the other hand, the microprocessor <b>60</b>, when determined that an open circuit failure occurs on at least one switch in either one arm between the upper arm and the lower arm, outputs an ON command to respective switches of the three-phases in an arm other than the arm where the open circuit failure occurs between the upper arm and the lower arm, and outputs an OFF command to respective switches of the three-phases in the other arms. In the process shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, it is assumed that the lower arm ASC is executed when the upper and lower arm switches SWH and SWL operate normally. Note that a configuration may be utilized in which the upper arm ASC is executed when the upper and lower arm switches SWH and SWL operate normally.</p><p id="p-0063" num="0062">Subsequently, with reference to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, a process for checking whether three-phase short circuit control is able to operate normally will be described. This process is provided in view of functional safety, and executed by the microprocessor <b>60</b>. Also, this process is executed for at least one time at any timing during one period from when the normal control starts to when the control system is stopped.</p><p id="p-0064" num="0063">At step S<b>20</b>, when the logical state of the upper arm disabling signal SgAH is L, the process commands the upper arm processing unit <b>61</b>H to change the logical state of the upper arm disabling signal SgAH to be H. Further, when the lower arm disabling signal SgAL is L, the process commands the lower arm processing unit <b>61</b>L to change the logical state of the lower arm disabling signal SgAL to be L. The process at step S<b>20</b> is for enabling the execution command of the shutdown control to the upper arm driving unit <b>71</b><i>a </i>and the upper arm determination unit <b>71</b><i>b. </i></p><p id="p-0065" num="0064">At step S<b>21</b>, the process determines whether an abnormality occurs on the upper arm switch SWH. This determination includes a determination whether an open failure or a short failure occurs on the upper arm switch SWH. For example, in the case where the upper arm ASC command CmASCH is set to be ON command, the process determines that an open failure occurs on the upper arm switch SWH when determined that voltage VcH between the collector and the emitter of the upper arm switch SWH is close to the terminal voltage of the smoothing capacitor <b>24</b>. Also, in the case where the upper arm ASC command CmASCH is set to be OFF command, the process determines that a short circuit failure occurs on the upper arm switch SWH when determined that voltage VcH between the collector and the emitter of the upper arm switch SWH is close to 0V.</p><p id="p-0066" num="0065">At step S<b>22</b>, the process determines whether a short circuit failure occurs on the upper arm switch SWH based on the processing result of the step S<b>21</b>. When the determination at step S<b>22</b> is affirmative, the process proceeds to step S<b>23</b> and executes the above-described upper arm ASC.</p><p id="p-0067" num="0066">When the determination at step S<b>22</b> is negative, the process proceeds to step S<b>24</b> and determines whether an open failure occurs on the upper arm switch SWH based on the processing result at step S<b>21</b>. When the determination at step S<b>24</b> is affirmative, the process proceeds to step S<b>25</b> and executes the above-described lower arm ASC process.</p><p id="p-0068" num="0067">When the determination result at step S<b>24</b> is negative, the process determines that the upper arm switch SWH is normal and proceeds to step S<b>26</b>. At step S<b>26</b>, the process determines whether an abnormality occurs on the lower arm switch SWL. For example, in the case where the lower arm ASC command CmASCL is set to be ON command, the process determines that an open failure occurs on the lower arm switch SWL when the voltage VcL between the collector and the emitter of the lower arm switch SWL is close to the terminal voltage of the smoothing capacitor <b>24</b>. Further, in the case where the lower arm ASC command CmASCL is set to be OFF command, the process determines that a short circuit failure occurs on the lower arm switch SWL when the voltage VcL between the collector and the emitter of the lower arm switch SWL is close to 0V.</p><p id="p-0069" num="0068">At step S<b>27</b>, the process determines whether a short circuit failure occurs on the lower arm switch SWL based on the processing result of the step S<b>26</b>. When the determination at step S<b>27</b> is affirmative, the process proceeds to step S<b>25</b> and executes the lower arm ASC process.</p><p id="p-0070" num="0069">When the determination at step S<b>27</b> is negative, the process proceeds to step S<b>28</b> and determines whether an open failure occurs on the lower arm switch SWL based on the processing result at step S<b>26</b>. When the determination at step S<b>28</b> is affirmative, the process proceeds to step S<b>23</b> and executes the above-described upper arm ASC.</p><p id="p-0071" num="0070">When the determination result at step S<b>28</b> is negative, the process determines that the lower arm switch SWL is normal and proceeds to step S<b>29</b>. At step S<b>29</b>, the process commands the upper arm processing unit <b>61</b>H to change the logical state of the upper arm disabling signal SgAH to be L. Further, the process commands the lower arm processing unit <b>61</b>L to change the logical state of the lower arm disabling signal SgAL to be L. The process at step S<b>29</b> is for disabling the execution command of the shutdown control to the upper arm driving unit <b>71</b><i>a </i>and the upper arm determination unit <b>71</b><i>b</i>. According to the present embodiment, the processes at steps S<b>21</b>, S<b>22</b>, S<b>24</b>, S<b>26</b>, S<b>27</b> and S<b>28</b> correspond to checking unit. In the case where the shutdown control is not required to be disabled, the process at step S<b>29</b> can be omitted.</p><p id="p-0072" num="0071">According to the present embodiment, the process at step S<b>20</b> is executed because of the following reasons. A short circuit failure may occur at a lower arm switch SWL in the upper and lower arm switches SWH and SWL, for example. In a state where the short circuit failure occurs, when the upper arm ASC command CmASCH is set to be ON command by a process at step S<b>21</b> shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the upper arm switch SWH is turned to be in an ON state and causes short failure between the upper arm circuit and the lower arm circuit. As a result, an over current (short-circuit current) flows through the upper arm switch SWH and the lower arm switch SWL and the reliability of the upper and lower arm switches SWH and SWL may be lowered. In particular, when the first and second cutoff switches <b>23</b><i>a </i>and <b>23</b><i>b </i>are ON state, since the degree of lowering the reliability of the upper and lower arm switches SWH and SWL is large, and may cause a malfunction.</p><p id="p-0073" num="0072">Here, when the above-described upper and lower arm short-circuit failure occurs, the upper and lower arm processing units <b>61</b>H and <b>61</b>L to which the upper and lower arm failure signals FailH and FailL are transmitted, output the upper and lower arm shutdown commands CmSDNH and CmSDNL. When the process at step S<b>20</b> is executed, in the subsequently executed checking process, an execution command for the shutdown control to the upper arm driving unit <b>71</b><i>a </i>and the upper arm determination unit <b>71</b><i>b </i>is enabled. Hence, even when a short circuit failure occurs between the upper and lower arm circuits, the upper and lower arm switches SWH and SWL are turned OFF. Thus, when the checking process is executed, the upper and lower arm switches SWH and SWL can be protected from an over current.</p><p id="p-0074" num="0073">With reference to a timing diagram shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, a case will be descried where a checking process is executed when a short circuit failure occurs on the lower arm switch SWL. <figref idref="DRAWINGS">FIG. <b>5</b> (<i>a</i>)</figref> shows a trend of the upper arm disabling signal SgAH, and <figref idref="DRAWINGS">FIG. <b>5</b> (<i>b</i>)</figref> shows a trend of the upper arm ASC command CmASCH. <figref idref="DRAWINGS">FIG. <b>5</b> (<i>c</i>)</figref> shows a trend of the upper arm failure signal FailH, and <figref idref="DRAWINGS">FIG. <b>5</b> (<i>d</i>)</figref> shows a trend of a driving state of the upper arm switch SWH.</p><p id="p-0075" num="0074">At time t<b>1</b>, the upper arm ASC command CmASCH is turned to ON command, and the upper arm switch SWH is turned to ON state. Thus, a short circuit failure between the upper arm and the lower arm occurs, and the logical state of the upper arm failure signal FailH outputted from the upper arm determination unit <b>71</b><i>b </i>is changed to H. Since the logical state of the upper arm disabling signal SgAH outputted from the upper arm processing unit <b>61</b>H to the upper arm driving unit <b>71</b><i>a </i>is H, when the upper arm shutdown command CmSDHN outputted from the upper arm processing unit <b>61</b>H is transmitted to the upper arm driving unit <b>71</b><i>a</i>, the upper arm switch SWH is changed to OFF state.</p><p id="p-0076" num="0075">In contrast, as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, according to a comparative example where the upper arm disabling signal SgAH is set to be L, even if the logical state of the upper failure signal FailH is changed to H at time t<b>2</b>, the upper arm switch SWH is not changed to OFF state. Note that, <figref idref="DRAWINGS">FIG. <b>6</b> (<i>a</i>) to (<i>d</i>)</figref> correspond to <figref idref="DRAWINGS">FIG. <b>5</b> (<i>a</i>) to (<i>d</i>)</figref>.</p><p id="p-0077" num="0076">According to the above-described embodiment, when the check process is executed, the upper and lower arm switches SWH and SWL can be protected from an over current.</p><heading id="h-0009" level="1">Modification Example of First Embodiment</heading><p id="p-0078" num="0077">As shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the checking process of the lower arm switch SWL may be executed first, and then the checking process of the upper arm switch SWH may be executed next. In <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the same reference numbers are applied to processes which are the same as those shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> for the sake of convenience.</p><p id="p-0079" num="0078">The disabling signal outputted from the respective arm processing units <b>61</b>H and <b>61</b>L may be pulse signal. When describing the upper arm side as an example, if the pulse signal is utilized in which the logical state of the upper arm disabling signal SgAH is switched between H and L, in the case where the execution command of the shutdown control is disabled and the logical state of the upper arm disabling signal SgAH is fixed to H or L, the execution command of the shutdown control may be enabled.</p><p id="p-0080" num="0079">The upper arm determination unit <b>71</b><i>b </i>may output, when determined that an over current failure or a over heating failure occurs, the upper arm shutdown command CmSDNH to the upper arm driving unit <b>71</b><i>a</i>. Further, the lower arm determination unit <b>72</b><i>b </i>may output, when determined that an over current failure or an over heating failure occurs, a lower arm shutdown command CmSDNL to the lower arm driving unit <b>72</b><i>a. </i></p><p id="p-0081" num="0080">Without using an insulation transmitting device such as a photo coupler or a magnetic coupler, a signal may be exchanged between the low voltage region and the high voltage region in the control circuit <b>50</b> with a communication method. As the communication method, SPI (registered trade mark), CAN, UART, Ethernet (registered trade mark) and parallel communication may be utilized. Moreover, the communication may be a binary digital signal or a duty signal, for example.</p><heading id="h-0010" level="1">Second Embodiment</heading><p id="p-0082" num="0081">Hereinafter, with reference to the drawings, for a second embodiment, configurations different from those in the first embodiment will mainly be described.</p><p id="p-0083" num="0082">In the three-phase short circuit control being executed, when the upper and lower arm processing units <b>61</b>H and <b>61</b>L output the upper and lower arm shutdown commands CmSDNH and CmSDNL, the control is changed to the shutdown control from the three-phase short circuit control. In this case, the terminal voltage of the smoothing capacitor <b>24</b> significantly increases and may cause an over voltage failure.</p><p id="p-0084" num="0083">In this respect, according to the present embodiment, as shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the logical state of the upper and lower arm disabling signals SgAH and SgAL outputted from the upper and lower arm processing units <b>61</b>H and <b>61</b>L are set to be L during a period from a time t<b>1</b> at which the three-phase short circuit control is started to a time t<b>2</b> at which a predetermined period elapses from the time t<b>1</b>. Thus, the over voltage failure is prevented from occurring. Note that the microprocessor <b>60</b> may command the upper arm processing unit <b>61</b>H at the time t<b>2</b> to change the logical state of the upper arm disabling signal SgAH to be H and command the lower arm processing unit <b>61</b>L at the time t<b>2</b> to change the logical state of the lower arm disabling signal SgAL to be H. Thereafter, the checking process shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> may be executed in this case.</p><p id="p-0085" num="0084">Here, in the case where the upper and lower arm disabling signals SgAH and SgAL transmitted to the upper and lower arm driving units <b>71</b><i>a </i>and <b>72</b><i>a </i>are not normal, the shutdown control is unable to be disabled even if necessary. In this case, in the three-phase short circuit control being executed, there is a concern that the shutdown control may be executed as described above.</p><p id="p-0086" num="0085">According to the present embodiment, the microprocessor <b>60</b> performs a disabling signal checking process for checking whether the upper and lower disabling signals SgAH and SgAL are outputted normally from the upper and lower arm processing units <b>61</b>H and <b>61</b>L and whether the upper and lower arm driving units <b>71</b><i>a </i>and <b>72</b><i>a </i>accept the outputted upper and lower arm disabling signal SgAH and SgAL normally. Note that the microprocessor <b>60</b> includes signal determination unit.</p><p id="p-0087" num="0086"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows a control circuit <b>50</b> and a peripheral circuit thereof according to the present embodiment. In <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the same reference numbers are applied to configurations which are the same as those shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> for the sake of convenience.</p><p id="p-0088" num="0087">The control circuit <b>50</b> is provided with an upper arm signal transmission unit <b>66</b> and a lower arm signal transmission unit <b>67</b>. The respective signal transmission units <b>66</b> and <b>67</b> are configured as a photo coupler or a magnetic coupler, for example.</p><p id="p-0089" num="0088">In a period where the three-phase short circuit control is not performed, the microprocessor <b>60</b> commands the upper and lower arm processing units <b>61</b>H and <b>61</b>L to output the upper and lower arm ASC command CmASCH and CmASCL which correspond to the upper arm ASC and the lower arm ASC. Thereafter, the upper and lower arm drivers <b>71</b> and <b>72</b> output the accepted upper and lower arm ASC commands CmASCH and CmASCL as the upper and lower arm checking signal SgH and SgL to the microprocessor <b>60</b> via the upper and lower arm signal transmission units <b>66</b> and <b>67</b>.</p><p id="p-0090" num="0089">The microprocessor <b>60</b> monitors the accepted upper and lower arm checking signals SgH and SgL and compares the monitored upper and lower arm checking signals SgH and SgL with the upper and lower arm ASC commands CmASCH and CmASCL outputted from the upper and lower arm processing units <b>61</b>H and <b>61</b>L, thereby checking whether the upper and lower disabling signals SgAH and SgAL are outputted normally and whether the upper and lower arm driving units <b>71</b><i>a </i>and <b>72</b><i>a </i>accept the outputted upper and lower arm disabling signal SgAH and SgAL normally.</p><p id="p-0091" num="0090">According to the above-described present embodiment, the shutdown control can be prevented from being executed during a period from when the three-phase short circuit control starts to when a predetermined period elapses.</p><heading id="h-0011" level="1">Third Embodiment</heading><p id="p-0092" num="0091">Hereinafter, with reference to the drawings, for a third embodiment, configurations different from those in the first embodiment will mainly be described. <figref idref="DRAWINGS">FIG. <b>10</b></figref> shows a control circuit <b>50</b> and a peripheral circuit thereof according to the present embodiment. In <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the same reference numbers are applied to configurations which are the same as those shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> for the sake of convenience.</p><p id="p-0093" num="0092">According to the present embodiment, instead of using the microprocessor <b>60</b>, the upper arm processing unit <b>61</b>H outputs the upper arm ASC command CmASCH. Further, instead of using the microprocessor <b>60</b>, the lower arm processing unit <b>61</b>L outputs the lower arm ASC command CmASCL.</p><p id="p-0094" num="0093">For example, the upper and lower arm processing units <b>61</b>H and <b>61</b>L may output, when information indicating an over voltage failure is acquired from the microprocessor <b>60</b>, the upper and lower arm ASC commands CmASCH and CmASCL corresponding to the upper arm ASC and the lower arm ASC. Further, for example, instead of using a configuration in which the information indicating an over voltage failure is acquired from the microprocessor <b>60</b>, the upper and lower arm processing units <b>61</b>H and <b>61</b>L may acquire the detection value of the voltage sensor <b>52</b> and determine whether an over voltage failure occurs or not based on the acquired detection value. According to the present embodiment, the upper arm processing unit <b>61</b>H and the lower arm processing unit <b>61</b>L include short circuit control unit.</p><p id="p-0095" num="0094">According to the above-described present embodiment, effects and advantages similar to those of first embodiment can be acquired.</p><heading id="h-0012" level="1">Fourth Embodiment</heading><p id="p-0096" num="0095">Hereinafter, with reference to the drawings, for a fourth embodiment, configurations different from those in the first embodiment will mainly be described. <figref idref="DRAWINGS">FIG. <b>11</b></figref> shows a control circuit <b>50</b> and a peripheral circuit thereof according to the present embodiment. In <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the same reference numbers are applied to configurations which are the same as those shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> for the sake of convenience.</p><p id="p-0097" num="0096">According to the present embodiment, the upper and lower arm ASC commands CmASCH and CmASCL are not outputted from the microprocessor <b>60</b>. The control circuit <b>50</b> is provided with an upper arm ASC command unit <b>75</b> and a lower arm ASC command unit <b>76</b>. The upper arm drive voltage VdH of the insulation power source <b>70</b> is supplied to the upper arm ASC command unit <b>75</b> and the lower arm drive voltage VdL of the insulation power source <b>70</b> is supplied to the lower arm ASC command unit <b>76</b>.</p><p id="p-0098" num="0097">The upper arm ASC command unit <b>75</b> outputs the upper arm ASC command CmASCH to the upper arm driving unit <b>71</b><i>a</i>. The upper arm ASC command CmASCH changes, based on a decrease in the upper arm drive voltage VdH, the upper arm switch SWH to be in a driving state corresponding to the upper arm ASC or the lower arm ASC. Specifically, the upper arm ASC command unit <b>75</b> outputs, when determined that the upper arm drive voltage VdH decreases to be lower than or equal to a first predetermined voltage, the upper arm ASC command CmASCH that changes the upper arm switch SWH to be in a driving state corresponding to the upper arm ASC or the lower arm ASC, to the upper arm driving unit <b>71</b><i>a. </i></p><p id="p-0099" num="0098">The lower arm ASC command unit <b>76</b> outputs the lower arm ASC command CmASCL to the lower arm driving unit <b>72</b><i>a</i>. The lower arm ASC command CmASCL changes, based on a decrease in the lower arm drive voltage VdL, the lower arm switch SWL to be in a driving state corresponding to the upper arm ASC or the lower arm ASC. Specifically, the lower arm ASC command unit <b>76</b> outputs, when determined that the lower arm drive voltage VdL decreases to be lower than or equal to a second predetermined voltage, the lower arm ASC command CmASCL that changes the lower arm switch SWL to be in a driving state corresponding to the upper arm ASC or the lower arm ASC, to the lower arm driving unit <b>72</b><i>a. </i></p><p id="p-0100" num="0099">Note that the upper and lower arm ASC command units <b>75</b> and <b>76</b> may acquire information indicating which arm a short circuit failure or an open failure has occurred in, the upper arm switch SWH or the lower arm switch SWL, from the microprocessor <b>60</b>, for example. According to the present embodiment, the upper and lower arm ASC command units <b>75</b> and <b>76</b> correspond to short-circuit control unit.</p><p id="p-0101" num="0100">According to the above-described embodiments, a three-phase short circuit control can be performed even when an abnormality occurs in the control circuit <b>50</b> which causes a shutdown state according to the conventional technique. The shutdown state refers to state where the upper and lower switches SWH and SWL for three-phases are in OFF state. Here, an abnormality in the control circuit <b>50</b> includes a failure in the microprocessor <b>60</b>, a failure in the power source circuit <b>51</b> and a failure in which an output voltage cannot be outputted from the insulation power source <b>70</b>. The failure in which an output voltage cannot be outputted from the insulation power source <b>70</b> includes a failure in the insulation power source <b>70</b>, a failure in which power cannot be supplied to the insulation power source <b>70</b> from the low voltage power source <b>31</b>. The failure in which power cannot be supplied to the insulation power source <b>70</b> from the low voltage power source <b>31</b> occurs, for example, when an electrical path from the low voltage power source <b>31</b> to the insulation power source <b>70</b> is broken. For example, the above-described failures may occur due to vehicle collision.</p><heading id="h-0013" level="1">Other Embodiment</heading><p id="p-0102" num="0101">The above-described embodiments may be modified as follows.</p><p id="p-0103" num="0102">The respective drivers <b>71</b> and <b>72</b> may be provided in the low voltage region and the high voltage region in the control circuit <b>50</b> to be positioned across the boundary between the low voltage region and the high voltage region.</p><p id="p-0104" num="0103">In the configuration shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, a boost converter may be provided between the smoothing capacitor <b>24</b> and the respective cutoff switches <b>23</b><i>a </i>and <b>23</b><i>b. </i></p><p id="p-0105" num="0104">As a switch that constitutes the switching device unit, it is not limited to IGBT, but may be a N-channel MOSFET including a body diode. In this case, the drain corresponds to high voltage side terminal and the source corresponds to low voltage side terminal.</p><p id="p-0106" num="0105">As respective arm switches that constitute the switching device unit, two or more switches which are connected in parallel with each other. In this case, as a combination of parallelly connected switches, for example, a combination of a SiC switching element and a Si switching element, or a combination of IGBT and MOSFET may be utilized.</p><p id="p-0107" num="0106">As a control quantity of the rotary electric machine, it is not limited to a torque but may be a rotational speed of the rotor in the rotary electric machine.</p><p id="p-0108" num="0107">The rotary electric machine is not limited to a permanent magnet synchronous machine, but may be a field winding synchronous machine, for example. Further, as the rotary electric machine, it is not limited to the synchronous machines but may be an induction motor. Moreover, as the rotary electric machine, it is not limited to one used for an on-vehicle main machine, but may be one used for other purpose such as an automatic power steering apparatus, a motor constituting an air-conditioning compressor.</p><p id="p-0109" num="0108">The control unit and method thereof disclosed in the present disclosure may be accomplished by a dedicated computer constituted of a processor and a memory programmed to execute one or more functions embodied by computer programs. Alternatively, the control unit and method thereof disclosed in the present disclosure may be accomplished by a dedicated computer provided by a processor configured of one or more dedicated hardware logic circuits. Further, the control unit and method thereof disclosed in the present disclosure may be accomplished by one or more dedicated computer where a processor and a memory programmed to execute one or more functions, and a processor configured of one or more hardware logic circuits are combined. Furthermore, the computer programs may be stored, as instruction codes executed by the computer, into a computer readable non-transitory tangible recording media.</p><p id="p-0110" num="0109">The present disclosure has been described in accordance with the embodiments. However, the present disclosure is not limited to the embodiments and structure thereof. The present disclosure includes various modification examples and modifications within the equivalent configurations. Further, various combinations and modes and other combinations and modes including one element or more or less elements of those various combinations are within the range and technical scope of the present disclosure.</p><heading id="h-0014" level="1">Conclusion</heading><p id="p-0111" num="0110">The present disclosure is to provide a control circuit for a power conversion apparatus capable of protecting the switches from over current event when the checking process is performed for checking whether the short circuit control is correctly performed.</p><p id="p-0112" num="0111">The present disclosure is provided with a control circuit of a power conversion apparatus adapted for a system provided with a storage unit, a multiphase rotary electric machine, a power conversion apparatus having upper and lower arm switches electrically connected to each winding in multiphase windings of the rotary electric machine. The control circuit includes: a switch driving unit that drives the upper and lower arm switches; a short circuit control unit that causes the switch driving unit to execute a short circuit control when a failure occurs in the system, the short circuit control turning an ON side switch as a switch of one arm in either an upper arm or a lower arm to be an ON state and turning an OFF side switch as a switch of the other arm to be an OFF state; a checking unit that executes a checking process to check whether the short circuit control is able to performed correctly; and a protection control unit that causes the switch driving unit to execute a protection control when a failure occurs on either the upper arm switch or the lower arm switch, the protection control turning the switch where the failure occurs to be an OFF state,</p><p id="p-0113" num="0000">in which the control circuit enables the protection control during execution of the checking process.</p><p id="p-0114" num="0112">In state where a short circuit failure occurs on the OFF side switch, when a checking process is performed to check whether the short circuit control is able to perform correctly, an upper and lower arm short circuit occurs. In this case, an over current flows through the switches. According to the present disclosure, during execution of the checking process, the protection control by the protection control unit is enabled. Hence, the protection control unit determines that a failure occurs on a switch where the over current flows, and turns the switch OFF. Thus, in the case where the checking process is executed, the switches can be protected from over current.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A control circuit of a power conversion apparatus adapted for a system provided with a storage unit, a multiphase rotary electric machine, a power conversion apparatus having upper and lower arm switches electrically connected to each winding in multiphase windings of the rotary electric machine, the control circuit comprising:<claim-text>a switch driving unit that drives the upper and lower arm switches;</claim-text><claim-text>a short circuit control unit that causes the switch driving unit to execute a short circuit control when a failure occurs in the system, the short circuit control turning an ON side switch as a switch of one arm in either an upper arm or a lower arm to be in an ON state and turning an OFF side switch as a switch of the other arm to be in an OFF state;</claim-text><claim-text>a checking unit that executes a checking process to check whether the short circuit control is able to perform correctly, the checking process being executed when the switch driving unit turns the ON side switch to be in an ON state; and</claim-text><claim-text>a protection control unit that causes the switch driving unit to execute a protection control when a failure occurs on either the upper arm switch or the lower arm switch, the protection control turning the switch where the failure occurs to be in an OFF state,</claim-text></claim-text><claim-text>wherein<claim-text>the protection control unit causes the switch driving unit to execute, when determined that an over current failure occurs on the ON side switch, the protection control to turn the ON side switch to be in an OFF state.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The control circuit according to <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:<claim-text>a disabling control unit that outputs a disabling signal to the switch driving unit, the disabling signal disabling, even when the protection control unit transmits an execution command to the switch driving unit to execute the protection control during the short circuit control being executed, the execution command of the protection control; and</claim-text><claim-text>a signal determination unit that monitors the disabling signal outputted from the disabling control unit during the short circuit control not being executed, and determines whether the disabling signal is outputted correctly based on a result of the monitoring.</claim-text></claim-text></claim></claims></us-patent-application>