<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003901A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003901</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17806110</doc-number><date>20220609</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>23</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>05</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>N</subclass><main-group>5</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>23</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>19</main-group><subgroup>05</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>N</subclass><main-group>5</main-group><subgroup>022</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">USER-AIDED SIGNAL LINE-OF-SIGHT (LOS) MACHINE LEARNING CLASSIFIER</invention-title><us-related-documents><us-provisional-application><document-id><country>US</country><doc-number>63309280</doc-number><date>20220211</date></document-id></us-provisional-application><us-provisional-application><document-id><country>US</country><doc-number>63216905</doc-number><date>20210630</date></document-id></us-provisional-application><us-provisional-application><document-id><country>US</country><doc-number>63243028</doc-number><date>20210910</date></document-id></us-provisional-application><us-provisional-application><document-id><country>US</country><doc-number>63285823</doc-number><date>20211203</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>oneNav, Inc.</orgname><address><city>Palo Alto</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Maaref</last-name><first-name>Mahdi</first-name><address><city>Mountain View</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Garin</last-name><first-name>Lionel</first-name><address><city>Palo Alto</city><state>CA</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">Machine learning techniques can be used to mitigate multipath in a GNSS receiver that includes a first trained model that provides extra path length (EPL) corrections in the GNSS receiver. The first trained model can be updated using an updated and trained model from one or more assistance servers that are in communication with the GNSS receiver. The GNSS receiver can provide, for a particular computed position and time, extracted features from received GNSS signals to the one or more assistance servers. The assistance servers can then use the extracted features and a source of true EPL corrections (e.g., from a 3D building map database for the particular computed position and time) to train a server model. The server model, once trained to a desired level of accuracy, can be transmitted to the GNSS receiver to replace the first trained model. The server model can be compared to the first trained model to verify it can provide more accurate EPL corrections than the first trained model. The server model and the source of true EPL corrections can be specific for a geographic region, so different regions have different server models based on the corresponding sources of true EPL corrections.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="165.95mm" wi="132.76mm" file="US20230003901A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="190.92mm" wi="134.79mm" file="US20230003901A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="180.34mm" wi="160.10mm" file="US20230003901A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="135.89mm" wi="144.44mm" file="US20230003901A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="123.44mm" wi="139.02mm" file="US20230003901A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="154.69mm" wi="135.89mm" file="US20230003901A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="116.33mm" wi="143.85mm" file="US20230003901A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="199.98mm" wi="154.26mm" file="US20230003901A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><p id="p-0002" num="0001">This application claims the benefit of U.S. provisional patent application No. 63/309,280, which was filed Feb. 11, 2022 by Applicant oneNav, Inc. of Palo Alto, Calif. and claims the benefit of U.S. provisional patent application No. 63/216,905, which was filed Jun. 30, 2021 by Applicant oneNav, Inc. of Palo Alto, Calif. and claims the benefit of U.S. provisional patent application No. 63/243,028 which was filed on Sep. 10, 2021 by the same Applicant and claims the benefit of U.S. provisional patent application No. 63/285,823, which was filed Dec. 3, 2021 by Applicant oneNav, Inc. of Palo Alto, Calif., and these provisional patent applications are hereby incorporated herein by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND</heading><p id="p-0003" num="0002">This disclosure relates to the field of systems that determine a position of a radio receiver, and in particular this disclosure relates to global navigation satellite system (GNSS) receivers, such as a GNSS receiver that can determine the position of the GNSS receiver from signals received from GNSS satellites (GNSS SVs).</p><p id="p-0004" num="0003">It is known that multipath effects on GNSS signals can cause large errors in position calculations in GNSS receivers. Multipath effects often occur in urban canyons where the same transmitted signal from a GNSS SV is reflected multiple times off surfaces of the buildings surrounding a street where a GNSS is located; diffraction effects can also occur causing a significantly polluted signal at the receiver. For example, the GNSS receiver in this case can receive both a line of sight (LOS) signal and multiple non-line of sight (NLOS) signals from the same SV. This can distort the pseudorange measurements made in the GNSS receiver, often to the point that the GNSS receiver measures a pseudorange that has significant error, resulting in a position solution that can be in error by more than 100 meters (100 m). This inaccuracy can result in situations in which a driver of a taxi service (e.g., Uber) is directed to the wrong side of the street by the GNSS receiver of the potential passenger who is waiting for the taxi service. This problem has been studied in the GNSS field, and many solutions have been proposed.</p><p id="p-0005" num="0004">One solution uses a classifier to classify signals as either LOS or NLOS; in this solution, the goal is to ignore or reject the NLOS signal and use only the LOS signal, if available, in the pseudorange measurement. This solution has been achieved with different approaches, including the use of machine learning (e.g., a neural network used to classify the signals). If the LOS signal is not available, then the signal is ignored (so no pseudorange measurement of the signal is provided as an output from the GNSS receiver). Another solution is described in U.S. Pat. No. 9,562,770 (inventor: Lionel J. Garin); in this approach, a signal visibility database, that contains information about the size (e.g., height, width and length) of signal obstacles (e.g., buildings in an urban canyon), is used to determine expected line of sight signals and expected NLOS signals at locations along a pathway (e.g., street in the urban canyon). This approach can use ray tracing algorithms with a 3D building map and the exact location of the SVs (at any given time) to provide location information without attempting to measure pseudoranges at the GNSS receiver.</p><heading id="h-0002" level="1">SUMMARY OF THE DESCRIPTION</heading><p id="p-0006" num="0005">The embodiments and aspects described herein can be used to improve trained models (such as machine learning models) in GNSS receivers that provide extra path length (EPL) corrections to improve the position accuracy of position solutions for the GNSS receivers. The trained models can be improved by a set of one or more training servers that collect data from the GNSS receivers and train a server model that can replace the trained models used in the GNSS receivers. The training servers can use true EPL corrections derived from one or more three dimensional (3D) building maps that can be used to compute (e.g., through ray tracing algorithms) EPL corrections and LOS/NLOS predictions based upon the buildings' structure in an environment and the position of a GNSS receiver in the environment at any given time.</p><p id="p-0007" num="0006">In one embodiment, a method for operating a GNSS receiver can include the following operations: receiving GNSS signals from GNSS satellites (SVs) at a first time and determining one or more pseudoranges to one or more GNSS SVs; extracting, from the received GNSS signals, features for use as inputs for a first trained model that provides extra path length (EPL) corrections; computing an output from the first trained model based on the extracted features; computing a first position from the received GNSS signals, the first position based on the output from the first trained model and the one or more pseudoranges; transmitting, to one or more first servers, the extracted features for use in obtaining an updated and trained model based on the extracted features, the computed first position and its associated first time; receiving data representing the updated and trained model; and storing the data representing the updated and trained model as a second trained model for use in providing EPL corrections when computing positions for the GNSS receiver. In one embodiment, the method can further include the operations of: requesting, by the GNSS receiver, a set of EPL corrections based on the first position and the first time; receiving by the GNSS receiver, in response to the requesting, the set of EPL corrections based on the first position and the first time; and transmitting, from the GNSS receiver, the set of EPL corrections for use in obtaining the updated and trained model. In one embodiment, the GNSS receiver discontinues use of the first trained model after storing the second trained model. In one embodiment, the method includes the further operation of: receiving a further updated model based on a region in which the GNSS receiver operates, the further updated model trained for the region.</p><p id="p-0008" num="0007">In one embodiment, each of the one or more pseudoranges is corrected by subtracting a corresponding EPL correction from a measured pseudorange, and the measured pseudorange is measured in a delay locked loop in the GNSS receiver and wherein the one or more EPL corrections are derived based on outputs at the delay locked loop (DLL) which is a pseudorandom noise (PRN) tracking loop to track pseudoranges in the GNSS receiver and wherein the set of one or more EPL corrections correct for multipath reflections of GNSS signals in an urban canyon that surrounds the GNSS receiver.</p><p id="p-0009" num="0008">In one embodiment, the features comprise: (1) correlation vector features from a set of successive correlation vectors from correlators, in the GNSS receiver, for GNSS signals from a GNSS SV; (2) a mutual probability distribution function (pdf) data of the relative delay and relative amplitude from each of the correlators; (3) other features relating to the GNSS receiver or GNSS SV. In one embodiment, the correlation vector features comprise one or more of: (1) relative amplitude of local maximum points in a correlation vector; (2) relative delay of peaks in a correlation vector; (3) a width of a strongest peak in a correlation vector; or (4) a number of strong peaks in a correlation vector. In one embodiment, the other features comprise one or more of: (1) an elevation of a GNSS SV; (2) a signal to noise ratio (SNR) of a measured pseudorange; (3) a type of antenna used to receive the GNSS signals; (4) a tracking mode of the GNSS receiver; or (5) a tracking loop configuration of the GNSS receiver.</p><p id="p-0010" num="0009">According to another aspect of this disclosure, a data processing system includes a GNSS receiver and a processing system and communication transceivers, such as a cellular telephone transceiver. In one embodiment, the data processing system includes: an antenna to receive RF GNSS signals; an RF receiving section coupled to the antenna; an analog to digital (A/D) converter coupled to the RF receiving section to digitize received GNSS signals; a GNSS processing system coupled to the A/D converter, the GNSS processing system to determine one or more pseudoranges to one or more GNSS SVs and to extract, from the received GNSS signals, features for use as inputs for a first trained model that provides extra path length (EPL) corrections; and the GNSS processing system to compute an output from the first trained model based on the extracted features; and the GNSS processing system to compute a first position from the received GNSS signals, the first position based on the output from the first trained model and the one or more pseudoranges; a set of one or more communication transceivers coupled to the GNSS processing system, the set of one or more communication transceivers to transmit, to one or more first servers, the extracted features for use in obtaining an updated and trained model based on the extracted features, the computed first position and its associated first time; and the set of one or more communication transceivers to receive data representing the updated and trained model; and the GNSS processing system to store the data representing the updated and trained model as a second trained model for use in providing EPL corrections when computing positions for the GNSS receiver. In one embodiment, the set of one or more communication transceivers request a set of EPL corrections based on the first position and the first time, and the set of one or more communication transceivers receive, in response to the request, the set of EPL corrections based on the first position and the first time; and the set of one or more communication transceivers transmit the set of EPL corrections for use in obtaining the updated and trained model.</p><p id="p-0011" num="0010">According to another aspect of this disclosure, a method of operating one or more servers that provide assistance service to one or more GNSS receivers can include the following operations: receiving, from a GNSS receiver, a set of extracted features used as inputs for a first trained model that provides extra path length (EPL) corrections in the GNSS receiver, the set of extracted features derived from GNSS signals received at the GNSS receiver and the GNSS receiver having computed a first position from the GNSS signals received at a first time by the GNSS receiver; receiving a set of EPL corrections derived from a 3D building map for the first position at the first time; training a server model using the set of EPL corrections and the set of extracted features to produce an updated trained model; and transmitting data representing the updated trained model to the GNSS receiver. In one embodiment, the set of EPL corrections is received from the GNSS receiver; in an alternative embodiment, the EPL corrections are requested by the one or more servers using a position and corresponding time (of a position fix) and received by the one or more servers from a source of true EPL corrections (e.g., a 3D building map and ray tracing processing system). In one embodiment, the method can further include the operation of: transmitting to the GNSS receiver a further updated model based on a region in which the GNSS receiver operates, the further updated model trained for the region. In one embodiment, the set of extracted features comprise: (1) correlation vector features from a set of successive correlation vectors from correlators, in the GNSS receiver, for GNSS signals from a GNSS SV; (2) a mutual probability distribution function (pdf) data of the relative delay and relative amplitude from each of the correlators; (3) other features relating to the GNSS receiver or a GNSS SV. In one embodiment, the correlation vector features comprise one or more of: (1) relative amplitude of local maximum points in a correlation vector; (2) relative delay of peaks in a correlation vector; (3) a width of a strongest peak in a correlation vector; or (4) a number of strong peaks in a correlation vector. In one embodiment, the other features comprise one or more of: (1) an elevation of a GNSS SV; (2) a signal to noise ratio (SNR) of a measured pseudorange; (3) a type of antenna used to receive the GNSS signals; (4) a tracking mode of the GNSS receiver; or (5) a tracking loop configuration of the GNSS receiver.</p><p id="p-0012" num="0011">The aspects and embodiments described herein can include non-transitory machine readable media that can store executable computer program instructions that when executed cause one or more data processing systems (e.g., one or more GNSS processing systems in a system that includes a GNSS receiver) to perform the methods described herein when the computer program instructions are executed. The instructions can be stored in non-transitory machine readable media such as in dynamic random access memory (DRAM) which is volatile memory or in nonvolatile memory, such as flash memory or other forms of memory. The aspects and embodiments described herein can also be in the form of data processing server systems (e.g., servers in a server farm) that are built or programmed to perform these methods. The aspects and embodiments described herein can also be in the form of data processing systems, such as GNSS receivers or portions of GNSS receivers, that are built or programmed to perform these methods in a system containing the GNSS receiver. For example, a data processing system which includes a GNSS receiver, can be built with hardware logic to perform these methods or can be programmed with a computer program to perform these methods. Further, the embodiments described herein can use one or more GNSS receiver architectures (or components, methods or portions of such architectures) described in U.S. patent application Ser. No. 17/068,659, filed Oct. 12, 2020 by Paul Conflitti, et. al., with oneNav, Inc. as the Applicant (Attorney Docket No. 107505.P001) and this patent application is hereby incorporated herein by reference, and this patent application was published on May 5, 2022 under publication number US 2022/0137236.</p><p id="p-0013" num="0012">The above summary does not include an exhaustive list of all embodiments and aspects in this disclosure. All systems, media, and methods can be practiced from all suitable combinations of the various aspects and embodiments summarized above and also those disclosed in the detailed description below.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0014" num="0013">The present invention is illustrated by way of example and not limitation in the figures of the accompanying drawings in which like references indicate similar elements.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>1</b>A</figref> is a flow chart that shows a method of operating a GNSS receiver so that it receives an updated and trained model for use in EPL corrections.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>1</b>B</figref> shows an example of a GNSS receiver that includes trained model that provides EPL corrections.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>1</b>C</figref> shows an example of a data processing system (e.g., a smart phone or a wearable device) that includes a GNSS receiver according to one embodiment.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>1</b>D</figref> shows an example of a system of assistance servers that can be used to provide an updated and trained model for use in EPL corrections.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> is a flowchart that shows a method of operating one or more assistance servers to provide an updated and trained model for use in EPL corrections.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>2</b>B</figref> shows an example of a system that can be used to train a server model in order to provide an updated and trained model for use in EPL corrections.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows an example of an assistance system that is divided into geographic regions to provide region specific updated and trained models for use in EPL corrections in GNSS receivers located in different regions.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0004" level="1">DETAILED DESCRIPTION</heading><p id="p-0022" num="0021">Various embodiments and aspects will be described with reference to details discussed below, and the accompanying drawings will illustrate the various embodiments. The following description and drawings are illustrative and are not to be construed as limiting. Numerous specific details are described to provide a thorough understanding of various embodiments. However, in certain instances, well-known or conventional details are not described in order to provide a concise discussion of embodiments.</p><p id="p-0023" num="0022">Reference in the specification to &#x201c;one embodiment&#x201d; or &#x201c;an embodiment&#x201d; means that a particular feature, structure, or characteristic described in conjunction with the embodiment can be included in at least one embodiment. The appearances of the phrase &#x201c;in one embodiment&#x201d; in various places in the specification do not necessarily all refer to the same embodiment. The processes depicted in the figures that follow are performed by processing logic that comprises hardware (e.g. circuitry, dedicated logic, etc.), software, or a combination of both. Although the processes are described below in terms of some sequential operations, it should be appreciated that some of the operations described may be performed in a different order. Moreover, some operations may be performed in parallel rather than sequentially.</p><p id="p-0024" num="0023">The methods and systems described in this disclosure can use trained models to mitigate multipath effects in GNSS receivers, which can improve the accuracy of position solutions provided by such GNSS receivers in various scenarios, including for example, urban canyons that often block many GNSS signals from GNSS SVs and also cause the reflection of many GNSS signals. In one embodiment, the GNSS receivers can use a trained model that is updated through one or more assistance servers that receive training data (e.g., extracted features described below) from the GNSS receivers. The one or more assistance servers can use the training data to train one or more server models that also use true EPL corrections or LOS/NLOS predications derived from a 3D building map and ray tracing algorithms. Once the one or more assistance servers determine that the one or more server models are sufficiently trained to replace the current trained model at the GNSS receivers, the trained server models can be transmitted to the GNSS receivers to replace the currently used trained model. In one embodiment, the original and the updated trained model both provide EPL corrections to improve the position solutions for the GNSS receiver. In this description, the GNSS receivers can be considered client systems that communicate with the one or more assistance servers in order to receive the updated and trained model from the one or more assistance servers.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>1</b>A</figref> shows an example of a method performed by a GNSS receiver and system containing the GNSS receiver according to one embodiment. This method can be performed by a GNSS receiver shown in <figref idref="DRAWINGS">FIGS. <b>1</b>B and <b>1</b>C</figref>. In operation <b>10</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>, a GNSS receiver can obtain an initial trained model for EPL corrections. This initial trained model can be installed or stored, in operation <b>12</b>, in an integrated circuit (IC) in the GNSS receiver during fabrication of the IC or can be downloaded to the GNSS receiver after fabrication. This initial trained model can be created using one of the methods described in U.S. provisional patent application No. 63/243,028 which was filed on Sep. 10, 2021 by oneNav, Inc. For example, this initial model can be a generic model developed through the techniques described in this provisional patent application. The generic model can be based on one set of training data that is specific to a geographic region or be a model that is based on training data that is obtained across many geographic regions. The initial trained model can be designed to produce EPL corrections based on received GNSS signals as described in U.S. provisional patent application No. 63/243,028. In operation <b>14</b>, a position of the GNSS receiver can be computed. For example, a GNSS receiver can receive and process GNSS signals to derive pseudoranges to the GNSS SVs that transmitted the received GNSS signals and can correct those pseudoranges based on EPL corrections from a current trained model at the GNSS receiver; further information about the correction of pseudoranges using EPL corrections is provided in U.S. provisional patent application No. 63/243,028. Also in operation <b>14</b>, the GNSS receiver (or an assistance server) can determine a position (e.g., a position fix or position solution) of the GNSS receiver based on the corrected pseudoranges. Also in operation <b>14</b>, the computed position solution, the time of the position solution (e.g., the time when the GNSS signals, from which the pseudoranges used in the position solution, were received) and the features (e.g., &#x201c;extracted features&#x201d;) used an inputs to the current trained model (used for EPL corrections) in the GNSS receiver are stored so that they can be transmitted as training data for one or more server models.</p><p id="p-0026" num="0025">In one embodiment, in operation <b>16</b> the system containing the GNSS receiver can transmit the computed position and the time of the position solution and a request for EPL corrections (or other LOS/NLOS assistance data) to an assistance server; in response to this request, the system containing the GNSS receiver can receive the requested EPL correction (from an assistance server) for the corresponding computed position and time of the position solution. It will be appreciated that, in one embodiment, the assistance server can use a 3D building map and known ray tracing algorithms to determine, based on the computed position and time of position, predictions of NLOS and LOS signals or the EPL corrections for each GNSS signal that can be received at the time of the position fix and at the computed position in the environment (e.g., an urban canyon) surrounding the computed position. Such 3D building maps and ray tracing algorithms are known in the art and can be used to compute EPL corrections or NLOS/LOS predications based on the buildings surrounding the computed position at the time of the position fix; the word &#x201c;building&#x201d; as used herein is meant to include a structure that can obstruct or reflect or effect a GNSS signal from a GNSS SV. Normally, the time of the position fix or time of position is the time when the GNSS signals, which were used to compute a pseudorange used in the computed position, were received. In one embodiment, the GNSS receiver (or the system containing the GNSS receiver) will store as a set of data the following data for each position solution: the computed position, the time of the position, the received EPL corrections (received in operation <b>16</b>) for this combination of computed position and the time of the position, and the extracted features (described below) that were used as inputs to the current trained model which produces EPL corrections at the GNSS receiver. This stored set of data can be transmitted, either at certain times or upon request from an assistance server, to one or more assistance servers which can use this transmitted data as training data to train one or more server models. This transmission is shown as operation <b>18</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>. This transmitted data includes the training data to be used by one or more assistance servers to train a server model as described below. Once the one or more assistance servers have trained one or more server models to an adequate accuracy (e.g., an accuracy exceeding the estimated accuracy of the current trained model at the GNSS receiver), the trained server model can be transmitted to and received by the GNSS receiver. The receipt of this trained server model (which represents an updated and trained model relative to the current model at the GNSS receiver) is shown in operation <b>20</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>. The GNSS receiver can then replace the current model (used to generate EPL corrections) with the updated and trained model from the one or more assistance servers. Going forward, the GNSS receiver can use the updated and trained model instead of the prior model (at the GNSS receiver) to produce EPL corrections for the GNSS receiver.</p><p id="p-0027" num="0026">The method shown in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref> can repeat after operation <b>20</b> by reverting back to operation <b>12</b>. Over time, each GNSS receiver can update its EPL correction model multiple times by receiving updates of the trained server model over time. The server model can use crowd sourced data from a set of GNSS receivers to train the server model over time. The use of crowd sourced data over time can improve the accuracy of the server model by getting data from many GNSS receivers dispersed over a geographic region. The one or more assistance servers can know the location of the GNSS receivers (based on the received computed position of the GNSS receiver), so training (as described below) can be region specific and the GNSS receiver can receive an updated and trained model that was trained using training data from only the specific region. This can improve the accuracy of the EPL corrections from a region specific trained server model.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIGS. <b>1</b>B and <b>1</b>C</figref> show an example of an embodiment of a GNSS receiver and a system containing the GNSS receiver. This example can be used to perform the methods described herein, such as the method shown in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>, in a system containing a GNSS receiver. The GNSS receiver <b>30</b> in <figref idref="DRAWINGS">FIG. <b>1</b>B</figref> includes a trained model <b>43</b> that can be used to correct pseudorange measurements made through the GNSS receiver's pseudorange measurement system, such as the GNSS receiver's DLL (delay lock loop). The GNSS receiver <b>30</b> in <figref idref="DRAWINGS">FIG. <b>1</b>B</figref> includes a GNSS antenna <b>31</b> (e.g., a linear polarized antenna) that provides received GNSS signals to RF (radio frequency) circuitry in GNSS RF components <b>33</b>; these RF components can filter and amplify the received GNSS signals as in known in the art. The amplified GNSS signals are then digitized in the analog-to-digital (A/D) converter <b>35</b>, and the digitized GNSS signals are stored in sample memory <b>37</b> for processing by the digital correlators and GNSS processor <b>39</b>. The digital correlators include, in one embodiment, a DLL that tracks pseudoranges for each of the received channels of the GNSS signals; this DLL can be a conventional DLL that is known in the art. The DLL produces measured pseudoranges <b>40</b> to the position engine <b>45</b> which computes a navigation solution (e.g., a computed position) based on the measured pseudoranges (as corrected by the EPL corrections from the trained model <b>43</b>). In this example in <figref idref="DRAWINGS">FIG. <b>1</b>B</figref>, the GNSS receiver uses a DLL for a pseudorange measurement system. As is known in the art, a pseudorange measurement system in a GNSS receiver can have one or both of a closed loop system, such as a DLL, and an open loop system such as an open loop estimation algorithm. When both are present in a GNSS receiver, they can be used at different times depending on the state of PRN acquisition in the GNSS receiver. Open loop measurement quality is usually less accurate than a closed tracking loop, but open loop measurements are usually faster, so open loop measurement is typically used for fast (re)acquisition of the PRN code phase and initial internal PRN code phase injection into the closed loop, then the mode is switched from open loop to a closed loop when the closed loop has converged. An open loop measurement algorithm is also continually used when the SNR is too low for a tracking loop to function properly.</p><p id="p-0029" num="0028">The position engine <b>45</b> can be conventional position engine that generates a navigation solution (also referred to as a computed position) such as a position <b>47</b> in latitude, longitude and altitude, although the position engine will use the EPL value for the current measured pseudorange to correct the pseudorange before using the pseudorange in the engine. The DLL (or other pseudorange measurement system) will provide measured pseudoranges for each GNSS signal being estimated by the pseudorange measurement system as is known in the art, and the trained model <b>43</b> can provide EPL correction values based upon the inputs <b>41</b> to the trained model <b>43</b>. Each of these inputs <b>41</b> over time will be based upon the current GNSS signal that produces the current measured pseudorange for the GNSS signal. In one embodiment, the inputs <b>41</b> can include a mutual probability distribution function (pdf) (e.g., plot 151 shown in provisional patent application No. 63/243,028 which was filed on Sep. 10, 2021), the extracted other features (e.g., other features 131 shown in provisional patent application No. 63/243,028, such as one or more of: (1) an elevation of a GNSS SV; (2) a signal to noise ratio (SNR) of a measured pseudorange; (3) a type of antenna used to receive the GNSS signals; (4) a tracking mode of the GNSS receiver; or (5) a tracking loop configuration of the GNSS receiver), the correlation vectors (e.g., a burst of correlation vectors 133 shown in provisional patent application No. 63/243,028) and the extracted features based on the correlation vectors (e.g., relative amplitude of local maximum points in the correlation vectors, the relative delay of the peaks in the correlation vector, the width of the strongest peak in the correlation vector, and the number of strong peaks in the correlation vector). The GNSS processor <b>39</b> can perform operations to create these inputs <b>41</b> (as described in provisional patent application No. 63/243,028) for a given digitized GNSS signal. Generally, the inputs to the model <b>43</b> will be processed during inference time (when the trained model is used) in the same way that the inputs were processed during training of the model. The inputs <b>41</b> can be the same as the extracted features transmitted in operation <b>18</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref> to one or more assistance servers; in other words, these inputs <b>41</b> can be the server training data transmitted to the one or more assistance servers for each computed position used by the one or more servers during training of the server model. The trained model <b>43</b> is the model in the GNSS receiver that is replaced by an updated and trained server model that is received by the GNSS receiver through one or more communication transceivers as described below.</p><p id="p-0030" num="0029">The GNSS receiver <b>30</b> in <figref idref="DRAWINGS">FIG. <b>1</b>B</figref> can be part of a system that includes one or more communication transceivers; an example of such a system is shown in <figref idref="DRAWINGS">FIG. <b>1</b>C</figref>. The GNSS receiver <b>30</b> can be coupled to the rest of the system through one or more buses (e.g., bus <b>69</b>) as is known in the art. The system shown in <figref idref="DRAWINGS">FIG. <b>1</b>C</figref> also includes one or more processors (e.g., one or more processors <b>71</b>) which may be the one or more application processors used in a mobile device such as a smart phone. The system may also include other processors as is known in the art. The system can also include input/output (I/O) devices <b>75</b>, such as touch screens, audio I/O, haptic devices, etc. The system also includes memory <b>73</b> which can include DRAM and non-volatile memory such as flash memory, etc. This memory <b>73</b> can store computer program instructions which cause the system to operation according to one or more embodiments described herein. The system also includes one or more communication transceivers <b>65</b> that may use one or more antennas, such as antenna <b>67</b>. The communication transceiver <b>65</b> can include one or more of: a cellular telephone wireless transceiver, a WiFi transceiver, a Bluetooth transceiver, a WiMax transceiver, and other types of communication transceivers that are known in the art. The system shown in <figref idref="DRAWINGS">FIG. <b>1</b>C</figref> can be a smart phone or a wearable device (e.g., smartwatch or head worn device) or a tablet computer or a portable consumer electronic device or other types of electronic devices. In one embodiment, the system shown in <figref idref="DRAWINGS">FIG. <b>1</b>C</figref> can be integrated into a vehicle such as an automobile to provide navigation for the vehicle; in one embodiment, the vehicle may include the ability for autonomous driving using the navigation provided by the integrated system. The communication transceiver <b>65</b> allows the GNSS receiver to communicate with one or more assistance servers to perform the methods described herein. For example, the GNSS receiver <b>30</b> can cause the transmission of the server training data in operation <b>18</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref> to one or more assistance servers through the communication transceiver <b>65</b>, and the GNSS receiver <b>30</b> can receive the updated and trained server model in operation <b>20</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref> through the communication transceiver <b>65</b>. The communication transceiver <b>65</b> allows the GNSS receiver <b>30</b> operate with the one or more assistance servers through one or more networks as shown in <figref idref="DRAWINGS">FIG. <b>1</b>D</figref>.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>1</b>D</figref> shows an example of a networked system <b>101</b> that includes several assistance server systems <b>109</b> and <b>111</b> and at least two GNSS receivers <b>103</b> and <b>105</b> (each of which can be the same as the system shown in <figref idref="DRAWINGS">FIG. <b>1</b>C</figref>). In one embodiment, the networked system <b>101</b> can include many millions of GNSS receivers (each of which is part of a system as shown in <figref idref="DRAWINGS">FIG. <b>1</b>C</figref>). These GNSS receivers can be dispersed over one or more large geographic regions (e.g., North America, South America, Africa, Europe, Asia, etc.). Each of the GNSS receivers <b>103</b> and <b>105</b> (through their respective communication transceivers) can communicate with the one or more servers <b>109</b> and <b>111</b> through one or more networks <b>107</b> using communication methods that are known in the art. For example, the GNSS receivers <b>103</b> and <b>105</b> can cause the transmission of the server training data in operation <b>18</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref> to one or more assistance servers <b>111</b> through the one or more networks <b>107</b>, and the GNSS receivers <b>103</b> and <b>105</b> can receive the updated and trained server model in operation <b>20</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref> from the one or more assistance servers <b>111</b> through the one or more networks <b>107</b>. Further, the GNSS receivers <b>103</b> and <b>105</b> can cause the transmission of a computed position and associated time of position in operation <b>16</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref> to the one or more assistance servers <b>109</b> through the one or more networks <b>107</b>, and the GNSS receivers <b>103</b> and <b>105</b> can receive the requested EPL corrections (or other NLOS/LOS predictions) in operation <b>16</b> from the one or more assistance servers <b>109</b> through the one or more networks <b>107</b>. The one or more networks <b>107</b> can include one or more cellular telephone networks, one or more wired telephone networks, one or more wired Ethernet networks, one or more optical fiber networks, one or more WiFi networks, the internet, and one or more other networks and communication media known in the art.</p><p id="p-0032" num="0031">The one or more assistance servers <b>109</b> can include a database of 3D building maps or models that represent the size (e.g., height, width and length) and locations of buildings in an environment surrounding a GNSS receiver; such 3D building maps or models are known in the art and can be used with known ray tracing algorithms to calculate EPL corrections for pseudorange measurements for a given position and time of position in the environment. The environment can be a portion of a city or urban region. The provisional patent application No. 63/243,028 which was filed on Sep. 10, 2021 describes an example of an approach that can produce EPL corrections (for a given position and time of position in an environment) from a database of 3D building maps and ray tracing algorithms. The one or more assistance servers <b>109</b> can compute such EPL corrections in response to a request from a GNSS receiver (e.g., GNSS receivers <b>103</b> or <b>105</b>) in an embodiment using operation <b>16</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref> or in response to a request from a server in the one or more assistance servers <b>111</b>. The one or more assistance servers <b>109</b> can, after computing the EPL corrections (for a given position and time of position in an environment), transmit the requested EPL corrections to the GNSS receiver which requested the EPL corrections (in the case of an embodiment that uses operation <b>16</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>) or transmit the requested EPL corrections to an assistance server that is part of the one or more assistance servers <b>111</b>. The requested EPL corrections can be used as a source of truth data when the one or more assistance servers <b>111</b> are training a server model. This training is described further below in conjunction with <figref idref="DRAWINGS">FIGS. <b>2</b>A and <b>2</b>B</figref>.</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> shows an example of a method of operating a training server which can be one of the assistance servers <b>111</b>. In operation <b>151</b>, a training server can receive (from a GNSS receiver that is performing operation <b>18</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>) extracted features that may have been used as inputs to a trained model (at the GNSS receiver); in one embodiment, the extracted features were used by the trained model at the GNSS receiver to derive EPL corrections for use in determining the computed position of the GNSS receiver. These extracted features can include a set of data for the computed position and time of position, and this set of data can include, for example: a mutual pdf; a burst of correlation vectors used in determining the computed position; extracted features from the correlation vectors (e.g., one or more of: (1) relative amplitude of local maximum points in a correlation vector; (2) relative delay of peaks in a correlation vector; (3) a width of a strongest peak in a correlation vector; or (4) a number of strong peaks in a correlation vector); and other features such as: one or more of: (1) an elevation of a GNSS SV; (2) a signal to noise ratio (SNR) of a measured pseudorange; (3) a type of antenna used to receive the GNSS signals; (4) a tracking mode of the GNSS receiver; or (5) a tracking loop configuration of the GNSS receiver. Generally, the same categories of data used at inference time will be used to train a model, and these categories of data will be included in the set of data received in operation <b>151</b> (for each pair of computed position and time of position). Further details about the extracted features that can be received in operation <b>151</b> are provided in U.S. provisional patent application No. 63/243,028 which was filed on Sep. 10, 2021. In one embodiment, the receipt of training data in operation <b>151</b> is the result of the transmission of data in operation <b>18</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>. In operation <b>153</b>, the training server can receive true EPL corrections for each pair of computed position and time of position; in an embodiment based on operation <b>16</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>, the training server receives the true EPL corrections from the GNSS receiver (which had previously obtained them from assistance servers <b>109</b>). In an alternative embodiment, the training server can use the pair of computed position and time of position (received from the GNSS receiver) to request the true EPL corrections from the one or more assistance servers <b>109</b>. Once the input data (e.g., extracted features) is received in operation <b>151</b> and the truth data has been received in operation <b>153</b>, the one or more training servers can train one or more training models in operation <b>155</b>. Operation <b>155</b> will typically involve a large set of training epochs using a large set of training data, such as data from a large set of pairs of computed positions and associated times from multiple GNSS receivers dispersed over one or more geographic regions.</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>2</b>B</figref> shows an example of a system for training a server model <b>203</b> according to one embodiment. In one embodiment, the architecture of the model used at the training server will be the same as the architecture of the model used at the GNSS receiver. In one embodiment, the model can be a set of neural networks such as those described in U.S. provisional patent application No. 63/243,028 which was filed on Sep. 10, 2021. In one embodiment, the set of neural networks can include: (1) a first convolution neural network (CNN) to receive as inputs the mutual pdf data; (2) a second CNN to receive as inputs the correlation vector features; and (3) another neural network to receive the other features. The model <b>203</b> receives, for each pair of computed position and time of position, features <b>201</b>; the data in the features <b>201</b> are the data received in operation <b>151</b> described above. This data in features <b>201</b> can be referred to as training data (to train the server model) and can represent the actual data used as inputs by the GNSS receiver's trained model when it determined the computed position. The server model <b>203</b> produces outputs <b>211</b> in response to the inputs <b>201</b>. These outputs are then processed by back propagation processing <b>207</b>, which in effect compares the true EPL corrections <b>205</b> (received in operation <b>153</b> for the same pair of computed position and time that produced the features <b>201</b>) to the outputs <b>211</b>. The comparison by the back propagation processing <b>207</b> can produce a set of adjust weights <b>209</b> that are back propagated through the set of neural networks in the server model <b>203</b>. The server model can be trained using sets of data from many different computed positions from a GNSS receiver and can be trained using sets of data from many different GNSS receivers dispersed over one or more geographic regions. Hence, the training data for the server model can be referred to as crowd sourced training data because it can come from many different GNSS receivers. The server model before training begins in operation <b>155</b> can either start from the state of the weights of the current trained model at the GNSS receivers or can start from scratch (with initialized weights that have not been previously trained).</p><p id="p-0035" num="0034">The training in operation <b>155</b> can continue over time until a manual or automatic decision is made to stop training in operation <b>157</b>. In one embodiment, operation <b>157</b> determines whether the accuracy or performance of the server trained model sufficiently exceeds the accuracy or performance of the current trained model at the GNSS receivers. The accuracy or performance can be measured by comparing computed positions determined with the current trained model for GNSS receivers at known, predetermined locations to computed positions determined from the trained server model at the same known, predetermined locations. If the accuracy or performance is not sufficient improved, then training can continue in operation <b>155</b>. On the other hand, if the accuracy or performance of the server model is sufficiently better than the current trained model in the GNSS then the trained server model can be transmitted in operation <b>159</b> to each GNSS receiver. This transmission in operation <b>159</b> causes the reception in operation <b>20</b> in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>. After operation <b>159</b>, the method in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> can revert back to operation <b>151</b> to start a new cycle of training a new server model. The reversion back to operation <b>151</b> can be immediate or can wait a period of time (e.g., an intentional delay). The delay in this reversion can allow for updates to the 3D building maps (e.g., updates to account for buildings being demolished and new buildings being erected, corrections to building positions, sizes, etc.). Thus, the delay can be weeks or months.</p><p id="p-0036" num="0035">The training server can decide how much training data to accept and process; this decision can be referred to as throttling of the training data. The training server can throttle by keeping and training on only a small percentage of the received training data; this throttling can occur by lack of bandwidth (such that training data is ignored) or by voluntary discarding of data (while trying to keep the training data at about the same density over each region covered by the training server) or by pruning out bad data (that would bias the training), or redundant data (e.g., no need to keep all data from a static receiver, that will be highly similar every second).</p><p id="p-0037" num="0036">In one embodiment, different training data and different trained models can be used for different geographic regions. For example, one set of training data and server model for Tokyo, Japan (other very dense urban areas) might be used for GNSS receivers in such areas while another set of training data and server model for a predominately rural area (e.g., rural areas in the United Kingdom) can be used for GNSS receivers in the predominately rural area. In this embodiment, multiple different server models are trained with region specific training data transmitted from GNSS receivers in those regions. An example of this embodiment is shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. The system <b>301</b> provides a training service for 2 geographic regions, although this can be expanded to many regions. For example, there may be separate regions for each very dense urban area (e.g., New York, N.Y. [Manhattan], Tokyo Japan, etc.) and other regions for suburban regions, etc. Each region can have its own 3D building map and training server(s). For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the region <b>303</b> uses a 3D building map (and EPL correction processing) server <b>309</b> and a model training server <b>311</b> for GNSS receivers physically located in region <b>303</b> (such as GNSS receivers <b>319</b> and <b>321</b>, each of which can be similar to the system shown in <figref idref="DRAWINGS">FIG. <b>1</b>C</figref>). Thus, training data from GNSS receivers <b>319</b> and <b>321</b> is transmitted to training server <b>311</b> to train the server model that is specific to region <b>303</b>, and the true EPL corrections are obtained from the server <b>309</b> for region <b>303</b> so that the training server <b>311</b> can train a server model that is specific to region <b>303</b>; the updated and trained server model created by training server <b>311</b> is downloaded to GNSS receivers in region <b>303</b> (but not GNSS receivers in region <b>305</b>). Training data from GNSS receivers <b>323</b> and <b>325</b> is transmitted to training server <b>317</b> to train the server model that is specific to region <b>305</b>, and the true EPL corrections are obtained from the server <b>315</b> for region <b>305</b> so that the training server <b>317</b> can train a server model that is specific to region <b>305</b>; the updated and trained server model created by training server <b>317</b> is downloaded to GNSS receivers in region <b>305</b> (but not GNSS receivers in region <b>303</b>). If a GNSS receiver migrates to region <b>303</b> from another region, it can request the latest trained server model from training server <b>311</b> (and can discard or discontinue use of its prior trained model for another region). Region management server <b>313</b> may be used to facilitate this change in the model in a GNSS receiver when the GNSS receiver moves from one region to another region (e.g., by directing the GNSS receiver to the appropriate URL for the new region). The various components of the system <b>301</b> can be coupled for communication through one or more networks <b>307</b>A and <b>307</b>B. The region management server <b>313</b> may also be used to direct the training data to the appropriate training server based on the location of the GNSS receiver that provided the training data. Each of the GNSS receivers <b>319</b>, <b>321</b>, <b>323</b>, and <b>325</b> can perform the method shown in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref> while in their respective region, and each of the server systems in <figref idref="DRAWINGS">FIG. <b>3</b></figref> can perform their respective operations described above for their respective regions. It will be appreciated that the different server systems may be consolidated such that a set of servers provide assistance services to multiple regions concurrently.</p><p id="p-0038" num="0037">The methods described herein can be extended to the prediction of the satellite Tracking Biases from the measured sampled correlation vectors. Satellite Tracking Bias can be defined as the difference between LOS Channel Impulse Response (CIR) peak position and the tracking point of the tracking loop in the correlation delay domain. This tracking point is of course incorrect in presence of Multipath (but could be marginally improved using classical signal processing related Multipath Mitigation techniques). In this embodiment, the embedded ML engine predicts the Tracking Biases from the shape of the correlation vector over a burst (short time sequence of complex correlation vectors sampled in the correlation delay domain). The information from the assistance service is now a predicted CIR that can be used for training a correlation to Tracking Bias machine learning engine or model. The methods and systems described herein can also be extended to provide updated models used to predict range rate errors based upon the methods and systems described in U.S. provisional patent application No. 63/285,823, which was filed Dec. 3, 2021 by Applicant oneNav, Inc. of Palo Alto, Calif.</p><p id="p-0039" num="0038">While this description has focused on GNSS SVs and GNSS signals from GNSS SVs, the embodiments described herein can also be used with GNSS-like signals from terrestrial (e.g., ground based) transmitters of GNSS-like signals, such as pseudolites (&#x201c;pseudo-satellite&#x201d;). Thus, the embodiments described herein can be used in systems that use such terrestrial transmitters and receivers designed to receive and process GNSS-like signals from such terrestrial transmitters. The phrase &#x201c;GNSS signals&#x201d; will be understood to include such GNSS-like signals, and the phrase &#x201c;GNSS SVs&#x201d; will be understood to include such terrestrial transmitters.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method of operating a GNSS receiver, the method comprising:<claim-text>receiving GNSS signals from GNSS satellites (SVs) at a first time and determining one or more pseudoranges to one or more GNSS SVs;</claim-text><claim-text>extracting, from the received GNSS signals, features for use as inputs for a first trained model that provides extra path length (EPL) corrections;</claim-text><claim-text>computing an output from the first trained model based on the extracted features;</claim-text><claim-text>computing a first position from the received GNSS signals, the first position based on the output from the first trained model and the one or more pseudoranges;</claim-text><claim-text>transmitting, to one or more first servers, the extracted features for use in obtaining an updated and trained model based on the extracted features, the computed first position and its associated first time;</claim-text><claim-text>receiving data representing the updated and trained model;</claim-text><claim-text>storing the data representing the updated and trained model as a second trained model for use in providing EPL corrections when computing positions for the GNSS receiver.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the method further comprises:<claim-text>requesting a set of EPL corrections based on the first position and the first time.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method as in <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the method further comprises:<claim-text>receiving, in response to the requesting, the set of EPL corrections based on the first position and the first time.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method as in <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the method further comprises:<claim-text>transmitting the set of EPL corrections for use in obtaining the updated and trained model.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method as in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the GNSS receiver discontinues use of the first trained model after storing the second trained model.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the method further comprises:<claim-text>receiving a further updated model based on a region in which the GNSS receiver operates, the further updated model trained for the region.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the one or more pseudoranges is corrected by subtracting a corresponding EPL correction from a measured pseudorange, and wherein the measured pseudorange is measured in a delay locked loop in the GNSS receiver and wherein the one or more EPL corrections are derived based on outputs at the delay locked loop (DLL) which is a pseudorandom noise (PRN) tracking loop to track pseudoranges in the GNSS receiver and wherein the set of one or more EPL corrections correct for multipath reflections of GNSS signals in an urban canyon that surrounds the GNSS receiver.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method as in <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the features comprise: (1) correlation vector features from a set of successive correlation vectors from correlators, in the GNSS receiver, for GNSS signals from a GNSS SV; (2) a mutual probability distribution function (pdf) data of the relative delay and relative amplitude from each of the correlators; (3) other features relating to the GNSS receiver or GNSS SV.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method as in <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the correlation vector features comprise one or more of: (1) relative amplitude of local maximum points in a correlation vector; (2) relative delay of peaks in a correlation vector; (3) a width of a strongest peak in a correlation vector; or (4) a number of strong peaks in a correlation vector.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method as in <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the other features comprise one or more of: (1) an elevation of a GNSS SV; (2) a signal to noise ratio (SNR) of a measured pseudorange; (3) a type of antenna used to receive the GNSS signals; (4) a tracking mode of the GNSS receiver; or (5) a tracking loop configuration of the GNSS receiver.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A data processing system that comprises a GNSS receiver, the data processing system comprising:<claim-text>an antenna to receive RF GNSS signals;</claim-text><claim-text>an RF receiving section coupled to the antenna;</claim-text><claim-text>an analog to digital (A/D) converter coupled to the RF receiving section to digitize received GNSS signals;</claim-text><claim-text>a GNSS processing system coupled to the A/D converter, the GNSS processing system to determine one or more pseudoranges to one or more GNSS SVs and to extract, from the received GNSS signals, features for use as inputs for a first trained model that provides extra path length (EPL) corrections; and the GNSS processing system to compute an output from the first trained model based on the extracted features; and the GNSS processing system to compute a first position from the received GNSS signals, the first position based on the output from the first trained model and the one or more pseudoranges;<claim-text>a set of one or more communication transceivers coupled to the GNSS processing system, the set of one or more communication transceivers to transmit, to one or more first servers, the extracted features for use in obtaining an updated and trained model based on the extracted features, the computed first position and its associated first time; and the set of one or more communication transceivers to receive data representing the updated and trained model; and the GNSS processing system to store the data representing the updated and trained model as a second trained model for use in providing EPL corrections when computing positions for the GNSS receiver.</claim-text></claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The data processing system as in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the set of one or more communication transceivers request a set of EPL corrections based on the first position and the first time, and the set of one or more communication transceivers receive, in response to the request, the set of EPL corrections based on the first position and the first time; and<claim-text>the set of one or more communication transceivers transmit the set of EPL corrections for use in obtaining the updated and trained model.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. A non-transitory machine readable medium storing executable program instructions which when executed by a data processing system cause the data processing system to perform a method, the method comprising:<claim-text>receiving GNSS signals from GNSS satellites (SVs) at a first time and determining one or more pseudoranges to one or more GNSS SVs;</claim-text><claim-text>extracting, from the received GNSS signals, features for use as inputs for a first trained model that provides extra path length (EPL) corrections;</claim-text><claim-text>computing an output from the first trained model based on the extracted features;</claim-text><claim-text>computing a first position from the received GNSS signals, the first position based on the output from the first trained model and the one or more pseudoranges;</claim-text><claim-text>transmitting, to one or more first servers, the extracted features for use in obtaining an updated and trained model based on the extracted features, the computed first position and its associated first time;</claim-text><claim-text>receiving data representing the updated and trained model;</claim-text><claim-text>storing the data representing the updated and trained model as a second trained model for use in providing EPL corrections when computing positions for the GNSS receiver.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. A method of operating one or more servers that provide an assistance service to one or more GNSS receivers, the method comprising:<claim-text>receiving, from a GNSS receiver, a set of extracted features used as inputs for a first trained model that provides extra path length (EPL) corrections in the GNSS receiver, the set of extracted features derived from GNSS signals received at the GNSS receiver and the GNSS receiver having computed a first position from the GNSS signals received at a first time by the GNSS receiver;</claim-text><claim-text>receiving a set of EPL corrections derived from a 3D building map for the first position at the first time;</claim-text><claim-text>training a server model using the set of EPL corrections and the set of extracted features to produce an updated trained model;</claim-text><claim-text>transmitting data representing the updated trained model to the GNSS receiver.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method as in <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the set of EPL corrections is received from the GNSS receiver.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method as in <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the method further comprises:<claim-text>transmitting to the GNSS receiver a further updated model based on a region in which the GNSS receiver operates, the further updated model trained for the region.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method as in <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the method further comprises:<claim-text>receiving, from the GNSS receiver, the first position and the first time;</claim-text><claim-text>requesting the set of EPL corrections from the 3D building map based on the received first position and the first time.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method as in <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the set of extracted features comprise: (1) correlation vector features from a set of successive correlation vectors from correlators, in the GNSS receiver, for GNSS signals from a GNSS SV; (2) a mutual probability distribution function (pdf) data of the relative delay and relative amplitude from each of the correlators; (3) other features relating to the GNSS receiver or a GNSS SV.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method as in <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the correlation vector features comprise one or more of: (1) relative amplitude of local maximum points in a correlation vector; (2) relative delay of peaks in a correlation vector; (3) a width of a strongest peak in a correlation vector; or (4) a number of strong peaks in a correlation vector.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method as in <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the other features comprise one or more of: (1) an elevation of a GNSS SV; (2) a signal to noise ratio (SNR) of a measured pseudorange; (3) a type of antenna used to receive the GNSS signals; (4) a tracking mode of the GNSS receiver; or (5) a tracking loop configuration of the GNSS receiver.</claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. A set of one or more non-transitory machine readable media storing executable program instructions which when executed by a set of one or more server systems cause the one or more server systems to perform a method, the method comprising:<claim-text>receiving, from a GNSS receiver, a set of extracted features used as inputs for a first trained model that provides extra path length (EPL) corrections in the GNSS receiver, the set of extracted features derived from GNSS signals received at the GNSS receiver and the GNSS receiver having computed a first position from the GNSS signals received at a first time by the GNSS receiver;</claim-text><claim-text>receiving a set of EPL corrections derived from a 3D building map for the first position at the first time;</claim-text><claim-text>training a server model using the set of EPL corrections and the set of extracted features to produce an updated trained model;</claim-text><claim-text>transmitting data representing the updated trained model to the GNSS receiver.</claim-text></claim-text></claim><claim id="CLM-00022" num="00022"><claim-text><b>22</b>. The set of one or more media as in <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the set of EPL corrections is received from the GNSS receiver.</claim-text></claim><claim id="CLM-00023" num="00023"><claim-text><b>23</b>. The set of one or more media as in <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the method further comprises:<claim-text>transmitting to the GNSS receiver a further updated model based on a region in which the GNSS receiver operates, the further updated model trained for the region.</claim-text></claim-text></claim><claim id="CLM-00024" num="00024"><claim-text><b>24</b>. The set of one or more media as in <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the method further comprises:<claim-text>receiving, from the GNSS receiver, the first position and the first time;</claim-text><claim-text>requesting the set of EPL corrections from the 3D building map based on the received first position and the first time.</claim-text></claim-text></claim><claim id="CLM-00025" num="00025"><claim-text><b>25</b>. The set of one or more media as in <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the set of extracted features comprise: (1) correlation vector features from a set of successive correlation vectors from correlators, in the GNSS receiver, for GNSS signals from a GNSS SV; (2) a mutual probability distribution function (pdf) data of the relative delay and relative amplitude from each of the correlators; (3) other features relating to the GNSS receiver or a GNSS SV.</claim-text></claim><claim id="CLM-00026" num="00026"><claim-text><b>26</b>. The set of one or more media as in <claim-ref idref="CLM-00025">claim 25</claim-ref>, wherein the correlation vector features comprise one or more of: (1) relative amplitude of local maximum points in a correlation vector; (2) relative delay of peaks in a correlation vector; (3) a width of a strongest peak in a correlation vector; or (4) a number of strong peaks in a correlation vector.</claim-text></claim><claim id="CLM-00027" num="00027"><claim-text><b>27</b>. The set of one or more media as in <claim-ref idref="CLM-00026">claim 26</claim-ref>, wherein the other features comprise one or more of: (1) an elevation of a GNSS SV; (2) a signal to noise ratio (SNR) of a measured pseudorange; (3) a type of antenna used to receive the GNSS signals; (4) a tracking mode of the GNSS receiver; or (5) a tracking loop configuration of the GNSS receiver.</claim-text></claim></claims></us-patent-application>