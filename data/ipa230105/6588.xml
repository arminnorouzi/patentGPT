<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006589A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006589</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17780408</doc-number><date>20201021</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>DE</country><doc-number>10 2019 218 533.9</doc-number><date>20191129</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>P</subclass><main-group>23</main-group><subgroup>04</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>P</subclass><main-group>23</main-group><subgroup>14</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>P</subclass><main-group>23</main-group><subgroup>04</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>P</subclass><main-group>23</main-group><subgroup>14</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">METHOD AND DEVICE FOR CALIBRATING A CONTROLLER OF AN ELECTRIC MACHINE</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="obligated-assignee"><addressbook><orgname>Robert Bosch GmbH</orgname><address><city>Stuttgart</city><country>DE</country></address></addressbook><residence><country>DE</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Hirsch</last-name><first-name>Michele</first-name><address><city>Esslingen</city><country>DE</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Paulus</last-name><first-name>Sebastian</first-name><address><city>Esslingen Am Neckar</city><country>DE</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Lee</last-name><first-name>Wei-Lung</first-name><address><city>Bietigheim-Bissingen</city><country>DE</country></address></addressbook></inventor></inventors></us-parties><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/EP2020/079582</doc-number><date>20201021</date></document-id><us-371c12-date><date>20220526</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">The invention relates to a method (<b>400</b>) for calibrating a controller of an electric machine (<b>120</b>). The method comprises the following steps: specifying (<b>410</b>) a first signal (S_<b>1</b>) for generating a sinusoidal phase current for energising a winding of an electric machine (<b>120</b>); superposing (<b>420</b>) the first signal (S_<b>1</b>) with a test signal (S_Test_i) in order to generate a harmonic oscillation with a predetermined excitation amplitude and/or phase position relative to the phase current, which harmonic oscillation superposes the phase current; detecting (<b>430</b>) a response signal (S_Antw_i), resulting from the superposition of the phase current and the harmonic oscillation, by means of a sensor (<b>130</b>); determining (<b>450</b>) a calibrated signal (S_kal) for generating a harmonic oscillation with a predetermined excitation amplitude and a phase position relative to the phase current on the basis of a determined minimum of a response plane (A_Antw); operating (<b>460</b>) the controller (<b>110</b>) of the electric machine (<b>120</b>) on the basis of the determined minimum</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="96.10mm" wi="146.64mm" file="US20230006589A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="218.36mm" wi="148.67mm" file="US20230006589A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="218.61mm" wi="107.95mm" orientation="landscape" file="US20230006589A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="164.59mm" wi="133.10mm" file="US20230006589A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="209.04mm" wi="72.22mm" file="US20230006589A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading><p id="p-0002" num="0001">The invention relates to a method and a device for calibrating a controller of an electric machine. Furthermore, the invention relates to an electrical drive system having a corresponding device and a vehicle having an electrical drive system as well as a computer program and a computer-readable storage medium.</p><p id="p-0003" num="0002">Electrical rotary field machines, in particular permanent excitation synchronous machines (PSM) having trenched magnets, are activated to generate a desired torque by means of a suitable combination of direct torque and reluctance torque. In field-oriented control, the direct torque and the reluctance torque are selected by means of corresponding selection of the d-current and q-current operating points (id, iq) in the rotor-fixed coordinate system. In addition to emitting a uniform average torque, the electric machines also generate harmonic overtones of the torque during operation, which form, for example, due to non-ideal sinusoidal magnetic fields, turn arrangements, grooves, tooth shape, saturation effects, and/or other effects.</p><p id="p-0004" num="0003">Such effects result in force waves between rotor and stator, which act in characteristic orders as tangential and radial tooth forces on the stator teeth, and from there are perceivable due to the mechanical transmission behavior of the electric machine as oscillations in the machine, the machine housing, and coupled-on elements and thus as structure-borne and airborne sound or surface oscillations. Such oscillations can be reduced or amplified with the aid of additional deliberately applied current harmonics, having matching orders, to the actual specified phase current. Reading out parameters for these current harmonics to be applied, for example, from a characteristic map as a function of, for example, the torque to be set or an operating point and superimposing corresponding current harmonics during the operation of the electric machine with the actual phase current is known. If a sufficiently accurate modeled description of the relevant effects of the electric machine is not available, for example, due to exemplar tolerances, etc., from which the parameters can be ascertained by simulation, the parameters have to be determined in another way. A large amount of application or calibration effort on the test bench is necessary to determine the parameters for these current harmonics. For this purpose, preferably, for example, surface accelerations/velocities, sound emission in the surroundings of the electric machine, or torque ripples or oscillations of the torque are preferably ascertained. By means of suitable measurement signals, to determine the parameters of the current harmonics to be applied, for example, preferably a minimum for a single variable system or an optimum for a multivariable system having competing goals is iteratively ascertained. If a torque sensor is available in the drive, a calibration is also possible on the basis of this sensor signal, wherein the sensitivity of the sensor has to be correspondingly high to have the torque ripple, which is low in comparison to the useful torque, accessible metrologically. A torque sensor is costly and is therefore not provided as a standard feature in many applications.</p><p id="p-0005" num="0004">There is therefore a need for alternative methods and devices for calibrating a controller of an electric machine.</p><heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading><p id="p-0006" num="0005">A method is provided for calibrating a controller of an electric machine, having the following steps:</p><p id="p-0007" num="0006">Specifying a first signal to generate a sinusoidal phase current to energize at least one winding of an electric machine.</p><p id="p-0008" num="0007">Superimposing the first signal with a test signal to generate at least one harmonic oscillation having a predetermined excitation amplitude and/or phase position relative to the phase current, which is superimposed on the phase current.</p><p id="p-0009" num="0008">Detecting a response signal resulting from the superposition of the phase current and the harmonic oscillation, in particular its response amplitude, by means of a sensor.</p><p id="p-0010" num="0009">Repeating the two preceding steps &#x201c;superimposing&#x201d; and &#x201c;detecting&#x201d; multiple times using different test signals to generate further harmonic oscillations having specifiable excitation amplitudes and/or phase positions relative to the phase current, which are superimposed on the phase current.</p><p id="p-0011" num="0010">Ascertaining a minimum of a response area, which results as a function of the resulting response signals of the harmonic oscillations generated by means of the test signals over a preferably specifiable excitation amplitude range and phase position range.</p><p id="p-0012" num="0011">Determining a calibrated signal to generate a harmonic oscillation at a predetermined excitation amplitude and a phase position relative to the phase current as a function of the ascertained minimum, for which preferably a response signal having minimal response amplitude results.</p><p id="p-0013" num="0012">Operating the controller of the electric machine; wherein the first signal is specified to generate a sinusoidal phase current to energize a winding of the electric machine and the determined calibrated signal is superimposed to generate the harmonic oscillation.</p><p id="p-0014" num="0013">The operation of electric machines by means of field-oriented controllers is known. The alternating variables of the phase currents are each transferred into a coordinate system rotating at the frequency of the alternating variables. Zero-frequency variables, to which all typical methods of control technology can be applied, then results within the rotating coordinate system in stationary operation of the electric machine from the alternating variables. Due to the multiphase phase-offset alternating currents applied to the stator, a rotating magnetic field results during operation of the electric machine, preferably described as a rotating chained magnetic flux in the stator-fixed coordinate system or as a chronologically constant chained flux in the rotating rotor-fixed (d/q) coordinate system or field-oriented system.</p><p id="p-0015" num="0014">The controller of the electrical machine specifies, preferably as a function of a specifiable torque value, a signal to generate a sinusoidal phase current. The sinusoidal phase current preferably flows through the stator and thus corresponds to the stator current. Within the rotating coordinate system, the d/q coordinate system or field-oriented system, which rotates synchronously with the rotor flux, or permanent magnet flux in a PSM, and the d axis of which points in the direction of the rotor flux, a stator current is represented as a stator current pointer or stator current vector, which is characterized via its length and its direction. This current pointer rotates synchronously with the rotating stator flux or rotor flux of the electric machine. In the d/q coordinate system, the current pointer can be represented in accordance with its length and its direction by means of two components Id and Iq perpendicular to one another, which are zero-frequency variables in the stationary case. A test signal is superimposed on the first signal for generating the sinusoidal phase current to generate a harmonic oscillation having a predetermined amplitude and/or phase position relative to the sinusoidal phase current, which is superimposed on the sinusoidal phase current. The predetermined amplitude thus generated is called the excitation amplitude. The harmonic oscillation is preferably a harmonic overtone of a specified order relative to the sinusoidal phase current, which is superimposed on the sinusoidal phase current. This superposition results in a changed oscillation of the emitted torque and/or the forces acting between rotor and stator of a connected electric machine. This oscillation in the torque or the forces results, due to the mechanical coupling of the electric machine with the housing, in a mechanical and/or acoustic oscillation of the housing and components connected thereto. The overall transmission path leads from a superimposed harmonic current oscillation via oscillations in electromagnetic forces and torques to a mechanical oscillation or noise excitation of a connected electric machine and/or the power electronics unit, which is measurable using a suitable sensor, for example acoustically. This oscillation resulting from the superposition of the phase current and the harmonic oscillation is detected as a response signal by means of a sensor. Preferably, a harmonic oscillation of the torque is detected as the response signal.</p><p id="p-0016" num="0015">This superposition is repeated multiple times, preferably at least three times, using different, preferably specified test signals to generate further harmonic oscillations having specifiable excitation amplitudes and/or phase positions relative to the phase current. A first test signal S_Test_<b>1</b> is preferably specified to generate a harmonic oscillation having a predetermined excitation amplitude S_Test_<b>1</b>_A=0 and an arbitrary phase position relative to the phase current. Furthermore, preferably three further test signals S_Test_<b>2</b>, S_Test_<b>3</b>, S_Test_<b>4</b> are specified to generate a harmonic oscillation having a common fixed predetermined excitation amplitude S_Test_<b>2</b>, <b>3</b>, <b>4</b>_A&#x3e;0 and uniform phase position distributed over 360&#xb0; relative to the phase current, e.g., 0, 120&#xb0;, 240&#xb0; or 60&#xb0;, 180&#xb0;, 300&#xb0;. By means of the corresponding at least four different detected response signals, a characteristic, unique, multiple curved response area results. To generate further support points of the response area, preferably further test signals can be specified to generate further harmonic oscillations having specifiable and/or different excitation amplitudes and/or phase positions relative to the phase current. As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the response area resulting from the response signals, in particular its amplitudes or response amplitudes, has a characteristic shape/topology upon the observation over various excitation amplitudes of the test signals and their phase positions. The response area preferably extends over the phase positions 0 to 360&#xb0; and the excitation amplitudes of the test signals in negative and/or positive dimension. The response area contains, in a representation over the phase positions 0 to 360&#xb0; and the positive and negative excitation amplitudes, two minima, once in the region of the excitation amplitude&#x3e;0 and once in the region of the excitation amplitudes&#x3c;0 of the harmonic oscillations generated by means of the test signals. The first minimum is characterized via a first minimum phase position and a positive first minimum amplitude. The second minimum is characterized via a second minimum phase position and a negative second minimum amplitude. The first minimum phase position is shifted 180&#xb0; in relation to the second minimum phase position.</p><p id="p-0017" num="0016">A superposition of the first signal with a second signal, preferably a test signal or a calibrated signal, to generate a harmonic oscillation having a predetermined excitation amplitude and a phase position, relative to the phase current, which correspond to an excitation amplitude and a phase position of an ascertained minimum, thus having a first or second minimum phase position and a corresponding first or second minimum amplitude, causes minimization of the mechanical oscillations or noise excitations generated on the part of a connected drive system, comprising a connected electric machine, power electronics unit, and/or drivetrain.</p><p id="p-0018" num="0017">The topology of the response area maintains its characteristic independently of whether the unknown harmonic oscillation is directly taken into consideration or the effect on a measurable variable is observed after the action of a linear or approximately linear transmission path.</p><p id="p-0019" num="0018">In addition to other mathematical methods for ascertaining the location of the minima of such a response area as a function of ascertained response signals, preferably the following procedure is used:</p><p id="p-0020" num="0019">The curve of the response amplitudes of the resulting response signals as a function of test signals to generate harmonic oscillations having a common fixed predetermined excitation amplitude&#x3e;&#x3e;0 varies for the range having excitation amplitudes&#x3e;0 sinusoidally over its phase position relative to the phase current.</p><p id="p-0021" num="0020">The characteristic of the response area results, for the range having excitation amplitudes&#x3c;0 for the curve of the response amplitudes of the resulting response signals as a function of test signals for generating harmonic oscillations having the inverted or negative common fixed predetermined excitation amplitude, in a sinusoidal curve having 180&#xb0; phase shift over its phase position relative to the phase current. The location of the high and low points of these curves correspond here to the location of the two minima of the response area with respect to the phase position relative to the phase current. A further property of the response area is that the (positive) gradient of the response area in negative and positive direction is approximately constant along increasing absolute values of the excitation amplitudes of the harmonic oscillations generated by means of the test signals.</p><p id="p-0022" num="0021">A first step for ascertaining the location of the minima uses the response signals S_Antw_<b>2</b>,<b>3</b>,<b>4</b>, which result from the test signals for generating harmonic oscillations having a common fixed predetermined excitation amplitude&#x3e;&#x3e;0, to ascertain the Fourier coefficients for the 0 and 1 order of the behavior of the response area for the associated excitation amplitude. The minimum and the maximum, preferably their response amplitude and phase position, of the sinusoidal curve of the response amplitudes are ascertained from the Fourier coefficients. This is preferably carried out for the range having excitation amplitudes&#x3e;0. In a second step, the further property of the response area is used that the absolute value of the gradient of the response area in the negative and positive direction is approximately constant along increasing absolute values of the excitation amplitudes&#x3e;&#x3e;0 to be generated by means of the test signals. The associated slope for the range having excitation amplitudes&#x3e;0 is ascertained, for example, from the level of the response amplitude of the response signal S_Antw_<b>1</b>, which results as a function of the first test signal, and the ascertained level of the maximum of the response amplitude of the sinusoidal curve, at the phase position of the ascertained maximum of the sinusoidal curve. The value or the level of the response signal or the response amplitude, which results from the first test signal for generating a harmonic oscillation at the predetermined excitation amplitude S_Test_<b>1</b>_A=0, is constant over the phase position from 0 to 360&#xb0;, since the superposition of the first signal with a test signal for generating a harmonic oscillation at the predetermined excitation amplitude=0, independently of the phase position to be generated by means of the test signal, has no influence on the response amplitude generated by means of the first signal. With the aid of the slope thus ascertained and, for example, the minimum of the sinusoidal curve in the range of the excitation amplitudes&#x3c;0 and the maximum of the sinusoidal curve in the range of the excitation amplitudes&#x3e;0, 2 straight lines may be described. A first straight line G<b>1</b> has the ascertained slope slope and goes at the phase position of the ascertained maximum of the sinusoidal curve through the point of the level of the response amplitude, which results from the first test signal, and through the point of the level of the maximum of the sinusoidal curve which results from the test signals for generating harmonic oscillations at a common fixed predetermined excitation amplitude&#x3e;&#x3e;0. A second straight line G<b>2</b> has the negative ascertained slope-slope and goes at the phase position of the ascertained maximum of the sinusoidal curve through the point of the level of the minimum of the sinusoidal curve which results for the range having excitation amplitudes&#x3c;0 of the response area. Two further straight lines G<b>1</b>&#x2032; and G<b>2</b>&#x2032; may preferably be constructed, the phase position of which is shifted 180&#xb0; in relation to the straight lines G<b>1</b> and G<b>2</b>, wherein G<b>1</b>&#x2032; intersects the point of the ascertained level of the minimum of the response amplitude of the sinusoidal curve at the phase position of the ascertained minimum of the sinusoidal curve for the range having excitation amplitudes&#x3e;0. The two straight lines G<b>1</b> and G<b>2</b> intersect in a first minimum, the position of which is described by means of the excitation amplitude and the phase position with respect to the response area. For the first minimum, a first minimum phase position and, as an excitation amplitude, a first (negative) minimum amplitude results. The two straight lines G<b>1</b>&#x2032; and G<b>2</b>&#x2032; intersect in a second minimum, the position of which is described by means of the excitation amplitude and the phase position with respect to the response area. For the second minimum, a second minimum phase position and, as the excitation amplitude, a second (positive) minimum amplitude results. The first minimum phase position is shifted 180&#xb0; in relation to the second minimum phase position. The absolute value of the first minimum amplitude corresponds to the absolute value of the second minimum amplitude, wherein the sign of one minimum amplitude is negative and the sign of the other minimum amplitude is positive.</p><p id="p-0023" num="0022">With the aid of the parameters thus ascertained of minimum amplitude and minimum phase position of the minima of the response area, on the one hand, parameters can be specified for a calibrated signal for generating a harmonic oscillation using the parameters minimum amplitude as the excitation amplitude and minimum phase position as the phase position, which results in a minimization of the mechanical oscillations upon a superposition with the first signal.</p><p id="p-0024" num="0023">On the other hand, the unique response area can be constructed on the basis of the slope and minima ascertained from the response amplitudes of the test signals. Parameters for a harmonic oscillation to be generated by means of the calibrated signal can thus be read out and specified from the uniquely resulting response area, which, upon a superposition with the first signal, causes a corresponding response signal or response amplitude ascertained at a point of the response area or correspondingly causes a mechanical oscillation and thus a sound or a noise. Specifiable operating points are thus deliberately settable as a function of the response area, in that calibrated signals are specified to generate a harmonic oscillation having the parameters excitation amplitude and phase position of a corresponding point of the response area.</p><p id="p-0025" num="0024">To determine a calibrated signal to generate a harmonic oscillation having the parameters excitation amplitude and phase position, the parameters for the excitation amplitude and phase position to be generated are specified as a function of one of the determined minima of the resulting response area. The parameters minimum amplitude and minimum phase position of this minimum are preferably taken over. Upon superposition of the first signal for generating the sinusoidal phase current and the preferred calibrated signal, the generated oscillation of the torque is minimal. Subsequently, the controller of the electric machine is operated using a superposition of the first signal and the calibrated signal to generate a sinusoidal phase current to energize a winding of the electric machine and to generate the harmonic oscillation.</p><p id="p-0026" num="0025">A method is advantageously provided, using which a controller of an electric machine is calibrated by means of a previously defined number of harmonic excitations or test signals. From the correlation of the detected response signals, a specifiable optimum of the oscillations of the torque and/or the forces acting between rotor and stator is constructed, preferably by a forward calculation. The metrological (time) expenditure and the computing effort is known before the calibration and can be planned in accordingly, for example, for operating states having high external noise and thus masking of interfering noises for a driver of an electrically driven vehicle or an operator of a connected electric machine during the calibration. The repeated measurements, the detection of the different response signals, can run independently of one another over time and can thus be carried out with interruptions, since direct feedback is not used. The expected influence on the oscillations of the torque, forces between stator and rotor, and/or oscillations in the voltage curve of the DC side, from the previously defined number of harmonic excitations or test signals on the drive, can be estimated beforehand, so that, for example, operating points favorable for the method can be selected upon use in a vehicle. Oscillations in the drivetrain or vehicle electrical system oscillations during the method are preferably minimized. The method is preferably provided for an integrated electrical axle, consisting of the rotary field machine and a power electronics unit which is mechanically attached to the machine, preferably mechanically strongly or fixedly coupled, or integrated. The method enables the method to be carried out for each individual electric machine. It can thus be carried out both at the end of the production line and/or during the lifetime of the electrical drive as desired, also during a regular driving mode. A drive component (for example, an e-axle) preferably comprises the sensor and the method. An option is provided to have the method run during a startup, a check at the belt end, or in the driving mode. The calibration parameters can thus be determined and readjusted or relearned specifically by exemplar, as a function of temperature, and/or as a function of aging. A method is provided which provides a self-learning/self-calibrating controller for an electric drive. A self-calibration for a minimized oscillation of the torque is enabled, which runs independently of a test bench and external measurement sensors.</p><p id="p-0027" num="0026">In another embodiment of the invention, the method comprises reading in an operating point of the electric machine, an inverter, and/or a battery and carrying out the method as a function of the detected operating point.</p><p id="p-0028" num="0027">A method is provided which enables an operating point of the electric machine, an inverter, and/or a battery to be taken into consideration. Preferably, an operating point of a driven transmission or the drivetrain is taken into consideration. An operating point of the electric machine, the inverter, the battery, the driven transmission, or the drivetrain can be, for example, a requested torque, a speed, a current, a voltage, a temperature, or an age of the respective components. Specifiable test signals adapted to the operating point can be superimposed on the first signals as a function of the operating point.</p><p id="p-0029" num="0028">A method is advantageously provided which enables an operating point of the electric machine to be taken into consideration.</p><p id="p-0030" num="0029">Furthermore, the invention relates to a computer program which comprises commands which, upon execution by a computer, cause it to carry out the steps of the above-described method.</p><p id="p-0031" num="0030">Furthermore, the invention relates to a computer-readable storage medium, comprising commands which, upon execution by a computer, cause it to carry out the steps of the above-described method.</p><p id="p-0032" num="0031">Furthermore, the invention relates to a device for calibrating a controller of an electric machine. The device comprises a sensor, preferably a mechanical sensor. Furthermore, the device comprises a circuit carrier, wherein the circuit carrier has a test signal generator and a computing unit. The device is configured to carry out the steps of the described method.</p><p id="p-0033" num="0032">Alternatively or additionally, a current or voltage meter can also be used, which is arranged, for example, on the DC voltage side of an inverter connected to the electric machine. This meter detects resulting oscillations in the current/voltage as the resulting response signal. The oscillations or voltage ripple can be reduced by means of the method.</p><p id="p-0034" num="0033">A device for calibrating a controller of an electric machine is advantageously provided. This device comprises a sensor, preferably a mechanical sensor, for detecting the response signal resulting from the superposition of the first signal and the test signal. The device furthermore comprises a test signal generator for specifying the test signal and a computing unit for carrying out the described method.</p><p id="p-0035" num="0034">In another embodiment of the invention, the sensor is connected mechanically fixedly or essentially rigidly to the electric machine. Alternatively, the sensor is fixedly attached to the circuit carrier and the circuit carrier is fixedly integrated on or in the electric machine.</p><p id="p-0036" num="0035">For a high-resolution and undisturbed detection of the response signal, a connection to the electric machine which is mechanically fixed or via a circuit carrier, which is installed on or in the electric machine, is provided. Alternatively, of course, it can also be carried out using a sensor outside the device or power electronics unit, for example, a microphone at or adjacent to the electric machine or also by means of a structure-borne sound sensor, for example, embodied as an acceleration sensor installed on the surface, preferably of the electric machine or a control unit or inverter.</p><p id="p-0037" num="0036">A position for fastening the sensor for a good signal transmission is advantageously provided.</p><p id="p-0038" num="0037">In another embodiment of the invention, the mechanical sensor is a microphone, an acceleration sensor or a structure-borne sound sensor or a speed sensor, a torque sensor, or a torque measuring shaft.</p><p id="p-0039" num="0038">Sensors are advantageously provided which are provided to detect the response signal which results from the oscillation of the torque or force oscillations between rotor and stator. The oscillations of the torque or the forces can be detected acoustically, by means of acceleration measurement, preferably on a mechanically fixed unit with the electric machine, or by means of structure-borne sound. A speed change of the electric machine also results from the oscillations of the torque, so that a detection of the response signals is also possible by means of a speed sensor.</p><p id="p-0040" num="0039">Furthermore, the invention relates to an electric drive system having an electric machine and a described device. Such electric drive system is used, for example, to drive an electric vehicle. Optimized operation of the drivetrain is enabled by means of the method and the device.</p><p id="p-0041" num="0040">Furthermore, the invention relates to a vehicle having a described drive system. A vehicle is thus advantageously provided which comprises a device using which a controller of an electric machine can be calibrated.</p><p id="p-0042" num="0041">It is obvious that the features, properties, and advantages of the method according to the invention apply or are applicable accordingly to the device or the drive system and the vehicle and vice versa.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0043" num="0042">Further features and advantages of embodiments of the invention result from the following description with reference to the appended drawings.</p><p id="p-0044" num="0043">In the following, the invention is explained in more detail on the basis of several figures, in the figures:</p><p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a schematic representation of a device for calibrating a controller of an electric machine.</p><p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a schematic control structure of the method for calibrating a controller of an electric machine.</p><p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows a schematic response area of resulting response signals.</p><p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a schematically illustrated vehicle having a drivetrain.</p><p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. <b>5</b></figref> shows a schematically illustrated flow chart for a method for calibrating a controller of an electric machine.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0004" level="1">DETAILED DESCRIPTION</heading><p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a device <b>100</b> for calibrating a controller <b>110</b> of an electric machine <b>120</b>. The device comprises a sensor <b>130</b>, preferably a mechanical sensor, preferably having a mechanically rigid or fixed direct or indirect connection to the electric machine <b>120</b>. Furthermore, the device comprises a circuit carrier <b>150</b>, wherein the circuit carrier has a test signal generator <b>160</b> and a computing unit <b>170</b>. The controller <b>110</b> is preferably integrated in an inverter <b>140</b>, wherein the inverter comprises a power electronics unit <b>145</b>, preferably a B6 bridge, for supplying the connectable machine <b>120</b> from a battery <b>155</b>. Furthermore, the electrical drive system <b>200</b> having the device <b>100</b> and the electric machine <b>120</b> is shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The power electronics unit <b>145</b> of the inverter <b>140</b> is activated to calibrate the controller <b>110</b> of the electric machine <b>120</b> as a function of the first test signal S_<b>1</b> and a plurality of test signals S_Test_i. The response signals S_Antw_i are detected by means of the sensor <b>130</b>. After determination of the calibrated signal S_kal, the power electronics unit <b>145</b> of the inverter <b>140</b> is activated to operate the controller <b>110</b> of the electric machine <b>120</b> as a function of the first test signal S_<b>1</b> and the calibrated signal S_kal.</p><p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a schematic control structure <b>500</b> of the method for calibrating a controller <b>110</b> of an electric machine <b>120</b>. A signal generator <b>510</b> outputs a first signal S_<b>1</b>. This first signal S_<b>1</b> is superimposed by means of an adding unit <b>540</b> with a test signal S_Test_i of the test signal generator <b>160</b> for the calibration of the controller <b>110</b> of the electric machine <b>120</b>. The electric machine <b>120</b> is activated via a control section <b>520</b> as a function of the superimposed signals. This generates a torque, which has oscillations. These are detected by means of a sensor <b>130</b> and passed on as response signals S_Antw_i to a computing unit <b>170</b> for evaluation. The computing unit <b>170</b> also receives the first signal S_<b>1</b> and the test signals S_Test_i for evaluation. The evaluation comprises the ascertainment of a minimum of a resulting response area A_Antw from the resulting response signals S_Antw_i of the harmonic oscillations generated by means of the test signals S_Test_i. The computing unit <b>170</b> ascertains a minimum of the response area A_Antw and determines, as a function of the parameters of the minimum, a calibrated signal S_kal for generating a harmonic oscillation having a predetermined excitation amplitude and a phase position relative to the phase current. The calibrated signal is selected via a switch <b>550</b> and superimposed by means of the adding unit <b>540</b> with the first signal S_<b>1</b> for the regular operation of the controller <b>110</b> of the electric machine <b>120</b>. The test signal S_Test_i or calibrated signal S_kal used for the superposition can be selected via the switch <b>550</b>, depending on whether the controller <b>110</b> is being calibrated or is being operated in a regular manner to operate the electric machine <b>120</b>.</p><p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows a schematic response area A_Antw, which results from the resulting response signals S_Antw_i of the harmonic oscillations generated by means of the test signals S_Test_i. In the z direction, the dimension of the response amplitudes S_Antw_i_A of the resulting response signals S_Antw_i is plotted. In the y direction, the phase position S_Test_i_Phi of the harmonic oscillation to be generated using the test signal S_Test_i is plotted. In the x direction, the dimension of the excitation amplitudes S_Test_i_A of the harmonic oscillation to be generated using the test signal S_Test_i is plotted. The four positions of the harmonic oscillations generated by means of the test signals are shown corresponding to phase positions, excitation amplitudes, and response signals by way of example, from which the response area A_Antw results, as described above. The response area is preferably ascertained via specifiable ranges of the phase position, for example, 0 to 360&#xb0;, and the excitation amplitude, for example, from &#x2212;15 to +15, as a function of the ascertained minima. Furthermore, the ascertained minima of the response area, as described above, are recognizable by means of the height lines and the curve of the response area in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. As a function of at least one minimum phase position and at least one minimum amplitude, the parameters excitation amplitude and phase position of the harmonic oscillation to be generated by means of the calibrated signal are determined and specified.</p><p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a schematically illustrated vehicle <b>300</b> having an electric drive system <b>200</b>. The drive system <b>200</b> comprises the device <b>100</b> for calibrating the controller <b>110</b> of the electric machine <b>120</b> in the inverter <b>140</b> and the electric machine <b>210</b>. The electric drive system preferably comprises the battery <b>150</b>.</p><p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. <b>5</b></figref> shows a schematic sequence of a method <b>400</b> for calibrating a controller of an electric machine <b>120</b>. The method starts with step <b>405</b>. Preferably, this is followed by reading in <b>407</b> an operating point of the electric machine <b>120</b>, an inverter <b>140</b>, and/or the battery <b>150</b> and carrying out the method as a function of the detected operating point.</p><p id="p-0055" num="0054">The further method <b>400</b> comprises the following steps:</p><p id="p-0056" num="0055">Specifying <b>410</b> a first signal S_<b>1</b> for generating a sinusoidal phase current to energize a winding of an electric machine <b>120</b>,</p><p id="p-0057" num="0056">superimposing <b>420</b> the first signal S_<b>1</b> with a test signal S_Test_i to generate at least one harmonic oscillation, preferably an overtone of a specifiable order, having a predetermined excitation amplitude and/or phase position relative to the phase current, which is superimposed on the phase current,</p><p id="p-0058" num="0057">detecting <b>430</b> a response signal S_Antw_i resulting from the superposition of the phase current and the harmonic oscillation by means of a sensor <b>130</b>;</p><p id="p-0059" num="0058">repeating the two preceding steps &#x201c;superimposing&#x201d; <b>420</b> and &#x201c;detecting&#x201d; <b>430</b> multiple times using different test signals S_Test_i to generate further harmonic oscillations having specifiable and/or differing excitation amplitudes and/or phase positions relative to the phase current, which are superimposed on the phase current,</p><p id="p-0060" num="0059">ascertaining <b>440</b> a minimum of a resulting multiply curved response area A_Antw from the resulting response signals S_Antw_i of the harmonic oscillations generated by means of the test signals S_Test_i,</p><p id="p-0061" num="0060">determining <b>450</b> a calibrated signal S_kal to generate a harmonic oscillation having a predetermined excitation amplitude and a phase position relative to the phase current as a function of the ascertained minimum of the response area A_Antw, preferably for which a response signal having minimal response amplitude results,</p><p id="p-0062" num="0061">operating <b>460</b> the controller <b>110</b> of the electric machine <b>120</b>; wherein the first signal S_<b>1</b> for generating a sinusoidal phase current is specified to energize a winding of the electric machine <b>120</b> and the calibrated signal S_kal is superimposed to generate a harmonic oscillation having a predetermined excitation amplitude and a phase position relative to the phase current. The method ends with step <b>470</b>.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method (<b>400</b>) for calibrating a controller (<b>110</b>) of an electric machine (<b>120</b>), the method comprising the following steps:<claim-text>specifying (<b>410</b>) a first signal (S_<b>1</b>) for generating a sinusoidal phase current to energize a winding of an electric machine (<b>120</b>),</claim-text><claim-text>superimposing (<b>420</b>) the first signal (S_<b>1</b>) with a test signal (S_Test_i) to generate at least one harmonic oscillation, having a predetermined (i) excitation amplitude, (ii) phase position, or both (i) and (ii) relative to the phase current, which is superimposed on the phase current,</claim-text><claim-text>detecting (<b>430</b>) a response signal (S_Antw_i) resulting from the superposition of the phase current and the harmonic oscillation by means of a sensor (<b>130</b>);</claim-text><claim-text>repeating the two preceding steps &#x201c;superimposing&#x201d; (<b>420</b>) and &#x201c;detecting&#x201d; (<b>430</b>) multiple times using different test signals (S_Test_i) to generate further harmonic oscillations having specifiable excitation amplitudes and/or phase positions relative to the phase current, which are superimposed on the phase current,</claim-text><claim-text>ascertaining (<b>440</b>) a minimum of a multiply curved response area (A_Antw), which results as a function of the resulting response signals (S_Antw_i) of the harmonic oscillations generated by means of the test signals (S_Test_i),</claim-text><claim-text>determining (<b>450</b>) a calibrated signal (S_kal) to generate a harmonic oscillation having a predetermined excitation amplitude and a phase position relative to the phase current as a function of the ascertained minimum,</claim-text><claim-text>operating (<b>460</b>) the controller (<b>110</b>) of the electric machine (<b>120</b>); wherein the first signal (S_<b>1</b>) for generating a sinusoidal phase current is specified to energize a winding of the electric machine (<b>120</b>) and the determined calibrated signal (S_kal) is superimposed to generate the harmonic oscillation.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method (<b>400</b>) as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, having the following further steps:<claim-text>reading in (<b>407</b>) an operating point of the electric machine (<b>120</b>), an inverter (<b>140</b>), the battery (<b>150</b>), or a combination of the same and</claim-text><claim-text>carrying out the method as a function of the detected operating point.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. (canceled)</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. A non-transitory, computer-readable medium, comprising commands which, upon the execution by a computer, cause the computer to calibrate a controller (<b>110</b>) of an electric machine (<b>120</b>), by:<claim-text>specifying (<b>410</b>) a first signal (S_<b>1</b>) for generating a sinusoidal phase current to energize a winding of an electric machine (<b>120</b>),</claim-text><claim-text>superimposing (<b>420</b>) the first signal (S_<b>1</b>) with a test signal (S_Test_i) to generate at least one harmonic oscillation, having a predetermined (i) excitation amplitude, (ii) phase position, or both (i) and (ii) relative to the phase current, which is superimposed on the phase current,</claim-text><claim-text>detecting (<b>430</b>) a response signal (S_Antw_i) resulting from the superposition of the phase current and the harmonic oscillation by means of a sensor (<b>130</b>);</claim-text><claim-text>repeating the two preceding steps &#x201c;superimposing&#x201d; (<b>420</b>) and &#x201c;detecting&#x201d; (<b>430</b>) multiple times using different test signals (S_Test_i) to generate further harmonic oscillations having specifiable excitation amplitudes and/or phase positions relative to the phase current, which are superimposed on the phase current,</claim-text><claim-text>ascertaining (<b>440</b>) a minimum of a multiply curved response area (A_Antw), which results as a function of the resulting response signals (S_Antw_i) of the harmonic oscillations generated by means of the test signals (S_Test_i),</claim-text><claim-text>determining (<b>450</b>) a calibrated signal (S_kal) to generate a harmonic oscillation having a predetermined excitation amplitude and a phase position relative to the phase current as a function of the ascertained minimum,</claim-text></claim-text><claim-text>operating (<b>460</b>) the controller (<b>110</b>) of the electric machine (<b>120</b>); wherein the first signal (S_<b>1</b>) for generating a sinusoidal phase current is specified to energize a winding of the electric machine (<b>120</b>) and the determined calibrated signal (S_kal) is superimposed to generate the harmonic oscillation.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. A device (<b>100</b>) for calibrating a controller (<b>110</b>) of an electric machine (<b>120</b>), the device comprising:<claim-text>a sensor (<b>130</b>), and</claim-text><claim-text>a circuit carrier (<b>150</b>),</claim-text><claim-text>wherein the circuit carrier has a test signal generator (<b>160</b>) and a computing unit (<b>170</b>),</claim-text><claim-text>wherein the device is configured to</claim-text><claim-text>specify (<b>410</b>) a first signal (S_<b>1</b>) for generating a sinusoidal phase current to energize a winding of an electric machine (<b>120</b>),</claim-text><claim-text>superimpose (<b>420</b>) the first signal (S_<b>1</b>) with a test signal (S_Test_i) to generate at least one harmonic oscillation, having a predetermined (i) excitation amplitude, (ii) phase position, or both (i) and (ii) relative to the phase current, which is superimposed on the phase current,</claim-text><claim-text>detect (<b>430</b>) a response signal (S_Antw_i) resulting from the superposition of the phase current and the harmonic oscillation by means of a sensor (<b>130</b>);</claim-text><claim-text>repeat the two preceding steps &#x201c;superimposing&#x201d; (<b>420</b>) and &#x201c;detecting&#x201d; (<b>430</b>) multiple times using different test signals (S_Test_i) to generate further harmonic oscillations having specifiable excitation amplitudes and/or phase positions relative to the phase current, which are superimposed on the phase current,</claim-text><claim-text>ascertain (<b>440</b>) a minimum of a multiply curved response area (A_Antw), which results as a function of the resulting response signals (S_Antw_i) of the harmonic oscillations generated by means of the test signals (S_Test_i),</claim-text><claim-text>determine (<b>450</b>) a calibrated signal (S_kal) to generate a harmonic oscillation having a predetermined excitation amplitude and a phase position relative to the phase current as a function of the ascertained minimum,</claim-text><claim-text>operate (<b>460</b>) the controller (<b>110</b>) of the electric machine (<b>120</b>); wherein the first signal (S_<b>1</b>) for generating a sinusoidal phase current is specified to energize a winding of the electric machine (<b>120</b>) and the determined calibrated signal (S_kal) is superimposed to generate the harmonic oscillation.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The device (<b>100</b>) as claimed in <claim-ref idref="CLM-00005">claim 5</claim-ref>,<claim-text>wherein the sensor (<b>130</b>) is mechanically fixedly connected to the electric machine (<b>120</b>) or the sensor (<b>130</b>) is fixedly attached to the circuit carrier (<b>150</b>) and the circuit carrier (<b>150</b>) is fixedly integrated on or in the electric machine (<b>120</b>).</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The device (<b>100</b>) as claimed in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the sensor (<b>130</b>) is a microphone, an acceleration sensor or a structure-borne sound sensor or a speed sensor.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. An electric drive system (<b>200</b>) having an electric machine (<b>120</b>) and a device (<b>100</b>) comprising:<claim-text>a sensor (<b>130</b>), and</claim-text><claim-text>a circuit carrier (<b>150</b>),</claim-text><claim-text>wherein the circuit carrier has a test signal generator (<b>160</b>) and a computing unit (<b>170</b>),</claim-text><claim-text>wherein the device is configured to</claim-text><claim-text>specify (<b>410</b>) a first signal (S_<b>1</b>) for generating a sinusoidal phase current to energize a winding of the electric machine (<b>120</b>),</claim-text><claim-text>superimpose (<b>420</b>) the first signal (S_<b>1</b>) with a test signal (S_Test_i) to generate at least one harmonic oscillation, having a predetermined (i) excitation amplitude, (ii) phase position, or both (i) and (ii) relative to the phase current, which is superimposed on the phase current,</claim-text><claim-text>detect (<b>430</b>) a response signal (S_Antw_i) resulting from the superposition of the phase current and the harmonic oscillation by means of a sensor (<b>130</b>);</claim-text><claim-text>repeat the two preceding steps &#x201c;superimposing&#x201d; (<b>420</b>) and &#x201c;detecting&#x201d; (<b>430</b>) multiple times using different test signals (S_Test_i) to generate further harmonic oscillations having specifiable excitation amplitudes and/or phase positions relative to the phase current, which are superimposed on the phase current,</claim-text><claim-text>ascertain (<b>440</b>) a minimum of a multiply curved response area (A_Antw), which results as a function of the resulting response signals (S_Antw_i) of the harmonic oscillations generated by means of the test signals (S_Test_i),</claim-text><claim-text>determine (<b>450</b>) a calibrated signal (S_kal) to generate a harmonic oscillation having a predetermined excitation amplitude and a phase position relative to the phase current as a function of the ascertained minimum,</claim-text></claim-text><claim-text>operate (<b>460</b>) a controller (<b>110</b>) of the electric machine (<b>120</b>); wherein the first signal (S_<b>1</b>) for generating a sinusoidal phase current is specified to energize a winding of the electric machine (<b>120</b>) and the determined calibrated signal (S_kal) is superimposed to generate the harmonic oscillation.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. (canceled)</claim-text></claim></claims></us-patent-application>