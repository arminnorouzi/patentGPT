<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006829A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006829</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17641884</doc-number><date>20191004</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>32</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>3231</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>0869</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>008</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">INFORMATION MATCHING SYSTEM AND INFORMATION MATCHING METHOD</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>NEC Corporation</orgname><address><city>Minato-ku, Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>FUKUDA</last-name><first-name>Haruna</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Tamiya</last-name><first-name>Hiroto</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Okamura</last-name><first-name>Toshihiko</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Isshiki</last-name><first-name>Toshiyuki</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>Nara</last-name><first-name>Masahiro</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>NEC Corporation</orgname><role>03</role><address><city>Minato-ku, Tokyo</city><country>JP</country></address></addressbook></assignee></assignees><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/JP2019/039272</doc-number><date>20191004</date></document-id><us-371c12-date><date>20220310</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">In order to provide an information matching system achieving an information matching scheme that takes a lower cost and uses secure biometric information, the information matching system includes a concealment apparatus, a decryption apparatus, and a similarity calculating apparatus. The concealment apparatus transmits, to the similarity calculating apparatus, concealed information including information concealing obtained matching information by linear conversion using random numbers. The similarity calculating apparatus calculates, from obtained one or more pieces of registration information and the concealed information received from the concealment apparatus, a concealed similarity which is a value concealing a similarity between the matching information and the registration information, and to transmit the calculated concealed similarity to the decryption apparatus. The decryption apparatus calculates the similarity between the matching information and the registration information from the concealed similarity received from the similarity calculating apparatus, using the random numbers used by the concealment apparatus.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="149.52mm" wi="139.95mm" file="US20230006829A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="154.60mm" wi="109.64mm" orientation="landscape" file="US20230006829A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="163.24mm" wi="141.99mm" file="US20230006829A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="177.29mm" wi="126.07mm" orientation="landscape" file="US20230006829A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="163.07mm" wi="142.66mm" file="US20230006829A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="178.31mm" wi="127.08mm" orientation="landscape" file="US20230006829A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="162.90mm" wi="142.32mm" file="US20230006829A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="212.51mm" wi="120.14mm" orientation="landscape" file="US20230006829A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="216.32mm" wi="118.53mm" orientation="landscape" file="US20230006829A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="162.39mm" wi="141.90mm" file="US20230006829A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="217.85mm" wi="106.85mm" orientation="landscape" file="US20230006829A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="209.04mm" wi="126.49mm" orientation="landscape" file="US20230006829A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="173.57mm" wi="124.71mm" orientation="landscape" file="US20230006829A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND</heading><heading id="h-0002" level="1">Technical Field</heading><p id="p-0002" num="0001">The present invention relates to an information matching system and an information matching method.</p><heading id="h-0003" level="1">Background Art</heading><p id="p-0003" num="0002">Personal authentication is means for confirming identicalness between a registered person and a person to be authenticated. Information related to a registered person that is stored in advance is checked against information related to a person to be authenticated that is acquired every authentication to perform the personal authentication.</p><p id="p-0004" num="0003">Biometric authentication as a method of personal authentication uses, physical characteristics such as a face, a fingerprint, and an iris to perform the authentication. To be more specific, data called a biometric feature is extracted from a biological body to be used for the authentication. The biometric feature extracted from the biological body is slightly different for every extraction. As such, in authentication, a biometric feature extracted from a registered person is compared with a biometric feature extracted from a person to be authenticated, and when these biometric features are recognized to be sufficiently similar to each other, the authentication is result in success. A similarity determination method depends on a biometric feature extraction scheme, and in general, a biometric feature is expressed in a form of a vector, a similarity is calculated by way of an inner product of two biometric features, a Euclidean distance, a Hamming distance, and the like, and then, in a case that the similarity is included in a predetermined range, two biometric features are determined to be sufficiently similar.</p><p id="p-0005" num="0004">Merits of the biometric authentication, as compared to authentication by way of memorizing a password and the like, or authentication by way of carrying an IC card and the like, include higher convenience that an active preparation by a user such as the memorization and the carrying is not necessary for inputting authentication information, and higher security that the authentication information is not likely to be used by other persons. In recent years, the biometric authentication has been increasingly used as means for the personal authentication, along with development in technologies such as a biometric feature extraction method.</p><p id="p-0006" num="0005">On the other hand, the biometric authentication has a demerit that biometric information unvarying whole life long cannot be changed even if leaked. A biometric feature of biological body is defined to fall under the personal information in the General Data Protection Regulation in Europe or the Personal Information Protection Law in Japan. Data falling under the personal information has a restriction in storing or handling such as provision to the outside. Not only the restriction by law or the like but also an attention for being socially accepted is often demanded.</p><p id="p-0007" num="0006">Therefore, a biometric authentication scheme has been eagerly studied that the biometric information is stored in a concealed form, and an authentication result can be determined with the concealed state being kept. Furthermore, to make use of the merits of the biometric authentication, a preferable method is one in which the user does not need to memorize or carry anything other than the biometric information. As means for achieving the determination with the concealed state being kept, schemes using a public key cryptosystem with additive homomorphism are known.</p><p id="p-0008" num="0007">The public key cryptosystem includes three algorithms of a key generation algorithm (KeyGen), an encryption algorithm (Enc), and a decryption algorithm (Dec).</p><p id="p-0009" num="0008">The key generation algorithm uses a parameter indicating a strength of a key, called a security parameter, to generate an encryption key ek and a decryption key dk. This operation can be expressed as a relationship below, where the security parameter is represented by &#x3ba;.</p><p id="p-0010" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>KeyGen(&#x3ba;)&#x2192;(<i>ek,dk</i>)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0011" num="0009">The encryption algorithm generates a ciphertext c as a result of encrypting a plaintext message m by use of the encryption key ek. This can be expressed as a relationship below.</p><p id="p-0012" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Enc(<i>ek,m</i>)&#x2192;<i>c </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0013" num="0010">The decryption algorithm generates m&#x2032; as a result of decrypting the ciphertext c by use of the decryption key dk. This can be expressed as a relationship below.</p><p id="p-0014" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Dec(<i>dk,c</i>)&#x2192;<i>m&#x2032;</i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0015" num="0011">The public key cryptosystem needs to be able to correctly decrypt the ciphertext. Specifically, as for any pair of encryption key ek and decryption key dk generated by the key generation algorithm, any message m which is encrypted by use of the encryption key ek to be a ciphertext c, and decryption result m&#x2032; which is generated from the ciphertext c by use of the decryption key dk, a is required to be equal to m. Specifically, for KeyGen(&#x3ba;)&#x2192;(ek, dk),</p><p id="p-0016" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Dec(<i>dk</i>,Enc(<i>ek,m</i>))&#x2192;<i>m </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0017" num="0000">needs to be satisfied for any m.</p><p id="p-0018" num="0012">In the public key cryptosystem, any device having an encryption key can perform the encryption algorithm, but cannot successfully perform the decryption algorithm without a decryption key.</p><p id="p-0019" num="0013">A public key cryptosystem with homomorphism (hereinafter, referred to as a homomorphic public key encryption scheme) includes a homomorphic operation algorithm (Hom) in addition to the algorithms of the public key encryption scheme.</p><p id="p-0020" num="0014">The homomorphic operation algorithm generates ciphertexts as a result of an operation performed on messages corresponding to a plurality of input ciphertexts by use of the encryption key. When two messages can be input, the algorithm can be expressed as a relationship below.</p><p id="p-0021" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Hom(<i>ek,c</i><sub>1</sub><i>,c</i><sub>2</sub>)&#x2192;<i>c </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0022" num="0015">For example, in a case of a public key encryption scheme with additive homomorphism, the ciphertext c generated from the ciphertext c<sub>1 </sub>of a message m<sub>1 </sub>by use of the encryption key ek and the ciphertext c<sub>2 </sub>of a message m<sub>2 </sub>by use of the encryption key ek is a ciphertext of m<sub>1</sub>+m<sub>2</sub>. Specifically, assuming that, with respect to KeyGen(&#x3ba;)&#x2192;(ek, dk),</p><p id="p-0023" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Enc(<i>ek,m</i><sub>1</sub>)&#x2192;<i>c</i><sub>1</sub>,Enc(<i>ek,m</i><sub>2</sub>)&#x2192;<i>c</i><sub>2 </sub>are satisfied for any <i>m</i><sub>1 </sub>and <i>m</i><sub>2</sub>,<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0024" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Dec(<i>dk</i>,Hom(<i>ek,c</i><sub>1</sub><i>,c</i><sub>2</sub>))&#x2192;<i>m</i><sub>1</sub><i>+m</i><sub>2 </sub>is satisfied.<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0025" num="0016">The known public key encryption scheme with additive homomorphism includes the elliptic curve Elgamal encryption, or the like. Algorithms of the elliptic curve Elgamal encryption disclosed in NPL 1 operate as below.</p><p id="p-0026" num="0017">The algorithms of the elliptic curve Elgamal encryption operate as below.</p><p id="p-0027" num="0018">The key generation algorithm firstly receives a security parameter &#x3ba; as an input. Next, the key generation algorithm chooses a &#x3ba;-bit prime number q at random to choose a generator G of a group with an order q on an elliptic curve E. Next, the key generation algorithm chooses an integer x equal to or more than 1 and less than q uniformly at random, and obtains H=[x]G. Finally, the key generation algorithm outputs an encryption key ek=(&#x3ba;, q, E, G, H) and a decryption key dk=(ek, x).</p><p id="p-0028" num="0019">The encryption algorithm firstly receives the encryption key ek=(&#x3ba;, q, G, g, H) and a message m as inputs. Next, the encryption algorithm chooses an integer r equal to or more than 1 and less then q uniformly at random, and obtains C<sub>a</sub>:=[r]G, and C<sub>b</sub>:=[m]G+[r]H. Finally, the encryption algorithm outputs a ciphertext c=(C<sub>a</sub>, C<sub>b</sub>).</p><p id="p-0029" num="0020">The decryption algorithm firstly receives the decryption key dk=(ek, x) and the ciphertext c=(C<sub>a</sub>, C<sub>b</sub>) as inputs. Next, the decryption algorithm calculates M&#x2032;=C<sub>b</sub>[x]C<sub>a</sub>. Finally, the decryption algorithm outputs the decryption result m&#x2032;=&#x2212;D log<sub>G</sub>(M&#x2032;). Here, D log is a function satisfying D log<sub>G</sub>([x]G)=x.</p><p id="p-0030" num="0021">As for the ciphertext c=(C<sub>a</sub>, C<sub>b</sub>)=([r]G, [m]G+[r]H) of the message m, the ciphertext c can be correctly decrypted to m by the decryption algorithm of the elliptic curve Elgamal encryption, which can be confirmed by the equation below.</p><p id="p-0031" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>M&#x2032;=C</i><sub>b</sub>&#x2212;[<i>x</i>]&#xb7;<i>C</i><sub>a</sub>=([<i>m</i>]<i>G</i>+[<i>r</i>]<i>H</i>)&#x2212;[<i>x</i>]&#xb7;([<i>r</i>]<i>G</i>)=[<i>m</i>]<i>G</i>+[<i>r</i>]([<i>x</i>]&#xb7;<i>G</i>)&#x2212;[<i>x</i>]&#xb7;([<i>r</i>]<i>G</i>)=[<i>m</i>]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0032" num="0022">The homomorphic operation algorithm firstly receives the encryption key ek=(&#x3ba;, q, G, g, h), a first ciphertext c<sub>1</sub>=(C<sub>1, a</sub>, C<sub>1, b</sub>), and a second ciphertext c<sub>2</sub>=(C<sub>2, a</sub>, C<sub>2, b</sub>) as inputs. Next, the homomorphic operation algorithm calculates C<sub>a</sub>=C<sub>1, a</sub>+C<sub>2, a </sub>and C<sub>b</sub>=C<sub>1, b</sub>+C<sub>2, b</sub>. Finally, the homomorphic operation algorithm outputs a homomorphic operation result c=(C<sub>a</sub>, C<sub>b</sub>).</p><p id="p-0033" num="0023">For ciphertexts (C<sub>1, a</sub>=[r]G, C<sub>1, b</sub>=[m<sub>1</sub>]G+[r]H) of the message m<sub>1 </sub>and ciphertexts (C<sub>2, a</sub>=[s]G, C<sub>2, b</sub>=[m<sub>2</sub>]G+[s]H) of the message m<sub>2</sub>, two equations below are satisfied.</p><p id="p-0034" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>C</i><sub>a</sub>=[<i>r+s</i>]&#xb7;<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0035" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>C</i><sub>b</sub>=[<i>m</i><sub>1</sub><i>+m</i><sub>2</sub>]<i>G</i>+[<i>r+s</i>]<i>H </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0036" num="0024">Accordingly, c is a ciphertext of m<sub>1</sub>+m<sub>2</sub>, and the elliptic curve Elgamal encryption has additive homomorphism.</p><p id="p-0037" num="0025">The biometric authentication technology is utilized for not only the authentication but also entrance control or monitoring of a building, security check in an airport, and the like. In such use cases, a database is prepared in advance, in which information including biometric information of a person to be a target of the entrance control or the monitoring is registered. When biometric information of a person is acquired by a sensor such as a camera, the biometric authentication technology is utilized to check whether or not the person is registered in the database, or identify who the person is among the registered persons.</p><p id="p-0038" num="0026">In such use cases, some cases exist that managers (managing organizations) of an apparatus equipped with the sensor such as a camera and the database are different from each other. For example, in a case that in an office building occupied by a plurality of business operators, the business operators use entrance gates of a management company of the office building and manage attendance and leaving of employees of the business operators, an entrance gate device is managed by the office building management company, but a database is managed by each of the business operators. In the airport also, there is a case that the gate device is managed by a company managing facilities of the airport, and the database is managed by an airline company.</p><p id="p-0039" num="0027">As such, a scheme is demanded that a result can be determined while biometric information of a server managing the database and biometric information of an apparatus including the sensor are concealed from each other. For example, by using an additive homomorphic public key cryptosystem, the above determination scheme can be achieved as below.</p><p id="p-0040" num="0028">The server managing the database encrypts biometric features of a plurality of persons stored in the database using the additive homomorphic public key cryptosystem to send the encrypted biometric features to the apparatus including the sensor (step <b>1</b>).</p><p id="p-0041" num="0029">The sensor apparatus acquires a biological body biometric feature to be matched and calculates ciphertexts of similarities of the plurality of persons by using the additive homomorphic operation. The calculated encrypted similarities are sent to the server (step <b>2</b>).</p><p id="p-0042" num="0030">The server decrypts the encrypted similarities of the plurality of persons to obtain similarities. The server finds, among the obtained similarities of the plurality of persons, a value included in a predefined range to identify information of the person to be matched included in the plurality of persons stored in the database (step <b>3</b>).</p><p id="p-0043" num="0031">PTL 1 describes that a system and method for confidentially searching for similarity capable of efficiently determining similarity of data while keeping concealability are provided. PTL 2 describes that secure identity authentication with a lower possibility of plaintext theft can be realized.</p><heading id="h-0004" level="1">CITATION LIST</heading><heading id="h-0005" level="1">Patent Literature</heading><p id="p-0044" num="0000"><ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0032">[PTL 1] WO 2016/203555</li>    <li id="ul0001-0002" num="0033">[PTL 2] WO 2011/052056</li></ul></p><heading id="h-0006" level="1">Non Patent Literature</heading><p id="p-0045" num="0000"><ul id="ul0002" list-style="none">    <li id="ul0002-0001" num="0034">[NPL 1] Taher ElGamal. &#x201c;A public key cryptosystem and a signature scheme based on discrete logarithms.&#x201d; IEEE transactions on information theory 31.4 (1985): 469-472.</li></ul></p><heading id="h-0007" level="1">SUMMARY</heading><heading id="h-0008" level="1">Technical Problem</heading><p id="p-0046" num="0035">In a person matching scheme by biological matching using the additive homomorphic public key cryptosystem described above, the sensor apparatus calculates the encrypted similarities of the plurality of persons by using the homomorphic operation in step <b>2</b>. Depending on a form of the biometric feature or a calculation method of the similarity, calculation of a similarity of one set of biometric features requires a number of times of the homomorphic operations, where the number depends on the number of dimension of the biometric feature. Specifically, in step <b>2</b>, the sensor apparatus is required to perform the number of times of the homomorphic operations, where the number depends on a product of the number of persons stored in the database and the number of dimension of the biometric feature.</p><p id="p-0047" num="0036">The homomorphic operation of the homomorphic public key cryptosystem is based on a group operation, but the group operation involves a larger calculation cost compared to the four basic operation operators or the like. In terms of actual operation, the sensor apparatus is often relatively powerless in computation power.</p><p id="p-0048" num="0037">As such, an information matching scheme is demanded that securely uses the biometric information and can be realized with the cost less than that of the scheme using an additive homomorphic public key cryptosystem described above. An example object of the present invention is to provide an information matching system and an information matching method that solve the problems described above.</p><heading id="h-0009" level="1">Solution to Problem</heading><p id="p-0049" num="0038">According to a first aspect of the present invention, an information matching system is provided, the information matching system including a concealment apparatus, a decryption apparatus, and a similarity calculating apparatus, wherein the concealment apparatus is configured to transmit, to the similarity calculating apparatus, concealed information including information concealing obtained matching information by linear conversion using random numbers, the similarity calculating apparatus is configured to calculate, from obtained one or more pieces of registration information and the concealed information received from the concealment apparatus, a concealed similarity which is a value concealing a similarity between the matching information and the registration information, and to transmit the calculated concealed similarity to the decryption apparatus, and the decryption apparatus is configured to calculate the similarity between the matching information and the registration information from the concealed similarity received from the similarity calculating apparatus, using the random numbers used by the concealment apparatus.</p><p id="p-0050" num="0039">According to a second aspect of the present invention, an information matching method is provided in an information matching system including a concealment apparatus, a decryption apparatus, and a similarity calculating apparatus, the method including transmitting, by the concealment apparatus, to the similarity calculating apparatus, concealed information including information concealing obtained matching information by linear conversion using random numbers, calculating, by the similarity calculating apparatus, from obtained one or more pieces of registration information and the concealed information received from the concealment apparatus, a concealed similarity which is a value concealing the similarity between the matching information and the registration information, and to transmit the calculated concealed similarity to the decryption apparatus, and calculating, by the decryption apparatus, the similarity between the matching information and the registration information from the concealed similarity received from the similarity calculating apparatus, using the random numbers used by the concealment apparatus.</p><heading id="h-0010" level="1">Advantageous Effects of Invention</heading><p id="p-0051" num="0040">According to the aspects of the present invention, provided are an information matching system and an information matching method achieving an information matching scheme that uses biometric information with a lower cost and in a secure way. Note that, according to the present invention, instead of or together with the above effects, other effects may be exerted.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0011" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0052" num="0041"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram for describing an overview of an example embodiment;</p><p id="p-0053" num="0042"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram illustrating a configuration of an information matching system (homomorphic encryption system) according to a first example embodiment;</p><p id="p-0054" num="0043"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flow diagram illustrating an operation of the information matching system according to the first example embodiment;</p><p id="p-0055" num="0044"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a block diagram illustrating a configuration of an information matching system according to a second example embodiment;</p><p id="p-0056" num="0045"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flow diagram illustrating an operation of the information matching system according to the second example embodiment;</p><p id="p-0057" num="0046"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a block diagram illustrating a configuration of an information matching system according to a third example embodiment;</p><p id="p-0058" num="0047"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flow diagram illustrating an operation of a preliminary calculation process of the information matching system according to the third example embodiment;</p><p id="p-0059" num="0048"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flow diagram illustrating an operation of a main calculation process of the information matching system according to the third example embodiment;</p><p id="p-0060" num="0049"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a block diagram illustrating a configuration of an information matching system according to a fourth example embodiment;</p><p id="p-0061" num="0050"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flow diagram illustrating an operation of a preliminary calculation process of the information matching system according to the fourth example embodiment;</p><p id="p-0062" num="0051"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a flow diagram illustrating an operation of a main calculation process of the information matching system according to the fourth example embodiment; and</p><p id="p-0063" num="0052"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a diagram illustrating an example of a hardware configuration of a concealment apparatus.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0012" level="1">DESCRIPTION OF THE EXAMPLE EMBODIMENTS</heading><p id="p-0064" num="0053">First, an overview of an example embodiment will be described. Note that reference signs in the drawings provided in the overview are for the sake of convenience for each element as an example to promote better understanding, and description of the overview is not to impose any limitations. Note that, in the Specification and drawings, elements to which similar descriptions are applicable are denoted by the same reference signs, and overlapping descriptions may hence be omitted.</p><p id="p-0065" num="0054">The information matching system according to an embodiment includes a concealment apparatus <b>10</b>, a decryption apparatus <b>20</b>, and a similarity calculating apparatus <b>30</b> (see <figref idref="DRAWINGS">FIG. <b>1</b></figref>). The concealment apparatus <b>10</b> transmits, to the similarity calculating apparatus <b>30</b>, concealed information including information concealing obtained matching information by linear conversion using random numbers. The similarity calculating apparatus <b>30</b> calculates, from obtained one or more pieces of registration information and the concealed information received from the concealment apparatus <b>30</b>, a concealed similarity which is a value concealing the similarity between the matching information and the registration information, and to transmit the calculated concealed similarity to the decryption apparatus <b>20</b>. The decryption apparatus <b>20</b> calculates the similarity between the matching information and the registration information from the concealed similarity received from the similarity calculating apparatus <b>30</b>, using the random numbers used by the concealment apparatus <b>10</b>.</p><p id="p-0066" num="0055">The information matching system achieves concealment of the matching information by a linear conversion using the random numbers. Here, the linear conversion is a process a load on which is lower than that of an additive homomorphic encryption. For this reason, the information matching system can achieve the matching of information securely using the biometric information with a cost less than that of the case using an additive homomorphic public key cryptosystem.</p><p id="p-0067" num="0056">Hereinafter, specific example embodiments are described in more detail with reference to the drawings.</p><heading id="h-0013" level="1">First Example Embodiment</heading><p id="p-0068" num="0057">A first example embodiment will be described in further detail with reference to the drawings.</p><heading id="h-0014" level="2">[Description of Configuration]</heading><p id="p-0069" num="0058"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram illustrating a configuration of an information matching system <b>100</b> according to the first example embodiment. The information matching system <b>100</b> includes a concealment apparatus <b>110</b>, a decryption apparatus <b>120</b>, a similarity calculating apparatus <b>130</b>, and an information identifying apparatus <b>140</b>. However, the apparatuses included in the information matching system <b>100</b> may be configured as separate apparatuses, or may be adequately mounted on an identical apparatus depending on a usage. For example, the information matching system <b>100</b> can be realized as a client-server system by separately mounting the concealment apparatus <b>110</b> and the decryption apparatus <b>120</b> on a client, and the similarity calculating apparatus <b>130</b> and the information identifying apparatus <b>140</b> on a server.</p><p id="p-0070" num="0059">The apparatuses illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref> (the concealment apparatus <b>110</b>, the decryption apparatus <b>120</b>, the similarity calculating apparatus <b>130</b>, and the information identifying apparatus <b>140</b>) are connected in a wired or wireless manner and configured to be communicable with each other.</p><p id="p-0071" num="0060">The concealment apparatus <b>110</b> includes</p><p id="p-0072" num="0000">a matching information acquiring section <b>111</b> that acquires matching information,<br/>a random number acquiring section <b>113</b> that acquires random numbers,<br/>a main random number transmitting section <b>114</b> that transmits main random numbers included in the random numbers acquired by the random number acquiring section <b>113</b>,<br/>a matching information concealment section <b>116</b> that conceals the matching information acquired by the matching information acquiring section <b>111</b> using the random numbers acquired by the random number acquiring section <b>113</b>, and<br/>a concealed information transmitting section <b>118</b> that transmits the concealed information generated by the matching information concealment section <b>116</b>.</p><p id="p-0073" num="0061">The decryption apparatus <b>120</b> includes</p><p id="p-0074" num="0000">a main random number receiving section <b>121</b> that receives the main random numbers,<br/>a concealed similarity receiving section <b>123</b> that receives the concealed similarity,<br/>a decrypting section <b>124</b> that calculates a similarity from the main random numbers acquired by the main random number receiving section <b>121</b> and the concealed similarity received by the concealed similarity receiving section <b>123</b>, and<br/>a similarity transmitting section <b>125</b> that transmits the similarity calculated by the decrypting section <b>124</b>.</p><p id="p-0075" num="0062">The similarity calculating apparatus <b>130</b> includes</p><p id="p-0076" num="0000">a concealed information receiving section <b>132</b> that receives the concealed information,<br/>a registration information acquiring section <b>133</b> that acquires registration information,<br/>a concealed similarity calculating section <b>137</b> that calculates a concealed similarity from the concealed information received by the concealed information receiving section <b>132</b> and the registration information received by the registration information acquiring section <b>133</b>, and<br/>a concealed similarity transmitting section <b>139</b> that transmits the concealed similarity calculated by the concealed similarity calculating section <b>137</b>.</p><p id="p-0077" num="0063">The information identifying apparatus <b>140</b> includes</p><p id="p-0078" num="0000">a similarity receiving section <b>142</b> that receives the similarity, and<br/>an information identifying section <b>144</b> that identifies information using the similarity received by the similarity receiving section <b>142</b>.</p><heading id="h-0015" level="2">[Description of Operation]</heading><p id="p-0079" num="0064">Next, with reference to <figref idref="DRAWINGS">FIG. <b>3</b></figref>, an entire operation of the information matching system <b>100</b> according to the present example embodiment will be described.</p><p id="p-0080" num="0065">First, the matching information acquiring section <b>111</b> in the concealment apparatus <b>110</b> acquires matching information (step A<b>1</b>). Note that the matching information may be acquired in any way. For example, the matching information may be generated using a matching information acquiring function that the concealment apparatus <b>110</b> has therein, or may be acquired from outside of the concealment apparatus <b>110</b>.</p><p id="p-0081" num="0066">Next, the random number acquiring section <b>113</b> acquires random numbers (step A<b>2</b>). Note that the random numbers may be acquired in any way. For example, the random numbers may be generated using a random number generating function that the concealment apparatus <b>110</b> has therein, or random numbers generated outside the concealment apparatus <b>110</b> may be acquired from an external apparatus.</p><p id="p-0082" num="0067">Next, the random number transmitting section <b>114</b> transmits main random numbers among the random numbers generated in step A<b>2</b> to the decryption apparatus <b>120</b> (step A<b>3</b>).</p><p id="p-0083" num="0068">Next, the main random number receiving section <b>121</b> in the decryption apparatus <b>120</b> receives the main random numbers from the concealment apparatus <b>110</b> (step A<b>4</b>).</p><p id="p-0084" num="0069">Next, the matching information concealment section <b>116</b> conceals the matching information acquired in step A<b>1</b> by a linear conversion using the random numbers acquired in step A<b>2</b> to generate concealed information (step A<b>5</b>).</p><p id="p-0085" num="0070">Next, the concealed information transmitting section <b>118</b> transmits the concealed information generated in step A<b>5</b> to the similarity calculating apparatus <b>130</b> (step A<b>6</b>).</p><p id="p-0086" num="0071">Next, the concealed information receiving section <b>132</b> in the similarity calculating apparatus <b>130</b> receives the concealed information from the concealment apparatus <b>110</b> (step A<b>7</b>).</p><p id="p-0087" num="0072">Next, the registration information acquiring section <b>133</b> acquires registration information (step A<b>8</b>). The registration information may be stored anywhere. For example, a database storing the registration information may be included in the similarity calculating apparatus <b>130</b>, or the registration information may be stored in an external apparatus connected with the similarity calculating apparatus <b>130</b>. The registration information may include a plurality of pieces of information. In a case that a plurality of pieces of information are included, each piece of registration information is assigned with a specific identifier.</p><p id="p-0088" num="0073">Next, the concealed similarity calculating section <b>137</b> calculates a concealed similarity from the concealed information received in step A<b>7</b> and the registration information acquired in step A<b>8</b> (step A<b>9</b>).</p><p id="p-0089" num="0074">Note that the concealed similarity is a concealed form of the similarity between the matching information and the registration information. In the case that the registration information includes a plurality of pieces of information, the number of the calculated concealed similarities is the same as the number of the plurality of pieces of information. Each concealed similarity is assigned with a specific identifier, and which registration information the concealed similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each concealed similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0090" num="0075">Next, the concealed similarity transmitting section <b>139</b> transmits the concealed similarity calculated in step A<b>9</b> to the decryption apparatus <b>120</b> (step A<b>10</b>).</p><p id="p-0091" num="0076">Next, the concealed similarity receiving section <b>123</b> in the decryption apparatus <b>120</b> receives the concealed similarity from the similarity calculating apparatus <b>130</b> (step A<b>11</b>).</p><p id="p-0092" num="0077">Next, the decrypting section <b>124</b> calculates a similarity from the main random numbers received in step A<b>4</b> and the concealed similarity received in step A<b>11</b> (step A<b>12</b>).</p><p id="p-0093" num="0078">Note that the similarity is a similarity between the matching information and the registration information. In the case that the registration information includes a plurality of pieces of information, the number of the calculated similarities is the same as the number of the plurality of pieces of information. Each similarity is assigned with a specific identifier, and which registration information the similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0094" num="0079">Next, the similarity transmitting section <b>125</b> transmits the similarity calculated in step A<b>12</b> to the information identifying apparatus <b>140</b> (step A<b>13</b>).</p><p id="p-0095" num="0080">Next, the similarity receiving section <b>142</b> in the information identifying apparatus <b>140</b> receives the similarity from the decryption apparatus <b>120</b> (step A<b>14</b>).</p><p id="p-0096" num="0081">Finally, the information identifying section <b>144</b> identifies, among the similarities received in step A<b>14</b>, a similarity falling within a predefined acceptable range to identify registration information that is recognized to be sufficiently similar to the matching information (step A<b>15</b>).</p><p id="p-0097" num="0082">Note that in a case that it is not necessary to identify the registration information recognized to be sufficiently similar to the matching information, but it is desired to check whether the registration information recognized to be sufficiently similar to the matching information is present or not, such processing may be made.</p><heading id="h-0016" level="1">Concrete Example 1 According to First Example Embodiment</heading><p id="p-0098" num="0083">Next, a concrete example 1 of the operation of the information matching system <b>100</b> according to the present example embodiment will be described.</p><p id="p-0099" num="0084">In this concrete example, a case that a group on elliptic curve is used will be described. Assume that a group with an order of a &#x3ba;-bit prime number q on an elliptic curve E and a generator G of the group are published.</p><p id="p-0100" num="0085">In this concrete example, a case that vectors (with a dimension number of D) are used for the matching information and the registration information will be described. Furthermore, a case that the similarity between the matching information and the registration information is calculated by use of the inner product of the two vectors will be described. Assume a case that the matching information and the registration information are determined to be sufficiently similar to each other is a case that the similarity calculated by use of the inner product of the matching information and the registration information matches any one of T values &#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>.</p><p id="p-0101" num="0086">In this concrete example, assume that pieces of information of N persons are registered in the database, and the pieces of the registration information of N persons are assigned with the identifiers of 1 to N.</p><p id="p-0102" num="0000">However, a target of the present example embodiment is not limited to such cases above.</p><p id="p-0103" num="0087">First, the matching information acquiring section <b>111</b> in the concealment apparatus <b>110</b> acquires, as the matching information, a D-dimensional vector:</p><p id="p-0104" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i>=(<i>x</i><sub>1</sub>, . . . , and <i>x</i><sub>D</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0105" num="0000">(step A<b>1</b>).</p><p id="p-0106" num="0088">Next, the main random number acquiring section <b>113</b> acquires, as the random numbers, D+2 &#x3ba;-bit random numbers a, b, s<sub>1</sub>, . . . , and s<sub>D </sub>(step A<b>2</b>). Hereinafter, among the acquired random numbers, a and b are collectedly referred to as main random numbers. D random numbers s<sub>1</sub>, . . . , and s<sub>D </sub>are expressed as a vector:</p><p id="p-0107" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>s</i>=(<i>s</i><sub>1</sub>, . . . , and <i>s</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0108" num="0089">Next, the main random number transmitting section <b>114</b> transmits the main random numbers (a, b) generated in step A<b>2</b> to the decryption apparatus <b>120</b> (step A<b>3</b>).</p><p id="p-0109" num="0090">Next, the main random number receiving section <b>121</b> in the decryption apparatus <b>120</b> receives the main random numbers (a, b) from the concealment apparatus <b>110</b> (step A<b>4</b>).</p><p id="p-0110" num="0091">Next, the matching information concealment section <b>116</b> in the concealment apparatus <b>110</b> calculates,</p><p id="p-0111" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i><sub>j</sub>=[<i>s</i><sub>j</sub>]<i>G </i>and <i>z</i><sub>j</sub><i>=ax</i><sub>j</sub><i>&#x2212;bs</i><sub>j </sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0112" num="0000">for all j=1, . . . , and D,<br/>from the matching information x=(x<sub>1</sub>, . . . , and x<sub>D</sub>) acquired in step A<b>1</b> and<br/>the random numbers a, b, s=(s<sub>1</sub>, . . . , and s<sub>D</sub>) acquired in step A<b>2</b>.<br/>Among the calculated values, D values z<sub>1</sub>, . . . , and z<sub>D </sub>are expressed as a vector:</p><p id="p-0113" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>z</i>=(<i>z</i><sub>1</sub>, . . . , and <i>z</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0114" num="0092">The matching information concealment section <b>116</b> combines the calculated values to obtain the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), z) (step A<b>5</b>).</p><p id="p-0115" num="0093">Next, the concealed information transmitting section <b>118</b> transmits the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), z) generated in step A<b>5</b> to the similarity calculating apparatus <b>130</b> (step A<b>6</b>).</p><p id="p-0116" num="0094">Next, the concealed information receiving section <b>132</b> in the similarity calculating apparatus <b>130</b> receives the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), z) from the concealment apparatus <b>110</b> (step A<b>7</b>).</p><p id="p-0117" num="0095">Next, the registration information acquiring section <b>133</b> acquires, as the registration information, N D-dimensional vectors y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) (step A<b>8</b>).</p><p id="p-0118" num="0096">Next, the concealed similarity calculating section <b>137</b> calculates, as concealed similarities for all i=1, . . . , and N,</p><p id="p-0119" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[<i>y</i><sub>i,1</sub>]<i>S</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>S</i><sub>D </sub>and<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0120" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[&#x3c;<i>z,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0121" num="0000">from the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), z) received in step A<b>7</b> and the registration information y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>1</sub>=1, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) acquired in step A<b>8</b> (step A<b>9</b>).<br/>Note that because S<sub>j</sub>=[s<sub>j</sub>]G and z<sub>j</sub>=ax<sub>j</sub>&#x2212;bs<sub>j </sub>are satisfied for all j=1, . . . , and D, U<sub>i </sub>and W<sub>i </sub>for all i=1, . . . , and N are also be expressed as</p><p id="p-0122" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[&#x3c;<i>s,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0123" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>and<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0124" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[<i>a&#x3c;x,y</i><sub>i</sub><i>&#x3e;&#x2212;b&#x3c;s,y</i><sub>i</sub>&#x3e;]<i>G. </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0125" num="0097">Next, the concealed similarity transmitting section <b>139</b> transmits the concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, W<sub>1</sub>, . . . , and W<sub>N</sub>) calculated in step A<b>9</b> to the decryption apparatus <b>120</b> (step A<b>10</b>).</p><p id="p-0126" num="0098">Next, the concealed similarity receiving section <b>123</b> in the decryption apparatus <b>120</b> receives the concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, W<sub>1</sub>, . . . , and W<sub>N</sub>) from the similarity calculating apparatus <b>130</b> (step A<b>11</b>).</p><p id="p-0127" num="0099">Next, the decrypting section <b>124</b> calculates, as points of similarities for all i=1, . . . , and N,</p><p id="p-0128" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[&#x3c;<i>x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0129" num="0000">from the main random numbers a and b received in step A<b>4</b> and<br/>the concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, W<sub>1</sub>, . . . , and W<sub>N</sub>) received in step A<b>11</b> (step A<b>12</b>).<br/>Note that the point of similarity for all i=1, . . . , and N can be calculated as, for example, [a<sup>&#x2212;1</sup>]([b]U<sub>i</sub>+W<sub>i</sub>).</p><p id="p-0130" num="0100">Next, the similarity transmitting section <b>125</b> transmits the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) calculated in step A<b>12</b> to the information identifying apparatus <b>140</b> (step A<b>13</b>).</p><p id="p-0131" num="0101">Next, the similarity receiving section <b>142</b> in the information identifying apparatus <b>140</b> receives the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) from the decryption apparatus <b>120</b> (step A<b>14</b>).</p><p id="p-0132" num="0102">At the end of the main calculation process, the information identifying section <b>144</b> identifies, among the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) received in step A<b>14</b>, a point of similarity falling within a point acceptable range ([&#x3b8;<sub>1</sub>]G, . . . , and [&#x3b8;<sub>&#x3c4;</sub>]G) corresponding to a predefined acceptable range (&#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>) (step A<b>15</b>).</p><p id="p-0133" num="0103">Note that in this concrete example, although the points of similarities are calculated in step A<b>12</b> and the information is identified from the points of similarities in step A<b>15</b>, a similarity may be further calculated from the points of similarities in step A<b>12</b>, or a similarity falling within the acceptable range may be further identified in step A<b>12</b>, and an identifier associated with the similarity identified may be transmitted in step A<b>13</b>.</p><p id="p-0134" num="0104">This concrete example describes the example in which the similarity calculating apparatus <b>130</b> orders N concealed similarities to be transmitted to the decryption apparatus <b>120</b> in an index-based order of the registration information and transmits the resultant concealed similarities in step A<b>10</b>, but the similarity calculating apparatus <b>130</b> may assign a new identifier to each of the concealed similarities, shuffle the concealed similarities, and transmit the resultant concealed similarities to the decryption apparatus <b>120</b>. At this time, the similarity calculating apparatus <b>130</b> may further give correspondences of two types of identifiers to the information identifying apparatus <b>140</b> so that the information identifying apparatus <b>140</b> can determine an identifier of the registration information that the information identifying apparatus <b>140</b> desires to identify.</p><heading id="h-0017" level="1">Concrete Example 2 According to First Example Embodiment</heading><p id="p-0135" num="0105">Next, a concrete example 2 of the operation of the information matching system <b>100</b> according to the present example embodiment will be described.</p><p id="p-0136" num="0106">In this concrete example also, although a description is given assuming a case similar to the case of the concrete example 1 according to the first example embodiment, a target of the present example embodiment is not limited to these cases.</p><p id="p-0137" num="0107">First, the matching information acquiring section <b>111</b> in the concealment apparatus <b>110</b> acquires, as the matching information, a D-dimensional vector:</p><p id="p-0138" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i>=(<i>x</i><sub>1</sub>, . . . , and <i>x</i><sub>D</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0139" num="0000">(step A<b>1</b>).</p><p id="p-0140" num="0108">Next, the main random number acquiring section <b>113</b> acquires 2D+1 &#x3ba;-bit random numbers b, s<sub>1</sub>, . . . , and s<sub>D</sub>, t<sub>1</sub>, . . . , and t<sub>D </sub>(step A<b>2</b>). Hereinafter, among the acquired random numbers, b is referred to as a main random number. D random numbers s<sub>1</sub>, . . . , and s<sub>D </sub>and D random numbers t<sub>1</sub>, . . . , and t<sub>D </sub>are expressed as vectors:</p><p id="p-0141" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>s</i>=(<i>s</i><sub>1</sub>, . . . , and <i>s</i><sub>D</sub>) and <i>t</i>=(<i>t</i><sub>1</sub>, . . . , and <i>t</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0142" num="0109">Next, the main random number transmitting section <b>114</b> transmits the main random number b generated in step A<b>2</b> to the decryption apparatus <b>120</b> (step A<b>3</b>).</p><p id="p-0143" num="0110">Next, the main random number receiving section <b>121</b> in the decryption apparatus <b>120</b> receives the main random number b from the concealment apparatus <b>110</b> (step A<b>4</b>).</p><p id="p-0144" num="0111">Next, the matching information concealment section <b>116</b> in the concealment apparatus <b>110</b> calculates,</p><p id="p-0145" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i><sub>j</sub>=[<i>s</i><sub>j</sub>]<i>G,T</i><sub>j</sub>=[<i>t</i><sub>j</sub>]<i>G</i>, and <i>z</i><sub>j</sub><i>=&#x2212;bs</i><sub>j</sub><i>&#x2212;t</i><sub>j </sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0146" num="0000">for all j=1, . . . , and D,<br/>from the matching information x=(x<sub>1</sub>, . . . , and x<sub>D</sub>) acquired in step A<b>1</b> and<br/>b, s=(s<sub>1</sub>, . . . , and s<sub>D</sub>), and t=(t<sub>1</sub>, . . . , and t<sub>D</sub>) acquired in step A<b>2</b>.<br/>Among the calculated values, D values z<sub>1</sub>, . . . , and z<sub>D </sub>are expressed as a vector:</p><p id="p-0147" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>z</i>=(<i>z</i><sub>1</sub>, . . . , and <i>z</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0148" num="0000">The matching information concealment section <b>116</b> combines the calculated values to let ((S<sub>1</sub>, . . . , and S<sub>D</sub>), (T<sub>1</sub>, . . . , and T<sub>D</sub>), z) be the concealed information (step A<b>5</b>).</p><p id="p-0149" num="0112">Next, the concealed information transmitting section <b>118</b> transmits the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), (T<sub>1</sub>, . . . , and T<sub>D</sub>), z) generated in step A<b>5</b> to the similarity calculating apparatus <b>130</b> (step A<b>6</b>).</p><p id="p-0150" num="0113">Next, the concealed information receiving section <b>132</b> in the similarity calculating apparatus <b>130</b> receives the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), (T<sub>1</sub>, . . . , and T<sub>D</sub>), z) from the concealment apparatus <b>110</b> (step A<b>7</b>).</p><p id="p-0151" num="0114">Next, the registration information acquiring section <b>133</b> acquires, as the registration information, N D-dimensional vectors y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) (step A<b>8</b>).</p><p id="p-0152" num="0115">Next, the concealed similarity calculating section <b>137</b> calculates, as concealed similarities for all i=1, . . . , and N,</p><p id="p-0153" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[<i>y</i><sub>i,1</sub>]<i>S</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>S</i><sub>D </sub>and<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0154" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>i</sub>=[<i>y</i><sub>i,1</sub>]<i>T</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>T</i><sub>D</sub>+[&#x3c;<i>z,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0155" num="0000">from the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), (T<sub>1</sub>, . . . , and T<sub>D</sub>), z) received in step A<b>7</b> and<br/>the registration information y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>1</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, and N) acquired in step A<b>8</b> (step A<b>9</b>).<br/>Note that because S<sub>j</sub>=[s<sub>j</sub>]G, T<sub>j</sub>=[t<sub>j</sub>]G, and z<sub>j</sub>=x<sub>j</sub>&#x2212;bs<sub>j</sub>&#x2212;t<sub>j </sub>are satisfied for all j=1, . . . , and D,<br/>U<sub>i </sub>and V<sub>i </sub>for all i=1, . . . , and N are also be expressed as</p><p id="p-0156" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[&#x3c;<i>s,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0157" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>and<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0158" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>i</sub>=[&#x3c;<i>x,y</i><sub>i</sub><i>&#x3e;&#x2212;b&#x3c;s,y</i><sub>i</sub>&#x3e;]<i>G. </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0159" num="0116">Next, the concealed similarity transmitting section <b>139</b> transmits the concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) calculated in step A<b>9</b> to the decryption apparatus <b>120</b> (step A<b>10</b>).</p><p id="p-0160" num="0117">Next, the concealed similarity receiving section <b>123</b> in the decryption apparatus <b>120</b> receives the concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) from the similarity calculating apparatus <b>130</b> (step A<b>11</b>).</p><p id="p-0161" num="0118">Next, the decrypting section <b>124</b> calculates, as points of similarities for all i=1, . . . , and N,</p><p id="p-0162" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[&#x3c;<i>x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0163" num="0000">from the main random number b received in step A<b>4</b> and<br/>the concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) received in step A<b>11</b> (step A<b>12</b>).<br/>Note that the point of similarity for all i=1, . . . , and N can be calculated as, for example, [b]U<sub>i</sub>+V<sub>i</sub>+W<sub>i</sub>.</p><p id="p-0164" num="0119">Next, the similarity transmitting section <b>125</b> transmits the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) calculated in step A<b>12</b> to the information identifying apparatus <b>140</b> (step A<b>13</b>).</p><p id="p-0165" num="0120">Next, the similarity receiving section <b>142</b> in the information identifying apparatus <b>140</b> receives the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) from the decryption apparatus <b>120</b> (step A<b>14</b>).</p><p id="p-0166" num="0121">At the end of the main calculation process, the information identifying section <b>144</b> identifies, among the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) received in step A<b>14</b>, a point of similarity falling within a point acceptable range ([&#x3b8;<sub>1</sub>]G, . . . , and [&#x3b8;<sub>&#x3c4;</sub>]G) corresponding to a predefined acceptable range (&#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>) (step A<b>15</b>).</p><p id="p-0167" num="0122">Note that in this concrete example, although the points of similarities are calculated in step A<b>12</b> and the information is identified from the points of similarities in step A<b>15</b>, a similarity may be further calculated from the points of similarities in step A<b>12</b>, or a similarity falling within the acceptable range may be further identified in step A<b>12</b>, and an identifier associated with the similarity identified may be transmitted in step A<b>13</b>.</p><p id="p-0168" num="0123">This concrete example describes the example in which the similarity calculating apparatus <b>130</b> orders N concealed similarities to be transmitted to the decryption apparatus <b>120</b> in an index-based order of the registration information and transmits the resultant concealed similarities in step A<b>10</b>, but the similarity calculating apparatus <b>130</b> may assign a new identifier to each of the concealed similarities, shuffle the concealed similarities, and transmit the resultant concealed similarities to the decryption apparatus <b>120</b>. At this time, the similarity calculating apparatus <b>130</b> may further give correspondences of two types of identifiers to the information identifying apparatus <b>140</b> so that the information identifying apparatus <b>140</b> can determine an identifier of the registration information that the information identifying apparatus <b>140</b> desires to identify.</p><heading id="h-0018" level="2">[Description of Effect]</heading><p id="p-0169" num="0124">An effect of the present example embodiment described above is that information matching securely using the biometric information can be realized with a cost less than that of the case of using an additive homomorphic public key cryptosystem. This is because in the concealment of the matching information in step A<b>5</b>, the concealment is performed by the linear conversion instead of a homomorphic operation of an additive homomorphic public key cryptosystem. The linear conversion, rather than the general concealment, is applied to allow the concealed similarities and the similarities to be calculated in step A<b>9</b> and step A<b>12</b>.</p><heading id="h-0019" level="1">Second Example Embodiment</heading><heading id="h-0020" level="2">[Description of Configuration]</heading><p id="p-0170" num="0125"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a block diagram illustrating a configuration of an information matching system <b>200</b> according to a second example embodiment. The information matching system <b>200</b> includes a concealment apparatus <b>210</b>, a decryption apparatus <b>220</b>, a similarity calculating apparatus <b>230</b>, and an information identifying apparatus <b>240</b>. However, the apparatuses included in the information matching system <b>200</b> may be configured as separate apparatuses, or may be adequately mounted on an identical apparatus as usage. For example, the information matching system <b>200</b> can be realized as a client-server system by separately mounting the concealment apparatus <b>210</b> and the decryption apparatus <b>220</b> on a client, and the similarity calculating apparatus <b>230</b> and the information identifying apparatus <b>240</b> on a server.</p><p id="p-0171" num="0126">The apparatuses illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref> (the concealment apparatus <b>210</b>, the decryption apparatus <b>220</b>, the similarity calculating apparatus <b>230</b>, and the information identifying apparatus <b>240</b>) are connected in a wired or wireless manner and configured to be communicable with each other.</p><p id="p-0172" num="0127">The concealment apparatus <b>210</b> includes</p><p id="p-0173" num="0000">a matching information acquiring section <b>211</b> that acquires matching information,<br/>a random number acquiring section <b>213</b> that acquires random numbers,<br/>a main random number transmitting section <b>214</b> that transmits main random numbers included in the random numbers acquired by the random number acquiring section <b>213</b>,<br/>a matching information concealment section <b>216</b> that conceals the matching information acquired by the matching information acquiring section <b>211</b> using the random numbers acquired by the random number acquiring section <b>213</b>, and<br/>a concealed information transmitting section <b>218</b> that transmits the concealed information generated by the matching information concealment section <b>216</b>.</p><p id="p-0174" num="0128">The decryption apparatus <b>220</b> includes</p><p id="p-0175" num="0000">a main random number receiving section <b>221</b> that receives the main random numbers,<br/>a concealed transformed similarity receiving section <b>223</b> that receives the concealed transformed similarity,<br/>a decrypting section <b>224</b> that calculates a transformed similarity from the main random numbers received by the main random number receiving section <b>221</b> and the concealed transformed similarity received by the concealed transformed similarity receiving section <b>223</b>, and<br/>a similarity transmitting section <b>225</b> that transmits the transformed similarity calculated by the decrypting section <b>224</b>.</p><p id="p-0176" num="0129">The similarity calculating apparatus <b>230</b> includes</p><p id="p-0177" num="0000">a concealed information receiving section <b>232</b> that receives the concealed information,<br/>a registration information acquiring section <b>233</b> that acquires registration information,<br/>a transformation key generating section <b>234</b> that generates a transformation key and an inverse transformation key,<br/>an inverse transformation key transmitting section <b>235</b> that transmits the inverse transformation key generated by the transformation key generating section <b>234</b>,<br/>a concealed transformed similarity calculating section <b>237</b> that calculates a concealed transformed similarity from the concealed information received by the concealed information receiving section <b>232</b>, the registration information received by the registration information acquiring section <b>233</b>, and the transformation key generated by the transformation key generating section <b>234</b>, and<br/>a concealed transformed similarity transmitting section <b>239</b> that transmits the concealed transformed similarity calculated by the concealed transformed similarity calculating section <b>237</b>.</p><p id="p-0178" num="0130">The information identifying apparatus <b>240</b> includes</p><p id="p-0179" num="0000">an inverse transformation key receiving section <b>241</b> that receives an inverse transformation key,<br/>a transformed similarity receiving section <b>242</b> that receives the transformed similarity, an inverse transforming section <b>243</b> that inversely transforms the transformed similarity received by the transformed similarity receiving section <b>242</b> using the inverse transformation key generated by the transformation key generating section <b>234</b>, and<br/>an information identifying section <b>244</b> that identifies information using the similarity calculated by the inverse transforming section <b>243</b>.</p><heading id="h-0021" level="2">[Description of Operation]</heading><p id="p-0180" num="0131">Next, with reference to <figref idref="DRAWINGS">FIG. <b>5</b></figref>, an entire operation of the information matching system <b>200</b> according to the present example embodiment will be described.</p><p id="p-0181" num="0132">First, the matching information acquiring section <b>211</b> in the concealment apparatus <b>210</b> acquires matching information (step B<b>1</b>). Note that the matching information may be acquired in any way. For example, the matching information may be generated using a matching information acquiring function that the concealment apparatus <b>210</b> has therein, or may be acquired from outside of the concealment apparatus <b>210</b>.</p><p id="p-0182" num="0133">Next, the random number acquiring section <b>213</b> acquires random numbers (step B<b>2</b>). Note that the random numbers may be acquired in any way. For example, the random numbers may be generated using a random number generating function that the concealment apparatus <b>210</b> has therein, or random numbers generated outside the concealment apparatus <b>210</b> may be acquired from an external apparatus.</p><p id="p-0183" num="0134">Next, the random number transmitting section <b>214</b> transmits main random numbers among the random numbers generated in step B<b>2</b> to the decryption apparatus <b>220</b> (step B<b>3</b>).</p><p id="p-0184" num="0135">Next, the main random number receiving section <b>221</b> in the decryption apparatus <b>220</b> receives the main random numbers from the concealment apparatus <b>210</b> (step B<b>4</b>).</p><p id="p-0185" num="0136">Next, the matching information concealment section <b>216</b> in the concealment apparatus <b>210</b> conceals the matching information acquired in step B<b>1</b> by a linear conversion using the random numbers acquired in step B<b>2</b> to generate concealed information (step B<b>5</b>).</p><p id="p-0186" num="0137">Next, the concealed information transmitting section <b>218</b> transmits the concealed information generated in step B<b>5</b> to the similarity calculating apparatus <b>230</b> (step B<b>6</b>).</p><p id="p-0187" num="0138">Next, the concealed information receiving section <b>232</b> in the similarity calculating apparatus <b>230</b> receives the concealed information from the concealment apparatus <b>210</b> (step B<b>7</b>).</p><p id="p-0188" num="0139">Next, the registration information acquiring section <b>233</b> acquires registration information (step B<b>8</b>). The registration information may be stored anywhere. For example, a database storing the registration information may be included in the similarity calculating apparatus <b>230</b>, or the registration information may be stored in an external apparatus connected with the similarity calculating apparatus <b>230</b>. The registration information may include a plurality of pieces of information. In a case that a plurality of pieces of information are included, each piece of registration information is assigned with a specific identifier.</p><p id="p-0189" num="0140">Next, the transformation key generating section <b>234</b> acquires the random numbers to generate a transformation key and an inverse transformation key based on the random number (step B<b>9</b>). Note that the random numbers may be acquired in any way. For example, the random numbers may be generated using a random number generating function that the similarity calculating apparatus <b>230</b> has therein, or random numbers generated outside the similarity calculating apparatus <b>230</b> may be acquired from an external apparatus.</p><p id="p-0190" num="0141">Next, the inverse transformation key transmitting section <b>235</b> transmits the inverse transformation key generated in step B<b>9</b> to the information identifying apparatus <b>240</b> (step B<b>10</b>).</p><p id="p-0191" num="0142">Next, the inverse transformation key receiving section <b>241</b> in the information identifying apparatus <b>240</b> receives the inverse transformation key from the similarity calculating apparatus <b>230</b> (step B<b>11</b>).</p><p id="p-0192" num="0143">Next, the concealed transformed similarity calculating section <b>237</b> in the similarity calculating apparatus <b>230</b> calculates a concealed transformed similarity from the concealed information received in step B<b>7</b>, the registration information acquired in step B<b>8</b>, and the transformation key generated in step B<b>9</b> (step B<b>12</b>).</p><p id="p-0193" num="0144">Note that the concealed transformed similarity is a concealed form of a value which is a transformed form of the similarity between the matching information and the registration information using the transformation key. In the case that the registration information includes a plurality of pieces of information, the number of the calculated concealed transformed similarities is the same as the number of the plurality of pieces of information. Each concealed transformed similarity is assigned with a specific identifier, and which registration information the concealed transformed similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each concealed transformed similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0194" num="0145">Next, the concealed transformed similarity transmitting section <b>239</b> transmits the concealed transformed similarity calculated in step B<b>12</b> to the decryption apparatus <b>220</b> (step B<b>13</b>).</p><p id="p-0195" num="0146">Next, the concealed transformed similarity receiving section <b>223</b> in the decryption apparatus <b>220</b> receives the concealed transformed similarity from the similarity calculating apparatus <b>230</b> (step B<b>14</b>).</p><p id="p-0196" num="0147">Next, the decrypting section <b>224</b> calculates a transformed similarity from the main random numbers received in step B<b>4</b> and the concealed transformed similarity received in step B<b>14</b> (step B<b>15</b>).</p><p id="p-0197" num="0148">Note that the transformed similarity is a transformed form of the similarity between the matching information and the registration information using the transformation key. In the case that the registration information includes a plurality of pieces of information, the number of the calculated transformed similarities is the same as the number of the plurality of pieces of information. Each transformed similarity is assigned with a specific identifier, and which registration information the transformed similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each transformed similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0198" num="0149">Next, the similarity transmitting section <b>225</b> transmits the transformed similarity calculated in step B<b>15</b> to the information identifying apparatus <b>240</b> (step B<b>16</b>).</p><p id="p-0199" num="0150">Next, the transformed similarity receiving section <b>242</b> in the information identifying apparatus <b>240</b> receives the transformed similarity from the decryption apparatus <b>220</b> (step B<b>17</b>).</p><p id="p-0200" num="0151">Next, the inverse transforming section <b>243</b> inversely transforms the transformed similarity received in step B<b>17</b> using the inverse transformation key received in step B<b>11</b> to calculate a similarity (step B<b>18</b>).</p><p id="p-0201" num="0152">Note that the similarity is a similarity between the matching information and the registration information. In the case that the registration information includes a plurality of pieces of information, the number of the calculated similarities is the same as the number of the plurality of pieces of information. Each similarity is assigned with a specific identifier, and which registration information the similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0202" num="0153">Finally, the information identifying section <b>244</b> identifies, among the similarities calculated in step B<b>18</b>, a similarity falling within a predefined acceptable range to identify registration information that is recognized to be sufficiently similar to the matching information (step B<b>19</b>).</p><p id="p-0203" num="0154">Note that in a case that it is not necessary to identify the registration information recognized to be sufficiently similar to the matching information, but it is desired to check whether the registration information recognized to be sufficiently similar to the matching information is present or not, such processing may be made.</p><heading id="h-0022" level="1">Concrete Example 1 According to Second Example Embodiment</heading><p id="p-0204" num="0155">Next, a concrete example 1 of the operation of the information matching system <b>200</b> according to the present example embodiment will be described.</p><p id="p-0205" num="0156">In this concrete example, a case that a group on elliptic curve is used will be described. Assume that a group with an order of a &#x3ba;-bit prime number q on an elliptic curve E and a generator G of the group are published.</p><p id="p-0206" num="0157">In this concrete example, a case that vectors (with a dimension number of D) are used for the matching information and the registration information will be described. Furthermore, a case that the similarity between the matching information and the registration information is calculated by use of the inner product of the two vectors will be described. Assume a case that the matching information and the registration information are determined to be sufficiently similar to each other is a case that the similarity calculated by use of the inner product of the matching information and the registration information matches any one of T values &#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>.</p><p id="p-0207" num="0158">In this concrete example, assume that pieces of information of N persons are registered in the database, and the pieces of the registration information of N persons are assigned with the identifiers of 1 to N. However, a target of the present example embodiment is not limited to such cases above.</p><p id="p-0208" num="0159">First, the matching information acquiring section <b>211</b> in the concealment apparatus <b>210</b> acquires, as the matching information, a D-dimensional vector:</p><p id="p-0209" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i>=(<i>x</i><sub>1</sub>, . . . , and <i>x</i><sub>D</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0210" num="0000">(step B<b>1</b>).</p><p id="p-0211" num="0160">Next, the main random number acquiring section <b>213</b> acquires, as the random numbers, D+2 &#x3ba;-bit random numbers a, b, s<sub>1</sub>, . . . , and s<sub>D </sub>(step B<b>2</b>). Hereinafter, among the acquired random numbers, a and b are collectedly referred to as main random numbers. D random numbers s<sub>1</sub>, . . . , and s<sub>D </sub>are expressed as a vector:</p><p id="p-0212" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>s</i>=(<i>s</i><sub>1</sub>, . . . , and <i>s</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0213" num="0161">Next, the main random number transmitting section <b>214</b> transmits the main random numbers (a, b) generated in step B<b>2</b> to the decryption apparatus <b>220</b> (step B<b>3</b>).</p><p id="p-0214" num="0162">Next, the main random number receiving section <b>221</b> in the decryption apparatus <b>220</b> receives the main random numbers (a, b) from the concealment apparatus <b>210</b> (step B<b>4</b>).</p><p id="p-0215" num="0163">Next, the matching information concealment section <b>216</b> in the concealment apparatus <b>210</b> calculates,</p><p id="p-0216" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i><sub>j</sub>=[<i>s</i><sub>j</sub>]<i>G </i>and <i>z</i><sub>j</sub><i>=ax</i><sub>j</sub><i>&#x2212;bs</i><sub>j </sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0217" num="0000">for all j=1, . . . , and D,<br/>from the matching information x=(x<sub>1</sub>, . . . , and x<sub>D</sub>) acquired in step B<b>1</b> and<br/>the random numbers a, b, and s=(s<sub>1</sub>, . . . , and s<sub>D</sub>) acquired in step B<b>2</b>.<br/>Among the calculated values, D values z<sub>1</sub>, . . . , and z<sub>D </sub>are expressed as a vector:</p><p id="p-0218" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>z</i>=(<i>z</i><sub>1</sub>, . . . , and <i>z</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0219" num="0000">The matching information concealment section <b>216</b> combines the calculated values to let ((S<sub>1</sub>, . . . , and S<sub>D</sub>), z) be the concealed information (step B<b>5</b>).</p><p id="p-0220" num="0164">Next, the concealed information transmitting section <b>218</b> transmits the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), z) generated in step B<b>5</b> to the similarity calculating apparatus <b>230</b> (step B<b>6</b>).</p><p id="p-0221" num="0165">Next, the concealed information receiving section <b>232</b> in the similarity calculating apparatus <b>230</b> receives the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), z) from the concealment apparatus <b>210</b> (step B<b>7</b>).</p><p id="p-0222" num="0166">Next, the registration information acquiring section <b>233</b> acquires, as the registration information, N D-dimensional vectors y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) (step B<b>8</b>).</p><p id="p-0223" num="0167">Next, the transformation key generating section <b>234</b> acquires D &#x3ba;-bit random numbers r<sub>1</sub>, . . . , and r<sub>N </sub>to let (r<sub>1</sub>, . . . , and r<sub>N</sub>) be the transformation keys and ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) be the inverse transformation keys (step B<b>9</b>).</p><p id="p-0224" num="0168">Next, the inverse transformation key transmitting section <b>235</b> transmits the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) generated in step B<b>9</b> to the information identifying apparatus <b>240</b> (step B<b>10</b>).</p><p id="p-0225" num="0169">Next, the inverse transformation key receiving section <b>241</b> in the information identifying apparatus <b>240</b> receives the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) from the similarity calculating apparatus <b>230</b> (step B<b>11</b>).</p><p id="p-0226" num="0170">Next, the concealed transformed similarity calculating section <b>237</b> calculates, as concealed transformed similarities for all i=1, . . . , and N,</p><p id="p-0227" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[<i>r</i><sub>i</sub>]([<i>y</i><sub>i,1</sub>]<i>S</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>S</i><sub>D</sub>) and<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0228" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;z,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0229" num="0000">from the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), z) received in step B<b>7</b>,<br/>the registration information y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) acquired in step B<b>8</b>, and<br/>the transformation keys (r<sub>1</sub>, . . . , and r<sub>N</sub>) generated in step B<b>9</b> (step B<b>12</b>).<br/>Note that because S<sub>j</sub>=[s<sub>j</sub>]G and z<sub>j</sub>=ax<sub>j</sub>&#x2212;bs<sub>j </sub>are satisfied for all j=1, . . . , and D,<br/>U<sub>i </sub>and W<sub>i </sub>for all i=1, . . . , and N are also be expressed as</p><p id="p-0230" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;s,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0231" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>and<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0232" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[<i>r</i><sub>i</sub>(<i>a&#x3c;x,y</i><sub>i</sub><i>&#x3e;&#x2212;b&#x3c;s,y</i><sub>i</sub>&#x3e;)]<i>G. </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0233" num="0171">Next, the concealed transformed similarity transmitting section <b>239</b> transmits the concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, W<sub>1</sub>, . . . , and W<sub>N</sub>) calculated in step B<b>12</b> to the decryption apparatus <b>220</b> (step B<b>13</b>).</p><p id="p-0234" num="0172">Next, the concealed transformed similarity receiving section <b>223</b> in the decryption apparatus <b>220</b> receives the concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, W<sub>1</sub>, . . . , and W<sub>N</sub>) from the similarity calculating apparatus <b>230</b> (step B<b>14</b>).</p><p id="p-0235" num="0173">Next, the decrypting section <b>224</b> calculates, as transformed similarities for all i=1, . . . , and N,</p><p id="p-0236" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>A</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0237" num="0000">from the main random numbers a and b received in step B<b>4</b> and<br/>the concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, W<sub>1</sub>, . . . , and W<sub>N</sub>) received in step B<b>14</b> (step B<b>15</b>).<br/>Note that the transformed similarity for all i=1, . . . , and N can be calculated as, for example,</p><p id="p-0238" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[<i>a</i><sup>&#x2212;1</sup>]([<i>b</i>]<i>U</i><sub>i</sub><i>+W</i><sub>i</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0239" num="0174">Next, the similarity transmitting section <b>225</b> transmits the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) calculated in step B<b>15</b> to the information identifying apparatus <b>240</b> (step B<b>16</b>).</p><p id="p-0240" num="0175">Next, the transformed similarity receiving section <b>242</b> in the information identifying apparatus <b>240</b> receives the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) from the decryption apparatus <b>220</b> (step B<b>17</b>).</p><p id="p-0241" num="0176">Next, the inverse transforming section <b>243</b> calculates, as points of similarities for all i=1, . . . , and N,</p><p id="p-0242" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[&#x3c;<i>x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0243" num="0000">from the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) received in step B<b>11</b> and the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) received in step B<b>17</b> (step B<b>18</b>).<br/>Note that the point of similarity for all i=1, . . . , and N can be calculated as, for example,</p><p id="p-0244" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[(<i>r</i><sub>i</sub>)<sup>&#x2212;1</sup>](<i>A</i><sub>i</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0245" num="0177">At the end of the main calculation process, the information identifying section <b>244</b> identifies, among the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) calculated in step B<b>18</b>, a point of similarity falling within a point acceptable range ([&#x3b8;<sub>1</sub>]G, . . . , and [&#x3b8;<sub>&#x3c4;</sub>]G) corresponding to a predefined acceptable range (&#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>) (step B<b>19</b>).</p><p id="p-0246" num="0178">This concrete example describes the example in which the similarity calculating apparatus <b>230</b> orders N concealed similarities to be transmitted to the decryption apparatus <b>220</b> in an index-based order of the registration information and transmits the resultant concealed similarities in step B<b>13</b>, but the similarity calculating apparatus <b>230</b> may assign a new identifier to each of the concealed similarities, shuffle the concealed similarities, and transmit the resultant concealed similarities to the decryption apparatus <b>220</b>. At this time, the similarity calculating apparatus <b>230</b> may further give correspondences of two types of identifiers to the information identifying apparatus <b>240</b> so that the information identifying apparatus <b>240</b> can determine an identifier of the registration information that the information identifying apparatus <b>240</b> desires to identify.</p><heading id="h-0023" level="1">Concrete Example 2 According to Second Example Embodiment</heading><p id="p-0247" num="0179">Next, a concrete example 2 of the operation of the information matching system <b>200</b> according to the present example embodiment will be described.</p><p id="p-0248" num="0180">In this concrete example also, although a description is given assuming a case similar to the case of the concrete example 1 according to the second example embodiment, a target of the present example embodiment is not limited to these cases.</p><p id="p-0249" num="0181">First, the matching information acquiring section <b>211</b> in the concealment apparatus <b>210</b> acquires, as the matching information, a D-dimensional vector:</p><p id="p-0250" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i>=(<i>x</i><sub>1</sub>, . . . , and <i>x</i><sub>D</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0251" num="0000">(step B<b>1</b>).</p><p id="p-0252" num="0182">Next, the main random number acquiring section <b>213</b> acquires 2D+1 &#x3ba;-bit random numbers b, s<sub>1</sub>, . . . , and s<sub>D</sub>, t<sub>1</sub>, . . . , and t<sub>D </sub>(step B<b>2</b>). Hereinafter, among the acquired random numbers, b is referred to as a main random number. D random numbers s<sub>1</sub>, . . . , and s<sub>D </sub>and D random numbers t<sub>1</sub>, . . . , and t<sub>D </sub>are expressed as vectors:</p><p id="p-0253" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>s</i>=(<i>s</i><sub>1</sub>, . . . , and <i>s</i><sub>D</sub>) and <i>t</i>=(<i>t</i><sub>1</sub>, . . . , and <i>t</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0254" num="0183">Next, the main random number transmitting section <b>214</b> transmits the main random number b generated in step B<b>2</b> to the decryption apparatus <b>220</b> (step B<b>3</b>).</p><p id="p-0255" num="0184">Next, the main random number receiving section <b>221</b> in the decryption apparatus <b>220</b> receives the main random number b from the concealment apparatus <b>210</b> (step B<b>4</b>).</p><p id="p-0256" num="0185">Next, the matching information concealment section <b>216</b> in the concealment apparatus <b>210</b> calculates,</p><p id="p-0257" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i><sub>j</sub>=[<i>s</i><sub>j</sub>]<i>G,T</i><sub>j</sub>=[<i>t</i><sub>j</sub>]<i>G,z</i><sub>j</sub><i>=x</i><sub>j</sub><i>&#x2212;bs</i><sub>j</sub><i>&#x2212;t</i><sub>j </sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0258" num="0000">for all j=1, . . . , and D,<br/>from the matching information x=(x<sub>1</sub>, . . . , and x<sub>D</sub>) acquired in step B<b>1</b> and<br/>random numbers b, s=(s<sub>1</sub>, . . . , and s<sub>D</sub>), and t=(t<sub>1</sub>, . . . , and t<sub>D</sub>) acquired in step B<b>2</b>.<br/>Among the calculated values, D values z<sub>1</sub>, . . . , and z<sub>D </sub>are expressed as a vector:</p><p id="p-0259" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>z</i>=(<i>z</i><sub>1</sub>, . . . , and <i>z</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0260" num="0000">The matching information concealment section <b>216</b> combines the calculated values to let ((S<sub>1</sub>, . . . , and S<sub>D</sub>), (T<sub>1</sub>, . . . , and T<sub>D</sub>), z) be the concealed information (step B<b>5</b>).</p><p id="p-0261" num="0186">Next, the concealed information transmitting section <b>218</b> transmits the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), (T<sub>1</sub>, . . . , and T<sub>D</sub>), z) generated in step B<b>5</b> to the similarity calculating apparatus <b>230</b> (step B<b>6</b>).</p><p id="p-0262" num="0187">Next, the concealed information receiving section <b>232</b> in the similarity calculating apparatus <b>230</b> receives the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), (T<sub>1</sub>, . . . , and T<sub>D</sub>), z) from the concealment apparatus <b>210</b> (step B<b>7</b>).</p><p id="p-0263" num="0188">Next, the registration information acquiring section <b>233</b> acquires, as the registration information, N D-dimensional vectors y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=i, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) (step B<b>8</b>).</p><p id="p-0264" num="0189">Next, the transformation key generating section <b>234</b> acquires D &#x3ba;-bit random numbers r<sub>1</sub>, . . . , and r<sub>N </sub>to let (r<sub>1</sub>, . . . , and r<sub>N</sub>) be the transformation keys and ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) be the inverse transformation keys (step B<b>9</b>).</p><p id="p-0265" num="0190">Next, the inverse transformation key transmitting section <b>235</b> transmits the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) generated in step B<b>9</b> to the information identifying apparatus <b>240</b> (step B<b>10</b>).</p><p id="p-0266" num="0191">Next, the inverse transformation key receiving section <b>241</b> in the information identifying apparatus <b>240</b> receives the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) from the similarity calculating apparatus <b>230</b> (step B<b>11</b>).</p><p id="p-0267" num="0192">Next, the concealed transformed similarity calculating section <b>237</b> calculates, as concealed transformed similarities for all i=1, . . . , and N,</p><p id="p-0268" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[<i>r</i><sub>i</sub>]([<i>y</i><sub>i,1</sub>]<i>S</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>S</i><sub>D</sub>) and<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0269" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>i</sub>=[<i>r</i><sub>i</sub>]([<i>y</i><sub>i,1</sub>]<i>T</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>T</i><sub>D</sub>+[&#x3c;<i>z,y</i><sub>i</sub>&#x3e;]<i>G</i>)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0270" num="0000">from the concealed information ((S<sub>1</sub>, . . . , and S<sub>D</sub>), (T<sub>1</sub>, . . . , and T<sub>D</sub>), z) received in step B<b>7</b>,<br/>the registration information y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, and N) acquired in step B<b>8</b>, and<br/>the transformation keys (r<sub>1</sub>, . . . , and r<sub>N</sub>) generated in step B<b>9</b> (step B<b>12</b>).<br/>Note that because S<sub>j</sub>=[s<sub>j</sub>]G, T<sub>j</sub>=[t<sub>j</sub>]G, and z<sub>j</sub>=x<sub>j</sub>&#x2212;bs<sub>j</sub>&#x2212;t<sub>j </sub>are satisfied for all j=1, . . . , and D,<br/>U<sub>i </sub>and V<sub>i </sub>for all i=1, . . . , and N are also be expressed as</p><p id="p-0271" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;s,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0272" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>and<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0273" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>i</sub>=[<i>r</i><sub>i</sub>(&#x3c;<i>x,y</i><sub>i</sub><i>&#x3e;&#x2212;b&#x3c;s,y</i><sub>i</sub>&#x3e;)]<i>G. </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0274" num="0193">Next, the concealed transformed similarity transmitting section <b>239</b> transmits the concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) calculated in step B<b>12</b> to the decryption apparatus <b>220</b> (step B<b>13</b>).</p><p id="p-0275" num="0194">Next, the concealed transformed similarity receiving section <b>223</b> in the decryption apparatus <b>220</b> receives the concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) from the similarity calculating apparatus <b>230</b> (step B<b>14</b>).</p><p id="p-0276" num="0195">Next, the decrypting section <b>224</b> calculates, as transformed similarities for all i=1, . . . , and N,</p><p id="p-0277" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>A</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0278" num="0000">from the main random number b received in step B<b>4</b> and<br/>the concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) received in step B<b>14</b> (step B<b>15</b>).<br/>Note that the transformed similarity for all i=1, . . . , and N can be calculated as, for example,</p><p id="p-0279" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[<i>b</i>]<i>U</i><sub>i</sub><i>+V</i><sub>i</sub>.<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0280" num="0196">Next, the similarity transmitting section <b>225</b> transmits the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) calculated in step B<b>15</b> to the information identifying apparatus <b>240</b> (step B<b>16</b>).</p><p id="p-0281" num="0197">Next, the transformed similarity receiving section <b>242</b> in the information identifying apparatus <b>240</b> receives the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) from the decryption apparatus <b>220</b> (step B<b>17</b>).</p><p id="p-0282" num="0198">Next, the inverse transforming section <b>243</b> calculates, as points of similarities for all i=1, . . . , and N,</p><p id="p-0283" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[&#x3c;<i>x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0284" num="0000">from the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) received in step B<b>11</b> and<br/>the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) received in step B<b>17</b> (step B<b>18</b>).<br/>Note that the point of similarity for all i=1, . . . , and N can be calculated as, for example, [(r<sub>i</sub>)<sup>&#x2212;1</sup>](A<sub>i</sub>).</p><p id="p-0285" num="0199">At the end of the main calculation process, the information identifying section <b>244</b> identifies, among the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) calculated in step B<b>18</b>, a point of similarity falling within a point acceptable range ([&#x3b8;<sub>i</sub>]G, . . . , and [&#x3b8;&#x3c4;]G) corresponding to a predefined acceptable range (&#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>) (step B<b>19</b>).</p><p id="p-0286" num="0200">This concrete example describes the example in which the similarity calculating apparatus <b>230</b> orders N concealed similarities to be transmitted to the decryption apparatus <b>220</b> in an index-based order of the registration information and transmits the resultant concealed similarities in step B<b>13</b>, but the similarity calculating apparatus <b>230</b> may assign a new identifier to each of the concealed similarities, shuffle the concealed similarities, and transmit the resultant concealed similarities to the decryption apparatus <b>220</b>. At this time, the similarity calculating apparatus <b>230</b> may further give correspondences of two types of identifiers to the information identifying apparatus <b>240</b> so that the information identifying apparatus <b>240</b> can determine an identifier of the registration information that the information identifying apparatus <b>240</b> desires to identify.</p><heading id="h-0024" level="2">[Description of Effect]</heading><p id="p-0287" num="0201">An effect of the present example embodiment described above is, similar to the first example embodiment, that the information matching securely using the biometric information can be realized with the cost less than that of the case of using an additive homomorphic public key cryptosystem. This is because in the concealment of the matching information in step B<b>5</b>, the concealment is performed by the linear conversion instead of a homomorphic operation of an additive homomorphic public key cryptosystem. The linear conversion, rather than the general concealment, is applied to allow the concealed transformed similarities and the transformed similarities to be calculated in steps B<b>12</b> and B<b>15</b>.</p><p id="p-0288" num="0202">Furthermore, the present example embodiment has an effect that the present example embodiment can be executed without leaking the value of the similarity to the decryption apparatus <b>220</b>, even in a case that the decryption apparatus <b>220</b> has information related to a random number other than the main random number, such as a case that the concealment apparatus <b>210</b> and the decryption apparatus <b>220</b> are mounted on the same apparatus. This is because the decryption apparatus <b>220</b> acquires the similarity that is transformed based on the transformation key generated by the similarity calculating apparatus <b>230</b>.</p><heading id="h-0025" level="1">Third Example Embodiment</heading><heading id="h-0026" level="2">[Description of Configuration]</heading><p id="p-0289" num="0203"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a block diagram illustrating a configuration of an information matching system <b>300</b> according to a third example embodiment. The information matching system <b>300</b> includes a concealment apparatus <b>310</b>, a decryption apparatus <b>320</b>, a similarity calculating apparatus <b>330</b>, and an information identifying apparatus <b>340</b>. However, the apparatuses included in the information matching system <b>300</b> may be configured as separate apparatuses, or may be adequately mounted on an identical apparatus as usage. For example, the information matching system <b>300</b> can be realized as a client-server system by separately mounting the concealment apparatus <b>310</b> and the decryption apparatus <b>320</b> on a client, and the similarity calculating apparatus <b>330</b> and the information identifying apparatus <b>340</b> on a server.</p><p id="p-0290" num="0204">The apparatuses illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref> (the concealment apparatus <b>310</b>, the decryption apparatus <b>320</b>, the similarity calculating apparatus <b>330</b>, and the information identifying apparatus <b>340</b>) are connected in a wired or wireless manner and configured to be communicable with each other.</p><p id="p-0291" num="0205">The concealment apparatus <b>310</b> includes</p><p id="p-0292" num="0000">a matching information acquiring section <b>311</b> that acquires matching information,<br/>a preliminary random number acquiring section <b>312</b> that acquires random numbers used for preliminary calculation,<br/>a main random number acquiring section <b>313</b> that acquires random numbers used for main calculation,<br/>a main random number transmitting section <b>314</b> that transmits the main random numbers acquired by the main random number acquiring section <b>313</b>,<br/>a random number concealment section <b>315</b> that conceals the random numbers acquired by the preliminary random number acquiring section <b>312</b>,<br/>a matching information concealment section <b>316</b> that conceals the matching information acquired by the matching information acquiring section <b>311</b> using the random numbers<br/>acquired by the main random number acquiring section <b>313</b>,<br/>a concealed random number transmitting section <b>317</b> that transmits the concealed random numbers generated by the random number concealment section <b>315</b>, and<br/>a concealed matching information transmitting section <b>318</b> that transmits the concealed matching information generated by the matching information concealment section <b>316</b>.</p><p id="p-0293" num="0206">The decryption apparatus <b>320</b> includes</p><p id="p-0294" num="0000">a main random number receiving section <b>321</b> that receives the main random numbers,<br/>a first concealed similarity receiving section <b>322</b> that receives a first concealed similarity,<br/>a second concealed similarity receiving section <b>323</b> that receives a second concealed similarity,<br/>a decrypting section <b>324</b> that calculates a similarity from the main random numbers received by the main random number receiving section <b>321</b>, the first concealed similarity received by the first concealed similarity receiving section <b>322</b>, and the second concealed similarity received by the second concealed similarity receiving section <b>323</b>, and<br/>a similarity transmitting section <b>325</b> that transmits the similarity calculated by the decrypting section <b>324</b>.</p><p id="p-0295" num="0207">The similarity calculating apparatus <b>330</b> includes</p><p id="p-0296" num="0000">a concealed random number receiving section <b>331</b> that receives the concealed random numbers,<br/>a concealed matching information receiving section <b>332</b> that receives the concealed matching information,<br/>a registration information acquiring section <b>333</b> that acquires registration information,<br/>a first concealed similarity calculating section <b>336</b> that calculates the first concealed similarity from the concealed random numbers received by the concealed random number receiving section <b>331</b> and the registration information received by the registration information acquiring section <b>333</b>,<br/>a second concealed similarity calculating section <b>337</b> that calculates the second concealed similarity from the concealed matching information received by the concealed matching information receiving section <b>332</b> and the registration information received by the registration information acquiring section <b>333</b>,<br/>a first concealed similarity transmitting section <b>338</b> that transmits the first concealed similarity calculated by the first concealed similarity calculating section <b>336</b>, and<br/>a second concealed similarity transmitting section <b>339</b> that transmits the second concealed similarity calculated by the second concealed similarity calculating section <b>337</b>.</p><p id="p-0297" num="0208">The information identifying apparatus <b>340</b> includes</p><p id="p-0298" num="0000">a similarity receiving section <b>342</b> that receives the similarity, and<br/>an information identifying section <b>344</b> that identifies information using the similarity received by the similarity receiving section <b>342</b>.</p><heading id="h-0027" level="2">[Description of Operation]</heading><p id="p-0299" num="0209">Next, with reference to <figref idref="DRAWINGS">FIGS. <b>7</b> and <b>8</b></figref>, an entire operation of the information matching system <b>300</b> according to the present example embodiment will be described. The processes performed in the information matching system <b>300</b> can be divided into two processes, a preliminary calculation process and a main calculation process. Hereinafter, each of operation examples of the processes will be descried. <figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flow diagram illustrating the preliminary calculation process of the information matching system <b>300</b>. The preliminary calculation process is performed as described below by the concealment apparatus <b>310</b>, the decryption apparatus <b>320</b>, and the similarity calculating apparatus <b>330</b>.</p><p id="p-0300" num="0210">First, the preliminary random number acquiring section <b>312</b> in the concealment apparatus <b>310</b> acquires preliminary random numbers which are the random numbers used for the preliminary calculation process (step C<b>1</b>). Note that the random numbers may be acquired in any way. For example, the random numbers may be generated using a random number generating function that the concealment apparatus <b>310</b> has therein, or random numbers generated outside the concealment apparatus <b>310</b> may be acquired from an external apparatus.</p><p id="p-0301" num="0211">Next, the random number concealment section <b>315</b> conceals the preliminary random numbers acquired in step C<b>1</b> to generate concealed random numbers (step C<b>2</b>).</p><p id="p-0302" num="0212">Next, the concealed random number transmitting section <b>317</b> transmits the concealed random numbers generated in step C<b>2</b> to the similarity calculating apparatus <b>330</b> (step C<b>3</b>).</p><p id="p-0303" num="0213">Next, the concealed random number receiving section <b>331</b> in the similarity calculating apparatus <b>330</b> receives the concealed random numbers from the concealment apparatus <b>310</b> (step C<b>4</b>).</p><p id="p-0304" num="0214">Next, the registration information acquiring section <b>333</b> acquires registration information (step C<b>5</b>). The registration information may be stored anywhere. For example, a database storing the registration information may be included in the similarity calculating apparatus <b>330</b>, or the registration information may be stored in an external apparatus connected with the similarity calculating apparatus <b>330</b>. The registration information may include a plurality of pieces of information. In a case that a plurality of pieces of information are included, each piece of registration information is assigned with a specific identifier.</p><p id="p-0305" num="0215">Next, the first concealed similarity calculating section <b>336</b> calculates a first concealed similarity from the concealed random numbers received in step C<b>4</b> and the registration information acquired in step C<b>5</b> (step C<b>6</b>).</p><p id="p-0306" num="0216">Note that the first concealed similarity is a concealed form of the similarity between the concealed random numbers and the registration information. In the case that the registration information includes a plurality of pieces of information, the number of the calculated first concealed similarities is the same as the number of the plurality of pieces of information. Each first concealed similarity is assigned with a specific identifier, and which registration information the first concealed similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each first concealed similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0307" num="0217">Next, the first concealed similarity transmitting section <b>338</b> transmits the first concealed similarity calculated in step C<b>6</b> to the decryption apparatus <b>320</b> (step C<b>7</b>).</p><p id="p-0308" num="0218">Finally, the first concealed similarity receiving section <b>322</b> in the decryption apparatus <b>320</b> receives the first concealed similarity from the similarity calculating apparatus <b>330</b> (step C<b>8</b>).</p><p id="p-0309" num="0219">Note that a procedure of the above process is an example. For example, the order of steps C<b>4</b> and C<b>5</b> may be exchanged.</p><p id="p-0310" num="0220"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flow diagram illustrating the main calculation process of the information matching system <b>300</b>. The main calculation process is performed as described below by the concealment apparatus <b>310</b>, the decryption apparatus <b>320</b>, the similarity calculating apparatus <b>330</b>, and the information identifying apparatus <b>340</b>.</p><p id="p-0311" num="0221">First, the matching information acquiring section <b>311</b> in the concealment apparatus <b>310</b> acquires matching information (step D<b>1</b>). Note that the matching information may be acquired in any way. For example, the matching information may be generated using a matching information acquiring function that the concealment apparatus <b>310</b> has therein, or matching information generated outside the concealment apparatus <b>310</b> may be acquired from an external apparatus.</p><p id="p-0312" num="0222">Next, the main random number acquiring section <b>313</b> acquires main random numbers which are random numbers used for the main calculation (step D<b>2</b>). Note that the random numbers may be acquired in any way. For example, the random numbers may be generated using a random number generating function that the concealment apparatus <b>310</b> has therein, or random numbers generated outside the concealment apparatus <b>310</b> may be acquired from an external apparatus.</p><p id="p-0313" num="0223">Next, the main random number transmitting section <b>314</b> transmits the main random numbers acquired in step D<b>2</b> to the decryption apparatus <b>320</b> (step D<b>3</b>).</p><p id="p-0314" num="0224">Next, the main random number receiving section <b>321</b> in the decryption apparatus <b>320</b> receives the main random numbers from the concealment apparatus <b>310</b> (step D<b>4</b>).</p><p id="p-0315" num="0225">Next, the matching information concealment section <b>316</b> conceals the matching information acquired in step D<b>1</b> by a linear conversion using the preliminary random numbers acquired in step C<b>1</b> and the main random numbers acquired in step D<b>2</b> to generate concealed matching information (step D<b>5</b>).</p><p id="p-0316" num="0226">Next, the concealed matching information transmitting section <b>318</b> transmits the concealed matching information generated in step D<b>5</b> to the similarity calculating apparatus <b>330</b> (step D<b>6</b>).</p><p id="p-0317" num="0227">Next, the concealed matching information receiving section <b>332</b> in the similarity calculating apparatus <b>330</b> receives the concealed matching information from the concealment apparatus <b>310</b> (step D<b>7</b>).</p><p id="p-0318" num="0228">Next, the second concealed similarity calculating section <b>337</b> calculates a second concealed similarity from the registration information acquired in step C<b>5</b> and the concealed matching information received in step D<b>7</b> (step D<b>8</b>).</p><p id="p-0319" num="0229">Note that the second concealed similarity is a concealed form of the similarity between the concealed matching information and the registration information. In the case that the registration information includes a plurality of pieces of information, the number of the calculated second concealed similarities is the same as the number of the plurality of pieces of information. Each second concealed similarity is assigned with a specific identifier, and which registration information the second concealed similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each second concealed similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0320" num="0230">Next, the second concealed similarity transmitting section <b>339</b> transmits the second concealed similarity calculated in step D<b>8</b> to the decryption apparatus <b>320</b> (step D<b>9</b>).</p><p id="p-0321" num="0231">Next, the second concealed similarity receiving section <b>323</b> in the decryption apparatus <b>320</b> receives the second concealed similarity from the similarity calculating apparatus <b>330</b> (step D<b>10</b>).</p><p id="p-0322" num="0232">Next, the decrypting section <b>324</b> calculates a similarity from the first concealed similarity received in step C<b>8</b> and the second concealed similarity received in step D<b>10</b> using the main random numbers received in step D<b>4</b> (step D<b>11</b>).</p><p id="p-0323" num="0233">Note that the similarity is a similarity between the matching information and the registration information. In the case that the registration information includes a plurality of pieces of information, the number of the calculated similarities is the same as the number of the plurality of pieces of information. Each similarity is assigned with a specific identifier, and which registration information the similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0324" num="0234">Next, the similarity transmitting section <b>325</b> transmits the similarity calculated in step D<b>11</b> to the information identifying apparatus <b>340</b> (step D<b>12</b>).</p><p id="p-0325" num="0235">Next, the similarity receiving section <b>342</b> in the information identifying apparatus <b>340</b> receives the similarity from the decryption apparatus <b>320</b> (step D<b>13</b>).</p><p id="p-0326" num="0236">Finally, the information identifying section <b>344</b> identifies, among the similarities received in step D<b>13</b>, a similarity falling within a predefined acceptable range to identify registration information that is recognized to be sufficiently similar to the matching information (step D<b>14</b>).</p><p id="p-0327" num="0237">Note that in a case that it is not necessary to identify the registration information recognized to be sufficiently similar to the matching information, but it is desired to check whether the registration information recognized to be sufficiently similar to the matching information is present or not, such processing may be made.</p><heading id="h-0028" level="1">Concrete Example 1 According to Third Example Embodiment</heading><p id="p-0328" num="0238">Next, a concrete example 1 of the operation of the information matching system <b>300</b> according to the present example embodiment will be described.</p><p id="p-0329" num="0239">In this concrete example, a case that a group on elliptic curve is used will be described. Assume that a group with an order of a &#x3ba;-bit prime number q on an elliptic curve E and a generator G of the group are published.</p><p id="p-0330" num="0240">In this concrete example, a case that vectors (with a dimension number of D) are used for the matching information and the registration information will be described. Furthermore, a case that the similarity between the matching information and the registration information is calculated by use of the inner product of the two vectors will be described. Assume a case that the matching information and the registration information are determined to be sufficiently similar to each other is a case that the similarity calculated by use of the inner product of the matching information and the registration information matches any one of T values &#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>.</p><p id="p-0331" num="0241">In this concrete example, assume that pieces of information of N persons are registered in the database, and the pieces of the registration information of N persons are assigned with the identifiers of 1 to N.</p><p id="p-0332" num="0000">However, a target of the present example embodiment is not limited to such cases above.</p><p id="p-0333" num="0242">In the preliminary calculation process, first, the preliminary random number acquiring section <b>312</b> in the concealment apparatus <b>310</b> acquires, as preliminary random numbers, D &#x3ba;-bit random numbers s<sub>1</sub>, . . . , and s<sub>D </sub>(step C<b>1</b>). Hereinafter, the preliminary random numbers are expressed as a vector:</p><p id="p-0334" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>s</i>=(<i>s</i><sub>1</sub>, . . . , and <i>s</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0335" num="0243">Next, the random number concealment section <b>315</b> generates, as concealed random numbers,</p><p id="p-0336" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i><sub>1</sub>=[<i>s</i><sub>1</sub>]<i>G</i>, . . . , and <i>S</i><sub>D</sub>=[<i>s</i><sub>D</sub>]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0337" num="0000">(step C<b>2</b>).</p><p id="p-0338" num="0244">Next, the concealed random number transmitting section <b>317</b> transmits the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>) generated in step C<b>2</b> to the similarity calculating apparatus <b>330</b> (step C<b>3</b>).</p><p id="p-0339" num="0245">Next, the concealed random number receiving section <b>331</b> in the similarity calculating apparatus <b>330</b> receives the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>) from the concealment apparatus <b>310</b> (step C<b>4</b>).</p><p id="p-0340" num="0246">Next, the registration information acquiring section <b>333</b> acquires, as the registration information, N D-dimensional vectors y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) (step C<b>5</b>).</p><p id="p-0341" num="0247">Next, the first concealed similarity calculating section <b>336</b> calculates, as first concealed similarities for all i=1, . . . , and N,</p><p id="p-0342" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[&#x3c;<i>s,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0343" num="0000">from the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>) received in step C<b>4</b> and<br/>the registration information y<sub>i</sub>= . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N acquired in step C<b>5</b> (step C<b>6</b>).<br/>Note that the first concealed transformed similarity for all i=1, . . . , and N can be calculated by, for example,</p><p id="p-0344" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>([<i>y</i><sub>i,1</sub>]<i>S</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>S</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0345" num="0248">Next, the first concealed similarity transmitting section <b>338</b> transmits the first concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>) calculated in step C<b>6</b> to the decryption apparatus <b>320</b> (step C<b>7</b>).</p><p id="p-0346" num="0249">In the preliminary calculation process, finally, the first concealed similarity receiving section <b>322</b> in the decryption apparatus <b>320</b> receives the first concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>) from the similarity calculating apparatus <b>330</b> (step C<b>8</b>).</p><p id="p-0347" num="0250">In the main calculation process, first, the matching information acquiring section <b>311</b> in the concealment apparatus <b>310</b> acquires, as the matching information, a D-dimensional vector:</p><p id="p-0348" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i>=(<i>x</i><sub>1</sub>, . . . , and <i>x</i><sub>D</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0349" num="0000">(step D<b>1</b>).</p><p id="p-0350" num="0251">Next, the main random number acquiring section <b>313</b> acquires, as main random numbers, &#x3ba;-bit random numbers a and b (step D<b>2</b>).</p><p id="p-0351" num="0252">Next, the main random number transmitting section <b>314</b> transmits the main random numbers (a, b) generated in step D<b>2</b> to the decryption apparatus <b>320</b> (step D<b>3</b>).</p><p id="p-0352" num="0253">Next, the main random number receiving section <b>321</b> in the decryption apparatus <b>320</b> receives the main random numbers (a, b) from the concealment apparatus <b>310</b> (step D<b>4</b>).</p><p id="p-0353" num="0254">Next, the matching information concealment section <b>316</b> in the concealment apparatus <b>310</b> calculates</p><p id="p-0354" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>z</i><sub>j</sub><i>=ax</i><sub>j</sub><i>&#x2212;bs</i><sub>j </sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0355" num="0000">for all j=1, . . . , and D,<br/>from the preliminary random number s=(s<sub>1</sub>, . . . , and so) acquired in step C<b>1</b>,<br/>the matching information x=(x<sub>1</sub>, . . . , and x<sub>D</sub>) acquired in step D<b>1</b>, and<br/>the main random numbers a and b acquired in step D<b>2</b>,<br/>to obtain the concealed matching information z=(z<sub>1</sub>, . . . , and z<sub>D</sub>) (step D<b>5</b>).</p><p id="p-0356" num="0255">Next, the concealed matching information transmitting section <b>318</b> transmits the concealed matching information z generated in step D<b>5</b> to the similarity calculating apparatus <b>330</b> (step D<b>6</b>).</p><p id="p-0357" num="0256">Next, the concealed matching information receiving section <b>332</b> in the similarity calculating apparatus <b>330</b> receives the concealed matching information z from the concealment apparatus <b>310</b> (step D<b>7</b>).</p><p id="p-0358" num="0257">Next, the second concealed similarity calculating section <b>337</b> calculates, as second concealed similarities for all i=1, . . . , and N,</p><p id="p-0359" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[&#x3c;<i>z,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0360" num="0000">from the registration information y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) acquired in step C<b>5</b>, and<br/>the concealed matching information z=(z<sub>1</sub>, . . . , and z<sub>D</sub>) received in step D<b>7</b> (step D<b>8</b>).<br/>Note that because z<sub>j</sub>=ax<sub>j</sub>&#x2212;bs<sub>j </sub>is satisfied for all j=1, . . . , and D, the second concealed similarities for all i=1, . . . , and N may be expressed as</p><p id="p-0361" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[(<i>a&#x3c;x,y</i><sub>i</sub><i>&#x3e;&#x2212;b&#x3c;s,y</i><sub>i</sub>&#x3e;)]<i>G. </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0362" num="0258">Next, the second concealed similarity transmitting section <b>339</b> transmits the second concealed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) calculated in step D<b>8</b> to the decryption apparatus <b>320</b> (step D<b>9</b>).</p><p id="p-0363" num="0259">Next, the second concealed similarity receiving section <b>323</b> in the decryption apparatus <b>320</b> receives the second concealed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) from the similarity calculating apparatus <b>330</b> (step D<b>10</b>).</p><p id="p-0364" num="0260">Next, the decrypting section <b>324</b> calculates, as points of similarities for all i=1, . . . , and N,</p><p id="p-0365" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[&#x3c;<i>x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0366" num="0000">from the first concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>) received in step C<b>8</b>,<br/>the main random numbers a and b received in step D<b>4</b>, and<br/>the second concealed transformed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) received in step D<b>10</b> (step D<b>11</b>).<br/>Note that the point of similarity for all i=1, . . . , and N can be calculated as, for example,</p><p id="p-0367" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[<i>a</i><sup>&#x2212;1</sup>]([<i>b</i>]<i>U</i><sub>i</sub><i>+W</i><sub>i</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0368" num="0261">Next, the similarity transmitting section <b>325</b> transmits the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) calculated in step D<b>11</b> to the information identifying apparatus <b>340</b> (step D<b>12</b>).</p><p id="p-0369" num="0262">Next, the similarity receiving section <b>342</b> in the information identifying apparatus <b>340</b> receives the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) from the decryption apparatus <b>320</b> (step D<b>13</b>).</p><p id="p-0370" num="0263">At the end of the main calculation process, the information identifying section <b>344</b> identifies, among the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) received in step D<b>13</b>, a point of similarity falling within a point acceptable range ([&#x3b8;<sub>1</sub>]G, . . . , and [&#x3b8;<sub>&#x3c4;</sub>]G) corresponding to a predefined acceptable range (&#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>) (step D<b>14</b>).</p><p id="p-0371" num="0264">Note that in this concrete example, although the points of similarities are calculated in step D<b>11</b> and the information is identified from the points of similarities in step D<b>14</b>, a similarity may be further calculated from the points of similarities in step D<b>11</b>, or a similarity falling within the acceptable range may be further identified in step D<b>11</b>, and an identifier associated with the similarity identified may be transmitted in step D<b>12</b>.</p><p id="p-0372" num="0265">This concrete example describes the example in which the similarity calculating apparatus <b>330</b> orders N concealed similarities to be transmitted to the decryption apparatus <b>320</b> in an index-based order of the registration information and transmits the resultant concealed similarities in step D<b>9</b>, but the similarity calculating apparatus <b>330</b> may assign a new identifier to each of the concealed similarities, shuffle the concealed similarities, and transmit the resultant concealed similarities to the decryption apparatus <b>320</b>. At this time, the similarity calculating apparatus <b>330</b> may further give correspondences of two types of identifiers to the information identifying apparatus <b>340</b> so that the information identifying apparatus <b>340</b> can determine an identifier of the registration information that the information identifying apparatus <b>140</b> desires to identify.</p><heading id="h-0029" level="1">Concrete Example 2 According to Third Example Embodiment</heading><p id="p-0373" num="0266">Next, a concrete example 2 of the operation of the information matching system <b>300</b> according to the present example embodiment will be described.</p><p id="p-0374" num="0267">In this concrete example also, although a description is given assuming a case similar to the case of the concrete example 1 according to the third example embodiment, a target of the present example embodiment is not limited to these cases.</p><p id="p-0375" num="0268">In the preliminary calculation process, first, the preliminary random number acquiring section <b>312</b> in the concealment apparatus <b>310</b> acquires, as preliminary random numbers, 2D &#x3ba;-bit random numbers s<sub>1</sub>, . . . , and s<sub>D</sub>, t<sub>1</sub>, . . . , and t<sub>D </sub>(step C<b>1</b>). Hereinafter, the preliminary random numbers are expressed as vectors:</p><p id="p-0376" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>s</i>=(<i>s</i><sub>1</sub>, . . . , and <i>s</i><sub>D</sub>) and <i>t</i>=(<i>t</i><sub>1</sub>, . . . , and <i>t</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0377" num="0269">Next, the random number concealment section <b>315</b> generates, as concealed random numbers,</p><p id="p-0378" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i><sub>1</sub>=[<i>s</i><sub>1</sub>]<i>G</i>, . . . , and <i>S</i><sub>D</sub>=[<i>s</i><sub>D</sub>]<i>G,T</i><sub>1</sub>=[<i>t</i><sub>1</sub>]<i>G</i>, . . . , and <i>T</i><sub>D</sub>=[<i>t</i><sub>D</sub>]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0379" num="0000">(step C<b>2</b>).</p><p id="p-0380" num="0270">Next, the concealed random number transmitting section <b>317</b> transmits the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>, T<sub>1</sub>, . . . , and T<sub>D</sub>) generated in step C<b>2</b> to the similarity calculating apparatus <b>330</b> (step C<b>3</b>).</p><p id="p-0381" num="0271">Next, the concealed random number receiving section <b>331</b> in the similarity calculating apparatus <b>330</b> receives the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>, T<sub>1</sub>, . . . , and T<sub>D</sub>) from the concealment apparatus <b>310</b> (step C<b>4</b>).</p><p id="p-0382" num="0272">Next, the registration information acquiring section <b>333</b> acquires, as the registration information, N D-dimensional vectors y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) (step C<b>5</b>).</p><p id="p-0383" num="0273">Next, the first concealed similarity calculating section <b>336</b> calculates, as first concealed similarities for all i=1, . . . , and N,</p><p id="p-0384" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[&#x3c;<i>s,y</i><sub>i</sub>&#x3e;]<i>G </i>and <i>U</i><sub>i</sub>=[&#x3c;<i>t,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0385" num="0000">from the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>, T<sub>1</sub>, . . . , and T<sub>D</sub>) received in step C<b>4</b>, and<br/>the registration information y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N acquired in step C<b>5</b> (step C<b>6</b>).<br/>Note that the first concealed similarity for all i=1, . . . , and N can be calculated by, for example,</p><p id="p-0386" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[<i>y</i><sub>i,1</sub>]<i>S</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>S</i><sub>D </sub>and<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0387" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>i</sub>=[<i>y</i><sub>i,1</sub>]<i>T</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>T</i><sub>D</sub>.<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0388" num="0274">Next, the first concealed similarity transmitting section <b>338</b> transmits the first concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) calculated in step C<b>6</b> to the decryption apparatus <b>320</b> (step C<b>7</b>).</p><p id="p-0389" num="0275">In the preliminary calculation process, finally, the first concealed similarity receiving section <b>322</b> in the decryption apparatus <b>320</b> receives the first concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) from the similarity calculating apparatus <b>330</b> (step C<b>8</b>).</p><p id="p-0390" num="0276">In the main calculation process, first, the matching information acquiring section <b>311</b> in the concealment apparatus <b>310</b> acquires, as the matching information, a D-dimensional vector:</p><p id="p-0391" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i>=(<i>x</i><sub>1</sub>, . . . , and <i>x</i><sub>D</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0392" num="0000">(step D<b>1</b>).</p><p id="p-0393" num="0277">Next, the main random number acquiring section <b>313</b> acquires, as main random numbers, &#x3ba;-bit random number b (step D<b>2</b>).</p><p id="p-0394" num="0278">Next, the main random number transmitting section <b>314</b> transmits the main random number b generated in step D<b>2</b> to the decryption apparatus <b>320</b> (step D<b>3</b>).</p><p id="p-0395" num="0279">Next, the main random number receiving section <b>321</b> in the decryption apparatus <b>320</b> receives the main random number b from the concealment apparatus <b>310</b> (step D<b>4</b>).</p><p id="p-0396" num="0280">Next, the matching information concealment section <b>316</b> in the concealment apparatus <b>310</b> calculates</p><p id="p-0397" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>z</i><sub>j</sub><i>=x</i><sub>j</sub><i>&#x2212;bs</i><sub>j</sub><i>&#x2212;t</i><sub>j </sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0398" num="0000">for all j=1, . . . , and D,<br/>from the preliminary random number s=(s<sub>1</sub>, . . . , and s<sub>D</sub>, t<sub>1</sub>, . . . , and t<sub>D</sub>) acquired in step C<b>1</b>,<br/>the matching information x=(x<sub>1</sub>, . . . , and x<sub>D</sub>) acquired in step D<b>1</b>, and<br/>the main random number b acquired in step D<b>2</b>,<br/>to obtain the concealed matching information z=(z<sub>1</sub>, . . . , and z<sub>D</sub>) (step D<b>5</b>).</p><p id="p-0399" num="0281">Next, the concealed matching information transmitting section <b>318</b> transmits the concealed matching information z generated in step D<b>5</b> to the similarity calculating apparatus <b>330</b> (step D<b>6</b>).</p><p id="p-0400" num="0282">Next, the concealed matching information receiving section <b>332</b> in the similarity calculating apparatus <b>330</b> receives the concealed matching information z from the concealment apparatus <b>310</b> (step D<b>7</b>).</p><p id="p-0401" num="0283">Next, the second concealed similarity calculating section <b>337</b> calculates, as second concealed similarities for all i=1, . . . , and N,</p><p id="p-0402" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[&#x3c;<i>z,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0403" num="0000">from the registration information y<sub>1</sub>, . . . , and y<sub>N </sub>(where y=(y<sub>1</sub>, 1, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) acquired in step C<b>5</b> and<br/>the concealed matching information z=(z<sub>1</sub>, . . . , and z<sub>D</sub>) received in step D<b>7</b> (step D<b>8</b>).<br/>Note that because z<sub>j</sub>=z<sub>j</sub>&#x2212;bs<sub>j</sub>&#x2212;t<sub>j </sub>is satisfied for all j=1, . . . , and D, the second concealed similarities for all i=1, . . . , and N may be expressed as</p><p id="p-0404" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[&#x3c;<i>x,y</i><sub>i</sub><i>&#x3e;&#x2212;b&#x3c;s,y</i><sub>i</sub><i>&#x3e;&#x2212;&#x3c;t,y</i><sub>i</sub>&#x3e;]<i>G. </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0405" num="0284">Next, the second concealed similarity transmitting section <b>339</b> transmits the second concealed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) calculated in step D<b>8</b> to the decryption apparatus <b>320</b> (step D<b>9</b>).</p><p id="p-0406" num="0285">Next, the second concealed similarity receiving section <b>323</b> in the decryption apparatus <b>320</b> receives the second concealed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) from the similarity calculating apparatus <b>330</b> (step D<b>10</b>).</p><p id="p-0407" num="0286">Next, the decrypting section <b>324</b> calculates, as points of similarities for all i=1, . . . , and N,</p><p id="p-0408" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[&#x3c;<i>x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0409" num="0000">from the first concealed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) received in step C<b>8</b>,<br/>the main random number b received in step D<b>4</b>, and<br/>the second concealed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) received in step D<b>10</b> (step D<b>11</b>).<br/>Note that the point of similarity for all i=1, . . . , and N can be calculated as, for example,</p><p id="p-0410" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[<i>b</i>]<i>U</i><sub>i</sub><i>+V</i><sub>i</sub><i>+W</i><sub>i</sub>.<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0411" num="0287">Next, the similarity transmitting section <b>325</b> transmits the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) calculated in step D<b>11</b> to the information identifying apparatus <b>340</b> (step D<b>12</b>).</p><p id="p-0412" num="0288">Next, the similarity receiving section <b>342</b> in the information identifying apparatus <b>340</b> receives the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) from the decryption apparatus <b>320</b> (step D<b>13</b>).</p><p id="p-0413" num="0289">At the end of the main calculation process, the information identifying section <b>344</b> identifies, among the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) received in step D<b>13</b>, a point of similarity falling within a point acceptable range ([&#x3b8;<sub>1</sub>]G, . . . , and [&#x3b8;<sub>&#x3c4;</sub>]G) corresponding to a predefined acceptable range (&#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>) (step D<b>14</b>).</p><p id="p-0414" num="0290">Note that in this concrete example, although the points of similarities are calculated in step D<b>11</b> and the information is identified from the points of similarities in step D<b>14</b>, a similarity may be further calculated from the points of similarities in step D<b>11</b>, or a similarity falling within the acceptable range may be further identified in step D<b>11</b>, and an identifier associated with the similarity identified may be transmitted in step D<b>12</b>.</p><p id="p-0415" num="0291">This concrete example describes the example in which the similarity calculating apparatus <b>330</b> orders N concealed similarities to be transmitted to the decryption apparatus <b>320</b> in an index-based order of the registration information and transmits the resultant concealed similarities in step D<b>9</b>, but the similarity calculating apparatus <b>330</b> may assign a new identifier to each of the concealed similarities, shuffle the concealed similarities, and transmit the resultant concealed similarities to the decryption apparatus <b>320</b>. At this time, the similarity calculating apparatus <b>330</b> may further give correspondences of two types of identifiers to the information identifying apparatus <b>340</b> so that the information identifying apparatus <b>340</b> can determine an identifier of the registration information that the information identifying apparatus <b>340</b> desires to identify.</p><heading id="h-0030" level="2">[Description of Effect]</heading><p id="p-0416" num="0292">An effect of the present example embodiment described above is, similar to the first and second example embodiments, that the information matching securely using the biometric information can be realized with the cost less than that of the case of using an additive homomorphic public key cryptosystem. This is because in the concealment of the matching information in step D<b>5</b>, the concealment is performed by the linear conversion instead of a homomorphic operation of an additive homomorphic public key cryptosystem. The linear conversion, rather than the general concealment, is applied to allow the second concealed similarities and the similarities to be calculated in steps D<b>8</b> and D<b>11</b>.</p><p id="p-0417" num="0293">Furthermore, the present example embodiment has also an effect that the cost taken after acquiring the matching information can be reduced. This is because in the present example embodiment, a process not depending on the matching information is the preliminary calculation process, and thus, such process can be executed before acquiring the matching information.</p><heading id="h-0031" level="1">Fourth Example Embodiment</heading><heading id="h-0032" level="2">[Description of Configuration]</heading><p id="p-0418" num="0294"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a block diagram illustrating a configuration of an information matching system <b>400</b> according to a fourth example embodiment. The information matching system <b>400</b> includes a concealment apparatus <b>410</b>, a decryption apparatus <b>420</b>, a similarity calculating apparatus <b>430</b>, and an information identifying apparatus <b>440</b>. However, the apparatuses included in the information matching system <b>400</b> may be configured as separate apparatuses, or may be adequately mounted on an identical apparatus as usage. For example, the information matching system <b>400</b> can be realized as a client-server system by separately mounting the concealment apparatus <b>410</b> and the decryption apparatus <b>420</b> on a client, and the similarity calculating apparatus <b>430</b> and the information identifying apparatus <b>440</b> on a server.</p><p id="p-0419" num="0295">The apparatuses illustrated in <figref idref="DRAWINGS">FIG. <b>9</b></figref> (the concealment apparatus <b>410</b>, the decryption apparatus <b>420</b>, the similarity calculating apparatus <b>430</b>, and the information identifying apparatus <b>440</b>) are connected in a wired or wireless manner and configured to be communicable with each other.</p><p id="p-0420" num="0296">The concealment apparatus <b>410</b> includes</p><p id="p-0421" num="0000">a matching information acquiring section <b>411</b> that acquires matching information,<br/>a preliminary random number acquiring section <b>412</b> that acquires random numbers used for preliminary calculation,<br/>a main random number acquiring section <b>413</b> that acquires random numbers used for main calculation,<br/>a main random number transmitting section <b>414</b> that transmits the main random numbers acquired by the main random number acquiring section <b>413</b>,<br/>a random number concealment section <b>415</b> that conceals the random numbers acquired by the preliminary random number acquiring section <b>412</b>,<br/>a matching information concealment section <b>416</b> that conceals the matching information acquired by the matching information acquiring section <b>411</b> using the random numbers acquired by the main random number acquiring section <b>413</b>,<br/>a concealed random number transmitting section <b>417</b> that transmits the concealed random numbers generated by the random number concealment section <b>415</b>, and<br/>a concealed matching information transmitting section <b>418</b> that transmits the concealed matching information generated by the matching information concealment section <b>416</b>.</p><p id="p-0422" num="0297">The decryption apparatus <b>420</b> includes</p><p id="p-0423" num="0000">a main random number receiving section <b>421</b> that receives the main random numbers,<br/>a first concealed transformed similarity receiving section <b>422</b> that receives a first concealed transformed similarity,<br/>a second concealed transformed similarity receiving section <b>423</b> that receives a second concealed transformed similarity,<br/>a decrypting section <b>424</b> that calculates a transformed similarity from the main random numbers received by the main random number receiving section <b>421</b>, the first concealed transformed similarity received by the first concealed transformed similarity receiving section <b>422</b>, and the second concealed transformed similarity received by the second concealed transformed similarity receiving section <b>423</b>, and<br/>a similarity transmitting section <b>425</b> that transmits the transformed similarity calculated by the decrypting section <b>424</b>.</p><p id="p-0424" num="0298">The similarity calculating apparatus <b>430</b> includes</p><p id="p-0425" num="0000">a concealed random number receiving section <b>431</b> that receives the concealed random numbers,<br/>a concealed matching information receiving section <b>432</b> that receives the concealed matching information,<br/>a registration information acquiring section <b>433</b> that acquires registration information,<br/>a transformation key generating section <b>434</b> that generates a transformation key and an inverse transformation key,<br/>an inverse transformation key transmitting section <b>435</b> that transmits the inverse transformation key generated by the transformation key generating section <b>434</b>,<br/>a first concealed transformed similarity calculating section <b>436</b> that calculates a first concealed transformed similarity from the concealed random numbers received by the concealed random number receiving section <b>431</b>, the registration information received by the registration information acquiring section <b>433</b>, and the transformation key generated by the transformation key generating section <b>434</b>,<br/>a second concealed transformed similarity calculating section <b>437</b> that calculates a second concealed transformed similarity from the concealed matching information received by the concealed matching information receiving section <b>432</b>, the registration information received by the registration information acquiring section <b>433</b>, and the transformation key generated by the transformation key generating section <b>434</b>,<br/>a first concealed transformed similarity transmitting section <b>438</b> that transmits the first concealed transformed similarity calculated by the first concealed transformed similarity calculating section <b>436</b>, and<br/>a second concealed transformed similarity transmitting section <b>439</b> that transmits the second concealed transformed similarity calculated by the second concealed transformed similarity calculating section <b>437</b>.</p><p id="p-0426" num="0299">The information identifying apparatus <b>440</b> includes</p><p id="p-0427" num="0000">an inverse transformation key receiving section <b>441</b> that receives an inverse transformation key,<br/>a transformed similarity receiving section <b>442</b> that receives the transformed similarity,<br/>an inverse transforming section <b>443</b> that inversely transforms the transformed similarity received by the transformed similarity receiving section <b>442</b> using the inverse transformation key generated by the transformation key generating section <b>434</b>, and<br/>an information identifying section <b>444</b> that identifies information using the similarity calculated by the inverse transforming section <b>443</b>.</p><heading id="h-0033" level="2">[Description of Operation]</heading><p id="p-0428" num="0300">Next, with reference to <figref idref="DRAWINGS">FIGS. <b>10</b> and <b>11</b></figref>, an entire operation of the information matching system <b>400</b> according to the present example embodiment will be described. The processes performed in the information matching system <b>400</b>, similar to the information matching system <b>300</b>, can be divided into two processes, a preliminary calculation process and a main calculation process. Hereinafter, each of operation examples of the processes will be descried.</p><p id="p-0429" num="0301"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flow diagram illustrating the preliminary calculation process of the information matching system <b>400</b>. The preliminary calculation process is performed as described below by the concealment apparatus <b>410</b>, the decryption apparatus <b>420</b>, and the similarity calculating apparatus <b>430</b>.</p><p id="p-0430" num="0302">First, the preliminary random number acquiring section <b>412</b> in the concealment apparatus <b>410</b> acquires preliminary random numbers which are the random numbers used for the preliminary calculation process (step E<b>1</b>). Note that the random numbers may be acquired in any way. For example, the random numbers may be generated using a random number generating function that the concealment apparatus <b>410</b> has therein, or random numbers generated outside the concealment apparatus <b>410</b> may be acquired from an external apparatus.</p><p id="p-0431" num="0303">Next, the random number concealment section <b>415</b> conceals the preliminary random numbers acquired in step E<b>1</b> to generate concealed random numbers (step E<b>2</b>).</p><p id="p-0432" num="0304">Next, the concealed random number transmitting section <b>417</b> transmits the concealed random numbers generated in step E<b>2</b> to the similarity calculating apparatus <b>430</b> (step E<b>3</b>).</p><p id="p-0433" num="0305">Next, the concealed random number receiving section <b>431</b> in the similarity calculating apparatus <b>430</b> receives the concealed random numbers from the concealment apparatus <b>410</b> (step E<b>4</b>).</p><p id="p-0434" num="0306">Next, the registration information acquiring section <b>433</b> acquires registration information (step E<b>5</b>). The registration information may be stored anywhere. For example, a database storing the registration information may be included in the similarity calculating apparatus <b>430</b>, or the registration information may be stored in an external apparatus connected with the similarity calculating apparatus <b>430</b>. The registration information may include a plurality of pieces of information. In a case that a plurality of pieces of information are included, each piece of registration information is assigned with a specific identifier.</p><p id="p-0435" num="0307">Next, the transformation key generating section <b>434</b> acquires the random numbers to generate a transformation key and an inverse transformation key based on the random number (step E<b>6</b>). Note that the random numbers may be acquired in any way. For example, the random numbers may be generated using a random number generating function that the similarity calculating apparatus <b>430</b> has therein, or random numbers generated outside the similarity calculating apparatus <b>430</b> may be acquired from an external apparatus.</p><p id="p-0436" num="0308">Next, the inverse transformation key transmitting section <b>435</b> transmits the inverse transformation key generated in step E<b>6</b> to the information identifying apparatus <b>440</b> (step E<b>7</b>).</p><p id="p-0437" num="0309">Next, the inverse transformation key receiving section <b>441</b> in the information identifying apparatus <b>440</b> receives the inverse transformation key from the similarity calculating apparatus <b>430</b> (step E<b>8</b>).</p><p id="p-0438" num="0310">Next, the first concealed transformed similarity calculating section <b>436</b> in the similarity calculating apparatus <b>430</b> calculates a first concealed transformed similarity from the concealed random numbers received in step E<b>4</b>, the registration information acquired in step E<b>5</b>, and the transformation key generated in step E<b>6</b> (step E<b>9</b>).</p><p id="p-0439" num="0311">Note that the first concealed transformed similarity is a concealed form of a value which is a transformed form of the similarity between the concealed random number and the registration information using the transformation key. In the case that the registration information includes a plurality of pieces of information, the number of the calculated first concealed transformed similarities is the same as the number of the plurality of pieces of information. Each first concealed transformed similarity is assigned with a specific identifier, and which registration information the first concealed transformed similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each first concealed transformed similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0440" num="0312">Next, the first concealed transformed similarity transmitting section <b>438</b> transmits the first concealed transformed similarity calculated in step E<b>9</b> to the decryption apparatus <b>420</b> (step E<b>10</b>).</p><p id="p-0441" num="0313">Finally, the first concealed transformed similarity receiving section <b>422</b> in the decryption apparatus <b>420</b> receives the first concealed transformed similarity from the similarity calculating apparatus <b>430</b> (step E<b>11</b>).</p><p id="p-0442" num="0314">Note that a procedure of the above process is an example. For example, the order of steps E<b>4</b>, E<b>5</b>, and step E<b>6</b> may be exchanged.</p><p id="p-0443" num="0315"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a flow diagram illustrating the main calculation process of the information matching system <b>400</b>. The main calculation process is performed as described below by the concealment apparatus <b>410</b>, the decryption apparatus <b>420</b>, the similarity calculating apparatus <b>430</b>, and the information identifying apparatus <b>440</b>.</p><p id="p-0444" num="0316">First, the matching information acquiring section <b>411</b> in the concealment apparatus <b>410</b> acquires matching information (step F<b>1</b>). Note that the matching information may be acquired in any way. For example, the matching information may be generated using a matching information acquiring function that the concealment apparatus <b>410</b> has therein, or matching information generated outside the concealment apparatus <b>410</b> may be acquired from an external apparatus.</p><p id="p-0445" num="0317">Next, the main random number acquiring section <b>413</b> acquires main random numbers which are random numbers used for the main calculation (step F<b>2</b>). Note that the random numbers may be acquired in any way. For example, the random numbers may be generated using a random number generating function that the concealment apparatus <b>410</b> has therein, or random numbers generated outside the concealment apparatus <b>410</b> may be acquired from an external apparatus.</p><p id="p-0446" num="0318">Next, the main random number transmitting section <b>414</b> transmits the main random numbers generated in step F<b>2</b> to the decryption apparatus <b>420</b> (step F<b>3</b>).</p><p id="p-0447" num="0319">Next, the main random number receiving section <b>421</b> in the decryption apparatus <b>420</b> receives the main random numbers from the concealment apparatus <b>410</b> (step F<b>4</b>).</p><p id="p-0448" num="0320">Next, the matching information concealment section <b>416</b> in the concealment apparatus <b>410</b> conceals the matching information acquired in step F<b>1</b> by a linear conversion using the preliminary random numbers acquired in step E<b>1</b> and the main random numbers acquired in step F<b>2</b> to generate concealed matching information (step F<b>5</b>).</p><p id="p-0449" num="0321">Next, the concealed matching information transmitting section <b>418</b> transmits the concealed matching information generated in step F<b>5</b> to the similarity calculating apparatus <b>430</b> (step F<b>6</b>).</p><p id="p-0450" num="0322">Next, the concealed matching information receiving section <b>432</b> in the similarity calculating apparatus <b>430</b> receives the concealed matching information from the concealment apparatus <b>410</b> (step F<b>7</b>).</p><p id="p-0451" num="0323">Next, the second concealed transformed similarity calculating section <b>437</b> calculates a second concealed similarity from the registration information acquired in step E<b>5</b>, the transformation key generated in step E<b>6</b>, and the concealed matching information received in step F<b>7</b> (step F<b>8</b>).</p><p id="p-0452" num="0324">Note that the second concealed transformed similarity is a concealed form of a value which is a transformed form of the similarity between the concealed matching information and the registration information using the transformation key. In the case that the registration information includes a plurality of pieces of information, the number of the calculated second concealed transformed similarities is the same as the number of the plurality of pieces of information. Each second concealed transformed similarity is assigned with a specific identifier, and which registration information the second concealed transformed similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each second concealed transformed similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0453" num="0325">Next, the second concealed transformed similarity transmitting section <b>439</b> transmits the second concealed transformed similarity calculated in step F<b>8</b> to the decryption apparatus <b>420</b> (step F<b>9</b>).</p><p id="p-0454" num="0326">Next, the second concealed transformed similarity receiving section <b>423</b> in the decryption apparatus <b>420</b> receives the second concealed transformed similarity from the similarity calculating apparatus <b>430</b> (step F<b>10</b>).</p><p id="p-0455" num="0327">Next, the decrypting section <b>424</b> calculates a transformed similarity from the first concealed transformed similarity received in step E<b>11</b> and the second concealed transformed similarity received in step F<b>10</b> using the main random numbers received in step F<b>4</b> (step F<b>11</b>).</p><p id="p-0456" num="0328">Note that the transformed similarity is a transformed form of the similarity between the matching information and the registration information using the transformation key. In the case that the registration information includes a plurality of pieces of information, the number of the calculated transformed similarities is the same as the number of the plurality of pieces of information. Each transformed similarity is assigned with a specific identifier, and which registration information the transformed similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each transformed similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0457" num="0329">Next, the similarity transmitting section <b>425</b> transmits the transformed similarity calculated in step F<b>11</b> to the information identifying apparatus <b>440</b> (step F<b>12</b>).</p><p id="p-0458" num="0330">Next, the transformed similarity receiving section <b>442</b> in the information identifying apparatus <b>440</b> receives the transformed similarity from the decryption apparatus <b>420</b> (step F<b>13</b>).</p><p id="p-0459" num="0331">Next, the inverse transforming section <b>443</b> inversely transforms the transformed similarity received in step F<b>13</b> using the inverse transformation key received in step E<b>8</b> to calculate a similarity (step F<b>14</b>).</p><p id="p-0460" num="0332">Note that the similarity is a similarity between the matching information and the registration information. In the case that the registration information includes a plurality of pieces of information, the number of the calculated similarities is the same as the number of the plurality of pieces of information. Each similarity is assigned with a specific identifier, and which registration information the similarity corresponds to can be identified by the identifier. Note that the identifier assigned to each similarity may be the same as the identifier assigned to each piece of registration information.</p><p id="p-0461" num="0333">Finally, the information identifying section <b>444</b> identifies, among the similarities calculated in step F<b>14</b>, a similarity falling within a predefined acceptable range to identify registration information that is recognized to be sufficiently similar to the matching information (step F<b>15</b>).</p><p id="p-0462" num="0334">Note that in a case that it is not necessary to identify the registration information recognized to be sufficiently similar to the matching information, but it is desired to check whether the registration information recognized to be sufficiently similar to the matching information is present or not, such processing may be made.</p><heading id="h-0034" level="1">Concrete Example 1 According to Fourth Example Embodiment</heading><p id="p-0463" num="0335">Next, a concrete example 1 of the operation of the information matching system <b>400</b> according to the present example embodiment will be described.</p><p id="p-0464" num="0336">In this concrete example, a case that a group on elliptic curve is used will be described. Assume that a group with an order of a &#x3ba;-bit prime number q on an elliptic curve E and a generator G of the group are published.</p><p id="p-0465" num="0337">In this concrete example, a case that vectors (with a dimension number of D) are used for the matching information and the registration information will be described. Furthermore, a case that the similarity between the matching information and the registration information is calculated by use of the inner product of the two vectors will be described. Assume a case that the matching information and the registration information are determined to be sufficiently similar to each other is a case that the similarity calculated by use of the inner product of the matching information and the registration information matches any one of T values &#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>.</p><p id="p-0466" num="0338">In this concrete example, assume that pieces of information of N persons are registered in the database, and the pieces of the registration information of N persons are assigned with the identifiers of 1 to N.</p><p id="p-0467" num="0000">However, a target of the present example embodiment is not limited to such cases above.</p><p id="p-0468" num="0339">In the preliminary calculation process, first, the preliminary random number acquiring section <b>412</b> in the concealment apparatus <b>410</b> acquires, as preliminary random numbers, D &#x3ba;-bit random numbers s<sub>1</sub>, . . . , and s<sub>D </sub>(step E<b>1</b>). Hereinafter, the preliminary random numbers are expressed as a vector:</p><p id="p-0469" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>s</i>=(<i>s</i><sub>1</sub>, . . . , and <i>s</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0470" num="0340">Next, the random number concealment section <b>415</b> generates, as concealed random numbers,</p><p id="p-0471" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i><sub>1</sub>=[<i>s</i><sub>1</sub>]<i>G</i>, . . . , and <i>S</i><sub>D</sub>=[<i>s</i><sub>D</sub>]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0472" num="0000">(step E<b>2</b>).</p><p id="p-0473" num="0341">Next, the concealed random number transmitting section <b>417</b> transmits the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>) generated in step E<b>2</b> to the similarity calculating apparatus <b>430</b> (step E<b>3</b>).</p><p id="p-0474" num="0342">Next, the concealed random number receiving section <b>431</b> in the similarity calculating apparatus <b>430</b> receives the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>) from the concealment apparatus <b>410</b> (step E<b>4</b>).</p><p id="p-0475" num="0343">Next, the registration information acquiring section <b>433</b> acquires, as the registration information, N D-dimensional vectors y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) (step E<b>5</b>).</p><p id="p-0476" num="0344">Next, the transformation key generating section <b>434</b> acquires D &#x3ba;-bit random numbers r<sub>1</sub>, . . . , and r<sub>N </sub>to obtain the transformation keys (r<sub>1</sub>, . . . , and r<sub>N</sub>) and the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) (step E<b>6</b>).</p><p id="p-0477" num="0345">Next, the inverse transformation key transmitting section <b>435</b> transmits the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) generated in step E<b>6</b> to the information identifying apparatus <b>440</b> (step E<b>7</b>).</p><p id="p-0478" num="0346">Next, the inverse transformation key receiving section <b>441</b> in the information identifying apparatus <b>440</b> receives the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) from the similarity calculating apparatus <b>430</b> (step E<b>8</b>).</p><p id="p-0479" num="0347">Next, the first concealed transformed similarity calculating section <b>436</b> in the similarity calculating apparatus <b>430</b> calculates, as first concealed transformed similarities for all i=1, . . . , and N,</p><p id="p-0480" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;s,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0481" num="0000">from the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>) received in step E<b>4</b>,<br/>the registration information y<sub>1</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N acquired in step E<b>5</b>, and<br/>the transformation keys r<sub>i </sub>for all i=1, . . . , and N generated in step E<b>6</b> (step E<b>9</b>).<br/>Note that the first concealed transformed similarity for all i=1, . . . , and N can be calculated by, for example,</p><p id="p-0482" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[<i>r</i><sub>i</sub>]([<i>y</i><sub>i,1</sub>]<i>S</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>S</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0483" num="0348">Next, the first concealed transformed similarity transmitting section <b>438</b> transmits the first concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>) calculated in step E<b>9</b> to the decryption apparatus <b>420</b> (step E<b>10</b>).</p><p id="p-0484" num="0349">In the preliminary calculation process, finally, the first concealed transformed similarity receiving section <b>422</b> in the decryption apparatus <b>420</b> receives the first concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>) from the similarity calculating apparatus <b>430</b> (step E<b>11</b>).</p><p id="p-0485" num="0350">In the main calculation process, first, the matching information acquiring section <b>411</b> in the concealment apparatus <b>410</b> acquires, as the matching information, a D-dimensional vector:</p><p id="p-0486" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i>=(<i>x</i><sub>1</sub>, . . . , and <i>x</i><sub>D</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0487" num="0000">(step F<b>1</b>).</p><p id="p-0488" num="0351">Next, the main random number acquiring section <b>413</b> acquires, as main random numbers, &#x3ba;-bit random numbers a and b (step F<b>2</b>).</p><p id="p-0489" num="0352">Next, the main random number transmitting section <b>414</b> transmits the main random numbers (a, b) generated in step F<b>2</b> to the decryption apparatus <b>420</b> (step F<b>3</b>).</p><p id="p-0490" num="0353">Next, the main random number receiving section <b>421</b> in the decryption apparatus <b>420</b> receives the main random numbers (a, b) from the concealment apparatus <b>410</b> (step F<b>4</b>).</p><p id="p-0491" num="0354">Next, the matching information concealment section <b>416</b> in the concealment apparatus <b>410</b> calculates</p><p id="p-0492" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>z</i><sub>j</sub><i>=ax</i><sub>j</sub><i>&#x2212;bs</i><sub>j </sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0493" num="0000">for all j=1, . . . , and D,<br/>from the preliminary random number s=(s<sub>1</sub>, . . . , and s<sub>D</sub>) acquired in step E<b>1</b>,<br/>the matching information x=(x<sub>1</sub>, . . . , and x<sub>D</sub>) acquired in step F<b>1</b>, and<br/>the main random numbers a and b acquired in step F<b>2</b>,<br/>to obtain the concealed matching information z=(z<sub>1</sub>, . . . , and z<sub>D</sub>) (step F<b>5</b>).</p><p id="p-0494" num="0355">Next, the concealed matching information transmitting section <b>418</b> transmits the concealed matching information z generated in step F<b>5</b> to the similarity calculating apparatus <b>430</b> (step F<b>6</b>).</p><p id="p-0495" num="0356">Next, the concealed matching information receiving section <b>432</b> in the similarity calculating apparatus <b>430</b> receives the concealed matching information z from the concealment apparatus <b>410</b> (step F<b>7</b>).</p><p id="p-0496" num="0357">Next, the second concealed transformed similarity calculating section <b>437</b> calculates, as second concealed transformed similarities for all i=1, . . . , and N,</p><p id="p-0497" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;z,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0498" num="0000">from the registration information y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) acquired in step E<b>5</b>,<br/>the transformation keys (r<sub>1</sub>, . . . , and r<sub>N</sub>) generated in step E<b>6</b>, and<br/>the concealed matching information z=(z<sub>1</sub>, . . . , and z<sub>D</sub>) received in step F<b>7</b> (step F<b>8</b>).<br/>Note that because z<sub>j</sub>=ax<sub>j</sub>&#x2212;bs<sub>j </sub>is satisfied for all j=1, . . . , and D,<br/>the second concealed transformed similarities for all i=1, . . . , and N may be expressed as</p><p id="p-0499" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[<i>r</i><sub>i</sub>(<i>a&#x3c;x,y</i><sub>i</sub><i>&#x3e;&#x2212;b&#x3c;s,y</i><sub>i</sub>&#x3e;)]<i>G. </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0500" num="0358">Next, the second concealed transformed similarity transmitting section <b>439</b> transmits the second concealed transformed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) calculated in step F<b>8</b> to the decryption apparatus <b>420</b> (step F<b>9</b>).</p><p id="p-0501" num="0359">Next, the second concealed transformed similarity receiving section <b>423</b> in the decryption apparatus <b>420</b> receives the second concealed transformed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) from the similarity calculating apparatus <b>430</b> (step F<b>10</b>).</p><p id="p-0502" num="0360">Next, the decrypting section <b>424</b> calculates, as transformed similarities for all i=1, . . . , and N,</p><p id="p-0503" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>A</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0504" num="0000">from the first concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>) received in step E<b>11</b>,<br/>the main random numbers a and b received in step F<b>4</b>, and<br/>the second concealed transformed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) received in step F<b>10</b> (step F<b>11</b>).</p><p id="p-0505" num="0361">Note that the transformed similarity for all i=1, . . . , and N can be calculated as, for example,</p><p id="p-0506" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[<i>a</i><sup>&#x2212;1</sup>]([<i>b</i>]<i>U</i><sub>i</sub><i>+W</i><sub>i</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0507" num="0362">Next, the similarity transmitting section <b>425</b> transmits the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) calculated in step F<b>11</b> to the information identifying apparatus <b>440</b> (step F<b>12</b>).</p><p id="p-0508" num="0363">Next, the transformed similarity receiving section <b>442</b> in the information identifying apparatus <b>440</b> receives the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) from the decryption apparatus <b>420</b> (step F<b>13</b>).</p><p id="p-0509" num="0364">Next, the inverse transforming section <b>443</b> calculates, as points of similarities for all i=1, . . . , and N,</p><p id="p-0510" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[&#x3c;<i>x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0511" num="0000">from the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) received in step E<b>8</b> and<br/>the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) received in step F<b>13</b> (step F<b>14</b>).<br/>Note that the point of similarity for all i=1, . . . , and N can be calculated as, for example,</p><p id="p-0512" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[(<i>r</i><sub>i</sub>)<sup>&#x2212;1</sup>](<i>A</i><sub>i</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0513" num="0365">At the end of the main calculation process, the information identifying section <b>444</b> identifies, among the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) calculated in step F<b>14</b>, a point of similarity falling within a point acceptable range ([&#x3b8;<sub>1</sub>]G, . . . , and [&#x3b8;<sub>&#x3c4;</sub>]G) corresponding to a predefined acceptable range (&#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>) (step F<b>15</b>).</p><p id="p-0514" num="0366">This concrete example describes the example in which the similarity calculating apparatus <b>430</b> orders N concealed similarities to be transmitted to the decryption apparatus <b>420</b> in an index-based order of the registration information and transmits the resultant concealed similarities in step F<b>9</b>, but the similarity calculating apparatus <b>430</b> may assign a new identifier to each of the concealed similarities, shuffle the concealed similarities, and transmit the resultant concealed similarities to the decryption apparatus <b>420</b>. At this time, the similarity calculating apparatus <b>430</b> may further give correspondences of two types of identifiers to the information identifying apparatus <b>440</b> so that the information identifying apparatus <b>440</b> can determine an identifier of the registration information that the information identifying apparatus <b>440</b> desires to identify.</p><heading id="h-0035" level="1">Concrete Example 2 According to Fourth Example Embodiment</heading><p id="p-0515" num="0367">Next, a concrete example 2 of the operation of the information matching system <b>400</b> according to the present example embodiment will be described.</p><p id="p-0516" num="0368">In this concrete example also, although a description is given assuming a case similar to the case of the concrete example 1 according to the fourth example embodiment, a target of the present example embodiment is not limited to these cases.</p><p id="p-0517" num="0369">In the preliminary calculation process, first, the preliminary random number acquiring section <b>412</b> in the concealment apparatus <b>410</b> acquires, as preliminary random numbers, 2D &#x3ba;-bit random numbers s<sub>1</sub>, . . . , and s<sub>D</sub>, t<sub>1</sub>, . . . , and t<sub>D </sub>(step E<b>1</b>). Hereinafter, the preliminary random numbers are expressed as vectors:</p><p id="p-0518" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>s</i>=(<i>s</i><sub>1</sub>, . . . , and <i>s</i><sub>D</sub>) and <i>t</i>=(<i>t</i><sub>1</sub>, . . . , and <i>t</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0519" num="0370">Next, the random number concealment section <b>415</b> generates, as concealed random numbers,</p><p id="p-0520" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i><sub>1</sub>=[<i>s</i><sub>1</sub>]<i>G</i>, . . . , and <i>S</i><sub>D</sub>=[<i>s</i><sub>D</sub>]<i>G,T</i><sub>1</sub>=[<i>t</i><sub>1</sub>]<i>G</i>, . . . , and <i>T</i><sub>D</sub>=[<i>t</i><sub>D</sub>]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0521" num="0000">(step E<b>2</b>).</p><p id="p-0522" num="0371">Next, the concealed random number transmitting section <b>417</b> transmits the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>, T<sub>1</sub>, . . . , and T<sub>D</sub>) generated in step E<b>2</b> to the similarity calculating apparatus <b>430</b> (step E<b>3</b>).</p><p id="p-0523" num="0372">Next, the concealed random number receiving section <b>431</b> in the similarity calculating apparatus <b>430</b> receives the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>, T<sub>1</sub>, . . . , and T<sub>D</sub>) from the concealment apparatus <b>410</b> (step E<b>4</b>).</p><p id="p-0524" num="0373">Next, the registration information acquiring section <b>433</b> acquires, as the registration information, N D-dimensional vectors y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) (step E<b>5</b>).</p><p id="p-0525" num="0374">Next, the transformation key generating section <b>434</b> acquires D &#x3ba;-bit random numbers r<sub>1</sub>, . . . , and r<sub>N </sub>to let (r<sub>1</sub>, . . . , and r<sub>N</sub>) be the transformation keys and ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) be the inverse transformation keys (step E<b>6</b>).</p><p id="p-0526" num="0375">Next, the inverse transformation key transmitting section <b>435</b> transmits the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) generated in step E<b>6</b> to the information identifying apparatus <b>440</b> (step E<b>7</b>).</p><p id="p-0527" num="0376">Next, the inverse transformation key receiving section <b>441</b> in the information identifying apparatus <b>440</b> receives the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) from the similarity calculating apparatus <b>430</b> (step E<b>8</b>).</p><p id="p-0528" num="0377">Next, the first concealed transformed similarity calculating section <b>436</b> calculates, as first concealed transformed similarities for all i=1, . . . , and N,</p><p id="p-0529" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;s,y</i><sub>i</sub>&#x3e;]<i>G </i>and <i>U</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;t,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0530" num="0000">from the concealed random numbers (S<sub>1</sub>, . . . , and S<sub>D</sub>, T<sub>1</sub>, . . . , and T<sub>D</sub>) received in step E<b>4</b>, the registration information y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N acquired in step E<b>5</b>, and<br/>the transformation keys r<sub>i </sub>for all i=1, . . . , and N generated in step E<b>6</b> (step E<b>9</b>).<br/>Note that the first concealed transformed similarity for all i=1, . . . , and N can be calculated by, for example,</p><p id="p-0531" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>U</i><sub>i</sub>=[<i>r</i><sub>i</sub>]([<i>y</i><sub>i,1</sub>]<i>S</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>S</i><sub>D</sub>) and<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0532" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>i</sub>=[<i>r</i><sub>i</sub>]([<i>y</i><sub>i,1</sub>]<i>T</i><sub>1</sub>+ . . . +[<i>y</i><sub>i,D</sub>]<i>T</i><sub>D</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0533" num="0378">Next, the first concealed transformed similarity transmitting section <b>438</b> transmits the concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) calculated in step E<b>9</b> to the decryption apparatus <b>420</b> (step E<b>10</b>).</p><p id="p-0534" num="0379">In the preliminary calculation process, finally, the first concealed transformed similarity receiving section <b>422</b> in the decryption apparatus <b>420</b> receives the first concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) from the similarity calculating apparatus <b>430</b> (step E<b>11</b>).</p><p id="p-0535" num="0380">In the main calculation process, first, the matching information acquiring section <b>411</b> in the concealment apparatus <b>410</b> acquires, as the matching information, a D-dimensional vector:</p><p id="p-0536" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i>=(<i>x</i><sub>1</sub>, . . . , and <i>x</i><sub>D</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0537" num="0000">(step F<b>1</b>).</p><p id="p-0538" num="0381">Next, the main random number acquiring section <b>413</b> acquires, as main random numbers, &#x3ba;-bit random number b (step F<b>2</b>).</p><p id="p-0539" num="0382">Next, the main random number transmitting section <b>414</b> transmits the main random number b generated in step F<b>2</b> to the decryption apparatus <b>420</b> (step F<b>3</b>).</p><p id="p-0540" num="0383">Next, the main random number receiving section <b>421</b> in the decryption apparatus <b>420</b> receives the main random number b from the concealment apparatus <b>410</b> (step F<b>4</b>).</p><p id="p-0541" num="0384">Next, the matching information concealment section <b>416</b> in the concealment apparatus <b>410</b> calculates</p><p id="p-0542" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>z</i><sub>j</sub><i>=x</i><sub>j</sub><i>&#x2212;bs</i><sub>j</sub><i>&#x2212;t</i><sub>j </sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0543" num="0000">for all j=1, . . . , and D,<br/>from the preliminary random number s=(s<sub>1</sub>, . . . , and s<sub>D</sub>, t<sub>1</sub>, . . . , and t<sub>D</sub>) acquired in step E<b>1</b>,<br/>the matching information x=(x<sub>1</sub>, . . . , and x<sub>D</sub>) acquired in step F<b>1</b>, and<br/>the main random number b acquired in step F<b>2</b>,<br/>to obtain the concealed matching information z=(z<sub>1</sub>, . . . , and z<sub>D</sub>) (step F<b>5</b>).</p><p id="p-0544" num="0385">Next, the concealed matching information transmitting section <b>418</b> transmits the concealed matching information z generated in step F<b>5</b> to the similarity calculating apparatus <b>430</b> (step F<b>6</b>).</p><p id="p-0545" num="0386">Next, the concealed matching information receiving section <b>432</b> in the similarity calculating apparatus <b>430</b> receives the concealed matching information z from the concealment apparatus <b>410</b> (step F<b>7</b>).</p><p id="p-0546" num="0387">Next, the second concealed transformed similarity calculating section <b>437</b> calculates, as second concealed transformed similarities for all i=1, . . . , and N,</p><p id="p-0547" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;z,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0548" num="0000">from the registration information y<sub>1</sub>, . . . , and y<sub>N </sub>(where y<sub>i</sub>=(y<sub>i, 1</sub>, . . . , and y<sub>i, D</sub>) for all i=1, . . . , and N) acquired in step E<b>5</b>,<br/>the transformation keys (r<sub>1</sub>, . . . , and r<sub>N</sub>) generated in step E<b>6</b>, and<br/>the concealed matching information z=(z<sub>1</sub>, . . . , and z<sub>D</sub>) received in step F<b>7</b> (step F<b>8</b>).<br/>Note that because z<sub>j</sub>=x<sub>j</sub>&#x2212;bs<sub>j</sub>&#x2212;t<sub>j </sub>is satisfied for all j=1, . . . , and D, the second concealed transformed similarities for all i=1, . . . , and N may be expressed as</p><p id="p-0549" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>i</sub>=[<i>r</i><sub>i</sub>(<i>x,y</i><sub>i</sub><i>&#x3e;&#x2212;b&#x3c;s,y</i><sub>i</sub><i>&#x3e;&#x2212;&#x3c;t,y</i><sub>i</sub>&#x3e;)]<i>G. </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0550" num="0388">Next, the second concealed transformed similarity transmitting section <b>439</b> transmits the second concealed transformed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) calculated in step F<b>8</b> to the decryption apparatus <b>420</b> (step F<b>9</b>).</p><p id="p-0551" num="0389">Next, the second concealed transformed similarity receiving section <b>423</b> in the decryption apparatus <b>420</b> receives the second concealed transformed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) from the similarity calculating apparatus <b>430</b> (step F<b>10</b>).</p><p id="p-0552" num="0390">Next, the decrypting section <b>424</b> calculates, as transformed similarities for all i=1, . . . , and N,</p><p id="p-0553" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>A</i><sub>i</sub>=[<i>r</i><sub>i</sub><i>&#x3c;x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0554" num="0000">from the first concealed transformed similarities (U<sub>1</sub>, . . . , and U<sub>N</sub>, V<sub>1</sub>, . . . , and V<sub>N</sub>) received in step E<b>11</b>,<br/>the main random number b received in step F<b>4</b>, and<br/>the second concealed transformed similarities (W<sub>1</sub>, . . . , and W<sub>N</sub>) received in step F<b>10</b> (step F<b>11</b>).<br/>Note that the transformed similarity for all i=1, . . . , and N can be calculated as, for example,</p><p id="p-0555" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[<i>b</i>]<i>U</i><sub>i</sub><i>+V</i><sub>i</sub><i>+W</i><sub>i</sub>.<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0556" num="0391">Next, the similarity transmitting section <b>425</b> transmits the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) calculated in step F<b>11</b> to the information identifying apparatus <b>440</b> (step F<b>12</b>).</p><p id="p-0557" num="0392">Next, the transformed similarity receiving section <b>442</b> in the information identifying apparatus <b>440</b> receives the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) from the decryption apparatus <b>420</b> (step F<b>13</b>).</p><p id="p-0558" num="0393">Next, the inverse transforming section <b>443</b> calculates, as points of similarities for all i=1, . . . , and N,</p><p id="p-0559" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[&#x3c;<i>x,y</i><sub>i</sub>&#x3e;]<i>G </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0560" num="0000">from the inverse transformation keys ((r<sub>1</sub>)<sup>&#x2212;1</sup>, . . . , and (r<sub>N</sub>)<sup>&#x2212;1</sup>) received in step E<b>8</b> and the transformed similarities (A<sub>1</sub>, . . . , and A<sub>N</sub>) received in step F<b>13</b> (step F<b>14</b>).<br/>Note that the point of similarity for all i=1, . . . , and N can be calculated as, for example,</p><p id="p-0561" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[(<i>r</i><sub>i</sub>)<sup>&#x2212;1</sup>](<i>A</i><sub>i</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0562" num="0394">At the end of the main calculation process, the information identifying section <b>444</b> identifies, among the points of similarities ([&#x3c;x, y<sub>1</sub>&#x3e;]G, . . . , and [&#x3c;x, y<sub>N</sub>&#x3e;]G) calculated in step F<b>14</b>, a point of similarity falling within a point acceptable range ([&#x3b8;<sub>1</sub>]G, . . . , and [&#x3b8;<sub>&#x3c4;</sub>]G) corresponding to a predefined acceptable range (&#x3b8;<sub>1</sub>, . . . , and &#x3b8;<sub>&#x3c4;</sub>) (step F<b>15</b>).</p><p id="p-0563" num="0395">This concrete example describes the example in which the similarity calculating apparatus <b>130</b> orders N concealed similarities to be transmitted to the decryption apparatus <b>120</b> in an index-based order of the registration information and transmits the resultant concealed similarities in step A<b>10</b>, but the similarity calculating apparatus <b>130</b> may assign a new identifier to each of the concealed similarities, shuffle the concealed similarities, and transmit the resultant concealed similarities to the decryption apparatus <b>120</b>. At this time, the similarity calculating apparatus <b>130</b> may further give correspondences of two types of identifiers to the information identifying apparatus <b>140</b> so that the information identifying apparatus <b>140</b> can determine an identifier of the registration information that the information identifying apparatus <b>140</b> desires to identify.</p><heading id="h-0036" level="2">[Description of Effect]</heading><p id="p-0564" num="0396">An effect of the present example embodiment described above is, similar to the first, second, and third example embodiments, that the information matching securely using the biometric information can be realized with the cost less than that of the case of using an additive homomorphic public key cryptosystem. This is because in the concealment of the matching information in step F<b>5</b>, the concealment is performed by the linear conversion instead of a homomorphic operation of an additive homomorphic public key cryptosystem. The linear conversion, rather than the general concealment, is applied to allow the second concealed transformed similarities and the transformed similarities to be calculated in steps F<b>8</b> and F<b>11</b>.</p><p id="p-0565" num="0397">Furthermore, the present example embodiment, similar to the second example embodiment, has an effect that the present example embodiment can be executed without leaking the value of the similarity to the decryption apparatus <b>420</b>, even in a case that the decryption apparatus <b>420</b> has information related to a random number other than the main random number, such as a case that the concealment apparatus <b>410</b> and the decryption apparatus <b>420</b> are mounted on the same apparatus. This is because the decryption apparatus <b>420</b> acquires the similarity that is transformed based on the transformation key generated by the similarity calculating apparatus <b>430</b>.</p><p id="p-0566" num="0398">Furthermore, the present example embodiment, similar to the third example embodiment, has also an effect that the cost taken after acquiring the matching information can be reduced. This is because in the present example embodiment, a process not depending on the matching information is the preliminary calculation process, and thus, such process can be executed before acquiring the matching information.</p><p id="p-0567" num="0399">As described above, the techniques according to the present invention make it possible to match, at high speed, biometric information acquired by a sensor such as a camera and biometric information of one or a plurality of persons stored in a database with the both biometric information being concealed. This is effective in some cases that a manager (managing organization) of the sensor and a manager (managing organization) of the database are different from each other.</p><p id="p-0568" num="0400">The techniques according to the present invention can be used for, for example, white list matching. An entrance and exit control of a building such as an office building is described as an example. A case is assumed that it is desired to check whether or not a person trying to pass through an entrance and exit gate owned by a manager (an organization) of the building is included in a list of employees of a tenant of the building or guests. In such a case, the use of the techniques according to the present invention enables the high speed matching without disclosing biometric information or the like of persons acquired at the entrance and exit gate to a tenant other than a tenant the person belongs to or is to visit by the manager (managing organization) of the building, or without disclosing biometric information or the like of the employees or the guests to the manager (the organization) or the building by each tenant.</p><p id="p-0569" num="0401">Security check in an airport and the like is described as another example of the use of the white list matching. In an airport, passport information is used at customs, a boarding gate, or various places for shopping, and a passenger presents a passport at every place. In order to eliminate the need of presenting and checking the passport, cases of using face authentication is increasing that a passport photograph of the passenger acquired by an airline company at a check-in counter or the like is used instead of the passport. At this time, the use of the techniques according to the present invention makes it possible to identify a target passenger without disclosing facial information of the passenger between the airline company, and the customs, the boarding gate, or various places for shopping, and get only the passport information of the target passenger at each place.</p><p id="p-0570" num="0402">The techniques according to the present invention can be used for also, for example, black list matching. Here, an example is described that a person appearing on a black list owned by an external organization is identified from among persons exist in a facility. A case is assumed that it is desired to find a person appearing on a black list of criminals or the like owned by the police or the like from among persons captured on a security camera owned by a manager (managing organization) of the facility. In such a case, the use of the present invention enables the high speed matching without disclosing facial information or the like of persons captured by the security camera in the facility to the owner (owing organization) of the black list by the manager (managing organization) of the facility, or without disclosing the black list to the manager (managing organization) of the facility.</p><p id="p-0571" num="0403">Next, hardware of each apparatus configuring the information search system will be described. <figref idref="DRAWINGS">FIG. <b>12</b></figref> is a diagram illustrating an example of a hardware configuration of the concealment apparatus <b>110</b>.</p><p id="p-0572" num="0404">The concealment apparatus <b>110</b> can be configured with an information processing apparatus (so-called, a computer), and includes a configuration illustrated in <figref idref="DRAWINGS">FIG. <b>12</b></figref>. For example, the concealment apparatus <b>110</b> includes a processor <b>31</b>, a memory <b>32</b>, an input/output interface <b>33</b>, a communication interface <b>34</b>, and the like. Constituent elements such as the processor <b>31</b> are connected to each other via an internal bus or the like, and are configured to be communicable with each other.</p><p id="p-0573" num="0405">However, the configuration illustrated in <figref idref="DRAWINGS">FIG. <b>12</b></figref> is not intended to limit the hardware configuration of the concealment apparatus <b>110</b>. The concealment apparatus <b>110</b> may include hardware not illustrated, or need not include the input/output interface <b>33</b> as necessary. The number of processors <b>31</b> and the like included in the concealment apparatus <b>110</b> is not intended to limit to the example illustrated in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, and for example, a plurality of processors <b>31</b> may be included in the concealment apparatus <b>110</b>.</p><p id="p-0574" num="0406">The processor <b>31</b> is, for example, a programmable device such as a central processing unit (CPU), a micro processing unit (MPU), and a digital signal processor (DSP). Alternatively, the processor <b>31</b> may be a device such as a field programmable gate array (FPGA) and an application specific integrated circuit (ASIC). The processor <b>31</b> executes various programs including an operating system (OS).</p><p id="p-0575" num="0407">The memory <b>32</b> is a random access memory (RAM), a read only memory (ROM), a hard disk drive (HDD), a solid state drive (SSD), or the like. The memory <b>32</b> stores an OS program, an application program, and various pieces of data.</p><p id="p-0576" num="0408">The input/output interface <b>33</b> is an interface of a display apparatus or an input apparatus (not illustrated). The display apparatus is, for example, a liquid crystal display or the like. The input apparatus is, for example, an apparatus that receives user operation, such as a keyboard and a mouse.</p><p id="p-0577" num="0409">The communication interface <b>34</b> is a circuit, a module, or the like that performs communication with another apparatus. For example, the communication interface <b>34</b> includes a network interface card (NIC) or the like.</p><p id="p-0578" num="0410">The function of the concealment apparatus <b>110</b> is implemented by various processing modules. Each of the processing modules is, for example, implemented by the processor <b>31</b> executing a program stored in the memory <b>32</b>. The program can be recorded on a computer readable storage medium. The storage medium can be a non-transitory storage medium, such as a semiconductor memory, a hard disk, a magnetic recording medium, and an optical recording medium. In other words, the present invention can also be implemented as a computer program product. The program can be updated through downloading via a network, or by using a storage medium storing a program. In addition, the processing module may be implemented by a semiconductor chip.</p><p id="p-0579" num="0411">Note that the decryption apparatus <b>120</b>, the similarity calculating apparatus <b>130</b>, and the information identifying apparatus <b>140</b> also can be configured by the information processing apparatus similar to the concealment apparatus <b>110</b>, and their basic hardware structures are not different from the concealment apparatus <b>110</b>, and thus, the descriptions thereof are omitted.</p><heading id="h-0037" level="1">Example Alterations</heading><p id="p-0580" num="0412">Note that the configuration, the operation, and the like of the information matching system described in the example embodiments are merely examples, and are not intended to limit the configuration and the like of the system. For example, a database server or the like may be provided that stores the information (for example, concealed information, matching information, or the like) transmitted or received between the apparatuses to communicate the information via the database server.</p><p id="p-0581" num="0413">In a plurality of flowcharts (sequence diagram) used in the above description, a plurality of steps (processes) are described in order, but the order of performing of the steps performed in each example embodiment is not limited to the described order. In each example embodiment, the illustrated order of processes can be changed as far as there is no problem with regard to processing contents, such as a change in which respective processes are executed in parallel, for example. The example embodiments described above can be combined in a scope that the contents do not conflict.</p><p id="p-0582" num="0414">The whole or part of the example embodiments disclosed above can be described as, but not limited to, the following supplementary notes.</p><heading id="h-0038" level="2">(Supplementary Note 1)</heading><p id="p-0583" num="0415">An information matching system comprises:</p><p id="p-0584" num="0416">a concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>);</p><p id="p-0585" num="0417">a decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>); and</p><p id="p-0586" num="0418">a similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>), wherein</p><p id="p-0587" num="0419">the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>) is configured to transmit, to the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>), concealed information including information concealing obtained matching information by linear conversion using random numbers,</p><p id="p-0588" num="0420">the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>) is configured to calculate, from obtained one or more pieces of registration information and the concealed information received from the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), a concealed similarity which is a value concealing a similarity between the matching information and the registration information, and to transmit the calculated concealed similarity to the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>), and</p><p id="p-0589" num="0421">the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>) is configured to calculate the similarity between the matching information and the registration information from the concealed similarity received from the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>), using the random numbers used by the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>).</p><heading id="h-0039" level="2">(Supplementary Note 2)</heading><p id="p-0590" num="0422">The information matching system according to the supplementary note 1, further comprises:</p><p id="p-0591" num="0423">an information identifying apparatus (<b>140</b>, <b>240</b>, <b>340</b>, or <b>440</b>), wherein</p><p id="p-0592" num="0424">the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>) is configured to further generate a transformation key and an inverse transformation key, and calculate a concealed similarity that is a value concealing a transformed value of the similarity between the matching information and the registration information from the obtained one or more pieces of registration information, the concealed information received from the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), and the transformation key to transmit the calculated concealed similarity to the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>),</p><p id="p-0593" num="0425">the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>) is configured to calculate a transformed similarity that is a transformed value of the similarity between the matching information and the registration information from a concealed transformed similarity calculated by the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>) using the random numbers used by the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), and transmit the calculated transformed similarity to the information identifying apparatus (<b>140</b>, <b>240</b>, <b>340</b>, or <b>440</b>), and</p><p id="p-0594" num="0426">the information identifying apparatus (<b>140</b>, <b>240</b>, <b>340</b>, or <b>440</b>) is configured to calculate a similarity from the transformed similarity received from the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>) using the inverse transformation key.</p><heading id="h-0040" level="2">(Supplementary Note 3)</heading><p id="p-0595" num="0427">The information matching system according to the supplementary note 1, wherein</p><p id="p-0596" num="0428">the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>) is configured to, before obtaining the matching information, transmit concealed random numbers concealing the obtained random numbers to the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>),</p><p id="p-0597" num="0429">the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>) is configured to calculate a first concealed similarity from the obtained one or more pieces of registration information and the concealed random numbers received from the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), and transmit the calculated first concealed similarity in advance to the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>),</p><p id="p-0598" num="0430">the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>) is configured to transmit, after obtaining the matching information, concealed matching information concealing the obtained matching information by linear conversion using random numbers to the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>),</p><p id="p-0599" num="0431">the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>) is configured to calculate a second concealed similarity from the obtained one or more pieces of registration information and the concealed matching information received from the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), and transmit the calculated second concealed similarity to the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>), and</p><p id="p-0600" num="0432">the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>) is configured to calculate a similarity between the matching information and the registration information from the first concealed similarity and the second concealed similarity using the random numbers used by the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>).</p><heading id="h-0041" level="2">(Supplementary Note 4)</heading><p id="p-0601" num="0433">The information matching system according to the supplementary note 3, further comprises:</p><p id="p-0602" num="0434">an information identifying apparatus (<b>140</b>, <b>240</b>, <b>340</b>, or <b>440</b>), wherein</p><p id="p-0603" num="0435">the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>) is configured to,</p><p id="p-0604" num="0436">before the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>) obtains the matching information, generate a transformation key and an inverse transformation key, calculate a first concealed transformed similarity from the obtained one or more pieces of registration information, the concealed random numbers received from the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), and the transformation key, and transmit the calculated first concealed transformed similarity in advance to the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>), and</p><p id="p-0605" num="0437">after the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>) obtains the matching information, calculate a second concealed transformed similarity from the obtained one or more pieces of registration information, the concealed matching information received from the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), and the transformation key, and transmit the calculated second concealed transformed similarity to the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>),</p><p id="p-0606" num="0438">the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>) is configured to calculate a transformed similarity that is a transformed value of the similarity between the matching information and the registration information from the first concealed transformed similarity and the second concealed transformed similarity calculated by the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>) using the random numbers used by the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), and transmit the calculated transformed similarity to the information identifying apparatus (<b>140</b>, <b>240</b>, <b>340</b>, or <b>440</b>), and</p><p id="p-0607" num="0439">the information identifying apparatus (<b>140</b>, <b>240</b>, <b>340</b>, or <b>440</b>) is configured to calculate a similarity from the transformed similarity using the inverse transformation key.</p><heading id="h-0042" level="2">(Supplementary Note 5)</heading><p id="p-0608" num="0440">The information matching system according to the supplementary note 2 or 4, wherein the information identifying apparatus (<b>140</b>, <b>240</b>, <b>340</b>, or <b>440</b>) is configured to identify the registration information matching the matching information based on the calculated similarity.</p><heading id="h-0043" level="2">(Supplementary Note 6)</heading><p id="p-0609" num="0441">The information matching system according to any one the supplementary notes 1 to 5, wherein the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>) is configured to use two random numbers a and b, and a random number s that is a vector having a dimension the same as matching information x that is a vector to conceal the matching information in a form of ax&#x2212;bs.</p><heading id="h-0044" level="2">(Supplementary Note 7)</heading><p id="p-0610" num="0442">The information matching system according to any one of the supplementary notes 1 to 5, wherein the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>) is configured to use one random number b and two random number vectors s and t each having a dimension the same as matching information x that is a vector to conceal the matching information in a form of x&#x2212;bs&#x2212;t.</p><heading id="h-0045" level="2">(Supplementary Note 8)</heading><p id="p-0611" num="0443">An information matching method comprises, in an information matching system including a concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), a decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>), and a similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>):</p><p id="p-0612" num="0444">transmitting, by the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), to the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>), concealed information including information concealing obtained matching information by linear conversion using random numbers;</p><p id="p-0613" num="0445">calculating, by the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>), from obtained one or more pieces of registration information and the concealed information received from the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>), a concealed similarity which is a value concealing a similarity between the matching information and the registration information, and to transmit the calculated concealed similarity to the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>); and</p><p id="p-0614" num="0446">calculating, by the decryption apparatus (<b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, or <b>420</b>), the similarity between the matching information and the registration information from the concealed similarity received from the similarity calculating apparatus (<b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, or <b>430</b>), using the random numbers used by the concealment apparatus (<b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, or <b>410</b>).</p><p id="p-0615" num="0447">Note that the aspect of the supplementary note 8 can be expanded, similar to the aspect of the supplementary note 1, to the aspects of the supplementary notes 2 to 7.</p><p id="p-0616" num="0448">Note that the disclosures of the cited literatures in the citation list are incorporated herein by reference. Descriptions have been given above of the example embodiments of the present invention. However, the present invention is not limited to these example embodiments. It should be understood by those of ordinary skill in the art that these example embodiments are merely examples and that various alterations are possible without departing from the scope and the spirit of the present invention.</p><heading id="h-0046" level="1">REFERENCE SIGNS LIST</heading><p id="p-0617" num="0000"><ul id="ul0003" list-style="none">    <li id="ul0003-0001" num="0449"><b>10</b>, <b>110</b>, <b>210</b>, <b>310</b>, <b>410</b> Concealment Apparatus</li>    <li id="ul0003-0002" num="0450"><b>20</b>, <b>120</b>, <b>220</b>, <b>320</b>, <b>420</b> Decryption Apparatus</li>    <li id="ul0003-0003" num="0451"><b>30</b>, <b>130</b>, <b>230</b>, <b>330</b>, <b>430</b> Similarity Calculating Apparatus</li>    <li id="ul0003-0004" num="0452"><b>31</b> Processor</li>    <li id="ul0003-0005" num="0453"><b>32</b> Memory</li>    <li id="ul0003-0006" num="0454"><b>33</b> Input/Output Interface</li>    <li id="ul0003-0007" num="0455"><b>34</b> Communication Interface</li>    <li id="ul0003-0008" num="0456"><b>100</b>, <b>200</b>, <b>300</b>, <b>400</b> Information Matching System</li>    <li id="ul0003-0009" num="0457"><b>111</b>, <b>211</b>, <b>311</b>, <b>411</b> Matching Information Acquiring Section</li>    <li id="ul0003-0010" num="0458"><b>113</b>, <b>213</b> Random Number Acquiring Section</li>    <li id="ul0003-0011" num="0459"><b>114</b>, <b>214</b>, <b>314</b>, <b>414</b> Main Random Number Transmitting Section</li>    <li id="ul0003-0012" num="0460"><b>116</b> Concealment Section</li>    <li id="ul0003-0013" num="0461"><b>118</b>, <b>218</b> Concealed Information Transmitting Section</li>    <li id="ul0003-0014" num="0462"><b>121</b>, <b>221</b>, <b>321</b>, <b>421</b> Main Random Number Receiving Section</li>    <li id="ul0003-0015" num="0463"><b>123</b> Concealed Similarity Receiving Section</li>    <li id="ul0003-0016" num="0464"><b>124</b>, <b>224</b>, <b>324</b>, <b>424</b> Decrypting Section</li>    <li id="ul0003-0017" num="0465"><b>125</b>, <b>225</b>, <b>325</b>, <b>425</b> Similarity Transmitting Section</li>    <li id="ul0003-0018" num="0466"><b>132</b>, <b>232</b> Concealed Information Receiving Section</li>    <li id="ul0003-0019" num="0467"><b>133</b>, <b>233</b>, <b>333</b>, <b>433</b> Registration Information Acquiring Section</li>    <li id="ul0003-0020" num="0468"><b>137</b> Concealed Similarity Calculating Section</li>    <li id="ul0003-0021" num="0469"><b>139</b> Concealed Similarity Transmitting Section</li>    <li id="ul0003-0022" num="0470"><b>140</b>, <b>240</b>, <b>340</b>, <b>440</b> Information Identifying Apparatus</li>    <li id="ul0003-0023" num="0471"><b>142</b>, <b>342</b> Similarity Receiving Section</li>    <li id="ul0003-0024" num="0472"><b>144</b>, <b>244</b>, <b>344</b>, <b>444</b> Information Identifying Section</li>    <li id="ul0003-0025" num="0473"><b>216</b>, <b>316</b>, <b>416</b> Matching Information Concealment Section</li>    <li id="ul0003-0026" num="0474"><b>223</b> Concealed Transformed Similarity Receiving Section</li>    <li id="ul0003-0027" num="0475"><b>234</b>, <b>434</b> Transformation Key Generating Section</li>    <li id="ul0003-0028" num="0476"><b>235</b>, <b>435</b> Inverse Transformation Key Transmitting Section</li>    <li id="ul0003-0029" num="0477"><b>237</b> Concealed Transformed Similarity Calculating Section</li>    <li id="ul0003-0030" num="0478"><b>238</b> Concealed Transformed Similarity Transmitting Section</li>    <li id="ul0003-0031" num="0479"><b>241</b>, <b>441</b> Inverse Transformation Key Receiving Section</li>    <li id="ul0003-0032" num="0480"><b>242</b>, <b>442</b> Transformed Similarity Receiving Section</li>    <li id="ul0003-0033" num="0481"><b>243</b>, <b>443</b> Inverse Transforming Section</li>    <li id="ul0003-0034" num="0482"><b>312</b>, <b>412</b> Preliminary Random Number Acquiring Section</li>    <li id="ul0003-0035" num="0483"><b>313</b>, <b>413</b> Main Random Number Acquiring Section</li>    <li id="ul0003-0036" num="0484"><b>315</b>, <b>415</b> Random Number Concealment Section</li>    <li id="ul0003-0037" num="0485"><b>317</b>, <b>417</b> Concealed Random Number Transmitting Section</li>    <li id="ul0003-0038" num="0486"><b>318</b>, <b>418</b> Concealed Matching Information Transmitting Section</li>    <li id="ul0003-0039" num="0487"><b>322</b> First Concealed Similarity Receiving Section</li>    <li id="ul0003-0040" num="0488"><b>323</b> Second Concealed Similarity Receiving Section</li>    <li id="ul0003-0041" num="0489"><b>331</b>, <b>431</b> Concealed Random Number Receiving Section</li>    <li id="ul0003-0042" num="0490"><b>332</b>, <b>432</b> Concealed Matching Information Receiving Section</li>    <li id="ul0003-0043" num="0491"><b>336</b> First Concealed Similarity Calculating Section</li>    <li id="ul0003-0044" num="0492"><b>337</b> Second Concealed Similarity Calculating Section</li>    <li id="ul0003-0045" num="0493"><b>338</b> First Concealed Similarity Transmitting Section</li>    <li id="ul0003-0046" num="0494"><b>339</b> Second Concealed Similarity Transmitting Section</li>    <li id="ul0003-0047" num="0495"><b>422</b> First Concealed Transformed Similarity Receiving Section</li>    <li id="ul0003-0048" num="0496"><b>423</b> Second Concealed Transformed Similarity Receiving Section</li>    <li id="ul0003-0049" num="0497"><b>436</b> First Concealed Transformed Similarity Calculating Section</li>    <li id="ul0003-0050" num="0498"><b>437</b> Second Concealed Transformed Similarity Calculating Section</li>    <li id="ul0003-0051" num="0499"><b>438</b> First Concealed Transformed Similarity Transmitting Section</li>    <li id="ul0003-0052" num="0500"><b>439</b> Second Concealed Transformed Similarity Transmitting Section</li></ul></p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An information matching system comprising:<claim-text>a concealment apparatus including a memory storing instructions and one or more processors configured to execute the instructions;</claim-text><claim-text>a decryption apparatus including a memory storing instructions and one or more processors configured to execute the instructions; and</claim-text><claim-text>a similarity calculating apparatus including a memory storing instructions and one or more processors configured to execute the instructions, wherein</claim-text><claim-text>the concealment apparatus is configured to transmit, to the similarity calculating apparatus, concealed information including information concealing obtained matching information by linear conversion using random numbers,</claim-text><claim-text>the similarity calculating apparatus is configured to calculate, from obtained one or more pieces of registration information and the concealed information received from the concealment apparatus, a concealed similarity which is a value concealing a similarity between the matching information and the registration information, and to transmit the calculated concealed similarity to the decryption apparatus, and</claim-text><claim-text>the decryption apparatus is configured to calculate the similarity between the matching information and the registration information from the concealed similarity received from the similarity calculating apparatus, using the random numbers used by the concealment apparatus.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The information matching system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>an information identifying apparatus including a memory storing instructions and one or more processors configured to execute the instructions, wherein</claim-text><claim-text>the similarity calculating apparatus is configured to further generate a transformation key and an inverse transformation key, and calculate a concealed similarity that is a value concealing a transformed value of the similarity between the matching information and the registration information from the obtained one or more pieces of registration information, the concealed information received from the concealment apparatus, and the transformation key to transmit the calculated concealed similarity to the decryption apparatus,</claim-text><claim-text>the decryption apparatus is configured to calculate a transformed similarity that is a transformed value of the similarity between the matching information and the registration information from a concealed transformed similarity calculated by the similarity calculating apparatus using the random numbers used by the concealment apparatus, and transmit the calculated transformed similarity to the information identifying apparatus, and</claim-text><claim-text>the information identifying apparatus is configured to calculate a similarity from the transformed similarity received from the decryption apparatus using the inverse transformation key.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The information matching system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the concealment apparatus is configured to, before obtaining the matching information, transmit concealed random numbers concealing the obtained random numbers to the similarity calculating apparatus,</claim-text><claim-text>the similarity calculating apparatus is configured to calculate a first concealed similarity from the obtained one or more pieces of registration information and the concealed random numbers received from the concealment apparatus, and transmit the calculated first concealed similarity in advance to the decryption apparatus,</claim-text><claim-text>the concealment apparatus is configured to transmit, after obtaining the matching information, concealed matching information concealing the obtained matching information by linear conversion using random numbers to the similarity calculating apparatus,</claim-text><claim-text>the similarity calculating apparatus is configured to calculate a second concealed similarity from the obtained one or more pieces of registration information and the concealed matching information received from the concealment apparatus, and transmit the calculated second concealed similarity to the decryption apparatus, and</claim-text><claim-text>the decryption apparatus is configured to calculate a similarity between the matching information and the registration information from the first concealed similarity and the second concealed similarity using the random numbers used by the concealment apparatus.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The information matching system according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising:<claim-text>an information identifying apparatus including a memory storing instructions and one or more processors configured to execute the instructions, wherein</claim-text><claim-text>the similarity calculating apparatus is configured to,</claim-text><claim-text>before the concealment apparatus obtains the matching information, generate a transformation key and an inverse transformation key, calculate a first concealed transformed similarity from the obtained one or more pieces of registration information, the concealed random numbers received from the concealment apparatus, and the transformation key, and transmit the calculated first concealed transformed similarity in advance to the decryption apparatus, and</claim-text><claim-text>after the concealment apparatus obtains the matching information, calculate a second concealed transformed similarity from the obtained one or more pieces of registration information, the concealed matching information received from the concealment apparatus, and the transformation key, and transmit the calculated second concealed transformed similarity to the decryption apparatus,</claim-text><claim-text>the decryption apparatus is configured to calculate a transformed similarity that is a transformed value of the similarity between the matching information and the registration information from the first concealed transformed similarity and the second concealed transformed similarity calculated by the similarity calculating apparatus using the random numbers used by the concealment apparatus, and transmit the calculated transformed similarity to the information identifying apparatus, and</claim-text><claim-text>the information identifying apparatus is configured to calculate a similarity from the transformed similarity using the inverse transformation key.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The information matching system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the information identifying apparatus is configured to identify the registration information matching the matching information based on the calculated similarity.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The information matching system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the concealment apparatus is configured to use two random numbers a and b, and a random number s that is a vector having a dimension the same as matching information x that is a vector to conceal the matching information in a form of ax&#x2212;bs.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The information matching system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the concealment apparatus is configured to use one random number b and two random number vectors s and t each having a dimension the same as matching information x that is a vector to conceal the matching information in a form of x&#x2212;bs&#x2212;t.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. An information matching method comprising, in an information matching system including a concealment apparatus, a decryption apparatus, and a similarity calculating apparatus:<claim-text>transmitting, by the concealment apparatus, to the similarity calculating apparatus, concealed information including information concealing obtained matching information by linear conversion using random numbers;</claim-text><claim-text>calculating, by the similarity calculating apparatus, from obtained one or more pieces of registration information and the concealed information received from the concealment apparatus, a concealed similarity which is a value concealing a similarity between the matching information and the registration information, and to transmit the calculated concealed similarity to the decryption apparatus; and</claim-text><claim-text>calculating, by the decryption apparatus, the similarity between the matching information and the registration information from the concealed similarity received from the similarity calculating apparatus, using the random numbers used by the concealment apparatus.</claim-text></claim-text></claim></claims></us-patent-application>