<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003513A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003513</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17756757</doc-number><date>20201208</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2019-223874</doc-number><date>20191211</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>B</subclass><main-group>11</main-group><subgroup>24</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>B</subclass><main-group>11</main-group><subgroup>06</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>B</subclass><main-group>11</main-group><subgroup>24</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>B</subclass><main-group>11</main-group><subgroup>0608</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>65</class><subclass>G</subclass><main-group>2203</main-group><subgroup>0241</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>65</class><subclass>G</subclass><main-group>47</main-group><subgroup>90</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">PARTS SUPPLY DEVICE AND PARTS TRANSFER SYSTEM</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>KYOTO SEISAKUSHO CO., LTD.</orgname><address><city>Kyoto-shi, Kyoto</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant><us-applicant sequence="01" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>CHUGAI SEIYAKU KABUSHIKI KAISHA</orgname><address><city>Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>IMAI</last-name><first-name>Yuta</first-name><address><city>Kyoto-shi, Kyoto</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>HIGASHI</last-name><first-name>Hiroaki</first-name><address><city>Kyoto-shi, Kyoto</city><country>JP</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>HOSAKA</last-name><first-name>Hideaki</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/JP2020/045716</doc-number><date>20201208</date></document-id><us-371c12-date><date>20220601</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A parts supply device includes a stage having a placement surface on which a plurality of parts is placed, an imaging system configured to image the plurality of parts from an obliquely upward direction with respect to the placement surface of the stage, and a parts detection unit configured to detect positions and orientations of the plurality of parts on the placement surface of the stage based on image information obtained by the imaging system.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="103.72mm" wi="158.75mm" file="US20230003513A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="250.19mm" wi="159.43mm" orientation="landscape" file="US20230003513A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="248.07mm" wi="159.34mm" orientation="landscape" file="US20230003513A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="249.85mm" wi="164.34mm" orientation="landscape" file="US20230003513A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="101.26mm" wi="89.15mm" file="US20230003513A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="204.64mm" wi="154.26mm" orientation="landscape" file="US20230003513A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="196.77mm" wi="129.37mm" orientation="landscape" file="US20230003513A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="214.71mm" wi="144.95mm" orientation="landscape" file="US20230003513A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="95.59mm" wi="125.90mm" file="US20230003513A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="261.03mm" wi="127.76mm" file="US20230003513A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">TECHNICAL FIELD</heading><p id="p-0002" num="0001">The present disclosure relates to a parts transfer system including a transfer device such as a transfer robot that picks and transfers a part, and a parts supply device that is a component of the parts transfer system and supplies parts to the transfer device.</p><heading id="h-0002" level="1">BACKGROUND ART</heading><p id="p-0003" num="0002">For example, there is known a device such as a parts feeder that arranges parts in an aligned orientation (posture) so that a transfer device such as a transfer robot can appropriately pick a part out of the parts. For example, in a case of a device described in Patent Literature 1, a plurality of parts is transferred onto a placement surface of a stage, and engage partially in a plurality of linear grooves formed on the placement surface, so that orientations of the parts are aligned.</p><heading id="h-0003" level="1">PRIOR ART DOCUMENT</heading><heading id="h-0004" level="1">Patent Document</heading><p id="p-0004" num="0000"><ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0003">[Patent Literature 1] JP H5-56828 U</li></ul></p><heading id="h-0005" level="1">SUMMARY OF THE INVENTION</heading><heading id="h-0006" level="1">Problems to be Solved by the Invention</heading><p id="p-0005" num="0004">However, in the case of the device described in Patent Literature 1, when each part has, for example, a bottomed cylindrical shape, some of the plurality of parts on the placement surface of the stage may be different in opening direction by 180 degrees. Thus, a transfer device such as a transfer robot that picks a part out of the parts may picks a part in an incorrect orientation.</p><p id="p-0006" num="0005">Therefore, an object of the present disclosure is to pick a part more reliably in a correct orientation.</p><heading id="h-0007" level="1">Means for Solving the Problems</heading><p id="p-0007" num="0006">In order to solve the above technical problems, according to one aspect of the present disclosure, provided is</p><p id="p-0008" num="0007">a parts supply device including:</p><p id="p-0009" num="0008">a stage having a placement surface on which a plurality of parts is placed;</p><p id="p-0010" num="0009">an imaging system configured to image the plurality of parts from an obliquely upward direction with respect to the placement surface of the stage; and</p><p id="p-0011" num="0010">a parts detection unit configured to detect positions and orientations of the plurality of parts on the placement surface of the stage based on image information obtained by the imaging system.</p><p id="p-0012" num="0011">According to another aspect of the present disclosure, provided is</p><p id="p-0013" num="0012">a parts transfer system including:</p><p id="p-0014" num="0013">the parts supply device according to the one aspect of the present disclosure; and</p><p id="p-0015" num="0014">a transfer device configured to pick and transfer a part.</p><heading id="h-0008" level="1">Effects of the Invention</heading><p id="p-0016" num="0015">According to the present disclosure, it is possible to pick a part more reliably in a correct orientation.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0009" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic side view of a parts transfer system according to an embodiment of the present disclosure.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic top view of the parts transfer system.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a block diagram illustrating a configuration of the parts transfer system.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a perspective view of an example of a part handled by the parts transfer system.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a perspective view illustrating line light emitted on a stage.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a diagram illustrating a plurality of lines of the line light on a portion of the placement surface of the stage imaged by the line light imaging device.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a perspective view of the portion of the placement surface of the stage on which the plurality of lines of the line light illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref> is emitted.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a graph illustrating a relationship between a rotation angle of a servomotor and a position of a moving head.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart illustrating an example of a flow of a parts transfer operation in the parts transfer system.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0010" level="1">MODES FOR CARRYING OUT THE INVENTION</heading><p id="p-0026" num="0025">A parts supply device according to one aspect of the present disclosure includes a stage having a placement surface on which a plurality of parts is placed, an imaging system configured to image the plurality of parts from an obliquely upward direction with respect to the placement surface of the stage, and a parts detection unit configured to detect positions and orientations of the plurality of parts on the placement surface of the stage based on image information obtained by the imaging system.</p><p id="p-0027" num="0026">According to such an aspect, it is possible to pick a part more reliably in a correct orientation.</p><p id="p-0028" num="0027">For example, it is preferable that, in the parts supply device, the imaging system includes a line light emitting device configured to emit line light extending in a direction intersecting the obliquely upward direction toward the stage at a first angle that is acute with respect to the placement surface, and a line light imaging device configured to image the line light on the placement surface of the stage toward the stage at a second angle that is acute with respect to the placement surface of the stage. In this case, it is preferable that, the image information includes a height distribution on the placement surface of the stage obtained by scanning the placement surface with the line light emitted by the line light emitting device, imaging, by the line light imaging device, each of a plurality of lines of the line light resulting from the scanning, and calculating the height distribution based on a shape of each of the plurality of lines of the line light that is imaged.</p><p id="p-0029" num="0028">For example, it is preferable that the parts supply device further includes a moving head. In this case, it is preferable that the imaging system is mounted on the moving head, and the moving head is configured to move relatively to and parallel to the placement surface of the stage in a direction intersecting a direction in which the line light extends.</p><p id="p-0030" num="0029">For example, it is preferable that the parts supply device further includes a storage unit that stores part shape data indicating a three-dimensional shape of each of the plurality of parts. In this case, it is preferable that the parts detection unit is configured to detect the positions and postures of the plurality of parts on the placement surface based on the height distribution and the part shape data.</p><p id="p-0031" num="0030">For example, it is preferable that the parts supply device further includes a parts count estimation unit configured to estimate a number of the plurality of parts on the placement surface based on an area of a region where the plurality of parts is present in the placement surface of the stage and a size of each of the plurality of parts, the area being calculated by the parts count estimation unit based on the height distribution and shape information of the plurality of parts.</p><p id="p-0032" num="0031">For example, it is preferable that the parts supply device further includes a stage swing device configured to swing the stage.</p><p id="p-0033" num="0032">For example, it is preferable that the plurality of parts each have a bottomed cylindrical shape.</p><p id="p-0034" num="0033">For example, it is preferable that the placement surface of the stage includes a plurality of grooves that each engage with a portion of an outer peripheral surface of each of the plurality of parts, the plurality of grooves extending in a moving direction of the moving head.</p><p id="p-0035" num="0034">For example, it is preferable that the parts supply device further includes a moving head driving device configured to move the moving head linearly close to or away from the stage. Furthermore, it is preferable that the moving head driving device includes a servomotor, a first link arm having a one end and the other end, the one end being connected to the servomotor, and a second link arm having a one end and the other end, the one end of the second link arm being connected to the other end of the first link arm, the other end of the second link arm being connected to the moving head.</p><p id="p-0036" num="0035">For example, it is preferable that the line light imaging device is configured to image the line light every time the moving head moves by a constant movement amount, based on a rotation angle of the servomotor and a non-linear relationship obtained in advance between the rotation angle and a position of the moving head.</p><p id="p-0037" num="0036">A parts transfer system according to another aspect of the present disclosure includes the parts supply device, and a transfer device configured to pick and transfer a part.</p><p id="p-0038" num="0037">According to such an aspect, it is possible to pick a part more reliably in a correct orientation.</p><p id="p-0039" num="0038">Hereinafter, an embodiment of the present disclosure will be described with reference to the drawings.</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic side view of a parts transfer system according to an embodiment of the present disclosure. <figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic top view of the parts transfer system. <figref idref="DRAWINGS">FIG. <b>3</b></figref> is a block diagram illustrating a configuration of the parts transfer system. Note that an X-Y-Z coordinate system illustrated in the drawings is provided to facilitate understanding of the present disclosure, and does not limit the embodiment of the present disclosure. In the X-Y-Z coordinate system, an X-axis direction and a Y-axis direction indicate horizontal directions, and a Z-axis direction indicates a vertical direction.</p><p id="p-0041" num="0040">As illustrated in <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref>, a parts transfer system <b>10</b> according to the present embodiment is a system for transferring parts P, and transfers the parts P in a clean room CR.</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a perspective view of an example of a part handled by the parts transfer system.</p><p id="p-0043" num="0042">As illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, in a case of the present embodiment, the parts transfer system <b>10</b> handles a part P having a bottomed cylindrical shape. Specifically, a part P has a cylindrical shape having a length L and an outer diameter &#x3c6;, and includes a first end surface Pa and a second end surface Pb. The first end surface Pa has an opening Pc. On the other hand, the second end surface Pb has no opening.</p><p id="p-0044" num="0043">As illustrated in <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref>, in the case of the present embodiment, the parts transfer system <b>10</b> includes a transfer robot <b>20</b> as a transfer device that picks and transfers a part P, and a parts supply device <b>30</b> that supplies parts P to the transfer robot <b>20</b>.</p><p id="p-0045" num="0044">The transfer robot <b>20</b> of the parts transfer system <b>10</b> is an articulated robot that picks a part P, transfers the part P to a predetermined place (not illustrated), and places the part P in a predetermined orientation (for example, in a state where the opening Pc faces downward) on the predetermined place. In addition, the transfer robot <b>20</b> includes an end effector <b>22</b> for holding a part P. The end effector <b>14</b> is configured to suck and hold the part P, for example. In the present embodiment, the transfer robot <b>20</b> is a transfer robot for a clean environment suitable for use in the clean room CR.</p><p id="p-0046" num="0045">The parts supply device <b>30</b> of the parts transfer system <b>10</b> is a device for supplying parts P to the transfer robot <b>20</b>, and is configured to supply the parts P especially so that the transfer robot <b>20</b> can pick a part P.</p><p id="p-0047" num="0046">For example, specifically, the parts supply device <b>30</b> includes a stage <b>32</b> having a placement surface <b>32</b><i>a </i>on which a plurality of parts P is placed, an imaging system that captures an image from an obliquely upward direction with respect to the parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>, and a parts detection unit that detects positions and orientations of the parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> based on image information obtained by the imaging system. More specifically, the parts supply device <b>30</b> includes the stage <b>32</b> on which the plurality of parts P is placed, and a moving head <b>34</b> that moves relatively to the stage <b>32</b>. The imaging system includes a line light emitting device <b>36</b> that emits line light on the stage <b>32</b>, and a line light imaging device <b>38</b> that images the line light on the stage <b>32</b>. The line light emitting device <b>36</b> and the line light imaging device <b>38</b> are mounted on the moving head <b>34</b>.</p><p id="p-0048" num="0047">The stage <b>32</b> includes the placement surface <b>32</b><i>a </i>spreading horizontally (parallel to the X-axis direction and the Y-axis direction) on which the plurality of parts P are placed. The transfer robot <b>20</b> picks a part P on the placement surface <b>32</b><i>a</i>. The parts P are carried into the clean room CR from the outside through a carry-in device <b>40</b>, and are put on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. At this time, the plurality of parts P is placed at random positions and in random orientations (postures).</p><p id="p-0049" num="0048">In the case of the present embodiment, the placement surface <b>32</b><i>a </i>of the stage <b>32</b> includes a horizontal surface portion <b>32</b><i>b </i>and a plurality of grooves <b>32</b><i>c </i>formed in the horizontal surface portion <b>32</b><i>b</i>, the plurality of grooves <b>32</b><i>c </i>extending in a moving direction of the moving head <b>34</b> (X-axis direction). The grooves <b>32</b><i>c </i>each have a cross-sectional shape that allows a portion of an outer peripheral surface of a part P to engage so that the part P can be picked by the transfer robot <b>20</b>. In the case of the present embodiment, substantially half of the part P engages with a groove <b>32</b><i>c</i>, and the remaining portion protrudes from the horizontal surface portion <b>32</b><i>b</i>. Furthermore, in the case of the present embodiment, the parts supply device <b>30</b> includes a stage swing device <b>42</b> such as an actuator that swings the stage <b>32</b> to change the positions and orientations of the plurality of parts P on the placement surface <b>32</b><i>a</i>. Roles of the grooves <b>32</b><i>c </i>and the stage swing device <b>42</b> will be described later.</p><p id="p-0050" num="0049">The moving head <b>34</b> of the parts supply device <b>30</b> is a moving body having the line light emitting device <b>36</b> and the line light imaging device <b>38</b> for detecting the positions and orientations of the parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>.</p><p id="p-0051" num="0050">Specifically, the moving head <b>34</b> moves relatively to and parallel to the placement surface <b>32</b><i>a </i>of the stage <b>32</b> (in the X-axis direction). In the present embodiment, the moving head <b>34</b> moves close to or away from the stage <b>32</b> that does not move horizontally. When the moving head <b>34</b> is close to the stage <b>32</b>, a portion of the moving head <b>34</b> is located above the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. Furthermore, the moving head <b>34</b> is driven by a moving head driving device <b>44</b>.</p><p id="p-0052" num="0051">As shown in <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref>, in the case of the present embodiment, the moving head driving device <b>44</b> includes a servomotor <b>46</b>, a first link arm <b>48</b>, and a second link arm <b>50</b>. The first link arm <b>48</b> has a one end and the other end, and the one end is connected to the servomotor <b>46</b>. The second link arm <b>50</b> has a one end and the other end, the one end of the second link arm <b>50</b> is connected to the other end of the first link arm <b>48</b>, and the other end of the second link arm <b>50</b> is connected to the moving head <b>34</b>.</p><p id="p-0053" num="0052">The servomotor <b>46</b> includes a timing pulley <b>52</b>, and rotates the timing pulley <b>52</b> about a rotation center line C<b>1</b> extending in the vertical direction (Z-axis direction). A drive shaft <b>54</b> extending in the vertical direction is attached to the one end of the first link arm <b>48</b>. The drive shaft <b>54</b> is provided with a timing pulley <b>56</b>. The timing pulley <b>56</b> is in drive connection with the timing pulley <b>52</b> of the servomotor <b>46</b> via a timing belt <b>58</b>. This drive connection causes the drive shaft <b>54</b> to rotate about a rotation center line C<b>2</b> extending in the vertical direction.</p><p id="p-0054" num="0053">The one end of the second link arm <b>50</b> is connected to the other end of the first link arm <b>48</b> so as to be rotatable about a rotation center line C<b>3</b> extending in the vertical direction (Z-axis direction). The other end of the second link arm <b>50</b> is connected to the moving head <b>34</b> so as to be rotatable about a rotation center line C<b>4</b> extending in the vertical direction.</p><p id="p-0055" num="0054">The servomotor <b>46</b>, the timing pulleys <b>52</b> and <b>56</b>, and the timing belt <b>58</b> are disposed outside the clean room CR, and the drive shaft <b>54</b> extends from the inside to the outside of the clean room CR.</p><p id="p-0056" num="0055">According to the moving head driving device <b>44</b> described above, the servomotor <b>46</b> rotates the drive shaft <b>54</b> via the timing pulleys <b>52</b> and <b>56</b> and the timing belt <b>58</b>. Consequently, the first and second link arms <b>48</b> and <b>50</b> drive the moving head <b>34</b>. Such a drive connection allows the moving head <b>34</b> to move close to or away from the stage <b>32</b> by forward or backward rotation of the servomotor <b>46</b>.</p><p id="p-0057" num="0056">Note that there is provided a guide device <b>60</b> so that the moving head <b>34</b> driven by the moving head driving device <b>44</b> (servomotor <b>46</b> thereof) moves linearly close to or away from the stage <b>32</b>. The guide device <b>60</b> includes a rail <b>62</b> extending in a horizontal direction (X-axis direction) and a guide block <b>64</b> that engages with the rail <b>62</b> and moves in the extending direction of the rail <b>62</b>. This guide block <b>64</b>, when attached to the moving head <b>34</b>, allows for the linear movement of the moving head <b>34</b>.</p><p id="p-0058" num="0057">According to the moving head driving device <b>44</b> having such a configuration, a plurality of cables (power cable, signal cable, and the like) connected to the line light emitting device <b>36</b> and the line light imaging device <b>38</b> mounted on the moving head <b>34</b> can be led out to the outside of the clean room CR through the inside of the first and second link arms <b>48</b> and <b>50</b> and the drive shaft <b>54</b>.</p><p id="p-0059" num="0058">The line light emitting device <b>36</b> mounted on the moving head <b>34</b> emits line light on the stage <b>32</b>.</p><p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a perspective view illustrating line light LL emitted on the stage. Note that <figref idref="DRAWINGS">FIG. <b>5</b></figref> shows the stage <b>32</b> schematically.</p><p id="p-0061" num="0060">As illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the line light emitting device <b>36</b> is configured to emit the line light LL on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. For example, the line light emitting device <b>36</b> is a laser device including a slit-shaped emission port.</p><p id="p-0062" num="0061">Specifically, the line light emitting device <b>36</b> emits the line light LL extending in a direction (Y-axis direction) intersecting the imaging direction of the imaging system (obliquely upward direction with respect to the parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>) or equivalently, in the case of the present embodiment, the moving direction of the moving head <b>34</b> (X-axis direction). A length (size in the Y-axis direction) of the line light LL is substantially equal to a width W of the placement surface <b>32</b><i>a </i>of the stage <b>32</b>.</p><p id="p-0063" num="0062">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the line light emitting device <b>36</b> emits the line light LL toward the stage <b>32</b> with respect to the moving head <b>34</b> at a first angle &#x3b1; that is acute with respect to the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. The first angle &#x3b1; is, for example, 60 degrees.</p><p id="p-0064" num="0063">Then, when the moving head <b>34</b> moves with respect to the placement surface <b>32</b><i>a </i>of the stage <b>32</b>, specifically, moves in the direction (X-axis direction) intersecting the extending direction of the line light LL (Y-axis direction), the line light LL moves on, that is, scans the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. Note that the moving head <b>34</b> and the placement surface <b>32</b><i>a </i>of the stage <b>32</b> are only required to move relatively to each other, and the placement surface <b>32</b><i>a </i>of the stage <b>32</b> may move with respect to the moving head <b>34</b>.</p><p id="p-0065" num="0064">The line light imaging device <b>38</b> mounted on the moving head <b>34</b> images the line light LL on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>.</p><p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a diagram illustrating a plurality of lines of the line light LL on a portion of the placement surface of the stage imaged by the line light imaging device. Note that <figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates the plurality of lines of the line light LL each imaged at a different timing. <figref idref="DRAWINGS">FIG. <b>7</b></figref> is a perspective view of the portion of the placement surface of the stage on which the plurality of lines of the line light LL illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref> is emitted.</p><p id="p-0067" num="0066">The line light imaging device <b>38</b> is, for example, a camera, and images the line light LL on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> every time the moving head <b>34</b> moves by a predetermined constant distance. That is, reflected light of the line light LL is incident on a light receiving surface of an imaging element of the line light imaging device <b>38</b>.</p><p id="p-0068" num="0067">As illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the line light imaging device <b>38</b> images the line light LL on the stage <b>32</b> toward the stage <b>32</b> with respect to the moving head <b>34</b> at a second angle (<b>3</b> that is acute with respect to the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. That is, an optical axis OA of the line light imaging device <b>38</b> intersects the stage <b>32</b> at the second angle &#x3b2;. The second angle &#x3b2; is 45 degrees. The second angle &#x3b2; is preferably closer to the first angle &#x3b1;, and may be equal to the first angle &#x3b1;.</p><p id="p-0069" num="0068">As illustrated in <figref idref="DRAWINGS">FIGS. <b>6</b> and <b>7</b></figref>, a shape of a line of the line light LL imaged by the line light imaging device <b>38</b> corresponds to a surface shape of a portion of an object (the placement surface <b>32</b><i>a </i>of the stage <b>32</b> or a part P) on which the line of the line light LL is emitted. That is, the shape of the line of the line light LL represents a height distribution of the portion of the object on which the line of the line light LL is emitted. For example, the height distribution is represented with a bottommost portion of the grooves <b>32</b><i>c </i>as a reference (Z=0). Therefore, the height distribution on the entire placement surface <b>32</b><i>a </i>of the stage <b>32</b> can be obtained from the shape of each of the plurality of lines of the line light LL imaged by the line light imaging device <b>38</b> during the movement of the moving head <b>34</b>.</p><p id="p-0070" num="0069">As illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the parts transfer system <b>10</b> includes a control device <b>70</b>.</p><p id="p-0071" num="0070">The control device <b>70</b> is configured to control the moving head driving device <b>44</b>, the line light emitting device <b>36</b>, the line light imaging device <b>38</b>, and the stage swing device <b>42</b>, to supply parts P so that the transfer robot <b>20</b> can pick a part P. Thus, the control device <b>70</b> is configured to detect the positions and orientations of the plurality of parts P placed on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>.</p><p id="p-0072" num="0071">Specifically, the control device <b>70</b> includes a moving head control unit <b>72</b> that controls the moving head driving device <b>44</b>, an emitting device control unit <b>74</b> that controls the line light emitting device <b>36</b>, an imaging device control unit <b>76</b> that controls the line light imaging device <b>38</b>, a stage control unit <b>78</b> that controls the stage swing device <b>42</b>, a height distribution calculation unit <b>80</b> that calculates the height distribution on the entire placement surface <b>32</b><i>a </i>of the stage <b>32</b>, a parts detection unit <b>82</b> that detects the positions and orientations of the parts P on the placement surface <b>32</b><i>a </i>based on the calculated height distribution, a transfer part determination unit <b>84</b> that determines a part to be picked and transferred by the transfer robot <b>20</b>, a parts count estimation unit <b>86</b> that estimates the number of the parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>, and a storage unit <b>88</b> such as a hard disk.</p><p id="p-0073" num="0072">The control device <b>70</b> includes, for example, a CPU and a storage device such as a memory and a hard disk. The CPU functions as the moving head control unit <b>72</b>, the emitting device control unit <b>74</b>, the imaging device control unit <b>76</b>, the stage control unit <b>78</b>, the height distribution calculation unit <b>80</b>, the parts detection unit <b>82</b>, the transfer part determination unit <b>84</b>, and the parts count estimation unit <b>86</b> by operating in accordance with a program stored in the storage device (storage unit <b>88</b>).</p><p id="p-0074" num="0073">In order to detect the positions and orientations of the plurality of parts P placed on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>, the moving head control unit <b>72</b> controls the moving head driving device <b>44</b> to move the moving head <b>34</b>. Thus, the moving head control unit <b>72</b> controls the servomotor <b>46</b> of the moving head driving device <b>44</b> to control a moving speed and a position of the moving head <b>34</b>. Specifically, a rotation angle &#x3b8; of the servomotor <b>46</b> is controlled based on a signal from an encoder mounted on the servomotor <b>46</b>. The moving speed and the position of the moving head <b>34</b> are controlled by controlling the rotation angle &#x3b8;.</p><p id="p-0075" num="0074">In the case of the present embodiment, as illustrated in <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref>, the servomotor <b>46</b> is in drive connection with the moving head <b>34</b> via a link mechanism unit including the first link arm <b>48</b> and the second link arm <b>50</b>. Thus, the rotation angle &#x3b8; of the servomotor <b>46</b> and the position of the moving head <b>34</b> are not in a linear relationship.</p><p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a graph illustrating a relationship between the rotation angle of the servomotor and the position of the moving head.</p><p id="p-0077" num="0076">As illustrated in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the position Hx (position in the X-axis direction) of the moving head <b>34</b> does not change linearly but changes non-linearly with respect to a change in the rotation angle &#x3b8; of the servomotor <b>46</b>. When the moving head <b>34</b> is located at a standby position farthest away from the stage <b>32</b> (position indicated by the solid line in <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref>), the position Hx and the rotation angle &#x3b8; are 0. Thus, the moving head control unit <b>72</b> controls the moving speed and the position of the moving head <b>34</b> based on the rotation angle &#x3b8; acquired from the encoder of the servomotor <b>46</b> and the non-linear relationship obtained in advance as illustrated in <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0078" num="0077">The emitting device control unit <b>74</b> in the control device <b>70</b> activates the line light emitting device <b>36</b> for detecting the positions and orientations of the plurality parts P placed on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. This causes the line light emitting device <b>36</b> to continuously emit the line light LL. As a result, when the moving head <b>34</b> moves, the line light LL moves on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. Upon completion of detecting the positions and orientations of the parts P, the emitting device control unit <b>74</b> stops the line light emitting device <b>36</b> (the emission of the line light LL stops).</p><p id="p-0079" num="0078">The imaging device control unit <b>76</b> in the control device <b>70</b> controls the line light imaging device <b>38</b> to cause the line light imaging device <b>38</b> to image the line light LL on the stage <b>32</b> every time the moving head <b>34</b> moves by the constant movement amount. A timing at which the moving head <b>34</b> has moved by the constant movement amount can be obtained based on the rotation angle &#x3b1; of the servomotor <b>46</b> and on the non-linear relationship obtained in advance between the rotation angle &#x3b8; of the servomotor <b>46</b> and the position Hx of the moving head <b>34</b> as illustrated in <figref idref="DRAWINGS">FIG. <b>8</b></figref>. More specifically, for example, the control device <b>70</b> takes in encoder pulse information from the link drive servomotor <b>46</b>, corrects timing on the basis of a conversion table between the drive shaft rotation amount of the link mechanism unit and the horizontal movement amount of the line light imaging device <b>38</b> held in the storage unit <b>88</b>, and outputs an imaging trigger at the corrected timing to the line light imaging device <b>38</b>. The control device <b>70</b> acquires, from the line light imaging device <b>38</b>, scan data (that is, a plurality of pieces of line light image data) resulting from imaging the line light according to the imaging trigger. In this way, as illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, it is possible to image the plurality of lines of the line light LL emitted to a plurality of different positions of the placement surface <b>32</b><i>a </i>of the stage <b>32</b>, that is, positions at regular intervals corresponding to the constant movement amount of the moving head <b>34</b>.</p><p id="p-0080" num="0079">The stage control unit <b>78</b> in the control device <b>70</b> controls the stage swing device <b>42</b> illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref> to swing the stage <b>32</b> at a predetermined timing. This results in a change in the positions and orientations of the plurality of parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. In the case of the present embodiment, swinging the stage <b>32</b> causes some of the parts P to engage partially in the grooves <b>32</b><i>c </i>of the placement surface <b>32</b><i>a</i>. As a result, the openings Pc of the some of the parts P face the moving head <b>34</b> or an opposite direction thereof.</p><p id="p-0081" num="0080">The predetermined timing at which the stage control unit <b>78</b> causes the stage swing device <b>42</b> to swing the stage <b>32</b> is, for example, a timing at which the carry-in device <b>40</b> illustrated in <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref> carries in (puts) the plurality of parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. Swinging the stage <b>32</b> at this timing leads to spreading the plurality of parts P, which is carried in via the carry-in device <b>40</b> and piled up on the placement surface <b>32</b><i>a</i>, over the entire placement surface <b>32</b><i>a</i>. Another predetermined timing will be described later.</p><p id="p-0082" num="0081">As illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, the height distribution calculation unit <b>80</b> in the control device <b>70</b> calculates the height distribution on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> based on the shapes of the plurality of lines of the line light LL imaged by the line light imaging device <b>38</b>. For example, the height distribution is calculated with the bottommost portion of the grooves <b>32</b><i>c </i>of the placement surface <b>32</b><i>a </i>as a reference (Z=0).</p><p id="p-0083" num="0082">The parts detection unit <b>82</b> in the control device <b>70</b> detects the positions and orientations of the parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> based on the height distribution calculated by the distribution calculation unit <b>80</b>.</p><p id="p-0084" num="0083">Specifically, in the case of the present embodiment, the storage unit <b>88</b> stores in advance information of the outer diameter &#x3c6; and the length L of the parts P. The positions of the parts P are detected based on such size information and the height distribution. For example, as illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, a point S<b>1</b> on a portion LLa of a line of the line light LL emitted on the outer peripheral surface of a part P has a height substantially equal to the outer diameter &#x3c6; of the parts P. A region of the height distribution in which this height is distributed on a straight line having substantially the same length as the length L of the parts P (corresponding region in the placement surface <b>32</b><i>a </i>of the stage <b>32</b>) is detected as the position of the part P. In the case of the present embodiment, since the reference of the height is the bottommost portion of the grooves <b>32</b><i>c</i>, parts P engaging in the grooves <b>32</b><i>c </i>are detected.</p><p id="p-0085" num="0084">In the case of the present embodiment, the storage unit <b>88</b> stores in advance information of a thickness (distance between an outer peripheral surface and an inner peripheral surface) of the parts P. The orientations of the parts P are detected based on such thickness information and the height distribution. For example, as illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, a point S<b>2</b> on a portion LLb of a line of the line light LL emitted on the inner peripheral surface Pd of a part P has a height substantially equal to the thickness of the parts P since the bottommost portion of the grooves <b>32</b><i>c </i>is zero. Based on this height distribution, the orientation of the part P, that is, the orientation of the opening Pc is detected.</p><p id="p-0086" num="0085">As described above and illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the detection of the orientation of the opening Pc is realized by the line light emitting device <b>36</b> emitting the line light LL at the first angle &#x3b1; that is acute with respect to the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. That is, the orientation detection is realized by emitting the line light LL on the inner peripheral surface of the part P. In addition, the orientation detection is realized by the line light imaging device <b>38</b> capturing an image at the second angle &#x3b2; that is acute with respect to the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. That is, the orientation detection is realized by imaging the inner peripheral surface of the part P.</p><p id="p-0087" num="0086">In order to detect the positions and orientations of the parts P with high accuracy based on the height distribution, the parts detection unit <b>82</b> may use part shape data <b>90</b> indicating a three-dimensional shape of the parts P, such as 3D-CAD data or point cloud data. The height distribution indicates a surface shape of an object on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. When a portion of the surface shape substantially coincides with a surface shape in the 3D-CAD data or a plurality of points in the point cloud data, it can be determined with high accuracy that the portion corresponds to the surface of a part P. As a result, the position and orientation of the part P can be detected with high accuracy. In this case, the storage unit <b>88</b> stores the part shape data <b>90</b> of the parts P.</p><p id="p-0088" num="0087">The transfer part determination unit <b>84</b> in the control device <b>70</b> determines a part P to be transferred by the transfer robot <b>20</b> from among parts P whose positions and orientations have been detected by the parts detection unit <b>84</b>.</p><p id="p-0089" num="0088">Specifically, the transfer robot <b>20</b> may fail to pick a part P out of parts P in contact with each other or overlapping with each other. Thus, in the case of the present embodiment, the transfer part determination unit <b>84</b> determines, as a transfer target part, a part P that can be picked in the same posture by the end effector <b>22</b> of the transfer robot <b>20</b>, that is, a part P on a groove <b>32</b><i>c </i>of the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. Then, information on the position and orientation of the determined part P is transmitted to the transfer robot <b>20</b>. As a result, the transfer robot <b>20</b> can pick the part P in a correct orientation.</p><p id="p-0090" num="0089">In a case where the transfer robot <b>20</b> is configured to distinguish a part P that can be picked based on the information on the positions and orientations of the plurality of parts P, it is possible to omit the transfer part determination unit <b>84</b> and the grooves <b>32</b><i>c </i>of the stage <b>32</b>.</p><p id="p-0091" num="0090">The parts count estimation unit <b>86</b> of the control device <b>70</b> estimates the number of the parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>.</p><p id="p-0092" num="0091">In the case of the present embodiment, the carry-in device <b>40</b> puts an arbitrary number of parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. Thus, the parts count estimation unit <b>86</b> estimates the number of the parts P on the placement surface <b>32</b><i>a</i>. Specifically, the parts count estimation unit <b>86</b> estimates the number of the parts P based on the height distribution calculated by the height distribution calculation unit <b>80</b>.</p><p id="p-0093" num="0092">First, the parts count estimation unit <b>86</b> calculates the area of a region where the parts P are present in the placement surface <b>32</b><i>a </i>of the stage <b>32</b> based on the height distribution and shape information of the parts P. In the case of the present embodiment, since the parts P have the cylindrical shape, a height larger than half of the outer diameter &#x3c6; or the length L, which is a portion of the shape information, is distributed in a region in the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. Such a region is specified and the area thereof is calculated. Note that, in the case of the present embodiment, since the placement surface <b>32</b><i>a </i>has the plurality of grooves <b>32</b><i>c </i>that each engages with half of a part P, the area of a region higher than the horizontal surface portion <b>32</b><i>b </i>of the placement surface <b>32</b><i>a </i>is calculated. Next, the parts count estimation unit <b>86</b> calculates the number of the parts P based on the calculated area and a size of the parts P. For example, the approximate number of the parts P can be calculated by dividing the calculated area by an average cross-sectional area of the parts P.</p><p id="p-0094" num="0093">Information on the number of the parts P estimated by the parts count estimation unit <b>86</b> is used for various purposes.</p><p id="p-0095" num="0094">For example, before the transfer robot <b>20</b> starts transferring the plurality of parts P on the stage <b>32</b>, the parts count estimation unit <b>86</b> estimates the number of the parts P. The number of parts P remaining on the stage <b>32</b> can be checked by using the estimated number of the parts P and the number of parts P having been transferred by the transfer robot <b>20</b>.</p><p id="p-0096" num="0095">For example, when the number of parts P remaining on the stage <b>32</b> is a predetermined number or less, a new plurality of parts P is put on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. As a result, the transfer robot <b>20</b> can continue parts transfer at a high utilization rate. For example, when the transfer part determination unit <b>84</b> fails to determine a part P to be transferred despite the sufficiently large number of parts P remaining on the stage <b>32</b>, the stage control unit <b>78</b> swings the stage <b>32</b>. This causes a change in the positions and orientations of the parts P remaining on the stage <b>32</b> so that the transfer robot <b>20</b> can pick a part P.</p><p id="p-0097" num="0096">Hereinafter, a flow of a parts transfer operation in the parts transfer system <b>10</b> will be described.</p><p id="p-0098" num="0097"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart illustrating an example of the flow of the parts transfer operation in the parts transfer system.</p><p id="p-0099" num="0098">As illustrated in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, first, in step S<b>100</b>, the carry-in device <b>40</b> carries in (puts) a plurality of parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> as illustrated in <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref>.</p><p id="p-0100" num="0099">Next, in step S<b>110</b>, the stage control unit <b>78</b> of the control device <b>70</b> causes the stage swing device <b>42</b> to swing the stage <b>32</b>. As a result, the plurality of parts P put and piled up in step S<b>100</b> are spread over the entire placement surface <b>32</b><i>a </i>of the stage <b>32</b>.</p><p id="p-0101" num="0100">Subsequently, in step S<b>120</b>, the moving head control unit <b>72</b> of the control device <b>70</b> causes the moving head driving device <b>44</b> to move the moving head <b>34</b>. Along with the movement of the moving head <b>34</b>, the emitting device control unit <b>74</b> causes the line light emitting device <b>36</b> to emit the line light LL on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>, and the imaging device control unit <b>76</b> causes the line light imaging device <b>38</b> to image the line light LL on the placement surface <b>32</b><i>a </i>of the stage <b>32</b>.</p><p id="p-0102" num="0101">In step S<b>130</b>, the height distribution calculation unit <b>80</b> of the control device <b>70</b> calculates the height distribution on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> based on the shape of each of a plurality of lines of the line light LL imaged by the line light imaging device <b>38</b> in step S<b>120</b>.</p><p id="p-0103" num="0102">In step S<b>140</b>, the parts count estimation unit <b>86</b> of the control device <b>70</b> estimates the number of the parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> based on the height distribution calculated in step S<b>130</b>.</p><p id="p-0104" num="0103">In step S<b>150</b>, the parts detection unit <b>82</b> of the control device <b>70</b> detects the positions and orientations of the parts P on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> based on the height distribution calculated in step <b>130</b>.</p><p id="p-0105" num="0104">In step S<b>160</b>, the transfer part determination unit <b>84</b> of the control device <b>70</b> determines a part P to be transferred by the transfer robot <b>20</b> as a transfer target from among parts P whose positions and orientations have been detected in step S<b>150</b>.</p><p id="p-0106" num="0105">In step S<b>170</b>, the transfer robot <b>20</b> picks the part P determined as the transfer target in step S<b>160</b>, and transfers the part P to a predetermined place.</p><p id="p-0107" num="0106">After the transfer robot <b>20</b> transfers the part P in step S<b>170</b>, it is determined, in step S<b>180</b>, whether the number of parts P remaining on the stage <b>32</b> is a predetermined number or more. When the number of parts P remaining on the stage <b>32</b> is the predetermined number or more, the process proceeds to step S<b>190</b>. Otherwise, the process returns to step S<b>100</b>.</p><p id="p-0108" num="0107">In step S<b>190</b>, it is determined whether a part P to be transferred is present among the parts P remaining on the stage <b>32</b>. When a part P to be transferred is present on the stage <b>32</b>, the process proceeds to step S<b>200</b>. Otherwise, the process returns to step S<b>110</b>.</p><p id="p-0109" num="0108">In step S<b>200</b>, it is determined whether there is an instruction to end transferring the parts P. When there is an instruction to end transferring the parts P, the parts transfer ends. Otherwise, the process returns to step S<b>170</b>.</p><p id="p-0110" num="0109">As described above, according to the present embodiment, a part can be picked in a correct orientation in the parts transfer of picking and transferring a part.</p><p id="p-0111" num="0110">The present disclosure has been described above with reference to the embodiment. However, the present disclosure is not limited to the above embodiment.</p><p id="p-0112" num="0111">For example, in the above embodiment, the placement surface <b>32</b><i>a </i>is scanned with the line light LL emitted by the line light emitting device <b>36</b>, each of the plurality of lines of the line light LL resulting from the scanning is imaged by the line light imaging device <b>38</b>, and the height distribution on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> is calculated based on the shape of each of the plurality of lines of the line light LL that is imaged. In the configuration illustrated as a means for this, there are included the stage <b>32</b> on which the plurality of parts P is placed, and the moving head <b>34</b> that moves relatively to the stage <b>32</b>. The line light emitting device <b>36</b> and the line light imaging device <b>38</b> are mounted on the moving head <b>34</b>, and the moving head <b>34</b> moves relatively to and parallel to the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. However, the present disclosure is not limited to this configuration.</p><p id="p-0113" num="0112">For example, the &#x201c;movement&#x201d; may be non-parallel, that is, may cause a change in the space (distance) between the moving head <b>34</b> and the placement surface <b>32</b><i>a </i>of the stage <b>32</b>. In such a case, for example, when the line light imaging device <b>38</b> images the line light LL emitted on the placement surface <b>32</b><i>a</i>, the space (distance) between an imaged portion of the placement surface <b>32</b><i>a </i>and the line light imaging device <b>38</b> is also acquired by some means. Then, the acquired space (distance) is used as correction data for calculating the height distribution on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> based on the shape of each of the plurality of lines of the line light LL that is imaged.</p><p id="p-0114" num="0113">Furthermore, for example, the movement is not limited to parallel/non-parallel movement, and may not be involved. Specifically, a mode in which the line light emitting device <b>36</b> and/or the line light imaging device <b>38</b> are fixed can be shown as an example. In this mode, for example, controlling only fixed angles thereof achieves position movement (scanning) of the line light LL on the placement surface <b>32</b><i>a </i>and, as necessary, following the movement (scanning) of the line light LL, a change in an imaging position of the line light imaging device <b>38</b>. In such a case, imaging conditions and the like may also be appropriately acquired and used as correction data for calculating the height distribution on the placement surface <b>32</b><i>a </i>of the stage <b>32</b> based on the shape of each of the plurality of lines of the line light that is imaged.</p><p id="p-0115" num="0114">Furthermore, for example, in the case of the above embodiment, as illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the parts to be transferred have the bottomed cylindrical shape. However, the embodiment of the present disclosure is not limited thereto, and can be applied to parts having various shapes.</p><p id="p-0116" num="0115">Furthermore, for example, in the case of the above embodiment, the transfer device that picks and transfers a part is the articulated robot including the end effector that sucks and holds the part, but the embodiment of the present disclosure is not limited thereto. The transfer device is not limited in form to the articulated robot as long as a part placed on the stage can be picked and transferred.</p><p id="p-0117" num="0116">That is, in a broad sense, a parts transfer system according to an embodiment of the present disclosure includes a stage having a placement surface on which a plurality of parts is placed, an imaging system configured to image the plurality of parts from an obliquely upward direction with respect to the placement surface of the stage, and a parts detection unit configured to detect positions and orientations of the plurality of parts on the placement surface of the stage based on image information obtained by the imaging system.</p><p id="p-0118" num="0117">In a broad sense, a parts supply system according to another embodiment of the present disclosure includes the parts supply device according to another aspect of the present disclosure and a transfer device configured to pick and transfer a part.</p><heading id="h-0011" level="1">INDUSTRIAL APPLICABILITY</heading><p id="p-0119" num="0118">The present disclosure is applicable to parts transfer using a transfer device such as a transfer robot that picks and transfers a part.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A parts supply device comprising:<claim-text>a stage having a placement surface on which a plurality of parts is placed;</claim-text><claim-text>an imaging system configured to image the plurality of parts from an obliquely upward direction with respect to the placement surface of the stage; and</claim-text><claim-text>a parts detection unit configured to detect positions and orientations of the plurality of parts on the placement surface of the stage based on image information obtained by the imaging system.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The parts supply device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the imaging system comprises:</claim-text><claim-text>a line light emitting device configured to emit line light extending in a direction intersecting the obliquely upward direction toward the stage at a first angle that is acute with respect to the placement surface; and</claim-text><claim-text>a line light imaging device configured to image the line light on the placement surface of the stage toward the stage at a second angle that is acute with respect to the placement surface of the stage, wherein</claim-text><claim-text>the image information includes a height distribution on the placement surface of the stage, the height distribution being obtained by:</claim-text><claim-text>scanning the placement surface with the line light emitted by the line light emitting device;</claim-text><claim-text>imaging, by the line light imaging device, each of a plurality of lines of the line light resulting from the scanning; and</claim-text><claim-text>calculating the height distribution based on a shape of each of the plurality of lines of the line light that is imaged.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The parts supply device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising<claim-text>a moving head, wherein</claim-text><claim-text>the imaging system is mounted on the moving head, and</claim-text><claim-text>the moving head is configured to move relatively to and parallel to the placement surface of the stage in a direction intersecting a direction in which the line light extends.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The parts supply device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising a storage unit that stores part shape data indicating a three-dimensional shape of each of the plurality of parts, wherein<claim-text>the parts detection unit is configured to detect the positions and orientations of the plurality of parts on the placement surface based on the height distribution and the part shape data.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The parts supply device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising a parts count estimation unit configured to estimate a number of the plurality of parts on the placement surface based on an area of a region where the plurality of parts is present in the placement surface of the stage and a size of each of the plurality of parts, the area being calculated by the parts count estimation unit based on the height distribution and shape information of the plurality of parts.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The parts supply device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a stage swing device configured to swing the stage.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The parts supply device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the plurality of parts each has a bottomed cylindrical shape.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The parts supply device according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the plurality of parts each has a bottomed cylindrical shape, and<claim-text>wherein the placement surface of the stage comprises a plurality of grooves that each engages with a portion of an outer peripheral surface of each of the plurality of parts, the plurality of grooves extending in a moving direction of the moving head.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The parts supply device according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising a moving head driving device configured to move the moving head linearly close to or away from the stage, wherein<claim-text>the moving head driving device comprises:</claim-text><claim-text>a servomotor;</claim-text><claim-text>a first link arm having a one end and the other end, the one end being connected to the servomotor; and</claim-text><claim-text>a second link arm having a one end and the other end, the one end of the second link arm being connected to the other end of the first link arm, the other end of the second link arm being connected to the moving head.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The parts supply device according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the line light imaging device is configured to image the line light every time the moving head moves by a constant movement amount, based on a rotation angle of the servomotor and a non-linear relationship obtained in advance between the rotation angle and a position of the moving head.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A parts transfer system comprising:<claim-text>the parts supply device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>; and</claim-text><claim-text>a transfer device configured to pick and transfer a part.</claim-text></claim-text></claim></claims></us-patent-application>