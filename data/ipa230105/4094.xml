<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230004095A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230004095</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17941378</doc-number><date>20220909</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="regional"><country>EP</country><doc-number>17175967.3</doc-number><date>20170614</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>03</class><subclass>F</subclass><main-group>7</main-group><subgroup>20</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>05</class><subclass>B</subclass><main-group>19</main-group><subgroup>418</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>01</class><subclass>L</subclass><main-group>21</main-group><subgroup>66</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>03</class><subclass>F</subclass><main-group>7</main-group><subgroup>70191</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>B</subclass><main-group>19</main-group><subgroup>41875</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>01</class><subclass>L</subclass><main-group>22</main-group><subgroup>20</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>B</subclass><main-group>2219</main-group><subgroup>45028</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">DEVICE MANUFACTURING METHODS</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16620899</doc-number><date>20191210</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11442366</doc-number></document-id></parent-grant-document><parent-pct-document><document-id><country>WO</country><doc-number>PCT/EP2018/061696</doc-number><date>20180507</date></document-id></parent-pct-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17941378</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only"><addressbook><orgname>ASML NETHERLANDS B.V.</orgname><address><city>Veldhoven</city><country>NL</country></address></addressbook><residence><country>NL</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>RAHMAN</last-name><first-name>Rizvi</first-name><address><city>Eindhoven</city><country>NL</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>CEKLI</last-name><first-name>Hakki Erg&#xfc;n</first-name><address><city>Eindhoven</city><country>NL</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>GROUWSTRA</last-name><first-name>C&#xe9;dric D&#xe9;sir&#xe9;</first-name><address><city>Eindhoven</city><country>NL</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>ASML NETHERLANDS B.V.</orgname><role>03</role><address><city>Veldhoven</city><country>NL</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A device manufacturing method, the method comprising: obtaining a measurement data time series of a plurality of substrates on which an exposure step and a process step have been performed; obtaining a status data time series relating to conditions prevailing when the process step was performed on at least some of the plurality of substrates; applying a filter to the measurement data time series and the status data time series to obtain filtered data; and determining, using the filtered data, a correction to be applied in an exposure step performed on a subsequent substrate.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="107.19mm" wi="110.66mm" file="US20230004095A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="174.16mm" wi="138.01mm" file="US20230004095A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="181.95mm" wi="128.86mm" file="US20230004095A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="216.83mm" wi="99.99mm" orientation="landscape" file="US20230004095A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="212.68mm" wi="100.67mm" orientation="landscape" file="US20230004095A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="212.68mm" wi="101.94mm" orientation="landscape" file="US20230004095A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="212.60mm" wi="113.11mm" orientation="landscape" file="US20230004095A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="124.04mm" wi="112.69mm" file="US20230004095A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="206.93mm" wi="99.57mm" orientation="landscape" file="US20230004095A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">DEVICE MANUFACTURING METHODS</heading><p id="p-0002" num="0001">This application is a continuation of U.S. patent application Ser. No. 16/620,899, filed Dec. 10, 2019, which is the U.S. national phase entry of PCT Patent Application No. PCT/EP2018/061696, filed on May 7, 2018, which claims the benefit of priority of European Patent Application No. 17175967.3, filed on Jun. 14, 2017, each of the foregoing applications is incorporated herein in its entirety by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD</heading><p id="p-0003" num="0002">The present description relates to device manufacturing using lithographic apparatus and process apparatus.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">A lithographic apparatus is a machine that applies a desired pattern onto a substrate, usually onto a target portion of the substrate. A lithographic apparatus can be used, for example, in the manufacture of integrated circuits (ICs). In that instance, a patterning device, which is alternatively referred to as a mask or a reticle, may be used to generate a circuit pattern to be formed on an individual layer of the IC. This pattern can be transferred onto a target portion (e.g. including part of a die, one die, or several dies) on a substrate (e.g., a silicon wafer). Transfer of the pattern is typically via imaging onto a layer of radiation-sensitive material (resist) provided on the substrate. In general, a single substrate will contain a network of adjacent target portions that are successively patterned. The patterned radiation-sensitive layer is then developed and a process apparatus, such as an etcher, is used to fix the pattern in the substrate.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0005" num="0004">To create an electronic device, it is necessary to repeat the exposure and fixing steps many times, e.g. up to 30, to create the different layers of a device. Each layer is applied to a batch, also known as a lot, of substrates at a time. To improve yield, i.e. the fraction of devices that are functional, it is known to use measurements performed on substrates to adjust the exposures of subsequent substrates in the same batch or later batches to which the same process is applied, for example to reduce errors in overlay, focus or CD. This process is know as Automated Process Control. Where measurements of multiple substrates are available, a weighted moving average of the measurements is often used as the input to the process control.</p><p id="p-0006" num="0005">However, known APC methods still leave a &#x201c;fingerprint&#x201d;&#x2014;that is a variation of a parameter such as focus, overlay or CD&#x2014;across the substrate and there is therefore a need for improvement in automated process control methods.</p><p id="p-0007" num="0006">An embodiment of the present invention aims to, for example, provide improved automated process control methods for use in lithographic manufacturing processes.</p><p id="p-0008" num="0007">In an aspect, there is provided a device manufacturing method, the method comprising:</p><p id="p-0009" num="0008">obtaining a measurement data time series of a plurality of substrates on which an exposure step and a process step have been performed;</p><p id="p-0010" num="0009">obtaining a status data time series relating to conditions prevailing when the process step was performed on at least some of the plurality of substrates;</p><p id="p-0011" num="0010">applying a filter to the measurement data time series and the status data time series to obtain filtered data; and</p><p id="p-0012" num="0011">determining, using the filtered data, a correction to be applied in an exposure step performed on a subsequent substrate.</p><p id="p-0013" num="0012">In an aspect, there is provided a device manufacturing method, the method comprising:</p><p id="p-0014" num="0013">obtaining a measurement data time series of a plurality of substrates on which an exposure step and a process step have been performed;</p><p id="p-0015" num="0014">applying a filter to the measurement data time series to obtain filtered data;</p><p id="p-0016" num="0015">determining, using the filtered data, a correction to be applied in an exposure step performed on a subsequent substrate</p><p id="p-0017" num="0016">applying a further filter to the measurement data time series to obtain further filtered data; and</p><p id="p-0018" num="0017">determining, using the further filtered data, a further correction to be applied in the exposure step performed on the subsequent substrate.</p><p id="p-0019" num="0018">In an aspect, there is provided a device manufacturing method, the method comprising:</p><p id="p-0020" num="0019">obtaining a measurement data time series of a plurality of substrates on which an exposure step and a process step have been performed;</p><p id="p-0021" num="0020">obtaining a status data time series relating to conditions prevailing when the process step was performed on at least some of the plurality of substrates;</p><p id="p-0022" num="0021">transforming the measurement data time series and the status data time series into frequency space data;</p><p id="p-0023" num="0022">determining, on the basis of the frequency space data, a filter to be applied to at least one of the measurement data time series and the status data time series to obtain filtered data;</p><p id="p-0024" num="0023">applying the filter to the at least one of the measurement data time series and the status data time series to obtain filtered data; and</p><p id="p-0025" num="0024">determining, using the filtered data, a correction to be applied in an exposure step performed on a subsequent substrate.</p><p id="p-0026" num="0025">In an aspect, there is provided a device manufacturing method, the method comprising:</p><p id="p-0027" num="0026">obtaining a measurement data time series of a plurality of substrates on which an exposure step and a process step have been performed;</p><p id="p-0028" num="0027">obtaining a status data time series relating to conditions prevailing when the process step was performed on at least some of the plurality of substrates;</p><p id="p-0029" num="0028">transforming the measurement data time series and the status data time series into frequency space data; and</p><p id="p-0030" num="0029">determining on the basis of the frequency space data, a sampling scheme to be applied to subsequent substrates to generate a measurement data time series.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS/FIGURES</heading><p id="p-0031" num="0030">Embodiments of the invention will now be described, by way of example, with reference to the accompanying drawings in which:</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>1</b></figref> depicts a lithographic apparatus together with other apparatuses forming a production facility for semiconductor devices;</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>2</b></figref> depicts a conventional automated process control method;</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>3</b></figref> depicts a principle of operation of an automated process control method according to an embodiment of the invention;</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>4</b></figref> depicts a specific application of an automated process control method according to an embodiment of the invention;</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>5</b></figref> depicts a specific application of an automated process control method according to an embodiment of the invention;</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>6</b></figref> depicts a specific application of an automated process control method according to an embodiment of the invention;</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>7</b></figref> depicts a specific application of an automated process control method according to an embodiment of the invention;</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. <b>8</b></figref> depicts a process for setting up an automated process control method according to an embodiment of the invention; and</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>9</b></figref> depicts a simulated example of the effect of a process parameter on a substrate fingerprint.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0041" num="0040">Before describing embodiments of the invention in detail, it is instructive to present an example environment in which embodiments of the present invention may be implemented.</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates a typical layout of a semiconductor production facility. A lithographic apparatus <b>100</b> applies a desired pattern onto a substrate. A lithographic apparatus is used, for example, in the manufacture of integrated circuits (ICs). In that instance, a patterning device MA, which is alternatively referred to as a mask or a reticle, comprises a circuit pattern of features (often referred to as &#x201c;product features&#x201d;) to be formed on an individual layer of the IC. This pattern is transferred onto a target portion (e.g., comprising part of, one, or several dies) on a substrate &#x2018;W&#x2019; (e.g., a silicon wafer) via exposure <b>104</b> of the patterning device onto a layer of radiation-sensitive material (resist) provided on the substrate. In general, a single substrate will contain a network of adjacent target portions that are successively patterned.</p><p id="p-0043" num="0042">Known lithographic apparatus irradiate each target portion by illuminating the patterning device while synchronously positioning the target portion of the substrate at an image position of the patterning device. An irradiated target portion of the substrate is referred to as an &#x201c;exposure field&#x201d;, or simply &#x201c;field&#x201d;. The layout of the fields on the substrate is typically a network of adjacent rectangles aligned in accordance to a Cartesian two-dimensional coordinate system (e.g. aligned along an X and an Y-axis, both axes being orthogonal to each other).</p><p id="p-0044" num="0043">A requirement on the lithographic apparatus is an accurate reproduction of the desired pattern onto the substrate. The positions and dimensions of the applied product features need to be within certain tolerances. Position errors may occur due to an overlay error (often referred to as &#x201c;overlay&#x201d;). The overlay is the error in placing a first product feature within a first layer relative to a second product feature within a second layer. The lithographic apparatus minimizes the overlay errors by aligning each wafer accurately to a reference prior to patterning. This is done by measuring positions of alignment marks which are applied to the substrate. Based on the alignment measurements the substrate position is controlled during the patterning process in order to prevent occurrence of overlay errors.</p><p id="p-0045" num="0044">An error in a critical dimension (CD) of the product feature may occur when the applied dose associated with the exposure <b>104</b> is not within specification. For this reason the lithographic apparatus <b>100</b> must be able to accurately control the dose of the radiation applied to the substrate. CD errors may also occur when the substrate is not positioned correctly with respect to a focal plane associated with the pattern image. Focal position errors are commonly associated with non-planarity of a substrate surface. The lithographic apparatus minimizes these focal position errors by measuring the substrate surface topography using a level sensor prior to patterning. Substrate height corrections are applied during subsequent patterning to assure correct imaging (focusing) of the patterning device onto the substrate.</p><p id="p-0046" num="0045">To verify the overlay and CD errors associated with the lithographic process the patterned substrates are inspected by a metrology apparatus <b>140</b>. A common example of a metrology apparatus is a scatterometer. The scatterometer conventionally measures characteristics of dedicated metrology targets. These metrology targets are representative of the product features, except that their dimensions are typically larger in order to allow accurate measurement. The scatterometer measures the overlay by detecting an asymmetry of a diffraction pattern associated with an overlay metrology target. Critical dimensions are measured by analysis of a diffraction pattern associated with a CD metrology target. Another example of a metrology tool is an electron beam (e-beam) based inspection tool such as a scanning electron microscope (SEM).</p><p id="p-0047" num="0046">Within a semiconductor production facility, lithographic apparatus <b>100</b> and metrology apparatus <b>140</b> form part of a &#x201c;litho cell&#x201d; or &#x201c;litho cluster&#x201d;. The litho cluster comprises also a coating apparatus <b>108</b> for applying photosensitive resist to substrates W, a baking apparatus <b>110</b>, a developing apparatus <b>112</b> for developing the exposed pattern into a physical resist pattern, an etching station <b>122</b>, apparatus <b>124</b> performing a post-etch annealing step and possibly further processing apparatuses, <b>126</b>, etc . . . The metrology apparatus is configured to inspect substrates after development (<b>112</b>) or after further processing (e.g. etching). The various apparatus within the litho cell are controlled by a supervisory control system SCS, which issues control signals <b>166</b> to control the lithographic apparatus via lithographic apparatus control unit LACU <b>106</b> to perform recipe R. The SCS allows the different apparatuses to be operated giving maximum throughput and product yield. An important control mechanism is the feedback <b>146</b> of the metrology apparatus <b>140</b> to the various apparatus (via the SCS), in particular to the lithographic apparatus <b>100</b>. Based on the characteristics of the metrology feedback corrective actions are determined to improve processing quality of subsequent substrates.</p><p id="p-0048" num="0047">The performance of a lithographic apparatus is conventionally controlled and corrected by methods such as automated process control (APC) described for example in US2012008127A1. The automated process control techniques use measurements of metrology targets applied to the substrate. A Manufacturing Execution System (MES) schedules the APC measurements and communicates the measurement results to a data processing unit. The data processing unit translates the characteristics of the measurement data to a recipe comprising instructions for the lithographic apparatus. This method is very effective in suppressing drift phenomena associated with the lithographic apparatus.</p><p id="p-0049" num="0048">The processing of metrology data to generate corrective actions performed by the processing apparatus is important for semiconductor manufacturing. In addition to the metrology data also characteristics of individual patterning devices, substrates, processing apparatus and other context data may be needed to further optimize the manufacturing process. The framework wherein available metrology and context data is used to optimize the lithographic process as a whole is commonly referred to as part of holistic lithography. For example context data relating to CD errors on a reticle may be used to control various apparatus (lithographic apparatus, etching station) such that said CD errors will not affect the yield of the manufacturing process. Subsequent metrology data may then be used to verify the effectiveness of the control strategy and further corrective actions may be determined.</p><p id="p-0050" num="0049">Automated process control often aims to control, e.g. reduce, lot to lot variations in substrate fingerprints in process parameters such as overlay, focus, CD. A &#x201c;fingerprint&#x201d; is the variation of a parameter (or error in a parameter) over area. An intrafield fingerprint is the variation across a field and in some cases will be the same for all the fields on a substrate. A substrate fingerprint is the variation across the whole substrate. In some cases, a substrate fingerprint can be separated into an intrafield fingerprint and a interfield fingerprint. An embodiment of the present invention concerns all types of fingerprints.</p><p id="p-0051" num="0050">As depicted in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, a conventional APC correction in high volume manufacturing (HVM) conditions is based on feedback. Measurements obtained from a plurality of preceding substrates W<sub>N&#x2212;1 </sub>to W<sub>N&#x2212;x </sub>are used to control one or more process parameters of a current substrate W<sub>N</sub>. The measurements, or correction parameters derived from individual measurements, are grouped together and fed into a moving average (MA), for example an exponentially weighted moving average (EWMA).</p><p id="p-0052" num="0051">In more sophisticated cases, a certain MA is applied for interfield and intrafield corrections and another type of MA for high-order (such as correction per field) corrections. In even more sophisticated cases, certain layers get fed some of the corrections determined on a previous layer if the two layers are expected to display very similar fingerprints. However, even these schemes have several drawbacks.</p><p id="p-0053" num="0052">Firstly, limited time filtering algorithms are used. The inventors have determined that a moving average may not enable the time-variation of a parameter to be accurately captured.</p><p id="p-0054" num="0053">Secondly, often unnecessary metrology steps are performed. In some cases, high order fingerprints (for example intrafield fingerprints) vary more slowly than interfield fingerprints. For example, the stability periods of an etcher (giving rise to an interfield fingerprint) and the projection system of a lithography apparatus (giving rise to an intrafield fingerprint) could be very different and therefore the corresponding fingerprints' time variation differences will be different. Therefore, by measuring all lots with the same sampling designed to correct all substrate and intrafield fingerprints, time is spent that could be used for other purposes.</p><p id="p-0055" num="0054">Thirdly, existing automated process control methods do not make use of information from substrate processing tools. The inventors have determined that the root cause of the time variation of certain modeled parameters can be linked to process tools. For example, time variation in wafer scaling might be linked to stability of an etcher, characterized by some of its sensor data's time variation. In those cases, collecting the readily available etcher tool sensor data is much easier and cheaper than measuring more lots and/or wafers with metrology tools to fine tune the time filters.</p><p id="p-0056" num="0055">Therefore, embodiments of the present invention allow these drawbacks to be alleviated and provide means to fine tune APC feedback loops for reduced lot to lot variation in process parameters and/or allow a decreased metrology sampling rate and/or density. An embodiment is depicted in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, which shows metrology measurements obtained from a plurality of preceding substrates W<sub>N&#x2212;1 </sub>to W<sub>N&#x2212;x </sub>used together with status data <b>200</b> to control one or more process parameters of a current substrate W<sub>N</sub>. Status data <b>200</b> relates to conditions pertaining in one ore more process tools, such as an etcher or annealer, when relevant layers on substrates W<sub>N&#x2212;1 </sub>to W<sub>N&#x2212;x </sub>were processed by those tools.</p><p id="p-0057" num="0056">In an embodiment of the invention, the information derived from metrology measurements can be provided in the format of a data time series, that is a series of data values each associated with a time. It should be noted that the time associated with a data value is not necessarily the time at which the measurement was made but rather the time at which a relevant manufacturing step, e.g. an exposure, was performed on the structure or target measured. The aim of the metrology steps and of providing the metrology data as a time series is to infer time variation in conditions prevailing in a manufacturing tool, e.g. a lithographic apparatus. The information derived from metrology measurements can be the actual measurement results themselves or modelled parameters &#x2014;such as translation, rotation, scaling, etc. &#x2014;derived from the actual measurement results.</p><p id="p-0058" num="0057">Status data relating to conditions prevailing in a manufacturing tool can also be presented in a time series for the same purpose. Status data may comprise control values applied to a manufacturing tool or measurements of conditions prevailing in the manufacturing tool. In the latter case, the time associated with a status data value may be the time at which the measurement was made.</p><p id="p-0059" num="0058">In an embodiment of the invention, an automated process control system applies time filters independently to different controllable process parameters. In the simplest embodiment, a user can decide which filter to apply to each data time series for each controllable process parameter. A library of smoothing filters is provided from which the user can select, for example:</p><p id="p-0060" num="0059">Bessel filters</p><p id="p-0061" num="0060">Butterworth filters</p><p id="p-0062" num="0061">Matched filters</p><p id="p-0063" num="0062">Elliptical filters (Cauer filters)</p><p id="p-0064" num="0063">Linkwitz-Riley filters</p><p id="p-0065" num="0064">Chebyshev filters</p><p id="p-0066" num="0065">Biquad filters</p><p id="p-0067" num="0066">High-pass filters</p><p id="p-0068" num="0067">Low-pass filters</p><p id="p-0069" num="0068">Band-pass filters</p><p id="p-0070" num="0069">Infinite impulse response filters</p><p id="p-0071" num="0070">Finite impulse response filters</p><p id="p-0072" num="0071">Bilinear transforms</p><p id="p-0073" num="0072">Kalman filters</p><p id="p-0074" num="0073">Savitzky-Golay filters</p><p id="p-0075" num="0074">It is also possible to use multiple filters in series or in parallel to filter inputs for a single controllable process parameter. In an embodiments, a first filter is applied to measurement data of the measurement data time series relating to a first zone of the substrates and a second filter, different from the first filter, is applied to measurement data of the measurement data time series relating to a second zone of the substrates. For example, measurement data relating to edge dies can be treated differently than measurement date relating to interior dies.</p><p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. <b>4</b></figref> depicts another embodiment of the invention in which a plurality of lots A . . . N . . . X are processed using the same recipe, each lot comprising a plurality of substrates. Metrology measurements are performed on the substrates of one or more lots, e.g. Lot A to Lot M, after a lithography step and one or more process steps. The metrology measurements from some or all of Lots A to M are used to calculate corrections to be applied to a subsequent Lot N using a mathematical model comprising a plurality of terms, e.g. a polynomial. Each term of the polynomial is calculated from the metrology measurements from some or all of Lots A to M using a respective time filter <b>210</b>. The polynomial may have terms in powers of coordinates (e.g. x, y) representing position on the substrate. The time filters may be different for each term of the polynomial. Metrology measurements are performed on the substrates of Lot N, corresponding to those performed on some or all of Lots A to M. It is possible to refine the model as more information is available. The refined model is used to determine corrections for a subsequent Lot X, and so on.</p><p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. <b>5</b></figref> depicts another embodiment of the invention which is similar to that of <figref idref="DRAWINGS">FIG. <b>4</b></figref>, except as described below. In the embodiment of <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the status data from one or more process steps is used to fine tune the filters <b>210</b> which are applied to the metrology data.</p><p id="p-0078" num="0077"><figref idref="DRAWINGS">FIG. <b>6</b></figref> depicts another embodiment of the invention which is similar to that of <figref idref="DRAWINGS">FIG. <b>4</b></figref>, except as described below. In the embodiment of <figref idref="DRAWINGS">FIG. <b>6</b></figref>, the status data from one or more process steps is used primarily to determine corrections to be applied in the subsequent lots, with appropriate time filters <b>220</b> being applied to the status data. Metrology measurements are used for verification and protection from excursions. Therefore, it is only necessary to perform a reduced number of metrology measurements, compared to the case where metrology is used as the primary determinant of the corrections to be applied in the subsequent lots. The number of metrology measurements performed per substrate need not be constant. This saves time and can therefore improve throughput.</p><p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. <b>7</b></figref> depicts an embodiment in which only status data is filtered by filters <b>220</b> and used to determine corrections for subsequent lots. Metrology data is not used and so metrology steps can be omitted. This approach is particularly useful in a ramp-up phase prior to high volume manufacturing in which test substrates can be cycled through process steps.</p><p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. <b>8</b></figref> depicts a process according to another embodiment of the invention for enabling a user to set up appropriate filters for an APC loop. In step S<b>1</b>, initial data is obtained from the litho cluster. The initial data may comprise metrology data and/or status data from one or more substrates of one or more lots. The initial data may also be referred to as training data. In step S<b>2</b>, the initial data is processed to enable the time variation of sub-processes of the overall manufacturing process to be determined. In an embodiment, this can be done by determining the power spectrum density (PSD), or similar graph, using a Fourier transform or other similar transformations. Such a transformation converts the initial data from time series data into frequency space data. The frequency space data is used to find the optimal time filter to use per process parameter for the APC modeled parameter data flow. In an embodiment, the optimal time filters can be determined algorithmically. Alternatively, a software interface is presented in step S<b>3</b> to receive user input to select filters.</p><p id="p-0081" num="0080">One approach to select appropriate filters is to determine correlations S<b>4</b>, between specific process tool parameters and APC model parameters. Correlations can be determined using spectra of power or energy density, or correlation coefficient matrices or similar in order to accurately pair up process tool parameter(s) with metrology-based parameters(s) based on shared time dependency. As shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, it may be that a correlation can be observed between temperature T (shown at top) in a process tool, e.g. an annealing furnace, and an overlay fingerprint (shown at bottom) as measured by the metrology tool. Such correlations can be presented to the user and enable the user to choose which process tool and which APC parameter to pair up for shared time dependency.</p><p id="p-0082" num="0081">An embodiment of the invention can also advise and/or rank optimal time filters on the parameters of choice for optimal feedback control and can advise which process tool parameter to pair up with for additional fine tuning.</p><p id="p-0083" num="0082">An embodiment of the invention can also propose a time and wafer layout scheme for metrology sampling. For example it might be desirable to measure a larger number of substrates at a small number of points for interfield fingerprint correction only and measure a smaller number of substrates or lots with a dense measurement scheme for intrafield correction.</p><p id="p-0084" num="0083">Thus, desirable features of embodiments of the invention are:</p><p id="p-0085" num="0084">it can determine APC filter settings specifically for the process steps involved</p><p id="p-0086" num="0085">it allows finding and linking relevant process tool sensor data to the APC model parameters for fine-tuned control</p><p id="p-0087" num="0086">it can do this independently per APC parameter</p><p id="p-0088" num="0087">it provides metrology sampling advice based on the aforementioned processes.</p><p id="p-0089" num="0088">Examples of process parameters to which an embodiment of the present invention can be applied include: overlay, CD, CDU, sidewall angle, line edge roughness and focus. Markers and measurement techniques suitable for measuring these parameters are well known in the art.</p><p id="p-0090" num="0089">Embodiments are provided according to the following clauses:</p><p id="p-0091" num="0090">1. A device manufacturing method, the method comprising:</p><p id="p-0092" num="0091">obtaining a measurement data time series of a plurality of substrates on which an exposure step and a process step have been performed;</p><p id="p-0093" num="0092">obtaining a status data time series relating to conditions prevailing when the process step was performed on at least some of the plurality of substrates;</p><p id="p-0094" num="0093">applying a filter to the measurement data time series and the status data time series to obtain filtered data; and</p><p id="p-0095" num="0094">determining, using the filtered data, a correction to be applied in an exposure step performed on a subsequent substrate.</p><p id="p-0096" num="0095">2. A method according to clause 1, further comprising:</p><p id="p-0097" num="0096">applying a further filter to the measurement data time series and/or the status data time series to obtain further filtered data; and</p><p id="p-0098" num="0097">determining, using the further filtered data, a further correction to be applied in the exposure step performed on the subsequent substrate. 3. A method according to clause 1 or 2, wherein applying a filter and/or a further filter comprises applying a polynomial filter having terms in spatial coordinates of the substrate. 4. A method according to clause 1 or 2, wherein applying a filter and/or a further filter comprises transforming the measurement data time series and the status data time series into frequency space data, applying a frequency filter to the frequency space data to obtain filtered frequency space data, and transforming the filtered frequency data into the filtered data. 5. A method according to clause 1 or 2, wherein applying a filter and/or a further filter comprises applying a first filter to measurement data of the measurement data time series relating to a first zone of the substrates and applying a second filter, different from the first filter, to measurement data of the measurement data time series relating to a second zone of the substrates.</p><p id="p-0099" num="0098">6. A method according to clause 5, wherein the first zone is an edge zone and the second zone is an interior zone.</p><p id="p-0100" num="0099">7. A device manufacturing method, the method comprising:</p><p id="p-0101" num="0100">obtaining a measurement data time series of a plurality of substrates on which an exposure step and a process step have been performed;</p><p id="p-0102" num="0101">applying a filter to the measurement data time series to obtain filtered data;</p><p id="p-0103" num="0102">determining, using the filtered data, a correction to be applied in an exposure step performed on a subsequent substrate</p><p id="p-0104" num="0103">applying a further filter to the measurement data time series to obtain further filtered data; and</p><p id="p-0105" num="0104">determining, using the further filtered data, a further correction to be applied in the exposure step performed on the subsequent substrate.</p><p id="p-0106" num="0105">8. A method according to clause 7, further comprising;</p><p id="p-0107" num="0106">obtaining a status data time series relating to conditions prevailing when the process step was performed on at least some of the plurality of substrates; and</p><p id="p-0108" num="0107">wherein applying a filter comprises applying a filter to the measurement data time series and the status data time series to obtain the filtered data.</p><p id="p-0109" num="0108">9. A device manufacturing method, the method comprising:</p><p id="p-0110" num="0109">obtaining a measurement data time series of a plurality of substrates on which an exposure step and a process step have been performed;</p><p id="p-0111" num="0110">obtaining a status data time series relating to conditions prevailing when the process step was performed on at least some of the plurality of substrates;</p><p id="p-0112" num="0111">transforming the measurement data time series and the status data time series into frequency space data;</p><p id="p-0113" num="0112">determining, on the basis of the frequency space data, a filter to be applied to at least one of the measurement data time series and the status data time series to obtain filtered data;</p><p id="p-0114" num="0113">applying the filter to the at least one of the measurement data time series and the status data time series to obtain filtered data; and</p><p id="p-0115" num="0114">determining, using the filtered data, a correction to be applied in an exposure step performed on a subsequent substrate.</p><p id="p-0116" num="0115">10. A method according to clause 9, wherein the status data time series comprises data relating to a plurality of process steps performed on the substrates and determining a filter to be applied comprises selecting a subset of the status data time series relating to a subset of the process steps to be filtered and used to determine the correction.</p><p id="p-0117" num="0116">11. A device manufacturing method, the method comprising:</p><p id="p-0118" num="0117">obtaining a measurement data time series of a plurality of substrates on which an exposure step and a process step have been performed;</p><p id="p-0119" num="0118">obtaining a status data time series relating to conditions prevailing when the process step was performed on at least some of the plurality of substrates;</p><p id="p-0120" num="0119">transforming the measurement data time series and the status data time series into frequency space data; and</p><p id="p-0121" num="0120">determining on the basis of the frequency space data, a sampling scheme to be applied to subsequent substrates to generate a measurement data time series.</p><p id="p-0122" num="0121">12. A method according to clause 1, wherein the correction is to be applied to correct at least one selected from: overlay, dose or focus.</p><p id="p-0123" num="0122">13. A method according to clause 7, wherein the correction and/or the further correction is to be applied to correct at least one selected from: overlay, dose or focus.</p><p id="p-0124" num="0123">14. A method according to clause 1, wherein the process step is at least one selected from: etching, annealing, implantation, deposition, or polishing.</p><p id="p-0125" num="0124">15. A computer program comprising computer readable code means for instructing one or more lithographic tools to perform a method according to clause 1.</p><p id="p-0126" num="0125">While specific embodiments of the invention have been described above, it will be appreciated that the invention may be practiced otherwise than as described.</p><p id="p-0127" num="0126">An embodiment may include a computer program containing one or more sequences of machine-readable instructions configured to instruct various apparatus as depicted in <figref idref="DRAWINGS">FIG. <b>1</b></figref> to perform measurement and optimization steps and to control a subsequent exposure process as described above. This computer program may be executed, for example, within the control unit LACU or the supervisory control system SCS of <figref idref="DRAWINGS">FIG. <b>1</b></figref> or a combination of both. There may also be provided a data storage medium (e.g., semiconductor memory, magnetic or optical disk) having such a computer program stored therein.</p><p id="p-0128" num="0127">Although specific reference may have been made above to the use of embodiments of the invention in the context of optical lithography, it will be appreciated that the invention may be used in other applications, for example imprint lithography, and where the context allows, is not limited to optical lithography. In imprint lithography a topography in a patterning device defines the pattern created on a substrate. The topography of the patterning device may be pressed into a layer of resist supplied to the substrate whereupon the resist is cured by applying electromagnetic radiation, heat, pressure or a combination thereof. The patterning device is moved out of the resist leaving a pattern in it after the resist is cured.</p><p id="p-0129" num="0128">The terms &#x201c;radiation&#x201d; and &#x201c;beam&#x201d; used herein encompass all types of electromagnetic radiation, including ultraviolet (UV) radiation (e.g., having a wavelength of or about 365, 355, 248, 193, 157 or 126 nm) and extreme ultra-violet (EUV) radiation (e.g., having a wavelength in the range of 1-100 nm), as well as particle beams, such as ion beams or electron beams. Implementations of scatterometers and other inspection apparatus can be made in UV and EUV wavelengths using suitable sources, and the present disclosure is in no way limited to systems using IR and visible radiation.</p><p id="p-0130" num="0129">The term &#x201c;lens&#x201d;, where the context allows, may refer to any one or combination of various types of optical components, including refractive, reflective, magnetic, electromagnetic and electrostatic optical components. Reflective components are likely to be used in an apparatus operating in the UV and/or EUV ranges.</p><p id="p-0131" num="0130">The breadth and scope of the present invention should not be limited by any of the above-described exemplary embodiments, but should be defined only in accordance with the following claims and their equivalents.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-01-14" num="01-14"><claim-text><b>1</b>.-<b>14</b>. (canceled)</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A method comprising:<claim-text>obtaining a status or measurement data time series relating to conditions prevailing when a process step of a device manufacturing method was performed on at least some of the plurality of substrates;</claim-text><claim-text>applying a filter to the data time series to obtain filtered data; and</claim-text><claim-text>determining, using the filtered data, (i) a correction to be applied in a subsequent process step performed on a subsequent substrate, (ii) a sampling scheme to be applied to subsequent substrates to generate measurement data, or (iii) both (i) and (ii).</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the data time series is a status data time series and further comprising:<claim-text>obtaining a measurement data time series of a plurality of substrates on which the process step has been performed, and</claim-text><claim-text>applying a filter to the measurement data time series to obtain filtered data.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the data time series is collected by a sensor of a process tool.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the process step is at least one selected from: etching, annealing, implantation, deposition, and/or polishing.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein applying a filter comprises applying a polynomial filter having terms in spatial coordinates of the substrate.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein applying a filter comprises transforming the data time series into frequency space data, applying a frequency filter to the frequency space data to obtain filtered frequency space data, and transforming the filtered frequency data into the filtered data.</claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. The method according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, further comprising:<claim-text>applying a further filter to the measurement data time series and/or the status data time series to obtain further filtered data; and</claim-text><claim-text>determining, using the further filtered data, a correction to be applied in a subsequent process step performed on a subsequent substrate.</claim-text></claim-text></claim><claim id="CLM-00022" num="00022"><claim-text><b>22</b>. The method according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein applying a filter comprises applying a first filter to measurement data of the measurement data time series relating to a first zone of the substrates and applying a second filter, different from the first filter, to measurement data of the measurement data time series relating to a second zone of the substrates.</claim-text></claim><claim id="CLM-00023" num="00023"><claim-text><b>23</b>. The method according to <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the first zone is an edge zone and the second zone is an interior zone.</claim-text></claim><claim id="CLM-00024" num="00024"><claim-text><b>24</b>. The method according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, comprising determining the correction and wherein the correction is to be applied to correct at least one selected from: overlay, dose and/or focus.</claim-text></claim><claim id="CLM-00025" num="00025"><claim-text><b>25</b>. A non-transitory computer program product comprising a computer-readable medium having computer readable code therein, the code, when executed by a processing apparatus, configured to instruct the processing apparatus to at least perform the method according to <claim-ref idref="CLM-00015">claim 15</claim-ref>.</claim-text></claim><claim id="CLM-00026" num="00026"><claim-text><b>26</b>. A method comprising:<claim-text>obtaining a measurement data time series of a plurality of substrates on which an a process step of a device manufacturing method has been performed;</claim-text><claim-text>applying a filter to the measurement data time series to obtain filtered data;</claim-text><claim-text>determining, using the filtered data, a correction to be applied in a subsequent process step performed on a subsequent substrate;</claim-text><claim-text>applying a further filter to the measurement data time series to obtain further filtered data; and</claim-text><claim-text>determining, using the further filtered data, a further correction to be applied in a subsequent process step performed on a subsequent substrate.</claim-text></claim-text></claim><claim id="CLM-00027" num="00027"><claim-text><b>27</b>. The method according to <claim-ref idref="CLM-00026">claim 26</claim-ref>, further comprising obtaining a status data time series relating to conditions prevailing when the process step was performed on at least some of the plurality of substrates, wherein applying a filter comprises applying a filter to the measurement data time series and the status data time series to obtain the filtered data.</claim-text></claim><claim id="CLM-00028" num="00028"><claim-text><b>28</b>. The method according to <claim-ref idref="CLM-00026">claim 26</claim-ref>, wherein the correction and/or the further correction is to be applied to correct at least one selected from: overlay, dose and/or focus.</claim-text></claim><claim id="CLM-00029" num="00029"><claim-text><b>29</b>. A non-transitory computer program product comprising a computer-readable medium having computer readable code therein, the code, when executed by a processing apparatus, configured to instruct the processing apparatus to at least perform the method according to <claim-ref idref="CLM-00026">claim 26</claim-ref>.</claim-text></claim><claim id="CLM-00030" num="00030"><claim-text><b>30</b>. A method comprising:<claim-text>obtaining a measurement data time series of a plurality of substrates on which a process step of a device manufacturing method has been performed;</claim-text><claim-text>obtaining a status data time series relating to conditions prevailing when the process step was performed on at least some of the plurality of substrates;</claim-text><claim-text>transforming the measurement data time series and the status data time series into frequency space data;<claim-text>(i) determining, on the basis of the frequency space data, a filter to be applied to the measurement data time series and/or the status data time series to obtain filtered data, applying the filter to the measurement data time series and/or status data time series to obtain filtered data, and determining, using the filtered data, a correction to be applied in a subsequent process step performed on a subsequent substrate; or</claim-text><claim-text>(ii) determining, on the basis of the frequency space data, a sampling scheme to be applied to subsequent substrates to generate a measurement data time series; or</claim-text><claim-text>(iii) both (i) and (ii).</claim-text></claim-text></claim-text></claim><claim id="CLM-00031" num="00031"><claim-text><b>31</b>. The method according to <claim-ref idref="CLM-00030">claim 30</claim-ref>, comprising determining, on the basis of the frequency space data, a filter to be applied to the measurement data time series and/or the status data time series to obtain filtered data, applying the filter to the measurement data time series and/or status data time series to obtain filtered data, and determining, using the filtered data, a correction to be applied in a subsequent process step performed on a subsequent substrate.</claim-text></claim><claim id="CLM-00032" num="00032"><claim-text><b>32</b>. The method according to <claim-ref idref="CLM-00031">claim 31</claim-ref>, wherein the status data time series comprises data relating to a plurality of process steps performed on the substrates and determining a filter to be applied comprises selecting a subset of the status data time series relating to a subset of the process steps to be filtered and used to determine the correction.</claim-text></claim><claim id="CLM-00033" num="00033"><claim-text><b>33</b>. The method according to <claim-ref idref="CLM-00030">claim 30</claim-ref>, comprising determining, on the basis of the frequency space data, a sampling scheme to be applied to subsequent substrates to generate a measurement data time series.</claim-text></claim><claim id="CLM-00034" num="00034"><claim-text><b>34</b>. A non-transitory computer program product comprising a computer-readable medium having computer readable code therein, the code, when executed by a processing apparatus, configured to instruct the processing apparatus to at least perform the method according to <claim-ref idref="CLM-00030">claim 30</claim-ref>.</claim-text></claim></claims></us-patent-application>