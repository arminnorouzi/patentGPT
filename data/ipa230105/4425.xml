<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230004426A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230004426</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17781337</doc-number><date>20191205</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>9</main-group><subgroup>48</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>9</main-group><subgroup>4875</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc></classifications-cpc><invention-title id="d2e43">Distributed Processing System</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Nippon Telegraph and Telephone Corporation</orgname><address><city>Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Ito</last-name><first-name>Tsuyoshi</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Tanaka</last-name><first-name>Kenji</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Arikawa</last-name><first-name>Yuki</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Terada</last-name><first-name>Kazuhiko</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>Sakamoto</last-name><first-name>Takeshi</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/JP2019/047631</doc-number><date>20191205</date></document-id><us-371c12-date><date>20220531</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A distributed processing system including a plurality of distributed systems, transmission media connecting the plurality of distributed systems and a control node connected to the plurality of distributed systems, wherein each of the distributed systems includes one or more distributed nodes constituting a distributed node group and a piece of electric equipment accommodating the distributed node group. Each of the distributed nodes includes interconnects to connect to any of the transmission media and/or other distributed nodes; and the control node determines, based on a quantity of computational resources required for a job, distributed systems, distributed systems and distributed nodes in the distributed systems to execute the job from the plurality of distributed systems, selects a connection path for data to be processed among the distributed systems, and provides information about an interconnect connection path for the distributed nodes to execute the job.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="86.44mm" wi="150.88mm" file="US20230004426A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="152.91mm" wi="100.50mm" file="US20230004426A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="179.15mm" wi="90.59mm" file="US20230004426A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="109.30mm" wi="109.90mm" file="US20230004426A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="187.79mm" wi="131.40mm" orientation="landscape" file="US20230004426A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="219.12mm" wi="155.11mm" orientation="landscape" file="US20230004426A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="222.08mm" wi="149.69mm" orientation="landscape" file="US20230004426A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a national phase entry of PCT Application No. PCT/JP2019/047631, filed on Dec. 5, 2019, which application is hereby incorporated herein by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">The present invention relates to a distributed processing system that causes a plurality of distributed systems to cooperate with one another to perform information processing.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">In deep learning, inference accuracy is improved by updating, for a learning target constituted by multi-layered neuron models, a weight for each neuron model (a coefficient by which a value output by a neuron model at a previous stage is to be multiplied) based on input sample data.</p><p id="p-0005" num="0004">In general, a mini batch method is used as a method for improving inference accuracy. In the mini batch method, a gradient computation process for computing a gradient relative to the weight for each piece of sample data, an aggregation process for aggregating gradients for a plurality of different pieces of sample data (adding up the gradients obtained for piece of sample data, by weight) and a weight update process for updating each weight based on the aggregated gradient are repeated.</p><p id="p-0006" num="0005">These processes, especially the gradient computation process requires many computations, and, there is a problem that, when the number of weights and the number of pieces of sample data to be input increase in order to improve inference accuracy, time required for the deep learning increases.</p><p id="p-0007" num="0006">A distributed processing method is used to speed up the gradient computation process. Specifically, a plurality of distributed nodes are provided, and each of the nodes performs the gradient computation process for different sample data. Thereby, it becomes possible to increase the number of pieces of sample data that can be processed in a unit time in proportion to the number of distributed nodes, and, therefore, the gradient computation process can be speeded up (see, for example, Non-Patent Literature 1).</p><p id="p-0008" num="0007">Recently, deep learning has been applied to more complicated problems, and the total number of weights and the number of pieces of sample data tend to increase. Therefore, time required until a deep learning process is completed increases, and it is necessary to increase the number of distributed nodes to respond thereto (see, for example, Non-Patent Literature 2).</p><p id="p-0009" num="0008">When the number of distributed nodes increases, however, power required for the distributed nodes and a load on a system for cooling the distributed nodes increase in proportion to the number. Thereby, a capacity of electric equipment required to accommodate them becomes enormous (see, for example, Non-Patent Literature 3). Further, when the distributed nodes are collected in one building, there is a technical problem such as redundancy of large-capacity electrical equipment for the purpose of improvement of reliability. There are also problems that distributed processing stops due to a failure by a disaster and that early recovery at the time of a disaster is difficult, because the distributed processing system is concentrated in the one building.</p><p id="p-0010" num="0009">As a method for solving the above problems, there is a method of installing a plurality of distributed nodes <b>603</b> within a range of the power capacity of electric equipment to configure each of distribution systems <b>601</b>, and connecting the distributed systems <b>601</b> via aggregation switches <b>602</b> as shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>. However, there is a problem that, when the connection scale increases, the number of stages of the aggregation switches <b>602</b> increases, delays are accumulated, and processing performance decreases. Therefore, a flexible system has come to be required which does not require a large number of distributed nodes and pieces of electric equipment to respond to the peak of the amount of information processing in one building and which is capable of responding to a necessary amount of information processing even if the system scale required for information processing increases to some extent.</p><heading id="h-0004" level="1">CITATION LIST</heading><heading id="h-0005" level="1">Non-Patent Literature</heading><p id="p-0011" num="0010">Non-Patent Literature 1: Takuya Akiba, Shuji Suzuki, Keisuke Fukuda, &#x201c;Extremely Large Minibatch SGD: Training ResNet-50 on ImageNet in <b>15</b> Minutes&#x201d;, Cornell University Library, U.S.A., arXiv:1711.04325,2017, Internet &#x3c;https://arxiv.org/abs/1711.04325&#x3e;</p><p id="p-0012" num="0011">Non-Patent Literature 2: Hiroyuki Miyazaki et.al, &#x201c;Overview of the K computer System&#x201d;,FujitsuSci. Tech. J., Vol. 48, No. 3, pp. 255-265 (July 2012)</p><p id="p-0013" num="0012">Non-Patent Literature 3: Yoshihiro Sekiguchi et.al, &#x201c;Construction and Facilities Technologies for the K computer&#x201d;, FujitsuSci. Tech. J., Vol. 48, No. 3, <sup>pp. </sup>266-273 (July 2012).</p><heading id="h-0006" level="1">SUMMARY</heading><heading id="h-0007" level="1">Technical Problem</heading><p id="p-0014" num="0013">Embodiments of the present invention have been made in view of the situation as described above, and an object thereof is to provide a distributed processing system capable of controlling power required for one building where a distributed node group is installed as well as flexibly and efficiently setting the scale of distributed systems without performing multi-stage connection of aggregation switches that may cause accumulation of delays, and performing highly reliable and high-speed information processing.</p><heading id="h-0008" level="1">Means for Solving the Problem</heading><p id="p-0015" num="0014">In order to solve the above problem, a distributed processing system of embodiments of the present invention is a distributed processing system including a plurality of distributed systems, transmission media connecting the plurality of distributed systems and a control node connected to the plurality of distributed systems, wherein each of the distributed systems includes one or more distributed nodes constituting a distributed node group and a piece of electric equipment accommodating the distributed node group; each of the distributed nodes includes interconnects to connect to any of the transmission media and/or other distributed nodes; and the control node determines, based on a quantity of computational resources required for a job to be executed in the distributed processing system, distributed systems and distributed nodes in the distributed systems to execute the job from among the plurality of distributed systems, selects a connection path for data to be processed among the distributed systems, and provides information about an interconnect connection path for the distributed nodes of the distributed systems to execute the job.</p><heading id="h-0009" level="1">Effects of embodiments of the Invention</heading><p id="p-0016" num="0015">In embodiments of the present invention, by, according to the quantity of computational resources to be processed by a distributed processing system, configuring a large distributed system by connecting distributed systems each of which is composed of a distributed node group composed of a plurality of distributed nodes and electric equipment accommodating the distributed node group, it is possible to provide a distributed processing system capable of controlling power required for one building where a distributed node group is installed as well as flexibly and efficiently setting the scale of the distributed processing system, and performing highly reliable and high-speed information processing.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0010" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram showing a configuration example of a distributed processing system according to a first embodiment of the present invention.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a configuration example of a distributed node in a distributed system of the embodiment of the present invention.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram showing a configuration example of a control node in the distributed processing system according to the embodiment of the present invention.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a diagram showing a configuration example of a computer constituting the control node according to the embodiment of the present invention.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a diagram showing a configuration example of a distributed processing system according to a second embodiment of the present invention.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a diagram for illustrating an operation of the distributed processing system according to the second embodiment of the present invention.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a diagram showing a conventional distributed processing system.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0011" level="1">DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS</heading><p id="p-0024" num="0023">Embodiments of the present invention will be explained below with reference to drawings. In the explanation below, &#x201c;nodes&#x201d; refers to pieces of equipment such as servers that are distributedly arranged on a network.</p><heading id="h-0012" level="1">First Embodiment</heading><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram showing a configuration example of a distributed processing system according to a first embodiment of the present invention. The distributed processing system in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is composed of distributed systems <b>101</b> to <b>103</b>. The distributed systems <b>101</b>, <b>102</b> and <b>103</b> are installed in areas A, B and C, respectively. In the distributed systems, pieces of electric equipment <b>111</b>, <b>121</b> and <b>131</b> each of which accommodates a plurality of distributed nodes are installed, respectively. Further, in a control station, a control node <b>500</b> connected to each of the distributed systems is installed.</p><heading id="h-0013" level="1">Configuration of Distributed Processing System</heading><p id="p-0026" num="0025">In the configuration example of <figref idref="DRAWINGS">FIG. <b>1</b></figref>, each of the distributed systems <b>101</b> to <b>103</b> is composed of four distributed nodes. The distributed system <b>101</b> is composed of distributed nodes <b>110</b>-<b>1</b> to <b>110</b>-<b>4</b>; the distributed system <b>102</b> is composed of distributed nodes <b>120</b>-<b>1</b> to <b>120</b>-<b>4</b>; and the distributed system <b>103</b> is composed of distributed nodes <b>130</b>-<b>1</b> to <b>130</b>-<b>4</b>. Furthermore, each of the distributed nodes is provided with four interconnects, and, in each of the distributed systems, distributed nodes are connected in a ring shape, with two interconnects being used between two nodes.</p><p id="p-0027" num="0026">In <figref idref="DRAWINGS">FIG. <b>1</b></figref>, two transmission media such as optical fibers usable for distributed systems are laid between the areas A and B and between the areas B and C. Between the areas A and B, the distributed systems <b>101</b> and <b>102</b> are connected via transmission media <b>131</b> and <b>132</b>. Between the areas B and C, the distributed systems <b>102</b> and <b>103</b> are connected via transmission media <b>133</b> and <b>134</b>.</p><p id="p-0028" num="0027">The control node <b>500</b> is connected to the distributed systems <b>101</b> to <b>103</b> of the areas A, B and C and can control the distributed system of each area. The control node <b>500</b> has a function of accepting a job from a user and a function of controlling the distributed processing system according to the content of the job. In the configuration example of <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the control node <b>500</b> is installed in the control station at a place different from the places of the distributed systems of the areas A to C. The control node <b>500</b>, however, is not necessarily required to be installed in the control station at a place different from the places of the distributed systems but may be installed at the same place as the distributed system of the area A, B or C or in the distributed system or may be installed as a part of a distributed node.</p><heading id="h-0014" level="1">Configuration of Distributed Node</heading><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a configuration example of a distributed node in a distributed system of the present embodiment. A distributed node <b>410</b> is provided with interconnects <b>416</b>A to <b>416</b>D, a path selection circuit <b>412</b>, an arithmetic device <b>413</b> to perform processing of data. The path selection circuit <b>412</b> is connected to the arithmetic device <b>413</b> and the interconnects <b>416</b>A to <b>416</b>D of the four ports. The path selection circuit <b>412</b> transmits data processed by the arithmetic device <b>413</b> to at least any of the interconnects <b>416</b>A to <b>416</b>D that has been selected according to path information from the control node <b>500</b>.</p><p id="p-0030" num="0029">As the arithmetic device <b>413</b>, a CPU (central processing unit), a GPU (graphics processing unit), an FPGA (field programmable gate array), a quantum arithmetic device, an artificial intelligence (neuron) chip or the like can be used.</p><p id="p-0031" num="0030">Here, the number of distributed nodes constituting a distributed system is not limited to four but may be more than four if the electric equipment of each distributed system can accommodate the distributed nodes. As for the number of interconnects provided in each distributed node also, the number is not limited to four ports. The number of interconnects corresponding to the number of transmission media or the like that can be connected to other distributed systems can be provided.</p><heading id="h-0015" level="1">Configuration and Operation of Control Node</heading><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows a configuration example of a control node in the present embodiment. The control node <b>500</b> is provided with a computational resource quantity estimation unit <b>501</b>, a distributed node determination unit <b>502</b>, a path selection unit <b>503</b>, a path setting unit <b>504</b>, a fault avoidance unit <b>505</b> and a database unit <b>506</b>. The control node <b>500</b> is connected to all areas including the areas A, B and C via a network and can control a distributed system installed in each area.</p><p id="p-0033" num="0032">The control node <b>500</b> has a database that includes computational resource information including computational power of each distributed node to which the control node <b>500</b> is connected, arithmetic resource information including computational power of the arithmetic device of each distributed node, and a communication bandwidth between devices in each distributed node or between distributed nodes, position information about the distributed nodes and the like. The control node <b>500</b> searches for available computational resources using such a database and determines distributed nodes and a connection path required to process a job.</p><p id="p-0034" num="0033">The control node <b>500</b> in the present embodiment can be realized by a computer provided with the computational resource quantity estimation unit <b>501</b>, the distributed node determination unit <b>502</b>, the path selection unit <b>503</b>, the path setting unit <b>504</b>, the fault avoidance unit <b>505</b>, the database unit <b>506</b>, a CPU (central processing unit), a storage device and an external interface (hereinafter referred to as an external I/F) and a program that controls these hardware resources as an example. A configuration example of such a computer is shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>.</p><p id="p-0035" num="0034">A computer <b>1000</b> is provided with a CPU <b>2000</b>, a storage device <b>3000</b> and an external I/F <b>4000</b>, which are mutually connected via an I/O interface <b>5000</b>. The program for realizing the operation of the control node of the present embodiment, computational resource information, arithmetic resource information including the computational power of the arithmetic device of each distributed node, and the like are stored in the storage device <b>3000</b>. Computers that mutually transmit/receive signals are connected to the external I/F <b>4000</b>. The CPU <b>2000</b> executes the process explained in the present embodiment according to the program and the like stored in the storage device <b>3000</b>. Further, a configuration is also possible in which the processing program is recorded to a computer-readable recording medium.</p><heading id="h-0016" level="1">Device Configuration of Distributed Node</heading><p id="p-0036" num="0035">Next, a specific device configuration example of each distributed node will be explained. The specific device configuration of each distributed node explained below is an exemplification, and the device configuration is not limited thereto.</p><p id="p-0037" num="0036">Each distributed node in the present embodiment is, for example, a SYS-4028GR-TR2 server made by Super Micro Computer, Inc. (hereinafter referred to as &#x201c;the server&#x201d;). Each of the interconnects of the distributed node is composed of an interconnect card and an interconnect port. For example, a VCU118 Evaluation board made by Xillinx Inc. (hereinafter referred to as &#x201c;the FPGA board&#x201d;) is inserted in the 16-lane slot of PCI Express 3.0 (Gen 3) of the server as an interconnect card. Furthermore, on the FMC+ port on the FPGA board, HTG-FMC-X2QSFP28 made by HiTech Global, LLC. (hereinafter referred to as &#x201c;the daughter board&#x201d;) is mounted.</p><p id="p-0038" num="0037">Further, for each of two ports, two 100-Gbps QSFP28-type optical transceivers are prepared on each of the FPGA board and the daughter board as interconnect ports, four ports thus being prepared in total. Thus, each server constituting a distributed node can be provided with four interconnects.</p><p id="p-0039" num="0038">The path selection circuit is written on an FPGA chip on the FPGA board as a circuit. The interconnects are not limited to optical transceivers, and PCIe's that are exclusively used as internal buses of a distributed node is also included. The explanation below will be made with the optical transceiver part of an interconnect as the interconnect.</p><heading id="h-0017" level="1">Operation of Distributed Node</heading><heading id="h-0018" level="1">Step 0: Acceptance of Job and Estimation of Resources</heading><p id="p-0040" num="0039">Here, operations of the distributed nodes in the present embodiment will be explained using <figref idref="DRAWINGS">FIGS. <b>1</b> and <b>2</b></figref>. First, it is assumed that the four distributed nodes <b>110</b>-<b>1</b> to <b>110</b>-<b>4</b> of the distributed system <b>101</b> of the area A, which are connected in a ring configuration, are performing distributed processing for a certain computation job. A case is assumed where, when a new computation job is given after the computation job ends, the control node <b>500</b> determines that three times the quantity of computational resources is required to process the new computation job.</p><heading id="h-0019" level="1">Step <b>1</b>: Grasping Of Operation Situation</heading><p id="p-0041" num="0040">The control node <b>500</b> secures operations of the distributed systems <b>101</b> to <b>103</b> of the areas A to C so that three times the quantity of computational resources can be obtained, based on the estimated quantity of computational resources. That is, this case is a case where it is determined that resources of twelve distributed nodes are required.</p><heading id="h-0020" level="1">Step <b>2</b>: Grasping Of Connection Situation</heading><p id="p-0042" num="0041">Before the operation of the distributed systems <b>101</b> to <b>103</b> is secured at step <b>1</b>, the distributed nodes <b>110</b>-<b>2</b> and no-<b>4</b> of the area A are mutually connected via interconnects. The selection circuit of the distributed node <b>110</b>-<b>2</b> is in a state that a data path is set in a downward direction of the drawing, which is a direction toward the distributed node node <b>110</b>-<b>4</b>. The selection circuit of the distributed node <b>100</b>-<b>4</b> is in a state that a data path is set in an upward direction of the drawing, which is a direction toward the distributed node <b>110</b>-<b>2</b>.</p><p id="p-0043" num="0042">The distributed nodes <b>120</b>-<b>1</b> and <b>120</b>-<b>3</b> of the area B are mutually connected via interconnects. The selection circuit of the distributed node <b>120</b>-<b>1</b> is in a state that a data path is set in the downward direction of the drawing, which is a direction toward the distributed node <b>120</b>-<b>3</b>. The selection circuit of the distributed node <b>120</b>-<b>3</b> is in a state that a data path is set in the upward direction of the drawing, which is a direction toward the distributed node <b>120</b>-<b>1</b>. Similarly, the distributed nodes <b>120</b>-<b>2</b> and <b>120</b>-<b>4</b> of the area B are mutually connected via interconnects. The selection circuit of the distributed node <b>120</b>-<b>2</b> is in a state that a data path is set in the downward direction of the drawing, which is a direction toward the distributed node <b>120</b>-<b>4</b>. The selection circuit of the distributed node <b>120</b>-<b>4</b> is in a state that a data path is set in the upward direction of the drawing, which is a direction toward the distributed node <b>120</b>-<b>2</b>.</p><p id="p-0044" num="0043">Furthermore, the distributed nodes <b>130</b>-<b>1</b> and <b>130</b>-<b>3</b> of the area C are mutually connected via interconnects. The selection circuit of the distributed node <b>130</b>-<b>1</b> is in a state that a data path is set in the downward direction of the drawing, which is a direction toward the distributed node <b>130</b>-<b>3</b>. The selection circuit of the distributed node <b>130</b>-<b>3</b> is in a state that a data path is set in the upward direction of the drawing, which is a direction toward the distributed node <b>130</b>-<b>1</b>.</p><heading id="h-0021" level="1">Step <b>3</b>: Switching of Path</heading><p id="p-0045" num="0044">In order to secure twelve distributed nodes in order to process the quantity of computational resources of the new computation job, the state is changed to a state in which the data path is set in the right direction of the drawing in the selection circuits of the distributed nodes <b>110</b>-<b>2</b> and <b>110</b>-<b>4</b> of the area A, based on connection path information provided from the control node <sub>5</sub>o. Further, in the state in which the distributed nodes <b>120</b>-<b>1</b> and <b>120</b>-<b>3</b> of the area B have been mutually connected via the interconnects, the downward data path is switched to a leftward data path in the selection circuit of the distributed node <b>120</b>-<b>1</b>, and the upward data path is switched to a leftward data path in the selection circuit of the distributed node <b>120</b>-<b>3</b>.</p><p id="p-0046" num="0045">Similarly, in the state in which the distributed nodes <b>120</b>-<b>2</b> and <b>120</b>-<b>4</b> of the area B have been mutually connected via the interconnects, the downward data path is switched to a rightward data path in the selection circuit of the distributed node <b>120</b>-<b>2</b>, and the upward data path is switched to a rightward data path in the selection circuit of the distributed node <b>120</b>-<b>4</b>.</p><p id="p-0047" num="0046">Furthermore, in the state in which the distributed nodes <b>130</b>-<b>1</b> and <b>130</b>-<b>3</b> of the area C have been mutually connected via the interconnects, the downward data path is switched to a leftward data path in the selection circuit of the distributed node <b>130</b>-<b>1</b>, and the upward data path is switched to a leftward data path in the selection circuit of the distributed node <b>130</b>-<b>3</b>.</p><p id="p-0048" num="0047">By the series of data path switchings explained above, the distributed nodes constituting the distributed systems <b>101</b> to <b>103</b> of the areas A to C are connected in a ring shape. Due to the ring, the number has increased three times from four to twelve in comparison with the number of connected distributed nodes before the switchings, and it is possible to constitute a distributed processing system in which distributed systems installed in a plurality of areas are connected, to respond to the quantity of computational resources required to execute the new computation job. According to the present embodiment, it is possible to provide a distributed processing system capable of flexibly and efficiently setting the scale of the distributed processing system while controlling power required for one distributed system in which a distributed node group is installed, and performing highly reliable and high-speed information processing.</p><p id="p-0049" num="0048">Each selection circuit for performing such a process can be realized by rewriting the FPGA chip mounted on the VCU118 Evaluation board made by Xillinx Inc., which has been described before. On the FPGA chip, a digital circuit can be freely rewritten within a range of resource restrictions. By performing bit rewriting on a register memory in the FPGA chip from outside to write a digital circuit capable of switching a path, on the FPGA chip, the selection circuit can be realized. Such a function is not limited to an FPGA chip. A general-purpose network card is also possible if the network card is provided with a plurality of ports, and the function can be realized by selecting an output port by a setting of a register memory.</p><p id="p-0050" num="0049">Further, as another path switching method in a selection circuit, there is also a method in which a path factor is given to a header or the like of data of a distributed node. For example, it is possible to make a configuration in which, a circuit that, when data generated by the arithmetic device <b>413</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref> is input to the path switching circuit <b>412</b>, gives a path factor <b>415</b> like a port number to the beginning of the data is implemented in the selection circuit so that the data flows through a path corresponding to the path factor.</p><p id="p-0051" num="0050">Specifically, in the distributed node <b>410</b>, the interconnects <b>416</b>A to <b>416</b>D are associated with 2-bit path factors, 00, 01, 10 and 11, respectively. By giving a 2-bit path factor <b>415</b> to be a data path to the data output from the arithmetic node <b>413</b>, the data from the arithmetic node can be output to an interconnect of a desired path by the selection circuit <b>412</b>. Such path selection can be realized by a method in which a path factor is embedded in a reservoir part of an individual PCIe frame packet header, and the path factor is determined by the FPGA.</p><heading id="h-0022" level="1">Second Embodiment</heading><p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a diagram showing a configuration example of a distributed processing system according to a second embodiment of the present invention. <figref idref="DRAWINGS">FIG. <b>5</b></figref> shows a configuration example in a case where embodiments of the present invention is applied to a wider-range distributed system group in comparison with <figref idref="DRAWINGS">FIG. <b>1</b></figref>. In addition to the areas A to C explained in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, areas <b>1</b> to <b>4</b>, areas (i) to (iv) and an area D are included. It is similar to <figref idref="DRAWINGS">FIG. <b>1</b></figref> that a control node is arranged in a control station of the distributed processing system.</p><heading id="h-0023" level="1">Operation of Distributed Processing System</heading><p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a diagram for illustrating an operation of the distributed processing system according to the second embodiment of the present invention. In <figref idref="DRAWINGS">FIG. <b>6</b></figref>, in addition to the operational situation of the computational resources for a job A by the twelve distributed nodes in the areas A to C, computational resources for a job B by four distributed nodes in the area <b>1</b> and computational resources for a job C by eight distributed nodes in the areas <b>2</b> and <b>3</b> are operating. That is, distributed processing of the job A is being performed in the areas A to C; distributed processing of the job B is being performed in the area <b>1</b>; distributed processing of the job C is being performed in the areas <b>2</b> and <b>3</b>. A case is assumed where, in the above state, a job requiring eight distributed nodes (a job D) as computational resources and a job requiring sixteen distributed nodes (a job E) have occurred from a user to the control node <b>500</b>.</p><heading id="h-0024" level="1">Step <b>1</b>: Acceptance of Job and Estimation Of Resources</heading><p id="p-0054" num="0053">When the new jobs D and E as described above are given to the control node, the control node <b>500</b> performs estimation of the quantity of computational resources required for the new jobs by the computational resource quantity estimation unit <b>501</b> first. It is assumed that, as a result of the estimation, for example, an estimation result is obtained that the job D requires two times the computational resources of the job B, and the job E requires eight times the computational resources of the job B.</p><heading id="h-0025" level="1">Step <b>2</b>: Grasping of Connection Situation</heading><p id="p-0055" num="0054">The control node <b>500</b> has database information that includes computational resource information including computational power of each of wide-range nodes to which the control node <b>500</b> is connected, arithmetic resource information including computational power of each arithmetic device, and a communication bandwidth between devices in each distributed node or between distributed nodes, position information about the distributed nodes and the like. The control node <b>500</b> searches for available computational resources from such database information. In the present embodiment, the control node <b>500</b> could grasp that computational resources of the area <sub>4</sub>, the area D and the areas (i) to (iv) are available.</p><heading id="h-0026" level="1">Step <b>3</b>: Computation of Optimal Path</heading><p id="p-0056" num="0055">Next, based on the results obtained at steps <b>1</b> and <b>2</b>, the control node <b>500</b> determines necessary distributed nodes based on the quantity of computational resources required for the jobs D and E and selects connection paths among the distributed nodes by the distributed node determination unit <b>502</b> and the path selection unit <b>503</b>. In the present embodiment, it is assumed, for simplification, that performances of the distributed nodes are the same, and that an estimation result has been obtained that the jobs D and E require eight distributed nodes and sixteen distributed nodes, respectively. Based on the estimation result, all the distributed nodes of the areas 4 and D are selected for the job D to assure eight distributed nodes, and a path is selected which constitutes an 8-node distribution system where the distributed nodes are connected in a ring shape. Similarly, for the job E, sixteen distributed nodes of the areas (i) to (iv) are selected, and a path to constitute a distributed system is selected by connecting the sixteen distributed nodes in a ring shape.</p><heading id="h-0027" level="1">Step <b>4</b>: Transmission of Path</heading><p id="p-0057" num="0056">After the determination of the path at step <b>3</b>, the path setting unit of the control node provides setting information about the path to the distributed system of each area via the network or the like.</p><heading id="h-0028" level="1">Step <b>5</b>: Switching of Path</heading><p id="p-0058" num="0057">In each distributed system, switching of a path is performed based on connection path information provided from the control node <b>500</b>. For example, in a distributed system <b>204</b> of the area <b>4</b>, interconnectors mutually connected between a distributed node <b>240</b>-<b>3</b> and a distributed node <b>240</b>-<b>4</b> are switched to data paths of the nodes in a downward direction of the <figref idref="DRAWINGS">FIG. <b>5</b></figref>, as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>. Similarly, in a distributed system of the area D, interconnectors through which a distributed node <b>140</b>-<b>1</b> and a distributed node <b>140</b>-<b>2</b> are mutually connected are switched to data paths in an upward direction of the <figref idref="DRAWINGS">FIG. <b>5</b></figref>. By the switchings, a distributed system composed of eight distributed nodes connected with the distributed system <b>204</b> of the area <sub>4 </sub>and the distributed system <b>104</b> of the area D can be formed. Similarly, for the job E, path switching is performed so that the sixteen distributed nodes of the areas (i) to (iv) are connected in a ring shape. Thus, it is possible to provide computational resources corresponding to the quantity of computational resources corresponding to a request by each job or user and provide a distributed processing system that is optimal for processing a new job.</p><heading id="h-0029" level="2">Step <b>6</b>: For Avoidance Function</heading><p id="p-0059" num="0058">Further, as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, when detecting a fault such as in a case where a distributed system of the area (ii) does not operate due to a disaster, or the like, the fault avoidance unit <b>505</b> of the control node <b>500</b> can perform switching of distributed systems so that processing is performed for the job E by a distributed system reduced with the areas (iii) and (iv). Here, it is also possible to, when the job D by the distributed processing systems of the areas 4 and D ends, perform control to revive the processing capacity by switching the operation by the two distributed systems of the areas (iii) and (iv) to operation by coupling four distributed systems including the distributed systems of the areas 4 and D.</p><p id="p-0060" num="0059">Thus, according to the present embodiment, by distributed systems which are regionally separated and each of which includes power source equipment operating together as a distributed processing system, it is possible to provide a distributed processing system capable of, by utilizing distributed systems responding to space restrictions even in the case of a small- scale communication building with a limited space, flexibly and efficiently setting the scale of the distributed processing system while controlling power required for one distributed system in which a distributed node group is installed, and performing highly reliable and high-speed information processing.</p><p id="p-0061" num="0060">In the embodiments of the present invention, even if a part of distributed systems or the whole one communication building is damaged due to a disaster, it is possible to flexibly set distributed systems constituting a distributed processing system by a control node that controls the distributed systems constituting the distributed processing system and the whole distribute processing system. Therefore, in the embodiments of the present invention, it is possible to provide a highly reliable distributed processing system capable of flexibly responding to a user's request in comparison with the form of a distributed processing system in which a power source and a distributed processing system are concentrated in one building.</p><p id="p-0062" num="0061">In the embodiments of the present invention, the number of distributed nodes of each area is limited to four, and the number of transmission paths connecting areas is limited to two. However, the present invention is not limited to such a configuration but can also be applied to a more complicated distributed processing system. When the number of nodes and the number of transmission paths that can connect areas increase, the number of path patterns increases. Furthermore, processing performance varies according to the time of newly installing a distribute node, and data transfer speed on a transmission path between areas may vary depending on performance of hardware. Therefore, optimal path computation capable of maximizing information processing performance becomes complicated. In such a case, a computational engine specialized in combination computation, such as a quantum device, can be adopted for a path selection function.</p><p id="p-0063" num="0062">In the embodiments described above, it is assumed that performances of distributed nodes are the same for simplification. However, there may be a case where characteristics of distributed nodes, interconnects transmission media and the like are different among distribution systems. For example, in the case of selecting a path that the bandwidth of a transmission medium is small, it is possible to respond to the case by providing a path selection circuit or the like with a function of compressing data. If compression can be performed between &#xbd; and 1/10, it is possible to make a configuration so that degradation of information processing performance accompanying delay of data transfer time does not occur even under a condition that the bandwidth is limited to &#xbd; to 1/10.</p><p id="p-0064" num="0063">In the embodiments described above, a selection circuit that selects a path performs only path selection. However, by causing the selection circuit to have addition, subtraction and broadcasting functions required for collective communication, it is also possible to perform computations required for collective communication at the same time as selection of a path and improve information processing speed.</p><p id="p-0065" num="0064">Further, by having a function of encrypting data to be handled, at the time of selecting a path, it becomes possible to securely move data at the time of moving the data to a distributed system installed in another area, and it is also possible to realize highly reliable information processing.</p><heading id="h-0030" level="1">INDUSTRIAL APPLICABILITY</heading><p id="p-0066" num="0065">Embodiments of the present invention are applicable to a distributed processing system capable of performing a large amount of information processing by mutually connecting small-scale information processing systems installed in small-scale communication buildings. Especially, embodiments of the present invention are applicable to a system that performs machine learning in neural networks, large-scale computation (such as large-scale matrix operation) or a large amount of data information processing.</p><heading id="h-0031" level="1">REFERENCE SIGNS LIST</heading><p id="p-0067" num="0066"><b>101</b> to <b>103</b> Distributed system</p><p id="p-0068" num="0067"><b>110</b>-<b>1</b> to <b>110</b>-<b>4</b>, <b>120</b>-<b>1</b> to <b>120</b>-<b>4</b>, <b>130</b>-<b>1</b> to <b>130</b>-<b>4</b> Distributed node</p><p id="p-0069" num="0068"><b>111</b>, <b>122</b>, <b>133</b> Electric equipment</p><p id="p-0070" num="0069"><b>131</b> to <b>134</b> Transmission medium (optical fiber)</p><p id="p-0071" num="0070"><b>500</b> Control node.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. (canceled)</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. A distributed processing system comprising:<claim-text>a plurality of distributed systems;</claim-text><claim-text>transmission media connecting the plurality of distributed systems; and</claim-text><claim-text>a control node connected to the plurality of distributed systems, wherein:<claim-text>each of the plurality of distributed systems comprises one or more distributed nodes constituting a distributed node group and a piece of electric equipment accommodating the distributed node group;</claim-text><claim-text>each of the plurality of distributed nodes comprises interconnects connected to the transmission media or another distributed node of the plurality of distributed nodes; and</claim-text><claim-text>the control node is configured to determine, based on a quantity of computational resources corresponding to a job to be executed in the distributed processing system, distributed systems and distributed nodes in the distributed systems to execute the job from among the plurality of distributed systems, select a connection path for data to be processed among the distributed systems, and provide information about an interconnect connection path for the distributed nodes of the distributed systems to execute the job.</claim-text></claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The distributed processing system according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the control node comprises:<claim-text>an estimation circuit configured to estimate the quantity of computational resources corresponding to the job to be executed by the distributed processing system;</claim-text><claim-text>a determination circuit configured to determine the distributed systems and the distributed nodes in the distributed systems to execute the job from among the plurality of distributed systems based on the estimated quantity of computational resources;</claim-text><claim-text>a selection circuit configured to select the connection path for the data to be processed among the distributed systems; and</claim-text><claim-text>a provision circuit configured to provide the information about the interconnect connection path for the distributed nodes of the distributed systems to execute the job.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The distributed processing system according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein:<claim-text>each of the distributed nodes comprises a selection circuit configured to select a path for the data based on the information about the connection path for the data; and</claim-text><claim-text>the selection circuit is further configured to select an interconnect to transmit the data to be processed, based on the information about the interconnect connection path.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The distributed processing system according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein:<claim-text>the information about the interconnect connection path is information about a path factor given to the data; and</claim-text><claim-text>the selection circuit is configured to give the path factor to the data input and select the interconnect to transmit the data to be processed based on the path factor.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The distributed processing system according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein<claim-text>in addition to the selection of the interconnect, the selection circuit is further configured to execute addition, subtraction, broadcasting, compression, or encryption of the data.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The distributed processing system according to claim <sub>7</sub>, wherein<claim-text>in response to an abnormality occurring in at least one of the distributed systems executing the job, the control node is configured to determine distributed systems to execute the job and a connection path for the data to be processed among the distributed systems again.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. A method of operating a distributed processing system, the distributed processing system comprising:<claim-text>a plurality of distributed systems, wherein each of the plurality of distributed systems comprises one or more distributed nodes constituting a distributed node group;</claim-text><claim-text>transmission media connecting the plurality of distributed systems; and</claim-text><claim-text>a control node connected to the plurality of distributed systems, wherein the method comprises:</claim-text><claim-text>determining, by a control node, based on a quantity of computational resources corresponding to a job to be executed in the distributed processing system, distributed systems and distributed nodes in the distributed systems to execute the job from among the plurality of distributed systems;</claim-text><claim-text>selecting, by the control node, a connection path for data to be processed among the distributed systems; and</claim-text><claim-text>providing, by the control node, information about an interconnect connection path for the distributed nodes of the distributed systems to execute the job.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein method further comprises:<claim-text>estimating, by the control node, the quantity of computational resources corresponding to the job to be executed by the distributed processing system;</claim-text><claim-text>determining, by the control node, the distributed systems and the distributed nodes in the distributed systems to execute the job from among the plurality of distributed systems based on the estimated quantity of computational resources;</claim-text><claim-text>selecting, by the control node, the connection path for the data to be processed among the distributed systems; and</claim-text><claim-text>providing, by the control node, the information about the interconnect connection path for the distributed nodes of the distributed systems to execute the job.</claim-text></claim-text></claim></claims></us-patent-application>