<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007513A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007513</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17939591</doc-number><date>20220907</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>24</main-group><subgroup>04</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>76</main-group><subgroup>27</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>24</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>24</main-group><subgroup>04</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20180201</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>76</main-group><subgroup>27</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>24</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">Beam Failure Detection and Recovery</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>17717412</doc-number><date>20220411</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11470488</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17939591</doc-number></document-id></child-doc></relation></continuation><us-provisional-application><document-id><country>US</country><doc-number>63174140</doc-number><date>20210413</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>PanPsy Technologies, LLC</orgname><address><city>Fairfax</city><state>VA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Babaei</last-name><first-name>Alireza</first-name><address><city>Fairfax</city><state>VA</state><country>US</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>PanPsy Technologies, LLC</orgname><role>02</role><address><city>Fairfax</city><state>VA</state><country>US</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A wireless device may detect a beam failure or may trigger a beam failure recovery procedure based on first configuration parameter(s) that are applicable while the wireless device is in an RRC connected state. The wireless device may detect a beam failure or may trigger a beam failure recovery procedure based on second configuration parameter(s) that are applicable while the wireless device is in an RRC inactive state.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="78.15mm" wi="158.75mm" file="US20230007513A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="238.84mm" wi="170.01mm" orientation="landscape" file="US20230007513A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="232.49mm" wi="154.60mm" file="US20230007513A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="215.90mm" wi="162.31mm" file="US20230007513A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="251.04mm" wi="160.19mm" orientation="landscape" file="US20230007513A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="249.43mm" wi="169.08mm" file="US20230007513A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="244.77mm" wi="136.91mm" file="US20230007513A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="160.70mm" wi="155.53mm" orientation="landscape" file="US20230007513A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="245.19mm" wi="170.69mm" orientation="landscape" file="US20230007513A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="241.38mm" wi="167.81mm" orientation="landscape" file="US20230007513A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="198.97mm" wi="170.52mm" orientation="landscape" file="US20230007513A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="249.17mm" wi="172.38mm" file="US20230007513A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="247.82mm" wi="162.73mm" orientation="landscape" file="US20230007513A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="253.07mm" wi="168.66mm" file="US20230007513A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="247.40mm" wi="160.53mm" orientation="landscape" file="US20230007513A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="258.15mm" wi="160.70mm" orientation="landscape" file="US20230007513A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="242.06mm" wi="157.73mm" orientation="landscape" file="US20230007513A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="151.13mm" wi="123.95mm" orientation="landscape" file="US20230007513A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="137.84mm" wi="154.26mm" orientation="landscape" file="US20230007513A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="251.04mm" wi="154.26mm" orientation="landscape" file="US20230007513A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="232.83mm" wi="108.46mm" orientation="landscape" file="US20230007513A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="247.31mm" wi="129.20mm" orientation="landscape" file="US20230007513A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00022" num="00022"><img id="EMI-D00022" he="240.71mm" wi="130.56mm" orientation="landscape" file="US20230007513A1-20230105-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00023" num="00023"><img id="EMI-D00023" he="248.41mm" wi="135.72mm" orientation="landscape" file="US20230007513A1-20230105-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00024" num="00024"><img id="EMI-D00024" he="243.50mm" wi="147.57mm" orientation="landscape" file="US20230007513A1-20230105-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00025" num="00025"><img id="EMI-D00025" he="234.02mm" wi="105.33mm" orientation="landscape" file="US20230007513A1-20230105-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00026" num="00026"><img id="EMI-D00026" he="253.92mm" wi="144.27mm" orientation="landscape" file="US20230007513A1-20230105-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00027" num="00027"><img id="EMI-D00027" he="252.98mm" wi="152.99mm" orientation="landscape" file="US20230007513A1-20230105-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00028" num="00028"><img id="EMI-D00028" he="247.99mm" wi="151.55mm" orientation="landscape" file="US20230007513A1-20230105-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00029" num="00029"><img id="EMI-D00029" he="248.33mm" wi="154.69mm" orientation="landscape" file="US20230007513A1-20230105-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00030" num="00030"><img id="EMI-D00030" he="237.24mm" wi="159.60mm" orientation="landscape" file="US20230007513A1-20230105-D00030.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00031" num="00031"><img id="EMI-D00031" he="238.93mm" wi="93.98mm" orientation="landscape" file="US20230007513A1-20230105-D00031.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00032" num="00032"><img id="EMI-D00032" he="194.90mm" wi="164.59mm" file="US20230007513A1-20230105-D00032.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00033" num="00033"><img id="EMI-D00033" he="164.93mm" wi="164.51mm" file="US20230007513A1-20230105-D00033.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00034" num="00034"><img id="EMI-D00034" he="153.84mm" wi="164.51mm" file="US20230007513A1-20230105-D00034.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00035" num="00035"><img id="EMI-D00035" he="149.86mm" wi="164.51mm" file="US20230007513A1-20230105-D00035.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00036" num="00036"><img id="EMI-D00036" he="123.27mm" wi="164.17mm" file="US20230007513A1-20230105-D00036.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00037" num="00037"><img id="EMI-D00037" he="234.36mm" wi="164.85mm" file="US20230007513A1-20230105-D00037.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00038" num="00038"><img id="EMI-D00038" he="240.88mm" wi="166.12mm" file="US20230007513A1-20230105-D00038.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00039" num="00039"><img id="EMI-D00039" he="180.68mm" wi="164.85mm" file="US20230007513A1-20230105-D00039.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation of U.S. application Ser. No. 17/717,412, filed Apr. 11, 2022, which claims the benefit of U.S. Provisional Application No. 63/174,140, filed Apr. 13, 2021, which is hereby incorporated by reference in its entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0003" num="0002"><figref idref="DRAWINGS">FIG. <b>1</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>1</b>B</figref> show examples of mobile communications systems in accordance with several of various embodiments of the present disclosure.</p><p id="p-0004" num="0003"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>2</b>B</figref> show examples of user plane and control plane protocol layers in accordance with several of various embodiments of the present disclosure.</p><p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows example functions and services offered by protocol layers in a user plane protocol stack in accordance with several of various embodiments of the present disclosure.</p><p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows example flow of packets through the protocol layers in accordance with several of various embodiments of the present disclosure.</p><p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. <b>5</b>A</figref> shows example mapping of channels between layers of the protocol stack and different physical signals in downlink in accordance with several of various embodiments of the present disclosure.</p><p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. <b>5</b>B</figref> shows example mapping of channels between layers of the protocol stack and different physical signals in uplink in accordance with several of various embodiments of the present disclosure.</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>6</b></figref> shows example physical layer processes for signal transmission in accordance with several of various embodiments of the present disclosure.</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>7</b></figref> shows examples of RRC states and RRC state transitions in accordance with several of various embodiments of the present disclosure.</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>8</b></figref> shows an example time domain transmission structure in NR by grouping OFDM symbols into slots, subframes and frames in accordance with several of various embodiments of the present disclosure.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows an example of time-frequency resource grid in accordance with several of various embodiments of the present disclosure.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>10</b></figref> shows example adaptation and switching of bandwidth parts in accordance with several of various embodiments of the present disclosure.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>11</b>A</figref> shows example arrangements of carriers in carrier aggregation in accordance with several of various embodiments of the present disclosure.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>11</b>B</figref> shows examples of uplink control channel groups in accordance with several of various embodiments of the present disclosure.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>12</b>A</figref>, <figref idref="DRAWINGS">FIG. <b>12</b>B</figref> and <figref idref="DRAWINGS">FIG. <b>12</b>C</figref> show example random access processes in accordance with several of various embodiments of the present disclosure.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>13</b>A</figref> shows example time and frequency structure of SSBs and their associations with beams in accordance with several of various embodiments of the present disclosure.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>13</b>B</figref> shows example time and frequency structure of CSI-RSs and their association with beams in accordance with several of various embodiments of the present disclosure.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>14</b>A</figref>, <figref idref="DRAWINGS">FIG. <b>14</b>B</figref> and <figref idref="DRAWINGS">FIG. <b>14</b>C</figref> show example beam management processes in accordance with several of various embodiments of the present disclosure.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>15</b></figref> shows example components of a wireless device and a base station that are in communication via an air interface in accordance with several of various embodiments of the present disclosure.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>16</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>17</b></figref> shows an example medium access control (MAC) control element (CE) in accordance with several of various embodiments of the present disclosure.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>18</b></figref> shows an example MAC CE in accordance with several of various embodiments of the present disclosure.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>19</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>20</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>21</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>22</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>23</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>24</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>25</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>26</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>27</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>28</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>29</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>30</b>A</figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>30</b>B</figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>31</b></figref> shows an example process in accordance with several of various embodiments of the present disclosure.</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>32</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure.</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. <b>33</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure.</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>34</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure.</p><p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. <b>35</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure.</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>36</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure.</p><p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. <b>37</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure.</p><p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. <b>38</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure.</p><p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. <b>39</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0003" level="1">DETAILED DESCRIPTION</heading><p id="p-0046" num="0045">The exemplary embodiments of the disclosed technology enable processes for a wireless device and/or one or more base stations for beam management. The exemplary disclosed embodiments may be implemented in the technical field of wireless communication systems. More particularly, the embodiments of the disclosed technology may enhance beam failure detection and/or recovery.</p><p id="p-0047" num="0046">The devices and/or nodes of the mobile communications system disclosed herein may be implemented based on various technologies and/or various releases/versions/amendments of a technology. The various technologies include various releases of long-term evolution (LTE) technologies, various releases of 5G new radio (NR) technologies, various wireless local area networks technologies and/or a combination thereof and/or alike. For example, a base station may support a given technology and may communicate with wireless devices with different characteristics. The wireless devices may have different categories that define their capabilities in terms of supporting various features. The wireless device with the same category may have different capabilities. The wireless devices may support various technologies such as various releases of LTE technologies, various releases of 5G NR technologies and/or a combination thereof and/or alike. At least some of the wireless devices in the mobile communications system of the present disclosure may be stationary or almost stationary. In this disclosure, the terms &#x201c;mobile communications system&#x201d; and &#x201c;wireless communications system&#x201d; may be used interchangeably.</p><p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. <b>1</b>A</figref> shows an example of a mobile communications system <b>100</b> in accordance with several of various embodiments of the present disclosure. The mobile communications system <b>100</b> may be, for example, run by a mobile network operator (MNO) or a mobile virtual network operator (MVNO). The mobile communications system <b>100</b> may be a public land mobile network (PLMN) run by a network operator providing a variety of service including voice, data, short messaging service (SMS), multimedia messaging service (MMS), emergency calls, etc. The mobile communications system <b>100</b> includes a core network (CN) <b>106</b>, a radio access network (RAN) <b>104</b> and at least one wireless device <b>102</b>.</p><p id="p-0049" num="0048">The CN <b>106</b> connects the RAN <b>104</b> to one or more external networks (e.g., one or more data networks such as the Internet) and is responsible for functions such as authentication, charging and end-to-end connection establishment. Several radio access technologies (RATs) may be served by the same CN <b>106</b>.</p><p id="p-0050" num="0049">The RAN <b>104</b> may implement a RAT and may operate between the at least one wireless device <b>102</b> and the CN <b>106</b>. The RAN <b>104</b> may handle radio related functionalities such as scheduling, radio resource control, modulation and coding, multi-antenna transmissions and retransmission protocols. The wireless device and the RAN may share a portion of the radio spectrum by separating transmissions from the wireless device to the RAN and the transmissions from the RAN to the wireless device. The direction of the transmissions from the wireless device to the RAN is known as the uplink and the direction of the transmissions from the RAN to the wireless device is known as the downlink. The separation of uplink and downlink transmissions may be achieved by employing a duplexing technique. Example duplexing techniques include frequency division duplexing (FDD), time division duplexing (TDD) or a combination of FDD and TDD.</p><p id="p-0051" num="0050">In this disclosure, the term wireless device may refer to a device that communicates with a network entity or another device using wireless communication techniques. The wireless device may be a mobile device or a non-mobile (e.g., fixed) device. Examples of the wireless device include cellular phone, smart phone, tablet, laptop computer, wearable device (e.g., smart watch, smart shoe, fitness trackers, smart clothing, etc.), wireless sensor, wireless meter, extended reality (XR) devices including augmented reality (AR) and virtual reality (VR) devices, Internet of Things (IoT) device, vehicle to vehicle communications device, road-side units (RSU), automobile, relay node or any combination thereof. In some examples, the wireless device (e.g., a smart phone, tablet, etc.) may have an interface (e.g., a graphical user interface (GUI)) for configuration by an end user. In some examples, the wireless device (e.g., a wireless sensor device, etc.) may not have an interface for configuration by an end user. The wireless device may be referred to as a user equipment (UE), a mobile station (MS), a subscriber unit, a handset, an access terminal, a user terminal, a wireless transmit and receive unit (WTRU) and/or other terminology.</p><p id="p-0052" num="0051">The at least one wireless device may communicate with at least one base station in the RAN <b>104</b>. In this disclosure, the term base station may encompass terminologies associated with various RATs. For example, a base station may be referred to as a Node B in a 3G cellular system such as Universal Mobile Telecommunication Systems (UMTS), an evolved Node B (eNB) in a 4G cellular system such as evolved universal terrestrial radio access (E-UTRA), a next generation eNB (ng-eNB), a Next Generation Node B (gNB) in NR and/or a 5G system, an access point (AP) in Wi-Fi and/or other wireless local area networks. A base station may be referred to as a remote radio head (RRH), a baseband unit (BBU) in connection with one or more RRHs, a repeater or relay for coverage extension and/or any combination thereof. In some examples, all protocol layers of a base station may be implemented in one unit. In some examples, some of the protocol layers (e.g., upper layers) of the base station may be implemented in a first unit (e.g., a central unit (CU)) and some other protocol layer (e.g., lower layers) may be implemented in one or more second units (e.g., distributed units (DUs)).</p><p id="p-0053" num="0052">A base station in the RAN <b>104</b> includes one or more antennas to communicate with the at least one wireless device. The base station may communicate with the at least one wireless device using radio frequency (RF) transmissions and receptions via RF transceivers. The base station antennas may control one or more cells (or sectors). The size and/or radio coverage area of a cell may depend on the range that transmissions by a wireless device can be successfully received by the base station when the wireless device transmits using the RF frequency of the cell. The base station may be associated with cells of various sizes. At a given location, the wireless device may be in coverage area of a first cell of the base station and may not be in coverage area of a second cell of the base station depending on the sizes of the first cell and the second cell.</p><p id="p-0054" num="0053">A base station in the RAN <b>104</b> may have various implementations. For example, a base station may be implemented by connecting a BBU (or a BBU pool) coupled to one or more RRHs and/or one or more relay nodes to extend the cell coverage. The BBU pool may be located at a centralized site like a cloud or data center. The BBU pool may be connected to a plurality of RRHs that control a plurality of cells. The combination of BBU with the one or more RRHs may be referred to as a centralized or cloud RAN (C-RAN) architecture. In some implementations, the BBU functions may be implemented on virtual machines (VMs) on servers at a centralized location. This architecture may be referred to as virtual RAN (vRAN). All, most or a portion of the protocol layer functions (e.g., all or portions of physical layer, medium access control (MAC) layer and/or higher layers) may be implemented at the BBU pool and the processed data may be transmitted to the RRHs for further processing and/or RF transmission. The links between the BBU pool and the RRHs may be referred to as fronthaul.</p><p id="p-0055" num="0054">In some deployment scenarios, the RAN <b>104</b> may include macrocell base stations with high transmission power levels and large coverage areas. In other deployment scenarios, the RAN <b>104</b> may include base stations that employ different transmission power levels and/or have cells with different coverage areas. For example, some base station may be macrocell base stations with high transmission powers and/or large coverage areas and other base station may be small cell base stations with comparatively smaller transmission powers and/or coverage areas. In some deployment scenarios, a small cell base station may have coverage that is within or has overlap with coverage area of a macrocell base station. A wireless device may communicate with the macrocell base station while within the coverage area of the macrocell base station. For additional capacity, the wireless device may communicate with both the macrocell base station and the small cell base station while in the overlapped coverage area of the macrocell base station and the small cell base station. Depending on their coverage areas, a small cell base station may be referred to as a microcell base station, a picocell base station, a femtocell base station or a home base station.</p><p id="p-0056" num="0055">Different standard development organizations (SDOs) have specified, or may specify in future, mobile communications systems that have similar characteristics as the mobile communications system <b>100</b> of <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>. For example, the Third-Generation Partnership Project (3GPP) is a group of SDOs that provides specifications that define 3GPP technologies for mobile communications systems that are akin to the mobile communications system <b>100</b>. The 3GPP has developed specifications for third generation (3G) mobile networks, fourth generation (4G) mobile networks and fifth generation (5G) mobile networks. The 3G, 4G and 5G networks are also known as Universal Mobile Telecommunications System (UMTS), Long Term Evolution (LTE) and 5G system (5GS), respectively. In this disclosure, embodiments are described with respect to the RAN implemented in a 3GPP 5G mobile network that is also referred to as next generation RAN (NG-RAN). The embodiments may also be implemented in other mobile communications systems such as 3G or 4G mobile networks or mobile networks that may be standardized in future such as sixth generation (6G) mobile networks or mobile networks that are implemented by standards bodies other than 3GPP. The NG-RAN may be based on a new RAT known as new radio (NR) and/or other radio access technologies such as LTE and/or non-3GPP RATs.</p><p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. <b>1</b>B</figref> shows an example of a mobile communications system <b>110</b> in accordance with several of various embodiments of the present disclosure. The mobile communications system <b>110</b> of <figref idref="DRAWINGS">FIG. <b>1</b>B</figref> is an example of a 5G mobile network and includes a 5G CN (5G-CN) <b>130</b>, an NG-RAN <b>120</b> and UEs (collectively <b>112</b> and individually UE <b>112</b>A and UE <b>112</b>B). The 5G-CN <b>130</b>, the NG-RAN <b>120</b> and the UEs <b>112</b> of <figref idref="DRAWINGS">FIG. <b>1</b>B</figref> operate substantially alike the CN <b>106</b>, the RAN <b>104</b> and the at least one wireless device <b>102</b>, respectively, as described for <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>.</p><p id="p-0058" num="0057">The 5G-CN <b>130</b> of <figref idref="DRAWINGS">FIG. <b>1</b>B</figref> connects the NG-RAN <b>120</b> to one or more external networks (e.g., one or more data networks such as the Internet) and is responsible for functions such as authentication, charging and end-to-end connection establishment. The 5G-CN has new enhancements compared to previous generations of CNs (e.g., evolved packet core (EPC) in the 4G networks) including service-based architecture, support for network slicing and control plane/user plane split. The service-based architecture of the 5G-CN provides a modular framework based on service and functionalities provided by the core network wherein a set of network functions are connected via service-based interfaces. The network slicing enables multiplexing of independent logical networks (e.g., network slices) on the same physical network infrastructure. For example, a network slice may be for mobile broadband applications with full mobility support and a different network slice may be for non-mobile latency-critical applications such as industry automation. The control plane/user plane split enables independent scaling of the control plane and the user plane. For example, the control plane capacity may be increased without affecting the user plane of the network.</p><p id="p-0059" num="0058">The 5G-CN <b>130</b> of <figref idref="DRAWINGS">FIG. <b>1</b>B</figref> includes an access and mobility management function (AMF) <b>132</b> and a user plane function (UPF) <b>134</b>. The AMF <b>132</b> may support termination of non-access stratum (NAS) signaling, NAS signaling security such as ciphering and integrity protection, inter-3GPP access network mobility, registration management, connection management, mobility management, access authentication and authorization and security context management. The NAS is a functional layer between a UE and the CN and the access stratum (AS) is a functional layer between the UE and the RAN. The UPF <b>134</b> may serve as an interconnect point between the NG-RAN and an external data network. The UPF may support packet routing and forwarding, packet inspection and Quality of Service (QoS) handling and packet filtering. The UPF may further act as a Protocol Data Unit (PDU) session anchor point for mobility within and between RATs.</p><p id="p-0060" num="0059">The 5G-CN <b>130</b> may include additional network functions (not shown in <figref idref="DRAWINGS">FIG. <b>1</b>B</figref>) such as one or more Session Management Functions (SMFs), a Policy Control Function (PCF), a Network Exposure Function (NEF), a Unified Data Management (UDM), an Application Function (AF), and/or an Authentication Server Function (AUSF). These network functions along with the AMF <b>132</b> and UPF <b>134</b> enable a service-based architecture for the 5G-CN.</p><p id="p-0061" num="0060">The NG-RAN <b>120</b> may operate between the UEs <b>112</b> and the 5G-CN <b>130</b> and may implement one or more RATs. The NG-RAN <b>120</b> may include one or more gNBs (e.g., gNB <b>122</b>A or gNB <b>122</b>B or collectively gNBs <b>122</b>) and/or one or more ng-eNBs (e.g., ng-eNB <b>124</b>A or ng-eNB <b>124</b>B or collectively ng-eNB s <b>124</b>). The general terminology for gNB s <b>122</b> and/or an ng-eNBs <b>124</b> is a base station and may be used interchangeably in this disclosure. The gNBs <b>122</b> and the ng-eNBs <b>124</b> may include one or more antennas to communicate with the UEs <b>112</b>. The one or more antennas of the gNB s <b>122</b> or ng-eNBs <b>124</b> may control one or more cells (or sectors) that provide radio coverage for the UEs <b>112</b>.</p><p id="p-0062" num="0061">A gNB and/or an ng-eNB of <figref idref="DRAWINGS">FIG. <b>1</b>B</figref> may be connected to the 5G-CN <b>130</b> using an NG interface. A gNB and/or an ng-eNB may be connected with other gNBs and/or ng-eNBs using an Xn interface. The NG or the Xn interfaces are logical connections that may be established using an underlying transport network. The interface between a UE and a gNB or between a UE and an ng-eNBs may be referred to as the Uu interface. An interface (e.g., Uu, NG or Xn) may be established by using a protocol stack that enables data and control signaling exchange between entities in the mobile communications system of <figref idref="DRAWINGS">FIG. <b>1</b>B</figref>. When a protocol stack is used for transmission of user data, the protocol stack may be referred to as user plane protocol stack. When a protocol stack is used for transmission of control signaling, the protocol stack may be referred to as control plane protocol stack. Some protocol layer may be used in both of the user plane protocol stack and the control plane protocol stack while other protocol layers may be specific to the user plane or control plane.</p><p id="p-0063" num="0062">The NG interface of <figref idref="DRAWINGS">FIG. <b>1</b>B</figref> may include an NG-User plane (NG-U) interface between a gNB and the UPF <b>134</b> (or an ng-eNB and the UPF <b>134</b>) and an NG-Control plane (NG-C) interface between a gNB and the AMF <b>132</b> (or an ng-eNB and the AMF <b>132</b>). The NG-U interface may provide non-guaranteed delivery of user plane PDUs between a gNB and the UPF or an ng-eNB and the UPF. The NG-C interface may provide services such as NG interface management, UE context management, UE mobility management, transport of NAS messages, paging, PDU session management, configuration transfer and/or warning message transmission.</p><p id="p-0064" num="0063">The UEs <b>112</b> and a gNB may be connected using the Uu interface and using the NR user plane and control plane protocol stack. The UEs <b>112</b> and an ng-eNB may be connected using the Uu interface using the LTE user plane and control plane protocol stack.</p><p id="p-0065" num="0064">In the example mobile communications system of <figref idref="DRAWINGS">FIG. <b>1</b>B</figref>, a 5G-CN is connected to a RAN comprised of 4G LTE and/or 5G NR RATs. In other example mobile communications systems, a RAN based on the 5G NR RAT may be connected to a 4G CN (e.g., EPC). For example, earlier releases of 5G standards may support a non-standalone mode of operation where a NR based RAN is connected to the 4G EPC. In an example non-standalone mode, a UE may be connected to both a 5G NR gNB and a 4G LTE eNB (e.g., a ng-eNB) and the control plane functionalities (such as initial access, paging and mobility) may be provided through the 4G LTE eNB. In a standalone of operation, the 5G NR gNB is connected to a 5G-CN and the user plane and the control plane functionalities are provided by the 5G NR gNB.</p><p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> shows an example of the protocol stack for the user plan of an NR Uu interface in accordance with several of various embodiments of the present disclosure. The user plane protocol stack comprises five protocol layers that terminate at the UE <b>200</b> and the gNB <b>210</b>. The five protocol layers, as shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, include physical (PHY) layer referred to as PHY <b>201</b> at the UE <b>200</b> and PHY <b>211</b> at the gNB <b>210</b>, medium access control (MAC) layer referred to as MAC <b>202</b> at the UE <b>200</b> and MAC <b>212</b> at the gNB <b>210</b>, radio link control (RLC) layer referred to as RLC <b>203</b> at the UE <b>200</b> and RLC <b>213</b> at the gNB <b>210</b>, packet data convergence protocol (PDCP) layer referred to as PDCP <b>204</b> at the UE <b>200</b> and PDCP <b>214</b> at the gNB <b>210</b>, and service data application protocol (SDAP) layer referred to as SDAP <b>205</b> at the UE <b>200</b> and SDAP <b>215</b> at the gNB <b>210</b>. The PHY layer, also known as layer <b>1</b> (L1), offers transport services to higher layers. The other four layers of the protocol stack (MAC, RLC, PDCP and SDAP) are collectively known as layer <b>2</b> (L2).</p><p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. <b>2</b>B</figref> shows an example of the protocol stack for the control plan of an NR Uu interface in accordance with several of various embodiments of the present disclosure. Some of the protocol layers (PHY, MAC, RLC and PDCP) are common between the user plane protocol stack shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> and the control plan protocol stack. The control plane protocol stack also includes the RRC layer, referred to RRC <b>206</b> at the UE <b>200</b> and RRC <b>216</b> at the gNB <b>210</b>, that also terminates at the UE <b>200</b> and the gNB <b>210</b>. In addition, the control plane protocol stack includes the NAS layer that terminates at the UE <b>200</b> and the AMF <b>220</b>. In <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>, the NAS layer is referred to as NAS <b>207</b> at the UE <b>200</b> and NAS <b>227</b> at the AMF <b>220</b>.</p><p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows example functions and services offered to other layers by a layer in the NR user plane protocol stack of <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> in accordance with several of various embodiments of the present disclosure. For example, the SDAP layer of <figref idref="DRAWINGS">FIG. <b>3</b></figref> (shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> as SDAP <b>205</b> at the UE side and SDAP <b>215</b> at the gNB side) may perform mapping and de-mapping of QoS flows to data radio bearers. The mapping and de-mapping may be based on QoS (e.g., delay, throughput, jitter, error rate, etc.) associated with a QoS flow. A QoS flow may be a QoS differentiation granularity for a PDU session which is a logical connection between a UE <b>200</b> and a data network. A PDU session may contain one or more QoS flows. The functions and services of the SDAP layer include mapping and de-mapping between one or more QoS flows and one or more data radio bearers. The SDAP layer may also mark the uplink and/or downlink packets with a QoS flow ID (QFI).</p><p id="p-0069" num="0068">The PDCP layer of <figref idref="DRAWINGS">FIG. <b>3</b></figref> (shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> as PDCP <b>204</b> at the UE side and PDCP <b>214</b> at the gNB side) may perform header compression and decompression (e.g., using Robust Header Compression (ROHC) protocol) to reduce the protocol header overhead, ciphering and deciphering and integrity protection and verification to enhance the security over the air interface, reordering and in-order delivery of packets and discarding of duplicate packets. A UE may be configured with one PDCP entity per bearer.</p><p id="p-0070" num="0069">In an example scenario not shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, a UE may be configured with dual connectivity and may connect to two different cell groups provided by two different base stations. For example, a base station of the two base stations may be referred to as a master base station and a cell group provided by the master base station may be referred to as a master cell group (MCG). The other base station of the two base stations may be referred to as a secondary base station and the cell group provided by the secondary base station may be referred to as a secondary cell group (SCG). A bearer may be configured for the UE as a split bearer that may be handled by the two different cell groups. The PDCP layer may perform routing of packets corresponding to a split bearer to and/or from RLC channels associated with the cell groups.</p><p id="p-0071" num="0070">In an example scenario not shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, a bearer of the UE may be configured (e.g., with control signaling) with PDCP packet duplication. A bearer configured with PDCP duplication may be mapped to a plurality of RLC channels each corresponding to different one or more cells. The PDCP layer may duplicate packets of the bearer configured with PDCP duplication and the duplicated packets may be mapped to the different RLC channels. With PDCP packet duplication, the likelihood of correct reception of packets increases thereby enabling higher reliability.</p><p id="p-0072" num="0071">The RLC layer of <figref idref="DRAWINGS">FIG. <b>3</b></figref> (shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> as RLC <b>203</b> at the UE side and RLC <b>213</b> at the gNB side) provides service to upper layers in the form of RLC channels. The RLC layer may include three transmission modes: transparent mode (TM), Unacknowledged mode (UM) and Acknowledged mode (AM). The RLC layer may perform error correction through automatic repeat request (ARQ) for the AM transmission mode, segmentation of RLC service data units (SDUs) for the AM and UM transmission modes and re-segmentation of RLC SDUs for AM transmission mode, duplicate detection for the AM transmission mode, RLC SDU discard for the AM and UM transmission modes, etc. The UE may be configured with one RLC entity per RLC channel.</p><p id="p-0073" num="0072">The MAC layer of <figref idref="DRAWINGS">FIG. <b>3</b></figref> (shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> as MAC <b>202</b> at the UE side and MAC <b>212</b> at the gNB side) provides services to the RLC layer in form of logical channels. The MAC layer may perform mapping between logical channels and transport channels, multiplexing/demultiplexing of MAC SDUs belonging to one or more logical channels into/from transport blocks (TBs) delivered to/from the physical layer on transport channels, reporting of scheduling information, error correction through hybrid automatic repeat request (HARQ), priority handling between UEs by means of dynamic scheduling, priority handling between logical channels of one UE by means of logical channel prioritization and/or padding. In case of carrier aggregation, a MAC entity may comprise one HARQ entity per cell. A MAC entity may support multiple numerologies, transmission timings and cells. The control signaling may configure logical channels with mapping restrictions. The mapping restrictions in logical channel prioritization may control the numerology(ies), cell(s), and/or transmission timing(s)/duration(s) that a logical channel may use.</p><p id="p-0074" num="0073">The PHY layer of <figref idref="DRAWINGS">FIG. <b>3</b></figref> (shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> as PHY <b>201</b> at the UE side and PHY <b>211</b> at the gNB side) provides transport services to the MAC layer in form of transport channels. The physical layer may handle coding/decoding, HARQ soft combining, rate matching of a coded transport channel to physical channels, mapping of coded transport channels to physical channels, modulation and demodulation of physical channels, frequency and time synchronization, radio characteristics measurements and indication to higher layers, RF processing, and mapping to antennas and radio resources.</p><p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows example processing of packets at different protocol layers in accordance with several of various embodiments of the present disclosure. In this example, three Internet Protocol (IP) packets that are processed by the different layers of the NR protocol stack. The term SDU shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> is the data unit that is entered from/to a higher layer. In contrast, a protocol data unit (PDU) is the data unit that is entered to/from a lower layer. The flow of packets in <figref idref="DRAWINGS">FIG. <b>4</b></figref> is for downlink. An uplink data flow through layers of the NR protocol stack is similar to <figref idref="DRAWINGS">FIG. <b>4</b></figref>. In this example, the two leftmost IP packets are mapped by the SDAP layer (shown as SDAP <b>205</b> and SDAP <b>215</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>) to radio bearer <b>402</b> and the rightmost packet is mapped by the SDAP layer to the radio bearer <b>404</b>. The SDAP layer adds SDAP headers to the IP packets which are entered into the PDCP layer as PDCP SDUs. The PDCP layer is shown as PDCP <b>204</b> and PDCP <b>214</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>. The PDCP layer adds the PDCP headers to the PDCP SDUs which are entered into the RLC layer as RLC SDUs. The RLC layer is shown as RLC <b>203</b> and RLC <b>213</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>. An RLC SDU may be segmented at the RLC layer. The RLC layer adds RLC headers to the RLC SDUs after segmentation (if segmented) which are entered into the MAC layer as MAC SDUs. The MAC layer adds the MAC headers to the MAC SDUs and multiplexes one or more MAC SDUs to form a PHY SDU (also referred to as a transport block (TB) or a MAC PDU).</p><p id="p-0076" num="0075">In <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the MAC SDUs are multiplexed to form a transport block. The MAC layer may multiplex one or more MAC control elements (MAC CEs) with zero or more MAC SDUs to form a transport block. The MAC CEs may also be referred to as MAC commands or MAC layer control signaling and may be used for in-band control signaling. The MAC CEs may be transmitted by a base station to a UE (e.g., downlink MAC CEs) or by a UE to a base station (e.g., uplink MAC CEs). The MAC CEs may be used for transmission of information useful by a gNB for scheduling (e.g., buffer status report (BSR) or power headroom report (PHR)), activation/deactivation of one or more cells, activation/deactivation of configured radio resources for or one or more processes, activation/deactivation of one or more processes, indication of parameters used in one or more processes, etc.</p><p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref> show example mapping between logical channels, transport channels and physical channels for downlink and uplink, respectively in accordance with several of various embodiments of the present disclosure. As discussed before, the MAC layer provides services to higher layer in the form of logical channels. A logical channel may be classified as a control channel, if used for transmission of control and/or configuration information, or a traffic channel if used for transmission of user data. Example logical channels in NR include Broadcast Control Channel (BCCH) used for transmission of broadcast system control information, Paging Control Channel (PCCH) used for carrying paging messages for wireless devices with unknown locations, Common Control Channel (CCCH) used for transmission of control information between UEs and network and for UEs that have no RRC connection with the network, Dedicated Control Channel (DCCH) which is a point-to-point bi-directional channel for transmission of dedicated control information between a UE that has an RRC connection and the network and Dedicated Traffic Channel (DTCH) which is point-to-point channel, dedicated to one UE, for the transfer of user information and may exist in both uplink and downlink.</p><p id="p-0078" num="0077">As discussed before, the PHY layer provides services to the MAC layer and higher layers in the form of transport channels. Example transport channels in NR include Broadcast Channel (BCH) used for transmission of part of the BCCH referred to as master information block (MIB), Downlink Shared Channel (DL-SCH) used for transmission of data (e.g., from DTCH in downlink) and various control information (e.g., from DCCH and CCCH in downlink and part of the BCCH that is not mapped to the BCH), Uplink Shared Channel (UL-SCH) used for transmission of uplink data (e.g., from DTCH in uplink) and control information (e.g., from CCCH and DCCH in uplink) and Paging Channel (PCH) used for transmission of paging information from the PCCH. In addition, Random Access Channel (RACH) is a transport channel used for transmission of random access preambles. The RACH does not carry a transport block. Data on a transport channel (except RACH) may be organized in transport blocks, wherein One or more transport blocks may be transmitted in a transmission time interval (TTI).</p><p id="p-0079" num="0078">The PHY layer may map the transport channels to physical channels. A physical channel may correspond to time-frequency resources that are used for transmission of information from one or more transport channels. In addition to mapping transport channels to physical channels, the physical layer may generate control information (e.g., downlink control information (DCI) or uplink control information (UCI)) that may be carried by the physical channels. Example DCI include scheduling information (e.g., downlink assignments and uplink grants), request for channel state information report, power control command, etc. Example UCI include HARQ feedback indicating correct or incorrect reception of downlink transport blocks, channel state information report, scheduling request, etc. Example physical channels in NR include a Physical Broadcast Channel (PBCH) for carrying information from the BCH, a Physical Downlink Shared Channel (PDSCH) for carrying information form the PCH and the DL-SCH, a Physical Downlink Control Channel (PDCCH) for carrying DCI, a Physical Uplink Shared Channel (PUSCH) for carrying information from the UL-SCH and/or UCI, a Physical Uplink Control Channel (PUCCH) for carrying UCI and Physical Random Access Channel (PRACH) for transmission of RACH (e.g., random access preamble).</p><p id="p-0080" num="0079">The PHY layer may also generate physical signals that are not originated from higher layers. As shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>, example downlink physical signals include Demodulation Reference Signal (DM-RS), Phase Tracking Reference Signal (PT-RS), Channel State Information Reference Signal (CSI-RS), Primary Synchronization Signal (PSS) and Secondary Synchronization Signal (SSS). As shown in <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, example uplink physical signals include DM-RS, PT-RS and sounding reference signal (SRS).</p><p id="p-0081" num="0080">As indicated earlier, some of the protocol layers (PHY, MAC, RLC and PDCP) of the control plane of an NR Uu interface, are common between the user plane protocol stack (as shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>) and the control plane protocol stack (as shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>). In addition to PHY, MAC, RLC and PDCP, the control plane protocol stack includes the RRC protocol layer and the NAS protocol layer.</p><p id="p-0082" num="0081">The NAS layer, as shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>, terminates at the UE <b>200</b> and the AMF <b>220</b> entity of the 5G-C <b>130</b>. The NAS layer is used for core network related functions and signaling including registration, authentication, location update and session management. The NAS layer uses services from the AS of the Uu interface to transmit the NAS messages.</p><p id="p-0083" num="0082">The RRC layer, as shown in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>, operates between the UE <b>200</b> and the gNB <b>210</b> (more generally NG-RAN <b>120</b>) and may provide services and functions such as broadcast of system information (SI) related to AS and NAS as well as paging initiated by the 5G-C <b>130</b> or NG-RAN <b>120</b>. In addition, the RRC layer is responsible for establishment, maintenance and release of an RRC connection between the UE <b>200</b> and the NG-RAN <b>120</b>, carrier aggregation configuration (e.g., addition, modification and release), dual connectivity configuration (e.g., addition, modification and release), security related functions, radio bearer configuration/maintenance and release, mobility management (e.g., maintenance and context transfer), UE cell selection and reselection, inter-RAT mobility, QoS management functions, UE measurement reporting and control, radio link failure (RLF) detection and NAS message transfer. The RRC layer uses services from PHY, MAC, RLC and PDCP layers to transmit RRC messages using signaling radio bearers (SRBs). The SRBs are mapped to CCCH logical channel during connection establishment and to DCCH logical channel after connection establishment.</p><p id="p-0084" num="0083"><figref idref="DRAWINGS">FIG. <b>6</b></figref> shows example physical layer processes for signal transmission in accordance with several of various embodiments of the present disclosure. Data and/or control streams from MAC layer may be encoded/decoded to offer transport and control services over the radio transmission link. For example, one or more (e.g., two as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>) transport blocks may be received from the MAC layer for transmission via a physical channel (e.g., a physical downlink shared channel or a physical uplink shared channel). A cyclic redundancy check (CRC) may be calculated and attached to a transport block in the physical layer. The CRC calculation may be based on one or more cyclic generator polynomials. The CRC may be used by the receiver for error detection. Following the transport block CRC attachment, a low-density parity check (LDPC) base graph selection may be performed. In example embodiments, two LDPC base graphs may be used wherein a first LDPC base graph may be optimized for small transport blocks and a second LDPC base graph may be optimized for comparatively larger transport blocks.</p><p id="p-0085" num="0084">The transport block may be segmented into code blocks and code block CRC may be calculated and attached to a code block. A code block may be LDPC coded and the LDPC coded blocks may be individually rate matched. The code blocks may be concatenated to create one or more codewords. The contents of a codeword may be scrambled and modulated to generate a block of complex-valued modulation symbols. The modulation symbols may be mapped to a plurality of transmission layers (e.g., multiple-input multiple-output (MIMO) layers) and the transmission layers may be subject to transform precoding and/or precoding. The precoded complex-valued symbols may be mapped to radio resources (e.g., resource elements). The signal generator block may create a baseband signal and up-convert the baseband signal to a carrier frequency for transmission via antenna ports. The signal generator block may employ mixers, filters and/or other radio frequency (RF) components prior to transmission via the antennas. The functions and blocks in <figref idref="DRAWINGS">FIG. <b>6</b></figref> are illustrated as examples and other mechanisms may be implemented in various embodiments.</p><p id="p-0086" num="0085"><figref idref="DRAWINGS">FIG. <b>7</b></figref> shows examples of RRC states and RRC state transitions at a UE in accordance with several of various embodiments of the present disclosure. A UE may be in one of three RRC states: RRC_IDLE <b>702</b>, RRC INACTIVE <b>704</b> and RRC_CONNECTED <b>706</b>. In RRC_IDLE <b>702</b> state, no RRC context (e.g., parameters needed for communications between the UE and the network) may be established for the UE in the RAN. In RRC_IDLE <b>702</b> state, no data transfer between the UE and the network may take place and uplink synchronization is not maintained. The wireless device may sleep most of the time and may wake up periodically to receive paging messages. The uplink transmission of the UE may be based on a random access process and to enable transition to the RRC_CONNECTED <b>706</b> state. The mobility in RRC_IDLE <b>702</b> state is through a cell reselection procedure where the UE camps on a cell based on one or more criteria including signal strength that is determined based on the UE measurements.</p><p id="p-0087" num="0086">In RRC_CONNECTED <b>706</b> state, the RRC context is established and both the UE and the RAN have necessary parameters to enable communications between the UE and the network. In the RRC_CONNECTED <b>706</b> state, the UE is configured with an identity known as a Cell Radio Network Temporary Identifier (C-RNTI) that is used for signaling purposes (e.g., uplink and downlink scheduling, etc.) between the UE and the RAN. The wireless device mobility in the RRC_CONNECTED <b>706</b> state is managed by the RAN. The wireless device provides neighboring cells and/or current serving cell measurements to the network and the network may make hand over decisions. Based on the wireless device measurements, the current serving base station may send a handover request message to a neighboring base station and may send a handover command to the wireless device to handover to a cell of the neighboring base station. The transition of the wireless device from the RRC_IDLE <b>702</b> state to the RRC_CONNECTED <b>706</b> state or from the RRC_CONNECTED <b>706</b> state to the RRC_IDLE <b>702</b> state may be based on connection establishment and connection release procedures (shown collectively as connection establishment/release <b>710</b> in <figref idref="DRAWINGS">FIG. <b>7</b></figref>).</p><p id="p-0088" num="0087">To enable a faster transition to the RRC_CONNECTED <b>706</b> state (e.g., compared to transition from RRC_IDLE <b>702</b> state to RRC_CONNECTED <b>706</b> state), an RRC_INACTIVE <b>704</b> state is used for an NR UE wherein, the RRC context is kept at the UE and the RAN. The transition from the RRC_INACTIVE <b>704</b> state to the RRC_CONNECTED <b>706</b> state is handled by RAN without CN signaling. Similar to the RRC_IDLE <b>702</b> state, the mobility in RRC_INACTIVE <b>704</b> state is based on a cell reselection procedure without involvement from the network. The transition of the wireless device from the RRC_INACTIVE <b>704</b> state to the RRC_CONNECTED <b>706</b> state or from the RRC_CONNECTED <b>706</b> state to the RRC_INACTIVE <b>704</b> state may be based on connection resume and connection inactivation procedures (shown collectively as connection resume/inactivation <b>712</b> in <figref idref="DRAWINGS">FIG. <b>7</b></figref>). The transition of the wireless device from the RRC_INACTIVE <b>704</b> state to the RRC_IDLE <b>702</b> state may be based on a connection release <b>714</b> procedure as shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>.</p><p id="p-0089" num="0088">In NR, Orthogonal Frequency Division Multiplexing (OFDM), also called cyclic prefix OFDM (CP-OFDM), is the baseline transmission scheme in both downlink and uplink of NR and the Discrete Fourier Transform (DFT) spread OFDM (DFT-s-OFDM) is a complementary uplink transmission in addition to the baseline OFDM scheme. OFDM is multi-carrier transmission scheme wherein the transmission bandwidth may be composed of several narrowband sub-carriers. The subcarriers are modulated by the complex valued OFDM modulation symbols resulting in an OFDM signal. The complex valued OFDM modulation symbols are obtained by mapping, by a modulation mapper, the input data (e.g., binary digits) to different points of a modulation constellation diagram. The modulation constellation diagram depends on the modulation scheme. NR may use different types of modulation schemes including Binary Phase Shift Keying (BPSK), n/2-BPSK, Quadrature Phase Shift Keying (QPSK), 16 Quadrature Amplitude Modulation (16QAM), 64QAM and 256QAM. Different and/or higher order modulation schemes (e.g., M-QAM in general) may be used. An OFDM signal with N subcarriers may be generated by processing N subcarriers in parallel for example by using Inverse Fast Fourier Transform (IFFT) processing. The OFDM receiver may use FFT processing to recover the transmitted OFDM modulation symbols. The subcarrier spacing of subcarriers in an OFDM signal is inversely proportional to an OFDM modulation symbol duration. For example, for a 15 KHz subcarrier spacing, duration of an OFDM signal is nearly 66.7 &#x3bc;s. To enhance the robustness of OFDM transmission in time dispersive channels, a cyclic prefix (CP) may be inserted at the beginning of an OFDM symbol. For example, the last part of an OFDM symbol may be copied and inserted at the beginning of an OFDM symbol. The CP insertion enhanced the OFDM transmission scheme by preserving subcarrier orthogonality in time dispersive channels.</p><p id="p-0090" num="0089">In NR, different numerologies may be used for OFDM transmission. A numerology of OFDM transmission may indicate a subcarrier spacing and a CP duration for the OFDM transmission. For example, a subcarrier spacing in NR may generally be a multiple of 15 KHz and expressed as &#x394;f=2<sup>&#x3bc;</sup>. 15 KHz (&#x3bc;=0, 1, 2, . . . ). Example subcarrier spacings used in NR include 15 KHz (&#x3bc;=0), 30 KHz (&#x3bc;=1), 60 KHz (&#x3bc;=2), 120 KHz (&#x3bc;=3) and 240 KHz (&#x3bc;=4). As discussed before, a duration of OFDM symbol is inversely proportional to the subcarrier spacing and therefor OFDM symbol duration may depend on the numerology (e.g., the &#x3bc; value).</p><p id="p-0091" num="0090"><figref idref="DRAWINGS">FIG. <b>8</b></figref> shows an example time domain transmission structure in NR wherein OFDM symbols are grouped into slots, subframes and frames in accordance with several of various embodiments of the present disclosure. A slot is a group of N<sub>symb</sub><sup>slot </sup>OFDM symbols, wherein the N<sub>symb</sub><sup>slot </sup>may have a constant value (e.g., 14). Since different numerologies results in different OFDM symbol durations, duration of a slot may also depend on the numerology and may be variable. A subframe may have a duration of 1 ms and may be composed of one or more slots, the number of which may depend on the slot duration. The number of slots per subframe is therefore a function of &#x3bc; and may generally expressed as N<sub>slot</sub><sup>subframe,&#x3bc;</sup> and the number of symbols per subframe may be expressed as N<sub>symb</sub><sup>subframe,&#x3bc;</sup>=N<sub>symb</sub><sup>slot</sup>N<sub>slot</sub><sup>subframe,&#x3bc;</sup>. A frame may have a duration of 10 ms and may consist of 10 subframes. The number of slots per frame may depend on the numerology and therefore may be variable. The number of slots per frame may generally be expressed as N<sub>slot</sub><sup>frame,&#x3bc;</sup>.</p><p id="p-0092" num="0091">An antenna port may be defined as a logical entity such that channel characteristics over which a symbol on the antenna port is conveyed may be inferred from the channel characteristics over which another symbol on the same antenna port is conveyed. For example, for DM-RS associated with a PDSCH, the channel over which a PDSCH symbol on an antenna port is conveyed may be inferred from the channel over which a DM-RS symbol on the same antenna port is conveyed, for example, if the two symbols are within the same resource as the scheduled PDSCH and/or in the same slot and/or in the same precoding resource block group (PRG). For example, for DM-RS associated with a PDCCH, the channel over which a PDCCH symbol on an antenna port is conveyed may be inferred from the channel over which a DM-RS symbol on the same antenna port is conveyed if, for example, the two symbols are within resources for which the UE may assume the same precoding being used. For example, for DM-RS associated with a PBCH, the channel over which a PBCH symbol on one antenna port is conveyed may be inferred from the channel over which a DM-RS symbol on the same antenna port is conveyed if, for example, the two symbols are within a SS/PBCH block transmitted within the same slot, and with the same block index. The antenna port may be different from a physical antenna. An antenna port may be associated with an antenna port number and different physical channels may correspond to different ranges of antenna port numbers.</p><p id="p-0093" num="0092"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows an example of time-frequency resource grid in accordance with several of various embodiments of the present disclosure. The number of subcarriers in a carrier bandwidth may be based on the numerology of OFDM transmissions in the carrier. A resource element, corresponding to one symbol duration and one subcarrier, may be the smallest physical resource in the time-frequency grid. A resource element (RE) for antenna port p and subcarrier spacing configuration &#x3bc; may be uniquely identified by (k,l)<sub>p,&#x3bc;</sub> where k is the index of a subcarrier in the frequency domain and l may refer to the symbol position in the time domain relative to some reference point. A resource block may be defined as N<sub>SC</sub><sup>RB</sup>=12 subcarriers. Since subcarrier spacing depends on the numerology of OFDM transmission, the frequency domain span of a resource block may be variable and may depend on the numerology. For example, for a subcarrier spacing of 15 KHz (e.g., &#x3bc;=0), a resource block may be 180 KHz and for a subcarrier spacing of 30 KHz (e.g., &#x3bc;=1), a resource block may be 360 KHz.</p><p id="p-0094" num="0093">With large carrier bandwidths defined in NR and due to limited capabilities for some UEs (e.g., due to hardware limitations), a UE may not support an entire carrier bandwidth. Receiving on the full carrier bandwidth may imply high energy consumption. For example, transmitting downlink control channels on the full downlink carrier bandwidth may result in high power consumption for wide carrier bandwidths. NR may use a bandwidth adaptation procedure to dynamically adapt the transmit and receive bandwidths. The transmit and receive bandwidth of a UE on a cell may be smaller than the bandwidth of the cell and may be adjusted. For example, the width of the transmit and/or receive bandwidth may change (e.g., shrink during period of low activity to save power); the location of the transmit and/or receive bandwidth may move in the frequency domain (e.g., to increase scheduling flexibility); and the subcarrier spacing of the transmit or receive bandwidth may change (e.g., to allow different services). A subset of the cell bandwidth may be referred to as a Bandwidth Part (BWP) and bandwidth adaptation may be achieved by configuring the UE with one or more BWPs. The base station may configure a UE with a set of downlink BWPs and a set of uplink BWPs. A BWP may be characterized by a numerology (e.g., subcarrier spacing and cyclic prefix) and a set of consecutive resource blocks in the numerology of the BWP. One or more first BWPs of the one or more BWPs of the cell may be active at a time. An active BWP may be an active downlink BWP or an active uplink BWP.</p><p id="p-0095" num="0094"><figref idref="DRAWINGS">FIG. <b>10</b></figref> shows an example of bandwidth part adaptation and switching. In this example, three BWPs (BWP<sub>1 </sub><b>1004</b>, BWP<sub>2 </sub><b>1006</b> and BWP<sub>3 </sub><b>1008</b>) are configured for a UE on a carrier bandwidth. The BWP<sub>1 </sub>is configured with a bandwidth of 40 MHz and a numerology with subcarrier spacing of 15 KHz, the BWP<sub>2 </sub>is configured with a bandwidth of 10 MHz and a numerology with subcarrier spacing of 15 KHz and the BWP<sub>3 </sub>is configured with a bandwidth of 20 MHz and a subcarrier spacing of 60 KHz. The wireless device may switch from a first BWP (e.g., BWP<sub>1</sub>) to a second BWP (e.g., BWP<sub>2</sub>). An active BWP of the cell may change from the first BWP to the second BWP in response to the BWP switching.</p><p id="p-0096" num="0095">The BWP switching (e.g., BWP switching <b>1010</b>, BWP switching <b>1012</b>, BWP switching <b>1014</b>, or BWP switching <b>1016</b> in <figref idref="DRAWINGS">FIG. <b>10</b></figref>) may be based on a command from the base station. The command may be a DCI comprising scheduling information for the UE in the second BWP. In case of uplink BWP switching, the first BWP and the second BWP may be uplink BWPs and the scheduling information may be an uplink grant for uplink transmission via the second BWP. In case of downlink BWP switching, the first BWP and the second BWP may be downlink BWPs and the scheduling information may be a downlink assignment for downlink reception via the second BWP.</p><p id="p-0097" num="0096">The BWP switching (e.g., BWP switching <b>1010</b>, BWP switching <b>1012</b>, BWP switching <b>1014</b>, or BWP switching <b>1016</b> in <figref idref="DRAWINGS">FIG. <b>10</b></figref>) may be based on an expiry of a timer. The base station may configure a wireless device with a BWP inactivity timer and the wireless device may switch to a default BWP (e.g., default downlink BWP) based on the expiry of the BWP inactivity timer. The expiry of the BWP inactivity timer may be an indication of low activity on the current active downlink BWP. The base station may configure the wireless device with the default downlink BWP. If the base station does not configure the wireless device with the default BWP, the default BWP may be an initial downlink BWP. The initial active BWP may be the BWP that the wireless device receives scheduling information for remaining system information upon transition to an RRC_CONNECTED state.</p><p id="p-0098" num="0097">A wireless device may monitor a downlink control channel of a downlink BWP. For example, the UE may monitor a set of PDCCH candidates in configured monitoring occasions in one or more configured COntrol REsource SETs (CORESETs) according to the corresponding search space configurations. A search space configuration may define how/where to search for PDCCH candidates. For example, the search space configuration parameters may comprise a monitoring periodicity and offset parameter indicating the slots for monitoring the PDCCH candidates. The search space configuration parameters may further comprise a parameter indicating a first symbol with a slot within the slots determined for monitoring PDCCH candidates. A search space may be associated with one or more CORESETs and the search space configuration may indicate one or more identifiers of the one or more CORESETs. The search space configuration parameters may further indicate that whether the search space is a common search space or a UE-specific search space. A common search space may be monitored by a plurality of wireless devices and a UE-specific search space may be dedicated to a specific UE.</p><p id="p-0099" num="0098"><figref idref="DRAWINGS">FIG. <b>11</b>A</figref> shows example arrangements of carriers in carrier aggregation in accordance with several of various embodiments of the present disclosure. With carrier aggregation, multiple NR component carriers (CCs) may be aggregated. Downlink transmissions to a wireless device may take place simultaneously on the aggregated downlink CCs resulting in higher downlink data rates. Uplink transmissions from a wireless device may take place simultaneously on the aggregated uplink CCs resulting in higher uplink data rates. The component carriers in carrier aggregation may be on the same frequency band (e.g., intra-band carrier aggregation) or on different frequency bands (e.g., inter-band carrier aggregation). The component carriers may also be contiguous or non-contiguous. This results in three possible carrier aggregation scenarios, intra-band contiguous CA <b>1102</b>, intra-band non-contiguous CA <b>1104</b> and inter-band CA <b>1106</b> as shown in <figref idref="DRAWINGS">FIG. <b>11</b>A</figref>. Depending on the UE capability for carrier aggregation, a UE may transmit and/or receive on multiple carriers or for a UE that is not capable of carrier aggregation, the UE may transmit and/or receive on one component carrier at a time. In this disclosure, the carrier aggregation is described using the term cell and a carrier aggregation capable UE may transmit and/or receive via multiple cells.</p><p id="p-0100" num="0099">In carrier aggregation, a UE may be configured with multiple cells. A cell of the multiple cells configured for the UE may be referred to as a Primary Cell (PCell). The PCell may be the first cell that the UE is initially connected to. One or more other cells configured for the UE may be referred to as Secondary Cells (SCells). The base station may configure a UE with multiple SCells. The configured SCells may be deactivated upon configuration and the base station may dynamically activate or deactivate one or more of the configured SCells based on traffic and/or channel conditions. The base station may activate or deactivate configured SCells using a SCell Activation/Deactivation MAC CE. The SCell Activation/Deactivation MAC CE may comprise a bitmap, wherein each bit in the bitmap may correspond to a SCell and the value of the bit indicates an activation status or deactivation status of the SCell.</p><p id="p-0101" num="0100">An SCell may also be deactivated in response to expiry of a SCell deactivation timer of the SCell. The expiry of an SCell deactivation timer of an SCell may be an indication of low activity (e.g., low transmission or reception activity) on the SCell. The base station may configure the SCell with an SCell deactivation timer. The base station may not configure an SCell deactivation timer for an SCell that is configured with PUCCH (also referred to as a PUCCH SCell). The configuration of the SCell deactivation timer may be per configured SCell and different SCells may be configured with different SCell deactivation timer values. The SCell deactivation timer may be restarted based on one or more criteria including reception of downlink control information on the SCell indicating uplink grant or downlink assignment for the SCell or reception of downlink control information on a scheduling cell indicating uplink grant or downlink assignment for the SCell or transmission of a MAC PDU based on a configured uplink grant or reception of a configured downlink assignment.</p><p id="p-0102" num="0101">A PCell for a UE may be an SCell for another UE and a SCell for a UE may be PCell for another UE. The configuration of PCell may be UE-specific. One or more SCells of the multiple SCells configured for a UE may be configured as downlink-only SCells, e.g., may only be used for downlink reception and may not be used for uplink transmission. In case of self-scheduling, the base station may transmit signaling for uplink grants and/or downlink assignments on the same cell that the corresponding uplink or downlink transmission takes place. In case of cross-carrier scheduling, the base station may transmit signaling for uplink grants and/or downlink assignments on a cell different from the cell that the corresponding uplink or downlink transmission takes place.</p><p id="p-0103" num="0102"><figref idref="DRAWINGS">FIG. <b>11</b>B</figref> shows examples of uplink control channel groups in accordance with several of various embodiments of the present disclosure. A base station may configure a UE with multiple PUCCH groups wherein a PUCCH group comprises one or more cells. For example, as shown in <figref idref="DRAWINGS">FIG. <b>11</b>B</figref>, the base station may configure a UE with a primary PUCCH group <b>1114</b> and a secondary PUCCH group <b>1116</b>. The primary PUCCH group may comprise the PCell <b>1110</b> and one or more first SCells. First UCI corresponding to the PCell and the one or more first SCells of the primary PUCCH group may be transmitted by the PUCCH of the PCell. The first UCI may be, for example, HARQ feedback for downlink transmissions via downlink CCs of the PCell and the one or more first SCells. The secondary PUCCH group may comprise a PUCCH SCell and one or more second SCells. Second UCI corresponding to the PUCCH SCell and the one or more second SCells of the secondary PUCCH group may be transmitted by the PUCCH of the PUCCH SCell. The second UCI may be, for example, HARQ feedback for downlink transmissions via downlink CCs of the PUCCH SCell and the one or more second SCells.</p><p id="p-0104" num="0103"><figref idref="DRAWINGS">FIG. <b>12</b>A</figref>, <figref idref="DRAWINGS">FIG. <b>12</b>B</figref> and <figref idref="DRAWINGS">FIG. <b>12</b>C</figref> show example random access processes in accordance with several of various embodiments of the present disclosure. <figref idref="DRAWINGS">FIG. <b>12</b>A</figref> shows an example of four step contention-based random access (CBRA) procedure. The four-step CBRA procedure includes exchanging four messages between a UE and a base station. Msg1 may be for transmission (or retransmission) of a random access preamble by the wireless device to the base station. Msg2 may be the random access response (RAR) by the base station to the wireless device. Msg3 is the scheduled transmission based on an uplink grant indicated in Msg2 and Msg4 may be for contention resolution.</p><p id="p-0105" num="0104">The base station may transmit one or more RRC messages comprising configuration parameters of the random access parameters. The random access parameters may indicate radio resources (e.g., time-frequency resources) for transmission of the random access preamble (e.g., Msg1), configuration index, one or more parameters for determining the power of the random access preamble (e.g., a power ramping parameter, a preamble received target power, etc.), a parameter indicating maximum number of preamble transmission, RAR window for monitoring RAR, cell-specific random access parameters and UE specific random access parameters. The UE-specific random access parameters may indicate one or more PRACH occasions for random access preamble (e.g., Msg1) transmissions. The random access parameters may indicate association between the PRACH occasions and one or more reference signals (e.g., SSB or CSI-RS). The random access parameters may further indicate association between the random access preambles and one or more reference signals (e.g., SBB or CSI-RS). The UE may use one or more reference signals (e.g., SSB(s) or CSI-RS(s)) and may determine a random access preamble to use for Msg1 transmission based on the association between the random access preambles and the one or more reference signals. The UE may use one or more reference signals (e.g., SSB(s) or CSI-RS(s)) and may determine the PRACH occasion to use for Msg1 transmission based on the association between the PRACH occasions and the reference signals. The UE may perform a retransmission of the random access preamble if no response is received with the RAR window following the transmission of the preamble. UE may use a higher transmission power for retransmission of the preamble. UE may determine the higher transmission power of the preamble based on the power ramping parameter.</p><p id="p-0106" num="0105">Msg2 is for transmission of RAR by the base station. Msg2 may comprise a plurality of RARs corresponding to a plurality of random access preambles transmitted by a plurality of UEs. Msg2 may be associated with a random access temporary radio identifier (RA-RNTI) and may be received in a common search space of the UE. The RA-RNTI may be based on the PRACH occasion (e.g., time and frequency resources of a PRACH) in which a random access preamble is transmitted. RAR may comprise a timing advance command for uplink timing adjustment at the UE, an uplink grant for transmission of Msg3 and a temporary C-RNTI. In response to the successful reception of Msg2, the UE may transmit the Msg3. Msg3 and Msg4 may enable contention resolution in case of CBRA. In a CBRA, a plurality of UEs may transmit the same random access preamble and may consider the same RAR as being corresponding to them. UE may include a device identifier in Msg3 (e.g., a C-RNTI, temporary C-RNTI or other UE identity). Base station may transmit the Msg4 with a PDSCH and UE may assume that the contention resolution is successful in response to the PDSCH used for transmission of Msg4 being associated with the UE identifier included in Msg3.</p><p id="p-0107" num="0106"><figref idref="DRAWINGS">FIG. <b>12</b>B</figref> shows an example of a contention-free random access (CFRA) process. Msg 1 (random access preamble) and Msg 2 (random access response) in <figref idref="DRAWINGS">FIG. <b>12</b>B</figref> for CFRA may be analogous to Msg 1 and Msg 2 in <figref idref="DRAWINGS">FIG. <b>12</b>A</figref> for CBRA. In an example, the CFRA procedure may be initiated in response to a PDCCH order from a base station. The PDCCH order for initiating the CFRA procedure by the wireless device may be based on a DCI having a first format (e.g., format 1_0). The DCI for the PDCCH order may comprise a random access preamble index, an UL/SUL indicator indicating an uplink carrier of a cell (e.g., normal uplink carrier or supplementary uplink carrier) for transmission of the random access preamble, a SS/PBCH index indicating the SS/PBCH that may be used to determine a RACH occasion for PRACH transmission, a PRACH mask index indicating the RACH occasion associated with the SS/PBCH indicated by the SS/PBCH index for PRACH transmission, etc. In an example, the CFRA process may be started in response to a beam failure recovery process. The wireless device may start the CFRA for the beam failure recovery without a command (e.g., PDCCH order) from the base station and by using the wireless device dedicated resources.</p><p id="p-0108" num="0107"><figref idref="DRAWINGS">FIG. <b>12</b>C</figref> shows an example of a two-step random access process comprising two messages exchanged between a wireless device and a base station. Msg A may be transmitted by the wireless device to the base station and may comprise one or more transmissions of a preamble and/or one or more transmissions of a transport block. The transport block in Msg A and Msg 3 in <figref idref="DRAWINGS">FIG. <b>12</b>A</figref> may have similar and/or equivalent contents. The transport block of Msg A may comprise data and control information (e.g., SR, HARQ feedback, etc.). In response to the transmission of Msg A, the wireless device may receive Msg B from the base station. Msg B in <figref idref="DRAWINGS">FIG. <b>12</b>C</figref> and Msg 2 (e.g., RAR) illustrated in <figref idref="DRAWINGS">FIGS. <b>12</b>A and <b>12</b>B</figref> may have similar and/or equivalent content.</p><p id="p-0109" num="0108">The base station may periodically transmit synchronization signals (SSs), e.g., primary SS (PSS) and secondary SS (SSS) along with PBCH on each NR cell. The PSS/SSS together with PBCH is jointly referred to as a SS/PBCH block. The SS/PBCH block enables a wireless device to find a cell when entering to the mobile communications network or find new cells when moving within the network. The SS/PBCH block spans four OFDM symbols in time domain. The PSS is transmitted in the first symbol and occupies 127 subcarriers in frequency domain. The SSS is transmitted in the third OFDM symbol and occupies the same 127 subcarriers as the PSS. There are eight and nine empty subcarriers on each side of the SSS. The PBCH is transmitted on the second OFDM symbol occupying 240 subcarriers, the third OFDM symbol occupying 48 subcarriers on each side of the SSS, and on the fourth OFDM symbol occupying 240 subcarriers. Some of the PBCH resources indicated above may be used for transmission of the demodulation reference signal (DMRS) for coherent demodulation of the PBCH. The SS/PBCH block is transmitted periodically with a period ranging from 5 ms to 160 ms. For initial cell search or for cell search during inactive/idle state, a wireless device may assume that that the SS/PBCH block is repeated at least every 20 ms.</p><p id="p-0110" num="0109">In NR, transmissions using of antenna arrays, with many antenna elements, and beamforming plays an important role specially in higher frequency bands. Beamforming enables higher capacity by increasing the signal strength (e.g., by focusing the signal energy in a specific direction) and by lowering the amount interference received at the wireless devices. The beamforming techniques may generally be divided to analog beamforming and digital beamforming techniques. With digital beamforming, signal processing for beamforming is carried out in the digital domain before digital-to-analog conversion and detailed control of both amplitude and phase of different antenna elements may be possible. With analog beamforming, the signal processing for beamforming is carried out in the analog domain and after the digital to analog conversion. The beamformed transmissions may be in one direction at a time. For example, the wireless devices that are in different directions relative to the base station may receive their downlink transmissions at different times. For analog receiver-side beamforming, the receiver may focus its receiver beam in one direction at a time.</p><p id="p-0111" num="0110">In NR, the base station may use beam sweeping for transmission of SS/PBCH blocks. The SS/PBCH blocks may be transmitted in different beams using time multiplexing. The set of SS/PBCH blocks that are transmitted in one beam sweep may be referred to as a SS/PBCH block set. The period of PBCH/SSB block transmission may be a time duration between a SS/PBCH block transmission in a beam and the next SS/PBCH block transmission in the same beam. The period of SS/PBCH block is, therefore, also the period of the SS/PBCH block set.</p><p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. <b>13</b>A</figref> shows example time and frequency structure of SS/PBCH blocks and their associations with beams in accordance with several of various embodiments of the present disclosure. In this example, a SS/PBCH block (also referred to as SSB) set comprise L SSBs wherein an SSB in the SSB set is associated with (e.g., transmitted in) one of L beams of a cell. The transmission of SBBs of an SSB set may be confined within a 5 ms interval, either in a first half-frame or a second half-frame of a 10 ms frame. The number of SSBs in an SSB set may depend on the frequency band of operation. For example, the number of SSBs in a SSB set may be up to four SSBs in frequency bands below 3 GHz enabling beam sweeping of up to four beams, up to eight SSBs in frequency bands between 3 GHz and 6 GHz enabling beam sweeping of up to eight beams, and up to sixty four SSBs in higher frequency bands enabling beam sweeping of up to sixty four beams. The SSs of an SSB may depend on a physical cell identity (PCI) of the cell and may be independent of which beam of the cell is used for transmission of the SSB. The PBCH of an SSB may indicate a time index parameter and the wireless device may determine the relative position of the SSB within the SSB set using the time index parameter. The wireless device may use the relative position of the SSB within an SSB set for determining the frame timing and/or determining RACH occasions for a random access process.</p><p id="p-0113" num="0112">A wireless device entering the mobile communications network may first search for the PSS. After detecting the PSS, the wireless device may determine the synchronization up to the periodicity of the PSS. By detecting the PSS, the wireless device may determine the transmission timing of the SSS. The wireless device may determine the PCI of the cell after detecting the SSS. The PBCH of a SS/PBCH block is a downlink physical channel that carries the MIB. The MIB may be used by the wireless device to obtain remaining system information (RMSI) that is broadcast by the network. The RMSI may include System Information Block 1 (SIB1) that contains information required for the wireless device to access the cell.</p><p id="p-0114" num="0113">As discussed earlier, the wireless device may determine a time index parameter from the SSB. The PBCH comprises a half-frame parameter indicating whether the SSB is in the first 5 ms half or the second 5 ms half of a 10 ms frame. The wireless device may determine the frame boundary using the time index parameter and the half-frame parameter. In addition, the PBCH may comprise a parameter indicating the system frame number (SFN) of the cell.</p><p id="p-0115" num="0114">The base station may transmit CSI-RS and a UE may measure the CSI-RS to obtain channel state information (CSI). The base station may configure the CSI-RS in a UE-specific manner. In some scenarios, same set of CSI-RS resources may be configured for multiple UEs and one or more resource elements of a CSI-RS resource may be shared among multiple UEs. A CSI-RS resource may be configured such that it does not collide with a CORESET configured for the wireless device and/or with a DMRS of a PDSCH scheduled for the wireless device and/or transmitted SSBs. The UE may measure one or more CSI-RSs configured for the UE and may generate a CSI report based on the CSI-RS measurements and may transmit the CSI report to the base station for scheduling, link adaptation and/or other purposes.</p><p id="p-0116" num="0115">NR supports flexible CSI-RS configurations. A CSI-RS resource may be configured with single or multiple antenna ports and with configurable density. Based on the number of configured antenna ports, a CSI-RS resource may span different number of OFDM symbols (e.g., 1, 2, and 4 symbols). The CSI-RS may be configured for a downlink BWP and may use the numerology of the downlink BWP. The CSI-RS may be configured to cover the full bandwidth of the downlink BWP or a portion of the downlink BWP. In some case, the CSI-RS may be repeated in every resource block of the CSI-RS bandwidth, referred to as CSI-RS with density equal to one. In some cases, the CSI-RS may be configured to be repeated in every other resource block of the CSI-RS bandwidth. CSI-RS may be non-zero power (NZP) CSI-RS or zero-power (ZP) CSI-RS.</p><p id="p-0117" num="0116">The base station may configure a wireless device with one or more sets of NZP CSI-RS resources. The base station may configure the wireless device with a NZP CSI-RS resource set using an RRC information element (IE) NZP-CSI-RS-ResourceSet indicating a NZP CSI-RS resource set identifier (ID) and parameters specific to the NZP CSI-RS resource set. An NZP CSI-RS resource set may comprise one or more CSI-RS resources. An NZP CSI-RS resource set may be configured as part of the CSI measurement configuration.</p><p id="p-0118" num="0117">The CSI-RS may be configured for periodic, semi-persistent or aperiodic transmission. In case of the periodic and semi-persistent CSI-RS configurations, the wireless device may be configured with a CSI resource periodicity and offset parameter that indicate a periodicity and corresponding offset in terms of number of slots. The wireless device may determine the slots that the CSI-RSs are transmitted. For semi-persistent CSI-RS, the CSI-RS resources for CSI-RS transmissions may be activated and deactivated by using a semi-persistent (SP) CSI-CSI Resource Set Activation/Deactivation MAC CE. In response to receiving a MAC CE indicating activation of semi-persistent CSI-RS resources, the wireless device may assume that the CSI-RS transmissions will continue until the CSI-RS resources for CSI-RS transmissions are activated.</p><p id="p-0119" num="0118">As discussed before, CSI-RS may be configured for a wireless device as NZP CSI-RS or ZP CSI-RS. The configuration of the ZP CSI-RS may be similar to the NZP CSI-RS with the difference that the wireless device may not carry out measurements for the ZP CSI-RS. By configuring ZP CSI-RS, the wireless device may assume that a scheduled PDSCH that includes resource elements from the ZP CSI-RS is rate matched around those ZP CSI-RS resources. For example, a ZP CSI-RS resource configured for a wireless device may be an NZP CSI-RS resource for another wireless device. For example, by configuring ZP CSI-RS resources for the wireless device, the base station may indicate to the wireless device that the PDSCH scheduled for the wireless device is rate matched around the ZP CSI-RS resources.</p><p id="p-0120" num="0119">A base station may configure a wireless device with channel state information interference measurement (CSI-IM) resources. Similar to the CSI-RS configuration, configuration of locations and density of CSI-IM resources may be flexible. The CSI-IM resources may be periodic (configured with a periodicity), semi-persistent (configured with a periodicity and activated and deactivated by MAC CE) or aperiodic (triggered by a DCI).</p><p id="p-0121" num="0120">Tracking reference signals (TRSs) may be configured for a wireless device as a set of sparse reference signals to assist the wireless in time and frequency tracking and compensating time and frequency variations in its local oscillator. The wireless device may further use the TRSs for estimating channel characteristics such as delay spread or doppler frequency. The base station may use a CSI-RS configuration for configuring TRS for the wireless device. The TRS may be configured as a resource set comprising multiple periodic NZP CSI-RS resources.</p><p id="p-0122" num="0121">A base station may configure a UE and the UE may transmit sounding reference signals (SRSs) to enable uplink channel sounding/estimation at the base station. The SRS may support up to four antenna ports and may be designed with low cubic metric enabling efficient operation of the wireless device amplifier. The SRS may span one or more (e.g., one, two or four) consecutive OFDM symbols in time domain and may be located within the last n (e.g., six) symbols of a slot. In the frequency domain, the SRS may have a structure that is referred to as a comb structure and may be transmitted on every Nth subcarrier. Different SRS transmissions from different wireless devices may have different comb structures and may be multiplexed in frequency domain.</p><p id="p-0123" num="0122">A base station may configure a wireless device with one or more SRS resource sets and an SRS resource set may comprise one or more SRS resources. The SRS resources in an SRS resources set may be configured for periodic, semi-persistent or aperiodic transmission. The periodic SRS and the semi-persistent SRS resources may be configured with periodicity and offset parameters. The Semi-persistent SRS resources of a configured semi-persistent SRS resource set may be activated or deactivated by a semi-persistent (SP) SRS Activation/Deactivation MAC CE. The set of SRS resources included in an aperiodic SRS resource set may be activated by a DCI. A value of a field (e.g., an SRS request field) in the DCI may indicate activation of resources in an aperiodic SRS resource set from a plurality of SRS resource sets configured for the wireless device.</p><p id="p-0124" num="0123">An antenna port may be associated with one or more reference signals. The receiver may assume that the one or more reference signals, associated with the antenna port, may be used for estimating channel corresponding to the antenna port. The reference signals may be used to derive channel state information related to the antenna port. Two antenna ports may be referred to as quasi co-located if characteristics (e.g., large-scale properties) of the channel over which a symbol is conveyed on one antenna port may be inferred from the channel over which a symbol is conveyed from another antenna port. For example, a UE may assume that radio channels corresponding to two different antenna ports have the same large-scale properties if the antenna ports are specified as quasi co-located. In some cases, the UE may assume that two antenna ports are quasi co-located based on signaling received from the base station. Spatial quasi-colocation (QCL) between two signals may be, for example, due to the two signals being transmitted from the same location and in the same beam. If a receive beam is good for a signal in a group of signals that are spatially quasi co-located, it may be assumed also be good for the other signals in the group of signals.</p><p id="p-0125" num="0124">The CSI-RS in the downlink and the SRS in uplink may serve as quasi-location (QCL) reference for other physical downlink channels and physical uplink channels, respectively. For example, a downlink physical channel (e.g., PDSCH or PDCCH) may be spatially quasi co-located with a downlink reference signal (e.g., CSI-RS or SSB). The wireless device may determine a receive beam based on measurement on the downlink reference signal and may assume that the determined received beam is also good for reception of the physical channels (e.g., PDSCH or PDCCH) that are spatially quasi co-located with the downlink reference signal. Similarly, an uplink physical channel (e.g., PUSCH or PUCCH) may be spatially quasi co-located with an uplink reference signal (e.g., SRS). The base station may determine a receive beam based on measurement on the uplink reference signal and may assume that the determined received beam is also good for reception of the physical channels (e.g., PUSCH or PUCCH) that are spatially quasi co-located with the uplink reference signal.</p><p id="p-0126" num="0125">The Demodulation Reference Signals (DM-RSs) enables channel estimation for coherent demodulation of downlink physical channels (e.g., PDSCH, PDCCH and PBH) and uplink physical channels (e.g., PUSCH and PUCCH). The DM-RS may be located early in the transmission (e.g., front-loaded DM-RS) and may enable the receiver to obtain the channel estimate early and reduce the latency. The time-domain structure of the DM-RS (e.g., symbols wherein the DM-RS are located in a slot) may be based on different mapping types.</p><p id="p-0127" num="0126">The Phase Tracking Reference Signals (PT-RSs) enables tracking and compensation of phase variations across the transmission duration. The phase variations may be, for example, due to oscillator phase noise. The oscillator phase noise may become more sever in higher frequencies (e.g., mmWave frequency bands). The base station may configure the PT-RS for uplink and/or downlink. The PT-RS configuration parameters may indicate frequency and time density of PT-RS, maximum number of ports (e.g., uplink ports), resource element offset, configuration of uplink PT-RS without transform precoder (e.g., CP-OFDM) or with transform precoder (e.g., DFT-s-OFDM), etc. The subcarrier number and/or resource blocks used for PT-RS transmission may be based on the C-RNTI of the wireless device to reduce risk of collisions between PT-RSs of wireless devices scheduled on overlapping frequency domain resources.</p><p id="p-0128" num="0127"><figref idref="DRAWINGS">FIG. <b>13</b>B</figref> shows example time and frequency structure of CSI-RSs and their association with beams in accordance with several of various embodiments of the present disclosure. A beam of the L beams shown in <figref idref="DRAWINGS">FIG. <b>13</b>B</figref> may be associated with a corresponding CSI-RS resource. The base station may transmit the CSI-RSs using the configured CSI-RS resources and a UE may measure the CSI-RSs (e.g., received signal received power (RSRP) of the CSI-RSs) and report the CSI-RS measurements to the base station based on a reporting configuration. For example, the base station may determine one or more transmission configuration indication (TCI) states and may indicate the one or more TCI states to the UE (e.g., using RRC signaling, a MAC CE and/or a DCI). Based on the one or more TCI states indicated to the UE, the UE may determine a downlink receive beam and receive downlink transmissions using the receive beam. In case of a beam correspondence, the UE may determine a spatial domain filter of a transmit beam based on spatial domain filter of a corresponding receive beam. Otherwise, the UE may perform an uplink beam selection procedure to determine the spatial domain filter of the transmit beam. The UE may transmit one or more SRSs using the SRS resources configured for the UE and the base station may measure the SRSs and determine/select the transmit beam for the UE based the SRS measurements. The base station may indicate the selected beam to the UE. The CSI-RS resources shown in <figref idref="DRAWINGS">FIG. <b>13</b>B</figref> may be for one UE. The base station may configure different CSI-RS resources associated with a given beam for different UEs by using frequency division multiplexing.</p><p id="p-0129" num="0128">A base station and a wireless device may perform beam management procedures to establish beam pairs (e.g., transmit and receive beams) that jointly provide good connectivity. For example, in the downlink direction, the UE may perform measurements for a beam pair and estimate channel quality for a transmit beam by the base station (or a transmission reception point (TRP) more generally) and the receive beam by the UE. The UE may transmit a report indicating beam pair quality parameters. The report may comprise one or more parameters indicating one or more beams (e.g., a beam index, an identifier of reference signal associated with a beam, etc.), one or more measurement parameters (e.g., RSRP), a precoding matrix indicator (PMI), a channel quality indicator (CQI), and/or a rank indicator (RI).</p><p id="p-0130" num="0129"><figref idref="DRAWINGS">FIG. <b>14</b>A</figref>, <figref idref="DRAWINGS">FIG. <b>14</b>B</figref> and <figref idref="DRAWINGS">FIG. <b>14</b>C</figref> show example beam management processes (referred to as P<b>1</b>, P<b>2</b> and P<b>3</b>, respectively) in accordance with several of various embodiments of the present disclosure. The P<b>1</b> process shown in <figref idref="DRAWINGS">FIG. <b>14</b>A</figref> may enable, based on UE measurements, selection of a base station (or TRP more generally) transmit beam and/or a wireless device receive beam. The TRP may perform a beam sweeping procedure where the TRP may sequentially transmit reference signals (e.g., SSB and/or CSI-RS) on a set of beams and the UE may select a beam from the set of beams and may report the selected beam to the TRP. The P<b>2</b> procedure as shown in <figref idref="DRAWINGS">FIG. <b>14</b>B</figref> may be a beam refinement procedure. The selection of the TRP transmit beam and the UE receive beam may be regularly reevaluated due to movements and/or rotations of the UE or movement of other objects. In an example, the base station may perform the beam sweeping procedure over a smaller set of beams and the UE may select the best beam over the smaller set. In an example, the beam shape may be narrower compared to beam selected based on the P<b>1</b> procedure. Using the P<b>3</b> procedure as shown in <figref idref="DRAWINGS">FIG. <b>14</b>C</figref>, the TRP may fix its transmit beam and the UE may refine its receive beam.</p><p id="p-0131" num="0130">A wireless device may receive one or more messages from a base station. The one or more messages may comprise one or more RRC messages. The one or more messages may comprise configuration parameters of a plurality of cells for the wireless device. The plurality of cells may comprise a primary cell and one or more secondary cells. For example, the plurality of cells may be provided by a base station and the wireless device may communicate with the base station using the plurality of cells. For example, the plurality of cells may be provided by multiple base station (e.g., in case of dual and/or multi-connectivity). The wireless device may communicate with a first base station, of the multiple base stations, using one or more first cells of the plurality of cells. The wireless device may communicate with a second base station of the multiple base stations using one or more second cells of the plurality of cells.</p><p id="p-0132" num="0131">The one or more messages may comprise configuration parameters used for processes in physical, MAC, RLC, PCDP, SDAP, and/or RRC layers of the wireless device. For example, the configuration parameters may include values of timers used in physical, MAC, RLC, PCDP, SDAP, and/or RRC layers. For example, the configuration parameters may include parameters for configurating different channels (e.g., physical layer channel, logical channels, RLC channels, etc.) and/or signals (e.g., CSI-RS, SRS, etc.).</p><p id="p-0133" num="0132">Upon starting a timer, the timer may start running until the timer is stopped or until the timer expires. A timer may be restarted if it is running. A timer may be started if it is not running (e.g., after the timer is stopped or after the timer expires). A timer may be configured with or may be associated with a value (e.g., an initial value). The timer may be started or restarted with the value of the timer. The value of the timer may indicate a time duration that the timer may be running upon being started or restarted and until the timer expires. The duration of a timer may not be updated until the timer is stopped or expires (e.g., due to BWP switching). This specification may disclose a process that includes one or more timers. The one or more timers may be implemented in multiple ways. For example, a timer may be used by the wireless device and/or base station to determine a time window [t<b>1</b>, t<b>2</b>], wherein the timer is started at time t<b>1</b> and expires at time t<b>2</b> and the wireless device and/or the base station may be interested in and/or monitor the time window [t<b>1</b>, t<b>2</b>], for example to receive a specific signaling. Other examples of implementation of a timer may be provided.</p><p id="p-0134" num="0133"><figref idref="DRAWINGS">FIG. <b>15</b></figref> shows example components of a wireless device and a base station that are in communication via an air interface in accordance with several of various embodiments of the present disclosure. The wireless device <b>1502</b> may communicate with the base station <b>1542</b> over the air interface <b>1532</b>. The wireless device <b>1502</b> may include a plurality of antennas. The base station <b>1542</b> may include a plurality of antennas. The plurality of antennas at the wireless device <b>1502</b> and/or the base station <b>1542</b> enables different types of multiple antenna techniques such as beamforming, single-user and/or multi-user MIMO, etc.</p><p id="p-0135" num="0134">The wireless device <b>1502</b> and the base station <b>1542</b> may have one or more of a plurality of modules/blocks, for example RF front end (e.g., RF front end <b>1530</b> at the wireless device <b>1502</b> and RF front end <b>1570</b> at the base station <b>1542</b>), Data Processing System (e.g., Data Processing System <b>1524</b> at the wireless device <b>1502</b> and Data Processing System <b>1564</b> at the base station <b>1542</b>), Memory (e.g., Memory <b>1512</b> at the wireless device <b>1502</b> and Memory <b>1542</b> at the base station <b>1542</b>). Additionally, the wireless device <b>1502</b> and the base station <b>1542</b> may have other modules/blocks such as GPS (e.g., GPS <b>1514</b> at the wireless device <b>1502</b> and GPS <b>1554</b> at the base station <b>1542</b>).</p><p id="p-0136" num="0135">An RF front end module/block may include circuitry between antennas and a Data Processing System for proper conversion of signals between these two modules/blocks. An RF front end may include one or more filters (e.g., Filter(s) <b>1526</b> at RF front end <b>1530</b> or Filter(s) <b>1566</b> at the RF front end <b>1570</b>), one or more amplifiers (e.g., Amplifier(s) <b>1528</b> at the RF front end <b>1530</b> and Amplifier(s) <b>1568</b> at the RF front end <b>1570</b>). The Amplifier(s) may comprise power amplifier(s) for transmission and low-noise amplifier(s) (LNA(s)) for reception.</p><p id="p-0137" num="0136">The Data Processing System <b>1524</b> and the Data Processing System <b>1564</b> may process the data to be transmitted or the received signals by implementing functions at different layers of the protocol stack such as PHY, MAC, RLC, etc. Example PHY layer functions that may be implemented by the Data Processing System <b>1524</b> and/or <b>1564</b> may include forward error correction, interleaving, rate matching, modulation, precoding, resource mapping, MIMO processing, etc. Similarly, one or more functions of the MAC layer, RLC layer and/or other layers may be implemented by the Data Processing System <b>1524</b> and/or the Data Processing System <b>1564</b>. One or more processes described in the present disclosure may be implemented by the Data Processing System <b>1524</b> and/or the Data Processing System <b>1564</b>. A Data Processing System may include an RF module (RF module <b>1516</b> at the Data Processing System <b>1524</b> and RF module <b>1556</b> at the Data Processing System <b>1564</b>) and/or a TX/RX processor (e.g., TX/RX processor <b>1518</b> at the Data Processing System <b>1524</b> and TX/RX processor <b>1558</b> at the Data Processing System <b>1566</b>) and/or a central processing unit (CPU) (e.g., CPU <b>1520</b> at the Data Processing System <b>1524</b> and CPU <b>1560</b> at the Data Processing System <b>1564</b>) and/or a graphical processing unit (GPU) (e.g., GPU <b>1522</b> at the Data Processing System <b>1524</b> and GPU <b>1562</b> at the Data Processing System <b>1564</b>).</p><p id="p-0138" num="0137">The Memory <b>1512</b> may have interfaces with the Data Processing System <b>1524</b> and the Memory <b>1552</b> may have interfaces with Data Processing System <b>1564</b>, respectively. The Memory <b>1512</b> or the Memory <b>1552</b> may include non-transitory computer readable mediums (e.g., Storage Medium <b>1510</b> at the Memory <b>1512</b> and Storage Medium <b>1550</b> at the Memory <b>1552</b>) that may store software code or instructions that may be executed by the Data Processing System <b>1524</b> and Data Processing System <b>1564</b>, respectively, to implement the processes described in the present disclosure. The Memory <b>1512</b> or the Memory <b>1552</b> may include random-access memory (RAM) (e.g., RAM <b>1506</b> at the Memory <b>1512</b> or RAM <b>1546</b> at the Memory <b>1552</b>) or read-only memory (ROM) (e.g., ROM <b>1508</b> at the Memory <b>1512</b> or ROM <b>1548</b> at the Memory <b>1552</b>) to store data and/or software codes.</p><p id="p-0139" num="0138">The Data Processing System <b>1524</b> and/or the Data Processing System <b>1564</b> may be connected to other components such as a GPS module <b>1514</b> and a GPS module <b>1554</b>, respectively, wherein the GPS module <b>1514</b> and a GPS module <b>1554</b> may enable delivery of location information of the wireless device <b>1502</b> to the Data Processing System <b>1524</b> and location information of the base station <b>1542</b> to the Data Processing System <b>1564</b>. One or more other peripheral components (e.g., Peripheral Component(s) <b>1504</b> or Peripheral Component(s) <b>1544</b>) may be configured and connected to the data Processing System <b>1524</b> and data Processing System <b>1564</b>, respectively.</p><p id="p-0140" num="0139">In example embodiments, a wireless device may be configured with parameters and/or configuration arrangements. For example, the configuration of the wireless device with parameters and/or configuration arrangements may be based on one or more control messages that may be used to configure the wireless device to implement processes and/or actions. The wireless device may be configured with the parameters and/or the configuration arrangements regardless of the wireless device being in operation or not in operation. For example, software, firmware, memory, hardware and/or a combination thereof and/or alike may be configured in a wireless device regardless of the wireless device being in operation or not operation. The configured parameters and/or settings may influence the actions and/or processes performed by the wireless device when in operation.</p><p id="p-0141" num="0140">In example embodiments, a wireless device may receive one or more message comprising configuration parameters. For example, the one or more messages may comprise radio resource control (RRC) messages. A parameter of the configuration parameters may be in at least one of the one or more messages. The one or more messages may comprise information element (IEs). An information element may be a structural element that includes single or multiple fields. The fields in an IE may be individual contents of the IE. The terms configuration parameter, IE and field may be used equally in this disclosure. The IEs may be implemented using a nested structure, wherein an IE may include one or more other IEs and an IE of the one or more other IEs may include one or more additional IEs. With this structure, a parent IE contains all the offspring IEs as well. For example, a first IE containing a second IE, the second IE containing a third IE, and the third IE containing a fourth IE may imply that the first IE contains the third IE and the fourth IE.</p><p id="p-0142" num="0141">In an example, an IE ConfiguredGrantConfig may be used to configure uplink transmission without dynamic grant according to two possible schemes. The actual uplink grant may either be configured via RRC (type1) or provided via the PDCCH (addressed to CS-RNTI) (type2). In an example, multiple Configured Grant configurations may be configured in one BWP of a serving cell. A field/parameter cg-RetransmissionTimer may indicate the initial value of the configured retransmission timer in multiples of periodicity. The value of cg-RetransmissionTimer may be less than or equal to the value of configuredGrantTimer. This field may be configured for operation with shared spectrum channel access together with harq-ProcID-Offset. A field/parameter configuredGrantConfigIndex may indicate the index of the Configured Grant configurations within the BWP. A field/parameter configuredGrantTimer may indicate the initial value of the configured grant timer in multiples of periodicity. When cg-RetransmissonTimer is configured, if HARQ processes are shared among different configured grants on the same BWP, configuredGrantTimer*periodicity may be set to the same value for the configurations that share HARQ processes on this BWP. A field/parameter frequencyDomainAllocation may indicate the frequency domain resource allocation. A field/parameter harq-ProcID-Offset for operation with shared spectrum channel access may configure the range of HARQ process IDs which can be used for this configured grant where the UE can select a HARQ process ID within [harq-procID-offset, . . . , (harq-procID-offset+nrofHARQ-Processes&#x2212;1)]. A field/parameter harq-ProcID-Offset2 may indicate the offset used in deriving the HARQ process IDs. A field/parameter nrofHARQ-Processes may indicate the number of HARQ processes configured. A field/parameter periodicity may indicate a periodicity for UL transmission without UL grant for type 1 and type 2.</p><p id="p-0143" num="0142">In an example, an IE ConfiguredGrantConfigIndex may be used to indicate the index of one of multiple UL Configured Grant configurations in one BWP.</p><p id="p-0144" num="0143">In an example, there may be two types of transmission without dynamic grant in the uplink: configured grant Type 1 and configured grant Type 2. For configured grant Type 1, an uplink grant may be provided by RRC, and stored as configured uplink grant. For configured grant Type 2, an uplink grant may be provided by PDCCH, and stored or cleared as configured uplink grant based on L1 signaling indicating configured uplink grant activation or deactivation.</p><p id="p-0145" num="0144">In an example, Type 1 and Type 2 configured grants may be configured by RRC for a Serving Cell per BWP. Multiple configurations may be active simultaneously in the same BWP. For Type 2, activation and deactivation may be independent among the Serving Cells. For the same BWP, the MAC entity may be configured with both Type 1 and Type 2.</p><p id="p-0146" num="0145">In an example, RRC may configure the following parameters when the configured grant Type 1 is configured: cs-RNTI (CS-RNTI for retransmission); periodicity (periodicity of the configured grant Type 1); timeDomainOffset (offset of a resource with respect to SFN=timeReferenceSFN in time domain); timeDomainAllocation (Allocation of configured uplink grant in time domain which contains startSymbolAndLength or startSymbol); nrofHARQ-Processes (the number of HARQ processes for configured grant); harq-ProcID-Offset (offset of HARQ process for configured grant for operation with shared spectrum channel access); harq-ProcID-Offset2 (offset of HARQ process for configured grant); timeReferenceSFN (SFN used for determination of the offset of a resource in time domain). In an example, the UE may use the closest SFN with the indicated number preceding the reception of the configured grant configuration.</p><p id="p-0147" num="0146">In an example, RRC may configure the following parameters when the configured grant Type 2 is configured: cs-RNTI (CS-RNTI for activation, deactivation, and retransmission); periodicity (periodicity of the configured grant Type 2); nrofHARQ-Processes (the number of HARQ processes for configured grant); harq-ProcID-Offset (offset of HARQ process for configured grant for operation with shared spectrum channel access); harq-ProcID-Offset2 (offset of HARQ process for configured grant).</p><p id="p-0148" num="0147">In an example, RRC may configure the following parameters when retransmissions on configured uplink grant is configured: cg-RetransmissionTimer (the duration after a configured grant (re)transmission of a HARQ process when the UE may not autonomously retransmit that HARQ process).</p><p id="p-0149" num="0148">In an example, upon configuration of a configured grant Type 1 for a BWP of a Serving Cell by upper layers, the MAC entity may: store the uplink grant provided by upper layers as a configured uplink grant for the indicated BWP of the Serving Cell; initialize or re-initialize the configured uplink grant to start in the symbol according to timeDomainOffset, timeReferenceSFN, and S (derived from SLIV or provided by startSymbol), and to reoccur with periodicity.</p><p id="p-0150" num="0149">In an example, after an uplink grant is configured for a configured grant Type 1, the MAC entity may consider sequentially that the Nth (N&#x3e;=0) uplink grant occurs in the symbol for which: [(SFN&#xd7;numberOfSlotsPerFrame&#xd7;numberOfSymbolsPerSlot)+(slot number in the frame&#xd7;numberOfSymbolsPerSlot)+symbol number in the slot]=(timeReferenceSFN&#xd7;numberOfSlotsPerFrame&#xd7;numberOfSymbolsPerSlot+timeDomainOffset&#xd7;numberOfSymbolsPerSlot+S+N&#xd7;periodicity) modulo (1024&#xd7;numberOfSlotsPerFrame&#xd7;numberOfSymbolsPerSlot).</p><p id="p-0151" num="0150">In an example, after an uplink grant is configured for a configured grant Type 2, the MAC entity may consider sequentially that the Nth (N&#x3e;=0) uplink grant occurs in the symbol for which: [(SFN&#xd7;numberOfSlotsPerFrame&#xd7;numberOfSymbolsPerSlot)+(slot number in the frame&#xd7;numberOfSymbolsPerSlot)+symbol number in the slot]=[(SFNstart time&#xd7;numberOfSlotsPerFrame&#xd7;numberOfSymbolsPerSlot+slotstart time&#xd7;numberOfSymbolsPerSlot+symbolstart time)+N&#xd7;periodicity] modulo (1024&#xd7;numberOfSlotsPerFrame&#xd7;numberOfSymbolsPerSlot), where SFNstart time, slotstart time, and symbolstart time are the SFN, slot, and symbol, respectively, of the first transmission opportunity of PUSCH where the configured uplink grant was (re-)initialized.</p><p id="p-0152" num="0151">In an example, if cg-nrofPUSCH-InSlot or cg-nrofSlots is configured for a configured grant Type 1 or Type 2, the MAC entity may consider the uplink grants occur in those additional PUSCH allocations.</p><p id="p-0153" num="0152">In an example, when the configured uplink grant is released by upper layers, the corresponding configurations may be released and corresponding uplink grants may be cleared.</p><p id="p-0154" num="0153">In an example, at least one configured uplink grant confirmation may have been triggered and not cancelled; and the MAC entity may have UL resources allocated for new transmission. If, in this MAC entity, at least one configured uplink grant is configured by configuredGrantConfigToAddModList: the MAC entity may instruct the Multiplexing and Assembly procedure to generate a Multiple Entry Configured Grant Confirmation MAC CE. Otherwise, the MAC entity may instruct the Multiplexing and Assembly procedure to generate a Configured Grant Confirmation MAC CE. The MAC entity may cancel triggered configured uplink grant confirmation(s).</p><p id="p-0155" num="0154">In an example, for a configured grant Type 2, the MAC entity may clear the configured uplink grant(s) immediately after first transmission of Configured Grant Confirmation MAC CE or Multiple Entry Configured Grant Confirmation MAC CE which confirms the configured uplink grant deactivation.</p><p id="p-0156" num="0155">In an example, retransmissions may use: repetition of configured uplink grants; or received uplink grants addressed to CS-RNTI; or configured uplink grants with cg-RetransmissionTimer configured.</p><p id="p-0157" num="0156">In an example, an IE BeamFailureRecoveryConfig may be used to configure the UE with RACH resources and candidate beams for beam failure recovery in case of beam failure detection. In an example, a field/parameter beamFailureRecoveryTimer may indicate a timer value for beam failure recovery timer. Upon expiration of the timer, the UE may not use CFRA for BFR. The value of timer may be in ms. Value ms10 may correspond to 10 ms, value ms20 may correspond to 20 ms, and so on. A field/parameter candidateBeamRSList, may indicate the list of reference signals (CSI-RS and/or SSB) identifying the candidate beams for recovery and the associated RA parameters. The UE may consider this list to include elements of candidateBeamRSList (without suffix). The network may configure these reference signals to be within the linked DL BWP (e.g., within the DL BWP with the same bwp-Id) of the UL BWP in which the BeamFailureRecoveryConfig is provided. In an example, a field/parameter msg1-SubcarrierSpacing may indicate subcarrier spacing for contention free beam failure recovery. A field/parameter rsrp-ThresholdSSB may indicate L1-RSRP threshold used for determining whether a candidate beam may be used by the UE to attempt contention free random access to recover from beam failure. A field/parameter ra-prioritization may indicate parameters which may apply for prioritized random access procedure for BFR. A field/parameter ra-PrioritizationTwoStep may indicate parameters which apply for prioritized 2-step random access procedure for BFR. A field/parameter ra-ssb-OccasionMaskIndex may be explicitly signalled PRACH Mask Index for RA Resource selection. The mask may be valid for all SSB resources. A field rach-ConfigBFR may indicate configuration of contention free random access occasions for BFR. In an example, a field/parameter recoverySearchSpaceI may indicate search space to use for BFR RAR. The network may configure this search space to be within the linked DL BWP (e.g., within the DL BWP with the same bwp-Id) of the UL BWP in which the BeamFailureRecoveryConfig is provided. The CORESET associated with the recovery search space may not be associated with another search space. In an example, network may configure the UE with a value for this field when contention free random access resources for BFR are configured. A field/parameter rootSequenceIndex-BFR may indicate PRACH root sequence index for beam failure recovery. A field/parameter ssb-perRACH-Occasion may indicate number of SSBs per RACH occasion for CF-BFR. A field/parameter csi-RS may indicate the ID of a NZP-CSI-RS-Resource configured in the CSI-MeasConfig of this serving cell. This reference signal may determine a candidate beam for beam failure recovery (BFR). A field/parameter ra-OccasionList may indicate RA occasions that the UE may use when performing BFR upon selecting the candidate beam identified by this CSI-RS. In an example, the network may ensure that the RA occasion indexes provided herein are also configured by prach-ConfigurationIndex and msg1-FDM. Each RACH occasion may be sequentially numbered, first, in increasing order of frequency resource indexes for frequency multiplexed PRACH occasions; second, in increasing order of time resource indexes for time multiplexed PRACH occasions within a PRACH slot and third, in increasing order of indexes for PRACH slots. If the field is absent the UE may use the RA occasion associated with the SSB that is QCLed with this CSI-RS. A field/parameter ra-PreambleIndex may indicate the RA preamble index to use in the RA occasions associated with this CSI-RS. If the field is absent, the UE may use the preamble index associated with the SSB that is QCLed with this CSI-RS. A field/parameter ra-PreambleIndex may indicate the preamble index that the UE may use when performing BFR upon selecting the candidate beams identified by this SSB. A field/parameter ssb may indicate the ID of an SSB transmitted by this serving cell. It may determine a candidate beam for beam failure recovery (BFR).</p><p id="p-0158" num="0157">In an example, the IE BeamFailureRecoverySCellConfig may be used to configure the UE with candidate beams for beam failure recovery in case of beam failure detection in SCell. A field/parameter candidateBeamConfig may indicates the resource (e.g., SSB or CSI-RS) defining this beam resource. A field/parameter candidateBeamRSSCellList may indicate a list of reference signals (CSI-RS and/or SSB) identifying the candidate beams for recovery. The network may configure this parameter in every instance of this IE. A field/parameter rsrp-ThresholdBFR may indicate L1-RSRP threshold used for determining whether a candidate beam may be included by the UE be in BFR MAC CE. The network may configure this parameter in every instance of this IE.</p><p id="p-0159" num="0158">In an example, an IE RadioLinkMonitoringConfig may be used to configure radio link monitoring for detection of beam- and/or cell radio link failure. A field/parameter beamFailureDetectionTimer may indicate a timer for beam failure detection. A field/parameter beamFailureInstanceMaxCount may determine after how many beam failure events the UE may trigger beam failure recovery. A field/parameter failureDetectionResourcesToAddModList may indicate a list of reference signals for detecting beam failure and/or cell level radio link failure (RLF). A field/parameter purpose may determine whether the UE may monitor the associated reference signal for the purpose of cell- and/or beam failure detection. For SCell, network may configure the value to beamFailure.</p><p id="p-0160" num="0159">In an example, an IE RACH-ConfigGeneric may be used to specify the random-access parameters both for regular random access as well as for beam failure recovery.</p><p id="p-0161" num="0160">In an example, an IE MAC-CellGroupConfig may be used to configure MAC parameters for a cell group, including DRX. A field/parameter schedulingRequestID-BFR-SCell may indicate the scheduling request configuration applicable for BFR on SCell.</p><p id="p-0162" num="0161">Example embodiments may enable small data transmission in RRC_INACTIVE state. In an example, uplink small data transmissions may be RACH-based (e.g., 2-step or 4-step RACH). In an example, small data packets from INACTIVE state may be transmitted using MSGA or MSG3. In an example, small data packets from INACTIVE state may be transmitted via pre-configured PUSCH resources for example, using the configured grant type 1. The transmission of small data packets in INACTIVE state may be when timing advance (TA) is valid.</p><p id="p-0163" num="0162">In example embodiments, small data may be transmitted with an RRC message for RA-based and CG based small data transmission schemes. In an example, RRC-less data transmission may be used in some scenarios. In an example, 2-step RACH or 4-step RACH may be applied to RACH-based uplink small data transmission in RRC_INACTIVE. In an example, the uplink small data may be sent in MSGA of 2-step RACH or msg3 of 4-step RACH. In an example, small data transmission may be configured by the network for a wireless device on a per radio bearer (e.g., per data radio bearer (DRB)) basis. In example embodiments, data volume threshold may be used for the wireless device to decide whether to do small data transmission (SDT) or not. In an example an SDT specific RSRP threshold may be used to determine whether the UE should do SDT. In example embodiments, uplink/downlink transmission may be performed following uplink SDT without transitioning to RRC_CONNECTED. In example embodiments, when the wireless device is in RRC_INACTIVE, it may be possible to send multiple uplink and downlink packets as part of the same SDT mechanism and without transitioning to RRC_CONNECTED on dedicated grant.</p><p id="p-0164" num="0163">In example embodiments, for small data transmission using RACH-based and configured grant (CG)-based mechanisms, when the UE receives RRC release with a suspend config IE, the UE may at least perform the following actions: MAC may be reset and default MAC cell group configuration ne released, RLC entities for signaling radio bearer SRB1 may be re-established, signaling radio bearers (SRBs) and data radio bearers (DRBs) may be suspended except SRB0.</p><p id="p-0165" num="0164">In example embodiments, for RACH and CG based mechanisms, upon initiating RESUME procedure for SDT initiation (e.g., for first SDT transmission), the UE may re-establish at least the SDT PDCP entities and may resume the SDT DRBs that are configured for small data transmission (along with the SRB1).</p><p id="p-0166" num="0165">In example embodiments, the first uplink message (e.g., MSG3 for 4-step RACH, MSGA payload for 2-step RACH and the CG transmission for CG) may contain at least the following contents (depending on the size of the message): CCCH message. In an example, the logical channel prioritization (LCP) may be used to determine the priority of the following content that may be included: DRB data from one or more DRBs which may be configured by the network for small data transmission, one or more MAC CEs (e.g., buffer status report (BSR)), padding bits.</p><p id="p-0167" num="0166">In example embodiments, for RACH and CG, the unified access (UAC) procedure may be used to determine whether access attempt is allowed.</p><p id="p-0168" num="0167">In example embodiments, SDT may be transparent to NAS layer (e.g., NAS may generate one of the existing resume causes and AS may decide SDT vs non-SDT access).</p><p id="p-0169" num="0168">In example embodiments, for RACH based solutions, upon successful completion of contention resolution, the UE may monitor the C-RNTI.</p><p id="p-0170" num="0169">In example embodiments, the RACH resource, e.g., RACH occasion and/or preamble, may be different between SDT and non-SDT.</p><p id="p-0171" num="0170">In example embodiments, the configuration of configured grant resource for UE uplink small data transfer may be contained in the RRCRelease message. In an example, the configuration of configured grant resource may include type 1 CG configuration.</p><p id="p-0172" num="0171">In example embodiments, a new timing advance (TA) timer for TA maintenance specified for configured grant based small data transfer in RRC_INACTIVE may be used. In an example, the TA timer may be configured together with the CG configuration in the RRCRelease message.</p><p id="p-0173" num="0172">In example embodiments, the configuration of configured grant resource for UE small data transmission may be valid in the same serving cell.</p><p id="p-0174" num="0173">In example embodiments, the UE may use configured grant based small data transfer if at least the following criteria is fulfilled: user data is smaller than the data volume threshold; configured grant resource is configured and valid; and UE has valid TA.</p><p id="p-0175" num="0174">In example embodiments, an association between CG resources and SSBs may exist for CG-based SDT.</p><p id="p-0176" num="0175">In example embodiments, SS-RSRP threshold may be configured for SSB selection. The UE may select one of the SSB with SS-RSRP above the threshold and may select the associated CG resource for UL data transmission.</p><p id="p-0177" num="0176">In example embodiments, CG-SDT resource configuration may be provided to UEs in RRC_Connected within the RRCRelease message.</p><p id="p-0178" num="0177">In example embodiments, CG-PUSCH resources may be separately configured for normal uplink (NUL) carrier and supplementary uplink (SUL) carrier. In an example, CG-PUSCH resource on NUL and SUL carrier may be configured at the same time.</p><p id="p-0179" num="0178">In example embodiments, the RRC release message may be used to reconfigure or release the CG-SDT resources while UE is in RRC_INACTIVE.</p><p id="p-0180" num="0179">In example embodiments, for CG-SDT, the subsequent data transmission (e.g., retransmission after an initial transmission) may use the CG resource or dynamic grant (DG, e.g., dynamic grant addressed to UE's C-RNTI).</p><p id="p-0181" num="0180">In example embodiments, time alignment timer used for small data transmission in INACTIVE state (e.g., TAT-SDT) may be started upon receiving the TAT-SDT configuration from gNB, e.g., RRCrelease message, and may be (re)started upon reception of TA command.</p><p id="p-0182" num="0181">In example embodiments, a TA validation mechanism for SDT based on RSRP change may be used and RSRP-based threshold(s) may be configured.</p><p id="p-0183" num="0182">In example embodiments, it may be a network configuration whether to support multiple CG-SDT configurations per carrier in RRC_INACTIVE.</p><p id="p-0184" num="0183">In example embodiments, the UE may release CG-SDT resources when TAT expires in RRC_Inactive state.</p><p id="p-0185" num="0184">In example embodiments, for RA-SDT, up to two preamble groups (corresponding to two different payload sizes for MSGA/MSG3) may be configured by the network. In an example, if RACH procedure is initiated for SDT (e.g., RA-SDT initiated), the UE may first perform RACH type selection.</p><p id="p-0186" num="0185">In example embodiments, RRCRelease message may be sent by the base station to terminate the SDT procedure from RRC point of view. The RRCRelease sent at the end of the SDT may contain the CG resource.</p><p id="p-0187" num="0186">In example embodiments an RSRP threshold may be used to select between SDT and non-SDT procedure. The RSRP threshold to select between SDT and non-SDT procedure may be used for CG-SDT, RA-SDT, or both. In an example, the RSRP threshold may be the same for CG-SDT and RA-SDT.</p><p id="p-0188" num="0187">In example embodiments, beam failure detection and recovery may be supported/performed in RRC_INACTIVE. In example, CG-SDT and/or RA-SDT may be used for beam failure recovery.</p><p id="p-0189" num="0188">In an example, there may be an association between CG resources and SSBs. With the association, UE may indicate the downlink beam it is receiving to gNB by transmitting on the corresponding CG resource. The UE may perform beam failure detection and/or beam failure recovery during subsequent data transmission.</p><p id="p-0190" num="0189">In an example, during subsequent transmission, in order to receive downlink data successfully, UE may perform beam failure detection. If beam failure happens, UE may perform beam failure recovery to change downlink beam. Otherwise, UE may not be able to receive downlink data during the subsequent transmission period. In an example, beam failure detection and recovery may be performed in subsequent transmission period.</p><p id="p-0191" num="0190">In an example, UE may constantly perform beam failure detection in RRC_CONNECTED. In an example in RRC_INACTIVE, maintaining downlink beam alignment all the time may not be needed due to excessive UE power and network resource consumption. If there are new data arriving in buffer, UE may initiate RA-SDT or CG-SDT. UE may select a SSB before proceeding with the rest of the procedure so conducting beam failure detection or beam failure recovery may not be needed when it is not in a subsequent data transmission period. In an example, beam failure detection may not be performed out of subsequent transmission period.</p><p id="p-0192" num="0191">In an example, for RA-SDT and CG-SDT procedures, UE may select a SSB and uses the corresponding PRACH resource or CG resource to transmit a transmission. According to the resource used for the transmission, gNB may determine that the downlink beam is changed. In an example, beam failure recovery may be performed through RA-SDT and CG-SDT.</p><p id="p-0193" num="0192">In an example, for SDT and for both RA-SDT and CG-SDT, dynamic grant may be supported for subsequent uplink transmission, for which the UE may need to monitor PDCCH. In an example, L1 ACK may be used for CG-SDT. In an example, beam failure recovery may be supported for SDT.</p><p id="p-0194" num="0193">In an example, the downlink beam indicated by the UE to the network through CG-SDT transmission (based on CG-SDT to SSB mapping) may not always be suitable beam for the UE, e.g., due to the UE's mobility. If the beam becomes unsuitable and UE keeps monitoring the beam indicated to the network by CG-SDT, the UE may not be able to receive PDCCH. In an example, if the UE has to perform retransmission for the previous un-acknowledged CG transmission, the transmission may serve as BFR that may indicate a new beam to the network.</p><p id="p-0195" num="0194">In an example, an RRCRelease message may be used to command the release of an RRC connection or the suspension of the RRC connection. The RRC release message may comprise a SuspendConfig field/IE. The SuspendConfig IE may comprise a ran-NotificationAreaInfo field. The network may ensure that the UE in RRC_INACTIVE has a valid ran-NotificationAreaInfo. The SuspendConfig IE may comprise a ran-PagingCycle field/parameter. The ran-PagingCycle field/parameter may refer to the UE specific cycle for RAN-initiated paging. The SuspendConfig IE may comprise a t380 field/parameter indicating a timer that triggers the periodic RNAU (RAN notification Area Update) procedure in UE.</p><p id="p-0196" num="0195">In an example, an RRCResume message may be used to resume the suspended RRC connection. An IE idleModeMeasurementReq may indicate that the UE may report the idle/inactive measurements, if available, to the network in the RRCResumeComplete message. An IE radioBearerConfig may indicate configuration of Radio Bearers (DRBs, SRBs) including SDAP/PDCP.</p><p id="p-0197" num="0196">In an example, an RRCResumeComplete message may be used to confirm the successful completion of an RRC connection resumption. In an example, an RRCResumeRequest message may be used to request the resumption of a suspended RRC connection or perform an RNA update.</p><p id="p-0198" num="0197">In example embodiments, a MAC entity may be configured by RRC per Serving Cell with a beam failure recovery procedure which may be used for indicating to the serving gNB of a new SSB or CSI-RS when beam failure is detected on the serving SSB(s)/CSI-RS(s). Beam failure may be detected by counting beam failure instance indication from the lower layers to the MAC entity. If beamFailureRecoveryConfig is reconfigured by upper layers during an ongoing Random Access procedure for beam failure recovery for SpCell, the MAC entity may stop the ongoing Random Access procedure and may initiate a Random Access procedure using the new configuration.</p><p id="p-0199" num="0198">In example embodiments, RRC may configure the following parameters in one or more IEs (e.g., the BeamFailureRecoveryConfig, BeamFailureRecoverySCellConfig, and the RadioLinkMonitoringConfig) for the Beam Failure Detection and Recovery procedure: beamFailureInstanceMaxCount (for the beam failure detection); beamFailureDetectionTimer (for the beam failure detection); beamFailureRecoveryTimer (for the beam failure recovery procedure); rsrp-ThresholdSSB (an RSRP threshold for the SpCell beam failure recovery); rsrp-ThresholdBFR (an RSRP threshold for the SCell beam failure recovery); powerRampingStep (powerRampingStep for the SpCell beam failure recovery); powerRampingStepHighPriority (powerRampingStepHighPriority for the SpCell beam failure recovery); preambleReceivedTargetPower (preambleReceivedTargetPower for the SpCell beam failure recovery); preambleTransMax (preambleTransMax for the SpCell beam failure recovery); scalingFactorBI (scalingFactorBI for the SpCell beam failure recovery); ssb-perRACH-Occasion (ssb-perRACH-Occasion for the SpCell beam failure recovery using contention-free Random Access Resources); ra-ResponseWindow (the time window to monitor response(s) for the SpCell beam failure recovery using contention-free Random Access Resources); prach-ConfigurationIndex (prach-ConfigurationIndex for the SpCell beam failure recovery using contention-free Random Access Resources); ra-ssb-OccasionMaskIndex (ra-ssb-OccasionMaskIndex for the SpCell beam failure recovery using contention-free Random Access Resources); ra-OccasionList (ra-OccasionList for the SpCell beam failure recovery using contention-free Random Access Resources); candidateBeamRSList (list of candidate beams for SpCell beam failure recovery); candidateBeamRSSCellList (list of candidate beams for SCell beam failure recovery).</p><p id="p-0200" num="0199">In an example, the following UE variable may be used for the beam failure detection procedure: BFI_COUNTER (per Serving Cell) as a counter for beam failure instance indication which may be initially set to 0.</p><p id="p-0201" num="0200">In an example, if beam failure instance indication has been received from lower layers: the MAC entity may, for each Serving Cell configured for beam failure detection, start or restart the beamFailureDetectionTimer and may increment BFI_COUNTER by 1.</p><p id="p-0202" num="0201">In an example, if beam failure instance indication has been received from lower layers: if the Serving Cell is SCell, the MAC entity may, for each Serving Cell configured for beam failure detection, trigger a BFR for this Serving Cell.</p><p id="p-0203" num="0202">In an example, if beam failure instance indication has been received from lower layers: if the Serving Cell is not a SCell (e.g., if the Serving Cell is SpCell), the MAC entity may, for each Serving Cell configured for beam failure detection, initiate a Random Access procedure on the SpCell.</p><p id="p-0204" num="0203">In an example, if the beamFailureDetectionTimer expires; or if beamFailureDetectionTimer, beamFailureInstanceMaxCount, or any of the reference signals used for beam failure detection is reconfigured by upper layers associated with this Serving Cell: the MAC entity may, for each Serving Cell configured for beam failure detection, set BFI_COUNTER to 0.</p><p id="p-0205" num="0204">In an example, if the Serving Cell is SpCell and the Random Access procedure initiated for SpCell beam failure recovery is successfully completed, the MAC entity may, for each Serving Cell configured for beam failure detection, set BFI_COUNTER to 0; stop the beamFailureRecoveryTimer, if configured; and consider the Beam Failure Recovery procedure successfully completed.</p><p id="p-0206" num="0205">In an example, if the Serving Cell is SCell, and a PDCCH addressed to C-RNTI indicating uplink grant for a new transmission is received for the HARQ process used for the transmission of the BFR MAC CE or Truncated BFR MAC CE which contains beam failure recovery information of this Serving Cell; or if the SCell is deactivated, the MAC entity may, for each Serving Cell configured for beam failure detection, set BFI_COUNTER to 0; and consider the Beam Failure Recovery procedure successfully completed and cancel all the triggered BFRs for this Serving Cell.</p><p id="p-0207" num="0206">In an example, if the Beam Failure Recovery procedure determines that at least one BFR has been triggered and not cancelled for an SCell for which evaluation of the candidate beams has been completed: if UL-SCH resources are available for a new transmission and if the UL-SCH resources can accommodate the BFR MAC CE plus its subheader as a result of LCP: the MAC entity may instruct the Multiplexing and Assembly procedure to generate the BFR MAC CE.</p><p id="p-0208" num="0207">In an example, if the Beam Failure Recovery procedure determines that at least one BFR has been triggered and not cancelled for an SCell for which evaluation of the candidate beams has been completed: if UL-SCH resources are available for a new transmission and if the UL-SCH resources can accommodate the Truncated BFR MAC CE plus its subheader as a result of LCP: the MAC entity may instruct the Multiplexing and Assembly procedure to generate the Truncated BFR MAC CE.</p><p id="p-0209" num="0208">In an example, if the Beam Failure Recovery procedure determines that at least one BFR has been triggered and not cancelled for an SCell for which evaluation of the candidate beams has been completed: if UL-SCH resources are not available for a new transmission or if the UL-SCH resources can not accommodate the BFR MAC CE plus its subheader or the Truncated BFR MAC CE plus its subheader as a result of LCP, the MAC entity may trigger the SR for SCell beam failure recovery for each SCell for which BFR has been triggered, not cancelled, and for which evaluation of the candidate beams has been completed.</p><p id="p-0210" num="0209">In an example, BFRs triggered for an SCell may be cancelled when a MAC PDU is transmitted and this PDU includes a BFR MAC CE or Truncated BFR MAC CE which contains beam failure information of that SCell.</p><p id="p-0211" num="0210">In example embodiments as shown in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, a MAC layer of the wireless device may receive beam failure instance indications from the lower layers (e.g., Physical layer) of the wireless device. A beam failure instance indication may be based on measuring reference signals (e.g., synchronization signal block (SSB) or channel state information reference signal (CSI-RS)) associated with (e.g., received via) a downlink beam. For example, a beam failure instance indication may be in response to an RSRP, measured for a reference signal that is associated with a downlink beam, being smaller than a threshold (e.g., a predetermined or a configurable (e.g., RRC configurable) threshold). The wireless device may maintain a beam failure instance indication counter and may increment the beam failure instance indication counter in response to a beam failure instance indication. The beam failure instance indication counter may be specific to a BWP (e.g., an active BWP of a serving cell) and the wireless device may increment the beam failure instance indication counter in response to a beam failure instance indication for a downlink beam corresponding to the BWP. The wireless device may further start/restart a beam failure detection timer with a value. The beam failure detection timer may be specific to a BWP (e.g., an active BWP of a serving cell) and the wireless device may start/restart the beam failure detection timer in response to a beam failure instance indication for a downlink beam corresponding to the BWP. The wireless device may receive a configuration parameter (e.g., an RRC configuration parameter received via one or more RRC messages) indicating the value of the beam failure detection timer. In response to the beam failure detection timer expiring, the wireless device may set the corresponding beam failure instance indication counter to zero. The wireless device may further receive a configuration parameter (e.g., an RRC configuration parameter received via one or more RRC messages) indicating a threshold (e.g., a beam failure instance max count). In response to the beam failure instance indication counter reaching the threshold, the wireless device may start a beam failure recovery procedure. In an example, a beam failure recovery procedure may be based on whether the beam failure recovery is for a primary cell (e.g., PCell/PSCell) or for a secondary cell (SCell). In response to the beam failure recovery being for the primary cell, the wireless device may start a random access procedure for the beam failure recovery. A random access preamble/resource/occasion of the random access process may indicate a new downlink beam and its corresponding SSB or CSI-RS compared to a current serving downlink beam (e.g., the downlink beam for which beam failure is detected) and its corresponding SSB or CSI-RS. In response to the beam failure being detected for a SCell, the wireless device may trigger a BFR and may transmit a BFR MAC CE.</p><p id="p-0212" num="0211">In example embodiments, the MAC CEs for BFR may comprise of either: BFR MAC CE; or Truncated BFR MAC CE. <figref idref="DRAWINGS">FIG. <b>17</b></figref> shows BFR and Truncated BFR MAC CE with one octet Ci field. <figref idref="DRAWINGS">FIG. <b>18</b></figref> shows BFR and Truncated BFR MAC CE with four octets Ci field.</p><p id="p-0213" num="0212">In example embodiments, the BFR MAC CE and Truncated BFR MAC CE may be identified by a MAC subheader with a corresponding LCID/eLCID.</p><p id="p-0214" num="0213">In example embodiments, the BFR MAC CE and Truncated BFR MAC CE may have a variable size. They may include a bitmap and in ascending order based on the ServCellIndex, beam failure recovery information e.g., octets containing candidate beam availability indication (AC) for SCells indicated in the bitmap. For BFR MAC CE, a single octet bitmap may be used when the highest ServCellIndex of this MAC entity's SCell for which beam failure is detected and the evaluation of the candidate beams has been completed is less than 8, otherwise four octets may be used. In an example, a MAC PDU may contain at most one BFR MAC CE.</p><p id="p-0215" num="0214">In example embodiments, for Truncated BFR MAC CE, a single octet bitmap may be used for the following cases, otherwise four octets may be used: the highest ServCellIndex of this MAC entity's SCell for which beam failure is detected and the evaluation of the candidate beams has been completed is less than 8; or beam failure is detected for SpCell and the SpCell is to be indicated in a Truncated BFR MAC CE and the UL-SCH resources available for transmission cannot accommodate the Truncated BFR MAC CE with the four octets bitmap plus its subheader as a result of LCP.</p><p id="p-0216" num="0215">In example embodiments, the fields in the BFR MAC CEs may be defined as follows.</p><p id="p-0217" num="0216">SP field may indicate beam failure detection for the SpCell of this MAC entity. The SP field may be set to 1 to indicate that beam failure is detected for SpCell when BFR MAC CE or Truncated BFR MAC CE is to be included into a MAC PDU as part of Random Access Procedure, otherwise, it may be set to 0.</p><p id="p-0218" num="0217">Ci (BFR MAC CE) field may indicate beam failure detection and the presence of an octet containing the AC field for the SCell with ServCellIndex i. The Ci field set to 1 may indicate that beam failure is detected, the evaluation of the candidate beams has been completed, and the octet containing the AC field is present for the SCell with ServCellIndex i. The Ci field set to 0 may indicate that the beam failure is either not detected or the beam failure is detected but the evaluation of the candidate beams has not been completed, and the octet containing the AC field may not be present for the SCell with ServCellIndex i. The octets containing the AC field may be present in ascending order based on the ServCellIndex.</p><p id="p-0219" num="0218">Ci (Truncated BFR MAC CE) field may indicate beam failure detection for the SCell with ServCellIndex i. The Ci field set to 1 may indicate that beam failure is detected, the evaluation of the candidate beams has been completed, and the octet containing the AC field for the SCell with ServCellIndex i may be present. The Ci field set to 0 may indicate that the beam failure is either not detected or the beam failure is detected but the evaluation of the candidate beams has not been completed, and the octet containing the AC field is not present for the SCell with ServCellIndex i. The octets containing the AC field, if present, may be included in ascending order based on the ServCellIndex. The number of octets containing the AC field included may be maximised, while not exceeding the available grant size.</p><p id="p-0220" num="0219">AC field may indicate the presence of the Candidate RS ID field in this octet. If at least one of the SSBs with SS-RSRP above rsrp-ThresholdBFR amongst the SSBs in candidateBeamRSSCellList or the CSI-RSs with CSI-RSRP above rsrp-ThresholdBFR amongst the CSI-RSs in candidateBeamRSSCellList is available, the AC field may be set to 1; otherwise, it may be set to 0. If the AC field set to 1, the Candidate RS ID field may be present. If the AC field set to 0, R bits may be present instead.</p><p id="p-0221" num="0220">Candidate RS ID field may be set to the index of an SSB with SS-RSRP above rsrp-ThresholdBFR amongst the SSBs in candidateBeamRSSCellList or to the index of a CSI-RS with CSI-RSRP above rsrp-ThresholdBFR amongst the CSI-RSs in candidateBeamRSSCellList. Index of an SSB or CSI-RS may be the index of an entry in candidateBeamRSSCellList corresponding to the SSB or CSI-RS. Index 0 may correspond to the first entry in the candidateBeamRSSCellList, index 1 may correspond to the second entry in the list and so on. The length of this field may be 6 bits.</p><p id="p-0222" num="0221">Small data transmission based on configured grants or random access may be used by a wireless device in RRC_INACTIVE state. Existing beam failure detection and recovery procedures may not be efficient for a wireless device in the RRC_INACTIVE state and may lead to excessive UE power consumption and/or inefficiencies in wireless device and wireless network performance. There is a need to enhance the existing beam failure detection and recovery procedures for data transmission in the RRC_INACTIVE state. Example embodiments enhance the beam failure detection and recovery procedures in the RRC_INACTIVE state.</p><p id="p-0223" num="0222">In example embodiments, a wireless device may receive one or more messages (e.g., one or more RRC messages) comprising configuration parameters. The one or more messages may comprise configuration parameters of one or more cells. For example, in case of carrier aggregation, the one or more cells may comprise a primary cell and one or more secondary cells. The one or more cells may be provided for the wireless device by a single base station or multiple base stations. For example, in case of multi-connectivity (e.g., dual connectivity), one or more first cells, of the one or more cells configured for the wireless device, may be provided by a first base station (e.g., a master base station) and one or more second cells, of the one or more cells configured for the wireless device, may be provided by a second base station (e.g., a secondary base station). The one or more RRC messages may comprises one or more information elements (e.g., BeamFailureRecoveryConfig, BeamFailureRecoverySCell Config, etc.) associated with beam failure detection and/or recovery. The one or more information elements for beam failure detection and/or recovery may be BWP-specific (e.g., for an active BWP of a serving cell). The one or more information elements may comprise configuration parameters used in beam failure detection and/or recovery procedures, for example, a beam failure instance threshold (e.g., beam failure max count), a beam failure detection timer value, a beam failure recovery timer, etc. In an example, the configuration parameters used in beam failure detection and/or recovery procedures may be used by the wireless device in an RRC_CONNECTED state.</p><p id="p-0224" num="0223">In an example embodiment as shown in <figref idref="DRAWINGS">FIG. <b>19</b></figref>, a wireless device may receive one or more messages (e.g., one or more RRC messages) comprising first configuration parameters for beam failure detection and/or beam failure recovery. The first configuration parameters may be for beam failure detection and/or beam failure recovery in an RRC_CONNECTED state. The wireless device may perform beam failure detection and/or beam failure recovery during the RRC_CONNECTED state using the first configuration parameters. The wireless device may receive an RRC release message indicating transitioning of the wireless device from the RRC_CONNECTED state to the RRC_INACTIVE state. For example, the RRC release message may comprise a suspend config information element indicating transitioning of the wireless device from the RRC_CONNECTED state to the RRC_INACTIVE state. The suspend config IE may comprise configuration parameters used by the wireless device in the RRC_INACTIVE state. The RRC release message (e.g., the suspend config IE in the RRC release message) may comprise second configuration parameters used by the wireless device for beam failure detection and/or beam failure recovery during the RRC_INACTIVE state. The wireless device may perform beam failure detection and/or beam failure recovery during the RRC_INACTIVE state using the second configuration parameters.</p><p id="p-0225" num="0224">In an example, a first configuration parameter of the first configuration parameters may indicate a first threshold for number of beam failure instance indications used in beam failure detection during the RRC_CONECTED state (e.g., a first beam failure instance max count) and a second configuration parameter of the second configuration parameters may indicate a second threshold for number of beam failure instance indications used in beam failure detection during the RRC_INACTIVE state (e.g., a second beam failure instance max count). During the RRC_CONNECTED state, the wireless device may determine/detect beam failure based on a number of beam failure instance indications reaching the first threshold (e.g., the first beam failure instance max count). During the RRC_INACTIVE state, the wireless device may determine/detect beam failure based on a number of beam failure instance indications reaching the second threshold (e.g., the second beam failure instance max count). In an example, the second threshold may be smaller than the first threshold.</p><p id="p-0226" num="0225">In an example, a third configuration parameter of the first configuration parameters may indicate a first beam failure detection timer value of a first beam failure detection timer used in beam failure detection during the RRC_CONECTED state and a fourth configuration parameter of the second configuration parameters may indicate a second beam failure detection timer value of a beam failure detection timer used in beam failure detection during the RRC_INACTIVE state. During the RRC_CONNECTED state, the wireless device may start/restart a first beam failure detection timer with the first beam failure detection timer value in response to a beam failure instance indication. The wireless device may set a first beam failure instance indication counter, used during the RRC_CONNECTED state, to zero based on the first beam failure detection timer expiring. During the RRC_INACTIVE state, the wireless device may start/restart a second beam failure detection timer with the second beam failure detection timer value in response to a beam failure instance indication. The wireless device may set a second beam failure instance indication counter, used in the RRC_INACTIVE state, to zero based on the second beam failure detection timer expiring.</p><p id="p-0227" num="0226">In an example, a fifth configuration parameter of the first configuration parameters may indicate a first beam failure recovery timer value of a first beam failure recovery timer used in beam failure recovery during the RRC_CONNECTED state. For example, a first beam failure recovery during the RRC_CONNECTED state may comprise initiating a first random access process in response to determining to perform beam failure recovery. The wireless device may start a beam failure recovery timer with the first beam failure recovery timer value in response to initiating the first random access process for beam failure recovery during the RRC_CONNECTED state. The wireless device may stop the first beam failure recovery timer in response to the first random access process being successfully completed. A sixth configuration parameter of the second configuration parameters may indicate a second beam failure recovery timer value of a second beam failure recovery timer used in beam failure recovery during the RRC_INACTIVE state. For example, a second beam failure recovery during the RRC_INACTIVE state may comprise initiating a second random access process in response to determining to perform beam failure recovery. The wireless device may start a beam failure recovery timer with the second beam failure recovery timer value in response to initiating the second random access process for beam failure recovery during the RRC_INACTIVE state. The wireless device may stop the second beam failure recovery timer in response to the second random access process being successfully completed.</p><p id="p-0228" num="0227">In an example, a seventh configuration parameter of the first configuration parameters may indicate a first RSRP threshold used in beam failure recovery during the RRC_CONNECTED state. For example, a first beam failure recovery during the RRC_CONNECTED state may comprise initiating a first random access process in response to determining to perform beam failure recovery. In an example, the first RSRP threshold may be used for the selection of the SSB for the first random access (e.g., a four-step random access or a two-step random access). The selection of the SSB may be from a list of reference signals associated with candidate beams. In an example, the first RSRP threshold may be used for the selection of the CSI-RS for the first random access process (e.g., a four-step random access or two-step random access). In an example, the first RSRP threshold may be used for the selection between a NUL carrier and a SUL carrier. In an example, the first RSRP threshold may be used for the selection between a two-step random access and a four-step random access. An eighth configuration parameter of the first configuration parameters may indicate a second RSRP threshold used in beam failure recovery during the RRC_INACTIVE state. For example, a second beam failure recovery during the RRC_INACTIVE state may comprise initiating a second random access process in response to determining to perform beam failure recovery. In an example, the second RSRP threshold may be used for the selection of the SSB for the second random access (e.g., a four-step random access or a two-step random access). The selection of the SSB may be from a list of reference signals associated with candidate beams. In an example, the second RSRP threshold may be used for the selection of the CSI-RS for the first random access process (e.g., a four-step random access or two-step random access). In an example, the second RSRP threshold may be used for the selection between a NUL carrier and a SUL carrier. In an example, the second RSRP threshold may be used for the selection between a two-step random access and a four-step random access.</p><p id="p-0229" num="0228">In an example, a first beam failure recovery process during the RRC_CONNECTED state may comprise initiating a first random access process in response to beam failure detection, wherein the beam failure detection and/or the beam failure recovery during the RRC_CONNECTDE state may be based on the first configuration parameters. The first random access process may comprise transmitting a first random access preamble via a first random access resource/occasion. The first random access preamble may be associated with a new beam compared to a current serving beam (e.g., the serving beam for which the beam failure is detected).</p><p id="p-0230" num="0229">In an example, a second beam failure recovery process during the RRC_INACTIVE state may comprise initiating a second random access process in response to beam failure detection, wherein the beam failure detection and/or the beam failure recovery during the RRC_INACTIVE state may be based on the second configuration parameters (e.g., received via the RRC release message, e.g., the suspend config IE of the RRC release message). The second random access process may comprise transmitting a second random access preamble via a second random access resource/occasion. The second random access preamble may be associated with a new beam compared to a current serving beam (e.g., the serving beam for which the beam failure is detected).</p><p id="p-0231" num="0230">In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise third configuration parameters of one or more configured grant configurations, wherein the one or more configured grant configurations may be configured for data transmissions (e.g., small data transmissions, e.g., transmission of data packets with limited size) during the RRC inactive state. The wireless device may transmit data (e.g., small data) during the RRC inactive state using the radios resources associated with the one or more configured grant configurations and based on the third configuration parameters.</p><p id="p-0232" num="0231">In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise random access configuration parameters associated with random access processes used for data transmissions (e.g., small data transmissions, e.g., transmission of data packets with limited size) during the RRC_INACTIVE state. For example, the random access configuration parameters may indicate random access resources and/or random access occasions and/or random access preambles used by the wireless device for the random access processes associated with data transmissions (e.g., small data transmissions) during the RRC_INACTIVE state.</p><p id="p-0233" num="0232">In an example, a beam failure recovery process performed in response to a beam failure detection during the RRC_INACTIVE state may comprise switching from a first configured grant configuration to a second configured grant configuration, wherein the first configured grant configuration may be associated with a first synchronization signal block (SSB) and the second configured grant configuration may be associated with a second SSB. In an example, the first SSB may be associated with/received via a first beam (e.g., downlink beam) and the second SSB may be associated with/received via a second beam (e.g., downlink beam). In an example, the RRC configuration parameters (e.g., the third configuration parameters of the one or more configured grant configurations configured for small data transmission during the RRC_INACTIVE state and received, for example, via the RRC release message) may indicate that the first configured grant configuration is associated with the first SSB/beam and the second configured grant configuration is associated with the second SSB/beam. The switching from the first configured grant configuration to the second configured grant configuration may be based on beam measurements indicating that RSRP associated with the second SSB (received via the second beam) being higher than an RSRP threshold and the RSRP associated with the first SSB (e.g., received via the first beam) being smaller than the RSRP threshold.</p><p id="p-0234" num="0233">In an example, a beam failure recovery process performed in response to a beam failure detection during the RRC_INACTIVE state may comprise switching from a first configured grant configuration to a second configured grant configuration, wherein the first configured grant configuration may be associated with a first channel state information reference signal (CSI-RS) and the second configured grant configuration may be associated with a second channel state information (CSI-RS). In an example, the first CSI-RS may be associated with/received via a first beam (e.g., downlink beam) and the second CSI-RS may be associated with/received via a second beam (e.g., downlink beam). In an example, the RRC configuration parameters (e.g., the third configuration parameters of the one or more configured grant configurations configured for small data transmission during the RRC_INACTIVE state and received, for example, via the RRC release message) may indicate that the first configured grant configuration is associated with the first CSI-RS/beam and the second configured grant configuration is associated with the second CSI-RS/beam. The switching from the first configured grant configuration to the second configured grant configuration may be based on beam measurements indicating that RSRP associated with the second CSI-RS (received via the second beam) being higher than an RSRP threshold and the RSRP associated with the first CSI-RS (e.g., received via the first beam) being smaller than the RSRP threshold.</p><p id="p-0235" num="0234">In an example, a beam failure recovery process performed in response to a beam failure detection during the RRC_INACTIVE state may comprise switching from a first configured grant resource to a second configured grant resource, wherein the first configured grant resource may be associated with a first synchronization signal block (SSB) and the second configured grant resource may be associated with a second SSB. In an example, the first SSB may be associated with/received via a first beam (e.g., downlink beam) and the second SSB may be associated with/received via a second beam (e.g., downlink beam). In an example, the RRC configuration parameters (e.g., the third configuration parameters of the one or more configured grant configurations configured for small data transmission during the RRC_INACTIVE state and received, for example, via the RRC release message) may indicate that the first configured grant resource is associated with the first SSB/beam and the second configured grant resource is associated with the second SSB/beam. In an example, the first configured grant resource and the second configured grant resource may be for the same configuration. In an example, the first configured grant resource and the second configured grant resource may be for different configurations. The switching from the first configured grant resource to the second configured grant resource may be based on beam measurements indicating that RSRP associated with the second SSB (received via the second beam) being higher than an RSRP threshold and the RSRP associated with the first SSB (e.g., received via the first beam) being smaller than the RSRP threshold.</p><p id="p-0236" num="0235">In an example, a beam failure recovery process performed in response to a beam failure detection during the RRC_INACTIVE state may comprise switching from a first configured grant resource to a second configured grant resource, wherein the first configured grant resource may be associated with a first channel state information reference signal (CSI-RS) and the second configured grant resource may be associated with a second channel state information (CSI-RS). In an example, the first CSI-RS may be associated with/received via a first beam (e.g., downlink beam) and the second CSI-RS may be associated with/received via a second beam (e.g., downlink beam). In an example, the RRC configuration parameters (e.g., the third configuration parameters of the one or more configured grant configurations configured for small data transmission during the RRC_INACTIVE state and received, for example, via the RRC release message) may indicate that the first configured grant resource is associated with the first CSI-RS/beam and the second configured grant resource is associated with the second CSI-RS/beam. In an example, the first configured grant resource and the second configured grant resource may be for the same configuration. In an example, the first configured grant resource and the second configured grant resource may be for different configurations. The switching from the first configured grant resource to the second configured grant resource may be based on beam measurements indicating that RSRP associated with the second CSI-RS (received via the second beam) being higher than an RSRP threshold and the RSRP associated with the first CSI-RS (e.g., received via the first beam) being smaller than the RSRP threshold.</p><p id="p-0237" num="0236">In an example, a beam failure recovery process performed in response to a beam failure detection during the RRC_INACTIVE state may comprise initiating a random access process. In an example, a random access preamble/occasion/resource used in the random access process may be associated with a new SSB wherein the new SSB may be changed compared to a current serving SSB (e.g., the SSB of the beam for which beam failure is detected). The current serving SSB may be associated with/received via the current serving beam and the new SSB may be associated with/received via the new serving beam. In an example, a random access preamble/occasion/resource of the random access process may be associated with a new CSI-RS wherein the new CSI-RS may be changed compared to a current serving CSI-RS (e.g., the CSI-RS of the beam for which beam failure is detected). The current serving CSI-RS may be associated with/received via the current serving beam and the new CSI-RS may be associated with/received via the new serving beam.</p><p id="p-0238" num="0237">In an example embodiment as shown in <figref idref="DRAWINGS">FIG. <b>20</b></figref>, a wireless device may receive one or more messages (e.g., one or more RRC messages) comprising a first configuration parameter of a beam failure detection timer value of a beam failure detection timer. The first configuration parameter may be used by the wireless device for beam failure detection during an RRC_CONNECTED state. While in the RRC_CONNECTED state and in response to reception of a beam failure instance indication, the wireless device may start a beam failure detection timer with the beam failure detection timer value. The wireless device may receive an RRC release message indicating transitioning of the wireless device from the RRC_CONNECTED state to an RRC_INACTIVE state. For example, the RRC release message may comprise a suspend config IE indicating the transitioning of the wireless device from the RRC_CONNECTED state to the RRC_INACTIVE state and comprising configuration parameters used by the wireless device while in the RRC_INACTIVE state. In response to a beam failure instance indication and while in the RRC_INACTIVE state, the wireless device may not start a beam failure detection timer. In an example, the beam failure detection during the RRC_INACTIVE state may not be based on and/or may not utilize a beam failure detection timer. A first beam failure detection during the RRC_CONNECTD state may be based on and/or utilize the beam failure detection timer and a second beam failure detection during the RRC_INACTIVE state may not be based on and/or may not utilize a beam failure detection timer.</p><p id="p-0239" num="0238">In an example, the wireless device may increment a first beam failure instance indication counter in response to a beam failure instance indication during the RRC_CONNECTED state. The wireless device may start the beam detection timer with the value of the beam failure detection timer indicated by the first configuration parameter in response to the beam failure instance indication. In response to the beam failure detection timer expiring, the wireless device may set the beam failure instance indication counter to zero. A beam failure detection during the RRC_CONNECTED state may be based on a value of the first beam failure instance indication counter and comparing the value with a threshold (e.g., a first beam failure instance max count). In response to the first beam failure instance indication counter reaching the threshold, the wireless device may start a first beam failure recovery process. The wireless device may increment a second beam failure instance indication counter in response to a beam failure instance indication during the RRC_INACTIVE state. In an example, the wireless device may not start a beam failure detection timer in response to the beam failure instance indication. A beam failure detection during the RRC_INACTIVE state may be based on a value of the second beam failure instance indication counter and comparing the value with a threshold (e.g., a second beam failure instance max count). In response to the second beam failure instance indication counter reaching the threshold, the wireless device may start a second beam failure recovery process.</p><p id="p-0240" num="0239">In an example, the first beam failure recovery process may comprise initiating a first random access process. In an example, a random access preamble/occasion/resource used in the first random access process may be associated with a SSB and may indicate a new serving beam, wherein the SSB may be received via the new serving beam. In an example, a random access preamble/occasion/resource used in the first random access process may be associated with a CSI-RS and may indicate a new serving beam, wherein the CSI-RS may be received via the new serving beam.</p><p id="p-0241" num="0240">In an example, the second beam failure recovery process may comprise initiating a second random access process. In an example, a random access preamble/occasion/resource used in the second random access process may be associated with a SSB and may indicate a new serving beam, wherein the SSB may be received via the new serving beam. In an example, a random access preamble/occasion/resource used in the second random access process may be associated with a CSI-RS and may indicate a new serving beam, wherein the CSI-RS may be received via the new serving beam.</p><p id="p-0242" num="0241">In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise configuration parameters of one or more configured grant configurations used for data transmission (e.g., small data transmission, e.g., transmission of packets with limited size) during the RRC_INACTIVE state. A configured grant configuration of the one or more configured grant configurations and/or a configured grant resource associated with a configured grant configuration may be associated with a reference signal/beam (e.g., an SSB or a CSI-RS received via the beam).</p><p id="p-0243" num="0242">In an example, the second beam failure recovery process may comprise switching from a first configured grant configuration to a second configured grant configuration, wherein the first configured grant configuration may be associated with a first synchronization signal block (SSB) and the second configured grant configuration may be associated with a second SSB. In an example, the first SSB may be associated with/received via a first beam (e.g., downlink beam) and the second SSB may be associated with/received via a second beam (e.g., downlink beam). In an example, the RRC configuration parameters (e.g., the configuration parameters of the one or more configured grant configurations configured for small data transmission during the RRC_INACTIVE state and received, for example, via the RRC release message) may indicate that the first configured grant configuration is associated with the first SSB/beam and the second configured grant configuration is associated with the second SSB/beam. The switching from the first configured grant configuration to the second configured grant configuration may be based on beam measurements indicating that RSRP associated with the second SSB (received via the second beam) being higher than an RSRP threshold and the RSRP associated with the first SSB (e.g., received via the first beam) being smaller than the RSRP threshold.</p><p id="p-0244" num="0243">In an example, the second beam failure recovery process may comprise switching from a first configured grant configuration to a second configured grant configuration, wherein the first configured grant configuration may be associated with a first channel state information reference signal (CSI-RS) and the second configured grant configuration may be associated with a second channel state information (CSI-RS). In an example, the first CSI-RS may be associated with/received via a first beam (e.g., downlink beam) and the second CSI-RS may be associated with/received via a second beam (e.g., downlink beam). In an example, the RRC configuration parameters (e.g., the third configuration parameters of the one or more configured grant configurations configured for small data transmission during the RRC_INACTIVE state and received, for example, via the RRC release message) may indicate that the first configured grant configuration is associated with the first CSI-RS/beam and the second configured grant configuration is associated with the second CSI-RS/beam. The switching from the first configured grant configuration to the second configured grant configuration may be based on beam measurements indicating that RSRP associated with the second CSI-RS (received via the second beam) being higher than an RSRP threshold and the RSRP associated with the first CSI-RS (e.g., received via the first beam) being smaller than the RSRP threshold.</p><p id="p-0245" num="0244">In an example, the second beam failure recovery process may comprise switching from a first configured grant resource to a second configured grant resource, wherein the first configured grant resource may be associated with a first synchronization signal block (SSB) and the second configured grant resource may be associated with a second SSB. In an example, the first SSB may be associated with/received via a first beam (e.g., downlink beam) and the second SSB may be associated with/received via a second beam (e.g., downlink beam). In an example, the RRC configuration parameters (e.g., the third configuration parameters of the one or more configured grant configurations configured for small data transmission during the RRC_INACTIVE state and received, for example, via the RRC release message) may indicate that the first configured grant resource is associated with the first SSB/beam and the second configured grant resource is associated with the second SSB/beam. In an example, the first configured grant resource and the second configured grant resource may be for the same configuration. In an example, the first configured grant resource and the second configured grant resource may be for different configurations. The switching from the first configured grant resource to the second configured grant resource may be based on beam measurements indicating that RSRP associated with the second SSB (received via the second beam) being higher than an RSRP threshold and the RSRP associated with the first SSB (e.g., received via the first beam) being smaller than the RSRP threshold.</p><p id="p-0246" num="0245">In an example, the second beam failure recovery process may comprise switching from a first configured grant resource to a second configured grant resource, wherein the first configured grant resource may be associated with a first channel state information reference signal (CSI-RS) and the second configured grant resource may be associated with a second channel state information (CSI-RS). In an example, the first CSI-RS may be associated with/received via a first beam (e.g., downlink beam) and the second CSI-RS may be associated with/received via a second beam (e.g., downlink beam). In an example, the RRC configuration parameters (e.g., the third configuration parameters of the one or more configured grant configurations configured for small data transmission during the RRC_INACTIVE state and received, for example, via the RRC release message) may indicate that the first configured grant resource is associated with the first CSI-RS/beam and the second configured grant resource is associated with the second CSI-RS/beam. In an example, the first configured grant resource and the second configured grant resource may be for the same configuration. In an example, the first configured grant resource and the second configured grant resource may be for different configurations. The switching from the first configured grant resource to the second configured grant resource may be based on beam measurements indicating that RSRP associated with the second CSI-RS (received via the second beam) being higher than an RSRP threshold and the RSRP associated with the first CSI-RS (e.g., received via the first beam) being smaller than the RSRP threshold.</p><p id="p-0247" num="0246">In an example embodiment as shown in <figref idref="DRAWINGS">FIG. <b>21</b></figref>, a wireless device may receive one or more messages (e.g., one or more RRC messages) comprising first configuration parameters for beam failure detection and/or beam failure recovery. The first configuration parameters may be used by the wireless device while the wireless device is in an RRC_CONNECTD state. The wireless device may monitor reference signals (e.g., SSB and/or CSI-RS) associated with/received via a plurality of beams and may monitor the reference signals for beam failure detection during the RRC_CONNECTED state. The reference signals monitoring and the beam-related measurements may be continuously performed by the wireless device in the RRC_CONNECTED state. For example, the reference signals monitoring and the beam-related measurements performed in the RRC_CONNECTED state may be independent of uplink transmissions (e.g., uplink packet/TB transmissions, e.g., timings of uplink packets/TBs transmissions) during the RRC_CONNECTED state. The wireless device may receive an RRC release message, wherein the RRC release message (e.g., a suspend config IE of the RRC release message) may indicate transitioning of the wireless device from the RRC_CONNECTED state to an RRC_INACTIVE state. The suspend config IE may comprise configuration parameters for wireless device operation (e.g., beam failure detection and/or recovery, etc.). For example, the RRC release message (e.g., the suspend config IE of the RRC release message) may comprise configuration parameters of one or more configured grant configurations used for data transmission (e.g., small data transmission, e.g., transmission of small packets with limited size) during the RRC_INACTIVE state. For example, the RRC release message (e.g., the suspend config IE of the RRC release message) may comprise random access configuration parameters of random access processes used for data transmission (e.g., small data transmission, e.g., transmission of small packets with limited size) during the RRC_INACTIVE state. While in the RRC_INACTIVE state, the wireless device may transmit a transport block (TB). In an example, the transmission of the TB may be based on a configured grant resource associated with a configured grant configuration of the one or more configured grant configurations. In an example, the transmission of the TB may be based on a random access process (e.g., a Msg A of a two-step random access process or a Msg 3 of a four-step random access process). In an example, transmission of the TB may be based on a dynamic grant. The wireless device may receive a DCI comprising the dynamic grant indicating transmission parameters for transmission of the TB.</p><p id="p-0248" num="0247">The wireless device may determine a time window for beam failure detection and related beam/reference signal measurements, wherein the time window (e.g., a starting time and/or an ending time of the time window) may be based on a timing of transmission of the TB. The wireless device may determine the staring time and/or the ending time of the time window based on the timing of transmission of the TB. For example, the wireless device may transmit the TB via one or more symbols of a slot. A starting time or an ending time of the time window may be based on a first symbols of the one or more symbols. For example, a starting time of the time window may be based on a last symbol of the one or more symbols used in transmission of the TB. For example, a starting time of the time window may be an offset from the last symbol of the one or more symbols used in transmission of the TB. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset. For example, the starting time of the time window may be the last symbol of the one or more symbols used in transmission of the TB. A duration of the time window may be a first number of symbols/slots. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the duration of the time window.</p><p id="p-0249" num="0248">In an example, the time window may comprise a first time window associated with monitoring downlink control channel (e.g., PDCCH) in response to transmission of the TB. The wireless device may monitor the downlink control channel during the first time window to receive a grant for a subsequent transmission (e.g., retransmission of the TB) in response to transmission of the TB, for example due to unsuccessful reception of the TB at the base station. In an example, the time window may be the first time window and the time window for beam failure detection and the related reference signals measurement may be the duration/window/period following the transmission of the TB wherein the PDCCH is monitored for reception of a grant for subsequent transmission/retransmission of the TB. In an example, as shown in <figref idref="DRAWINGS">FIG. <b>22</b></figref>, the wireless device may determine to extend the beam failure detection and the related beam/reference signals measurements after the first time window (e.g., the first time window to monitor PDCCH for receiving a grant for subsequent transmission (e.g., retransmission of the TB) in response to transmission of the TB) based on a number of beam failure detections or beam failure instance indications during the first time window. For example, based on the number of beam failure detections or beam failure instance indications during the first time window being equal to or larger than N (e.g., 1, 2, . . . ), the wireless device may continue beam failure detections and the related beam/reference signals measurements after the first time window. In an example, the wireless device may determine to extend the beam failure detection and the related beam/reference signals measurements after the first time window based on at least one beam failure detection or beam failure instance indication during the first time window. In an example, the wireless device may not extend the beam failure detection and the related beam/reference signals measurements in response to no beam failure detection or no beam failure instance indication during the first time window.</p><p id="p-0250" num="0249">The wireless device may monitor for beam failure detection (e.g., may measure reference signals (e.g., SSB and/or CSI-RS) associated with/received via one or more downlink beams) during the time window. The monitoring for beam failure detection may comprise measuring/monitoring one or more reference signals (e.g., SSB and/or CSI-RS) associated with/received via one or more beams comprising one or more current serving beams.</p><p id="p-0251" num="0250">In an example embodiment as shown in <figref idref="DRAWINGS">FIG. <b>23</b></figref>, a wireless device may receive one or more messages (e.g., one or more RRC messages) comprising first configuration parameters for beam failure detection and/or beam failure recovery. The first configuration parameters may be used by the wireless device while the wireless device is in an RRC_CONNECTD state. While in the RRC_CONNECTED state, the wireless device may increment a beam failure instance indication counter in response to a beam failure instance indication. The wireless device may start a beam failure detection timer in response to the beam failure instance indication. The wireless device may set the beam failure instance indication counter to zero based on the beam failure detection timer expiring. The wireless device may receive an RRC release message, wherein the RRC release message (e.g., a suspend config IE of the RRC release message) may indicate transitioning of the wireless device from the RRC_CONNECTED state to an RRC_INACTIVE state. The suspend config IE may comprise configuration parameters for wireless device operation (e.g., beam failure detection and/or recovery, etc.). For example, the RRC release message (e.g., the suspend config IE of the RRC release message) may comprise configuration parameters of one or more configured grant configurations used for data transmission (e.g., small data transmission, e.g., transmission of small packets with limited size) during the RRC_INACTIVE state. For example, the RRC release message (e.g., the suspend config IE of the RRC release message) may comprise random access configuration parameters of random access processes used for data transmission (e.g., small data transmission, e.g., transmission of small packets with limited size) during the RRC_INACTIVE state. For example, the random access configuration parameters may indicate random access occasions/resources/preamble for random access processes during the RRC_INACTIVE state. While in the RRC_INACTIVE state, the wireless device may transmit one or more transport blocks (TBs). In an example, transmission of one or more first TBs of the one or more TBs may be based on configuration parameters of the one or more configured grant configurations. In an example, transmission of one or more first TBs of the one or more TBs may be based on one or more random access processes (e.g., Msg A in two-step random access processes or Msg 3 in four-step random access processes) and based on the random access configuration parameters. In an example, transmission of one or more first TBs of the one or more TBs may be based on one or more dynamic grants. The wireless device may receive one or more DCIs indicating the one or more dynamic grants.</p><p id="p-0252" num="0251">The wireless device may determine one or more time windows, corresponding to the one or more TBs, for beam failure detection and related beam/reference signal measurements. The one or more time windows (e.g., starting times and/or an ending times of the one or more time windows) may be based on timings of transmissions of the one or more TBs. The wireless device may determine a staring time and/or an ending time of a time window, in the one or more time windows, based on the timing of transmission of a corresponding TB. For example, the wireless device may transmit a TB, in the one or more TBs, via one or more symbols of a slot. A starting time or an ending time of a time window, corresponding to the TB, may be based on a first symbols of the one or more symbols. For example, a starting time of the time window may be based on a last symbol of the one or more symbols used in transmission of the TB. For example, a starting time of the time window may be an offset from the last symbol of the one or more symbols used in transmission of the TB. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset. For example, the starting time of the time window may be the last symbol of the one or more symbols used in transmission of the TB. A duration of the time window may be a first number of symbols/slots. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the duration of the time window.</p><p id="p-0253" num="0252">In an example as shown in <figref idref="DRAWINGS">FIG. <b>24</b></figref>, a time window, in the one or more time windows, may comprise a first time window associated with monitoring downlink control channel (e.g., PDCCH) in response to transmission of the TB. The wireless device may monitor the downlink control channel during the first time window to receive a grant for a subsequent transmission (e.g., retransmission of the TB) in response to transmission of the TB, for example due to unsuccessful reception of the TB at the base station.</p><p id="p-0254" num="0253">While in the RRC_INACTIVE state, the wireless device may increment a beam failure instance indication counter in response to a beam failure instance indication. The beam failure instance indication may be during the one or more time windows associated with the one or more TBs in which the beam failure detection and beam/reference signal related measurements is performed. The wireless device set the beam failure instance indication counter to zero in response to no beam failure instance indications during the one or more time windows, for example, during N (e.g., 1, 2, . . . ) time windows (e.g., N consecutive time windows) associated with the one or more TBs (e.g., N consecutive TBs) transmitted during the RRC_INACTIVE state. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may indicate the value of N.</p><p id="p-0255" num="0254">In an example embodiment as shown in <figref idref="DRAWINGS">FIG. <b>25</b></figref>, a wireless device may receive one or more messages (e.g., one or more RRC messages) comprising first configuration parameters for beam failure detection and/or beam failure recovery. The first configuration parameters may be used by the wireless device while the wireless device is in an RRC_CONNECTD state. While in the RRC_CONNECTED state, the wireless device may increment a beam failure instance indication counter in response to a beam failure instance indication. The wireless device may receive an RRC release message, wherein the RRC release message (e.g., a suspend config IE of the RRC release message) may indicate transitioning of the wireless device from the RRC_CONNECTED state to an RRC_INACTIVE state. The suspend config IE may comprise configuration parameters for wireless device operation (e.g., beam failure detection and/or recovery, etc.). For example, the RRC release message (e.g., the suspend config IE of the RRC release message) may comprise configuration parameters of one or more configured grant configurations used for data transmission (e.g., small data transmission, e.g., transmission of small packets with limited size) during the RRC_INACTIVE state. For example, the RRC release message (e.g., the suspend config IE of the RRC release message) may comprise random access configuration parameters of random access processes used for data transmission (e.g., small data transmission, e.g., transmission of small packets with limited size) during the RRC_INACTIVE state. For example, the random access configuration parameters may indicate random access occasions/resources/preamble for random access processes during the RRC_INACTIVE state. While in the RRC_INACTIVE state, the wireless device may determine a timing of a scheduled uplink transmission (e.g., a TB). In an example, the wireless device may determine the timing of the scheduled uplink transmission based on the configuration parameters of the one or more configured grant configurations in response to the scheduled uplink transmission being via a configured grant resource. In an example, the wireless device may determine the timing of the scheduled uplink transmission, wherein the scheduled uplink transmission may be via a Msg A (of a two-step random access process) or via a Msg 3 (of a four-step random access process), for example based on the random access configuration parameters. In an example, the wireless device may determine the timing of the scheduled uplink transmission based on a DCI (e.g., resource assignment parameters in the DCI) in response to the scheduled uplink transmission being scheduled by a dynamic grant of the DCI.</p><p id="p-0256" num="0255">The wireless device may perform beam-related measurements, while in the RRC_INACTIVE state, during a time window that is based on the timing of the scheduled uplink transmission. The beam-related measurements may comprise measuring reference signals (e.g., SSB or CSI-RS) associated with/received via a plurality of downlink beams comprising a current serving downlink beam. In an example, the wireless device may perform the beam-related measurements to determine/detect beam failure for a current serving downlink beam or to determine whether the current serving downlink beam is subject to beam failure. In an example, based on the beam-related measurements, the wireless device may determine a first downlink beam from a plurality of downlink beams. In an example, the wireless device may use the determined first downlink beam for reception of downlink control information following transmission of the scheduled uplink transmission. The wireless device may receive PDCCH carrying downlink control information comprising an uplink grant for retransmission/subsequent transmission of the uplink transmission.</p><p id="p-0257" num="0256">The determining the time window may comprise determining a starting time and an ending time of the time window. In an example, the starting time of the time window may be an offset before the starting time of the scheduled uplink transmission. The offset may be a configurable parameter or a pre-determined/pre-configured value. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset (for example, in a number of symbols). In an example, the offset may be based on wireless device capability.</p><p id="p-0258" num="0257">In an example, the ending time of the time window may be an offset before the starting time of the scheduled uplink transmission. The offset may be a configurable parameter or a pre-determined/pre-configured value. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset (for example, in a number of symbols). In an example, the offset may be based on wireless device capability.</p><p id="p-0259" num="0258">In an example, the transmission of the scheduled uplink transmission (e.g., TB) may be via one or more symbol. The ending time of the time window may be the first/starting symbol of the one or more symbols.</p><p id="p-0260" num="0259">In an example, the transmission of the scheduled uplink transmission (e.g., TB) may be via one or more symbol. The starting time of the time window may be an offset (e.g., in a number of symbols) after the last/ending symbol of the one or more symbols. The offset may be a configurable parameter or a pre-determined/pre-configured value. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset (for example, in a number of symbols). In an example, the offset may be based on wireless device capability.</p><p id="p-0261" num="0260">In an example embodiment as shown in <figref idref="DRAWINGS">FIG. <b>26</b></figref>, a wireless device may receive one or more messages (e.g., one or more RRC messages) comprising first configuration parameters for beam failure detection and/or beam failure recovery. The first configuration parameters may be used by the wireless device while the wireless device is in an RRC_CONNECTD state. The first configuration parameters may comprise a threshold (e.g., a beam failure instance max count) for beam failure detection. While in the RRC_CONNECTED state, the wireless device may increment a beam failure instance indication counter in response to a beam failure instance indication. In response to the beam failure instance indication counter reaching the threshold, the wireless device start/trigger a beam failure recovery procedure.</p><p id="p-0262" num="0261">The wireless device may receive an RRC release message, wherein the RRC release message (e.g., a suspend config IE of the RRC release message) may indicate transitioning of the wireless device from the RRC_CONNECTED state to an RRC_INACTIVE state. The suspend config IE may comprise configuration parameters for wireless device operation (e.g., beam failure detection and/or recovery, etc.). For example, the RRC release message (e.g., the suspend config IE of the RRC release message) may comprise configuration parameters of one or more configured grant configurations used for data transmission (e.g., small data transmission, e.g., transmission of small packets with limited size) during the RRC_INACTIVE state. For example, the RRC release message (e.g., the suspend config IE of the RRC release message) may comprise random access configuration parameters of random access processes used for data transmission (e.g., small data transmission, e.g., transmission of small packets with limited size) during the RRC_INACTIVE state. For example, the random access configuration parameters may indicate random access occasions/resources/preambles for random access processes during the RRC_INACTIVE state. While in the RRC_INACTIVE state, the wireless device may transmit a TB. In an example, the wireless device may transmit the TB via a configured grant resource based on the configuration parameters of the one or more configured grant configurations. In an example, the wireless device may transmit the TB based on a random access message (e.g., a Msg A of a two-step random access process or a Msg 3 of a four-step random access process) and based on the random access configuration parameters. In an example, the wireless device may transmit the TB based on a dynamic grant and the wireless device may receive a DCI comprising the dynamic grant indicating transmission parameters of the TB.</p><p id="p-0263" num="0262">The wireless device may determine a time window for beam failure detection and related beam/reference signal measurements, wherein the time window (e.g., a starting time and/or an ending time of the time window) may be based on a timing of transmission of the TB. The wireless device may determine the staring time and/or the ending time of the time window based on the timing of transmission of the TB. For example, the wireless device may transmit the TB via one or more symbols of a slot. A starting time or an ending time of the time window may be based on a first symbols of the one or more symbols. For example, a starting time of the time window may be based on a last symbol of the one or more symbols used in transmission of the TB. For example, a starting time of the time window may be an offset from the last symbol of the one or more symbols used in transmission of the TB. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset. For example, the starting time of the time window may be the last symbol of the one or more symbols used in transmission of the TB. A duration of the time window may be a first number of symbols/slots. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the duration of the time window.</p><p id="p-0264" num="0263">In an example as shown in <figref idref="DRAWINGS">FIG. <b>27</b></figref>, the time window may comprise a first time window associated with monitoring downlink control channel (e.g., PDCCH) in response to transmission of the TB. The wireless device may monitor the downlink control channel during the first time window to receive a grant for a subsequent transmission (e.g., retransmission of the TB) in response to transmission of the TB, for example due to unsuccessful reception of the TB at the base station. In an example, the time window may be the first time window and the time window for beam failure detection and the related reference signals measurement may be the duration/window/period following the transmission of the TB wherein the PDCCH is monitored for reception of a grant for subsequent transmission/retransmission of the TB.</p><p id="p-0265" num="0264">While in the RRC_INACTIVE state, the wireless device may monitor for the beam failure detection during the time window. While in the RRC_INACTIVE state, the wireless device may monitor for the beam failure detection during time windows associated with the transmitted TBs. In an example, the time windows associated with the transmitted TBs may be the durations/windows/periods following the transmission of the TBs wherein the PDCCH is monitored for reception of grant for subsequent transmission/retransmission of the TBs.</p><p id="p-0266" num="0265">For example, the wireless device may measure reference signals (e.g., SSB or CSI-RS) associated with/received via one or more downlink beams comprising the current serving downlink beam. The wireless device may increment a beam failure instance indication counter in response to a beam failure instance indication. The wireless device may trigger/initiate a beam failure recovery procedure in response to the beam failure instance indication counter reaching a threshold (e.g., a beam failure instance max count). The beam failure recovery during the RRC_INACTIVE state may be based on switching a configured grant configuration and/or configured grant resource, wherein the configured grant configuration/resource may be associated with a new downlink beam and its corresponding SSB/CSI-RS.</p><p id="p-0267" num="0266">In an example embodiment, as shown in <figref idref="DRAWINGS">FIG. <b>28</b></figref>, a wireless device may receive one or more messages (e.g., one or more RRC messages) comprising first configuration parameters for beam failure detection and/or beam failure recovery. The first configuration parameters may be used by the wireless device while the wireless device is in an RRC_CONNECTD state. The first configuration parameters may comprise a first configuration parameter indicating a beam failure detection timer value for a beam failure detection timer. In response to a bam failure instance indication, the wireless device may increment a beam failure instance indication counter and may start the beam failure detection timer with the beam failure detection timer value. The wireless device may set the beam failure instance indication counter to zero in response to the beam failure detection timer expiring. The wireless device may receive an RRC release message, wherein the RRC release message (e.g., a suspend config IE of the RRC release message) may indicate transitioning of the wireless device from the RRC_CONNECTED state to an RRC_INACTIVE state. The suspend config IE may comprise configuration parameters for wireless device operation (e.g., beam failure detection and/or recovery, etc.). For example, the RRC release message (e.g., the suspend config IE of the RRC release message) may comprise configuration parameters of one or more configured grant configurations used for data transmission (e.g., small data transmission, e.g., transmission of small packets with limited size) during the RRC_INACTIVE state. For example, the RRC release message (e.g., the suspend config IE of the RRC release message) may comprise random access configuration parameters of random access processes used for data transmission (e.g., small data transmission, e.g., transmission of small packets with limited size) during the RRC_INACTIVE state. For example, the random access configuration parameters may indicate random access occasions/resources/preambles for random access processes during the RRC_INACTIVE state.</p><p id="p-0268" num="0267">While in the RRC_INACTIVE state, the wireless device may transmit a first TB. In an example, the wireless device may transmit the first TB via a configured grant resource based on the configuration parameters of the one or more configured grant configurations. In an example, the wireless device may transmit the first TB based on a random access message (e.g., a Msg A of a two-step random access process or a Msg 3 of a four-step random access process) and based on the random access configuration parameters. In an example, the wireless device may transmit the first TB based on a dynamic grant and the wireless device may receive a DCI comprising the dynamic grant indicating transmission parameters of the first TB.</p><p id="p-0269" num="0268">The wireless device may determine a first time window for beam failure detection and related beam/reference signal measurements, wherein the first time window (e.g., a starting time and/or an ending time of the first time window) may be based on a timing of transmission of the first TB. The wireless device may determine the staring time and/or the ending time of the first time window based on the timing of transmission of the first TB. For example, the wireless device may transmit the first TB via one or more symbols of a slot. A starting time or an ending time of the first time window may be based on a first symbols of the one or more symbols. For example, a starting time of the first time window may be based on a last symbol of the one or more symbols used in transmission of the first TB. For example, a starting time of the first time window may be an offset from the last symbol of the one or more symbols used in transmission of the first TB. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset. For example, the starting time of the first time window may be the last symbol of the one or more symbols used in transmission of the first TB. A duration of the first time window may be a first number of symbols/slots. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the duration of the first time window.</p><p id="p-0270" num="0269">While in the RRC_INACTIVE state, the wireless device may transmit a second TB. In an example, the wireless device may transmit the second TB via a configured grant resource based on the configuration parameters of the one or more configured grant configurations. In an example, the wireless device may transmit the second TB based on a random access message (e.g., a Msg A of a two-step random access process or a Msg 3 of a four-step random access process) and based on the random access configuration parameters. In an example, the wireless device may transmit the second TB based on a dynamic grant and the wireless device may receive a DCI comprising the dynamic grant indicating transmission parameters of the second TB.</p><p id="p-0271" num="0270">The wireless device may determine a second time window for beam failure detection and related beam/reference signal measurements, wherein the second time window (e.g., a starting time and/or an ending time of the second time window) may be based on a timing of transmission of the second TB. The wireless device may determine the staring time and/or the ending time of the second time window based on the timing of transmission of the second TB. For example, the wireless device may transmit the second TB via one or more symbols of a slot. A starting time or an ending time of the second time window may be based on a first symbols of the one or more symbols. For example, a starting time of the second time window may be based on a last symbol of the one or more symbols used in transmission of the second TB. For example, a starting time of the second time window may be an offset from the last symbol of the one or more symbols used in transmission of the second TB. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset. For example, the starting time of the second time window may be the last symbol of the one or more symbols used in transmission of the second TB. A duration of the second time window may be a first number of symbols/slots. For example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the duration of the second time window.</p><p id="p-0272" num="0271">In an example as shown in <figref idref="DRAWINGS">FIG. <b>29</b></figref>, the first time window may comprise a first PDCCH monitoring time window associated with monitoring downlink control channel (e.g., PDCCH) in response to transmission of the first TB. The wireless device may monitor the downlink control channel during the first PDCCH monitoring time window to receive a grant for a subsequent transmission (e.g., retransmission of the first TB) in response to transmission of the first TB, for example due to unsuccessful reception of the first TB at the base station. In an example, the first time window may be the first PDCCH monitoring time window and the first time window for beam failure detection and the related reference signals measurement may be the duration/window/period following the transmission of the first TB wherein the PDCCH is monitored for reception of a grant for subsequent transmission/retransmission of the first TB. The second time window may comprise a second PDCCH monitoring time window associated with monitoring downlink control channel (e.g., PDCCH) in response to transmission of the second TB. The wireless device may monitor the downlink control channel during the second PDCCH monitoring time window to receive a grant for a subsequent transmission (e.g., retransmission of the second TB) in response to transmission of the second TB, for example due to unsuccessful reception of the second TB at the base station. In an example, the second time window may be the second PDCCH monitoring time window and the second time window for beam failure detection and the related reference signals measurement may be the duration/window/period following the transmission of the second TB wherein the PDCCH is monitored for reception of a grant for subsequent transmission/retransmission of the second TB.</p><p id="p-0273" num="0272">While in the RRC_INACTIVE state, the wireless device may monitor for the beam failure detection during the first time window. For example, the wireless device may measure reference signals (e.g., SSB or CSI-RS) associated with/received via one or more downlink beams comprising the current serving downlink beam. In response to a beam failure instance indication, the wireless device may increment a beam failure instance indication counter and may start a beam failure detection timer. The wireless device may pause the beam failure detection timer in response to the first time window elapsing. The wireless device may resume the beam failure detection timer at the beginning of the second time window. The wireless device may set the beam failure instance indication counter to zero in response to the beam failure detection timer expiring.</p><p id="p-0274" num="0273">In example embodiments a wireless device may perform a beam failure recovery procedure in the RRC_INACTIVE state. The wireless device may perform the beam failure recovery in response to beam failure detection. Example beam failure recovery procedures in the RRC_INACTIVE state are shown in <figref idref="DRAWINGS">FIG. <b>30</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>30</b>B</figref>. The wireless device may receive an RRC release message indicating transitioning of the wireless device from an RRC_CONNECTED state to the RRC_INACTIVE state. A suspend config IE of the RRC release message may comprise configuration parameters for the wireless device operation during the RRC_INACTIVE state. In an example, the suspend config IE may comprise configuration parameters of one or more configured grant configurations. In an example, a configured grant configuration, in the one or more configured grant configurations, may be associated with a downlink beam and/or a reference signal (e.g., SSB, CSI-RS) corresponding to the downlink beam. In an example, a configured grant resource may be associated with a downlink beam and/or a reference signal (e.g., SSB, CSI-RS) corresponding to the downlink beam. In an example beam failure recovery procedure, as shown in <figref idref="DRAWINGS">FIG. <b>30</b>A</figref>, in response to a beam failure detection for a first downlink beam and its corresponding reference signal (e.g., first SSB or first CSI-RS), the wireless device may determine a second downlink beam and its corresponding reference signal (e.g., second SSB or second CSI-RS). The wireless device may switch from a first configured grant configuration or a first configured grant resource to a second configured grant configuration or a second configured grant resource, wherein the first configured grant configuration/configured grant resource may be associated with the first downlink beam/first SSB/first CSI-RS and the second configured grant configuration/configured grant resource may be associated with the second downlink beam/second SSB/second CSI-RS. The wireless device may indicate the second downlink beam/second SSB/second CSI-RS by switching from the first configured grant configuration/resource to the second configured grant configuration/resource. In an example, a random access preamble/resource/occasion may be associated with a downlink beam and/or reference signal (e.g., SSB, CSI-RS) corresponding to the downlink beam. In an example beam failure recovery procedure, as shown in <figref idref="DRAWINGS">FIG. <b>30</b>B</figref>, in response to a beam failure detection for a first downlink beam and its corresponding reference signal (e.g., first SSB or first CSI-RS), the wireless device may determine a second downlink beam and its corresponding reference signal (e.g., second SSB or second CSI-RS). Prior to the beam failure detection, the wireless device may use a first random access preamble/resource/occasion in one or more first random access preambles/resources/occasions wherein the one or more first random access preambles/resources/occasions may be associated with a first downlink beam and its corresponding reference signal (e.g., first SSB or first CSI-RS). The wireless device may use the first random access resource/preamble/occasion in a first random access process (e.g., for data transmission, e.g., using a Msg A or a Msg 3). In response to beam failure detection for the first downlink beam and its corresponding reference signal (e.g., first SSB or first CSI-RS), the wireless device may use a second random access resource/preamble/occasion in one or more second random access preambles/resources/occasions, wherein the one or more second random access preambles/resources/occasions may be associated with a second downlink beam and its corresponding reference signal (e.g., second SSB or second CSI-RS). The wireless device may use the second random access resource/preamble/occasion in a second random access process (e.g., for data transmission, e.g., using a Msg A or a Msg 3). The wireless device may indicate the second downlink beam/second SSB/second CSI-RS by using the second random access preamble/resource/occasion in the second random access process.</p><p id="p-0275" num="0274">In an example embodiment, a wireless device may receive one or more radio resource control (RRC) messages comprising first configuration parameters for beam failure detection and/or beam failure recovery. The wireless device may perform a first beam failure detection and/or a first beam failure recovery process based on the first configuration parameters and while in an RRC connected state. The wireless device may receive an RRC release message. The RRC release message may indicate transitioning of the wireless device form the RRC connected state to an RRC inactive state. The RRC release message may comprise second configuration parameters for beam failure detection and/or beam failure recovery. The wireless device may perform a second beam failure detection and/or a second beam failure recovery process based on the second configuration parameters and while in the RRC inactive state.</p><p id="p-0276" num="0275">In an example, the first configuration parameters may comprise a first parameter indicating a first beam failure instance max count. The second configuration parameters may comprise a second parameter indicating a second beam failure instance max count. The first beam failure detection may be based on a beam failure instance indication counter reaching the first beam failure instance max count. The second beam failure detection may be based on a beam failure instance indication counter reaching the second beam failure instance max count.</p><p id="p-0277" num="0276">In an example, the first configuration parameters may comprise a third parameter indicating a first beam failure detection timer value. The second configuration parameters may comprise a fourth parameter indicating a second beam failure detection timer value. The first beam failure detection may comprise starting a beam failure detection timer with the first beam failure detection value in response to a beam failure instance indication. The second beam failure detection may comprise starting a beam failure detection timer with the second beam failure detection value in response to a beam failure instance indication.</p><p id="p-0278" num="0277">In an example, the first configuration parameters may comprise a fifth parameter indicating a first beam failure recovery timer value. The second configuration parameters may comprise a sixth parameter indicating a second beam failure recovery timer value. The first beam failure recovery may comprise initiating a first random access process and starting a beam failure recovery timer with the first beam failure recovery timer value in response to the initiating the first random access process. The second beam failure recovery may comprise initiating a second random access process and starting a beam failure recovery timer with the second beam failure recovery timer value in response to the initiating the second random access process. In an example, the wireless device may stop the first beam failure recovery timer in response to the first random access process being successfully completed. The wireless device may stop the second beam failure recovery timer in response to the first random access process being successfully completed.</p><p id="p-0279" num="0278">In an example, the first beam failure recovery may comprise initiating a first random access process comprising transmitting a first random access preamble associated with a new beam compared to a current serving beam.</p><p id="p-0280" num="0279">In an example, the second beam failure recovery may comprise initiating a second random access process comprising transmitting a second random access preamble associated with a new beam compared to a current serving beam.</p><p id="p-0281" num="0280">In an example, the RRC release message may further comprise third configured grant configuration parameters of one or more configured grant configurations for configured grant transmissions during the RRC inactive state. In an example, the one or more configured grant configurations may be for small data transmission. In an example, the RRC release message may comprise a suspend config information element comprising the third configuration parameters.</p><p id="p-0282" num="0281">In an example, the RRC release message may further comprise random access configuration parameters for random access processes used in small data transmission in the RRC inactive state. In an example, the random access configuration parameters may indicate random access resources and/or random access occasions and/or random access preambles associated with the random access processes used in the small data transmission in the RRC inactive state. In an example, the RRC release message may comprise a suspend config information element comprising the random access configuration parameters.</p><p id="p-0283" num="0282">In an example, the second beam failure recovery process may comprise switching from a first configured grant configuration to a second configured grant configuration. The first configured grant configuration may be associated with a first synchronization signal block (SSB). The second configured grant configuration may be associated with a second SSB. In an example, the first SSB may be received via a first beam. The second SSB may be received via a second beam.</p><p id="p-0284" num="0283">In an example, the second beam failure recovery process may comprise switching from a first configured grant configuration to a second configured grant configuration. The first configured grant configuration may be associated with a first channel state information reference signal (CSI-RS). The second configured grant configuration may be associated with a second CSI-RS. In an example, the first CSI-RS may be received via a first beam. The second CSI-RS may be received via a second beam.</p><p id="p-0285" num="0284">In an example, the second beam failure recovery process may comprise switching from a first configured grant resource to a second configured grant resource. The first configured grant resource may be associated with a first synchronization signal block (SSB). The second configured grant resource may be associated with a second SSB. In an example, the first SSB may be received via a first beam. The second SSB may be received via a second beam.</p><p id="p-0286" num="0285">In an example, the second beam failure recovery process may comprise switching from a first configured grant resource to a second configured grant resource. The first configured grant resource may be associated with a first channel state information reference signal (CSI-RS). The second configured grant resource may be associated with a second CSI-RS. In an example, the first CSI-RS may be received via a first beam. The second CSI-RS may be received via a second beam.</p><p id="p-0287" num="0286">In an example, the second beam failure recovery process may comprise initiating a random access process. In an example, the random access process may comprise transmitting a random access preamble associated with a synchronization signal block (SSB).</p><p id="p-0288" num="0287">In an example, the RRC release message may comprise a suspend config information element indicating transitioning of the wireless device from the RRC connected state to the RRC inactive state. In an example, the suspend config information element may comprise the second configuration parameters for beam failure detection and/or beam failure recovery during the RRC inactive state.</p><p id="p-0289" num="0288">In an example embodiment, a wireless device may receive one or more radio resource control (RRC) messages comprising a first configuration parameter indicating a value for a beam failure detection timer. In response to a beam failure instance indication and while in an RRC connected state, the wireless device may start or restart the beam failure detection timer with the value. The wireless device may receive an RRC release message indicating transitioning of the wireless device form the RRC connected state to an RRC inactive state. In response to a beam failure instance indication and while in the RRC inactive state, the wireless device may not start a beam failure detection timer.</p><p id="p-0290" num="0289">In an example, the RRC release message may comprise a suspend config information element indicating transitioning of the wireless device from the RRC connected state to the RRC inactive state.</p><p id="p-0291" num="0290">In an example, a first beam failure detection, while in the RRC connected state, may be based on the beam failure detection timer. A second beam failure detection, while in the RRC inactive state, may not be based on the beam failure detection timer.</p><p id="p-0292" num="0291">In an example, the wireless device may increment a beam failure instance counter in response to a beam failure instance indication and while in an RRC connected state. The wireless device may increment a beam failure instance counter in response to a beam failure instance indication and while in the RRC inactive state.</p><p id="p-0293" num="0292">In an example, the wireless device may perform a first beam failure recovery process in the RRC connected state. The wireless device may perform a second beam failure recovery in the RRC inactive state. In an example, the performing the first beam failure recovery process may be based on a beam failure instance counter reaching a threshold. The performing the second beam failure recovery process may be based on a beam failure instance counter reaching a threshold. In an example, the first beam failure recovery may comprise initiating a first random access process. In an example, the first random access process may comprise transmitting a random access preamble associated with a synchronization signal block (SSB) and/or beam. In an example, the first random access process may comprise transmitting a random access preamble associated with channel state information reference signal (CSI-RS) and/or beam. In an example, the first beam failure recovery may comprise transmitting a beam failure recovery medium access control (MAC) control element (CE). In an example, the second beam failure recovery may comprise initiating a second random access process. In an example, the second random access process may comprise transmitting a random access preamble associated with a synchronization signal block (SSB) and/or beam. In an example, the second random access process may comprise transmitting a random access preamble associated with channel state information reference signal (CSI-RS) and/or beam. In an example, the second beam failure recovery may comprise switching from a first configured grant configuration to a second configured grant configuration. The first configured grant configuration may be associated with a first synchronization signal block (SSB). The second configured grant configuration may be associated with a second SSB. In an example, the first SSB may be received via a first beam. The second SSB may be received via a second beam. In an example, the second beam failure recovery may comprise switching from a first configured grant configuration to a second configured grant configuration. The first configured grant configuration may be associated with a first channel state information reference signal (CSI-RS). The second configured grant configuration may be associated with a second channel state information reference signal (CSI-RS). In an example, the first CSI-RS may be received via a first beam. The second CSI-RS may be received via a second beam. In an example, the second beam failure recovery may comprise switching from a first configured grant resource to a second configured grant resource. The first configured grant resource may be associated with a first synchronization signal block (SSB). The second configured grant resource may be associated with a second SSB. In an example, the first SSB may be received via a first beam. The second SSB may be received via a second beam. In an example, the second beam failure recovery may comprise switching from a first configured grant resource to a second configured grant resource. The first configured grant resource may be associated with a first channel state information reference signal (CSI-RS). The second configured grant resource may be associated with a second channel state information reference signal (CSI-RS). In an example, the first CSI-RS may be received via a first beam. The second CSI-RS may be received via a second beam.</p><p id="p-0294" num="0293">In an example, the wireless device may set a beam failure instance indication to zero, while in the RRC connected state, based on the beam failure detection timer expiring.</p><p id="p-0295" num="0294">In an example embodiment, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. The wireless device may transmit a transport block (TB) while the wireless device is in the RRC inactive state. The wireless device may determine a time window for beam failure detection based on a timing of transmission of the TB. The wireless device may monitor for beam failure detection during the time window.</p><p id="p-0296" num="0295">In an example, the monitoring for the beam failure detection may comprise measuring/monitoring one or more reference signals associated with one or more beams comprising one or more current serving beams. In an example, the one or more reference signals may comprise a synchronization signal block (SSB). In an example, the one or more reference signals may comprise channel state information reference signal (CSI-RS).</p><p id="p-0297" num="0296">In an example, the RRC release message may comprise a suspend config information element indicating transitioning of the wireless device from the RRC connected state to the RRC inactive state.</p><p id="p-0298" num="0297">In an example, the time window may comprise a first period/duration/window for monitoring downlink control channel (e.g., PDCCH) in response to transmission of the TB. In an example, a duration of the time window may be longer than (e.g., may be extended from) the first period/duration/window in response to a first number (e.g., 1, 2, . . . ) of beam failure instance indications during the first period/duration/window. In an example, a duration of the time window may be longer than (e.g., may be extended from) the first period/duration/window in response to at least one beam failure instance indication during the first period/duration/window. In an example, a duration of the time window may be equal to the first period/duration/window in response to no beam failure instance indication during the first period/duration/window.</p><p id="p-0299" num="0298">In an example, the RRC release message may comprise first configuration parameters of one or more configured grant configurations for configured grant/small data transmissions during the RRC inactive state. In an example, the transmitting the TB may be via a configured resource based on the first configuration parameters.</p><p id="p-0300" num="0299">In an example, the transmitting the TB may be based on a dynamic grant. In an example, the wireless device may receive a downlink control information (DCI) indicating the dynamic grant.</p><p id="p-0301" num="0300">In an example, transmitting the TB may be based on a random access message. In an example, the random access message may be a Msg A in a two-step random access process or a Msg 3 in a four-step random access process. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise random access configuration parameters. The transmitting the TB/random access message may be based on the random access configuration parameters.</p><p id="p-0302" num="0301">In an example, the determining the time window may comprise determining a starting time of the time window and an ending time of the time window. The determining the starting time of the time window and the ending time of the time window may be based on the timing of the transmission of the TB.</p><p id="p-0303" num="0302">In an example, transmitting the TB may be via one or more symbols. A starting time of the time window may be based on a last symbol of the one or more symbols. A duration of the time window may be a first number of slots/symbols. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a first configuration parameter indicating the duration of the time window. In an example, the starting time of the time window may be an offset from the last symbol of the one or more symbols. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a first configuration parameter indicating the offset. In an example, the starting time of the time window is the last symbol of the one or more symbols.</p><p id="p-0304" num="0303">In an example, the wireless device may monitor for beam failure detection during the RRC connected state. The monitoring for beam failure detection during the RRC connected state may not be based on uplink transmissions (e.g., timings of the uplink transmissions/TBs) during the RRC connected state.</p><p id="p-0305" num="0304">In an example embodiment, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. The wireless device may transmit one or more transport blocks (TBs) while the wireless device is in the RRC inactive state. The wireless device may determine one or more time windows based on timings of transmissions of the one or more TBs. The wireless device may set a beam failure instance counter to zero in response to no beam failure instance indications during the one or more time windows.</p><p id="p-0306" num="0305">In an example, a number of the one or more time windows may be a first number. In an example, the RRC release message (e.g., a suspend config IE in the RRC release message) may comprise a first configuration parameter indicating the first number.</p><p id="p-0307" num="0306">In an example, a time window, in the one or more time windows, may comprise a period/duration/window for monitoring downlink control channel (e.g., PDCCH) in response to transmission of a corresponding TB in the one or more TBs.</p><p id="p-0308" num="0307">In an example, the determining the one or more time windows may comprise determining one or more starting times of the one or more time windows and one or more ending times of the one or more time windows. The determining the one or more starting times of the one or more time windows and the one or more ending times of the one or more time windows may be based on the timings of the transmissions of the one or more TBs.</p><p id="p-0309" num="0308">In an example, transmitting a TB, in the one or more TBs, may be via one or more symbols. A starting time of a time window, corresponding to the TB, may be based on a last symbol of the one or more symbols. A duration of the time window may be a first number of slots/symbols. In an example, the RRC release message (e.g., a suspend config IE in the RRC release message) may comprise a first configuration parameter indicating the duration of the time window. In an example, the starting time of the time window may be an offset from the last symbol of the one or more symbols. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a first configuration parameter indicating the offset. In an example, the starting time of the time window may be the last symbol of the one or more symbols.</p><p id="p-0310" num="0309">In an example, the RRC release message may comprise a suspend config information element indicating transitioning of the wireless device from the RRC connected state to the RRC inactive state.</p><p id="p-0311" num="0310">In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise first configuration parameters of one or more configured grant configurations for configured grant/small data transmissions during the RRC inactive state. In an example, the transmitting the one or more TBs may be based on the first configuration parameters. In an example, transmitting one or more first TBs of the one or more TBs is based on the first configuration parameters.</p><p id="p-0312" num="0311">In an example, transmitting one or more first TBs of the one or more TBs may be based on one or more first dynamic grants. In an example, the wireless device may receive one or more DCIs indicating the one or more dynamic grants.</p><p id="p-0313" num="0312">In an example, the RRC release message may comprise random access configuration parameters for random access processes used for small data transmission during the RRC inactive state. In an example, transmitting one or more first TBs of the one or more TBs may be based on one or more random access messages. In an example, the random access parameters may indicate random access resources/occasions/preambles for the random access processes used for small data transmission during the RRC inactive state.</p><p id="p-0314" num="0313">In an example embodiment, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. The wireless device may perform beam-related measurements, while in the RRC inactive state, in a time window that is based on a timing of a scheduled uplink transmission in the RRC inactive state. The wireless device may perform the uplink transmission.</p><p id="p-0315" num="0314">In an example, the RRC release message may comprise a suspend config IE indicating transitioning of the wireless device from the RRC connected state to the RRC inactive state.</p><p id="p-0316" num="0315">In an example, the scheduled uplink transmission may be for transmission of a TB.</p><p id="p-0317" num="0316">In an example, the beam-related measurements may comprise measuring reference signals for determining a beam associated with the scheduled uplink transmission. In an example, the reference signals may be associated with a plurality of beams comprising a current serving downlink beam. In an example, the beam associated with the scheduled uplink transmission may be used for reception of PDCCH (e.g., PDCCH via which DCI indicating scheduling information for subsequent transmission/retransmission of the TB is received) following the scheduled uplink transmission. In an example, the reference signals may comprise synchronization signal block (SSB). In an example, the reference signals may comprise channel state information reference signal (CSI-RS).</p><p id="p-0318" num="0317">In an example, the beam-related measurements may comprise monitoring for detecting beam failure of a current serving downlink beam.</p><p id="p-0319" num="0318">In an example, a starting time of the time window may be an offset before a starting time of the timing of the scheduled uplink transmission. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset.</p><p id="p-0320" num="0319">In an example, an ending time of the time window may be an offset before a starting time of the timing of the scheduled uplink transmission. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset.</p><p id="p-0321" num="0320">In an example, an ending time of the time window may be a starting time/symbol of the timing of the scheduled uplink transmission.</p><p id="p-0322" num="0321">In an example, a starting time of the time window may be an offset after an ending time of the timing of the scheduled uplink transmission. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset.</p><p id="p-0323" num="0322">In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating a duration of the time window.</p><p id="p-0324" num="0323">In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise first configuration parameters of one or more configured grant configurations for configured grant/small data transmissions during the RRC inactive state. In an example, the performing the scheduled uplink transmission may be based on the first configuration parameters.</p><p id="p-0325" num="0324">In an example, the performing the scheduled uplink transmission may be based on a first dynamic grant. In an example, the wireless device may receive a DCI indicating the first dynamic grant.</p><p id="p-0326" num="0325">In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise random access configuration parameters for random access processes used for small data transmission during the RRC inactive state. In an example, the performing the scheduled uplink transmission may be based on one or more random access messages. In an example, the random access parameters may indicate random access resources/occasions/preambles for the random access processes used in small data transmission during the RRC inactive state.</p><p id="p-0327" num="0326">In an example embodiment, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. The wireless device may transmit a TB in the RRC inactive state. The wireless device may determine a time window for beam failure detection based on a timing of transmission of the TB. The wireless device may monitor for beam failure detection during the time window. The wireless device may increment a beam failure instance counter in response to a beam failure instance indication. The wireless device may trigger a beam failure recovery process in response to the beam failure instance counter reaching a first number.</p><p id="p-0328" num="0327">In an example, the RRC release message may comprise a suspend config IE indicating transitioning of the wireless device from the RRC connected state to the RRC inactive state.</p><p id="p-0329" num="0328">In an example, the time window may comprise a period/duration/window for monitoring downlink control channel (e.g., PDCCH) in response to transmission of the TB.</p><p id="p-0330" num="0329">In an example, the RRC release message may comprise first configuration parameters of one or more configured grant configurations for configured grant/small data transmissions during the RRC inactive state.</p><p id="p-0331" num="0330">In an example, the transmitting the TB may be via a configured resource based on the first configuration parameters.</p><p id="p-0332" num="0331">In an example, the transmitting the TB may be based on a dynamic grant. In an example, the wireless device may receive a DCI indicating the dynamic grant.</p><p id="p-0333" num="0332">In an example, the RRC release message may comprise random access configuration parameters for random access processes used for small data transmission during the RRC inactive state. In an example, the transmitting the TB may be based on a random access message. In an example, the random access message may be a Msg A in a two-step random access process or a Msg 3 in a four-step random access process. In an example, the random access parameters may indicate random access resources/occasions/preambles for the random access processes used in small data transmission during the RRC inactive state.</p><p id="p-0334" num="0333">In an example, transmitting the TB may be in one or more symbols. A starting time of the time window may be based on a last symbol of the one or more symbols. A duration of the time window may be a first number of symbols/slots. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the first number. In an example, a starting time of the time window may be an offset (e.g., in number of symbols) from the last symbol of the one or more symbols. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset.</p><p id="p-0335" num="0334">In an example, monitoring for beam failure detection may comprise measuring reference signals comprising first reference associated with a current serving downlink beam. In an example, the first reference signals may comprise SSB. In an example, the first reference signals may comprise CSI-RS.</p><p id="p-0336" num="0335">In an example embodiment, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. The wireless device may transmit a first TB in the RRC inactive state. The wireless device may determine a first time window for beam failure detection based on a first transmission timing of the first TB. The wireless device may monitor for beam failure detection during the first time window. The wireless device may start a beam failure detection timer in response to a beam failure instance indication. The wireless device may pause the beam failure detection timer in response to the first time window elapsing. The wireless device may transmit a second TB in the RRC inactive state. The wireless device may determine a second time window for beam failure detection based on a second transmission timing of the second TB. The wireless device may resume the beam failure detection timer at the beginning of the second time window. The wireless device may set a beam failure instance counter to zero based on the beam failure detection timer expiring.</p><p id="p-0337" num="0336">In an example, the first time window may comprise a first period/duration/window for monitoring downlink control channel (e.g., PDCCH) in response to transmission of the first TB. The second time window may comprise a second period/duration/window for monitoring downlink control channel in response to transmission of the second TB.</p><p id="p-0338" num="0337">In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise first configuration parameters of one or more configured grant configurations for configured grant/small data transmissions during the RRC inactive state. In an example, the transmitting the first TB may be via a first configured resource based on the first configuration parameters. The transmitting the second TB may be via a second configured resource based on the first configuration parameters.</p><p id="p-0339" num="0338">In an example, the transmitting the first TB may be based on a dynamic grant. In an example, the wireless device may receive a first DCI indicating the dynamic grant.</p><p id="p-0340" num="0339">In an example, the transmitting the second TB may be based on a dynamic grant. In an example, the wireless device may receive a second DCI indicating the dynamic grant.</p><p id="p-0341" num="0340">In an example, transmitting the first TB may be based on a random access message (e.g., a Msg A in a two-step random access process or a Msg 3 in a four-step random access process).</p><p id="p-0342" num="0341">In an example, transmitting the second TB may be based on a random access message (e.g., a Msg A in a two-step random access process or a Msg 3 in a four-step random access process).</p><p id="p-0343" num="0342">In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise random access configuration parameters for random access processes used for small data transmission during the RRC inactive state.</p><p id="p-0344" num="0343">In an example, the wireless device may transmit the first TB may be in one or more first symbols. A first starting time of the first time window may be based on a last symbol of the one or more first symbols. A duration of the first time window may be a first number of symbols/slots. The wireless device may transmit the second TB is in one or more second symbols. A second starting time of the second time window may be based on a last symbol of the one or more second symbols. A duration of the second time window may be a second number of symbols/slots. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the first number and the second number. In an example, a starting time of the first time window may be an offset (e.g., in number of symbols) from the last symbol of the one or more first symbols. A starting time of the second time window may be an offset (e.g., in number of symbols) from the last symbol of the one or more second symbols. In an example, the RRC release message (e.g., a suspend config IE of the RRC release message) may comprise a configuration parameter indicating the offset.</p><p id="p-0345" num="0344">In an example embodiment as shown in <figref idref="DRAWINGS">FIG. <b>31</b></figref>, a wireless device may receive one or more messages comprising configuration parameters. The one or more messages may comprise one or more first configuration parameters and one or more second configuration parameters. In an example, the one or more messages may comprise one or more first messages and one or more second messages. In an example, the one or more first messages may comprise the one or more first configuration parameters and the one or more second messages may comprise the one or more second configuration parameters. In an example, the one or more first messages may comprise an RRC configuration message and/or an RRC reconfiguration message. The one or more first messages may comprise parameters for wireless device operation while in the RRC connected state. In an example, the one or more second messages may comprise an RRC release message. The RRC release message may indicate transitioning of the wireless device from the RRC connected state to the RRC inactive state. For example, a suspend config IE of the RRC release message may comprise parameters for wireless device operation during the RRC inactive state and the parameters in the suspend config IE may comprise the one or more second configuration parameters. For example, the one or more second configuration parameters (e.g., included in the suspend config IE of the RRC release message) may comprise configured grant configuration parameters of one or more configured grant configurations for data transmission during the RRC inactive state. For example, the one or more second configuration parameters may comprise random access configuration parameters for random access processes during the RRC inactive state that are used for data transmission during the RRC inactive state.</p><p id="p-0346" num="0345">The one or more first configuration parameters may be associated with at least one of a beam failure detection and a beam failure recovery. The one or more first configuration parameters may be applicable while the wireless device is/operates in the RRC connected state, e.g., may be for at least one of the beam failure detection and the beam failure recovery while the wireless device is/operates in the RRC connected state. For example, the wireless device may initiate a first random access process for beam failure recovery based on the one or more first configuration parameters while in the RRC connected state. For example, the wireless device may transmit a scheduling request based on the one or more first configuration parameters while in the RRC connected state. The one or more second configuration parameters may be associated with at least one of a beam failure detection and a beam failure recovery. The one or more second configuration parameters may be applicable while the wireless device is/operates in the RRC inactive state, e.g., may be for at least one of the beam failure detection and the beam failure recovery while the wireless device is/operates in the RRC inactive state. For example, the wireless device may initiate a second random access process for beam failure recovery based on the one or more second configuration parameters while in the RRC inactive state. For example, the wireless device may transmit a scheduling request based on the one or more second configuration parameters while in the RRC inactive state.</p><p id="p-0347" num="0346">While the wireless device is/operates in the RRC connected state, the wireless device may perform the beam failure detection (e.g., may detect beam failure) and/or may trigger beam failure recovery (e.g., based on a random access process or based on a scheduling request) based on the one or more first configuration parameters. For example, the one or more first configuration parameters may comprise a first parameter indicating a first threshold number of beam failure instance indications (e.g., a first beamFailureInstanceMaxCount value) that is applicable for beam failure detection while the wireless device is/operates in the RRC connected state. The wireless device may increment a beam failure instance indication counter in response to a beam failure instance indication (e.g., received from the lower layer/physical layer) while in the RRC connected state. The wireless device may, while in the RRC connected state, detect/determine beam failure and may trigger/initiate a beam failure recovery procedure in response to the beam failure instance indication counter reaching the first threshold number (e.g., the first beamFailureInstanceMaxCount value) while in the RRC connected state. While the wireless device is in RRC inactive state, the wireless device may perform the beam failure detection (e.g., may detect beam failure) and/or may trigger beam failure recovery based on the one or more second configuration parameters. For example, the one or more second configuration parameters may comprise a second parameter indicating a second threshold number of beam failure instance indications (e.g., a second beamFailureInstanceMaxCount value) that is applicable for beam failure detection while the wireless device is/operates in the RRC inactive state. The wireless device may increment a beam failure instance indication counter in response to a beam failure instance indication (e.g., received from the lower layer/physical layer) while in the RRC inactive state. The wireless device may, while in the RRC inactive state, detect/determine beam failure and may trigger/initiate a beam failure recovery procedure in response to the beam failure instance indication counter reaching the second threshold number (e.g., the second beamFailureInstanceMaxCount value) while in the RRC inactive state.</p><p id="p-0348" num="0347">For example, the one or more first configuration parameters may comprise a third parameter indicating a first beam failure detection timer value (e.g., a first beamFailureDetectionTimer value) that is applicable while the wireless device is in the RRC connected state. The wireless device may start a beam failure detection timer with the first beam failure detection timer value in response to a beam failure instance indication (e.g., received from the lower layer/physical layer) while in the RRC connected state. The wireless device may set a beam failure instance indication counter to zero in response to the beam failure detection timer expiring. For example, the one or more second configuration parameters may comprise a fourth parameter indicating a second beam failure detection timer value (e.g., a second beamFailureDetectionTimer value) that is applicable while the wireless device is/operates in the RRC inactive state. The wireless device may start a beam failure detection timer with the second beam failure detection timer value in response to a beam failure instance indication (e.g., received from the lower layer/physical layer) while in the RRC inactive state. The wireless device may set a beam failure instance indication counter to zero in response to the beam failure detection timer expiring.</p><p id="p-0349" num="0348">For example, the one or more first configuration parameters may comprise a fifth parameter indicating a first beam failure recovery timer value (e.g., a first beamFailureRecoveryTimer value) that is applicable for beam failure recovery while the wireless device is/operates in the RRC connected state. The wireless device may start a first beam failure recovery timer with the first beam failure recovery timer value in response to initiating a beam failure recovery procedure while in the RRC connected state. The beam failure recovery procedure may comprise initiating a random access process. The wireless device may stop the beam failure recovery timer in response to successful completion of the beam failure recovery (e.g., successful completion of the random access initiated for the beam failure recovery). For example, the one or more second configuration parameters may comprise a sixth parameter indicating a second beam failure recovery timer value (e.g., a second beamFailureRecoveryTimer value) that is applicable for beam failure recovery while the wireless device is/operates in the RRC inactive state. The wireless device may start a second beam failure recovery timer with the second beam failure recovery timer value in response to initiating a beam failure recovery procedure while in the RRC inactive state. The beam failure recovery procedure may comprise initiating a random access process. The wireless device may stop the beam failure recovery timer in response to successful completion of the beam failure recovery (e.g., successful completion of the random access initiated for the beam failure recovery).</p><p id="p-0350" num="0349">For example, the one or more first configuration parameters may comprise a seventh parameter indicating a first RSRP threshold that is applicable while the wireless device is/operates in the RRC connected state. The wireless device may select, while in the RRC connected state, a SSB or a reference signal or an uplink carrier (e.g., a normal uplink carrier (NUL) or a supplementary uplink carrier (SUL)) based on the first RSRP threshold. For example, the first RSRP threshold may be an RSRP threshold for the SpCell beam failure recovery while in the RRC connected state. For example, the first RSRP threshold may be an RSRP threshold for the SCell beam failure recovery while in the RRC connected state. For example, the first RSRP threshold may be used for selection of SSB for a first random access process (e.g., a first random access process for beam failure recovery) while the wireless device is in the RRC connected state. For example, the first RSRP threshold may be used for selection of CSI-RS for a first random access process (e.g., a first random access process for beam failure recovery) while the wireless device is in the RRC connected state. For example, the first RSRP threshold may be for selection between a two-step random access process or a four-step random access process (e.g., for beam failure recovery) while in the RRC connected state. For example, the first RSRP threshold may be for selection between a normal uplink carrier or a supplementary uplink carrier for a random access process (e.g., for beam failure recovery) while in the RRC connected state. For example, the one or more second configuration parameters may comprise an eighth parameter indicating a second RSRP threshold that is applicable while the wireless device is/operates in the RRC inactive state. The wireless device may select, while in the RRC inactive state, a SSB or a reference signal or an uplink carrier (e.g., a normal uplink carrier (NUL) or a supplementary uplink carrier (SUL)) based on the second RSRP threshold. For example, the second RSRP threshold may be an RSRP threshold for the SpCell beam failure recovery while in the RRC inactive state. For example, the second RSRP threshold may be an RSRP threshold for the SCell beam failure recovery while in the RRC inactive state. For example, the second RSRP threshold may be used for selection of SSB for a second random access process (e.g., a second random access process for beam failure recovery) while the wireless device is in the RRC inactive state. For example, the second RSRP threshold may be used for selection of CSI-RS for a second random access process (e.g., a second random access process for beam failure recovery) while the wireless device is in the RRC inactive state. For example, the second RSRP threshold may be for selection between a two-step random access process or a four-step random access process (e.g., for beam failure recovery) while in the RRC inactive state. For example, the second RSRP threshold may be for selection between a normal uplink carrier or a supplementary uplink carrier for a random access process (e.g., for beam failure recovery) while in the RRC inactive state.</p><p id="p-0351" num="0350">In accordance with various exemplary embodiments in the present disclosure, a device (e.g., a wireless device, a base station and/or alike) may include one or more processors and may include memory that may store instructions. The instructions, when executed by the one or more processors, cause the device to perform actions as illustrated in the accompanying drawings and described in the specification. The order of events or actions, as shown in a flow chart of this disclosure, may occur and/or may be performed in any logically coherent order. In some examples, at least two of the events or actions shown may occur or may be performed at least in part simultaneously and/or in parallel. In some examples, one or more additional events or actions may occur or may be performed prior to, after, or in between the events or actions shown in the flow charts of the present disclosure.</p><p id="p-0352" num="0351"><figref idref="DRAWINGS">FIG. <b>32</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure. At <b>3210</b>, a wireless device may receive one or more messages comprising one or more first configuration parameters and one or more second configuration parameters. The one or more first configuration parameters may be for at least one of a beam failure detection and a beam failure recovery and may be applicable while the wireless device is in a radio resource control (RRC) connected state. The one or more second configuration parameters may be for at least one of a beam failure detection and a beam failure recovery and may be applicable while the wireless device is in an RRC inactive state. At <b>3220</b>, based on the one or more first configuration parameters while in the RRC connected state, the wireless device may detect a beam failure or may trigger a beam failure recovery procedure. At <b>3230</b>, based on the one or more second configuration parameters while in the RRC inactive state, the wireless device may detect a beam failure or may trigger a beam failure recovery procedure.</p><p id="p-0353" num="0352">In an example embodiment, the one or more messages, received at <b>3210</b>, may comprise an RRC release message comprising the one or more second configuration parameters. The RRC release message may indicate transitioning from the RRC connected state to the RRC inactive state.</p><p id="p-0354" num="0353">In an example embodiment, the one or more first configuration parameters, that are included in the one or more messages received at <b>3210</b>, may comprise a first parameter indicating a first threshold number of beam failure instance indications. The one or more second configuration parameters, that are included in the one or more messages received at <b>3210</b>, may comprise a second parameter indicating a second threshold number of beam failure instance indications. In an example embodiment, while in the RRC connected state, triggering a beam failure recovery may be based on a beam failure instance indication counter reaching the first threshold number. While in the RRC inactive state, triggering a beam failure recovery may be based on a beam failure instance indication counter reaching the second threshold number.</p><p id="p-0355" num="0354">In an example embodiment, the one or more first configuration parameters, that are included in the one or more messages received at <b>3210</b>, may comprise a third parameter indicating a first beam failure detection timer value. The one or more second configuration parameters, that are included in the one or more messages received <b>3210</b>, may comprise a fourth parameter indicating a second beam failure detection timer value. In an example embodiment, the wireless device may start, while in the RRC connected state, a beam failure detection timer with the first beam failure detection timer value in response to a beam failure instance indication. The wireless device may start, while in the RRC inactive state, a beam failure detection timer with the second beam failure detection timer value in response to a beam failure instance indication.</p><p id="p-0356" num="0355">In an example embodiment, the one or more first configuration parameters, that are included in the one or more messages received at <b>3210</b>, may comprise a fifth parameter indicating a first beam failure recovery timer value. The one or more second configuration parameters, that are included in the one or more messages received <b>3210</b>, may comprise a sixth parameter indicating a second beam failure recovery timer value. In an example embodiment, the wireless device may start, while in the RRC connected state, a beam failure recovery timer with the first beam failure recovery timer value in response to initiating a first random access process for beam failure recovery. The wireless device may start, while in the RRC inactive state, a beam failure recovery timer with the second beam failure recovery timer value in response to initiating a second random access process for beam failure recovery.</p><p id="p-0357" num="0356">In an example embodiment, the one or more first configuration parameters, that are included in the one or more messages received at <b>3210</b>, may comprise a seventh parameter indicating a first received signal received power (RSRP) threshold. The one or more second configuration parameters, that are included in the one or more messages received <b>3210</b>, may comprise an eighth parameter indicating a second RSRP threshold. In an example embodiment, the wireless device may select, while in the RRC connected state and based on the first RSRP threshold, a synchronization signal block (SSB) or a reference signal or an uplink carrier. The wireless device may select, while in the RRC inactive state and based on the second RSRP threshold, a SSB or a reference signal or an uplink carrier.</p><p id="p-0358" num="0357">In an example embodiment, a beam failure recovery procedure, while in the RRC connected state, may comprise a first random access process based on one or more first configuration parameters. A beam failure recovery procedure, while in the RRC inactive state, may comprise a second random access process based on one or more second configuration parameters. In an example embodiment, the one or more messages, received at <b>3210</b>, may comprise an RRC release message comprising the one or more second configuration parameters.</p><p id="p-0359" num="0358">In an example embodiment, the one or more messages, received at <b>3210</b>, may comprise an RRC release message comprising configured grant configuration parameters of one or more configured grant configurations for data transmission during an RRC inactive state. In an example embodiment, the beam failure recovery procedure may comprise switching from a first configured grant configuration of the one or more configured grant configurations to a second configured grant configuration of the one or more configured grant configurations.</p><p id="p-0360" num="0359">In an example embodiment, the one or more messages, received at <b>3210</b>, may comprise an RRC release message comprising random access configuration parameters associated with random access processes used for data transmission during an RRC inactive state.</p><p id="p-0361" num="0360"><figref idref="DRAWINGS">FIG. <b>33</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure. At <b>3310</b>, a wireless device may receive a first configuration parameter indicating a value of a beam failure detection timer. At <b>3320</b>, in response to a beam failure instance indication and while in a radio resource control (RRC) connected state, the wireless device may start or may restart the beam failure detection timer with the value. At <b>3330</b>, in response to a beam failure instance indication and while in the RRC inactive state, the wireless device may not start a beam failure detection timer.</p><p id="p-0362" num="0361">In an example embodiment, the wireless device may receive an RRC release message indicating transitioning of the wireless device from the RRC connected state to an RRC inactive state.</p><p id="p-0363" num="0362"><figref idref="DRAWINGS">FIG. <b>34</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure. At <b>3410</b>, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. At <b>3420</b>, the wireless device may determine, while in the RRC inactive state, a time window for beam failure detection based on a timing of a transport block (TB). At <b>3430</b>, the wireless device may monitor during the time window.</p><p id="p-0364" num="0363">In an example embodiment, the monitoring, at <b>3430</b>, may be for beam failure detection.</p><p id="p-0365" num="0364">In an example embodiment, the wireless device may transmit the TB in the RRC inactive state.</p><p id="p-0366" num="0365">In an example embodiment, the monitoring, at <b>3430</b>, may be for a downlink control channel.</p><p id="p-0367" num="0366">In an example embodiment, the monitoring, at <b>3430</b>, may be for one or more reference signals. In an example embodiment, the one or more reference signals may comprise a channel state information reference signal (CSI-RS).</p><p id="p-0368" num="0367">In an example embodiment, the monitoring, at <b>3430</b>, may be for a synchronization signal block (SSB).</p><p id="p-0369" num="0368">In an example embodiment, the monitoring, at <b>3430</b>, may be for beam failure detection.</p><p id="p-0370" num="0369"><figref idref="DRAWINGS">FIG. <b>35</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure. At <b>3510</b>, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. At <b>3520</b>, the wireless device may determine one or more time windows based on timings of one or more transport blocks (TBs) during the RRC inactive state. At <b>3530</b>, the wireless device may set a beam failure instance indication counter to zero in response to no beam failure instance indications during the one or more time windows.</p><p id="p-0371" num="0370">In an example embodiment, a number of the one or more time windows may be a first number.</p><p id="p-0372" num="0371">In an example, the wireless device may transmit the one or more TBs.</p><p id="p-0373" num="0372"><figref idref="DRAWINGS">FIG. <b>36</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure. At <b>3610</b>, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. At <b>3620</b>, the wireless device may perform beam-related measurements, while in the RRC inactive state, in a time window that is based on a timing of a scheduled transmission in the RRC inactive state.</p><p id="p-0374" num="0373">In an example embodiment, the scheduled transmission may be for a transport block (TB).</p><p id="p-0375" num="0374">In an example embodiment, the beam-related measurements may comprise measuring one or more reference signals for determining a beam associated with the scheduled transmission.</p><p id="p-0376" num="0375">In an example embodiment, the wireless device may perform the scheduled transmission.</p><p id="p-0377" num="0376"><figref idref="DRAWINGS">FIG. <b>37</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure. At <b>3710</b>, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. At <b>3720</b>, the wireless device may determine a time window for beam failure detection based on a timing of a transport block (TB). At <b>3730</b>, the wireless device may monitor for beam failure detection during the time window. At <b>3740</b>, the wireless device may increment a beam failure instance indication counter in response to a beam failure instance indication. At <b>3750</b>, the wireless device may trigger a beam failure recovery procedure in response to the beam failure instance indication counter reaching a first number.</p><p id="p-0378" num="0377"><figref idref="DRAWINGS">FIG. <b>38</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure. At <b>3810</b>, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. At <b>3820</b>, the wireless device may determine a first time window for beam failure detection based on a first timing of a first transport block (TB). At <b>3830</b>, the wireless device may monitor for beam failure detection during the first time window. At <b>3840</b>, the wireless device may start a beam failure detection timer in response to a beam failure instance indication. At <b>3850</b>, the wireless device may pause the beam failure detection timer in response to the first time window elapsing. At <b>3860</b>, the wireless device may determine a second time window for beam failure detection based on a second timing of a second TB. At <b>3870</b>, the wireless device may resume the beam failure detection timer. At <b>3880</b>, the wireless device may set a beam failure instance counter to zero based on the beam failure detection timer expiring.</p><p id="p-0379" num="0378"><figref idref="DRAWINGS">FIG. <b>39</b></figref> shows an example flow diagram in accordance with several of various embodiments of the present disclosure. At <b>3910</b>, a wireless device may receive a radio resource control (RRC) release message indicating transitioning of the wireless device from an RRC connected state to an RRC inactive state. At <b>3920</b>, the wireless device may determine a first downlink beam for first transmission(s) during the RRC inactive state. At <b>3930</b>, the wireless device may determine a beam failure. At <b>3940</b>, in response to the beam failure, the wireless device may determine a second downlink beam for second transmission(s) during the RRC inactive state.</p><p id="p-0380" num="0379">Various exemplary embodiments of the disclosed technology are presented as example implementations and/or practices of the disclosed technology. The exemplary embodiments disclosed herein are not intended to limit the scope. Persons of ordinary skill in the art will appreciate that various changes can be made to the disclosed embodiments without departure from the scope. After studying the exemplary embodiments of the disclosed technology, alternative aspects, features and/or embodiments will become apparent to one of ordinary skill in the art. Without departing from the scope, various elements or features from the exemplary embodiments may be combined to create additional embodiments. The exemplary embodiments are described with reference to the drawings. The figures and the flowcharts that demonstrate the benefits and/or functions of various aspects of the disclosed technology are presented for illustration purposes only. The disclosed technology can be flexibly configured and/or reconfigured such that one or more elements of the disclosed embodiments may be employed in alternative ways. For example, an element may be optionally used in some embodiments or the order of actions listed in a flowchart may be changed without departure from the scope.</p><p id="p-0381" num="0380">An example embodiment of the disclosed technology may be configured to be performed when deemed necessary, for example, based on one or more conditions in a wireless device, a base station, a radio and/or core network configuration, a combination thereof and/or alike. For example, an example embodiment may be performed when the one or more conditions are met. Example one or more conditions may be one or more configurations of the wireless device and/or base station, traffic load and/or type, service type, battery power, a combination of thereof and/or alike. In some scenarios and based on the one or more conditions, one or more features of an example embodiment may be implemented selectively.</p><p id="p-0382" num="0381">In this disclosure, the articles &#x201c;a&#x201d; and &#x201c;an&#x201d; used before a group of one or more words are to be understood as &#x201c;at least one&#x201d; or &#x201c;one or more&#x201d; of what the group of the one or more words indicate. The use of the term &#x201c;may&#x201d; before a phrase is to be understood as indicating that the phrase is an example of one of a plurality of useful alternatives that may be employed in an embodiment in this disclosure.</p><p id="p-0383" num="0382">In this disclosure, an element may be described using the terms &#x201c;comprises&#x201d;, &#x201c;includes&#x201d; or &#x201c;consists of&#x201d; in combination with a list of one or more components. Using the terms &#x201c;comprises&#x201d; or &#x201c;includes&#x201d; indicates that the one or more components are not an exhaustive list for the description of the element and do not exclude components other than the one or more components. Using the term &#x201c;consists of&#x201d; indicates that the one or more components is a complete list for description of the element. In this disclosure, the term &#x201c;based on&#x201d; is intended to mean &#x201c;based at least in part on&#x201d;. The term &#x201c;based on&#x201d; is not intended to mean &#x201c;based only on&#x201d;. In this disclosure, the term &#x201c;and/or&#x201d; used in a list of elements indicates any possible combination of the listed elements. For example, &#x201c;X, Y, and/or Z&#x201d; indicates X; Y; Z; X and Y; X and Z; Y and Z; or X, Y, and Z.</p><p id="p-0384" num="0383">Some elements in this disclosure may be described by using the term &#x201c;may&#x201d; in combination with a plurality of features. For brevity and ease of description, this disclosure may not include all possible permutations of the plurality of features. By using the term &#x201c;may&#x201d; in combination with the plurality of features, it is to be understood that all permutations of the plurality of features are being disclosed. For example, by using the term &#x201c;may&#x201d; for description of an element with four possible features, the element is being described for all fifteen permutations of the four possible features. The fifteen permutations include one permutation with all four possible features, four permutations with any three features of the four possible features, six permutations with any two features of the four possible features and four permutations with any one feature of the four possible features.</p><p id="p-0385" num="0384">Although mathematically a set may be an empty set, the term set used in this disclosure is a nonempty set. Set B is a subset of set A if every element of set B is in set A. Although mathematically a set has an empty subset, a subset of a set is to be interpreted as a non-empty subset in this disclosure. For example, for set A={subcarrier1, subcarrier2}, the subsets are {subcarrier1}, {subcarrier2} and {subcarrier1, subcarrier2}.</p><p id="p-0386" num="0385">In this disclosure, the phrase &#x201c;based on&#x201d; may be used equally with &#x201c;based at least on&#x201d; and what follows &#x201c;based on&#x201d; or &#x201c;based at least on&#x201d; indicates an example of one of plurality of useful alternatives that may be used in an embodiment in this disclosure. The phrase &#x201c;in response to&#x201d; may be used equally with &#x201c;in response at least to&#x201d; and what follows &#x201c;in response to&#x201d; or &#x201c;in response at least to&#x201d; indicates an example of one of plurality of useful alternatives that may be used in an embodiment in this disclosure. The phrase &#x201c;depending on&#x201d; may be used equally with &#x201c;depending at least on&#x201d; and what follows &#x201c;depending on&#x201d; or &#x201c;depending at least on&#x201d; indicates an example of one of plurality of useful alternatives that may be used in an embodiment in this disclosure. The phrases &#x201c;employing&#x201d; and &#x201c;using&#x201d; and &#x201c;employing at least&#x201d; and &#x201c;using at least&#x201d; may be used equally in this in this disclosure and what follows &#x201c;employing&#x201d; or &#x201c;using&#x201d; or &#x201c;employing at least&#x201d; or &#x201c;using at least&#x201d; indicates an example of one of plurality of useful alternatives that may be used in an embodiment in this disclosure.</p><p id="p-0387" num="0386">The example embodiments disclosed in this disclosure may be implemented using a modular architecture comprising a plurality of modules. A module may be defined in terms of one or more functions and may be connected to one or more other elements and/or modules. A module may be implemented in hardware, software, firmware, one or more biological elements (e.g., an organic computing device and/or a neurocomputer) and/or a combination thereof and/or alike. Example implementations of a module may be as software code configured to be executed by hardware and/or a modeling and simulation program that may be coupled with hardware. In an example, a module may be implemented using general-purpose or special-purpose processors, digital signal processors (DSPs), microprocessors, microcontrollers, application-specific integrated circuits (ASICs), programmable logic devices (PLDs) and/or alike. The hardware may be programmed using machine language, assembly language, high-level language (e.g., Python, FORTRAN, C, C++ or the like) and/or alike. In an example, the function of a module may be achieved by using a combination of the mentioned implementation methods.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method comprising:<claim-text>detecting, by a wireless device, a beam failure or triggering, by the wireless device, a beam failure recovery procedure based on one or more first configuration parameters that are applicable while the wireless device is in a radio resource control (RRC) connected state;</claim-text><claim-text>transitioning from the RRC connected state to an RRC inactive state; and</claim-text><claim-text>detecting a beam failure or triggering a beam failure recovery procedure based on one or more second configuration parameters that are applicable while the wireless device is in the RRC inactive state.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising receiving an RRC release message:<claim-text>comprising the one or more second configuration parameters; and</claim-text><claim-text>indicating the transitioning.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the one or more first configuration parameters comprise a first parameter indicating a first threshold number of beam failure instance indications; and</claim-text><claim-text>the one or more second configuration parameters comprise a second parameter indicating a second threshold number of beam failure instance indications.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein:<claim-text>while in the RRC connected state, triggering a beam failure recovery is based on a beam failure instance indication counter reaching the first threshold number; and</claim-text><claim-text>while in the RRC inactive state, triggering a beam failure recovery is based on a beam failure instance indication counter reaching the second threshold number.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the one or more first configuration parameters comprise a third parameter indicating a first beam failure detection timer value; and</claim-text><claim-text>the one or more second configuration parameters comprise a fourth parameter indicating a second beam failure detection timer value.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising:<claim-text>starting, while in the RRC connected state, a beam failure detection timer with the first beam failure detection timer value in response to a beam failure instance indication; and</claim-text><claim-text>starting, while in the RRC inactive state, a beam failure detection timer with the second beam failure detection timer value in response to a beam failure instance indication.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the one or more first configuration parameters comprise a fifth parameter indicating a first beam failure recovery timer value; and</claim-text><claim-text>the one or more second configuration parameters comprise a sixth parameter indicating a second beam failure recovery timer value.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising:<claim-text>starting, while in the RRC connected state, a beam failure recovery timer with the first beam failure recovery timer value in response to initiating a first random access process for beam failure recovery; and</claim-text><claim-text>starting, while in the RRC inactive state, a beam failure recovery timer with the second beam failure recovery timer value in response to initiating a second random access process for beam failure recovery.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>the one or more first configuration parameters comprise a seventh parameter indicating a first received signal received power (RSRP) threshold; and</claim-text><claim-text>the one or more second configuration parameters comprise an eighth parameter indicating a second RSRP threshold.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising:<claim-text>selecting, while in the RRC connected state and based on the first RSRP threshold, a synchronization signal block (SSB) or a reference signal or an uplink carrier; and</claim-text><claim-text>selecting, while in the RRC inactive state and based on the second RSRP threshold, a SSB or a reference signal or an uplink carrier.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A wireless device comprising:<claim-text>one or more processors; and</claim-text><claim-text>memory storing instructions that, when executed by the one or more processors, cause the wireless device to:<claim-text>detect a beam failure or trigger a beam failure recovery procedure based on one or more first configuration parameters that are applicable while the wireless device is in a radio resource control (RRC) connected state;</claim-text><claim-text>transition from the RRC connected state to an RRC inactive state; and</claim-text><claim-text>detect a beam failure or trigger a beam failure recovery procedure based on one or more second configuration parameters that are applicable while the wireless device is in the RRC inactive state.</claim-text></claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The wireless device of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the instructions, when executed by the one or more processors, further cause the wireless device to receive an RRC release message:<claim-text>comprising the one or more second configuration parameters; and</claim-text><claim-text>indicating the transitioning.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The wireless device of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein:<claim-text>the one or more first configuration parameters comprise a first parameter indicating a first threshold number of beam failure instance indications; and</claim-text><claim-text>the one or more second configuration parameters comprise a second parameter indicating a second threshold number of beam failure instance indications.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The wireless device of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein:<claim-text>while in the RRC connected state, triggering a beam failure recovery is based on a beam failure instance indication counter reaching the first threshold number; and</claim-text><claim-text>while in the RRC inactive state, triggering a beam failure recovery is based on a beam failure instance indication counter reaching the second threshold number.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The wireless device of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein:<claim-text>the one or more first configuration parameters comprise a third parameter indicating a first beam failure detection timer value; and</claim-text><claim-text>the one or more second configuration parameters comprise a fourth parameter indicating a second beam failure detection timer value.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The wireless device of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the instructions, when executed by the one or more processes, further cause the wireless device to:<claim-text>start, while in the RRC connected state, a beam failure detection timer with the first beam failure detection timer value in response to a beam failure instance indication; and</claim-text><claim-text>start, while in the RRC inactive state, a beam failure detection timer with the second beam failure detection timer value in response to a beam failure instance indication.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The wireless device of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein:<claim-text>the one or more first configuration parameters comprise a fifth parameter indicating a first beam failure recovery timer value; and</claim-text><claim-text>the one or more second configuration parameters comprise a sixth parameter indicating a second beam failure recovery timer value.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The wireless device of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the instructions, when executed by the one or more processes, further cause the wireless device to:<claim-text>start, while in the RRC connected state, a beam failure recovery timer with the first beam failure recovery timer value in response to initiating a first random access process for beam failure recovery; and</claim-text><claim-text>start, while in the RRC inactive state, a beam failure recovery timer with the second beam failure recovery timer value in response to initiating a second random access process for beam failure recovery.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The wireless device of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein:<claim-text>the one or more first configuration parameters comprise a seventh parameter indicating a first received signal received power (RSRP) threshold; and</claim-text><claim-text>the one or more second configuration parameters comprise an eighth parameter indicating a second RSRP threshold.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The wireless device of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the instructions, when executed by the one or more processes, further cause the wireless device to:<claim-text>select, while in the RRC connected state and based on the first RSRP threshold, a synchronization signal block (SSB) or a reference signal or an uplink carrier; and</claim-text><claim-text>select, while in the RRC inactive state and based on the second RSRP threshold, a SSB or a reference signal or an uplink carrier.</claim-text></claim-text></claim></claims></us-patent-application>