<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006656A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006656</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17751115</doc-number><date>20220523</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2021-110575</doc-number><date>20210702</date></priority-claim><priority-claim sequence="02" kind="national"><country>JP</country><doc-number>2022-007683</doc-number><date>20220121</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>K</subclass><main-group>3</main-group><subgroup>012</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>K</subclass><main-group>17</main-group><subgroup>60</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>K</subclass><main-group>3</main-group><subgroup>012</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>K</subclass><main-group>17</main-group><subgroup>60</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e79">INTEGRATED CIRCUIT AND SEMICONDUCTOR MODULE</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>FUJI ELECTRIC CO., LTD.</orgname><address><city>Kawasaki-shi</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>AKAHANE</last-name><first-name>Masashi</first-name><address><city>Matsumoto-city</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>ASANO</last-name><first-name>Taizo</first-name><address><city>Matsumoto-city</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>FUJI ELECTRIC CO., LTD.</orgname><role>03</role><address><city>Kawasaki-shi</city><country>JP</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">An integrated circuit, including: a first current source; a second current source provided in parallel to the first current source; a first resistor with one end coupled to an output of the first current source; a first bipolar transistor that is diode-connected and is coupled to the other end of the first resistor; a second bipolar transistor that is diode-connected and is coupled to an output of the second current source; a second resistor coupled to the second bipolar transistor; and an output circuit configured to output a voltage based on a first voltage outputted from the first current source and a second voltage outputted from the second current source.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="132.93mm" wi="158.75mm" file="US20230006656A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="230.12mm" wi="161.46mm" orientation="landscape" file="US20230006656A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="218.52mm" wi="159.51mm" orientation="landscape" file="US20230006656A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="210.48mm" wi="155.11mm" file="US20230006656A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="236.05mm" wi="121.16mm" file="US20230006656A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="207.43mm" wi="160.02mm" file="US20230006656A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="214.55mm" wi="159.60mm" orientation="landscape" file="US20230006656A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="230.63mm" wi="124.97mm" file="US20230006656A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="249.00mm" wi="150.62mm" orientation="landscape" file="US20230006656A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="237.15mm" wi="160.70mm" file="US20230006656A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="218.27mm" wi="160.70mm" file="US20230006656A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="216.66mm" wi="153.75mm" file="US20230006656A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="225.72mm" wi="161.71mm" file="US20230006656A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="224.96mm" wi="152.57mm" file="US20230006656A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading><p id="p-0002" num="0001">The present application claims priority pursuant to 35 U.S.C. &#xa7; 119 from Japanese patent application numbers 2021-110575 and 2022-007683, filed on Jul. 2, 2021 and Jan. 21, 2022, respectively, the entire disclosure of each of which is hereby incorporated by reference herein.</p><heading id="h-0002" level="1">BACKGROUND</heading><heading id="h-0003" level="1">Technical Field</heading><p id="p-0003" num="0002">The present disclosure relates to an integrated circuit and a semiconductor module.</p><heading id="h-0004" level="1">Description of the Related Art</heading><p id="p-0004" num="0003">A voltage reference circuit using a semiconductor bandgap voltage is known (see Japanese Patent Laid-open Publication No. 2007-102753, for example).</p><p id="p-0005" num="0004">In a bandgap-type voltage reference circuit including a bipolar transistor, when the bipolar transistor is exposed to high temperatures, leakage current may occur between the N-well region covering the collector terminal and the substrate. This increases the current outputted through the substrate of the voltage reference circuit, so that the voltage outputted from the voltage reference circuit may fail to have a desired temperature characteristic.</p><heading id="h-0005" level="1">SUMMARY</heading><p id="p-0006" num="0005">A first aspect of an embodiment of the present disclosure is an integrated circuit, comprising: a first current source having an output configured to output a first voltage; a second current source provided in parallel to the first current source and having an output configured to output a second voltage; a first resistor having two ends, one end thereof being coupled to the output of the first current source; a first bipolar transistor which is diode-connected and is coupled to the other end of the first resistor; a second bipolar transistor which is diode-connected and is coupled to the output of the second current source; a second resistor coupled to the second bipolar transistor; and an output circuit configured to output a third voltage based on the first voltage outputted from the first current source and the second voltage outputted from the second current source.</p><p id="p-0007" num="0006">A second aspect of an embodiment of the present disclosure is an integrated circuit, comprising: a first current source having an output configured to output a first voltage; a second current source provided in parallel to the first current source and having an output configured to output a second voltage; a first resistor having two ends, one end thereof being coupled to the output of the first current source; at least one first bipolar transistor that is diode-connected and is coupled to the other end of the first resistor; a plurality of first trimming devices coupled to the output of the second current source; a plurality of second bipolar transistors which are each diode-connected and are respectively coupled to the plurality of first trimming devices; a second resistor having two ends, one end thereof being coupled to the plurality of second bipolar transistors; and an output circuit configured to output a third voltage based on the first voltage outputted from the first current source and the second voltage outputted from the second current source.</p><p id="p-0008" num="0007">A third aspect of an embodiment of the present disclosure is a semiconductor module, comprising: the integrated circuit according to claim <b>1</b>; and a switching device having a control electrode, wherein the integrated circuit further includes a control circuit that is coupled to the control electrode of the switching device, and that controls driving of the switching device based on an input signal of the control circuit and the third voltage.</p><p id="p-0009" num="0008">The aforementioned summary of the invention does not include all necessary characteristics of the invention. The sub-combinations of those characteristics are also included in the invention.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates an example configuration of a semiconductor module <b>10</b>.</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is an example circuit diagram of a voltage generation circuit <b>41</b><i>a. </i></p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is an example conceptual diagram illustrating occurrence of a leakage current Is<b>1</b> in a bipolar transistor <b>74</b>.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is an example schematic diagram illustrating changes in current and voltage with temperature in a voltage reference circuit <b>52</b><i>a. </i></p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates example changes in voltages V<b>1</b>, V<b>2</b>, and Vref<b>1</b> with temperature.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is an example circuit diagram of a voltage generation circuit <b>101</b><i>a </i>according to a comparative example.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is an example schematic diagram illustrating changes in current and voltage with temperature in the voltage generation circuit <b>101</b><i>a. </i></p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>8</b></figref> illustrates an example configuration of an integrated circuit <b>23</b><i>c. </i></p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>9</b></figref> illustrates an example configuration of a voltage reference circuit <b>52</b><i>c. </i></p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>10</b></figref> illustrates an example of the reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>c. </i></p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>11</b></figref> illustrates examples of the reference voltage Vref<b>1</b> where the number of switches that are on among switches <b>124</b><i>a </i>to <b>124</b><i>m </i>is varied.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>12</b></figref> illustrates examples of the reference voltage Vref<b>1</b> where the number of switches that are on among switches <b>133</b><i>a </i>to <b>133</b><i>n </i>is varied.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>13</b></figref> illustrates an example trimming procedure executed in the voltage reference circuit <b>52</b><i>c. </i></p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0007" level="1">DETAILED DESCRIPTION</heading><p id="p-0023" num="0022">Hereinafter, the invention is described through embodiments, but the following embodiments will not limit the invention according to the claims. In addition, all the combinations of the characteristics described in the embodiments are not essential for solving means of the invention.</p><p id="p-0024" num="0023">In the specification, the term &#x201c;to couple&#x201d; means &#x201c;to electrically couple&#x201d; except where specifically noted.</p><heading id="h-0008" level="1">Embodiments</heading><heading id="h-0009" level="1">Configuration Example of Semiconductor Module <b>10</b></heading><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates an example configuration of a semiconductor module <b>10</b>. The semiconductor module <b>10</b> is a module to drive a load <b>11</b> under an instruction from a microcomputer (not illustrated) externally provided.</p><p id="p-0026" num="0025">The semiconductor module <b>10</b> uses a power supply <b>12</b> supplying a voltage HV as a main power supply used in power conversion to the load <b>11</b>. The semiconductor module <b>10</b> includes semiconductor chips <b>21</b><i>a </i>and <b>21</b><i>b</i>, power supplies <b>22</b><i>a </i>and <b>22</b><i>b</i>, and integrated circuits <b>23</b><i>a </i>and <b>23</b><i>b. </i></p><p id="p-0027" num="0026">The semiconductor module <b>10</b> of the first embodiment is an intelligent power module (IPM) composed of a package of the semiconductor chips <b>21</b><i>a </i>and <b>21</b><i>b </i>and the integrated circuits <b>23</b><i>a </i>and <b>23</b><i>b </i>having a driving function and various protection functions for the circuits of the semiconductor chips <b>21</b><i>a </i>and <b>21</b><i>b. </i></p><p id="p-0028" num="0027">In the chips and other components constituting the semiconductor modules <b>10</b>, the semiconductor chip <b>21</b><i>a</i>, power supply <b>22</b><i>a</i>, and integrated circuit <b>23</b><i>a </i>are provided in the low side while the semiconductor chip <b>21</b><i>b</i>, power supply <b>22</b><i>b</i>, and integrated circuit <b>23</b><i>b </i>are provided in the high side. In the first embodiment, the circuits in the low and high sides have the same configuration, and the circuits in the low side are mainly described below.</p><p id="p-0029" num="0028">The load <b>11</b> is, for example, a motor coil and is driven with a voltage Vout outputted from the node of the contact provided between the semiconductor chips <b>21</b><i>a </i>and <b>21</b><i>b. </i></p><p id="p-0030" num="0029">The semiconductor chip <b>21</b><i>a </i>includes a switching device to drive the load <b>11</b> and a temperature detection device.</p><p id="p-0031" num="0030">The semiconductor chip <b>21</b><i>a </i>of the first embodiment includes an insulated gate bipolar transistor (IGBT) <b>31</b><i>a </i>as the switching device and a diode <b>32</b><i>a </i>for the IGBT <b>31</b><i>a </i>as the temperature detection device.</p><p id="p-0032" num="0031">The switching device provided for the semiconductor chips <b>21</b><i>a </i>is not limited to the IGBT <b>31</b><i>a </i>and may be a MOS transistor or a bipolar transistor. The semiconductor chip <b>21</b><i>a </i>may include a diode for commutation of load current, such as a freewheeling diode (FWD), other than the diode <b>32</b><i>a. </i></p><p id="p-0033" num="0032">The power supply <b>22</b><i>a </i>is a power supply for the integrated circuit <b>23</b><i>a </i>and applies a power supply voltage Vdd<b>1</b> to a power supply line L<b>1</b><i>a</i>. The power supply <b>22</b><i>a </i>of the first embodiment is provided outside of the semiconductor module <b>10</b>. Alternatively, the voltage to be supplied to the integrated circuit <b>23</b><i>a </i>may be generated by a power supply circuit (not illustrated) provided within the semiconductor module <b>10</b>.</p><p id="p-0034" num="0033">The integrated circuit <b>23</b><i>a </i>is a low voltage integrated circuit (LVIC). The integrated circuit <b>23</b><i>a </i>is a circuit configured to output a driving signal LO to the gate electrode of the IGBT <b>31</b><i>a </i>based on a signal LIN inputted from a microcomputer (not illustrated) to control the IGBT <b>31</b><i>a</i>. The integrated circuit <b>23</b><i>a </i>includes a voltage generation circuit <b>41</b><i>a</i>, a temperature detection circuit <b>42</b><i>a</i>, and a control circuit <b>43</b><i>a. </i></p><p id="p-0035" num="0034">The voltage generation circuit <b>41</b><i>a </i>of the first embodiment is a circuit configured to generate a reference voltage Vref<b>1</b> based on the power supply voltage Vdd<b>1</b> of the power supply line L<b>1</b><i>a</i>. The voltage generation circuit <b>41</b><i>a </i>includes a temperature compensation circuit <b>51</b><i>a </i>and a voltage reference circuit <b>52</b><i>a. </i></p><p id="p-0036" num="0035">The temperature compensation circuit <b>51</b><i>a </i>of the first embodiment is a circuit including bipolar devices. In the bipolar devices, as described later, leakage current toward the ground occurs in a temperature range not lower than a predetermined temperature.</p><p id="p-0037" num="0036">At temperatures lower than the predetermined temperature, the temperature compensation circuit <b>51</b><i>a </i>supplies a constant voltage to the voltage reference circuit <b>52</b><i>a</i>. At temperatures not lower than the predetermined temperature, the temperature compensation circuit <b>51</b><i>a </i>supplies voltage that decreases with temperature.</p><p id="p-0038" num="0037">In the temperature compensation circuit <b>51</b><i>a </i>and voltage reference circuit <b>52</b><i>a</i>, as described later, when leakage current occurs in the bipolar devices included in the temperature compensation circuit <b>51</b><i>a</i>, the voltage supplied from the temperature compensation circuit <b>51</b><i>a </i>to the voltage reference circuit <b>52</b><i>a </i>decreases.</p><p id="p-0039" num="0038">The temperature compensation circuit <b>51</b><i>a </i>is coupled to the power supply line L<b>1</b><i>a</i>. When supplied with voltage from the power supply <b>22</b><i>a</i>, the temperature compensation circuit <b>51</b><i>a </i>supplies temperature-compensated voltage and current to the voltage reference circuit <b>52</b><i>a. </i></p><p id="p-0040" num="0039">The voltage reference circuit <b>52</b><i>a </i>supplies the reference voltage Vref<b>1</b> to the control circuit <b>43</b><i>a </i>based on the power supply voltage Vdd<b>1</b> supplied from the power supply line L<b>1</b><i>a </i>and the voltage and current supplied from the temperature compensation circuit <b>51</b><i>a. </i></p><p id="p-0041" num="0040">The temperature detection circuit <b>42</b><i>a </i>supplies a predetermined current to the diode <b>32</b><i>a </i>and outputs to the control circuit <b>43</b><i>a</i>, a temperature sense signal Tsns<b>1</b> corresponding to the temperature of the IGBT <b>31</b><i>a </i>based on a forward voltage of the diode <b>32</b><i>a. </i></p><p id="p-0042" num="0041">The control circuit <b>43</b><i>a </i>controls the operation of the IGBT <b>31</b><i>a </i>based on the signal LIN inputted from the microcomputer (not illustrated), reference voltage Vref<b>1</b>, and temperature sense Tsns<b>1</b>.</p><p id="p-0043" num="0042">The control circuit <b>43</b><i>a </i>is coupled to a control electrode of the switching device of the semiconductor chip <b>21</b><i>a. </i></p><p id="p-0044" num="0043">Specifically, if the switching device is the IGBT <b>31</b><i>a </i>like the first embodiment, the control circuit <b>43</b><i>a </i>is coupled to the gate electrode. Similarly, if the switching device is a MOS transistor, the control circuit <b>43</b><i>a </i>is coupled to the gate electrode thereof, and if the switching device is a bipolar transistor, the control circuit <b>43</b><i>a </i>is coupled to the base electrode thereof.</p><p id="p-0045" num="0044">Specifically, the control circuit <b>43</b><i>a </i>outputs the driving signal LO based on the signal LIN to control drive of the IGBT <b>31</b><i>a</i>. The control circuit <b>43</b><i>a </i>also detects overheat of the semiconductor chip <b>21</b><i>a </i>based on the reference voltage Vref<b>1</b> and the temperature sense signal Tsns<b>1</b>. Upon detecting overheat of the semiconductor chip <b>21</b><i>a</i>, for example, the control circuit <b>43</b><i>a </i>turns off the IGBT <b>31</b><i>a </i>to protect the IGBT <b>31</b><i>a </i>from heat.</p><p id="p-0046" num="0045">As the corresponding configurations in the high side, the semiconductor chip <b>21</b><i>b </i>includes an IGBT <b>31</b><i>b </i>and a diode <b>32</b><i>b</i>, and the power supply <b>22</b><i>b </i>applies a power supply voltage Vdd<b>2</b> to a power supply line L<b>1</b><i>b</i>. The integrated circuit <b>23</b><i>b </i>includes a voltage generation circuit <b>41</b><i>b</i>, a temperature detection circuit <b>42</b><i>b</i>, and a control circuit <b>43</b><i>b. </i></p><p id="p-0047" num="0046">The voltage generation circuit <b>41</b><i>b</i>, similarly to the voltage generation circuit <b>41</b><i>a</i>, supplies a reference voltage Vref<b>2</b> to the control circuit <b>43</b><i>b</i>. The temperature detection circuit <b>42</b><i>b</i>, similarly to the temperature detection circuit <b>42</b><i>a</i>, outputs to the control circuit <b>43</b><i>b</i>, a temperature sense signal Tsns<b>2</b> corresponding to the temperature of the IGBT <b>31</b><i>b </i>based on a forward voltage of the diode <b>32</b><i>b. </i></p><p id="p-0048" num="0047">The control circuit <b>43</b><i>b </i>controls the operation of the IGBT <b>31</b><i>b </i>based on a signal HIN from a microcomputer (not illustrated), the reference voltage Vref<b>2</b>, and the temperature sense signal Tsns<b>2</b>. The control circuit <b>43</b><i>b </i>includes a level shifter circuit (not illustrated) configured to translate the signal HIN with the reference voltage being GND to a signal with the reference voltage being Vout.</p><p id="p-0049" num="0048">As described above, the voltage generation circuit <b>41</b><i>b </i>and temperature detection circuit <b>42</b><i>b </i>include the same functions and configurations as those of the voltage generation circuit <b>41</b><i>a </i>and temperature detection circuit <b>42</b><i>a</i>, respectively. The description of the integrated circuit <b>23</b><i>b </i>in the high side, which includes the voltage generation circuit <b>41</b><i>b</i>, temperature detection circuit <b>42</b><i>b</i>, and control circuit <b>43</b><i>b</i>, is omitted.</p><p id="p-0050" num="0049">The reference Vref<b>1</b> corresponds to a &#x201c;third voltage&#x201d;. The control circuit <b>43</b><i>b </i>corresponds to a &#x201c;second control circuit&#x201d;. The voltage reference circuit <b>52</b><i>a </i>outputting the reference voltage Vref<b>1</b> is described in detail later.</p><p id="p-0051" num="0000">===Configuration of Voltage Generation Circuit <b>41</b><i>a===</i></p><p id="p-0052" num="0050"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is an example circuit diagram of the voltage generation circuit <b>41</b><i>a</i>, illustrating the configurations of the temperature compensation circuit <b>51</b><i>a </i>and voltage reference circuit <b>52</b><i>a </i>included in the voltage generation circuit <b>41</b><i>a. </i></p><p id="p-0053" num="0051">The temperature compensation circuit <b>51</b><i>a </i>includes MOS transistors <b>61</b> to <b>64</b>, bipolar transistors <b>65</b> and <b>67</b>, and a resistor <b>66</b>. The MOS transistors <b>61</b> and <b>62</b> are P-MOS transistors, and the MOS transistors <b>63</b> and <b>64</b> are N-MOS transistors.</p><p id="p-0054" num="0052">The voltage reference circuit <b>52</b><i>a </i>includes MOS transistors <b>71</b> and <b>72</b>, resistors <b>73</b> and <b>76</b>, bipolar transistors <b>74</b> and <b>75</b>, and an output circuit <b>77</b>. The MOS transistors <b>71</b> and <b>72</b> are P-MOS transistors.</p><p id="p-0055" num="0000">&#x3c;&#x3c;Configuration of Temperature Compensation Circuit <b>51</b><i>a&#x3e;&#x3e;</i></p><p id="p-0056" num="0053">The MOS transistors <b>62</b> and <b>63</b> are diode-connected transistors with the gate and drain electrodes coupled to each other. The MOS transistors <b>61</b> and <b>62</b> constitute a P-channel current mirror circuit <b>68</b> while the MOS transistors <b>63</b> and <b>64</b> constitute an N-channel current mirror circuit <b>69</b>.</p><p id="p-0057" num="0054">When the diode-connected MOS transistor <b>62</b> is supplied with the voltage Vdd<b>1</b> and current from the power supply line L<b>1</b><i>a</i>, the MOS transistor <b>61</b> is turned on. The MOS transistor <b>61</b> outputs a current based on the current flowing through the MOS transistor <b>62</b>. The MOS transistors <b>61</b> and <b>62</b> supply the currents to the MOS transistors <b>63</b> and <b>64</b>, respectively.</p><p id="p-0058" num="0055">In the first embodiment, the drain electrode of the MOS transistor <b>62</b> is coupled to the MOS transistor <b>64</b> and is coupled to the gate electrodes of the MOS transistors <b>71</b> and <b>72</b> in parallel. The MOS transistor <b>62</b> and MOS transistors <b>71</b> and <b>72</b> constitute a current mirror circuit.</p><p id="p-0059" num="0056">If no leakage current occurs at the gate electrodes of the MOS transistors <b>71</b> and <b>72</b>, steady current from the MOS transistor <b>62</b> to the MOS transistors <b>71</b> and <b>72</b> is substantially negligible. The currents supplied from the power supply line L<b>1</b><i>a </i>to the MOS transistors <b>61</b> and <b>62</b> are therefore directly supplied to the MOS transistors <b>63</b> and <b>64</b>, respectively.</p><p id="p-0060" num="0057">When the diode-connected MOS transistor <b>63</b> is supplied with the current from the MOS transistor <b>61</b> of the current mirror circuit <b>68</b>, the MOS transistor <b>64</b> is turned on. The MOS transistor <b>64</b> outputs a current depending on the current flowing through the MOS transistor <b>63</b>. The MOS transistor <b>63</b> supplies the current to the bipolar transistor <b>65</b> while the MOS transistor <b>64</b> supplies the current to the resistor <b>66</b>.</p><p id="p-0061" num="0058">In the first embodiment, the MOS transistors <b>61</b> and <b>62</b> are of the same size, and the MOS transistors <b>63</b> and <b>64</b> are of the same size. The currents outputted from the MOS transistors <b>63</b> and <b>64</b> of the current mirror circuit <b>69</b> are equal to each other.</p><p id="p-0062" num="0059">The base electrode of the bipolar transistor <b>65</b> is coupled to the collector electrode thereof. In this case, the base and collector electrodes of the bipolar transistor <b>65</b> are coupled to the source electrode of the MOS transistor <b>63</b>, which is an output end of the current mirror circuit <b>69</b>. On the other hand, the emitter electrode of the bipolar transistor <b>65</b> is grounded.</p><p id="p-0063" num="0060">One end of the resistor <b>66</b> is coupled to the source electrode of the MOS transistor <b>64</b>, which is the other output end of the current mirror circuit <b>69</b>. On the other hand, the other end of the resistor <b>66</b> is coupled to the base and collector electrodes of the bipolar transistor <b>67</b>.</p><p id="p-0064" num="0061">Similar to the bipolar transistor <b>65</b>, the base electrode of the bipolar transistor <b>67</b> is coupled to the collector electrode thereof, and the emitter electrode of the bipolar transistor <b>67</b> is grounded.</p><p id="p-0065" num="0062">The bipolar transistors <b>65</b> and <b>67</b> are configured to differ in base-emitter voltage. Specifically, the bipolar transistor <b>65</b> of the first embodiment is composed of a single bipolar transistor while the bipolar transistor <b>67</b> is composed of a plurality of bipolar transistors coupled in parallel. The base-emitter voltage of the bipolar transistor <b>65</b> is greater than that of the bipolar transistor <b>67</b>. The base-emitter voltages of the bipolar transistors <b>65</b> and <b>67</b> have both positive temperature coefficients.</p><p id="p-0066" num="0063">In the first embodiment, since the currents from the current mirror circuits <b>68</b> and <b>69</b> are equal to each other, voltages generated at the source electrodes of the MOS transistors <b>63</b> and <b>64</b> are equal to each other. The voltage generated across the resistor <b>66</b> depends on the difference in base-emitter voltage between the bipolar transistors <b>65</b> and <b>67</b> and has a negative temperature coefficient.</p><p id="p-0067" num="0064">The voltage generated at the node coupled to the MOS transistor <b>64</b> and resistor <b>66</b> is the sum of the base-emitter voltage of the bipolar transistor <b>67</b> having a positive temperature coefficient and the voltage across the resistor <b>66</b> having a negative temperature coefficient. In the first embodiment, the temperature coefficient of the voltage at the node coupled to the MOS transistor <b>64</b> and resistor <b>66</b> is set to zero by, for example, adjusting the resistance value of the resistor <b>66</b> or the number of bipolar transistors included in the bipolar transistor <b>67</b>.</p><p id="p-0068" num="0065">Herein, the bipolar transistor <b>67</b> conducts a current Iref. In the first embodiment, as the current Iref flowing through the bipolar transistor <b>67</b> increases, the voltage supplied from the MOS transistor <b>62</b> to the gate electrodes of the MOS transistors <b>71</b> and <b>72</b> decreases.</p><p id="p-0069" num="0066">As later described with reference to <figref idref="DRAWINGS">FIGS. <b>3</b> and <b>4</b></figref>, when the bipolar transistors <b>65</b> and <b>67</b> are exposed to temperatures not lower than a predetermined temperature threshold Tth, leakage currents occur in the bipolar transistors <b>65</b> and <b>67</b>, and the current flowing through the bipolar transistor <b>65</b> and the current Iref flowing through the bipolar transistor <b>67</b> increase.</p><p id="p-0070" num="0067">The currents flowing through the bipolar transistors <b>65</b> and <b>67</b> are currents supplied from the current mirror circuits <b>68</b> and <b>69</b> to the bipolar transistors <b>65</b> and <b>67</b>. Occurrence of leakage currents therefore increases currents flowing through the current mirror circuits <b>68</b> and <b>69</b>.</p><p id="p-0071" num="0068">The MOS transistors <b>61</b> and <b>62</b> constituting the current mirror circuit <b>68</b> are P-MOS transistors. When the currents flowing through the current mirror circuit <b>68</b> increase, therefore, the source-drain currents of the P-MOS transistors <b>61</b> and <b>62</b> increase, and the gate voltages of the MOS transistors <b>61</b> and <b>62</b> decrease.</p><p id="p-0072" num="0069">In this case, the gate electrode of the MOS transistor <b>62</b> is coupled to the gate electrodes of the MOS transistors <b>71</b> and in parallel. The decrease in gate voltage of the MOS transistor <b>62</b> leads to a decrease in voltage applied to the gate electrodes of the MOS transistors <b>71</b> and <b>72</b> from the temperature compensation circuit <b>51</b><i>a. </i></p><p id="p-0073" num="0070">The MOS transistor <b>62</b> thus applies a voltage corresponding to a reference current to the MOS transistors <b>71</b> and <b>72</b> where the reference current is the reference current Iref flowing through the bipolar transistor <b>67</b>.</p><p id="p-0074" num="0071">The current mirror circuit <b>68</b> corresponds to a &#x201c;first current mirror circuit&#x201d;. The current mirror circuit <b>69</b> corresponds to a &#x201c;second current mirror circuit&#x201d;.</p><p id="p-0075" num="0072">The resistor <b>66</b> corresponds to a &#x201c;fifth resistor&#x201d;. The bipolar transistor <b>65</b> corresponds to a &#x201c;fourth bipolar transistor&#x201d;, and the bipolar transistor <b>67</b> corresponds to a &#x201c;third bipolar transistor&#x201d;. The current Iref flowing through the bipolar transistor <b>67</b> corresponds to a &#x201c;reference current&#x201d;. The bipolar transistors with the base and collector electrodes coupled correspond to diode-connected bipolar transistors.</p><p id="p-0076" num="0000">&#x3c;&#x3c;Configuration of Voltage Reference Circuit <b>52</b><i>a&#x3e;&#x3e;</i></p><p id="p-0077" num="0073">The source electrodes of the MOS transistors <b>71</b> and <b>72</b> are coupled to the power supply line L<b>1</b><i>a </i>in parallel. The same voltage is applied to the source electrodes of the MOS transistors <b>71</b> and <b>72</b> from the power supply line L<b>1</b><i>a. </i></p><p id="p-0078" num="0074">On the other hand, the gate electrodes of the MOS transistors <b>71</b> and <b>72</b> are coupled to the gate electrode of the MOS transistor <b>62</b>. The MOS transistors <b>71</b> and <b>72</b> constitute a current mirror circuit in conjunction with the MOS transistor <b>62</b>. To the gate electrodes of the MOS transistors <b>71</b> and <b>72</b>, certain voltage is applied from the temperature compensation circuit <b>51</b><i>a</i>. Each of the MOS transistors <b>71</b> and <b>72</b> serves as a current source to supply a current to a device coupled to the drain electrode thereof.</p><p id="p-0079" num="0075">Furthermore, the MOS transistors <b>71</b> and <b>72</b> of the first embodiment are of the same size. The currents supplied from the drain electrodes of the MOS transistors <b>71</b> and <b>72</b> are therefore equal to each other.</p><p id="p-0080" num="0076">One end of the resistor <b>73</b> is coupled to the drain electrode of the MOS transistor <b>71</b>. The other end of the resistor <b>73</b> is coupled to the collector electrode of the bipolar transistor <b>74</b>. A current Ic<b>1</b> supplied from the MOS transistor <b>71</b> to the resistor <b>73</b> flows through the resistor <b>73</b> to be supplied to the bipolar transistor <b>74</b>.</p><p id="p-0081" num="0077">The current Ic<b>1</b> from the resistor <b>73</b> flows into the bipolar transistor <b>74</b>. The bipolar transistor <b>74</b> is diode-connected with the collector and base electrodes coupled to each other. That is, the current Ic<b>1</b> is a current flowing from the collector electrode side into the collector and base electrodes of the bipolar transistor <b>74</b>.</p><p id="p-0082" num="0078">As later described with reference to <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the P&#x2212; base region of the bipolar transistor <b>74</b> is grounded. In the bipolar transistor <b>74</b>, a leakage current Is<b>1</b> flowing from the substrate toward the ground without flowing through the emitter electrode occurs at temperatures not lower than a predetermined temperature.</p><p id="p-0083" num="0079">The current Ic<b>1</b> is expressed as the sum of a current Ie<b>1</b> flowing out through the emitter electrode of the bipolar transistor <b>74</b> and the leakage current Is<b>1</b> flowing out through the substrate as: Ic<b>1</b>=Ie<b>1</b>+Is<b>1</b>.</p><p id="p-0084" num="0080">Since the current Ic<b>1</b> flows through the resistor <b>73</b>, a voltage V<b>1</b> supplied from the drain electrode of the MOS transistor <b>71</b> is expressed by the formula: V<b>1</b>=(Ie<b>1</b>+Is<b>1</b>)&#xd7;(the resistance value of the resistor <b>73</b>)+(the voltage drop across the bipolar transistor <b>74</b>). The voltage V<b>1</b> therefore increases with the leakage current Is<b>1</b>.</p><p id="p-0085" num="0081">On the other hand, a current Ic<b>2</b> is supplied from the MOS transistor <b>72</b> to the diode-connected bipolar transistor <b>75</b> with the base and collector electrodes coupled to each other. That is, the current Ic<b>2</b> is a current flowing into the collector and base electrodes of the bipolar transistor <b>75</b>. The bipolar transistor <b>75</b> is coupled to the drain electrode of the MOS transistor <b>72</b>.</p><p id="p-0086" num="0082">In the bipolar transistor <b>75</b>, similarly to the bipolar transistor <b>74</b>, a leakage current Is<b>2</b> flowing through the substrate toward the ground without flowing through the emitter electrode occurs at temperatures not lower than the predetermined temperature. As the leakage current Is<b>2</b> increases, the current Ie<b>2</b> flowing out through the emitter electrode of the bipolar transistor <b>75</b> decreases.</p><p id="p-0087" num="0083">One end of the resistor <b>76</b> is coupled to the emitter electrode of the bipolar transistor <b>75</b> while the other end is grounded. In this case, the voltage drop across the resistor <b>76</b> is expressed as: (the resistance value of the resistor <b>76</b>)&#xd7;Ie<b>2</b>. In the first embodiment, the resistance value of the resistor <b>76</b> is set equal to the resistance value of the resistor <b>73</b>.</p><p id="p-0088" num="0084">A voltage V<b>2</b> supplied from the MOS transistor <b>72</b> satisfies the formula: V<b>2</b>=(the resistance value of the resistor <b>76</b>)&#xd7;Ie<b>2</b>+(the voltage drop across the bipolar transistor <b>75</b>). The current Ie<b>2</b> decreases as the leakage current Is<b>2</b> increases, and the voltage V<b>2</b> accordingly decreases as the leakage current Is<b>2</b> increases.</p><p id="p-0089" num="0085">The currents Ic<b>1</b> and Ic<b>2</b> supplied from the MOS transistors <b>71</b> and <b>72</b> increase with temperature when the bipolar transistor <b>67</b> is in the temperature range not lower than the temperature threshold Tth.</p><p id="p-0090" num="0086">Depending on the current Iref flowing through the bipolar transistor <b>67</b>, the current flowing between the source and drain electrodes of the P-MOS transistor <b>62</b> increases, and the gate voltage of the MOS transistor <b>62</b> decreases.</p><p id="p-0091" num="0087">The MOS transistors <b>71</b> and <b>72</b> constitute a current mirror circuit in conjunction with the MOS transistor <b>62</b>. As the gate voltage of the MOS transistor <b>62</b> decreases, therefore, the gate voltages of the P-MOS transistors <b>71</b> and <b>72</b> decrease. The currents Ic<b>1</b> and Ic<b>2</b> respectively flowing between the source and drain electrodes of the MOS transistors <b>71</b> and <b>72</b> therefore increase.</p><p id="p-0092" num="0088">In the first embodiment, when the current Iref flowing through the bipolar transistor <b>67</b> is the reference current, the MOS transistors <b>71</b> and <b>72</b> serve as current sources respectively generating the currents Ic<b>1</b> and Ic<b>2</b> to be supplied from the drain electrodes thereof.</p><p id="p-0093" num="0089">The output circuit <b>77</b> outputs the reference voltage Vref<b>1</b> based on the voltages V<b>1</b> and V<b>2</b> supplied from the MOS transistors <b>71</b> and <b>72</b> serving as the current sources.</p><p id="p-0094" num="0090">In the first embodiment, the output circuit <b>77</b> includes resistors <b>81</b> and <b>82</b>. The output circuit <b>77</b> of the first embodiment is a voltage divider circuit composed of the resistor <b>81</b> coupled to the node at which the voltage V<b>1</b> is generated and the resistor <b>82</b> coupled to the node at which the voltage V<b>2</b> is generated. In the first embodiment, the resistance values of the resistors <b>81</b> and <b>82</b> are set equal to each other.</p><p id="p-0095" num="0091">One end of the resistor <b>81</b> is coupled to the drain electrode of the MOS transistor <b>71</b> serving as the current source. One end of the resistor <b>82</b> is coupled to the drain electrode of the MOS transistor <b>72</b> serving as the current source.</p><p id="p-0096" num="0092">The other end of the resistor <b>82</b> is coupled to the different side of the resistor <b>81</b> from the side coupled to the drain electrode of the MOS transistor <b>71</b>. In this case, the output circuit <b>77</b> outputs the voltage generated at the node coupling the resistors <b>81</b> and <b>82</b> as the reference voltage Vref<b>1</b>.</p><p id="p-0097" num="0093">In another embodiment, for example, the output circuit <b>77</b> may be an adder circuit including an op-amp and adds up the voltages V<b>1</b> and V<b>2</b> to output the result as the reference voltage Vref<b>1</b>. In this case, the output circuit <b>77</b> is a non-inverting adder circuit.</p><p id="p-0098" num="0094">The non-inverting adder circuit including an op-amp is configured as follows, for example. A so-called non-inverting amplifier circuit is formed, in which the inverting input terminal and output terminal of the op-amp are coupled to each other with a resistor therebetween and the inverting terminal is grounded through another resistor. The non-inverting input terminal of the op-amp in the non-inverting amplifier circuit is coupled to the resistors <b>81</b> and <b>82</b> in parallel.</p><p id="p-0099" num="0095">The output circuit <b>77</b> may be an inverting adder circuit including an inverting amplifier circuit with the non-inverting input terminal coupled to the resistors <b>81</b> and <b>82</b> in parallel. Alternatively, the output circuit <b>77</b> may be a non-inverting adder circuit in which an inverting amplifier circuit is coupled to an inverting adder circuit.</p><p id="p-0100" num="0096">In the first embodiment where the output circuit <b>77</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref> is a voltage divider circuit, voltage division of the voltages V<b>1</b> and V<b>2</b> can be implemented using only the two resistors <b>81</b> and <b>82</b> without using a device such as an op-amp. The voltage reference circuit <b>52</b><i>a </i>of the first embodiment can output the reference voltage Vref<b>1</b> as a combination of the voltages V<b>1</b> and V<b>2</b> weighted as desired through the resistance values of the resistors <b>81</b> and <b>82</b>, with a circuit including fewer components and occupying a smaller area.</p><p id="p-0101" num="0097">The MOS transistor <b>71</b> serves as a &#x201c;first current source&#x201d; and corresponds to a &#x201c;first MOS transistor&#x201d;. The MOS transistor <b>72</b> serves as a &#x201c;second current source&#x201d; and corresponds to a &#x201c;second MOS transistor&#x201d;. The voltage V<b>1</b> corresponds to a &#x201c;first voltage&#x201d;, and the voltage V<b>2</b> corresponds to a &#x201c;second voltage&#x201d;.</p><p id="p-0102" num="0098">The resistor <b>73</b> corresponds to a &#x201c;first resistor&#x201d;, and the bipolar transistor <b>74</b> corresponds to a &#x201c;first bipolar transistor&#x201d;. The bipolar transistor <b>75</b> corresponds to a &#x201c;second bipolar transistor&#x201d;, and the resistor <b>76</b> corresponds to a &#x201c;second resistor&#x201d;. The resistors <b>81</b> and <b>82</b> correspond to a &#x201c;third resistor&#x201d; and a &#x201c;fourth resistor&#x201d;, respectively.</p><heading id="h-0010" level="2">===Occurrence Mechanism of Leakage Current Is===</heading><p id="p-0103" num="0099"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is an example conceptual diagram illustrating occurrence of the leakage Is<b>1</b> in the bipolar transistor <b>74</b> of the voltage reference circuit <b>52</b><i>a</i>. In the first embodiment, the bipolar transistor <b>74</b> is formed within a semiconductor by providing an N-well region <b>92</b> in a substrate <b>91</b> and providing dopant-diffused regions for operations of the respective terminals in the N-well region <b>92</b>. In the first embodiment, the substrate <b>91</b> is of P&#x2212; conductive type.</p><p id="p-0104" num="0100">Within the N-well region <b>92</b>, an N+ collector region <b>93</b> is provided around a region where a collector terminal <b>96</b> is provided. A P+ base region <b>94</b> is provided around a region where a base terminal <b>97</b> is provided. Within the P+ base region <b>94</b>, an N+ emitter region <b>95</b> is provided around a region where an emitter terminal <b>98</b> is provided.</p><p id="p-0105" num="0101">For the regions denoted with conductive types in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, symbol &#x201c;+&#x201d; indicates that the doping concentration in the regions with &#x201c;+&#x201d; is higher than that in regions without &#x201c;+&#x201d;. The symbol &#x201c;&#x2212;&#x201d; indicates that the doping concentration in the region with &#x201c;&#x2212;&#x201d; is lower than that in regions without &#x201c;&#x2212;&#x201d;.</p><p id="p-0106" num="0102">In the thus-structured bipolar transistor <b>74</b>, the surface area of the PN junction between the substrate <b>91</b> and N-well region <b>92</b> is larger than that of MOS transistors. When the semiconductor device is exposed to high temperatures, the larger the surface area of the PN junction, the more likely the leakage current Is<b>1</b> is to occur.</p><p id="p-0107" num="0103">The mechanism that causes the leakage current Is<b>1</b> of the bipolar device in the voltage reference circuit <b>52</b><i>a </i>is described above using the bipolar transistor <b>74</b> as an example. The same mechanism can cause the leakage current Is<b>2</b> in the bipolar transistor <b>75</b>.</p><p id="p-0108" num="0104">The magnitudes of the leakage currents Is<b>1</b> and Is<b>2</b> of the bipolar transistors <b>74</b> and <b>75</b> depend on the surface area of the PN junction inside. In the bipolar transistors <b>74</b> and <b>75</b>, the leakage currents Is<b>1</b> and Is<b>2</b> can be adjusted to the same magnitude by equalizing the current supplied to the bipolar transistors <b>74</b> and <b>75</b>, the number of parallel bipolar transistors constituting the bipolar transistors <b>74</b> and <b>75</b>, and the surface area of the PN junction in the bipolar transistors <b>74</b> and <b>75</b>.</p><p id="p-0109" num="0105">In the first embodiment, the bipolar transistors <b>74</b> and <b>75</b> are of the same size. In the first embodiment, furthermore, the currents supplied from the drain electrodes of the MOS transistors <b>71</b> and <b>72</b> are equal to each other. The leakage currents Is<b>1</b> and Is<b>2</b> occurring in the bipolar transistors <b>74</b> and <b>75</b> are therefore adjusted to the same magnitude.</p><p id="p-0110" num="0106">In the first embodiment, the &#x201c;bipolar transistors <b>74</b> and <b>75</b> are of the same size&#x201d; means that the number of parallel bipolar transistors constituting each of the bipolar transistors <b>74</b> and <b>75</b> is also adjusted so as to equalize the entire size of the bipolar transistors <b>74</b> and <b>75</b>.</p><p id="p-0111" num="0107">As described above, the &#x201c;leakage current&#x201d; in the first embodiment is a current flowing from the N-well region <b>92</b> to the substrate <b>91</b> in a bipolar transistor, for example.</p><p id="p-0112" num="0000">===Temperature Characteristic of Voltage and Current in Voltage Reference Circuit <b>52</b><i>a===</i></p><p id="p-0113" num="0108"><figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates an example schematic diagram illustrating changes in current and voltage with temperature in the voltage reference circuit <b>52</b><i>a</i>. <figref idref="DRAWINGS">FIG. <b>4</b></figref> schematically illustrates the voltages Vdd<b>1</b>, V<b>1</b>, V<b>2</b>, and Vref<b>1</b> and the currents Ic<b>1</b>, Ic<b>2</b>, Ie<b>1</b>, and Ie<b>2</b> with temperature on the horizontal axis. In the first embodiment, the graphs are illustrated for the case where leakage current occurs in the bipolar transistors <b>74</b> and <b>75</b> at temperatures not lower than the predetermined temperature threshold Tth.</p><p id="p-0114" num="0109">The voltage Vdd<b>1</b> is supplied from the power supply <b>22</b><i>a </i>through the power supply line L<b>1</b><i>a</i>. The voltage Vdd<b>1</b> of the first embodiment is not affected by temperature changes.</p><p id="p-0115" num="0110">The current Ic<b>1</b> supplied by the MOS transistor <b>71</b> and the current Ic<b>2</b> supplied by the MOS transistor <b>72</b> increase as the currents flowing through the bipolar transistors <b>65</b> and <b>67</b> of the temperature compensation circuit <b>51</b><i>a </i>increase. When leakage currents occur in the bipolar transistors <b>65</b> and <b>67</b>, the leakage currents Is<b>1</b> and Is<b>2</b> also occur in the bipolar transistors <b>74</b> and <b>75</b>.</p><p id="p-0116" num="0111">In the temperature range not lower than the predetermined temperature threshold Tth, the currents Ic<b>1</b> and Ic<b>2</b> therefore increase with the leakage currents Is<b>1</b> and Is<b>2</b>. In the first embodiment, the size of the bipolar transistor <b>74</b> is the same as that of the bipolar transistor <b>75</b>. The leakage currents Is<b>1</b> and Is<b>2</b> therefore satisfy the formula: Is<b>1</b>=Is<b>2</b> and increase at the same rate.</p><p id="p-0117" num="0112">On the other hand, the current Ie<b>1</b> flowing out through the emitter electrode of the bipolar transistor <b>74</b> and the current Ie<b>2</b> flowing out through the emitter electrode of the bipolar transistor <b>75</b> decrease as the leakage currents Is<b>1</b> and Is<b>2</b> increase.</p><p id="p-0118" num="0113">Herein, the voltage V<b>1</b> satisfies the formula: V<b>1</b>=(Ie<b>1</b>+Is<b>1</b>)&#xd7;(the resistance value of the resistor <b>73</b>)+(the voltage drop across the bipolar transistor <b>74</b>), and the voltage V<b>2</b> satisfies the formula: V<b>2</b>=(the resistance value of the resistor <b>76</b>)&#xd7;Ie<b>2</b>+(the voltage drop across the bipolar transistor <b>75</b>). In this case, the voltage V<b>1</b> increases as the leakage current Is<b>1</b> increases, and the voltage V<b>2</b> decreases as the leakage current Is<b>2</b> increases.</p><p id="p-0119" num="0114">In the bipolar transistors <b>74</b> and <b>75</b>, the collector and base electrodes are coupled to each other. The voltage drop across each of the bipolar transistors <b>74</b> and <b>75</b> corresponds to the forward voltage of a diode. The voltage drops across the bipolar transistors <b>74</b> and <b>75</b> are 0.7 V, for example. Since the bipolar transistors <b>74</b> and <b>75</b> are of the same size, the voltage drops across the bipolar transistors <b>74</b> and <b>75</b> are equal to each other.</p><p id="p-0120" num="0115">In the first embodiment, the resistance value of the resistor <b>73</b> is equal to the resistance value of the resistor <b>76</b>. The absolute value of an increase in the voltage V<b>1</b> across the bipolar transistor <b>74</b> due to a temperature increase therefore can be substantially equal to that of a decrease in the voltage V<b>2</b> across the bipolar transistor <b>75</b>.</p><p id="p-0121" num="0116">In the first embodiment, the resistors <b>81</b> and <b>82</b> are identical. The reference voltage Vref<b>1</b> is a voltage obtained by equally dividing the voltages V<b>1</b> and V<b>2</b>. In the first embodiment, the increase in the voltage V<b>1</b> is substantially equal in magnitude to the decrease in the voltage V<b>2</b>, so that the graph of the reference voltage Vref<b>1</b> is substantially flat across temperature changes.</p><p id="p-0122" num="0117">According to the first embodiment, even if the voltage generation circuit <b>41</b><i>a </i>is exposed to high temperatures, the voltage reference circuit <b>52</b><i>a</i>, which is a small-scale circuit including fewer circuit components and occupying a smaller circuit area, is able to output the flat reference voltage Vref<b>1</b>.</p><p id="p-0123" num="0118">Furthermore, when the output circuit <b>77</b> is composed of a divider circuit, for example, the voltage division ratio for the voltages V<b>1</b> and V<b>2</b> can be unbalanced by intentionally unbalancing the ratio of the resistance values of the resistors <b>81</b> and <b>82</b>.</p><p id="p-0124" num="0119">In this case, the voltage reference circuit <b>52</b><i>a </i>of the first embodiment can output the reference voltage Vref<b>1</b> with the temperature characteristics intentionally biased toward a desired characteristic.</p><p id="p-0125" num="0120">For example, when a circuit located at the output stage of the voltage generation circuit <b>41</b><i>a </i>has a temperature characteristic in which the operation delay increases at high temperatures if the received reference voltage Vref<b>1</b> is unchanged, applying a positive bias to the temperature characteristic of the reference voltage Vref<b>1</b> will eliminate the operation delay of the circuit.</p><p id="p-0126" num="0121">According to the voltage reference circuit <b>52</b><i>a </i>of the first embodiment, the reference voltage Vref<b>1</b> with a desired temperature characteristic is outputted by adjusting the resistance values of the resistors <b>81</b> and <b>82</b> of the voltage divider circuit, the resistance values of the resistors <b>73</b> and <b>76</b>, the size of the bipolar transistors <b>74</b> and <b>75</b>, the size of the MOS transistors <b>71</b> and <b>72</b>, and the like.</p><p id="p-0127" num="0122">In the first embodiment, the influences of the leakage currents Is<b>1</b> and Is<b>2</b> on the reference voltage Vref<b>1</b> can be adjusted with the configuration of the voltage reference circuit <b>52</b><i>a</i>. The influences of the leakage currents Is<b>1</b> and Is<b>2</b> on the reference voltage Vref<b>1</b> therefore can be adjusted without any additional process such as providing an isolation region to prevent occurrence of the leakage currents Is<b>1</b> and IS<b>2</b> around the PN junction region in the bipolar transistors <b>74</b> and <b>75</b>.</p><p id="p-0128" num="0123">According to the first embodiment, the influences of the leakage currents Is<b>1</b> and Is<b>2</b> can be adjusted without increasing the number of steps of the semiconductor process. That is, the voltage reference circuit <b>52</b><i>a </i>of the first embodiment contributes to reduction in manufacturing cost.</p><p id="p-0129" num="0124">In the high side, the voltage generation circuit <b>41</b><i>b </i>includes the temperature compensation circuit <b>51</b><i>b </i>and voltage reference circuit <b>52</b><i>b </i>which are similarly configured to those of the voltage generation circuit <b>41</b><i>a </i>of the first embodiment. The voltage generation circuit <b>41</b><i>b </i>therefore is able to output the reference voltage Vref<b>2</b> with a desired temperature characteristic.</p><p id="p-0130" num="0000">&#x3c;&#x3c;Parallel Configuration of Temperature Compensation Circuit <b>51</b><i>a </i>and Voltage Reference Circuit <b>52</b><i>a&#x3e;&#x3e;</i></p><p id="p-0131" num="0125">Herein, increases in the current Ic<b>1</b> and Ic<b>2</b> mean increases in currents flowing out from the drain electrodes of the MOS transistors <b>71</b> and <b>72</b>. Since the MOS transistors <b>71</b> and <b>72</b> are P-MOS transistors, the currents flowing out from the drain electrodes increase when the gate voltages of the MOS transistors <b>71</b> and <b>72</b> decrease.</p><p id="p-0132" num="0126">On the other hand, in the temperature range not lower than the threshold temperature Tth, leakage currents occur in the bipolar transistors <b>65</b> and <b>67</b> of the temperature compensation circuit <b>51</b><i>a</i>. This increases the currents flowing through the current mirror circuits <b>68</b> and <b>69</b>.</p><p id="p-0133" num="0127">Since the MOS transistors <b>61</b> and <b>62</b> constituting the current mirror circuit <b>68</b> are P-MOS transistors, the gate voltages of the MOS transistors <b>61</b> and <b>62</b> decrease as the currents in the current mirror circuit <b>68</b> increase.</p><p id="p-0134" num="0128">The gate electrodes of the MOS transistors <b>61</b> and <b>62</b> of the current mirror circuit <b>68</b> of the temperature compensation circuit <b>51</b><i>a </i>of the first embodiment and the gate electrodes of the MOS transistors <b>71</b> and <b>72</b> are coupled in parallel. When the gate voltages of the MOS transistors <b>71</b> and <b>72</b> of the voltage reference circuit <b>52</b><i>a </i>decrease due to the leakage currents Is<b>1</b> and Is<b>2</b> of the bipolar transistors <b>74</b> and <b>75</b>, reduced voltage is also supplied from the temperature compensation circuit <b>51</b><i>a. </i></p><p id="p-0135" num="0129">That is, the MOS transistor <b>62</b> of the temperature compensation circuit <b>51</b><i>a </i>serves as a bias voltage source to supply a bias voltage corresponding to the currents flowing through the bipolar transistors <b>65</b> and <b>67</b> to the gate electrodes of the MOS transistors <b>71</b> and <b>72</b>.</p><p id="p-0136" num="0130">In the first embodiment, therefore, the currents Ic<b>1</b> and Ic<b>2</b> increase with the leakage currents Is<b>1</b> and Is<b>2</b>. This stabilizes the reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>a. </i></p><p id="p-0137" num="0131"><figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates example changes in the voltages V<b>1</b>, V<b>2</b>, and Vref<b>1</b> with temperature. In <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the voltage V<b>1</b> is indicated by a dashed-dotted line, and the voltage V<b>2</b> is indicated by a dashed line.</p><p id="p-0138" num="0132">In the first embodiment, the increase in the voltage V<b>1</b> and the decrease in the voltage V<b>2</b> are adjusted equally in magnitude in the temperature range not lower than the temperature threshold Tth by adjusting the resistance values of the resistors <b>73</b> and <b>76</b>, the size of the bipolar transistors <b>74</b> and <b>75</b>, the size of the MOS transistors <b>71</b> and <b>72</b>, and the like.</p><p id="p-0139" num="0133">In the first embodiment, the output of the reference voltage Vref<b>1</b> can be adjusted to be substantially flat by equalizing the resistance value of the resistors <b>81</b> and <b>82</b> of the voltage divider circuit. Thus, the voltage reference circuit <b>52</b><i>a </i>outputs the reference voltage Vref<b>1</b> with the temperature characteristic improved at high temperatures.</p><heading id="h-0011" level="1">Comparative Example</heading><p id="p-0140" num="0134"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is an example circuit diagram of a voltage generation circuit <b>101</b><i>a </i>according to a comparative example. The voltage generation circuit <b>101</b><i>a </i>is coupled within the semiconductor module in the same manner as the voltage generation circuit <b>41</b><i>a. </i></p><p id="p-0141" num="0135">The voltage generation circuit <b>101</b><i>a </i>includes the temperature compensation circuit <b>51</b><i>a </i>and a voltage reference circuit <b>111</b><i>a</i>. The temperature compensation circuit <b>51</b><i>a </i>is the same as the circuit included in the voltage generation circuit <b>41</b><i>a</i>, and the voltage reference circuit <b>111</b><i>a </i>has a different configuration from that of the voltage reference circuit <b>52</b><i>a</i>. The following description focuses mainly on the differences in configuration between the voltage generation circuits <b>41</b><i>a </i>and <b>101</b><i>a. </i></p><p id="p-0142" num="0136">The voltage reference circuit <b>111</b><i>a</i>, unlike the voltage reference circuit <b>52</b><i>a</i>, does not include the line on which the MOS transistor <b>72</b>, bipolar transistor <b>75</b>, and resistor <b>76</b> are provided. The voltage reference circuit <b>111</b><i>a </i>does not include the node at which the voltage V<b>2</b> is generated and the resistor <b>82</b> for voltage division of the voltage V<b>2</b>.</p><p id="p-0143" num="0137">Similar to the voltage reference circuit <b>52</b><i>a</i>, the leakage current Is<b>1</b> occurs in the bipolar transistor <b>74</b> due to the mechanism illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. The current Ic<b>1</b> increases with occurrence of the leakage current Is<b>1</b>.</p><p id="p-0144" num="0138">In the comparative example, the voltage V<b>1</b> similarly satisfies the formula: V<b>1</b>=(Ie<b>1</b>+Is<b>1</b>)&#xd7;(the resistance value of the resistor <b>73</b>)+(the voltage drop across the bipolar transistor <b>74</b>). In the comparative example, since the voltage reference circuit <b>111</b><i>a </i>does not include the resistor <b>82</b>, the reference voltage Vref<b>1</b> to be supplied from the voltage reference circuit <b>111</b><i>a </i>is given by subtracting a voltage drop across the resistor <b>81</b> from the voltage V<b>1</b>.</p><p id="p-0145" num="0000">===Temperature Characteristic of Voltage and Current in Voltage Reference Circuit <b>111</b><i>a===</i></p><p id="p-0146" num="0139"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is an example schematic diagram illustrating changes in current and voltage with temperature in the voltage generation circuit <b>101</b><i>a </i>according to the comparative example. <figref idref="DRAWINGS">FIG. <b>7</b></figref> schematically illustrates the voltages Vdd<b>1</b>, V<b>1</b>, and Vref<b>1</b> and current Ic<b>1</b> with temperature on the horizontal axis.</p><p id="p-0147" num="0140">In the comparative example, the voltage Vdd<b>1</b> is not affected by temperature changes similarly to the voltage Vdd<b>1</b> in <figref idref="DRAWINGS">FIG. <b>4</b></figref>.</p><p id="p-0148" num="0141">In the comparative example, the leakage current Is<b>1</b> also occurs due to the mechanism illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref> in the temperature range not lower than the temperature threshold Tth. In this case, the current Ic<b>1</b> increases with the leakage current Is<b>1</b>.</p><p id="p-0149" num="0142">The voltage V<b>1</b> satisfies the formula: V<b>1</b>=(Ie<b>1</b>+Is<b>1</b>)&#xd7;(the resistance value of the resistor <b>73</b>)+(the voltage drop across the bipolar transistor <b>74</b>). The voltage V<b>1</b> therefore increases as the leakage current Is<b>1</b> increases.</p><p id="p-0150" num="0143">The voltage reference circuit <b>111</b><i>a </i>according to the comparative example is not provided with a node at which the voltage V<b>2</b> to cancel the influence of the increase in the voltage V<b>1</b> is generated. The reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>111</b><i>a </i>is a voltage obtained by subtracting a voltage drop across the resistor <b>81</b> from the voltage V<b>1</b>. The reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>111</b><i>a </i>therefore increases with the voltage V<b>1</b>.</p><p id="p-0151" num="0144">In the comparative example, as described above, the reference voltage Vref<b>1</b> from the voltage reference circuit <b>111</b><i>a </i>increases with occurrence of the leakage current Is<b>1</b>. In contrast, the voltage reference circuit <b>52</b><i>a </i>of the first embodiment supplies the reference voltage Vref<b>1</b> with a desired temperature characteristic, with the small-scale circuit configuration including fewer circuit components and occupying a smaller circuit area.</p><p id="p-0152" num="0000">&#x3c;&#x3c;Integrated Circuit <b>23</b><i>c&#x3e;&#x3e;</i></p><p id="p-0153" num="0145">Next, an integrated circuit <b>23</b><i>c </i>of a second embodiment is described with reference to <figref idref="DRAWINGS">FIG. <b>8</b></figref>. In <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the configurations denoted by the same reference numerals as those in <figref idref="DRAWINGS">FIG. <b>1</b></figref> correspond to the same configurations.</p><p id="p-0154" num="0146">The integrated circuit <b>23</b><i>c </i>is an LVIC similarly to the integrated circuit <b>23</b><i>a</i>. The integrated circuit <b>23</b><i>c</i>, similarly to the integrated circuit <b>23</b><i>a</i>, outputs the driving signal LO to the gate electrode of the IGBT <b>31</b><i>a </i>of the semiconductor chip <b>21</b><i>a </i>based on the signal LIN inputted from a microcomputer (not illustrated) to control the IGBT <b>31</b><i>a</i>. The integrated circuit <b>23</b><i>c </i>includes a voltage generation circuit <b>41</b><i>c</i>, the temperature detection circuit <b>42</b><i>a</i>, the control circuit <b>43</b><i>a</i>, a memory circuit <b>44</b><i>c</i>, and a switch control circuit <b>45</b><i>c</i>. The integrated circuit <b>23</b><i>c </i>differs from the integrated circuit <b>23</b><i>a </i>in including the voltage generation circuit <b>41</b><i>c</i>, memory circuit <b>44</b><i>c</i>, and switch control circuit <b>45</b><i>c. </i></p><p id="p-0155" num="0147">In the high side of the integrated circuit <b>23</b><i>c</i>, an integrated circuit <b>23</b><i>d </i>(not illustrated) is provided. The integrated circuit <b>23</b><i>d </i>includes the same configuration as that of the integrated circuit <b>23</b><i>c</i>. The integrated circuit <b>23</b><i>d </i>includes a voltage generation circuit <b>41</b><i>d</i>, the temperature detection circuit <b>42</b><i>b</i>, the control circuit <b>43</b><i>b</i>, a memory circuit <b>44</b><i>d</i>, and a switch control circuit <b>45</b><i>d</i>. As for the correspondence between the integrated circuits <b>23</b><i>c </i>and <b>23</b><i>d</i>, the circuit configuration in the low side is the same as that in the high side. The following description focuses on the circuits in the low side.</p><p id="p-0156" num="0148">The memory circuit <b>44</b><i>c </i>stores data D (SW) corresponding to information representing on/off status of switches <b>131</b><i>a </i>to <b>131</b><i>c</i>, switches <b>122</b><i>a </i>to <b>122</b><i>c</i>, switches <b>124</b><i>a </i>to <b>124</b><i>m</i>, and switches <b>133</b><i>a </i>to <b>133</b><i>n</i>, which are described later in <figref idref="DRAWINGS">FIG. <b>9</b></figref>. The memory circuit <b>44</b><i>c </i>is an erasable programmable read only memory (EP-ROM) in which a user can externally write or erase data via communication, for example.</p><p id="p-0157" num="0149">The switch control circuit <b>45</b><i>c </i>outputs a signal Vsw to change the status of each switch within the voltage reference circuit <b>52</b><i>c</i>. The switch control circuit <b>45</b><i>c </i>controls the on/off operation of the switches <b>131</b><i>a </i>to <b>131</b><i>c</i>, switches <b>122</b><i>a </i>to <b>122</b><i>c</i>, switches <b>124</b><i>a </i>to <b>124</b><i>m</i>, and switches <b>133</b><i>a </i>to <b>133</b><i>n</i>, which are described later in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, based on the data D(SW).</p><p id="p-0158" num="0150">Herein, the switch control circuit <b>45</b><i>c </i>corresponds to a &#x201c;first control circuit&#x201d;.</p><p id="p-0159" num="0000">==Voltage Generation Circuit <b>41</b><i>c==</i></p><p id="p-0160" num="0151">The voltage generation circuit <b>41</b><i>c </i>of the second embodiment includes the temperature compensation circuit <b>51</b><i>c </i>and voltage reference circuit <b>52</b><i>c</i>. The temperature compensation circuit <b>51</b><i>c </i>has the same configuration as that of the temperature compensation circuit <b>51</b><i>a</i>. The voltage reference circuit <b>52</b><i>c </i>has a different configuration from that of the voltage reference circuit <b>52</b><i>a. </i></p><p id="p-0161" num="0152">Hereinafter, the configuration of the voltage reference circuit <b>52</b><i>c </i>is described in detail with reference to <figref idref="DRAWINGS">FIG. <b>9</b></figref>.</p><p id="p-0162" num="0000">==Voltage Reference Circuit <b>52</b><i>c==</i></p><p id="p-0163" num="0153"><figref idref="DRAWINGS">FIG. <b>9</b></figref> illustrates an example configuration of the voltage reference circuit <b>52</b><i>c</i>. In <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the configurations denoted by the same reference numerals as those of the voltage reference circuit <b>52</b><i>a </i>in <figref idref="DRAWINGS">FIG. <b>2</b></figref> correspond to the same configurations.</p><p id="p-0164" num="0154">The voltage reference circuit <b>52</b><i>c </i>includes the MOS transistors <b>71</b> and <b>72</b>, variable resistors <b>121</b> and <b>126</b>, switches <b>122</b><i>a </i>to <b>122</b><i>c </i>and <b>124</b><i>a </i>to <b>124</b><i>m</i>, bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>and <b>125</b><i>a </i>to <b>125</b><i>m</i>, and output circuit <b>77</b>.</p><p id="p-0165" num="0155">The variable resistor <b>121</b> includes the switches <b>131</b><i>a </i>to <b>131</b><i>c </i>and resistors <b>132</b><i>a </i>to <b>132</b><i>c</i>, and the variable resistor <b>126</b> includes the switches <b>133</b><i>a </i>to <b>133</b><i>n </i>and resistors <b>134</b><i>a </i>to <b>134</b><i>n. </i></p><p id="p-0166" num="0000">===Operation Overview of Voltage Reference Circuit <b>52</b><i>c===</i></p><p id="p-0167" num="0156">In the voltage reference circuit <b>52</b><i>c</i>, the status of each switch can be adjusted by trimming at room temperature and high temperature so that the reference voltage Vref<b>1</b> has desired characteristics at room temperature and at high temperature. The &#x201c;room temperature&#x201d; is, for example, 25&#xb0; C., and the &#x201c;high temperature&#x201d; is, for example, 175&#xb0; C. The temperature set as the &#x201c;high temperature&#x201d; is not limited to 175&#xb0; C. and may be any temperature determined according to the specification of the semiconductor module <b>10</b>.</p><p id="p-0168" num="0157">In the voltage reference circuit <b>52</b><i>c</i>, particularly, the switches <b>124</b><i>a </i>to <b>124</b><i>m </i>are used to adjust the temperature characteristic of the reference voltage Vref<b>1</b> for different temperatures. On the other hand, the switches <b>122</b><i>a </i>to <b>122</b><i>c</i>, switches <b>131</b><i>a </i>to <b>131</b><i>c</i>, and switches <b>133</b><i>a </i>to <b>133</b><i>n </i>are used to correct the offset value of the reference voltage Vref<b>1</b> from a desired voltage value.</p><p id="p-0169" num="0158">In the trimming of the integrated circuit <b>23</b><i>c </i>of the second embodiment, the switch control circuit <b>45</b><i>c </i>operates the switches based on the data D (SW) stored in the memory circuit <b>44</b><i>c </i>in order to change the number of coupled resistors and the number of coupled bipolar transistors. That is, the switches <b>122</b><i>a </i>to <b>122</b><i>c</i>, switches <b>124</b><i>a </i>to <b>124</b><i>m</i>, switches <b>131</b><i>a </i>to <b>131</b><i>c</i>, and switches <b>133</b><i>a </i>to <b>133</b><i>n </i>individually serve as trimming devices for adjustment of the temperature characteristic and voltage.</p><p id="p-0170" num="0159">The trimming performed in the voltage reference circuit <b>52</b><i>c </i>is not limited to trimming using the memory circuit <b>44</b><i>c </i>and switches. The trimming may be laser trimming that fuses connections or resistors. When switches are used as the trimming devices like the second embodiment, the setting of the switches can be changed by performing trimming repeatedly.</p><p id="p-0171" num="0000">===Configuration of Voltage Reference Circuit <b>52</b><i>c===</i></p><p id="p-0172" num="0160">The variable resistor <b>121</b> changes in resistance value based on the signal Vsw outputted from the switch control circuit <b>45</b><i>c</i>. Specifically, the variable resistor <b>121</b> includes the switches <b>131</b><i>a </i>to <b>131</b><i>c </i>and resistors <b>132</b><i>a </i>to <b>132</b><i>c</i>. The number of resistors that are coupled in parallel among the resistors <b>132</b><i>a </i>to <b>132</b><i>c </i>is varied based on the signal Vsw outputted from the switch control circuit <b>45</b><i>c</i>. One end of the variable resistor <b>121</b> is coupled to the MOS transistor <b>71</b>.</p><p id="p-0173" num="0161">In the second embodiment, the variable resistor <b>121</b> includes the three switches <b>131</b><i>a </i>to <b>131</b><i>c </i>and the resistors <b>132</b><i>a </i>to <b>132</b><i>c </i>corresponding thereto. The number of the switches <b>131</b><i>a </i>to <b>131</b><i>c </i>and the number of the resistors <b>132</b><i>a </i>to <b>132</b><i>c </i>corresponding thereto are not limited to three but need to be not less than two.</p><p id="p-0174" num="0162">The switches <b>122</b><i>a </i>to <b>122</b><i>c </i>change the number of bipolar transistors that are coupled in parallel among the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>in response to the signal Vsw. The switches <b>122</b><i>a </i>to <b>122</b><i>c </i>are coupled to the other end of the variable resistor <b>121</b>.</p><p id="p-0175" num="0163">Each of the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>gives a positive contribution to the temperature characteristic of the reference voltage Vref<b>1</b>. The bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>are coupled to the corresponding switches <b>122</b><i>a </i>to <b>122</b><i>c</i>, respectively. That is, the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>are coupled to the other end of the variable resistor <b>121</b> through the switches <b>122</b><i>a </i>to <b>122</b><i>c</i>, respectively.</p><p id="p-0176" num="0164">The switches <b>122</b><i>a </i>to <b>122</b><i>c </i>are provided on the variable resistor <b>121</b>'s side of the respective nodes coupled to the base and collector electrodes of the diode-connected bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c</i>. This prevents current from flowing into the base or collector electrode of any one of the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>when the corresponding one of the switches <b>122</b><i>a </i>to <b>122</b><i>c </i>is off.</p><p id="p-0177" num="0165">When any one of the switches <b>122</b><i>a </i>to <b>122</b><i>c </i>is off, it is therefore possible to prevent leakage current from occurring in the corresponding one of the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c. </i></p><p id="p-0178" num="0166">In the second embodiment, the three switches <b>122</b><i>a </i>to <b>122</b><i>c </i>and the three bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>are provided. However, the numbers of switches and bipolar transistors are not limited to three. The trimming can be performed with two or more integral numbers of switches and bipolar transistors. The smaller the bipolar transistors and the greater the numbers of switches and corresponding bipolar transistors, in particular, the more finely the temperature characteristic of the output of the reference voltage Vref<b>1</b> can be adjusted.</p><p id="p-0179" num="0167">The switches <b>124</b><i>a </i>to <b>124</b><i>m </i>change the number of bipolar transistors that are coupled in parallel among the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>in response to the signal Vsw. The switches <b>124</b><i>a </i>to <b>124</b><i>m </i>are coupled to the drain electrode of the MOS transistor <b>72</b>. In the second embodiment, the number of the switches <b>124</b><i>a </i>to <b>124</b><i>m </i>is m (m is a positive integer).</p><p id="p-0180" num="0168">Each of the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>gives a negative contribution to the temperature characteristic of the reference voltage Vref<b>1</b>. That is, increasing the number of bipolar transistors that are coupled in parallel among the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>increases leakage current occurring due to exposure of the voltage reference circuit <b>52</b><i>c </i>to high temperatures. Increasing the number of bipolar transistors that are coupled in parallel among the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>therefore varying negative the slope of the temperature characteristic of the reference voltage Vref<b>1</b>.</p><p id="p-0181" num="0169">The number of the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>corresponds to the number of switches <b>124</b><i>a </i>to <b>124</b><i>m</i>. In the second embodiment, the number of the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>is m (m is a positive integer) similar to the switches <b>124</b><i>a </i>to <b>124</b><i>m. </i></p><p id="p-0182" num="0170">The bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>are diode-connected transistors. The bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>are coupled to the switches <b>124</b><i>a </i>to <b>124</b><i>m</i>, respectively.</p><p id="p-0183" num="0171">The switches <b>124</b><i>a </i>to <b>124</b><i>m </i>are provided on the variable resistor <b>121</b>'s side of the respective nodes coupled to the base and collector electrodes of the diode-connected bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m</i>. When any one of the switches <b>124</b><i>a </i>to <b>124</b><i>m </i>is off, it is therefore possible to prevent leakage current from occurring in the corresponding one of the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m. </i></p><p id="p-0184" num="0172">The variable resistor <b>126</b> changes in resistance value based on the signal Vsw. Specifically, the variable resistor <b>126</b> includes the switches <b>133</b><i>a </i>to <b>133</b><i>n </i>and resistors <b>134</b><i>a </i>to <b>134</b><i>n</i>. The number of resistors that are coupled in parallel among the resistors <b>134</b><i>a </i>to <b>134</b><i>n </i>changes in response to the signal Vsw outputted from the switch control circuit <b>45</b><i>c</i>. The variable resistor <b>126</b> can thereby change the offset value of the reference voltage Vref<b>1</b> from a desired value (1.2 V, for example).</p><p id="p-0185" num="0173">The resistors <b>134</b><i>a </i>to <b>134</b><i>n </i>discretely change the resistance value of the variable resistor <b>126</b> depending on the on/off status of the switches <b>133</b><i>a </i>to <b>133</b><i>n</i>. The resistance value of the variable resistor <b>126</b> is less likely to fluctuate depending on the noise and current conditions than the resistance value of the variable resistor <b>126</b> that is continuously changed.</p><p id="p-0186" num="0174">In the second embodiment, the resistors provided at the positions of the variable resistors <b>121</b> and <b>126</b> are both variable resistors. Note that one of the resistors may be a variable resistor while the other resistor is a resistor with a fixed resistance value.</p><p id="p-0187" num="0175">Herein, the &#x201c;switches <b>124</b><i>a </i>to <b>124</b><i>m</i>&#x201d; correspond to &#x201c;a plurality of first trimming devices&#x201d;. The &#x201c;switches <b>131</b><i>a </i>to <b>131</b><i>c</i>&#x201d; correspond to &#x201c;a plurality of second trimming devices&#x201d;.</p><p id="p-0188" num="0176">The variable resistor <b>121</b> corresponds to a &#x201c;first resistor&#x201d;. The variable resistor <b>126</b> corresponds to a &#x201c;second resistor&#x201d;.</p><p id="p-0189" num="0177">Each of the bipolar transistor <b>123</b><i>a </i>to <b>123</b><i>c </i>may be a bipolar transistor which is the same as or is different from the bipolar transistor <b>74</b> illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. The bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>correspond to &#x201c;a plurality of first bipolar transistors&#x201d;.</p><p id="p-0190" num="0178">In a similar manner, each of the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>may be a bipolar transistor which is the same as or is different from the bipolar transistor <b>75</b> illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. The bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>correspond to &#x201c;a plurality of second bipolar transistors&#x201d;.</p><p id="p-0191" num="0000">===Reference Voltage Vref<b>1</b> Outputted from Voltage Reference Circuit <b>52</b><i>c===</i></p><p id="p-0192" num="0179"><figref idref="DRAWINGS">FIG. <b>10</b></figref> illustrates an example of the reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>c. </i></p><p id="p-0193" num="0180">Herein, the resistance of the variable resistor <b>121</b> is denoted by r<b>1</b>; the combined resistance of the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c</i>, R<b>1</b>; leakage current of the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m</i>, &#x394;IL; the combined resistance thereof, R<b>2</b>; and the resistance of the variable resistor <b>126</b>, r<b>2</b>.</p><p id="p-0194" num="0181">The current Ic<b>1</b> is a current supplied from the MOS transistor <b>71</b> to the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c</i>, and &#x394;Ic<b>1</b> is an increase in the current Ic<b>1</b> due to a temperature increase. Similarly, the current Ic<b>2</b> is a current supplied from the MOS transistor <b>72</b> to the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m</i>, and &#x394;Ic<b>2</b> is an increase in the current Ic<b>2</b> due to the temperature increase. In this case, the voltage V<b>1</b> and voltage V<b>2</b> satisfy the following formulae (A) and (B), respectively.</p><p id="p-0195" num="0182">For the voltage V<b>1</b>,</p><p id="p-0196" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>V<b>1</b>=(Ic<b>1</b>+&#x394;Ic<b>1</b>)&#xd7;(r<b>1</b>+R<b>1</b>)&#x2003;&#x2003;(A)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0197" num="0183">For the voltage V<b>2</b>,</p><p id="p-0198" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>V<b>2</b>=(Ic<b>2</b>+&#x394;Ic<b>2</b>&#x2212;&#x394;IL)&#xd7;(R<b>2</b>+r<b>2</b>)&#x2003;&#x2003;(B)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0199" num="0184">The output circuit <b>77</b> in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, which is a voltage divider circuit, implements voltage division of the voltages V<b>1</b> and V<b>2</b>. In the second embodiment, voltage division of the voltages V<b>1</b> and V<b>2</b> is implemented with the resistors <b>81</b> and <b>82</b> of the same resistance value similarly to <figref idref="DRAWINGS">FIG. <b>2</b></figref>. The reference voltage Vref<b>1</b> outputted from the output circuit <b>77</b> therefore satisfies: voltage Vref<b>1</b>=(V<b>1</b>+V<b>2</b>)/2.</p><p id="p-0200" num="0185">In <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the positive slope of the voltage V<b>1</b> is greater in magnitude than the negative slope of the voltage V<b>2</b>. The reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>c </i>has a positive temperature characteristic.</p><p id="p-0201" num="0186">Even if the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>are manufactured to be substantially the same size as the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m</i>, the temperature characteristics of the voltages V<b>1</b> and V<b>2</b> are not completely cancelled each other in some cases. This is attributed to, for example, manufacturing variations, differences in coupling locations in the circuit layout, bias voltage for circuit operation that does not satisfy ideal conditions, or the like.</p><p id="p-0202" num="0187">Even in such a case, the voltage reference circuit <b>52</b><i>c </i>is able to provide a desired temperature characteristic of the reference voltage Vref<b>1</b> by adjusting the number of bipolar transistors that are coupled in parallel among the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m</i>. The voltage reference circuit <b>52</b><i>c </i>is further described in terms of such adjustment with reference to <figref idref="DRAWINGS">FIGS. <b>11</b> and <b>12</b></figref>.</p><heading id="h-0012" level="2">===Adjustment of Temperature Characteristic of Reference Voltage Vref<b>1</b>===</heading><p id="p-0203" num="0188"><figref idref="DRAWINGS">FIG. <b>11</b></figref> illustrates examples of the reference voltage Vref<b>1</b> where the number of switches that are off among the switches <b>124</b><i>a </i>to <b>124</b><i>m </i>is varied. In the second embodiment, <figref idref="DRAWINGS">FIG. <b>11</b></figref> illustrates a case where the number of the switches <b>124</b><i>a </i>to <b>124</b><i>m </i>is m.</p><p id="p-0204" num="0189">In <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the number Ntr of switches that are on among the switches <b>124</b><i>a </i>to <b>124</b><i>m </i>is gradually increased from one to m. When the number Ntr of switches that are on among the switches <b>124</b><i>a </i>to <b>124</b><i>m </i>is increased, the number of bipolar transistors that are coupled in parallel among the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>increases.</p><p id="p-0205" num="0190">In this case, &#x394;Ic<b>2</b>, &#x394;IL, and R<b>2</b> increase in the formula (B): V<b>2</b>=(Ic<b>2</b>+&#x394;Ic<b>2</b>&#x2212;&#x394;IL)&#xd7;(R<b>2</b>+r<b>2</b>). This increases the absolute value of the negative slope of the voltage V<b>2</b> due to a temperature increase, thus varying negative the slope of the reference voltage Vref (=(V<b>1</b>+V<b>2</b>)/2) outputted from the voltage reference circuit <b>52</b><i>c. </i></p><p id="p-0206" num="0191">When the number Ntr of switches that are on among the switches <b>124</b><i>a </i>to <b>124</b><i>m </i>is reduced, the absolute value of the negative slope of the voltage V<b>2</b> decreases, thus varying positive the slope of the reference voltage Vref (=(V<b>1</b>+V<b>2</b>)/2) outputted from the voltage reference circuit <b>52</b><i>c. </i></p><p id="p-0207" num="0192">In the second embodiment, when Ntr=4, the difference between the value of the reference voltage Vref<b>1</b> at room temperature (25&#xb0; C., for example) and the value of the reference voltage Vref<b>1</b> at a high temperature (175&#xb0; C., for example) is minimized.</p><p id="p-0208" num="0193">In the voltage reference circuit <b>52</b><i>c </i>of the second embodiment, Ntr=4 is selected in order to obtain the temperature characteristic of the reference voltage Vref<b>1</b> with the temperature dependence thereof minimized from room temperature to high temperatures.</p><p id="p-0209" num="0194">Herein, the reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>c </i>of the second embodiment in <figref idref="DRAWINGS">FIG. <b>11</b></figref> has a voltage value of about 1.25 V at room temperature and has a slightly higher voltage value than 1.25 V at the high temperature. When the desired voltage value of the reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>c </i>is assumed to be 1.2 V, for example, the reference voltage Vref<b>1</b> has an offset value of 0.05 V (=1.25-1.2) at room temperature.</p><p id="p-0210" num="0195">The offset value of 0.05 V of the reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>c </i>can be also adjusted as described below.</p><heading id="h-0013" level="2">===Adjustment of Offset Value of Reference Voltage Vref<b>1</b>===</heading><p id="p-0211" num="0196"><figref idref="DRAWINGS">FIG. <b>12</b></figref> illustrates examples of the reference voltage Vref<b>1</b> where the number of switches that are on among the switches <b>133</b><i>a </i>to <b>133</b><i>n </i>is varied.</p><p id="p-0212" num="0197">In <figref idref="DRAWINGS">FIG. <b>12</b></figref>, the number Nres of switches that are on among the switches <b>133</b><i>a </i>to <b>133</b><i>n </i>is gradually increased from one to m. In the second embodiment, <figref idref="DRAWINGS">FIG. <b>12</b></figref> illustrates a diagram of the reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>c</i>, assuming that Nres=3 when the adjustment illustrated in <figref idref="DRAWINGS">FIG. <b>11</b></figref> is finished.</p><p id="p-0213" num="0198">As the number Nres is increased, r<b>2</b> increases in the formula (B): V<b>2</b>=(Ic<b>2</b>+&#x394;Ic<b>2</b>&#x2212;&#x394;IL)&#xd7;(R<b>2</b>+r<b>2</b>). When the number Nres is increased, the factor (Ic<b>2</b>+&#x394;Ic<b>2</b>&#x2212;&#x394;IL) does not increase, unlike the case where the number Ntr is increased. Increasing the number Nres affects the slope of the voltage V<b>2</b> less than increasing the number Ntr.</p><p id="p-0214" num="0199">When the number Nres is increased, the curve of the reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>c </i>shifts downward in <figref idref="DRAWINGS">FIG. <b>12</b></figref>. When the number Nres is reduced, the curve of the reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>c </i>shifts upward in <figref idref="DRAWINGS">FIG. <b>12</b></figref>.</p><p id="p-0215" num="0200">In the voltage reference circuit <b>52</b><i>c </i>of the second embodiment, Nres=6 is selected in order to obtain the reference voltage Vref<b>1</b> that is less temperature-dependent at high temperatures when the desired voltage thereof at room temperature is 1.2 V. In this case, the reference voltage Vref<b>1</b> outputted from the voltage reference circuit <b>52</b><i>c </i>is close to 1.2 V at room temperature and is less temperature-dependent at high temperatures.</p><p id="p-0216" num="0201">It is also possible to vary the resistance r<b>1</b> by operating the switches <b>131</b><i>a </i>to <b>131</b><i>c </i>of the variable resistor <b>121</b> and vary the combined resistance R<b>1</b> of the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>by operating the switches <b>122</b><i>a </i>to <b>122</b><i>c</i>. In this case, the voltage V<b>1</b> expressed by the formula (A): V<b>1</b>=(Ic<b>1</b>+&#x394;Ic<b>1</b>)&#xd7;(r<b>1</b>+R<b>1</b>) changes, and the term contributing to the positive temperature characteristic of the reference voltage Vref<b>1</b> changes.</p><p id="p-0217" num="0202">The adjustment of the offset value of the reference voltage Vref<b>1</b> therefore may be performed by varying the voltage V<b>1</b> through operations for the switches <b>131</b><i>a </i>to <b>131</b><i>c </i>and switches <b>122</b><i>a </i>to <b>122</b><i>c. </i></p><p id="p-0218" num="0203">As the number of switches that are on among the switches <b>131</b><i>a </i>to <b>131</b><i>c </i>or switches <b>122</b><i>a </i>to <b>122</b><i>c </i>increases, the reference voltage Vref<b>1</b> shifts upward. As the number of switches being on among the switches <b>131</b><i>a </i>to <b>131</b><i>c </i>or switches <b>122</b><i>a </i>to <b>122</b><i>c </i>decreases, the reference voltage Vref<b>1</b> shifts downward.</p><p id="p-0219" num="0000">===Trimming Procedure for Voltage Reference Circuit <b>52</b><i>c===</i></p><p id="p-0220" num="0204"><figref idref="DRAWINGS">FIG. <b>13</b></figref> illustrates a trimming procedure example executed in the voltage reference circuit <b>52</b><i>c. </i></p><p id="p-0221" num="0205">In the following description, trimming is performed using an apparatus such as a not-illustrated semiconductor tester (hereinafter, referred to as a tester), for example.</p><p id="p-0222" num="0206">The tester first performs trimming of the number of bipolar transistors that are coupled in parallel among the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>at room temperature (25&#xb0; C., for example) and acquires data adjusted so that the reference voltage Vref<b>1</b> be a desired value (1.2 V, for example) (S<b>1</b>).</p><p id="p-0223" num="0207">&#x201c;The tester performs trimming of the number of certain devices (resistors, for example) coupled&#x201d; means that the tester rewrites data in a memory of the IC through a not-illustrated terminal to change the number of certain devices coupled.</p><p id="p-0224" num="0208">Next, at a high temperature (175&#xb0; C., for example), the tester performs trimming of the number of bipolar transistors that are coupled in parallel among the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>to acquire data of the reference voltage Vref<b>1</b> (S<b>2</b>).</p><p id="p-0225" num="0209">The tester performs trimming of the number of bipolar transistors that are coupled in parallel among the bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>to minimize the difference between the reference voltage Vref<b>1</b> at room temperature and the reference voltage Vref<b>1</b> at the high temperature (S<b>3</b>). The voltage reference circuit <b>52</b><i>c </i>is therefore able to set the temperature characteristic of the reference voltage Vref<b>1</b> to be outputted to a desired temperature characteristic.</p><p id="p-0226" num="0210">The tester then performs trimming of the number of resistors that are coupled in parallel among the resistors <b>132</b><i>a </i>to <b>132</b><i>c </i>or the resistors <b>134</b><i>a </i>to <b>134</b><i>n </i>or the number of bipolar transistors that are coupled in parallel among the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>at room temperature (S<b>4</b>).</p><p id="p-0227" num="0211">The voltage reference circuit <b>52</b><i>c </i>is therefore able to adjust the offset value of the reference voltage Vref<b>1</b> from a desired value (1.2 V, for example) at room temperature.</p><p id="p-0228" num="0212">As described above, the voltage reference circuit <b>52</b><i>c </i>is able to adjust the temperature characteristic of the reference voltage Vref<b>1</b> to be outputted and adjust the offset thereof from a desired value.</p><heading id="h-0014" level="1">SUMMARY</heading><p id="p-0229" num="0213">The semiconductor module <b>10</b> and voltage generation circuit <b>41</b><i>a </i>of the first embodiment and the voltage generation circuit <b>101</b><i>a </i>of the comparative example are described above. The semiconductor module <b>10</b> includes the integrated circuit <b>23</b><i>a </i>including the voltage reference circuit <b>52</b><i>a. </i></p><p id="p-0230" num="0214">The integrated circuit <b>23</b><i>a </i>includes the voltage reference circuit <b>52</b><i>a</i>. The voltage reference circuit <b>52</b><i>a </i>includes: a current source composed of the MOS transistor <b>71</b>; a current source composed of the MOS transistor <b>72</b> that is provided in parallel to the MOS transistor <b>71</b>; the resistor <b>73</b> with one end coupled to the drain electrode of the MOS transistor <b>71</b>; the bipolar transistor <b>74</b> which is coupled to the other end of the resistor <b>73</b> and in which the base and collector electrodes are coupled; the bipolar transistor <b>75</b> which is coupled to the MOS transistor <b>72</b> and in which the base and collector electrodes are coupled; the resistor <b>76</b> coupled to the emitter electrode of the bipolar transistor <b>75</b>; and the output circuit <b>77</b> outputting a voltage based on the voltage V<b>1</b> outputted from the drain electrode of the MOS transistor <b>71</b> and the voltage V<b>2</b> outputted from the drain electrode of the MOS transistor <b>72</b>.</p><p id="p-0231" num="0215">The voltage reference circuit <b>52</b><i>a </i>is therefore able to supply the reference voltage Vref<b>1</b> with a desired temperature characteristic based on the voltages V<b>1</b> and V<b>2</b> with the small-scale configuration including fewer circuit components and occupying a smaller circuit area.</p><p id="p-0232" num="0216">The bipolar transistors <b>74</b> and <b>75</b> of the first embodiment are of the same size. It is therefore possible to substantially equally adjust the influence of the leakage currents Ic<b>1</b> and Ic<b>2</b> in the bipolar transistors <b>74</b> and <b>75</b> on the increase in the voltage V<b>1</b> and the decrease in the voltage V<b>2</b> produced in a temperature range not lower than the predetermined temperature threshold Tth.</p><p id="p-0233" num="0217">The resistance values of the resistors <b>73</b> and <b>76</b> of the first embodiment are equal to each other. This can equalize the coefficient of the influences of the leakage currents Is<b>1</b> and Is<b>2</b> on the voltage V<b>1</b> and voltage V<b>2</b>.</p><p id="p-0234" num="0218">The integrated circuit <b>23</b><i>c </i>of the second embodiment includes the voltage reference circuit <b>52</b><i>c </i>having the configuration illustrated in <figref idref="DRAWINGS">FIG. <b>9</b></figref>. The voltage reference circuit <b>52</b><i>c </i>includes: a current source composed of the MOS transistor <b>71</b>; a current source composed of the MOS transistor <b>72</b> that is provided in parallel to the MOS transistor <b>71</b>; the variable resistor <b>121</b>; the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c</i>; the plurality of switches <b>124</b><i>a </i>to <b>124</b><i>m</i>; the plurality of bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m</i>; the variable resistor <b>126</b>; the output circuit <b>77</b> outputting the reference voltage Vref<b>1</b> based on the voltage V<b>1</b> outputted from the current source composed of the MOS transistor <b>71</b> and the voltage V<b>2</b> outputted from the current source composed of the MOS transistor <b>72</b>.</p><p id="p-0235" num="0219">The temperature characteristic of the reference voltage Vref<b>1</b> is sometimes difficult to adjust even if the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>and <b>125</b><i>a </i>to <b>125</b><i>m </i>are adjusted in size. This is attributed to, for example, manufacturing variations, differences in coupling locations in the circuit layout, bias voltage for circuit operation that does not satisfy ideal conditions, or the like. Even in such a case, the integrated circuit <b>23</b><i>c </i>is able to adjust the voltages V<b>1</b> and V<b>2</b> and output the reference voltage Vref<b>1</b> with a desired temperature characteristic.</p><p id="p-0236" num="0220">The integrated circuit <b>23</b><i>c </i>further includes the plurality of switches <b>122</b><i>a </i>to <b>122</b><i>c </i>coupled to the other end of the variable resistor <b>121</b>. The plural bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>are coupled to the other end of the variable resistor <b>121</b> through the plurality of switches <b>122</b><i>a </i>to <b>122</b><i>c</i>, respectively.</p><p id="p-0237" num="0221">The integrated circuit <b>23</b><i>c </i>is able to adjust the temperature characteristic of the reference voltage Vref<b>1</b> by varying the size of the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c. </i></p><p id="p-0238" num="0222">At least one of the devices provided at a place where the plurality of switches <b>122</b><i>a </i>to <b>122</b><i>c </i>are coupled and at a place where the plurality of switches <b>124</b><i>a </i>to <b>124</b><i>m </i>are coupled includes a plurality of switches. The integrated circuit <b>23</b><i>c </i>includes the switch control circuit <b>45</b><i>c </i>controlling the on/off operation of the plurality of switches.</p><p id="p-0239" num="0223">The trimming of the size of the bipolar transistors <b>123</b><i>a </i>to <b>123</b><i>c </i>or bipolar transistors <b>125</b><i>a </i>to <b>125</b><i>m </i>in the integrated circuit <b>23</b><i>c </i>can be performed repeatedly to reset the size.</p><p id="p-0240" num="0224">At least one of the devices provided at a place where the variable resistor <b>121</b> is coupled and at a place where the variable resistor <b>126</b> is coupled is a variable resistor. The switch control circuit <b>45</b><i>c </i>controls the resistance value of the variable resistor.</p><p id="p-0241" num="0225">It is therefore possible to perform trimming of the resistance value of the variable resistor <b>121</b> or <b>126</b> in the integrated circuit <b>23</b><i>c</i>. By varying the resistance value of the variable resistor <b>121</b> or <b>126</b>, the offset value of the reference voltage Vref<b>1</b> from a desired value at room temperature can be adjusted.</p><p id="p-0242" num="0226">The variable resistor <b>121</b> or variable resistor <b>126</b> include a plurality of switches <b>131</b><i>a </i>to <b>131</b><i>c </i>or switches <b>133</b><i>a </i>to <b>133</b><i>n </i>to change the resistance value of the variable resistor <b>121</b> or variable resistor <b>126</b>, respectively. The switch control circuit <b>45</b><i>c </i>controls on/off operation of the plurality of switches of the variable resistor <b>121</b> or <b>126</b>.</p><p id="p-0243" num="0227">In the integrated circuit <b>23</b><i>c</i>, therefore, the resistance value of the variable resistor <b>121</b> or <b>126</b> can be discretely adjusted. The resistance value of the variable resistor <b>121</b> or <b>126</b> therefore fluctuates depending on the noise and current conditions less than where the resistance value of the variable resistor <b>121</b> or <b>126</b> is continuously changed.</p><p id="p-0244" num="0228">Furthermore, the integrated circuit <b>23</b><i>c </i>includes the memory circuit <b>44</b><i>c </i>storing the data D(SW) that include the information representing the status of the plurality of switches <b>122</b><i>a </i>to <b>122</b><i>c</i>, <b>124</b><i>a </i>to <b>124</b><i>m</i>, <b>131</b><i>a </i>to <b>131</b><i>c</i>, and <b>133</b><i>a </i>to <b>133</b><i>n</i>. The switch control circuit <b>45</b><i>c </i>controls on/off operation thereof based on the data D(SW).</p><p id="p-0245" num="0229">The trimming using the switches in the integrated circuit <b>23</b><i>c </i>can be repeatedly performed to change the settings of the switches.</p><p id="p-0246" num="0230">The output circuit <b>77</b> of the first embodiment includes the resistor <b>81</b> with one end coupled to the drain electrode of the MOS transistor <b>71</b> and the resistor <b>82</b> with one end coupled to the output of the MOS transistor <b>72</b> and the other end coupled to the other end of the resistor <b>81</b>. Furthermore, the reference voltage Vref<b>1</b> is a voltage generated at the node between the resistors <b>81</b> and <b>82</b>.</p><p id="p-0247" num="0231">As described above, the output circuit <b>77</b> of the first embodiment is a voltage divider circuit composed of the resistors <b>81</b> and <b>82</b>. The output circuit <b>77</b> does not include any device increasing the circuit area, such as an op-amp.</p><p id="p-0248" num="0232">The voltage reference circuit <b>52</b><i>a </i>of the first embodiment is therefore able to supply the reference voltage Vref<b>1</b> with a desired temperature characteristic based on the voltages V<b>1</b> and V<b>2</b> with the small-scale configuration including fewer circuit components and occupying a smaller circuit area.</p><p id="p-0249" num="0233">The resistance values of the resistors <b>81</b> and <b>82</b> of the first embodiment are equal to each other. The output circuit <b>77</b> therefore equally divides the voltages V<b>1</b> and V<b>2</b>. When the increase in the voltage V<b>1</b> is substantially equal to the decrease in the voltage V<b>2</b>, therefore, the voltage reference circuit <b>52</b><i>a </i>outputs the reference voltage Vref<b>1</b> substantially flat.</p><p id="p-0250" num="0234">The temperature compensation circuit <b>51</b><i>a </i>of the first embodiment includes the bipolar transistor <b>67</b> conducting the current Iref. In the first embodiment, the MOS transistors <b>71</b> and <b>72</b> are current sources which supply currents corresponding to the current Iref from the drain electrodes.</p><p id="p-0251" num="0235">The currents Ic<b>1</b> and Ic<b>2</b> therefore increase with occurrence of leakage current in the bipolar transistor <b>67</b>. That is, when the leakage currents Is<b>1</b> and Is<b>2</b> increase in the voltage reference circuit <b>52</b><i>a</i>, the currents Ic<b>1</b> and Ic<b>2</b> also increase.</p><p id="p-0252" num="0236">In the temperature range not lower than the temperature threshold Tth, the leakage currents Is<b>1</b> and Is<b>2</b> therefore satisfy the formula: Is<b>1</b>=Is<b>2</b> and increase at the same rate. This facilitates controlling the contribution of the leakage currents Is<b>1</b> and Is<b>2</b> to the voltages V<b>1</b> and V<b>2</b>, stabilizing the reference voltage Vref<b>1</b> from the voltage reference circuit <b>52</b><i>a</i>. Such a configuration is particularly useful for outputting the reference voltage Vref<b>1</b> which is substantially flat even if the temperature changes.</p><p id="p-0253" num="0237">In the first embodiment, the current source supplying current to the node to which the voltage V<b>1</b> is applied is the MOS transistor <b>71</b>. The current source supplying current to the node to which the voltage V<b>2</b> is applied is the MOS transistor <b>72</b>. The source electrodes of the MOS transistors <b>71</b> and <b>72</b> are coupled to the power supply line Lia, and certain gate voltages are applied to the gate electrodes of the MOS transistors <b>71</b> and <b>72</b>.</p><p id="p-0254" num="0238">In the voltage reference circuit <b>52</b><i>a</i>, as described above, the current sources supplying the currents to the nodes that the voltages V<b>1</b> and V<b>2</b> are applied to are the MOS transistors <b>71</b> and <b>72</b> and do not include any bipolar device. In the voltage reference circuit <b>52</b><i>a</i>, therefore, any large leakage current, like the leakage current that can occur in bipolar devices, does not occur from the current sources supplying the currents to the nodes that the voltages V<b>1</b> and V<b>2</b> are applied to.</p><p id="p-0255" num="0239">In the first embodiment, the MOS transistors <b>71</b> and <b>72</b> are of the same size. The MOS transistors <b>71</b> and <b>72</b> therefore supply currents equal to each other to the nodes that the voltages V<b>1</b> and V<b>2</b> are applied to.</p><p id="p-0256" num="0240">The temperature compensation circuit <b>51</b><i>a </i>of the integrated circuit <b>23</b><i>a </i>of the first embodiment includes the bipolar transistor <b>67</b> and the MOS transistor <b>62</b> as the bias voltage source that supplies a bias voltage corresponding to the current value of the current flowing through the bipolar transistor <b>67</b>. The MOS transistor <b>62</b> supplies the bias voltage to the gate electrodes of the MOS transistors <b>71</b> and <b>72</b>.</p><p id="p-0257" num="0241">When the leakage currents Is<b>1</b> and Is<b>2</b> occur in the bipolar transistors <b>74</b> and <b>75</b>, leakage current also occurs in the bipolar transistor <b>67</b>. Depending on the current value of the current flowing through the bipolar transistor <b>67</b>, the voltage supplied to the gate electrodes of the MOS transistors <b>71</b> and <b>72</b> from the MOS transistor <b>62</b> decreases. The currents Ic<b>1</b> and Ic<b>2</b> supplied from the MOS transistors <b>71</b> and <b>72</b> therefore increase.</p><p id="p-0258" num="0242">That is, when the leakage currents Is<b>1</b> and Is<b>2</b> increase, the currents Ic<b>1</b> and IC<b>2</b> also increase. In the temperature range not lower than the temperature threshold Tth, the leakage current Is<b>1</b> and Is<b>2</b> therefore satisfy the formula: Is<b>1</b>=Is<b>2</b> and increase at the same rate. This facilitates controlling the contribution of the leakage currents Is<b>1</b> and Is<b>2</b> to the voltages V<b>1</b> and V<b>2</b> and stabilizes the reference voltage Vref<b>1</b>. Such a configuration is particularly useful for outputting the reference voltage Vref<b>1</b> which is substantially flat even if the temperature changes.</p><p id="p-0259" num="0243">In the first embodiment, the integrated circuit <b>23</b><i>a </i>includes: the current mirror circuit <b>68</b> including the P-MOS transistors <b>61</b> and <b>62</b>; the current mirror circuit <b>69</b> including the N-MOS transistors <b>63</b> and <b>64</b> supplied with currents from the current mirror circuit <b>68</b>; the bipolar transistor <b>65</b> which is coupled to one output end of the current mirror circuit <b>69</b> and in which the base and collector electrodes are coupled; the resistor <b>66</b> coupled to the other output end of the current mirror circuit <b>69</b>; and the bipolar transistor <b>67</b> which is coupled to the resistor <b>66</b> and in which the base and collector electrodes are coupled. The node coupling the current mirror circuits <b>68</b> and <b>69</b> is coupled to the gate electrodes of the MOS transistors <b>71</b> and <b>72</b>.</p><p id="p-0260" num="0244">When the gate voltages of the MOS transistors <b>71</b> and <b>72</b> of the voltage reference circuit <b>52</b><i>a </i>decrease due to the leakage currents Is<b>1</b> and Is<b>2</b> in the bipolar transistors <b>74</b> and <b>75</b>, reduced voltage is supplied from the temperature compensation circuit <b>51</b><i>a</i>. This stabilizes the operation of the integrated circuit <b>23</b><i>a </i>as a whole.</p><p id="p-0261" num="0245">The semiconductor module <b>10</b> of the first embodiment includes the integrated circuit <b>23</b><i>a </i>and the switching device as the IGBT <b>31</b><i>a</i>. The integrated circuit <b>23</b><i>a </i>includes the control circuit <b>43</b><i>a </i>which is coupled to the gate electrode of the IGBT <b>31</b><i>a </i>and controls drive of the switching device based on the input signal LIN. The control circuit <b>43</b><i>a </i>controls the drive of the switching device based on the input signal LIN and reference voltage Vref<b>1</b>.</p><p id="p-0262" num="0246">The control circuit <b>43</b><i>a </i>is therefore able to drive the switching device based on the reference voltage Vref<b>1</b> which is supplied from the voltage reference circuit <b>52</b><i>a </i>and has a desired temperature characteristic.</p><p id="p-0263" num="0247">The present invention was made in the light of the aforementioned conventional shortcomings, and an object thereof is to provide a circuit supplying a reference voltage having a desired temperature characteristic.</p><p id="p-0264" num="0248">It is possible to provide a circuit supplying a reference voltage having a desired temperature characteristic.</p><p id="p-0265" num="0249">Hereinabove, the invention is described with the embodiments. However, the technical scope of the present invention is not limited to the range described in the aforementioned embodiments. It is obvious to those skilled in the art that the aforementioned embodiments can be variously altered and modified. It is revealed from the claims that the technical scope of the invention includes such altered or modified modes and equivalents thereof without departing from the spirit of the invention.</p><p id="p-0266" num="0250">It should be noted that the order of execution of the processes, such as the operations, procedure, steps, and phases, of the apparatuses, systems, programs, and methods illustrated in the claims, specification, and drawings can be implemented in any order when the order is not explicitly described as &#x201c;before&#x201d;, &#x201c;prior to&#x201d;, and the like or when the output from a process is used in the following process. In the claims, specification, and drawings, any operation procedure may be described using &#x201c;first&#x201d;, &#x201c;next&#x201d;, and the like for convenience. However, this does not mean that the operation procedure is essentially executed in this order.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An integrated circuit, comprising:<claim-text>a first current source having an output configured to output a first voltage;</claim-text><claim-text>a second current source provided in parallel to the first current source and having an output configured to output a second voltage;</claim-text><claim-text>a first resistor having two ends, one end thereof being coupled to the output of the first current source;</claim-text><claim-text>a first bipolar transistor which is diode-connected and is coupled to the other end of the first resistor;</claim-text><claim-text>a second bipolar transistor which is diode-connected and is coupled to the output of the second current source;</claim-text><claim-text>a second resistor coupled to the second bipolar transistor; and</claim-text><claim-text>an output circuit configured to output a third voltage based on the first voltage outputted from the first current source and the second voltage outputted from the second current source.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The integrated circuit according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the first and second bipolar transistors are of a same size.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The integrated circuit according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the first and second resistors have resistance values equal to each other.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. An integrated circuit, comprising:<claim-text>a first current source having an output configured to output a first voltage;</claim-text><claim-text>a second current source provided in parallel to the first current source and having an output configured to output a second voltage;</claim-text><claim-text>a first resistor having two ends, one end thereof being coupled to the output of the first current source;</claim-text><claim-text>at least one first bipolar transistor that is diode-connected and is coupled to the other end of the first resistor;</claim-text><claim-text>a plurality of first trimming devices coupled to the output of the second current source;</claim-text><claim-text>a plurality of second bipolar transistors which are each diode-connected and are respectively coupled to the plurality of first trimming devices;</claim-text><claim-text>a second resistor having two ends, one end thereof being coupled to the plurality of second bipolar transistors; and</claim-text><claim-text>an output circuit configured to output a third voltage based on the first voltage outputted from the first current source and the second voltage outputted from the second current source.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The integrated circuit according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising:<claim-text>a plurality of second trimming devices coupled to the other end of the first resistor, wherein</claim-text><claim-text>the at least one first bipolar transistor includes a plurality of first bipolar transistors, which are coupled to the other end of the first resistor respectively through the plurality of second trimming devices.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The integrated circuit according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein<claim-text>at least either the plurality of first trimming devices or the plurality of second trimming devices are a plurality of first switches, and</claim-text><claim-text>the integrated circuit further comprises a first control circuit configured to control on/off operation of the plurality of first switches.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The integrated circuit according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein<claim-text>at least one of the first resistor or the second resistor is a variable resistor, a resistance value of which is controlled by the first control circuit.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The integrated circuit according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein<claim-text>the variable resistor includes a plurality of second switches, and</claim-text><claim-text>the first control circuit controls on/off operation of the plurality of second switches, to thereby vary the resistance value of the variable resistor.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The integrated circuit according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising<claim-text>a memory circuit storing information representing a status of the plurality of first switches, and</claim-text><claim-text>the first control circuit controls the on/off operation of the plurality of first switches based on the information.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The integrated circuit according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the output circuit includes:<claim-text>a third resistor having two ends, one end thereof being coupled to the output of the first current source;</claim-text><claim-text>a fourth resistor having two ends, one end thereof being coupled to the output of the second current source and the other end thereof being coupled to the other end of the third resistor, and</claim-text><claim-text>the third voltage is a voltage at a node between the third and fourth resistors.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The integrated circuit according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein<claim-text>the third and fourth resistors have resistance values equal to each other.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The integrated circuit according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising<claim-text>a third bipolar transistor configured to generate a reference current, wherein</claim-text><claim-text>each of the first and second current sources generates a current using the reference current.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The integrated circuit according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the first current source includes a first metal oxide semiconductor (MOS) transistor,</claim-text><claim-text>the second current source includes a second MOS transistor,</claim-text><claim-text>source electrodes of the first and second MOS transistors are coupled to a power supply line, and</claim-text><claim-text>gate electrodes of the first and second MOS transistors have a voltage applied to.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The integrated circuit according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein<claim-text>the first and second MOS transistors are of a same size.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The integrated circuit according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising:<claim-text>a third bipolar transistor; and</claim-text><claim-text>a bias voltage source configured to generate a bias voltage corresponding to a value of a current flowing through the third bipolar transistor, wherein</claim-text><claim-text>the bias voltage source supplies the generated bias voltage to the gate electrodes of the first and second MOS transistors.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The integrated circuit according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising:<claim-text>a first current mirror circuit including a P-MOS transistor;</claim-text><claim-text>a second current mirror circuit including an N-MOS transistor supplied with a current from the first current mirror circuit, the second current mirror circuit having a first end and a second end;</claim-text><claim-text>another resistor coupled to the first end of the second current mirror circuit;</claim-text><claim-text>a third bipolar transistor which is diode-connected and is coupled to the another resistor; and</claim-text><claim-text>a fourth bipolar transistor which is diode-connected and is coupled to the second end of the second current mirror circuit, wherein</claim-text><claim-text>a node coupling the first and second current mirror circuits is coupled to the gate electrodes of the first and second MOS transistors.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. A semiconductor module, comprising:<claim-text>the integrated circuit according to <claim-ref idref="CLM-00001">claim 1</claim-ref>; and</claim-text><claim-text>a switching device having a control electrode, wherein</claim-text><claim-text>the integrated circuit further includes a control circuit that is coupled to the control electrode of the switching device, and that controls driving of the switching device based on an input signal of the control circuit and the third voltage.</claim-text></claim-text></claim></claims></us-patent-application>