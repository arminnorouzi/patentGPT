<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006909A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006909</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17869937</doc-number><date>20220721</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>43</main-group><subgroup>10</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>43</main-group><subgroup>50</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>45</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>43</main-group><subgroup>10</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>43</main-group><subgroup>50</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>45</main-group><subgroup>26</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>43</main-group><subgroup>0817</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">CLUSTER WIDE PACKET TRACING</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16952207</doc-number><date>20201119</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11398966</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17869937</doc-number></document-id></child-doc></relation></continuation><continuation><relation><parent-doc><document-id><country>US</country><doc-number>15820545</doc-number><date>20171122</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>10892969</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>16952207</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Cisco Technology, Inc.</orgname><address><city>San Jose</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Chau</last-name><first-name>Hung The</first-name><address><city>Highland</city><state>CA</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method and system for packet tracing is described. In one embodiment, a method includes selecting a packet for tracing through a cluster of a plurality of nodes. The method includes preparing the packet for tracing by generating a cluster-wide unique ID, associating the unique ID with the packet, generating a running counter, and associating the counter with the packet. The method includes generating a first record buffer on a first node of the plurality of nodes and recording the unique ID and an initial value of the counter. The method includes recording a description of an operation performed on the packet in the first record buffer along with a value of the counter. The method also includes transferring the packet to a second node, along with the unique ID, the value of the running counter, and an attribute that indicates that the packet is to be traced.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="229.95mm" wi="146.13mm" file="US20230006909A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="250.19mm" wi="148.17mm" file="US20230006909A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="177.46mm" wi="118.87mm" orientation="landscape" file="US20230006909A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="168.49mm" wi="130.13mm" orientation="landscape" file="US20230006909A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="251.12mm" wi="148.17mm" file="US20230006909A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="198.29mm" wi="126.07mm" file="US20230006909A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="198.29mm" wi="126.07mm" file="US20230006909A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="142.24mm" wi="121.50mm" file="US20230006909A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="231.56mm" wi="110.83mm" orientation="landscape" file="US20230006909A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATION</heading><p id="p-0002" num="0001">This application is a continuation of U.S. application Ser. No. 16/952,207, filed Nov. 19, 2020, which is a continuation of U.S. application Ser. No. 15/820,545, filed Nov. 22, 2017, now U.S. Pat. No. 10,892,969, the entireties of which are incorporated herein by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">This disclosure relates generally to tracing a packet in a computer network.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">Packet tracing is a computer network diagnostic tool for recording the route or path of a packet as it is processed along its path of travel within the network. A packet trace can assist network users and support personnel in troubleshooting connectivity problems within the network by showing the failure point. Packet tracing can provide identification of a configuration error and any internal coding of that error. Packet tracing may also be used to help understand how a packet is processed in a particular computer network environment or architecture.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram illustrating a cluster of network nodes in which packet tracing may be implemented, according to an example embodiment.</p><p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a diagram illustrating a node implementing packet tracing of a packet, according to an example embodiment.</p><p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram illustrating a packet traversing from a sending node to a receiving node within a cluster, according to an example embodiment.</p><p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a functional diagram of a master controller of a cluster querying nodes for packet tracing information about a packet, according to an example embodiment.</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flowchart of a method for implementing packet tracing in an originating node, according to an example embodiment.</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart of a method for implementing packet tracing in a receiving node, according to an example embodiment.</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flowchart of a method for aggregating records for a cluster-wide packet trace, according to an example embodiment.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a representative view of a cluster-wide packet trace, according to an example embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DESCRIPTION OF EXAMPLE EMBODIMENTS</heading><heading id="h-0006" level="2">Overview</heading><p id="p-0013" num="0012">Presented herein is a method and a system for tracing packets in a computer network. In an example embodiment, a method includes selecting a packet for tracing, the packet being configured to traverse through a cluster comprising a plurality of nodes. The method of tracing the packet also includes preparing the packet for tracing by generating a cluster-wide unique identifier (ID) for the packet, associating the unique ID with the packet, generating a running counter for the packet, and associating the running counter with the packet. The running counter has an initial value. The method further includes generating a first record buffer that is stored on a first node of the plurality of nodes. At least the unique ID and the initial value of the running counter for the packet are recorded in the first record buffer stored on the first node. A description of an operation performed on the packet is also recorded in the first record buffer along with a value of the running counter. The value of the running counter is incremented by one after the operation is recorded. The method further includes transferring the packet to a second node of the plurality of nodes. The unique ID of the packet, the value of the running counter of the packet, and an attribute that indicates that the packet is to be traced is also provided to the second node.</p><heading id="h-0007" level="1">EXAMPLE EMBODIMENTS</heading><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram illustrating a cluster <b>10</b> in which packet tracing may be implemented, according to an example embodiment. Cluster <b>10</b> may be a computer network, or a part of a network, and includes a plurality of nodes, including a first node <b>100</b>, a second node <b>110</b>, a third node <b>120</b>, and an nth node <b>130</b> (where n may be any number of additional nodes), that are monitored and controlled by a master controller <b>20</b>. In one example embodiment, plurality of nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b> of cluster <b>10</b> may be network elements of any of a variety of types, such as switches, routers, gateways, as well as networking appliances, such as firewalls, intrusion detection systems, etc. The network elements may be physical, virtual (e.g., implemented in software), or a combination of both.</p><p id="p-0015" num="0014">In an example embodiment, each node of plurality of nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b> includes a record buffer. For example, first node <b>100</b> includes a first record buffer <b>102</b>, second node <b>110</b> includes a second record buffer <b>112</b>, third node <b>120</b> includes a third record buffer <b>122</b>, and nth node <b>130</b> includes an nth record buffer <b>132</b> (i.e., each additional nth node is associated with a corresponding nth additional record buffer). Each record buffer may be one or more storage media that allows a node to record and save information locally for that node. With this configuration, each node of plurality of nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b> includes a corresponding record buffer <b>102</b>, <b>112</b>, <b>122</b>, <b>132</b>. As will be further described below, providing each node with a record buffer allows packet trace information to be distributed across the different nodes of cluster <b>10</b>.</p><p id="p-0016" num="0015">In this embodiment, master controller <b>20</b> may include a network interface <b>22</b>, a processor <b>24</b> for processing information, a plurality of network ports (not shown) to connect to plurality of nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b>, and may further include a bus (not shown) or other communication mechanism coupled with processor <b>24</b> for communicating the information. The network interface <b>22</b> may be, for example, one or more network interface cards configured to enable network communications. While the figure shows a single block <b>24</b> for a processor, it should be understood that the processor <b>24</b> may represent a plurality of processing cores, each of which can perform separate processing.</p><p id="p-0017" num="0016">Master controller <b>20</b> may also include a memory <b>26</b>. The memory <b>26</b> may be read only memory (ROM), random access memory (RAM), magnetic disk storage media devices, optical storage media devices, flash memory devices, electrical, optical, or other physical/tangible memory storage devices. Thus, in general, the memory <b>26</b> may comprise one or more tangible (non-transitory) computer readable storage media (e.g., a memory device) encoded with software comprising computer executable instructions and when the software is executed (by the processor <b>24</b>) it is operable to perform the operations described herein. For example, packet tracing software <b>28</b> is stored in memory <b>26</b> for providing one or more of the packet tracing operations described herein. In particular, packet tracing software <b>28</b> may cause master controller <b>20</b> to perform the operations described in connection with <figref idref="DRAWINGS">FIGS. <b>4</b>, <b>7</b>, and <b>8</b></figref> below when executed by processor <b>24</b> from memory <b>26</b>. In addition, memory <b>26</b> may be used for storing temporary variables or other intermediate information during the execution of instructions by processor <b>24</b>.</p><p id="p-0018" num="0017">Referring now to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, a diagram illustrating a node implementing packet tracing of a packet is shown, according to an example embodiment. In this embodiment, a packet <b>200</b> is received by a node in cluster <b>10</b>, in this case, first node <b>100</b>. As shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, packet <b>200</b> includes at least a header <b>202</b> and a payload <b>204</b>. Header <b>202</b> may be an Internet Protocol (IP) header and may include information identifying at least a source and destination. Payload <b>204</b> may be any type of data carried by packet <b>200</b>. It should be understood, however, that packet <b>200</b> may include additional portions, such as a trailer, and that the whole packet <b>200</b> may be forwarded from node to node through cluster <b>10</b>. In this embodiment, a packet trace for packet <b>200</b> may start or originate at first node <b>100</b> and continue as packet <b>200</b> traverses through cluster <b>10</b>. In other words, first node <b>100</b> is an originating node for packet <b>200</b>. It should be understood that in this example, packet <b>200</b> is an IP packet, but the principles of the example embodiments described herein can apply to any type of packets using different protocols.</p><p id="p-0019" num="0018">According to the principles of the embodiments described herein, once the originating node (e.g., first node <b>100</b>) selects packet <b>200</b> for tracing, that node will then prepare packet <b>200</b> for tracing. In this embodiment, packet <b>200</b> has been selected for tracing by first node <b>100</b>. First node <b>100</b> prepares packet <b>200</b> for tracing by generating a cluster-wide unique identifier (ID) <b>206</b> for packet <b>200</b> and associating the unique ID <b>206</b> with packet <b>200</b>, for example, by including the unique ID <b>206</b> in header <b>202</b> of packet <b>200</b>. Unique ID <b>206</b> is configured so that packet <b>200</b> may be individually identified throughout cluster <b>10</b>. For example, unique ID <b>206</b> may include at least a first portion that identifies the originating node that begins or originates the packet trace (e.g., first node <b>100</b>) and a second portion that is a unique number for each packet that is specific to only that particular node (e.g., packet <b>200</b>). With this arrangement, packets that have traces started at different nodes will have at least different first portions of their unique IDs and packets that have traces started at the same node will have at least different second portions of their unique IDs.</p><p id="p-0020" num="0019">First node <b>100</b> further prepares packet <b>200</b> for tracing by generating a running counter <b>208</b> for packet <b>200</b>, and associating the running counter <b>208</b> with packet <b>200</b>, for example, by including the running counter <b>208</b> in header <b>202</b> of packet <b>200</b>. The running counter <b>208</b> has an initial value that may be set when the running counter <b>208</b> is first generated and is included in header <b>202</b>. Each operation performed on packet <b>200</b> will increment running counter <b>208</b> by one (1). First node <b>100</b> records the unique ID <b>206</b> and value of running counter <b>208</b> in first record buffer <b>102</b>. If first record buffer <b>102</b> is not already stored on first node <b>100</b>, then first node <b>100</b> generates and stores first record buffer <b>102</b> on first node <b>100</b>.</p><p id="p-0021" num="0020">Additionally, the originating node (e.g., first node <b>100</b>) generates or includes information with packet <b>200</b> so that other nodes in cluster <b>10</b> that receive packet <b>200</b> will continue packet tracing. In this embodiment, header <b>202</b> of packet <b>200</b> also includes an attribute <b>210</b> that indicates that packet <b>200</b> is to be traced as it traverses cluster <b>10</b>, for example, by setting a flag that indicates tracing is to be performed (e.g., &#x201c;Trace=1&#x201d;). In other embodiments, however, this attribute is optional and packet tracing may be implicitly assumed to be true by a node if a packet is received that includes a packet ID (e.g., unique ID <b>206</b> implicitly identifies that packet <b>200</b> should be traced by the receiving node).</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram illustrating packet <b>200</b> traversing through cluster <b>10</b> from a sending node to a receiving node, according to an example embodiment. In this embodiment, packet <b>200</b> is being sent from first node <b>100</b> (i.e., the sending node) to second node <b>110</b> (i.e., the receiving node). First node <b>100</b> includes first record buffer <b>102</b> that stores information associated with processing of packet <b>200</b> on first node <b>100</b>. First record buffer <b>102</b> remains with first node <b>100</b> as packet <b>200</b> traverses from first node <b>100</b> to second node <b>110</b>. In this embodiment, first record buffer <b>102</b> may include a packet identifier (ID) <b>300</b> of packet <b>200</b> (e.g., unique ID <b>206</b>) and a plurality of entries for each of the operations performed on packet <b>200</b>, along with associated counter values from running counter <b>208</b> for each operation.</p><p id="p-0023" num="0022">For example, the operations performed on packet <b>200</b> on first node <b>100</b> may include a first operation <b>302</b> (Operation A associated with a counter value=1), a second operation <b>304</b> (Operation B associated with a counter value=2), and a third operation <b>306</b> (Operation C associated with a counter value=3). In this example, each operation may be a different type of operation (e.g., Operation A, Operation B, and Operation C) performed on packet <b>200</b>. It should be understood, however, that the operations may be any type or kind of operation performed on packet <b>200</b> that can be recorded in first record buffer <b>102</b>, including similar or different types of operations. For example, some operations that can be performed on packets, such as packet <b>200</b>, include, but are not limited to: access-control, route-lookup, network address translation, packet inspection for application protocol, packet encryption, packet decryption, packet capture, and/or cluster internode forwarding.</p><p id="p-0024" num="0023">As noted above, running counter <b>208</b> of packet <b>200</b> is incremented by one after each operation. As shown in first record buffer <b>102</b>, the order of operations performed on packet <b>200</b> on first node <b>100</b> can be determined by the counter value associated with each operation. In this example, the sequence of operations performed on packet <b>200</b> is first operation <b>302</b> (Operation A associated with a counter value=1), second operation <b>304</b> (Operation B associated with a counter value=2), and, then, third operation <b>306</b> (Operation C associated with a counter value=3).</p><p id="p-0025" num="0024">In this embodiment, first node <b>100</b> (i.e., the sending node) transfers packet <b>200</b> to second node <b>110</b> (i.e., the receiving node). Along with packet <b>200</b>, first node <b>100</b> also provides the unique ID <b>206</b> of packet <b>200</b>, running counter <b>208</b>, and the attribute <b>210</b> that indicates that packet <b>200</b> should be traced to second node <b>110</b>. For example, header <b>202</b> of packet <b>200</b> may include unique ID <b>206</b>, running counter <b>208</b>, and attribute <b>210</b>. Upon receiving packet <b>200</b>, second node <b>110</b> is alerted that packet <b>200</b> should be traced by the presence of attribute <b>210</b>. Second node <b>110</b> records the unique ID <b>206</b> and value of running counter <b>208</b> (e.g., counter=4) in second record buffer <b>112</b>. If second record buffer <b>112</b> is not already stored on second node <b>110</b>, then second node <b>110</b> generates and stores second record buffer <b>112</b> on second node <b>110</b>.</p><p id="p-0026" num="0025">Once packet <b>200</b> is received by second node <b>110</b>, information associated with the processing of packet <b>200</b> on second node <b>110</b> may be stored in second record buffer <b>112</b>. In this embodiment, second record buffer <b>112</b> may include a packet identifier (ID) <b>310</b> of packet <b>200</b> (e.g., unique ID <b>206</b>) and a plurality of entries for each of the operations performed on packet <b>200</b>, along with associated counter values from running counter <b>208</b> for each operation. For example, the operations performed on packet <b>200</b> on second node <b>110</b> may include a first operation <b>312</b> (Operation A associated with a counter value=4), a second operation <b>314</b> (Operation B associated with a counter value=5), and a third operation <b>316</b> (Operation C associated with a counter value=6). As with the previous example, each operation may be a different type of operation (e.g., Operation A, Operation B, and Operation C), however, the operations may be any type or kind of operation performed on packet <b>200</b> that can be recorded in second record buffer <b>112</b>, including similar or different types of operations.</p><p id="p-0027" num="0026">In this example, second node <b>110</b> records descriptions of operations in second record buffer <b>112</b> using the value of the running counter <b>208</b> provided with packet <b>200</b> by first node <b>100</b>. That is, second node <b>110</b> will begin recording descriptions of operations in second record buffer <b>112</b> using the next incremental value of running counter <b>208</b> from the last operation entry from first record buffer <b>102</b> of first node <b>100</b>. Thus, third operation <b>306</b> recorded in first record buffer <b>102</b> is associated with a counter value of 3 and first operation <b>312</b> recorded in second record buffer <b>112</b> is associated with a counter value of 4.</p><p id="p-0028" num="0027">The process of transferring packet <b>200</b> from a sending node (e.g., first node <b>100</b>) to a receiving node (e.g., second node <b>110</b>) has been described with reference to <figref idref="DRAWINGS">FIG. <b>3</b></figref> for one representative transfer of packet <b>200</b> between nodes. However, a similar process may occur for each additional node traversed by packet <b>200</b> within cluster <b>10</b>. For example, packet <b>200</b> may traverse additional nodes of cluster <b>10</b>, including third node <b>120</b> and/or up to nth node <b>130</b>, where n may be any number of additional nodes. With this arrangement, a plurality of record buffers <b>102</b>, <b>112</b>, <b>122</b>, <b>132</b> may store information associated with processing performed on packet <b>200</b> as it traverses through plurality of nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b> of cluster <b>10</b>.</p><p id="p-0029" num="0028">Referring now to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, a functional view of a cluster-wide packet trace <b>400</b> implemented by master controller <b>20</b> of cluster <b>10</b> to query nodes for packet tracing information about a packet is shown, according to an example embodiment. In this embodiment, cluster-wide packet trace <b>400</b> for packet <b>200</b> may be generated by master controller <b>20</b>. The cluster-wide packet trace <b>400</b> aggregates all of the information associated with processing of packet <b>200</b> that is stored on each of the nodes of plurality of nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b> of cluster <b>10</b>. For example, master controller <b>20</b> may include software intelligence, such as processor <b>24</b> and/or packet tracing software <b>28</b>, described above, that functions to generate a query <b>402</b> to each node of plurality of nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b> for information associated with packet <b>200</b>. Query <b>402</b> may include a request to each node to provide the contents of its associated record buffer for entries associated with the unique ID <b>206</b> of packet <b>200</b>.</p><p id="p-0030" num="0029">As shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, each node of plurality of nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b> may respond to query <b>402</b> by master controller <b>20</b> by sending the contents of its respective record buffer for the requested unique ID <b>206</b> of packet <b>200</b>. For example, first node <b>100</b> may send contents <b>404</b> related to unique ID <b>206</b> stored in first record buffer <b>102</b>, second node <b>110</b> may send contents <b>406</b> related to unique ID <b>206</b> stored in second record buffer <b>112</b>, third node <b>120</b> may send contents <b>408</b> related to unique ID <b>206</b> stored in third record buffer <b>122</b>, and nth node <b>130</b> may send contents <b>410</b> related to unique ID <b>206</b> stored in nth record buffer <b>132</b>. In an example embodiment, each node may include a control operation interface or other suitable software intelligence that allows the node to respond to query <b>402</b> or other requests for information from master controller <b>20</b>.</p><p id="p-0031" num="0030">In this example, each node responds with contents <b>404</b>, <b>406</b>, <b>408</b>, <b>410</b> of its respective record buffer <b>102</b>, <b>112</b>, <b>122</b>, <b>132</b> for entries that are associated unique ID <b>206</b> of packet <b>200</b>. In other embodiments, however, a node may respond with a null response or other message to master controller <b>20</b> if the node does not have any information associated with the requested unique ID of a packet to be traced in its record buffer. For example, a packet may not traverse every node within a cluster. In such a case, some nodes will not have any information to send in response to a query for a cluster-wide packet trace. In still other embodiments, a node that does not have any information associated with the requested unique ID of a packet to be traced in its record buffer may ignore the request or fail to send any response to the query.</p><p id="p-0032" num="0031">The method of packet tracing as a packet traverses nodes in a cluster will be further explained with reference to <figref idref="DRAWINGS">FIGS. <b>5</b> and <b>6</b></figref>. Referring now to <figref idref="DRAWINGS">FIG. <b>5</b></figref>, a flowchart of a method <b>500</b> for implementing packet tracing in an originating node, according to an example embodiment, is shown. In this embodiment, method <b>500</b> may start with a step <b>502</b> of selecting a packet for tracing at the originating node. For example, step <b>502</b> may be implemented by an access list match, i.e., the packet matches a condition established in a statement in an access control list associated with the originating node. In other embodiments, step <b>502</b> also may be implemented by issuing a command from software running on the master controller <b>20</b> or from a control operation interface associated with the originating node to trace a packet matching a specified condition.</p><p id="p-0033" num="0032">Next, the selected packet is prepared for tracing at a step <b>504</b>. Step <b>504</b> includes generating a cluster-wide unique ID for the selected packet and associating the unique ID with the packet (e.g., unique ID <b>206</b> of packet <b>200</b>). As described above, the cluster-wide unique ID for the packet may include at least a first portion that is based on the identity of the originating node (e.g., using an identifier for the originating node) and a second portion that is a unique number for each packet on that node. Step <b>504</b> further includes generating a running counter and associating the running counter with the selected packet (e.g., running counter <b>208</b>). As described above, the running counter may have an initial value that is set when the running counter is first generated. For example, the initial value of the running counter may be equal to 0. The running counter is incremented upon recording each operation performed on the packet, as described with reference to step <b>510</b> below.</p><p id="p-0034" num="0033">Additionally, step <b>504</b> may further include generating an attribute that indicates that the selected packet is to be traced as it traverses from node to node through the cluster. For example, the attribute may be a flag or other indicator in a header of the packet that indicates tracing is to be performed (e.g., attribute <b>210</b> &#x201c;Trace=1&#x201d;).</p><p id="p-0035" num="0034">Next, at a step <b>506</b>, a record buffer is generated and stored on the originating node. In some cases, a suitable record buffer may already exist on the originating node, in which case, step <b>506</b> may be omitted. For example, if a suitable record buffer already exists at this node, the packet tracing is a continuation of an existing trace. In other words, the packet trace could have begun at the originating node, traversed to another node, and then returned to the originating node. As described above, the record buffer may be any suitable storage media available to the originating node for storing information. The record buffer is stored locally on the node.</p><p id="p-0036" num="0035">At a step <b>508</b>, the packet ID for the packet is associated with the record buffer and the initial value for the running counter are stored in the record buffer. Each record buffer is uniquely associated with a corresponding packet through the packet ID (e.g., unique ID <b>206</b>). Thus, multiple packet traces on a node will each be uniquely associated with a corresponding record buffer for each packet trace on that node.</p><p id="p-0037" num="0036">At a step <b>510</b>, descriptions of one or more operations performed on the packet are recorded in the record buffer along with an associated counter value of the running counter for each operation. After the description of an operation is recorded in the record buffer at step <b>510</b>, the running counter is incremented, for example, by one increment, for that operation. The value of the running counter, therefore, increases linearly with each additional operation performed on the packet. Method <b>500</b> may repeat step <b>510</b> multiple times as necessary for multiple operations performed on packet while the packet is on the node. For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref> above, packet <b>200</b> had three different operations performed on it while on first node <b>100</b>, resulting in three entry descriptions with associated counter values stored in first record buffer <b>102</b>.</p><p id="p-0038" num="0037">Finally, at a step <b>512</b>, once the originating node has finished processing operations on the packet, the node may transfer the packet to the next node. Along with providing the packet to the next node, the originating node also provides the unique ID of the packet, the current value of the running counter, and the attribute to indicate that packet is to be traced at step <b>512</b>. For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref> above, first node <b>100</b> may provide packet <b>200</b> along with unique ID <b>206</b>, running counter <b>208</b>, and attribute <b>210</b> to second node <b>110</b>. Upon completion of step <b>512</b>, method <b>500</b> may end, or may repeat from the beginning for the next packet to be traced.</p><p id="p-0039" num="0038">Referring now to <figref idref="DRAWINGS">FIG. <b>6</b></figref>, a flowchart of a method <b>600</b> for implementing packet tracing in a receiving node, according to an example embodiment, is shown. In this embodiment, method <b>600</b> may start with a step <b>602</b> of receiving a packet from a sending node. For example, at step <b>602</b> the receiving node may receive the packet from the originating node, as described with reference to the method of <figref idref="DRAWINGS">FIG. <b>5</b></figref> above, or from another node in the cluster. Next, at a step <b>604</b>, the receiving node also receives the unique ID of the packet, the current value of the running counter, and the attribute to indicate that packet is to be traced from the sending node. For example, the information received at step <b>604</b> may include unique ID <b>206</b> of packet <b>200</b>, the current value of running counter <b>208</b>, and attribute <b>210</b>, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref> above. The presence of the attribute marking the packet informs the receiving node that the packet associated with the received unique ID is to be traced. With this arrangement, packet tracing may continue as a packet traverses from one node in a cluster to another node in the cluster.</p><p id="p-0040" num="0039">Next, at a step <b>606</b>, a record buffer is generated and stored on the receiving node. In some cases, a suitable record buffer may already exist on the receiving node, in which case, step <b>606</b> may be omitted. As described above, the record buffer may be any suitable storage media available to the receiving node for storing information. The record buffer is stored locally on each receiving node.</p><p id="p-0041" num="0040">At a step <b>608</b>, the packet ID for the packet is stored in the record buffer. In this case, the packet ID is the unique ID generated for the packet at the originating node, as described with reference to <figref idref="DRAWINGS">FIG. <b>5</b></figref> above. That is, the same unique ID for the packet is stored in the record buffer on each receiving node. With this arrangement, the receiving node may begin storing information associated with operations performed on the packet to be traced. At a step <b>610</b>, descriptions of one or more operations performed on the packet are recorded in the record buffer along with an associated counter value of the running counter for each operation. In this example, the value of the running counter for the packet will continue from the previous value of the running counter that is provided to the receiving node at step <b>604</b> above. After the description of an operation is recorded in the record buffer at step <b>610</b>, the running counter is incremented, as previously described.</p><p id="p-0042" num="0041">For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref> above, packet <b>200</b> had three different operations performed on it while on second node <b>110</b>, resulting in three entry descriptions with associated counter values stored in second record buffer <b>112</b>. Additionally, the first operation <b>312</b> in second record buffer <b>112</b> is associated with a counter value=4 that continues from the previous value of the running counter for the last operation in first record buffer <b>102</b> (i.e., third operation <b>306</b>) with a counter value=3. With this arrangement, the sequence of operations performed on packet <b>200</b> may be maintained as it traverses through multiple nodes within cluster <b>10</b>.</p><p id="p-0043" num="0042">Finally, at a step <b>612</b>, once the receiving node has finished processing operations on the packet, the node may transfer the packet to the next node. Along with providing the packet to the next node, the receiving node also provides the unique ID of the packet, the current value of the running counter, and the attribute to indicate that packet is to be traced at step <b>612</b>. Thus, the receiving node becomes a sending node that transfers the packet to the next receiving node, which will perform method <b>600</b> as described above. Method <b>600</b> may repeat for each node traversed by the packet to be traced until the packet leaves the cluster or packet tracing is otherwise terminated.</p><p id="p-0044" num="0043">Once a packet has finished traversing multiple nodes of a cluster, for example, plurality of nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b> of cluster <b>10</b> shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, a cluster-wide packet trace may be generated that aggregates all of the entries in the record buffers of each node traversed by the packet. <figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flowchart of a method <b>700</b> for aggregating records for a cluster-wide packet trace, according to an example embodiment. In an example embodiment, the steps of method <b>700</b> may be implemented by software intelligence associated with master controller <b>20</b>, such as processor <b>24</b> and/or packet tracing software <b>28</b>, described above.</p><p id="p-0045" num="0044">In this embodiment, method <b>700</b> may start at a step <b>702</b> where all nodes in a cluster are queried for information stored in their respective record buffers for a packet to be traced. For example, the query may include the unique ID of the packet (e.g., unique ID <b>206</b> of packet <b>200</b>). Next, at a step <b>704</b>, the contents of all relevant record buffers that contain information associated with the packet to be traced are received from the nodes of the plurality of nodes of the cluster. For example, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> above, plurality of nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b> may provide contents <b>404</b>, <b>406</b>, <b>408</b>, <b>410</b> of respective record buffers <b>102</b>, <b>112</b>, <b>122</b>, <b>132</b> that are associated unique ID <b>206</b> of packet <b>200</b> at step <b>702</b>.</p><p id="p-0046" num="0045">At a step <b>706</b>, the received contents of the record buffers received at step <b>704</b> may be combined to aggregate all of the information associated with the packet to be traced across the entire cluster. Finally, at a step <b>708</b>, the aggregated information of operations associated with the packet to be traced may be sequenced, or put into an ordered arrangement, based on the associated counter values of the operations contained in the contents of the record buffers from the nodes in the cluster, as will be further described with reference to <figref idref="DRAWINGS">FIG. <b>8</b></figref> below. With this arrangement, a cluster-wide packet trace may be generated.</p><p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a representative view of a cluster-wide packet trace <b>800</b>, according to an example embodiment. In this example, cluster-wide packet trace <b>800</b> includes a plurality of operations performed on a packet by multiple nodes of a cluster. For example, packet trace <b>800</b> may include operations performed on packet <b>200</b> as it traverses a plurality of nodes of cluster <b>10</b>, including first node <b>100</b>, second node <b>110</b>, third node <b>120</b>, and nth node <b>130</b>. At each node, one or more operations have been performed on the packet. In this example, various operations may include Operation A, Operation B, Operation C, and Operation D. These operations can represent different kinds or types of processing performed on the packet as it traverses through the cluster.</p><p id="p-0048" num="0047">In this embodiment, cluster-wide packet trace <b>800</b> may be generated by querying all of the nodes (e.g., nodes <b>100</b>, <b>110</b>, <b>120</b>, <b>130</b>) for the contents of their respective record buffers associated with the packet to be traced, as described above with reference to <figref idref="DRAWINGS">FIG. <b>7</b></figref>. The information received in response to the query may then be combined in sequence of the order of operations performed on the packet to generate cluster-wide packet trace <b>800</b> by using the associated value of the running counter for each operation. In this embodiment, cluster-wide packet trace <b>800</b> includes a first operation <b>801</b> (Operation A) with associated counter value=1, a second operation <b>802</b> (Operation B) with associated counter value=2, a third operation <b>803</b> (Operation C) with associated counter value=3, a fourth operation <b>804</b> (Operation A) with associated counter value=4, a fifth operation <b>805</b> (Operation B) with associated counter value=5, a sixth operation <b>806</b> (Operation C) with associated counter value=6, a seventh operation <b>807</b> (Operation C) with associated counter value=7, an eighth operation <b>808</b> (Operation C) with associated counter value=8, a ninth operation <b>809</b> (Operation A) with associated counter value=9, a tenth operation <b>810</b> (Operation D) with associated counter value=10, an eleventh operation <b>811</b> (Operation A) with associated counter value=11, and a twelfth operation <b>812</b> (Operation B) with associated counter value=12.</p><p id="p-0049" num="0048">In this embodiment, cluster-wide packet trace <b>800</b> uses the values of the running counter associated with each operation to sequence the operations performed on the packet in the order that they occurred. For example, operations <b>801</b>, <b>802</b>, <b>803</b> performed on the packet on first node <b>100</b>, operations <b>804</b>, <b>805</b>, <b>806</b> performed on the packet on second node <b>110</b>, operations <b>807</b>, <b>808</b>, <b>809</b>, <b>810</b>, <b>811</b> performed on the packet on third node <b>120</b>, and operation <b>812</b> performed on the packet on nth node <b>130</b> may be placed in the order they occurred by using the value of the running counter. By maintaining separate record buffers on each node that store the unique ID of the packet along with the value of the running counter for each operation, cluster-wide packet trace <b>800</b> may be generated by aggregating the separate record buffer contents and sequencing the operations using the counter values.</p><p id="p-0050" num="0049">The principles of the example embodiments described herein can provide a serviceability capability to trace processing of a packet as it traverses a cluster. This information can help support personnel and customers troubleshoot connectivity problems by showing the failure point. This can also provide quick identification of configuration errors and internal coding for that error. Cluster-wide packet tracing may also be used for education by helping to understand how packet processing works in a cluster environment.</p><p id="p-0051" num="0050">The example embodiments provide a cluster-wide unique ID for a packet and a running counter to enable a distributed version of packet tracing. This allows the packet trace information to be stored on each local node. Using the cluster-wide unique ID, all of the processing on the packet by all nodes in the cluster can be gathered. Further, using the running counter, the processing on the packet can be sequenced.</p><p id="p-0052" num="0051">The principles of the example embodiments described herein function with minimal expansion of the packet size and within jumbo frame packet-size limitations. Moreover, the principles of the example embodiments do not require packet segmentation or fragmentation to trace a packet.</p><p id="p-0053" num="0052">Additionally, the principles of the example embodiments described herein provide a cluster-wide unique ID that is generated by the originating node so that each packet to be traced is uniquely identified throughout the cluster. Thus, packets that share the same source/destination addresses may still be uniquely identified for tracing throughout the cluster.</p><p id="p-0054" num="0053">In summary, a method of tracing a packet in a cluster is provided comprising: selecting a packet for tracing, the packet being configured to traverse through a cluster comprising a plurality of nodes; preparing the packet for tracing by: (i) generating a cluster-wide unique identifier (ID) for the packet, (ii) associating the unique ID with the packet, (iii) generating a running counter for the packet, and (iv) associating the running counter with the packet, wherein the running counter has an initial value; generating a first record buffer that is stored on a first node of the plurality of nodes; recording at least the unique ID and the initial value of the running counter for the packet in the first record buffer stored on the first node; recording a description of an operation performed on the packet in the first record buffer along with a value of the running counter, wherein the value of the running counter is incremented by one after the operation is recorded; and transferring the packet to a second node of the plurality of nodes, wherein the unique ID of the packet, the value of the running counter of the packet, and an attribute that indicates that the packet is to be traced is provided to the second node.</p><p id="p-0055" num="0054">In addition, a non-transitory computer readable storage media encoded with instructions that, when executed by a processor, cause the processor to perform operations is provided comprising: selecting a packet for tracing, the packet being configured to traverse through a cluster comprising a plurality of nodes; preparing the packet for tracing by: (i) generating a cluster-wide unique identifier (ID) for the packet, (ii) associating the unique ID with the packet, (iii) generating a running counter for the packet, and (iv) associating the running counter with the packet, wherein the running counter has an initial value; generating a first record buffer that is stored on a first node of the plurality of nodes; recording at least the unique ID and the initial value of the running counter for the packet in the first record buffer stored on the first node; recording a description of an operation performed on the packet in the first record buffer along with a value of the running counter, wherein the value of the running counter is incremented by one after the operation is recorded; and transferring the packet to a second node of the plurality of nodes, wherein the unique ID of the packet, the value of the running counter of the packet, and an attribute that indicates that the packet is to be traced is provided to the second node.</p><p id="p-0056" num="0055">Furthermore, an apparatus is provided comprising: a network interface configured to enable network communications with a plurality of nodes in a cluster; a memory; and a processor coupled with the memory and the network interface, and configured to: query the plurality of nodes for information associated with a packet, wherein the packet is identified by a cluster-wide unique identifier (ID) generated by an originating node of the plurality of nodes; receive contents of record buffers from the plurality of nodes, wherein the contents of the record buffers includes at least the unique ID of the packet and one or more descriptions of operations performed on the packet, wherein each description of an operation performed on the packet has an associated counter value from a running counter associated with the packet; combine the contents of the record buffers from the plurality of nodes; and generate a cluster-wide packet trace for the packet using the contents of the record buffers from the plurality of nodes.</p><p id="p-0057" num="0056">The above description is intended by way of example only. Although the techniques are illustrated and described herein as embodied in one or more specific examples, it is nevertheless not intended to be limited to the details shown, since various modifications and structural changes may be made within the scope and range of equivalents of the claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-01-10" num="01-10"><claim-text><b>1</b>-<b>10</b>. (canceled)</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A method comprising:<claim-text>selecting a packet for tracing, the packet configured to traverse a plurality of nodes in a cluster;</claim-text><claim-text>generating a cluster-wide unique identifier, the cluster-wide unique identifier including a first unique portion and a second unique portion that differ from each other;</claim-text><claim-text>associating the cluster-wide unique packet identifier with the selected packet at an originating node in the plurality of nodes in the cluster;</claim-text><claim-text>for each node in the plurality of nodes, recording descriptions of a plurality of operations performed on the selected packet by the node;</claim-text><claim-text>providing the packet to a subsequent node of the plurality of nodes, the packet including the cluster-wide unique identifier,</claim-text><claim-text>aggregating information associated with the plurality of nodes traversed by the selected packet and the plurality of operations performed on the selected packet by each of the plurality of nodes; and</claim-text><claim-text>providing a display of a cluster-wide packet trace depicting the plurality of operations performed on the selected packet by the plurality of nodes.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the first unique portion of the cluster-wide unique identifier comprises information that identifies the originating node.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the second unique portion of the cluster-wide unique identifier comprises a number that uniquely identifies the selected packet.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the descriptions of the operations performed on the packet by the node are recorded in sequence.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the packet is selected for tracing based on a specified condition.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the display of the cluster-wide packet trace depicts the recorded plurality of operations performed on the selected packet in sequence.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. A system, comprising:<claim-text>one or more processors;</claim-text><claim-text>a non-transitory memory coupled to the one or more processors, the non-transitory memory including instructions that, when executed by the one or more processors, cause the one or more processors to:<claim-text>select a packet for tracing, the packet configured to traverse a plurality of nodes in a cluster;</claim-text><claim-text>generate a cluster-wide unique identifier, the cluster-wide unique identifier including a first unique portion and a second unique portion that differ from each other;</claim-text><claim-text>associate the cluster-wide unique identifier with the selected packet at an originating node in the plurality of nodes in the cluster;</claim-text><claim-text>for each node in the plurality of nodes, record descriptions of a plurality of operations performed on the selected packet by the node;</claim-text><claim-text>provide the packet to a subsequent node of the plurality of nodes, the packet including the cluster-wide unique identifier,</claim-text><claim-text>aggregate information associated with the plurality of nodes traversed by the selected packet and the plurality of operations performed on the selected packet by each of the plurality of nodes; and</claim-text><claim-text>provide a display of a cluster-wide packet trace depicting the plurality of operations performed on the selected packet by the plurality of nodes.</claim-text></claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The system of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the first unique portion of the cluster-wide unique identifier comprises information that identifies the originating node.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the second unique portion of the cluster-wide unique identifier comprises a number that uniquely identifies the selected packet.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The system of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the descriptions of the operations performed on the packet by the node are recorded in sequence.</claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. The system of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the packet is selected for tracing based on a specified condition.</claim-text></claim><claim id="CLM-00022" num="00022"><claim-text><b>22</b>. The system of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the display of the cluster-wide packet trace depicts the recorded plurality of operations performed on the selected packet in sequence.</claim-text></claim><claim id="CLM-00023" num="00023"><claim-text><b>23</b>. A non-transitory computer-readable medium including instructions stored therein that, when executed by a processor, cause the processor to:<claim-text>select a packet for tracing, the packet configured to traverse a plurality of nodes in a cluster;</claim-text><claim-text>generate a cluster-wide unique identifier, the cluster-wide unique identifier including a first unique portion and a second unique portion that differ from each other and being associated with the selected packet at an originating node;</claim-text><claim-text>associate the cluster-wide unique identifier with the selected packet at an originating node in the plurality of nodes in the cluster;</claim-text><claim-text>record, for each node of the plurality of nodes, descriptions of a plurality of operations performed on the selected packet by the node;</claim-text><claim-text>provide the packet to a subsequent node of the plurality of nodes, the packet including the cluster-wide unique identifier,</claim-text><claim-text>aggregate information associated with the plurality of nodes traversed by the selected packet and the plurality of operations performed on the selected packet by each of the plurality of nodes; and</claim-text><claim-text>provide a display of a cluster-wide packet trace depicting the plurality of operations performed on the selected packet by the plurality of nodes.</claim-text></claim-text></claim><claim id="CLM-00024" num="00024"><claim-text><b>24</b>. The system of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the first unique portion of the cluster-wide unique identifier comprises information that identifies the originating node.</claim-text></claim><claim id="CLM-00025" num="00025"><claim-text><b>25</b>. The system of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein the second unique portion of the cluster-wide unique identifier comprises a number that uniquely identifies the selected packet.</claim-text></claim><claim id="CLM-00026" num="00026"><claim-text><b>26</b>. The system of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the descriptions of the operations performed on the packet by the node are recorded in sequence.</claim-text></claim><claim id="CLM-00027" num="00027"><claim-text><b>27</b>. The system of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the packet is selected for tracing based on a specified condition.</claim-text></claim><claim id="CLM-00028" num="00028"><claim-text><b>28</b>. The system of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the display of the cluster-wide packet trace depicts the recorded plurality of operations performed on the selected packet in sequence.</claim-text></claim></claims></us-patent-application>