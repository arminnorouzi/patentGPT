<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230001898A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230001898</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17756843</doc-number><date>20191210</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>60</class><subclass>T</subclass><main-group>8</main-group><subgroup>17</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>60</class><subclass>T</subclass><main-group>8</main-group><subgroup>172</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>60</class><subclass>T</subclass><main-group>8</main-group><subgroup>32</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>T</subclass><main-group>8</main-group><subgroup>1708</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>T</subclass><main-group>8</main-group><subgroup>172</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>T</subclass><main-group>8</main-group><subgroup>323</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>T</subclass><main-group>2201</main-group><subgroup>03</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">A METHOD FOR CONTROLLING AUXILIARY BRAKING BY A VEHICLE</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>VOLVO TRUCK CORPORATION</orgname><address><city>G&#xf6;teborg</city><country>SE</country></address></addressbook><residence><country>SE</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>LAINE</last-name><first-name>Leo</first-name><address><city>H&#xe4;rryda</city><country>SE</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>ERIKSSON</last-name><first-name>Anders</first-name><address><city>Torslanda</city><country>SE</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>NEANDER</last-name><first-name>Gustav</first-name><address><city>G&#xf6;teborg</city><country>SE</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>SVENSSON</last-name><first-name>Jan-Inge</first-name><address><city>G&#xf6;teborg</city><country>SE</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>VOLVO TRUCK CORPORATION</orgname><role>03</role><address><city>G&#xf6;teborg</city><country>SE</country></address></addressbook></assignee></assignees><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/EP2019/084372</doc-number><date>20191210</date></document-id><us-371c12-date><date>20220603</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method for controlling a vehicle brake system for a heavy duty vehicle including a primary brake system and an auxiliary brake system. The method includes configuring a wheel slip magnitude limit, obtaining a requested auxiliary brake torque, engaging the primary brake system at a torque determined in dependence of the requested auxiliary brake torque, while monitoring a wheel slip value, determining an allowable auxiliary brake torque in dependence of the requested auxiliary brake torque and the wheel slip value, and engaging the auxiliary brake system at the allowable auxiliary brake torque.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="57.32mm" wi="158.75mm" file="US20230001898A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="239.35mm" wi="162.39mm" file="US20230001898A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="199.47mm" wi="107.53mm" file="US20230001898A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="231.56mm" wi="82.30mm" file="US20230001898A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="230.29mm" wi="154.18mm" file="US20230001898A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="182.03mm" wi="127.93mm" file="US20230001898A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="233.51mm" wi="146.05mm" file="US20230001898A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">TECHNICAL FIELD</heading><p id="p-0002" num="0001">The present disclosure relates to auxiliary brakes on heavy duty vehicles, i.e., compression brakes, exhaust brakes, driveline retarders, and the like. The invention can be applied in heavy-duty vehicles, such as trucks and construction equipment. Although the invention will be described mainly with respect to cargo transport vehicles such as semi-trailer vehicles and trucks, the invention is not restricted to this particular type of vehicle but may also be used in other types of vehicles such as cars.</p><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0003" num="0002">A vehicle such as a truck or semi-trailer often comprises auxiliary brakes in addition to its regular service brakes. The auxiliary brakes can be used for instance when driving downhill in order to spare, e.g., a disc or drum brake system from prolonged use, thereby reducing brake wear and problems relating to overheating.</p><p id="p-0004" num="0003">The auxiliary brake system may be based on a number of known techniques, including compression brake systems and exhaust brake systems which use a vehicle combustion engine &#x2018;in reverse&#x2019; for vehicle retardation instead of propulsion. Electromagnetic retarders are also known that may be engaged to slow down the vehicle while at the same time generating electrical energy.</p><p id="p-0005" num="0004">Depending on the technology chosen, an auxiliary brake system may be quite harsh and difficult to control. If road conditions are slippery, abrupt application of hard braking from an auxiliary brake system may lead to undesired events such as jack-knifing and other vehicle stability issues. It may also be difficult to predict an impact on vehicle stability from engaging auxiliary brakes.</p><p id="p-0006" num="0005">WO 02/32737 discloses a method for controlling an auxiliary brake such as a retarder or exhaust brake in a heavy duty vehicle. The disclosed method comprises a driver operating a brake pedal for initiating a variable braking effect by the auxiliary brake.</p><p id="p-0007" num="0006">However, there is a need for more refined and efficient methods of auxiliary brake system control.</p><heading id="h-0003" level="1">SUMMARY</heading><p id="p-0008" num="0007">It is an object of the present disclosure to provide improved auxiliary braking systems and methods for controlling auxiliary braking systems. This object is at least in part obtained by a method for controlling a vehicle brake system for a heavy duty vehicle. The brake system comprises a primary brake system and an auxiliary brake system. The method comprises configuring a wheel slip magnitude limit &#x3bb;<sub>LIM</sub>, obtaining a requested auxiliary brake torque, engaging the primary brake system at a torque determined in dependence of the requested auxiliary brake torque, while monitoring a wheel slip value &#x3bb;. The method also comprises determining an allowable auxiliary brake torque in dependence of the requested auxiliary brake torque and the monitored wheel slip value &#x3bb;, and engaging the auxiliary brake system at the allowable auxiliary brake torque.</p><p id="p-0009" num="0008">This way the primary brake system is used to automatically probe road conditions before engaging the auxiliary brakes at the requested auxiliary brake torque level. Thus, differently from simply being able to configure a variable brake torque by the auxiliary brake system, the disclosed method and brake systems automatically verify that the configured torque can be safely applied without breaching the configured wheel slip magnitude limit &#x3bb;<sub>LIM</sub>. In case the requested auxiliary brake torque cannot be supported given current road conditions, the allowable auxiliary brake torque may represent what can be offered in terms of brake torque given current road conditions. This way an automated, efficient, and safe auxiliary brake system is provided. In particular, the risk of a jack-knifing event by a semi-trailer vehicle is significantly reduced.</p><p id="p-0010" num="0009">The disclosed methods can be used with a wide variety of different types of auxiliary brake systems. For instance, aspects of the disclosed methods relate to auxiliary brake systems comprising any of; an electric machine, an electromagnetic retarder system, a compression brake system, and an exhaust brake system. Also, the primary brake system may comprise any of; a service brake system, a friction brake system, a regenerative brake system, and an electric machine brake system. Thus, the disclosed methods and brake systems are not limited to a single type of brake device, but can be applied with many different types of brake actuators, which is an advantage. The disclosed methods can also be used together with brake systems comprising more than one type of actuator, i.e., brake systems implementing brake blending and the like.</p><p id="p-0011" num="0010">According to aspects, the method comprise engaging the primary brake according to a pre-determined and gradually increasing function up to the requested auxiliary brake torque. This way the probe braking becomes smooth which reduces the risk of vehicle instability or severe wheel slip condition. Backing off from the requested auxiliary brake torque may not even be noticeable since the configured wheel slip magnitude limit will be breached in a controlled manner.</p><p id="p-0012" num="0011">According to aspects, the allowable auxiliary brake torque is reduced compared to the requested auxiliary brake torque in case the requested auxiliary brake torque cannot be obtained with a wheel slip magnitude below the configured wheel slip magnitude limit &#x3bb;<sub>LIM</sub>. This means that the applied torque level is automatically adjusted (reduced) to a level which can be applied without breaching configured wheel slip levels.</p><p id="p-0013" num="0012">According to aspects, the allowable auxiliary brake torque is determined based on a maximum torque achieved by the primary brake system at a wheel slip magnitude below the configured wheel slip magnitude limit &#x3bb;<sub>LIM</sub>. This increases vehicle safety and also allows for an efficient use of the auxiliary brake system in that a near optimal level of auxiliary braking is applied.</p><p id="p-0014" num="0013">According to aspects, the allowable auxiliary brake torque is determined based on the relationship</p><p id="p-0015" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>AUX</sub>=&#x3bb;<sub>PEAK</sub><i>*M*C*R </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0016" num="0000">where T<sub>Aux </sub>is an auxiliary brake torque, &#x3bb;<sub>PEAK </sub>is the largest monitored wheel slip magnitude value, 0&#x3c;M&#x2264;1 is a margin factor, C is a longitudinal tyre stiffness parameter, and R is a wheel radius. This way an allowable auxiliary brake torque can be derived directly from estimated quantities like the peak wheel slip, which is an advantage.</p><p id="p-0017" num="0014">According to aspects, the allowable auxiliary brake torque is determined based on the relationship</p><p id="p-0018" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>AUX</sub>=&#x3bc;<sub>PEAK</sub><i>*F</i><sub>z</sub><i>*R*G*M </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0019" num="0000">where T<sub>Aux </sub>is an auxiliary brake torque, &#x3bc;<sub>PEAK </sub>is a peak estimated road friction coefficient, F<sub>z </sub>is an estimated tyre normal force, R is a wheel radius, G is a gear ratio, and 0&#x3c;M&#x2264;1 is a margin factor. Again, an allowable auxiliary brake torque can be derived directly from estimated quantities like the peak friction, which is an advantage. Combinations of the expressions above can also be used with advantage.</p><p id="p-0020" num="0015">According to aspects, the allowable auxiliary brake torque is determined to be zero in case a low friction condition is detected during the monitoring of wheel slip. Thus, auxiliary braking is prevented in case safe braking operation cannot be ensured, which is an advantage. Vehicle safety is thereby ensured.</p><p id="p-0021" num="0016">According to aspects, engaging the auxiliary brake system comprises gradually transferring a total brake torque from the primary brake system to the auxiliary brake system. This means that total brake torque is kept constant, which is an advantage since a smoother vehicle operation is then enabled with less jerky motion.</p><p id="p-0022" num="0017">According to aspects, the method comprises periodically transferring a total brake torque from the auxiliary brake system back to the primary brake system while monitoring wheel slip &#x3bb;, and updating the allowable auxiliary brake torque based on the monitored wheel slip &#x3bb;. This way the current road conditions influence auxiliary brake torque, and not just initial road conditions. Thus, if the road conditions change over time, the vehicle is able to adapt its auxiliary braking operation in an automated fashion, leading to increased safety and also improved braking efficiency.</p><p id="p-0023" num="0018">According to aspects, the transfer of brake torque from the auxiliary brake system back to the primary brake system is triggered based on any of road temperature value, presence of rainfall, presence of snowfall, and a visual image of the road. This way the re-evaluation of auxiliary braking parameters can be triggered if conditions change based on, e.g., visual cues and other sensor reading. This leads to a faster update and potentially also to a reduced frequency of periodically transferring the total brake torque from the auxiliary brake system back to the primary brake system while monitoring wheel slip &#x3bb;, since updates are now more often actively triggered by sensor data instead of the recurring updates.</p><p id="p-0024" num="0019">According to aspects, the transfer of brake torque from the auxiliary brake system back to the primary brake system is triggered in response to an increase in wheel slip magnitude and/or in response to a change in auxiliary brake torque. If operating the auxiliary brakes at some defined torque value, which may have included a margin to an allowable slip limit, and during this auxiliary braking increases to a higher level, then it may be desirable to initiate a new probing phase using the primary brakes.</p><p id="p-0025" num="0020">There is also disclosed herein control units, computer programs, computer readable media, computer program products, brake systems and vehicles associated with the above discussed advantages.</p><p id="p-0026" num="0021">Generally, all terms used in the claims are to be interpreted according to their ordinary meaning in the technical field, unless explicitly defined otherwise herein. All references to &#x201c;a/an/the element, apparatus, component, means, step, etc.&#x201d; are to be interpreted openly as referring to at least one instance of the element, apparatus, component, means, step, etc., unless explicitly stated otherwise. The steps of any method disclosed herein do not have to be performed in the exact order disclosed, unless explicitly stated. Further features of, and advantages with, the present invention will become apparent when studying the appended claims and the following description. The skilled person realizes that different features of the present invention may be combined to create embodiments other than those described in the following, without departing from the scope of the present invention.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0027" num="0022">With reference to the appended drawings, below follows a more detailed description of embodiments of the invention cited as examples. In the drawings:</p><p id="p-0028" num="0023"><figref idref="DRAWINGS">FIGS. <b>1</b>A-C</figref> schematically illustrate some example heavy duty vehicles;</p><p id="p-0029" num="0024"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> shows an example brake system;</p><p id="p-0030" num="0025"><figref idref="DRAWINGS">FIG. <b>2</b>B</figref> schematically illustrates an auxiliary brake control device;</p><p id="p-0031" num="0026"><figref idref="DRAWINGS">FIGS. <b>3</b>A-B</figref> are graphs illustrating braking operations;</p><p id="p-0032" num="0027"><figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates an example tractor unit brake device layout;</p><p id="p-0033" num="0028"><figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates an example trailer unit brake device layout;</p><p id="p-0034" num="0029"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flow chart illustrating methods;</p><p id="p-0035" num="0030"><figref idref="DRAWINGS">FIG. <b>7</b></figref> schematically illustrates a control unit; and</p><p id="p-0036" num="0031"><figref idref="DRAWINGS">FIG. <b>8</b></figref> shows an example computer program product.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION OF EXAMPLE EMBODIMENTS OF THE INVENTION</heading><p id="p-0037" num="0032">The invention will now be described more fully hereinafter with reference to the accompanying drawings, in which certain aspects of the invention are shown. This invention may, however, be embodied in many different forms and should not be construed as limited to the embodiments and aspects set forth herein; rather, these embodiments are provided by way of example so that this disclosure will be thorough and complete, and will fully convey the scope of the invention to those skilled in the art. Like numbers refer to like elements throughout the description.</p><p id="p-0038" num="0033">It is to be understood that the present invention is not limited to the embodiments described herein and illustrated in the drawings; rather, the skilled person will recognize that many changes and modifications may be made within the scope of the appended claims.</p><p id="p-0039" num="0034"><figref idref="DRAWINGS">FIGS. <b>1</b>A-C</figref> illustrates a number of example vehicles <b>100</b> for cargo transport where the techniques disclosed herein can be applied with advantage. <figref idref="DRAWINGS">FIG. <b>1</b>A</figref> shows a truck supported on wheels <b>120</b>, <b>140</b>, and <b>160</b>, some of which are driven wheels.</p><p id="p-0040" num="0035"><figref idref="DRAWINGS">FIG. <b>1</b>B</figref> shows a semitrailer vehicle where a tractor unit <b>101</b> tows a trailer unit <b>102</b>. The front part of the trailer unit <b>102</b> is supported by a fifth wheel connection <b>103</b>, while the rear part of the trailer unit <b>102</b> is supported on a set of trailer wheels <b>180</b>.</p><p id="p-0041" num="0036"><figref idref="DRAWINGS">FIG. <b>10</b></figref> shows a truck with a dolly unit <b>104</b> arranged to tow a trailer unit <b>102</b>. The front part of the trailer unit is then supported on a set of dolly wheels <b>190</b>, while the rear part of the trailer is supported on a set of trailer wheels <b>180</b>.</p><p id="p-0042" num="0037">Each wheel, or at least a majority of the wheels, is associated with a respective wheel brake <b>130</b>, <b>150</b>, <b>160</b> (trailer unit wheel brakes are not indicated in <figref idref="DRAWINGS">FIGS. <b>1</b>A-<b>1</b>C</figref>). This wheel brake may, e.g., be a pneumatically actuated disc brake or drum brake, but some aspects of the disclosure are also applicable for regenerative brakes which produce electrical power during vehicle retardation, and electrical machines able to slow down wheel rotational velocity upon request. The wheel brakes are controlled by brake controllers. Herein, the terms brake controller, brake modulator, and wheel end module will be used interchangeably. They are all to be interpreted as a device which controls applied braking force on at least one wheel of a vehicle, such as the vehicle <b>100</b>. A primary brake system is a system which brakes the vehicle during drive operation, as opposed to a parking brake system which is configured to keep the vehicle in a fixed position when parked. The primary brake system is often referred to as the service brake system of the vehicle <b>100</b>.</p><p id="p-0043" num="0038">Each of the wheel brake controllers is communicatively coupled to a control unit <b>110</b>, allowing the control unit to communicate with the brake controllers, and thereby control vehicle braking. This control unit may potentially comprise a number of sub-units distributed across the vehicle, or it can be a single physical unit. The control unit <b>110</b> may, e.g. allocate brake force between wheels to maintain vehicle stability.</p><p id="p-0044" num="0039">The example vehicles <b>100</b> also comprise auxiliary brake systems. An auxiliary brake system is a brake system which slows down the vehicle by means other than the primary brake actuators. The auxiliary brake system may, e.g., be used with advantage during downhill driving in order to spare the primary brake system from prolonged use, which may cause excessive wear and overheating in a service brake system based on disc or drum brakes. Some example auxiliary brake systems comprise compression brakes and exhaust brakes which uses a combustion engine to slow down the vehicle. Electromechanical retarders are also known which convert motion energy into electrical power while at the same time slowing down the vehicle. Auxiliary brake systems are known in general and will therefore not be discussed in more detail herein.</p><p id="p-0045" num="0040">Some auxiliary brake systems provide relatively powerful braking in terms of brake torque. Also, they are often difficult to control since the auxiliary brake control systems often involve relatively large time constants and course granularity when it comes to controlling torque. For instance, it takes some time to re-configure a combustion engine from being in a drive mode to acting as a retarder, and it may be difficult to predict what braking torque is obtained when braking starts.</p><p id="p-0046" num="0041">This may be a problem, especially if the vehicle is moving over slippery road surfaces. An abrupt braking operation may cause deep wheel slip, which in turn may negatively affect vehicle stability. For example, abrupt and strong exhaust braking on the front axle wheels of a tractor may cause the vehicle combination to jack-knife, which is undesired.</p><p id="p-0047" num="0042"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> illustrates a brake control system for a wheel, here exemplified by the vehicle <b>100</b> front axle left wheel <b>1201</b>. The wheel comprises a wheel end module (WEM) <b>210</b> arranged to control wheel braking by a brake actuator <b>250</b>, i.e., a part of a primary brake system, here exemplified by a disc brake. Note that the primary brake system may also comprise electrical machines, and also combinations of different brake actuators.</p><p id="p-0048" num="0043">The WEM <b>210</b> controls brake torque via an interface <b>240</b> to the brake actuator <b>250</b>. Longitudinal wheel slip &#x3bb; may be defined as</p><p id="p-0049" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"> <mrow>  <mi>&#x3bb;</mi>  <mo>=</mo>  <mfrac>   <mrow>    <mrow>     <mi>R</mi>     <mo>&#x2062;</mo>     <mi>&#x3c9;</mi>    </mrow>    <mo>-</mo>    <msub>     <mi>v</mi>     <mi>x</mi>    </msub>   </mrow>   <mrow>    <mi>max</mi>    <mo>&#x2061;</mo>    <mo>(</mo>    <mrow>     <mrow>      <semantics definitionURL="">       <mo>&#x2758;</mo>       <annotation encoding="Mathematica">"\[LeftBracketingBar]"</annotation>      </semantics>      <mrow>       <mi>R</mi>       <mo>&#x2062;</mo>       <mi>&#x3c9;</mi>      </mrow>      <semantics definitionURL="">       <mo>&#x2758;</mo>       <annotation encoding="Mathematica">"\[RightBracketingBar]"</annotation>      </semantics>     </mrow>     <mo>,</mo>     <mrow>      <semantics definitionURL="">       <mo>&#x2758;</mo>       <annotation encoding="Mathematica">"\[LeftBracketingBar]"</annotation>      </semantics>      <msub>       <mi>v</mi>       <mi>x</mi>      </msub>      <semantics definitionURL="">       <mo>&#x2758;</mo>       <annotation encoding="Mathematica">"\[RightBracketingBar]"</annotation>      </semantics>     </mrow>    </mrow>    <mo>)</mo>   </mrow>  </mfrac> </mrow></math></maths></p><p id="p-0050" num="0000">where R is the wheel radius in meters, co is the angular velocity of the wheel, and v<sub>x </sub>is the longitudinal speed of the wheel (in the coordinate system of the wheel). Thus, A is bounded between &#x2212;1 and 1 and quantifies how much the wheel is slipping with respect to the road surface. The vehicle control unit <b>110</b> maintains information on v<sub>x </sub>(in the reference frame of the wheel), while a wheel speed sensor can be used to determine co. Notably, in the following, when limits on wheel slip are discussed, it is the magnitude or absolute value of the wheel slip which is limited. I.e., an increased wheel slip limit may either refer to a larger positive allowed wheel slip or a smaller negative allowed wheel slip. The present disclosure mainly considers braking, i.e., the wheel slip is normally negative herein, since v<sub>x</sub>&#x3e;R&#x3c9; during braking.</p><p id="p-0051" num="0044">Modern WEMs and primary brake systems are capable of fine grained slip control, i.e., some modern brake controllers are able to keep wheel slip &#x3bb; within say +/&#x2212; 0.02 of some nominal value.</p><p id="p-0052" num="0045">The vehicle control unit <b>110</b>, e.g., a vehicle motion management (VMM) system, sends brake requests <b>220</b> comprising, e.g., requested brake torque and wheel slip magnitude limit, and receives back data <b>230</b> related to, e.g., measured wheel slip, peak measured wheel slip, current braking capability in terms of, e.g., brake torque, and in some cases also estimated road friction coefficients.</p><p id="p-0053" num="0046">The WEM then controls braking according to the requested brake torque while keeping wheel slip magnitude below the set wheel slip magnitude limit. This is made possible by the data supplied from the control unit <b>110</b> on, e.g., vehicle speed in the frame of reference of the wheel. If wheel slip magnitude exceeds the set slip limit, a slip control strategy which may comprise reducing the wheel torque generated in the primary brake system is activated such that the wheel recovers to a slip value equal to or less than the set wheel slip magnitude limit. The slip control function can be incorporated in the VMM or into the WEM or in both. According to some aspects, the VMM-based slip control loop uses one slip limit and the WEM uses a larger one. This way the WEM acts as a safety net if VMM fails to prevent excessive wheel lock.</p><p id="p-0054" num="0047">The brake system in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> also comprises an auxiliary brake system <b>260</b>, such as a compression brake system or electromechanical retarder. This system is controlled <b>270</b> from the VMM, or control unit <b>110</b>. The control of the auxiliary brake system comprises engagement operations and disengagement operations, and may also comprise configuration of a requested auxiliary brake torque.</p><p id="p-0055" num="0048"><figref idref="DRAWINGS">FIG. <b>2</b>B</figref> schematically illustrates a known manual auxiliary brake control device <b>265</b>. The brake control device comprises a lever <b>266</b> which can be moved between different positions. One position, denoted &#x2018;A&#x2019; in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>, is associated with an automatic brake blending operation, where the vehicle service brake system is used jointly together with the auxiliary brake system in a known manner. Other positions are used if a fixed brake torque is desired from the auxiliary brake system. These lever positions can be used by the driver to manually select a requested auxiliary brake torque from a set of discrete selectable torque values <b>267</b>. Level &#x2018;0&#x2019; implies no requested brake torque from the auxiliary brake system, while level &#x2018;3&#x2019; implies large or even maximum requested brake torque from the auxiliary brake system. The discrete selectable torque values 1-3 are commonly applied directly (or after some small mechanical settling delay), and result in an abrupt application of brake torque. This application of brake torque may result in vehicle instability, especially if road friction conditions are not favorable. For instance, an abruptly applied auxiliary braking torque when driving in icy downhill conditions is likely to put the vehicle into a deep slip condition where lateral tyre forces are very hard to generate. If the downhill driving also involves negotiating a turn, the vehicle is unlikely to be able to stay on the road.</p><p id="p-0056" num="0049">It is an object of the present disclosure to allow engagement of auxiliary brake systems also when road conditions are not favorable, e.g., when road friction is reduced due to ice. This is achieved by implementing an efficient way to limit wheel slip also when using auxiliary brake systems.</p><p id="p-0057" num="0050">The techniques disclosed herein are based on the realization that the fine-grained slip control of modern primary brake systems can be used to effectively probe current road conditions in order to discern what wheel slips that can be expected in response to a given brake force or applied brake torque. The primary brake system can be used as friction measurement equipment, and the auxiliary brake system can then be configured in dependence of the measured friction. Thus, the drawbacks associated with abruptly engaging the often harsh auxiliary brake system can be alleviated or avoided entirely. The probing using the primary brake system is normally done on the same axle as that where the auxiliary brakes are connected. However, alternatively or as a complement, the probing with the primary brake system could be done on another axle compared to that where the auxiliary brakes are connected. For instance, it is possible to probe using the service brakes on an undriven axle, then phase that braking torque out and phase in an auxiliary braking torque on the driven axle.</p><p id="p-0058" num="0051"><figref idref="DRAWINGS">FIGS. <b>3</b>A and <b>3</b>B</figref> are graphs illustrating example operations by the proposed auxiliary brake control system. The top graphs <b>301</b>, <b>303</b> shows requested torque over time while the bottom graphs <b>302</b>, <b>304</b> show wheel slip corresponding to the graphs above.</p><p id="p-0059" num="0052"><figref idref="DRAWINGS">FIG. <b>3</b>A</figref> shows a successful engagement of the auxiliary brakes at a requested brake torque level <b>310</b>. The auxiliary brakes are engaged at time t<sub>1</sub>, however, instead of abruptly activating the auxiliary brakes, the primary brakes are first gradually engaged <b>320</b> in a controlled manner. Wheel slip 340 is monitored as the brake torque applied by the primary brakes increases. When the requested brake torque <b>310</b> has been reached, it is investigated if the wheel slip magnitude is below the configured wheel slip magnitude limit &#x3bb;<sub>LIM</sub>, preferably by some pre-determined margin <b>350</b>. If this is the case, the brake torque can be gradually transferred over to the auxiliary brake system <b>330</b>, starting at time t<sub>2 </sub>and continuing until time t<sub>3</sub>. Thus, at time t<sub>3</sub>, the auxiliary brake system has been fully engaged at the requested torque level <b>310</b> in a safe and controlled manner without the vehicle entering into an undesired wheel slip condition.</p><p id="p-0060" num="0053"><figref idref="DRAWINGS">FIG. <b>3</b>B</figref> illustrates a scenario where road friction conditions are less favorable. Here, upon probing road friction by the primary brake system <b>320</b>, the monitored wheel slip magnitude <b>340</b> breaches <b>355</b> the wheel slip magnitude limit &#x3bb;<sub>LIM</sub>. This means that the auxiliary brake system cannot safely be engaged at the requested brake torque level without subjecting the vehicle to an undesired wheel slip situation. The brake torque is reduced <b>325</b> by the WEM in order to maintain operation below the configured wheel slip magnitude limit. The wheel slip magnitude <b>340</b> decreases in response to the reduction in applied brake torque down to an acceptable level. Thus, at time t<sub>2</sub>, brake torque can again be gradually transferred to the auxiliary brake system in a safe and controlled manner without risk for the vehicle entering into an undesired wheel slip situation.</p><p id="p-0061" num="0054">As will be explained in connection to <figref idref="DRAWINGS">FIG. <b>6</b></figref> below, the torque applied by the auxiliary brake system after probing road conditions by the primary brake system, herein referred to as the allowable auxiliary brake torque, can be based on a number of mechanisms. For instance, the allowable auxiliary brake torque may be determined based on a maximum torque achieved by the primary brake system at a wheel slip magnitude below the configured wheel slip magnitude limit &#x3bb;<sub>LIM</sub>. This means that the primary brake system, such as the service brake system, is used to check what level of brake torque that can be supported given the current driving conditions. The auxiliary brake torque is then set at this level, or below if some margin is desired.</p><p id="p-0062" num="0055">The allowable auxiliary brake torque <b>315</b> may also be determined based on the relationship</p><p id="p-0063" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>AUX</sub>=&#x3bb;<sub>PEAK</sub><i>*M*C*R </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0064" num="0000">where T<sub>Aux </sub>is an auxiliary brake torque, &#x3bc;<sub>PEAK </sub>is the largest monitored wheel slip magnitude value, 0&#x3c;M&#x2264;1 is a margin factor, C is a longitudinal tyre stiffness parameter, and R is a wheel radius, and/or based on the relationship</p><p id="p-0065" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>AUX</sub>=&#x3bc;<sub>PEAK</sub><i>*F</i><sub>z</sub><i>*R*G*M </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0066" num="0000">where T<sub>Aux </sub>is an auxiliary brake torque, &#x3bc;<sub>PEAK </sub>is a peak estimated road friction coefficient, F<sub>z </sub>is an estimated tyre normal force, R is a wheel radius, G is a gear ratio, and 0&#x3c;M&#x2264;1 is a margin factor. This means that the WEM is first used to estimate some key parameters related to the current road and driving conditions. Such key data may comprise, e.g., the largest detected wheel slip and/or the largest detected road friction coefficient.</p><p id="p-0067" num="0056">Of course, if the road conditions are found to be so unfavorable as to not allow any auxiliary braking, the auxiliary braking operation may be cancelled in its entirety, i.e., the allowable auxiliary brake torque <b>315</b> is determined to be zero.</p><p id="p-0068" num="0057">The road conditions is preferably re-evaluated regularly, i.e., with some pre-determined frequency, such as 0.2 Hz or the like. Some sensors may also be able to predict when road friction conditions have likely changed, such as temperature sensors, rain sensors, or camera sensors able to spot formation of ice and snow on the road. In this case re-evaluation of road conditions can be actively triggered, based on the sensor input.</p><p id="p-0069" num="0058">The slope and bank of the road may also influence wheel slip. This data can be obtained from, e.g., level sensors, and used to trigger road condition re-evaluation comprising transferring brake torque back to the primary brake system in order to monitor wheel slip to see if road conditions have changed since the last probing event.</p><p id="p-0070" num="0059"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows an example brake device system <b>400</b> layout according to the present teaching. There are two front axle wheels <b>1201</b>, <b>120</b><i>r</i>, and four rear axle wheels <b>1401</b>, <b>1601</b>, <b>140</b><i>r</i>, <b>160</b><i>r</i>. It is appreciated that the principles of the present brake system can be applied to any number of rear axles, including towed vehicle units, dollies, and the like. A trailer unit brake system <b>500</b> will be discussed below in connection to <figref idref="DRAWINGS">FIG. <b>5</b></figref>.</p><p id="p-0071" num="0060">Each wheel has a corresponding WEM, numbered from <b>1</b> to <b>6</b> in <figref idref="DRAWINGS">FIG. <b>4</b></figref>. Each wheel also has at least one associated wheel speed sensor (WS), numbered from <b>1</b> to <b>6</b> in <figref idref="DRAWINGS">FIG. <b>4</b></figref>. Wheel speed sensors and their use for vehicle control is known and will not be discussed in more detail herein. There is a primary brake system as well as an auxiliary brake system available for braking the vehicle <b>100</b>.</p><p id="p-0072" num="0061">A vehicle motion management module (VMM) or control unit <b>110</b> controls at least part of the vehicle braking functionality. The VMM <b>110</b> is connected by Controller Area Network (CAN) or Ethernet data bus <b>420</b> to the different WEMs.</p><p id="p-0073" num="0062"><figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates an example brake system <b>500</b> for controlling, e.g., a set of trailer wheels <b>180</b> supporting a trailer unit <b>102</b>. Similar to the rear axle wheels <b>140</b>, <b>160</b> in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the set of trailer wheels comprise primary brakes controlled by respective WEMs, numbered from <b>7</b> to <b>12</b> in <figref idref="DRAWINGS">FIG. <b>5</b></figref>. There are also wheel speed sensors numbered from <b>7</b> to <b>12</b> in <figref idref="DRAWINGS">FIG. <b>5</b></figref>.</p><p id="p-0074" num="0063"><figref idref="DRAWINGS">FIG. <b>6</b></figref> shows a flowchart which summarizes the discussions above. With reference also to the discussions above in connection to <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>, there is shown a method for controlling a vehicle brake system for a heavy duty vehicle <b>100</b>. The brake system comprises a primary brake system <b>250</b> and an auxiliary brake system <b>260</b>. As noted above, the auxiliary brake system <b>260</b> may comprise any of; an electric machine, an electromagnetic retarder system, a compression brake system, and an exhaust brake system, just to give a few examples. The primary brake system <b>250</b> may comprise any of; a friction brake system, a regenerative brake system, and an electric machine brake system. The primary brake system is commonly, but not necessarily, a service brake system based on friction brakes such as pneumatically or hydraulically actuated disc or drum brakes.</p><p id="p-0075" num="0064">The method comprises configuring S<b>1</b> a wheel slip magnitude limit &#x3bb;<sub>LIM</sub>. This wheel slip magnitude limit is normally a limit on the maximum allowable magnitude of wheel slip, i.e., how much difference is allowed between wheel rotational velocity and vehicle velocity. However, it can also be a range of allowable wheel slip values (both positive and negative) The wheel slip magnitude limit &#x3bb;<sub>LIM </sub>may be configured by a VMM unit to provide vehicle stability and to maintain an ability by the vehicle to generate lateral forces needed to negotiate curves and the like.</p><p id="p-0076" num="0065">The method also comprises obtaining S<b>2</b> a requested auxiliary brake torque <b>310</b>. This auxiliary brake torque <b>310</b> may, e.g., be obtained S<b>21</b> by manual selection from a set of discrete selectable torque values <b>267</b> as discussed above in connection to <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>. Alternatively or as a complement, the requested auxiliary brake torque <b>310</b> can be obtained S<b>22</b> from a vehicle control unit <b>110</b>, such as the VMM, arranged to control a vehicle brake operation. For autonomous drive, the auxiliary brake torque is of course determined automatically by the VMM. According to some aspects, the requested auxiliary brake torque <b>310</b> may be determined in dependence of a status of the primary braking system. For instance, in case the service brakes of a vehicle <b>100</b> are in risk of overheating, then the service brake torque on the overheating units may be reduced, and the loss in total brake torque can be compensated for by adding a level of auxiliary brake torque.</p><p id="p-0077" num="0066">Now, as discussed above, instead of directly engaging the auxiliary brake system at the requested brake torque, the method comprises engaging S<b>3</b> the primary brake system <b>320</b> at a torque determined in dependence of the requested auxiliary brake torque <b>310</b>, while monitoring S<b>4</b> a wheel slip magnitude value &#x3bb;, <b>340</b>. This engaging of the primary brake system effectively measures road conditions, since the primary brake system of the vehicle <b>100</b> comprises a fine-grained slip control. For a manually driven vehicle, the engaging of the primary brake system to probe road conditions is performed automatically without the driver having to take any action. This also means that the disclosed technique is suitable for use with autonomous or semi-autonomous vehicles, where no driver is present to control the auxiliary brake torque. This probing operation is different from the operations described in WO 02/32737, which requires an experienced driver, and where the experienced driver first configures a brake level using a manual input means, which brake torque level is then maintained regardless of wheel slip or impact on vehicle stability.</p><p id="p-0078" num="0067">At least two options exist when it comes to engaging the primary brake system <b>320</b> at the torque determined in dependence of the requested auxiliary brake torque <b>310</b>. According to a first option the VMM actively adjusts the requested torque to the primary system if the wheel slip magnitude exceeds the configured slip limit. In this case the requested torque will not be reached, since the primary brake system will be made to back off in order to reduce wheel slip. However, according to a second, during the probing phase, the VMM actually applies a gradually increasing torque up to the requested torque (for a short duration of time), and then monitors wheel slip to &#x2018;read off&#x2019; what auxiliary braking can be applied without breaching the configured wheel slip limit. The present disclosure may comprise any of these options, or a combination of the two.</p><p id="p-0079" num="0068">According to aspects, the engaging of the primary brake system <b>320</b> is performed according to a pre-determined and gradually increasing function up to the requested auxiliary brake torque <b>310</b>. Thus, there is no abrupt application of brake torque, which is an advantage since unfavorable road conditions can be detected in time to abort the braking operation. The pre-determined and gradually increasing function may, e.g., be a linearly increasing function of some other function, such as a second order function of time.</p><p id="p-0080" num="0069">Some aspects of the method also comprises estimating S<b>5</b> a road friction coefficient &#x3bc;. This road friction coefficient can be used as input for determining, e.g., when no auxiliary braking can be applied. The friction coefficient can also be estimated for separate wheels, or for the two sides of the vehicle, and used as input for the VMM to perform vehicle control.</p><p id="p-0081" num="0070">The method also comprises determining S<b>6</b> an allowable auxiliary brake torque <b>315</b> in dependence of the requested auxiliary brake torque <b>310</b> and the wheel slip value &#x3bb;, <b>340</b>. The allowable auxiliary brake torque is a brake torque that can be tolerated given the current road conditions and the configured slip limits. In <figref idref="DRAWINGS">FIG. <b>3</b>A</figref>, the requested auxiliary brake torque is the same as the allowable brake torque, i.e., the request itself was found allowable given the current road conditions. However, in the example of <figref idref="DRAWINGS">FIG. <b>3</b>B</figref>, the request was not allowable, it was too large, and the allowable auxiliary brake torque <b>315</b> is therefore smaller than the requested auxiliary brake torque <b>310</b>. <figref idref="DRAWINGS">FIG. <b>3</b>B</figref> thus shows an example of aspects of the disclosed method where the allowable auxiliary brake torque <b>315</b> is reduced S<b>61</b> compared to the requested auxiliary brake torque <b>310</b> in case the requested auxiliary brake torque <b>310</b> cannot be obtained with a wheel slip magnitude below the configured wheel slip magnitude limit &#x3bb;<sub>LIM</sub>. This reduction in applied auxiliary brake torque improves vehicle stability and prevents the vehicle from entering into a deep wheel slip condition. Also, jack-knife events by a combination vehicle such as a semi-trailer vehicle are made much less likely.</p><p id="p-0082" num="0071">The allowable auxiliary brake torque <b>315</b> may optionally be determined S<b>62</b> based on a maximum torque achieved by the primary brake system <b>320</b> at a wheel slip magnitude below the configured wheel slip magnitude limit &#x3bb;<sub>LIM</sub>. Thus, the primary brake system is used to estimate what level of brake torque that can be supported given the current driving conditions, including road friction coefficient, road slope, and road banking. This maximum torque achieved by the primary brake system <b>320</b> can then be applied by the auxiliary brake system, perhaps after reduction by some margin factor or the like.</p><p id="p-0083" num="0072">The allowable auxiliary brake torque <b>315</b> may also be determined S<b>63</b> based on the relationship</p><p id="p-0084" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>AUX</sub>=&#x3bb;<sub>PEAK</sub><i>*M*C*R </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0085" num="0000">where T<sub>Aux </sub>is an auxiliary brake torque, &#x3bb;<sub>PEAK </sub>is the largest monitored wheel slip magnitude value, 0&#x3c;M&#x2264;1 is a margin factor, C is a longitudinal tyre stiffness parameter, and R is a wheel radius.</p><p id="p-0086" num="0073">The allowable auxiliary brake torque <b>315</b> may furthermore also be determined S<b>64</b> based on the relationship</p><p id="p-0087" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>AUX</sub>=&#x3bc;<sub>PEAK</sub><i>*F</i><sub>z</sub><i>*R*G*M </i><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0088" num="0000">where T<sub>Aux </sub>is an auxiliary brake torque, &#x3bc;<sub>PEAK </sub>is a peak estimated road friction coefficient, F<sub>z </sub>is an estimated tyre normal force, R is a wheel radius, G is a gear ratio, and 0&#x3c;M&#x2264;1 is a margin factor.</p><p id="p-0089" num="0074">Thus, the allowable auxiliary brake torque <b>315</b> may be determined based on an estimated road friction coefficient or based on a monitored wheel slip level. The allowable auxiliary brake torque <b>315</b> may also be based on combinations of the two, e.g., a weighted combination of the relationships above, such as</p><p id="p-0090" num="0000"><maths id="MATH-US-00002" num="00002"><math overflow="scroll"> <mrow>  <msub>   <mi>T</mi>   <mi>AUX</mi>  </msub>  <mo>=</mo>  <mfrac>   <mrow>    <mrow>     <mi>a</mi>     <mo>*</mo>     <msub>      <mi>&#x3bc;</mi>      <mi>PEAK</mi>     </msub>     <mo>*</mo>     <msub>      <mi>F</mi>      <mi>z</mi>     </msub>     <mo>*</mo>     <mi>R</mi>     <mo>*</mo>     <mi>G</mi>     <mo>*</mo>     <mi>M</mi>    </mrow>    <mo>+</mo>    <mrow>     <mi>b</mi>     <mo>*</mo>     <msub>      <mi>&#x3bb;</mi>      <mi>PEAK</mi>     </msub>     <mo>*</mo>     <mi>M</mi>     <mo>*</mo>     <mi>C</mi>     <mo>*</mo>     <mi>R</mi>    </mrow>   </mrow>   <mrow>    <mi>a</mi>    <mo>+</mo>    <mi>b</mi>   </mrow>  </mfrac> </mrow></math></maths></p><p id="p-0091" num="0075">where a and b are pre-determined or adaptively adjusted weight factors.</p><p id="p-0092" num="0076">In case the road conditions are too slippery for supporting any auxiliary braking, the allowable auxiliary brake torque <b>315</b> may be determined S<b>65</b> to be zero. This may, for instance be the case if a low friction condition is detected during the monitoring of wheel slip. This means that the requested auxiliary braking operation is automatically cancelled in case the VMM determines that such braking cannot be safely applied. This increases vehicle safety. Also, accidental manual engagement of the auxiliary braking system, e.g., by an inexperienced driver, is prevented in case such engagement cannot be safely executed without the vehicle breaching set wheel slip limits.</p><p id="p-0093" num="0077">The method further comprises engaging S<b>7</b> the auxiliary brake system <b>330</b> at the allowable auxiliary brake torque <b>315</b>. This engaging may, for instance, be performed by gradually transferring S<b>71</b> a total brake torque from the primary brake system <b>320</b> to the auxiliary brake system <b>330</b>. This means that the total brake torque is kept constant, which may be an advantage.</p><p id="p-0094" num="0078">It is appreciated that road friction conditions may change over time, and even over a single downhill drive. Thus, some aspects of the disclosed method comprises periodically transferring S<b>8</b> a total brake torque from the auxiliary brake system <b>330</b> back to the primary brake system <b>320</b> while monitoring wheel slip &#x3bb;, <b>340</b>, and updating the allowable auxiliary brake torque <b>315</b> based on the monitored wheel slip &#x3bb;, <b>340</b>. Thus, if road conditions change, the vehicle will adapt in order to maintain safe operation. The transfer of brake torque from the auxiliary brake system <b>330</b> back to the primary brake system <b>320</b> may for instance be triggered S<b>81</b> based on any of road temperature value, presence of rainfall, presence of snowfall, road slope, road banking, and a visual image of the road.</p><p id="p-0095" num="0079"><figref idref="DRAWINGS">FIG. <b>7</b></figref> schematically illustrates, in terms of a number of functional units, the components of a control unit <b>110</b> according to embodiments of the discussions herein. This control unit <b>110</b> may be comprised in the vehicle <b>100</b>, e.g., in the form of a VMM unit. Processing circuitry <b>710</b> is provided using any combination of one or more of a suitable central processing unit CPU, multiprocessor, microcontroller, digital signal processor DSP, etc., capable of executing software instructions stored in a computer program product, e.g. in the form of a storage medium <b>730</b>. The processing circuitry <b>710</b> may further be provided as at least one application specific integrated circuit ASIC, or field programmable gate array FPGA.</p><p id="p-0096" num="0080">Particularly, the processing circuitry <b>710</b> is configured to cause the control unit <b>110</b> to perform a set of operations, or steps, such as the methods discussed in connection to <figref idref="DRAWINGS">FIG. <b>10</b></figref>. For example, the storage medium <b>730</b> may store the set of operations, and the processing circuitry <b>710</b> may be configured to retrieve the set of operations from the storage medium <b>730</b> to cause the control unit <b>110</b> to perform the set of operations. The set of operations may be provided as a set of executable instructions. Thus, the processing circuitry <b>710</b> is thereby arranged to execute methods as herein disclosed.</p><p id="p-0097" num="0081">The storage medium <b>730</b> may also comprise persistent storage, which, for example, can be any single one or combination of magnetic memory, optical memory, solid state memory or even remotely mounted memory.</p><p id="p-0098" num="0082">The control unit <b>110</b> may further comprise an interface <b>720</b> for communications with at least one external device such as a suspension system sensor or IMU. As such the interface <b>720</b> may comprise one or more transmitters and receivers, comprising analogue and digital components and a suitable number of ports for wireline or wireless communication.</p><p id="p-0099" num="0083">The processing circuitry <b>710</b> controls the general operation of the control unit <b>110</b>, e.g., by sending data and control signals to the interface <b>720</b> and the storage medium <b>730</b>, by receiving data and reports from the interface <b>720</b>, and by retrieving data and instructions from the storage medium <b>730</b>. Other components, as well as the related functionality, of the control node are omitted in order not to obscure the concepts presented herein.</p><p id="p-0100" num="0084">Thus, with reference also to <figref idref="DRAWINGS">FIGS. <b>2</b>A, <b>3</b>A, and <b>3</b>B</figref>, <figref idref="DRAWINGS">FIG. <b>7</b></figref> shows an example control unit <b>110</b> configured to control a vehicle brake system in a heavy duty vehicle <b>100</b>. The brake system comprising a primary brake system <b>250</b> and an auxiliary brake system <b>260</b>. The control unit <b>110</b> is arranged to:</p><p id="p-0101" num="0085">configure a wheel slip magnitude limit &#x3bb;<sub>LIM</sub>,</p><p id="p-0102" num="0086">obtain a requested auxiliary brake torque <b>310</b>,</p><p id="p-0103" num="0087">engage the primary brake system <b>320</b> at a torque determined in dependence of the requested auxiliary brake torque <b>310</b>,</p><p id="p-0104" num="0088">monitor a wheel slip value &#x3bb;, <b>340</b>,</p><p id="p-0105" num="0089">determine an allowable auxiliary brake torque <b>315</b> in dependence of the requested auxiliary brake torque <b>310</b> and the wheel slip value &#x3bb;, <b>340</b>, and</p><p id="p-0106" num="0090">engage the auxiliary brake system <b>330</b> at the allowable auxiliary brake torque <b>315</b>.</p><p id="p-0107" num="0091"><figref idref="DRAWINGS">FIG. <b>8</b></figref> illustrates a computer readable medium <b>810</b> carrying a computer program comprising program code means <b>820</b> for performing the methods illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, when said program product is run on a computer. The computer readable medium and the code means may together form a computer program product <b>800</b>.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001" nb-file="US20230001898A1-20230105-M00001.NB"><img id="EMI-M00001" he="6.01mm" wi="76.20mm" file="US20230001898A1-20230105-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00002" nb-file="US20230001898A1-20230105-M00002.NB"><img id="EMI-M00002" he="5.67mm" wi="76.20mm" file="US20230001898A1-20230105-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method for controlling a vehicle brake system for a heavy duty vehicle, the brake system comprising a primary brake system and an auxiliary brake system, the method comprising:<claim-text>configuring a wheel slip magnitude limit,</claim-text><claim-text>obtaining a requested auxiliary brake torque,</claim-text><claim-text>engaging the primary brake system at a torque determined in dependence of the requested auxiliary brake torque, while</claim-text><claim-text>monitoring a wheel slip value,</claim-text><claim-text>determining an allowable auxiliary brake torque in dependence of the requested auxiliary brake torque and the monitored wheel slip value, and</claim-text><claim-text>engaging the auxiliary brake system at the allowable auxiliary brake torque.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the auxiliary brake system comprises any of; an electric machine, an electromagnetic retarder system, a compression brake system, and an exhaust brake system.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the primary brake system comprises any of; a service brake system, a friction brake system, a regenerative brake system, and an electric machine brake system.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the requested auxiliary brake torque is obtained by manual selection from a set of discrete selectable torque values.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the requested auxiliary brake torque is obtained from a vehicle control unit arranged to control a vehicle brake operation.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising engaging the primary brake system according to a pre-determined and gradually increasing function up to the requested auxiliary brake torque.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising estimating a road friction coefficient.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the allowable auxiliary brake torque is reduced compared to the requested auxiliary brake torque in case the requested auxiliary brake torque cannot be obtained with a wheel slip magnitude below the configured wheel slip magnitude limit.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the allowable auxiliary brake torque is determined based on a maximum torque achieved by the primary brake system at a wheel slip magnitude below the configured wheel slip magnitude limit.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the allowable auxiliary brake torque is determined based on the relationship<claim-text><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>AUX</sub>=&#x3bb;<sub>PEAK</sub><i>*M*C*R </i><?in-line-formulae description="In-line Formulae" end="tail"?></claim-text><claim-text>where T<sub>Aux </sub>is an auxiliary brake torque, &#x3bb;<sub>PEAK </sub>is the largest monitored wheel slip magnitude value, 0&#x3c;M&#x2264;1 is a margin factor, C is a longitudinal tyre stiffness parameter, and R is a wheel radius.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the allowable auxiliary brake torque is determined based on the relationship<claim-text><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>AUX</sub>=&#x3bc;<sub>PEAK</sub><i>*F</i><sub>Z</sub><i>*R*G*M </i><?in-line-formulae description="In-line Formulae" end="tail"?></claim-text></claim-text><claim-text>where T<sub>Aux </sub>is an auxiliary brake torque, &#x3bc;<sub>PEAK </sub>is a peak estimated road friction coefficient, F<sub>z </sub>is an estimated tyre normal force, R is a wheel radius, G is a gear ratio, and 0&#x3c;M&#x2264;1 is a margin factor.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the allowable auxiliary brake torque is determined to be zero in case a low friction condition is detected during the monitoring of wheel slip.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein engaging the auxiliary brake system comprises gradually transferring a total brake torque from the primary brake system to the auxiliary brake system.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising periodically transferring a total brake torque from the auxiliary brake system back to the primary brake system while monitoring wheel slip, and updating the allowable auxiliary brake torque based on the monitored wheel slip.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the transfer of brake torque from the auxiliary brake system back to the primary brake system is triggered based on any of road temperature value, presence of rainfall, presence of snowfall, road slope, road banking, and a visual image of the road.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the transfer of brake torque from the auxiliary brake system back to the primary brake system is triggered in response to a change in wheel slip/or in response to a change in requested brake torque.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. A computer program comprising program code means for performing the steps of <claim-ref idref="CLM-00001">claim 1</claim-ref> when said program is run on a computer or on processing circuitry of a control unit.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. A computer readable medium carrying a computer program comprising program code means for performing the steps of <claim-ref idref="CLM-00001">claim 1</claim-ref> when said program product is run on a computer or on processing circuitry of a control unit.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. A control unit configured to control a vehicle brake system in a heavy duty vehicle, the brake system comprising a primary brake system and an auxiliary brake system, the control unit is arranged to:<claim-text>configure a wheel slip magnitude limit,</claim-text><claim-text>obtain a requested auxiliary brake torque,</claim-text><claim-text>engage the primary brake system at a torque determined in dependence of the requested auxiliary brake torque,</claim-text><claim-text>monitor a wheel slip value,</claim-text><claim-text>determine an allowable auxiliary brake torque in dependence of the requested auxiliary brake torque and the wheel slip value, and</claim-text><claim-text>engage the auxiliary brake system at the allowable auxiliary brake torque.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. A vehicle comprising the control unit according to <claim-ref idref="CLM-00019">claim 19</claim-ref>.</claim-text></claim></claims></us-patent-application>