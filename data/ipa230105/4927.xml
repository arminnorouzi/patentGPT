<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230004928A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230004928</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17810278</doc-number><date>20220630</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>Q</subclass><main-group>10</main-group><subgroup>08</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>Q</subclass><main-group>30</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>Q</subclass><main-group>10</main-group><subgroup>087</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>Q</subclass><main-group>30</main-group><subgroup>0202</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">Order Fulfillment System</invention-title><us-related-documents><us-provisional-application><document-id><country>US</country><doc-number>63202944</doc-number><date>20210630</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="obligated-assignee"><addressbook><orgname>Levi Strauss &#x26; Co.</orgname><address><city>San Francisco</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>L'Orange</last-name><first-name>Kirsten</first-name><address><city>San Francisco</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Balakrishnan</last-name><first-name>Darsh</first-name><address><city>San Jose</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Simor</last-name><first-name>Andrew</first-name><address><city>San Francisco</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Rajprasad</last-name><first-name>Dhivya</first-name><address><city>Dublin</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>de las Heras</last-name><first-name>Ignacio</first-name><address><city>Lisbon</city><country>PT</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>de Santos Sierra</last-name><first-name>Alberto</first-name><address><city>Madrid</city><country>ES</country></address></addressbook></inventor><inventor sequence="06" designation="us-only"><addressbook><last-name>DiCesari</last-name><first-name>Louis</first-name><address><city>London</city><country>GB</country></address></addressbook></inventor><inventor sequence="07" designation="us-only"><addressbook><last-name>Walsh</last-name><first-name>Ekaterina O.</first-name><address><city>Sausalito</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="08" designation="us-only"><addressbook><last-name>Modi</last-name><first-name>Navikkumar</first-name><address><city>Sterrebeek</city><country>BE</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">An order fulfillment system receives electronic or online orders from customers and fulfills these by selecting from facilities such as retail stores and distribution centers to ship the items to complete the orders. The system determines which facility to ship from by maximizing profitability and minimizing split shipments. The system allocates orders to facilities while considering margin and preventing excessive numbers of split shipments, which reduces margin due to shipping costs. Further, the system can allocate products that are on promotion (e.g., markdown) or approaching promotion in a retail store to an online order, thus increasing margins. The system can help prevent the buildup of inventory gluts of unproductive products within a store. The system includes a profitability forecast component and in particular, can predict of the future selling price by location or channel, or a combination.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="126.41mm" wi="158.75mm" file="US20230004928A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="188.72mm" wi="135.21mm" file="US20230004928A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="98.98mm" wi="133.60mm" file="US20230004928A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="187.11mm" wi="149.44mm" orientation="landscape" file="US20230004928A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="206.33mm" wi="114.22mm" orientation="landscape" file="US20230004928A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="200.32mm" wi="182.46mm" orientation="landscape" file="US20230004928A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="230.29mm" wi="77.13mm" file="US20230004928A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="165.95mm" wi="176.11mm" orientation="landscape" file="US20230004928A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="120.23mm" wi="188.55mm" orientation="landscape" file="US20230004928A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="162.14mm" wi="154.35mm" orientation="landscape" file="US20230004928A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This patent application claims the benefit of U.S. patent application 63/202,944, filed Jun. 30, 2021, which is incorporated by reference along with all other references cited in this application.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">DESCRIPTION</heading><p id="p-0003" num="0002">A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the U.S. Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.</p><heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading><p id="p-0004" num="0003">This invention relates to electronic commerce or e-commence and, more specifically, to the fulfillment of orders placed online, where the orders are fulfilled by inventory at retail stores or distribution centers, or a combination.</p><p id="p-0005" num="0004">In <b>1853</b>, during the California Gold Rush, Levi Strauss, a 24-year-old German immigrant, left New York for San Francisco with a small supply of dry goods with the intention of opening a branch of his brother's New York dry goods business. Shortly after arriving in San Francisco, Mr. Strauss realized that the miners and prospectors (called the &#x201c;forty niners&#x201d;) needed pants strong enough to last through the hard work conditions they endured. So, Mr. Strauss developed the now familiar jeans which he sold to the miners. The company he founded, Levi Strauss &#x26; Co. or LS&#x26;Co., still sells jeans and is the most widely known jeans brand in the world. Levi's is a trademark of Levi Strauss &#x26; Co.</p><p id="p-0006" num="0005">Though jeans at the time of the Gold Rush were used as work clothes (which were relatively loose fitting since fashion was not a concern), jeans have evolved to be fashionably worn everyday by men and women, showing up on billboards, television commercials, and fashion runways. Fashion is one of the largest consumer industries in the U.S. and around the world. Jeans and related apparel are a significant segment of the industry.</p><p id="p-0007" num="0006">With the widespread success of the Internet, more and more orders for jeans and other apparel are being placed online, through Web, mobile apps, and other e-commerce channels. Further, an increase of online orders was evidenced during the <b>2020</b> coronavirus pandemic, when retail stores were mandated to be closed to prevent the spread of the virus. Despite the success of online commerce of apparel, the profitability of an order can be vary greatly depending on how an order is split for fulfillment by multiple stores or facilities, shipping cost, lost opportunity cost by fulfilling an item from a store, and other factors.</p><p id="p-0008" num="0007">Therefore, there is a need for an improved order fulfillment system, especially where this system increase profitability and reduces a number of splits.</p><heading id="h-0004" level="1">BRIEF SUMMARY OF THE INVENTION</heading><p id="p-0009" num="0008">An order fulfillment system receives electronic or online orders from customers and fulfills these by selecting from facilities such as retail stores and distribution centers to ship the items to complete the orders. The system determines which facility to ship from by maximizing profitability and minimizing split shipments. The system allocates orders to facilities while considering margin and preventing excessive numbers of split shipments, which reduces margin due to shipping costs. Further, the system can allocate products that are on markdown or approaching markdown in a retail store to an online order, thus increasing margins. The system can help prevent the buildup of inventory gluts of unproductive products within a store. The system includes a profitability forecast component and in particular, can predict of the future selling price by location or channel, or a combination.</p><p id="p-0010" num="0009">In an implementation, a method includes: receiving an order online created by a customer at an order fulfillment server, where the order can be fulfilled by shipment of two or more package from a plurality of retail stores or a distribution center, or a combination; generating an order fulfillment plan by determining a first subset of retail stores that have a capacity to fulfill the order, of the first subset, determining a second subset of retail stores which can fulfill an order based an inventory of the retail store and an inventory protection value for the retail store, determining that to fulfill the order, the order will be split among the second subset of retail stores and distribution center, for each retail store of the second subset, calculating an earnings before income and taxes (EBIT) for each item in the order; selecting one or more retail store to fulfill the order to increase earnings before income and taxes while at the same time reducing shipping costs due to splitting the order into two or more packages; and based on the order fulfillment plan, shipping items in the order to the customer in multiple packages, where at least one of a first package is from a first retail store of the retails stores and a second package is from the distribution center, or a third package is from the first retail store and a fourth package is from a second retail store.</p><p id="p-0011" num="0010">In an implementation, a method includes: providing a first pair of jeans, where the first pair of jeans includes a first product; providing a second pair of jeans, where the second pair of jeans includes a first product; providing a third pair of jeans, where the third pair of jeans includes a second product; providing a first retail store at a first location, where the first retail store includes floor space designated for displaying products and selling product directly to customers who shop at the first retail store; providing a second retail store at a second location, where the second retail store includes floor space designated for displaying products and selling products directly to customers who shop at the second retail store, and the second location is different from the first location; and providing a distribution center a third location, where the distribution center stores products to be shipped to retail stores to replenish inventory at the retail stores and to fulfill online orders, an online order is an order that is created online, and the third location is different from the first and second locations.</p><p id="p-0012" num="0011">The method further includes: receiving an online order at an order fulfillment server including a request for the first product and a request for the second product, where the online order was created by a customer at a fourth location, and the fourth location is different from the first, second, and third locations; and at the order fulfillment server, making a determination of whether the first retail store or second retail store will be used to fulfill the request for the first product of the online order, and that the distribution center will be used to fulfill the request for the second product.</p><p id="p-0013" num="0012">The method further includes: determining a first cost by performing a first cost calculation of fulfilling the request for the first product of the online order via the first retail store, where the first cost is based on a future earnings before income and taxes and a determination is made that the first product will be sold at a discount at a time period in the future; determining a second cost performing a second cost calculation of fulfilling the request for the first product of the online order via the first retail store, the second cost is based on a future earnings before income and taxes and a determination is made that the first product will not be sold at a discount in the time period in the future; and determining the first cost is less than the second cost.</p><p id="p-0014" num="0013">The method further includes: creating a fulfillment plan where a first package will include the first product from the first retail store, and the first package will be sent to the customer to fulfill the online order, and a second package will include the second product from the distribution center, the second package is separate from the first package, and the second package will be sent to the customer to fulfill the online order.</p><p id="p-0015" num="0014">In an implementation, a system includes: a number of facilities available to fulfill an order including a first retail store including a first inventory of a first product and no inventory of a second product, a second retail store including a second inventory of the first product and no inventory or the second product, and a first distribution center including no inventory of the first product and a first inventory of a second product; and an order fulfillment server, receiving an first order via an online channel (e.g., from a mobile device or a Web browser).</p><p id="p-0016" num="0015">Further, the first order includes a first quantity of the first product and a second quantity of the second product, and the first order is to be fulfilled by splitting the first order across two or more facilities. The order fulfillment server calculates a first earnings before income and taxes (EBIT) for fulfilling the first product through the first retail store. The order fulfillment server calculates a second earnings before income and taxes (EBIT) for fulfilling the first product through the second retail store, where the first EBIT is greater than the second EBIT. The order fulfillment server fulfills the first order by routing the second quantity of the second product to the first distribution center and due to the first EBIT being greater than the second EBIT, and routing the first quantity of the first product to the first retail store instead of the second retail store.</p><p id="p-0017" num="0016">Other objects, features, and advantages of the present invention will become apparent upon consideration of the following detailed description and the accompanying drawings, in which like reference designations represent like features throughout the figures.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a simplified block diagram of a client-server system and network in which an e-commerce and order fulfillments system can be implemented.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a more detailed diagram of an exemplary client or server computer of the system.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows a system block diagram of a computer.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a system diagram of an order fulfillment system.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>5</b></figref> shows a two-stage implementation of an order fulfillment system.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>6</b></figref> shows a flow diagram of a technique of an order fulfillment system.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>7</b></figref> shows a flow diagram of a technique of inventory protection logic.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>8</b>A</figref> shows flow of a technique of EBIT forecast optimization.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>8</b>B</figref> shows an alternative flow of a technique of EBIT forecast optimization.</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows a block diagram of manual business overrides of the order fulfillment system.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a simplified block diagram of a distributed computer network <b>100</b> in which an e-commerce and order fulfillments system can be implemented. Computer network <b>100</b> includes a number of client systems <b>113</b>, <b>116</b>, and <b>119</b>, and a server system <b>122</b> coupled to a communication network <b>124</b> via a plurality of communication links <b>128</b>. Communication network <b>124</b> provides a mechanism for allowing the various components of distributed network <b>100</b> to communicate and exchange information with each other.</p><p id="p-0029" num="0028">Communication network <b>124</b> may itself be comprised of many interconnected computer systems and communication links. Communication links <b>128</b> may be hardwire links, optical links, satellite or other wireless communications links, wave propagation links, or any other mechanisms for communication of information. Communication links <b>128</b> may be DSL, Cable, Ethernet or other hardwire links, passive or active optical links, 3G, 3.5G, 4G and other mobility, satellite or other wireless communications links, wave propagation links, or any other mechanisms for communication of information.</p><p id="p-0030" num="0029">Various communication protocols may be used to facilitate communication between the various systems shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. These communication protocols may include VLAN, MPLS, TCP/IP, Tunneling, HTTP protocols, wireless application protocol (WAP), vendor-specific protocols, customized protocols, and others. While in one embodiment, communication network <b>124</b> is the Internet, in other embodiments, communication network <b>124</b> may be any suitable communication network including a local area network (LAN), a wide area network (WAN), a wireless network, an intranet, a private network, a public network, a switched network, and combinations of these, and the like.</p><p id="p-0031" num="0030">Distributed computer network <b>100</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is merely illustrative of an embodiment incorporating the present invention and does not limit the scope of the invention as recited in the claims. One of ordinary skill in the art would recognize other variations, modifications, and alternatives. For example, more than one server system <b>122</b> may be connected to communication network <b>124</b>. As another example, a number of client systems <b>113</b>, <b>116</b>, and <b>119</b> may be coupled to communication network <b>124</b> via an access provider (not shown) or via some other server system.</p><p id="p-0032" num="0031">Client systems <b>113</b>, <b>116</b>, and <b>119</b> typically request information from a server system which provides the information. For this reason, server systems typically have more computing and storage capacity than client systems. However, a particular computer system may act as both as a client or a server depending on whether the computer system is requesting or providing information. Additionally, although aspects of the invention have been described using a client-server environment, it should be apparent that the invention may also be embodied in a stand-alone computer system.</p><p id="p-0033" num="0032">Server <b>122</b> is responsible for receiving information requests from client systems <b>113</b>, <b>116</b>, and <b>119</b>, performing processing required to satisfy the requests, and for forwarding the results corresponding to the requests back to the requesting client system. The processing required to satisfy the request may be performed by server system <b>122</b> or may alternatively be delegated to other servers connected to communication network <b>124</b>.</p><p id="p-0034" num="0033">Client systems <b>113</b>, <b>116</b>, and <b>119</b> enable users to access and query information stored by server system <b>122</b>. In a specific embodiment, the client systems can run as a standalone application such as a desktop application or mobile smartphone or tablet application. In another embodiment, a &#x201c;web browser&#x201d; application executing on a client system enables users to select, access, retrieve, or query information stored by server system <b>122</b>. Examples of web browsers include the Internet Explorer and Edge browser programs provided by Microsoft Corporation, Firefox browser provided by Mozilla, Chrome browser provided by Google, Safari browser provided by Apple, and others.</p><p id="p-0035" num="0034">In a client-server environment, some resources (e.g., files, music, video, or data) are stored at the client while others are stored or delivered from elsewhere in the network, such as a server, and accessible via the network (e.g., the Internet). Therefore, the user's data can be stored in the network or &#x201c;cloud.&#x201d; For example, the user can work on documents on a client device that are stored remotely on the cloud (e.g., server). Data on the client device can be synchronized with the cloud.</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows an exemplary client or server system. In an embodiment, a user interfaces with the system through a computer workstation system, such as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. <figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a computer system <b>201</b> that includes a monitor <b>203</b>, screen <b>205</b>, enclosure <b>207</b> (may also be referred to as a system unit, cabinet, or case), keyboard or other human input device <b>209</b>, and mouse or other pointing device <b>211</b>. Mouse <b>211</b> may have one or more buttons such as mouse buttons <b>213</b>.</p><p id="p-0037" num="0036">It should be understood that the present invention is not limited any computing device in a specific form factor (e.g., desktop computer form factor), but can include all types of computing devices in various form factors. A user can interface with any computing device, including smartphones, personal computers, laptops, electronic tablet devices, global positioning system (GPS) receivers, portable media players, personal digital assistants (PDAs), other network access devices, and other processing devices capable of receiving or transmitting data.</p><p id="p-0038" num="0037">For example, in a specific implementation, the client device can be a smartphone or tablet device, such as the Apple iPhone (e.g., Apple iPhone 12 and iPhone 12 Pro), Apple iPad (e.g., Apple iPad Air, Apple iPad Pro, or Apple iPad mini), Apple iPod (e.g., Apple iPod Touch), Samsung Galaxy product (e.g., Galaxy S series product or Galaxy Note series product), Google <i>Nexus</i>, Google Pixel devices (e.g., Google Pixel <b>5</b>), and Microsoft devices (e.g., Microsoft Surface tablet). Typically, a smartphone includes a telephony portion (and associated radios) and a computer portion, which are accessible via a touch screen display.</p><p id="p-0039" num="0038">There is nonvolatile memory to store data of the telephone portion (e.g., contacts and phone numbers) and the computer portion (e.g., application programs including a browser, pictures, games, videos, and music). The smartphone typically includes a camera (e.g., front facing camera or rear camera, or both) for taking pictures and video. For example, a smartphone or tablet can be used to take live video that can be streamed to one or more other devices.</p><p id="p-0040" num="0039">Enclosure <b>207</b> houses familiar computer components, some of which are not shown, such as a processor, memory, mass storage devices <b>217</b>, and the like. Mass storage devices <b>217</b> may include mass disk drives, floppy disks, magnetic disks, optical disks, magneto-optical disks, fixed disks, hard disks, CD-ROMs, recordable CDs, DVDs, recordable DVDs (e.g., DVD-R, DVD+R, DVD-RW, DVD+RW, HD-DVD, or Blu-ray Disc), flash and other nonvolatile solid-state storage (e.g., USB flash drive or solid state drive (SSD)), battery-backed-up volatile memory, tape storage, reader, and other similar media, and combinations of these.</p><p id="p-0041" num="0040">A computer-implemented or computer-executable version or computer program product of the invention may be embodied using, stored on, or associated with computer-readable medium. A computer-readable medium may include any medium that participates in providing instructions to one or more processors for execution. Such a medium may take many forms including, but not limited to, nonvolatile, volatile, and transmission media. Nonvolatile media includes, for example, flash memory, or optical or magnetic disks. Volatile media includes static or dynamic memory, such as cache memory or RAM. Transmission media includes coaxial cables, copper wire, fiber optic lines, and wires arranged in a bus. Transmission media can also take the form of electromagnetic, radio frequency, acoustic, or light waves, such as those generated during radio wave and infrared data communications.</p><p id="p-0042" num="0041">For example, a binary, machine-executable version, of the software of the present invention may be stored or reside in RAM or cache memory, or on mass storage device <b>217</b>. The source code of the software of the present invention may also be stored or reside on mass storage device <b>217</b> (e.g., hard disk, magnetic disk, tape, or CD-ROM). As a further example, code of the invention may be transmitted via wires, radio waves, or through a network such as the Internet.</p><p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows a system block diagram of computer system <b>201</b> used to execute the software of the present invention. As in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, computer system <b>201</b> includes monitor <b>203</b>, keyboard <b>209</b>, and mass storage devices <b>217</b>. Computer system <b>501</b> further includes subsystems such as central processor <b>302</b>, system memory <b>304</b>, input/output (I/O) controller <b>306</b>, display adapter <b>308</b>, serial or universal serial bus (USB) port <b>312</b>, network interface <b>318</b>, and speaker <b>320</b>. The invention may also be used with computer systems with additional or fewer subsystems. For example, a computer system could include more than one processor <b>302</b> (i.e., a multiprocessor system) or a system may include a cache memory.</p><p id="p-0044" num="0043">Arrows such as <b>322</b> represent the system bus architecture of computer system <b>201</b>. However, these arrows are illustrative of any interconnection scheme serving to link the subsystems. For example, speaker <b>320</b> could be connected to the other subsystems through a port or have an internal direct connection to central processor <b>302</b>. The processor may include multiple processors or a multicore processor, which may permit parallel processing of information. Computer system <b>201</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> is but an example of a computer system suitable for use with the present invention. Other configurations of subsystems suitable for use with the present invention will be readily apparent to one of ordinary skill in the art.</p><p id="p-0045" num="0044">Computer software products may be written in any of various suitable programming languages, such as C, C++, C#, Pascal, Fortran, Perl, Matlab (from MathWorks), SAS, SPSS, JavaScript, AJAX, Java, Python, Erlang, and Ruby on Rails. The computer software product may be an independent application with data input and data display modules. Alternatively, the computer software products may be classes that may be instantiated as distributed objects. The computer software products may also be component software such as Java Beans (from Oracle Corporation) or Enterprise Java Beans (EJB from Oracle Corporation).</p><p id="p-0046" num="0045">An operating system for the system may be one of the Microsoft Windows&#xae; family of systems (e.g., Windows 95, 98, Me, Windows NT, Windows 2000, Windows XP, Windows XP x64 Edition, Windows Vista, Windows 7, Windows 8, Windows 10, Windows 11, Windows CE, Windows Mobile, and Windows RT), Symbian OS, Tizen, Linux, HP-UX, UNIX, Sun OS, Solaris, Mac OS X, Apple iOS, Android, Alpha OS, AIX, IRIX32, or IRIX64. Other operating systems may be used. Microsoft Windows is a trademark of Microsoft Corporation.</p><p id="p-0047" num="0046">Any trademarks or service marks used in this patent are property of their respective owner. Any company, product, or service names in this patent are for identification purposes only. Use of these names, logos, and brands does not imply endorsement.</p><p id="p-0048" num="0047">Furthermore, the computer may be connected to a network and may interface to other computers using this network. The network may be an intranet, internet, or the Internet, among others. The network may be a wired network (e.g., using copper), telephone network, packet network, an optical network (e.g., using optical fiber), or a wireless network, or any combination of these. For example, data and other information may be passed between the computer and components (or steps) of a system of the invention using a wireless network using a protocol such as Wi-Fi (e.g., IEEE standards 802.11, 802.11a, 802.11b, 802.11e, 802.11g, 802.11i, 802.11n, 802.11ac (e.g., Wi-Fi <b>5</b>), 802.11ad, 802.11ax (e.g., Wi-Fi <b>6</b>), and 802.11af, just to name a few examples), near field communication (NFC), radio-frequency identification (RFID), mobile or cellular wireless (e.g., 2G, 3G, 4G, 5G, 3GPP LTE, WiMAX, LTE, LTE Advanced, Flash-OFDM, HIPERMAN, iBurst, EDGE Evolution, UMTS, UMTS-TDD, 1&#xd7;RDD, and EV-DO). For example, signals from a computer may be transferred, at least in part, wirelessly to components or other computers.</p><p id="p-0049" num="0048">In an embodiment, with a web browser executing on a computer workstation system, a user accesses a system on the World Wide Web (WWW) through a network such as the Internet. The web browser is used to download web pages or other content in various formats including HTML, XML, text, PDF, and postscript, and may be used to upload information to other parts of the system. The web browser may use uniform resource identifiers (URLs) to identify resources on the web and hypertext transfer protocol (HTTP) in transferring files on the web.</p><p id="p-0050" num="0049">In other implementations, the user accesses the system through either or both of native and nonnative applications. Native applications are locally installed on the particular computing system and are specific to the operating system or one or more hardware devices of that computing system, or a combination of these. These applications (which are sometimes also referred to as &#x201c;apps&#x201d;) can be updated (e.g., periodically) via a direct internet upgrade patching mechanism or through an applications store (e.g., Apple iTunes and App store, Google Play store, Windows Phone store, and Blackberry App World store).</p><p id="p-0051" num="0050">The system can run in platform-independent, nonnative applications. For example, client can access the system through a web application from one or more servers using a network connection with the server or servers and load the web application in a web browser. For example, a web application can be downloaded from an application server over the Internet by a web browser. Nonnative applications can also be obtained from other sources, such as a disk.</p><p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a system diagram of an order fulfillment system (OFS). The order fulfillment system may also be referred to as a routing and margin optimization (RMO), routing and margin benefit optimization (RAMBO), or ship from store (SFS) system or engine. An order fulfillment system may also be referred to as an order management system (OMS).</p><p id="p-0053" num="0052">An order <b>405</b> such as an e-commerce order is received via the Internet or other network from a customer. This order is sent to an order fulfillment block <b>410</b> (which can also be referred as a data science (DS) system), which handles determining how to fulfill the order.</p><p id="p-0054" num="0053">To fulfill the order, some inputs to the order fulfillment block include an inventory input <b>421</b> (e.g., including inventory protection), EBIT adjustments input <b>423</b>, shipping cost input <b>425</b>, and manual override input <b>427</b>. The inventory input provides the availability of each item of the order at each of facilities <b>433</b> of the company. The facilities can include distribution centers <b>435</b> and retail stores <b>437</b>.</p><p id="p-0055" num="0054">In addition, the categories of data sources as input to the order fulfillment system are summarized in table A.</p><p id="p-0056" num="0000"><tables id="TABLE-US-00001" num="00001"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="4"><colspec colname="1" colwidth="49pt" align="left"/><colspec colname="2" colwidth="49pt" align="left"/><colspec colname="3" colwidth="56pt" align="left"/><colspec colname="4" colwidth="63pt" align="left"/><thead><row><entry namest="1" nameend="4" rowsep="1">TABLE A</entry></row><row><entry namest="1" nameend="4" align="center" rowsep="1"/></row><row><entry>Category</entry><entry>Attributes</entry><entry>Source</entry><entry>Notes</entry></row><row><entry namest="1" nameend="4" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>Inventory</entry><entry>Available </entry><entry>Somewhat </entry><entry>The quantity</entry></row><row><entry/><entry>quantity;</entry><entry>delayed</entry><entry>available for </entry></row><row><entry/><entry>Inventory </entry><entry>inventory </entry><entry>a SKU</entry></row><row><entry/><entry>protection</entry><entry>from store</entry><entry>has inventory</entry></row><row><entry/><entry>value</entry><entry>(e.g., 5 to </entry><entry>protection value</entry></row><row><entry/><entry/><entry>15 minute</entry><entry>deducted</entry></row><row><entry/><entry/><entry>delay)</entry><entry/></row><row><entry>Capacity</entry><entry>Utilized </entry><entry>Somewhat </entry><entry>Can go up </entry></row><row><entry/><entry>capacity</entry><entry>delayed</entry><entry>to, e.g., 20</entry></row><row><entry/><entry>of a store</entry><entry>from store </entry><entry>percent over </entry></row><row><entry/><entry/><entry>(e.g., 5 to 15 </entry><entry>a store's</entry></row><row><entry/><entry/><entry>minute delay)</entry><entry>capacity</entry></row><row><entry>Shipment </entry><entry>Zip to zip </entry><entry>FedEx, USPS</entry><entry>Default values</entry></row><row><entry>Cost</entry><entry>flat rate</entry><entry/><entry>imputted for</entry></row><row><entry/><entry/><entry/><entry>shipment weight </entry></row><row><entry/><entry/><entry/><entry>and package size </entry></row><row><entry/><entry/><entry/><entry>(e.g., actual </entry></row><row><entry/><entry/><entry/><entry>shipment costs</entry></row><row><entry/><entry/><entry/><entry>are inferred </entry></row><row><entry/><entry/><entry/><entry>based on</entry></row><row><entry/><entry/><entry/><entry>shipment </entry></row><row><entry/><entry/><entry/><entry>weight and</entry></row><row><entry/><entry/><entry/><entry>package size)</entry></row><row><entry>Labor Cost</entry><entry>Static differing </entry><entry/><entry>Different rate for</entry></row><row><entry/><entry>by distribution </entry><entry/><entry>stores and </entry></row><row><entry/><entry>centers (DCs) </entry><entry/><entry>DCs based</entry></row><row><entry/><entry>and stores</entry><entry/><entry>on location</entry></row><row><entry/><entry>costs based on</entry><entry/><entry/></row><row><entry/><entry>fulfillment</entry><entry/><entry/></row><row><entry>Pick and </entry><entry>Blended static </entry><entry/><entry>Can use a static rate</entry></row><row><entry>Pack Cost</entry><entry>cost of picking </entry><entry/><entry>based on DCs. Can</entry></row><row><entry/><entry>from storage</entry><entry/><entry>include a rate for</entry></row><row><entry/><entry>and packing</entry><entry/><entry>stores too</entry></row><row><entry>Markdown</entry><entry>Prices </entry><entry>Assortment </entry><entry>Inferring </entry></row><row><entry>Information</entry><entry>from stores'</entry><entry>tools</entry><entry>markdown</entry></row><row><entry/><entry>markdown </entry><entry/><entry>status from price</entry></row><row><entry/><entry>calendar</entry><entry/><entry>information</entry></row><row><entry>Unproductive</entry><entry>Unproductive </entry><entry>Current </entry><entry>Weekly sellout</entry></row><row><entry>Products</entry><entry>status, weeks </entry><entry>inventory and </entry><entry>calculated through</entry></row><row><entry/><entry>on hand</entry><entry>historical sales</entry><entry>end of most recent</entry></row><row><entry/><entry/><entry/><entry>fiscal week</entry></row><row><entry namest="1" nameend="4" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0057" num="0055">EBIT refers to earning before income and taxes (EBIT), and is a measure of profitability. The EBIT adjustments input describes the adjustments to the EBIT or profitability of fulfilling an order, with adjustments dues to factors like a promotions calendar (e.g., calendar or upcoming discounts and sales).</p><p id="p-0058" num="0056">Shipping cost input <b>425</b> is a measure of the shipping cost for shipping an item to the customer's location or shipping address. Additional costs considered here may include labor costs and pick and pack costs.</p><p id="p-0059" num="0057">Manual override input <b>427</b> is an optional feature of the order fulfillment system that allows an administrator to specify, such as by way of a template, of how orders will be fulfilled. For example, using the manual override feature, an administrator can have the order fulfillment system select a specific facility to fulfill orders under particular conditions (e.g., customer located geographically closed to a distribution center). The manual override functionality is included in the system so that the system can handle or incorporate business overrides based on criteria outside the core approach or technique.</p><p id="p-0060" num="0058">Other input variables include a capacity limit <b>408</b> (e.g., an upper limit or a limit value somewhat less than this upper limit) within stores, and access to the relevant data sources and files which are stored as an environment variable within the codebase. A system administrator can easily control and update these variables.</p><p id="p-0061" num="0059">Using these inputs, the order fulfillment system generates a future EBIT forecast <b>439</b> for each item in the order, a predicted profit value for the last unit sold at a certain facility. The calculated EBIT values are future or forecasted values, given the input such as the EBIT adjustments due to discounts or promotions. Based on the future EBIT forecast, the order fulfillment system generates a fulfillment plan <b>443</b> based on EBIT. For example, order fulfillment system can fulfill orders based on maximizing or increasing EBIT.</p><p id="p-0062" num="0060">Then, the fulfillment plan is sent to the facilities, where the order is picked and packed and shipped to the customer <b>467</b>.</p><p id="p-0063" num="0061">In an implementation, an item gets shipped from a store if it was not available in distribution center or other factors such as faster shipment (e.g., store being nearer to customer), improved EBIT margin, or a combination. This notification to store is given by, e.g., a mobile app to fulfill the order and the chosen criteria of store is its location (e.g., near to customer). As a constraint, a store can fulfill <b>50</b> to about 500 max items (configurable by store; e.g., up to a store's maximum fulfillment capacity limit) in a day. There are no limits on the number of DC shipments in a day. There is an option to decide how many orders a store can take in a day, and on hitting that capacity, the store goes offline. As ecommerce sales continue to grow, stores items are getting fulfilled by online orders, so store fulfillment can be from about 400 to 4000 items a day. There are some problems for online shipments.</p><p id="p-0064" num="0062">Split Shipment: If, for example, the order contains five items out of which three are available in DC and rest two are fulfilled from two different stores, then shipment costs associated with each item fulfilled from different location increases the overall shipment cost for an order. Note that shipment may be free or cheap for customers, but its additional cost to the company.</p><p id="p-0065" num="0063">Margin: There is a price difference between the items being sold on stores versus online. In most cases, the online price of an item tends to be less than that in stores. So for example: We can look an item that costs $40 to produce and sell. A store can tag that item to sell at $100, making a profit margin of $60. However, if that product is available online at $50, it may be fulfilled by that same store after the distribution center become out of stock. In this case, the store now only makes a $10 margin compared to the original $60, while occurring an additional shipment cost, further reducing margin.</p><p id="p-0066" num="0064">To prevent or minimize the impact on lowering store margin, the order fulfillment system attempts to reduce the number of split shipments and considers the costs of an item to maximize margin for each shipment. The order fulfillment system uses a model to select a specific store or stores where an order is margin optimized.</p><p id="p-0067" num="0065">Some data factors for the order fulfillment system include inventory data and capacity data.</p><p id="p-0068" num="0066">Inventory Data: This is further divided into three categories:</p><p id="p-0069" num="0067">1. Perpetual: This represents how much inventory the company has at a certain location of some SKU (product, size, and color) exactly.</p><p id="p-0070" num="0068">2. Inventory Protection: This is the safety stock that the store would like to keep on its store floor and not expose to online customers.</p><p id="p-0071" num="0069">3. Availability: Total available quantity across the company network (DC+Stores)-Against which orders are taken online from the Web site. So, availability comes into picture when someone orders online, and the system after receiving that order checks how much is available and where, and it allocates that order to fulfill from a store.</p><p id="p-0072" num="0070">Capacity Data: This represents how many orders can a store take in a given day. This can be a rolling number). This can be a unit count not order count. Once capacity is full, then the entire store goes offline.</p><p id="p-0073" num="0071">Below is an example of an allocation flow by the order fulfillment system. A table B lists an order. A table C provides and abbreviated list of an inventory picture for the order in table B. A table D lists an allocation or fulfillment decision for two sample fulfillment plans.</p><p id="p-0074" num="0000"><tables id="TABLE-US-00002" num="00002"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="4"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="84pt" align="left"/><colspec colname="2" colwidth="42pt" align="left"/><colspec colname="3" colwidth="77pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="3" rowsep="1">TABLE B</entry></row><row><entry/><entry namest="offset" nameend="3" align="center" rowsep="1"/></row><row><entry/><entry>Item Name</entry><entry>Units</entry><entry>E-Commerce Price</entry></row><row><entry/><entry namest="offset" nameend="3" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>511 Men's Jeans</entry><entry>1</entry><entry>$48.65</entry></row><row><entry/><entry>314 Women's Jeans</entry><entry>1</entry><entry>$49.99</entry></row><row><entry/><entry namest="offset" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0075" num="0000"><tables id="TABLE-US-00003" num="00003"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="70pt" align="left"/><colspec colname="2" colwidth="84pt" align="left"/><colspec colname="3" colwidth="63pt" align="left"/><thead><row><entry namest="1" nameend="3" rowsep="1">TABLE C</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row><row><entry>Item Name</entry><entry>Facility Name</entry><entry>Quantity Available</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="70pt" align="left"/><colspec colname="2" colwidth="84pt" align="left"/><colspec colname="3" colwidth="63pt" align="char" char="."/><tbody valign="top"><row><entry>511 Men's Jeans</entry><entry>Seattle Premium Outlet Store</entry><entry>4.00</entry></row><row><entry>511 Men's Jeans</entry><entry>Milpitas Outlet Store</entry><entry>3.00</entry></row><row><entry>314 Women's Jeans</entry><entry>Laughlin Outlet Store</entry><entry>3.00</entry></row><row><entry>314 Women's Jeans</entry><entry>Seattle Premium Outlet Store</entry><entry>2.00</entry></row><row><entry>314 Women's Jeans</entry><entry>Henderson Distribution</entry><entry>24.00</entry></row><row><entry/><entry>Center</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0076" num="0000"><tables id="TABLE-US-00004" num="00004"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="35pt" align="left"/><colspec colname="2" colwidth="112pt" align="center"/><colspec colname="3" colwidth="70pt" align="center"/><thead><row><entry namest="1" nameend="3" rowsep="1">TABLE D</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row><row><entry/><entry/><entry>Order </entry></row><row><entry/><entry>Order Fulfillment </entry><entry>Fulfillment</entry></row><row><entry/><entry>Plan 1</entry><entry>Plan 2</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="4"><colspec colname="1" colwidth="35pt" align="left"/><colspec colname="2" colwidth="70pt" align="center"/><colspec colname="3" colwidth="42pt" align="center"/><colspec colname="4" colwidth="70pt" align="center"/><tbody valign="top"><row><entry>Facility</entry><entry>Milpitas </entry><entry>Henderson</entry><entry>Seattle </entry></row><row><entry/><entry>Outlet</entry><entry>Distribution </entry><entry>Premium</entry></row><row><entry/><entry>Store</entry><entry>Center</entry><entry>Outlet Store</entry></row><row><entry>Item Name</entry><entry>511 Men's</entry><entry>314 Women's </entry><entry>511 Men's</entry></row><row><entry/><entry>Jeans</entry><entry>Jeans</entry><entry>Jeans</entry></row><row><entry/><entry/><entry/><entry>314 Women's </entry></row><row><entry/><entry/><entry/><entry>Jeans</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="35pt" align="left"/><colspec colname="2" colwidth="112pt" align="char" char="."/><colspec colname="3" colwidth="70pt" align="char" char="."/><tbody valign="top"><row><entry>Number of</entry><entry>2</entry><entry>1</entry></row><row><entry>Shipments</entry><entry/><entry/></row><row><entry>Total Cost</entry><entry>$26.13</entry><entry>$11.69</entry></row><row><entry>Total Price</entry><entry>$98.64</entry><entry>$98.64</entry></row><row><entry>EBIT</entry><entry>$72.51</entry><entry>$86.95</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0077" num="0072">In table D, the EBIT for order fulfillment plan <b>1</b> is $72.51, while for order fulfillment plan <b>2</b> is $86.95. For the total cost, the order fulfillment system also uses shipping information (e.g., FedEx shipping rates) and pick and pack rates in order to optimize the results. Between these two plans, the order fulfillment system selects order fulfillment plan <b>2</b> over order fulfillment plan <b>1</b> since the EBIT is greater. Order fulfillment plan <b>1</b> has a higher total cost due higher shipping cost because the order has been split into two packages, instead of one. Thus, the order fulfillment system has fulfilled the order while increasing profitability.</p><p id="p-0078" num="0073"><figref idref="DRAWINGS">FIG. <b>5</b></figref> shows an implementation of an order fulfillment system having two stages. In a first stage, EBIT is optimized. In a second stage, split shipment is optimized.</p><p id="p-0079" num="0074">In the first stage, an order of a number of items, such as products A, B, C, and D, is received. Some products can include apparel including jeans, shirts, shorts, jackets, vests, and skirts, to obtain a faded, distressed, washed, or worn finish or appearance. These products can be made of denim, cotton, and blends of cotton and nylon or cotton and polyester.</p><p id="p-0080" num="0075">The order fulfillment system searches for stores (e.g., retail stores, stores <b>1</b>, <b>2</b>, <b>3</b>, to n and distribution centers (not shown)) with the highest EBIT. Retail stores have floor space for customers who shop at the store to see and try on the garments and other products being sold there. After the search, the order fulfillment system selects a subset of the stores with the highest EBIT. The order fulfillment system prioritizes stores where a product is at a risk of being markdown or being unproductive. For example, the subset of stores can be stores <b>1</b>, <b>5</b>, <b>7</b>, and <b>9</b>.</p><p id="p-0081" num="0076">After the first stage, the processing proceeds to the second stage. The second stage creates a map of stores and products they can fulfill. The order fulfillment system (e.g., data science technique) picks the best scenario in which minimizes splits and weighted EBIT (e.g., minimizes the splits while maximizing or increasing or improving a total EBIT of an order). For example, the second stage determines that products A, B, and C will be fulfilled by store <b>1</b>, while product D will be fulfilled by store <b>9</b>.</p><p id="p-0082" num="0077">This application describes some flows. It should be understood that the invention is not limited to the specific flows and steps presented. A flow of the invention may have additional steps (not necessarily described in this patent), different steps which replace some of the steps presented, fewer steps or a subset of the steps presented, or steps in a different order than presented, or any combination of these. Further, the steps in other implementations of the invention may not be exactly the same as the steps presented and may be modified or altered as appropriate for a particular application or based on the data or situation.</p><p id="p-0083" num="0078">This application describes some examples of implementations with specific values or times (e.g., number of units or weeks). These are not intended to be exhaustive or to limit the invention to the precise form described. These values can vary due to, for example, various factors. For example, the values can vary plus or minus 2 percent, plus or minus 5 percent, plus or minus 8 percent, plus or minus 10 percent, plus or minus 15 percent, or plus or minus 20 percent. Values can be greater (e.g., a lower bound) or lower than those described (e.g., an upper bound).</p><p id="p-0084" num="0079">The values are for a specific implementation, and other implementations can have different values, such as certain values made larger or smaller. The value may be made proportionally larger or smaller by adjusting values proportionally (e.g., maintaining the same or about the same ratio between different values). In various implementations, the values can be the same as the value given, about the same of the value given, at least or greater than the value given, or can be at most or less than the value given, or any combination of these.</p><p id="p-0085" num="0080"><figref idref="DRAWINGS">FIG. <b>6</b></figref> shows a flow diagram of a technique of an order fulfillment system. This flow is a two-stage implementation, where the EBIT forecast or optimization is a first stage, and a split optimization is a second stage.</p><p id="p-0086" num="0081">In the first stage of the flow, an order <b>604</b> is received. This order may contain several products and a different amount of units per product. In a block <b>608</b>, the flow chooses one facility form a facility dataset. Decision block <b>609</b> determines whether the facility has available capacity requirements to fulfill online orders from the facility. Decision block <b>610</b> determines whether the inventory the facility on hand meets inventory protection logic. <figref idref="DRAWINGS">FIG. <b>7</b></figref> and its accompanying discussion below provide more details of block <b>610</b>. A decision block <b>611</b> determines whether the facility can deliver the order completely. If yes, the flow proceeds to block <b>614</b> to calculate EBIT including future EBIT for that specific facility when serving that order. If no, the flow proceeds to block <b>616</b> to calculate a partial EBIT including future EBIT for that specific facility when serving that order. After blocks <b>614</b> and <b>616</b>, the flow proceeds to block <b>619</b>, which saves the EBIT for that facility and order in a storage location.</p><p id="p-0087" num="0082">In an implementation, the data for EBIT for each facility-ordered item combination is only kept for the purposes of allocation for that particular order. Once the allocation is performed, the system does not store the EBIT data for the items or facilities within the order.</p><p id="p-0088" num="0083">The flow proceeds to decision block <b>624</b> to determine whether there are more stores left to calculate an EBIT for. If yes, the flow proceeds in a loop back to block <b>608</b>. This loop repeats until all the facilities are considered in the calculations. If no, the flow proceeds to block <b>626</b> to filter out facilities with negative EBIT based on threshold. The flow proceeds to block <b>629</b>, deliver the facilities orders in descend mode based on EBIT (e.g., sorted from highest to lowest EBIT). Block <b>629</b> can access the storage <b>619</b> to get the order based on EBIT. From block <b>629</b>, the flow proceeds to the second stage of the flow.</p><p id="p-0089" num="0084">In the second stage of the flow, block <b>629</b> (from the first stage) proceeds to block <b>642</b>, proceed sequentially facility to facility from the EBIT-ordered facility dataset in descending order. The flow proceed to decision block <b>645</b> to determine whether the facility deliver the order completely. If yes, proceed to block <b>648</b> and deliver the order. If no, proceed to decision block <b>653</b> to determine which products the facility can deliver.</p><p id="p-0090" num="0085">The flow proceeds to decision block <b>655</b> to determine is the order is completed. If yes, the flow proceeds to block <b>648</b>. If no, the flow loops back to block <b>642</b> and continues to loop until the order is completed.</p><p id="p-0091" num="0086">In the split optimization, a weighting for each of the products within each of the facilities is based on the EBIT that can be obtained for each of them. The choice of facility is based on which facility or set of facilities can provide the highest EBIT for the order. This is carried out by an exponential decay function. A reason to split an order is when every item is not completely available in one facility.</p><p id="p-0092" num="0087">The EBIT value is computed for every item-facility combination can be thought of as being similar to a pivot table. In an implementation, this is accomplished through the constraints in the linear programming approach. An important constraint is that the stores which are picked have sufficient inventory to be able to successfully fulfill an order. The EBIT ordered list has facilities for which inventory (full or partial) are present for the items within the order. It is placed into a decay function.</p><p id="p-0093" num="0088"><figref idref="DRAWINGS">FIG. <b>7</b></figref> shows a flow diagram of a technique of inventory protection logic. This flow takes inventory data to forecast demand, and then sets inventory protection values for each facility based on current business product assortment goals and a dynamic inventory value calculation. This flow provides more detail of block <b>610</b> of <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0094" num="0089">In the inventory protection flow, for an order, a block <b>704</b> reads product code (e.g., PC13 code) and facility name. The order fulfillment system gathers the last 6 weeks of sales for the products at facilities in <b>708</b>, available inventory at facilities in <b>709</b>, and product attribute and assortment data in <b>710</b> (e.g., based on PC9 code). In block <b>711</b>, the order fulfillment system utilizes sales history and available inventory to forecast demand for the next n amount of weeks (e.g., n can be 4). Here, the order fulfillment system is able to account for situations where the facilities were out of stock in evaluating demand.</p><p id="p-0095" num="0090">From blocks <b>711</b> and <b>710</b>, the flow proceeds to a block <b>716</b> (merge all features). After merging all the features, products are evaluated for eligibility based on product features and current product assortment in block <b>719</b>. If product is ineligible or new assortment, product is given a high inventory protection value in block <b>724</b> to prevent orders utilizing that product inventory. Otherwise, a dynamic IP value calculation is done in block <b>726</b>, calculating the ratio between forecasted demand and historical demand as a coefficient to adjust inventory protection values to account for expected fluctuations in demand. This coefficient to set inventory protection values for products in block <b>729</b>. Blocks <b>724</b> and <b>729</b> are then able to arrive at inventory protection values for products at each facility in block <b>733</b>. In an implementation, blocks <b>704</b>, <b>708</b>, <b>709</b>, <b>711</b>, <b>716</b>, <b>719</b>, <b>724</b>, <b>726</b>, and <b>729</b> use PC9-type product codes, while block <b>710</b> uses PC13 codes.</p><p id="p-0096" num="0091">In an implementation, the inventory protection flow is a scheduled job that executes three times in a day. For example, the job may execute at 7 a.m., 1 p.m., and 7 p.m., or other schedule. This allows updating inventory protection value based on the sales and inventory data of the store. The inventory protection flow is used for retail store facilities and the like, and generally not for distribution centers. There can be any number of scheduled inventory checks, more than 3 or less than 3. In another implementation, the inventory protection flow is automatically triggered when an event occurs at a facility, such as a sale or a inventory change event.</p><p id="p-0097" num="0092">For a store, block <b>708</b> gathers 6 weeks of sales for a product at a facility. The number of weeks can be a value I, where I is an integer 1 or greater. For example, week 1 may have sales of 5, week 2 may have sales of 4, week 3 may have sales of 6, week 4 may have sales of 1, week 5 may have sales of 2, and week 6 may have sales of 2. An average value can be calculated, such as 3.3 for the above example.</p><p id="p-0098" num="0093">Block <b>709</b> gathers 6 weeks of inventory data for the product at the facility. The number of weeks can be a value J, where J is an integer 1 or greater. Typically, I and J are the same value. The inventory data gives inventory (e.g., number of units available for sale) after sales of the product (either at the store or online) and replenishment of the product. For example, week 1 may have an inventory of 10, week 2 may have an inventory of 7, week 3 may have an inventory of 2, week 4 may have an inventory of 7, week 5 may have an inventory of 7, and week 6 may have an inventory of 3. An average value can be calculated, such as 6 for the above example.</p><p id="p-0099" num="0094">Using the sales data <b>708</b> and inventory data <b>710</b>, block <b>711</b> determines a forecast of demand for the next K weeks (based on historical data), where K is an integer 1 or greater. In an implementation, K is 4, which is less than I and J. But in other implementations, K can be any integer value. K can be the same as I or J, or both. K can be less than I or J, or both. Or, K can be more than I or J, or both. For example, for each week of the 4 weeks, for the example, the sales can be 3.3 (or truncated value of 3 can be used) and inventory of 6 (or truncated value can be used if not an integer value), which are based on the average values.</p><p id="p-0100" num="0095">In an implementation, the flow through to block <b>711</b> can be used to find a calculated forecasted demand based on historical data, and this value is used as the inventory protection value or the inventory protection value is based on this forecasted demand value. So for same values given above, the inventory protection value can be set to 4, which would be 2 less than the calculated average value of 4. The inventory would still be more than the average sales of 3 per week for the next 4 weeks. So as long as the inventory remains 4 or above, then this store can be selected.</p><p id="p-0101" num="0096">In an implementation, there can also be a minimum inventory protection value, such as 1, 2, 3, or 4, or other value. When the calculated forecasted demand based on historical data from block <b>711</b> is below the minimum inventory protection value, then the minimum inventory protection value can be used instead. This minimum inventory protection value can be used to ensure a certain amount of inventory remains in the store, to satisfy retail orders. Also, this inventory protection value (e.g., minimum inventory protection value or inventory protection value from forecasted demand of block <b>710</b>) can be used to reduce the possibility of assigning an e-commerce or online order to a store and then during the time period before the order is fulfilled or picked by the store, that the inventory has already been sold at the store at retail.</p><p id="p-0102" num="0097">For the blocks <b>710</b>, <b>716</b>, and after, these handle making adjustments to the inventory protection value based on other factors, such as future expected future demand or the product being a new product. Block <b>710</b> gathers product attributes and assortment data for the product. Then block <b>716</b> merges or combines the forecasted demand (from block <b>711</b>) and product attributes and assortment data together.</p><p id="p-0103" num="0098">In block <b>710</b>, some attributes of a product might be when a product was first introduced and the type of product. These can be used to determine a new product. There can be types of products: Core products are those that are carried across multiple selling seasons (e.g., classic <b>501</b> jeans). Seasonal products are those that are carried perhaps for only a single season (e.g., winter or summer items). In a year, there might be two seasons, each 6 months in length, such as spring and summer, and fall and winter, or alternatively, winter and spring, and summer and fall.</p><p id="p-0104" num="0099">For the first X weeks (e.g., 6 weeks) after a seasonal product is introduced, it may be desirable to prevent that product from being taken from the retail stores and sold online. Block <b>719</b> determines if the product ineligible for sale through the online channel or is a new product. Then the inventory protection value is set to an arbitrarily high value (e.g., 10,000 or other value above what a store would have as inventory). That way, any online order would not be routed through that facility or store. And sales of the new seasonal item (e.g., for the first 6 weeks) would not be taken from the retail.</p><p id="p-0105" num="0100">However, if the product is not a new assortment or product or otherwise ineligible for sale through the online channel, the flow proceeds to block <b>726</b> and <b>729</b>. These calculate if these multiply the previously determined inventory protection value (forecasted demand based on historical data determined in block <b>711</b>) by a factor. For example, this factor can be a quantity expected next N weeks of demand divided by pass N weeks of demand.</p><p id="p-0106" num="0101">As an example, in the case of an upcoming Black Friday, this factor will likely be greater than 1. This adjustment factor is multiplied by the forecasted demand from 711 to obtain the inventory protection value. As an further example, in the case of Black Friday having past, this factor will be likely be less than 1. This adjustment factor is multiplied by the forecasted demand from 711 to obtain the inventory protection value.</p><p id="p-0107" num="0102">In an implementation, the inventory protection value is an integer. If the calculated value is a floating point number, then that number is rounded up to the next integer, or the floating point portion of the number is truncated (e.g., rounded down).</p><p id="p-0108" num="0103">A pivot table is a table of grouped values that aggregates the individual items of a more extensive table (e.g., a database, spreadsheet, or business intelligence program) within one or more discrete categories. This summary might include sums, averages, or other statistics, which the pivot table groups together using a chosen aggregation function applied to the grouped values. Pivot tables are a technique in data processing. They arrange and rearrange (or &#x201c;pivot&#x201d;) statistics in order to draw attention to useful information. This leads to finding figures and facts quickly making them integral to data analysis. This ultimately leads to helping businesses or individuals make educated decision.</p><p id="p-0109" num="0104">In an implementation, the search is greedy and not brute force, where the objective function (e.g., split minimization or EBIT maximization, or both) is optimized. A greedy algorithm is any algorithm that follows the problem-solving heuristic of making the locally optimal choice at each stage. In many problems, a greedy strategy does not produce an optimal solution, but, nonetheless, a greedy heuristic can yield locally optimal solutions that approximate a globally optimal solution in a reasonable amount of time.</p><p id="p-0110" num="0105"><figref idref="DRAWINGS">FIG. <b>8</b>A</figref> shows flow of a technique of EBIT forecast optimization. In the EBIT calculation flow, there are three portions, a price prediction flow <b>803</b>, a weeks on hand (WOH or WoH) or inventory flow <b>806</b>, and a cross-sell opportunity flow <b>809</b>. EBIT is calculated for every item present within the order. However, inventory is also a constraint. So the facilities which do not have inventory for an item are not considered for allocation for that particular item.</p><p id="p-0111" num="0106">In other words, price prediction flow <b>803</b> calculates EBIT based futures prices, which there is a discount off manufacturer's suggested retail price (MSRP). Weeks on hand flow <b>806</b> calculates adjustments to EBIT for unproductive products. Generally, as weeks on hand increases, this will lower the future EBIT value. As weeks on hand decreases, this will increase the future EBIT value. Cross-sell opportunity flow <b>809</b> decreases the future EBIT when there is a higher likelihood of a cross-sell opportunity in a store.</p><p id="p-0112" num="0107">In the price prediction flow, for an order, a block <b>812</b> reads a PC9 code and facility name. PC9 refers to a product code (e.g., a nine digit product code) or product identifier, each product code describing a different product model. For example, there can be the <b>511</b> jeans line in different sizes with one distressing pattern; this would be categorized under a first PC9 code. And there can be the <b>501</b> jeans line in different sizes with one distressing pattern; this would be categorized as a second PC9 code, different from the first PC9. Therefore, each PC9 code refers to a different product or product model.</p><p id="p-0113" num="0108">Also, the code may be a PC13 code (e.g., a thirteen digit product code), which describes the product model along with the size of the product (e.g., small, medium, large). The PC system is a way to uniquely identify a product. PC9 contains the fit, wear and wash information. While PC13 includes the size. As an example, a PC9 of 055100414 is an identification code for a <b>510</b> skinny fit men's jeans item, while a PC13 of 0551004143032 is an identification code for 510 skinny fit men's jeans with waist <b>30</b> and length <b>32</b>.</p><p id="p-0114" num="0109">From block <b>812</b>, the flow proceeds to a block <b>815</b> (find facility attributes), block <b>816</b> (find product attributes), and block <b>817</b> (get last week promo, mark down (MD) percentage, sales, and temp features). From block <b>817</b>, the flow proceeds to a block <b>819</b> (increase temporal features by adding weeks on hand (WOH)). From blocks <b>815</b>, <b>816</b>, and <b>819</b>, the flow proceeds to a block <b>822</b> (merge all features). After merging all the features, products are classified in to two separate categories; block <b>823</b> (special collection or carryover products, e.g., products which are going to be in next season with regular price) and block <b>824</b> (exiting products, e.g., products which will be ending at the end of current season). Carryover products receive fixed percentage of discounts chosen by business user as shown in block <b>825</b>. The flow proceeds to block <b>826</b> in which gradient boosting tree based machine learning technique is applied to predict future discount. Then the earnings forecast (future EBIT) is generated in a block <b>827</b>. Finally, the flow proceeds to block <b>828</b> where EBIT forecast value is increased considering cross-sell EBIT value.</p><p id="p-0115" num="0110">In inventory flow <b>806</b>, the flow proceeds from block <b>812</b> to a block <b>835</b> (get last 6 weeks sales for product, facility) and a block <b>837</b> (get inventory data for product, facility). From blocks <b>835</b> and <b>837</b>, the flow proceeds to a block <b>839</b> (calculate weeks on hand for product, facility). In a decision block <b>841</b>, the calculated weeks on hand can be greater than zero. This calculated weeks on hand value (e.g., greater than zero) is input to block <b>819</b>. As the weeks on hand increases, this is undesirable. So, the higher the weeks on hand, this will increase the predicted future discount and respectively future EBIT value. Then, there will be more of a likelihood that the facility with greater weeks on hand of inventory of an item will be selected for shipping to the customer. This would increase the overall profitability by shipping the item from facility with higher EBIT now compared reduced future EBIT.</p><p id="p-0116" num="0000"><tables id="TABLE-US-00005" num="00005"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="42pt" align="left"/><colspec colname="2" colwidth="49pt" align="center"/><colspec colname="3" colwidth="21pt" align="center"/><colspec colname="4" colwidth="35pt" align="center"/><colspec colname="5" colwidth="21pt" align="center"/><colspec colname="6" colwidth="35pt" align="center"/><thead><row><entry/><entry namest="offset" nameend="6" rowsep="1">TABLE E</entry></row><row><entry/><entry namest="offset" nameend="6" align="center" rowsep="1"/></row><row><entry/><entry/><entry>Present</entry><entry>Week </entry><entry>Week </entry><entry>Week </entry><entry>Week </entry></row><row><entry/><entry/><entry>Week</entry><entry>1</entry><entry>2</entry><entry>3</entry><entry>4</entry></row><row><entry/><entry namest="offset" nameend="6" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="7"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="42pt" align="left"/><colspec colname="2" colwidth="49pt" align="char" char="."/><colspec colname="3" colwidth="21pt" align="char" char="."/><colspec colname="4" colwidth="35pt" align="char" char="."/><colspec colname="5" colwidth="21pt" align="char" char="."/><colspec colname="6" colwidth="35pt" align="char" char="."/><tbody valign="top"><row><entry/><entry>Inventory</entry><entry>8</entry><entry>6</entry><entry>4</entry><entry>2</entry><entry>0</entry></row><row><entry/><entry>Average sales</entry><entry>2</entry><entry>2</entry><entry>2</entry><entry>2</entry><entry>2</entry></row><row><entry/><entry>Weeks on </entry><entry>4</entry><entry>3</entry><entry>2</entry><entry>1</entry><entry>0</entry></row><row><entry/><entry>Hand (WoH)</entry></row><row><entry/><entry namest="offset" nameend="6" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0117" num="0111">In table E, for a given product at a certain facility, block <b>837</b> (inventory data) will show current inventory at present week starting with 8 products. Block <b>835</b> obtains the last 6 seeks of sales for the product, calculating the average sales per week as 2 items per week. With a beginning product inventory of 8 items, and average sales per week as 2 items per week, block <b>839</b> calculates the weeks on hand as 4. Since the weeks on hand is greater than 0, block <b>841</b> passes on the value to block <b>819</b> as an input for future price predictions.</p><p id="p-0118" num="0112">In cross-sell opportunity flow <b>809</b>, block <b>815</b> proceeds to a block <b>852</b>, cross-selling achievable margin per channel (brick and mortar mainline and outlet, and ecommerce) for products on which promotions are or will be on applied. Blocks <b>815</b> and <b>816</b> input to a block <b>854</b>, get sales data for products which are or will be in promotions, per channel. From block <b>854</b>, the flow proceeds to a block <b>856</b>, where probability of cross selling is calculated. From blocks <b>852</b> and <b>856</b>, the flow proceeds to a block <b>858</b>, where cross-sell opportunity is quantified based on the cross-selling margin achievable by channel and probability of cross-selling per product per channel. Finally, a cross-sell EBIT value <b>860</b> is calculated based on cross-sell opportunity.</p><p id="p-0119" num="0113">A cross-sell opportunity when two or more items often sell together, such as a particular pair of jeans sells well with a particular shirt. For this situation, it would be better to keep those items in the retail store, so that the cross-sell opportunity continues to exist at that store&#x2014;since greater EBIT is possible with cross-selling. Finally, cross-sell EBIT value increase the forecasted (future) EBIT, and makes it less likely to ship from a facility where there is a greater cross-sell opportunity.</p><p id="p-0120" num="0114"><figref idref="DRAWINGS">FIG. <b>8</b>B</figref> shows an alternative flow of a technique of EBIT forecast optimization compared to <figref idref="DRAWINGS">FIG. <b>8</b>A</figref>. In this EBIT forecast flow, there are two portions, a price prediction flow <b>803</b> and a weeks on hand (WOH) or inventory flow <b>806</b>. The cross-sell opportunity flow <b>809</b> show in <figref idref="DRAWINGS">FIG. <b>8</b>A</figref> is not considered in this alternative flow. The alternative flow in <figref idref="DRAWINGS">FIG. <b>8</b>B</figref> may be considered where the complexity, effort, and/or resources required to implement cross-sell opportunity flow <b>809</b> in <figref idref="DRAWINGS">FIG. <b>8</b>A</figref> does not result in significant or tangible changes in the resulting EBIT forecast <b>828</b>.</p><p id="p-0121" num="0000"><tables id="TABLE-US-00006" num="00006"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="8"><colspec colname="1" colwidth="28pt" align="left"/><colspec colname="2" colwidth="21pt" align="center"/><colspec colname="3" colwidth="21pt" align="center"/><colspec colname="4" colwidth="28pt" align="center"/><colspec colname="5" colwidth="28pt" align="center"/><colspec colname="6" colwidth="35pt" align="center"/><colspec colname="7" colwidth="28pt" align="center"/><colspec colname="8" colwidth="28pt" align="center"/><thead><row><entry namest="1" nameend="8" rowsep="1">TABLE F</entry></row><row><entry namest="1" nameend="8" align="center" rowsep="1"/></row><row><entry/><entry/><entry>Orig-</entry><entry/><entry>EBIT</entry><entry>EBIT</entry><entry/><entry/></row><row><entry/><entry>RMO</entry><entry>inal</entry><entry/><entry>Forecast</entry><entry>Forecast</entry><entry>Costs</entry><entry>Costs</entry></row><row><entry/><entry>Fa-</entry><entry>Fa-</entry><entry>ECOM</entry><entry>(RMO</entry><entry>(Original</entry><entry>(RMO</entry><entry>(Original</entry></row><row><entry/><entry>cility</entry><entry>cility</entry><entry>Price</entry><entry>Facility)</entry><entry>Facility)</entry><entry>Facility)</entry><entry>Facility)</entry></row><row><entry namest="1" nameend="8" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>Product </entry><entry>812</entry><entry>810</entry><entry>$68.6</entry><entry>$88.20</entry><entry>$88.20</entry><entry>$6.71</entry><entry>$11.64</entry></row><row><entry>A</entry><entry/><entry/><entry/><entry/><entry/><entry/><entry/></row><row><entry>Product </entry><entry>133</entry><entry>810</entry><entry>$68.6</entry><entry>$24.50</entry><entry>$88.20</entry><entry>$6.71</entry><entry/></row><row><entry>B</entry></row><row><entry namest="1" nameend="8" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0122" num="0000"><tables id="TABLE-US-00007" num="00007"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="91pt" align="center"/><colspec colname="2" colwidth="35pt" align="center"/><colspec colname="3" colwidth="91pt" align="center"/><thead><row><entry namest="1" nameend="3" rowsep="1">TABLE G</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row><row><entry>RMO EBIT </entry><entry>Original </entry><entry>Incremental </entry></row><row><entry>Total</entry><entry>EBIT Total</entry><entry>EBIT</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>$123.78</entry><entry>$125.56</entry><entry>&#x2212;$1.78</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0123" num="0000"><tables id="TABLE-US-00008" num="00008"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="84pt" align="center"/><colspec colname="2" colwidth="49pt" align="center"/><colspec colname="3" colwidth="84pt" align="center"/><thead><row><entry namest="1" nameend="3" rowsep="1">TABLE H</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row><row><entry>RMO EBIT </entry><entry>Original EBIT </entry><entry>Incremental </entry></row><row><entry>Total +</entry><entry>Total + EBIT </entry><entry>EBIT Total +</entry></row><row><entry>EBIT Forecast </entry><entry>Forecast </entry><entry>EBIT Forecast </entry></row><row><entry>Price Arbitrage</entry><entry>Price Arbitrage</entry><entry>Price Arbitrage</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>$148.28</entry><entry>$86.28</entry><entry>$61.92</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0124" num="0115">Table F shows a price arbitrage opportunity identified as a result of EBIT forecast <b>828</b> generated in price prediction flow <b>803</b> in <figref idref="DRAWINGS">FIGS. <b>8</b>A and <b>8</b>B</figref>. A price arbitrage opportunity here compares the differences between the EBIT forecasted prices for the same product across two facilities, e.g., the differences in prices between predicted prices for the last units sold in two different facilities. For example, let's say product A and B in table F are ordered by a customer in a single order. The original order ships both products from facility <b>810</b>, for an ECOM price of $68.60 per unit, with a cost of $5.82 per unit, and an EBIT forecast of $88.20 per unit. Utilizing the EBIT forecast, the proposed order fulfillment plan (RMO) identifies a price arbitrage opportunity by allocating an order to facility <b>133</b>, where the last unit is predicted to be sold at a heavy discount.</p><p id="p-0125" num="0116">According to the order fulfillment plan, product A ships from facility <b>812</b> for the same ECOM price of $68.60, but with a marginally higher cost at $6.71, and an EBIT forecast of $88.20. The price arbitrage opportunity is utilized when looking at product B, which has the same ECOM price of $68.60, a marginally higher cost at $6.71, and a significantly lower EBIT forecast of $24.50. The order fulfillment system processes the difference between the EBIT forecast for product B between shipping from facility <b>133</b> and facility <b>810</b>. The order fulfillment system then identifies a price arbitrage opportunity of $63.70 by fulfilling the original order from facilities <b>133</b> and <b>812</b>, instead of fulfilling both orders from 810 as originally planned.</p><p id="p-0126" num="0117">Table G shows the comparison between the total EBIT profitability of the original order plan and the order fulfillment plan. The order fulfillment plan sells two items at an e-commerce (ECOM) or online price of $68.6, incurring total costs of $13.42, resulting in an EBIT of $123.78. The original order planned to sell 2 items at the same ECOM price of $68.6, incurring total costs of $11.64, resulting in an EBIT of $125.56. The order fulfillment plan incurs a higher cost and results in a decreased incremental EBIT at &#x2212;$1.78. The decreased incremental EBIT will be made up by the price arbitrage opportunity identified by the order fulfillment system.</p><p id="p-0127" num="0118">Table H shows the same total EBIT profitability shown in table G, with the addition of the price arbitrage opportunities identified by the EBIT forecasts. As presented in table F, the order fulfillment system looks at product A and predicts a decrease in price from selling now at an ECOM price of $68.60 instead of waiting to sell the same unit at a forecasted last unit sold price of $88.20, a loss of $19.6. However, for product B, the order fulfillment system identifies an increase in price from selling at an ECOM price of $68.60 instead of the forecasted last unit sold price of $24.50, an increase $44.10.</p><p id="p-0128" num="0119">These differences in prices totaled up in table H, resulting in a total EBIT plus price arbitrage value of $148.28 for the order fulfillment plan, and a total EBIT plus price arbitrage value of $86.36 for the original order plan. The difference between the two shows a gain of $61.92, the result of the increase in price arbitrage from switching orders at $63.70 minus the decreased incremental EBIT of &#x2212;$1.78 incurred from the additional costs to ship from facilities <b>133</b> and <b>812</b>. If the incremental EBIT plus price arbitrage value results in a positive value, the order fulfillment system will recommend to ship from the order fulfillment plan.</p><p id="p-0129" num="0120"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows a block diagram of manual business overrides of the order fulfillment system. For an inbound order, this is checked if an order type and state match an override situation. If so, override facilities are present. Then check if inventory is available at assigned facilities. If yes, the manual override will assign available items to assigned facilities in the order they appear.</p><p id="p-0130" num="0121">If the order type and state do not match an override situation. Then, check the inbound order if an order type only matches an override situation. If so, override facilities are present. Then check if inventory is available at assigned facilities. If yes, the manual override will assign available items to assigned facilities in the order they appear.</p><p id="p-0131" num="0122">If the order type only does not match an override situation. Then, check the inbound order if a state only matches an override situation. If so, override facilities are present. Then check if inventory is available at assigned facilities. If yes, the manual override will assign available items to assigned facilities in the order they appear.</p><p id="p-0132" num="0123">If the state only does not match an override situation. Then, check the inbound order if facility tiers match an override situation. If so, override facilities are present. Then check if inventory is available at assigned facilities. If yes, the manual override will assign available items to assigned facilities in the order they appear.</p><p id="p-0133" num="0124">If the facility tiers do not match an override situation, then proceed to check order fulfillment system (e.g., RMO) excluded facilities. Check if excluded facilities are present. If so, assign remaining unallocated items to RMO with excluded facilities removed.</p><p id="p-0134" num="0125">A table I provide an example of a schema of a manual override feature.</p><p id="p-0135" num="0000"><tables id="TABLE-US-00009" num="00009"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="56pt" align="left"/><colspec colname="2" colwidth="161pt" align="left"/><thead><row><entry namest="1" nameend="2" rowsep="1">TABLE I</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>&#x2003;</entry><entry>{ &#x201c;order_type_and_state&#x201d;: {</entry></row><row><entry/><entry>&#x201c;OT_Ecomm&#x201d;: { &#x201c;AZ&#x201d;: [&#x201c;810&#x201d;]}</entry></row><row><entry/><entry>}.</entry></row><row><entry/><entry>&#x201c;order_type&#x201d;: {</entry></row><row><entry/><entry>&#x201c;OT_DEG&#x201d;: [&#x201c;410&#x201d;],</entry></row><row><entry/><entry>}.</entry></row><row><entry/><entry>&#x201c;state&#x201d;: {</entry></row><row><entry/><entry>&#x201c;NJ&#x201d;: [&#x201c;810&#x201d;, &#x201c;811&#x201d;],</entry></row><row><entry/><entry>}.</entry></row><row><entry/><entry>&#x201c;facility_tiers&#x201d;: {</entry></row><row><entry/><entry>&#x201c;tier_1&#x201d;: [&#x201c;141&#x201d;],</entry></row><row><entry/><entry>&#x201c;tier_2&#x201d;: [&#x201c;125&#x201d;]</entry></row><row><entry/><entry>}.</entry></row><row><entry/><entry>&#x201c;rmo_excluded_facilities&#x201d; : [&#x201c;820&#x201d;]</entry></row><row><entry/><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0136" num="0126">In a schema, each outer key will be checked sequentially to see if an override is present, if so:</p><p id="p-0137" num="0127">1. Check if any of the nested keys are present in the category specified for &#x201c;order type and state,&#x201d; &#x201c;state,&#x201d; and &#x201c;order type,&#x201d; (for e.g. checking if the order type from the input JSON matches any of the keys specified as a manual override for order type).</p><p id="p-0138" num="0128">2. If there is a match, then there is allocation performed for all items within the order which can be fulfilled from the facilities specified prioritized in order they appear in override. For state &#x201c;810&#x201d; is checked first before &#x201c;811.&#x201d;</p><p id="p-0139" num="0129">3. The remaining items which cannot be fulfilled after looking at all possible applicable overrides will be routed to the system's margin optimization, excluding consideration of any facilities indicated in &#x201c;rmo excluded facilities.&#x201d;</p><p id="p-0140" num="0130">4. This is kept as a config file within an S<b>3</b> bucket, such as an overrides.json file.</p><p id="p-0141" num="0131">As part of the EBIT forecast calculation, an unproductive products technique can be used. A goal is to identify where a product is selling slower relative to other locations in order to prioritize selling and clear costly inventory gluts. The unproductive products technique can be used by the order fulfillment system.</p><p id="p-0142" num="0132">In an implementation, the technique derives average weekly sales for past 6 weeks and current available inventory derive an expected weeks on hand value as a proxy for how long that item will take to sell through. The weeks on hand (WOH or WoH)=(Current Available Inventory) divided by (Average Weekly Sellout for the past 6 weeks). In other implementations, the number of weeks can be any value w, greater than 6 or less than 6, such as 1, 2, 3, 4, 5, 7, 8, 9, 10, 11, or 12, or greater than 12.</p><p id="p-0143" num="0133">In a further implementation, there is improved current available inventory (leveraging in-transit inventory) and forecasted sellout (leveraging factors beyond past 6 weeks of sales) to arrive at an expected weeks on hand. For example, the WOH=(Current Available Inventory+In Transit Inventory) divided by (Forecasted Weekly Sellout considering promo calendar, historical sales, and so forth).</p><p id="p-0144" num="0134">As discussed, the EBIT or margin forecast calculation takes into consideration unproductive products. For example, unproductive products technique can compute where a product (e.g., PC9) is most &#x201c;unproductive&#x201d; and recommend a facility to fulfill from in an effort to optimize inventory levels.</p><p id="p-0145" num="0135">A product will be deemed unproductive if:</p><p id="p-0146" num="0136">1. Product in that store is not expected to clear through inventory in the next 15 weeks. For example, expected WOH is greater than 15 weeks is the lower bound.</p><p id="p-0147" num="0137">2. Expected WOH in that store is greater than distribution center's expected WOH (combined).</p><p id="p-0148" num="0138">3. Expected WOH in that store is greater than or equal to the seventy-fifth percentile of WOH for that product, e.g., PC9, (seventy-fifth percentile calculated on product (PC9) plus Stores where Average. Weekly Units greater than 0, before applying 15 week lower bound).</p><p id="p-0149" num="0139">Other considerations for unproductive products include:</p><p id="p-0150" num="0140">Unproductive products exclude markdown products, such as any products where current price is $X.98.</p><p id="p-0151" num="0141">Expected Weeks on Hand=(Current Available Inventory)/(Average Sellout Units for past 6 weeks).</p><p id="p-0152" num="0142">Calculated through end of prior fiscal week to protect from incomplete week's sales data skewing denominator</p><p id="p-0153" num="0143">All tier_id=142 (SFS Elligible) stores considered.</p><p id="p-0154" num="0144">Using past 6 weeks data (date range can be adjusted dynamically).</p><p id="p-0155" num="0145">Excluding instances where current available inventory is under 10 units. For example, in early August, twenty-fifth percentile across dataset was 12 units.</p><p id="p-0156" num="0146">Instances where Avg Weekly Units Sold=0 have their expected weeks on hand or WOH set to 99 weeks. If product has inventory but has not sold over the past 6 weeks, unable to calculate velocity so setting WOH as 99 weeks.</p><p id="p-0157" num="0147">Instances where Avg Weekly Units Sold=0 and available inventory less than 15 units have expected WOH adjusted from 99 weeks to 1 week (to avoid low inventory products skewing average WOH to 99).</p><p id="p-0158" num="0148">In a specific implementation, the order fulfillment system and flow is implemented as a linear program. Linear programming can be considered a subcategory of machine learning (ML). Linear programming (LP, also called linear optimization) is a method to achieve the best outcome (such as maximum profit or lowest cost) in a mathematical model whose requirements are represented by linear relationships. Linear programming is a special case of mathematical programming (also known as mathematical optimization).</p><p id="p-0159" num="0149">More formally, linear programming is a technique for the optimization of a linear objective function, subject to linear equality and linear inequality constraints. Its feasible region is a convex polytope, which is a set defined as the intersection of finitely many half spaces, each of which is defined by a linear inequality. Its objective function is a real-valued affine (linear) function defined on this polyhedron. A linear programming algorithm finds a point in the polytope where this function has the smallest (or largest) value if such a point exists.</p><p id="p-0160" num="0150">A linear program is used to maximize EBIT and minimize split shipments. EBIT can be expressed as EBIT(product)=[units(product)*price(product)]-(shipping cost+labor cost+pick-and-pack cost). Additional constraints can include one or more or a combination of the following: (i) Prioritize store for allocation if there is a markdown or near markdown event in store and it offers better EBIT now. (ii) Prioritize store for allocation (e.g., discount or promotion) if there is the product is unproductive within store and offers better EBIT now. (iii) Inventory available is above a store's inventory protection value.</p><p id="p-0161" num="0151">The linear program can also be split into two stages, a first stage to maximize EBIT and a second stage to minimize split shipments. To maximize EBIT, see section <b>1</b> of the appendix for details. To minimize splits, see section <b>2</b> of the appendix for details.</p><p id="p-0162" num="0152">The flows may reflect a sequence of operations. As for the mathematical operations, these operations may take place simultaneously or in parallel. In the linear programming, the optimization (e.g., maximization or minimization, or combination) of the objective function to maximize EBIT and minimize splits while also considering constraints occurs at the same time. This is why using a linear program as an optimization approach for order fulfillment is an effective technique.</p><p id="p-0163" num="0153">Linear programming is used to ensure that the objective function&#x2014;minimizing splits and maximizing EBIT is performed. This optimization excels at ensuring that all the possibilities are considered, and the best possible choice is picked. Linear programming is used to minimize splits by casting the set cover problem in mathematics (minimum number of subsets needed to cover a set) as an objective function where we look to minimize the number of stores needed to fulfill an order with a set of constraints around inventory and capacity. The system also weights the minimization of splits by EBIT to ensure that the system will pick the highest EBIT facility. Both the stores and distribution centers are considered fair candidates for allocation. The choice of stores or distribution center will be based on if the system is reducing splits or increasing EBIT, not on their status as a store or distribution center.</p><p id="p-0164" num="0154">In an implementation, the order fulfillment system is deployed using a computing package known as Fargate, which is a compute engine available through Amazon Web Services (AWS). AWS Fargate is a serverless (cloud based) compute engine for containers that works with both Amazon Elastic Container Service (ECS) and Amazon Elastic Kubernetes Service (EKS).</p><p id="p-0165" num="0155">Fargate allocates the right amount of compute, eliminating the need to choose instances and scale cluster capacity. Fargate only charges for the resources required to run containers, so there is no over-provisioning and paying for additional servers. Fargate runs each task or pod in its own kernel providing the tasks and pods their own isolated compute environment. This enables your application to have workload isolation and improved security by design.</p><p id="p-0166" num="0156">Some features of the order fulfillment system include: Ability for business to add configurable rules to override logic for specific use cases. Prioritize specific facilities, exclude specific items from consideration, and others. Real time inventory. Enables higher order volume, lessens dependency on inventory protection logic. Reporting handoff. Improved unproductive inventory logic. Consolidation of two-stage optimization approach. Automated unit testing and jobs code restructure. Forecast Margin or EBIT into the future. Cross-functional effort as it impacts multiple projects. Incorporation of selling products in ecommerce which have been (or will be) on markdown (e.g., promotion) within stores into algorithm logic. Prioritize clearing inventory that will otherwise be sold at a lower price point. Enable company to measure how an allocation will impact the bottom line beyond our current implementation. Focus on long term or short term metrics (cross-functional as well). Transfer costs, EBIT realized through selling inventory that would otherwise be sold on markdown. Inventory protection logic improvements.</p><p id="p-0167" num="0157">Further features include: Micro assortment&#x2014;pass insights on inventory gluts that we observe and transfers. Replenishment Model&#x2014;help prioritize the right products. Omni Channel Markdown Tool&#x2014;price of products and when products will go to markdown, and unproductive products.</p><p id="p-0168" num="0158">The order fulfillment system or ship from store system is about shipping an item from the store if the item is out of stock from the distribution center (DC). For example, a company has two distribution centers and about 300 physical retail stores in the United States from which to fulfill orders. So when an online order gets placed on the Web site, the order fulfillment system is responsible to determine from where current order needs to be fulfilled, e.g., from distribution center or from stores. Distribution centers differ from retail stores because they are typically not retail facilities. Rather they are warehouse that house inventory. The inventory at the retail stores is replaced from the distribution center. Also online orders can be fulfilled via the distribution store. Typically the amount of inventory at a distribution center is much larger than at a retail store, since distribution are much larger than retail stores (e.g., distribution has much more square footage of storage than a retail store).</p><p id="p-0169" num="0159">In various implementations, the capacity indicates a number of orders that a retail store can handle in a day. The capacity of a retail store can be reduced by 1 when the first retail store is selected as part of an order fulfillment plan. A retail store in the first subset will not become part of the second subset when an inventory of the retail store is less than an inventory protection value of the retail store. A method can include calculating an inventory protection value based on an inventory protection logic comprising determining a forecasted unit demand based on sales at the retail store for a past period and inventory data at the store for the past period, where the sales includes retail sales at the store and online sales, and assigning the forecasted unit demand as the inventory protection value.</p><p id="p-0170" num="0160">The inventory at a retail store can be reduced by sales of products at the store and through online sales and fulfillment. A method can include: determining an item in the order is designated as a new product, and assigning the inventory protection value to be a high value that is higher than a inventory of the product available at any of the retail stores, thereby preventing that product from being fulfilled through any retail store. A method can include: determining first component of the inventory protection value including a forecasted unit demand based on sales at the retail store for a past period and inventory data at the store for the past period, where the sales includes retail sales at the store and online sales; determining second component of the inventory protection value comprising predicted future sales data; and obtaining the inventory protection value by multiplying the first component and second component (e.g., product of the first component and second component).</p><p id="p-0171" num="0161">In various implementations, the second location of the second retail store is physically closer to the fourth location of the customer than is the first location of the first retail store is to the fourth location of the customer. A first shipping cost to ship the first product from the first retail store is greater than a second shipping cost to ship the first product from the second retail store. The making a determination of whether the first retail store or second retail store will be used to fulfill the request for the first product or the online order includes a first stage of determining an earnings before income and taxes for the first retail store and the second retail store, and a second stage optimizing a split of fulfilling the online order using two packages.</p><p id="p-0172" num="0162">The determining the first cost is less than the second cost, and creating a fulfillment plan where a first package will include the first product from the first retail store, and the first package will be sent to the customer to fulfill the online order is replaced by assigning a first inventory protection value to the first retail store for the first product; assigning a second inventory protection value to the second retail store for the first product; using the first inventory protection value, determining whether the first retail store has sufficient inventory to fulfill the request for the first product of the online order; and using the second inventory protection value, determining whether the second retail store has sufficient inventory to fulfill the request for the first product of the online order.</p><p id="p-0173" num="0163">If the first product is determined to be a new product, then assigning a max value to the first inventory protection value and the second inventory protection value. Then, the request first product of the online order will not be fulfilled through the first and second retail stores, thereby reserving the first product to retail customers of the first and second retail stores. The first inventory protection value includes a first component based on historical sales and inventory data of the first store. The first inventory protection value includes a second component based on future sales data for the first product, and the second component is multiplied with the first component (e.g., product of the first and second components).</p><p id="p-0174" num="0164">The system including: a first inventory protection value, assigned to the first retail store, where the first inventory protection value is includes a forecasted demand calculated based on sales of the first product at the first retail store for a previous period and inventory data for the first product at the first retail store for the previous period. The first inventory protection value is adjusted based on a first attribute of the first product, and when the first attribute includes that the product is a new, the previously calculated first inventory protection value is replaced with a replacement inventory protection value that is greater than the first inventory protection value.</p><p id="p-0175" num="0165">The first inventory protection value is adjusted based on an expected future demand factor, and the previously calculated first inventory protection value is multiplied by future demand factor to obtain a second inventory protection value. The second inventory protection value can be greater than the first inventory protection value (e.g., Black Friday is coming up). The second inventory protection value can be less than the first inventory protection value (e.g., Black Friday has passed).</p><p id="p-0176" num="0166">This description of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form described, and many modifications and variations are possible in light of the teaching above. The embodiments were chosen and described in order to best explain the principles of the invention and its practical applications. This description will enable others skilled in the art to best utilize and practice the invention in various embodiments and with various modifications as are suited to a particular use. The scope of the invention is defined by the following claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>The invention claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method comprising:<claim-text>receiving an order online created by a customer at an order fulfillment server, wherein the order can be fulfilled by shipment of two or more package from a plurality of retail stores or a distribution center, or a combination;</claim-text><claim-text>generating an order fulfillment plan by</claim-text><claim-text>determining a first subset of retail stores that have a capacity to fulfill the order,</claim-text><claim-text>of the first subset, determining a second subset of retail stores which can fulfill an order based an inventory of the retail store and an inventory protection value for the retail store,</claim-text><claim-text>determining that to fulfill the order, the order will be split among the second subset of retail stores and distribution center,</claim-text><claim-text>for each retail store of the second subset, calculating an earnings before income and taxes (EBIT) for each item in the order;</claim-text><claim-text>selecting one or more retail store to fulfill the order to increase earnings before income and taxes while at the same time reducing shipping costs due to splitting the order into two or more packages; and</claim-text><claim-text>based on the order fulfillment plan, shipping items in the order to the customer in multiple packages, wherein at least one of a first package is from a first retail store of the retails stores and a second package is from the distribution center, or a third package is from the first retail store and a fourth package is from a second retail store.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the capacity indicates a number of orders that a retail store can handle in a day,<claim-text>reducing the capacity of the first retail store by 1 when the first retail store is selected as part of an order fulfillment plan.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein a retail store in the first subset will not become part of the second subset when an inventory of the retail store is less than an inventory protection value of the retail store.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> comprising:<claim-text>calculating an inventory protection value based on an inventory protection logic comprising</claim-text><claim-text>determining a forecasted unit demand based on sales at the retail store for a past period and inventory data at the store for the past period, wherein the sales includes retail sales at the store and online sales, and</claim-text><claim-text>assigning the forecasted unit demand as the inventory protection value.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the inventory at a retail store can be reduced by sales of products at the store and through online sales and fulfillment.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> comprising:<claim-text>calculating an inventory protection value based on an inventory protection logic comprising</claim-text><claim-text>determining an item in the order is designated as a new product, and</claim-text><claim-text>assigning the inventory protection value to be a high value that is higher than a inventory of the product available at any of the retail stores, thereby preventing that product from being fulfilled through any retail store.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> comprising:<claim-text>calculating an inventory protection value based on an inventory protection logic comprising</claim-text><claim-text>determining first component of the inventory protection value comprising a forecasted unit demand based on sales at the retail store for a past period and inventory data at the store for the past period, wherein the sales includes retail sales at the store and online sales,</claim-text><claim-text>determining second component of the inventory protection value comprising predicted future sales data,</claim-text><claim-text>using as the inventory protection value a product of the first component and second component.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. A method comprising:<claim-text>providing a first pair of jeans, wherein the first pair of jeans comprises a first product;</claim-text><claim-text>providing a second pair of jeans, wherein the second pair of jeans comprises a first product;</claim-text><claim-text>providing a third pair of jeans, wherein the third pair of jeans comprises a second product;</claim-text><claim-text>providing a first retail store at a first location, wherein the first retail store comprises floor space designated for displaying products and selling product directly to customers who shop at the first retail store;</claim-text><claim-text>providing a second retail store at a second location, wherein the second retail store comprises floor space designated for displaying products and selling products directly to customers who shop at the second retail store, and the second location is different from the first location;</claim-text><claim-text>providing a distribution center a third location, wherein the distribution center stores products to be shipped to retail stores to replenish inventory at the retail stores and to fulfill online orders, an online order is an order that is created online, and the third location is different from the first and second locations;</claim-text><claim-text>receiving an online order at an order fulfillment server comprising a request for the first product and a request for the second product, wherein the online order was created by a customer at a fourth location, and the fourth location is different from the first, second, and third locations;</claim-text><claim-text>at the order fulfillment server, making a determination of whether the first retail store or second retail store will be used to fulfill the request for the first product of the online order, and that the distribution center will be used to fulfill the request for the second product;</claim-text><claim-text>determining a first cost by performing a first cost calculation of fulfilling the request for the first product of the online order via the first retail store, wherein the first cost is based on a future earnings before income and taxes and a determination is made that the first product will be sold at a discount at a time period in the future;</claim-text><claim-text>determining a second cost performing a second cost calculation of fulfilling the request for the first product of the online order via the first retail store, the second cost is based on a future earnings before income and taxes and a determination is made that the first product will not be sold at a discount in the time period in the future;</claim-text><claim-text>determining the first cost is less than the second cost, and creating a fulfillment plan where a first package will include the first product from the first retail store, and the first package will be sent to the customer to fulfill the online order, and</claim-text><claim-text>a second package will include the second product from the distribution center, the second package is separate from the first package, and the second package will be sent to the customer to fulfill the online order.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein the second location of the second retail store is physically closer to the fourth location of the customer than is the first location of the first retail store is to the fourth location of the customer.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein a first shipping cost to ship the first product from the first retail store is greater than a second shipping cost to ship the first product from the second retail store.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein the making a determination of whether the first retail store or second retail store will be used to fulfill the request for the first product or the online order comprises a first stage of determining an earnings before income and taxes for the first retail store and the second retail store, and a second stage optimizing a split of fulfilling the online order using two packages.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref> the determining the first cost is less than the second cost, and creating a fulfillment plan where a first package will include the first product from the first retail store, and the first package will be sent to the customer to fulfill the online order is replaced by<claim-text>assigning a first inventory protection value to the first retail store for the first product;</claim-text><claim-text>assigning a second inventory protection value to the second retail store for the first product;</claim-text><claim-text>using the first inventory protection value, determining whether the first retail store has sufficient inventory to fulfill the request for the first product of the online order; and</claim-text><claim-text>using the second inventory protection value, determining whether the second retail store has sufficient inventory to fulfill the request for the first product of the online order.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein if the first product is determined to be a new product, then assigning a max value to the first inventory protection value and the second inventory protection value, and<claim-text>the request first product of the online order will not be fulfilled through the first and second retail stores, thereby reserving the first product to retail customers of the first and second retail stores.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the first inventory protection value comprises a first component based on historical sales and inventory data of the first store.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref> wherein the first inventory protection value comprises a second component based on future sales data for the first product, and the first inventory protection value comprises a product of the first and second components.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. A system comprising:<claim-text>a plurality of facilities available to fulfill an order comprising</claim-text><claim-text>a first retail store comprising a first inventory of a first product and no inventory of a second product,</claim-text><claim-text>a second retail store comprising a second inventory of the first product and no inventory or the second product, and</claim-text><claim-text>a first distribution center comprising no inventory of the first product and a first inventory of a second product;</claim-text><claim-text>an order fulfillment server, receiving an first order from online, wherein the first order comprises a first quantity of the first product and a second quantity of the second product, and the first order is to be fulfilled by splitting the first order across two or more facilities,</claim-text><claim-text>the order fulfillment server calculates a first earnings before income and taxes (EBIT) for fulfilling the first product through the first retail store,</claim-text><claim-text>the order fulfillment server calculates a second earnings before income and taxes (EBIT) for fulfilling the first product through the second retail store, wherein the first EBIT is greater than the second EBIT, and</claim-text><claim-text>the order fulfillment server fulfills the first order by routing the second quantity of the second product to the first distribution center and due to the first EBIT being greater than the second EBIT, and routing the first quantity of the first product to the first retail store instead of the second retail store.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref> comprising:<claim-text>a first inventory protection value, assigned to the first retail store, wherein the first inventory protection value is comprises a forecasted demand calculated based on sales of the first product at the first retail store for a previous period and inventory data for the first product at the first retail store for the previous period.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref> wherein the first inventory protection value is adjusted based on a first attribute of the first product, and when the first attribute comprises that the product is a new, the previously calculated first inventory protection value is replaced with a replacement inventory protection value that is greater than the first inventory protection value.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref> wherein the first inventory protection value is adjusted based on an expected future demand factor, and the previously calculated first inventory protection value is multiplied by future demand factor to obtain a second inventory protection value.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The system of <claim-ref idref="CLM-00019">claim 19</claim-ref> wherein the second inventory protection value is greater than the first inventory protection value.</claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. The system of <claim-ref idref="CLM-00019">claim 19</claim-ref> wherein the second inventory protection value is less than the first inventory protection value.</claim-text></claim></claims></us-patent-application>