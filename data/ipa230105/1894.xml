<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230001895A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230001895</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17849205</doc-number><date>20220624</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2021-111810</doc-number><date>20210705</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>60</class><subclass>T</subclass><main-group>8</main-group><subgroup>172</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>60</class><subclass>T</subclass><main-group>8</main-group><subgroup>32</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>T</subclass><main-group>8</main-group><subgroup>172</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>T</subclass><main-group>8</main-group><subgroup>32</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>T</subclass><main-group>2220</main-group><subgroup>04</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">DRIVING ASSISTANCE DEVICE FOR VEHICLE</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>SUBARU CORPORATION</orgname><address><city>Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>HAYASHI</last-name><first-name>Toshihiro</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>KOIKE</last-name><first-name>Daiki</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>INNAMI</last-name><first-name>Yuya</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>MINAKAWA</last-name><first-name>Masatoshi</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>FUKUHARA</last-name><first-name>Ryo</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A driving assistance device for a vehicle includes a traveling environment recognizer, a braking force learner, and a braking force complementer. The traveling environment recognizer is configured to recognize traveling environment information related to an outside of the vehicle. The braking force learner is configured to, in a case where a driver who drives the vehicle has started a brake operation against a braking target recognized ahead based on the traveling environment information before a timing set based on a correlation between the vehicle and the braking target, acquire a braking force characteristic learning value based on a braking force generated from start to end of braking performed by the brake operation. The braking force complementer is configured to, in a case where the driver has started the brake operation after the set timing, complement the braking force based on the braking force characteristic learning value.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="33.36mm" wi="158.75mm" file="US20230001895A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="229.19mm" wi="155.28mm" orientation="landscape" file="US20230001895A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="215.56mm" wi="155.45mm" file="US20230001895A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="197.61mm" wi="139.53mm" file="US20230001895A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="231.56mm" wi="116.08mm" file="US20230001895A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="233.00mm" wi="129.46mm" file="US20230001895A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="216.07mm" wi="147.74mm" file="US20230001895A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="229.28mm" wi="74.51mm" orientation="landscape" file="US20230001895A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="229.87mm" wi="75.01mm" orientation="landscape" file="US20230001895A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="225.55mm" wi="146.73mm" orientation="landscape" file="US20230001895A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="228.94mm" wi="146.73mm" orientation="landscape" file="US20230001895A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">The present application claims priority from Japanese Patent Application No. 2021-111810 filed on Jul. 5, 2021, the entire contents of which are hereby incorporated by reference.</p><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0003" num="0002">The disclosure relates to a driving assistance device that can perform braking control for a vehicle against an obstacle such as a preceding vehicle.</p><p id="p-0004" num="0003">In the field of vehicles such as automobiles, driving assistance devices that assist driving operations of drivers have been put into practical use to reduce loads on the driving operations of the drivers and improve safety. In this type of driving assistance device, driving modes include, for example, a manual driving mode in which steering, acceleration, and deceleration are performed in response to a voluntary driving operation of a driver, a driving assistance mode in which steering assistance control and acceleration/deceleration control are performed under the precondition that the driver voluntarily performs the driving operation, and a driving assistance mode in which the vehicle travels without the driving operation of the driver (so-called autonomous driving mode).</p><p id="p-0005" num="0004">The driving assistance control in each driving assistance mode is basically achieved by an adaptive cruise control (ACC) function and an active lane keep centering (ALKC) function. With this driving assistance control, the vehicle can automatically travel along a traveling lane while keeping a distance from a preceding vehicle.</p><p id="p-0006" num="0005">As a technology related to active safety of the driving assistance device, the following technology is put into practical use. When an obstacle such as a vehicle or a pedestrian is recognized ahead of a target vehicle in each driving mode so that an emergency stop is expected, autonomous emergency braking (AEB: collision damage reduction braking) control is performed against the obstacle as interrupt control to perform deceleration so that the relative speed between the target vehicle and the obstacle reaches zero.</p><p id="p-0007" num="0006">As a technology related to braking control for prompting the driver to drive safely in a stage prior to the active safety, Japanese Unexamined Patent Application Publication (JP-A) No. 2014-109989 discloses the following technology as an example. A braking start TTC is recorded for each driver based on information input from a driver identifier, a vehicle traveling information acquirer, and a TTC calculator. A default TTC is calculated by learning for each driver based on the recorded braking start TTC.</p><p id="p-0008" num="0007">Vehicle control (braking control) is started by operating a vehicle controller based on a control start TTC determined based on the default TTC.</p><heading id="h-0003" level="1">SUMMARY</heading><p id="p-0009" num="0008">An aspect of the disclosure provides a driving assistance device for a vehicle. The driving assistance device includes a traveling environment recognizer, a braking force learner, and a braking force complementer. The traveling environment recognizer is configured to recognize traveling environment information related to an outside of the vehicle. The braking force learner is configured to, in a case where a driver who drives the vehicle has started a brake operation against a braking target recognized ahead based on the traveling environment information before a timing set based on a correlation between the vehicle and the braking target, acquire a braking force characteristic learning value based on a braking force generated from start to end of braking performed by the brake operation. The braking force complementer is configured to, in a case where the driver has started the brake operation after the set timing, complement the braking force generated based on the braking force characteristic learning value.</p><p id="p-0010" num="0009">An aspect of the disclosure provides a driving assistance device for a vehicle. The driving assistance device includes circuitry. The circuitry is configured to recognize traveling environment information related to an outside of the vehicle. The circuitry is configured to, in a case where a driver who drives the vehicle has started a brake operation against a braking target recognized ahead based on the traveling environment information before a timing set based on a correlation between the vehicle and the braking target, acquire a braking force characteristic learning value based on a braking force generated from start to end of braking performed by the brake operation. The circuitry is configured to, in a case where the driver has started the brake operation after the set timing, complement the braking force based on the braking force characteristic learning value.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0011" num="0010">The accompanying drawings are included to provide a further understanding of the disclosure and are incorporated in and constitute a part of this specification. The drawings illustrate an example embodiment and, together with the specification, serve to describe the principles of the disclosure.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is an overall configuration diagram of a driving assistance device according to an embodiment of the disclosure;</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is an explanatory diagram illustrating monitoring areas of a stereo camera, a radar, and a sonar;</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart illustrating an emergency braking control routine;</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a flowchart illustrating a learning routine for brake fluid pressure characteristics on a driver's brake operation;</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flowchart illustrating a braking force assisting control routine;</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart illustrating a brake fluid pressure control subroutine;</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is an explanatory diagram illustrating behavior of a vehicle during learning of the brake fluid pressure characteristics;</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is an explanatory diagram illustrating behavior of the vehicle during braking force assisting control;</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a characteristic diagram illustrating brake fluid pressures, an ideal brake fluid pressure, and a brake fluid pressure learning value; and</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a characteristic diagram illustrating the brake fluid pressures, the ideal brake fluid pressure, and the brake fluid pressure learning value.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION</heading><p id="p-0022" num="0021">In a case where the technology disclosed in JP-A No. 2014-109989 is applied during the manual driving mode, there is a possibility that the braking is started at an unexpected timing for the driver and the driver has discomfort.</p><p id="p-0023" num="0022">In a case where the timing to depress a brake pedal is late during the manual driving mode, for example, because the driver is inattentive, there is a possibility that the braking force is insufficient and unexpected emergency braking control occurs.</p><p id="p-0024" num="0023">It is desirable to provide a driving assistance device that can generate an appropriate braking force for a vehicle in a case where the timing to depress a brake pedal by a driver is late during a manual driving mode.</p><p id="p-0025" num="0024">In the following, an embodiment of the disclosure is described in detail with reference to the accompanying drawings. Note that the following description is directed to an illustrative example of the disclosure and not to be construed as limiting to the disclosure. Factors including, without limitation, numerical values, shapes, materials, components, positions of the components, and how the components are coupled to each other are illustrative only and not to be construed as limiting to the disclosure. Further, elements in the following example embodiment which are not recited in a most-generic independent claim of the disclosure are optional and may be provided on an as-needed basis. The drawings are schematic and are not intended to be drawn to scale. Throughout the present specification and the drawings, elements having substantially the same function and configuration are denoted with the same numerals to avoid any redundant description.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is an overall configuration diagram of a driving assistance device <b>1</b> according to the embodiment. As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the driving assistance device <b>1</b> includes, for example, a camera unit <b>10</b> fixed to an upper central part of a front area in a cabin of a vehicle (target vehicle) M.</p><p id="p-0027" num="0026">The camera unit <b>10</b> includes a stereo camera <b>11</b>, an image processing unit (IPU) <b>12</b>, an image recognition unit (image recognition ECU) <b>13</b>, and a traveling control unit (traveling ECU) <b>14</b>.</p><p id="p-0028" num="0027">The stereo camera <b>11</b> includes a main camera <b>11</b><i>a </i>and a subcamera <b>11</b><i>b</i>. For example, the main camera <b>11</b><i>a </i>and the subcamera <b>11</b><i>b </i>are bilaterally symmetrical across the center in a vehicle width direction. For example, the main camera <b>11</b><i>a </i>and the subcamera <b>11</b><i>b </i>each include a CMOS, and perform stereoscopic imaging for a traveling environment in an external forward area Af (see <figref idref="DRAWINGS">FIG. <b>2</b></figref>) from different viewpoints in every predetermined synchronous imaging period.</p><p id="p-0029" num="0028">The IPU <b>12</b> performs predetermined image processing for traveling environment images captured by the stereo camera <b>11</b> to detect various target edges of, for example, three-dimensional objects and lane lines on a road surface in the images. The IPU <b>12</b> obtains distance information from positional deviation amounts of corresponding edges in the right and left images, and generates image information including the distance information (distance image information).</p><p id="p-0030" num="0029">The image recognition ECU <b>13</b> obtains, based on the distance image information received from the IPU <b>12</b>, a road curvature [1/m] between right and left lane lines of a road where the target vehicle M is traveling (target vehicle traveling road) and a width between the right and left lane lines (lane width). Various methods are known to obtain the road curvature and the lane width. For example, the image recognition ECU <b>13</b> obtains the road curvature in such a manner that right and left lane lines are recognized by binarization using a difference in brightness levels based on traveling environment information and the curvatures of the right and left lane lines are obtained for each predetermined section by using a curve approximation expression based on the least-square method. The image recognition ECU <b>13</b> calculates the lane width from a difference in the curvatures of the right and left lane lines.</p><p id="p-0031" num="0030">The image recognition ECU <b>13</b> calculates, based on the curvatures of the right and left lane lines and the lane width, a lane center and a target-vehicle lateral positional deviation that is a distance from the lane center to the center of the target vehicle M in the vehicle width direction.</p><p id="p-0032" num="0031">The image recognition ECU <b>13</b> performs predetermined pattern matching for the distance image information to recognize three-dimensional objects such as guardrails along the road, curbstones, and surrounding vehicles. In the recognition of three-dimensional objects, the image recognition ECU <b>13</b> recognizes, for example, types of the three-dimensional objects, heights of the three-dimensional objects, distances from the three-dimensional objects, speeds of the three-dimensional objects, and relative speeds Vrel between the three-dimensional objects and the target vehicle M.</p><p id="p-0033" num="0032">Various types of information recognized by the image recognition ECU <b>13</b> are output to the traveling ECU <b>14</b> as traveling environment information.</p><p id="p-0034" num="0033">The image recognition ECU <b>13</b> recognizes traveling environment information related to the outside of the vehicle in cooperation with the stereo camera <b>11</b> and the IPU <b>12</b>. In one embodiment, the image recognition ECU <b>13</b> may serve as a &#x201c;traveling environment recognizer&#x201d;.</p><p id="p-0035" num="0034">The traveling ECU <b>14</b> is a control unit that centrally controls the driving assistance device <b>1</b>.</p><p id="p-0036" num="0035">Various control units such as a cockpit control unit (CP_ECU) <b>21</b>, an engine control unit (E/G_ECU) <b>22</b>, a transmission control unit (T/M_ECU) <b>23</b>, a brake control unit (BK_ECU) <b>24</b>, and a power steering control unit (PS_ECU) <b>25</b> are coupled to the traveling ECU <b>14</b> via an internal communication network such as a controller area network (CAN).</p><p id="p-0037" num="0036">Various sensors such as a locator unit <b>36</b>, a right front side sensor <b>37</b><i>rf</i>, a left front side sensor <b>371</b><i>f</i>, a right rear side sensor <b>37</b><i>rr</i>, a left rear side sensor <b>371</b><i>r</i>, and a rear sensor <b>38</b> are coupled to the traveling ECU <b>14</b>.</p><p id="p-0038" num="0037">A human-machine interface (HMI) <b>31</b> disposed near a driver's seat is coupled to the CP_ECU <b>21</b>. For example, the HMI <b>31</b> includes a switch for giving instructions to execute various types of driving assistance control, a mode selection switch for switching driving assistance modes, a steering touch sensor that detects a steering wheel holding state of a driver, a driver monitoring system (DMS) that performs facial authentication of the driver and detects a line of sight, a touch panel display, a combination of meters, and a loudspeaker.</p><p id="p-0039" num="0038">In response to a control signal from the traveling ECU <b>14</b>, the CP_ECU <b>21</b> notifies the driver as appropriate by display and sound through the HMI <b>31</b> about various types of information related to, for example, various alerts for a preceding vehicle, the status of the driving assistance control, and the traveling environment of the target vehicle M. The CP_ECU <b>21</b> outputs, to the traveling ECU <b>14</b>, various types of information input by the driver through the HMI <b>31</b>, such as ON/OFF operations on various types of driving assistance control.</p><p id="p-0040" num="0039">For example, a throttle actuator <b>32</b> of an electronically controlled throttle is coupled to an output side of the E/G_ECU <b>22</b>. Various sensors such as an accelerator sensor (not illustrated) are coupled to an input side of the E/G_ECU <b>22</b>.</p><p id="p-0041" num="0040">The E/G_ECU <b>22</b> controls drive of the throttle actuator <b>32</b> based on, for example, either one of a control signal from the traveling ECU <b>14</b> and detection signals from various sensors. Thus, the E/G_ECU <b>22</b> adjusts the intake amount of an engine to generate desired engine power. The E/G_ECU <b>22</b> outputs, to the traveling ECU <b>14</b>, signals of an accelerator operation amount and the like detected by various sensors.</p><p id="p-0042" num="0041">A hydraulic control circuit <b>33</b> is coupled to an output side of the T/M_ECU <b>23</b>. Various sensors such as a shift position sensor (not illustrated) are coupled to an input side of the T/M_ECU <b>23</b>. The T/M_ECU <b>23</b> performs hydraulic control for the hydraulic control circuit <b>33</b> based on, for example, a signal of an engine torque estimated by the E/G_ECU <b>22</b> and detection signals from various sensors. Thus, the T/M_ECU <b>23</b> changes the engine power at a desired speed ratio by operating, for example, friction engagement elements and pulleys in an automatic transmission. The T/M_ECU <b>23</b> outputs, to the traveling ECU <b>14</b>, signals of a shift position and the like detected by various sensors.</p><p id="p-0043" num="0042">A brake actuator <b>34</b> for adjusting brake fluid pressures to be output to brake wheel cylinders in individual wheels is coupled to an output side of the BK_ECU <b>24</b>. Various sensors such as a brake pedal sensor, a yaw rate sensor, a longitudinal acceleration sensor, and a vehicle speed sensor (not illustrated) are coupled to an input side of the BK_ECU <b>24</b>.</p><p id="p-0044" num="0043">The BK_ECU <b>24</b> controls drive of the brake actuator <b>34</b> based on either one of a control signal from the traveling ECU <b>14</b> and detection signals from various sensors. Thus, the BK_ECU <b>24</b> generates, for the wheels as appropriate, braking forces for forcible braking control and yaw rate control on the target vehicle M. The BK_ECU <b>24</b> outputs, to the traveling ECU <b>14</b>, signals of a brake operation status, a yaw rate, a longitudinal acceleration, a vehicle speed (target vehicle speed), and the like detected by various sensors.</p><p id="p-0045" num="0044">An electric power steering motor <b>35</b> for applying a steering torque of a rotational force from a motor to a steering mechanism is coupled to an output side of the PS_ECU <b>25</b>. Various sensors such as a steering torque sensor and a steering angle sensor are coupled to an input side of the PS_ECU <b>25</b>.</p><p id="p-0046" num="0045">The PS_ECU <b>25</b> controls drive of the electric power steering motor <b>35</b> based on either one of a control signal from the traveling ECU <b>14</b> and detection signals from various sensors. Thus, the PS_ECU <b>25</b> generates the steering torque for the steering mechanism. The PS_ECU <b>25</b> outputs, to the traveling ECU <b>14</b>, signals of a steering torque, a steering angle, and the like detected by various sensors.</p><p id="p-0047" num="0046">The locator unit <b>36</b> includes a GNSS sensor <b>36</b><i>a </i>and a high-accuracy road map database (road map DB) <b>36</b><i>b. </i></p><p id="p-0048" num="0047">The GNSS sensor <b>36</b><i>a </i>measures the position (latitude, longitude, and altitude) of the target vehicle M by receiving positioning signals from a plurality of positioning satellites.</p><p id="p-0049" num="0048">The road map DB <b>36</b><i>b </i>is a large-capacity storage medium such as an HDD, and stores high-accuracy road map information (dynamic map). For example, the road map DB <b>36</b><i>b </i>stores lane width data, lane center position coordinate data, lane azimuth angle data, and speed limits as lane data for use in autonomous driving. The stored lane data includes pieces of data for several-meter intervals in each lane on the road map. The road map DB stores information on various facilities and parking lots. Based on, for example, a request signal from the traveling ECU <b>14</b>, the road map DB <b>36</b><i>b </i>outputs road map information in a set range around the target vehicle position measured by the GNSS sensor <b>36</b><i>a </i>to the traveling ECU <b>14</b> as traveling environment information.</p><p id="p-0050" num="0049">The road map DB <b>36</b><i>b </i>recognizes traveling environment information related to the outside of the vehicle in cooperation with the GNSS sensor <b>36</b><i>a</i>. In one embodiment, the road map DB <b>36</b><i>b </i>may serve as a &#x201c;traveling environment recognizer&#x201d;.</p><p id="p-0051" num="0050">Examples of the right front side sensor <b>37</b><i>rf </i>and the left front side sensor <b>371</b><i>f </i>include millimeter wave radars. For example, the right front side sensor <b>37</b><i>rf </i>and the left front side sensor <b>371</b><i>f </i>are disposed on right and left sides of a front bumper. The right front side sensor <b>37</b><i>rf </i>and the left front side sensor <b>371</b><i>f </i>detect, as traveling environment information, three-dimensional objects in right and left obliquely forward and side areas Arf and Alf around the target vehicle M (see <figref idref="DRAWINGS">FIG. <b>2</b></figref>). Those areas are difficult to recognize from an image captured by the stereo camera <b>11</b>.</p><p id="p-0052" num="0051">Examples of the right rear side sensor <b>37</b><i>rr </i>and the left rear side sensor <b>371</b><i>r </i>include millimeter wave radars. For example, the right rear side sensor <b>37</b><i>rr </i>and the left rear side sensor <b>371</b><i>r </i>are disposed on right and left sides of a rear bumper. The right rear side sensor <b>37</b><i>rr </i>and the left rear side sensor <b>371</b><i>r </i>detect, as traveling environment information, three-dimensional objects in right and left obliquely rearward and side areas Arr and Alr around the target vehicle M (see <figref idref="DRAWINGS">FIG. <b>2</b></figref>). Those areas are difficult to recognize by the right front side sensor <b>37</b><i>rf </i>and the left front side sensor <b>371</b><i>f. </i></p><p id="p-0053" num="0052">Each millimeter wave radar detects the three-dimensional object such as a vehicle traveling side by side by outputting a radio wave and analyzing the reflected wave from the object. For example, each radar detects a width of the three-dimensional object, a position of a representative point of the three-dimensional object (position relative to the target vehicle M), and a speed of the three-dimensional object as information related to the three-dimensional object.</p><p id="p-0054" num="0053">The right front side sensor <b>37</b><i>rf</i>, the left front side sensor <b>371</b><i>f</i>, the right rear side sensor <b>37</b><i>rr</i>, and the left rear side sensor <b>371</b><i>r </i>recognize traveling environment information related to the outside of the vehicle. In one embodiment, the right front side sensor <b>37</b><i>rf</i>, the left front side sensor <b>371</b><i>f</i>, the right rear side sensor <b>37</b><i>rr</i>, and the left rear side sensor <b>371</b><i>r </i>may serve as a &#x201c;traveling environment recognizer&#x201d;.</p><p id="p-0055" num="0054">Examples of the rear sensor <b>38</b> include a sonar. For example, the rear sensor <b>38</b> is disposed on the rear bumper. The rear sensor <b>38</b> detects three-dimensional objects in a rearward area Ar behind the target vehicle M (see <figref idref="DRAWINGS">FIG. <b>2</b></figref>) as traveling environment information. This area is difficult to recognize by the right rear side sensor <b>37</b><i>rr </i>and the left rear side sensor <b>371</b><i>r. </i></p><p id="p-0056" num="0055">The rear sensor <b>38</b> recognizes traveling environment information related to the outside of the vehicle. In one embodiment, the rear sensor <b>38</b> may serve as a &#x201c;traveling environment recognizer&#x201d;.</p><p id="p-0057" num="0056">Coordinates of the external targets in the traveling environment information recognized by the image recognition ECU <b>13</b>, the traveling environment information recognized by the locator unit <b>36</b>, the traveling environment information recognized by the right front side sensor <b>37</b><i>rf</i>, the traveling environment information recognized by the left front side sensor <b>371</b><i>f</i>, the traveling environment information recognized by the right rear side sensor <b>37</b><i>rr</i>, the traveling environment information recognized by the left rear side sensor <b>371</b><i>f</i>, and the traveling environment information recognized by the rear sensor <b>38</b> are converted by the traveling ECU <b>14</b> into coordinates in a three-dimensional coordinate system having its origin at the center of the target vehicle M (see <figref idref="DRAWINGS">FIG. <b>2</b></figref>).</p><p id="p-0058" num="0057">The traveling ECU <b>14</b> has driving modes such as a manual driving mode, a first traveling control mode, a second traveling control mode, and a limp home mode. The traveling ECU <b>14</b> can selectively switch the driving modes based on, for example, a status of operation on the mode selection switch of the HMI <b>31</b>.</p><p id="p-0059" num="0058">The manual driving mode is a driving mode in which the driver is assumed to hold the steering wheel. In this driving mode, the target vehicle M travels by driving operations of the driver, such as a steering operation, an accelerator operation, and a brake operation.</p><p id="p-0060" num="0059">The first traveling control mode is also a driving mode in which the driver is assumed to hold the steering wheel. That is, the first traveling control mode is a so-called semi-autonomous driving mode in which the target vehicle M travels along a target traveling route by combining, for example, adaptive cruise control (ACC), active lane keep centering (ALKC) control, and active lane keep bouncing control as appropriate through control of, for example, the E/G_ECU <b>22</b>, the BK_ECU <b>24</b>, and the PS_ECU <b>25</b> while reflecting the driving operations of the driver.</p><p id="p-0061" num="0060">The adaptive cruise control is basically performed based on traveling environment information input from the image recognition ECU <b>13</b>. For example, the adaptive cruise control is performed based on preceding vehicle information in the traveling environment information from the image recognition ECU <b>13</b>.</p><p id="p-0062" num="0061">The active lane keep centering control and the active lane keep bouncing control are basically performed based on traveling environment information input from at least one of the image recognition ECU <b>13</b> or the locator unit <b>36</b>. For example, the active lane keep centering control and the active lane keep bouncing control are performed based on lane line information in the traveling environment information from either one of the image recognition ECU <b>13</b> and the locator unit <b>36</b>.</p><p id="p-0063" num="0062">The second traveling control mode is an autonomous driving mode in which the target vehicle M travels along a target route (route map information) by combining, for example, the adaptive cruise control, the active lane keep centering control, and the active lane keep bouncing control as appropriate through control of, for example, the E/G_ECU <b>22</b>, the BK_ECU <b>24</b>, and the PS_ECU <b>25</b> without the steering wheel holding by the driver, the accelerator operation, and the brake operation.</p><p id="p-0064" num="0063">In the limp home mode, the target vehicle M is automatically stopped, for example, at a side strip when the target vehicle M traveling in the second traveling control mode cannot continue the traveling in this mode and the driver cannot take over the driving operation (that is, the mode cannot be switched to either one of the manual driving mode and the first traveling control mode).</p><p id="p-0065" num="0064">In each of the driving modes described above, the traveling ECU <b>14</b> performs autonomous emergency braking (AEB: collision damage reduction braking) control as appropriate against an obstacle such as a preceding vehicle traveling on the target vehicle traveling road and having a strong possibility of colliding with the target vehicle M.</p><p id="p-0066" num="0065">For example, the traveling ECU <b>14</b> extracts, based on traveling environment information, a three-dimensional object such as a preceding vehicle or a stopped vehicle ahead of the target vehicle M on the target vehicle traveling road, and a three-dimensional object such as a bicycle or a pedestrian entering an area ahead of the target vehicle M on the target vehicle traveling road from the side of the road.</p><p id="p-0067" num="0066">The traveling ECU <b>14</b> determines a possibility of collision between the target vehicle M and each extracted three-dimensional object. Among the three-dimensional objects having a strong possibility of collision with the target vehicle M, the traveling ECU <b>14</b> sets the three-dimensional object closest to the target vehicle M as a braking target Trg (obstacle) for emergency braking control.</p><p id="p-0068" num="0067">The traveling ECU <b>14</b> calculates a time-to-collision TTC (=(relative distance to braking target)/(relative speed to braking target)) of the braking target Trg.</p><p id="p-0069" num="0068">When the time-to-collision TTC is equal to or shorter than a preset first threshold Tth<b>1</b>, the traveling ECU <b>14</b> alerts the driver to avoid collision with the braking target Trg. The alert may include alert braking (light braking) using a preset deceleration a<b>1</b> in addition to an audio or visual alert.</p><p id="p-0070" num="0069">When the driver does not perform any appropriate operation to avoid collision despite the alert and the time-to-collision TTC is equal to or shorter than a preset second threshold Tth<b>2</b> (Tth<b>2</b>&#x3c;Tth<b>1</b>), the traveling ECU <b>14</b> executes emergency braking (hard braking) of the target vehicle M against the braking target Trg by using a preset deceleration a<b>2</b> (a<b>2</b>&#x3e;a<b>1</b>).</p><p id="p-0071" num="0070">The alert control and the emergency braking control are applied not only to, for example, the first driving assistance mode and the second driving assistance mode but also to the manual driving mode.</p><p id="p-0072" num="0071">When determination is made that there is difficulty in avoiding collision with the obstacle by the emergency braking control, the traveling ECU <b>14</b> may perform emergency steering control for avoiding the collision with the obstacle in place of or in combination with the emergency braking control.</p><p id="p-0073" num="0072">When the driver's brake operation against the braking target Trg ahead is late due to carelessness such as inattentive driving in the manual driving mode, the traveling ECU <b>14</b> performs braking force assisting control (braking force complementing control) to secure the safety. For example, the braking force assisting control is performed by complementing the brake fluid pressure generated by the brake actuator <b>34</b> through depression of the brake pedal by the driver.</p><p id="p-0074" num="0073">The braking force assisting control is performed in consideration of the voluntary driving operation of the driver in the manual driving mode. Therefore, the traveling ECU <b>14</b> performs the brake fluid pressure assisting control as appropriate exclusively when the driver's brake operation is performed in the manual driving mode.</p><p id="p-0075" num="0074">When the driver's brake operation is not performed against the obstacle ahead in the manual driving mode and the target vehicle M has a possibility of colliding with this obstacle, the emergency braking control is forcibly performed.</p><p id="p-0076" num="0075">Prior to the brake fluid pressure assisting control, the traveling ECU <b>14</b> acquires a braking force characteristic learning value on a brake operation performed by the driver at an appropriate timing against the obstacle (braking target Trg) recognized ahead based on traveling environment information. For example, when the driver has started the brake operation before a timing preset based on a correlation between the target vehicle M and the braking target Trg, the traveling ECU <b>14</b> acquires, as the braking force characteristic learning value, a learning value of the characteristic of the brake fluid pressure (hereinafter referred to as &#x201c;brake fluid pressure learning value&#x201d;) and a learning value of the characteristic of a jerk of the brake fluid pressure (hereinafter referred to as &#x201c;fluid pressure jerk learning value&#x201d;) based on transition of the brake fluid pressure from start to end of braking performed by the brake operation.</p><p id="p-0077" num="0076">For example, the traveling ECU <b>14</b> determines that the brake operation has been performed at the appropriate timing by the driver when a time-to-collision TTC of the target at the start of the driver's brake operation is longer than a preset threshold TTCx_range (TTCx_range&#x3e;Tth<b>1</b>).</p><p id="p-0078" num="0077">For example, it is desirable that the traveling ECU <b>14</b> acquire the brake fluid pressure learning value for each range of a relative speed Vrel between the target vehicle M and the braking target at the timing when the driver has started the brake operation. For example, it is desirable that the traveling ECU <b>14</b> acquire the brake fluid pressure learning value and the fluid pressure jerk learning value for each driver who has undergone facial recognition by the driver monitoring system of the HMI <b>31</b>.</p><p id="p-0079" num="0078">When the driver has started the brake operation after the appropriate timing, the traveling ECU <b>14</b> complements, based on the brake fluid pressure learning value, the brake fluid pressure generated from the start to the end of the braking performed by the brake operation. That is, the traveling ECU <b>14</b> complements the brake fluid pressure in the manual driving mode on the premise that the driver's brake operation has been performed even in a case where the timing of the brake operation is late, for example, because the driver is inattentive.</p><p id="p-0080" num="0079">It is desirable that the brake fluid pressure be complemented minimally in consideration of driver's intention. Therefore, the traveling ECU <b>14</b> stores an ideal brake fluid pressure characteristic as an ideal braking force characteristic preset based on experiment, simulation, or the like. When a brake fluid pressure of the ideal brake fluid pressure characteristic (hereinafter referred to as &#x201c;ideal brake fluid pressure&#x201d;) is relatively lower than the brake fluid pressure learning value, the traveling ECU <b>14</b> complements the brake fluid pressure based on the ideal brake fluid pressure in place of the brake fluid pressure learning value.</p><p id="p-0081" num="0080">It is desirable that the ideal brake fluid pressure characteristic be set for each preset range of the relative speed Vrel between the target vehicle M and the braking target.</p><p id="p-0082" num="0081">In one embodiment, the traveling ECU <b>14</b> may serve as a &#x201c;braking force learner&#x201d;, a &#x201c;braking force complementer&#x201d;, and a &#x201c;storage&#x201d;.</p><p id="p-0083" num="0082">Next, the emergency braking control to be executed by the traveling ECU <b>14</b> is described with reference to a flowchart of an emergency braking control routine in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. This routine is repeated at every set time.</p><p id="p-0084" num="0083">When the routine is started, the traveling ECU <b>14</b> sets a braking target Trg for the emergency braking control based on traveling environment information. For example, when three-dimensional objects such as a preceding vehicle, a stopped vehicle, a bicycle, and a pedestrian having a strong possibility of collision with the target vehicle M are present ahead of the target vehicle M on the target vehicle traveling road, the traveling ECU <b>14</b> sets the three-dimensional object closest to the target vehicle M as the braking target Trg for the emergency braking control.</p><p id="p-0085" num="0084">In Step S<b>102</b>, the traveling ECU <b>14</b> checks whether the braking target Trg is set ahead on the target vehicle traveling road.</p><p id="p-0086" num="0085">When determination is made in Step S<b>102</b> that the braking target Trg is not set ahead on the target vehicle traveling road, the traveling ECU <b>14</b> terminates the routine.</p><p id="p-0087" num="0086">When determination is made in Step S<b>102</b> that the braking target Trg is set ahead on the target vehicle traveling road, the traveling ECU <b>14</b> proceeds to Step S<b>103</b> to check whether a time-to-collision TTC of the braking target Trg is equal to or shorter than the preset first threshold Tth<b>1</b>.</p><p id="p-0088" num="0087">When determination is made in Step S<b>103</b> that the time-to-collision TTC is longer than the first threshold, the traveling ECU <b>14</b> terminates the routine.</p><p id="p-0089" num="0088">When determination is made in Step S<b>103</b> that the time-to-collision TTC is equal to or shorter than the first threshold, the traveling ECU <b>14</b> proceeds to Step S<b>104</b> to check whether the time-to-collision TTC is equal to or shorter than the preset second threshold Tth<b>2</b>.</p><p id="p-0090" num="0089">When determination is made in Step S<b>104</b> that the time-to-collision TTC is longer than the second threshold, the traveling ECU <b>14</b> proceeds to Step S<b>105</b> to issue an alert about the braking target Trg through the CP_ECU <b>21</b>, the BK_ECU <b>24</b>, and the like, and then terminates the routine.</p><p id="p-0091" num="0090">When determination is made in Step S<b>104</b> that the time-to-collision TTC is equal to or shorter than the second threshold Tth<b>2</b>, the traveling ECU <b>14</b> proceeds to Step S<b>106</b> to execute emergency braking against the braking target Trg through the BK_ECU <b>24</b> and the like, and then terminates the routine.</p><p id="p-0092" num="0091">Next, the learning to be executed by the traveling ECU <b>14</b> about the brake fluid pressure characteristics on the driver's brake operation is described with reference to a flowchart illustrating a learning routine for the brake fluid pressure characteristics in <figref idref="DRAWINGS">FIG. <b>4</b></figref>. This routine is repeated at every set time.</p><p id="p-0093" num="0092">When the routine is started, the traveling ECU <b>14</b> checks in Step S<b>201</b> whether the current driving mode is the manual driving mode.</p><p id="p-0094" num="0093">When determination is made in Step S<b>201</b> that the current driving mode is a mode other than the manual driving mode, the traveling ECU <b>14</b> terminates the routine.</p><p id="p-0095" num="0094">When determination is made in Step S<b>201</b> that the current driving mode is the manual driving mode, the traveling ECU <b>14</b> proceeds to Step S<b>202</b> to recognize the driver of the target vehicle M based on information from, for example, the driver monitoring system of the HMI <b>31</b>.</p><p id="p-0096" num="0095">In Step S<b>203</b>, the traveling ECU <b>14</b> checks whether a driver's brake operation has been started based on information from the brake pedal sensor and the like.</p><p id="p-0097" num="0096">When determination is made in Step S<b>203</b> that the driver's brake operation has not been started, the traveling ECU <b>14</b> terminates the routine.</p><p id="p-0098" num="0097">When determination is made in Step S<b>203</b> that the driver's brake operation has been started, the traveling ECU <b>14</b> proceeds to Step S<b>204</b> to determine a braking target Trg of the driver's brake operation. For example, the traveling ECU <b>14</b> extracts, based on traveling environment information, a three-dimensional object such as a preceding vehicle or a stopped vehicle ahead of the target vehicle M on the target vehicle traveling road, and a three-dimensional object such as a bicycle or a pedestrian rushing out from the side of the road. The traveling ECU <b>14</b> determines a possibility of collision between the target vehicle M and each extracted three-dimensional object. Among the three-dimensional objects having a strong possibility of collision with the target vehicle M, the traveling ECU <b>14</b> sets the three-dimensional object closest to the target vehicle M as the braking target Trg of the driver's brake operation.</p><p id="p-0099" num="0098">When the braking target is set in Step S<b>204</b>, the traveling ECU <b>14</b> acquires, in Step S<b>205</b>, a time-to-collision TTC at the start of the driver's brake operation against the braking target.</p><p id="p-0100" num="0099">In Step S<b>206</b>, the traveling ECU <b>14</b> checks whether the time-to-collision TTC at the start of the brake operation is equal to or longer than the preset threshold TTCx_range.</p><p id="p-0101" num="0100">When determination is made in Step S<b>206</b> that the time-to-collision TTC at the start of the brake operation is shorter than the threshold TTCx_range, the traveling ECU <b>14</b> terminates the routine.</p><p id="p-0102" num="0101">When determination is made in Step S<b>206</b> that the time-to-collision TTC at the start of the brake operation is equal to or longer than the threshold TTCx_range (see <figref idref="DRAWINGS">FIG. <b>7</b></figref>), the traveling ECU <b>14</b> proceeds to Step S<b>207</b> to check whether the driver's brake operation has been terminated.</p><p id="p-0103" num="0102">When determination is made in Step S<b>207</b> that the driver's brake operation has been terminated, the traveling ECU <b>14</b> terminates the routine.</p><p id="p-0104" num="0103">When determination is made in Step S<b>207</b> that the driver's brake operation has not been terminated, the traveling ECU <b>14</b> acquires a current brake fluid pressure and a jerk of the brake fluid pressure (fluid pressure jerk) as brake fluid pressure characteristics of the driver.</p><p id="p-0105" num="0104">In Step S<b>209</b>, the traveling ECU <b>14</b> checks whether the relative speed Vrel between the target vehicle M and the braking target has reached &#x201c;0&#x201d;.</p><p id="p-0106" num="0105">When determination is made in Step S<b>209</b> that the relative speed Vrel has not reached &#x201c;0&#x201d;, the traveling ECU <b>14</b> returns to Step S<b>207</b>.</p><p id="p-0107" num="0106">When determination is made in Step S<b>209</b> that the relative speed Vrel has reached &#x201c;0&#x201d;, the traveling ECU <b>14</b> proceeds to Step S<b>210</b> to reflect, in the brake fluid pressure learning value and the fluid pressure jerk learning value, the brake fluid pressure and the fluid pressure jerk acquired from the start to the end of the braking, and then terminates the routine.</p><p id="p-0108" num="0107">Next, the braking force assisting control to be executed by the traveling ECU <b>14</b> is described with reference to a braking force assisting control routine illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref>. This routine is repeated at every set time.</p><p id="p-0109" num="0108">When the routine is started, the traveling ECU <b>14</b> checks in Step S<b>301</b> whether the current driving mode is the manual driving mode.</p><p id="p-0110" num="0109">When determination is made in Step S<b>301</b> that the current driving mode is a mode other than the manual driving mode, the traveling ECU <b>14</b> terminates the routine.</p><p id="p-0111" num="0110">When determination is made in Step S<b>301</b> that the current driving mode is the manual driving mode, the traveling ECU <b>14</b> proceeds to Step S<b>302</b> to recognize the driver of the target vehicle M based on information from, for example, the driver monitoring system of the HMI <b>31</b>.</p><p id="p-0112" num="0111">In Step S<b>303</b>, the traveling ECU <b>14</b> checks whether a driver's brake operation has been started based on information from the brake pedal sensor and the like.</p><p id="p-0113" num="0112">When determination is made in Step S<b>303</b> that the driver's brake operation has not been started, the traveling ECU <b>14</b> terminates the routine.</p><p id="p-0114" num="0113">When determination is made in Step S<b>303</b> that the driver's brake operation has been started, the traveling ECU <b>14</b> proceeds to Step S<b>304</b> to determine a braking target Trg of the driver's brake operation. For example, the traveling ECU <b>14</b> extracts, based on traveling environment information, a three-dimensional object such as a preceding vehicle or a stopped vehicle ahead of the target vehicle M on the target vehicle traveling road, and a three-dimensional object such as a bicycle or a pedestrian rushing out from the side of the road. The traveling ECU <b>14</b> determines a possibility of collision between the target vehicle M and each extracted three-dimensional object. Among the three-dimensional objects having a strong possibility of collision with the target vehicle M, the traveling ECU <b>14</b> sets the three-dimensional object closest to the target vehicle M as the braking target Trg of the driver's brake operation.</p><p id="p-0115" num="0114">When the braking target is set in Step S<b>304</b>, the traveling ECU <b>14</b> acquires, in Step S<b>305</b>, a time-to-collision TTC at the start of the driver's brake operation against the braking target.</p><p id="p-0116" num="0115">In Step S<b>306</b>, the traveling ECU <b>14</b> checks whether the time-to-collision TTC at the start of the brake operation is shorter than the preset threshold TTCx_range.</p><p id="p-0117" num="0116">When determination is made in Step S<b>306</b> that the time-to-collision TTC is equal to or longer than the threshold TTCx_range, the traveling ECU <b>14</b> terminates the routine.</p><p id="p-0118" num="0117">When determination is made in Step S<b>306</b> that the time-to-collision TTC is shorter than the threshold TTCx_range (see <figref idref="DRAWINGS">FIG. <b>8</b></figref>), the traveling ECU <b>14</b> proceeds to Step S<b>307</b> to check whether a brake fluid pressure learning value associated with a relative speed Vrel at the start of the brake operation is higher than the current brake fluid pressure.</p><p id="p-0119" num="0118">When determination is made in Step S<b>307</b> that the brake fluid pressure learning value is equal to or lower than the current brake fluid pressure, the traveling ECU <b>14</b> proceeds to Step S<b>310</b>.</p><p id="p-0120" num="0119">When determination is made in Step S<b>307</b> that the brake fluid pressure learning value is higher than the current brake fluid pressure, the traveling ECU <b>14</b> proceeds to Step S<b>308</b> to check whether a fluid pressure jerk learning value associated with the relative speed Vrel at the start of the brake operation is higher than the current fluid pressure jerk.</p><p id="p-0121" num="0120">When determination is made in Step S<b>308</b> that the fluid pressure jerk learning value is equal to or lower than the current fluid pressure jerk, the traveling ECU <b>14</b> proceeds to Step S<b>310</b> by determining that the driver intends to increase the braking force.</p><p id="p-0122" num="0121">When determination is made in Step S<b>308</b> that the fluid pressure jerk learning value is higher than the current fluid pressure jerk, the traveling ECU <b>14</b> proceeds to Step S<b>309</b> to execute brake fluid pressure control.</p><p id="p-0123" num="0122">For example, the brake fluid pressure control is executed with reference to a flowchart of a brake fluid pressure control subroutine in <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0124" num="0123">When the subroutine is started, the traveling ECU <b>14</b> checks in Step S<b>401</b> whether the ideal brake fluid pressure associated with the current relative speed Vrel between the target vehicle M and the braking target Trg is higher than the brake fluid pressure learning value.</p><p id="p-0125" num="0124">When determination is made in Step S<b>401</b> that the ideal brake fluid pressure is higher than the brake fluid pressure learning value (see <figref idref="DRAWINGS">FIG. <b>10</b></figref>), the traveling ECU <b>14</b> proceeds to Step S<b>402</b> to set the brake fluid pressure learning value as a reference brake fluid pressure, and then proceeds to Step S<b>404</b>.</p><p id="p-0126" num="0125">When determination is made in Step S<b>401</b> that the ideal brake fluid pressure is equal to or lower than the brake fluid pressure learning value (see <figref idref="DRAWINGS">FIG. <b>9</b></figref>), the traveling ECU <b>14</b> proceeds to Step S<b>403</b> to set the ideal brake fluid pressure as the reference brake fluid pressure, and then proceeds to Step S<b>404</b>.</p><p id="p-0127" num="0126">In Step S<b>404</b> from Step S<b>402</b> or S<b>403</b>, the traveling ECU <b>14</b> checks whether the current brake fluid pressure is lower than the reference brake fluid pressure.</p><p id="p-0128" num="0127">When determination is made in Step S<b>404</b> that the current brake fluid pressure is equal to or higher than the reference brake fluid pressure, the traveling ECU <b>14</b> terminates the subroutine by determining that the braking force is sufficiently generated.</p><p id="p-0129" num="0128">When determination is made in Step S<b>404</b> that the current brake fluid pressure is lower than the reference brake fluid pressure, the traveling ECU <b>14</b> proceeds to Step S<b>405</b> to calculate a fluid pressure correction amount &#x394;P for causing the brake fluid pressure to become closer to the reference brake fluid pressure (see <figref idref="DRAWINGS">FIGS. <b>9</b> and <b>10</b></figref>).</p><p id="p-0130" num="0129">In Step S<b>406</b>, the traveling ECU <b>14</b> executes an upper limit process for the fluid pressure correction amount &#x394;P by using a preset upper limit value.</p><p id="p-0131" num="0130">In Step S<b>407</b>, the traveling ECU <b>14</b> complements the current brake fluid pressure with the fluid pressure correction amount &#x394;P subjected to the upper limit process, and then terminates the subroutine.</p><p id="p-0132" num="0131">In the main routine of <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the traveling ECU <b>14</b> checks in Step S<b>310</b> from Step S<b>307</b>, S<b>308</b>, or S<b>309</b> whether the time-to-collision TTC remains shorter than the threshold TTCx_range.</p><p id="p-0133" num="0132">When determination is made in Step S<b>310</b> that the time-to-collision TTC is equal to or longer than the threshold TTCx_range, the traveling ECU <b>14</b> terminates the routine by determining that the braking force assisting control is not expected.</p><p id="p-0134" num="0133">When determination is made in Step S<b>310</b> that the time-to-collision TTC remains shorter than the threshold TTCx_range, the traveling ECU <b>14</b> proceeds to Step S<b>311</b> to check whether the relative speed Vrel between the target vehicle M and the braking target Trg has reached &#x201c;0&#x201d;.</p><p id="p-0135" num="0134">When determination is made in Step S<b>311</b> that the relative speed Vrel has reached &#x201c;0&#x201d;, the traveling ECU <b>14</b> terminates the routine by determining that the braking against the braking target Trg has finished.</p><p id="p-0136" num="0135">When determination is made in Step S<b>311</b> that the relative speed Vrel is higher than &#x201c;0&#x201d;, the traveling ECU <b>14</b> returns to Step S<b>307</b>.</p><p id="p-0137" num="0136">According to the embodiment, when the driver has performed the brake operation against the braking target Trg recognized ahead based on the traveling environment information at the timing when the time-to-collision TTC between the target vehicle M and the braking target Trg is equal to or longer than the threshold TTCx_range, the traveling ECU <b>14</b> acquires the brake fluid pressure learning value based on the brake fluid pressure generated from the start to the end of the braking performed by the brake operation. When the driver has started the brake operation at the timing when the time-to-collision TTC is shorter than the threshold TTCX_range, the traveling ECU <b>14</b> complements, based on the brake fluid pressure learning value, the brake fluid pressure generated from the start to the end of the braking performed by the brake operation. Thus, it is possible to generate an appropriate braking force in the case where the timing to depress the brake pedal by the driver is late during the manual driving mode.</p><p id="p-0138" num="0137">That is, in the case where the timing to depress the brake pedal by the driver is late, the lack of the brake fluid pressure (lack of the braking force) due to the late depression timing is compensated while leaving the driver to decide the timing to start the braking against the braking target. Thus, it is possible to generate an appropriate braking force that matches the driver's feeling.</p><p id="p-0139" num="0138">The brake fluid pressure (braking force) is complemented based on the brake fluid pressure learning value acquired based on the driver's brake operation. Thus, the complementing operation matches the driver's feeling.</p><p id="p-0140" num="0139">In this case, the traveling ECU <b>14</b> stores the preset ideal brake fluid pressure characteristic (ideal braking force characteristic) from the start to the end of the braking, and complements the brake fluid pressure based on the ideal brake fluid pressure characteristic when the ideal brake fluid pressure is relatively lower than the brake fluid pressure learning value. Thus, the brake fluid pressure can be complemented minimally instead of being complemented excessively.</p><p id="p-0141" num="0140">The traveling ECU <b>14</b> does not complement the brake fluid pressure after the current brake fluid pressure has exceeded either one of the brake fluid pressure learning value and the ideal brake fluid pressure, for example, in <figref idref="DRAWINGS">FIGS. <b>9</b> and <b>10</b></figref>. Thus, the brake fluid pressure can be complemented while giving discretion to increase the intensity of the driver's voluntary brake operation.</p><p id="p-0142" num="0141">In the embodiment described above, the IPU <b>12</b>, the image recognition ECU <b>13</b>, the traveling ECU <b>14</b>, the CP_ECU <b>21</b>, the E/G_ECU <b>22</b>, the T/M_ECU <b>23</b>, the BK_ECU <b>24</b>, and the PS_ECU <b>25</b> are each implemented by a known microcomputer including a CPU, a RAM, a ROM, and a non-volatile storage and peripheral devices around the microcomputer. The ROM prestores programs to be executed by the CPU and fixed data such as data tables. All or a part of the functions of the processor may be implemented by a logic or analog circuit, and processes in various programs may be implemented by an electronic circuit such as an FPGA.</p><p id="p-0143" num="0142">The embodiment of the disclosure is not limited to the embodiment described above, and various modifications may be made without departing from the gist in the implementation. The embodiment includes various aspects of the disclosure that may be extracted by any appropriate combination of a plurality of disclosed constituent elements.</p><p id="p-0144" num="0143">For example, the embodiment described above is directed to the example in which the driving assistance device <b>1</b> is applied to the engine vehicle that travels by using the driving force of the engine. For example, the driving assistance device <b>1</b> is also applicable to either one of a hybrid vehicle and an electric vehicle. In this case, the traveling ECU <b>14</b> can acquire, as the braking force characteristic learning value, a regenerative torque characteristic learning value and a regenerative torque jerk characteristic learning value in addition to the brake fluid pressure learning value and the fluid pressure jerk learning value. The braking force can be complemented by using the regenerative torque in addition to the brake fluid pressure.</p><p id="p-0145" num="0144">Some of the constituent elements in the embodiment may be omitted as long as the problems described above can be solved and the effects described above can be attained.</p><p id="p-0146" num="0145">The traveling ECU <b>14</b> illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref> can be implemented by circuitry including at least one semiconductor integrated circuit such as at least one processor (e.g., a central processing unit (CPU)), at least one application specific integrated circuit (ASIC), and/or at least one field programmable gate array (FPGA). At least one processor can be configured, by reading instructions from at least one machine readable tangible medium, to perform all or a part of functions of the traveling ECU <b>14</b>. Such a medium may take many forms, including, but not limited to, any type of magnetic medium such as a hard disk, any type of optical medium such as a CD and a DVD, any type of semiconductor memory (i.e., semiconductor circuit) such as a volatile memory and a non-volatile memory. The volatile memory may include a DRAM and a SRAM, and the non-volatile memory may include a ROM and a NVRAM. The ASIC is an integrated circuit (IC) customized to perform, and the FPGA is an integrated circuit designed to be configured after manufacturing in order to perform, all or a part of the functions of the modules illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A driving assistance device for a vehicle, the driving assistance device comprising:<claim-text>a traveling environment recognizer configured to recognize traveling environment information related to an outside of the vehicle;</claim-text><claim-text>a braking force learner configured to, in a case where a driver who drives the vehicle has started a brake operation against a braking target recognized ahead based on the traveling environment information before a timing set based on a correlation between the vehicle and the braking target, acquire a braking force characteristic learning value based on a braking force generated from start to end of braking performed by the brake operation; and</claim-text><claim-text>a braking force complementer configured to, in a case where the driver has started the brake operation after the set timing, complement the braking force based on the braking force characteristic learning value.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the braking force characteristic learning value is acquired for each driver who drives the vehicle.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the braking force characteristic learning value is acquired for each range of a relative speed between the vehicle and the braking target at a timing when the driver has started the brake operation.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the braking force characteristic learning value is acquired for each range of a relative speed between the vehicle and the braking target at a timing when the driver has started the brake operation.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a storage configured to store a preset ideal braking force characteristic from the start to the end of the braking,<claim-text>wherein the braking force complementer is configured to, in a case where a value of the preset ideal braking force characteristic is relatively lower than the braking force characteristic learning value, complement the braking force based on the ideal braking force characteristic in place of the braking force characteristic learning value.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising a storage configured to store a preset ideal braking force characteristic from the start to the end of the braking,<claim-text>wherein the braking force complementer is configured to, in a case where a value of the preset ideal braking force characteristic is relatively lower than the braking force characteristic learning value, complement the braking force based on the ideal braking force characteristic in place of the braking force characteristic learning value.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising a storage configured to store a preset ideal braking force characteristic from the start to the end of the braking,<claim-text>wherein the braking force complementer is configured to, in a case where a value of the preset ideal braking force characteristic is relatively lower than the braking force characteristic learning value, complement the braking force based on the ideal braking force characteristic in place of the braking force characteristic learning value.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising a storage configured to store a preset ideal braking force characteristic from the start to the end of the braking,<claim-text>wherein the braking force complementer is configured to, in a case where a value of the ideal braking force characteristic is relatively lower than the preset braking force characteristic learning value, complement the braking force based on the ideal braking force characteristic in place of the braking force characteristic learning value.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the ideal braking force characteristic is set for each preset range of a relative speed between the vehicle and the braking target.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the ideal braking force characteristic is set for each preset range of a relative speed between the vehicle and the braking target.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the ideal braking force characteristic is set for each preset range of a relative speed between the vehicle and the braking target.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The driving assistance device for the vehicle according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the ideal braking force characteristic is set for each preset range of a relative speed between the vehicle and the braking target.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. A driving assistance device for a vehicle, the driving assistance device comprising circuitry configured to<claim-text>recognize traveling environment information related to an outside of the vehicle,</claim-text><claim-text>in a case where a driver who drives the vehicle has started a brake operation against a braking target recognized ahead based on the traveling environment information before a timing set based on a correlation between the vehicle and the braking target, acquire a braking force characteristic learning value based on a braking force generated from start to end of braking performed by the brake operation, and</claim-text><claim-text>in a case where the driver has started the brake operation after the set timing, complement the braking force based on the braking force characteristic learning value.</claim-text></claim-text></claim></claims></us-patent-application>