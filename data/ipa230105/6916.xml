<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006917A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006917</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17942827</doc-number><date>20220912</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202010177892.8</doc-number><date>20200313</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>45</main-group><subgroup>00</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>45</main-group><subgroup>20</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc></classifications-cpc><invention-title id="d2e61">Route Determining Method and Apparatus and Network Device</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2021/078532</doc-number><date>20210301</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17942827</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Huawei Technologies Co., Ltd.</orgname><address><city>Shenzhen</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Wang</last-name><first-name>Haibo</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Zhuang</last-name><first-name>Shunwan</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Sheng</last-name><first-name>Cheng</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A route determining method, apparatus, and a network device are disclosed. The method includes a first forwarding node receives routing information from a second forwarding node, and then sends a packet to a destination node based on the routing information. The routing information includes a node identifier of the destination node and at least one piece of indication information that is in a one-to-one correspondence with at least one third forwarding node, and the second forwarding node belongs to the at least one third forwarding node. The packet includes the at least one piece of indication information, and the at least one piece of indication information indicates to forward the packet along the at least one third forwarding node.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="102.45mm" wi="158.75mm" file="US20230006917A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="67.73mm" wi="158.24mm" file="US20230006917A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="217.34mm" wi="157.65mm" orientation="landscape" file="US20230006917A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="215.14mm" wi="156.13mm" orientation="landscape" file="US20230006917A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="215.39mm" wi="90.93mm" orientation="landscape" file="US20230006917A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="240.28mm" wi="146.13mm" orientation="landscape" file="US20230006917A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="232.83mm" wi="117.09mm" orientation="landscape" file="US20230006917A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="222.08mm" wi="157.99mm" orientation="landscape" file="US20230006917A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="217.25mm" wi="158.24mm" orientation="landscape" file="US20230006917A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="241.47mm" wi="137.67mm" orientation="landscape" file="US20230006917A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="229.19mm" wi="115.40mm" orientation="landscape" file="US20230006917A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="214.97mm" wi="159.00mm" orientation="landscape" file="US20230006917A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="214.63mm" wi="157.31mm" orientation="landscape" file="US20230006917A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="173.82mm" wi="155.79mm" file="US20230006917A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="149.35mm" wi="154.77mm" file="US20230006917A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="162.64mm" wi="156.38mm" file="US20230006917A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="139.87mm" wi="155.11mm" file="US20230006917A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="218.61mm" wi="57.32mm" orientation="landscape" file="US20230006917A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="137.08mm" wi="140.04mm" file="US20230006917A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="178.14mm" wi="130.47mm" file="US20230006917A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="110.41mm" wi="82.63mm" file="US20230006917A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="184.49mm" wi="139.70mm" file="US20230006917A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00022" num="00022"><img id="EMI-D00022" he="179.32mm" wi="126.58mm" file="US20230006917A1-20230105-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00023" num="00023"><img id="EMI-D00023" he="184.49mm" wi="139.70mm" file="US20230006917A1-20230105-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00024" num="00024"><img id="EMI-D00024" he="104.06mm" wi="129.79mm" file="US20230006917A1-20230105-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation of International Application No. PCT/CN2021/078532, filed on Mar. 1, 2021, which claims priority to Chinese Patent Application No. 202010177892.8, filed on Mar. 13, 2020. The disclosures of the aforementioned applications are hereby incorporated by reference in their entireties.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">This application relates to the field of communication technologies, and in particular, to a route determining method and apparatus and a network device.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">A data transmission system usually includes a source node, a destination node, and a plurality of forwarding nodes, and the source node may transmit a packet to the destination node through the plurality of forwarding nodes.</p><p id="p-0005" num="0004">To transmit the packet from the source node to the destination node, the source node and a forwarding node used as a next hop of the source node need to learn of a corresponding route. Currently, in a case of cross-domain packet transmission, a connection is usually established between the forwarding nodes, and each forwarding node may transmit, for example, a border gateway protocol labeled unicast packet through the established connection, to establish a packet transmission path or tunnel. Alternatively, the forwarding node determines at least one transmission path or tunnel based on control packets received from a controller. When forwarding the packet sent by the source node to the destination node, the forwarding node connected to the source node needs to determine a transmission path based on information about the destination node, or select, from the determined at least one tunnel based on a next-hop identifier carried in learned routing information of the destination node, a tunnel that reaches a forwarding node indicated by the next-hop identifier. Then, the forwarding node needs to forward the packet to the forwarding node through the transmission path or tunnel, so that the forwarding node sends the packet to the destination node after receiving the packet.</p><p id="p-0006" num="0005">However, before forwarding the packet, the forwarding node needs to determine a forwarding path of the packet by obtaining or transmitting dedicated control packets. In addition, overall network load is high due to a large quantity of control packets.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0007" num="0006">This application provides a route determining method and apparatus and a network device, to resolve a problem that a process in which a forwarding node determines a tunnel before forwarding a packet is complex. The technical solutions are as follows:</p><p id="p-0008" num="0007">According to a first aspect, a route determining method is provided. The method includes: A first forwarding node receives routing information sent by a second forwarding node, and then sends a packet to a destination node based on the routing information. The routing information includes a node identifier of the destination node and at least one piece of indication information, the at least one piece of indication information is in a one-to-one correspondence with at least one third forwarding node, and the second forwarding node belongs to the at least one third forwarding node. A packet sent by the first forwarding node includes the at least one piece of indication information, and the at least one piece of indication information indicates to forward the packet along the at least one third forwarding node.</p><p id="p-0009" num="0008">Because an issued route corresponding to the destination node carries indication information of a forwarding node, after receiving the routing information, a forwarding node connected to a source node may determine, based on the indication information of the forwarding node in the routing information, a route and a transmission path for sending a packet to the destination node, to forward the packet to the destination node based on the route and the transmission path. In this process, the indication information of the forwarding node is determined by the forwarding node and is added during route issuing. This avoids that the forwarding node connected to the source node determines the transmission path by transmitting a large quantity of control packets. Therefore, network load is reduced.</p><p id="p-0010" num="0009">Optionally, that the first forwarding node sends the packet to the destination node based on the routing information includes: The first forwarding node establishes a correspondence between the node identifier of the destination node and first tunnel information based on the routing information, and then sends the packet to the destination node based on the first tunnel information. The first tunnel information includes the at least one piece of indication information. In another case, the first forwarding node may alternatively not generate the tunnel information based on the routing information, but directly establish a local forwarding entry based on the received routing information. In this way, when the first forwarding node sends the packet to the destination node based on the routing information, the first forwarding node directly sends the packet to the destination node based on the at least one piece of indication information in the routing information.</p><p id="p-0011" num="0010">Optionally, the at least one piece of indication information includes a segment identifier of the at least one third forwarding node, and the segment identifier of the at least one third forwarding node is sequentially arranged based on a routing distance between the at least one third forwarding node and the first forwarding node. For example, SIDs of the forwarding nodes in the routing information may be arranged in descending order or ascending order of routing distances between these forwarding nodes and a PE<b>1</b>. A routing distance between two nodes may be represented by a quantity of nodes through which the packet transmitted between the two nodes needs to pass. A large quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a large routing distance between the two nodes; or a small quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a small routing distance between the two nodes. By introducing the segment identifier, each corresponding forwarding node may be clearly indicated, and protocol compatibility of this method is improved. In another possible case, with reference to a specific network application scenario, another type of information may alternatively be selected to indicate or identify the forwarding node.</p><p id="p-0012" num="0011">Optionally, the at least one piece of indication information further includes endpoint information of the at least one third forwarding node. The endpoint of the forwarding node may identify the forwarding node corresponding to the SID, and may be used to quickly determine the forwarding node corresponding to the SID, to facilitate verification, quick positioning, and node maintenance. Therefore, when the indication information of the forwarding node includes the endpoint, the corresponding forwarding node may be quickly determined based on the indication information of the forwarding node, so that maintenance of the forwarding node is facilitated. The endpoint may be information such as a loopback address.</p><p id="p-0013" num="0012">Optionally, the at least one third forwarding node includes a fourth forwarding node, the fourth forwarding node is a node that is in the at least one third forwarding node and that has a largest routing distance from the first forwarding node, the routing information further includes a next-hop identifier, and the next-hop identifier includes a node identifier of the fourth forwarding node. Because the next-hop identifier in the routing information is the node identifier of the fourth forwarding node, when forwarding the packet to the destination node based on the routing information, the first forwarding node may first forward the packet to the fourth forwarding node, so that the fourth forwarding node forwards the packet to the destination node. The next-hop identifier included in the routing information may be used for packet forwarding, tunnel iteration, or the like.</p><p id="p-0014" num="0013">Optionally, that the first forwarding node sends the packet to the destination node based on the first tunnel information includes: The first forwarding node obtains, based on the node identifier of the destination node, a plurality of pieces of tunnel information corresponding to the node identifier of the destination node, where the plurality of pieces of tunnel information correspond to a plurality of tunnels, and the plurality of pieces of tunnel information include the first tunnel information. Then, the first forwarding node may determine the first tunnel information from the plurality of pieces of tunnel information based on a tunnel constraint (for example, a transmission delay condition or a bandwidth condition), and send the packet to the destination node based on the determined first tunnel information. When there are a plurality of optional tunnels, an available tunnel is selected with reference to the tunnel constraint, so that robustness and usability of network transmission can be improved.</p><p id="p-0015" num="0014">Optionally, the at least one third forwarding node includes a fourth forwarding node, and the fourth forwarding node is a node that is in the at least one third forwarding node and that has a largest routing distance from the first forwarding node. The at least one piece of indication information in the routing information received by the first forwarding node includes first indication information, the first indication information indicates the fourth forwarding node, and a segment identifier type of the first indication information is a binding segment identifier. When the segment identifier type of the first indication information is the binding segment identifier, it indicates that the fourth forwarding node changes the next-hop identifier in the routing information when forwarding the routing information. Certainly, when the fourth forwarding node changes the next-hop identifier, the segment identifier type of the first indication information may alternatively not be the binding segment identifier, but may be another proper identifier type. In this optional solution, one or more forwarding nodes on the transmission path are allowed to modify next-hop information, so that flexibility of using the solution is improved. For example, in a scenario in which a large quantity of forwarding nodes are included on the transmission path, by using the solution of modifying a next hop, a length of routing information transmitted in a network can be properly reduced, so that network transmission resources are saved.</p><p id="p-0016" num="0015">According to a second aspect, a route determining method is provided. The method includes: After obtaining routing information, a second forwarding node adds first indication information to the routing information, to obtain updated routing information, and sends the updated routing information to a first forwarding node. The routing information includes a node identifier of a destination node and at least one piece of indication information, the at least one piece of indication information indicates at least one third forwarding node, and the first indication information indicates the second forwarding node. The second forwarding node may obtain the routing information locally (for example, a case in which an address of the destination node included in an issued route is a locally stored loopback address), or may receive the routing information from another network device.</p><p id="p-0017" num="0016">In the route determining method provided in this embodiment of this application, the second forwarding node adds the first indication information to the routing information, and issues the updated routing information. Therefore, after receiving the routing information, the forwarding node connected to a source node may determine, based on the indication information of the forwarding node in the routing information, a route and a transmission path for sending a packet to the destination node, to forward the packet to the destination node based on the route and the transmission path. This process avoids that the forwarding node connected to the source node determines the transmission path by frequently transmitting control packets. Therefore, a quantity of control packets transmitted in a network is reduced, and network load is reduced.</p><p id="p-0018" num="0017">Optionally, the routing information obtained by the second forwarding node further includes a next-hop identifier.</p><p id="p-0019" num="0018">The second forwarding node may not change the next-hop identifier in the obtained routing information. In this case, the updated routing information includes the first indication information and the at least one piece of indication information.</p><p id="p-0020" num="0019">Alternatively, the second forwarding node may change the next-hop identifier in the obtained routing information. In this case, that a second forwarding node adds first indication information to the routing information, to obtain updated routing information includes: The second forwarding node updates the next-hop identifier to a node identifier of the second forwarding node, replaces the at least one piece of indication information with the first indication information, to add the first indication information to the routing information, to obtain the updated routing information. The updated routing information includes the node identifier of the second forwarding node and the first indication information. In this case, the second forwarding node may store a correspondence between the first indication information (namely, the node identifier of the second forwarding node) and the at least one piece of indication information, to facilitate subsequent successful forwarding of the packet.</p><p id="p-0021" num="0020">Optionally, when the second forwarding node does not change the next-hop identifier in the obtained routing information, after that the second forwarding node sends the updated routing information, the method further includes: The second forwarding node receives a packet sent to the destination node, and sends an updated packet to a fourth forwarding node. The packet received by the second forwarding node includes the first indication information and the at least one piece of indication information; and the updated packet includes the at least one piece of indication information but does not include the first indication information, and the fourth forwarding node belongs to the at least one third forwarding node. It can be learned that when the second forwarding node does not change the next-hop identifier in the received routing information, after receiving the packet, the second forwarding node deletes or replaces the indication information of the second forwarding node in the packet, to obtain the updated packet. The deletion or replacement manner may be, for example, a specific operation form such as popping the indication information from a stack or updating a packet header including the indication information.</p><p id="p-0022" num="0021">Optionally, when the second forwarding node changes the next-hop identifier in the obtained routing information, after that the second forwarding node sends the updated routing information, the method further includes: The second forwarding node receives a packet sent to the destination node, and sends an updated packet to a fourth forwarding node. The packet received by the second forwarding node includes the first indication information; and the updated packet includes the at least one piece of indication information but does not include the first indication information, and the fourth forwarding node belongs to the at least one third forwarding node. It can be learned that when the second forwarding node changes the next-hop identifier in the received routing information, after receiving the packet, the second forwarding node replaces the indication information in the packet, to be specific, replaces the first indication information with the at least one piece of indication information based on the previously stored correspondence between the first indication information and the at least one piece of indication information, to implement subsequent successful forwarding of the packet.</p><p id="p-0023" num="0022">Optionally, that the second forwarding node sends the updated packet to the fourth forwarding node includes: The second forwarding node removes the first indication information from the packet, adds the at least one piece of indication information to the packet based on the correspondence between the first indication information and the at least one piece of indication information, and then sends the updated packet to the fourth forwarding node.</p><p id="p-0024" num="0023">Optionally, the at least one piece of indication information includes a segment identifier of the at least one third forwarding node, the segment identifier of the at least one third forwarding node is sequentially arranged based on a routing distance between the at least one third forwarding node and the first forwarding node, and the first forwarding node is the 1st forwarding node that forwards the packet to the destination node. For example, SIDs of the forwarding nodes in the routing information may be arranged in descending order or ascending order of routing distances between these forwarding nodes and a PE<b>1</b>. A routing distance between two nodes may be represented by a quantity of nodes through which the packet transmitted between the two nodes needs to pass. A large quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a large routing distance between the two nodes; or a small quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a small routing distance between the two nodes.</p><p id="p-0025" num="0024">Optionally, the at least one piece of indication information further includes endpoint information of the at least one third forwarding node. The endpoint of the forwarding node may be used to quickly determine the forwarding node corresponding to the SID, to facilitate subsequent maintenance of the forwarding node. The endpoint may be information such as a loopback address.</p><p id="p-0026" num="0025">Optionally, when the second forwarding node changes the next-hop identifier in the received routing information, the first indication information includes a binding segment identifier of the second forwarding node. When the second forwarding node changes the next-hop identifier in the received routing information, the first indication information may alternatively not include the binding segment identifier of the second forwarding node.</p><p id="p-0027" num="0026">According to a third aspect, a route determining method is provided. The method includes: After obtaining first routing information of a destination node, a forwarding node generates second routing information based on the first routing information, and sends the second routing information. The second routing information includes a node identifier of the destination node, a next-hop identifier, and indication information, the indication information indicates the forwarding node, and the next-hop identifier is a node identifier of the forwarding node.</p><p id="p-0028" num="0027">In the route determining method provided in this embodiment of this application, the second routing information generated by the forwarding node includes indication information of the forwarding node. Therefore, after receiving the routing information, the forwarding node connected to a source node may determine, based on the indication information of the forwarding node in the routing information, a route and a transmission path for sending a packet to the destination node, to forward the packet to the destination node based on the route and the transmission path. In this process, the indication information used to determine the transmission path is directly added by each forwarding node to the issued route. This avoids that the forwarding node connected to the source node determines the transmission path by receiving control packets. Therefore, the control packets transmitted in a network are reduced, and network load is reduced.</p><p id="p-0029" num="0028">Optionally, the indication information of the forwarding node includes a segment identifier of the forwarding node. Optionally, the at least one piece of indication information further includes endpoint information of the at least one third forwarding node. This is not limited in this application.</p><p id="p-0030" num="0029">Optionally, after that the forwarding node sends the second routing information, the method further includes: The forwarding node receives a packet, and forwards the packet to the destination node based on the node identifier of the destination node, or stores the packet in the destination node based on the node identifier of the destination node. The packet received by the forwarding node includes the node identifier of the destination node and the indication information.</p><p id="p-0031" num="0030">According to a fourth aspect, a route determining apparatus is provided. The route determining apparatus includes: a receiving module, configured to receive routing information sent by a second forwarding node, where the routing information includes a node identifier of a destination node and at least one piece of indication information, the at least one piece of indication information is in a one-to-one correspondence with at least one third forwarding node, and the second forwarding node belongs to the at least one third forwarding node; and a sending module, configured to send a packet to the destination node based on the routing information, where the packet includes the at least one piece of indication information, and the at least one piece of indication information indicates to forward the packet along the at least one third forwarding node.</p><p id="p-0032" num="0031">Because the routing information of the destination node carries the indication information of the forwarding node, after receiving the routing information, the forwarding node connected to a source node may determine, based on the indication information of the forwarding node in the routing information, a route and a transmission path for sending a packet to the destination node, to forward the packet to the destination node based on the route and the transmission path. In this process, each piece of indication information is autonomously added by each forwarding node. This avoids that the forwarding node connected to the source node determines the transmission path by receiving control packets. Therefore, a quantity of control packets transmitted in a network is reduced, and network load is reduced.</p><p id="p-0033" num="0032">Optionally, the sending module is configured to: establish a correspondence between the node identifier of the destination node and first tunnel information based on the routing information, where the first tunnel information includes the at least one piece of indication information; and send the packet to the destination node based on the first tunnel information. Certainly, the first forwarding node may alternatively not establish the correspondence based on the routing information, and correspondingly, does not obtain the first tunnel information. When sending the packet to the destination node based on the routing information, the first forwarding node may directly send the packet to the destination node based on the at least one piece of indication information in the routing information. This is not limited in this application.</p><p id="p-0034" num="0033">Optionally, the at least one piece of indication information includes a segment identifier of the at least one third forwarding node, and the segment identifier of the at least one third forwarding node is sequentially arranged based on a routing distance between the at least one third forwarding node and the first forwarding node. For example, SIDs of the forwarding nodes in the routing information may be arranged in descending order or ascending order of routing distances between these forwarding nodes and a PE<b>1</b>. A routing distance between two nodes may be represented by a quantity of nodes through which the packet transmitted between the two nodes needs to pass. A large quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a large routing distance between the two nodes; or a small quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a small routing distance between the two nodes.</p><p id="p-0035" num="0034">Optionally, the at least one piece of indication information further includes endpoint information of the at least one third forwarding node.</p><p id="p-0036" num="0035">Optionally, the at least one third forwarding node includes a fourth forwarding node, the fourth forwarding node is a node that is in the at least one third forwarding node and that has a largest routing distance from the first forwarding node, the routing information further includes a next-hop identifier, and the next-hop identifier includes a node identifier of the fourth forwarding node. Because the next-hop identifier in the routing information is the node identifier of the fourth forwarding node, when forwarding the packet to the destination node based on the routing information, the first forwarding node may first forward the packet to the fourth forwarding node, so that the fourth forwarding node forwards the packet to the destination node.</p><p id="p-0037" num="0036">Optionally, the sending module is configured to: obtain, based on the node identifier of the destination node, a plurality of pieces of tunnel information corresponding to the node identifier of the destination node, where the plurality of pieces of tunnel information correspond to a plurality of tunnels, and the plurality of pieces of tunnel information include the first tunnel information; determine the first tunnel information from the plurality of pieces of tunnel information based on a tunnel constraint (for example, a transmission delay condition or a bandwidth condition); and send the packet to the destination node based on the determined first tunnel information.</p><p id="p-0038" num="0037">Optionally, the at least one third forwarding node includes a fourth forwarding node, the fourth forwarding node is a node that is in the at least one third forwarding node and that has a largest routing distance from the first forwarding node, the at least one piece of indication information includes first indication information, the first indication information indicates the fourth forwarding node, and a segment identifier type of the first indication information is a binding segment identifier. When the segment identifier type of the first indication information is the binding segment identifier, it indicates that the fourth forwarding node changes the next-hop identifier in the routing information when forwarding the routing information. When the fourth forwarding node changes the next-hop identifier, the segment identifier type of the first indication information may alternatively not be the binding segment identifier.</p><p id="p-0039" num="0038">According to a fifth aspect, a route determining apparatus is provided. The route determining apparatus includes: a first obtaining module, configured to obtain routing information, where the routing information includes a node identifier of a destination node and at least one piece of indication information, and the at least one piece of indication information indicates at least one third forwarding node; a processing module, configured to add first indication information to the routing information, to obtain updated routing information, where the first indication information indicates a second forwarding node; and a first sending module, configured to send the updated routing information to a first forwarding node.</p><p id="p-0040" num="0039">Optionally, the routing information obtained by the first obtaining module further includes a next-hop identifier.</p><p id="p-0041" num="0040">The second forwarding node may not change the next-hop identifier in the obtained routing information. In this case, the updated routing information includes the first indication information and the at least one piece of indication information.</p><p id="p-0042" num="0041">Alternatively, the second forwarding node may change the next-hop identifier in the obtained routing information. In this case, the processing module is configured to: update the next-hop identifier to a node identifier of the second forwarding node; and replace the at least one piece of indication information with the first indication information, to add the first indication information to the routing information, where the updated routing information includes the node identifier of the second forwarding node and the first indication information.</p><p id="p-0043" num="0042">Optionally, when the second forwarding node does not change the next-hop identifier in the obtained routing information, the route determining apparatus further includes: a second receiving module, configured to receive a packet sent to the destination node, where the packet includes the first indication information and the at least one piece of indication information; and a second sending module, configured to send an updated packet to a fourth forwarding node, where the updated packet includes the at least one piece of indication information but does not include the first indication information, and the fourth forwarding node belongs to the at least one third forwarding node. It can be learned that when the second forwarding node does not change the next-hop identifier in the received routing information, after receiving the packet, the second forwarding node deletes or replaces the indication information of the second forwarding node in the packet, to obtain the updated packet.</p><p id="p-0044" num="0043">Optionally, when the second forwarding node changes the next-hop identifier in the obtained routing information, the route determining apparatus further includes: a third receiving module, configured to receive a packet sent to the destination node, where the packet includes the first indication information; and a third sending module, configured to send an updated packet to a fourth forwarding node, where the updated packet includes the at least one piece of indication information but does not include the first indication information, and the fourth forwarding node belongs to the at least one third forwarding node. It can be learned that when the second forwarding node changes the next-hop identifier in the received routing information, after receiving the packet, the second forwarding node replaces the indication information in the packet.</p><p id="p-0045" num="0044">Optionally, the third sending module is configured to: remove the first indication information from the packet, add the at least one piece of indication information to the packet based on a correspondence between the first indication information and the at least one piece of indication information, and send the updated packet to the fourth forwarding node.</p><p id="p-0046" num="0045">Optionally, the at least one piece of indication information includes a segment identifier of the at least one third forwarding node, the segment identifier of the at least one third forwarding node is sequentially arranged based on a routing distance between the at least one third forwarding node and the first forwarding node, and the first forwarding node is the 1st forwarding node that forwards the packet to the destination node. For example, SIDs of the forwarding nodes in the routing information may be arranged in descending order or ascending order of routing distances between these forwarding nodes and a PE<b>1</b>. A routing distance between two nodes may be represented by a quantity of nodes through which the packet transmitted between the two nodes needs to pass. A large quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a large routing distance between the two nodes; or a small quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a small routing distance between the two nodes.</p><p id="p-0047" num="0046">Optionally, the at least one piece of indication information further includes endpoint information of the at least one third forwarding node. Optionally, when the second forwarding node changes the next-hop identifier in the received routing information, the first indication information includes a binding segment identifier of the second forwarding node. Certainly, when the second forwarding node changes the next-hop identifier in the received routing information, the first indication information may alternatively not include the binding segment identifier of the second forwarding node. This is not limited in this application.</p><p id="p-0048" num="0047">According to a sixth aspect, a route determining apparatus is provided. The route determining apparatus includes: a first obtaining module, configured to obtain first routing information of a destination node; a first processing module, configured to generate second routing information based on the first routing information, where the second routing information includes a node identifier of the destination node, a next-hop identifier, and indication information, the indication information indicates a forwarding node, and the next-hop identifier is a node identifier of the forwarding node; and a first sending module, configured to send the second routing information.</p><p id="p-0049" num="0048">Optionally, the indication information of the forwarding node includes a segment identifier of the forwarding node. Optionally, the at least one piece of indication information further includes endpoint information of the at least one third forwarding node.</p><p id="p-0050" num="0049">Optionally, the route determining apparatus further includes: a second receiving module, configured to receive a packet, where the packet includes the node identifier of the destination node and the indication information; and a second processing module, configured to: forward the packet to the destination node based on the node identifier of the destination node, or store the packet in the destination node based on the node identifier of the destination node.</p><p id="p-0051" num="0050">According to a seventh aspect, a network device is provided. The network device includes a processor and a memory. The memory stores a program, and the processor is configured to invoke the program stored in the memory, to enable the network device to perform the route determining method according to any design in the first aspect.</p><p id="p-0052" num="0051">According to an eighth aspect, a network device is provided. The network device includes a processor and a memory. The memory stores a program, and the processor is configured to invoke the program stored in the memory, to enable the network device to perform the route determining method according to any design in the second aspect.</p><p id="p-0053" num="0052">According to a ninth aspect, a network device is provided. The network device includes a processor and a memory. The memory stores a program, and the processor is configured to invoke the program stored in the memory, to enable the network device to perform the route determining method according to any design in the third aspect.</p><p id="p-0054" num="0053">According to a tenth aspect, a network device is provided. The network device includes a processor. The processor is configured to be coupled to a memory, to invoke a computer program stored in the memory, to perform the route determining method according to any design in the first aspect.</p><p id="p-0055" num="0054">According to an eleventh aspect, a network device is provided. The network device includes a processor. The processor is configured to be coupled to a memory, to invoke a computer program stored in the memory, to perform the route determining method according to any design in the second aspect.</p><p id="p-0056" num="0055">According to a twelfth aspect, a network device is provided. The network device includes a processor. The processor is configured to be coupled to a memory, to invoke a computer program stored in the memory, to perform the route determining method according to any design in the third aspect.</p><p id="p-0057" num="0056">According to a thirteenth aspect, a computer storage medium is provided. The storage medium stores a computer program, and the computer program is used to perform the route determining method according to any design in the first aspect.</p><p id="p-0058" num="0057">According to a fourteenth aspect, a computer storage medium is provided. The storage medium stores a computer program, and the computer program is used to perform the route determining method according to any design in the second aspect.</p><p id="p-0059" num="0058">According to a fifteenth aspect, a computer storage medium is provided. The storage medium stores a computer program, and the computer program is used to perform the route determining method according to any design in the third aspect.</p><p id="p-0060" num="0059">According to a sixteenth aspect, a computer program product including instructions is provided. When the computer program product runs on a network device, the network device is enabled to perform the route determining method according to any design in the first aspect.</p><p id="p-0061" num="0060">According to a seventeenth aspect, a computer program product including instructions is provided. When the computer program product runs on a network device, the network device is enabled to perform the route determining method according to any design in the second aspect.</p><p id="p-0062" num="0061">According to an eighteenth aspect, a computer program product including instructions is provided. When the computer program product runs on a network device, the network device is enabled to perform the route determining method according to any design in the third aspect.</p><p id="p-0063" num="0062">For technical effects brought by any design in the seventh aspect to the eighteenth aspect, refer to technical effects brought by the corresponding design manners in the first aspect to the third aspect. Details are not described herein again.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram of an application scenario of a route determining method according to an embodiment of this application;</p><p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> are a flowchart of a route determining method according to an embodiment of this application;</p><p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic diagram of transmitting a routing message according to an embodiment of this application;</p><p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of transmitting a packet according to an embodiment of this application;</p><p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref> are a flowchart of another route determining method according to an embodiment of this application;</p><p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of transmitting another routing message according to an embodiment of this application;</p><p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of transmitting another packet according to an embodiment of this application;</p><p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a schematic diagram of transmitting still another routing message according to an embodiment of this application;</p><p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a schematic diagram of transmitting still another packet according to an embodiment of this application;</p><p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flowchart of a route determining method for a first forwarding node according to an embodiment of this application;</p><p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a flowchart of a route determining method for a second forwarding node according to an embodiment of this application;</p><p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a flowchart of another route determining method for a second forwarding node according to an embodiment of this application;</p><p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a flowchart of another route determining method for a second forwarding node according to an embodiment of this application;</p><p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a flowchart of another route determining method for a second forwarding node according to an embodiment of this application;</p><p id="p-0078" num="0077"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a schematic diagram of an application scenario of another route determining method according to an embodiment of this application;</p><p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a block diagram of a route determining apparatus according to an embodiment of this application;</p><p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a schematic diagram of a structure of a network device according to an embodiment of this application;</p><p id="p-0081" num="0080"><figref idref="DRAWINGS">FIG. <b>18</b></figref> is a schematic diagram of a structure of another network device according to an embodiment of this application;</p><p id="p-0082" num="0081"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a block diagram of another route determining apparatus according to an embodiment of this application;</p><p id="p-0083" num="0082"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a block diagram of another route determining apparatus according to an embodiment of this application;</p><p id="p-0084" num="0083"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is a block diagram of another route determining apparatus according to an embodiment of this application;</p><p id="p-0085" num="0084"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is a schematic diagram of a structure of another network device according to an embodiment of this application;</p><p id="p-0086" num="0085"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is a schematic diagram of a structure of still another network device according to an embodiment of this application;</p><p id="p-0087" num="0086"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a block diagram of another route determining apparatus according to an embodiment of this application;</p><p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. <b>25</b></figref> is a block diagram of another route determining apparatus according to an embodiment of this application;</p><p id="p-0089" num="0088"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a schematic diagram of a structure of still another network device according to an embodiment of this application; and</p><p id="p-0090" num="0089"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is a schematic diagram of a structure of still another network device according to an embodiment of this application.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS</heading><p id="p-0091" num="0090">To make principles and technical solutions of this application clearer, the following further describes implementations of this application in detail with reference to the accompanying drawings.</p><p id="p-0092" num="0091"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram of an application scenario of a route determining method according to an embodiment of this application. The application scenario includes a plurality of nodes, and the plurality of nodes include a source node, a destination node, and a plurality of forwarding nodes. The source node and the destination node each may be connected to a part of the plurality of forwarding nodes, and a connection relationship exists between the plurality of forwarding nodes. Therefore, a packet transmission path from the source node to the destination node may be formed.</p><p id="p-0093" num="0092">For example, <figref idref="DRAWINGS">FIG. <b>1</b></figref> uses an example in which the source node is a customer edge (CE) node CE<b>1</b>, the destination node is a CE<b>2</b>, and the plurality of forwarding nodes include a provider edge (PE) node PE<b>1</b>, a PE<b>2</b>, and gateway (GW) nodes GW<b>1</b> and GW<b>2</b>. <figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a network application scenario of cross-domain packet transmission. The CE<b>1</b> is connected to the PE<b>1</b>, the CE<b>2</b> is connected to the PE<b>2</b>, and the PE<b>1</b>, the GW<b>1</b>, the GW<b>2</b>, and the PE<b>2</b> are sequentially connected.</p><p id="p-0094" num="0093">The plurality of forwarding nodes may be located in one or more network domains. <figref idref="DRAWINGS">FIG. <b>1</b></figref> uses an example in which the PE<b>1</b> and the GW<b>2</b> are located in a network domain <b>1</b>, and the GW<b>2</b> and the PE<b>2</b> are located in a network domain <b>2</b>.</p><p id="p-0095" num="0094">It should be noted that the node in this embodiment of this application may be an independent network device, or may be a module having a forwarding function in a network device (in this case, the network device may include one or more nodes having a forwarding function). The network device may be a device such as a switch or a router.</p><p id="p-0096" num="0095">The source node may forward a packet to the destination node through the plurality of forwarding nodes. Before forwarding the packet, the forwarding node needs to determine at least one tunnel based on an established connection relationship between the forwarding nodes. When forwarding the packet sent by the source node to the destination node, the forwarding node (for example, the PE<b>1</b>) connected to the source node (for example, the CE<b>1</b>) needs to determine, from the at least one tunnel based on a next-hop identifier in routing information issued by the destination node (for example, the CE<b>2</b>), a tunnel that reaches the forwarding node (for example, the PE<b>2</b>) indicated by the next-hop identifier. Then, the forwarding node connected to the source node needs to forward, through the tunnel, the packet to a forwarding node used as a next hop, so that the forwarding node used as the next hop sends the packet to the destination node after receiving the packet.</p><p id="p-0097" num="0096">A tunnel established between the PE<b>1</b> and the PE<b>2</b> shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is used as an example. A conventional manner of establishing the tunnel between the PE<b>1</b> and the PE<b>2</b> may be, for example, establishment according to a border gateway protocol labeled unicast (BGP-LU) protocol. In this manner, when the PE<b>2</b> issues a route of the CE<b>2</b> to the PE<b>1</b>, the PE<b>2</b> is set as a next hop of the route of the CE<b>2</b>, and the GW<b>1</b> and the GW<b>2</b> do not change next hops when receiving the route. In this case, after receiving the route of the CE<b>2</b>, the PE<b>1</b> searches, based on information PE<b>2</b> about the next hop in the route, for a tunnel whose destination address is the PE<b>2</b>, so that the tunnel between the PE<b>1</b> and the PE<b>2</b> is established. Alternatively, for example, a tunnel whose destination address is the PE<b>1</b> may be determined for the PE<b>1</b> through global calculation of a network controller, and delivered to the PE<b>1</b>.</p><p id="p-0098" num="0097">However, a process in which the forwarding node determines the tunnel in the foregoing conventional manner before forwarding the packet is complex, and a large quantity of control protocol packets need to be transmitted for determining the tunnel, resulting in high overall network load.</p><p id="p-0099" num="0098">Embodiments of this application provide a route determining method. In the route determining method, a route message carries indication information of at least one forwarding node, so that a forwarding tunnel can be quickly established. In addition, because a manner of determining the tunnel by transmitting control packets is avoided, complexity of implementing tunnel establishment is reduced, and load of resources on an entire network is reduced.</p><p id="p-0100" num="0099">For example, <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> are a flowchart of a route determining method according to an embodiment of this application. In addition, the application scenario shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is used as an example in the route determining method. As shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, the route determining method includes the following steps.</p><p id="p-0101" num="0100">S<b>201</b>: A CE<b>2</b> sends first routing information to a PE<b>2</b>.</p><p id="p-0102" num="0101">The first routing information is private network routing information issued by the CE<b>2</b>, so that a network device receiving the routing information learns of a route of the CE<b>2</b>. The private network routing information carries a node identifier of a destination node. After learning of the route, another network device may send a packet to the destination node based on the route. The node identifier of the destination node may be carried in a source address field of the route or another specified field. The node identifier of the destination node may be, for example, a route prefix set by the CE<b>2</b>. For example, the CE<b>2</b> is connected to a plurality of user hosts, and the route prefix carried in the first routing information may be a network segment address covering some or all of the plurality of user hosts. The node identifier of the destination node may alternatively be an internet protocol (IP) address corresponding to a specific network device, or the like, and the specific network device may be, for example, the CE<b>2</b>, user equipment connected to the CE<b>2</b>, or another router connected to the CE<b>2</b>. An example in which the CE<b>2</b> issues the first routing information to the PE<b>2</b> is used in S<b>201</b>. In this case, the CE<b>2</b> is a node in a virtual private network (VPN) instance managed by the PE<b>2</b>. In another possible case, the first routing information obtained by the PE<b>2</b> may not be from the CE<b>2</b>, but may be routing information issued by the PE<b>2</b> based on a locally configured loopback address in a VPN instance, or the like. In this case, the loopback address is the node identifier of the destination node. A manner of obtaining the first routing information is not uniquely limited in this embodiment of this application.</p><p id="p-0103" num="0102">S<b>202</b>: The PE<b>2</b> generates second routing information based on the first routing information, where the second routing information includes indication information of the PE<b>2</b>.</p><p id="p-0104" num="0103">After obtaining the first routing information, the PE<b>2</b> may generate the second routing information based on the first routing information. The first routing information may be obtained from another network device (for example, the CE<b>2</b>), or may be locally obtained (for example, based on a locally stored loopback address), or may be obtained through manual configuration. After being generated, the second routing information may be, for example, issued in a unicast mode according to border gateway protocol (BGP) internet protocol version 4 (Ipv4), or may be issued according to virtual private network version 4 (VPNv4), or an Ethernet virtual private network (EVPN) address family protocol.</p><p id="p-0105" num="0104">An example in which the PE<b>2</b> receives the first routing information issued by the CE<b>2</b> and generates the second routing information based on the first routing information is used for description herein. As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, in this case, the second routing information generated by the PE<b>2</b> includes a node identifier of the destination node, a next-hop identifier, and indication information of the PE<b>2</b>. For example, the node identifier of the destination node may be specifically a prefix address (represented by the CE<b>2</b> for short in <figref idref="DRAWINGS">FIG. <b>3</b></figref>) in a route issued by the CE<b>2</b>, and the next-hop identifier is node identifier information (for example, an IP address and corresponding interface information, represented by the PE<b>2</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>) of the PE<b>2</b>. In this way, after learning of the route including the second routing information, another network device may send the packet to the CE<b>2</b> through the PE<b>2</b>. The CE<b>2</b> then sends, based on the prefix address, the packet to one or more user hosts connected to the CE<b>2</b>. The second routing information further includes the indication information that is added by the PE<b>2</b> and that indicates the PE<b>2</b>. For example, the indication information may include a segment identifier (SID), represented by an SID-PE<b>2</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, of the PE<b>2</b>.</p><p id="p-0106" num="0105">The SID in this embodiment of this application may be an SID in any communication technology, for example, a multiprotocol label switching (MPLS) labeling technology or an internet protocol version 6 (IPv6)-based segment routing (SR) technology (also referred to as an SRv6 technology).</p><p id="p-0107" num="0106">Optionally, the indication information of the forwarding node may further include endpoint information of the forwarding node. <figref idref="DRAWINGS">FIG. <b>3</b></figref> uses an example in which the indication information of the forwarding node includes only the SID of the forwarding node.</p><p id="p-0108" num="0107">The endpoint of the forwarding node may identify the forwarding node corresponding to the SID, and may be used to quickly determine the forwarding node corresponding to the SID, to perform operations such as verification, quick positioning, and node maintenance. When the indication information of the forwarding node includes the endpoint, the corresponding forwarding node may be quickly determined based on the indication information of the forwarding node. The endpoint information may be specifically a loopback address on the corresponding forwarding node or the like.</p><p id="p-0109" num="0108">The second routing information may further include other information than the node identifier of the destination node, the next-hop identifier, and the indication information of the PE<b>2</b>. This is not particularly limited in this embodiment of this application. For example, the second routing information may further include a label of a private network in which CE<b>2</b> is located. <figref idref="DRAWINGS">FIG. <b>3</b></figref> uses an example in which the label of the private network is Li.</p><p id="p-0110" num="0109">In a specific example in which the second routing information is carried in the route issued by the PE<b>2</b>, the node identifier of the destination node may be located in a prefix attribute part (represented as a prefix in <figref idref="DRAWINGS">FIG. <b>3</b></figref>) of the route, the next-hop identifier may be located in a next-hop attribute part (represented as a next hop in <figref idref="DRAWINGS">FIG. <b>3</b></figref>), and the label of the private network in which the CE<b>2</b> is located may be located in a private network label attribute part (represented as a private network label in <figref idref="DRAWINGS">FIG. <b>3</b></figref>). The indication information of the forwarding node (for example, the indication information of the PE<b>2</b>) may be located in a corresponding attribute field (represented as a path attribute in <figref idref="DRAWINGS">FIG. <b>3</b></figref>) indicating an arrangement of a forwarding path. For example, the foregoing attributes may be directly carried in corresponding attribute fields of the issued route (for example, issued through IPv4 unicast), or may be carried in a specified part of a specified attribute field in the route. The specified attribute field may be, for example, a multiprotocol reachability-network layer reachability information field (MP-NLRI).</p><p id="p-0111" num="0110">An arrangement order of various attributes in the route shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref> is merely used as a possible example. In an actual application scenario, an arrangement position and manner of the attributes may be set as required. For example, the attributes may be arranged consecutively or inconsecutively, or may be placed in any proper position in the route. Compared with <figref idref="DRAWINGS">FIG. <b>3</b></figref>, content of attribute fields specifically carried in the route may alternatively be added, deleted, or adjusted as required, but includes at least one or more pieces of corresponding indication information indicating one or more necessary forwarding nodes on the forwarding path. A specific arrangement manner and a presentation form of one or more pieces of indication information may change.</p><p id="p-0112" num="0111">S<b>203</b>: The PE<b>2</b> sends the second routing information to a GW<b>2</b>.</p><p id="p-0113" num="0112">After obtaining the second routing information, the PE<b>2</b> may send the second routing information to one or more nodes connected to the PE<b>2</b>, for example, the GW<b>2</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0114" num="0113"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows only the forwarding node GW<b>2</b> connected to the PE<b>2</b>. In an actual scenario, the PE<b>2</b> may alternatively be connected to another forwarding node, and send the second routing information to the another forwarding node.</p><p id="p-0115" num="0114">S<b>204</b>: The GW<b>2</b> adds indication information of the GW<b>2</b> to the second routing information, to obtain third routing information.</p><p id="p-0116" num="0115">After receiving the second routing information, the GW<b>2</b> adds the indication information of the GW<b>2</b> to the second routing information, to update the second routing information to obtain the third routing information. For an explanation of the indication information of the GW<b>2</b>, refer to an explanation of the indication information of the PE<b>2</b> in S<b>202</b>. Details are not described in this embodiment of this application again.</p><p id="p-0117" num="0116">Because the GW<b>2</b> adds the indication information of the GW<b>2</b> to the second routing information, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the third routing information (which may also be referred to as updated second routing information) obtained by the GW<b>2</b> may include the node identifier (represented by the CE<b>2</b> in the figure) of the destination node, the next-hop identifier, the indication information (represented by an SID-PE<b>2</b> in the figure) of the PE<b>2</b>, and the indication information (represented by an SID-GW<b>2</b> in the figure) of the GW<b>2</b>, and the next-hop identifier is a node identifier (represented by the PE<b>2</b> in the figure) of the PE<b>2</b>.</p><p id="p-0118" num="0117">When the path attribute field includes a plurality of pieces of indication information of a plurality of forwarding nodes, the plurality of pieces of indication information may be arranged according to a specific rule. For example, the plurality of pieces of indication information may be sequentially arranged based on routing distances between a forwarding node that receives a route including the plurality of pieces of indication information and the plurality of forwarding nodes to which the plurality of pieces of indication information are added. <figref idref="DRAWINGS">FIG. <b>3</b></figref> is still used as an example. If the PE<b>1</b> is the forwarding node that receives the route, and in this case, the route separately includes the indication information SID-PE<b>2</b>, SID-GW<b>2</b>, and SID-GW<b>1</b> respectively added by the GW<b>1</b>, the GW<b>2</b>, and the PE<b>2</b>, the three pieces of indication information may be sequentially arranged based on routing distances between the GW<b>1</b>, the GW<b>2</b>, and the PE<b>2</b> and the PE<b>1</b>.</p><p id="p-0119" num="0118">A routing distance between two nodes may be represented by a quantity of nodes through which the packet transmitted between the two nodes needs to pass. A large quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a large routing distance between the two nodes; or a small quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a small routing distance between the two nodes. For example, the PE<b>1</b> may transmit the packet to the PE<b>2</b> through a path PE<b>1</b>-GW<b>1</b>-GW<b>2</b>. To be specific, after being forwarded by the PE<b>1</b>, the packet needs to successively pass through two nodes GW<b>1</b> and GW<b>2</b> to reach the PE<b>2</b>. In this case, there is only one hop from the GW<b>1</b> to the PE<b>1</b>, and there are two hops from the GW<b>2</b> to the PE<b>1</b>. Therefore, it may be considered that a routing distance between the GW<b>2</b> and the PE<b>1</b> is greater than a routing distance between the GW<b>1</b> and the PE<b>1</b>.</p><p id="p-0120" num="0119">For another example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the third routing information includes the SID (represented by the SID-PE<b>2</b>) of the PE<b>2</b> and an SID (represented by the SID-GW<b>2</b>) of the GW<b>2</b>. Because a routing distance between the PE<b>2</b> and the PE<b>1</b> is greater than a routing distance between the GW<b>2</b> and the PE<b>1</b>, the SID-GW<b>2</b> may be arranged after the SID-PE<b>2</b>. The foregoing content is intended to describe a possible arrangement manner of the SIDs of the forwarding nodes in the route based on the routing distances. In an actual execution process of route issuing, when adding the indication information of the GW<b>2</b> to the second routing information, the GW<b>2</b> may directly add the indication information of the GW<b>2</b> to a tail of the indication information of the PE<b>2</b> in the second routing information, and there is no need to actually calculate a routing distance. The arrangement manner in <figref idref="DRAWINGS">FIG. <b>3</b></figref> is merely used as an example. The plurality of pieces of indication information may be arranged in ascending order, or may be arranged in descending order, or may be arranged according to another arrangement rule or arrangement manner that the forwarding nodes may comply with, provided that the current forwarding node that receives the packet may determine (including determining through calculation according to a preset rule) a position of the indication information corresponding to the current forwarding node and a position of the indication information corresponding to the next-hop forwarding node based on the plurality of pieces of indication information carried in the packet. In this way, the current forwarding node may determine an operation that the current forwarding node needs to perform and a forwarding node to which the packet is forwarded. For example, when adding the SID to the issued route, each forwarding node may add indication bit indicating a sorting position of the SID.</p><p id="p-0121" num="0120">S<b>205</b>: The GW<b>2</b> sends the third routing information to a GW<b>1</b>.</p><p id="p-0122" num="0121">For a process in which the GW<b>2</b> sends the third routing information to the GW<b>1</b>, refer to a process in which the PE<b>2</b> sends the second routing information to the GW<b>2</b> in S<b>203</b>. Details are not described in this embodiment of this application again.</p><p id="p-0123" num="0122">S<b>206</b>: The GW<b>1</b> adds indication information of the GW<b>1</b> to the third routing information, to obtain fourth routing information.</p><p id="p-0124" num="0123">For a process in which the GW<b>1</b> adds the indication information of the GW<b>1</b> to the third routing information, to obtain the fourth routing information, refer to a process in which the GW<b>2</b> adds the indication information of the GW<b>2</b> to the second routing information, to obtain the third routing information in S<b>204</b>. Details are not described in this embodiment of this application again.</p><p id="p-0125" num="0124">Still refer to <figref idref="DRAWINGS">FIG. <b>3</b></figref>. The fourth routing information includes the node identifier (represented by as the CE<b>2</b>) of the destination node, the next-hop identifier, the indication information (represented by the SID-PE<b>2</b>) of the PE<b>2</b>, the indication information (represented by the SID-GW<b>2</b>) of the GW<b>2</b>, and the indication information (represented by the SID-GW<b>1</b>) of the GW<b>1</b>, and the next-hop identifier is the node identifier (represented by the PE<b>2</b>) of the PE<b>2</b>.</p><p id="p-0126" num="0125">S<b>207</b>: The GW<b>1</b> sends the fourth routing information to a PE<b>1</b>.</p><p id="p-0127" num="0126">For a process in which the GW<b>1</b> sends the fourth routing information to the PE<b>1</b>, refer to a process in which the PE<b>2</b> sends the second routing information to the GW<b>2</b> in S<b>203</b>. Details are not described in this embodiment of this application again.</p><p id="p-0128" num="0127">After the GW<b>1</b> sends the fourth routing information to the PE<b>1</b>, the PE<b>1</b> may receive the fourth routing information. After receiving the route that is sent by the GW<b>1</b> and that includes the fourth routing information, the PE<b>1</b> may store the fourth routing information in a local route forwarding table, to perform subsequent packet forwarding. The PE<b>1</b> may alternatively advertise, through a private network route or the like, the route reaching the destination node to a CE<b>1</b> connected to the PE<b>1</b>. <figref idref="DRAWINGS">FIG. <b>3</b></figref> is still used as an example. In this case, the advertisement route received by the CE<b>1</b> may include the prefix address previously issued by the CE<b>2</b> and identifier information of the next hop (such as an IP address of the PE<b>1</b> and an interface through which the PE<b>1</b> is connected to the CE<b>1</b>). After learning of the route of the CE<b>2</b>, the CE<b>1</b> may implement packet forwarding in which the CE<b>1</b> is used as the source node, or the user host connected to the CE<b>1</b> is used as the source node.</p><p id="p-0129" num="0128">S<b>208</b>: The CE<b>1</b> sends a first packet to the PE<b>1</b>, where the first packet includes the node identifier of the destination node.</p><p id="p-0130" num="0129">When the CE<b>1</b> needs to send the first packet to the CE<b>2</b>, the CE<b>1</b> may include, in the first packet, the node identifier (namely, a destination address) of the destination node issued by the CE<b>2</b>, and send the first packet to the PE<b>1</b>, so that the PE<b>1</b> forwards the first packet to the CE<b>2</b>.</p><p id="p-0131" num="0130">S<b>209</b>: The PE<b>1</b> updates the first packet, to obtain a second packet, where the second packet includes the node identifier of the destination node, the indication information of the PE<b>2</b>, the indication information of the GW<b>2</b>, and the indication information of the GW<b>1</b>.</p><p id="p-0132" num="0131">Before S<b>208</b>, the PE<b>1</b> receives the fourth routing information sent by the GW<b>1</b>, where the fourth routing information is carried in an updated route of the CE<b>2</b> issued by the GW<b>1</b>. After receiving the fourth routing information, the PE<b>1</b> may associatively store, in the local route forwarding table, information, such as the indication information of the plurality of forwarding nodes, the node identifier of the destination node, and the next-hop identifier, included in the routing information. In this way, after receiving the first packet, the PE<b>1</b> may determine, based on the node identifier of the destination node, the indication information corresponding to the plurality of forwarding nodes in the route forwarding table, and add the indication information of the plurality of forwarding nodes to the first packet, to update the first packet to obtain the second packet. For example, the second packet includes at least the node identifier of the destination node, and further includes the indication information of the PE<b>2</b>, the indication information of the GW<b>2</b>, and the indication information of the GW<b>1</b> that are added by the PE<b>1</b>. The indication information indicates that the packet is forwarded along the GW<b>1</b>, the GW<b>2</b>, and the PE<b>2</b>.</p><p id="p-0133" num="0132">An arrangement order of the indication information of the forwarding nodes in the second packet may be related to an arrangement order of the indication information of the forwarding nodes in the fourth routing information. For example, the arrangement order of the indication information of the forwarding nodes in the second packet is reverse to the arrangement order of the indication information of the forwarding nodes in the fourth routing information. For example, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the indication information (represented by the SID-GW<b>2</b>) of the PE<b>2</b> and the GW<b>2</b> and the indication information (represented by the SID-GW<b>1</b>) of the GW<b>1</b> in the fourth routing information are sequentially arranged. However, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the indication information (represented by the SID-PE<b>2</b>) of the PE<b>2</b>, the indication information (represented by the SID-GW<b>2</b>) of the GW<b>2</b>, and the indication information (represented by the SID-GW<b>1</b>) of the GW<b>1</b> in the second packet are sequentially arranged in reverse order. In this way, the plurality of pieces of indication information arranged in reverse order may sequentially reach the corresponding nodes and are popped from a stack. In another case, the plurality of pieces of indication information may alternatively be arranged according to another rule.</p><p id="p-0134" num="0133">Optionally, the second packet further includes other information than the node identifier of the destination node, the indication information of the PE<b>2</b>, the indication information of the GW<b>2</b>, and the indication information of the GW<b>1</b>. For example, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the second packet may further include the label (represented by Li) of the private network in which the CE<b>2</b> is located. The label of the private network may be obtained from the fourth routing information, and may be associatively stored in the route forwarding table with other related information including the indication information. The second packet further includes the next-hop identifier (for example, the PE<b>2</b>). The second packet may further include a node identifier (for example, an IP address) of the source node, and the source node is an initial sender of the packet, for example, the CE<b>1</b> or the user host connected to the CE<b>1</b>. Both the node identifier of the source node and the node identifier of the destination node may be located in a load part of the second packet, and the load part may further include data (not shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>) that needs to be transmitted by the CE<b>1</b>.</p><p id="p-0135" num="0134">S<b>210</b>: The PE<b>1</b> sends the second packet to the GW<b>1</b>.</p><p id="p-0136" num="0135">After obtaining the second packet, the PE<b>1</b> may send, based on indication information (for example, the SID-GW<b>1</b>) of a forwarding node ranked first in the second packet, the second packet to the forwarding node GW<b>1</b> indicated by the indication information.</p><p id="p-0137" num="0136">S<b>211</b>: The GW<b>1</b> deletes the indication information of the GW<b>1</b> from the second packet, to obtain a third packet.</p><p id="p-0138" num="0137">After receiving the second packet, if finding that, for example, the indication information ranked first in an indication information list matches the indication information of the GW<b>1</b>, the GW<b>1</b> may delete or replace, by popping the indication information from a stack or updating a packet header including the indication information, the indication information (for example, the SID-GW<b>1</b>) of the forwarding node ranked first, to update the second packet to obtain the third packet shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>. The third packet includes the node identifier (represented by the CE<b>2</b>) of the destination node, the indication information (represented by the SID-GW<b>2</b>) of the GW<b>2</b>, and the indication information (represented by the SID-PE<b>2</b>) of the PE<b>2</b>, but does not include the indication information SID-GW<b>1</b> of the GW<b>1</b>.</p><p id="p-0139" num="0138">S<b>212</b>: The GW<b>1</b> sends the third packet to the GW<b>2</b>.</p><p id="p-0140" num="0139">After obtaining the third packet, the GW<b>1</b> may send the third packet to the forwarding node GW<b>2</b> based on the indication information (for example, the SID-GW<b>2</b>) of the forwarding node ranked first in the third packet.</p><p id="p-0141" num="0140">S<b>213</b>: The GW<b>2</b> deletes the indication information of the GW<b>2</b> from the third packet, to obtain a fourth packet.</p><p id="p-0142" num="0141">After receiving the third packet, if finding that, for example, the indication information ranked first in the indication information list matches the indication information of the GW<b>2</b>, the GW<b>2</b> may delete or replace, by popping the indication information from a stack and updating the packet header, for example, a segment routing header (SRH), including the indication information, the indication information (for example, the SID-GW<b>2</b>) of the forwarding node ranked first, to update the third packet to obtain the fourth packet shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>. The fourth packet includes the node identifier (represented by the CE<b>2</b>) of the destination node and the indication information (represented by the SID-PE<b>2</b>) of the PE<b>2</b>, but does not include the indication information SID-GW<b>1</b> of the GW<b>1</b> and the indication information SID-GW<b>2</b> of the GW<b>2</b>.</p><p id="p-0143" num="0142">S<b>214</b>: The GW<b>2</b> sends the fourth packet to the PE<b>2</b>.</p><p id="p-0144" num="0143">After obtaining the fourth packet, the GW<b>2</b> may send the fourth packet to the forwarding node PE<b>2</b> based on the indication information (for example, the SID-PE<b>2</b>) of the forwarding node ranked first in the fourth packet.</p><p id="p-0145" num="0144">S<b>215</b>: The PE<b>2</b> forwards the fourth packet to the CE<b>2</b> based on the node identifier of the destination node.</p><p id="p-0146" num="0145">For example, the PE<b>2</b> forwards the received fourth packet to the CE<b>2</b> based on the prefix address issued by the node identifier CE<b>2</b> of the destination node, so that after receiving the fourth packet, the CE<b>2</b> sends the fourth packet to the user hosts covered by the prefix address.</p><p id="p-0147" num="0146">An example in which the first routing information obtained by the PE<b>2</b> in S<b>201</b> is from the CE<b>2</b> is used in this embodiment of this application. In this case, the PE<b>2</b> needs to forward the fourth packet to the CE<b>2</b> based on the node identifier of the destination node in S<b>215</b>. When the first routing information obtained by the PE<b>2</b> in S<b>201</b> is not from the CE<b>2</b>, for example, the first routing information is the routing information issued by the PE<b>2</b> based on the locally configured loopback address in a VPN instance, the loopback address is the node identifier of the destination node. In S<b>215</b>, the PE<b>2</b> stores the fourth packet based on the node identifier of the destination node.</p><p id="p-0148" num="0147">In conclusion, in the route determining method provided in this embodiment of this application, because the routing information of the destination node carries the indication information of the forwarding node, after receiving the routing information, the forwarding node connected to the source node may determine, based on the one or more pieces of indication information corresponding to one or more forwarding nodes in the routing information, a route and a transmission path for sending a packet to the destination node, to forward the packet to the destination node based on the route and the transmission path. This method avoids that the forwarding node connected to the source node determines the transmission path by transmitting a large quantity of control packets, thereby reducing network load.</p><p id="p-0149" num="0148">For example, <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref> are a flowchart of another route determining method according to an embodiment of this application. In addition, the application scenario shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is used as an example in the route determining method. As shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the route determining method includes the following steps.</p><p id="p-0150" num="0149">S<b>301</b>: A CE<b>2</b> sends first routing information to a PE<b>2</b>.</p><p id="p-0151" num="0150">For S<b>301</b>, refer to S<b>201</b>. Details are not described in this embodiment of this application again.</p><p id="p-0152" num="0151">S<b>302</b>: The PE<b>2</b> generates second routing information based on the first routing information, where the second routing information includes indication information of the PE<b>2</b>.</p><p id="p-0153" num="0152">For S<b>302</b>, refer to S<b>202</b>. Details are not described in this embodiment of this application again.</p><p id="p-0154" num="0153">S<b>303</b>: The PE<b>2</b> sends the second routing information to a GW<b>2</b>.</p><p id="p-0155" num="0154">For S<b>303</b>, refer to S<b>203</b>. Details are not described in this embodiment of this application again.</p><p id="p-0156" num="0155">S<b>304</b>: The GW<b>2</b> adds indication information of the GW<b>2</b> to the second routing information, to obtain third routing information.</p><p id="p-0157" num="0156">For S<b>304</b>, refer to S<b>204</b>. Details are not described in this embodiment of this application again.</p><p id="p-0158" num="0157">S<b>305</b>: The GW<b>2</b> sends the third routing information to a GW<b>1</b>.</p><p id="p-0159" num="0158">For S<b>305</b>, refer to S<b>205</b>. Details are not described in this embodiment of this application again.</p><p id="p-0160" num="0159">S<b>306</b>: The GW<b>1</b> updates a next-hop identifier in the third routing information to a node identifier of the GW<b>1</b>, and replaces indication information of at least one forwarding node in the third routing information with indication information of the GW<b>1</b>, to obtain fourth routing information.</p><p id="p-0161" num="0160">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, after the PE<b>2</b> sets next-hop attribute information to identifier information of the PE<b>2</b>, all other forwarding nodes on a route issuing path do not modify the next-hop attribute information. However, in this embodiment of this application, there is at least one node that changes the next-hop identifier in the plurality of forwarding nodes, and an example in which the node GW<b>1</b> changes the next-hop identifier is used in this embodiment of this application.</p><p id="p-0162" num="0161">After receiving routing information, the forwarding node that changes the next-hop identifier changes a next-hop identifier in the routing information to a node identifier of the forwarding node. For example, refer to <figref idref="DRAWINGS">FIG. <b>6</b></figref>. The GW<b>1</b> changes the next-hop identifier from a node identifier (represented by the PE<b>2</b>) of the PE<b>2</b> to the node identifier (represented by the GW<b>1</b>) of the GW<b>1</b>. In addition, the node that changes the next-hop identifier may further replace indication information of all forwarding nodes (including the at least one forwarding node) in the routing information with indication information of the node. For example, refer to <figref idref="DRAWINGS">FIG. <b>6</b></figref>. The GW<b>1</b> replaces the indication information (represented by SID-PE<b>2</b>) of the PE<b>2</b> and the indication information (represented by SID-GW<b>2</b>) of the GW<b>2</b> in the third routing information with the indication information of the GW<b>1</b>. In this way, the fourth routing information obtained by the GW<b>1</b> in S<b>306</b> includes a node identifier (represented by the CE<b>2</b>) of a destination node, the next-hop identifier, and the indication information of the GW<b>1</b>, and the next-hop identifier is the node identifier of the GW<b>1</b>.</p><p id="p-0163" num="0162">For example, the indication information of the GW<b>1</b> added by the GW<b>1</b> to the third routing information in S<b>306</b> may be any proper type of indication information. In a possible example, the indication information added by the GW<b>1</b> includes a binding segment identifier (BSID) of the GW<b>1</b> (that is, in this case, a segment identifier type of the indication information is the BSID). In another possible case, the BSID of the GW<b>1</b> may alternatively be replaced with an SID of the GW<b>1</b> (in this case, the segment identifier type of the indication information is the SID). This is not limited in this embodiment of this application.</p><p id="p-0164" num="0163">After the GW<b>1</b> replaces the indication information of the at least one forwarding node in the third routing information with the indication information of the GW<b>1</b>, the GW<b>1</b> may further record a correspondence between the indication information of the GW<b>1</b> and the replaced indication information of the at least one forwarding node. For example, as shown in Table 1, the GW<b>1</b> may record a correspondence between the indication information (BSID<b>1</b>-GW<b>1</b>) of the GW<b>1</b> and the replaced indication information (represented by the SID-PE<b>2</b>) of the PE<b>2</b> and the replaced indication information (represented by the SID-GW<b>2</b>) of the GW<b>2</b>. In addition, an arrangement order of the replaced indication information of the at least one node in the correspondence may be the same as an arrangement order of the indication information in the third routing information.</p><p id="p-0165" num="0000"><tables id="TABLE-US-00001" num="00001"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="70pt" align="center"/><colspec colname="2" colwidth="133pt" align="center"/><thead><row><entry/><entry namest="offset" nameend="2" rowsep="1">TABLE 1</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Indication </entry><entry>Indication information of at </entry></row><row><entry/><entry>information of a GW1</entry><entry>least one forwarding node</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>BSID1-GW1</entry><entry>SID-PE2 and SID-GW2</entry></row><row><entry/><entry>BSID2-GW1</entry><entry>SID-PE2, SID-GW2, and SID-GW3</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0166" num="0164">Although an example in which the GW<b>1</b> receives the fourth routing information is used in the foregoing descriptions, in an actual application scenario, the GW<b>1</b> may receive routing information sent by a plurality of nodes. When receiving the routing information sent by the plurality of nodes, the GW<b>1</b> updates each piece of routing information (for details, refer to S<b>306</b>), and the indication information of the GW<b>1</b> added by the GW<b>1</b> to different routing information is different.</p><p id="p-0167" num="0165">For example, still refer to Table 1. It is assumed that after receiving routing information (including the SID-GW<b>3</b>, the SID-GW<b>2</b>, and the SID-PE<b>2</b>) sent by a node GW<b>3</b> (not shown in the figure), the GW<b>1</b> replaces indication information (SID-GW<b>3</b>) of the GW<b>3</b>, indication information (SID-GW<b>2</b>) of the GW<b>2</b>, and the indication information (SID-PE<b>2</b>) of the PE<b>2</b> with the BSID<b>2</b>-GW<b>1</b>. The BSID<b>1</b>-GW<b>1</b> is different from the BSID<b>2</b>-GW<b>1</b>.</p><p id="p-0168" num="0166">S<b>307</b>: The GW<b>1</b> sends the fourth routing information to a PE<b>1</b>.</p><p id="p-0169" num="0167">For S<b>307</b>, refer to S<b>207</b>. Details are not described in this embodiment of this application again.</p><p id="p-0170" num="0168">S<b>308</b>: The CE<b>1</b> sends a first packet to the PE<b>1</b>, where the first packet includes the node identifier of the destination node.</p><p id="p-0171" num="0169">For S<b>308</b>, refer to S<b>208</b>. Details are not described in this embodiment of this application again.</p><p id="p-0172" num="0170">S<b>309</b>: The PE<b>1</b> updates the first packet, to generate a second packet, where the second packet includes the node identifier of the destination node and the indication information of the GW<b>1</b>.</p><p id="p-0173" num="0171">Optionally, the second packet may further include information such as an identifier of a source node and a private network label. For S<b>309</b>, refer to S<b>209</b>. Details are not described in this embodiment of this application again.</p><p id="p-0174" num="0172">S<b>310</b>: The PE<b>1</b> sends the second packet to the GW<b>1</b>.</p><p id="p-0175" num="0173">For S<b>310</b>, refer to S<b>210</b>. Details are not described in this embodiment of this application again.</p><p id="p-0176" num="0174">S<b>311</b>: The GW<b>1</b> replaces the indication information of the GW<b>1</b> in the second packet with the indication information of the GW<b>2</b> and the indication information of the PE<b>2</b>, to obtain a third packet.</p><p id="p-0177" num="0175">After receiving the second packet, the GW<b>1</b> may remove the indication information (where the indication information may be of a BSID type) of the GW<b>1</b> from the second packet by popping the indication information from a stack or in another manner, and add, based on a correspondence between the locally stored indication information of the GW<b>1</b> and at least one piece of indication information, the at least one piece of indication information to the second packet, to obtain the third packet. Refer to Table 1. When the indication information of the GW<b>1</b> in the second packet is the BSID<b>1</b>-GW<b>1</b>, the at least one piece of indication information includes the indication information (represented by the SID-GW<b>2</b>) of the GW<b>2</b> and the indication information (represented by the SID-PE<b>2</b>) of the PE<b>2</b>. In addition, an arrangement order of the at least one piece of indication information added by the GW<b>1</b> to the second packet may be the same as or reverse to an arrangement order of the indication information recorded in the correspondence.</p><p id="p-0178" num="0176">As shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the third packet obtained by the GW<b>1</b> in S<b>311</b> includes the node identifier (represented by the CE<b>2</b>) of the destination node, the indication information (represented by the SID-GW<b>2</b>) of the GW<b>2</b>, and the indication information (represented by the SID-PE<b>2</b>) of the PE<b>2</b>, but does not include the indication information BSID<b>1</b>-GW<b>1</b> of the GW<b>1</b>.</p><p id="p-0179" num="0177">S<b>312</b>: The GW<b>1</b> sends the third packet to the GW<b>2</b>.</p><p id="p-0180" num="0178">For S<b>312</b>, refer to S<b>212</b>. Details are not described in this embodiment of this application again.</p><p id="p-0181" num="0179">S<b>313</b>: The GW<b>2</b> deletes the indication information of the GW<b>2</b> from the third packet, to obtain a fourth packet.</p><p id="p-0182" num="0180">For S<b>313</b>, refer to S<b>213</b>. Details are not described in this embodiment of this application again.</p><p id="p-0183" num="0181">S<b>314</b>: The GW<b>2</b> sends the fourth packet to the PE<b>2</b>.</p><p id="p-0184" num="0182">For S<b>314</b>, refer to S<b>214</b>. Details are not described in this embodiment of this application again.</p><p id="p-0185" num="0183">S<b>315</b>: The PE<b>2</b> forwards the fourth packet to the CE<b>2</b> based on the node identifier of the destination node.</p><p id="p-0186" num="0184">For S<b>315</b>, refer to S<b>215</b>. Details are not described in this embodiment of this application again.</p><p id="p-0187" num="0185">An example in which the first routing information obtained by the PE<b>2</b> in S<b>301</b> is from the CE<b>2</b> is used in this embodiment of this application. In this case, the PE<b>2</b> needs to forward the fourth packet to the CE<b>2</b> based on the node identifier of the destination node in S<b>315</b>. When the first routing information obtained by the PE<b>2</b> in S<b>301</b> is not from the CE<b>2</b>, for example, the first routing information is the routing information issued by the PE<b>2</b> based on the locally configured loopback address in a VPN instance, the loopback address is the node identifier of the destination node. In S<b>315</b>, the PE<b>2</b> stores the fourth packet based on the node identifier of the destination node.</p><p id="p-0188" num="0186">In conclusion, in the route determining method provided in this embodiment of this application, because the routing information of the destination node carries the indication information of the forwarding node, after receiving the routing information, the forwarding node connected to the source node may determine, based on the indication information of the forwarding node in the routing information, a route and a transmission path for sending a packet to the destination node, to forward the packet to the destination node based on the route and the transmission path. This process avoids that the forwarding node connected to the source node determines the transmission path by transmitting control packets, so that network load is reduced. A next hop is allowed to be changed during route issuing. This also improves flexibility of establishing the route.</p><p id="p-0189" num="0187">It should be noted that in the embodiments shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, there may be another forwarding node except the GW<b>1</b> and the GW<b>2</b> between the PE<b>1</b> and the PE<b>2</b>.</p><p id="p-0190" num="0188">When there is the another forwarding node in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> (for example, there is another forwarding node between the GW<b>1</b> and the PE<b>1</b> or between the GW<b>1</b> and the PE<b>2</b>), after receiving routing information, the forwarding node may update the routing information with reference to an execution manner of the GW<b>2</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, and send, to a connected node, new routing information obtained after update. After receiving a packet, the forwarding node may update the packet with reference to the execution manner of the GW<b>2</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, and send, to the connected node, a new packet obtained after update.</p><p id="p-0191" num="0189">When there is the another forwarding node in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref> (for example, there is another forwarding node between the GW<b>1</b> and the PE<b>1</b> or between the GW<b>1</b> and the PE<b>2</b>), if the forwarding node is not a node that changes the next hop, after receiving routing information, the forwarding node may update the routing information with reference to the execution manner of the GW<b>2</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, and send, to a connected node, new routing information obtained after update. After receiving a packet, the forwarding node may update the packet with reference to the execution manner of the GW<b>2</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, and send, to the connected node, a new packet obtained after update.</p><p id="p-0192" num="0190">For example, in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, there is the another forwarding node between the GW<b>1</b> and the PE<b>1</b>. After receiving the fourth routing information, the forwarding node adds SID indication information of the forwarding node after the BSID<b>1</b>-GW<b>1</b>. to the fourth routing information. After receiving the packet, the forwarding node deletes or replaces the indication information of the forwarding node in the packet, to obtain a new packet, and sends the new packet to a node indicated by next indication information.</p><p id="p-0193" num="0191">When there is the another forwarding node in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref> (for example, there is another forwarding node between the GW<b>1</b> and the PE<b>1</b> or between the GW<b>1</b> and the PE<b>2</b>), if the forwarding node is a node that changes the next hop, after receiving routing information, the forwarding node may update the routing information with reference to the execution manner of the GW<b>1</b> in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, and send, to a connected node, new routing information obtained after update. After receiving a packet, the forwarding node may update the packet with reference to the execution manner of the GW<b>1</b> in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, to obtain a new packet, and send the new packet to a node indicated by the 1st piece of indication information.</p><p id="p-0194" num="0192">In S<b>209</b> and S<b>309</b>, the PE<b>1</b> may update the first packet in a plurality of manners, to obtain the second packet. This embodiment of this application provides at least the following two manners.</p><p id="p-0195" num="0193">1. In a first manner, the PE<b>1</b> may find, based on a destination node to which the first packet needs to be sent, routing information (which may also be referred to as a routing entry or a forwarding entry) corresponding to the destination node from the route forwarding table stored in the PE<b>1</b>. The routing information is obtained based on the previously received route issued by the GW<b>1</b>. The routing information may include indication information of forwarding nodes through which the route passes before reaching the PE<b>1</b>, and a correspondence between each piece of the indication information of the forwarding nodes and the node identifier of the destination node. In this case, the PE<b>1</b> may directly extract indication information of the corresponding forwarding nodes (for example, the indication information of the GW<b>1</b>, the GW<b>2</b>, and the PE<b>2</b>) from the routing information based on the node identifier of the destination node carried in the first packet, and add the indication information to the first packet, to obtain the second packet. The routing information in the route forwarding table may further include the next-hop identifier, the private network label, and the like.</p><p id="p-0196" num="0194">2. In a second manner, after receiving the route that includes the routing information and that is issued by the GW<b>1</b>, the PE<b>1</b> may establish a correspondence between the node identifier of the destination node and tunnel information based on the routing information, where the tunnel information includes indication information of forwarding nodes in the routing information. For example, each piece of tunnel information corresponds to one tunnel, and the tunnel includes a forwarding node indicated by each piece of indication information in the tunnel information. An arrangement order of the indication information of the forwarding nodes in the tunnel information may be, for example, reverse to that of the indication information of the forwarding node in the routing information, and the forwarding nodes are sequentially arranged in the tunnel based on the arrangement order of the indication information of the forwarding nodes in the tunnel information. When forwarding a packet, the PE<b>1</b> may determine corresponding routing information based on a node identifier of a destination node in the packet, and perform tunnel iteration based on next-hop information in the routing information, to determine tunnel information corresponding to a next-hop node indicated by the next-hop information. A destination node of a tunnel corresponding to the tunnel information is the next-hop node.</p><p id="p-0197" num="0195">For example, the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> is used as an example. As shown in Table 2, after receiving the fourth routing information (where the indication information in the fourth routing information includes the SID-PE<b>2</b>, the SID-GW<b>2</b>, and the SID-GW<b>1</b>), the PE<b>1</b> may establish a correspondence between the node identifier of the destination node (shown as the CE<b>2</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> and shown as an address of the destination node in Table 2) and tunnel information <b>1</b>. The tunnel information <b>1</b> includes indication information of the forwarding nodes (for example, the SID-GW<b>1</b>, the SID-GW<b>2</b>, and the SID-PE<b>2</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref>) in the fourth routing information. The SID-GW<b>1</b>, the SID-GW<b>2</b>, and the SID-PE<b>2</b> in the tunnel information <b>1</b> in Table 2 are sequentially arranged, and a tunnel corresponding to the tunnel information <b>1</b> is GW<b>1</b>-GW<b>2</b>-PE<b>2</b>. A destination node of the tunnel is PE<b>2</b>.</p><p id="p-0198" num="0196">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, if the forwarding node further includes the GW<b>3</b> in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, and the GW<b>3</b> is connected to each of the GW<b>1</b> and the GW<b>2</b>, the GW<b>2</b> sends the third routing information to each of the GW<b>1</b> and the GW<b>3</b> in S<b>205</b>, and after receiving the third routing information, the GW<b>3</b> adds indication information (which may be represented by an SID-GW<b>3</b>) of the GW<b>3</b> to the third routing information, to obtain fifth routing information. Then, the GW<b>3</b> sends the fifth routing information to the GW<b>1</b>. The GW<b>1</b> adds the indication information of the GW<b>1</b> to the fifth routing information, to obtain sixth routing information, and sends the sixth routing information to the PE<b>1</b>. In this case, the PE<b>1</b> can receive both the fourth routing information and the sixth routing information, and indication information in the sixth routing information includes the SID-PE<b>2</b>, the SID-GW<b>2</b>, the SID-GW<b>3</b>, and the SID-GW<b>1</b>. The PE<b>1</b> may further generate, based on the sixth routing information, tunnel information <b>2</b> shown in Table 2, including the SID-GW<b>1</b>, the SID-GW<b>2</b>, the SID-GW<b>3</b>, and the SID-PE<b>2</b>. A node identifier of the destination node corresponding to the tunnel information is shown as an address of the destination node in Table 2. The destination node of a tunnel corresponding to the tunnel information is also the PE<b>2</b>, that is, corresponds to a next-hop identifier in the sixth routing information.</p><p id="p-0199" num="0000"><tables id="TABLE-US-00002" num="00002"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="49pt" align="center"/><colspec colname="2" colwidth="154pt" align="center"/><thead><row><entry/><entry namest="offset" nameend="2" rowsep="1">TABLE 2</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Node identifier</entry><entry>Tunnel information</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>Address of a </entry><entry>1. Include an SID-GW1, an SID-GW2, </entry></row><row><entry/><entry>destination node</entry><entry>and an SID-PE2</entry></row><row><entry/><entry>Address of a </entry><entry>2. Include an SID-GW1, an SID-GW2, </entry></row><row><entry/><entry>destination node</entry><entry>an SID-GW3, and an SID-PE2</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0200" num="0197">For another example, the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref> is used as an example. As shown in Table 3, after receiving the fourth routing information (where the indication information in the fourth routing information includes the BSID<b>1</b>-GW<b>1</b>), the PE<b>1</b> may establish a correspondence between the node identifier of the destination node and tunnel information <b>1</b>. The tunnel information <b>1</b> includes indication information (for example, the BSID<b>1</b>-GW<b>1</b> in <figref idref="DRAWINGS">FIG. <b>6</b></figref>) of each forwarding node in the fourth routing information. The destination node of the tunnel is the GW<b>1</b>. The reason is that in this case, the next-hop identifier in the fourth routing information has been changed from the PE<b>2</b> to the GW<b>1</b> on the forwarding node GW<b>1</b>. In this case, at least one type of information based on which the PE<b>1</b> searches for the tunnel information may include the node identifier of the destination node carried in the first packet.</p><p id="p-0201" num="0198">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, if the forwarding node may further include the GW<b>3</b> in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, and the GW<b>3</b> is connected to each of the GW<b>1</b> and the GW<b>2</b>, the GW<b>2</b> sends the third routing information to each of the GW<b>1</b> and the GW<b>3</b> in S<b>305</b>, and after receiving the third routing information, the GW<b>3</b> adds indication information (which may be represented by an SID-GW<b>3</b>) of the GW<b>3</b> to the third routing information, to obtain fifth routing information. Then, the GW<b>3</b> sends the fifth routing information to the GW<b>1</b>. The GW<b>1</b> replaces all indication information (the SID-PE<b>2</b>, the SID-GW<b>2</b>, and the SID-GW<b>3</b>) in the fifth routing information with the indication information (for example, the BISD<b>2</b>-GW<b>1</b>) of the GW<b>1</b>, to obtain sixth routing information, and sends the sixth routing information to the PE<b>1</b>. In this case, the PE<b>1</b> can receive both the fourth routing information and the sixth routing information, and indication information in the sixth routing information includes the BISD<b>2</b>-GW<b>1</b>. The PE<b>1</b> may further generate, based on the sixth routing information, tunnel information <b>2</b> shown in Table 3, including the BISD<b>2</b>-GW<b>1</b>. The destination node of a tunnel corresponding to the tunnel information is the GW<b>1</b>.</p><p id="p-0202" num="0000"><tables id="TABLE-US-00003" num="00003"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="offset" colwidth="21pt" align="left"/><colspec colname="1" colwidth="91pt" align="center"/><colspec colname="2" colwidth="105pt" align="center"/><thead><row><entry/><entry namest="offset" nameend="2" rowsep="1">TABLE 3</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Node identifier</entry><entry>Tunnel information</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>Address of a destination node</entry><entry>1. Include a BISD1-GW1</entry></row><row><entry/><entry>Address of a destination node</entry><entry>2. Include a BISD2-GW1</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0203" num="0199">The tunnel may be any tunnel, for example, an end-to-end (E2E) tunnel, a segment routing (SR) tunnel, or a segment routing traffic engineering (SR-TE) tunnel.</p><p id="p-0204" num="0200">In the second manner, in a process of processing the first packet to obtain the second packet, the PE<b>1</b> may find corresponding tunnel information based on the at least one type of information (for example, the node identifier of the destination node), and process the first packet based on the tunnel information, to obtain the second packet. The tunnel information includes identifier information added by the corresponding forwarding nodes on a forwarding path.</p><p id="p-0205" num="0201">The first packet may further carry a next-hop identifier (for example, the node identifier of the PE<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, or the node identifier of the GW<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>), and the next-hop identifier is previously carried in the route that is learned by the PE<b>1</b> and that corresponds to the CE<b>2</b>. After learning of the route, the PE<b>1</b> may create local routing information (namely, a forwarding entry). The local routing information may include a correspondence between the node identifier of the destination node, the next-hop identifier, and the tunnel, and the tunnel in the correspondence may be represented by, for example, a tunnel identifier. In this case, the PE<b>1</b> may perform tunnel searching and iteration based on the node identifier of the destination node and the next-hop identifier, to add the corresponding tunnel information (that is, including the indication information of the forwarding nodes) to the local routing information, so that the packet is forwarded along a specified path based on the indication information of the forwarding nodes. In this case, the at least one type of information based on which the PE<b>1</b> searches for the tunnel information may further include a next-hop identifier that corresponds to the destination node and that is carried in the first packet.</p><p id="p-0206" num="0202">The first packet may further carry a label of a private network in which the CE<b>2</b> is located (for example, Li in the embodiments shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>). In this case, the route forwarding table includes a correspondence between the node identifier of the destination node, the next-hop identifier, the label of the private network in which the CE<b>2</b> is located, and the tunnel (tunnel identifier). In this case, the at least one type of information based on which the PE<b>1</b> searches for the tunnel information may further include a label, carried in the first packet, of the private network in which the destination node is located.</p><p id="p-0207" num="0203">It should be noted that when the PE<b>1</b> finds a plurality of pieces of tunnel information (for example, the tunnel information <b>1</b> and the tunnel information <b>2</b> in Table 2 and Table 3) based on the at least one type of information, the PE<b>1</b> may select one piece of tunnel information from the plurality of pieces of tunnel information in any manner, and process the first packet based on the tunnel information. For example, the PE<b>1</b> may determine, based on a tunnel constraint (for example, a transmission delay condition or a bandwidth condition), one piece of tunnel information from the plurality of pieces of tunnel information corresponding to the node identifier of the destination node carried in the first packet, where a tunnel corresponding to the tunnel information meets the tunnel constraint. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, an example in which the selected tunnel information is the tunnel information <b>1</b> in Table 2 is used. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, an example in which the selected tunnel information is the tunnel information <b>1</b> in Table 3 is used.</p><p id="p-0208" num="0204">Based on the operation performed by the PE<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, it can be learned that an embodiment of this application provides a route determining method for a first forwarding node. The first forwarding node may be the PE<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>. For example, as shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the method may include the following steps.</p><p id="p-0209" num="0205">S<b>1001</b>: A first forwarding node receives routing information sent by a second forwarding node, where the routing information includes a node identifier of a destination node and at least one piece of indication information, the at least one piece of indication information is in a one-to-one correspondence with at least one third forwarding node, and the second forwarding node belongs to the at least one third forwarding node.</p><p id="p-0210" num="0206">The routing information may be the fourth routing information in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, and the destination node may be the CE<b>2</b>, the user host or the router connected to the CE<b>2</b>, the loopback address of the PE<b>2</b>, or the like. This is not uniquely limited herein. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, the at least one piece of indication information may include the indication information of the PE<b>2</b>, the indication information of the GW<b>2</b>, and the indication information of the GW<b>1</b>. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the at least one piece of indication information may include the indication information of the GW<b>1</b>.</p><p id="p-0211" num="0207">S<b>1002</b>: The first forwarding node sends a packet to the destination node based on the routing information, where the packet includes the at least one piece of indication information, and the at least one piece of indication information indicates to forward the packet along the at least one third forwarding node.</p><p id="p-0212" num="0208">The packet may be the second packet in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, the at least one piece of indication information may include the indication information of the PE<b>2</b>, the indication information of the GW<b>2</b>, and the indication information of the GW<b>1</b>. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the at least one piece of indication information may include the indication information of the GW<b>1</b>.</p><p id="p-0213" num="0209">Optionally, in S<b>1002</b>, the first forwarding node may establish a correspondence between the node identifier of the destination node and first tunnel information based on the routing information, where the first tunnel information includes the at least one piece of indication information in the routing information. The first forwarding node may then send the packet to the destination node based on the first tunnel information.</p><p id="p-0214" num="0210">Optionally, when the first forwarding node sends the packet to the destination node based on the first tunnel information, the first forwarding node may obtain, based on the node identifier of the destination node, a plurality of pieces of tunnel information corresponding to the node identifier of the destination node. The plurality of pieces of tunnel information correspond to a plurality of tunnels, the plurality of pieces of tunnel information include the first tunnel information. Then, the first forwarding node may determine the first tunnel information from the plurality of pieces of tunnel information based on a tunnel constraint, and send the packet to the destination node based on the determined first tunnel information.</p><p id="p-0215" num="0211">Optionally, the at least one piece of indication information includes an SID of the at least one third forwarding node, and the SID of the at least one third forwarding node is sequentially arranged based on a routing distance between the at least one third forwarding node and the first forwarding node. Alternatively, in another case, the at least one piece of indication information may not be an SID, but another type of indication information determined with reference to a network application scenario, provided that the indication information may indicate (or identify) a corresponding forwarding node. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, the at least one third forwarding node may include the PE<b>2</b>, the GW<b>2</b>, and the GW<b>1</b>. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the at least one third forwarding node may include the GW<b>1</b>.</p><p id="p-0216" num="0212">Optionally, the at least one piece of indication information further includes endpoint of the at least one third forwarding node.</p><p id="p-0217" num="0213">Optionally, the at least one third forwarding node includes a fourth forwarding node, and the fourth forwarding node is a node that is in the at least one third forwarding node and that has a largest routing distance from the first forwarding node. For example, the fourth forwarding node in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> is the PE<b>2</b>, and the fourth forwarding node in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref> is the GW<b>1</b>. The routing information received by the first forwarding node in S<b>1001</b> may further include a next-hop identifier, and the next-hop identifier includes a node identifier of the fourth forwarding node.</p><p id="p-0218" num="0214">Optionally, based on the operation performed by the PE<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, it can be learned that in the route determining method, the at least one piece of indication information in the routing information received by the first forwarding node in S<b>1001</b> includes first indication information. The first indication information indicates the fourth forwarding node, and a segment identifier type of the first indication information is a binding segment identifier.</p><p id="p-0219" num="0215">Based on the operation performed by the GW<b>1</b> or the GW<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, or the operation performed by the GW<b>1</b> or the GW<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, it can be learned that an embodiment of this application provides a route determining method for a second forwarding node, the second forwarding node may be the GW<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, or the GW<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>. For example, as shown in <figref idref="DRAWINGS">FIG. <b>1</b><i>i</i></figref>, the method may include the following steps.</p><p id="p-0220" num="0216">S<b>1101</b>: A second forwarding node obtains routing information, where the routing information includes a node identifier of a destination node and at least one piece of indication information, and the at least one piece of indication information indicates at least one third forwarding node.</p><p id="p-0221" num="0217">When the second forwarding node is the GW<b>2</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the routing information may be the second routing information in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, and the destination node is the CE<b>2</b>, the user host or the router connected to the CE<b>2</b>, the loopback address of the PE<b>2</b>, or the like. This is not uniquely limited herein. The at least one piece of indication information in the routing information includes indication information of the PE<b>2</b>, and the at least one third forwarding node indicated by the at least one piece of indication information includes the PE<b>2</b>.</p><p id="p-0222" num="0218">When the second forwarding node is the GW<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the routing information may be the third routing information in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, and the destination node is the CE<b>2</b>, the user host or the router connected to the CE<b>2</b>, the loopback address of the PE<b>2</b>, or the like. This is not uniquely limited herein. The at least one piece of indication information in the routing information includes indication information of the PE<b>2</b> and indication information of the GW<b>2</b>, and the at least one third forwarding node indicated by the at least one piece of indication information includes the PE<b>2</b> and the GW<b>2</b>.</p><p id="p-0223" num="0219">Optionally, the at least one piece of indication information includes an SID of the at least one third forwarding node, the SID of the at least one third forwarding node is sequentially arranged based on a routing distance between the at least one third forwarding node and the first forwarding node, and the first forwarding node is the 1st forwarding node that forwards the packet to the destination node.</p><p id="p-0224" num="0220">Optionally, the at least one piece of indication information further includes endpoint of the at least one third forwarding node, or may further include other required information. There is a correspondence between the endpoint information and the other required information and the SID that identifies the forwarding node.</p><p id="p-0225" num="0221">S<b>1102</b>: The second forwarding node adds first indication information to the routing information, to obtain updated routing information, where the first indication information indicates the second forwarding node.</p><p id="p-0226" num="0222">When the second forwarding node is the GW<b>2</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the first indication information may be indication information of the GW<b>2</b>, the first indication information indicates the GW<b>2</b>, and the updated routing information may be third routing information.</p><p id="p-0227" num="0223">When the second forwarding node is the GW<b>1</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the first indication information may be indication information of the GW<b>1</b>, the first indication information indicates the GW<b>1</b>, and the updated routing information may be fourth routing information.</p><p id="p-0228" num="0224">S<b>1103</b>: The second forwarding node sends the updated routing information to a first forwarding node.</p><p id="p-0229" num="0225">Optionally, based on the operation performed by the GW<b>1</b> or the GW<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, or the operation performed by the GW<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, it can be learned that an embodiment of this application provides a route determining method for a second forwarding node, the second forwarding node may be the GW<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, or the GW<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>. For example, as shown in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, the method may include the following steps.</p><p id="p-0230" num="0226">S<b>1201</b>: A second forwarding node obtains routing information, where the routing information includes a node identifier of a destination node and at least one piece of indication information, and the at least one piece of indication information indicates at least one third forwarding node.</p><p id="p-0231" num="0227">For S<b>1201</b>, refer to S<b>1101</b>. Details are not described in this embodiment of this application again.</p><p id="p-0232" num="0228">S<b>1202</b>: The second forwarding node adds first indication information to the routing information, to obtain updated routing information, where the first indication information indicates the second forwarding node.</p><p id="p-0233" num="0229">For S<b>1202</b>, refer to S<b>1102</b>. Details are not described in this embodiment of this application again.</p><p id="p-0234" num="0230">S<b>1203</b>: The second forwarding node sends the updated routing information to a first forwarding node.</p><p id="p-0235" num="0231">The updated routing information includes the first indication information and the at least one piece of indication information.</p><p id="p-0236" num="0232">When the second forwarding node is the GW<b>2</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the first indication information may be the indication information of the GW<b>2</b>, and the at least one piece of indication information includes the indication information of the PE<b>2</b>.</p><p id="p-0237" num="0233">When the second forwarding node is the GW<b>1</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, the first indication information may be the indication information of the GW<b>1</b>, and the at least one piece of indication information includes the indication information of the PE<b>2</b> and the indication information of the GW<b>2</b>.</p><p id="p-0238" num="0234">S<b>1204</b>: The second forwarding node receives a packet sent to the destination node, where the packet includes the first indication information and the at least one piece of indication information.</p><p id="p-0239" num="0235">When the second forwarding node is the GW<b>2</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the packet may be the third packet, the first indication information in the packet is the indication information of the GW<b>2</b>, and the at least one piece of indication information in the packet includes the indication information of the PE<b>2</b>.</p><p id="p-0240" num="0236">When the second forwarding node is the GW<b>1</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, the packet may be the second packet, the first indication information in the packet is the indication information of the GW<b>1</b>, and the at least one piece of indication information in the packet includes the indication information of the PE<b>2</b> and the indication information of the GW<b>2</b>.</p><p id="p-0241" num="0237">S<b>1205</b>: The second forwarding node sends an updated packet to a fourth forwarding node, where the updated packet includes the at least one piece of indication information but does not include the first indication information, and the fourth forwarding node belongs to the at least one third forwarding node.</p><p id="p-0242" num="0238">When the second forwarding node is the GW<b>2</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the updated packet may be the fourth packet, the at least one piece of indication information in the updated packet includes the indication information of the PE<b>2</b>, and the fourth forwarding node is the PE<b>2</b>.</p><p id="p-0243" num="0239">When the second forwarding node is the GW<b>1</b> in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>, the updated packet may be the third packet, the at least one piece of indication information in the updated packet includes the indication information of the GW<b>2</b> and the indication information of the PE<b>2</b>, and the fourth forwarding node is the GW<b>2</b>.</p><p id="p-0244" num="0240">Based on the operation performed by the GW<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, it can be learned that an embodiment of this application provides a route determining method for a second forwarding node. The second forwarding node may be the GW<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>. For example, as shown in <figref idref="DRAWINGS">FIG. <b>13</b></figref>, the method may include the following steps.</p><p id="p-0245" num="0241">S<b>1301</b>: A second forwarding node obtains routing information, where the routing information includes a node identifier of a destination node, at least one piece of indication information, and a next-hop identifier, and the at least one piece of indication information indicates at least one third forwarding node.</p><p id="p-0246" num="0242">For S<b>1301</b>, refer to S<b>1101</b>. Details are not described in this embodiment of this application again.</p><p id="p-0247" num="0243">The next-hop identifier may be a node identifier of a PE<b>2</b>.</p><p id="p-0248" num="0244">S<b>1302</b>: The second forwarding node updates the next-hop identifier to a node identifier of the second forwarding node, and replaces the at least one piece of indication information with first indication information, to obtain updated routing information, where the updated routing information includes the node identifier of the second forwarding node and the first indication information, and the first indication information indicates the second forwarding node.</p><p id="p-0249" num="0245">For the at least one piece of indication information, refer to the at least one piece of indication information in S<b>1101</b>. For the first indication information, refer to the first indication information in S<b>1102</b>. Optionally, the first indication information includes a binding segment identifier of the second forwarding node. The updated routing information may be the fourth routing information in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>.</p><p id="p-0250" num="0246">S<b>1303</b>: The second forwarding node sends the updated routing information to a first forwarding node.</p><p id="p-0251" num="0247">S<b>1304</b>: The second forwarding node receives a packet sent to the destination node, where the packet includes the first indication information.</p><p id="p-0252" num="0248">The packet may be the second packet in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the destination node is the CE<b>2</b> or the destination node in another case mentioned in the foregoing embodiment, and the first indication information is the indication information of the GW<b>1</b>, for example, the BSID<b>1</b>-GW<b>1</b>.</p><p id="p-0253" num="0249">S<b>1305</b>: The second forwarding node sends an updated packet to a fourth forwarding node, where the updated packet includes the at least one piece of indication information but does not include the first indication information, and the fourth forwarding node belongs to the at least one third forwarding node.</p><p id="p-0254" num="0250">The updated packet may be the third packet in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>. The at least one piece of indication information in the updated packet includes the indication information of the GW<b>2</b> and the indication information of the PE<b>2</b>, but does not include the indication information of the GW<b>1</b>, the fourth forwarding node is the GW<b>2</b>, and the at least one third forwarding node includes the GW<b>2</b> and the PE<b>2</b>.</p><p id="p-0255" num="0251">Optionally, in S<b>1305</b>, the second forwarding node may remove the first indication information from the packet, add the at least one piece of indication information to the packet based on a correspondence between the first indication information and the at least one piece of indication information, and then send the updated packet to the fourth forwarding node.</p><p id="p-0256" num="0252">Based on the operation performed by the PE<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, it can be learned that an embodiment of this application provides a route determining method for a forwarding node. The forwarding node may be the PE<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>. For example, as shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the method may include the following steps.</p><p id="p-0257" num="0253">S<b>1401</b>: A forwarding node obtains first routing information of a destination node.</p><p id="p-0258" num="0254">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the destination node is the CE<b>2</b> or the destination node in another case mentioned in the foregoing embodiment, and the first routing information is the first routing information in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>.</p><p id="p-0259" num="0255">S<b>1402</b>: The forwarding node generates second routing information based on the first routing information, where the second routing information includes a node identifier of the destination node, a next-hop identifier, and indication information, the indication information indicates the forwarding node, and the next-hop identifier is a node identifier of the forwarding node.</p><p id="p-0260" num="0256">Optionally, the indication information of the forwarding node includes a segment identifier of the forwarding node.</p><p id="p-0261" num="0257">S<b>1403</b>: The forwarding node sends the second routing information.</p><p id="p-0262" num="0258">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, after generating the second routing information, the forwarding node may send the second routing information to a connected forwarding node (for example, the GW<b>2</b>).</p><p id="p-0263" num="0259">Optionally, the method further includes the following steps.</p><p id="p-0264" num="0260">S<b>1404</b>: The forwarding node receives a packet, where the packet includes the node identifier of the destination node and the indication information.</p><p id="p-0265" num="0261">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the packet is the fourth packet.</p><p id="p-0266" num="0262">S<b>1405</b>: The forwarding node forwards the packet to the destination node based on the node identifier of the destination node, or stores the packet in the destination node based on the node identifier of the destination node.</p><p id="p-0267" num="0263">In this embodiment of this application, the software-defined wide area network (SD-WAN) scenario shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is used as an example. Certainly, an application scenario in this embodiment of this application may not be limited to the SD-WAN scenario.</p><p id="p-0268" num="0264">For example, the application scenario in this embodiment of this application may alternatively be an internet protocol wide area network (IP-RAN) scenario shown in <figref idref="DRAWINGS">FIG. <b>15</b></figref>. Refer to <figref idref="DRAWINGS">FIG. <b>15</b></figref>. The application scenario includes a terminal, a base station, a plurality of forwarding nodes, and a controller. The controller may be a serving gateway (S-GW) or a mobility management node (MoMME). The plurality of forwarding nodes may include a base station gateway (CSG)-<b>1</b>, a CSG-<b>2</b>, an aggregation site gateway (ASG)<b>1</b>-<b>1</b>, an ASG<b>1</b>-<b>2</b>, an autonomous system boundary router (ASBR)<b>1</b>-<b>1</b>, an ASBR<b>1</b>-<b>2</b>, an ASBR<b>2</b>-<b>1</b>, an ASBR<b>2</b>-<b>2</b>, a mobile aggregation site gateway (MASG)<b>1</b>, and an MASG<b>2</b>. A network structure shown in <figref idref="DRAWINGS">FIG. <b>16</b></figref> is merely an example. Actually, an application scenario shown in <figref idref="DRAWINGS">FIG. <b>16</b></figref> is also applicable to other types of PE or GW forwarding nodes. For example, the nodes further include a radio service gateway (RSG), a radio network controller side gateway (RSG), a router reflector (RR), and a mobile edge computing (MEC) node.</p><p id="p-0269" num="0265">The network scenario shown in <figref idref="DRAWINGS">FIG. <b>16</b></figref> is still used as an example. The CSG-<b>1</b>, the CSG-<b>2</b>, the ASG<b>1</b>-<b>1</b>, and the ASG<b>1</b>-<b>2</b> are located in a network domain <b>1</b>, the ASG<b>1</b>-<b>1</b>, the ASG<b>1</b>-<b>2</b>, the ASBR<b>1</b>-<b>1</b>, and the ASBR<b>1</b>-<b>2</b> are located in a network domain <b>2</b>, and the ASBR<b>2</b>-<b>1</b>, the ASBR<b>2</b>-<b>2</b>, the MASG<b>1</b>, and the MASG<b>2</b> are in a network domain <b>3</b>. The base station is connected to the CSG-<b>1</b>, the terminal is connected to the CSG-<b>2</b>, the ASBR<b>1</b>-<b>1</b> is connected to the ASBR<b>2</b>-<b>1</b>, the ASBR<b>1</b>-<b>2</b> is connected to the ASBR<b>2</b>-<b>2</b>, and both the MASG<b>1</b> and the MASG<b>2</b> are connected to the SGW/MME.</p><p id="p-0270" num="0266">In this application scenario, the base station may be a source node, and the SGW/MME may be a destination node. Alternatively, the terminal may be a source node, and the SGW/MME may be a destination node.</p><p id="p-0271" num="0267">In the route determining method provided in embodiments of this application, for an operation of the source node, refer to the operation performed by the CE<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>; for an operation of the destination node, refer to the operation performed by the CE<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>; for an operation of a node (for example, the CSG-<b>1</b> connected to the base station or the CSG-<b>2</b> connected to the terminal) connected to the source node, refer to the operation performed by the PE<b>1</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>; for an operation of a node (for example, the MASG<b>1</b> or the MASG<b>2</b> connected to the SGW/MME) connected to the source node, refer to the operation performed by the PE<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>; and for an operation of any node that is in the plurality of forwarding nodes and that is not connected to the source node or the destination node, refer to the operation performed by the GW<b>1</b> or the GW<b>2</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> to <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> or <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>.</p><p id="p-0272" num="0268">With reference to <figref idref="DRAWINGS">FIG. <b>1</b></figref> to <figref idref="DRAWINGS">FIG. <b>15</b></figref>, the foregoing describes in detail the route determining methods provided in this application. It may be understood that to implement the functions described in the foregoing methods, the forwarding nodes need to include corresponding hardware and/or software modules for performing the functions. This application can be implemented in a form of hardware or a combination of hardware and computer software with reference to the execution steps of the methods described in embodiments disclosed in this specification. Whether a function is performed by hardware or hardware driven by computer software depends on particular applications and design constraints of the technical solutions. A person skilled in the art may use different manners to implement the described functions for each particular application with reference to embodiments, but it should not be considered that the implementation goes beyond the scope of this application.</p><p id="p-0273" num="0269">In embodiments, the corresponding forwarding node may be divided into functional modules based on the foregoing method embodiments. For example, each functional module may be obtained through division based on each corresponding function, or two or more functions may be integrated into one processing module. The integrated module may be implemented in a form of hardware. It should be noted that in embodiments, division into the modules is an example, and is specifically a possible logical function division. During actual implementation, another division manner may be used.</p><p id="p-0274" num="0270">When the division into the functional modules is used, a route determining apparatus provided in this application is described below with reference to <figref idref="DRAWINGS">FIG. <b>16</b></figref> to <figref idref="DRAWINGS">FIG. <b>21</b></figref>.</p><p id="p-0275" num="0271"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a block diagram of a route determining apparatus according to an embodiment of this application. The route determining apparatus may be, for example, the first forwarding node in <figref idref="DRAWINGS">FIG. <b>11</b></figref>. As shown in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, the route determining apparatus includes an obtaining module <b>1501</b> and a sending module <b>1502</b>.</p><p id="p-0276" num="0272">The obtaining module <b>1501</b> is configured to receive routing information sent by a second forwarding node, where the routing information includes a node identifier of a destination node and at least one piece of indication information, the at least one piece of indication information is in a one-to-one correspondence with at least one third forwarding node, and the second forwarding node belongs to the at least one third forwarding node. For an operation performed by the receiving module <b>1501</b>, refer to S<b>1001</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0277" num="0273">The sending module <b>1502</b> is configured to send a packet to the destination node based on the routing information, where the packet includes the at least one piece of indication information, and the at least one piece of indication information indicates to forward the packet along the at least one third forwarding node. For an operation performed by the sending module <b>1502</b>, refer to S<b>1002</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0278" num="0274">Because the indication information of the forwarding node carries a route including the node identifier of the destination node, after receiving the route, the forwarding node connected to a source node may determine, based on the indication information of the forwarding node in the route, a route and a transmission path for sending a packet to the destination node, to forward the packet to the destination node based on the route and the transmission path. In this process, the indication information of each forwarding node is added by each forwarding node. This avoids that the forwarding node connected to the source node determines the transmission path by transmitting control packets. Therefore, the packets transmitted in a network are reduced, and network load is reduced.</p><p id="p-0279" num="0275">Optionally, the sending module <b>1502</b> is configured to: establish a correspondence between the node identifier of the destination node and first tunnel information based on the routing information, where the first tunnel information includes the at least one piece of indication information; and send the packet to the destination node based on the first tunnel information. In another case, the first forwarding node may alternatively not generate the tunnel information based on the routing information, but directly establish a local forwarding entry based on the received routing information. In this way, when the first forwarding node sends the packet to the destination node based on the routing information, the first forwarding node directly sends the packet to the destination node based on the at least one piece of indication information in the routing information.</p><p id="p-0280" num="0276">Optionally, the at least one piece of indication information includes a segment identifier of the at least one third forwarding node, and the segment identifier of the at least one third forwarding node is sequentially arranged based on a routing distance between the at least one third forwarding node and the first forwarding node. For example, SIDs of the forwarding nodes in the routing information may be arranged in descending order or ascending order of routing distances between these forwarding nodes and a PE<b>1</b>. A routing distance between two nodes may be represented by a quantity of nodes through which the packet transmitted between the two nodes needs to pass. A large quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a large routing distance between the two nodes; or a small quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a small routing distance between the two nodes.</p><p id="p-0281" num="0277">Optionally, the at least one piece of indication information further includes endpoint information of the at least one third forwarding node. The endpoint of the forwarding node may identify the forwarding node corresponding to the SID, and may be used to quickly determine the forwarding node corresponding to the SID, to facilitate verification, quick positioning, and node maintenance. Therefore, when the indication information of the forwarding node includes the endpoint, the corresponding forwarding node may be quickly determined based on the indication information of the forwarding node, so that maintenance of the forwarding node is facilitated. The endpoint may be information such as a loopback address.</p><p id="p-0282" num="0278">Optionally, the at least one third forwarding node includes a fourth forwarding node, the fourth forwarding node is a node that is in the at least one third forwarding node and that has a largest routing distance from the first forwarding node, the routing information further includes a next-hop identifier, and the next-hop identifier includes a node identifier of the fourth forwarding node. Because the next-hop identifier in the routing information is the node identifier of the fourth forwarding node, when forwarding the packet to the destination node based on the routing information, the first forwarding node may first forward the packet to the fourth forwarding node, so that the fourth forwarding node forwards the packet to the destination node.</p><p id="p-0283" num="0279">Optionally, the sending module <b>1502</b> is configured to: obtain, based on the node identifier of the destination node, a plurality of pieces of tunnel information corresponding to the node identifier of the destination node, where the plurality of pieces of tunnel information correspond to a plurality of tunnels, and the plurality of pieces of tunnel information include the first tunnel information; determine the first tunnel information from the plurality of pieces of tunnel information based on a tunnel constraint (for example, a transmission delay condition or a bandwidth condition); and send the packet to the destination node based on the determined first tunnel information.</p><p id="p-0284" num="0280">Optionally, the at least one third forwarding node includes a fourth forwarding node, the fourth forwarding node is a node that is in the at least one third forwarding node and that has a largest routing distance from the first forwarding node, the at least one piece of indication information includes first indication information, the first indication information indicates the fourth forwarding node, and a segment identifier type of the first indication information is a binding segment identifier. When the segment identifier type of the first indication information is the binding segment identifier, it indicates that the fourth forwarding node changes the next-hop identifier in the routing information when forwarding the routing information. Certainly, when the fourth forwarding node changes the next-hop identifier, the segment identifier type of the first indication information may alternatively not be the binding segment identifier. This is not uniquely limited in this application.</p><p id="p-0285" num="0281">When an integrated unit is used, the route determining apparatus that is used for the first forwarding node and that is provided in this application may include a processing module, a storage module, and a communication module. The processing module may be configured to control and manage actions of the route determining apparatus, for example, may be configured to support the route determining apparatus in performing S<b>1001</b> and S<b>1002</b>. The storage module may be configured to support the route determining apparatus in storing program code, data, and the like. The communication module may be configured to support the route determining apparatus in communicating with another device.</p><p id="p-0286" num="0282">The processing module may be a processor or a controller. The processor may implement or execute various example logical blocks, modules, and circuits described with reference to content disclosed in this application. The processor may alternatively be a combination of processors implementing a computing function, for example, a combination of one or more microprocessors or a combination of digital signal processing (DSP) and a microprocessor. The storage module may be a memory. The communication module may be specifically a device that interacts with another electronic device, such as a radio frequency circuit, a Bluetooth chip, or a Wi-Fi chip.</p><p id="p-0287" num="0283">In an embodiment, when the processing module is a processor <b>1602</b>, the storage module is a memory <b>1601</b>, and the communication module is a communication interface <b>1603</b>, the route determining apparatus in this embodiment may be a network device <b>1600</b> having a structure shown in <figref idref="DRAWINGS">FIG. <b>17</b></figref>. Optionally, the network device <b>1600</b> may further include a bus <b>1604</b>. The processor <b>1602</b>, the memory <b>1601</b>, and the communication interface <b>1603</b> may be connected by using the bus <b>1604</b>.</p><p id="p-0288" num="0284">In another embodiment, the route determining apparatus in this embodiment may be a network device <b>1700</b> having a structure shown in <figref idref="DRAWINGS">FIG. <b>18</b></figref>. The network device <b>1700</b> includes a main control board <b>1701</b> and an interface board <b>1702</b>. The main control board <b>1701</b> includes a first processor <b>17011</b> and a first memory <b>17012</b>. The interface board <b>1702</b> includes a second processor <b>17021</b>, a second memory <b>17022</b>, and an interface card <b>17023</b>. The first processor <b>17011</b> is configured to invoke program instructions in the first memory <b>17012</b> to perform a corresponding processing function, and the second processor <b>17021</b> is configured to invoke program instructions in the second memory <b>17022</b> to control the interface card <b>17023</b> to perform corresponding receiving and sending functions. The processing module in the route determining apparatus includes the first processor <b>17011</b> and the second processor <b>17021</b> in <figref idref="DRAWINGS">FIG. <b>18</b></figref>, the storage module includes the first memory <b>17011</b> and the second memory <b>17022</b>, and the communication module includes the interface card <b>17023</b>.</p><p id="p-0289" num="0285"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a block diagram of another route determining apparatus according to an embodiment of this application. The route filtering apparatus may be, for example, the second forwarding node in <figref idref="DRAWINGS">FIG. <b>11</b></figref>. As shown in <figref idref="DRAWINGS">FIG. <b>19</b></figref>, the route determining apparatus includes a first obtaining module <b>1801</b>, a processing module <b>1802</b>, and first sending module <b>1803</b>.</p><p id="p-0290" num="0286">The first obtaining module <b>1801</b> is configured to obtain routing information, where the routing information includes a node identifier of a destination node and at least one piece of indication information, and the at least one piece of indication information indicates at least one third forwarding node. For an operation performed by the first obtaining module <b>1801</b>, refer to Slim in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0291" num="0287">The processing module <b>1802</b> is configured to add first indication information to the routing information, to obtain updated routing information, where the first indication information indicates a second forwarding node. For an operation performed by the processing module <b>1802</b>, refer to S<b>1102</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0292" num="0288">The first sending module <b>1803</b> is configured to send the updated routing information to a first forwarding node. For an operation performed by the first sending module <b>1803</b>, refer to S<b>1103</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0293" num="0289">The second forwarding node adds the first indication information to the routing information, and sends the updated routing information. Therefore, after receiving the routing information, the forwarding node connected to a source node may determine, based on the indication information of the forwarding node in the routing information, a route and a transmission path for sending a packet to the destination node, to forward the packet to the destination node based on the route and the transmission path. In this process, each piece of indication information indicating the forwarding node is autonomously added by each corresponding forwarding node. This avoids that the forwarding node connected to the source node determines the transmission path by transmitting a large quantity of control packets. Therefore, the packets transmitted in a network are reduced, and network load is reduced.</p><p id="p-0294" num="0290">Optionally, the routing information obtained by the second forwarding node further includes a next-hop identifier.</p><p id="p-0295" num="0291">The second forwarding node may not change the next-hop identifier in the obtained routing information. In this case, the route filtering apparatus may be, for example, the second forwarding node in <figref idref="DRAWINGS">FIG. <b>12</b></figref>. The updated routing information includes the first indication information and the at least one piece of indication information.</p><p id="p-0296" num="0292">Alternatively, the second forwarding node may change the next-hop identifier in the obtained routing information. In this case, the route filtering apparatus may be, for example, the second forwarding node in <figref idref="DRAWINGS">FIG. <b>13</b></figref>. The processing module <b>1802</b> is configured to: update the next-hop identifier to a node identifier of the second forwarding node; and replace the at least one piece of indication information with the first indication information, to add the first indication information to the routing information, where the updated routing information includes the node identifier of the second forwarding node and the first indication information.</p><p id="p-0297" num="0293">Optionally, when the second forwarding node does not change the next-hop identifier in the obtained routing information, as shown in <figref idref="DRAWINGS">FIG. <b>20</b></figref>, based on <figref idref="DRAWINGS">FIG. <b>19</b></figref>, the route determining apparatus further includes a second receiving module <b>1804</b> and a second sending module <b>1805</b>.</p><p id="p-0298" num="0294">The second receiving module <b>1804</b> is configured to receive a packet sent to the destination node, where the packet includes the first indication information and the at least one piece of indication information. For an operation performed by the second receiving module <b>1804</b>, refer to S<b>1204</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>12</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0299" num="0295">The second sending module <b>1805</b> is configured to send an updated packet to a fourth forwarding node, where the updated packet includes the at least one piece of indication information but does not include the first indication information, and the fourth forwarding node belongs to the at least one third forwarding node. For an operation performed by the second sending module <b>1805</b>, refer to S<b>1205</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>12</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0300" num="0296">It can be learned that when the second forwarding node does not change the next-hop identifier in the obtained routing information, after receiving the packet, the second forwarding node deletes the indication information of the second forwarding node from the packet, to obtain the updated packet.</p><p id="p-0301" num="0297">Optionally, when the second forwarding node changes the next-hop identifier in the obtained routing information, as shown in <figref idref="DRAWINGS">FIG. <b>21</b></figref>, based on <figref idref="DRAWINGS">FIG. <b>19</b></figref>, the route determining apparatus further includes a third receiving module <b>1806</b> and a third sending module <b>1807</b>.</p><p id="p-0302" num="0298">The third receiving module <b>1806</b> is configured to receive a packet sent to the destination node, where the packet includes the first indication information. For an operation performed by the third receiving module <b>1806</b>, refer to S<b>1304</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>13</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0303" num="0299">The third sending module <b>1807</b> is configured to send an updated packet to a fourth forwarding node, where the updated packet includes the at least one piece of indication information but does not include the first indication information, and the fourth forwarding node belongs to the at least one third forwarding node. For an operation performed by the third sending module <b>1807</b>, refer to S<b>1305</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>13</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0304" num="0300">It can be learned that when the second forwarding node changes the next-hop identifier in the received routing information, after receiving the packet, the second forwarding node replaces the indication information in the packet.</p><p id="p-0305" num="0301">Optionally, the third sending module <b>1807</b> is configured to: remove the first indication information from the packet; add, by the second forwarding node, the at least one piece of indication information to the packet based on a correspondence between the first indication information and the at least one piece of indication information; and send, by the second forwarding node, the updated packet to the fourth forwarding node.</p><p id="p-0306" num="0302">Optionally, the at least one piece of indication information includes a segment identifier of the at least one third forwarding node, the segment identifier of the at least one third forwarding node is sequentially arranged based on a routing distance between the at least one third forwarding node and the first forwarding node, and the first forwarding node is the 1st forwarding node that forwards the packet to the destination node. For example, SIDs of the forwarding nodes in the routing information may be arranged in descending order or ascending order of routing distances between these forwarding nodes and a PE<b>1</b>. A routing distance between two nodes may be represented by a quantity of nodes through which the packet transmitted between the two nodes needs to pass. A large quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a large routing distance between the two nodes; or a small quantity of nodes through which the packet transmitted between the two nodes needs to pass indicates a small routing distance between the two nodes.</p><p id="p-0307" num="0303">Optionally, the at least one piece of indication information further includes endpoint information of the at least one third forwarding node. The endpoint of the forwarding node may identify the forwarding node corresponding to the SID, and may be used to quickly determine the forwarding node corresponding to the SID, to facilitate verification, quick positioning, and node maintenance. The endpoint may be information such as a loopback address.</p><p id="p-0308" num="0304">Optionally, when the second forwarding node changes the next-hop identifier in the obtained routing information, the first indication information includes a binding segment identifier of the second forwarding node. When the second forwarding node changes the next-hop identifier in the received routing information, the first indication information may alternatively not include the binding segment identifier of the second forwarding node. This is not uniquely limited in this application.</p><p id="p-0309" num="0305">When an integrated unit is used, the route determining apparatus that is used for the second forwarding node and that is provided in this application may include a processing module, a storage module, and a communication module. The processing module may be configured to control and manage actions of the route determining apparatus, for example, may be configured to support the route determining apparatus in performing the action in <figref idref="DRAWINGS">FIG. <b>1</b><i>i</i></figref>, <figref idref="DRAWINGS">FIG. <b>12</b></figref>, or <figref idref="DRAWINGS">FIG. <b>13</b></figref>. The storage module may be configured to support the route determining apparatus in storing program code, data, and the like. The communication module may be configured to support the route determining apparatus in communicating with another device.</p><p id="p-0310" num="0306">For the processing module, the storage module, and the communication module, respectively refer to the processing module, the storage module, and the communication module in the foregoing route determining apparatus for the first forwarding node. Details are not described in this embodiment of this application again.</p><p id="p-0311" num="0307">In an embodiment, when the processing module is a processor <b>2002</b>, the storage module is a memory <b>2001</b>, and the communication module is a communication interface <b>2003</b>, the route determining apparatus in this embodiment may be a network device <b>2000</b> having a structure shown in <figref idref="DRAWINGS">FIG. <b>22</b></figref>. Optionally, the network device <b>2000</b> may further include a bus <b>2004</b>. The processor <b>2002</b>, the memory <b>2001</b>, and the communication interface <b>2003</b> may be connected by using the bus <b>2004</b>.</p><p id="p-0312" num="0308">In another embodiment, the route determining apparatus in this embodiment may be a network device <b>2200</b> having a structure shown in <figref idref="DRAWINGS">FIG. <b>23</b></figref>. The network device <b>2200</b> includes a main control board <b>2201</b> and an interface board <b>2202</b>. The main control board <b>2201</b> includes a first processor <b>22011</b> and a first memory <b>22012</b>. The interface board <b>2202</b> includes a second processor <b>22021</b>, a second memory <b>22022</b>, and an interface card <b>22023</b>. The first processor <b>22011</b> is configured to invoke program instructions in the first memory <b>22012</b> to perform a corresponding processing function, and the second processor <b>22021</b> is configured to invoke program instructions in the second memory <b>22022</b> to control the interface card <b>22023</b> to perform corresponding receiving and sending functions. The processing module in the route determining apparatus includes the first processor <b>22011</b> and the second processor <b>22021</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>, the storage module includes the first memory <b>22011</b> and the second memory <b>22022</b>, and the communication module includes the interface card <b>22023</b>.</p><p id="p-0313" num="0309"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a block diagram of another route determining apparatus according to an embodiment of this application. The route filtering apparatus may be, for example, the forwarding node in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. As shown in <figref idref="DRAWINGS">FIG. <b>24</b></figref>, the route determining apparatus includes a first obtaining module <b>2301</b>, a first processing module <b>2302</b>, and first sending module <b>2303</b>.</p><p id="p-0314" num="0310">The first obtaining module <b>2301</b> is configured to obtain first routing information of a destination node. For an operation performed by the first receiving module <b>2301</b>, refer to S<b>1401</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0315" num="0311">The first processing module <b>2302</b> is configured to generate second routing information based on the first routing information, where the second routing information includes a node identifier of the destination node, a next-hop identifier, and indication information, the indication information indicates a forwarding node, and the next-hop identifier is a node identifier of the forwarding node. For an operation performed by the first processing module <b>2302</b>, refer to S<b>1402</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0316" num="0312">The first sending module <b>2303</b> is configured to send the second routing information. For an operation performed by the first sending module <b>2303</b>, refer to S<b>1403</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0317" num="0313">The second routing information generated by the forwarding node includes indication information of the forwarding node. Therefore, after receiving the routing information, a forwarding node connected to a source node may determine, based on the indication information of the forwarding node in the routing information, a route and a transmission path for sending a packet to the destination node, to forward the packet to the destination node based on the route and the transmission path. This process avoids that the forwarding node connected to the source node determines the transmission path by receiving control packets. Therefore, the packets transmitted in a network are reduced, and network load is reduced.</p><p id="p-0318" num="0314">Optionally, the indication information of the forwarding node includes a segment identifier of the forwarding node. Optionally, the at least one piece of indication information further includes endpoint information of the at least one third forwarding node. This is not limited in this application.</p><p id="p-0319" num="0315">Optionally, as shown in <figref idref="DRAWINGS">FIG. <b>25</b></figref>, based on <figref idref="DRAWINGS">FIG. <b>24</b></figref>, the route determining apparatus further includes a second receiving module <b>2304</b> and a second processing module <b>2305</b>.</p><p id="p-0320" num="0316">The second receiving module <b>2304</b> is configured to receive a packet, where the packet includes the node identifier of the destination node and the indication information. For an operation performed by the second receiving module <b>2304</b>, refer to S<b>1404</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0321" num="0317">The second processing module <b>2305</b> is configured to: forward the packet to the destination node based on the node identifier of the destination node, or store the packet in the destination node based on the node identifier of the destination node. For an operation performed by the second sending module <b>2305</b>, refer to S<b>1405</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. Details are not described in this embodiment of this application again.</p><p id="p-0322" num="0318">When an integrated unit is used, the route determining apparatus that is used for the forwarding node and that is provided in this application may include a processing module, a storage module, and a communication module. The processing module may be configured to control and manage actions of the route determining apparatus, for example, may be configured to support the route determining apparatus in performing the action in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. The storage module may be configured to support the route determining apparatus in storing program code, data, and the like. The communication module may be configured to support the route determining apparatus in communicating with another device.</p><p id="p-0323" num="0319">For the processing module, the storage module, and the communication module, respectively refer to the processing module, the storage module, and the communication module in the foregoing route determining apparatus for the first forwarding node. Details are not described in this embodiment of this application again.</p><p id="p-0324" num="0320">In an embodiment, when the processing module is a processor <b>2502</b>, the storage module is a memory <b>2501</b>, and the communication module is a communication interface <b>2503</b>, the route determining apparatus in this embodiment may be a network device <b>2500</b> having a structure shown in <figref idref="DRAWINGS">FIG. <b>26</b></figref>. Optionally, the network device <b>2500</b> may further include a bus <b>2504</b>. The processor <b>2502</b>, the memory <b>2501</b>, and the communication interface <b>2503</b> may be connected by using the bus <b>2504</b>.</p><p id="p-0325" num="0321">In another embodiment, the route determining apparatus in this embodiment may be a network device <b>2600</b> having a structure shown in <figref idref="DRAWINGS">FIG. <b>27</b></figref>. The network device <b>2600</b> includes a main control board <b>2601</b> and an interface board <b>2602</b>. The main control board <b>2601</b> includes a first processor <b>26011</b> and a first memory <b>26012</b>. The interface board <b>2602</b> includes a second processor <b>26021</b>, a second memory <b>26022</b>, and an interface card <b>26023</b>. The first processor <b>26011</b> is configured to invoke program instructions in the first memory <b>26012</b> to perform a corresponding processing function, and the second processor <b>26021</b> is configured to invoke program instructions in the second memory <b>26022</b> to control the interface card <b>26023</b> to perform corresponding receiving and sending functions. The processing module in the route determining apparatus includes the first processor <b>26011</b> and the second processor <b>26021</b> in <figref idref="DRAWINGS">FIG. <b>27</b></figref>, the storage module includes the first memory <b>26011</b> and the second memory <b>26022</b>, and the communication module includes the interface card <b>26023</b>.</p><p id="p-0326" num="0322">An embodiment of this application provides a computer-readable storage medium.</p><p id="p-0327" num="0323">The storage medium stores a computer program, and the computer program is used to perform the method performed by any forwarding node in any route determining method provided in embodiments of this application.</p><p id="p-0328" num="0324">An embodiment of this application provides a computer program product including instructions. When the computer program product runs on a network device, the network device is enabled to perform the method performed by any forwarding node in any route determining method provided in embodiments of this application.</p><p id="p-0329" num="0325">All or some of the foregoing embodiments may be implemented by software, hardware, firmware, or any combination thereof. When the software is used to implement embodiments, all or some of embodiments may be implemented in a form of a computer program product. The computer program product includes one or more computer instructions. When the computer program instructions are loaded and executed on a computer, all or some of the procedures or functions according to embodiments of this application are generated. The computer may be a general-purpose computer, a computer network, or another programmable apparatus. The computer instructions may be stored in a computer-readable storage medium or may be transmitted from a computer-readable storage medium to another computer-readable storage medium. For example, the computer instructions may be transmitted from a website, computer, server, or data center to another website, computer, server, or data center in a wired (for example, a coaxial cable, an optical fiber, or a digital subscriber line) or wireless (for example, infrared, radio, or microwave) manner. The computer-readable storage medium may be any usable medium accessible by a computer, or a data storage apparatus, such as a server or a data center, integrating one or more usable media. The usable medium may be a magnetic medium (for example, a floppy disk, a hard disk, or a magnetic tape), an optical medium, a semiconductor medium (for example, a solid-state drive), or the like.</p><p id="p-0330" num="0326">In this application, the terms &#x201c;first&#x201d;, &#x201c;second&#x201d;, and the like are merely intended for description, but cannot be understood as an indication or implication of relative importance. The term &#x201c;at least one&#x201d; refers to one or more, and the term &#x201c;a plurality of&#x201d; refers to two or more, unless expressly limited otherwise.</p><p id="p-0331" num="0327">For different types of embodiments such as the method embodiments and the apparatus embodiments provided in embodiments of this application, refer to each other. This is not limited in embodiments of this application. A sequence of the operations of the method embodiment provided in embodiments of this application can be properly adjusted, and the operations can be correspondingly added or deleted based on a situation. Any method that can be easily figured out by a person skilled in the art within a technical scope disclosed in this application shall fall within the protection scope of this application. Therefore, details are not described again.</p><p id="p-0332" num="0328">In the corresponding embodiments provided in this application, it should be understood that the disclosed system, device, and apparatus may be implemented in other manners. For example, the apparatus embodiments described above are merely examples. For example, division into the units is merely logical function division, and may be another division manner during actual implementation. For example, a plurality of units or components may be combined or integrated into another system, or some features may be ignored or not performed. In addition, the displayed or discussed mutual couplings or direct couplings or communication connections may be implemented through some interfaces. The indirect couplings or communication connections between the apparatuses or units may be implemented in electronic or other forms.</p><p id="p-0333" num="0329">The units described as separate components may or may not be physically separate, and components described as units may or may not be physical units, may be located in one position, or may be distributed on a plurality of network devices (for example, terminal devices). Some or all of the units may be selected based on actual requirements to achieve the objectives of the solutions of embodiments.</p><p id="p-0334" num="0330">The foregoing descriptions are merely specific implementations of this application, but are not intended to limit the protection scope of this application. Any modification or replacement readily figured out by a person skilled in the art within the technical scope disclosed in this application shall fall within the protection scope of this application. Therefore, the protection scope of this application shall be subject to the protection scope of the claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A route determining apparatus, wherein the route determining apparatus comprises:<claim-text>a receiving module configured to receive routing information sent by a second forwarding node, wherein the routing information comprises a node identifier of a destination node and at least one piece of indication information, wherein the at least one piece of indication information is in a one-to-one correspondence with at least one third forwarding node, and wherein the second forwarding node belongs to the at least one third forwarding node; and</claim-text><claim-text>a sending module configured to send a packet to the destination node based on the routing information, wherein the packet comprises the at least one piece of indication information, and wherein the at least one piece of indication information indicates to forward the packet along the at least one third forwarding node.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The route determining apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the sending module is further configured to:<claim-text>establish a correspondence between the node identifier of the destination node and first tunnel information based on the routing information, wherein the first tunnel information comprises the at least one piece of indication information;</claim-text><claim-text>wherein the configuration to send a packet to the destination node based on the routing information further comprises configuration to send the packet to the destination node based on the first tunnel information.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The route determining apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the at least one piece of indication information comprises a segment identifier of the at least one third forwarding node, and wherein the segment identifier of the at least one third forwarding node is sequentially arranged based on a routing distance between the at least one third forwarding node and a first forwarding node.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The route determining apparatus according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the first forwarding node is the first forwarding node that forwards the packet to the destination node.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The route determining apparatus according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the at least one piece of indication information further comprises endpoint information of the at least one third forwarding node.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The route determining apparatus according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the at least one third forwarding node comprises a fourth forwarding node, wherein the fourth forwarding node is a node that is in the at least one third forwarding node and that has a largest routing distance from the first forwarding node, wherein the routing information further comprises a next-hop identifier, and wherein the next-hop identifier comprises a node identifier of the fourth forwarding node.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The route determining apparatus according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the sending module is further configured to:<claim-text>obtain, based on the node identifier of the destination node, a plurality of pieces of tunnel information corresponding to the node identifier of the destination node, wherein the plurality of pieces of tunnel information correspond to a plurality of tunnels, and the plurality of pieces of tunnel information comprise the first tunnel information; and</claim-text><claim-text>determine the first tunnel information from the plurality of pieces of tunnel information based on a tunnel constraint;</claim-text><claim-text>wherein the configuration send the packet to the destination node based on the first tunnel information further comprises configuration to send the packet to the destination node based on the determined first tunnel information.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The route determining apparatus according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the at least one third forwarding node comprises a fourth forwarding node, wherein the fourth forwarding node is a node that is in the at least one third forwarding node and that has a largest routing distance from the first forwarding node, wherein the at least one piece of indication information comprises first indication information, wherein the first indication information indicates the fourth forwarding node, and wherein a segment identifier type of the first indication information is a binding segment identifier.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. A route determining apparatus, wherein the route determining apparatus comprises:<claim-text>a first obtaining module configured to obtain routing information, wherein the routing information comprises a node identifier of a destination node and at least one piece of indication information, and wherein the at least one piece of indication information indicates at least one third forwarding node;</claim-text><claim-text>a processing module configured to:<claim-text>to obtain updated routing information; and</claim-text><claim-text>add first indication information to the routing information, wherein the first indication information indicates a second forwarding node; and</claim-text></claim-text><claim-text>a first sending module configured to send the updated routing information to a first forwarding node.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The route determining apparatus according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the updated routing information comprises the first indication information and the at least one piece of indication information.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The route determining apparatus according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the routing information obtained by the first obtaining module further comprises a next-hop identifier, and wherein the processing module is further configured to:<claim-text>update the next-hop identifier to a node identifier of the second forwarding node; and</claim-text><claim-text>replace the at least one piece of indication information with the first indication information, wherein the first indication information is added to the routing information:</claim-text><claim-text>wherein the updated routing information comprises the node identifier of the second forwarding node and the first indication information.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The route determining apparatus according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the route determining apparatus further comprises:<claim-text>a second receiving module configured to receive a packet sent to the destination node, wherein the packet comprises the first indication information and the at least one piece of indication information; and</claim-text><claim-text>a second sending module configured to send an updated packet to a fourth forwarding node, wherein the updated packet comprises the at least one piece of indication information but does not comprise the first indication information, and wherein the fourth forwarding node belongs to the at least one third forwarding node.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The route determining apparatus according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the route determining apparatus further comprises:<claim-text>a third receiving module configured to receive a packet sent to the destination node, wherein the packet comprises the first indication information; and</claim-text><claim-text>a third sending module configured to send an updated packet to a fourth forwarding node, wherein the updated packet comprises the at least one piece of indication information but does not comprise the first indication information, and wherein the fourth forwarding node belongs to the at least one third forwarding node.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The route determining apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the third sending module is further configured to:<claim-text>remove the first indication information from the packet; and</claim-text><claim-text>add the at least one piece of indication information to the packet based on a correspondence between the first indication information and the at least one piece of indication information.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The route determining apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the at least one piece of indication information comprises a segment identifier of the at least one third forwarding node, wherein the segment identifier of the at least one third forwarding node is sequentially arranged based on a routing distance between the at least one third forwarding node and the first forwarding node, and wherein the first forwarding node is the first forwarding node that forwards the packet to the destination node.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The route determining apparatus according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the at least one piece of indication information further comprises endpoint information of the at least one third forwarding node.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The route determining apparatus according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the first indication information comprises a binding segment identifier of the second forwarding node.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. A route determining apparatus, wherein the route determining apparatus comprises:<claim-text>a first obtaining module configured to obtain first routing information of a destination node;</claim-text><claim-text>a first processing module configured to generate second routing information based on the first routing information, wherein the second routing information comprises a node identifier of the destination node, a next-hop identifier, and indication information, wherein the indication information indicates a forwarding node, and wherein the next-hop identifier is a node identifier of the forwarding node; and</claim-text><claim-text>a first sending module configured to send the second routing information.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The route determining apparatus according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the indication information of the forwarding node comprises a segment identifier of the forwarding node.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The route determining apparatus according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the route determining apparatus further comprises:<claim-text>a second receiving module configured to receive a packet, wherein the packet comprises the node identifier of the destination node and the indication information; and</claim-text><claim-text>a second processing module configured to:<claim-text>forward the packet to the destination node based on the node identifier of the destination node; or</claim-text><claim-text>store the packet in the destination node based on the node identifier of the destination node.</claim-text></claim-text></claim-text></claim></claims></us-patent-application>