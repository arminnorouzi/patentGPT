<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003801A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003801</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17729954</doc-number><date>20220426</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>KR</country><doc-number>10-2021-0085428</doc-number><date>20210630</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>R</subclass><main-group>31</main-group><subgroup>367</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>N</subclass><main-group>20</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>J</subclass><main-group>7</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20190101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>R</subclass><main-group>31</main-group><subgroup>367</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20190101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>N</subclass><main-group>20</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>J</subclass><main-group>7</main-group><subgroup>0047</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20200101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>J</subclass><main-group>7</main-group><subgroup>00032</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">APPARATUS AND METHOD FOR ESTIMATING A STATE OF A BATTERY</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>HYUNDAI MOTOR COMPANY</orgname><address><city>Seoul</city><country>KR</country></address></addressbook><residence><country>KR</country></residence></us-applicant><us-applicant sequence="01" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>KIA CORPORATION</orgname><address><city>Seoul</city><country>KR</country></address></addressbook><residence><country>KR</country></residence></us-applicant><us-applicant sequence="02" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>INDUSTRY-ACADEMIC COOPERATION FOUNDATION, YONSEI UNIVERSITY</orgname><address><city>Seoul</city><country>KR</country></address></addressbook><residence><country>KR</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Oh</last-name><first-name>Jaekyung</first-name><address><city>Yongin-si</city><country>KR</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Choi</last-name><first-name>Won Jae</first-name><address><city>Seoul</city><country>KR</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Kim</last-name><first-name>Ju Seok</first-name><address><city>Suwon-si</city><country>KR</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Lee</last-name><first-name>Chulkyu</first-name><address><city>Anyang-si</city><country>KR</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>Ryu</last-name><first-name>Hee Yeon</first-name><address><city>Yongin-si</city><country>KR</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>Lee</last-name><first-name>Bohyun</first-name><address><city>Incheon</city><country>KR</country></address></addressbook></inventor><inventor sequence="06" designation="us-only"><addressbook><last-name>Choi</last-name><first-name>Yun Young</first-name><address><city>Goyang-si</city><country>KR</country></address></addressbook></inventor><inventor sequence="07" designation="us-only"><addressbook><last-name>Kim</last-name><first-name>Seongyoon</first-name><address><city>Incheon</city><country>KR</country></address></addressbook></inventor><inventor sequence="08" designation="us-only"><addressbook><last-name>Choi</last-name><first-name>Jung-Il</first-name><address><city>Goyang-si</city><country>KR</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>HYUNDAI MOTOR COMPANY</orgname><role>03</role><address><city>Seoul</city><country>KR</country></address></addressbook></assignee><assignee><addressbook><orgname>KIA CORPORATION</orgname><role>03</role><address><city>Seoul</city><country>KR</country></address></addressbook></assignee><assignee><addressbook><orgname>INDUSTRY-ACADEMIC COOPERATION FOUNDATION, YONSEI UNIVERSITY</orgname><role>03</role><address><city>Seoul</city><country>KR</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">An apparatus for estimating a state of a battery includes a memory configured to store a program of a neural network including a plurality of pre-trained predictive models and an adaptive hidden layer; and includes at least one processor configured to execute the program. The program includes an instruction for receiving battery data of a target battery, inputting the battery data to the adaptive hidden layer, selecting one predictive model from the plurality of pre-trained predictive models through the adaptive hidden layer, inputting the battery data to the selected predictive model, and outputting prediction data for a remaining useful life of the target battery through the selected predictive model.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="65.19mm" wi="134.79mm" file="US20230003801A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="81.87mm" wi="136.82mm" file="US20230003801A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="80.77mm" wi="156.46mm" file="US20230003801A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="83.40mm" wi="140.46mm" file="US20230003801A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="109.90mm" wi="127.59mm" file="US20230003801A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="118.11mm" wi="110.91mm" file="US20230003801A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="225.21mm" wi="134.62mm" orientation="landscape" file="US20230003801A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="138.94mm" wi="111.59mm" file="US20230003801A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading><p id="p-0002" num="0001">This application is based on and claims priority under 35 U.S.C. &#xa7; 119 to Korean Patent Application No. 10-2021-0085428, filed on Jun. 30, 2021 in the Korean Intellectual Property Office, the present disclosure of which is incorporated herein by reference.</p><heading id="h-0002" level="1">BACKGROUND</heading><heading id="h-0003" level="1">1. Technical Field</heading><p id="p-0003" num="0002">The present disclosure relates to an apparatus and a method for estimating a state of a battery.</p><heading id="h-0004" level="1">2. Description of the Related Art</heading><p id="p-0004" num="0003">A state of a battery may be defined as a state of health (SOH) and/or a remaining useful life (RUL).</p><p id="p-0005" num="0004">For example, in a SOH of a battery, a state when a maximum charge capacity is 100% may be an initial state and a state when the maximum charge capacity is reduced to 80% of the initial state may be indicated as 0%. Also, the RUL of a battery may be defined as a remaining life until the SOH reaches 0%.</p><p id="p-0006" num="0005">A technology of predicting an aging state of a battery by training a learning model such as a support vector machine (SVM) or a neural network based on measured value data of the battery, i.e., battery data, is used to estimate a state of battery.</p><p id="p-0007" num="0006">In a conventional technology for state estimation of battery data, a technology of applying only one long short-term memory (LSTM) model pre-trained based on a plurality of pieces of battery data exists.</p><p id="p-0008" num="0007">In such a conventional technology, when data of a portion of cycles (from <b>1</b> to XX) of battery data for which state estimation is desired is input to a single LSTM model, only average battery state of a plurality of pieces of battery data used for learning previously and battery data desired to be predicted is predictable. This problem is disadvantageous.</p><p id="p-0009" num="0008">Also, when the above-described disadvantage is solved by increasing LSTM models, overfitting may occur when battery data to be applied to learning is insufficient.</p><p id="p-0010" num="0009">As another conventional technology for state estimation of battery data, a technology that performs learning each time new battery data is input exists.</p><p id="p-0011" num="0010">In such a conventional technology, an increase in cost may be caused through iterative learning of the LSTM model.</p><p id="p-0012" num="0011">As still another conventional technology for state estimation of battery data, a technology that changes internal parameters according to new battery data each time new battery data is input exists.</p><p id="p-0013" num="0012">The above-described disadvantages may also occur in such a conventional technology.</p><heading id="h-0005" level="1">SUMMARY</heading><p id="p-0014" num="0013">An aspect of the present disclosure provides an apparatus and a method for estimating a state of a battery to resolve disadvantages of conventional battery state estimation technology.</p><p id="p-0015" num="0014">Additional aspects of the present disclosure, in part, are set forth in the following description and, in part, should be apparent from the description. Alternatively, additional aspects of the present disclosure may be learned by practice of the present disclosure.</p><p id="p-0016" num="0015">According to an aspect of the present disclosure, an apparatus for estimating a state of a battery is provided. The apparatus includes a memory configured to store a program of a neural network including a plurality of pre-trained predictive models and an adaptive hidden layer and includes at least one processor configured to execute the program. The program includes an instruction for receiving battery data of a target battery, inputting the battery data to the adaptive hidden layer, selecting one predictive model from the plurality of pre-trained predictive models through the adaptive hidden layer, inputting the battery data to the selected predictive model, and outputting prediction data for a remaining useful life of the target battery through the selected predictive model.</p><p id="p-0017" num="0016">The adaptive hidden layer includes identifying a similarity between the battery data and data corresponding to each of the plurality of pre-trained predictive models and includes learning so that a single predictive model to which data with a highest similarity to the battery data corresponds applies to the battery data, based on the identified similarity.</p><p id="p-0018" num="0017">The adaptive hidden layer includes applying a weight proportional to a similarity corresponding to each of the plurality of pre-trained predictive models, based on the identified similarity.</p><p id="p-0019" num="0018">The applying of the weight proportional to the similarity corresponding to each of the plurality of pre-trained predictive models includes calculating an average weight of at least one weight applied in advance and the matched weight, with respect to each of the plurality of pre-trained predictive models. The applying of the weight proportional to the similarity corresponding to each of the plurality of pre-trained predictive models also includes applying the calculated average weight to each of the plurality of pre-trained predictive models.</p><p id="p-0020" num="0019">The adaptive hidden layer includes selecting the single predictive model having a highest average weight among the average weights with respect to each of the plurality of pre-trained predictive models and learning so that the single predictive model and the battery data match to each other.</p><p id="p-0021" num="0020">The battery data includes battery data of first cycles of cycles from charging to discharging of the target battery.</p><p id="p-0022" num="0021">Each of the plurality of pre-trained predictive models is trained to predict result data for a remaining useful life of a corresponding battery, based on an input of first battery data of first cycles from charging to discharging of the corresponding battery.</p><p id="p-0023" num="0022">The predicting of the result data for the remaining useful life of the corresponding battery includes predicting, by each of the plurality of pre-trained predictive models, first data for a remaining useful life corresponding to second cycles after skipping a predetermined number of cycles from the first cycles, based on the input of the first battery data of the first cycles from charging to discharging of the corresponding battery to each of the plurality of pre-trained predictive models. The predicting of the result data for the remaining useful life of the corresponding battery also includes minimizing, by each of the plurality of pre-trained predictive models, a difference between the predicted first data and battery data of the second cycles of the corresponding battery.</p><p id="p-0024" num="0023">The predicting of the result data for the remaining useful life of the corresponding battery includes predicting, by each of the plurality of pre-trained predictive models, second data for a remaining useful life corresponding to third cycles after skipping the predetermined number of cycles from the second cycles, based on an input of the first data to each of the plurality of pre-trained predictive models.</p><p id="p-0025" num="0024">Each of the plurality of pre-trained predictive models includes a long short-term memory (LSTM) model.</p><p id="p-0026" num="0025">According to an aspect of the present disclosure, a method for estimating a state of a battery is provided. The method includes receiving battery data of a target battery and inputting the battery data to an adaptive hidden layer included in a neural network. The method also includes selecting a single predictive model from a plurality of pre-trained predictive models included in the neural network through the adaptive hidden layer. The method also includes inputting the battery data to the selected single predictive model and outputting prediction data for a remaining useful life of the target battery through the selected single predictive model.</p><p id="p-0027" num="0026">The selecting of the single predictive model from the plurality of pre-trained predictive models included in the neural network includes identifying, by the adaptive hidden layer, a similarity between the battery data and data corresponding to each of the plurality of pre-trained predictive models. The selecting of the single predictive model from the plurality of pre-trained predictive models included in the neural network also includes learning so that the single predictive model to which data with a highest similarity to the battery data corresponds applies to the battery data, based on the identified similarity.</p><p id="p-0028" num="0027">The selecting of the single predictive model from the plurality of pre-trained predictive models included in the neural network includes applying, by the adaptive hidden layer, a weight proportional to a similarity corresponding to each of the plurality of pre-trained predictive models, based on the identified similarity.</p><p id="p-0029" num="0028">The applying of the weight proportional to the similarity corresponding to each of the plurality of pre-trained predictive models includes calculating an average weight of at least one weight applied in advance and the matched weight, with respect to each of the plurality of pre-trained predictive models. The applying of the weight proportional to the similarity corresponding to each of the plurality of pre-trained predictive models also includes applying the calculated average weight with respect to each of the plurality of pre-trained predictive models.</p><p id="p-0030" num="0029">The selecting of the single predictive model from the plurality of pre-trained predictive models included in the neural network includes learning, by the adaptive hidden layer, so that the single predictive model having a highest average weight among the average weights with respect to each of the plurality of pre-trained predictive models and the battery data match to each other.</p><p id="p-0031" num="0030">The battery data includes battery data of first cycles of cycles from charging to discharging of the target battery.</p><p id="p-0032" num="0031">Each of the plurality of pre-trained predictive models is trained to predict result data for a remaining useful life of a corresponding battery, based on an input of first battery data of first cycles from charging to discharging of the corresponding battery.</p><p id="p-0033" num="0032">The predicting of the result data for the remaining useful life of the corresponding battery includes predicting, by each of the plurality of pre-trained predictive models, first data for a remaining useful life corresponding to second cycles after skipping a predetermined number of cycles from the first cycles, based on the input of the first battery data of the first cycles from charging to discharging of the corresponding battery to each of the plurality of pre-trained predictive models. The predicting of the result data for the remaining useful life of the corresponding battery also includes minimizing, by each of the plurality of pre-trained predictive models, a difference between the predicted first data and battery data of the second cycles of the corresponding battery.</p><p id="p-0034" num="0033">The predicting of the result data for the remaining useful life of the corresponding battery includes predicting, by each of the plurality of pre-trained predictive models, second data for a remaining useful life corresponding to third cycles after skipping the predetermined number of cycles from the second cycles, based on an input of the first data to each of the plurality of pre-trained predictive models.</p><p id="p-0035" num="0034">Each of the plurality of pre-trained predictive models includes an LSTM model.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0036" num="0035">These and/or other aspects of the present disclosure should become apparent and more readily appreciated from the following description of the embodiments, taken in conjunction with the accompanying drawings of which:</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram illustrating an apparatus for estimating a state of a battery according to an embodiment;</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a diagram illustrating an operation of an apparatus for estimating a state of a battery according to an embodiment;</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIGS. <b>3</b>A and <b>3</b>B</figref> are diagrams illustrating an operation principle of a long short-term memory (LSTM) model according to an embodiment;</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a flowchart illustrating operations of an apparatus for estimating a state of a battery according to an embodiment;</p><p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a diagram illustrating an operation of an adaptive hidden layer according to an embodiment; and</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart illustrating operations of an apparatus for estimating a state of a battery according to an embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0007" level="1">DETAILED DESCRIPTION</heading><p id="p-0043" num="0042">Like reference numerals throughout the specification denote like elements. Also, this specification does not describe all the elements according to embodiments of the present disclosure, and descriptions well-known in the art to which the present disclosure pertains or overlapped portions have been omitted. The terms such as &#x201c;&#x2dc;part&#x201d;, &#x201c;&#x2dc;device&#x201d;, &#x201c;&#x2dc;module&#x201d;, and the like may refer to a unit for processing at least one function or act. For example, the terms may refer to at least one process processed by at least one hardware or software. According to embodiments, a plurality of &#x201c;&#x2dc;parts&#x201d;, &#x201c;&#x2dc;devices&#x201d;, or &#x201c;&#x2dc;modules&#x201d; may be embodied as a single element, or a single of &#x201c;&#x2dc;part&#x201d;, &#x201c;&#x2dc;device&#x201d;, or &#x201c;&#x2dc;module&#x201d; may include a plurality of elements. When a part, device, module, or the like of the present disclosure is described as having a purpose or performing an operation, function, or the like, the part, device, or element should be considered herein as being &#x201c;configured to&#x201d; meet that purpose or to perform that operation or function.</p><p id="p-0044" num="0043">It should be understood that when an element is referred to as being &#x201c;connected&#x201d; to another element, it can be directly or indirectly connected to the other element, wherein the indirect connection includes &#x201c;connection&#x201d; via a wireless communication network.</p><p id="p-0045" num="0044">It should be understood that the term &#x201c;include&#x201d; when used in this specification, specify the presence of stated features, integers, steps, operations, elements, and/or components. However, the term &#x201c;include&#x201d; does not preclude the presence or addition of one or more other features, integers, steps, operations, elements, components, and/or groups thereof.</p><p id="p-0046" num="0045">It should be understood that, although the terms first, second, etc. may be used herein to describe various elements, these elements should not be limited by these terms.</p><p id="p-0047" num="0046">It should be understood that the singular forms are intended to include the plural forms as well, unless the context clearly dictates otherwise.</p><p id="p-0048" num="0047">Reference numerals used for method steps are just used for convenience of explanation, but the reference numerals are not used to limit an order of the steps. Thus, if the context clearly dictates otherwise, the written order may be practiced otherwise.</p><p id="p-0049" num="0048">Hereinafter, an operation principle and embodiments are described in detail with reference to the accompanying drawings.</p><p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram illustrating an apparatus <b>100</b> for estimating a state of a battery <b>10</b> according to an embodiment.</p><p id="p-0051" num="0050">Referring to <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the apparatus <b>100</b> for estimating the state of the battery <b>10</b> may include a memory <b>110</b> and a processor <b>130</b>.</p><p id="p-0052" num="0051">The memory <b>110</b> may store a program of a deep learning-based neural network.</p><p id="p-0053" num="0052">The neural network may include a plurality of predictive models and an adaptive hidden layer.</p><p id="p-0054" num="0053">Each of the plurality of predictive models may be pre-trained to predict result data for a remaining useful life (RUL) of the battery <b>10</b>.</p><p id="p-0055" num="0054">For example, each of the plurality of predictive models may include a long short-term memory (LSTM) model.</p><p id="p-0056" num="0055">The adaptive hidden layer may select a single predictive model from the plurality of pre-trained predictive models to predict the RUL of the battery <b>10</b>.</p><p id="p-0057" num="0056">The neural network may include a LSTM model concatenate layer and an adaptive hidden layer.</p><p id="p-0058" num="0057">In the LSTM model concatenate layer, an operation of pre-training of each of the plurality of predictive models may be performed.</p><p id="p-0059" num="0058">Also, in the adaptive hidden layer, an operation of selecting a single predictive model from the plurality of pre-trained predictive models may be performed.</p><p id="p-0060" num="0059">The program of the neural network may include an instruction for receiving battery data of the battery <b>10</b>. The program of the neural network may include an instruction for inputting the battery data to the adaptive hidden layer to select the single predictive model from the plurality of pre-trained predictive models through the adaptive hidden layer.</p><p id="p-0061" num="0060">Also, the program of the neural network may include an instruction for inputting the battery data to the selected predictive model to output prediction data for the RUL of the battery <b>10</b> through the selected predictive model.</p><p id="p-0062" num="0061">Meanwhile, one or more predictive model may be added to the neural network, and the number of predictive models of the neural network may not be limited.</p><p id="p-0063" num="0062">For instance, the number of predictive models of the neural network may correspond to the number of pieces of received battery data.</p><p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a diagram illustrating an operation of the apparatus <b>100</b> for estimating the state of the battery <b>10</b> according to an embodiment.</p><p id="p-0065" num="0064">Referring to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, a plurality of predictive models may include a first LSTM model <b>202</b>, a second LSTM model <b>204</b>, and/or an n<sup>th </sup>LSTM model <b>206</b>, or the like. Here, n represents an integer.</p><p id="p-0066" num="0065">The first LSTM model <b>202</b> may be a model pre-trained based on first battery data <b>22</b> of a first battery (also referred to as a first battery cell). For example, the first LSTM model <b>202</b> may be pre-trained based on pre-processed first battery data <b>22</b>.</p><p id="p-0067" num="0066">The first battery data <b>22</b> may include data related to charging and discharging from fresh data of the first battery to a RUL of the first battery.</p><p id="p-0068" num="0067">The first LSTM model <b>202</b> may predict result data for a RUL of a target battery of input battery data.</p><p id="p-0069" num="0068">The second LSTM model <b>204</b> may be a model pre-trained based on second battery data <b>24</b> of a second battery (also referred to as a second battery cell). For example, the second LSTM model <b>204</b> may be pre-trained based on pre-processed second battery data <b>24</b>.</p><p id="p-0070" num="0069">The second battery data <b>24</b> may include data related to charging and discharging from fresh data of the second battery to a RUL of the second battery.</p><p id="p-0071" num="0070">The second LSTM model <b>204</b> may predict the result data for the RUL of the target battery of input battery data.</p><p id="p-0072" num="0071">The n<sup>th </sup>LSTM model <b>206</b> may be a model pre-trained based on n<sup>th </sup>battery data <b>26</b> of an n<sup>th </sup>battery (also referred to as an n<sup>th </sup>battery cell). For example, the n<sup>th </sup>LSTM model <b>206</b> may be pre-trained based on pre-processed n<sup>th </sup>battery data <b>26</b>.</p><p id="p-0073" num="0072">The n<sup>th </sup>battery data <b>26</b> may include data related to charging and discharging from fresh data of the n<sup>th </sup>battery to a RUL of the n<sup>th </sup>battery.</p><p id="p-0074" num="0073">The n<sup>th </sup>LSTM model <b>206</b> may predict the result data for the RUL of the target battery of input battery data.</p><p id="p-0075" num="0074">In a conventional general LSTM model, for example, assuming that data from a first cycle to a 50<sup>th </sup>cycle are input data of the LSTM model, the LSTM model determines output data of the LSTM model by predicting data from a second cycle to the 50<sup>th </sup>cycle and then compares the predicted data from the second cycle to the 50<sup>th </sup>cycle with actual data from the second cycle to the 50<sup>th </sup>cycle. Thus, output data corresponding to the input data may be predicted.</p><p id="p-0076" num="0075">By contrast, each of the LSTM models according to an embodiment of the present disclosure may be operated differently from the above-described conventional general LSTM model.</p><p id="p-0077" num="0076"><figref idref="DRAWINGS">FIGS. <b>3</b>A and <b>3</b>B</figref> are diagrams illustrating an operation principle of an LSTM model according to an embodiment.</p><p id="p-0078" num="0077">In order to describe an operating principle of each LSTM model according to an embodiment with reference to <figref idref="DRAWINGS">FIGS. <b>3</b>A and <b>3</b>B</figref>, it is assumed that the number of cycles from charging to discharging of a battery are T in total, and the T cycles sequentially include first cycles, second cycles . . . and/or n<sup>th </sup>cycles.</p><p id="p-0079" num="0078">Referring to <figref idref="DRAWINGS">FIG. <b>3</b>A</figref>, first data (also referred to as first battery data) corresponding to the first cycles, second data (also referred to as second battery data) corresponding to the second cycles, and T-P<sup>th </sup>data (also referred to as T-P<sup>th </sup>battery data) corresponding to T-P<sup>th </sup>cycles may be sequentially input to the LSTM model according to an embodiment.</p><p id="p-0080" num="0079">Also, referring to <figref idref="DRAWINGS">FIG. <b>3</b>A</figref>, when the first data corresponding to the first cycles is input to the LSTM model, the LSTM model may be configured to predict data of cycles after skipping a predetermined number of or randomly designated number of cycles (e.g. referred to as p cycle) from the first cycles, rather than output second data corresponding to the second cycles, which are immediately following the first cycles.</p><p id="p-0081" num="0080">Also, referring to <figref idref="DRAWINGS">FIG. <b>3</b>A</figref>, when the second data corresponding to the second cycles is input to the LSTM model, the LSTM model may be configured to predict data of cycles after skipping the predetermined number of or randomly designated number of cycles (e.g. referred to as p cycle) from the second cycles.</p><p id="p-0082" num="0081">In addition, referring to <figref idref="DRAWINGS">FIG. <b>3</b>A</figref>, when the T-P<sup>th </sup>data corresponding to the T-P<sup>th </sup>cycles is input to the LSTM model, the LSTM model may be configured to predict data of cycles after skipping the predetermined number of or randomly designated number of cycles (e.g. referred to as p cycle) from the T-P<sup>th </sup>cycles.</p><p id="p-0083" num="0082">The above-described p cycle may be determined based on a correlation coefficient, which is given by Correlation(Q<sub>i+T</sub>&#x2212;Q<sub>i</sub>/T, Q<sub>i+T+P</sub>).</p><p id="p-0084" num="0083">T designates a total length of entire input data, i.e., the total number of cycles of received battery data, i designates a starting point, P designates a difference between a cycle of input data and a cycle of output data, and Q designates a capacity of data.</p><p id="p-0085" num="0084">Meanwhile, the correlation coefficient may be determined by applying methods such as volume charge density (dQ/dV), principal component analysis (PCA), etc., instead of using Q.</p><p id="p-0086" num="0085">An analysis graph of the correlation coefficient above may be as shown in <figref idref="DRAWINGS">FIG. <b>3</b>B</figref>.</p><p id="p-0087" num="0086">Referring to <figref idref="DRAWINGS">FIG. <b>3</b>B</figref>, it may be efficient to define a learning method of the LSTM model, by determining T value and P value so that the correlation coefficient is greater than or equal to a predetermined value. In data adjacent to each other, features are not clear due to measurement errors, and the like.</p><p id="p-0088" num="0087">Accordingly, a conventional general learning method of LSTM model that applies data adjacent to each other as input data show low accuracy.</p><p id="p-0089" num="0088">Thus, according to an embodiment of the present disclosure, data spaced apart from each other by a predetermined number of cycles may be sequentially input to the LSTM model, instead of applying the conventional general learning method of LSTM model that inputs data adjacent to each other sequentially.</p><p id="p-0090" num="0089">For instance, with assumptions that T is 50, P is 100, data of the first to 50<sup>th </sup>cycles is input data of the LSTM model, and data of the 101<sup>th </sup>to 150<sup>th </sup>cycles is output data of the LSTM model, a learning method of LSTM model is performed in advance according to an embodiment of the present disclosure as follows.</p><p id="p-0091" num="0090">The LSTM model may receive actual data of the first to 50<sup>th </sup>cycles as input data and generate prediction data of the 101<sup>th </sup>to 150<sup>th </sup>cycles based on the received input data.</p><p id="p-0092" num="0091">Afterwards, the LSTM model may calculate a difference between the prediction data of the 101<sup>th </sup>to 150<sup>th </sup>cycles and actual data of the 101<sup>th </sup>to 150<sup>th </sup>cycles.</p><p id="p-0093" num="0092">Afterwards, the LSTM model may be trained so that the difference between the prediction data of the 101<sup>th </sup>to 150<sup>th </sup>cycles and the actual data of the 101<sup>th </sup>to 150<sup>th </sup>cycles is minimized.</p><p id="p-0094" num="0093">With respect to cycles after the first to 50<sup>th </sup>cycles, the LSTM model may receive corresponding input data, generate prediction data, calculate a difference between the prediction data and the input data, and be trained so that the difference between the prediction data and the input data is minimized. For instance, a parameter value, etc., may be applied to the LSTM model to minimize the difference between the prediction data and the input data.</p><p id="p-0095" num="0094">For example, the LSTM model may apply prediction data of the first to 50<sup>th </sup>cycles as input data of cycles after the first to 50<sup>th </sup>cycles.</p><p id="p-0096" num="0095">The LSTM model may generate prediction data of the 201<sup>th </sup>to 250<sup>th </sup>cycles by using the generated prediction data of the 101<sup>th </sup>to 150<sup>th </sup>cycles as input data. The LSTM model may calculate a difference between the prediction data of the 201<sup>th </sup>to 250<sup>th </sup>cycles and actual data of the 201<sup>th </sup>to 250<sup>th </sup>cycles. The LSTM model may be trained so that the difference between the prediction data of the 201<sup>th </sup>to 250<sup>th </sup>cycles and the actual data of the 201<sup>th </sup>to 250<sup>th </sup>cycles is minimized.</p><p id="p-0097" num="0096">Referring again to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, when new battery data, e.g., data of specific cycles of n+1<sup>th </sup>battery data <b>28</b> is input, the adaptive hidden layer <b>220</b> may select a single model through learning, unlike a conventional hidden layer that integrates LSTM models.</p><p id="p-0098" num="0097">The adaptive hidden layer <b>220</b> may receive battery data such as the n+1<sup>th </sup>battery data <b>28</b> and may select a single model to apply a prediction to a RUL of a battery from a plurality of LSTM models, based on the n+1<sup>th </sup>battery data <b>28</b>.</p><p id="p-0099" num="0098">For example, the adaptive hidden layer <b>220</b> may pre-process the n+1<sup>th </sup>battery data <b>28</b>.</p><p id="p-0100" num="0099">For instance, the pre-processing may refer to inputting the n+1<sup>th </sup>battery data <b>28</b> of specific cycles to the adaptive hidden layer <b>220</b> and processing the n+1<sup>th </sup>battery data <b>28</b> to be suitable for the selected single LSTM model.</p><p id="p-0101" num="0100">For example, the pre-processing may include identification of a state of health (SOH) of a battery, calculation of a volume charge density (dQ/dV) and/or PCA, and the like.</p><p id="p-0102" num="0101">The adaptive hidden layer <b>220</b> may select a single LSTM model to apply a prediction to a RUL of the battery <b>10</b> from the plurality of LSTM models based on the pre-processed n+1<sup>th </sup>battery data <b>28</b>.</p><p id="p-0103" num="0102">The adaptive hidden layer <b>220</b> may identify a similarity between the pre-processed n+1<sup>th </sup>battery data <b>28</b> and data corresponding to each of pre-trained plurality of predictive models.</p><p id="p-0104" num="0103">For instance, the data corresponding to each of the pre-trained plurality of predictive models may include corresponding battery data used for learning.</p><p id="p-0105" num="0104">The adaptive hidden layer <b>220</b> may select a single LSTM model to which data with a highest similarity to the pre-processed n+1<sup>th </sup>battery data <b>28</b> is matched, based on the similarity between the pre-processed n+1<sup>th </sup>battery data <b>28</b> and the data corresponding to each of pre-trained plurality of predictive models. Also, the adaptive hidden layer <b>220</b> may learn so that the selected single LSTM model matches to the n+1<sup>th </sup>battery data <b>28</b>.</p><p id="p-0106" num="0105">For instance, the adaptive hidden layer <b>220</b> may match a weight proportional to a similarity corresponding to each of the pre-trained plurality of predictive models, based on the similarity between the pre-processed n+1<sup>th </sup>battery data <b>28</b> and the data corresponding to each of pre-trained plurality of predictive models.</p><p id="p-0107" num="0106">For example, when it is assumed that a similarity between the pre-processed n+1<sup>th </sup>battery data <b>28</b> and data of the first LSTM model <b>202</b> is 60%, a similarity between the pre-processed n+1<sup>th </sup>battery data <b>28</b> and data of the second LSTM model <b>204</b> is 30%, and a similarity between the pre-processed n+1<sup>th </sup>battery data <b>28</b> and data of the n<sup>th </sup>LSTM model <b>206</b> is 10%, the adaptive hidden layer <b>220</b> may match a weight of 60 scores to the first LSTM model <b>202</b>, a weight of 30 scores to the second LSTM model <b>204</b>, and a weight of 10 scores to the n<sup>th </sup>LSTM model <b>206</b>, with respect to the n+1<sup>th </sup>battery data <b>28</b>.</p><p id="p-0108" num="0107">For instance, the adaptive hidden layer <b>220</b> may select the first LSTM model <b>202</b> having a highest weight.</p><p id="p-0109" num="0108">For example, assuming that the weight of 50 scores, i.e., at least one weight applied in advance, is matched in advance, a weight of 55 scores, which is an average weight of 60 scores and 50 scores, may correspond to the first LSTM model <b>202</b>.</p><p id="p-0110" num="0109">Also, assuming that the weight of 30 scores is matched in advance, a weight of 30 scores, which is an average weight of 30 scores and 30 scores, may correspond to the second LSTM model <b>204</b>.</p><p id="p-0111" num="0110">Also, assuming that the weight of 20 scores is matched in advance, a weight of 15 scores, which is an average weight of 10 scores and 20 scores, may correspond to the n<sup>th </sup>LSTM model <b>206</b>.</p><p id="p-0112" num="0111">For instance, the adaptive hidden layer <b>220</b> may select the first LSTM model <b>202</b> having a highest average weight.</p><p id="p-0113" num="0112">The selected single LSTM model may perform prediction on a RUL of the battery <b>10</b> based on the battery data of the battery <b>10</b>, i.e., generate and output prediction data on the RUL of the battery <b>10</b>.</p><p id="p-0114" num="0113"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a flowchart illustrating operations of the apparatus for estimating a state of a battery <b>100</b> (and/or the processor <b>130</b>) according to an embodiment. <figref idref="DRAWINGS">FIG. <b>5</b></figref> is a diagram illustrating an operation of the adaptive hidden layer <b>220</b> according to an embodiment.</p><p id="p-0115" num="0114">Referring to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the apparatus for estimating a state of a battery <b>100</b> may receive battery data (<b>401</b>).</p><p id="p-0116" num="0115">The battery data may include battery data of first cycles among cycles from charging to discharging of a target battery.</p><p id="p-0117" num="0116">The apparatus for estimating a state of a battery <b>100</b> may input the battery data to the adaptive hidden layer <b>220</b> included in a neural network and may select a single predictive model from a plurality of pre-trained predictive models included in the neural network through the adaptive hidden layer <b>220</b> (<b>403</b>).</p><p id="p-0118" num="0117">The adaptive hidden layer <b>220</b> may identify a similarity between the battery data and data corresponding to each of the plurality of pre-trained predictive models. Also, the adaptive hidden layer <b>220</b> may learn so that the single predictive model to which data with a highest similarity to the battery data corresponds applies to the battery data, based on the identified similarity.</p><p id="p-0119" num="0118">The adaptive hidden layer <b>220</b> may match a weight proportional to a similarity corresponding to each of the plurality of pre-trained predictive models, based on the identified similarity.</p><p id="p-0120" num="0119">The adaptive hidden layer <b>220</b> may calculate an average weight of at least one weight applied in advance and the matched weight, with respect to each of the plurality of pre-trained predictive models and may match the average weight with respect to each of the plurality of pre-trained predictive models.</p><p id="p-0121" num="0120">The adaptive hidden layer <b>220</b> may select a single predictive model having a highest average weight among the average weights with respect to each of the plurality of pre-trained predictive models and learn so that the selected single predictive model and the battery data match to each other.</p><p id="p-0122" num="0121">For example, referring to <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the adaptive hidden layer <b>220</b> may include an input layer to receive the battery data.</p><p id="p-0123" num="0122">Also, the adaptive hidden layer <b>220</b> may perform pre-processing on the input battery data using a lamda function, and the like.</p><p id="p-0124" num="0123">Each of the plurality of pre-trained predictive models may be trained to predict result data for a RUL of a corresponding battery, based on an input of first battery data of first cycles among cycles from charging to discharging of the corresponding battery.</p><p id="p-0125" num="0124">The prediction of the result data for the RUL of the corresponding battery may include predicting first data for a RUL corresponding to second cycles after skipping a predetermined number of cycles from the first cycles by each of the plurality of pre-trained predictive models, based on the input of the first battery data of the first cycles of the corresponding battery to each of the plurality of pre-trained predictive models.</p><p id="p-0126" num="0125">Also, the prediction of the result data for the RUL of the corresponding battery may include minimizing a difference between the predicted first data and battery data of the second cycle of the corresponding battery by each of the plurality of pre-trained predictive models.</p><p id="p-0127" num="0126">Also, the prediction of the result data for the RUL of the corresponding battery may include predicting second data for a RUL corresponding to third cycles after skipping the predetermined number of cycles from the second cycles by each of the plurality of pre-trained predictive models, based on an input of the first data to each of the plurality of pre-trained predictive models.</p><p id="p-0128" num="0127">In addition, the prediction of the result data for the RUL of the corresponding battery may include minimizing a difference between the predicted second data and actual battery data of the third cycles of the corresponding battery by each of the plurality of pre-trained predictive models.</p><p id="p-0129" num="0128">The apparatus for estimating a state of a battery <b>100</b> may input battery data to the selected predictive model and output prediction data for a RUL of the target battery through the selected predictive model (<b>405</b>).</p><p id="p-0130" num="0129">Referring to <figref idref="DRAWINGS">FIG. <b>5</b></figref>, for example, the predictive model selected by the adaptive hidden layer <b>220</b>, e.g., the first LSTM model <b>202</b>, may repeatedly learn to output prediction data based on the input battery data. Also, the first LSTM model <b>202</b> may include a concatenate layer and may generate and output final prediction data through concatenation of a plurality of pieces of prediction data through iterative learning through the concatenate layer.</p><p id="p-0131" num="0130"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart illustrating operations of the apparatus for estimating a state of a battery <b>100</b> (or the processor <b>130</b>) according to an embodiment.</p><p id="p-0132" num="0131">The apparatus <b>100</b> for estimating a state of the battery <b>10</b> may classify battery data of a portion of cycles of the battery <b>10</b> whose RUL is desired to be predicted into a plurality of pieces of battery data (<b>602</b>).</p><p id="p-0133" num="0132">The apparatus <b>100</b> for estimating a state of the battery <b>10</b> may classify the battery data of the portion of cycles into first battery data of first cycles (<b>1</b> to XX), second battery data of second cycles (XX to YY), and third battery data of third cycles (YY to ZZ).</p><p id="p-0134" num="0133">The apparatus <b>100</b> for estimating a state of the battery <b>10</b> may input the first battery data among the plurality of pieces of battery data to the adaptive hidden layer <b>220</b> (<b>604</b>).</p><p id="p-0135" num="0134">The adaptive hidden layer <b>220</b> may select a single LSTM model from a plurality of pre-trained LSTM models based on the first battery data (<b>606</b>).</p><p id="p-0136" num="0135">For instance, learning results of the first LSTM model, the second LSTM model and the third LSTM model, which have been previously trained using data of a target battery, may be stored in the adaptive hidden layer <b>220</b>.</p><p id="p-0137" num="0136">The adaptive hidden layer <b>220</b> may select a single LSTM model to be used for outputting prediction data for a RUL of the first battery data from the plurality of LSTM models, based on the first battery data and the stored learning results.</p><p id="p-0138" num="0137">The selected single LSTM model may output the prediction data based on the input of the first battery data (<b>608</b>).</p><p id="p-0139" num="0138">For instance, the selected single LSTM model may generate prediction result data of the RUL (and/or prediction result data of a state of health) of the first battery data.</p><p id="p-0140" num="0139">For example, the prediction result data for the RUL of the first battery data may be prediction result data for the RUL of the third cycles.</p><p id="p-0141" num="0140">The selected single LSTM model may be pre-trained to match to each other (to be identical to or to be similar to each other) by comparing the generated prediction result data with the third battery data of the actual third cycles (YY&#x2dc;ZZ). The result of such a training may be applied only to the adaptive hidden layer <b>220</b> and may not be applied to a concatenate layer of the LSTM models that have been trained previously.</p><p id="p-0142" num="0141">Also, when prediction data is output, the selected single LSTM model may repeatedly perform the above-described operations. Thus, an accuracy of prediction data generation of the selected single LSTM model may be improved.</p><p id="p-0143" num="0142">According to the embodiment of the present disclosure, provided is a new neural network structure including an adaptive hidden layer that bundles a plurality of pre-trained LSTM models based on battery data related to charging and discharging of several batteries into one for measuring new battery data.</p><p id="p-0144" num="0143">Further, when each of the plurality of LSTM models is trained, with respect to first battery data, a result of a RUL of battery data of cycles that skips a predetermined number of cycles from the first battery data may be predicted (and/or trained) in order to avoid noise between adjacent data.</p><p id="p-0145" num="0144">As is apparent from the above, according to the embodiment of the present disclosure, the apparatus and method for estimating a state of a battery can generate a large neural network structure by adding a predictive model such as a LSTM model to a neural network.</p><p id="p-0146" num="0145">According to the embodiment of the present disclosure, the apparatus and method for estimating a state of a battery can be applied to predict new battery data by bundling LSTM models, which are efficient when prediction is made with specific battery data, into a single LSTM model. Thus, a prediction accuracy of the bundled LSTM model can be increased.</p><p id="p-0147" num="0146">According to the embodiment of the present disclosure, the apparatus and method for estimating a state of a battery can be applied to various batteries under various operating conditions because the apparatus and the method for estimating a state of a battery are data-based prediction through a neural network, rather than approximate a polynomial of a specific class or under a specific operating conditions.</p><p id="p-0148" num="0147">According to the embodiment of the present disclosure, the apparatus and the method for estimating a state of a battery can remove data noise between adjacent cycles through a method of learning a predictive model at a specific cycle interval, rather than using a result of adjacent cycles. Also, a cycle interval having a high correlation coefficient is found out and each data skipped as much as the cycle interval having a high correlation coefficient can be input to a predictive model, and thus an accuracy of the predictive model can be improved.</p><p id="p-0149" num="0148">According to the embodiment of the present disclosure, the apparatus and the method for estimating a state of a battery can, when new battery data for learning is received, simply add an individual predictive model such as the LSTM model only, instead of relearning an entire network structure. Thus, an additional learning time may be reduced, compared to a conventional neural network.</p><p id="p-0150" num="0149">According to the embodiment of the present disclosure, the apparatus and the method for estimating a state of a battery can, even when a used battery, rather than a new battery (also referred to as a fresh cell), is received, predict a remaining useful life of the used battery by applying individual standardization information.</p><p id="p-0151" num="0150">According to the embodiment of the present disclosure, the apparatus and method for estimating a state of a battery can predict both a future tendency of a state of health of a battery as well as a RUL which is a result at a specific point in time.</p><p id="p-0152" num="0151">Embodiments can thus be implemented through computer readable code/instructions in/on a medium, e.g., a computer readable medium, to control at least one processing element to implement any above described embodiment. The medium can correspond to any medium/media permitting the storing and/or transmission of the computer readable code.</p><p id="p-0153" num="0152">The computer-readable code can be recorded on a medium or transmitted through the Internet. The medium may include read only memory (ROM), random access memory (RAM), magnetic tapes, magnetic disks, flash memories, and optical recording medium.</p><p id="p-0154" num="0153">Although embodiments have been described for illustrative purposes, those having ordinary skill in the art should appreciate that various modifications, additions and substitutions are possible, without departing from the scope and spirit of the present disclosure. Therefore, embodiments have not been described for limiting purposes.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An apparatus for estimating a state of a battery, the apparatus comprising:<claim-text>a memory configured to store a program of a neural network including a plurality of pre-trained predictive models and an adaptive hidden layer; and</claim-text><claim-text>at least one processor configured to execute the program,</claim-text><claim-text>wherein the program includes an instruction for:<claim-text>receiving battery data of a target battery,</claim-text><claim-text>inputting the battery data to the adaptive hidden layer, selecting one predictive model from the plurality of pre-trained predictive models through the adaptive hidden layer,</claim-text><claim-text>inputting the battery data to the selected predictive model and outputting prediction data for a remaining useful life of the target battery through the selected predictive model.</claim-text></claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the adaptive hidden layer comprises:<claim-text>identifying a similarity between the battery data and data corresponding to each of the plurality of pre-trained predictive models; and</claim-text><claim-text>learning so that a single predictive model to which data with a highest similarity to the battery data corresponds applies to the battery data, based on the identified similarity.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The apparatus of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the adaptive hidden layer comprises applying a weight proportional to a similarity corresponding to each of the plurality of pre-trained predictive models, based on the identified similarity.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The apparatus of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the applying of the weight proportional to the similarity corresponding to each of the plurality of pre-trained predictive models comprises:<claim-text>calculating an average weight of at least one weight applied in advance and the matched weight, with respect to each of the plurality of pre-trained predictive models; and</claim-text><claim-text>applying the calculated average weight to each of the plurality of pre-trained predictive models.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the adaptive hidden layer comprises selecting the single predictive model having a highest average weight among the average weights with respect to each of the plurality of pre-trained predictive models and learning so that the single predictive model and the battery data match to each other.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the battery data includes battery data of first cycles of cycles from charging to discharging of the target battery.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the plurality of pre-trained predictive models is trained to predict result data for a remaining useful life of a corresponding battery, based on an input of first battery data of first cycles from charging to discharging of the corresponding battery.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the predicting of the result data for the remaining useful life of the corresponding battery comprises:<claim-text>predicting, by each of the plurality of pre-trained predictive models, first data for a remaining useful life corresponding to second cycles after skipping a predetermined number of cycles from the first cycles, based on the input of the first battery data of the first cycles from charging to discharging of the corresponding battery to each of the plurality of pre-trained predictive models; and</claim-text><claim-text>minimizing, by each of the plurality of pre-trained predictive models, a difference between the predicted first data and battery data of the second cycles of the corresponding battery.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the predicting of the result data for the remaining useful life of the corresponding battery comprises predicting, by each of the plurality of pre-trained predictive models, second data for a remaining useful life corresponding to third cycles after skipping the predetermined number of cycles from the second cycles, based on an input of the first data to each of the plurality of pre-trained predictive models.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the plurality of pre-trained predictive models includes a long short-term memory (LSTM) model.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A method for estimating a state of a battery, the method comprising:<claim-text>receiving battery data of a target battery;</claim-text><claim-text>inputting the battery data to an adaptive hidden layer included in a neural network, selecting a single predictive model from a plurality of pre-trained predictive models included in the neural network through the adaptive hidden layer; and</claim-text><claim-text>inputting the battery data to the selected single predictive model; and</claim-text><claim-text>outputting prediction data for a remaining useful life of the target battery through the selected single predictive model.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the selecting of the single predictive model from the plurality of pre-trained predictive models included in the neural network comprises:<claim-text>identifying, by the adaptive hidden layer, a similarity between the battery data and data corresponding to each of the plurality of pre-trained predictive models; and</claim-text><claim-text>learning so that the single predictive model to which data with a highest similarity to the battery data corresponds applies to the battery data, based on the identified similarity.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the selecting of the single predictive model from the plurality of pre-trained predictive models included in the neural network comprises:<claim-text>applying, by the adaptive hidden layer, a weight proportional to a similarity corresponding to each of the plurality of pre-trained predictive models, based on the identified similarity.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the applying of the weight proportional to the similarity corresponding to each of the plurality of pre-trained predictive models comprises:<claim-text>calculating an average weight of at least one weight applied in advance and the matched weight, with respect to each of the plurality of pre-trained predictive models; and</claim-text><claim-text>applying the calculated average weight with respect to each of the plurality of pre-trained predictive models.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the selecting of the single predictive model from the plurality of pre-trained predictive models included in the neural network comprises:<claim-text>learning, by the adaptive hidden layer, so that the single predictive model having a highest average weight among the average weights with respect to each of the plurality of pre-trained predictive models and the battery data match to each other.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the battery data includes battery data of first cycles of cycles from charging to discharging of the target battery.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein each of the plurality of pre-trained predictive models is trained to predict result data for a remaining useful life of a corresponding battery, based on an input of first battery data of first cycles from charging to discharging of the corresponding battery.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the predicting of the result data for the remaining useful life of the corresponding battery comprises:<claim-text>predicting, by each of the plurality of pre-trained predictive models, first data for a remaining useful life corresponding to second cycles after skipping a predetermined number of cycles from the first cycles, based on the input of the first battery data of the first cycles from charging to discharging of the corresponding battery to each of the plurality of pre-trained predictive models; and</claim-text><claim-text>minimizing, by each of the plurality of pre-trained predictive models, a difference between the predicted first data and battery data of the second cycles of the corresponding battery.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the predicting of the result data for the remaining useful life of the corresponding battery comprises predicting, by each of the plurality of pre-trained predictive models, second data for a remaining useful life corresponding to third cycles after skipping the predetermined number of cycles from the second cycles, based on an input of the first data to each of the plurality of pre-trained predictive models.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein each of the plurality of pre-trained predictive models includes a long short-term memory (LSTM) model.</claim-text></claim></claims></us-patent-application>