<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003911A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003911</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17931593</doc-number><date>20220913</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>V</subclass><main-group>1</main-group><subgroup>24</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>7</main-group><subgroup>52</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>V</subclass><main-group>1</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>N</subclass><main-group>29</main-group><subgroup>34</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>S</subclass><main-group>15</main-group><subgroup>04</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20200101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>05</class><subclass>B</subclass><main-group>47</main-group><subgroup>115</subgroup><symbol-position>L</symbol-position><classification-value>N</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>V</subclass><main-group>1</main-group><subgroup>38</subgroup><symbol-position>L</symbol-position><classification-value>N</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20200101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>05</class><subclass>B</subclass><main-group>47</main-group><subgroup>105</subgroup><symbol-position>L</symbol-position><classification-value>N</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>V</subclass><main-group>1</main-group><subgroup>247</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>7</main-group><subgroup>52004</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>V</subclass><main-group>1</main-group><subgroup>001</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>N</subclass><main-group>29</main-group><subgroup>34</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>S</subclass><main-group>15</main-group><subgroup>04</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20200101</date></cpc-version-indicator><section>H</section><class>05</class><subclass>B</subclass><main-group>47</main-group><subgroup>115</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>V</subclass><main-group>1</main-group><subgroup>3852</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20200101</date></cpc-version-indicator><section>H</section><class>05</class><subclass>B</subclass><main-group>47</main-group><subgroup>105</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">Method and Apparatus for Noise Control in Ultrasonic Sensors</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>17313766</doc-number><date>20210506</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11442185</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17931593</doc-number></document-id></child-doc></relation></continuation><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16839177</doc-number><date>20200403</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11002869</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17313766</doc-number></document-id></child-doc></relation></continuation><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16240582</doc-number><date>20190104</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>10620327</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>16839177</doc-number></document-id></child-doc></relation></continuation><continuation><relation><parent-doc><document-id><country>US</country><doc-number>15238153</doc-number><date>20160816</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>10175371</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>16240582</doc-number></document-id></child-doc></relation></continuation><continuation><relation><parent-doc><document-id><country>US</country><doc-number>14215700</doc-number><date>20140317</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>9417347</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>15238153</doc-number></document-id></child-doc></relation></continuation><us-provisional-application><document-id><country>US</country><doc-number>61794694</doc-number><date>20130315</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>The Watt Stopper, Inc.</orgname><address><city>Carlsbad</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Weidman</last-name><first-name>Louia</first-name><address><city>Carlsbad</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Chen</last-name><first-name>Aizhong</first-name><address><city>Shanghai</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Fan</last-name><first-name>Chenghao</first-name><address><city>Shanghai</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>The Watt Stopper, Inc.</orgname><role>02</role><address><city>Carlsbad</city><state>CA</state><country>US</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">The adjustable voltage regulator under control of a microcontroller applies controlled amplitude voltage in the range of 5 to 9VDC to the sensor transmitter to adjust the output amplitude of the transmitter. The adjustable amplitude transmitter allows an occupancy sensor to have its total output energy adjusted to reduce environmental noise-induced false triggering and to conform to the area to be covered. Lowering the total ultrasonic energy in the monitored space lowers the sensitivity of the receiver to inappropriate activations. Lowering the input power to the transmitter also lowers the total internal system noise and provides an improved signal to noise ratio in the receiver.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="129.88mm" wi="140.29mm" file="US20230003911A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="221.23mm" wi="149.78mm" file="US20230003911A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="241.98mm" wi="170.43mm" orientation="landscape" file="US20230003911A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="215.56mm" wi="131.74mm" file="US20230003911A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="240.03mm" wi="166.79mm" file="US20230003911A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><p id="p-0002" num="0001">This application is a continuation of U.S. application Ser. No. 17/313,766, filed May 6, 2021, which is a continuation of U.S. application Ser. No. 16/839,177, filed Apr. 3, 2020, which is a continuation of U.S. application Ser. No. 16/240,582, filed Jan. 4, 2019, now U.S. Pat. No. 10,620,327, which is a continuation of U.S. application Ser. No. 15/238,153, filed Aug. 16, 2016, now U.S. Pat. No. 10,175,371, which is a continuation U.S. application Ser. No. 14/215,700, filed Mar. 17, 2014, now U.S. Pat. No. 9,417,347, which claims priority to U.S. Provisional Application 61/794,694, filed Mar. 15, 2013.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">FIELD OF THE INVENTIONS</heading><p id="p-0003" num="0002">The inventions described below relate to the field of electrical controls and more specifically, sensors for automatically controlling electrical loads such as lighting.</p><heading id="h-0002" level="1">BACKGROUND OF THE INVENTIONS</heading><p id="p-0004" num="0003">Active ultrasonic room occupancy sensors are equipped with an ultrasonic transmitter having an output with a generally fixed amplitude. Ultrasonic occupancy sensors are sensitive to environmental noise such as forced air, e.g, from a HVAC vent, and other extraneous air pressure changes that may be interpreted by the ultrasonic receiver as a return ultrasonic signal representing an occupancy state. This type of environmental noise may cause a false trigger, as is known in the art, causing the controlled load to change state unintentionally. Typically, the false trigger noise is interpreted as occupancy, causing the controlled load to turn on and waste energy when there is no one in the monitored space.</p><heading id="h-0003" level="1">SUMMARY</heading><p id="p-0005" num="0004">The devices and methods described below provide for methods and apparatus for reducing environmental noise-induced false triggering in ultrasonic occupancy sensors by analyzing the signal from an ultrasonic peak voltage detector circuit to determine an average signal level that is used to automatically adjust the ultrasonic sensitivity level, as well as to determine the difference in ultrasonic peak voltages over time to determine occupancy.</p><p id="p-0006" num="0005">The adjustable voltage regulator under control of a microcontroller applies controlled amplitude voltage in the range of 5 to 9VDC to the sensor transmitter to adjust the output amplitude of the transmitter. The adjustable amplitude transmitter allows an occupancy sensor to have its total output energy adjusted to reduce environmental noise-induced false triggering and to conform to the area to be covered. Lowering the total ultrasonic energy in the monitored space lowers the sensitivity of the receiver to inappropriate activations. Lowering the input power to the transmitter also lowers the total internal system noise and provides an improved signal to noise ratio in the receiver.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a top view of a room equipped with an adjustable amplitude active ultrasonic occupancy sensor.</p><p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a side view of the room of <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic diagram of the receiver and amplifier circuit of the adjustable amplitude active ultrasonic occupancy sensor of <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of the noise signal generation circuit or peak detector circuit of the adjustable amplitude active ultrasonic occupancy sensor of <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a block diagram of adjustable amplitude active ultrasonic occupancy sensor.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a block diagram of a power supply for an active ultrasonic occupancy sensor.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flow chart of the operating algorithm of the occupancy sensor.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTIONS</heading><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a top view, and <figref idref="DRAWINGS">FIG. <b>2</b></figref> is a side view of room <b>1</b> equipped with adjustable amplitude active ultrasonic occupancy sensor which is illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref>. Sensor <b>10</b> includes a transmitter <b>12</b> and a receiver <b>14</b> which receives energy from power supply <b>30</b>. Operation of transmitter <b>12</b>, receiver <b>14</b> and power supply <b>30</b> are all controlled by microprocessor or controller <b>16</b>. Transmitter <b>12</b> continuously transmits ultrasonic energy <b>13</b> into room <b>1</b>. Ultrasonic energy <b>13</b> is reflected as incoming energy <b>18</b> by anything occupying room <b>1</b> including walls <b>2</b> floor <b>3</b> and as environmental signal <b>18</b>B when reflected by transient environmental elements such as HVAC air <b>4</b>. The amplitude of power applied to transmitter <b>12</b> can be adjusted to control the amplitude of ultrasonic output signal <b>13</b> and thus, the amplitude of reflected signals from the contents of the room, such as reflected signals <b>18</b>, or the environmental elements of the room such as reflected signal <b>18</b>B. The amplitude of output energy <b>13</b> is set such that reflected signals <b>18</b> from the edges of a desired zone of sensitivity such as zones <b>20</b>A, <b>20</b>B and <b>20</b>C are at or below the noise threshold of receiver <b>14</b>.</p><p id="p-0015" num="0014">Amplifier filter circuit <b>19</b>A of <figref idref="DRAWINGS">FIG. <b>3</b></figref> processes raw input signal <b>21</b> from ultrasonic transducer <b>22</b> to produce signal <b>23</b> that represents the amplitude of the incoming ultrasonic envelope. Signal <b>23</b> is applied to peak detector <b>19</b>B, illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, to generate ultrasonic peak noise signal <b>24</b> which is applied to controller <b>16</b>. Ultrasonic peak noise signal <b>24</b> is used by sensitivity and threshold adjustment firmware <b>25</b>.</p><p id="p-0016" num="0015">In use, the sensitivity of sensor <b>10</b> is a function of the regulated output of power supply <b>30</b> of <figref idref="DRAWINGS">FIGS. <b>5</b> and <b>6</b></figref>. Transmitter <b>12</b> operates as an ultrasonic oscillator under control of controller <b>16</b>, powered by power supply <b>30</b>. Output signal <b>12</b>A is conveyed to transmitter crystal <b>26</b> which is mechanically connected to output plate <b>27</b>. The vibrations of crystal <b>26</b> cause output plate <b>27</b> to vibrate and create transmitter signals such as ultrasound energy <b>16</b> which is transmitted to the space to be monitored such as room <b>1</b>.</p><p id="p-0017" num="0016">Power supply <b>30</b> includes main power supply <b>31</b> which processes input power <b>30</b>A and produces main output power <b>30</b>X. Power supply includes adjustable voltage regulator <b>32</b> which may be controlled by any sensor microcontroller such as controller <b>16</b> to produce regulated, controlled output power <b>33</b>. Power supply <b>30</b> also includes fixed voltage regulator <b>34</b> which receives main output power <b>30</b>X, transforms it into intermediate power <b>35</b>, and applies intermediate power <b>35</b> to adjustable voltage regulator <b>32</b>. Intermediate power <b>35</b> may have any suitable voltage between the voltage of main output power <b>30</b>X and the voltage of regulated, controlled power <b>33</b>. Main output power <b>30</b>X is generally about 24VDC, intermediate power is generally about 12VDC and regulated, controlled output power <b>33</b> is generally in the range of 5-9VDC. Other suitable voltages and voltage ranges may also be used. Output power <b>33</b> may also be applied to controller <b>16</b> to create feedback loop <b>17</b> to enable accurate control of the power applied to the transmitter while main power supply <b>31</b> may be an inexpensive, loosely regulate supply.</p><p id="p-0018" num="0017">In a room such as room <b>1</b> equipped with adjustable amplitude active ultrasonic occupancy sensor <b>10</b>, the amplitude of transmitter <b>12</b> can be adjusted such that the amplitude of signals <b>18</b>A reflected by room occupant <b>6</b> are measurable and little or no ultrasonic energy is reflected from anyone or anything, such as non-occupant <b>7</b>, outside the established sensitivity zone such as sensitivity zone <b>20</b>B.</p><p id="p-0019" num="0018">Sensitivity and threshold adjustment firmware <b>25</b> operates in two modes, Automatic mode <b>38</b> and Normal mode <b>39</b> using sensitivity and threshold adjustment method <b>40</b>, based on the value of the ultrasonic peak noise signal <b>24</b>. The sensitivity adjustment of ultrasonic occupancy sensors such as sensor <b>10</b> may be set manually on the device using sensitivity control <b>11</b> which may be any suitable interface such as a trimming potentiometer or via pushbuttons under firmware control, or via a commissioning tool that is in communication with the sensor (e.g., network cable, wireless, etc.).</p><p id="p-0020" num="0019">When the ultrasonic sensitivity input <b>16</b>S is set to 0%, sensor <b>10</b> enters the Automatic mode; a setting other than 0% at ultrasonic sensitivity input <b>16</b>S causes the sensor to operate in Normal mode. Automatic mode operates to establish sensitivity and threshold values and can periodically adjust the sensitivity according to environmental noise levels. Normal mode is the normal occupancy sensing mode that also includes sensitivity adjustment capability as noted above.</p><p id="p-0021" num="0020">Referring now to <figref idref="DRAWINGS">FIG. <b>7</b></figref>, there are two phases to Automatic mode, P<b>1</b> and P<b>2</b>. Phase P<b>1</b> occurs at step <b>40</b>A when controller <b>16</b> determines that it is the first time sensor <b>10</b> has been powered or when sensitivity input <b>16</b>S has an input value equal to zero. A baseline sensitivity value is set at step <b>40</b>B by first setting the ultrasonic sensitivity to a starting value, e.g., 41%. Then at step <b>40</b>C, automatic adjust time period <b>48</b> is set and at step <b>40</b>D test time <b>41</b> is set to any suitable period, at step <b>40</b>E sample rate <b>42</b> is set to a suitable sampling rate. At step <b>40</b>F peak ultrasonic signal, signal <b>24</b> is sampled for test period <b>41</b> at sampling rate <b>42</b> to create sample data <b>47</b>. Sample rate <b>42</b> is set to any suitable rate such as of 16.67 millisecond per sample. Sample rate <b>42</b> is simply any suitable and convenient rate and not Nyquist sampling theorem related. The intent of the sampling rate is to get a sufficient number of samples within a short enough period of time to assess whether or not the noise signal is related to a human occupant or an environmental noise source. At step <b>40</b>G the sampled peak ultrasonic signal values are then averaged to create an average noise level <b>43</b>. The average noise level <b>43</b> is used at step <b>40</b>H to determine a target ultrasonic sensitivity level <b>44</b> based on empirical data; generally, a higher average value results in a smaller target sensitivity level and visa-versa.</p><p id="p-0022" num="0021">For example, an experiment can be set up in room <b>1</b> to create different levels of environmental noise, such as airflow <b>4</b> from HVAC air duct <b>4</b>D for a ceiling mounted occupancy sensor, and adjust the sensitivity level until environmental-noise-induced false triggering stops. A table of noise levels and associated sensitivity levels needed to accommodate the environmental noise can be created and implemented in threshold adjustment firmware <b>25</b>. The working ultrasonic sensitivity value, used during normal operation, is set to the target ultrasonic sensitivity level <b>44</b>. The target ultrasonic sensitivity value is also saved in a variable that stores the old ultrasonic sensitivity value to establish a beginning value for that variable for future operation.</p><p id="p-0023" num="0022">In its second phase, phase P<b>2</b>, Automatic mode is periodically run according to automatic adjust period <b>48</b> to adjust sensitivity level <b>44</b>. Phase P<b>2</b> starts once phase P<b>1</b> is completed. At the current working sensitivity level, level <b>44</b>, the peak ultrasonic signal <b>24</b> is sampled at step <b>40</b>F and averaged over any suitable sample period as discussed in P<b>1</b> create a P<b>2</b> average noise level <b>45</b>. During signal sampling, signal <b>24</b> is also evaluated for occupancy. At the end of the sampling interval at step <b>40</b>H, the P<b>2</b> target sensitivity level <b>46</b> is set to a value corresponding to the new average noise level.</p><p id="p-0024" num="0023">In phase P<b>2</b>, sample data <b>47</b> are analyzed to determine the difference between the maximum and minimum signal values within the sampling interval. If this difference is greater than a first fixed judgement threshold <b>50</b>, the noise source is considered human and sensitivity is not adjusted (e.g., a person is moving around the monitored space). First fixed judgement threshold <b>50</b> is determined experimentally by comparing sampling interval data with human movement present to data with only environmental noise and is generally a fixed value. However, a user or a service technician may be given access to adjusting this fixed value using a suitable commissioning method or tool. If the voltage difference between the maximum and minimum voltages within the sampling interval are less than or equal to the first fixed judgement threshold, the noise source is considered environmental. In that case, the sensitivity level is adjusted to a value to prevent false triggering.</p><p id="p-0025" num="0024">Additional analysis may be done to determine if the sensitivity adjustment should be done quickly to handle a sudden change in environmental noise or slowly to handle a more subtle change in environmental noise. In this additional analysis, the scale of the difference is determined by comparing the target sensitivity level to a comparison sensitivity level that is twice the sum of the old ultrasonic sensitivity to get a determination of relative change in noise level. A margin sensitivity value may be added to this sum to provide additional allowance for sensor operating factors (transducer performance, gain and filter values, etc.) where the margin sensitivity value is determined experimentally. If the target sensitivity is greater than the comparison sensitivity level, then a quick sensitivity adjustment is done consisting of storing the working ultrasonic sensitivity level to the old ultrasonic sensitivity variable and then making the working ultrasonic sensitivity the same as the target sensitivity level. If the target sensitivity level is less than or equal to the comparison sensitivity level, then a slow sensitivity adjustment is done consisting of adjusting the working sensitivity level toward the target sensitivity level in steps (plus or minus) that are 10% of the the difference where the step change is done every 2 seconds; this allows the sensitivity level to still be checked during the adjustment period dynamically.</p><p id="p-0026" num="0025">In Normal mode (and in both phases of Automatic mode), the sensor determines when a detection event occurs and attempts to determine the source of the event, human or environment noise. The ultrasound peak detect signal <b>24</b> is sampled at a suitable and convenient interval as discussed above. For example, samples may be taken for approximately 200 milliseconds (12 samples), which provides a reasonable trade-off between accuracy and response time. Accuracy can be improved by taking more samples, e.g., over 1 second, but then a person entering a monitored space will notice a distinct delay before the controlled lighting load is turned on. A user acceptable response time is generally under 1 second, and more typically under 0.5 seconds.</p><p id="p-0027" num="0026">The samples are then analyzed to determine the voltage difference between the maximum and minimum voltages within the sample period. The voltage difference is compared to a second fixed threshold difference value. The second fixed judgment threshold is determined experimentally by comparing 2-millisecond-interval data from human movement to that from environmental noise and is generally a fixed value; however, the user or a service technician may be given access to adjusting this fixed value using a suitable commissioning method or tool. If the voltage difference is greater than the second fixed threshold difference value, the signal is interpreted as human motion and the controlled lighting load is turn on (if not already on). If the voltage difference is less than or equal to the second fixed threshold difference value, the signal is interpreted as a noise source and is ignored.</p><p id="p-0028" num="0027">In addition to adjusting the power to the transmitter, the amplitude of the power applied to receiver <b>19</b> can be adjusted to control the sensitivity of the receiver. Controlling the amplitude of the power applied to the receiver lowers the noise input to the receiver improving the receiver's efficiency. With this configuration, a measurable disturbance of reflected energy <b>18</b> will result in a change in measurable input signal <b>21</b> at receiver <b>14</b> thus permitting the amplitude of power applied to receiver <b>14</b> to control the level of movement or activity detected within the sensitivity zone, such as zone <b>20</b>B, that triggers sensor <b>10</b>.</p><p id="p-0029" num="0028">While the preferred embodiments of the devices and methods have been described in reference to the environment in which they were developed, they are merely illustrative of the principles of the inventions. The elements of the various embodiments may be incorporated into each of the other species to obtain the benefits of those elements in combination with such other species, and the various beneficial features may be employed in embodiments alone or in combination with each other. Other embodiments and configurations may be devised without departing from the spirit of the inventions and the scope of the appended claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>We claim:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An active ultrasonic occupancy sensor comprising:<claim-text>an ultrasonic transmitter;</claim-text><claim-text>an ultrasonic receiver;</claim-text><claim-text>a power supply operably connected to the ultrasonic transmitter that applies power within the range of 5VDC to 9VDC to the ultrasonic transmitter;</claim-text><claim-text>a controller operably connected to the ultrasonic transmitter, the ultrasonic receiver and the power supply;</claim-text><claim-text>an amplifier for processing a received raw input signal to generate a signal representing the amplitude of an incoming ultrasonic envelope; and</claim-text><claim-text>a peak detector processing the signal representing the amplitude of the incoming ultrasonic envelope to generate an ultrasonic peak noise signal which is applied to the controller.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The adjustable amplitude ultrasonic occupancy sensor of <claim-ref idref="CLM-00001">claim 1</claim-ref> further including interface means for adjusting a sensitivity input of the sensor, wherein the controller is operable to control the output voltage of the power supply according to the sensitivity input of the sensor and an ultrasonic peak noise signal.</claim-text></claim></claims></us-patent-application>