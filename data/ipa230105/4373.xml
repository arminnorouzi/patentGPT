<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230004374A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230004374</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17729713</doc-number><date>20220426</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2021-110877</doc-number><date>20210702</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>8</main-group><subgroup>65</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>8</main-group><subgroup>65</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc></classifications-cpc><invention-title id="d2e61">COMPUTER SYSTEM AND CONTROL METHOD FOR FIRMWARE VERSION MANAGEMENT</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>FUJITSU LIMITED</orgname><address><city>Kawasaki-shi</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>IMAZATO</last-name><first-name>Takashi</first-name><address><city>Kawasaki</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>TAKAOKA</last-name><first-name>Masanori</first-name><address><city>Kawasaki</city><country>JP</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>SOMETANI</last-name><first-name>Atsushi</first-name><address><city>Kawasaki</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>FUJITSU LIMITED</orgname><role>03</role><address><city>Kawasaki-shi</city><country>JP</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A computer system comprises a management apparatus and a plurality of information processing apparatuses each including a peripheral device. The management apparatus includes a memory, and a processor coupled to the memory and configured to: compare version number information of firmware of the peripheral device mounted on each of the plurality of information processing apparatuses with reference information previously set; and in a case where the version number information of firmware is not consistent with the reference information, update firmware of the information processing apparatus so that a version number of firmware of the information processing apparatus becomes consistent with a version number of the reference information.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="100.67mm" wi="152.32mm" file="US20230004374A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="232.75mm" wi="152.48mm" orientation="landscape" file="US20230004374A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="213.95mm" wi="148.51mm" orientation="landscape" file="US20230004374A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="160.02mm" wi="148.67mm" file="US20230004374A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="210.82mm" wi="106.26mm" orientation="landscape" file="US20230004374A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="191.94mm" wi="103.46mm" orientation="landscape" file="US20230004374A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="225.81mm" wi="143.17mm" file="US20230004374A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="207.09mm" wi="154.35mm" file="US20230004374A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="158.24mm" wi="156.13mm" file="US20230004374A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="240.20mm" wi="153.42mm" orientation="landscape" file="US20230004374A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="210.82mm" wi="106.34mm" orientation="landscape" file="US20230004374A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="239.44mm" wi="149.61mm" orientation="landscape" file="US20230004374A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="82.21mm" wi="55.54mm" file="US20230004374A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="243.16mm" wi="158.67mm" file="US20230004374A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="229.62mm" wi="140.72mm" orientation="landscape" file="US20230004374A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="101.35mm" wi="121.58mm" file="US20230004374A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="221.06mm" wi="149.94mm" orientation="landscape" file="US20230004374A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="237.32mm" wi="160.10mm" file="US20230004374A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="82.21mm" wi="55.54mm" file="US20230004374A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="117.86mm" wi="154.35mm" file="US20230004374A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="230.72mm" wi="156.29mm" file="US20230004374A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="235.37mm" wi="155.70mm" file="US20230004374A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00022" num="00022"><img id="EMI-D00022" he="221.06mm" wi="149.86mm" orientation="landscape" file="US20230004374A1-20230105-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00023" num="00023"><img id="EMI-D00023" he="210.74mm" wi="97.03mm" orientation="landscape" file="US20230004374A1-20230105-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00024" num="00024"><img id="EMI-D00024" he="122.68mm" wi="156.72mm" file="US20230004374A1-20230105-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00025" num="00025"><img id="EMI-D00025" he="168.66mm" wi="151.38mm" orientation="landscape" file="US20230004374A1-20230105-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00026" num="00026"><img id="EMI-D00026" he="235.37mm" wi="150.54mm" file="US20230004374A1-20230105-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00027" num="00027"><img id="EMI-D00027" he="160.10mm" wi="107.36mm" file="US20230004374A1-20230105-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00028" num="00028"><img id="EMI-D00028" he="155.19mm" wi="139.11mm" file="US20230004374A1-20230105-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading><p id="p-0002" num="0001">This application is based upon and claims the benefit of priority of the prior Japanese Patent Application No. 2021-110877, filed on Jul. 2, 2021, the entire contents of which are incorporated herein by reference.</p><heading id="h-0002" level="1">FIELD</heading><p id="p-0003" num="0002">The embodiment discussed herein is related to a computer system and a control method for firmware version management.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">In many cases, a server performs booting by using an operating system (OS) file stored in a storage device installed in the server. However, in recent years, along with the popularization of various network interfaces and trend of improvement in server resource efficiency, a network boot method has been widely used in which OS files are collectively stored in a file server or an external storage device, and an OS logical drive is allocated to each server via a network.</p><p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a diagram exemplifying a computer system that implements the network boot method of related art. The computer system includes a plurality of servers and a file server or an external storage device.</p><p id="p-0006" num="0005">The file server or the external storage device discloses logical drives (OSs #1 to #3) storing an OS file to the servers via a network. Hereinafter, the file server or the external storage device is simply referred to as a file server. A plurality of OS types or a plurality of OS versions may be installed in the file server.</p><p id="p-0007" num="0006">In the network boot method, each server recognizes an OS as a logical volume. A logical volume may be used not only by one server but also exclusively by another server. <figref idref="DRAWINGS">FIG. <b>27</b></figref> is a diagram for explaining processing of a server in the network boot method of related art. Each server includes a central processing unit (CPU) and a network interface card (NIC). A server is coupled to a file server via an NIC.</p><p id="p-0008" num="0007">An NIC includes a Peripheral Component Interconnect Express (PCIe) extension read-only memory (ROM), and a boot code is stored in the ROM space. An NIC includes a controller and a local area network (LAN) controller. In the network boot method, when a server performs booting (before activation of an OS), a CPU reads a boot code stored in a PCIe extension ROM space in an NIC (reference sign (i) in <figref idref="DRAWINGS">FIG. <b>27</b></figref>).</p><p id="p-0009" num="0008">Based on the read boot code, the server performs network setting for the LAN controller of the NIC (reference sign (ii) in <figref idref="DRAWINGS">FIG. <b>27</b></figref>). The server requests, via the network, the file server to transfer the OS file to be used for booting processing (reference sign (iii) in <figref idref="DRAWINGS">FIG. <b>27</b></figref>).</p><p id="p-0010" num="0009">Japanese Laid-open Patent Publication No. 2009-140194 is disclosed as related art.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0011" num="0010">According to an aspect of the embodiments, a computer system comprising a management apparatus and a plurality of information processing apparatuses each including a peripheral device, wherein the management apparatus including a memory, and a processor coupled to the memory and configured to: compare version number information of firmware of the peripheral device mounted on each of the plurality of information processing apparatuses with reference information previously set; and in a case where the version number information of firmware is not consistent with the reference information, update firmware of the information processing apparatus so that a version number of firmware of the information processing apparatus becomes consistent with a version number of the reference information.</p><p id="p-0012" num="0011">The object and advantages of the invention will be realized and attained by means of the elements and combinations particularly pointed out in the claims.</p><p id="p-0013" num="0012">It is to be understood that both the foregoing general description and the following detailed description are exemplary and explanatory and are not restrictive of the invention.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram schematically illustrating a hardware configuration of a computer system as an example of an embodiment;</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a functional configuration diagram of the computer system as an example of the embodiment;</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram exemplifying a computer system configured as an active/standby system;</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a diagram exemplifying an environment master table in the computer system as an example of the embodiment;</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a diagram exemplifying an FW update file table in the computer system as an example of the embodiment;</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a sequence diagram for explaining an overview of processing in the computer system as an example of the embodiment;</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a sequence diagram for explaining an overview of processing in the computer system as an example of the embodiment;</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart illustrating a method of creating the environment master table in the computer system as an example of the embodiment;</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart for explaining update processing of the environment master table in the computer system as an example of the embodiment;</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a diagram exemplifying the environment master table in the computer system as an example of the embodiment;</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a flowchart for explaining device scan processing and update processing of a device information table in each server of the computer system as an example of the embodiment;</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a diagram exemplifying the device information table in the computer system as an example of the embodiment;</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a flowchart for explaining processing by a control unit and a table management unit of a file server in the computer system as an example of the embodiment;</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a diagram exemplifying the environment master table in the computer system as an example of the embodiment;</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a flowchart for explaining update processing of the environment master table by the table management unit in the file server of the computer system as an example of the embodiment;</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a diagram exemplifying the environment master table in the computer system as an example of the embodiment;</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a flowchart for explaining FW update processing in a server of the computer system as an example of the embodiment;</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>18</b></figref> is a diagram exemplifying the device information table updated along with an FW update in the computer system as an example of the embodiment;</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a flowchart for explaining FW update processing by a firmware update execution unit in the computer system as an example of the embodiment;</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>20</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>20</b>B</figref> are flowcharts for explaining processing of an active server as a switching source and processing of the file server at the time of system switching of the active server in the computer system as an example of the embodiment;</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is a diagram exemplifying the environment master table in the computer system as an example of the embodiment;</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is a diagram exemplifying the environment master table in the computer system as an example of the embodiment;</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is a flowchart for explaining processing of a standby server as a switching destination at the time of system switching of the active server in the computer system as an example of the embodiment;</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a diagram illustrating a modification example of the configuration of the computer system as an example of the embodiment;</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>25</b></figref> is a sequence diagram for explaining an overview of processing in a computer system configured as a cluster system as the modification example of the embodiment;</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a diagram exemplifying a computer system that implements the network boot method of related art; and</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is a diagram for explaining processing of a server in the network boot method of related art.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DESCRIPTION OF EMBODIMENTS</heading><p id="p-0041" num="0040">In a redundant configuration system including a plurality of servers, a server administrator performs update work of device firmware (FW) of each peripheral device and a device driver for the peripheral device incorporated in an OS in order to support a new function or correct a failure of the peripheral device.</p><p id="p-0042" num="0041">However, in rare cases, update omission may occur in the device FW of a peripheral device. In such a case, there may be cases in which a combination of the device FW that is not updated and the device driver that is updated is out of operation guarantee by a manufacturer of the server or the like, and the peripheral device performs abnormal operation. Hereinafter, device FW may be simply referred to as FW.</p><p id="p-0043" num="0042">For example, in the computer system illustrated in <figref idref="DRAWINGS">FIG. <b>26</b></figref>, it is assumed that the FW of an NIC includes an A version and an A+1 version, and the device driver includes a B version and a B+1 version.</p><p id="p-0044" num="0043">In the B version of the device driver, it is assumed that the operation of the FW of an NIC is guaranteed for the A version or later, for example, both the A version and the A+1 version of the FW.</p><p id="p-0045" num="0044">On the other hand, in the B+1 version of the device driver, it is assumed that the operation of an NIC with the A+1 version of the FW is guaranteed, but the operation of an NIC with the A version of the FW is not guaranteed.</p><p id="p-0046" num="0045">In such a case, when the FW of each NIC provided in a plurality of servers is updated from the A version to the A+1 version, there is a possibility that omission of FW update occurs in some servers for some reason, and the FW of some servers is still the A version.</p><p id="p-0047" num="0046">In such a case, when the device driver of a server is updated and the device driver is updated from the B version to the B+1 version, there is a possibility that the operation of the NIC whose FW is still the A version is not guaranteed, and a failure occurs.</p><p id="p-0048" num="0047">According to one aspect, the present disclosure aims to suppress inconsistency between a device driver and firmware.</p><p id="p-0049" num="0048">The embodiment of the computer system and control method is explained below with reference to the drawings. However, the following embodiment is merely an example and does not intend to exclude application of various modification examples and techniques that are not explicitly described in the embodiment. For example, the present embodiment may be carried out while being modified in various ways (such as combining the embodiment and the modification examples) without departing from the gist of the embodiment. The drawings are not provided with an intention that only the components illustrated in the drawings are included, and other functions and the like may be included.</p><heading id="h-0007" level="1">(A) Configuration</heading><p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram schematically illustrating the hardware configuration of a computer system <b>1</b> as an example of the embodiment, and <figref idref="DRAWINGS">FIG. <b>2</b></figref> is a functional configuration diagram thereof.</p><p id="p-0051" num="0050">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the computer system <b>1</b> includes a file server <b>30</b> and a plurality of (n in the example illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>) servers <b>10</b>-<b>1</b> to <b>10</b>-<i>n</i>. The file server <b>30</b> and the servers <b>10</b>-<b>1</b> to <b>10</b>-<i>n </i>are mutually communicably coupled via a network switch (NET-SW) <b>40</b>. For example, the network switch <b>40</b> is a LAN switch. Hereinafter, when the servers <b>10</b>-<b>1</b> to <b>10</b>-<i>n </i>are not particularly distinguished, they are referred to as the server <b>10</b>.</p><p id="p-0052" num="0051">An example in which the computer system <b>1</b> is an active/standby system will be described below.</p><p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram exemplifying the computer system <b>1</b> configured as an active/standby system.</p><p id="p-0054" num="0053">An active/standby system includes a plurality of servers <b>10</b> having the same configuration, and one server <b>10</b> among the plurality of servers <b>10</b> is set to be active and the other servers <b>10</b> are set to be in a standby state. Hereinafter, among the plurality of servers <b>10</b>, a server that is active is referred to as an active server <b>10</b>, and a server that is in a standby state is referred to as a standby server <b>10</b>.</p><p id="p-0055" num="0054">The failure resistance may be improved by switching the function as the active server <b>10</b> to the standby server <b>10</b> and taking over the processing in a case where any failure is detected in the active server <b>10</b>.</p><p id="p-0056" num="0055">For example, the computer system <b>1</b> is configured as a redundant system including the plurality of servers <b>10</b>.</p><p id="p-0057" num="0056">In the computer system <b>1</b>, each of the plurality of servers <b>10</b> performs network booting for activation by accessing a logical drive in which an OS file is stored (hereinafter referred to as an OS logical drive) via a network. At this time, the plurality of servers <b>10</b> perform the task by exclusively using the OS logical drive.</p><p id="p-0058" num="0057">The computer system <b>1</b> exemplified in <figref idref="DRAWINGS">FIG. <b>3</b></figref> includes N servers #1 to #N, where the server #1 is the active server <b>10</b> and the servers #2 to #N are the standby servers <b>10</b>.</p><p id="p-0059" num="0058">Each server <b>10</b> accesses an OS logical drive provided by the file server <b>30</b> and is activated by network booting. The file server <b>30</b> may provide a plurality of OS types or a plurality of OS versions.</p><p id="p-0060" num="0059">In a case where any failure is detected in the active server #1, any one of the standby servers #2 to #N is determined as the new active server <b>10</b>, and is network-booted by using the OS logical drive managed by the file server <b>30</b>, thereby functioning as the new active server <b>10</b>. An OS logical drive may be referred to as a network booting coupling drive. Network booting may be referred to as net booting.</p><p id="p-0061" num="0060">When performing network booting, a firmware update execution unit <b>101</b> (described later with reference to <figref idref="DRAWINGS">FIG. <b>2</b></figref>) of the server <b>10</b> acquires an address of a network booting coupling drive, acquires a program and data to be used for activation of the server <b>10</b> by accessing the address, and achieves the network booting.</p><p id="p-0062" num="0061">The server <b>10</b> is a computer having a server function, and includes, as illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, a CPU <b>11</b>, a memory <b>12</b>, a baseboard management controller (BMC) <b>20</b>, and one or more peripheral devices <b>50</b>.</p><p id="p-0063" num="0062">The peripheral device <b>50</b> is an electronic device that is mounted on the server <b>10</b> for adding a function to the server <b>10</b>. For example, the peripheral device <b>50</b> is a LAN interface, or a device such as a PCIe card, an NIC, a hard disk drive (HDD), or a solid-state drive (SSD).</p><p id="p-0064" num="0063">Device FW that controls the operation of the peripheral device <b>50</b> is stored in the peripheral device <b>50</b>. The device FW may be updated as desired. A pre-boot execution environment (PXE) code may be stored in an extension ROM space of the peripheral device <b>50</b> in an NIC or the like that supports network booting.</p><p id="p-0065" num="0064">A storage device such as an HDD or SSD provided as the peripheral device <b>50</b> stores various data and programs to be processed by the CPU <b>11</b> described later.</p><p id="p-0066" num="0065">The memory <b>12</b> is a storage memory including a ROM and a random-access memory (RAM). A software program for implementing a function to be executed by the server <b>10</b> and pieces of data for the program are written in the ROM of the memory <b>12</b>. The software program on the memory <b>12</b> is appropriately read and executed by the CPU <b>11</b>. The RAM of the memory <b>12</b> is used as a primary storage memory or a working memory.</p><p id="p-0067" num="0066">The CPU <b>11</b> is a processing device that performs various kinds of control or calculation, and implements various functions by executing the OS and the program stored in the memory <b>12</b>.</p><p id="p-0068" num="0067">For example, at the time of activation of the server <b>10</b>, the CPU <b>11</b> reads the OS at the time of activation, and performs basic input/output control on the coupled peripheral device <b>50</b>, and the like, by executing a Basic Input/Output System (BIOS).</p><p id="p-0069" num="0068">By executing the BIOS, the CPU <b>11</b> functions as the firmware update execution unit <b>101</b> (see <figref idref="DRAWINGS">FIG. <b>2</b></figref>). The firmware update execution unit <b>101</b> updates the device FW of the peripheral device <b>50</b> in cooperation with a server control unit <b>201</b> operating on the BMC <b>20</b> described later.</p><p id="p-0070" num="0069">The network booting function executed by the BIOS is included in the PXE code installed in the peripheral device <b>50</b>, and is transferred from the peripheral device <b>50</b> to the CPU <b>11</b> at the time of activation of the server <b>10</b>.</p><p id="p-0071" num="0070">The program (BIOS) for implementing the function as the firmware update execution unit <b>101</b> is provided in a form of being recorded on a computer-readable recording medium such as, for example, a flexible disk, a compact disc (CD) such as a CD-ROM, a CD-recordable (CD-R), or a CD-rewritable (CD-RW), a Digital Versatile Disc (DVD) such as a DVD-ROM, a DVD-RAM, a DVD-R, a DVD+R, a DVD-RW, a DVD+RW, or high-definition (HD) DVD, a Blu-ray disc, a magnetic disk, an optical disc, or a magneto-optical disk. A computer reads the program from the recording medium, transfers the read program to an internal or external storage device, causes the program to be stored in the internal or external storage device, and uses the program. The program may be recorded in a storage device (recording medium) such as, for example, a magnetic disk, an optical disc, or a magneto-optical disk, and may be provided from the storage device to the computer via a communication channel.</p><p id="p-0072" num="0071">When implementing the function as the firmware update execution unit <b>101</b>, the program (BIOS) stored in the internal storage device (the memory <b>12</b> in the present embodiment) is executed by a microprocessor (the CPU <b>11</b> in the present embodiment) of the computer. At this time, the computer may read and execute the program recorded on the recording medium.</p><p id="p-0073" num="0072">The firmware update execution unit <b>101</b> performs FW update of the server <b>10</b> in which the firmware update execution unit <b>101</b> is included (own server <b>10</b>). The firmware update execution unit <b>101</b> acquires an FW update file from the server control unit <b>201</b> of the BMC <b>20</b> described later and executes the FW update file, thereby updating the FW of the peripheral device <b>50</b>.</p><p id="p-0074" num="0073">When the update of the FW is completed, for example, the firmware update execution unit <b>101</b> sets a flag (normal end flag) indicating a normal end of the FW update in a predetermined storage area of the memory <b>12</b> or another storage device (not illustrated). When the update of the FW is not normally completed, for example, the firmware update execution unit <b>101</b> sets a flag (abnormal end flag) indicating an abnormal end of the FW update in a predetermined storage area of the memory <b>12</b> or another storage device (not illustrated).</p><p id="p-0075" num="0074">When a normal end flag or an abnormal end flag is set in the storage area of the memory <b>12</b> or the like, the server control unit <b>201</b> of the server <b>10</b> described later determines that the FW update is completed. Hereinafter, when a normal end flag and an abnormal end flag are not particularly distinguished from each other, a flag may be referred to as a normal/abnormal end flag.</p><p id="p-0076" num="0075">A simple OS having a minimum function for updating firmware in the server <b>10</b> is included in the FW update file executed by the firmware update execution unit <b>101</b>. By using the simple OS in the FW update file, the firmware update execution unit <b>101</b> may activate the own server <b>10</b>.</p><p id="p-0077" num="0076">The BMC <b>20</b> is a monitoring control device (controller) that performs monitoring and maintenance of the server <b>10</b> (own server <b>10</b>) in which the BMC <b>20</b> is installed.</p><p id="p-0078" num="0077">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the BMC <b>20</b> includes a processor <b>21</b>, a memory <b>22</b>, and a storage device <b>23</b>.</p><p id="p-0079" num="0078">The memory <b>22</b> is a storage memory including a ROM and a RAM. A software program for implementing a function to be executed by the BMC <b>20</b> and pieces of data for the program are written in the ROM of the memory <b>22</b>. The software program on the memory <b>22</b> is appropriately read and executed by the processor <b>21</b>. The RAM of the memory <b>22</b> is used as a primary storage memory or a working memory.</p><p id="p-0080" num="0079">The storage device <b>23</b> is a storage device such as an HDD, SSD, or a storage class memory (SCM), and stores various data. A device information table <b>231</b> described later is stored in the storage device <b>23</b>.</p><p id="p-0081" num="0080">The processor (processing unit) <b>21</b> controls the entire BMC <b>20</b>. The processor <b>21</b> may be a multiprocessor. For example, the processor <b>21</b> may be any one of a CPU, a microprocessor unit (MPU), a digital signal processor (DSP), an application-specific integrated circuit (ASIC), a programmable logic device (PLD), and a field-programmable gate array (FPGA). The processor <b>21</b> may be a combination of two or more types of elements among the CPU, the MPU, the DSP, the ASIC, the PLD, and the FPGA.</p><p id="p-0082" num="0081">By the processor <b>21</b> executing the control program for the BMC <b>20</b>, functions as the server control unit <b>201</b>, a device table management unit <b>202</b>, and a device scan processing unit <b>203</b> illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref> are implemented.</p><p id="p-0083" num="0082">The program (control program) for implementing the functions as the server control unit <b>201</b>, the device table management unit <b>202</b>, and the device scan processing unit <b>203</b>, is provided in a form of being recorded on a computer-readable recording medium such as, for example, a flexible disk, a CD such as a CD-ROM, a CD-R, or a CD-RW, a DVD such as a DVD-ROM, a DVD-RAM, a DVD-R, a DVD+R, a DVD-RW, a DVD+RW, or an HD DVD, a Blu-ray disc, a magnetic disk, an optical disc, or a magneto-optical disk. A computer reads the program from the recording medium, transfers the read program to an internal or external storage device, causes the program to be stored in the internal or external storage device, and uses the program. The program may be recorded in a storage device (recording medium) such as, for example, a magnetic disk, an optical disc, or a magneto-optical disk, and may be provided from the storage device to the computer via a communication channel.</p><p id="p-0084" num="0083">When implementing the functions as the server control unit <b>201</b>, the device table management unit <b>202</b>, and the device scan processing unit <b>203</b>, the program stored in the internal storage device (the memory <b>22</b> in the present embodiment) is executed by a microprocessor (the processor <b>21</b> in the present embodiment) of the computer. At this time, the computer may read and execute the program recorded on the recording medium.</p><p id="p-0085" num="0084">The server control unit <b>201</b> performs overall control of the own server <b>10</b>. For example, the server control unit <b>201</b> executes FW update of the peripheral device <b>50</b> in response to an FW update request from the file server <b>30</b> in cooperation with the file server <b>30</b> and the BIOS operating on the CPU <b>11</b>.</p><p id="p-0086" num="0085">In response to a request (server device scan request) from the file server <b>30</b>, the server control unit <b>201</b> issues a device scan instruction for instructing the device scan processing unit <b>203</b> to collect information (device information) on the FW of the peripheral device <b>50</b> mounted on the own server <b>10</b>.</p><p id="p-0087" num="0086">For example, the information (device information) on the FW of the peripheral device <b>50</b> includes information for identifying the peripheral device <b>50</b> and information indicating the version number of the FW (device FW version number information). For example, the information for identifying the peripheral device <b>50</b> may include a PCI identifier (PCIID), a device ID (DID), and a vendor ID (VID). Collection of device information by the device scan processing unit <b>203</b> in the server <b>10</b> may be referred to as device scan.</p><p id="p-0088" num="0087">After the device scan by the device scan processing unit <b>203</b> is completed, the server control unit <b>201</b> causes the device table management unit <b>202</b> to register the device information collected by the device scan processing unit <b>203</b> in the device information table <b>231</b>. For example, the device information table <b>231</b> may be a combination of DID, VID, and FW version number (see <figref idref="DRAWINGS">FIG. <b>12</b></figref>).</p><p id="p-0089" num="0088">The server control unit <b>201</b> instructs the device table management unit <b>202</b> to register, refer to, and update data in the device information table <b>231</b>. The instruction of registering, referring to, and updating data in the device information table <b>231</b> may be referred to as an access instruction to the device information table <b>231</b>.</p><p id="p-0090" num="0089">The server control unit <b>201</b> provides the device information table <b>231</b> to the file server <b>30</b>. For example, when receiving a transmission request of the device information table <b>231</b> (device information table transmission request) from a server scan processing unit <b>301</b> of the file server <b>30</b>, the server control unit <b>201</b> provides the device information table <b>231</b> to the file server <b>30</b> in response to the transmission request.</p><p id="p-0091" num="0090">When an FW update request is issued from a control unit <b>302</b> of the file server <b>30</b>, the server control unit <b>201</b> receives a device FW update file from the file server <b>30</b> (control unit <b>302</b>). The server control unit <b>201</b> instructs the firmware update execution unit <b>101</b> to execute the device FW update file.</p><p id="p-0092" num="0091">Before causing the firmware update execution unit <b>101</b> to execute the device FW update file, the server control unit <b>201</b> may confirm permission of the execution of the device FW update file with a server administrator or the like.</p><p id="p-0093" num="0092">After the execution of the device FW update file by the firmware update execution unit <b>101</b> is completed, for example, after the update of the FW of the peripheral device <b>50</b> is completed, the server control unit <b>201</b> causes the device scan processing unit <b>203</b> to perform the device scan again.</p><p id="p-0094" num="0093">After the update of the FW of the peripheral device <b>50</b> is completed, the server control unit <b>201</b> transmits an FW update completion response and the recreated device information table <b>231</b> to the file server <b>30</b>.</p><p id="p-0095" num="0094">In a case where the update of the FW of the peripheral device <b>50</b> may not be completed for some reason, the server control unit <b>201</b> transmits an FW update abnormal end response to the file server <b>30</b>.</p><p id="p-0096" num="0095">When any abnormality is detected in the own server <b>10</b>, the server control unit <b>201</b> may notify the file server <b>30</b> of a system coupling end request or a system switching request. The system coupling end request is a request for ending the coupling of the server <b>10</b> with the computer system <b>1</b>, and the system switching request is a request for setting the standby server <b>10</b> as the new active server <b>10</b> in place of the own server <b>10</b> (active server <b>10</b>).</p><p id="p-0097" num="0096">The device scan processing unit <b>203</b> collects information (device information) on the peripheral device <b>50</b> mounted on the own server <b>10</b> in accordance with a device scan instruction issued from the server control unit <b>201</b>.</p><p id="p-0098" num="0097">For example, the device scan processing unit <b>203</b> may make an inquiry about device information to the peripheral device <b>50</b>, and acquire device information provided by the peripheral device <b>50</b> in response to the inquiry. The device scan processing unit <b>203</b> may read device information by reading setting information related to the peripheral device <b>50</b> stored in a predetermined storage area of a register of the peripheral device <b>50</b>, the storage device <b>23</b> of the own server <b>10</b>, or the like. The way of collecting device information may be changed as appropriate.</p><p id="p-0099" num="0098">The device scan processing unit <b>203</b> may collect information on the peripheral device <b>50</b> mounted on the own server <b>10</b> and store the information in a storage device or the like (not illustrated), at predetermined timing such as when the own server <b>10</b> is activated or when the configuration of the peripheral device <b>50</b> is changed. When receiving a device FW version number information collection instruction issued from the server control unit <b>201</b>, the device scan processing unit <b>203</b> may provide the information stored in advance in the storage device as described above.</p><p id="p-0100" num="0099">The device table management unit <b>202</b> manages the device information table <b>231</b>. The device table management unit <b>202</b> registers data in the device information table <b>231</b> and reads data from the device information table <b>231</b>.</p><p id="p-0101" num="0100">For example, the device table management unit <b>202</b> registers the device information of the own server <b>10</b> collected by the device scan processing unit <b>203</b> in the device information table <b>231</b>.</p><p id="p-0102" num="0101">The device table management unit <b>202</b> registers, refers to, and updates data in the device information table <b>231</b>, in response to an access instruction made by the server control unit <b>201</b> to access the device information table <b>231</b>.</p><p id="p-0103" num="0102">The file server <b>30</b> is a computer having a file management function, and provides data to and performs other communication with the plurality of servers <b>10</b> coupled via a network, and the like.</p><p id="p-0104" num="0103">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the file server <b>30</b> includes a CPU <b>31</b>, a memory <b>32</b>, a storage device <b>33</b>, and a network interface (NET-IF) <b>34</b>.</p><p id="p-0105" num="0104">The network interface <b>34</b> is a communication interface that enables communication with the server <b>10</b> or the BMC <b>20</b> installed in the server <b>10</b>. In the example illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the file server <b>30</b> includes a plurality of network interfaces <b>34</b>. The file server <b>30</b> is coupled to the network switch <b>40</b> via the network interface <b>34</b>. The plurality of servers <b>10</b> and the BMC <b>20</b> of each server <b>10</b> are coupled to the network switch <b>40</b>. For example, the file server <b>30</b> is communicably coupled to the plurality of servers <b>10</b> and the plurality of BMCs <b>20</b> via the network interface <b>34</b> and the network switch <b>40</b>.</p><p id="p-0106" num="0105">In the computer system <b>1</b>, the file server <b>30</b> is coupled, via the network interface <b>34</b>, to a task-related network including the plurality of servers <b>10</b> and to a management-related network including the BMC <b>20</b> of each server <b>10</b>.</p><p id="p-0107" num="0106">The memory <b>32</b> is a storage memory including a ROM and a RAM. A software program for implementing a function to be executed by the file server <b>30</b> (control program for the file server <b>30</b>) and pieces of data for the program are written in the ROM of the memory <b>32</b>. The software program on the memory <b>32</b> is appropriately read and executed by the CPU <b>31</b>. The RAM of the memory <b>32</b> is used as a primary storage memory or a working memory. The storage device <b>33</b> is a storage device such as an HDD, SSD, or SCM, and stores various data.</p><p id="p-0108" num="0107">As illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the storage device <b>33</b> stores an environment master table <b>305</b>, an FW update file table <b>306</b>, and one or more FW update files <b>307</b>. The environment master table <b>305</b> and the FW update file table <b>306</b> will be described later. The FW update file <b>307</b> is data used for installing FW in each peripheral device <b>50</b> included in each server <b>10</b>.</p><p id="p-0109" num="0108">A plurality of types of FW update files <b>307</b> corresponding to the types of the peripheral devices <b>50</b> are stored in the storage device <b>33</b>. For the same peripheral device <b>50</b>, the FW update files <b>307</b> corresponding to the FW version numbers are prepared.</p><p id="p-0110" num="0109">The firmware update execution unit <b>101</b> described later installs (updates) FW of a desired FW version number by executing the FW update file <b>307</b> corresponding to the desired FW version number of the corresponding peripheral device <b>50</b> among the plurality of types of FW update files <b>307</b>.</p><p id="p-0111" num="0110">The CPU <b>31</b> is a processing device that performs various kinds of control or calculation, and implements various functions by executing the OS and the program stored in the memory <b>32</b>. By executing the control program for the file server <b>30</b>, the CPU <b>31</b> implements the functions as the server scan processing unit <b>301</b>, the control unit <b>302</b>, and a table management unit <b>303</b> as illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0112" num="0111">The program (control program for the file server <b>30</b>) for implementing the functions as the server scan processing unit <b>301</b>, the control unit <b>302</b>, and the table management unit <b>303</b>, is provided in a form of being recorded on a computer-readable recording medium such as, for example, a flexible disk, a CD such as a CD-ROM, a CD-R, or a CD-RW, a DVD such as a DVD-ROM, a DVD-RAM, a DVD-R, a DVD+R, a DVD-RW, a DVD+RW, or an HD DVD, a Blu-ray disc, a magnetic disk, an optical disc, or a magneto-optical disk. A computer reads the program from the recording medium, transfers the read program to an internal or external storage device, causes the program to be stored in the internal or external storage device, and uses the program. The program may be recorded in a storage device (recording medium) such as, for example, a magnetic disk, an optical disc, or a magneto-optical disk, and may be provided from the storage device to the computer via a communication channel.</p><p id="p-0113" num="0112">When implementing the functions as the server scan processing unit <b>301</b>, the control unit <b>302</b>, and the table management unit <b>303</b>, the program stored in the internal storage device (the memory <b>32</b> in the present embodiment) is executed by a microprocessor (the CPU <b>31</b> in the present embodiment) of the computer. At this time, the computer may read and execute the program recorded on the recording medium.</p><p id="p-0114" num="0113">The server scan processing unit <b>301</b> transmits, to each server <b>10</b> coupled to the file server <b>30</b>, a notification (server device scan request) for requesting transmission of device information of the peripheral device <b>50</b> mounted on each server <b>10</b>, in accordance with an instruction from the control unit <b>302</b>.</p><p id="p-0115" num="0114">The server scan processing unit <b>301</b> transmits a server device scan request and a device information table transmission request to the server <b>10</b> that exclusively shares the OS logical drive registered in the environment master table <b>305</b>, in accordance with an instruction from the control unit <b>302</b>.</p><p id="p-0116" num="0115">The server scan processing unit <b>301</b> functions as a requesting unit that requests the server <b>10</b> to collect the FW version number information of the peripheral device <b>50</b> to be mounted.</p><p id="p-0117" num="0116">The server scan processing unit <b>301</b> may cause the device information table <b>231</b> transmitted from each server <b>10</b> to be stored in a predetermined storage area of the storage device <b>33</b>.</p><p id="p-0118" num="0117">The table management unit <b>303</b> manages the environment master table <b>305</b> and the FW update file table <b>306</b> stored in the storage device <b>33</b>. The environment master table <b>305</b> is information indicating the system environment of each server <b>10</b> in the computer system <b>1</b>. The environment master table <b>305</b> includes at least version number information of the FW of the peripheral device <b>50</b> mounted on each server <b>10</b> and information on a device driver corresponding to the peripheral device <b>50</b> in the OS of the server <b>10</b>.</p><p id="p-0119" num="0118"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a diagram exemplifying the environment master table <b>305</b> in the computer system <b>1</b> as an example of the embodiment. The environment master table <b>305</b> illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates an example in which the peripheral device <b>50</b> mounted on the server <b>10</b> is a LAN interface.</p><p id="p-0120" num="0119">The environment master table <b>305</b> exemplified in <figref idref="DRAWINGS">FIG. <b>4</b></figref> indicates the values input by a system administrator immediately after the environment of the computer system <b>1</b> is constructed. For example, the table represents a state immediately after the environment of the computer system <b>1</b> is constructed.</p><p id="p-0121" num="0120">In the environment master table <b>305</b> exemplified in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, information that is not recognized by the system administrator is left blank. The environment master table <b>305</b> exemplified in <figref idref="DRAWINGS">FIG. <b>4</b></figref> includes software information and server information. Software information is information on the software environment in each server <b>10</b>, and indicates an OS drive label, a used OS, and information on LAN driver (name and version number) in the example illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref>.</p><p id="p-0122" num="0121">The example illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref> indicates that the OS used by the OS logical drive identified by OS drive label &#x201c;OS1&#x201d; is RHEL8.2, and that, for the OS1, a LAN driver (device driver) of which the name is &#x201c;LAN-drv&#x201d; and the version number is &#x201c;V10&#x201d; is included.</p><p id="p-0123" num="0122">Server information indicates the state of the server <b>10</b>. The example illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref> indicates the server address, operation flag, coupling availability flag, and information on LAN interface (peripheral device <b>50</b>) for each server <b>10</b>. Information on LAN interface includes device ID (DID), vendor ID (VID), and FW version number.</p><p id="p-0124" num="0123">A server address is information for identifying the server <b>10</b>, and is, for example, an IP address of the server <b>10</b>. An operation flag indicates an operation state of the server <b>10</b>. &#x201c;ACT&#x201d; is set when the server <b>10</b> is used for operation (active), and &#x201c;STB&#x201d; is set when the server <b>10</b> is in a standby state. A coupling availability flag indicates whether the server <b>10</b> is in a state of being immediately usable. &#x201c;YES&#x201d; is set when the server <b>10</b> is in a state of being immediately usable, and &#x201c;NO&#x201d; is set in when the server <b>10</b> is not in a state of being immediately usable.</p><p id="p-0125" num="0124">Hereinafter, among the plurality of servers <b>10</b>, the server <b>10</b> used for operation (active) may be referred to as the active server <b>10</b>. In the environment master table <b>305</b>, the server <b>10</b> for which &#x201c;ACT&#x201d; is set as the operation flag corresponds to the active server <b>10</b>.</p><p id="p-0126" num="0125">Among the plurality of servers <b>10</b>, the server <b>10</b> in a standby state may be referred to as the standby server <b>10</b>. In the environment master table <b>305</b>, the server <b>10</b> for which &#x201c;STB&#x201d; is set as the operation flag corresponds to the standby server <b>10</b>.</p><p id="p-0127" num="0126">In the example of the present embodiment, one server <b>10</b> among the plurality of servers <b>10</b> included in the computer system <b>1</b> is the active server <b>10</b>, and the remaining servers <b>10</b> are the standby servers <b>10</b>.</p><p id="p-0128" num="0127">As described above, for example, immediately after the environment of the computer system <b>1</b> is constructed, the system administrator registers the environment master table <b>305</b> in the file server <b>30</b>.</p><p id="p-0129" num="0128">At this time, in the environment master table <b>305</b>, at least for the active server <b>10</b>, information of a state in which normal operation is confirmed is registered. For example, in the environment master table <b>305</b>, it may be said that the information on the active server <b>10</b> represents a system configuration (combination of a device driver and the FW version number of the peripheral device <b>50</b>) with which normal operation is guaranteed.</p><p id="p-0130" num="0129">A system configuration (combination of a device driver and the FW version number of the peripheral device <b>50</b>) with which normal operation is guaranteed may be referred to as reference information or a golden case. The information on the active server <b>10</b> in the environment master table <b>305</b> corresponds to a combination of a device driver and FW version number information set in advance.</p><p id="p-0131" num="0130">The FW update file table <b>306</b> is information for managing the FW update file <b>307</b> of each peripheral device <b>50</b>.</p><p id="p-0132" num="0131"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a diagram exemplifying the FW update file table <b>306</b> in the computer system <b>1</b> as an example of the embodiment. The FW update file table <b>306</b> exemplified in <figref idref="DRAWINGS">FIG. <b>5</b></figref> indicates information on the FW update file <b>307</b> of a LAN interface. In the FW update file table <b>306</b> exemplified in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, DID, VID, FW version number, and update file name are associated with each other.</p><p id="p-0133" num="0132">For example, the example illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref> indicates that there are three types of FW update files <b>307</b> with FW version numbers A, B, and C in the FW of the LAN interface with DID &#x201c;ABCD&#x201d;, and the file name (update file name) of each FW update file <b>307</b> is also indicated. By referring to the FW update file table <b>306</b>, it is possible to acquire information on the FW update file <b>307</b> (update file name) to be used for updating the FW of the peripheral device <b>50</b> to a desired version number.</p><p id="p-0134" num="0133">For convenience, in the FW update file table <b>306</b> exemplified in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the peripheral devices <b>50</b> other than a LAN interface are indicated as &#x201c;other devices&#x201d;. As the information on the FW for the other devices, &#x201c;None&#x201d; indicating that no value is set is indicated.</p><p id="p-0135" num="0134">The configuration of the FW update file table <b>306</b> is not limited to the example illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, and may be changed as appropriate. For example, the FW update file table <b>306</b> may manage the storage location of the FW update file <b>307</b>. The FW update file table <b>306</b> may manage the data itself of the FW update file <b>307</b>.</p><p id="p-0136" num="0135">For example, after the environment of the computer system <b>1</b> is constructed, the system administrator registers the FW update file table <b>306</b>, together with the environment master table <b>305</b>, in the file server <b>30</b>.</p><p id="p-0137" num="0136">The table management unit <b>303</b> registers, refers to, and updates data in the environment master table <b>305</b> and the FW update file table <b>306</b> described above, in accordance with an instruction from the control unit <b>302</b>. For example, the table management unit <b>303</b> causes the contents of the device information table <b>231</b> of each server <b>10</b> provided from the control unit <b>302</b> to be reflected in the environment master table <b>305</b>. The table management unit <b>303</b> provides, to the control unit <b>302</b> or the like, the data read from the environment master table <b>305</b> and the FW update file table <b>306</b>. The control unit <b>302</b> performs overall control in the file server <b>30</b>.</p><p id="p-0138" num="0137">For example, the control unit <b>302</b> performs comparison for an item in the environment master table <b>305</b>. The control unit <b>302</b> makes an alert notification to the system administrator. The control unit <b>302</b> refers to the environment master table <b>305</b>, and performs determination on whether to permit coupling to an OS logical drive, and the like. The control unit <b>302</b> requests the server <b>10</b> to update the device FW based on the result of the comparison for an item in the environment master table <b>305</b>.</p><p id="p-0139" num="0138">The control unit <b>302</b> instructs the table management unit <b>303</b> to register the environment master table <b>305</b>. The environment master table <b>305</b> is created based on a registration instruction given from the system administrator.</p><p id="p-0140" num="0139">The control unit <b>302</b> makes an alert notification to the system administrator when detecting an FW update failure, the absence of a system switching destination, or the like.</p><p id="p-0141" num="0140">For example, in a case of a sudden system failure of the active server <b>10</b> for some reason, the control unit <b>302</b> may perform Keep Alive processing in order to confirm the operation of the active server <b>10</b>. When timeout of the active server <b>10</b> is detected as a result of the Keep Alive processing, the control unit <b>302</b> determines that some abnormality such as a system failure has occurred in the active server <b>10</b>. In such a case, the control unit <b>302</b> may perform switching control of allocating, to the server <b>10</b> as the switching destination (standby server <b>10</b>), the OS logical drive that has been previously allocated to the active server <b>10</b>.</p><p id="p-0142" num="0141">When an instruction to perform update registration for the environment master table <b>305</b> is input from the system administrator, the control unit <b>302</b> extracts the server <b>10</b> that exclusively shares the OS logical drive from the contents of the environment master table <b>305</b>. The control unit <b>302</b> issues a device scan request to each of the extracted servers <b>10</b> via the server scan processing unit <b>301</b>.</p><p id="p-0143" num="0142">When the device information table <b>231</b> is provided from each server <b>10</b> in response to the device scan request, the control unit <b>302</b> causes the table management unit <b>303</b> to reflect the contents of the received device information table <b>231</b> in the environment master table <b>305</b>.</p><p id="p-0144" num="0143">Among the servers <b>10</b> registered in the environment master table <b>305</b>, the control unit <b>302</b> compares the FW version numbers of the mounted peripheral devices <b>50</b> of the same type (same model). For example, the FW version number of the peripheral device <b>50</b> mounted on one server <b>10</b> is compared with the FW version number of the same peripheral device <b>50</b> mounted on another server <b>10</b>.</p><p id="p-0145" num="0144">The control unit <b>302</b> functions as a comparison unit that compares the FW version number of the peripheral device <b>50</b> mounted on each of the plurality of servers <b>10</b> with preset reference information (combination of a device driver and a device FW version number). The reference information includes the firmware version number of the peripheral device <b>50</b> mounted on the active server <b>10</b> confirmed to operate normally among the plurality of servers <b>10</b>.</p><p id="p-0146" num="0145">When the FW version numbers are different from each other as a result of the comparison, the control unit <b>302</b> issues an FW update request for the peripheral device <b>50</b> to the standby server <b>10</b> on which the peripheral device <b>50</b> with a different FW version number is mounted so that the different FW version number will be the same as (consistent with) the FW version number of the peripheral device <b>50</b> mounted on the active server <b>10</b>. Here, the term &#x201c;same&#x201d; does not necessarily mean completely identical, but may include a specific relationship in which a normal operation of the FW is confirmed.</p><p id="p-0147" num="0146">For example, the control unit <b>302</b> functions as an update control unit that, in a case where the version number information of firmware is not the same as the reference information, updates the firmware of the server <b>10</b> so that the version number of the firmware of the server <b>10</b> is the same as the version number of the reference information.</p><p id="p-0148" num="0147">The server <b>10</b> on which the peripheral device <b>50</b> with the smaller FW version number of the different FW version numbers is mounted may be referred to as a server <b>10</b> to be updated. The FW with the smaller FW version number of the different FW version numbers may be referred to as FW to be updated. The FW with the larger FW version number of the different FW version numbers may be referred to as an update target FW.</p><p id="p-0149" num="0148">Since the configuration of the active server <b>10</b> corresponds to the golden case in the environment master table <b>305</b>, the FW of the peripheral device <b>50</b> mounted on the active server <b>10</b> may be set as the update target FW.</p><p id="p-0150" num="0149">At the time of issuing the FW update request, the control unit <b>302</b> refers to the FW update file table <b>306</b> and specifies the FW update file <b>307</b> for updating (upgrading) the peripheral device <b>50</b> of the server <b>10</b> to be updated to the update target FW.</p><p id="p-0151" num="0150">The control unit <b>302</b> acquires the specified FW update file <b>307</b> and transmits the FW update file to the server <b>10</b> to be updated.</p><p id="p-0152" num="0151">When the FW version numbers of the mounted peripheral devices <b>50</b> of the same type are the same (have no difference) among the plurality of servers <b>10</b> registered in the environment master table <b>305</b>, the control unit <b>302</b> determines that there is no deficiency in the consistency of the FW version numbers, and does not issue the FW update request.</p><p id="p-0153" num="0152">After transmission of the FW update request to the server <b>10</b> to be updated, the control unit <b>302</b> determines the coupling availability of the server <b>10</b> based on the FW update abnormal end response or the FW update completion response transmitted from the server <b>10</b> to be updated as the transmission destination.</p><p id="p-0154" num="0153">When the FW update abnormal end response (other than normal end) is received from the server <b>10</b> to be updated after transmission of the FW update request to the server <b>10</b> to be updated, the control unit <b>302</b> causes the table management unit <b>303</b> to set, as the coupling availability flag in the environment master table <b>305</b>, a value &#x201c;NO&#x201d; indicating that the server <b>10</b> to be updated may not be used as a system switching server. The control unit <b>302</b> makes an alert notification to the system administrator indicating that the FW update may not be completed in the server <b>10</b> to be updated, and that the server <b>10</b> to be updated may not be used as the system switching server.</p><p id="p-0155" num="0154">When the FW update abnormal end response (other than normal end) is received from the server <b>10</b> to be updated, the request for coupling to the OS logical drive made from the standby server <b>10</b> is rejected at the time of switching the active server <b>10</b>.</p><p id="p-0156" num="0155">On the other hand, when the FW update completion response is received from the server <b>10</b> to be updated after transmission of the FW update request to the server <b>10</b> to be updated, the control unit <b>302</b> causes the table management unit <b>303</b> to set, as the coupling availability flag in the environment master table <b>305</b>, a value &#x201c;YES&#x201d; indicating that the server <b>10</b> to be updated may be used as the system switching server.</p><p id="p-0157" num="0156">Instead of determining the coupling availability of the server <b>10</b> to be updated based on the FW update abnormal end response or the FW update completion response from the server <b>10</b> to be updated, the control unit <b>302</b> may determine the coupling availability of the server <b>10</b> to be updated based on the device information table <b>231</b> provided by the server <b>10</b> to be updated. For example, the control unit <b>302</b> may compare again the FW version number information registered in the device information table <b>231</b> transmitted from the server <b>10</b> to be updated with the FW version number in the environment master table <b>305</b>.</p><p id="p-0158" num="0157">When the FW version numbers are the same as a result of the comparison, the control unit <b>302</b> may cause the table management unit <b>303</b> to set, as the coupling availability flag in the environment master table <b>305</b>, a value &#x201c;YES&#x201d; indicating that the server <b>10</b> to be updated may be used as the system switching server. When the FW version numbers are not the same as a result of the comparison, the control unit <b>302</b> may cause the table management unit <b>303</b> to set, as the coupling availability flag in the environment master table <b>305</b>, a value &#x201c;NO&#x201d; indicating that the server <b>10</b> to be updated may not be used as the system switching server.</p><p id="p-0159" num="0158">The control unit <b>302</b> may make an alert notification to the system administrator indicating that the FW update may not be completed in the server <b>10</b> to be updated, and that the server <b>10</b> to be updated may not be used as the system switching server.</p><p id="p-0160" num="0159">In a case of a sudden system failure of the active server <b>10</b> for some reason, the control unit <b>302</b> may perform Keep Alive in order to confirm the operation of the active server <b>10</b>.</p><p id="p-0161" num="0160">In a case of receiving a system coupling end notification from the active server <b>10</b>, a system switching request from the active server <b>10</b>, or Keep Alive timeout detection (sudden system failure or the like) of the active server <b>10</b>, the control unit <b>302</b> may perform switching control of allocating, to the server <b>10</b> as the switching destination, the OS logical drive that has been previously allocated to the active server <b>10</b>.</p><p id="p-0162" num="0161">For example, based on the contents of the environment master table <b>305</b>, the control unit <b>302</b> may perform BIOS booting processing of the server <b>10</b> (server having no difference in FW version number) set to be capable of system switching in the environment master table <b>305</b>. Accordingly, the OS logical drive that has been previously allocated to the active server <b>10</b> may be allocated to the server <b>10</b> as the switching destination.</p><heading id="h-0008" level="1">(B) Operation</heading><p id="p-0163" num="0162">An overview of processing in the computer system <b>1</b> as an example of the embodiment configured as described above will be explained with reference to sequence diagrams illustrated in <figref idref="DRAWINGS">FIGS. <b>6</b> and <b>7</b></figref>. <figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates the processing of steps S<b>1</b> to S<b>15</b>, and <figref idref="DRAWINGS">FIG. <b>7</b></figref> illustrates the processing of steps S<b>16</b> to S<b>24</b>.</p><p id="p-0164" num="0163">First, an environment is constructed in the file server <b>30</b> (step S<b>1</b>).</p><p id="p-0165" num="0164">Next, in the file server <b>30</b>, the system administrator inputs information to be registered in the environment master table <b>305</b> (step S<b>2</b>).</p><p id="p-0166" num="0165">In the file server <b>30</b>, the server scan processing unit <b>301</b> transmits a server device scan request to the standby server <b>10</b>, and starts acquisition of device information of the peripheral device <b>50</b> mounted on the standby server <b>10</b> (step S<b>3</b>). The server scan processing unit <b>301</b> transmits, to the standby server <b>10</b>, a transmission request of the device information table <b>231</b> in which the result of the device scan is reflected.</p><p id="p-0167" num="0166">In the standby server <b>10</b>, the device scan processing unit <b>203</b> starts collection of information (device information) on the peripheral device <b>50</b> mounted on the own server <b>10</b> in accordance with a device scan instruction issued from the server control unit <b>201</b> (step S<b>4</b>).</p><p id="p-0168" num="0167">In the standby server <b>10</b>, the device table management unit <b>202</b> registers the device information of the own server <b>10</b> collected by the device scan processing unit <b>203</b> in the device information table <b>231</b>. For example, the device table management unit <b>202</b> creates the device information table <b>231</b> (step S<b>5</b>).</p><p id="p-0169" num="0168">In the standby server <b>10</b>, the device scan processing unit <b>203</b> completes the collection of device information in the own server <b>10</b> (step S<b>6</b>). The device scan processing unit <b>203</b> notifies the file server <b>30</b> of the completion of the device scan.</p><p id="p-0170" num="0169">The server control unit <b>201</b> transmits the device information table <b>231</b> created by the device table management unit <b>202</b> to the file server <b>30</b>.</p><p id="p-0171" num="0170">In the file server <b>30</b>, the control unit <b>302</b> receives the device information table <b>231</b> from the standby server <b>10</b>, and completes the device scan of the standby server <b>10</b> (step S<b>7</b>).</p><p id="p-0172" num="0171">In the file server <b>30</b>, the table management unit <b>303</b> updates the environment master table <b>305</b> by using the received contents of the device information table <b>231</b> (step S<b>8</b>).</p><p id="p-0173" num="0172">In the file server <b>30</b>, the control unit <b>302</b> performs comparison for an item (FW version number) in the environment master table <b>305</b> (step S<b>9</b>).</p><p id="p-0174" num="0173">When the FW version numbers are different between the peripheral devices <b>50</b> of the same type a result of the comparison, the control unit <b>302</b> issues an FW update request for the peripheral device <b>50</b> to the standby server <b>10</b> (step S<b>10</b>). At this time, the control unit <b>302</b> transmits, to the standby server <b>10</b>, an FW update file for achieving FW update in the standby server <b>10</b>.</p><p id="p-0175" num="0174">When the FW version numbers are the same (have no difference), the control unit <b>302</b> determines that there is no deficiency in the consistency of the FW version numbers and does not issue the FW update request, and the processing proceeds to step S<b>16</b>.</p><p id="p-0176" num="0175">In the standby server <b>10</b> that has received the FW update request and the FW update file, FW update is performed by the server control unit <b>201</b> causing the firmware update execution unit <b>101</b> to execute the FW update file <b>307</b> (steps S<b>11</b> and S<b>12</b>).</p><p id="p-0177" num="0176">In the standby server <b>10</b>, the server control unit <b>201</b> issues a device scan instruction to the device scan processing unit <b>203</b>. The device scan processing unit <b>203</b> collects information (device information) of the peripheral device <b>50</b> mounted on the own server <b>10</b> in accordance with the device scan instruction (step S<b>13</b>).</p><p id="p-0178" num="0177">In the standby server <b>10</b>, the server control unit <b>201</b> causes the device table management unit <b>202</b> to register the device information collected by the device scan processing unit <b>203</b> in the device information table <b>231</b>. The device table management unit <b>202</b> registers the device information of the own server <b>10</b> collected by the device scan processing unit <b>203</b> in the device information table <b>231</b>.</p><p id="p-0179" num="0178">The server control unit <b>201</b> provides the device information table <b>231</b> to the file server <b>30</b> (step S<b>14</b>).</p><p id="p-0180" num="0179">In the file server <b>30</b>, the control unit <b>302</b> receives the notification of FW update completion and the device information table <b>231</b> transmitted from the standby server <b>10</b>, and processes the completion of the FW update of the standby server <b>10</b> (step S<b>15</b>). For example, the control unit <b>302</b> causes the table management unit <b>303</b> to update the FW version number of the peripheral device <b>50</b> corresponding to the standby server <b>10</b> in the environment master table <b>305</b> to a value after the FW update (step S<b>16</b>).</p><p id="p-0181" num="0180">The control unit <b>302</b> causes the table management unit <b>303</b> to set &#x201c;YES&#x201d; as the coupling availability flag of the standby server <b>10</b> in the environment master table <b>305</b>. Accordingly, the standby server <b>10</b> is thereafter treated as being capable of coupling.</p><p id="p-0182" num="0181">After that, in the computer system <b>1</b>, a task using the file server <b>30</b> and the active server <b>10</b> is started, and the task operation is performed. After that, the task ends.</p><p id="p-0183" num="0182">When any abnormality is detected in the active server <b>10</b>, the server control unit <b>201</b> of the active server <b>10</b> ends coupling between the own server <b>10</b> and the file server <b>30</b> (ends server coupling). At this time, the server control unit <b>201</b> notifies the file server <b>30</b> of a switching request for setting the standby server <b>10</b> as the new active server <b>10</b> (step S<b>18</b>).</p><p id="p-0184" num="0183">In the file server <b>30</b>, the control unit <b>302</b> detects the end of coupling of the active server <b>10</b>. The control unit <b>302</b> finds the standby server <b>10</b> that is capable of switching as the new active server <b>10</b> by referring to the environment master table <b>305</b> (step S<b>19</b>).</p><p id="p-0185" num="0184">The control unit <b>302</b> determines, as the new active server <b>10</b>, the standby server <b>10</b> for which &#x201c;YES&#x201d; is set as the coupling availability flag among the plurality of standby servers <b>10</b> in the environment master table <b>305</b>.</p><p id="p-0186" num="0185">In the file server <b>30</b>, the control unit <b>302</b> issues a booting instruction to the standby server <b>10</b> set as the new active server <b>10</b> (step S<b>20</b>).</p><p id="p-0187" num="0186">In the standby server <b>10</b> that has received the booting instruction, the CPU <b>11</b> executes the BIOS to start booting processing (step S<b>21</b>). After that, the standby server <b>10</b> is coupled to the OS logical drive via the network and performs network booting processing (step S<b>22</b>). After that, when the OS booting is completed in the standby server <b>10</b> (step S<b>23</b>), the server control unit <b>201</b> of the standby server <b>10</b> notifies the file server <b>30</b> of the completion of the OS booting.</p><p id="p-0188" num="0187">In the file server <b>30</b>, the control unit <b>302</b> causes the table management unit <b>303</b> to reflect the switching of the active server <b>10</b> in the environment master table <b>305</b>. For example, in the environment master table <b>305</b>, &#x201c;ACT&#x201d; is set as the operation flag for the server <b>10</b> that newly becomes the active server <b>10</b>. &#x201c;STB&#x201d; is set as the operation flag for the server <b>10</b> that had previously been the active server <b>10</b>. After that, the processing ends.</p><p id="p-0189" num="0188">Next, details of processing in the computer system <b>1</b> as an example of the embodiment will be explained with reference to the flowcharts illustrated in <figref idref="DRAWINGS">FIGS. <b>8</b>, <b>9</b>, <b>11</b>, <b>13</b>, <b>15</b>, <b>17</b>, <b>19</b>, <b>20</b>, and <b>23</b></figref> while referring to <figref idref="DRAWINGS">FIGS. <b>10</b>, <b>12</b>, <b>14</b>, <b>16</b>, <b>18</b>, <b>21</b>, and <b>22</b></figref>.</p><p id="p-0190" num="0189"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart (steps A<b>1</b> to A<b>8</b>) illustrating a method of creating the environment master table <b>305</b>.</p><p id="p-0191" num="0190">In <figref idref="DRAWINGS">FIG. <b>8</b></figref>, steps A<b>1</b> to A<b>4</b> and A<b>8</b> indicate processing of the control unit <b>302</b> of the file server <b>30</b>, and steps A<b>5</b> to A<b>7</b> indicate processing of the table management unit <b>303</b> of the file server <b>30</b>.</p><p id="p-0192" num="0191">In step A<b>1</b>, the control unit <b>302</b> instructs the system administrator to register data in the environment master table <b>305</b>.</p><p id="p-0193" num="0192">In step A<b>2</b>, the control unit <b>302</b> receives data to be registered in the environment master table <b>305</b>.</p><p id="p-0194" num="0193">In step A<b>3</b>, the control unit <b>302</b> instructs the table management unit <b>303</b> to register the received data in the environment master table <b>305</b>.</p><p id="p-0195" num="0194">In step A<b>4</b>, the control unit <b>302</b> confirms whether the registration in the environment master table <b>305</b> by the table management unit <b>303</b> is completed. When the registration in the environment master table <b>305</b> is not completed (see NO route in step A<b>4</b>), the processing of step A<b>4</b> is repeated, and the control unit <b>302</b> waits until the registration in the environment master table <b>305</b> is completed.</p><p id="p-0196" num="0195">In step A<b>5</b>, the table management unit <b>303</b> accepts the instruction to register the data in the environment master table <b>305</b> from the control unit <b>302</b>, and in step A<b>6</b>, registers the data in the environment master table <b>305</b>.</p><p id="p-0197" num="0196">For the environment master table <b>305</b> in a state where data is input by the system administrator, refer to <figref idref="DRAWINGS">FIG. <b>4</b></figref>.</p><p id="p-0198" num="0197">In step A<b>7</b>, the table management unit <b>303</b> notifies the control unit <b>302</b> that the registration of data in the environment master table <b>305</b> is completed.</p><p id="p-0199" num="0198">When the registration in the environment master table <b>305</b> is completed as a result of the confirmation in step A<b>4</b> (see YES route in step A<b>4</b>), the processing proceeds to step A<b>8</b>.</p><p id="p-0200" num="0199">In step A<b>8</b>, the control unit <b>302</b> notifies the system administrator that the registration in the environment master table <b>305</b> is completed.</p><p id="p-0201" num="0200">After that, the processing proceeds to step B<b>1</b> in <figref idref="DRAWINGS">FIG. <b>9</b></figref>.</p><p id="p-0202" num="0201">Preferably, the control unit <b>302</b> creates the FW update file table <b>306</b> (see <figref idref="DRAWINGS">FIG. <b>5</b></figref>) in parallel with the creation and registration of the environment master table <b>305</b>.</p><p id="p-0203" num="0202"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart (steps B<b>1</b> to B<b>10</b>) for explaining update processing of the environment master table <b>305</b>.</p><p id="p-0204" num="0203">In <figref idref="DRAWINGS">FIG. <b>9</b></figref>, steps B<b>1</b> and B<b>5</b> to B<b>7</b> indicate processing of the control unit <b>302</b> of the file server <b>30</b>, and steps B<b>8</b> to B<b>10</b> indicate processing of the table management unit <b>303</b> of the file server <b>30</b>. Steps B<b>2</b> to B<b>4</b> indicate processing of the server scan processing unit <b>301</b> of the file server <b>30</b>.</p><p id="p-0205" num="0204">In the file server <b>30</b>, the control unit <b>302</b> gives a server device scan instruction of causing the server scan processing unit <b>301</b> to issue a server device scan request to each server <b>10</b> (step B<b>1</b>).</p><p id="p-0206" num="0205">The control unit <b>302</b> confirms whether the device scan is completed in each server <b>10</b> (step B<b>5</b>). When the device scan is not completed in all the servers <b>10</b> (see NO route in step B<b>5</b>), the control unit <b>302</b> repeatedly performs step B<b>5</b> and waits until the device scan is completed in all the servers <b>10</b>.</p><p id="p-0207" num="0206">In the file server <b>30</b>, the server scan processing unit <b>301</b> transmits, to each server <b>10</b> coupled to the file server <b>30</b>, a notification (server device scan request) for requesting transmission of device information of the peripheral device <b>50</b> mounted on each server <b>10</b> (step B<b>2</b>). Details of device scan processing in each server <b>10</b> will be described later with reference to <figref idref="DRAWINGS">FIG. <b>11</b></figref>.</p><p id="p-0208" num="0207">The server scan processing unit <b>301</b> confirms whether the device scan is completed in each server <b>10</b> (step B<b>3</b>). For example, when the device information tables <b>231</b> are transmitted from all the servers <b>10</b> as a response to the device scan request, the server scan processing unit <b>301</b> determines that the device scan is completed in all the servers <b>10</b>.</p><p id="p-0209" num="0208">When the device scan is not completed in all the servers <b>10</b> (see NO route in step B<b>3</b>), step B<b>3</b> is repeatedly performed. When the device scan is completed in all the servers <b>10</b> (see YES route in step B<b>3</b>), the processing proceeds to step B<b>4</b>.</p><p id="p-0210" num="0209">The server scan processing unit <b>301</b> transmits (provides), to the control unit <b>302</b>, the device information table <b>231</b> provided from each server <b>10</b> (step B<b>4</b>). The server scan processing unit <b>301</b> may transmit, to the control unit <b>302</b>, a server device scan response indicating that the device scan is completed in all the servers <b>10</b>.</p><p id="p-0211" num="0210">When the device information tables <b>231</b> of all the servers <b>10</b> are transmitted from the server scan processing unit <b>301</b>, the control unit <b>302</b> determines that the device scan is completed in all the servers <b>10</b> (see YES route in step B<b>5</b>).</p><p id="p-0212" num="0211">The control unit <b>302</b> transmits the device information table <b>231</b> of each server <b>10</b> to the table management unit <b>303</b>, and instructs to update the environment master table <b>305</b> (step B<b>6</b>).</p><p id="p-0213" num="0212">For each server <b>10</b>, the control unit <b>302</b> confirms whether the update of the environment master table <b>305</b> is completed (step B<b>7</b>). When the update of the environment master table <b>305</b> is not completed for all the servers <b>10</b> (see NO route in step B<b>7</b>), the control unit <b>302</b> repeatedly performs step B<b>7</b> and waits until the update of the environment master table <b>305</b> is completed for all the servers <b>10</b>.</p><p id="p-0214" num="0213">The table management unit <b>303</b> accepts the update of the environment master table <b>305</b> (step B<b>8</b>), and updates the environment master table <b>305</b> by registering the contents of the device information table <b>231</b> received from each server <b>10</b> in the environment master table <b>305</b> (step B<b>9</b>).</p><p id="p-0215" num="0214"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a diagram exemplifying the updated environment master table <b>305</b>.</p><p id="p-0216" num="0215">The environment master table <b>305</b> exemplified in <figref idref="DRAWINGS">FIG. <b>10</b></figref> indicates a state after being updated by reflecting, for the server <b>10</b> with the shared server address of &#x201c;192.10.10.11&#x201d;, the contents of the device information table <b>231</b> received from the server <b>10</b>.</p><p id="p-0217" num="0216">The table management unit <b>303</b> notifies the control unit <b>302</b> that the update of the environment master table <b>305</b> is completed (step B<b>10</b>).</p><p id="p-0218" num="0217">When the notification indicating that the update of the environment master table <b>305</b> is completed is transmitted from the table management unit <b>303</b>, the control unit <b>302</b> determines that the update of the environment master table <b>305</b> is completed (see YES route in step B<b>7</b>). After that, the processing proceeds to step D<b>1</b> in <figref idref="DRAWINGS">FIG. <b>13</b></figref>. Explanation of processing by the control unit <b>302</b> and the table management unit <b>303</b> of the file server <b>30</b> with reference to <figref idref="DRAWINGS">FIG. <b>13</b></figref> will be given later.</p><p id="p-0219" num="0218">Next, device scan processing and update processing of the device information table <b>231</b> in each server <b>10</b> will be explained with reference to a flowchart (steps C<b>1</b> to C<b>12</b>) illustrated in <figref idref="DRAWINGS">FIG. <b>11</b></figref>.</p><p id="p-0220" num="0219">In <figref idref="DRAWINGS">FIG. <b>11</b></figref>, steps C<b>1</b> to C<b>3</b>, C<b>7</b>, C<b>8</b>, and C<b>12</b> indicate processing of the server control unit <b>201</b> of the server <b>10</b>, and steps C<b>9</b> to C<b>11</b> indicate processing of the device table management unit <b>202</b> of the server <b>10</b>. Steps C<b>4</b> to C<b>6</b> indicate processing of the device scan processing unit <b>203</b> of the server <b>10</b>.</p><p id="p-0221" num="0220">The processing is started by the server scan processing unit <b>301</b> of the file server <b>30</b> transmitting a server device scan request to the server control unit <b>201</b> of each server <b>10</b> in step B<b>2</b> of the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>9</b></figref>.</p><p id="p-0222" num="0221">The server control unit <b>201</b> receives the server device scan request from the file server <b>30</b> (step C<b>1</b>), and transmits a device scan instruction to each server <b>10</b> (step C<b>2</b>).</p><p id="p-0223" num="0222">The server control unit <b>201</b> confirms whether the device scan by the device scan processing unit <b>203</b> is completed (step C<b>3</b>). When the device scan is not completed (see NO route in step C<b>3</b>), the server control unit <b>201</b> repeatedly performs step C<b>3</b> and waits until the device scan is completed.</p><p id="p-0224" num="0223">The device scan processing unit <b>203</b> receives the device scan instruction from the server control unit <b>201</b> (step C<b>4</b>), and performs the device scan on the peripheral device <b>50</b> included in the own server <b>10</b> (step C<b>5</b>). When the device scan is completed, the device scan processing unit <b>203</b> provides the collected device information to the server control unit <b>201</b> (step C<b>6</b>).</p><p id="p-0225" num="0224">When the device scan in the device scan processing unit <b>203</b> is completed and the device information is provided (see YES route in step C<b>3</b>), the server control unit <b>201</b> transmits an instruction to update the device information table <b>231</b> to the device table management unit <b>202</b> (step C<b>7</b>).</p><p id="p-0226" num="0225">The server control unit <b>201</b> confirms whether the update of the device information table <b>231</b> by the device table management unit <b>202</b> is completed (step C<b>8</b>). When the update of the device information table <b>231</b> is not completed (see NO route in step C<b>8</b>), the server control unit <b>201</b> repeatedly performs step C<b>8</b> and waits until the update of the device information table <b>231</b> is completed.</p><p id="p-0227" num="0226">When receiving the instruction to update the device information table <b>231</b> from the server control unit <b>201</b> (step C<b>9</b>), the device table management unit <b>202</b> updates the device information table <b>231</b> by using the device information collected by the device scan processing unit <b>203</b> (step C<b>10</b>).</p><p id="p-0228" num="0227"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a diagram exemplifying the updated device information table <b>231</b>.</p><p id="p-0229" num="0228">The device information table <b>231</b> exemplified in the diagram indicates the device information table <b>231</b> for a LAN interface obtained after device scan is performed by the device scan processing unit <b>203</b> in the server #2.</p><p id="p-0230" num="0229">The device table management unit <b>202</b> notifies (responds to) the server control unit <b>201</b> that the update of the device information table <b>231</b> is completed (step C<b>11</b>).</p><p id="p-0231" num="0230">When the update of the device information table <b>231</b> by the device table management unit <b>202</b> is completed (see YES route in step C<b>8</b>), the server control unit <b>201</b> transmits the updated device information table <b>231</b> to the server scan processing unit <b>301</b> of the file server <b>30</b> (step C<b>12</b>). After that, the processing proceeds to step B<b>3</b> in <figref idref="DRAWINGS">FIG. <b>9</b></figref>.</p><p id="p-0232" num="0231">Next, processing by the control unit <b>302</b> and the table management unit <b>303</b> of the file server <b>30</b> in the computer system <b>1</b> will be explained with reference to a flowchart (steps D<b>1</b> to D<b>16</b>) illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>.</p><p id="p-0233" num="0232">In <figref idref="DRAWINGS">FIG. <b>13</b></figref>, steps D<b>1</b>, D<b>2</b>, and D<b>6</b> to D<b>16</b> indicate processing of the control unit <b>302</b> of the file server <b>30</b>, and steps D<b>3</b> to D<b>5</b> indicate processing of the table management unit <b>303</b> of the file server <b>30</b>.</p><p id="p-0234" num="0233">The processing is started when it is determined in step B<b>7</b> illustrated in <figref idref="DRAWINGS">FIG. <b>9</b></figref> that the update of the environment master table <b>305</b> is completed (see YES route).</p><p id="p-0235" num="0234">The control unit <b>302</b> of the file server <b>30</b> instructs the table management unit <b>303</b> to provide the environment master table <b>305</b> (step D<b>1</b>).</p><p id="p-0236" num="0235">The control unit <b>302</b> confirms whether the environment master table <b>305</b> is provided from the table management unit <b>303</b> (step D<b>2</b>). When the environment master table <b>305</b> is not provided from the table management unit <b>303</b> (see NO route in step D<b>2</b>), the control unit <b>302</b> repeatedly performs step D<b>2</b> and waits until the environment master table <b>305</b> is provided from the table management unit <b>303</b>.</p><p id="p-0237" num="0236">When receiving the instruction to provide the environment master table <b>305</b> (step D<b>3</b>), the table management unit <b>303</b> reads the environment master table <b>305</b> from the storage device <b>33</b> (step D<b>4</b>), and provides the read environment master table <b>305</b> to the control unit <b>302</b> (step D<b>5</b>).</p><p id="p-0238" num="0237">When the environment master table <b>305</b> is provided from the table management unit <b>303</b> (see YES route in step D<b>2</b>), the control unit <b>302</b> compares the FW version numbers of the mounted peripheral devices <b>50</b> of the same type among the servers <b>10</b> registered in the environment master table <b>305</b> (step D<b>6</b>).</p><p id="p-0239" num="0238"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a diagram exemplifying the environment master table <b>305</b>.</p><p id="p-0240" num="0239">In <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the environment master table <b>305</b> indicated by reference sign A indicates an example in which there is a difference in FW version number between the peripheral devices <b>50</b> of the same type. For example, the FW version number of the LAN interface mounted on the server <b>10</b> with the server address of &#x201c;192.10.10.10&#x201d; is &#x201c;B&#x201d;, while the FW version number of the LAN interface mounted on the server <b>10</b> with the server address of &#x201c;192.10.10.11&#x201d; is &#x201c;A&#x201d;, and the numbers are not the same.</p><p id="p-0241" num="0240">By contrast, the environment master table <b>305</b> indicated by reference sign B indicates an example in which there is no difference in FW version number between the peripheral devices <b>50</b> of the same type.</p><p id="p-0242" num="0241">By referring to the environment master table <b>305</b>, the control unit <b>302</b> confirms whether there is a difference in FW version number between the peripheral devices <b>50</b> of the same type (step D<b>7</b>). When there is a difference in FW version number as a result of the confirmation (see YES route in step D<b>7</b>), the control unit <b>302</b> prepares the FW update file <b>307</b> for resolving the difference (step D<b>11</b>).</p><p id="p-0243" num="0242">For example, the control unit <b>302</b> refers to the FW update file table <b>306</b>, and specifies and acquires the FW update file <b>307</b> for updating (upgrading) the FW to be updated to the update target FW.</p><p id="p-0244" num="0243">The control unit <b>302</b> transmits the FW update file <b>307</b> to the server <b>10</b> to be updated and makes an FW update request (step D<b>12</b>). Details of FW update processing in the server <b>10</b> to be updated will be described later with reference to a flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>17</b></figref>.</p><p id="p-0245" num="0244">The control unit <b>302</b> may notify the system administrator that the FW update of the server <b>10</b> to be updated is performed.</p><p id="p-0246" num="0245">The control unit <b>302</b> confirms whether the FW update in the server <b>10</b> to be updated is completed (step D<b>13</b>). When the FW update is not completed in the server <b>10</b> to be updated (see NO route in step D<b>13</b>), the control unit <b>302</b> repeatedly performs step D<b>13</b> and waits until the FW update is completed in the server <b>10</b> to be updated.</p><p id="p-0247" num="0246">For example, when a normal/abnormal end flag for the FW update and the device information table <b>231</b> are provided from the server <b>10</b> to be updated, the control unit <b>302</b> determines that the FW update in the server <b>10</b> to be updated is completed.</p><p id="p-0248" num="0247">When the FW update is completed in the server <b>10</b> to be updated (see YES route in step D<b>13</b>), the control unit <b>302</b> confirms whether the FW update has normally ended (step D<b>14</b>).</p><p id="p-0249" num="0248">When the FW update in the server <b>10</b> has not normally ended (see NO route in step D<b>14</b>), the control unit <b>302</b> notifies the system administrator that the FW update has failed (step D<b>15</b>). The control unit <b>302</b> recognizes the server <b>10</b> for which FW update has failed as being incapable of system switching (step D<b>16</b>), and the processing proceeds to step D<b>9</b>.</p><p id="p-0250" num="0249">In step D<b>9</b>, the control unit <b>302</b> causes the table management unit <b>303</b> to set, as the coupling availability flag in the environment master table <b>305</b>, a value &#x201c;NO&#x201d; indicating that the server <b>10</b> may not be used as the system switching server. An instruction given to the table management unit <b>303</b> to update the environment master table <b>305</b> is accompanied by the device information table <b>231</b> together with a value to be set as the coupling availability flag.</p><p id="p-0251" num="0250">The control unit <b>302</b> confirms whether the update of the environment master table <b>305</b> is completed (step D<b>10</b>). When the update of the environment master table <b>305</b> is not completed (see NO route in step D<b>10</b>), the control unit <b>302</b> repeatedly performs step D<b>10</b> and waits until the update of the environment master table <b>305</b> is completed.</p><p id="p-0252" num="0251">When the update of the environment master table <b>305</b> is completed (see YES route in step D<b>10</b>), the processing ends.</p><p id="p-0253" num="0252">On the other hand, when the FW update in the server <b>10</b> has normally ended as a result of the confirmation in step D<b>14</b> (see YES route in step D<b>14</b>), the control unit <b>302</b> recognizes the server <b>10</b> for which FW update has normally ended as being capable of system switching (step D<b>8</b>). After that, the processing proceeds to step D<b>9</b>, and the control unit <b>302</b> causes the table management unit <b>303</b> to set, as the coupling availability flag in the environment master table <b>305</b>, a value &#x201c;YES&#x201d; indicating that the server <b>10</b> may be used as the system switching server.</p><p id="p-0254" num="0253">Update processing of the environment master table <b>305</b> by the table management unit <b>303</b> in the file server <b>30</b> will be explained with reference to a flowchart (steps E<b>1</b> to E<b>3</b>) illustrated in <figref idref="DRAWINGS">FIG. <b>15</b></figref>.</p><p id="p-0255" num="0254">The processing is started by the control unit <b>302</b> of the file server <b>30</b> instructing the table management unit <b>303</b> to update the environment master table <b>305</b> in step D<b>9</b> of the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>.</p><p id="p-0256" num="0255">In step E<b>1</b>, the table management unit <b>303</b> receives the instruction to update the environment master table <b>305</b>.</p><p id="p-0257" num="0256">In step E<b>2</b>, the table management unit <b>303</b> sets, as the coupling availability flag in the environment master table <b>305</b>, a value corresponding to a system switching availability information flag notified from the control unit <b>302</b>.</p><p id="p-0258" num="0257"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a diagram exemplifying the updated environment master table <b>305</b>.</p><p id="p-0259" num="0258">In <figref idref="DRAWINGS">FIG. <b>16</b></figref>, reference sign A indicates the environment master table <b>305</b> in which &#x201c;NO&#x201d; is set as the coupling availability flag (see reference sign P<b>01</b>), and reference sign B indicates the environment master table <b>305</b> in which &#x201c;YES&#x201d; is set as the coupling availability flag (see reference sign P<b>02</b>).</p><p id="p-0260" num="0259">In step E<b>3</b>, the table management unit <b>303</b> notifies (responds to) the control unit <b>302</b> that the update of the environment master table <b>305</b> is completed. After that, the processing proceeds to step D<b>10</b> in <figref idref="DRAWINGS">FIG. <b>13</b></figref>.</p><p id="p-0261" num="0260">Next, FW update processing in the server <b>10</b> will be explained with reference to a flowchart (steps F<b>1</b> to F<b>17</b>) illustrated in <figref idref="DRAWINGS">FIG. <b>17</b></figref>.</p><p id="p-0262" num="0261">In <figref idref="DRAWINGS">FIG. <b>17</b></figref>, steps F<b>1</b> to F<b>7</b>, F<b>8</b>, F<b>12</b>, F<b>13</b>, and F<b>17</b> indicate processing of the server control unit <b>201</b> of the server <b>10</b>, steps F<b>9</b> to F<b>11</b> indicate processing of the device scan processing unit <b>203</b> of the server <b>10</b>, and steps F<b>14</b> to F<b>16</b> indicate processing of the device table management unit <b>202</b> of the server <b>10</b>.</p><p id="p-0263" num="0262">The processing is started by the control unit <b>302</b> of the file server <b>30</b> instructing the table management unit <b>303</b> to update the environment master table <b>305</b> in step D<b>12</b> of the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>.</p><p id="p-0264" num="0263">The server control unit <b>201</b> receives an instruction of FW update together with an FW update file from the control unit <b>302</b> of the file server <b>30</b> (step F<b>1</b>).</p><p id="p-0265" num="0264">The server control unit <b>201</b> confirms whether the OS is being activated in the own server <b>10</b> (step F<b>2</b>). The BMC <b>20</b> may be continuously activated.</p><p id="p-0266" num="0265">When the OS is being activated (see YES route in step F<b>2</b>), the server control unit <b>201</b> executes shutdown of the own server <b>10</b> (step F<b>3</b>).</p><p id="p-0267" num="0266">The server control unit <b>201</b> provides the FW update file to the firmware update execution unit <b>101</b>, and instructs the firmware update execution unit <b>101</b> to update the FW (step F<b>4</b>).</p><p id="p-0268" num="0267">The server control unit <b>201</b> confirms whether the FW update by the firmware update execution unit <b>101</b> is completed (step F<b>5</b>). When the FW update is not completed, the server control unit <b>201</b> repeatedly performs step F<b>5</b> and waits until the FW update is completed.</p><p id="p-0269" num="0268">When the firmware update execution unit <b>101</b> sets a normal/abnormal end flag in a predetermined storage area of the memory <b>12</b> or the like, the server control unit <b>201</b> determines that the FW update is completed (see YES route in step F<b>5</b>).</p><p id="p-0270" num="0269">By referring to the value of the normal/abnormal end flag set by the firmware update execution unit <b>101</b>, the server control unit <b>201</b> confirms whether the FW update by the firmware update execution unit <b>101</b> has normally ended (step F<b>6</b>). When the FW update has not normally ended (see NO route in step F<b>6</b>), the processing proceeds to step F<b>17</b>.</p><p id="p-0271" num="0270">The server control unit <b>201</b> notifies the control unit <b>302</b> of the file server <b>30</b> of an abnormal end flag for the FW update (step F<b>17</b>). After that, the processing proceeds to step D<b>13</b> of the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>.</p><p id="p-0272" num="0271">On the other hand, when the FW update has normally ended (see YES route in step F<b>6</b>), the processing proceeds to step F<b>7</b>.</p><p id="p-0273" num="0272">In step F<b>7</b>, the server control unit <b>201</b> instructs the device scan processing unit <b>203</b> of the own server <b>10</b> to perform device scan. The server control unit <b>201</b> confirms whether the device scan by the device scan processing unit <b>203</b> is completed (step F<b>8</b>). When the device scan is not completed (see NO route in step F<b>8</b>), the server control unit <b>201</b> repeatedly performs step F<b>8</b> and waits until the device scan is completed.</p><p id="p-0274" num="0273">The device scan processing unit <b>203</b> receives the device scan instruction from the server control unit <b>201</b> (step F<b>9</b>), and performs the device scan (step F<b>10</b>). The device scan processing unit <b>203</b> provides the device information obtained by the device scan to the server control unit <b>201</b> (step F<b>11</b>).</p><p id="p-0275" num="0274">When the device scan by the device scan processing unit <b>203</b> is completed (see YES route in step F<b>8</b>), the server control unit <b>201</b> instructs the device table management unit <b>202</b> of the own server <b>10</b> to update the device information table <b>231</b> (step F<b>12</b>).</p><p id="p-0276" num="0275">The server control unit <b>201</b> confirms whether the update of the device information table <b>231</b> is completed (step F<b>13</b>). When the update of the device information table <b>231</b> is not completed (see NO route in step F<b>13</b>), the server control unit <b>201</b> repeatedly performs step F<b>13</b> and waits until the update of the device information table <b>231</b> is completed.</p><p id="p-0277" num="0276">When receiving the instruction to update the device information table <b>231</b> (step F<b>14</b>), the device table management unit <b>202</b> updates the device information table <b>231</b> by using the device information acquired by the device scan processing unit <b>203</b> (step F<b>15</b>).</p><p id="p-0278" num="0277"><figref idref="DRAWINGS">FIG. <b>18</b></figref> is a diagram exemplifying the device information table <b>231</b> updated along with an FW update.</p><p id="p-0279" num="0278">In the device information table <b>231</b> exemplified in <figref idref="DRAWINGS">FIG. <b>18</b></figref>, FW version number is updated from A to B.</p><p id="p-0280" num="0279">The device table management unit <b>202</b> notifies (responds to) the server control unit <b>201</b> that the update of the device information table <b>231</b> is completed (step F<b>16</b>).</p><p id="p-0281" num="0280">When the update of the device information table <b>231</b> is completed (see YES route in step F<b>13</b>), the server control unit <b>201</b> transmits the updated device information table <b>231</b> to the control unit <b>302</b> of the file server <b>30</b> (step F<b>17</b>). The server control unit <b>201</b> may transmit a normal/abnormal end flag for the FW update together with the device information table <b>231</b>. After that, the processing proceeds to step D<b>13</b> of the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>.</p><p id="p-0282" num="0281">Next, FW update processing by the firmware update execution unit <b>101</b> will be explained with reference to a flowchart (steps G<b>1</b> to G<b>6</b>) illustrated in <figref idref="DRAWINGS">FIG. <b>19</b></figref>.</p><p id="p-0283" num="0282">The processing is started by the server control unit <b>201</b> giving an instruction of FW update to the firmware update execution unit <b>101</b> in step F<b>4</b> of the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>17</b></figref>.</p><p id="p-0284" num="0283">The server control unit <b>201</b> provides an FW update file to the firmware update execution unit <b>101</b>, and instructs the firmware update execution unit <b>101</b> to perform FW update.</p><p id="p-0285" num="0284">A simple OS having a minimum function for updating firmware in the server <b>10</b> is included in the FW update file executed by the firmware update execution unit <b>101</b>. The firmware update execution unit <b>101</b> activates the own server <b>10</b> by using the simple OS (step G<b>1</b>). After that, the FW is automatically updated (step G<b>2</b>).</p><p id="p-0286" num="0285">The firmware update execution unit <b>101</b> confirms whether the FW update has normally ended (step G<b>3</b>). When the FW update has normally ended (see YES route in step G<b>3</b>), the firmware update execution unit <b>101</b> sets a normal end flag (step G<b>5</b>). On the other hand, when the FW update has not normally ended (see NO route in step G<b>3</b>), the firmware update execution unit <b>101</b> sets an abnormal end flag (step G<b>4</b>).</p><p id="p-0287" num="0286">The firmware update execution unit <b>101</b> makes an FW update completion response accompanied by the normal/abnormal end flag to the server control unit <b>201</b> (step G<b>6</b>). After that, the processing proceeds to step F<b>5</b> in <figref idref="DRAWINGS">FIG. <b>17</b></figref>.</p><p id="p-0288" num="0287">Next, processing of the active server <b>10</b> as a switching source and processing of the file server <b>30</b> at the time of switching (system switching) of the active server <b>10</b> will be explained with reference to a flowchart (steps H<b>1</b> to H<b>21</b>) illustrated in <figref idref="DRAWINGS">FIG. <b>20</b></figref>.</p><p id="p-0289" num="0288">In <figref idref="DRAWINGS">FIG. <b>20</b></figref>, steps H<b>1</b> to H<b>2</b>, H<b>20</b>, and H<b>21</b> indicate processing of the server control unit <b>201</b> of the active server <b>10</b>. Steps H<b>3</b> to H<b>5</b>, H<b>9</b> to H<b>15</b>, and H<b>19</b> indicate processing of the control unit <b>302</b> of the file server <b>30</b>, and steps H<b>6</b> to H<b>8</b> and H<b>16</b> to H<b>18</b> indicate processing of the table management unit <b>303</b> of the file server <b>30</b>.</p><p id="p-0290" num="0289">In the active server <b>10</b>, the server control unit <b>201</b> transmits a system switching request to the control unit <b>302</b> of the file server <b>30</b> (step H<b>1</b>).</p><p id="p-0291" num="0290">The server control unit <b>201</b> confirms whether a response to the system switching request is input from the file server <b>30</b>. When there is no answer (response) to the system switching request (see NO route in step H<b>2</b>), the server control unit <b>201</b> repeatedly performs the processing of step H<b>2</b> and waits until an answer to the system switching request is made from the control unit <b>302</b> of the file server <b>30</b>.</p><p id="p-0292" num="0291">In the file server <b>30</b>, the control unit <b>302</b> receives the system switching request from the active server <b>10</b> (step H<b>3</b>), and requests (instructs) the table management unit <b>303</b> to provide the environment master table <b>305</b> (step H<b>4</b>). The control unit <b>302</b> confirms whether the environment master table <b>305</b> is provided from the table management unit <b>303</b> (step H<b>5</b>).</p><p id="p-0293" num="0292">When the environment master table <b>305</b> is not provided from the table management unit <b>303</b> (see NO route in step H<b>5</b>), the control unit <b>302</b> repeatedly performs step H<b>5</b> and waits until the environment master table <b>305</b> is provided from the table management unit <b>303</b>.</p><p id="p-0294" num="0293">The table management unit <b>303</b> receives the instruction to provide the environment master table <b>305</b> (step H<b>6</b>), and reads the environment master table <b>305</b> from the storage device <b>33</b> (step H<b>7</b>). The table management unit <b>303</b> provides the read environment master table <b>305</b> to the control unit <b>302</b> (step H<b>8</b>).</p><p id="p-0295" num="0294">When the environment master table <b>305</b> is provided from the table management unit <b>303</b> (see YES route in step H<b>5</b>), the control unit <b>302</b> refers to the environment master table <b>305</b> and confirms whether there is the server <b>10</b> capable of switching (step H<b>9</b>). For example, the control unit <b>302</b> confirms whether there is the server <b>10</b> for which &#x201c;YES&#x201d; is set as the coupling availability flag in the environment master table <b>305</b>.</p><p id="p-0296" num="0295"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is a diagram exemplifying the updated environment master table <b>305</b>.</p><p id="p-0297" num="0296">In <figref idref="DRAWINGS">FIG. <b>21</b></figref>, reference sign A indicates the environment master table <b>305</b> in which &#x201c;NO&#x201d; is set as the coupling availability flag (see reference sign P<b>01</b>), and reference sign B indicates the environment master table <b>305</b> in which &#x201c;YES&#x201d; is set as the coupling availability flag (see reference sign P<b>02</b>).</p><p id="p-0298" num="0297">The server <b>10</b> for which &#x201c;YES&#x201d; is set as the coupling availability flag in the environment master table <b>305</b> may be referred to as the server <b>10</b> capable of switching.</p><p id="p-0299" num="0298">When there is no server <b>10</b> capable of switching (see NO route in step H<b>9</b>), the control unit <b>302</b> notifies the system administrator that the system switching may not be performed (step H<b>10</b>). For example, a message indicating that the system switching may not be performed may be displayed on a display (not illustrated) as the notification.</p><p id="p-0300" num="0299">After that, the control unit <b>302</b> notifies the server control unit <b>201</b> of the active server <b>10</b> that the system switching may not be performed (step H<b>19</b>).</p><p id="p-0301" num="0300">When receiving an answer indicating that the system switching may or may not be performed (see YES route in step H<b>2</b>), the server control unit <b>201</b> of the active server <b>10</b> confirms whether the answer indicates that the system switching may be performed (step H<b>20</b>).</p><p id="p-0302" num="0301">When the system switching may not be performed (see NO route in step H<b>20</b>), the server control unit <b>201</b> notifies the system administrator that the system switching may not be performed (step H<b>21</b>). The server control unit <b>201</b> may give an advance notice of task suspension to the system administrator.</p><p id="p-0303" num="0302">Instead of causing task suspension in step H<b>21</b>, the server control unit <b>201</b> of the active server <b>10</b> may return to step H<b>1</b> and transmit the system switching request to the file server <b>30</b> in order to cause another standby server <b>10</b> to be the switching server. After that, the processing ends as the task may not be taken over.</p><p id="p-0304" num="0303">When there is the server <b>10</b> capable of switching as a result of the confirmation in step H<b>9</b> (see YES route in step H<b>9</b>), the control unit <b>302</b> transmits a booting request to the server <b>10</b> capable of switching (step H<b>11</b>). In a case where a plurality of servers <b>10</b> capable of switching are registered in the environment master table <b>305</b>, the control unit <b>302</b> selects one server <b>10</b> capable of switching from among the plurality of servers <b>10</b> capable of switching, and transmits the booting request to the selected server <b>10</b> capable of switching. For example, the server <b>10</b> capable of switching may be randomly selected from among the plurality of servers <b>10</b> capable of switching, or may be selected in accordance with a predetermined priority order defined in advance.</p><p id="p-0305" num="0304">The control unit <b>302</b> confirms whether the booting of the server <b>10</b> capable of switching is completed (step H<b>12</b>). When the booting of the server <b>10</b> capable of switching is not completed (see NO route in step H<b>12</b>), the control unit <b>302</b> repeatedly performs step H<b>12</b> and waits until the booting of the server <b>10</b> capable of switching is completed.</p><p id="p-0306" num="0305">When completion of the booting is notified from the server <b>10</b> capable of switching (see YES route in step H<b>12</b>), the control unit <b>302</b> notifies the system administrator that the system switching may be performed (step H<b>13</b>). For example, a message indicating that the system switching may be performed may be displayed on a display (not illustrated) as the notification.</p><p id="p-0307" num="0306">After that, the control unit <b>302</b> instructs the table management unit <b>303</b> to update the environment master table <b>305</b> by setting &#x201c;ACT&#x201d; as the operation flag for the server <b>10</b> capable of switching (step H<b>14</b>).</p><p id="p-0308" num="0307">The control unit <b>302</b> confirms whether the update of the environment master table <b>305</b> by the table management unit <b>303</b> is completed (step H<b>15</b>). When the update of the environment master table <b>305</b> is not completed (see NO route in step H<b>15</b>), the control unit <b>302</b> repeatedly performs step H<b>15</b> and waits until the update of the environment master table <b>305</b> is completed.</p><p id="p-0309" num="0308">The table management unit <b>303</b> receives an instruction to update the environment master table <b>305</b> from the control unit <b>302</b> (step H<b>16</b>), and in accordance with the instruction, sets &#x201c;ACT&#x201d; as the operation flag for the server <b>10</b> capable of switching in the environment master table <b>305</b> (step H<b>17</b>).</p><p id="p-0310" num="0309"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is a diagram exemplifying the environment master table <b>305</b> after completion of preparation for system switching.</p><p id="p-0311" num="0310">In the environment master table <b>305</b> exemplified in <figref idref="DRAWINGS">FIG. <b>22</b></figref>, &#x201c;ACT&#x201d; is set as the operation flag (see reference sign P<b>01</b>) for the server <b>10</b> with the shared server address of &#x201c;192.10.10.11&#x201d;, indicating that the server <b>10</b> is the new active server <b>10</b>. &#x201c;STP&#x201d; is set as the operation flag (see reference sign P<b>02</b>) for the server <b>10</b> with the shared server address of &#x201c;192.10.10.10&#x201d;, indicating that the server <b>10</b> is stopped.</p><p id="p-0312" num="0311">After that, the table management unit <b>303</b> notifies the control unit <b>302</b> that the update of the environment master table <b>305</b> is completed (step H<b>18</b>).</p><p id="p-0313" num="0312">When completion of update of the environment master table <b>305</b> is notified from the table management unit <b>303</b> (see YES route in step H<b>15</b>), the control unit <b>302</b> notifies (responds to) the server control unit <b>201</b> of the active server <b>10</b> that the system switching may be performed (step H<b>19</b>).</p><p id="p-0314" num="0313">When receiving an answer indicating that the system switching may or may not be performed (see YES route in step H<b>2</b>), the server control unit <b>201</b> of the active server <b>10</b> confirms whether the answer indicates that the system switching may be performed (step H<b>20</b>).</p><p id="p-0315" num="0314">When the system switching may be performed (see YES route in step H<b>20</b>), the processing ends. For example, preparation for causing the server <b>10</b> capable of switching to function as the new active server <b>10</b> and taking over the task is completed.</p><p id="p-0316" num="0315">Next, processing of the standby server <b>10</b> as the switching destination at the time of switching (system switching) of the active server <b>10</b> will be explained with reference to a flowchart (steps J<b>1</b> to J<b>8</b>) illustrated in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0317" num="0316">The processing is started by the control unit <b>302</b> of the file server <b>30</b> giving a booting instruction to the server control unit <b>201</b> of the standby server <b>10</b> in step H<b>11</b> of the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>20</b></figref>.</p><p id="p-0318" num="0317">The server control unit <b>201</b> of the standby server <b>10</b> receives a booting request from the control unit <b>302</b> of the file server <b>30</b> (step J<b>1</b>).</p><p id="p-0319" num="0318">The server control unit <b>201</b> gives the booting instruction to the firmware update execution unit <b>101</b> of the own server <b>10</b> (step J<b>2</b>). At this time, the server control unit <b>201</b> provides address information of a network booting coupling drive to the firmware update execution unit <b>101</b>.</p><p id="p-0320" num="0319">The server control unit <b>201</b> confirms whether the booting of the own server <b>10</b> is completed (step J<b>3</b>). When the booting is not completed (see NO route in step J<b>3</b>), the server control unit <b>201</b> repeatedly performs step J<b>3</b> and waits until the booting is completed.</p><p id="p-0321" num="0320">The firmware update execution unit <b>101</b> of the standby server <b>10</b> receives the booting instruction and the address information of the network booting coupling drive from the server control unit <b>201</b> of the server <b>10</b> (step J<b>4</b>). The firmware update execution unit <b>101</b> acquires a program and data to be used for activation processing from the network booting coupling drive, and performs network booting (step J<b>5</b>). After that, the firmware update execution unit <b>101</b> performs booting of the OS (step J<b>6</b>). The firmware update execution unit <b>101</b> notifies the server control unit <b>201</b> that the booting is completed (step J<b>7</b>).</p><p id="p-0322" num="0321">When receiving a report from the firmware update execution unit <b>101</b> indicating that the booting is completed (see YES route in step J<b>3</b>), the server control unit <b>201</b> notifies (responds to) the control unit <b>302</b> of the file server <b>30</b> that the booting of the own server <b>10</b> is completed (step J<b>8</b>). After that, the processing returns to step H<b>12</b> of the flowchart illustrated in <figref idref="DRAWINGS">FIG. <b>20</b></figref>.</p><heading id="h-0009" level="1">(C) Effects</heading><p id="p-0323" num="0322">As described above, according to the computer system <b>1</b> as an example of the embodiment, in the redundant system using network booting, the file server <b>30</b> performs management in the environment master table <b>305</b>.</p><p id="p-0324" num="0323">A combination of a device driver and the FW version number of the peripheral device <b>50</b> with which normal operation is guaranteed is managed in the environment master table <b>305</b>.</p><p id="p-0325" num="0324">In each server <b>10</b>, the device scan processing unit <b>203</b> collects version number information of the FW of the peripheral device <b>50</b> mounted on the own server <b>10</b>. In the file server <b>30</b>, the control unit <b>302</b> compares the collected version number information of the FW with reference information (combination of a device driver and the FW version number of the peripheral device <b>50</b>) which is registered in the environment master table <b>305</b> in advance and with which normal operation is guaranteed.</p><p id="p-0326" num="0325">When the FW version number of the peripheral device <b>50</b> is not the same as the FW version number of the reference information as a result of the comparison, the control unit <b>302</b> of the file server <b>30</b> makes an FW update request to the server <b>10</b> so that the FW version number of the peripheral device <b>50</b> is the same as the FW version number of the reference information.</p><p id="p-0327" num="0326">Accordingly, in the server <b>10</b>, it is possible to suppress inconsistency between a device driver and the FW of the peripheral device <b>50</b>, and it is possible to reduce the influence on the task due to an unintended failure.</p><p id="p-0328" num="0327">The file server <b>30</b> manages the FW update files for the plurality of types of FW version numbers of the peripheral device <b>50</b>, and transmits the FW update file corresponding to the version number of the device driver of the server <b>10</b> together with the FW update request.</p><p id="p-0329" num="0328">Accordingly, in the server <b>10</b>, the firmware update execution unit <b>101</b> may easily update the FW of the peripheral device <b>50</b> in which inconsistency is detected, and high convenience is achieved.</p><p id="p-0330" num="0329">It is possible to detect, in advance, an environment in which a combination of the FW version number of the peripheral device <b>50</b> and a device driver incorporated in an OS logical drive has inconsistency (combination of version numbers incapable of operation). Accordingly, device FW may be updated to an appropriate version number (version number with consistency), and as a result, it is possible to suppress task suspension and task delay due to unintended occurrence of failure.</p><p id="p-0331" num="0330">In the file server <b>30</b>, the server scan processing unit <b>301</b> transmits, to each server <b>10</b>, a server device scan request for requesting transmission of device information of the peripheral device <b>50</b> mounted on each server <b>10</b>. In each server <b>10</b>, the device scan processing unit <b>203</b> collects the device information of the peripheral devices <b>50</b> of the own server <b>10</b> in response to the server device scan request. The collected device information is provided as the device information table <b>231</b> from each server <b>10</b> to the file server <b>30</b>. Accordingly, the file server <b>30</b> may easily collect the device information of the peripheral device <b>50</b> of each server <b>10</b>.</p><p id="p-0332" num="0331">In the environment master table <b>305</b>, at least for the active server <b>10</b>, information of a state in which normal operation is confirmed is registered. Accordingly, the information on the active server <b>10</b> in the environment master table <b>305</b> may be used as the reference information with which normal operation is guaranteed, and the reliability may be improved.</p><heading id="h-0010" level="1">(D) Others</heading><p id="p-0333" num="0332">The configuration and processing of the present embodiment may be selectively employed or omitted as desired, or may be combined as appropriate.</p><p id="p-0334" num="0333">The disclosed technique is not limited to the embodiment described above, and may be carried out while being modified in various ways without departing from the gist of the present embodiment.</p><p id="p-0335" num="0334">For example, although in the FW update file table <b>306</b> illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, an update file name is registered for each FW version number and a corresponding FW update file is executed for each FW version number, this is not the only case. For example, a plurality of pieces of FW having different FW version numbers may be applied stepwise until a predetermined FW version number is reached. As described above, in the FW update file table <b>306</b>, update files of a plurality of FW version numbers for reaching a predetermined FW version number may be managed.</p><p id="p-0336" num="0335">For example, although the environment master table <b>305</b> illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref> indicates, as server information, information on a LAN interface as the peripheral device <b>50</b>, this is not the only case. Information on other peripheral devices <b>50</b> may be managed in the environment master table <b>305</b>.</p><p id="p-0337" num="0336">Although the embodiment described above indicates an example in which the computer system <b>1</b> includes the file server <b>30</b>, this is not the only case. A storage device may be provided instead of the file server <b>30</b>, and the storage device may have the functions as the server scan processing unit <b>301</b>, the control unit <b>302</b>, and the table management unit <b>303</b> described above.</p><p id="p-0338" num="0337">Although the information on the active server <b>10</b> in the environment master table <b>305</b> is used as the reference information with which normal operation is guaranteed, this is not the only case. For example, a system configuration (combination of a device driver and the FW version number of the peripheral device <b>50</b>) with which normal operation is guaranteed may be defined in advance, and the defined information may be used as the reference information. For example, whether the FW version numbers are the same or not the same may be determined by comparing the value of the FW version number in the environment master table <b>305</b> with such reference information, and the present embodiment may be carried out while being modified in various ways.</p><p id="p-0339" num="0338">Although the embodiment described above indicates an example in which the computer system <b>1</b> is the active/standby system, this is not the only case. For example, the computer system <b>1</b> may be a cluster system in which the plurality of servers <b>10</b> perform tasks in parallel without sharing an OS logical drive.</p><p id="p-0340" num="0339"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a diagram illustrating a modification example of the configuration of the computer system <b>1</b> as an example of the embodiment, and illustrates an example in which the computer system <b>1</b> is configured as the cluster system.</p><p id="p-0341" num="0340">In the cluster system, a group composed of two or more servers <b>10</b> among the plurality of servers <b>10</b> is set. Among the two or more servers <b>10</b> composing the group, at least one server <b>10</b> is defined as a reference server <b>10</b>.</p><p id="p-0342" num="0341">The reference server <b>10</b> is the server <b>10</b> on which the peripheral device <b>50</b>, to which a correct FW version number serving as a reference for performing FW version number comparison is applied, is mounted.</p><p id="p-0343" num="0342">Even in a case where the computer system <b>1</b> is configured as the cluster system, each of the servers <b>10</b> and the file server <b>30</b> has the same configuration as that of the active/standby system described above.</p><p id="p-0344" num="0343">In the cluster system, the server scan processing unit <b>301</b> of the file server <b>30</b> transmits a server device scan request to the plurality of servers <b>10</b> defined as a group.</p><p id="p-0345" num="0344">In the cluster system, in the file server <b>30</b>, the control unit <b>302</b> performs the following processing in a case where there is a difference in FW version number of the mounted peripheral device <b>50</b> of the same type (same model) among the servers <b>10</b> registered in the environment master table <b>305</b>.</p><p id="p-0346" num="0345">For example, the control unit <b>302</b> makes an FW update request for the peripheral device <b>50</b> to the servers <b>10</b> other than the reference server <b>10</b> among the cluster servers defined as a group with different FW version numbers so that the different version numbers will be the same as (consistent with) the FW version number of the device mounted on the reference server <b>10</b> among the cluster servers defined as a group.</p><p id="p-0347" num="0346">At the time of making the FW update request, the control unit <b>302</b> selects and transmits an appropriate FW update file based on the contents of the FW update file table <b>306</b>.</p><p id="p-0348" num="0347">In a case where there is no difference in FW version number of the mounted peripheral device <b>50</b> of the same type (same model) among the servers <b>10</b> registered in the environment master table <b>305</b>, there is no problem, and thus no particular processing is performed.</p><p id="p-0349" num="0348">In the cluster system, the control unit <b>302</b> may remove the server <b>10</b> in which the FW update has abnormally ended from the cluster after making, to the system administrator, an alert notification indicating that the FW update may not be completed in the server <b>10</b> and that the server <b>10</b> may not be used as the system switching server. When the server <b>10</b> in which the FW update has abnormally ended is removed from the cluster (ends coupling), extra time may be provided until the end of coupling.</p><p id="p-0350" num="0349">An overview of processing in the computer system <b>1</b> configured as the cluster system as the modification example of the embodiment will be explained with reference to a sequence diagram (steps S<b>01</b> to S<b>016</b>) illustrated in <figref idref="DRAWINGS">FIG. <b>25</b></figref>.</p><p id="p-0351" num="0350">In the following processing, when there are a plurality of other-system servers <b>10</b>, the processing is performed on each of the plurality of other-system servers <b>10</b>.</p><p id="p-0352" num="0351">First, an environment is constructed in the file server <b>30</b> (step S<b>01</b>).</p><p id="p-0353" num="0352">Next, in the file server <b>30</b>, the system administrator inputs information to be registered in the environment master table <b>305</b> (step S<b>02</b>).</p><p id="p-0354" num="0353">In the file server <b>30</b>, the server scan processing unit <b>301</b> transmits a server device scan request to the servers <b>10</b> (other-system servers <b>10</b>) defined as a group, and starts acquisition of device information of the peripheral devices <b>50</b> mounted on the other-system servers <b>10</b> (step S<b>03</b>).</p><p id="p-0355" num="0354">The server scan processing unit <b>301</b> transmits, to the other-system server <b>10</b>, a transmission request of the device information table <b>231</b> in which the result of the device scan is reflected.</p><p id="p-0356" num="0355">In the other-system server <b>10</b>, the device scan processing unit <b>203</b> performs collection of information (device information) on the peripheral device <b>50</b> mounted on the own server <b>10</b> in accordance with a device scan instruction issued from the server control unit <b>201</b> (step S<b>04</b>).</p><p id="p-0357" num="0356">In the other-system server <b>10</b>, the device table management unit <b>202</b> registers the device information of the own server <b>10</b> collected by the device scan processing unit <b>203</b> in the device information table <b>231</b>. For example, the device table management unit <b>202</b> creates the device information table <b>231</b>.</p><p id="p-0358" num="0357">In the other-system server <b>10</b>, the device scan processing unit <b>203</b> completes the collection of device information in the own server <b>10</b>. The device scan processing unit <b>203</b> notifies the file server <b>30</b> of the completion of the device scan (step S<b>05</b>).</p><p id="p-0359" num="0358">The server control unit <b>201</b> transmits the device information table <b>231</b> created by the device table management unit <b>202</b> to the file server <b>30</b>.</p><p id="p-0360" num="0359">In the file server <b>30</b>, the control unit <b>302</b> receives the device information table <b>231</b> from the other-system server <b>10</b>, and completes the device scan of the other-system server <b>10</b> (step S<b>06</b>).</p><p id="p-0361" num="0360">In the file server <b>30</b>, the table management unit <b>303</b> updates the environment master table <b>305</b> by using the received contents of the device information table <b>231</b> (step S<b>07</b>).</p><p id="p-0362" num="0361">In the file server <b>30</b>, the control unit <b>302</b> performs comparison for an item (FW version number) in the environment master table <b>305</b> (step S<b>08</b>).</p><p id="p-0363" num="0362">When the FW version numbers are different between the peripheral devices <b>50</b> of the same type a result of the comparison, the control unit <b>302</b> issues an FW update request for the peripheral device <b>50</b> to the other-system server <b>10</b> (step S<b>09</b>). At this time, the control unit <b>302</b> transmits, to the other-system server <b>10</b>, the FW update file <b>307</b> for achieving FW update in the standby other-system server <b>10</b>.</p><p id="p-0364" num="0363">When the FW version numbers are the same (have no difference), the control unit <b>302</b> determines that there is no deficiency in the consistency of the FW version numbers and does not issue the FW update request, and causes the processing to proceed to step S<b>015</b>.</p><p id="p-0365" num="0364">In the other-system server <b>10</b> that has received the FW update request and the FW update file, FW update is performed by the server control unit <b>201</b> causing the firmware update execution unit <b>101</b> to execute the FW update file (steps S<b>010</b> and S<b>011</b>).</p><p id="p-0366" num="0365">In the other-system server <b>10</b>, the server control unit <b>201</b> issues a device scan instruction to the device scan processing unit <b>203</b>. The device scan processing unit <b>203</b> collects information (device information) of the peripheral device <b>50</b> mounted on the own server <b>10</b> in accordance with the device scan instruction (step S<b>012</b>).</p><p id="p-0367" num="0366">In the other-system server <b>10</b>, the server control unit <b>201</b> causes the device table management unit <b>202</b> to register the device information collected by the device scan processing unit <b>203</b> in the device information table <b>231</b>. The device table management unit <b>202</b> registers the device information of the own server <b>10</b> collected by the device scan processing unit <b>203</b> in the device information table <b>231</b>.</p><p id="p-0368" num="0367">The server control unit <b>201</b> provides the device information table <b>231</b> to the file server <b>30</b> (step S<b>013</b>).</p><p id="p-0369" num="0368">In the file server <b>30</b>, the control unit <b>302</b> receives the notification of FW update completion and the device information table <b>231</b> transmitted from the other-system server <b>10</b>, and processes the completion of the FW update of the other-system server <b>10</b> (step S<b>014</b>). For example, the control unit <b>302</b> causes the table management unit <b>303</b> to update the FW version number of the peripheral device <b>50</b> corresponding to the other-system server <b>10</b> in the environment master table <b>305</b> to a value after the FW update (step S<b>015</b>).</p><p id="p-0370" num="0369">The control unit <b>302</b> causes the table management unit <b>303</b> to set &#x201c;YES&#x201d; as the coupling availability flag of the standby server <b>10</b> in the environment master table <b>305</b>. Accordingly, the other-system server <b>10</b> is thereafter treated as being capable of coupling. Accordingly, synchronization of the FW in each other-system server <b>10</b> is completed (step S<b>016</b>).</p><p id="p-0371" num="0370">As described above, the computer system <b>1</b> may also be applied as the cluster system, and the same effect as that of the active/standby system may be obtained.</p><p id="p-0372" num="0371">In the cluster system, when the FW update abnormal end response (other than normal end) is received from the server <b>10</b> to be updated, the request for coupling to the OS logical drive is rejected.</p><p id="p-0373" num="0372">All examples and conditional language provided herein are intended for the pedagogical purposes of aiding the reader in understanding the invention and the concepts contributed by the inventor to further the art, and are not to be construed as limitations to such specifically recited examples and conditions, nor does the organization of such examples in the specification relate to a showing of the superiority and inferiority of the invention. Although one or more embodiments of the present invention have been described in detail, it should be understood that the various changes, substitutions, and alterations could be made hereto without departing from the spirit and scope of the invention.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A computer system comprising a management apparatus and a plurality of information processing apparatuses each including a peripheral device,<claim-text>wherein the management apparatus including</claim-text><claim-text>a memory, and</claim-text><claim-text>a processor coupled to the memory and configured to:</claim-text><claim-text>compare version number information of firmware of the peripheral device mounted on each of the plurality of information processing apparatuses with preset reference information; and</claim-text><claim-text>in a case where the version number information of firmware is not consistent with the reference information, update firmware of the information processing apparatus so that a version number of firmware of the information processing apparatus becomes consistent with a version number of the reference information.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The computer system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>wherein the reference information includes a firmware version number of the peripheral device mounted on an information processing apparatus that is confirmed to operate normally among the plurality of information processing apparatuses.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The computer system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>wherein the processor is further configured to:</claim-text><claim-text>request the information processing apparatus to collect version number information of firmware of the peripheral device that is mounted, and</claim-text><claim-text>in the compare, the version number information of firmware collected by the information processing apparatus is compared with the reference information.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. A control method for a computer system comprising a management apparatus and a plurality of information processing apparatuses each including a peripheral device, the control method performed by the management apparatus including steps of:<claim-text>comparing version number information of firmware of the peripheral device mounted on each of the plurality of information processing apparatuses with preset reference information; and</claim-text><claim-text>updating, in a case where the version number information of firmware is not consistent with the reference information, firmware of the information processing apparatus so that a version number of firmware of the information processing apparatus becomes consistent with a version number of the reference information.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The control method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>,<claim-text>wherein the reference information includes a firmware version number of the peripheral device mounted on an information processing apparatus that is confirmed to operate normally among the plurality of information processing apparatuses.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The control method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>,<claim-text>wherein the control method further including:</claim-text><claim-text>requesting the information processing apparatus to collect version number information of firmware of the peripheral device that is mounted, and</claim-text><claim-text>in the comparing, the version number information of firmware collected by the information processing apparatus is compared with the reference information.</claim-text></claim-text></claim></claims></us-patent-application>