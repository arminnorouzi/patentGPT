<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007201A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007201</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17364903</doc-number><date>20210701</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>378</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>235</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>3745</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>378</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>2353</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>3745</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">METHOD AND IMAGE SENSOR DEVICE CAPABLE OF PREDICTING APPROPRIATE LENGTH OF EXPOSURE TIME INTERVAL FOR INCOMING FRAME(S)</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>PixArt Imaging Inc.</orgname><address><city>Hsin-Chu City</city><country>TW</country></address></addressbook><residence><country>TW</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Lim</last-name><first-name>Wooi Kip</first-name><address><city>Penang</city><country>MY</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>PixArt Imaging Inc.</orgname><role>03</role><address><city>Hsin-Chu City</city><country>TW</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">An image sensor device includes a sensor array and a processing circuit. The sensor array includes a plurality of pixel units each including a photodiode unit and a storage capacitor. The sensor array generates an image of a specific frame, and the photodiode unit is illuminated by a light ray to generate a photodiode current which is stored in the storage capacitor when the image sensor device performs an exposure operation. The processing circuit generates a reference current according to photodiode current(s) of photodiode unit(s) of pixel unit(s) before the exposure operation arranged for the specific frame starts, and predicts a length of an exposure time interval of the exposure operation for the specific frame based on the generated reference current.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="104.14mm" wi="158.75mm" file="US20230007201A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="222.67mm" wi="159.51mm" orientation="landscape" file="US20230007201A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="220.81mm" wi="126.24mm" orientation="landscape" file="US20230007201A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="223.01mm" wi="159.51mm" orientation="landscape" file="US20230007201A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="210.74mm" wi="159.51mm" orientation="landscape" file="US20230007201A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading><heading id="h-0002" level="1">1. Field of the Invention</heading><p id="p-0002" num="0001">The invention relates to an image sensing mechanism, and more particularly to an image sensor device and corresponding method.</p><heading id="h-0003" level="1">2. Description of the Prior Art</heading><p id="p-0003" num="0002">Generally speaking, a conventional image sensor device may estimate an appropriate exposure time interval after many frames have been sensed by the conventional image sensor device. It is not efficient. Further, when operating at a low frame rate, the conventional image sensor device may frequently move from a surface position to another different surface position corresponding to a different light condition. That is, before the number of sensed frames becomes enough to estimate an appropriate exposure time interval, the light condition have been changed. Thus, the conventional image sensor device when operating at the low frame rate may frequently suffer the problem of significantly changed light conditions.</p><heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading><p id="p-0004" num="0003">Therefore one of the objectives of the invention is to provide an image sensor device and corresponding method to solve the above-mentioned problems.</p><p id="p-0005" num="0004">According to embodiments of the invention, an image sensor device is disclosed. The device comprises a sensor array and a processing circuit. The sensor array comprises a plurality of pixel units and each pixel unit comprises g a photodiode unit and a storage capacitor. The sensor array is used for generating an image of a specific frame, and the photodiode unit is illuminated by a light ray to generate a photodiode current which is stored in the storage capacitor when the image sensor device performs an exposure operation. The processing circuit is coupled to the sensor array, and it is used for generating a reference current according to at least one photodiode current of at least one photodiode unit of at least one pixel unit before the exposure operation arranged for the specific frame starts, and then for predicting a length of an exposure time interval of the exposure operation for the specific frame based on the generated reference current.</p><p id="p-0006" num="0005">According to embodiments of the invention, a method of an image sensor device is further disclosed. The method comprises: providing a sensor array which comprises a plurality of pixel units each comprising a photodiode unit and a storage capacitor; using the sensor array to generate an image of a specific frame, the photodiode unit being illuminated by a light ray to generate a photodiode current which is stored in the storage capacitor when the image sensor device performs an exposure operation; generating a reference current according to at least one photodiode current of at least one photodiode unit of at least one pixel unit before the exposure operation arranged for the specific frame starts; and, predicting a length of an exposure time interval of the exposure operation for the specific frame based on the generated reference current.</p><p id="p-0007" num="0006">These and other objectives of the present invention will no doubt become obvious to those of ordinary skill in the art after reading the following detailed description of the preferred embodiment that is illustrated in the various figures and drawings.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram of an image sensor device according to an embodiment of the invention.</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a diagram showing an example of the signal waveforms of the predicted length of exposure time interval, reset control signal RST, voltage Vsh, control signal EN, and output signal SH_OUT.</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram showing an example of an image sensor device according to another embodiment of the invention.</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a block diagram of an image sensor device according to one embodiment of the invention.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0012" num="0011">The invention aims at providing a technical solution of an image sensor device capable of predicting or estimating a length of an appropriate exposure time interval (i.e. shutter exposure turn-on period) of an exposure operation for specific frame(s) such as next or incoming frame(s). The technical solution can be suitable for a global shutter mode and a rolling shutter mode. For instance, the sensor may operate at a low frame rate such as a rate lower than 100 Hz in order to save more power (reduce power consumption) and can also know how long the shutter exposure turn-on period should be adjusted.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram of an image sensor device <b>100</b> according to an embodiment of the invention. The image sensor device <b>100</b> comprises a sensor array <b>105</b>, a processing circuit <b>110</b>, and a controlling circuit <b>115</b>. The processing circuit <b>110</b> is coupled to the sensor array <b>105</b>, a reference voltage level such as a photodiode supply voltage level VDDPD, a reference voltage level such as a pixel supply voltage level VDDPXL, and a ground level GND, and it comprises a current mirror circuit <b>1101</b>, a reference capacitor (or can be referred to as sample/hold capacitor) Csh, a comparator <b>1102</b>, and four switch units SW<b>1</b>-SW<b>4</b> which are controlled by the controlling circuit <b>115</b> as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The current mirror circuit <b>1101</b> is formed by two transistor circuits M<b>1</b> and M<b>2</b>. Each of the transistor circuits M<b>1</b> and M<b>2</b> can comprise one or more PNP or NPN transistors (but not limited).</p><p id="p-0014" num="0013">The sensor array <b>105</b> is used for generating image (s) of frame(s) and comprises a plurality of pixel units such as N pixel units <b>106</b>_<b>1</b>-<b>106</b>_N, and each pixel unit <b>106</b>_<b>1</b>-<b>106</b>_N respectively comprises a photodiode unit PD and a storage capacitor Cpd. Further, each pixel unit <b>106</b>_<b>1</b>-<b>106</b>_N respectively further comprises a reset transistor M<b>3</b>, a source follower transistor M<b>4</b>, a read transfer capacitor C<b>1</b>, and a read transfer transistor M<b>5</b>. The photodiode unit PD is illuminated by a light ray to generate a photodiode current which is stored in the storage capacitor Cpd when the image sensor device <b>100</b> performs an exposure operation.</p><p id="p-0015" num="0014">The processing circuit <b>110</b> is used for generating a reference current according to photodiode current(s) of photodiode unit(s) PD of pixel unit(s) before the exposure operation, which is used for a specific frame (next or incoming frame), starts. The processing circuit <b>110</b> then is used for predicting a length of an appropriate exposure time interval of the exposure operation for the specific frame based on the generated reference current.</p><p id="p-0016" num="0015">For the circuit structure of each pixel unit <b>106</b>_<b>1</b>-<b>106</b>_N, the reset transistor M<b>3</b> has a first terminal coupled to the photodiode supply voltage level VDDPD, a second terminal coupled to the photodiode PD, and a control terminal controlled by and coupled to a reset signal RST. The photodiode PD is coupled between the ground level GND and the second terminal of the reset transistor M<b>3</b>. The storage capacitor Cpd is also coupled between the ground level GND and the second terminal of the reset transistor M<b>3</b>.</p><p id="p-0017" num="0016">During a shutter turn-on period, a photodiode current Iphoton is generated due to the light emission, and a voltage Vpd is generated at a terminal of the storage capacitor Cpd. The source follower transistor M<b>4</b> has a first terminal coupled to a pixel supply voltage level VDDPXL, a second terminal coupled to a current source I<b>1</b>, and a control terminal coupled to the voltage Vpd, so that the source follower transistor M<b>4</b> can pass the voltage Vpd to its second terminal. The current source I<b>1</b> is coupled to the read transfer capacitor C<b>1</b> by parallel. The read transfer transistor M<b>5</b> has a first terminal coupled to the pixel supply voltage level VDDPXL, a second terminal, and a control terminal coupled to the second terminal of the source follower transistor M<b>4</b> to receive the voltage Vpd. The output voltage Vout is accordingly generated at the second terminal of the read transfer transistor M<b>5</b> and can be read out.</p><p id="p-0018" num="0017">For the processing circuit <b>110</b>, the sizes of transistor M<b>1</b> and M<b>2</b> in the current mirror circuit <b>1101</b> are respectively associated with the sizes n and m, as indicated by the mirror ratio &#x201c;n:m&#x201d; as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. For example (but not limited), the transistor M<b>1</b> may be implemented by using n transistors connected in parallel while the transistor M<b>2</b> may be implemented by using m transistors connected in parallel. The current mirror circuit <b>1101</b> is used to generate a mirrored current at the output node N<b>3</b> as the above-mentioned reference current based on the current at the input node N<b>2</b>. For instance, the amount of the mirrored current at the output node N<b>3</b> is equivalent to that of the current at the input node N<b>2</b> multiplied by m/n wherein the values of m and n are adjustable.</p><p id="p-0019" num="0018">The switch unit SW<b>1</b> is selectively coupled between the current mirror circuit <b>1101</b> (i.e. the node N<b>2</b>) and the node N<b>1</b> of the processing circuit <b>110</b>. The switch unit SW<b>2</b> is selectively coupled between the pixel supply voltage level VDDPXL and the node N<b>1</b> of the processing circuit <b>110</b>. The switch unit SW<b>3</b> is selectively coupled between a first terminal of the reference capacitor Csh and the output node N<b>3</b> of the current mirror circuit <b>1101</b>. The switch unit SW<b>4</b> is selectively coupled between the first terminal of the reference capacitor Csh and the ground level GND. The reference capacitor Csh has the first terminal and a second terminal which is coupled to the ground level GND.</p><p id="p-0020" num="0019">The comparator <b>1102</b> has a first input terminal coupled to the first terminal of the reference capacitor Csh, a second input terminal coupled to the threshold voltage Vth, and an output terminal for generating and outputting the output signal SH_OUT as a shutter output signal which is used for determining the length of the exposure time interval. The controlling circuit <b>115</b> comprised by the processing circuit <b>110</b> is used for generating four control signals SC, <o ostyle="single">SC</o>, EN, <o ostyle="single">EN</o> to respectively control the ON/OFF states of the switch units SW<b>1</b>, SW<b>2</b>, SW<b>3</b>, SW<b>4</b>. The control signal <o ostyle="single">SC</o> is an inverse signal of the control signal SC, and the control signal <o ostyle="single">EN</o> is an inverse signal of the control signal EN.</p><p id="p-0021" num="0020">In practice, in this embodiment (but not limited), the photodiode supply voltage levels VDDPD of the total pixel units <b>106</b>_<b>1</b>-<b>106</b>_N of the sensor array <b>105</b> are respectively coupled to the node N<b>1</b>. The processing circuit <b>110</b> is arranged to generate the mirrored current according to the amounts of all pixel units' photodiode currents caused by emissions of light rays (i.e. the summation of all the pixel units' photodiode currents) when all the pixel units are exposed to the light rays, and then determine the length of the exposure time interval according to the mirrored current. It should be noted that, in other embodiments, the processing circuit <b>110</b> may generate the mirrored current according to a portion of one or more pixel units' photodiode currents. This modification also obeys the spirits of the invention.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a diagram showing an example of the signal waveforms of the predicted length of exposure time interval, reset control signal RST, voltage Vsh, control signal EN, and output signal SH_OUT. As shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, before timing t<b>1</b>, the reset control signal RST is at a high logic level, and the control signal SC is also at the high logic level while the control signal <o ostyle="single">SC</o> is at a low logic level correspondingly. In this situation, the switch unit SW<b>1</b> is at the OFF state (i.e. closed), and the switch unit SW<b>2</b> is at the ON state (i.e. open), so that the photodiode supply voltage level VDDPD of each pixel unit <b>106</b>_<b>1</b>-<b>106</b>_N is disconnected from the pixel supply voltage level VDDPXL. In addition, the control signal EN is at the low logic level while the control signal <o ostyle="single">EN</o> is at the high logic level, and the current mirror circuit <b>1101</b> is disconnected from the comparator <b>1102</b> and the reference capacitor Csh since the switch unit SW<b>3</b> is at the ON state (i.e. open). The switch unit SW<b>4</b> is at the OFF state (i.e. closed), and the voltage levels at the two terminals of the reference capacitor Csh are connected to the ground level GND. In this situation, the current mirror circuit <b>1101</b> does not generate a mirrored current at the node N<b>3</b>.</p><p id="p-0023" num="0022">At the timing t<b>1</b>, the control signal EN is switched from the low logic level to the high logic level so that the switch unit SW<b>3</b> becomes closed and the switch unit SW<b>4</b> becomes open. The current mirror circuit <b>1101</b> begins to mirror the current at the node N<b>2</b> to generate and output the mirrored current at the node N<b>3</b> according to the mirror ratio. The voltage level at the first terminal of the reference capacitor Csh, i.e. the sample and hold voltage Vsh, gradually increases since the mirrored current charges the reference capacitor Csh (i.e. a sample and hold capacitor).</p><p id="p-0024" num="0023">The comparator <b>1102</b> is arranged to compare the sample and hold voltage Vsh with the threshold voltage Vth to generate and output the output signal SH_OUT. The level of the output signal SH_OUT is at the low logic level when the sample and hold voltage Vsh is smaller than the threshold voltage Vth, and the level of the output signal SH_OUT is at the high logic level when the sample and hold voltage Vsh becomes larger than the threshold voltage Vth.</p><p id="p-0025" num="0024">For example, at timing t<b>2</b>, the sample and hold voltage Vsh becomes larger than the threshold voltage Vth, and a rising edge occurs in the output signal SH_OUT. At timing t<b>3</b>, the reset charge operation is not completed when the reset control signal RST is kept at the high logic level, and the control signal SC is switched from the high logic level to the low logic level so that the switch unit SW<b>1</b> becomes open and the switch unit SW<b>2</b> becomes closed. In this situation, the photodiode supply voltage levels VDDPD of each pixel unit is connected to the pixel supply voltage level VDDPXL via the switch unit SW<b>2</b>. In addition, the control signal EN at the timing t<b>3</b> is also switched from the high logic level to the low logic level, and the switch unit SW<b>3</b> becomes open and the switch unit SW<b>4</b> becomes closed. In this situation, the charge at the first terminal of the reference capacitor Csh is discharged to the ground level GND, and the sample and hold voltage level Vsh is instantly pulled down to zero as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. Since the sample and hold voltage level Vsh becomes zero at the timing t<b>3</b>, a falling edge occurs in the output signal SH_OUT to make the output signal SH_OUT be switched from the high logic level to the low logic level.</p><p id="p-0026" num="0025">It should be noted that in this embodiment a predicted length of the shutter time period is determined by the processing circuit based on the rising edge of the control signal EN and the rising edge of the output signal SH_OUT, as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. That is, the end of the predicted length of the exposure time interval is determined based on a timing of the signal level change of the shutter output signal SH_OUT. After obtaining the predicted length of the shutter time period, the image sensor device enters a shutter mode (e.g. global shutter mode or rolling shutter mode) during the time interval between the timings t<b>4</b> and t<b>5</b> wherein the length of the time interval is determined by and equivalent to the length of the predicted shutter time period.</p><p id="p-0027" num="0026">According to the estimated or predicted exposure time interval, the voltage Vpd can gradually decrease from the pixel supply voltage VDDPXL to a lower voltage level during the predicted and appropriate exposure time interval between timings t<b>4</b> and t<b>5</b>, and the charge corresponding to the voltage difference between the voltages at timings t<b>4</b> and t<b>5</b> indicates the charge signal to be read out.</p><p id="p-0028" num="0027">Further, in other embodiments, the mirror ratio can be adjusted or can be modified.</p><p id="p-0029" num="0028">Further, in other embodiments, the current mirror circuit <b>1101</b> can be arranged to sample and hold and mirror the charging currents of one or multiple pixel units among all the pixel units <b>1601</b>_<b>1</b>-<b>1601</b>_N to predict the length of the exposure time interval for the next frame(s). For example, <figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram showing an example of an image sensor device <b>300</b> according to another embodiment of the invention. As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the node N<b>1</b> is connected to the photodiode supply voltage level VDDPD of merely one or more pixel units rather than all the pixel units. The detailed description is not described for brevity.</p><p id="p-0030" num="0029">Further, the position(s) of one or more pixel units having the photodiode supply voltage levels VDDPD connected to the node N<b>1</b> of the processing circuit <b>110</b> may be configured or disposed at any positions within a whole frame/image. This is not meant to be a limitation of the invention.</p><p id="p-0031" num="0030">Further, the prediction operation of estimating the appropriate exposure time interval of a next incoming frame can be performed during the exposure time interval of a previous/current frame and/or can be performed at the timing between two exposure time intervals. These modifications also fall within the scope of the invention.</p><p id="p-0032" num="0031">By doing so, the image sensor device can dynamically adjust the length of the exposure time interval according to the environment light condition, so that the image sensor device can be used and applied in different light conditions. In a preferred embodiment, the appropriate exposure time interval of a next incoming frame can be correctly predicted based on only one previous or current frame.</p><p id="p-0033" num="0032">Further, in other embodiments, an image sensor device may comprise multiple processing circuits mentioned above which may be respectively associated with multiple pixel units in the sensor array or may be associated with all pixel units in the sensor array. <figref idref="DRAWINGS">FIG. <b>4</b></figref> is a block diagram of an image sensor device <b>400</b> according to one embodiment of the invention. As shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the image sensor device <b>400</b> comprises the sensor array <b>105</b>, the controlling circuit <b>115</b>, and M multiple sets of processing circuits <b>110</b>. The value of M can be equal to or smaller than the value of N. In this embodiment, each processing circuit <b>110</b> receives the different control signals generated from the controlling circuit <b>115</b>. For example, if the values of M and N are equal, then this indicates that each processing circuit <b>110</b> is coupled to one corresponding pixel unit disposed in the sensor array <b>105</b>. In this situation, each processing circuit <b>110</b> is arranged to generate a mirrored current according to the amount of a corresponding pixel unit's photodiode current caused by emission of light ray when the corresponding pixel unit is exposed to the light ray, and then it can determine the length of the exposure time interval according to the mirrored current. Actually, since different pixel units may be exposed to different emissions of light rays (but not limited), the amounts of mirrored currents of the different pixel units may be different, and the lengths of the exposure time intervals determined based on the different mirrored currents may be different. In this embodiment, the controlling circuit <b>115</b> can select a specific exposure time interval from the exposure time intervals having different lengths as a resultant exposure time interval for incoming frame(s), and for example the selected specific exposure time interval may be the exposure time interval having a maximum length, a minimum length, a median length, or an average length calculated from the different lengths. After determining the resultant exposure time interval, the controlling circuit <b>115</b> can be further arranged to finely adjust/calibrate the resultant exposure time interval.</p><p id="p-0034" num="0033">In other embodiments, the value of M may be smaller than the value of N, i.e. the number of processing circuits may be less than the number of total pixel units in the sensor array <b>105</b>. That is, each processing circuit is arranged to generate a mirrored current corresponding to a portion of pixel units. Other descriptions are not described again for brevity.</p><p id="p-0035" num="0034">The value of mirror ratio n:m, the capacitance of the reference capacitor Csh, and the level of the threshold voltage Vth can be adjusted in different embodiments. For example, an initial level of the threshold voltage Vth may be configured based on the setting of the full scale range of the analog-to-digital converter (ADC) in the comparator <b>1102</b>, and for example the initial level may be equal to 400 mV (but not limited) when the full scale voltage is equal to 800 mV (but not limited). The level of the threshold voltage Vth then can be dynamically adjusted based on different light conditions.</p><p id="p-0036" num="0035">Those skilled in the art will readily observe that numerous modifications and alterations of the device and method may be made while retaining the teachings of the invention. Accordingly, the above disclosure should be construed as limited only by the metes and bounds of the appended claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An image sensor device, comprising:<claim-text>a sensor array, comprising a plurality of pixel units each comprising a photodiode unit and a storage capacitor; for generating an image of a specific frame, the photodiode unit is illuminated by a light ray to generate a photodiode current which is stored in the storage capacitor when the image sensor device performs an exposure operation; and</claim-text><claim-text>a processing circuit, coupled to the sensor array, for generating a reference current in response to an amount of at least one photodiode current of at least one photodiode unit of at least one pixel unit when the at least one photodiode unit is exposed and before the exposure operation arranged for the specific frame starts, and then for predicting a length of an exposure time interval of the exposure operation for the specific frame based on the generated reference current.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The image sensor device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processing circuit comprises:<claim-text>a current mirror circuit with a mirror gain, having a first terminal selectively coupled to the at least one pixel unit and a second terminal selectively coupled to a reference capacitor, configured for generating the reference current based on the mirror gain according to a portion or a summation of the at least one photodiode current of the at least one photodiode unit;</claim-text><claim-text>the reference capacitor, coupled between the current mirror and a ground level, to be charged by the reference current; and</claim-text><claim-text>a comparator, having a first input terminal selectively coupled to the second terminal of the current mirror, a second input terminal coupled to a threshold voltage, and an output terminal for generating a shutter output signal which is used for determining the length of the exposure time interval.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The image sensor device of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein an end of the length of the exposure time interval is determined based on a timing of a signal level change of the shutter output signal.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The image sensor device of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein each pixel unit among the at least one pixel unit further comprises a first switch unit which is selectively coupled between a first voltage level and a second voltage level; the first voltage level is coupled to a first terminal of a reset transistor of the each pixel unit, and the second voltage level is coupled to a source follower transistor of the each pixel unit wherein the source follower transistor has a control terminal coupled to a second terminal of the reset transistor; when the image sensor device predicts the length of the exposure time interval, the first switch unit is open to separate the first voltage level from the second voltage level.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The image sensor device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the processing circuit further comprises a second switch unit which is selectively disposed between the first terminal of the current mirror circuit and the first terminal of the reset transistor of the each pixel unit in the at least one pixel unit; when the image sensor device predicts the length of the exposure time interval, the second switch unit is closed to make the first voltage level be connected to the current mirror circuit, and the reference current is generated from the second terminal of the current mirror circuit to charge the reference capacitor.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The image sensor device of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein a signal level change occurs in the shutter output signal generated at the output terminal of the comparator when a voltage at a first terminal of the reference capacitor increases and then becomes higher than the threshold voltage.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The image sensor device of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the processing circuit further comprises a third switch unit selectively coupled between the current mirror circuit and the reference capacitor; a start of the length of the exposure time interval is determined when the third switch unit becomes closed to make the generated reference current charge the reference capacitor.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The image sensor device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the processing circuit further comprises a fourth switch unit which is selectively coupled between two terminals of the reference capacitor; a charge energy at the reference capacitor is cleared when the fourth switch unit is closed.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The image sensor device of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein a capacitance of the reference capacitor, a value of the mirror gain, and a level of the threshold voltage are adjustable.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A method of an image sensor device, comprising:<claim-text>providing a sensor array which comprises a plurality of pixel units each comprising a photodiode unit and a storage capacitor;</claim-text><claim-text>using the sensor array to generate an image of a specific frame, the photodiode unit being illuminated by a light ray to generate a photodiode current which is stored in the storage capacitor when the image sensor device performs an exposure operation;</claim-text><claim-text>generating a reference current in response to an amount of at least one photodiode current of at least one photodiode unit of at least one pixel unit when the at least one photodiode unit is exposed and before the exposure operation arranged for the specific frame starts; and</claim-text><claim-text>predicting a length of an exposure time interval of the exposure operation for the specific frame based on the generated reference current.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, the generating step comprises:<claim-text>using a current mirror circuit with a mirror gain having a first terminal selectively coupled to the at least one pixel unit and a second terminal selectively coupled to a reference capacitor to generate the reference current based on the mirror gain according to a portion or a summation of the at least one photodiode current of the at least one photodiode unit; and</claim-text><claim-text>generating a shutter output signal which is used for determining the length of the exposure time interval according to the reference current.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein an end of the length of the exposure time interval is determined based on a timing of a signal level change of the shutter output signal.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein each pixel unit among the at least one pixel unit further comprises a first switch unit which is selectively coupled between a first voltage level and a second voltage level; the first voltage level is coupled to a first terminal of a reset transistor of the each pixel unit, and the second voltage level is coupled to a source follower transistor of the each pixel unit wherein the source follower transistor has a control terminal coupled to a second terminal of the reset transistor; when the image sensor device operates under a shutter prediction mode, the first switch unit is open to separate the first voltage level from the second voltage level.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein a second switch unit is selectively disposed between the first terminal of the current mirror circuit and the first terminal of the reset transistor of the each pixel unit in the at least one pixel unit; when the image sensor device predicts the length of the exposure time interval, the second switch unit is closed to make the first voltage level be connected to the current mirror circuit, and the reference current is generated from the second terminal of the current mirror circuit to charge the reference capacitor.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein a signal level change occurs in the shutter output signal generated at an output terminal of a comparator when a voltage at a first terminal of the reference capacitor increases and then becomes higher than a threshold voltage.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein a third switch unit is selectively coupled between the current mirror circuit and the reference capacitor; a start of the length of the exposure time interval is determined when the third switch unit becomes closed to make the generated reference current charge the reference capacitor.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein a fourth switch unit is selectively coupled between two terminals of the reference capacitor; a charge energy at the reference capacitor is cleared when the fourth switch unit is closed.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein a capacitance of the reference capacitor, a value of the mirror gain, and a level of a threshold voltage are adjustable.</claim-text></claim></claims></us-patent-application>