<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007392A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007392</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17567102</doc-number><date>20211231</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>R</subclass><main-group>3</main-group><subgroup>02</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>R</subclass><main-group>3</main-group><subgroup>02</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc></classifications-cpc><invention-title id="d2e43">METHOD FOR AUDIO SIGNAL NOISE CANCELLATION, APPARATUS FOR AUDIO SIGNAL PROCESSING, AND ELECTRONIC DEVICE</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2021/103773</doc-number><date>20210630</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17567102</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Shenzhen Goodix Technology Co., Ltd.</orgname><address><city>Shenzhen</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>CHEN</last-name><first-name>Jiachao</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>LIU</last-name><first-name>Chang</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>YAN</last-name><first-name>Xiaodong</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method for audio signal noise cancellation is provided. In response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor calculates the new noise cancellation coefficients and writes the new noise cancellation coefficients into an idle storage module in the at least two storage modules, and the digital signal processor sends an update request for updating the noise cancellation coefficients to the active noise cancellation module. The update request carries position information configured to indicate a position of the storage module to which the new noise cancellation coefficients is written. The active noise cancellation module reads the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request, and performs noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="163.91mm" wi="129.71mm" file="US20230007392A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="177.21mm" wi="120.40mm" file="US20230007392A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="177.97mm" wi="131.74mm" file="US20230007392A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="131.23mm" wi="78.15mm" orientation="landscape" file="US20230007392A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="181.69mm" wi="141.48mm" file="US20230007392A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="126.75mm" wi="64.85mm" orientation="landscape" file="US20230007392A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="217.59mm" wi="123.19mm" file="US20230007392A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="215.22mm" wi="136.74mm" file="US20230007392A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="133.52mm" wi="73.83mm" orientation="landscape" file="US20230007392A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="207.86mm" wi="125.56mm" file="US20230007392A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="218.27mm" wi="125.31mm" file="US20230007392A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="131.15mm" wi="64.85mm" orientation="landscape" file="US20230007392A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="211.67mm" wi="128.35mm" file="US20230007392A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="121.50mm" wi="150.03mm" file="US20230007392A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="214.29mm" wi="136.48mm" file="US20230007392A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="97.71mm" wi="140.21mm" file="US20230007392A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">The present disclosure is a continuation of PCT Patent Application No. PCT/CN2021/103773, filed on Jun. 30, 2021, which is incorporated by reference herein in its entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">The present disclosure relates to the field of audio signal processing technologies, in particular to a method for audio signal noise cancellation, an apparatus for audio signal processing, and an electronic device.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">Active noise cancellation (ANC) has been widely used in electronic products such as wired headphones, true wireless stereo (TWS) headphones, even automotive sound systems, which brings consumers an increasingly extreme acoustic experience. A basic working principle of the active noise cancellation is that a noise cancellation microphone obtains noise of the external environment as a reference signal to input into a noise cancellation circuit, and the noise cancellation circuit produces a signal of equal frequency and amplitude and opposite phase to the reference signal to cancel the noise. Compared with analog ANC, digital ANC has the advantages of strong stability, good flexibility and higher yield. Therefore, it is future development direction to use digital chips for realizing ANC noise cancellation processing.</p><p id="p-0005" num="0004">In an ANC system, i.e., an audio output device with ANC function, ambient noise characteristics often change. In order to keep the best noise cancellation effect of ANC at all times, the ANC system constantly adjusts filter coefficients of each filter in the system to realize adaptive ANC. A simple method to update coefficients is to turn the ANC off each time the coefficients are being updated, and then turn the ANC back on after all the coefficients are updated. If the update time is short, with respect to such an update method, it is difficult for the user to perceive that the noise cancellation is interrupted, which does not affect the user experience. However, when more coefficients are required to be updated or a system bus is busy, the update time may be longer, and restarting the ANC may affect the user experience. Another method is to dynamically update the coefficients without turning off the ANC, but the coefficients are easily mixed up before and after the update, thus causing the noise and affecting the user's auditory feeling.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0006" num="0005">Some embodiments of the present disclosure are intended to provide a method for audio signal noise cancellation, an apparatus for audio signal processing, and an electronic device, which improve integrity of coefficient update when the coefficient update is performed without turning off active noise cancellation, avoid noise caused by the coefficient update, improve effect of the active noise cancellation, and improve user's auditory feeling.</p><p id="p-0007" num="0006">Some embodiments of the present disclosure provide a method for audio signal noise cancellation, applied at an apparatus for audio signal processing, wherein the apparatus for audio signal processing includes a digital signal processor, an active noise cancellation module and at least two storage modules, and the method includes: in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor calculating the new noise cancellation coefficients and writing the new noise cancellation coefficients into an storage module that is idle in the at least two storage modules, and the digital signal processor sending an update request for updating the noise cancellation coefficients to the active noise cancellation module, wherein the update request carries position information configured to indicate a position of the storage module to which the new noise cancellation coefficients is written; and the active noise cancellation module reading the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request, and performing noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends.</p><p id="p-0008" num="0007">Some embodiments of the present disclosure further provide an apparatus audio signal processing, comprising: a digital signal processor, an active noise cancellation module and at least two storage modules; wherein in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor is configured to calculate the new noise cancellation coefficients, write the new noise cancellation coefficients into an storage module that is idle in the at least two storage modules, and send an update request for updating the noise cancellation coefficients to the active noise cancellation module, wherein the update request carries position information configured to indicate a position of the storage module to which the new noise cancellation coefficients is written; and the active noise cancellation module is configured to read the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request, and perform noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends.</p><p id="p-0009" num="0008">Some embodiments of the present disclosure further provide an electronic device, comprising: an apparatus for audio signal collection and the apparatus for audio signal processing according to the above embodiments, wherein the apparatus for audio signal processing is configured to perform noise cancellation processing on audio signals collected by the apparatus for audio signal collection.</p><p id="p-0010" num="0009">In the embodiments of the present disclosure, in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients without turning off the active noise cancellation module, the digital signal processor calculates the new noise cancellation coefficients and writes the new noise cancellation coefficients into an storage module that is idle in the at least two storage modules, and the digital signal processor sends an update request for updating the noise cancellation coefficients to the active noise cancellation module. The update request carries position information configured to indicate a position of the storage module to which the new noise cancellation coefficients is written. Then, the active noise cancellation module reads the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request, and performs noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends. In the solution of the present disclosure, the active noise cancellation module does not immediately update the coefficients used in a process of the noise cancellation processing after receiving the update request, but selects the end of the current noise cancellation processing cycle as a timing for updating the old coefficients to new coefficients in the noise cancellation processing, so as to ensure that the noise cancellation processing may still be performed in the current noise cancellation processing cycle based on the noise cancellation coefficients before the update as a whole, and the noise cancellation processing may be performed in the subsequent noise cancellation processing cycle based on updated noise cancellation coefficients as a whole, thereby improving integrity of noise cancellation coefficient update, avoiding noise caused by the noise cancellation coefficient update, and improving user's auditory feeling.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0011" num="0010">One or more embodiments are described as examples with reference to the corresponding figures in the accompanying drawings, and the examples do not constitute a limitation to the embodiments. Elements with the same reference numerals in the accompanying drawings represent similar elements. The figures in the accompanying drawings do not constitute a proportion limitation unless otherwise stated.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a specific structure diagram of a basic data path of typical digital ANC in the existing technology;</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic structural diagram of a transposed direct type II biquad filter in the existing technology;</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart of a method for audio noise cancellation in an embodiment of the present disclosure;</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is an architectural diagram of an apparatus for audio signal processing in an embodiment;</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is another flowchart of a method for audio noise cancellation in an embodiment;</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>6</b><i>a </i></figref>is a distribution diagram of storage positions of noise cancellation coefficients in an embodiment;</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>6</b><i>b </i></figref>is a scene graph of noise cancellation coefficient update of an ANC module in an embodiment;</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is yet another flowchart of a method for audio noise cancellation in an embodiment;</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>8</b><i>a </i></figref>is another distribution diagram of storage positions of noise cancellation coefficients in an embodiment;</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>8</b><i>b </i></figref>is another scene graph of noise cancellation coefficient update of an ANC module in an embodiment;</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is still another flowchart of a method for audio noise cancellation in an embodiment;</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>10</b><i>a </i></figref>is still another distribution diagram of storage positions of noise cancellation coefficients in an embodiment;</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>10</b><i>b </i></figref>is still another scene graph of noise cancellation coefficient update of an ANC module in an embodiment;</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is another architectural diagram of an apparatus for audio signal processing in an embodiment;</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is still yet another flowchart of a method for audio noise cancellation in an embodiment; and</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a schematic structural diagram of an apparatus for audio noise cancellation in an embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0028" num="0027">In order to make objectives, technical solutions and advantages of the present disclosure clearer, embodiments of the present disclosure will be described below in detail with reference to accompanying drawings and embodiments. It should be understood that, in various embodiments, many technical details are proposed for the reader to better understand the present disclosure. However, the technical solutions claimed in the present disclosure may be realized even without these technical details and various changes and modifications based on the following embodiments. The following embodiments are divided for convenience of description, and shall not constitute any limitation on specific implementations of the present disclosure. The embodiments may be referenced to each other and combined with each other without contradiction.</p><p id="p-0029" num="0028">In a hardware system of complex active noise cancellation, with respect to one audio sampling data, an active noise cancellation module usually takes a noise cancellation processing cycle as a period in which the audio sampling data is input into the active noise cancellation module and the noise cancellation module performs all noise cancellation processing on the audio sampling data to finally output audio data after noise cancellation. The active noise cancellation module starts active noise cancellation processing of a next audio sampling data after the active noise cancellation processing performed on the audio sampling data is completed and corresponding audio data after noise cancellation is output.</p><p id="p-0030" num="0029">The active noise cancellation module mainly includes various filters. In one noise cancellation processing cycle, the active noise cancellation module reads, along with a processing phase where the audio sampling data is, coefficients (collectively referred to as &#x201c;noise cancellation coefficients&#x201d;) of filters required for the processing phase from a storage module to complete processing operations in this processing phase. Because a running environment of the active noise cancellation module is changeable, it is necessary to update the noise cancellation coefficient of the active noise cancellation module so as to achieve the best noise cancellation effect.</p><p id="p-0031" num="0030">The active noise cancellation (ANC) module is a noise cancellation module commonly used for noise cancellation of audio data. <figref idref="DRAWINGS">FIG. <b>1</b></figref> is a basic data path of a typical digital ANC module. Data (ref_mic_in) of a reference microphone in the data path is processed through a filter chain and is added to input audio data (music_in) to form a feedforward path. Data (err_mic_in) of an error microphone and output audio data (music_out) are processed through another filter chain and are added to music_in to form a feedback path.</p><p id="p-0032" num="0031">In the filter chains shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, a finite impulse response (FIR) filter and an infinite impulse response (IIR) filter are widely used. A biquad filter is one of the most commonly used IIR filters, which has variously different structures. <figref idref="DRAWINGS">FIG. <b>2</b></figref> is a structure diagram of a transposed direct type II biquad filter in the existing technology, which is suitable for hardware implementation. A higher-level filter may be constructed by using the biquad filter as a basic unit to meet complex requirements on audio control.</p><p id="p-0033" num="0032">In an ANC system, i.e., an audio output device with ANC function, it is necessary to adjust the filter coefficients in the ANC module continuously through software algorithm to realize adaptive ANC in order to keep the best noise cancellation effect at all times because ambient noise characteristics often change. Due to a recursive property of the IIR filter in the filter chain, dynamic update of filter coefficients without turning off the active noise cancellation is unable to guarantee the integrity of the update, so that the filter coefficients before and after the update are mixed simultaneously, thus causing noise and affecting user's auditory feeling.</p><p id="p-0034" num="0033">Taking the biquad filter shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> as an example, five noise cancellation coefficients (b1, b2, b3, a1, a2) included in the filter are a whole, which need to be synchronously updated in a certain noise cancellation processing cycle to prevent occurrence of an undetermined intermediate operation state. However, it is difficult to ensure that each of the filters in the active noise cancellation module completes overall update of all the noise cancellation coefficients within one noise cancellation processing cycle by taking a &#x201c;storing&#x201d; action, i.e., storing updated noise cancellation coefficients into the storage module through the software algorithm, as a timing for updating the noise cancellation coefficients in the active noise cancellation module. For example, the five noise cancellation coefficients used for the operation of the biquad filter in <figref idref="DRAWINGS">FIG. <b>2</b></figref> are a whole. If the timing at which the software algorithm stores the updated noise cancellation coefficients does not match the timing at which the filter reads the noise cancellation coefficients, it may easily occur that b1, b2 and b3 are the noise cancellation coefficients before the update while a1 and a2 are the noise cancellation coefficients after the update in one noise cancellation processing cycle, i.e., two sets of new and old noise cancellation coefficients are used at the same time in one noise cancellation processing cycle, which causes an incorrect output result of the current noise cancellation processing cycle, thereby causing noise and poor auditory experience of the user. Therefore, a solution is urgently needed so that the noise cancellation coefficients of the active noise cancellation module are updated synchronously in one noise cancellation processing cycle without turning off the active noise cancellation module, and complexity of the system is not increased obviously.</p><p id="p-0035" num="0034">An apparatus for audio signal processing is constructed by combining the active noise cancellation module and the software algorithm. The apparatus for audio signal processing includes a digital signal processor, the active noise cancellation module and at least two storage modules. The software algorithm may be instantiated as the digital signal processor configured to determine whether the noise cancellation coefficients of the active noise cancellation module need to be updated. If the noise cancellation coefficients of the active noise cancellation module need to be updated, new noise cancellation coefficients being generated are written into the storage module, and an update request is initiated to the active noise cancellation module. The active noise cancellation module reads the updated new noise cancellation coefficients from the storage module based on the update request, and selects an appropriate time to perform the noise cancellation processing using the updated noise cancellation coefficients, so as to ensure that all the noise cancellation coefficients are updated in one noise cancellation processing cycle.</p><p id="p-0036" num="0035">In an embodiment, the method for audio signal noise cancellation shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, applied at the apparatus for audio signal processing described above, which includes the following steps.</p><p id="p-0037" num="0036">In step <b>301</b>, in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor calculates the new noise cancellation coefficients and writes the new noise cancellation coefficients into a storage module that is idle in the at least two storage modules.</p><p id="p-0038" num="0037">For example, in an architecture of the apparatus for audio signal processing shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, on the one hand, the digital signal processor is responsible for running audio preprocessing algorithm, and sending decoded audio data (audio sampling data to be processed) to the ANC module through a bus for operation, so as to implement noise cancellation processing. On the other hand, in a process of performing the noise cancellation processing by the ANC module, the digital signal processor reads intermediate data calculated by the ANC module, monitors change of the ambient noise through the intermediate data in real time, and executes preset algorithm on changed data to determine whether to update the noise cancellation coefficients of the ANC module. That is, the digital signal processor automatically determines whether to update the current noise cancellation coefficients to the new noise cancellation coefficients according to the ambient noise of the apparatus for audio signal processing. When update of the noise cancellation coefficients is required, the digital signal processor first calculates new noise cancellation coefficients of the ANC module (called as &#x201c;new noise cancellation coefficients&#x201d;). The new noise cancellation coefficients have at least one coefficient different from a set of noise cancellation coefficients before the update.</p><p id="p-0039" num="0038">In this embodiment, the audio preprocessing algorithm used by the digital signal processor to decode and generate the audio data, the preset algorithm used to determine whether to update the noise cancellation coefficients of the ANC module, and the algorithm used to calculate the new noise cancellation coefficients are not respectively limited, and those skilled in the art may use existing algorithms to complete the above calculation process.</p><p id="p-0040" num="0039">The digital signal processor writes the calculated new noise cancellation coefficients to the idle storage module in the at least two storage modules through the bus. Here, the so-called &#x201c;idle storage module&#x201d; refers generally to a storage module currently in a &#x201c;writable&#x201d; state. When a granularity of a &#x201c;read-write&#x201d; operation for the storage module is a storage unit (one storage module may include a plurality of storage units), the storage module in the &#x201c;writable&#x201d; state may also refer to a storage unit in the &#x201c;writable&#x201d; state. For example, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, a storage module 0 is in a &#x201c;readable&#x201d; state and a storage module 1 is in the &#x201c;writable&#x201d; state currently, the digital signal processor may write new noise cancellation coefficients into the storage module 1. Specifically, in this embodiment, the storage module in the &#x201c;readable&#x201d; state is a storage module or storage unit where the noise cancellation coefficients used in the current noise cancellation processing cycle are, and other storage modules or storage units except these storage modules or storage units may be considered to be in the &#x201c;writable&#x201d; state, i.e., the idle storage module.</p><p id="p-0041" num="0040">Considering that the storage module has limited resources, when the updated noise cancellation coefficients are written into the storage module, positions in the storage module where the noise cancellation coefficients used in a historical noise cancellation processing cycle farthest from the current noise cancellation processing cycle are may be selected for overwriting, or only coefficients in the updated noise cancellation coefficients which are changed from the noise cancellation coefficients before the update may be written into the idle storage module. It should be understood that differences between the noise cancellation coefficients before and after the update may be large when ambient noise characteristics change greatly. In order to ensure that no noise generated in the coefficient update process, a plurality of sets of transition noise cancellation coefficients may be generated between the noise cancellation coefficients before and after the update by means of interpolation, and then the plurality of sets of transition coefficients and the new noise cancellation coefficients are written into the idle storage module stepwise to increase smoothness of the noise cancellation coefficient update.</p><p id="p-0042" num="0041">In this scenario, the bus is configured to connect the digital signal processor, the storage modules, and the ANC module and be responsible for data communication between these modules. Devices on the bus follow the same protocols and standards and send and receive data according to certain priorities. Conventional bus protocols are advanced microcontroller bus architecture (AMBA) on-chip bus protocol and the like.</p><p id="p-0043" num="0042">In addition, in this scenario, a plurality of storage modules may be provided, and each storage module may be configured to cache a set of noise cancellation coefficients used in one noise cancellation processing cycle. For example, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, two sets of noise cancellation coefficients before and after the update may be in different storage modules. When an ANC module reads a certain storage module, the digital signal processor is unable to modify contents of the storage module and only able to write an updated set of noise cancellation coefficients into the idle storage module. When the writing of one set of noise cancellation coefficients is completed, objects of the two storage modules being read and written are changed. In this way, the integrity and synchronicity of each coefficient update are ensured. In consideration of power consumption and cost, a register group or a single port random access memory (RAM) may be selected to implement the storage module.</p><p id="p-0044" num="0043">In step <b>302</b>, the digital signal processor sends an update request for updating the noise cancellation coefficients to the active noise cancellation module, and the update request carries position information configured to indicate positions where the new noise cancellation coefficients are written into the storage module.</p><p id="p-0045" num="0044">After the new noise cancellation coefficients are written into the storage module, the digital signal processor sends the update request to the ANC module. The update request carries the position information configured to indicate the positions where the new noise cancellation coefficients are written into the storage module. This embodiment does not limit the content and form of the position information and the manner of indicating the positions where the new noise cancellation coefficients are written into the storage module by the position information. For example, the position information may be a specific storage address of a new noise cancellation coefficient in each storage module, or may be an identification corresponding to the specific storage address, such as a storage module identification, a storage unit identification, and the like.</p><p id="p-0046" num="0045">In step <b>303</b>, the active noise cancellation module reads the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request.</p><p id="p-0047" num="0046">For example, if the position information carried in the update request is a storage address in the storage module, the ANC module may directly read the updated noise cancellation coefficient from the storage address. If the position information carried in the update request is an identification corresponding to the storage address, such as a storage module identification, a storage unit identification, and the like, the ANC module may read the updated noise cancellation coefficient from the storage address in the storage module or in the storage unit corresponding to the identification.</p><p id="p-0048" num="0047">In step <b>304</b>, the active noise cancellation module performs noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends.</p><p id="p-0049" num="0048">The noise cancellation processing cycle of the active noise cancellation module with respect to one audio sampling data is a period in which the audio sampling data is input into the active noise cancellation module and the noise cancellation module performs all noise cancellation processing on the audio sampling data to finally output audio data after the noise cancellation. The active noise cancellation module starts active noise cancellation processing of a next audio sampling data after the active noise cancellation processing performed on the audio sampling data is completed and corresponding audio data after the noise cancellation is output. The ANC module is configured to receive an audio data stream sent by the digital signal processor, collect noise data such as ref mic_in and err mic_in data from an environment as audio sampling data, perform digital filtering processing on the audio sampling data, and output audio data on which the noise cancellation is performed to drive a next-stage circuit. During performing the noise cancellation processing, the ANC module continues to complete the noise cancellation processing of the current noise cancellation processing cycle based on the current noise cancellation coefficients after receiving the update request sent by the digital signal processor. When the current noise cancellation processing cycle ends and a next noise cancellation processing cycle starts, the ANC module acquires updated noise cancellation coefficients from the storage module indicated by the position information carried in the update request according to the position information, and continues the subsequent noise cancellation processing based on the updated noise cancellation coefficients. The ANC module completes overall update of all the noise cancellation coefficients in one noise cancellation processing cycle by selecting a time node at which the current noise cancellation processing cycle ends and the next noise cancellation processing period starts as a timing to update the noise cancellation coefficients.</p><p id="p-0050" num="0049">As shown in the above example, in the method for audio signal noise cancellation provided in the present disclosure, in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients without turning off the active noise cancellation module, the digital signal processor calculates the new noise cancellation coefficients and writes the new noise cancellation coefficients into an storage module that is idle in the at least two storage modules, and the digital signal processor sends an update request for updating the noise cancellation coefficients to the active noise cancellation module. The update request carries position information configured to indicate a position of the storage module to which the new noise cancellation coefficients is written. Then, the active noise cancellation module reads the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request, and performs noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends. In the solution of the present disclosure, the active noise cancellation module does not immediately update the coefficients used in a process of the noise cancellation processing after receiving the update request, but selects the end of the current noise cancellation processing cycle as a timing for updating the old coefficients to new coefficients in the noise cancellation processing, so as to ensure that the noise cancellation processing may still be performed in the current noise cancellation processing cycle based on the noise cancellation coefficients before the update as a whole, and the noise cancellation processing may be performed in the subsequent noise cancellation processing cycle based on updated noise cancellation coefficients as a whole, thereby improving integrity of noise cancellation coefficient update, avoiding noise caused by the noise cancellation coefficient update, and improving user's auditory feeling.</p><p id="p-0051" num="0050">In the following three embodiments, three specific implementations in which the digital signal processor writes the calculated new noise cancellation coefficients into an idle storage module in the at least two storage modules, the digital signal processor correspondingly generates the update request, and the active noise cancellation module reads the updated noise cancellation coefficients according to the update request are respectively provided.</p><p id="p-0052" num="0051">In a method for audio signal noise cancellation shown in an embodiment, all the new noise cancellation coefficients are written into the idle storage module. As shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, on the basis of the method embodiment shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the at least two storage modules include two storage modules. The current noise cancellation coefficients are written into one of the two storage modules. Accordingly, step <b>301</b> specifically includes the following sub-steps.</p><p id="p-0053" num="0052">In sub-step <b>3011</b>, in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor calculates the new noise cancellation coefficients and writes the new noise cancellation coefficients into the other of the two storage modules.</p><p id="p-0054" num="0053">The position information carried in the update request includes a module identification of the other of the two storage modules.</p><p id="p-0055" num="0054">Specifically, the new noise cancellation coefficients calculated by the digital signal processor may be expressed as [a2, b2, c2, d2], and the noise cancellation coefficients before the update (i.e., noise cancellation coefficients used in the current noise cancellation processing cycle) may be expressed as [a1, b1, c1, d1], where a1 and a2, b1 and b2, c1 and c2, d1 and d2 are noise cancellation coefficients which respectively correspond to noise cancellation coefficients a, b, c, d before and after the update. All the noise cancellation coefficients before the update have been written into one of the two storage modules. The digital signal processor directly writes updated noise cancellation coefficients into the other of the two storage modules after generating the updated noise cancellation coefficient.</p><p id="p-0056" num="0055">For example, in combination with a distribution diagram of storage positions of the noise cancellation coefficients shown in <figref idref="DRAWINGS">FIG. <b>6</b><i>a </i></figref>and a scene graph of noise cancellation coefficient update of the ANC module shown in <figref idref="DRAWINGS">FIG. <b>6</b><i>b</i></figref>, an array of the noise cancellation coefficients is represented as [a, b, c, d]. During an update of the noise cancellation coefficients, the noise cancellation coefficients before the update are stored in a storage module 0 and represented as [0, 0, 0, 0]. Assuming that the updated noise cancellation coefficients are [1, 1, 1, 1], the digital signal processor may directly store the updated noise cancellation coefficients [1, 1, 1, 1] in a storage module 1. Then, the storage module 0 is set to the writable state and the storage module 1 is set to the readable state to, so that the ANC module is able to update noise cancellation coefficients used in the subsequent noise cancellation processing cycle.</p><p id="p-0057" num="0056">Accordingly, on the basis of the sub-step <b>3011</b>, as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the step <b>303</b> may specifically include the following sub-steps.</p><p id="p-0058" num="0057">In sub-step <b>3031</b>, the active noise cancellation module reads the new noise cancellation coefficients in the other of the two storage modules based on a module identification of the other of the two storage modules carried in the update request.</p><p id="p-0059" num="0058">In this example, all the updated noise cancellation coefficients are written into the other storage module different from the storage module where the current noise cancellation coefficients are, so that it is convenient to perform a write operation on all the updated noise cancellation coefficients quickly.</p><p id="p-0060" num="0059">In a method for audio signal noise cancellation shown in another embodiment, the new noise cancellation coefficients are partially written to an idle storage module. As shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, on the basis of the method embodiment shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the at least two storage modules include two storage modules, each storage module is divided into at least two storage units, and the at least two storage units in one of the two storage modules are in one-to-one correspondences with the at least two storage units in the other of the two storage modules. The current noise cancellation coefficients are written into the one of the two storage modules. Accordingly, step <b>301</b> specifically includes the following sub-steps.</p><p id="p-0061" num="0060">In sub-step <b>3012</b>, in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor calculates the new noise cancellation coefficients. In response to at least one noise cancellation coefficient in the new noise cancellation coefficients being different from at least one noise cancellation coefficient in the current noise cancellation coefficients which corresponds to the at least one noise cancellation coefficient in the new noise cancellation coefficients, and in response to the at least one noise cancellation coefficient in the current noise cancellation coefficients existing in at least one storage unit in the one of the two storage modules, the at least one noise cancellation coefficient in the new noise cancellation coefficients is acquired and written into at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules.</p><p id="p-0062" num="0061">The position information carried in the update request includes at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules.</p><p id="p-0063" num="0062">Specifically, the new noise cancellation coefficients calculated by the digital signal processor may be expressed as [a2, b2, c2, d2], and the noise cancellation coefficients before the update (i.e., noise cancellation coefficients used in the current noise cancellation processing cycle) may be expressed as [a1, b1, c1, d1], where a1 and a2, b1 and b2, c1 and c2, d1 and d2 are noise cancellation coefficients which respectively correspond to noise cancellation coefficients a, b, c, d before and after the update. All the noise cancellation coefficients before the update have been written into one of the two storage modules, with a1 and b1 in the same storage unit, and c1 and d1 in the same storage unit. The digital signal processor compares each set of noise cancellation coefficients before and after the update after generating the updated noise cancellation coefficients. When it is determined that at least one noise cancellation coefficient in the noise cancellation coefficients before the update is different from that in the noise cancellation coefficients after the update, e.g., a1 is different from a2 and b1 is different from b2, the digital signal processor first acquires coefficients (a2 and b2) corresponding to the coefficients (i.e., a1 and b1) stored in a storage unit where the a1 and b1 are from the new noise cancellation coefficients, and then writes the corresponding coefficients (a2 and b2) into a storage unit in the other of the two storage modules (i.e., the storage module in which a1 and b1 do not exist) which corresponds to the storage unit where the a1 and b1 exist, thus reducing an amount of data of the noise cancellation coefficients actually written into the storage modules in the updated noise cancellation coefficients.</p><p id="p-0064" num="0063">For example, in combination with a distribution diagram of storage positions of noise cancellation coefficients shown in <figref idref="DRAWINGS">FIG. <b>8</b><i>a </i></figref>and a scene graph of noise cancellation coefficient update of the ANC module shown in <figref idref="DRAWINGS">FIG. <b>8</b><i>b</i></figref>, an array of the noise cancellation coefficients is represented as [a, b, c, d]. In the storage module 0 and the storage module 1, storage addresses for storing a and b are classified into one storage unit (i.e., a storage unit 0_0 and a storage unit 1_0), and the storage unit 0_0 corresponds to storage unit 1_0. Storage addresses for storing c and d are classified into one storage unit (i.e., a storage unit 0_1 and a storage unit 1_1), and the storage unit 0_1 corresponds to storage unit 1_1. During an update of the noise cancellation coefficients, the noise cancellation coefficients before the update are stored in the storage module 0 and represented as [0, 0, 0, 0]. Assuming that the updated noise cancellation coefficients are [1, 1, 0, 0], and that the two noise cancellation coefficients a and b in the updated noise cancellation coefficients are different from those in the noise cancellation coefficients before the update through comparison, the digital signal processor may store updated noise cancellation coefficients 1 and 1 corresponding to the a and b in the storage module 1 and the storage unit 1_0 configured to store the noise cancellation coefficients a and b. After the write operation is completed, the storage unit 0_0 configured to store the noise cancellation coefficients a and b in the storage module 0 is set to the writable state, and the storage unit 1_0 configured to store the noise cancellation coefficients a and b in the storage module 1 is set to the readable state. The updated new noise cancellation coefficients include noise cancellation coefficients c and d being 0 and 0 stored in the storage unit 0_1 in the storage module 0 and noise cancellation coefficients a and b being 1 and 1 stored in the storage unit 1_0 in the storage module 1.</p><p id="p-0065" num="0064">Accordingly, on the basis of sub-step <b>3012</b>, as shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, step <b>303</b> may include the following sub-steps.</p><p id="p-0066" num="0065">In sub-step <b>3032</b>, the active noise cancellation module reads at least one noise cancellation coefficient in the at least one storage unit in the other of the two storage modules based on the at least one unit identification of the at least one storage unit in the other of the two storage modules carried in the update request. The at least one storage unit in the other of the two storage modules corresponds to the at least one storage unit in the one of the two storage modules.</p><p id="p-0067" num="0066">In this embodiment, when the digital signal processor writes the updated noise cancellation coefficients into the idle storage module, the data amount of the written new noise cancellation coefficients may be reduced by selectively writing noise cancellation coefficients different from the current noise cancellation coefficients in the updated noise cancellation coefficients into the storage units in the idle storage module, thereby reducing the occupation of transmission resources (such as bus resources) and storage resources. Meanwhile, the ANC module may continue to read the noise cancellation coefficients that are not changed before and after the update from the original storage module based on the position information carried in the update request, and read the noise cancellation coefficients that are changed before and after the update from the other storage module.</p><p id="p-0068" num="0067">In a method for audio signal noise cancellation shown in another embodiment, all or some of the new noise cancellation coefficients are written into the idle storage module. As shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, on the basis of the method embodiment shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the current noise cancellation coefficients are written into at least one storage unit in one of the two storage modules and at least one storage unit in the other of the two storage modules. The at least one storage unit in the other of the two storage modules corresponds to remaining storage units in the one of the two storage modules except the at least one storage unit in the one of the two storage modules. Correspondingly, step <b>301</b> specifically includes the following sub-steps.</p><p id="p-0069" num="0068">In sub-step <b>3013</b>, in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor calculates the new noise cancellation coefficients. In response to the at least one noise cancellation coefficient in the new noise cancellation coefficients being different from the at least one noise cancellation coefficient in the current noise cancellation coefficients which corresponds to the at least one noise cancellation coefficient in the new noise cancellation coefficients, and in response to the at least one noise cancellation coefficient in the current noise cancellation coefficients existing in the at least one storage unit in the one of the two storage modules and/or the at least one storage unit in the other of the two storage modules, at least one first coefficient corresponding to the at least one noise cancellation coefficient in the at least one storage unit in the one of the two storage modules is acquired from the new noise cancellation coefficients, and/or, at least one second coefficient corresponding to the at least one noise cancellation coefficient in the at least one storage unit in the other of the two storage modules is acquired from the new noise cancellation coefficients, and the at least one first coefficient is written into at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules, and/or, the at least one second coefficient is written into at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules.</p><p id="p-0070" num="0069">The position information carried in the update request includes one or both of at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules and at least one unit identification of the at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules.</p><p id="p-0071" num="0070">Specifically, the new noise cancellation coefficients calculated by the digital signal processor may be expressed as [a2, b2, c2, d2], and the noise cancellation coefficients before the update (i.e., noise cancellation coefficients used in the current noise cancellation processing cycle) may be expressed as [a1, b1, c1, d1], where a1 and a2, b1 and b2, c1 and c2, d1 and d2 are noise cancellation coefficients which respectively correspond to noise cancellation coefficients a, b, c, d before and after the update. All the noise cancellation coefficients before the update have been written into one of the two storage modules, with a1 and b1 in the same storage unit, c1 and d1 in the same storage unit, and these two storage units are respectively in different storage modules. The digital signal processor compares each set of noise cancellation coefficients before and after the update after generating the updated noise cancellation coefficients. When it is determined that at least one noise cancellation coefficient in the noise cancellation coefficients before the update is different from that in the noise cancellation coefficients after the update, e.g., a1 is different from a2 and b1 is different from b2, c1 is different from c2 and d1 is different from d2, or the four noise cancellation coefficients before the update are all different from the four noise cancellation coefficients after the update, the digital signal processor may continue to execute related processing steps with reference to step <b>3012</b>, respectively acquire coefficients corresponding to the coefficients stored in each of storage units where updated and changed current noise cancellation coefficients exist from the new noise cancellation coefficients, write the coefficients corresponding to the coefficients stored in each of the storage units into storage units in the other storage module different from the storage module where each of the above storage units is. Each of the storage units in the other storage module corresponds to each of the above storage units.</p><p id="p-0072" num="0071">For example, with reference to a distribution diagram of storage positions of noise cancellation coefficients shown in <figref idref="DRAWINGS">FIG. <b>10</b><i>a </i></figref>and a scene graph of noise cancellation coefficient update of the ANC module shown in <figref idref="DRAWINGS">FIG. <b>10</b><i>b</i></figref>, an array of the noise cancellation coefficients is represented as [a, b, c, d]. In the storage module 0 and the storage module 1, storage addresses for storing a and b are classified into one storage unit (i.e., the storage unit 0_0 and the storage unit 1_0), and the storage unit 0_0 corresponds to storage unit 1_0. Storage addresses for storing c and d are classified into one storage unit (i.e., the storage unit 0_1 and the storage unit 1_1), and the storage unit 0_1 corresponds to storage unit 1_1. During an update of the noise cancellation coefficients, the noise cancellation coefficients before the update are stored in the storage unit 0_0 in the storage module 0 and the storage unit 1_1 in the storage module 1 and represented as [0, 0, 0, 0]. Assuming that the updated noise cancellation coefficients are [1, 1, 1, 1], and that the four noise cancellation coefficients a, b, c, and d in the updated noise cancellation coefficients are different from those in the noise cancellation coefficients before the update, the digital signal processor may store the updated noise cancellation coefficients 1 and 1 corresponding to the a and b in the storage module 1 and the storage unit 1_0 configured to store the noise cancellation coefficients a and b, and store updated noise cancellation coefficients 1 and 1 corresponding to the c and d in the storage module 0 and the storage unit 0_1 configured to store the noise cancellation coefficients c and d. After the write operation is completed, the storage unit 0_0 configured to store the noise cancellation coefficients a and b in the storage module 0 is set to the writable state, the storage unit 1_0 configured to store the noise cancellation coefficients a and b in the storage module 1 is set to the readable state, the storage unit 0_1 configured to store the noise cancellation coefficients c and d in the storage module 0 is set to the readable state, and the storage unit 1_1 configured to store the noise cancellation coefficients c and d in the storage module 1 is set to the writable state. The updated new noise cancellation coefficients include noise cancellation coefficients c and d being 1 and 1 stored in the storage unit 0_1 in the storage module 0 and noise cancellation coefficients a and b being 1 and 1 stored in the storage unit 1_0 in the storage module 1.</p><p id="p-0073" num="0072">Accordingly, on the basis of sub-step <b>3013</b>, as shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, step <b>303</b> may include the following sub-steps.</p><p id="p-0074" num="0073">In sub-step <b>3033</b>, the active noise cancellation module reads at least one noise cancellation coefficient corresponding to the at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules based on the at least one unit identification, and/or reads at least one noise cancellation coefficient corresponding to the at least one unit identification of the at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules.</p><p id="p-0075" num="0074">In this embodiment, when the digital signal processor writes the updated noise cancellation coefficients into the idle storage module, the data amount of the written new noise cancellation coefficients may be reduced by selectively writing noise cancellation coefficients different from the current noise cancellation coefficients in the updated noise cancellation coefficients into the storage units in the idle storage module, thereby reducing the occupation of transmission resources (such as bus resources) and storage resources. Meanwhile, the ANC module may continue to read the noise cancellation coefficients that are not changed before and after the update from the original storage module based on the position information carried in the update request, and read the noise cancellation coefficients that are changed before and after the update from the other storage module.</p><p id="p-0076" num="0075">In any of the above method embodiments, a plurality of transition coefficients may be generated to achieve a smooth update of the noise cancellation coefficients. As in performing any of the above method embodiments, the following steps are performed.</p><p id="p-0077" num="0076">The digital signal processor generates a plurality of sets of transition coefficients based on the new noise cancellation coefficients and the current noise cancellation coefficients, and the plurality of sets of transition coefficients are coefficients between the new noise cancellation coefficients and the current noise cancellation coefficients. Herein, values of the plurality of sets of transition coefficients are between values of the new noise cancellation coefficients and values of the current noise cancellation coefficients, and the values of the plurality of sets of transition coefficients smoothly change from the values of the current noise cancellation coefficients to the values of the new noise cancellation coefficients.</p><p id="p-0078" num="0077">Accordingly, in step <b>301</b>, writing the new noise cancellation coefficients into the storage module that is idle in the at least two storage modules includes: writing the plurality of sets of transition coefficients and the new noise cancellation coefficients into the storage module that is idle stepwise.</p><p id="p-0079" num="0078">Accordingly, in step <b>304</b>, performing the noise cancellation processing according to the new noise cancellation coefficients includes: performing the noise cancellation processing stepwise according to the plurality of sets of transition coefficients until noise cancellation coefficients of the active noise cancellation module are updated to the new noise cancellation coefficients.</p><p id="p-0080" num="0079">In this example, the plurality of sets of transition coefficients are generated between the new noise cancellation coefficients and the current noise cancellation coefficients to achieve the smooth change from the current noise cancellation coefficients to the new noise cancellation coefficients, thereby ensuring the smooth of the audio signal after the noise cancellation output by the active noise cancellation module during the current noise cancellation coefficients are updated to the new noise cancellation coefficients.</p><p id="p-0081" num="0080">On the basis of the method embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, as shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the active noise cancellation module may be two (i.e., an ANC module 0 and an ANC module 1), one active noise cancellation module (i.e., the ANC module 0) reads noise cancellation coefficients in one of the two storage modules (i.e., the storage module 0), and the other active noise cancellation module (i.e., the ANC module 1) reads noise cancellation coefficients in the other of the two storage modules (i.e., the storage module 1). Outputs of the two active noise cancellation modules are respectively connected to two gain control modules (i.e., a gain control module 0 and a gain control module 1). The gain control module is configured to control a gain of an output signal of the active noise cancellation module connected to the gain control module.</p><p id="p-0082" num="0081">Accordingly, the step <b>304</b> may include the following sub-steps as shown in the method for audio signal noise cancellation in <figref idref="DRAWINGS">FIG. <b>12</b></figref>.</p><p id="p-0083" num="0082">In sub-step <b>3041</b>, in a period corresponding to previous one or more noise cancellation processing cycles after the current noise cancellation processing cycle ends, the active noise cancellation module adjusts a gain of an output signal of the one of the two active noise cancellation modules from 1 to 0 stepwise through a gain control module connected to the one of the two active noise cancellation modules, adjusts a gain of an output signal of the other of the two active noise cancellation modules from 0 to 1 stepwise through a gain control module connected to the other of the two active noise cancellation modules, and keeps the gains of the output signals of the two active noise cancellation modules unchanged after adjustment of the two gain control modules is completed.</p><p id="p-0084" num="0083">For example, in the apparatus for audio signal processing shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the storage module 0 stores the noise cancellation coefficients used in the current noise cancellation processing cycle, i.e., the noise cancellation coefficients before the update, and the storage module 1 stores the updated noise cancellation coefficients, i.e., the new noise cancellation coefficients. After respectively receiving the update request sent by the digital signal processor and the current noise cancellation processing cycle ends, the ANC module 0 and the ANC module 1 respectively trigger the gain control units respectively connected to the ANC module 0 and the ANC module 1 to control the gains of the output signals of the ANC module 0 and the ANC module 1.</p><p id="p-0085" num="0084">Specifically, the gain control module 0 connected to the ANC module 0 controls the gain of the output signal of the ANC module 0 to be gradually changed from 1 to 0, so as to achieve the same effect as &#x201c;slowly turning off the ANC module 0&#x201d;. At the same time, the gain control module 1 connected to the ANC module 1 controls the gain of the output signal of the ANC module 1 to gradually change from 0 to 1, so as to achieve the same effect as &#x201c;slowly turning on the ANC module 1.&#x201d; The output signals of the two gain control modules are superimposed as audio signal data after the noise cancellation finally output by the ANC module, thereby realizing the update of the noise cancellation coefficients.</p><p id="p-0086" num="0085">In this embodiment, by providing the two ANC modules to respectively read the noise cancellation coefficients from the two storage modules, and adjusting the gains of the output signals of the two ANC modules through the two gain control modules, the update of the noise cancellation coefficients is easily achieved, and it is easier to implement the noise cancellation in terms of process and control difficulty compared with that the same ANC module performs noise cancellation processing by reading the noise cancellation coefficients from different storage modules.</p><p id="p-0087" num="0086">For clarity of description, the steps of the above methods may be combined into one step or some steps may be split into multiple sub-steps, which are within the protection scope of the present disclosure as long as they include the same logical relationship. Irrelevant modifications added or irrelevant designs introduced into the algorithm or process but not changing the core design of the algorithm and process are within the protection scope of the present disclosure.</p><p id="p-0088" num="0087">Some embodiments of the present disclosure further provide an apparatus audio signal processing, as shown in <figref idref="DRAWINGS">FIG. <b>13</b></figref>, the apparatus audio signal processing includes a digital signal processor <b>401</b>, an active noise cancellation module <b>402</b> and at least two storage modules.</p><p id="p-0089" num="0088">The digital signal processor <b>401</b> is configured to, in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, calculate the new noise cancellation coefficients, write the new noise cancellation coefficients into a storage module that is idle in the at least two storage modules, and send an update request for updating the noise cancellation coefficients to the active noise cancellation module. The update request carries position information configured to indicate positions where the new noise cancellation coefficients are written into the storage module.</p><p id="p-0090" num="0089">The active noise cancellation module <b>402</b> is configured to read the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request, and perform noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends.</p><p id="p-0091" num="0090">In an example, the at least two storage modules include two storage modules, and the current noise cancellation coefficients are written into one of the two storage modules. The digital signal processor <b>401</b> is further configured to write the new noise cancellation coefficients into the other of the two storage modules. The position information carried in the update request includes a module identification of the other of the two storage modules.</p><p id="p-0092" num="0091">The active noise cancellation module <b>402</b> is configured to read the new noise cancellation coefficients in the other of the two storage modules based on a module identification of the other of the two storage modules carried in the update request.</p><p id="p-0093" num="0092">In an example, the at least two storage modules include two storage modules, each storage module is divided into at least two storage units, and the at least two storage units in one of the two storage modules are in one-to-one correspondences with the at least two storage units in the other of the two storage modules. The current noise cancellation coefficients are written into the one of the two storage modules. In response to at least one noise cancellation coefficient in the new noise cancellation coefficients being different from at least one noise cancellation coefficient in the current noise cancellation coefficients which corresponds to the at least one noise cancellation coefficient in the new noise cancellation coefficients, and in response to the at least one noise cancellation coefficient in the current noise cancellation coefficients existing in at least one storage unit in the one of the two storage modules, the at least one noise cancellation coefficient in the new noise cancellation coefficients is acquired and written into at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules.</p><p id="p-0094" num="0093">The position information carried in the update request includes at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules.</p><p id="p-0095" num="0094">The active noise cancellation module <b>402</b> is configured to read at least one noise cancellation coefficient in the at least one storage unit in the other of the two storage modules based on the at least one unit identification of the at least one storage unit in the other of the two storage modules carried in the update request. The at least one storage unit in the other of the two storage modules corresponds to the at least one storage unit in the one of the two storage modules.</p><p id="p-0096" num="0095">In an example, the current noise cancellation coefficients are written into at least one storage unit in one of the two storage modules and at least one storage unit in the other of the two storage modules. The at least one storage unit in the other of the two storage modules corresponds to remaining storage units in the one of the two storage modules except the at least one storage unit in the one of the two storage modules. The digital signal processor module <b>401</b> is configured to performed the following.</p><p id="p-0097" num="0096">In response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor calculates the new noise cancellation coefficients. In response to the at least one noise cancellation coefficient in the new noise cancellation coefficients being different from the at least one noise cancellation coefficient in the current noise cancellation coefficients which corresponds to the at least one noise cancellation coefficient in the new noise cancellation coefficients, and in response to the at least one noise cancellation coefficient in the current noise cancellation coefficients existing in the at least one storage unit in the one of the two storage modules and/or the at least one storage unit in the other of the two storage modules, at least one first coefficient corresponding to the at least one noise cancellation coefficient in the at least one storage unit in the one of the two storage modules is acquired from the new noise cancellation coefficients, and/or, at least one second coefficient corresponding to the at least one noise cancellation coefficient in the at least one storage unit in the other of the two storage modules is acquired from the new noise cancellation coefficients, and the at least one first coefficient is written into at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules, and/or, the at least one second coefficient is written into at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules.</p><p id="p-0098" num="0097">The position information carried in the update request includes one or both of at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules and at least one unit identification of the at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules.</p><p id="p-0099" num="0098">The active noise cancellation module <b>402</b> is configured to read at least one noise cancellation coefficient corresponding to the at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules based on the at least one unit identification, and/or reads at least one noise cancellation coefficient corresponding to the at least one unit identification of the at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules.</p><p id="p-0100" num="0099">In an example, the digital signal processor <b>401</b> is configured to generate a plurality of sets of transition coefficients based on the new noise cancellation coefficients and the current noise cancellation coefficients, and write the plurality of sets of transition coefficients and the new noise cancellation coefficients into the storage module that is idle stepwise. The plurality of sets of transition coefficients are coefficients between the new noise cancellation coefficients and the current noise cancellation coefficients.</p><p id="p-0101" num="0100">The active noise cancellation module <b>402</b> is configured to perform the noise cancellation processing stepwise according to the plurality of sets of transition coefficients until noise cancellation coefficients of the active noise cancellation module <b>402</b> are updated to the new noise cancellation coefficients.</p><p id="p-0102" num="0101">In an example, two active noise cancellation modules <b>402</b> are provided, one of the two active noise cancellation modules <b>402</b> reads noise cancellation coefficients in one of the two storage modules, and the other of the two active noise cancellation modules <b>402</b> reads noise cancellation coefficients in the other of the two storage modules. Output terminals of the two active noise cancellation modules <b>402</b> are respectively connected to two gain control modules which are configured to control gains of the output signals of the two active noise cancellation modules respectively connected to the two gain control modules.</p><p id="p-0103" num="0102">In a period corresponding to previous one or more noise cancellation processing cycles after the current noise cancellation processing cycle ends, a gain of an output signal of the one of the two active noise cancellation modules <b>402</b> is adjusted from 1 to 0 stepwise through a gain control module connected to the one of the two active noise cancellation modules <b>402</b>, a gain of an output signal of the other of the two active noise cancellation modules <b>402</b> is adjusted from 0 to 1 stepwise through a gain control module connected to the other of the two active noise cancellation modules, and the gains of the output signals of the two active noise cancellation modules <b>402</b> are kept unchanged after adjustment of the two gain control modules is completed.</p><p id="p-0104" num="0103">In an example, the digital signal processor <b>401</b> is configured to automatically determine whether to update the current noise cancellation coefficients to the new noise cancellation coefficients according to the ambient noise of the apparatus for audio signal processing.</p><p id="p-0105" num="0104">In this example, in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients without turning off the active noise cancellation module, the digital signal processor calculates the new noise cancellation coefficients and writes the new noise cancellation coefficients into an storage module that is idle in the at least two storage modules, and the digital signal processor sends an update request for updating the noise cancellation coefficients to the active noise cancellation module. The update request carries position information configured to indicate a position of the storage module to which the new noise cancellation coefficients is written. Then, the active noise cancellation module reads the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request, and performs noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends. In the solution of the present disclosure, the active noise cancellation module does not immediately update the coefficients used in a process of the noise cancellation processing after receiving the update request, but selects the end of the current noise cancellation processing cycle as a timing for updating the old coefficients to new coefficients in the noise cancellation processing, so as to ensure that the noise cancellation processing may still be performed in the current noise cancellation processing cycle based on the noise cancellation coefficients before the update as a whole, and the noise cancellation processing may be performed in the subsequent noise cancellation processing cycle based on updated noise cancellation coefficients as a whole, thereby improving integrity of noise cancellation coefficient update, avoiding noise caused by the noise cancellation coefficient update, and improving user's auditory feeling.</p><p id="p-0106" num="0105">Some embodiments of the present disclosure further provide an electronic device, including: an apparatus for audio signal collection and the apparatus for audio signal processing according to any of the above embodiments. The apparatus for audio signal processing is configured to perform noise cancellation processing on audio signals collected by the apparatus for audio signal collection. For example, the electronic device may be a headphone.</p><p id="p-0107" num="0106">Those skilled in the art should appreciate that the embodiments described above are specific embodiments for implementing the present disclosure. In practice, however, various changes may be made in the forms and details of the specific embodiments without departing from the spirit and scope of the present disclosure.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method for audio signal noise cancellation, applied at an apparatus for audio signal processing, wherein the apparatus for audio signal processing comprises a digital signal processor, an active noise cancellation module and at least two storage modules, and the method comprises:<claim-text>in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor calculating the new noise cancellation coefficients and writing the new noise cancellation coefficients into a storage module that is idle in the at least two storage modules, and the digital signal processor sending an update request for updating the noise cancellation coefficients to the active noise cancellation module, wherein the update request carries position information configured to indicate positions where the new noise cancellation coefficients are written into the storage module; and</claim-text><claim-text>the active noise cancellation module reading the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request, and performing noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the at least two storage modules include two storage modules, and the current noise cancellation coefficients are written into one of the two storage modules; wherein writing the new noise cancellation coefficients into the storage module that is idle in the at least two storage modules comprises:<claim-text>writing the new noise cancellation coefficients into the other of the two storage modules; wherein the position information carried in the update request comprises a module identification of the other of the two storage modules; and</claim-text><claim-text>wherein reading the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request comprises:</claim-text><claim-text>reading the new noise cancellation coefficients in the other of the two storage modules based on the module identification carried in the update request.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the at least two storage modules are two storage modules, each of the two storage modules is divided into at least two storage units, the at least two storage units in one of the two storage modules are in one-to-one correspondences with the at least two storage units in the other of the two storage modules, and the current noise cancellation coefficients are written into the one of the two storage modules; wherein writing the new noise cancellation coefficients into the storage module that is idle in the at least two storage modules comprises:<claim-text>in response to at least one noise cancellation coefficient in the new noise cancellation coefficients being different from at least one noise cancellation coefficient in the current noise cancellation coefficients which corresponds to the at least one noise cancellation coefficient in the new noise cancellation coefficients, and in response to the at least one noise cancellation coefficient in the current noise cancellation coefficients existing in at least one storage unit in the one of the two storage modules, acquiring the at least one noise cancellation coefficient in the new noise cancellation coefficients, and writing the at least one noise cancellation coefficient in the new noise cancellation coefficients into at least one storage unit in the other of the two storage modules, wherein the at least one storage unit in the other of the two storage modules corresponds to the at least one storage unit in the one of the two storage modules;</claim-text><claim-text>wherein the position information carried in the update request comprises at least one unit identification of the at least one storage unit in the other of the two storage modules; and</claim-text><claim-text>wherein reading the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request comprises:</claim-text><claim-text>reading at least one noise cancellation coefficient in the at least one storage unit in the other of the two storage modules based on the at least one unit identification carried in the update request.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the current noise cancellation coefficients are written into at least one storage unit in the one of the two storage modules and at least one storage unit in the other of the two storage modules, wherein the at least one storage unit in the other of the two storage modules corresponding to remaining storage units in the one of the two storage modules except the at least one storage unit in the one of the two storage modules; wherein writing the new noise cancellation coefficients into the storage module that is idle in the at least two storage modules comprises:<claim-text>in response to the at least one noise cancellation coefficient in the new noise cancellation coefficients being different from the at least one noise cancellation coefficient in the current noise cancellation coefficients which corresponds to the at least one noise cancellation coefficient in the new noise cancellation coefficients, and in response to the at least one noise cancellation coefficient in the current noise cancellation coefficients existing in the at least one storage unit in the one of the two storage modules and/or the at least one storage unit in the other of the two storage modules, acquiring at least one first coefficient corresponding to the at least one noise cancellation coefficient in the at least one storage unit in the one of the two storage modules and/or at least one second coefficient corresponding to the at least one noise cancellation coefficient in the at least one storage unit in the other of the two storage modules from the new noise cancellation coefficients, and writing the at least one first coefficient into at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules, and/or, writing the at least one second coefficient into at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules;</claim-text><claim-text>wherein the position information carried in the update request comprises one or both of at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules and at least one unit identification of the at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules; and</claim-text><claim-text>wherein reading the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request comprises:</claim-text><claim-text>reading at least one noise cancellation coefficient corresponding to the at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules based on the at least one unit identification, and/or reading at least one noise cancellation coefficient corresponding to the at least one unit identification of the at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>the digital signal processor generating a plurality of sets of transition coefficients based on the new noise cancellation coefficients and the current noise cancellation coefficients, wherein the plurality of sets of transition coefficients are coefficients between the new noise cancellation coefficients and the current noise cancellation coefficients;</claim-text><claim-text>wherein writing the new noise cancellation coefficients into the storage module that is idle in the at least two storage modules comprises:</claim-text><claim-text>writing the plurality of sets of transition coefficients and the new noise cancellation coefficients into the storage module that is idle stepwise; and</claim-text><claim-text>wherein performing the noise cancellation processing according to the new noise cancellation coefficients comprises:</claim-text><claim-text>performing the noise cancellation processing stepwise according to the plurality of sets of transition coefficients until noise cancellation coefficients of the active noise cancellation module are updated to the new noise cancellation coefficients.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein two active noise cancellation modules are provided, one of the two active noise cancellation modules reads noise cancellation coefficients in one of the two storage modules, and the other of the two active noise cancellation modules reads noise cancellation coefficients in the other of the two storage modules; wherein output terminals of the two active noise cancellation modules are respectively connected to two gain control modules which are configured to control gains of the output signals of the two active noise cancellation modules respectively connected to the two gain control modules; and<claim-text>wherein performing the noise cancellation processing according to the new noise cancellation coefficients after the current noise cancellation processing cycle ends comprises:</claim-text><claim-text>in a period corresponding to previous one or more noise cancellation processing cycles after the current noise cancellation processing cycle ends, adjusting a gain of an output signal of the one of the two active noise cancellation modules from 1 to 0 stepwise through a gain control modules connected to the one of the two active noise cancellation modules, adjusting a gain of an output signal of the other of the two active noise cancellation modules from 0 to 1 stepwise through a gain control module connected to the other of the two active noise cancellation modules, and keeping the gains of the output signals of the two active noise cancellation modules unchanged after adjustment of the two gain control modules is completed.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>the digital signal processor automatically determining whether the current noise cancellation coefficients are required to be updated to the new noise cancellation coefficients according to ambient noise of the apparatus for audio signal processing.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. An apparatus audio signal processing, comprising: a digital signal processor, an active noise cancellation module and at least two storage modules; wherein:<claim-text>in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor is configured to calculate the new noise cancellation coefficients, write the new noise cancellation coefficients into an storage module that is idle in the at least two storage modules, and send an update request for updating the noise cancellation coefficients to the active noise cancellation module, wherein the update request carries position information configured to indicate positions where the new noise cancellation coefficients are written into the storage module; and</claim-text><claim-text>the active noise cancellation module is configured to read the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request, and perform noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The apparatus according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the at least two storage modules include two storage modules, and the current noise cancellation coefficients are written into one of the two storage modules; wherein the digital signal processor is further configured to:<claim-text>write the new noise cancellation coefficients into the other of the two storage modules; wherein the position information carried in the update request comprises a module identification of the other of the two storage modules; and</claim-text><claim-text>wherein the active noise cancellation module is further configured to:</claim-text><claim-text>read the new noise cancellation coefficients in the other of the two storage modules based on the module identification carried in the update request.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The apparatus according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the at least two storage modules are two storage modules, each of the two storage modules is divided into at least two storage units, the at least two storage units in one of the two storage modules are in one-to-one correspondences with the at least two storage units in the other of the two storage modules, and the current noise cancellation coefficients are written into the one of the two storage modules; wherein the digital signal processor is further configured to:<claim-text>in response to at least one noise cancellation coefficient in the new noise cancellation coefficients being different from at least one noise cancellation coefficient in the current noise cancellation coefficients which corresponds to the at least one noise cancellation coefficient in the new noise cancellation coefficients, and in response to the at least one noise cancellation coefficient in the current noise cancellation coefficients existing in at least one storage unit in the one of the two storage modules, acquire the at least one noise cancellation coefficient in the new noise cancellation coefficients, and write the at least one noise cancellation coefficient in the new noise cancellation coefficients into at least one storage unit in the other of the two storage modules, wherein the at least one storage unit in the other of the two storage modules corresponds to the at least one storage unit in the one of the two storage modules;</claim-text><claim-text>wherein the position information carried in the update request comprises at least one unit identification of the at least one storage unit in the other of the two storage modules; and</claim-text><claim-text>wherein the active noise cancellation module is further configured to:</claim-text><claim-text>reading at least one noise cancellation coefficient in the at least one storage unit in the other of the two storage modules based on the at least one unit identification carried in the update request.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The apparatus according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the current noise cancellation coefficients are written into at least one storage unit in the one of the two storage modules and at least one storage unit in the other of the two storage modules, wherein the at least one storage unit in the other of the two storage modules corresponding to remaining storage units in the one of the two storage modules except the at least one storage unit in the one of the two storage modules; wherein the digital signal processor is further configured to:<claim-text>in response to the at least one noise cancellation coefficient in the new noise cancellation coefficients being different from the at least one noise cancellation coefficient in the current noise cancellation coefficients which corresponds to the at least one noise cancellation coefficient in the new noise cancellation coefficients, and in response to the at least one noise cancellation coefficient in the current noise cancellation coefficients existing in the at least one storage unit in the one of the two storage modules and/or the at least one storage unit in the other of the two storage modules, acquire at least one first coefficient corresponding to the at least one noise cancellation coefficient in the at least one storage unit in the one of the two storage modules and/or at least one second coefficient corresponding to the at least one noise cancellation coefficient in the at least one storage unit in the other of the two storage modules from the new noise cancellation coefficients, and write the at least one first coefficient into at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules, and/or, writing the at least one second coefficient into at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules;</claim-text><claim-text>wherein the position information carried in the update request comprises one or both of at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules and at least one unit identification of the at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules; and</claim-text><claim-text>wherein the active noise cancellation module is further configured to:</claim-text><claim-text>read at least one noise cancellation coefficient corresponding to the at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules based on the at least one unit identification, and/or read at least one noise cancellation coefficient corresponding to the at least one unit identification of the at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The apparatus according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the digital signal processor is further configured to generate a plurality of sets of transition coefficients based on the new noise cancellation coefficients and the current noise cancellation coefficients, and write the plurality of sets of transition coefficients and the new noise cancellation coefficients into the storage module that is idle stepwise, wherein the plurality of sets of transition coefficients are coefficients between the new noise cancellation coefficients and the current noise cancellation coefficients; and<claim-text>wherein the active noise cancellation module is further configured to:</claim-text><claim-text>perform the noise cancellation processing stepwise according to the plurality of sets of transition coefficients until noise cancellation coefficients of the active noise cancellation module are updated to the new noise cancellation coefficients.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The apparatus according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein two active noise cancellation modules are provided, one of the two active noise cancellation modules reads noise cancellation coefficients in one of the two storage modules, and the other of the two active noise cancellation modules reads noise cancellation coefficients in the other of the two storage modules; wherein output terminals of the two active noise cancellation modules are respectively connected to two gain control modules which are configured to control gains of the output signals of the two active noise cancellation modules respectively connected to the two gain control modules; and wherein:<claim-text>in a period corresponding to previous one or more noise cancellation processing cycles after the current noise cancellation processing cycle ends, a gain of an output signal of the one of the two active noise cancellation modules from 1 to 0 stepwise is adjusted through a gain control modules connected to the one of the two active noise cancellation modules, a gain of an output signal of the other of the two active noise cancellation modules from 0 to 1 stepwise is adjusted through a gain control module connected to the other of the two active noise cancellation modules, and the gains of the output signals of the two active noise cancellation modules are kept unchanged after adjustment of the two gain control modules is completed.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The apparatus according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the digital signal processor is further configured to automatically determine whether the current noise cancellation coefficients are required to be updated to the new noise cancellation coefficients according to ambient noise of the apparatus for audio signal processing.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. An electronic device, comprising: an apparatus for audio signal collection and an apparatus for audio signal processing, wherein the apparatus for audio signal processing is configured to perform noise cancellation processing on audio signals collected by the apparatus for audio signal collection; wherein the apparatus for audio signal processing comprises: a digital signal processor, an active noise cancellation module and at least two storage modules; wherein:<claim-text>in response to current noise cancellation coefficients being required to be updated to new noise cancellation coefficients, the digital signal processor is configured to calculate the new noise cancellation coefficients, write the new noise cancellation coefficients into an storage module that is idle in the at least two storage modules, and send an update request for updating the noise cancellation coefficients to the active noise cancellation module, wherein the update request carries position information configured to indicate positions where the new noise cancellation coefficients are written into the storage module; and</claim-text><claim-text>the active noise cancellation module is configured to read the new noise cancellation coefficients in the storage module indicated by the position information based on the position information carried in the update request, and perform noise cancellation processing according to the new noise cancellation coefficients after a current noise cancellation processing cycle ends.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The electronic device according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the at least two storage modules include two storage modules, and the current noise cancellation coefficients are written into one of the two storage modules; wherein the digital signal processor is further configured to:<claim-text>write the new noise cancellation coefficients into the other of the two storage modules; wherein the position information carried in the update request comprises a module identification of the other of the two storage modules; and</claim-text><claim-text>wherein the active noise cancellation module is further configured to:</claim-text><claim-text>read the new noise cancellation coefficients in the other of the two storage modules based on the module identification carried in the update request.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The electronic device according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the at least two storage modules are two storage modules, each of the two storage modules is divided into at least two storage units, the at least two storage units in one of the two storage modules are in one-to-one correspondences with the at least two storage units in the other of the two storage modules, and the current noise cancellation coefficients are written into the one of the two storage modules; wherein the digital signal processor is further configured to:<claim-text>in response to at least one noise cancellation coefficient in the new noise cancellation coefficients being different from at least one noise cancellation coefficient in the current noise cancellation coefficients which corresponds to the at least one noise cancellation coefficient in the new noise cancellation coefficients, and in response to the at least one noise cancellation coefficient in the current noise cancellation coefficients existing in at least one storage unit in the one of the two storage modules, acquire the at least one noise cancellation coefficient in the new noise cancellation coefficients, and write the at least one noise cancellation coefficient in the new noise cancellation coefficients into at least one storage unit in the other of the two storage modules, wherein the at least one storage unit in the other of the two storage modules corresponds to the at least one storage unit in the one of the two storage modules;</claim-text><claim-text>wherein the position information carried in the update request comprises at least one unit identification of the at least one storage unit in the other of the two storage modules; and</claim-text><claim-text>wherein the active noise cancellation module is further configured to:</claim-text><claim-text>reading at least one noise cancellation coefficient in the at least one storage unit in the other of the two storage modules based on the at least one unit identification carried in the update request.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The electronic device according to <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the current noise cancellation coefficients are written into at least one storage unit in the one of the two storage modules and at least one storage unit in the other of the two storage modules, wherein the at least one storage unit in the other of the two storage modules corresponding to remaining storage units in the one of the two storage modules except the at least one storage unit in the one of the two storage modules; wherein the digital signal processor is further configured to:<claim-text>in response to the at least one noise cancellation coefficient in the new noise cancellation coefficients being different from the at least one noise cancellation coefficient in the current noise cancellation coefficients which corresponds to the at least one noise cancellation coefficient in the new noise cancellation coefficients, and in response to the at least one noise cancellation coefficient in the current noise cancellation coefficients existing in the at least one storage unit in the one of the two storage modules and/or the at least one storage unit in the other of the two storage modules, acquire at least one first coefficient corresponding to the at least one noise cancellation coefficient in the at least one storage unit in the one of the two storage modules and/or at least one second coefficient corresponding to the at least one noise cancellation coefficient in the at least one storage unit in the other of the two storage modules from the new noise cancellation coefficients, and write the at least one first coefficient into at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules, and/or, writing the at least one second coefficient into at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules;</claim-text><claim-text>wherein the position information carried in the update request comprises one or both of at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules and at least one unit identification of the at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules; and</claim-text><claim-text>wherein the active noise cancellation module is further configured to:</claim-text><claim-text>read at least one noise cancellation coefficient corresponding to the at least one unit identification of the at least one storage unit in the other of the two storage modules which corresponds to the at least one storage unit in the one of the two storage modules based on the at least one unit identification, and/or read at least one noise cancellation coefficient corresponding to the at least one unit identification of the at least one storage unit in the one of the two storage modules which corresponds to the at least one storage unit in the other of the two storage modules.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The electronic device according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the digital signal processor is further configured to generate a plurality of sets of transition coefficients based on the new noise cancellation coefficients and the current noise cancellation coefficients, and write the plurality of sets of transition coefficients and the new noise cancellation coefficients into the storage module that is idle stepwise, wherein the plurality of sets of transition coefficients are coefficients between the new noise cancellation coefficients and the current noise cancellation coefficients; and<claim-text>wherein the active noise cancellation module is further configured to:</claim-text><claim-text>perform the noise cancellation processing stepwise according to the plurality of sets of transition coefficients until noise cancellation coefficients of the active noise cancellation module are updated to the new noise cancellation coefficients.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The electronic device according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein two active noise cancellation modules are provided, one of the two active noise cancellation modules reads noise cancellation coefficients in one of the two storage modules, and the other of the two active noise cancellation modules reads noise cancellation coefficients in the other of the two storage modules; wherein output terminals of the two active noise cancellation modules are respectively connected to two gain control modules which are configured to control gains of the output signals of the two active noise cancellation modules respectively connected to the two gain control modules; and wherein:<claim-text>in a period corresponding to previous one or more noise cancellation processing cycles after the current noise cancellation processing cycle ends, a gain of an output signal of the one of the two active noise cancellation modules from 1 to 0 stepwise is adjusted through a gain control modules connected to the one of the two active noise cancellation modules, a gain of an output signal of the other of the two active noise cancellation modules from 0 to 1 stepwise is adjusted through a gain control module connected to the other of the two active noise cancellation modules, and the gains of the output signals of the two active noise cancellation modules are kept unchanged after adjustment of the two gain control modules is completed.</claim-text></claim-text></claim></claims></us-patent-application>