<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230005130A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230005130</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17784073</doc-number><date>20210611</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202010686184.7</doc-number><date>20200716</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>T</subclass><main-group>7</main-group><subgroup>00</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>V</subclass><main-group>10</main-group><subgroup>25</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>V</subclass><main-group>10</main-group><subgroup>26</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>T</subclass><main-group>7</main-group><subgroup>0004</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20220101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>V</subclass><main-group>10</main-group><subgroup>25</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20220101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>V</subclass><main-group>10</main-group><subgroup>26</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>T</subclass><main-group>2207</main-group><subgroup>30121</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">METHOD AND DEVICE FOR DETECTING DISPLAY PANEL DEFECT</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>BOE TECHNOLOGY GROUP CO., LTD.</orgname><address><city>Beijing</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>TANG</last-name><first-name>Hao</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>LAN</last-name><first-name>Ronghua</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>CHENG</last-name><first-name>Jiuyang</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>ZHOU</last-name><first-name>Shuo</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>HUANG</last-name><first-name>Zhong</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>JIANG</last-name><first-name>Guo</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="06" designation="us-only"><addressbook><last-name>WANG</last-name><first-name>Li</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="07" designation="us-only"><addressbook><last-name>ZHOU</last-name><first-name>Lijia</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="08" designation="us-only"><addressbook><last-name>WANG</last-name><first-name>Zhidong</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="09" designation="us-only"><addressbook><last-name>XU</last-name><first-name>Lirong</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="10" designation="us-only"><addressbook><last-name>ZHOU</last-name><first-name>Quanguo</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>BOE TECHNOLOGY GROUP CO., LTD.</orgname><role>03</role><address><city>Beijing</city><country>CN</country></address></addressbook></assignee></assignees><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/CN2021/099727</doc-number><date>20210611</date></document-id><us-371c12-date><date>20220609</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method for detecting a display panel defect, including: collecting a panel image of a to-be-detected display panel, a plurality of first pixels of the display panel corresponding to a plurality of second pixels in the panel image; converting the panel image into a binary image; dilating each bright spot region in the binary image such that adjacent bright spot regions communicate with each other to form at least one closed communication region in the binary image; determining a region of interest mask image in the binary image in accordance with the at least one closed communication region; determining a region of interest in accordance with the region of interest mask image and the panel image; and performing feature identification on the region of interest to determine a defect of the display panel.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="168.66mm" wi="142.32mm" file="US20230005130A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="177.46mm" wi="144.36mm" file="US20230005130A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="210.74mm" wi="106.93mm" file="US20230005130A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="213.87mm" wi="95.76mm" file="US20230005130A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="87.38mm" wi="177.46mm" file="US20230005130A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application claims a priority of the Chinese patent application No. 202010686184.7, filed on Jul. 16, 2020, which is incorporated herein by reference in its entirety.</p><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">The present disclosure relates to the field of display technology, in particular to a method and a device for detecting a display panel defect.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">During the manufacture of an Organic Light-Emitting Diode (OLED) display panel, such defects as cracks occur due to a manufacturing process, and meanwhile such defects as bubbles and contaminants occur when a glass cover plate is attached onto the OLED display panel. The quality of the OLED display panel is seriously affected by these defects. When the defects are detected manually, the cost is high and the efficiency is low. In addition, it is difficult to observe many tiny defects visibly, so some defects may not be detected or detected excessively.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0005" num="0004">An object of the present disclosure is to provide a method and a device for detecting a display panel defect, so as to solve the above-mentioned problems.</p><p id="p-0006" num="0005">The present disclosure provides the following technical solutions.</p><p id="p-0007" num="0006">In one aspect, the present disclosure provides in some embodiments a method for detecting a display panel defect, including: collecting a panel image of a to-be-detected display panel, a plurality of first pixels of the display panel corresponding to a plurality of second pixels in the panel image; converting the panel image into a binary image; dilating each bright spot region in the binary image such that adjacent bright spot regions communicate with each other to form at least one closed communication region in the binary image; determining a region of interest mask image in the binary image in accordance with the at least one closed communication region; determining a region of interest in accordance with the region of interest mask image and the panel image; and performing feature identification on the region of interest to determine a defect of the display panel.</p><p id="p-0008" num="0007">In a possible embodiment of the present disclosure, the converting the panel image into the binary image includes: converting the panel image into a first grayscale image; performing compression on the first grayscale image to obtain a second grayscale image; and converting the second grayscale image into the binary image.</p><p id="p-0009" num="0008">In a possible embodiment of the present disclosure, a row compression ratio for the compression on the first grayscale image is 2 to 6, and a column compression ratio for the compression on the first grayscale image is 2 to 6.</p><p id="p-0010" num="0009">In a possible embodiment of the present disclosure, the converting the second grayscale image to the binary image includes: calculating a grayscale average value of all pixels of the second grayscale image; and setting the pixel whose grayscale value is greater than or equal to the grayscale average value as white, and setting the pixel whose grayscale value is less than the grayscale average value as black so as to obtain the binary image, or setting the pixel whose grayscale value is greater than the grayscale average value as white, and setting the pixel whose grayscale value is less than or equal to the grayscale average value as black so as to obtain the binary image.</p><p id="p-0011" num="0010">In a possible embodiment of the present disclosure, the determining the region of interest mask image in the binary image in accordance the at least one closed communication region includes: determining a maximum communication region through calculating a perimeter of each communication region, and cutting out an image of the maximum communication region; and eroding a preset edge of the image of the maximum communication region inwardly by a preset quantity of second pixels to obtain the region of interest mask image.</p><p id="p-0012" num="0011">In a possible embodiment of the present disclosure, the determining the region of interest in accordance with the region of interest mask image and the panel image includes: determining a transition region of interest in the second grayscale image corresponding to the region of interest mask image; and performing an AND operation on the transition region of interest and the region of interest mask image so as to obtain the region of interest.</p><p id="p-0013" num="0012">In a possible embodiment of the present disclosure, prior to performing feature identification on the region of interest, the method further includes at least one of: performing gamma enhancement on the region of interest; filtering the region of interest; performing defective edge sharpening on the region of interest; and performing edge removal on the region of interest.</p><p id="p-0014" num="0013">In a possible embodiment of the present disclosure, the performing the feature identification on the region of interest includes identifying a line defect and/or a bubble defect in the region of interest through Hough transform.</p><p id="p-0015" num="0014">In a possible embodiment of the present disclosure, subsequent to identifying the line defect in the region of interest, the method further includes, when an angle between an identified line and a predetermined direction is greater than a threshold, excluding the line defect.</p><p id="p-0016" num="0015">In another aspect, the present disclosure provides in some embodiments a device for detecting a display panel defect, including: a collection module configured to collect a panel image of a to-be-detected display panel, a plurality of first pixels of the display panel corresponding to a plurality of second pixels in the panel image; a conversion module configured to convert the panel image into a binary image; a dilation module configured to dilate each bright spot region in the binary image such that adjacent bright spot regions communicate with each other to form at least one closed communication region in the binary image; a first processing module configured to determine a region of interest mask image in the binary image in accordance with the at least one closed communication region; a second processing module configured to determine a region of interest in accordance with the region of interest mask image and the panel image; and a feature identification module configured to perform feature identification on the region of interest to determine a defect of the display panel.</p><p id="p-0017" num="0016">In a possible embodiment of the present disclosure, the conversion module is further configured to: convert the panel image into a first grayscale image; perform compression on the first grayscale image to obtain a second grayscale image; and convert the second grayscale image into the binary image.</p><p id="p-0018" num="0017">In a possible embodiment of the present disclosure, the conversion module is further configured to: calculate a grayscale average value of all pixels of the second grayscale image; and set the pixel whose grayscale value is greater than or equal to the grayscale average value as white, and set the pixel whose grayscale value is less than the grayscale average value as black so as to obtain the binary image, or set the pixel whose grayscale value is greater than the grayscale average value as white, and set the pixel whose grayscale value is less than or equal to the grayscale average value as black so as to obtain the binary image.</p><p id="p-0019" num="0018">In a possible embodiment of the present disclosure, the first processing module is further configured to: determine a maximum communication region through calculating a perimeter of each communication region, and cut out an image of the maximum communication region; and erode a preset edge of the image of the maximum communication region inwardly by a preset quantity of second pixels to obtain the region of interest mask image.</p><p id="p-0020" num="0019">In a possible embodiment of the present disclosure, the second processing module is further configured to: determine a transition region of interest in the second grayscale image corresponding to the region of interest mask image; and perform an AND operation on the transition region of interest and the region of interest mask image so as to obtain the region of interest.</p><p id="p-0021" num="0020">In yet another aspect, the present disclosure provides in some embodiments a device for detecting a display panel defect, including a processor, and a memory storing therein an instruction. The instruction is executed by the processor so as to implement the above-mentioned method.</p><p id="p-0022" num="0021">In still yet another aspect, the present disclosure provides in some embodiments a storage medium storing therein an instruction. The instruction is executed by a processor so as to implement the above-mentioned method.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a flow chart of a method for detecting a display panel defect according to one embodiment of the present disclosure;</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic view showing a binary image obtained through converting a panel image according to one embodiment of the present disclosure;</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic view showing a situation where a bright spot region is dilated according to one embodiment of the present disclosure;</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic view showing a maximum communication region according to one embodiment of the present disclosure;</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic view showing a region of interest mask image according to one embodiment of the present disclosure;</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic view showing a situation where a region of interest is processed according to one embodiment of the present disclosure;</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a block diagram of a device for detecting a display panel defect according to one embodiment of the present disclosure; and</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a schematic view of the device for detecting a display panel defect according to one embodiment of the present disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0031" num="0030">In order to make the objects, the technical solutions and the advantages of the present disclosure more apparent, the present disclosure will be described hereinafter in a clear and complete manner in conjunction with the drawings and embodiments.</p><p id="p-0032" num="0031">In the related art, there are two main detection algorithms for the automatic detection of an OLED display panel defect, i.e., an artificial intelligence analysis method whose accuracy depends on a large number of picture samples, and a machine vision method whose detection accuracy and efficiency fluctuates greatly due to a Region of Interest (ROI) extraction result.</p><p id="p-0033" num="0032">An object of the present disclosure is to provide a method and a device for detecting a display panel defect, so as to accurately identify the display panel defect.</p><p id="p-0034" num="0033">The present disclosure provides in some embodiments a method for detecting a display panel defect which, as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, includes the following steps.</p><p id="p-0035" num="0034">Step <b>101</b>: collecting a panel image of a to-be-detected display panel, a plurality of first pixels of the display panel corresponding to a plurality of second pixels in the panel image.</p><p id="p-0036" num="0035">The first pixel is a pixel of the display panel, and the second pixel is a pixel of the panel image. In order to identify the display panel defect accurately, a resolution of the panel image needs to be greater than a resolution of the display panel, e.g., more than ten times the resolution of the display panel. For example, the resolution of the panel image is 2048*20000, which is 64 times the resolution of the display panel. In this way, one first pixel of the panel image corresponds to 8*8 second pixels, and the first pixel appears as a bright spot in the panel image. In order to improve the identification accuracy, the panel image may have a higher resolution, but a computational burden may increase too. In order to make a compromise between the computational burden and the accuracy, the resolution of the panel image may be 36 to 64 times the resolution of the display panel.</p><p id="p-0037" num="0036">In the embodiments of the present disclosure, the panel image of the display panel is taken through an industrial camera and a corresponding lighting device, and then the panel image is processed for the subsequent defect identification. The collected pictures are defects of the display panel, including cracks, bubbles and contaminants.</p><p id="p-0038" num="0037">Step <b>102</b>: converting the panel image into a binary image.</p><p id="p-0039" num="0038">Prior to processing the panel image, the panel image needs to be converted into a grayscale image. When the panel image is a grayscale image, this step may not be performed, and then the grayscale image is converted into the binary image in black and white. A feature in the image is white and has a grayscale value of 255, and a background is black and has a grayscale value of 0, as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. When the panel image is converted into the binary image, the panel image is further compressed so as to reduce computational burden, thereby to reduce the time for the subsequent processing.</p><p id="p-0040" num="0039">In a possible embodiment of the present disclosure, the converting the panel image into the binary image includes: converting the panel image into a first grayscale image; performing compression on the first grayscale image to obtain a second grayscale image; and converting the second grayscale image into the binary image.</p><p id="p-0041" num="0040">When the compression is performed on the first grayscale image to obtain the second grayscale image, considering the computational burden of the image processing and the identification accuracy, a row compression ratio for the compression on the first grayscale image is 2 to 6, and a column compression ratio for the compression on the first grayscale image is 2 to 6, so as to reduce the computational burden and ensure the identification accuracy.</p><p id="p-0042" num="0041">In a possible embodiment of the present disclosure, the converting the second grayscale image to the binary image includes: calculating a grayscale average value of all pixels of the second grayscale image; and setting the pixel whose grayscale value is greater than or equal to the grayscale average value as white, and setting the pixel whose grayscale value is less than the grayscale average value as black so as to obtain the binary image, or setting the pixel whose grayscale value is greater than the grayscale average value as white, and setting the pixel whose grayscale value is less than or equal to the grayscale average value as black so as to obtain the binary image.</p><p id="p-0043" num="0042">After the binarization, the pixels of the display panel, the defects, an edge reflecting region, a reflecting region not at the display panel (an interference factor, e.g., a machine where the display panel is placed) become bright spots with a grayscale value of 255, as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0044" num="0043">Step <b>103</b>: dilating each bright spot region in the binary image such that adjacent bright spot regions communicate with each other to form at least one closed communication region in the binary image.</p><p id="p-0045" num="0044">As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, each bright spot region (namely, a white region having a grayscale value of 225) in the binary image is dilated, and each bright spot region is expanded outwardly by PixelExpandSize second pixels, i.e., a boundary of the bright spot region is expanded outwardly by PixelExpandSize second pixels with a center of the bright spot region as a reference. PixelExpandSize is a preset value, it may be adjusted according to the practical need as long as the adjacent bright spot regions communicate with each other after the dilation. In some embodiments of the present disclosure, a value of PixelExpandSize is 5 and 6. After the bright spot regions are dilated so that the adjacent bright spot regions communicate with each other, at least one closed communication region may be formed in the binary image. As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, three communication regions L<b>1</b>, L<b>2</b> and L<b>3</b> are formed in the binary image.</p><p id="p-0046" num="0045">Step <b>104</b>: determining a region of interest mask image in the binary image in accordance with the at least one closed communication region.</p><p id="p-0047" num="0046">In the panel image, the communication region where the interference factor occurs is smaller than the communication region where a display region is located. Hence, the maximum communication region is the communication region where the display region of the display panel is located, i.e., the region where feature identification is to be performed. The maximum communication region may be determined through calculating an area of the communication region (the quantity of occupied second pixels) or a perimeter of the communication region, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>.</p><p id="p-0048" num="0047">An image of the maximum communication region is cut out, and a preset edge of the image of the maximum communication region is eroded inwardly by a preset quantity of second pixels, so as to prevent the identification accuracy from being adversely affected by a boundary, thereby to obtain the region of interest mask image as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>. The preset value may be set according to the practical need, as long as it is able to prevent the identification accuracy from being adversely affected by the boundary, and prevent a region of interest from being adversely affected.</p><p id="p-0049" num="0048">Step <b>105</b>: determining the region of interest in accordance with the region of interest mask image and the panel image.</p><p id="p-0050" num="0049">A transition region of interest in the second grayscale image corresponding to the region of interest mask image is determined, namely, a boundary of the transition region of interest is the same as a boundary of the region of interest mask image. In this way, it is able to remove the other region in the second grayscale image, and merely reserve the region covered by the region of interest mask image. Then, an AND operation is performed on the transition region of interest and the region of interest mask image so as to obtain the region of interest as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0051" num="0050">Step <b>106</b>: performing feature identification on the region of interest to determine a defect of the display panel.</p><p id="p-0052" num="0051">The feature identification is performed on the region of interest in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, so as to determine the defects of the display panel, including lines and circles. The line defect is a crack, and the circle defect is a bubble or contaminant.</p><p id="p-0053" num="0052">Prior to performing the feature identification on the region of interest, the region of interest may be pre-processed to improve the identification accuracy. In a possible embodiment of the present disclosure, gamma enhancement may be performed on the region of interest so as to enhance the defect. In another possible embodiment of the present disclosure, the region of interest may be filtered to eliminate an interference bright spot as well as a pixel point of the display panel itself. In yet another possible embodiment of the present disclosure, edge sharpening may be performed on the region of interest, e.g., a grayscale value of a pixel point at an edge of a suspected region is increased through a canny operator, so as to sharpen the edge. In still yet another possible embodiment of the present disclosure, edge removal may be performed on the region of interest, e.g., an edge of the extracted ROI (i.e., the edge of the display panel) may be removed.</p><p id="p-0054" num="0053">During the feature identification, a line defect and a bubble defect may be identified in the region of interest through Hough transform. Of course, in the embodiments of the present disclosure, the defects may be identified in the region of interest through any other defect identification algorithms.</p><p id="p-0055" num="0054">After the identification of the line defects, the line defects may be screened. For example, when an angle between an identified line and a predetermined direction is greater than a threshold, the line defect may be excluded. Usually, the crack extends in a column direction, and when an angle between the identified line and the column direction is too large, an identification error occurs, so this line defect may be excluded. The threshold may be set according to the practical need, e.g., smaller than 30&#xb0;.</p><p id="p-0056" num="0055">According to the embodiments of the present disclosure, the panel image of the to-be-detected display panel is collected and converted into the binary image. Next, each bright spot region in the binary image is dilated so that the adjacent bright spot regions communicate with each other to form the closed communication region in the binary image. Next, the region of interest mask image in the second binary image is determined in accordance with the closed communication region, and the region of interest is determined in accordance with the region of interest mask image. Then, the feature identification is performed on the region of interest, so as to determine the defect of the display panel. As a result, it is able to extract the region of interest accurately and prevent the occurrence of any interference from a non-detected region, thereby to improve the identification accuracy.</p><p id="p-0057" num="0056">The present disclosure further provides in some embodiments a device for detecting a display panel defect, which includes a processor, and a memory coupled to the processor through a bus interface and storing therein programs and data for the processor. As shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the processor is configured to call the programs and data in the memory, so as to implement a collection module <b>21</b>, a conversion module <b>22</b>, a dilation module <b>23</b>, a first processing module <b>24</b>, a second processing module <b>25</b> and a feature identification module <b>26</b>.</p><p id="p-0058" num="0057">The collection module <b>21</b> is configured to collect a panel image of a to-be-detected display panel, and a plurality of first pixels of the display panel corresponds to a plurality of second pixels in the panel image.</p><p id="p-0059" num="0058">The first pixel is a pixel of the display panel, and the second pixel is a pixel of the panel image. In order to identify the display panel defect accurately, a resolution of the panel image needs to be greater than a resolution of the display panel, e.g., more than ten times the resolution of the display panel. For example, the resolution of the panel image is 2048*20000, which is 64 times the resolution of the display panel. In this way, one first pixel of the panel image corresponds to 8*8 second pixels, and the first pixel appears as a bright spot in the panel image. In order to improve the identification accuracy, the panel image may have a higher resolution, but a computational burden may increase too. In order to make a compromise between the computational burden and the accuracy, the resolution of the panel image may be 36 to 64 times the resolution of the display panel.</p><p id="p-0060" num="0059">In the embodiments of the present disclosure, the panel image of the display panel is taken through an industrial camera and a corresponding lighting device, and then the panel image is processed for the subsequent defect identification. The collected pictures are defects of the display panel, including cracks, bubbles and contaminants.</p><p id="p-0061" num="0060">The conversion module <b>22</b> is configured to convert the panel image into a binary image.</p><p id="p-0062" num="0061">Prior to processing the panel image, the panel image needs to be converted into a grayscale image. When the panel image is a grayscale image, this step may not be performed, and then the grayscale image is converted into the binary image in black and white. A feature in the image is white and has a grayscale value of 255, and a background is black and has a grayscale value of 0, as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. When the panel image is converted into the binary image, the panel image is further compressed so as to reduce computational burden, thereby to reduce the time for the subsequent processing.</p><p id="p-0063" num="0062">In some embodiments of the present disclosure, the conversion module <b>22</b> is specifically configured to: convert the panel image into a first grayscale image; perform compression on the first grayscale image to obtain a second grayscale image; and convert the second grayscale image into the binary image.</p><p id="p-0064" num="0063">When the compression is performed on the first grayscale image to obtain the second grayscale image, considering the computational burden of the image processing and the identification accuracy, a row compression ratio for the compression on the first grayscale image is 2 to 6, and a column compression ratio for the compression on the first grayscale image is 2 to 6, so as to reduce the computational burden and ensure the identification accuracy.</p><p id="p-0065" num="0064">In some embodiments of the present disclosure, the conversion module <b>22</b> is specifically configured to: calculate a grayscale average value of all pixels of the second grayscale image; and set the pixel whose grayscale value is greater than or equal to the grayscale average value as white, and set the pixel whose grayscale value is less than the grayscale average value as black so as to obtain the binary image, or set the pixel whose grayscale value is greater than the grayscale average value as white, and set the pixel whose grayscale value is less than or equal to the grayscale average value as black so as to obtain the binary image.</p><p id="p-0066" num="0065">After the binarization, the pixels of the display panel, the defects, an edge reflecting region, a reflecting region not at the display panel (an interference factor, e.g., a machine where the display panel is placed) become bright spots with a grayscale value of 255, as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0067" num="0066">The dilation module <b>23</b> is configured to dilate each bright spot region in the binary image such that adjacent bright spot regions communicate with each other to form at least one closed communication region in the binary image.</p><p id="p-0068" num="0067">As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, each bright spot region (namely, a white region having a grayscale value of 225) in the binary image is dilated, and each bright spot region is expanded outwardly by PixelExpandSize second pixels, i.e., a boundary of the bright spot region is expanded outwardly by PixelExpandSize second pixels with a center of the bright spot region as a reference. PixelExpandSize is a preset value, it may be adjusted according to the practical need as long as the adjacent bright spot regions communicate with each other after the dilation. In some embodiments of the present disclosure, a value of PixelExpandSize is 5 and 6. After the bright spot regions are dilated so that the adjacent bright spot regions communicate with each other, at least one closed communication region may be formed in the binary image. As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, three communication regions L<b>1</b>, L<b>2</b> and L<b>3</b> are formed in the binary image.</p><p id="p-0069" num="0068">The first processing module <b>24</b> is configured to determine a region of interest mask image in the binary image in accordance with the at least one closed communication region.</p><p id="p-0070" num="0069">In the panel image, the communication region where the interference factor occurs is smaller than the communication region where a display region is located. Hence, the maximum communication region is the communication region where the display region of the display panel is located, i.e., the region where feature identification is to be performed. The maximum communication region may be determined through calculating an area of the communication region (the quantity of occupied second pixels) or a perimeter of the communication region, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>.</p><p id="p-0071" num="0070">In some embodiments of the present disclosure, the first processing module <b>24</b> is specifically configured to: determine a maximum communication region through calculating a perimeter of each communication region, and cut out an image of the maximum communication region; and erode a preset edge of the image of the maximum communication region inwardly by a preset quantity of second pixels, so as to prevent the identification accuracy from being adversely affected by a boundary, thereby to obtain the region of interest mask image as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>. The preset value may be set according to the practical need, as long as it is able to prevent the identification accuracy from being adversely affected by the boundary, and prevent a region of interest from being adversely affected.</p><p id="p-0072" num="0071">The second processing module <b>25</b> is configured to determine a region of interest in accordance with the region of interest mask image and the panel image.</p><p id="p-0073" num="0072">In some embodiments of the present disclosure, the second processing module <b>25</b> is specifically configured to determine a transition region of interest in the second grayscale image corresponding to the region of interest mask image is determined, namely, a boundary of the transition region of interest is the same as a boundary of the region of interest mask image. In this way, it is able to remove the other region in the second grayscale image, and merely reserve the region covered by the region of interest mask image. Then, an AND operation is performed on the transition region of interest and the region of interest mask image so as to obtain the region of interest as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0074" num="0073">The feature identification module <b>26</b> is configured to perform feature identification on the region of interest to determine a defect of the display panel.</p><p id="p-0075" num="0074">The feature identification is performed on the region of interest in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, so as to determine the defects of the display panel, including lines and circles. The line defect is a crack, and the circle defect is a bubble or contaminant.</p><p id="p-0076" num="0075">Prior to performing the feature identification on the region of interest, the region of interest may be pre-processed to improve the identification accuracy. In a possible embodiment of the present disclosure, gamma enhancement may be performed on the region of interest so as to enhance the defect. In another possible embodiment of the present disclosure, the region of interest may be filtered to eliminate an interference bright spot as well as a pixel point of the display panel itself. In yet another possible embodiment of the present disclosure, edge sharpening may be performed on the region of interest, e.g., a grayscale value of a pixel point at an edge of a suspected region is increased through a canny operator, so as to sharpen the edge. In still yet another possible embodiment of the present disclosure, edge removal may be performed on the region of interest, e.g., an edge of the extracted ROI (i.e., the edge of the display panel) may be removed. <b>6</b></p><p id="p-0077" num="0076">During the feature identification, a line defect and a bubble defect may be identified in the region of interest through Hough transform. Of course, in the embodiments of the present disclosure, the defects may be identified in the region of interest through any other defect identification algorithms.</p><p id="p-0078" num="0077">After the identification of the line defects, the line defects may be screened. For example, when an angle between an identified line and a predetermined direction is greater than a threshold, the line defect may be excluded. Usually, the crack extends in a column direction, and when an angle between the identified line and the column direction is too large, an identification error occurs, so this line defect may be excluded. The threshold may be set according to the practical need, e.g., smaller than 30&#xb0;.</p><p id="p-0079" num="0078">According to the embodiments of the present disclosure, the panel image of the to-be-detected display panel is collected and converted into the binary image. Next, each bright spot region in the binary image is dilated so that the adjacent bright spot regions communicate with each other to form the closed communication region in the binary image. Next, the region of interest mask image in the second binary image is determined in accordance with the closed communication region, and the region of interest is determined in accordance with the region of interest mask image. Then, the feature identification is performed on the region of interest, so as to determine the defect of the display panel. As a result, it is able to extract the region of interest accurately and prevent the occurrence of any interference from a non-detected region, thereby to improve the identification accuracy.</p><p id="p-0080" num="0079">Here, the processor may include merely one processor, or a plurality of processing elements. For example, the processor may be a Central Processing Unit (CPU), an application Specific Integrated Circuit (ASIC), or one or more ICs configured to implement the above-mentioned method, e.g., one or more Digital Signal Processors (DSPs), or one or more Field Programmable Gate Arrays (FPGAs). The memory may include merely one memory, or a plurality of storage elements.</p><p id="p-0081" num="0080">The present disclosure further provides in some embodiments a device for detecting a display panel defect which, as shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, includes a processor <b>31</b>, and a memory <b>32</b> storing therein an instruction. The instruction is executed by the processor so as to implement the above-mentioned method, which will not be particularly defined herein.</p><p id="p-0082" num="0081">Here, the processor may include merely one processor, or a plurality of processing elements. For example, the processor may be a CPU, an ASIC, or one or more ICs configured to implement the above-mentioned method, e.g., one or more DSPs, or one or more FPGAs. The memory may include merely one memory, or a plurality of storage elements.</p><p id="p-0083" num="0082">It should be appreciated that, the memory <b>32</b> may include a volatile memory, a nonvolatile memory or both. The nonvolatile memory may be a read-only memory (Read-Only Memory, ROM), a programmable ROM (Programmable ROM, PROM), an erasable PROM (Erasable PROM, EPROM), an electrically EPROM (Electrically EPROM, EEPROM) or a flash memory. The volatile memory may be a random access memory (Random Access Memory, RAM) which serves as an external high-speed cache. Illustratively but not restrictively, the RAM may include static RAM (Static RAM, SRAM), dynamic RAM (Dynamic RAM, DRAM), synchronous DRAM (Synchronous DRAM, SDRAM), double data rate SDRAM (Double Data Rate SDRAM, DDRSDRAM), enhanced SDRAM (Enhanced SDRAM, ESDRAM), synchronous link DRAM (Synchronous Link DRAM, SLDRAM) or direct Rambus RAM (Direct Rambus RAM, DRRAM). The memory <b>32</b> intends to include, but not limited to, the above-mentioned and any other appropriate memories.</p><p id="p-0084" num="0083">The present disclosure further provides in some embodiments a storage medium storing therein an instruction. The instruction is executed by a processor so as to implement the above-mentioned method, which will not be particularly defined herein.</p><p id="p-0085" num="0084">The storage medium includes a computer-readable storage medium, e.g., an ROM, an RAM, a magnetic disk or an optical disk.</p><p id="p-0086" num="0085">It should be appreciated that, such words as &#x201c;include&#x201d; or &#x201c;including&#x201d; or any other variations involved in the present disclosure intend to provide non-exclusive coverage, so that a procedure, method, article or device including a series of elements may also include any other elements not listed herein, or may include any inherent elements of the procedure, method, article or device. If without any further limitations, for the elements defined by such sentence as &#x201c;including one . . . &#x201d;, it is not excluded that the procedure, method, article or device including the elements may also include any other identical elements. It should be further appreciated that, apart from the described or discussed order, the steps may also be performed simultaneously or in a reverse order, so as to achieve the mentioned functions. For example, new steps may be added, or some steps may be omitted or combined. In addition, the features described with reference to some embodiments may be combined in the other embodiments.</p><p id="p-0087" num="0086">Through the above-mentioned description, it may be apparent for a person skilled in the art that the present disclosure may be implemented by software as well as a necessary common hardware platform, or by hardware, and the former may be better in most cases. Based on this, the technical solutions of the present disclosure, partial or full, or parts of the technical solutions of the present disclosure contributing to the related art, may appear in the form of software products, which may be stored in a storage medium (e.g., Read-Only Memory (ROM)/Random Access Memory (RAM), magnetic disk or optical disk) and include several instructions so as to enable a terminal device (mobile phone, computer, server, air conditioner or network device) to execute the method in the embodiments of the present disclosure.</p><p id="p-0088" num="0087">The above embodiments are for illustrative purposes only, but the present disclosure is not limited thereto. Obviously, a person skilled in the art may make further modifications and improvements without departing from the spirit of the present disclosure, and these modifications and improvements shall also fall within the scope of the present disclosure.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method for detecting a display panel defect, comprising:<claim-text>collecting a panel image of a to-be-detected display panel, a plurality of first pixels of the display panel corresponding to a plurality of second pixels in the panel image;</claim-text><claim-text>converting the panel image into a binary image;</claim-text><claim-text>dilating each bright spot region in the binary image such that adjacent bright spot regions communicate with each other to form at least one closed communication region in the binary image;</claim-text><claim-text>determining a region of interest mask image in the binary image in accordance with the at least one closed communication region;</claim-text><claim-text>determining a region of interest in accordance with the region of interest mask image and the panel image; and</claim-text><claim-text>performing feature identification on the region of interest to determine a defect of the display panel.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the converting the panel image into the binary image comprises: converting the panel image into a first grayscale image; performing compression on the first grayscale image to obtain a second grayscale image;<claim-text>and converting the second grayscale image into the binary image.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein a row compression ratio for the compression on the first grayscale image is 2 to 6, and a column compression ratio for the compression on the first grayscale image is 2 to 6.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the converting the second grayscale image to the binary image comprises: calculating a grayscale average value of all pixels of the second grayscale image; and setting the pixel whose grayscale value is greater than or equal to the grayscale average value as white, and setting the pixel whose grayscale value is less than the grayscale average value as black so as to obtain the binary image, or setting the pixel whose grayscale value is greater than the grayscale average value as white, and setting the pixel whose grayscale value is less than or equal to the grayscale average value as black so as to obtain the binary image.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the determining the region of interest mask image in the binary image in accordance the at least one closed communication region comprises: determining a maximum communication region through calculating a perimeter of each communication region, and cutting out an image of the maximum communication region; and eroding a preset edge of the image of the maximum communication region inwardly by a preset quantity of second pixels to obtain the region of interest mask image.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the determining the region of interest in accordance with the region of interest mask image and the panel image comprises: determining a transition region of interest in the second grayscale image corresponding to the region of interest mask image; and performing an AND operation on the transition region of interest and the region of interest mask image so as to obtain the region of interest.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein prior to performing feature identification on the region of interest, the method further comprises at least one of: performing gamma enhancement on the region of interest;<claim-text>filtering the region of interest; performing defective edge sharpening on the region of interest; and</claim-text><claim-text>performing edge removal on the region of interest.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the performing the feature identification on the region of interest comprises identifying a line defect and/or a bubble defect in the region of interest through Hough transform.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein subsequent to identifying the line defect in the region of interest, the method further comprises, when an angle between an identified line and a predetermined direction is greater than a threshold, excluding the line defect.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A device for detecting a display panel defect, comprising:<claim-text>a collection module configured to collect a panel image of a to-be-detected display panel, a plurality of first pixels of the display panel corresponding to a plurality of second pixels in the panel image;</claim-text><claim-text>a conversion module configured to convert the panel image into a binary image;</claim-text><claim-text>a dilation module configured to dilate each bright spot region in the binary image such that adjacent bright spot regions communicate with each other to form at least one closed communication region in the binary image;</claim-text><claim-text>a first processing module configured to determine a region of interest mask image in the binary image in accordance with the at least one closed communication region;</claim-text><claim-text>a second processing module configured to determine a region of interest in accordance with the region of interest mask image and the panel image; and</claim-text><claim-text>a feature identification module configured to perform feature identification on the region of interest to determine a defect of the display panel.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The device according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the conversion module is further configured to: convert the panel image into a first grayscale image; perform compression on the first grayscale image to obtain a second grayscale image; and convert the second grayscale image into the binary image.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The device according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the conversion module is further configured to: calculate a grayscale average value of all pixels of the second grayscale image; and set the pixel whose grayscale value is greater than or equal to the grayscale average value as white, and set the pixel whose grayscale value is less than the grayscale average value as black so as to obtain the binary image, or set the pixel whose grayscale value is greater than the grayscale average value as white, and set the pixel whose grayscale value is less than or equal to the grayscale average value as black so as to obtain the binary image.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The device according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the first processing module is further configured to: determine a maximum communication region through calculating a perimeter of each communication region, and cut out an image of the maximum communication region; and erode a preset edge of the image of the maximum communication region inwardly by a preset quantity of second pixels to obtain the region of interest mask image.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The device according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the second processing module is further configured to: determine a transition region of interest in the second grayscale image corresponding to the region of interest mask image; and perform an AND operation on the transition region of interest and the region of interest mask image so as to obtain the region of interest.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A device for detecting a display panel defect, comprising a processor, and a memory storing therein an instruction, wherein the instruction is executed by the processor so as to implement the method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. A non-transitory computer-readable storage medium storing therein an instruction, wherein the instruction is executed by a processor so as to implement the method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the determining the region of interest in accordance with the region of interest mask image and the panel image comprises: determining a transition region of interest in the second grayscale image corresponding to the region of interest mask image; and performing an AND operation on the transition region of interest and the region of interest mask image so as to obtain the region of interest.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the determining the region of interest in accordance with the region of interest mask image and the panel image comprises: determining a transition region of interest in the second grayscale image corresponding to the region of interest mask image; and performing an AND operation on the transition region of interest and the region of interest mask image so as to obtain the region of interest.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the determining the region of interest in accordance with the region of interest mask image and the panel image comprises: determining a transition region of interest in the second grayscale image corresponding to the region of interest mask image; and performing an AND operation on the transition region of interest and the region of interest mask image so as to obtain the region of interest.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein prior to performing feature identification on the region of interest, the method further comprises at least one of:<claim-text>performing gamma enhancement on the region of interest; filtering the region of interest;</claim-text><claim-text>performing defective edge sharpening on the region of interest; and performing edge removal on the region of interest.</claim-text></claim-text></claim></claims></us-patent-application>