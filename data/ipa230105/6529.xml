<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006530A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006530</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17900339</doc-number><date>20220831</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="regional"><country>EP</country><doc-number>20 167 764.8</doc-number><date>20200402</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>K</subclass><main-group>41</main-group><subgroup>03</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>K</subclass><main-group>11</main-group><subgroup>215</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>P</subclass><main-group>23</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>K</subclass><main-group>41</main-group><subgroup>031</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20160101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>K</subclass><main-group>11</main-group><subgroup>215</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>P</subclass><main-group>23</main-group><subgroup>0018</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>K</subclass><main-group>2213</main-group><subgroup>03</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">METHOD OF CONTROLLING A PLANAR DRIVE SYSTEM AND PLANAR DRIVE SYSTEM</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/EP2021/058472</doc-number><date>20210331</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17900339</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Beckhoff Automation GmbH</orgname><address><city>Verl</city><country>DE</country></address></addressbook><residence><country>DE</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Neumann</last-name><first-name>Klaus</first-name><address><city>G&#xfc;tersloh</city><country>DE</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Bentfeld</last-name><first-name>Lukas</first-name><address><city>Delbr&#xfc;ck</city><country>DE</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Maguire</last-name><first-name>Keir</first-name><address><city>North Vancouver</city><country>CA</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Kaulmann</last-name><first-name>Tim</first-name><address><city>Paderborn</city><country>DE</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>Jurke</last-name><first-name>Benjamin</first-name><address><city>G&#xfc;tersloh</city><country>DE</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method for controlling a planar drive system includes generating a position allocating function, in an allocation generating step; measuring a plurality of measuring values of the magnetic rotor field by magnetic field sensors for a position of the rotor relative to the stator module, in a magnetic rotor field determining step; applying the position determination function to the plurality of measuring values of the magnetic rotor field of the plurality of magnetic field sensors, in a measuring value analysis step; and determining the position of the rotor relative to the stator module on the basis of the measurements of the magnetic rotor field measured by the plurality of magnetic field sensors and based on the allocations of the position allocating function, in a position determining step. The application further relates to such a planar drive system.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="106.60mm" wi="158.75mm" file="US20230006530A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="219.71mm" wi="158.58mm" orientation="landscape" file="US20230006530A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="194.73mm" wi="157.99mm" orientation="landscape" file="US20230006530A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="205.99mm" wi="163.32mm" orientation="landscape" file="US20230006530A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="205.74mm" wi="142.49mm" orientation="landscape" file="US20230006530A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="212.43mm" wi="158.41mm" orientation="landscape" file="US20230006530A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="205.74mm" wi="154.26mm" orientation="landscape" file="US20230006530A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="155.45mm" wi="156.72mm" orientation="landscape" file="US20230006530A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This is a continuation of International Patent Application No. PCT/EP2021/058472, &#x201c;Method of Controlling a Planar Drive System and Planar Drive System,&#x201d; filed Mar. 31, 2021, which claims priority to European patent application EP 20 167 764.8, &#x201c;Verfahren zum Steuern eines Planarantriebssystems and Planarantriebssystem,&#x201d; filed Apr. 2, 2020, the contents of each of which are incorporated by reference herein, in the entirety and for all purposes.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><p id="p-0003" num="0002">The present application relates to a method of controlling a planar drive system, and to a planar drive system set up to perform the method of controlling a planar drive system.</p><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0004" num="0003">Planar drive systems may inter alia be used in automation technology, in particular manufacturing technology, handling technology and process engineering. Planar drive systems may be used to move or position a moving element of a system or machine in at least two linearly independent directions. Planar drive systems may comprise a permanently energized electromagnetic planar motor with a planar stator and a rotor movable on the stator in at least two directions.</p><p id="p-0005" num="0004">In a permanently energized electromagnetic planar motor, a driving force is exerted on the rotor by current-carrying conductors magnetically interacting with drive magnets of a magnet arrangement. The application in particular relates to embodiments of planar drive systems in which the drive magnets of an electric planar motor are arranged on the rotor and the current-carrying conductors of the planar motor are arranged in a stationary planar stator.</p><p id="p-0006" num="0005">In such a drive system, the rotor comprises at least a first magnetic unit for driving the rotor in a first direction and a second magnetic unit for driving the rotor in a second direction linearly independent of the first direction, e.g. in a direction orthogonal to the first direction. The planar stator comprises at least a group of first energizable conductors magnetically interacting with the magnets of the first magnet unit to drive the rotor in the first direction, as well as a group of second energizable conductors magnetically interacting with the magnets of the second magnet unit to drive the rotor in the second direction. The first and second groups of conductors may generally be energized independently of each other to allow independent movement of the rotor in the first and second directions. If the conductors of the first and second groups themselves may be energized independently of each other at least in parts, a plurality of rotors may be moved independently of one another on one stator at the same time.</p><p id="p-0007" num="0006">Documents WO 2013/059934 A1, WO 2015/017933 A1, WO 2015/179962 A1, WO 2015/184553 A1, WO 2015/188281 A1, WO 2017/004716 A1 each describe planar drive systems (displacement devices) comprising an electromagnetic planar motor with a permanently energized rotor and a stator comprising a plurality of current-carrying conductors.</p><p id="p-0008" num="0007">In order to control a rotor of a planar drive system, it is essential to be able to determine a position of the rotor relative to the stator module or stator modules of the planar drive system. For this purpose, each stator module comprises at least a sensor module with a plurality of magnetic field sensors that are set up to detect the magnetic field of the rotor, which makes it possible to determine the position of the rotor relative to the respective sensor module or relative to the respective stator module. The more precisely a position of the rotor may be determined in such a way, the more precisely the planar drive system may be controlled.</p><heading id="h-0003" level="1">SUMMARY</heading><p id="p-0009" num="0008">A method for controlling a planar drive system is provided, which enables improved and more precise control of a rotor due to improved position determination of the rotor. Further a planar drive system which is set up to carry out the method according to the application is provided.</p><heading id="h-0004" level="1">EXAMPLES</heading><p id="p-0010" num="0009">A method for controlling a planar drive system is provided, the planar drive system comprising at least a control unit, a stator module and a rotor, the stator module being configured to generate magnetic stator fields for electrically controlling the rotor, the rotor comprising a magnet arrangement for generating a magnetic rotor field, wherein a magnetic coupling between the rotor and the stator module may be achieved via the magnetic stator fields and the magnetic rotor field, wherein the stator module comprises a sensor module with a plurality of magnetic field sensors for determining a position of the rotor, wherein the magnetic field sensors are arranged in a two-dimensional array on the stator module, and wherein each magnetic field sensor is set up to determine the magnetic rotor field for a spatial area in the two-dimensional array, comprising:</p><p id="p-0011" num="0010">generating a position allocating function in an allocation generating step, wherein the position allocating function is configured to allocate a position of the rotor relative to the stator module to a plurality of measuring values of the magnetic rotor field <b>402</b> of a plurality of magnetic field sensors <b>501</b> of the sensor module <b>500</b>;<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0011">measuring a plurality of measuring values of the magnetic rotor field by magnetic field sensors for a position of the rotor relative to the stator module in a magnetic rotor field determining step;</li>        <li id="ul0002-0002" num="0012">applying the position allocating function to the plurality of measuring values of the magnetic rotor field of the magnetic field sensors in a measuring value analysis step; and</li>        <li id="ul0002-0003" num="0013">determining the position of the rotor relative to the stator module by the position allocating function in a position determining step.</li>    </ul>    </li></ul></p><p id="p-0012" num="0014">This achieves the technical advantage of providing an efficient and effective method of controlling a planar drive system in which precise positioning of the rotor relative to the stator module may be effected.</p><p id="p-0013" num="0015">The position allocating function may be used to generate allocations between a position of the rotor relative to the stator module and measuring values of the magnetic rotor field measured by a plurality of the magnetic field sensors of the sensor module of the stator module for the respective position of the rotor relative to the stator module. The allocations between the positions of the rotor relative to the stator module and the measuring values of the magnetic rotor field measured for the respective position by a plurality of magnetic field sensors of the sensor module may be used to unambiguously determine which measuring values of the magnetic rotor field a particular plurality of magnetic field sensors of the sensor module will measure for a particular position of the rotor relative to the stator module.</p><p id="p-0014" num="0016">Conversely, a position of the rotor relative to the stator module may be determined for a plurality of measuring values of the magnetic rotor field measured by corresponding magnetic field sensors of the sensor module. By taking respective measurements of a plurality of measuring values of the magnetic rotor field by selected magnetic field sensors of the sensor module and by applying the position allocating function to the measuring values of the magnetic rotor field measured by the plurality of magnetic field sensors, a position of the rotor relative to the stator module may be allocated to the measuring values of the rotor module by the position allocating function at the stator module, taking into account the arrangement of the respective magnetic field sensors by which the plurality of measuring values are measured. In this way, a precise position determination may be achieved on the basis of a plurality of measuring values of the respective magnetic rotor field.</p><p id="p-0015" num="0017">Within the framework of the application, an allocation is a unique relationship between a position of the rotor relative to the stator module and measuring values of the magnetic rotor field detected by a plurality of magnetic field sensors of the sensor module. The plurality of magnetic field sensors may comprise all of the magnetic field sensors of the sensor module. Alternatively, the plurality may comprise a subset of the total number of magnetic field sensors of the sensor module. In particular, for different positions of the rotor relative to the stator module, different magnetic field sensors may be comprised in the plurality of magnetic field sensors that take readings of the magnetic rotor field.</p><p id="p-0016" num="0018">For the purposes of the application, the position allocating function is a module that comprises or generates allocations between positions of the rotor relative to the stator module and measuring values of the magnetic rotor field of a corresponding plurality of magnetic field sensors. The position allocating function may be an appropriately trained artificial neural network.</p><p id="p-0017" num="0019">Alternatively, the position allocating function may be a mathematical function in which corresponding allocations are integrated and which is set up to allocate corresponding positions of the magnetic rotor field to measuring values of the magnetic rotor field according to the measuring value analysis step.</p><p id="p-0018" num="0020">For the purpose of the application, a magnetic field sensor is a Hall sensor and may in particular be embodied as a one-dimensional, two-dimensional or three-dimensional Hall sensor.</p><p id="p-0019" num="0021">For the purpose of the application, a measuring value of the magnetic rotor field is a measuring value of a one-dimensional, two-dimensional or three-dimensional Hall sensor and accordingly may be a one-dimensional, two-dimensional or three-dimensional value of the magnetic rotor field and may comprise components of the magnetic rotor field with respect to one, two or three spatial directions.</p><p id="p-0020" num="0022">According to an embodiment, the allocation generating step comprises:<ul id="ul0003" list-style="none">    <li id="ul0003-0001" num="0000">    <ul id="ul0004" list-style="none">        <li id="ul0004-0001" num="0023">measuring a plurality of measuring values of the magnetic rotor field by a magnetic field measuring arrangement in a magnetic rotor field measuring step, wherein a three-dimensional measurement of the magnetic rotor field is determined by the plurality of measuring values of the magnetic rotor field;</li>        <li id="ul0004-0002" num="0024">determining, based on the three-dimensional measurement of the magnetic rotor field, a plurality of values of the magnetic rotor field for a plurality of magnetic field sensors of the sensor module for a plurality of positions of the rotor relative to the stator module in a sensor value determining step, wherein for each of the plurality of positions of the rotor relative to the stator module, a value of the magnetic rotor field is allocated to each magnetic field sensor of the plurality of magnetic field sensors of the sensor module according to the three-dimensional measurement of the magnetic rotor field; and</li>        <li id="ul0004-0003" num="0025">determining a plurality of allocations on the basis of the plurality of values of the magnetic rotor field for a plurality of magnetic field sensors of the sensor module and the plurality of positions of the rotor in an allocation-determining step.</li>    </ul>    </li></ul></p><p id="p-0021" num="0026">This achieves the technical advantage that a precise position determination of the rotor relative to the stator module is achieved. By measuring the plurality of measuring values of the magnetic rotor field in the magnetic rotor field measuring step, a three-dimensional measurement of the magnetic rotor field may be achieved. As a result, a precise three-dimensional determination of the magnetic rotor field may be achieved. On the basis of the precise knowledge of the magnetic rotor field, a prediction of values of the magnetic rotor field to be expected for a certain position of the rotor relative to the stator module in spatial areas of the magnetic field sensors of the sensor module is possible.</p><p id="p-0022" num="0027">Based on the knowledge of the position of each individual magnetic field sensor within the stator module and the knowledge of the three-dimensional configuration of the magnetic rotor field, precisely one value of the magnetic rotor field may be predicted exactly for a certain position of the rotor relative to the stator module for each spatial area of a magnetic field sensor of the sensor module. This allows a precise allocation between positions of the rotor relative to the stator module and measuring values of the magnetic rotor field to be measured by the respective magnetic field sensors of the sensor module by the position allocating function. The more precise the knowledge of the three-dimensional configuration of the magnetic rotor field determined by corresponding measurements in the magnetic rotor field determining step, the more precise the prediction of the values of the magnetic rotor field to be measured for specific positions of the rotor relative to the stator module by the respective magnetic field sensors of the sensor module. As a result, a more precise determination of the position of the rotor relative to the stator module may be achieved. A more precise determination of the position of the rotor may in turn lead to improved and, in particular, more precise control of the planar drive system.</p><p id="p-0023" num="0028">Due to the three-dimensional measurement of the magnetic rotor field by the magnetic field measuring arrangement, the determination of the magnetic rotor field may be determined individually for each rotor of the planar drive system. This allows production-related deviations of the magnetic rotor field for various rotors of the planar drive system to be taken into account. This allows for a more precise prediction of the values of the respective magnetic rotor fields to be expected for certain positions of the individual rotors for the respective magnetic field sensors. This in turn allows for a more precise determination of the position and thus a more precise and accurate control of the rotors of the planar drive system.</p><p id="p-0024" num="0029">In addition, the three-dimensional measurement of the magnetic rotor fields of the individual rotors of the planar drive system may be performed prior to operating the planar drive system. As a result, a trouble-free initialization phase of the planar drive system may be achieved, in which, due to the detailed knowledge of the individual magnetic rotor fields of the respective rotors of the planar drive system, a precise position determination of individual rotors and, associated with this, a precise control of individual rotors of the planar drive system may already be achieved in the initialization phase of the planar drive system.</p><p id="p-0025" num="0030">According to an embodiment, in the magnetic rotor field measuring step, the three-dimensional measurement of the magnetic rotor field is implemented by a three-dimensional array of discrete measurement points of the magnetic rotor field.</p><p id="p-0026" num="0031">This has the technical advantage that a simple and precise determination of the magnetic rotor field of the rotor may be achieved. The three-dimensional array of discrete measuring points may be realized as a three-dimensional grid of measuring points of the magnetic rotor field. At each grid point or measuring point of the three-dimensional array, different measuring values of the magnetic rotor field may be recorded by corresponding measurements of magnetic field sensors arranged at the respective measuring points.</p><p id="p-0027" num="0032">This allows measuring values of the magnetic rotor field to be recorded for various three-dimensionally arranged points in space. This allows for a three-dimensional measurement of the magnetic rotor field and thus for knowledge of the three-dimensional configuration of the respective magnetic rotor field. By a number of measuring points of the three-dimensional array of discrete measuring points, a precision of the three-dimensional measurement of the magnetic rotor field may be varied. This allows for a high flexibility in determining the magnetic rotor field by realizing a high density of measuring points in characteristic areas of the magnetic rotor field and a low density of measuring points in less characteristic areas of the magnetic rotor field. As a result, a three-dimensional measurement of the magnetic rotor field may be made more precise and accelerated at the same time.</p><p id="p-0028" num="0033">According to an embodiment, the magnetic field measuring arrangement may be moved in three spatial dimensions and comprises a single magnetic field sensor and/or a one-dimensional magnetic field sensor arrangement and/or a two-dimensional magnetic field sensor arrangement and/or a three-dimensional magnetic field sensor arrangement, wherein the three-dimensional array of discrete measuring points is realized by measurements of the magnetic field sensors of the magnetic field sensor arrangement movable in three spatial dimensions.</p><p id="p-0029" num="0034">This achieves the technical advantage that a precise three-dimensional measurement of the magnetic rotor field may be realized. The magnetic field measuring arrangement, which comprises a plurality of magnetic field sensor units and may be moved in three spatial dimensions, may be used to realize any three-dimensional array of discrete measuring points. With the magnetic field measuring arrangement that may be moved in three spatial dimensions, individual magnetic field sensor units of the magnetic field measuring arrangement may be positioned at any spatial points relative to the rotor to be measured, so that measuring values of the corresponding magnetic rotor field may be recorded for any spatial points relative to the respective rotor. By moving in three spatial dimensions of the magnetic field measuring arrangement, it is thus possible to achieve an arbitrarily accurate three-dimensional measurement of the magnetic rotor field. In particular, an individual three-dimensional measurement of the respective magnetic rotor field may be realized for each rotor to be measured. This allows increased flexibility in measuring the magnetic rotor fields of the rotors of the planar drive system, wherein production-related irregularities of the individual rotors may be taken into account.</p><p id="p-0030" num="0035">In addition, the magnetic field measuring arrangement, which may be moved in three spatial dimensions, may allow for an identical three-dimensional array of discrete measuring points to be realized for each rotor of the magnetic rotor field, so that increased comparability of the three-dimensional measurements of different magnetic rotor fields of different rotors may be achieved in this way. For each rotor, measuring values of the respective magnetic rotor field are thus recorded at the same spatial points relative to the respective rotor. This allows for simplified processing of the respective three-dimensional measurements of different magnetic rotor fields of different rotors, in particular when determining the plurality of values of the magnetic rotor field for the respective plurality of magnetic field sensors in the sensor value determining step.</p><p id="p-0031" num="0036">In addition, the magnetic field measuring arrangement, which may be moved in three spatial dimensions, allows for increased reproducibility of the three-dimensional measurement of the magnetic rotor fields of different rotors. This allows for increased comparability of different three-dimensional measurements of different magnetic rotor fields. This in turn allows for a more precise determination of the expected measurement values of the magnetic rotor field in the sensor value determining step, which in turn leads to a more precise position determination of the individual rotors of the planar drive system and thus to a more accurate control of the planar drive system.</p><p id="p-0032" num="0037">According to an embodiment, the three-dimensional measurement of the magnetic rotor field comprises a model description of the three-dimensional array of discrete measurement points, wherein the model description comprises an interpolation of the three-dimensional array of discrete measurement points.</p><p id="p-0033" num="0038">This has the technical advantage that a precise three-dimensional measurement of the magnetic rotor field and, associated with this, a precise determination of the three-dimensional configuration of the magnetic rotor field may be achieved. By interpolating the three-dimensional array of discrete measuring points or the measuring values of the magnetic rotor field to be measured recorded at the respective measuring points, values of the magnetic rotor field may be determined for any spatial points relative to the respective rotor, in particular for spatial points which were not taken into account in the three-dimensional measurement by the three-dimensional array of discrete measuring points. This increases a precision of the knowledge of the three-dimensional configuration of the magnetic rotor field to be measured. The increased knowledge of the three-dimensional configuration of the magnetic rotor field increases the determination of the values of the magnetic rotor field to be expected for the individual magnetic field sensors in the sensor value determining step. This increases a precision of the allocation of the position allocating function. This in turn contributes to a more precise position determination of the rotor and, consequently, to a more accurate control of the rotor and of the planar drive system, respectively.</p><p id="p-0034" num="0039">According to an embodiment, the magnetic rotor field determining step comprises:<ul id="ul0005" list-style="none">    <li id="ul0005-0001" num="0000">    <ul id="ul0006" list-style="none">        <li id="ul0006-0001" num="0040">selecting the plurality of magnetic field sensors from the magnetic field sensors of the sensor module for determining the magnetic rotor field in a magnetic field sensor selecting step, wherein the determination of the magnetic rotor field is limited to measuring values of the selected magnetic field sensors.</li>    </ul>    </li></ul></p><p id="p-0035" num="0041">Hereby, the technical advantage is achieved that a precise position determination of the rotor relative to the stator module may be achieved. By selecting the plurality of magnetic field sensors that are considered for determining the magnetic rotor field for determining the position of the rotor relative to the stator module, a more precise determination of the position of the rotor relative to the stator module may be achieved. For example, the magnetic field sensors of the sensor module may exclusively be selected for measuring the magnetic rotor field for determining the position of the rotor relative to the stator module, which are covered by the rotor in the respective position, the measurement of the magnetic rotor field may be made more precise by the magnetic field sensors.</p><p id="p-0036" num="0042">The magnetic field sensors are arranged to carry out a point measurement of the magnetic rotor field. Moreover, the magnetic rotor field of the rotor is embodied to have a primary contribution in the direction perpendicular to the underside of the rotor. Thus, for measuring the magnetic rotor field with the aid of the magnetic field sensors of the sensor module, primarily the magnetic field sensors positioned directly below the rotor are decisive. By selecting only these magnetic field sensors for determining the magnetic rotor field, it may be avoided that the measurements of the magnetic rotor field are falsified by measuring values of magnetic field sensors positioned remotely to the rotor. Particularly in the case of a plurality of rotors, this may improve the precision of the position determination of individual rotors. Moreover, this may accelerate the determination of the respective magnetic rotor field by reducing the number of magnetic field sensors to be taken into account to the relevant magnetic field sensors.</p><p id="p-0037" num="0043">Alternatively, additional magnetic field sensors may be selected which are not covered by the rotor but are located in direct vicinity to the rotor.</p><p id="p-0038" num="0044">Furthermore, it may be achieved that only those magnetic field sensors are selected for position determination which are required for measuring the magnetic rotor field of the respective rotor. The consideration of magnetic field sensors which cannot make a relevant contribution to the determination of the magnetic rotor field due to their distance to the respective position of the rotor may thus be avoided. This may increase the precision of the determination of the magnetic rotor field and thus the precision of the position determination of the rotor.</p><p id="p-0039" num="0045">Moreover, the computing power required to evaluate the measuring values of the magnetic field sensors for determining the position of the rotor may be reduced by only taking into account magnetic field sensors that are located in the direct spatial vicinity of the rotor.</p><p id="p-0040" num="0046">According to an embodiment, the position allocating function is embodied as an artificial neural network, the method further comprising:<ul id="ul0007" list-style="none">    <li id="ul0007-0001" num="0000">    <ul id="ul0008" list-style="none">        <li id="ul0008-0001" num="0047">training the neural network to the values of the magnetic rotor field for the plurality of magnetic field sensors of the sensor module determined in the sensor value determining step for the plurality of positions of the rotor relative to the stator module in a training step, wherein the neural network is set up by the training to allocate a position of the rotor relative to the stator module on the basis of the values of the magnetic rotor field determined in the sensor value determining step for the plurality of positions of the rotor relative to the stator module to the plurality of measuring values of the magnetic rotor field measured in the magnetic rotor field determining step.</li>    </ul>    </li></ul></p><p id="p-0041" num="0048">This has the technical advantage of enabling real-time position determination of the rotor relative to the stator module. By configuring the position allocating function as an artificial neural network, the position determination of the rotor based on the plurality of measuring values of the magnetic rotor field of the plurality of magnetic field sensors may be completed within a predetermined time interval. Thus, the position determination may particularly be completed within one control cycle of the planar drive system. This allows for highly efficient control of the planar drive system.</p><p id="p-0042" num="0049">Via the training process, a plurality of allocations between various positions of the rotor relative to the stator module and corresponding measuring values of the magnetic rotor field recorded by magnetic field sensors of the sensor module may be integrated into the neural network so that the neural network may allocate a corresponding position of the rotor relative to the stator module to newly recorded measuring values of the magnetic rotor field based on these acquired allocations.</p><p id="p-0043" num="0050">According to an embodiment, the planar drive system comprises at least a further rotor, wherein the further rotor comprises a further magnetic rotor field, and wherein the method for controlling a planar drive system according to the application further comprises:<ul id="ul0009" list-style="none">    <li id="ul0009-0001" num="0000">    <ul id="ul0010" list-style="none">        <li id="ul0010-0001" num="0051">generating a further position allocating function in the allocation generating step, wherein the further position allocating function comprises a plurality of further allocations between positions of the further rotor relative to the stator module and measuring values of the further magnetic rotor field from a plurality of magnetic field sensors of the sensor module, and wherein in each further allocation of the further position allocating function for a position of the further rotor relative to the stator module, a value of the further magnetic rotor field is uniquely allocated to each magnetic field sensor of the plurality of magnetic field sensors of the sensor module;</li>        <li id="ul0010-0002" num="0052">measuring a plurality of measuring values of the further magnetic rotor field by magnetic field sensors of the sensor module for a position of the further rotor relative to the stator module in the magnetic rotor field determining step;</li>        <li id="ul0010-0003" num="0053">applying the further position allocating function to the plurality of measuring values of the further magnetic rotor field of the magnetic field sensors with the further allocations of the further position allocating function in the measuring value analysis step, wherein in each further allocation of the further position allocating function for a position of the further rotor relative to the stator module, each magnetic field sensor of the plurality of magnetic field sensors of the sensor module is uniquely assigned a value of the further magnetic rotor field; and</li>        <li id="ul0010-0004" num="0054">determining the position of the further rotor relative to the stator module on the basis of the measuring values of the further rotor magnetic field measured by the plurality of magnetic field sensors and based on the further allocations of the further position allocating function in the position determining step.</li>    </ul>    </li></ul></p><p id="p-0044" num="0055">This has the technical advantage of enabling precise and accurate position determination for a plurality of rotors. By allocating an individual position allocating function to each rotor, a precise position determination and thus a precise and accurate control may be achieved for each rotor. In particular, in the embodiment of the position allocating function as an artificial neural network, each rotor may be allocated an individual artificial neural network that has been trained with the respective measuring values of the three-dimensional measurement of the respective magnetic rotor field and the associated determinations of the expected measuring values of the respective magnetic field sensors selected for position determination. Thus, via each individual artificial neural network, precise position determination may be achieved individually for each rotor of the planar drive system. In particular, the individual three-dimensional measurement of the respective magnetic rotor field and the associated individual embodiment of the respective artificial neural network may take into account production-related deviations of the individual magnetic rotor fields of the different rotors of the planar drive system in the position determination.</p><p id="p-0045" num="0056">By performing an individual three-dimensional measurement of the respective magnetic rotor field for each rotor of the planar drive system, production-related deviations of the magnetic rotor fields of individual rotors may be taken into account when determining the position.</p><p id="p-0046" num="0057">By selecting an individual plurality of magnetic field sensors for measuring the respective magnetic rotor field for each rotor of the planar drive system, a precise determination of the magnetic rotor field and, associated therewith, a precise determination of the position of the respective rotor relative to the stator module may be achieved for each rotor of the planar drive system.</p><p id="p-0047" num="0058">In the magnetic rotor field measuring step, a three-dimensional measurement of the respective magnetic rotor field is performed individually for each rotor of the planar drive system. In the sensor value determining step, a plurality of values of the magnetic rotor field for a plurality of magnetic field sensors of the sensor module are determined individually for each rotor of the planar drive system on the basis of the three-dimensional measurement of the magnetic rotor field. In the allocation-determining step, a plurality of allocations are determined for each rotor of the planar drive system based on the plurality of values of the magnetic rotor field for a plurality of magnetic field sensors and based on the plurality of positions of the rotor. In the magnetic field sensor selecting step, a plurality of magnetic field sensors for determining the magnetic rotor field are selected for each rotor of the planar drive system.</p><p id="p-0048" num="0059">According to an embodiment, the method according to the application further comprises:<ul id="ul0011" list-style="none">    <li id="ul0011-0001" num="0000">    <ul id="ul0012" list-style="none">        <li id="ul0012-0001" num="0060">creating an allocation data set in an allocation data set creating step, the allocation data set comprising the position allocating function determined in the allocation generating step and/or the corresponding allocations between positions of the rotor relative to the stator module and measuring values of the magnetic rotor field from a plurality of magnetic field sensors of the sensor module.</li>    </ul>    </li></ul></p><p id="p-0049" num="0061">This achieves the technical advantage that the determined position allocating function and/or the corresponding allocations between positions of the rotor relative to the stator module and measuring values of the magnetic rotor field may be reused for a renewed execution of the method according to the application. Thus, the method may be simplified and accelerated when carried out again. The position allocating function and/or the corresponding allocations may be used accordingly in the position determining step.</p><p id="p-0050" num="0062">The allocation generating step may be performed on site so that a user of the planar drive system may perform the method according to the application and, in particular, the position determining step with the corresponding position allocating function and/or allocations based on the generated allocation data set, which the user may download from a server, for example.</p><p id="p-0051" num="0063">The allocation data set may be stored in the control unit and/or in a processor unit/memory unit located on the rotor and/or in an external processor unit/memory unit of the planar drive system.</p><p id="p-0052" num="0064">According to an embodiment, the method according to the application further comprises:<ul id="ul0013" list-style="none">    <li id="ul0013-0001" num="0000">    <ul id="ul0014" list-style="none">        <li id="ul0014-0001" num="0065">creating a magnetic rotor field data set in a magnetic rotor field data set creating step, wherein the magnetic rotor field data set comprises the measuring values of the magnetic rotor field recorded in the magnetic rotor field measuring step.</li>    </ul>    </li></ul></p><p id="p-0053" num="0066">This achieves the technical advantage that the measuring values of the magnetic rotor field recorded in the magnetic rotor field measuring step may be reused for renewed execution of the method according to the application. Thus, the method may be simplified and accelerated when it is carried out again. The measuring values of the magnetic rotor field may be used accordingly in the allocation generating step.</p><p id="p-0054" num="0067">The magnetic rotor field measuring step may thus be performed on site, so that a user of the planar drive system may carry out the method according to the application and in particular the allocation generating step with the corresponding measuring values of the magnetic rotor field on the basis of the created magnetic rotor field data set, which the user may download from a server, for example.</p><p id="p-0055" num="0068">The magnetic rotor field data set may be stored in the control unit and/or in a processor unit/memory unit located on the rotor.</p><p id="p-0056" num="0069">According to an embodiment, the method further comprises:<ul id="ul0015" list-style="none">    <li id="ul0015-0001" num="0000">    <ul id="ul0016" list-style="none">        <li id="ul0016-0001" num="0070">identifying the rotor based on the individual magnetic rotor field of the rotor in a rotor magnetic identifying step, the rotor identifying step comprising:</li>        <li id="ul0016-0002" num="0071">comparing the plurality of measuring values of the magnetic rotor field measured in the magnetic rotor field determining step with the plurality of measuring values of the magnetic rotor field recorded in the magnetic rotor field measuring step in a second comparing step.</li>    </ul>    </li></ul></p><p id="p-0057" num="0072">This has the technical advantage of enabling unique identification of each rotor of the planar drive system.</p><p id="p-0058" num="0073">A planar drive system comprising at least a control unit, a stator module, a rotor and a magnetic field measuring arrangement is provided, wherein the control unit is connected to the stator module via at least a data link, wherein the stator module comprises a plurality of electrically energizable stator conductors for generating magnetic stator fields for electrically controlling the rotor, wherein the rotor comprises a magnet arrangement for generating a magnetic rotor field, wherein a magnetic coupling between the rotor and the stator module may be achieved via the magnetic stator field and the magnetic rotor field, wherein the stator module comprises a sensor module having a plurality of magnetic field sensors for determining a position of the rotor, wherein the magnetic field sensors are arranged in a two-dimensional array at the stator module, wherein each magnetic field sensor is arranged to determine the magnetic rotor field for a spatial area in the two-dimensional array, and wherein the control unit is arranged to perform a method according to the application for controlling a planar drive system.</p><p id="p-0059" num="0074">Thereby, a planar drive system may be provided that has precise and improved control and is embodied to carry out the method of the application with the aforementioned advantages.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0060" num="0075">The application is described in more detail with reference to the accompanying figures, in which:</p><p id="p-0061" num="0076"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic depiction of a planar drive system comprising a stator module and a rotor according to an embodiment;</p><p id="p-0062" num="0077"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a schematic perspective view of a sensor module of the stator module according to an embodiment;</p><p id="p-0063" num="0078"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows a schematic depiction of an underside of a rotor according to a further embodiment;</p><p id="p-0064" num="0079"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a flowchart of a method for controlling a planar drive system according to an embodiment;</p><p id="p-0065" num="0080"><figref idref="DRAWINGS">FIG. <b>5</b></figref> shows a further flowchart of a method for controlling a planar drive system according to an embodiment;</p><p id="p-0066" num="0081"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic depiction of a rotor and a magnetic field measuring arrangement according to an embodiment;</p><p id="p-0067" num="0082"><figref idref="DRAWINGS">FIG. <b>7</b></figref> shows a further flowchart of a method for controlling a planar drive system according to an embodiment;</p><p id="p-0068" num="0083"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a further flowchart of a method for controlling a planar drive system according to an embodiment; and</p><p id="p-0069" num="0084"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows a further flowchart of a method for controlling a planar drive system according to an embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0070" num="0085"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a schematic view of a planar drive system <b>200</b> with a stator module <b>300</b> and a rotor <b>400</b>.</p><p id="p-0071" num="0086">According to the embodiment in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the planar drive system comprises a control unit <b>201</b>, a stator module <b>300</b>, and a rotor <b>400</b>. The control unit <b>201</b> is connected to the stator module <b>300</b> via a data link <b>203</b>. The control unit <b>201</b> comprises a position allocating function <b>205</b> and is arranged to execute a method according to the application for controlling a planar drive system <b>200</b>.</p><p id="p-0072" num="0087">For a detailed description of the method according to the application for controlling a planar drive system <b>200</b> and the operation of the position allocating function <b>205</b>, reference is made to the description for <figref idref="DRAWINGS">FIG. <b>4</b></figref>, <figref idref="DRAWINGS">FIG. <b>5</b></figref>, <figref idref="DRAWINGS">FIG. <b>7</b></figref> and <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0073" num="0088">The stator module <b>300</b> has a planar stator surface <b>303</b>. The planar stator surface <b>303</b> is arranged on an upper surface of a stator module housing <b>305</b>. A rotor <b>400</b> is disposed above the stator surface <b>303</b>. The stator surface <b>303</b> is part of a stator unit <b>307</b> for an electric drive of the rotor <b>400</b>. The stator unit <b>307</b> with the stator surface <b>303</b> may be embodied as a printed circuit board. The stator surface <b>303</b> is square in shape.</p><p id="p-0074" num="0089">Above the stator surface <b>303</b>, the rotor may be driven in at least a first direction <b>507</b> and a second direction <b>509</b>. Moreover, the rotor <b>400</b> may also be drivend in a third direction arranged perpendicular to the first direction <b>507</b> and the second direction <b>509</b>. The stator surface <b>303</b> comprises a plurality of stator conductors <b>309</b>, which are embodied as stator conductors <b>309</b> in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, and which are substantially aligned along the first direction <b>507</b>. The stator conductors <b>309</b> are embodied to conduct current and may be energized to drive the rotor <b>400</b>. A stator conductor gap <b>311</b> is provided between the stator conductors <b>309</b>, through which the stator conductors <b>309</b> are electrically isolated from each other. The stator surface <b>303</b> is also electrically insulated from the stator conductors <b>309</b>. A further arrangement of stator conductors may be provided below the stator surface <b>303</b>, in which the stator conductors are substantially aligned along the second direction <b>509</b>.</p><p id="p-0075" num="0090">Electronic modules for driving and controlling the rotor <b>400</b> are arranged in the stator module housing <b>305</b>. The electronic modules may e.g. comprise power modules for generating the drive currents and control modules for controlling the power modules and the drive currents. On a bottom side of the stator module housing <b>305</b> opposite to the stator surface <b>303</b>, connections are arranged for connecting the stator module <b>300</b> to a plurality of connection lines. For example, the connection lines may comprise a control line for transmitting control signals for the control modules and a power supply line for supplying electrical power to the power and/or control modules. In particular, electrical energy for generating the drive currents may be supplied to the power module via the energy supply line.</p><p id="p-0076" num="0091">The stator module housing <b>305</b>, the stator unit <b>307</b> and the stator surface <b>303</b> are rectangular, in particular square, in the top view of the stator surface.</p><p id="p-0077" num="0092">The stator module housing <b>305</b> has a sectional plane <b>313</b>. A sensor module may be arranged inside of the stator module housing <b>305</b> at the level of the sectional plane <b>313</b>.</p><p id="p-0078" num="0093"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a perspective view of a sensor module <b>500</b> for detecting a position of the rotor <b>400</b> in the planar drive system <b>200</b>. The sensor module <b>500</b> is rectangular and has a two-dimensional array of magnetic field sensors <b>501</b> on a carrier <b>301</b> of the stator module <b>300</b>. Thus, the magnetic field sensors <b>501</b> are arranged on the carrier <b>301</b>. The two-dimensional array of magnetic field sensors <b>501</b> comprises a first periodic grid <b>503</b> of magnetic field sensors <b>501</b> and a second periodic grid <b>505</b> of magnetic field sensors <b>501</b>. The magnetic field sensors <b>501</b> of the first grid <b>503</b> are indicated by round symbols, while the magnetic field sensors <b>501</b> of the second grid <b>505</b> are indicated by square symbols. Alternatively, the sensor module <b>500</b> or the arrangement of the magnetic field sensors <b>501</b> may be square, parallelogram-shaped or any other advantageous shape.</p><p id="p-0079" num="0094">Where reference is made to magnetic field sensors <b>501</b> in general terms for the purposes of the application, reference numeral <b>501</b> is used.</p><p id="p-0080" num="0095">The first magnetic field sensors <b>511</b> are connected with solid lines to illustrate the grid structure of the first grid <b>503</b>. The second magnetic field sensors <b>513</b> are connected with dashed lines to illustrate the grid structure of the second grid <b>505</b>. The first magnetic field sensors <b>511</b> and the second magnetic field sensors <b>513</b> may be identical, and the round and square symbols respectively are only intended to symbolize the positions of the magnetic field sensors <b>501</b> associated with the respective sub-arrays.</p><p id="p-0081" num="0096">The first grid <b>503</b> and the second grid <b>505</b> are identically configured and displaced with respect to each other. As a result, the second magnetic field sensors <b>513</b> of the second grid <b>505</b> and the first magnetic field sensors <b>511</b> of the first grid <b>503</b> are each displaced with respect to one another.</p><p id="p-0082" num="0097">The arrangement of magnetic field sensors <b>501</b> shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> is for illustrative purposes only and may differ from the arrangement shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0083" num="0098">The magnetic field sensors <b>501</b> are each set up to determine magnetic fields for a spatial area <b>502</b>. Measurements of a magnetic field sensor <b>501</b> are thus limited to the respective spatial area <b>502</b> of the respective magnetic field sensor <b>501</b>. In the embodiment of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the spatial areas <b>502</b> are shown as rectangular or square areas. This is merely due to depictional reasons. The spatial areas <b>502</b> of the magnetic field sensors <b>501</b> may also have geometrically different spatial extents and may e.g. be circular in shape. In particular, the spatial areas <b>502</b> may have a point-shaped embodiment, so that point measurements of the respective magnetic fields may be carried out by the magnetic field sensors <b>501</b>, in which individual magnetic field sensors <b>501</b> exclusively measure field contributions of the respective magnetic fields that are arranged directly at the positions of the respective magnetic field sensors <b>501</b>.</p><p id="p-0084" num="0099">The carrier <b>301</b> is planar, so that the magnetic field sensors <b>501</b> are arranged in a plane, i.e. in a two-dimensional array.</p><p id="p-0085" num="0100">The magnetic field sensors <b>501</b> may be embodied as Hall sensors. In particular, the magnetic field sensors <b>501</b> may be embodied as 2D or 3D Hall sensors, with 3D Hall sensors measuring the magnetic field components in three linearly independent spatial directions. In particular, these spatial directions may comprise the first direction <b>507</b> and the second direction <b>509</b> as well as a third direction perpendicular to the first direction <b>507</b> and the second direction <b>509</b>.</p><p id="p-0086" num="0101">The carrier <b>301</b> may be embodied as a printed circuit board and/or as a circuit board. This allows for the carrier <b>301</b> to be provided in a simple way.</p><p id="p-0087" num="0102">The arrangement of magnetic field sensors <b>501</b> may comprise exactly two partial arrangements of the two grids <b>503</b>, <b>505</b>.</p><p id="p-0088" num="0103"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows the rotor <b>400</b> of the planar drive system <b>200</b> in a bottom view of an underside of the rotor <b>400</b>. During operation of the planar drive system <b>200</b>, the underside of the rotor <b>400</b> is arranged facing the stator surface <b>303</b> of the stator module <b>300</b>. The rotor has a magnet arrangement <b>401</b> <b>400</b> on the underside. The magnet arrangement <b>401</b> is rectangular, in particular square, in shape and comprises a plurality of magnets. The underside of the rotor <b>400</b> is flat or planar, in particular in the area of the magnets of the magnet arrangement <b>401</b>. During operation, the underside of the rotor <b>400</b> with the magnet arrangement <b>401</b> is essentially oriented in parallel to the stator surface <b>303</b> and is arranged facing the stator surface <b>303</b>.</p><p id="p-0089" num="0104">The magnet arrangement <b>401</b> comprises a first magnet unit <b>413</b>, a second magnet unit <b>415</b>, a third magnet unit <b>417</b>, and a fourth magnet unit <b>419</b>, generally referred to as the magnet unit <b>412</b>. The first magnet unit <b>413</b> and the third magnet unit <b>417</b> each comprise elongated drive magnets arranged side by side in a first rotor direction <b>407</b> and extending in a second rotor direction <b>409</b> oriented perpendicularly to the first rotor direction <b>407</b>. The second magnet unit <b>415</b> and the fourth magnet unit <b>419</b> each comprise elongated drive magnets arranged side by side in the second rotor direction <b>409</b> and extending along the first rotor direction <b>407</b>. In operation, the first and third magnet units <b>413</b>, <b>417</b> serve to drive the rotor <b>400</b> in a first rotor direction <b>407</b>, and the second and fourth magnet unit <b>415</b>, <b>419</b> serve to drive the rotor <b>400</b> in the second rotor direction <b>409</b>. Moreover, the first magnet unit <b>413</b>, the second magnet unit <b>415</b>, the third magnet unit <b>417</b> and the fourth magnet unit <b>419</b> serve to drive the rotor <b>400</b> in a third rotor direction arranged perpendicularly to the first rotor direction <b>407</b> and to the second rotor direction <b>409</b>.</p><p id="p-0090" num="0105">In the center of the magnet arrangement <b>401</b>, the rotor <b>400</b> has a free area <b>403</b> that is not covered by magnets of the magnet arrangement <b>401</b>. In the area of the free area <b>403</b>, the rotor <b>400</b> has a fastening structure <b>405</b>. Other components, such as a circuit board, may also be arranged in the free area <b>403</b>.</p><p id="p-0091" num="0106"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a flowchart of a method <b>100</b> for controlling a planar drive system <b>200</b> according to an embodiment.</p><p id="p-0092" num="0107">The method <b>100</b> for controlling a planar drive system <b>200</b> is applicable to a planar drive system <b>200</b> according to the embodiments in <figref idref="DRAWINGS">FIG. <b>1</b></figref> to <figref idref="DRAWINGS">FIG. <b>3</b></figref>. The method <b>100</b> in <figref idref="DRAWINGS">FIG. <b>4</b></figref> is described with reference to <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0093" num="0108">According to the embodiment of <figref idref="DRAWINGS">FIG. <b>4</b></figref>, a planar drive system <b>200</b> comprises at least a control unit <b>201</b>, a stator module <b>300</b>, and a rotor <b>400</b>, wherein the stator module <b>300</b> is configured to generate magnetic stator fields for electrically controlling the rotor <b>400</b>, wherein the rotor <b>400</b> comprises a magnet arrangement <b>401</b> for generating a magnetic rotor field <b>402</b>, wherein a magnetic coupling between the rotor <b>400</b> and the stator module <b>300</b> may be achieved via the magnetic stator fields and the magnetic rotor field <b>402</b>, wherein the stator module <b>300</b> comprises a sensor module <b>500</b> with a plurality of magnetic field sensors <b>501</b> for determining a position of the rotor <b>400</b>, wherein the magnetic field sensors <b>501</b> are arranged in a two-dimensional array on or in the stator module <b>300</b>, and wherein each magnetic field sensor <b>501</b> is configured to determine the magnetic rotor field <b>402</b> for a spatial area in the two-dimensional array.</p><p id="p-0094" num="0109">According to the embodiment shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the method <b>100</b> comprises the method steps:</p><p id="p-0095" num="0110">generating a position allocating function <b>205</b> in an allocation generating step <b>101</b>, wherein the position allocating function <b>205</b> is configured to assign a position of the rotor <b>400</b> relative to the stator module <b>300</b> to a plurality of measuring values of the magnetic rotor field <b>402</b> of a plurality of magnetic field sensors <b>501</b> of the sensor module <b>500</b>;</p><p id="p-0096" num="0111">measuring a plurality of measuring values of the magnetic rotor field <b>402</b> via magnetic field sensors <b>501</b> of the sensor module <b>500</b> for a position of the rotor <b>400</b> relative to the stator module <b>300</b> to be determined in a magnetic rotor field determining step <b>103</b>;</p><p id="p-0097" num="0112">applying the position allocating function <b>205</b> to the plurality of measuring values of the magnetic rotor field <b>402</b> of the plurality of magnetic field sensors <b>501</b> determined in the magnetic rotor field determining step <b>103</b> in a measuring value analysis step <b>105</b>; and</p><p id="p-0098" num="0113">determining the position of the rotor <b>400</b> relative to the stator module <b>300</b> via the position allocating function <b>205</b> in a position determining step <b>107</b>.</p><p id="p-0099" num="0114">In an allocation generating step <b>101</b>, a position allocating function <b>205</b> is generated. The position allocating function <b>205</b> is arranged to allocate a position of the corresponding rotor <b>400</b> relative to the stator module <b>300</b> to a plurality of measuring values of the magnetic rotor field <b>402</b> recorded by a plurality of magnetic field sensors <b>501</b> of the sensor module <b>500</b>, based on the arrangement of the magnetic field sensors <b>501</b> within the sensor module <b>500</b> and thus within the stator module <b>300</b>.</p><p id="p-0100" num="0115">For this purpose, the position allocating function <b>205</b> may comprise a plurality of allocations between positions of the rotor <b>400</b> relative to the stator module <b>300</b> and measuring values of the magnetic rotor field <b>402</b> from a plurality of magnetic field sensors <b>501</b> of the sensor module <b>500</b>. The allocations of the position allocating function <b>205</b> are each configured as a unique relation between positions of the rotor <b>400</b> and measuring values of the magnetic rotor field <b>402</b> from a selected plurality of magnetic field sensors <b>501</b>.</p><p id="p-0101" num="0116">In particular, generating the position allocating function <b>205</b> may be carried out prior to operating the planar drive system <b>200</b>. For example, it may be performed in an initialization process of the planar drive system <b>200</b>. Alternatively, generating the position allocating function <b>205</b> may be performed on site.</p><p id="p-0102" num="0117">After generating the position allocating function <b>205</b>, to determine a position of the rotor <b>400</b> relative to the stator module <b>300</b>, a plurality of measuring values of the magnetic rotor field <b>402</b> is determined by a plurality of magnetic field sensors <b>501</b> in a magnetic rotor field determining step <b>103</b>. For each position determination of the rotor <b>400</b>, measurements of the magnetic rotor field <b>402</b> are made by appropriate magnetic field sensors <b>501</b> of the sensor module <b>500</b>, and thus a plurality of measuring values of the magnetic rotor field <b>402</b> is determined for a plurality of different spatial areas <b>502</b>.</p><p id="p-0103" num="0118">Subsequently, the position allocating function <b>205</b> is applied to the plurality of measuring values of the magnetic rotor field <b>402</b> measured in the magnetic rotor field determining step <b>103</b> by the plurality of magnetic field sensors <b>501</b> for the plurality of spatial areas <b>502</b> in a measuring value analysis step <b>105</b>.</p><p id="p-0104" num="0119">A sensor image of the magnetic rotor field <b>402</b> is acquired by the plurality of magnetic field sensors <b>501</b> in the magnetic rotor field determining step <b>103</b>, the sensor image consisting of the plurality of measuring values of the magnetic rotor field <b>402</b> for the respective spatial areas <b>502</b> of the individual magnetic field sensors <b>501</b>. Each allocation of the position allocating function <b>205</b> corresponds to a respective sensor image that also comprises a plurality of values of the magnetic rotor field <b>402</b> for a plurality of spatial areas <b>502</b> of a plurality of magnetic field sensors <b>501</b>, wherein the sensor image of the allocation is associated with a uniquely determined position of the rotor <b>400</b> relative to the stator module <b>300</b>. In this regard, the associated position is contributed to by the respective magnetic field sensors <b>501</b> through which the respective sensor image is given. By applying the position allocating function <b>205</b>, in which the allocations between positions of the rotor <b>400</b> relative to the stator module <b>300</b> and measuring values of the magnetic rotor field <b>402</b> are integrated, to the plurality of measuring values of the magnetic rotor field <b>402</b> taken in the magnetic rotor field determining step <b>103</b>, the sensor image determined in the magnetic rotor field determining step <b>103</b> by the plurality of measuring values of the plurality of magnetic field sensors <b>501</b> is analyzed in the measuring value analysis step <b>105</b> with reference to the sensor images of the allocations integrated in the position allocating function.</p><p id="p-0105" num="0120">Here, a position of the rotor <b>400</b> relative to the stator module <b>300</b> is allocated to the measured sensor image by the position allocating function <b>205</b> in the position determining step <b>107</b> based on the allocations of the position allocating function <b>205</b> for the sensor image, thereby determining a real position of the rotor <b>400</b>.</p><p id="p-0106" num="0121"><figref idref="DRAWINGS">FIG. <b>5</b></figref> shows a further flowchart of the method <b>100</b> for controlling a planar drive system <b>200</b> according to one embodiment.</p><p id="p-0107" num="0122"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is described with reference to <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0108" num="0123">The embodiment in <figref idref="DRAWINGS">FIG. <b>5</b></figref> is based on the embodiment in <figref idref="DRAWINGS">FIG. <b>4</b></figref> and comprises all the method steps of the embodiment in <figref idref="DRAWINGS">FIG. <b>4</b></figref>. To avoid unnecessary repetition, the method steps of the embodiment in <figref idref="DRAWINGS">FIG. <b>4</b></figref> are not described in detail again below.</p><p id="p-0109" num="0124">Deviating from the embodiment in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, in the embodiment in <figref idref="DRAWINGS">FIG. <b>5</b></figref> the allocation generating step <b>101</b> comprises a magnetic rotor field measuring step <b>109</b>. In the magnetic rotor field measuring step <b>109</b>, a three-dimensional measurement of the magnetic rotor field <b>402</b> of the respective rotor <b>400</b> is determined. A three-dimensional array of discrete measurement points of the magnetic rotor field <b>402</b> may be used to determine the three-dimensional measurement of the magnetic rotor field <b>402</b>. For this purpose, a magnetic field measuring arrangement <b>600</b>, which may be moved in three spatial dimensions relative to the rotor <b>400</b> and comprises magnetic field sensor units <b>601</b>, may be used to record a plurality of measuring values for the magnetic rotor field <b>402</b> to be determined in all three spatial directions. For this purpose, the magnetic field measuring arrangement <b>600</b> may be moved relative to the rotor <b>400</b> in all three spatial directions. Alternatively, the rotor <b>400</b> may be moved relative to the magnetic field measurement arrangement <b>600</b> in all three spatial directions.</p><p id="p-0110" num="0125">The plurality of measuring values of the magnetic rotor field <b>402</b> by the plurality of magnetic field sensor units <b>601</b> allows the magnetic rotor field <b>402</b> to be scanned in all three spatial dimensions, thus achieving a three-dimensional measurement of the magnetic rotor field <b>402</b>.</p><p id="p-0111" num="0126">The magnetic field sensor units <b>601</b> may be Hall sensors, in particular two-dimensional or three-dimensional Hall sensors.</p><p id="p-0112" num="0127">The magnetic field measurement arrangement <b>600</b> may comprise a magnetic field sensor unit <b>601</b>. To create a three-dimensional array of discrete measurement points, this one magnetic field sensor unit <b>601</b> may be moved relative to the rotor <b>400</b> in all three spatial directions, and measurements of the magnetic rotor field <b>402</b> may be taken at different spatial points. Alternatively, the magnetic field measurement arrangement <b>600</b> may comprise a one-dimensional array of at least two magnetic field sensor units <b>601</b>. Alternatively, the magnetic field measurement arrangement <b>600</b> may comprise a two-dimensional array of magnetic field sensor units <b>601</b>. These may be moved in all three spatial directions or, for example, only in two spatial directions or only in one spatial direction relative to the rotor <b>400</b> to achieve the desired three-dimensional array of discrete measurement points and thus three-dimensional measurement of the magnetic rotor field <b>402</b>. Alternatively, the magnetic field measurement arrangement <b>600</b> may comprise a three-dimensional array of magnetic field sensor units <b>601</b>, which in turn may be moved in all three spatial directions relative to the rotor <b>400</b>. Thus, any three-dimensional array of discrete measurement points of the magnetic rotor field <b>402</b> may be achieved, in which measurements of the magnetic rotor field <b>402</b> are taken at any spatial points.</p><p id="p-0113" num="0128">Furthermore, the three-dimensional measurement of the magnetic rotor field <b>402</b> may be represented by a model description of the three-dimensional array of discrete measurement points. The model description may comprise interpolations of the three-dimensional array of discrete measuring points. Through this, values of the magnetic rotor field <b>402</b> may be generated on the basis of the interpolation for spatial points for which no measuring values of the magnetic rotor field <b>402</b> were recorded in the magnetic rotor field measuring step <b>109</b>. In this way, a complete three-dimensional measurement of the magnetic rotor field <b>402</b> may be achieved, in which values of the magnetic rotor field <b>402</b> are provided for any spatial points.</p><p id="p-0114" num="0129">Subsequently, based on the three-dimensional measurement of the magnetic rotor field <b>402</b>, a sensor value determining step <b>111</b> determines a plurality of values of the magnetic rotor field <b>402</b> for a plurality of magnetic field sensors <b>501</b> of the sensor module <b>500</b> of the stator module <b>300</b> for a plurality of positions of the rotor <b>400</b> relative to the stator module <b>300</b>. Due to comprehensive knowledge of the three-dimensional configuration of the magnetic rotor field <b>402</b> and based on knowledge of the positioning of the individual magnetic field sensors <b>501</b> in the stator module <b>300</b>, values of the magnetic rotor field <b>402</b> may be determined for the spatial areas <b>502</b> of the individual magnetic field sensors <b>501</b> for any position of the rotor <b>400</b> relative to the stator module <b>300</b>. Thus, by knowing the three-dimensional embodiment of the magnetic rotor field <b>402</b>, a measuring value of the magnetic rotor field <b>402</b> may be predicted for any position of the rotor <b>400</b> relative to the stator module <b>300</b> for the magnetic field sensors <b>501</b>.</p><p id="p-0115" num="0130">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the position allocating function <b>205</b> is embodied as a neural network. In a training step <b>113</b>, the neural network is trained on the values of the magnetic rotor field <b>402</b> for the plurality of magnetic field sensors <b>501</b> of the sensor module determined in the sensor value determining step <b>111</b> for the plurality of positions of the rotor <b>400</b> relative to the stator module <b>300</b>.</p><p id="p-0116" num="0131">For this purpose, the measuring values of the magnetic rotor field <b>402</b> determined in the sensor value determining step <b>111</b> are input as training data into the neural network and the latter is trained to the corresponding positions of the rotor <b>400</b> relative to the stator module <b>300</b> until the neural network is set up to allocate a corresponding position of the rotor <b>400</b> to new measuring values of the magnetic rotor field <b>402</b> which were not recorded for training the neural network but for determining the position of the rotor <b>400</b>. Through the training process in training step <b>113</b>, the neural network thus learns a plurality of allocations between measuring values of the magnetic rotor field <b>402</b> and associated positions of the rotor <b>400</b> relative to the stator module <b>300</b>, so that the neural network may determine corresponding positions of the rotor <b>400</b> relative to the stator module <b>300</b> based on these learned allocations for new measuring values of the magnetic rotor field <b>402</b>.</p><p id="p-0117" num="0132">The measuring values of the magnetic rotor field <b>402</b> determined in the sensor value determining step <b>111</b> in this case comprise measuring values of a plurality of magnetic field sensors <b>501</b> which cover a contiguous area of the stator module <b>300</b> and are thus suitable for creating an area-based image of the magnetic rotor field <b>402</b>. Taking into account the magnetic field sensors <b>501</b> involved in the measurement of the measuring values of the magnetic rotor field <b>402</b> and their positioning on the stator module <b>300</b>, an allocation of a corresponding position of the rotor <b>400</b> relative to the stator module <b>300</b> is allowed for by determining a position of the rotor <b>400</b> by the positioning of the magnetic field sensors <b>501</b> measuring the magnetic rotor field <b>401</b>.</p><p id="p-0118" num="0133">By measuring the magnetic rotor field <b>402</b> in three dimensions, comprehensive knowledge of the three-dimensional configuration of the magnetic rotor field <b>402</b> is achieved. Through the comprehensive knowledge of the three-dimensional configuration of the magnetic rotor field <b>402</b>, a uniquely determined value of the magnetic rotor field <b>402</b> may be allocated to each magnetic field sensor <b>501</b> of a plurality of magnetic field sensors <b>501</b> of the sensor module <b>500</b> for any position of the rotor <b>400</b> relative to the stator module <b>300</b>. Through this, the comprehensive knowledge of the magnetic rotor field <b>401</b> may be used to determine exactly which of the magnetic field sensors <b>501</b> measure which portion of the magnetic rotor field <b>401</b>. Thus, the neural network may be used to accurately determine the position of the rotor <b>400</b> relative to the stator module <b>300</b>.</p><p id="p-0119" num="0134">By accurately measuring the magnetic rotor field <b>402</b>, an orientation of the rotor <b>400</b> relative to the stator module <b>300</b> may be determined in addition to a position of the rotor <b>400</b> relative to the stator module <b>300</b>, which primarily comprises a translational positioning of the rotor <b>400</b> relative to the stator module <b>300</b>, by the plurality of different magnetic field sensors <b>501</b>. In this regard, an orientation of the rotor <b>400</b> comprises a rotation of the rotor <b>400</b> about an axis of rotation oriented perpendicularly to the stator surface <b>303</b>. The determination of the position of the rotor <b>400</b> relative to the stator module <b>300</b> may thus be used to determine a translational positioning and a rotational orientation of the rotor <b>400</b> relative to the stator module <b>300</b>.</p><p id="p-0120" num="0135">By performing a three-dimensional measurement of the magnetic rotor field <b>401</b> in the magnetic rotor field measuring step <b>109</b>, which results in a three-dimensional grid of the magnetic rotor field <b>401</b> in which, according to the grid density, an individual value of the magnetic rotor field <b>401</b> is assigned to any spatial point, by measuring value of the magnetic rotor field <b>402</b> recorded by a magnetic field sensor <b>501</b> of the sensor module <b>500</b>, this measuring value of the magnetic rotor field <b>402</b> may be located in the three-dimensional measurement of the magnetic rotor field <b>402</b> and thus this magnetic field sensor <b>501</b> may be positioned relative to the rotor <b>400</b>. By following a corresponding procedure for a plurality of measuring values of the magnetic rotor field <b>402</b> of a plurality of different magnetic field sensors <b>501</b>, a relative positioning of the respective magnetic field sensors <b>501</b> to the rotor <b>400</b> and thus, taking into account the positioning of the individual magnetic field sensors <b>501</b> on the stator module <b>300</b>, a position of the rotor <b>400</b> relative to the stator module <b>300</b> may be determined.</p><p id="p-0121" num="0136">Via the training process in training step <b>113</b>, the neural network is able to perform these relative positionings of the individual magnetic field sensors <b>501</b> relative to the rotor <b>400</b> and, in conjunction therewith, determine a position of the rotor <b>400</b> relative to the stator module <b>300</b>.</p><p id="p-0122" num="0137"><figref idref="DRAWINGS">FIG. <b>6</b></figref> shows a schematic diagram of a rotor <b>400</b> and a magnetic field sensing arrangement <b>600</b> according to one embodiment.</p><p id="p-0123" num="0138"><figref idref="DRAWINGS">FIG. <b>6</b></figref> shows a rotor <b>400</b>, in particular a magnet unit <b>412</b> of the magnet arrangement <b>401</b> of the rotor <b>400</b>, and a magnetic field measuring arrangement <b>600</b>. The magnet unit <b>412</b> of the rotor <b>400</b> comprises a plurality of magnets <b>425</b>. The individual magnets <b>425</b> have individual magnetization, the magnetization directions of which are shown by the differently oriented arrows. The individual magnets <b>425</b> of the magnet unit <b>412</b> are arranged in a Halbach arrangement.</p><p id="p-0124" num="0139">Further, a magnetic rotor field <b>402</b> of the illustrated rotor <b>400</b> is shown in part. In <figref idref="DRAWINGS">FIG. <b>6</b></figref>, only the portion of the magnetic rotor field <b>402</b> extending from the underside of the rotor <b>400</b> is shown.</p><p id="p-0125" num="0140">The magnetic field measuring arrangement <b>600</b> is embodied as a three-dimensional array of magnetic field sensor units <b>601</b>. For illustrative reasons, only a two-dimensional depiction is shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>. The magnetic field sensing arrangement <b>600</b> may be moved relative to the rotor <b>400</b> along the first rotor direction <b>407</b>, the second rotor direction <b>409</b>, and the third rotor direction <b>411</b>. Alternatively, the rotor <b>400</b> is movable relative to the magnetic field sensing arrangement <b>600</b>.</p><p id="p-0126" num="0141">A three-dimensional array of discrete measurement points of the magnetic field <b>402</b> may be recorded by the plurality of magnetic field sensor units <b>601</b>.</p><p id="p-0127" num="0142">The depiction of the rotor <b>400</b>, in particular of the magnet unit <b>412</b>, and the magnetic field measuring arrangement <b>600</b> is exclusively exemplary. In particular, the dimensions are not correctly reproduced. Deviating from the embodiment of the rotor <b>400</b>, the magnet unit <b>412</b> and the magnetic field measuring arrangement <b>600</b> as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, both the rotor <b>400</b>, the magnet unit <b>412</b> and the magnetic field measuring arrangement <b>600</b> may be embodied differently.</p><p id="p-0128" num="0143"><figref idref="DRAWINGS">FIG. <b>7</b></figref> shows another flowchart of the method <b>100</b> for controlling a planar drive system <b>200</b> according to a further embodiment.</p><p id="p-0129" num="0144">The embodiment in <figref idref="DRAWINGS">FIG. <b>7</b></figref> is based on the embodiment in <figref idref="DRAWINGS">FIG. <b>4</b></figref> and comprises all the method steps of the embodiment in <figref idref="DRAWINGS">FIG. <b>4</b></figref>. To avoid unnecessary repetition, the method steps of the embodiment in <figref idref="DRAWINGS">FIG. <b>4</b></figref> are not described in detail for the purposes of the application.</p><p id="p-0130" num="0145">Deviating from the embodiment in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, in the embodiment in <figref idref="DRAWINGS">FIG. <b>7</b></figref> the magnetic rotor field determining step <b>103</b> comprises a magnetic field sensor selecting step <b>115</b>. In the magnetic field sensor selecting step <b>115</b>, a plurality of magnetic field sensors <b>501</b> of the sensor module <b>500</b> are selected for a position determination of the rotor <b>400</b> relative to the stator module <b>300</b>. Preferably, the selection is hereby limited to the magnetic field sensors <b>501</b> that may make a relevant contribution to determining the magnetic rotor field <b>402</b> of the rotor <b>400</b> in the respective position relative to the stator module <b>300</b>. Preferably, the magnetic field sensors <b>501</b> of the sensor module <b>500</b> are selected to be located immediately below the rotor <b>400</b>. Due to the configuration of the magnetic rotor field <b>402</b> having a primary component perpendicular to the underside of the rotor <b>400</b>, magnetic field sensors <b>501</b> that are not located immediately below the positioned rotor <b>400</b> do not make a relevant contribution to the determination of the magnetic rotor field <b>402</b>.</p><p id="p-0131" num="0146"><figref idref="DRAWINGS">FIG. <b>8</b></figref> shows another flowchart of the method <b>100</b> for controlling a planar drive system <b>200</b> according to a further embodiment.</p><p id="p-0132" num="0147">The embodiment of <figref idref="DRAWINGS">FIG. <b>8</b></figref> corresponds to a combination of the embodiments of <figref idref="DRAWINGS">FIG. <b>5</b></figref> and <figref idref="DRAWINGS">FIG. <b>7</b></figref>.</p><p id="p-0133" num="0148">The method <b>100</b> according to the application may be applied to a plurality of rotors <b>400</b>. In particular, an individual position allocating function <b>205</b> may be generated for each rotor <b>400</b> of the plurality of rotors <b>400</b>. In particular, for the embodiment of the position allocating function <b>205</b> as a neural network, an individual neural network may be generated for each rotor <b>400</b>. Alternatively, a common position allocating function <b>205</b> may be used for each rotor <b>400</b> of the plurality of rotors <b>400</b>.</p><p id="p-0134" num="0149"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows a further flowchart of the method <b>100</b> for controlling a planar drive system <b>200</b> according to another embodiment.</p><p id="p-0135" num="0150">The embodiment shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref> is based on the embodiment in <figref idref="DRAWINGS">FIG. <b>4</b></figref> and comprises all the method steps shown there. These are not described again in detail below.</p><p id="p-0136" num="0151">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the method <b>100</b> further comprises an allocation data set creating step <b>117</b> for creating a data set storing the position allocating function <b>205</b> and/or allocations between values of the rotor magnetic rock <b>402</b> for different magnetic field sensors <b>501</b> of the sensor module <b>400</b>. The allocation data set may be stored in the control unit <b>201</b> of the planar drive system <b>200</b>. Alternatively, the allocation data set may be stored in a corresponding memory unit and/or processor unit of the rotor <b>400</b>. Alternatively, the allocation data set may be stored in an external memory unit and/or processor unit, such as an external server.</p><p id="p-0137" num="0152">Furthermore, the method comprises a magnetic rotor field data set creating step <b>119</b> for creating a magnetic rotor field data set in which the measuring values of the three-dimensional measurement of the magnetic rotor field <b>402</b> recorded in the magnetic rotor field measuring step <b>109</b> are stored. The magnetic rotor field data set may be stored in the control unit <b>201</b> of the planar drive system <b>200</b>. Alternatively, the magnetic rotor field data set may be stored in a corresponding memory unit and/or processor unit of the rotor <b>400</b>. Alternatively, the magnetic rotor field data set may be stored in an external memory unit and/or processor unit, such as an external server.</p><p id="p-0138" num="0153">The present method <b>100</b> may be applied to a planar drive system <b>200</b> having a plurality of rotors <b>400</b> and a plurality of stator modules <b>300</b>. For a plurality of rotors <b>400</b>, a measurement of the magnetic rotor field <b>402</b> may be performed in the magnetic rotor field measuring step <b>109</b> for each rotor <b>400</b>, and a magnetic rotor field data set may be created accordingly. Further, for each rotor <b>400</b>, a position allocating function, in particular an individually trained neural network, may be generated and an allocation data set may be created accordingly. Alternatively, a common neural network trained for the multiple rotors <b>400</b> may be used.</p><p id="p-0139" num="0154">Furthermore, the method <b>100</b> comprises a rotor identifying step <b>121</b> in which, based on the magnetic rotor field <b>402</b>, the respective rotor <b>400</b> is uniquely identified by corresponding measurements by the magnetic field sensors <b>501</b> of the sensor module <b>500</b>. Due to the individual measurement of the magnetic rotor field <b>402</b> for each rotor <b>400</b> of the planar drive system <b>200</b>, each rotor <b>400</b> of the planar drive system <b>200</b> may be uniquely identified by measuring the magnetic rotor field <b>402</b> by magnetic field sensors <b>501</b> of the sensor module <b>400</b></p><p id="p-0140" num="0155">For this purpose, the rotor identifying step <b>121</b> comprises a comparing step <b>123</b> in which the measuring values of the magnetic rotor field <b>401</b> measured in the magnetic rotor field determining step <b>103</b> are compared with the plurality of measuring values of the magnetic rotor field <b>401</b> recorded in the magnetic rotor field measuring step <b>109</b>. Individual magnetic rotor field data sets of the individual rotors <b>400</b> may be used for this purpose.</p><p id="p-0141" num="0156">This invention has been described with respect to exemplary examples. It is understood that changes can be made and equivalents can be substituted to adapt these disclosures to different materials and situations, while remaining with the scope of the invention. The invention is thus not limited to the particular examples that are disclosed, but encompasses all the examples that fall within the scope of the claims.</p><p id="p-0142" num="0000"><tables id="TABLE-US-00001" num="00001"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 1</entry></row><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>List of reference numerals</entry></row><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="35pt" align="left"/><colspec colname="1" colwidth="182pt" align="left"/><tbody valign="top"><row><entry/><entry>100 Method of controlling a planar drive system</entry></row><row><entry/><entry>101 Allocation generating step</entry></row><row><entry/><entry>103 Magnetic rotor field determining step</entry></row><row><entry/><entry>105 Measuring value analysis step</entry></row><row><entry/><entry>107 Position determining step</entry></row><row><entry/><entry>109 Magnetic rotor field measuring step</entry></row><row><entry/><entry>111 Sensor value determining step</entry></row><row><entry/><entry>113 Training step</entry></row><row><entry/><entry>115 Magnetic field sensor selecting step</entry></row><row><entry/><entry>117 Allocation data set creating step</entry></row><row><entry/><entry>119 Magnetic rotor field data set creating step</entry></row><row><entry/><entry>121 Rotor identifying step</entry></row><row><entry/><entry>123 Comparing step</entry></row><row><entry/><entry>200 Planar drive system</entry></row><row><entry/><entry>201 Control unit</entry></row><row><entry/><entry>203 Data link</entry></row><row><entry/><entry>205 Position allocating function</entry></row><row><entry/><entry>300 Stator module</entry></row><row><entry/><entry>301 Carrier</entry></row><row><entry/><entry>303 Stator surface</entry></row><row><entry/><entry>305 Stator module housing</entry></row><row><entry/><entry>307 Stator unit</entry></row><row><entry/><entry>309 Stator conductor</entry></row><row><entry/><entry>311 Stator conductor gap</entry></row><row><entry/><entry>400 Rotor</entry></row><row><entry/><entry>401 Magnet arrangement</entry></row><row><entry/><entry>402 Magnetic rotor field</entry></row><row><entry/><entry>403 Open space</entry></row><row><entry/><entry>405 Fastening structure</entry></row><row><entry/><entry>407 First rotor direction</entry></row><row><entry/><entry>409 Second rotor direction</entry></row><row><entry/><entry>411 Third rotor direction</entry></row><row><entry/><entry>412 Magnet unit</entry></row><row><entry/><entry>413 First magnet unit</entry></row><row><entry/><entry>415 Second magnet unit</entry></row><row><entry/><entry>417 Third magnet unit</entry></row><row><entry/><entry>419 Fourth magnet unit</entry></row><row><entry/><entry>420 Position range</entry></row><row><entry/><entry>421 First position range</entry></row><row><entry/><entry>422 Second position range</entry></row><row><entry/><entry>423 Movement path</entry></row><row><entry/><entry>425 Magnet</entry></row><row><entry/><entry>P1 First position</entry></row><row><entry/><entry>P2 Second position</entry></row><row><entry/><entry>500 Sensor module</entry></row><row><entry/><entry>501 Magnetic field sensor</entry></row><row><entry/><entry>502 Spatial area</entry></row><row><entry/><entry>503 First periodic grid</entry></row><row><entry/><entry>505 Second periodic grid</entry></row><row><entry/><entry>507 First direction</entry></row><row><entry/><entry>509 Second direction</entry></row><row><entry/><entry>511 First magnetic field sensor</entry></row><row><entry/><entry>513 Second magnetic field sensor</entry></row><row><entry/><entry>600 Magnetic field measuring arrangement</entry></row><row><entry/><entry>601 Magnetic field sensor unit</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method for controlling a planar drive system,<claim-text>wherein the planar drive system comprises at least a control unit, a stator module and a rotor,</claim-text><claim-text>wherein the stator module is configured to generate magnetic stator fields for electrically controlling the rotor,</claim-text><claim-text>wherein the rotor comprises a magnet arrangement for generating a magnetic rotor field,</claim-text><claim-text>wherein a magnetic coupling between the rotor and the stator module is achievable via the magnetic stator fields and the magnetic rotor field,</claim-text><claim-text>wherein the stator module comprises a sensor module with a plurality of magnetic field sensors for determining a position of the rotor,</claim-text><claim-text>wherein the magnetic field sensors are arranged in a two-dimensional array at the stator module, and</claim-text><claim-text>wherein each magnetic field sensor is set up to determine the magnetic rotor field for a spatial area in the two-dimensional array;</claim-text><claim-text>the method comprising:</claim-text><claim-text>generating a position allocating function in an allocation generating step, wherein the position allocating function is configured to allocate a position of the rotor relative to the stator module to a plurality of measuring values of the magnetic rotor field of a plurality of magnetic field sensors of the sensor module;</claim-text><claim-text>measuring a plurality of measuring values of the magnetic rotor field by magnetic field sensors of the sensor module for a position of the rotor relative to the stator module, in a magnetic rotor field determining step;</claim-text><claim-text>applying the position allocating function to the plurality of measuring values of the magnetic rotor field of the magnetic field sensors of the sensor module, in a measuring value analysis step; and</claim-text><claim-text>determining the position of the rotor relative to the stator module by the position allocating function, in a position determining step.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the allocation generating step comprises:<claim-text>measuring a plurality of measuring values of the magnetic rotor field by a magnetic field measuring device in a magnetic rotor field measuring step, wherein a three-dimensional measurement of the magnetic rotor field is determined by the plurality of measuring values of the magnetic rotor field; and</claim-text><claim-text>determining, on the basis of the three-dimensional measurement of the magnetic rotor field, a plurality of values of the magnetic rotor field for a plurality of magnetic field sensors of the sensor module for a plurality of positions of the rotor relative to the stator module in a sensor value determining step, wherein for each of the plurality of positions of the rotor relative to the stator module, a value of the magnetic rotor field is assigned to each magnetic field sensor of the plurality of magnetic field sensors of the sensor module according to the three-dimensional measurement of the magnetic rotor field.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein in the magnetic rotor field measuring step the three-dimensional measurement of the magnetic rotor field is realized by a three-dimensional array of discrete measurement points of the magnetic rotor field.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the magnetic field measuring arrangement is moveable in three spatial dimensions and comprises a single magnetic field sensor unit and/or a one-dimensional array of magnetic field sensor units and/or a two-dimensional array of magnetic field sensor units and/or a three-dimensional array of magnetic field sensor units, and wherein the three-dimensional array of discrete measuring points is implemented by measurements of the magnetic field sensor units of the magnetic field sensor arrangement movable in three spatial dimensions.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the three-dimensional measurement of the magnetic rotor field comprises a model description of the three-dimensional array of discrete measurement points, and wherein the model description comprises an interpolation of the three-dimensional array of discrete measurement points.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the magnetic rotor field determining step comprises:<claim-text>selecting magnetic field sensors from the magnetic field sensors of the sensor module to determine the magnetic rotor field in a magnetic field sensor selecting step, wherein a determination of the sensor magnetic field is limited to the selected magnetic field sensors.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the position allocating function is configured as an artificial neural network, further comprising:<claim-text>training the neural network on the values of the magnetic rotor field for the plurality of magnetic field sensors of the sensor module determined in the sensor value determining step for the plurality of positions of the rotor relative to the stator module in a training step,</claim-text><claim-text>wherein the neural network is configured by the training to allocate a position of the rotor relative to the stator module to the plurality of measuring values of the magnetic rotor field measured in the magnetic rotor field determining step based on the values of the magnetic rotor field determined in the sensor value determining step for the plurality of positions of the rotor relative to the stator module.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the planar drive system comprises at least a further rotor, the further rotor having a further magnetic rotor field, further comprising:<claim-text>generating a further position allocating function in the allocation generating step, wherein the further position allocating function comprises a plurality of further allocations between positions of the further rotor relative to the stator module and measuring values of the further magnetic rotor field from a plurality of magnetic field sensors of the sensor module, and wherein in each further allocation of the further position allocating function for a position of the further rotor relative to the stator module, a value of the further magnetic rotor field is uniquely allocated to each magnetic field sensor of the plurality of magnetic field sensors of the sensor module;</claim-text><claim-text>measuring a plurality of readings of the further magnetic rotor field by magnetic field sensors of the sensor module for a position of the further rotor relative to the stator module in the magnetic rotor field determining step;</claim-text><claim-text>applying the further position allocating function to the plurality of measuring values of the further magnetic rotor field of the magnetic field sensors in the measuring value analysis step, wherein in each further allocation of the further position allocating function for a position of the further rotor relative to the stator module, a value of the further magnetic rotor field is uniquely allocated to each magnetic field sensor of the plurality of magnetic field sensors of the sensor module; and</claim-text><claim-text>determining the position of the further rotor relative to the stator module on the basis of the measuring values of the further magnetic rotor field measured by the magnetic field sensors and on the basis of the further allocations of the further position allocating function in the position determining step.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>creating an allocation data set in an allocation data set creating step, the allocation data set comprising the position allocating function determined in the allocation generating step and/or corresponding allocations between positions of the rotor relative to the stator module and measuring values of the magnetic rotor field from a plurality of magnetic field sensors of the sensor module.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>creating a magnetic rotor field data set in a magnetic rotor field data set creating step,</claim-text><claim-text>wherein the magnetic rotor field data set comprises the measuring values of the magnetic rotor field recorded in the magnetic rotor field measuring step.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>identifying the rotor on the basis of the individual magnetic rotor field of the rotor in a rotor identifying step, wherein the rotor identifying step comprises:</claim-text><claim-text>comparing the plurality of measuring values of the magnetic rotor field measured in the magnetic rotor field determining step with the plurality of measuring values of the magnetic rotor field taken in the magnetic rotor field measuring step in a comparing step.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. A planar drive system having at least one control unit configured to execute a method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, a stator module, a rotor and a magnetic field measuring arrangement, wherein:<claim-text>the control unit is connected to the stator module via at least one data link, and</claim-text><claim-text>the stator module comprises a plurality of electrically energizable stator conductors for generating magnetic stator fields for electrically controlling the rotor;</claim-text><claim-text>wherein the rotor comprises a magnet arrangement for generating a magnetic rotor field,</claim-text><claim-text>wherein a magnetic coupling between the rotor and the stator module is achievable via the magnetic stator field and the magnetic rotor field,</claim-text><claim-text>wherein the stator module comprises a sensor module with a plurality of magnetic field sensors for determining a position of the rotor,</claim-text><claim-text>wherein the magnetic field sensors are arranged in a two-dimensional array on the stator module, and</claim-text><claim-text>wherein each magnetic field sensor is configured to determine the magnetic rotor field for a spatial area in the two-dimensional array.</claim-text></claim-text></claim></claims></us-patent-application>