<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007454A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007454</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17837149</doc-number><date>20220610</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>KR</country><doc-number>10-2021-0087029</doc-number><date>20210702</date></priority-claim><priority-claim sequence="02" kind="national"><country>KR</country><doc-number>10-2022-0011124</doc-number><date>20220126</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>4</main-group><subgroup>40</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20180201</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>4</main-group><subgroup>40</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc></classifications-cpc><invention-title id="d2e79">METHOD AND APPARATUS FOR RELAYING OR RECEIVING MESSAGE</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Ettifos Co.</orgname><address><city>Pleasanton</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Kim</last-name><first-name>Hojun</first-name><address><city>Yongin-si</city><country>KR</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Park</last-name><first-name>Yongtae</first-name><address><city>Seongnam-si</city><country>KR</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Dong</last-name><first-name>Wonyong</first-name><address><city>Yongin-si</city><country>KR</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Ettifos Co.</orgname><role>02</role><address><city>Pleasanton</city><state>CA</state><country>US</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">In an aspect of the present disclosure, there is provided a road side apparatus configured to relay a message. The apparatus may include a memory, a processor, and a transceiver. The processor may be configured to: check whether an identifier received together with a received message is previously stored; when the identifier is stored, replace a personal safety message (PSM) corresponding to the identifier in a pair of the PSM and the identifier with a PSM included in the received message and the store the PSM; when a timer for batch transmission expires or when a total size of stored PSMs exceeds a predetermined value, generate one batch message including all PSMs in stored pairs of PSMs and identifiers; and transmit the generated batch message. The identifier may be information for identifying a transmitter that transmits the message.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="199.47mm" wi="158.75mm" file="US20230007454A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="191.85mm" wi="114.30mm" file="US20230007454A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="162.56mm" wi="126.24mm" file="US20230007454A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="273.90mm" wi="140.04mm" file="US20230007454A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="175.09mm" wi="128.61mm" file="US20230007454A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="239.44mm" wi="172.80mm" file="US20230007454A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="151.38mm" wi="145.12mm" file="US20230007454A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">TECHNICAL FIELD</heading><p id="p-0002" num="0001">The present disclosure relates to a method and apparatus for relaying or receiving a message, and more particularly, to a method and apparatus for transmitting and receiving a message of a first communication standard into a message of a second communication standard for a device or subject that does not support a specific communication standard.</p><heading id="h-0002" level="1">BACKGROUND ART</heading><p id="p-0003" num="0002">For vehicle-to-everything (V2X) communication, communication standards such as Wireless Access in Vehicular Environments (WAVE), Long Term Evolution vehicle-to-everything (LTE-V2X) sidelink, etc. have been currently used.</p><p id="p-0004" num="0003">However, WAVE or LTE-V2X sidelink is a technology used for high-speed movement, and a pedestrian (hereinafter referred to as a vulnerable road user (VRU)) moves at a low speed and transmits a relatively small amount of data compared to data transmitted by a vehicle in long transmission cycles. Since VRU terminals that are currently distributed do not support the communication standards such as WAVE or LTE-V2X sidelink, there are barriers to entry for VRUs in the V2X communication.</p><p id="p-0005" num="0004">In addition, if a V2X communication modem is separately provided to the VRU terminal, it may cause problems such as an increase in the price of the terminal and the speed of dissemination of new terminal devices. Therefore, it would be desirable to use communication standards supported by terminals (e.g., a smartphone) that are currently distributed to many VRUs.</p><p id="p-0006" num="0005">Among the above communication standards, Bluetooth, and more particularly, Bluetooth Low Energy (BLE), which is judged to be supported by most VRU terminals, is optimized to periodically transmit information to the surroundings. Thus, BLE has the advantage of establishing an environment for the V2P communication only with application development.</p><p id="p-0007" num="0006">In addition, in recent years, a modem for ultra-wideband (UWB) communication has been distributed to devices such as smartphones. The UWB communication may also be used as a communication standard for the V2P communication.</p><p id="p-0008" num="0007">However, if a vehicle does not support BLE or UWB communication standards, the vehicle is incapable of receiving a message from any VRU.</p><heading id="h-0003" level="1">DISCLOSURE</heading><heading id="h-0004" level="1">Technical Problem</heading><p id="p-0009" num="0008">An object of the present disclosure is to provide a method and apparatus for relaying or receiving a message.</p><p id="p-0010" num="0009">Specifically, the object of the present disclosure is to provide a method and apparatus for relaying a message to provide compatibility between heterogeneous communication standards, and a method and apparatus for receiving such a message.</p><p id="p-0011" num="0010">It will be appreciated by persons skilled in the art that the objects that could be achieved with the present disclosure are not limited to what has been particularly described hereinabove and the above and other objects that the present disclosure could achieve will be more clearly understood from the following detailed description.</p><heading id="h-0005" level="1">Technical Solution</heading><p id="p-0012" num="0011">In an aspect of the present disclosure, there is provided a method of relaying a message. The method may include: checking whether an identifier received together with a received message is previously stored; when the identifier is stored, replacing a personal safety message (PSM) in a pair of the PSM and the identifier which corresponds to the identifier with a PSM included in the received message; when a timer for batch transmission expires or when a total size of stored PSMs exceeds a predetermined value, generating one batch message including all PSMs in stored pairs of PSMs and identifiers; and transmitting the generated batch message.</p><p id="p-0013" num="0012">Additionally or alternatively, the method may include: when the identifier is not previously stored, starting the timer for batch transmission; and storing the identifier and the PSM in the received message.</p><p id="p-0014" num="0013">Additionally or alternatively, the batch message and the received message may be based on different communication standards or protocols.</p><p id="p-0015" num="0014">Additionally or alternatively, the method may include deleting all stored pairs of PSMs and identifiers after transmitting the generated batch message.</p><p id="p-0016" num="0015">Additionally or alternatively, the method may include: checking whether the PSM included in the received message is compressed; and when the PSM is compressed, decompressing the received message based on a previously stored lead message corresponding to the identifier.</p><p id="p-0017" num="0016">Additionally or alternatively, the batch message may include an indicator indicating batch transmission and a plurality of PSMs indicated by the indicator.</p><p id="p-0018" num="0017">Additionally or alternatively, the batch message may not include the identifier.</p><p id="p-0019" num="0018">In another aspect of the present disclosure, there is provided an apparatus configured to relay a message. The apparatus may include: a memory; a processor; and a transceiver. The processor may be configured to: check whether an identifier received together with a received message is previously stored; when the identifier is stored, replace a PSM in a pair of the PSM and the identifier which corresponds to the identifier with a PSM included in the received message; when a timer for batch transmission expires or when a total size of stored PSMs exceeds a predetermined value, generate one batch message including all PSMs in stored pairs of PSMs and identifiers; and transmit the generated batch message.</p><p id="p-0020" num="0019">In another aspect of the present disclosure, there is provided a method of receiving a message. The method may include: determining whether a received message is a batch message; and when the received message is the batch message, obtaining a plurality of PSMs by decoding the batch message based on an indicator indicating the batch message.</p><p id="p-0021" num="0020">Additionally or alternatively, the method may include when the received message is not the batch message, obtaining a PSM by decoding the received message.</p><p id="p-0022" num="0021">In another aspect of the present disclosure, there is provided an apparatus configured to receive a message. The apparatus may include: a memory; a processor; and a transceiver. The processor may be configured to: determine whether a received message is a batch message; and when the received message is the batch message, obtain a plurality of PSMs by decoding the batch message based on an indicator indicating the batch message.</p><p id="p-0023" num="0022">Additionally or alternatively, the processor may be configured to obtain a PSM by decoding the received message when the received message is not the batch message.</p><p id="p-0024" num="0023">In a further aspect of the present disclosure, there is provided a computer program stored on a computer-readable medium and configured to perform the above-described method</p><p id="p-0025" num="0024">It will be understood by those skilled in the art that the above-described aspects of the present disclosure are merely part of embodiments of the present disclosure and various modifications and alternatives could be developed from the following technical features of the present disclosure.</p><heading id="h-0006" level="1">Advantageous Effects</heading><p id="p-0026" num="0025">The present disclosure has the following effects.</p><p id="p-0027" num="0026">According to the present disclosure, conversion between heterogeneous communication standards may be supported when messages are relayed, thereby providing a device that does not support a specific communication standard with an unsupported communication standard environment.</p><p id="p-0028" num="0027">According to the present disclosure, delayed transmission or batch transmission may be supported when messages are relayed, thereby inducing efficient use of a communication network by relaying a message depending on the message urgency.</p><p id="p-0029" num="0028">It will be appreciated by persons skilled in the art that the effects that could be achieved with the present disclosure are not limited to what has been particularly described hereinabove and other advantages of the present disclosure will be more clearly understood from the following detailed description.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0007" level="1">DESCRIPTION OF DRAWINGS</heading><p id="p-0030" num="0029">The accompanying drawings, which are included to provide a further understanding of the present disclosure, illustrate embodiments of the disclosure and together with the description serve to explain the principle of the present disclosure.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates a communication environment to which the present disclosure is applied.</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram of a transmitting device and a receiving device according to an embodiment of the present disclosure.</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram for explaining an operation of relaying messages according to an embodiment of the present disclosure.</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a block diagram of processors of transmitting and receiving devices according to an embodiment of the present disclosure.</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flowchart of operations of relaying a message according to an embodiment of the present disclosure.</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart of operations of relaying a message according to an embodiment of the present disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0008" level="1">BEST MODE</heading><p id="p-0037" num="0036">Hereinafter, embodiments of the present disclosure will be described with reference to the accompanying drawings. However, the present disclosure is not limited to the embodiments described herein and may be implemented in various other forms. The terminology used in this specification is intended to help the understanding of the embodiments. That is, the terminology is not intended to limit the scope of the present disclosure. In addition, singular forms used herein may imply plural forms unless the forms clearly represent the opposite.</p><p id="p-0038" num="0037">First, the terms and basic encoding methods used in this document will be described.</p><p id="p-0039" num="0038">In this specification, once a timer starts, the timer may continue to operate until the timer stops or expires. The timer may start in an idle state, or the timer may restart while in operation. When the timer starts or restarts, the timer may always start or restart from an initial value.</p><p id="p-0040" num="0039">In the present specification, a vehicle-to-pedestrian (V2P) or vehicle-to-everything (V2X) message refers to a message including a wireless access in vehicular environments (WAVE) short message protocol (WSMP) header of the Institute of Electrical and Electronics Engineers (IEEE) 1609.3, a security header of IEEE 1609.2, a personal safety message (PSM) of IEEE 1609.2 and the Society of Automotive Engineers (SAE) J2735, and so on. Hereinafter, the V2P or V2X message will be described in brief.</p><p id="p-0041" num="0040">As an example of generating the V2P or V2X message, three layers may be used. The three layers are an application layer, a security layer, and a network layer in order from higher to lower layers.</p><p id="p-0042" num="0041">The PSM of IEEE 1609.2 SAE J2735 is data in the form of a message frame, which is obtained by encoding based on unaligned packed encoding rules (UPER). The PSM may include specific information that a vulnerable road user (VRU) desires to transmit to a vehicle, for example, information on the temporary identifier (ID), type, location, direction, speed, and so on of the VRU. However, the information is not limited thereto. In addition, the name of the PSM itself is not intended to limit the scope of the present disclosure, and the PSM may be understood and interpreted as information related to the VRU.</p><p id="p-0043" num="0042">Security data of IEEE 1609.2 consists of the PSM of IEEE 1609.2 SAE J2735 PSM and the security header of IEEE 1609.2 described above. The security header of IEEE 1609.2 includes certificate information to sign the PSM and signature information about the PSM, which is encoded by octet encoding rules (OER).</p><p id="p-0044" num="0043">A WSMP message of IEEE 1609.3 consists of the security data of IEEE 1609.2 used for V2P communication and the WSMP header of IEEE 1609.3. The WSMP header of IEEE 1609.3 includes characteristic information on a vehicle-to-everything (V2X) communication means, which is encoded by the UPER.</p><p id="p-0045" num="0044">Herein, V2P messages are largely divided into two types: a lead message and a compressed message. The lead message refers to a V2P message including a non-compressed PSM and transmitted with a new identifier. The compressed message refers to a V2P message including a compressed PSM and transmitted together with the identifier of the lead message after transmission of the lead message. That is, the V2P message includes the lead message and the compressed message, and these messages may be called various names.</p><p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates a communication environment to which the present disclosure is applied.</p><p id="p-0047" num="0046">V2X refers to a communication system involving wireless communication between a vehicle <b>2</b> and a vehicle <b>2</b> (vehicle-to-vehicle (V2V)). V2V not only plays a basic role of notifying nearby vehicles of information such as the location, direction, and speed of a vehicle but also serves to inform potential hazards such as sudden braking and turning.</p><p id="p-0048" num="0047">In addition, V2X refers to a system in which a vehicle communicates and shares with various elements on a road for autonomous driving, which involves wireless communication between a vehicle and a network <b>3</b> (vehicle-to-network (V2N)), wireless communication between a vehicle and a road side unit (RSU) <b>4</b>, and wireless communication between a vehicle and transportation infrastructure <b>5</b> (vehicle-to-infrastructure (V2I)).</p><p id="p-0049" num="0048">Vehicles may inform each other of danger based on communication therebetween and check information such as parking locations and signal change times based on communication between the vehicles and transportation infrastructure such as parking lots and traffic lights. Thus, V2X is considered as a necessary technology for perfect autonomous driving.</p><p id="p-0050" num="0049">In addition, V2X communication may also be extended to a person <b>1</b> around the road. Such communication is referred to as V2P. The present disclosure will be described in the context of V2X communication.</p><p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram of a transmitting device <b>10</b> and a receiving device <b>20</b> according to an embodiment of the present disclosure.</p><p id="p-0052" num="0051">The transmitting device <b>10</b> refers to a device performing transmission, for example, transmission of messages for V2P or V2X communication. However, since communication always involves transmission and reception, the transmission device <b>10</b> may also receive messages.</p><p id="p-0053" num="0052">The transmitting device <b>10</b> may include: a memory <b>11</b> configured to store messages, information, etc.; a processor <b>12</b> configured to process messages, information, etc.; and a transceiver <b>13</b> configured to transmit or receive messages, information, etc.</p><p id="p-0054" num="0053">The receiving device <b>20</b> refers to a device performing reception, for example, reception of messages for V2P or V2X communication. The receiving device <b>20</b> may also transmit messages.</p><p id="p-0055" num="0054">The receiving device <b>20</b> may include: a memory <b>21</b> configured to store messages, information, etc.; a processor <b>22</b> configured to process messages, information, etc.; and a transceiver <b>23</b> configured to transmit or receive messages, information, etc.</p><p id="p-0056" num="0055">If the transmitting device <b>10</b> is a VRU terminal, the receiving device <b>20</b> may be an RSU or an on-board unit (OBU) located around the road. If the transmitting device <b>10</b> is an RSU or an OBU located around the road, the receiving device <b>20</b> may be a terminal mounted on a vehicle. In addition, the transmitting device <b>10</b> and the receiving device <b>20</b> are not limited to the names mentioned herein, and the transmitting device <b>10</b> and the receiving device <b>20</b> may be included or mounted in various devices, units, machines, and the like.</p><p id="p-0057" num="0056">Hereinafter, the proposals of the present disclosure will be described in brief.</p><p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram for explaining an operation of relaying V2P or V2X messages according to the present disclosure. An RSU <b>4</b> may receive a V2P message including a PSM from a VRU <b>1</b>. Transmission and reception of such a V2P message may be performed according to a first communication standard (e.g., BLE or UWB). The RSU <b>4</b> may transmit (i.e., relay) a V2X message including the received PSM to a vehicle <b>2</b>. The V2X message may be transmitted according to a second communication standard (e.g., WAVE or LTE-V2X).</p><p id="p-0059" num="0058">According to a first embodiment of the present disclosure, the transmitting device <b>10</b> may support batch transmission when relaying a message. In the present specification, batch transmission means that, among messages received from transmitting subjects (e.g., VRUs), only the latest messages from each sender are bundled and transmitted. Batch transmission may also be referred to as delayed transmission because there is a time delay between message reception and message transmission.</p><p id="p-0060" num="0059">Referring again to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the transmitting device <b>10</b> is a device for transmitting messages. In the present specification, a message includes a V2P message or a V2X message, and the scope of present disclosure is not limited to the name of the message. In addition, the transmitting device <b>10</b> may receive a message and forward (i.e., relay) the received message to another device.</p><p id="p-0061" num="0060">The processor <b>12</b> of the transmitting device <b>10</b> may receive a V2P message through the transceiver <b>13</b>. The processor <b>12</b> of the transmitting device <b>10</b> may check whether an identifier included in the received V2P message is previously stored in the memory <b>11</b>. If the identifier is stored, the processor <b>12</b> may replace a PSM, which corresponds to the previously stored identifier, in a pair of the PSM and the identifier with a PSM included in the received V2P message. Upon receiving the V2P message, the processor <b>12</b> may store the identifier and the PSM included in the V2P message in the memory <b>11</b>. Herein, replacing means replacing a PSM in a previously stored pair of {identifier, PSM} with a PSM in a received V2P message and storing the latter PSM.</p><p id="p-0062" num="0061">Thereafter, the processor <b>12</b> may check whether a timer for batch transmission expires or whether the total size of stored PSMs exceeds a predetermined value. When the timer for batch transmission expires or when the total size of the stored PSMs exceeds the predetermined value, the processor <b>12</b> may generate one batch message by bundling the stored PSMs of all stored pairs of PSMs and identifiers. Here, the batch message is based on a communication standard or protocol different from that of the received V2P message. For example, the batch message corresponds to a V2X message. Since V2P and V2X messages use different physical (PHY) layers and different medium access control (MAC) layers, channel coding and resource mapping for the V2P and V2X messages may be different.</p><p id="p-0063" num="0062">The batch message may include information indicating batch transmission in order to allow the receiving device <b>20</b> to recognize the batch transmission. For example, the information indicating the batch transmission may be included as data in the form of a message frame of SAE J2735. That is, an indicator (or ID) indicating batch transmission may be added to the message frame, and the indicator may represent a batch message, i.e., a plurality of PSMs. The batch message may also include the plurality of PSMs indicated by the indicator.</p><p id="p-0064" num="0063">However, the batch message may not include the above-described identifier. That is, the identifier is used only for a first link (e.g., V2P link) but not used for a second link (e.g., V2X link).</p><p id="p-0065" num="0064">The processor <b>12</b> may transmit (i.e., relay) the generated batch message to the receiving device <b>20</b> through the transceiver <b>13</b>.</p><p id="p-0066" num="0065">If the receiving device <b>20</b> is incapable of directly receiving a V2P message from a subject as an RSU (e.g., if the receiving device <b>20</b> has no V2P communication capability), the transmitting device <b>10</b> may provide the V2P message to the receiving device <b>20</b> as a V2X message according to the above-described relay procedure.</p><p id="p-0067" num="0066">The transmitting device <b>10</b> may generate a batch message based on a timer. Specifically, the transmitting device <b>10</b> may match the latest PSM for each identifier and then store the latest PSM for each identifier in the memory <b>11</b>. In addition, the transmitting device <b>10</b> may generate and transmit the latest PSMs for individual identifiers as one batch message, thereby maintaining the latest PSMs.</p><p id="p-0068" num="0067">According to a second embodiment of the present disclosure, the transmitting device <b>10</b> may support non-delayed transmission when relaying a message. The term &#x201c;non-delayed transmission&#x201d; means retransmission of a received message with no time delay. Accordingly, the non-delayed transmission may be referred to as non-bundled transmission due to the difference from the above-described batch transmission.</p><p id="p-0069" num="0068">The processor <b>12</b> may receive a V2P message through the transceiver <b>13</b>. The processor <b>12</b> may generate a second V2P message based on the received V2P message. The second V2P message may be based on a communication standard or protocol different from the received V2P message. The processor <b>12</b> may transmit the second V2P message through the transceiver <b>13</b>.</p><p id="p-0070" num="0069">As in the first embodiment, if the receiving device <b>20</b> is incapable of directly receiving a V2P message from a subject as an RSU (e.g., if the receiving device <b>20</b> has no V2P communication capability), the transmitting device <b>10</b> may provide the V2P message to the receiving device <b>20</b> as a V2X message according to the above-described relay procedure.</p><p id="p-0071" num="0070">The procedure for transmitting V2P or V2X messages has been described with reference to <figref idref="DRAWINGS">FIG. <b>1</b></figref>. Hereinafter, a procedure for receiving V2P or V2X messages will be described.</p><p id="p-0072" num="0071">According to the first embodiment of the present disclosure, batch transmission may be supported. The receiving device <b>20</b> is a device for receiving messages. The processor <b>22</b> of the receiving device <b>20</b> may receive a batch message from the transmitting device <b>10</b> through the transceiver <b>23</b>. The processor <b>22</b> may decode the received batch message to obtain individual PSMs included in the received batch message. The processor <b>22</b> may provide the PSMs to applications.</p><p id="p-0073" num="0072">However, the receiving device <b>20</b> needs to have an ability to receive batch messages. If the receiving device <b>20</b> has no ability to receive batch messages, the receiving device <b>20</b> may not decode any batch message. In this case, the receiving device <b>20</b> may discard a received batch message.</p><p id="p-0074" num="0073">If the receiving device <b>20</b> is capable of receiving a batch message, the receiving device <b>20</b> may decode the batch message to obtain an indicator indicating batch transmission. The receiving device <b>20</b> may obtain PSMs indicated by the indicator based on the indicator indicating the batch transmission. Since the batch message is provided in the form of a list, elements in the list may correspond to PSMs.</p><p id="p-0075" num="0074">According to the second embodiment of the present disclosure, non-delayed transmission may be supported. The processor <b>22</b> of the receiving device <b>20</b> may receive a message from the transmitting device <b>10</b> through the transceiver <b>23</b>. The processor <b>22</b> may decode the received message to obtain a PSM. The processor may provide the PSM to applications.</p><p id="p-0076" num="0075">Hereinafter, the proposals of the present disclosure will be described with reference to the remaining drawings.</p><p id="p-0077" num="0076">Generation or Compression of Messages</p><p id="p-0078" num="0077">Referring to <figref idref="DRAWINGS">FIG. <b>3</b></figref>, a transmitting device (i.e., RSU <b>4</b>) may receive a message from a subject such as the VRU <b>1</b> and then relay the message to the vehicle <b>2</b>. In this case, the message received from the subject such as the VRU <b>1</b> may be compressed, which will be described. In other words, generation or compression of a message by the VRU <b>1</b> will be described.</p><p id="p-0079" num="0078">The message transmitted by the subject such as the VRU <b>1</b> may be, for example, a V2P message. The V2P message basically includes a PSM. The PSM may include information about the temporary identifier, type, location, direction, and speed of a VRU as described above, but the present disclosure is not limited thereto. That is, the PSM may include various information related to the VRU.</p><p id="p-0080" num="0079">The subject such as the VRU <b>1</b> (hereinafter such a subject is referred to as the VRU <b>1</b> for simplicity) may use an identifier for compression of a V2P message. The identifier is information for indicating a lead message to be referred to when a compressed message is encoded or decoded. Therefore, when the VRU <b>1</b> transmits the V2P message, the VRU <b>1</b> transmits the identifier together.</p><p id="p-0081" num="0080">After performing initial transmission, the VRU <b>1</b> may compress a new message to be transmitted based on the initially transmitted lead message (i.e., based on the lead message) for a predetermined time. In this case, the VRU <b>1</b> may transmit the compressed message together with the identifier.</p><p id="p-0082" num="0081">Hereinafter, a method of compressing a V2P message will be described in detail. The V2P message compression method is based on the V2P message generation method described above.</p><p id="p-0083" num="0082">A processor (or message compressor) of the VRU <b>1</b> may remove a predetermined field (e.g., a field having a static characteristic) from headers to be attached to a generated IEEE 1609.2 SAE J2735 PSM. In the present specification, removing a field means that a field in headers included in an uncompressed message such as a lead message is excluded from a message. The processor of the VRU <b>1</b> may calculate another predetermined field (e.g., a field represented by a delta value) based on the lead message, and such a field may include only the delta value. In this case, the delta value means a value indicating a difference from the field value of the lead message. Information in this state may be referred to as a compressed PSM. The processor of the VRU <b>1</b> may encode the compressed PSM based on UPER.</p><p id="p-0084" num="0083">Next, the processor of the VRU <b>1</b> may generate security data of IEEE 1609.2 where the encoded compressed PSM is used as ToBeSignedData. The processor of the VRU <b>1</b> may remove a predetermined field (e.g., a field having a static characteristic) from headers of the security data of IEEE 1609.2 based on the security data of IEEE 1609.2 in the lead message. The processor of the VRU <b>1</b> may calculate another predetermined field (e.g., a field represented by a delta value) based on the lead message, and such a field may include only the delta value. Information in this state may be referred to as compressed IEEE 1609.2 security data. The processor of the VRU <b>1</b> may encode the compressed IEEE 1609.2 security data based on OER.</p><p id="p-0085" num="0084">Then, the processor of the VRU <b>1</b> may generate a WSMP message of IEEE 1609.3 including the encoded compressed IEEE 1609.2 security data. In this case, a predetermined field (e.g., a field having a static characteristic) may be removed from headers of the WSMP message of IEEE 1609.3. The processor of the VRU <b>1</b> may calculate another predetermined field (e.g., a field represented by a delta value) based on the lead message, and such a field may include only the delta value. Information in this state may be referred to as a compressed WSMP message. The processor of the VRU <b>1</b> may encode the compressed WSMP message based on the UPER.</p><p id="p-0086" num="0085">Such a message generated after compression may be referred to as a compressed V2P message.</p><p id="p-0087" num="0086">On the other hand, the first bit of a lead/compressed V2P message may be used as indicator information indicating whether the message is compressed. For example, 0 may indicate that the message is not compressed, and 1 may indicate that the message is compressed.</p><p id="p-0088" num="0087">The processor of the VRU <b>1</b> may request a communication unit such as the transceiver to transmit the compressed V2P message including the previously stored identifier and the compressed PSM.</p><p id="p-0089" num="0088">The communication unit of the VRU <b>1</b> may transmit the compressed V2P message through the transceiver.</p><p id="p-0090" num="0089">Decompression or Decoding of Messages</p><p id="p-0091" num="0090">Hereinafter, it will be described how a subject such as the RSU <b>4</b> (hereinafter such a subject is referred to as the RSU <b>4</b> for simplicity) receives, decompresses, or decodes a message compressed and transmitted by the VRU <b>1</b>.</p><p id="p-0092" num="0091">The RSU <b>4</b> may receive a lead or compressed V2P message from the VRU <b>1</b> through a communication unit such as the transceiver. In this case, an identifier may be received together.</p><p id="p-0093" num="0092">The RSU <b>4</b> may check a compression indicator in the received V2P message and check whether the received V2P message is compressed.</p><p id="p-0094" num="0093">If it is confirmed that the received V2P message is not compressed, the RSU <b>4</b> may store the received V2P message in the memory together with the received identifier. Preferably, the received V2P message may be stored after being matching with the received identifier. In addition, the RSU <b>4</b> may forward the received V2P message to a message using unit such as an application.</p><p id="p-0095" num="0094">If it is confirmed that the received V2P message is compressed, the RSU <b>4</b> may decompress the compressed V2P message. The decompression method will be described in detail.</p><p id="p-0096" num="0095">The RSU <b>4</b> may check the identifier received together with the V2P message. If the received identifier is identical to a previously stored identifier, the RSU <b>4</b> may confirm that the lead message is equivalent to the previously stored identifier.</p><p id="p-0097" num="0096">The RSU <b>4</b> may recover a WSMP header of IEEE 1609.3 in the received compressed V2P message from a WSMP header of IEEE 1609.3 in the lead message at network layers. As the field value of a predetermined field (e.g., a field having a static characteristic) in the WSMP header of IEEE 1609.3, the value of the same field in the lead message may be used.</p><p id="p-0098" num="0097">In addition, the field value (i.e., delta value) of another predetermined field (e.g., a field represented by a delta value) of the WSMP header of IEEE 1609.3 may be obtained from the value of the same field in the lead message. For example, a value obtained by adding the value of a specific field to the value of the same field of the lead message may be used. The RSU <b>4</b> may acquire security data of IEEE 1609.2 based on the recovered WSMP header.</p><p id="p-0099" num="0098">Thereafter, the RSU <b>4</b> may obtain a security header of IEEE 1609.2 at security layers according to the same method as the method of obtaining the WSMP header of IEEE 1609.3 described above. The RSU <b>4</b> may obtain a PSM of IEEE 1609.2 SAE J2735 based on the obtained IEEE 1609.2 security header.</p><p id="p-0100" num="0099">In addition, for the PSM of IEEE 1609.2 SAE J2735, the RSU <b>4</b> may obtain a header at application layers according to the same method as the method of obtaining the WSMP header of IEEE 1609.3 described above. The RSU <b>4</b> may obtain the PSM based on the obtained header.</p><p id="p-0101" num="0100">The RSU <b>4</b> may forward the obtained PSM to a message using unit such as an application.</p><p id="p-0102" num="0101"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a block diagram of processors of transmitting and receiving devices according to an embodiment of the present disclosure.</p><p id="p-0103" num="0102">The processor <b>12</b> of the transmitting device <b>10</b> may include a message transceiver <b>121</b>, a message bundle and generation unit <b>122</b>, and a message decompressor <b>123</b>. The processor <b>22</b> of the receiving device <b>20</b> may include a message transceiver <b>221</b>, a message separator <b>222</b>, and a message using unit <b>223</b>. The names of the components of the processors <b>12</b> and <b>22</b> are merely exemplary, and the scope of the present disclosure is not limited thereto.</p><p id="p-0104" num="0103">The processor <b>12</b> of the transmitting device <b>10</b> may check whether a PSM included in a received V2P message is compressed. If the PSM included in the received V2P message is compressed, the message decompressor <b>123</b> of the transmitting device <b>10</b> may decompress the received V2P message based on a previously stored lead V2P message corresponding to an identifier received together with the received V2P message. After the decompression, the processor <b>12</b> may obtain the PSM. If the PSM included in the received V2P message is not compressed, the processor <b>12</b> of the transmitting device <b>10</b> may decode the received V2P message to obtain the PSM.</p><p id="p-0105" num="0104">In the first embodiment of the present disclosure, batch transmission is supported, which will be described first. Such a situation may be referred to as a case in which batch transmission is configured. In the following, it is assumed that the processor <b>12</b> of the transmitting device <b>10</b> checks whether batch transmission is configured and confirms that the batch transmission is configured.</p><p id="p-0106" num="0105">The processor <b>12</b> of the transmitting device <b>10</b> may check whether an identifier received together with a received V2P message is previously stored in the memory <b>11</b>. If the identifier is previously stored, the processor <b>12</b> may replace a PSM, which corresponds to the identifier, in a pair of the PSM and the identifier with a PSM included in the received V2P message. Herein, replacing a PSM may include storing the PSM as well.</p><p id="p-0107" num="0106">If the identifier is not previously stored, the processor <b>12</b> may start a timer for batch transmission and store the identifier and the PSM included in the received V2P message in the memory <b>11</b>.</p><p id="p-0108" num="0107">Until the timer for batch transmission expires or the total size of stored PSMs exceeds a predetermined value, the transmitting device <b>10</b> may receive V2P messages through the message transceiver <b>121</b>, match PSMs and identifiers, which are received with the V2P messages, and store the PSMs and identifiers in the memory <b>11</b>.</p><p id="p-0109" num="0108">When the timer for batch transmission expires or the total size of the stored PSMs exceeds the predetermined value, the message bundle and generation unit <b>122</b> of the transmitting device <b>10</b> may generate one batch message by bundling the PSMs in all pairs of PSMs and identifiers, which are stored in the memory <b>11</b>. In other words, the message bundle and generation unit <b>122</b> of the transmitting device <b>10</b> may generate the batch message including all of the stored PSMs.</p><p id="p-0110" num="0109">As mentioned above, the generated batch message and the received V2P message may be based on different communication standards or protocols.</p><p id="p-0111" num="0110">After transmitting the generated batch message, the processor <b>12</b> may delete all pairs of PSMs and identifiers stored in the memory <b>11</b>.</p><p id="p-0112" num="0111">In the second embodiment of the present disclosure, batch transmission is not supported (that is, non-delayed transmission is supported), which will be described. Such a situation may be referred to as a case in which non-delayed transmission is configured. In the following, it is assumed that the processor <b>12</b> of the transmitting device <b>10</b> checks whether non-delayed transmission is configured and confirms that the non-delayed transmission is configured.</p><p id="p-0113" num="0112">When the non-delayed transmission is configured, message bundling is not performed. The message transceiver <b>121</b> may receive a V2P message. Then, the message bundle and generation unit <b>122</b> may generate a V2X message based on the received V2P message. The message transceiver <b>121</b> may transmit the V2X message. In this case, the V2X message may be based on a communication standard or protocol different from that of the received V2P message.</p><p id="p-0114" num="0113">Hereinafter, the processor <b>22</b> of the receiving device <b>20</b> will be described.</p><p id="p-0115" num="0114">According to the first embodiment of the present disclosure, batch transmission is supported. The message transceiver <b>221</b> of the receiving device <b>20</b> may receive a batch message from the transmitting device <b>10</b> through the transceiver <b>23</b>. The receiving device <b>20</b> may check whether the batch message is received. Specifically, the batch message may include an indicator indicating that the corresponding transmission is batch transmission and also include a plurality of PSMs indicated by the indicator. That is, the receiving device <b>20</b> may check whether the received message includes the indicator indicating batch transmission. When the received message includes the indicator, the receiving device <b>20</b> may recognize that the batch message is received.</p><p id="p-0116" num="0115">The message separator <b>222</b> may decode the received batch message to obtain the plurality of PSMs included therein. The message separation and decoding unit <b>222</b> may forward the PSMs to the message using unit <b>223</b>.</p><p id="p-0117" num="0116">According to the second embodiment of the present disclosure, non-delayed transmission is supported. The message transceiver <b>221</b> of the receiving device <b>20</b> may receive a V2X message from the transmitting device <b>10</b> through the transceiver <b>23</b>. The message separation and decoding unit <b>222</b> may decode the received V2X message to obtain a PSM. The processor <b>22</b> may transmit the PSM to the message using unit <b>223</b>.</p><p id="p-0118" num="0117"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flowchart of operations of relaying a message according to the first embodiment of the present disclosure.</p><p id="p-0119" num="0118">The RSU <b>4</b> may receive a message from the VRU <b>1</b> (S<b>501</b>). The received message may be a V2P message, but present disclosure is not limited thereto. In this case, an identifier may be received together with the message.</p><p id="p-0120" num="0119">The RSU <b>4</b> may check whether the received message is compressed (S<b>502</b>). If the received message is compressed, the RSU <b>4</b> may decompress the received message (S<b>503</b>). After the decompression, the RSU <b>4</b> may obtain a PSM (S<b>504</b>).</p><p id="p-0121" num="0120">If the received message is not compressed, the RSU <b>4</b> may obtain the PSM from the received message (S<b>504</b>).</p><p id="p-0122" num="0121">The RSU <b>4</b> may check whether the identifier received together with the message in S<b>501</b> is equivalent to a previously stored identifier (S<b>505</b>).</p><p id="p-0123" num="0122">If the identifier received together with the received message is not equivalent to the previously stored identifier, the RSU <b>4</b> may start a timer for batch transmission (S<b>506</b>). If the identifier received together with the received message is equivalent to the previously stored identifier, the RSU <b>4</b> may replace a PSM, which corresponds to the identifier, in a previously stored pair of the PSM and the identifier with the PSM included in the message received in S<b>501</b> (S<b>507</b>).</p><p id="p-0124" num="0123">The RSU <b>4</b> may match and store the identifier and the PSM (S<b>508</b>). That is, the identifier and the PSM may be stored as a pair.</p><p id="p-0125" num="0124">The RSU <b>4</b> may check whether the timer for batch transmission expires or whether the amount of PSMs stored for all identifiers exceeds a threshold (S<b>509</b>). If the timer does not expire or if the amount of PSMs stored for all identifiers does not exceed the threshold, the RSU <b>4</b> may wait for a message from the VRU <b>1</b>.</p><p id="p-0126" num="0125">If the timer for batch transmission expires or if the amount of PSMs stored for all identifiers exceeds the threshold, the RSU <b>4</b> may generate a batch message (S<b>510</b>). The batch message may include all PSMs included in all stored pairs of PSMs and identifiers. In particular, the batch message may include the most recent PSMs transmitted by several VRUs. Thereafter, the RSU <b>4</b> may transmit the batch message to the vehicle <b>2</b> (S<b>511</b>). In this case, the batch message and the message received in S<b>501</b> may be based on different communication standards or protocols.</p><p id="p-0127" num="0126">The batch message may include an indicator indicating batch transmission and a plurality of PSMs. However, as described above, the batch message does not include the identifier received from the VRU <b>1</b>.</p><p id="p-0128" num="0127">The vehicle <b>2</b> may check whether the received message is a batch message. If the received message is the batch message, the vehicle <b>2</b> may obtain a plurality of PSMs by decoding the batch message based on the batch message or an indicator indicating batch transmission. If the received message is not the batch message, the vehicle <b>2</b> may decode the received message to obtain a PSM.</p><p id="p-0129" num="0128"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart of operations of relaying a message according to the second embodiment of the present disclosure.</p><p id="p-0130" num="0129">The RSU <b>4</b> may receive a message from the VRU <b>1</b> (S<b>610</b>). The received message may be a V2P message, but present disclosure is not limited thereto.</p><p id="p-0131" num="0130">The RSU <b>4</b> may check whether the received message is compressed (S<b>620</b>). If the received message is compressed, the RSU <b>4</b> may decompress the received message (S<b>630</b>). After the decompression, the RSU <b>4</b> may obtain a PSM (S<b>640</b>).</p><p id="p-0132" num="0131">If the received message is not compressed, the RSU <b>4</b> may obtain the PSM from the received message (S<b>640</b>).</p><p id="p-0133" num="0132">The RSU <b>4</b> may generate a second message based on the obtained PSM (S<b>650</b>). The second message and the message received in S<b>610</b> may be based on different communication standards or protocols.</p><p id="p-0134" num="0133">The RSU <b>4</b> may transmit the second message to the vehicle <b>2</b> (S<b>660</b>).</p><p id="p-0135" num="0134">The vehicle <b>2</b> may check whether the received message is a batch message. If the received message is the batch message, the vehicle <b>2</b> may obtain a plurality of PSMs by decoding the batch message based on the batch message or an indicator indicating batch transmission. If the received message is not the batch message, the vehicle <b>2</b> may decode the received message to obtain a PSM.</p><p id="p-0136" num="0135">Details of message relaying according to the present disclosure that has not been described with reference to <figref idref="DRAWINGS">FIGS. <b>5</b> and <b>6</b></figref> could be found in the details provided with reference to <figref idref="DRAWINGS">FIGS. <b>2</b> to <b>4</b></figref>.</p><p id="p-0137" num="0136">It has been described that the methods or procedures of the present disclosure are performed by the devices and components included therein (e.g., memories <b>11</b> and <b>21</b>, processors <b>12</b> and <b>22</b>, transceivers <b>13</b> and <b>23</b>, message transceiver <b>121</b>, message bundle and generation unit <b>122</b>, message decompressor <b>123</b>, message transceiver <b>221</b>, message separation and decoding unit <b>222</b>, message using unit <b>223</b>, etc.). However, the names of the device and components included therein are merely exemplary, and the scope of the present disclosure is not limited thereto. In other words, the methods or procedures of the present disclosure may be performed by others rather than the devices. In addition, the methods or procedures may be performed by software for message relaying and reception or code readable by computers or other machines or devices.</p><p id="p-0138" num="0137">In this document, messages are specifically named such as &#x201c;V2P message&#x201d;, &#x201c;V2X message&#x201d;, and so on. However, the messages names are merely exemplary, and the scope of the present disclosure is not limited thereto.</p><p id="p-0139" num="0138">In another aspect of the present disclosure, the above-described proposals or operations may be provided as code that is capable of being implemented, performed, or executed by computers (herein, the computer is a comprehensive concept including a system on chip (SoC), a processor, a microprocessor etc.) or a computer-readable storage medium or computer program product storing or including the code. The scope of the present disclosure may be extended to the code or the computer-readable storage medium or computer program product storing or including the code.</p><p id="p-0140" num="0139">The preferred embodiments of the present disclosure are provided to allow those skilled in the art to implement and embody the present disclosure. While the present disclosure has been described and illustrated herein with reference to the preferred embodiments thereof, it is understood to those skilled in the art that various modifications and variations could be made therein without departing from the spirit and scope of the disclosure. Therefore, the present disclosure is not limited to the embodiments disclosed herein but intends to give the broadest scope consistent with the new principles and features disclosed herein.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method of relaying a message, the method comprising:<claim-text>checking whether an identifier received together with a received message is previously stored;</claim-text><claim-text>when the identifier is stored, replacing a personal safety message (PSM) in a pair of the PSM and the identifier which corresponds to the identifier with a PSM included in the received message;</claim-text><claim-text>when a timer for batch transmission expires or when a total size of stored PSMs exceeds a predetermined value, generating one batch message including all PSMs in stored pairs of PSMs and identifiers; and</claim-text><claim-text>transmitting the generated batch message.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising:<claim-text>when the identifier is not previously stored, starting the timer for batch transmission; and</claim-text><claim-text>storing the identifier and the PSM in the received message.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the batch message and the received message are based on different communication standards or protocols.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising deleting all stored pairs of PSMs and identifiers after transmitting the generated batch message.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising:<claim-text>checking whether the PSM included in the received message is compressed; and</claim-text><claim-text>when the PSM is compressed, decompressing the received message based on a previously stored lead message corresponding to the identifier.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the batch message includes an indicator indicating batch transmission and a plurality of PSMs indicated by the indicator.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the batch message does not include the identifier.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. An apparatus configured to relay a message, the apparatus comprising:<claim-text>a memory;</claim-text><claim-text>a processor; and</claim-text><claim-text>a transceiver;</claim-text><claim-text>wherein the processor is configured to:</claim-text><claim-text>check whether an identifier received together with a received message is previously stored;</claim-text><claim-text>when the identifier is stored, replace a personal safety message (PSM) in a pair of the PSM and the identifier which corresponds to the identifier with a PSM included in the received message;</claim-text><claim-text>when a timer for batch transmission expires or when a total size of stored PSMs exceeds a predetermined value, generate one batch message including all PSMs in stored pairs of PSMs and identifiers; and</claim-text><claim-text>transmit the generated batch message.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. A method of receiving a message, the method comprising:<claim-text>determining whether a received message is a batch message; and</claim-text><claim-text>when the received message is the batch message, obtaining a plurality of personal safety messages (PSMs) by decoding the batch message based on an indicator indicating the batch message.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, comprising when the received message is not the batch message, obtaining a PSM by decoding the received message.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. An apparatus configured to receive a message, the apparatus comprising:<claim-text>a memory;</claim-text><claim-text>a processor; and</claim-text><claim-text>a transceiver;</claim-text><claim-text>wherein the processor is configured to:</claim-text><claim-text>determine whether a received message is a batch message; and</claim-text><claim-text>when the received message is the batch message, obtain a plurality of personal safety messages (PSMs) by decoding the batch message based on an indicator indicating the batch message.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The apparatus of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the processor is configured to obtain a PSM by decoding the received message when the received message is not the batch message.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. A computer program stored on a computer-readable medium and configured to perform the method defined in <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. A computer program stored on a computer-readable medium and configured to perform the method defined in <claim-ref idref="CLM-00009">claim 9</claim-ref>.</claim-text></claim></claims></us-patent-application>