<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003503A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003503</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17363732</doc-number><date>20210630</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>B</subclass><main-group>7</main-group><subgroup>30</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>D</subclass><main-group>5</main-group><subgroup>14</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>01</class><subclass>D</subclass><main-group>18</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>B</subclass><main-group>7</main-group><subgroup>30</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>D</subclass><main-group>5</main-group><subgroup>145</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>01</class><subclass>D</subclass><main-group>18</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">Use Of Channel Information To Generate Redundant Angle Measurements On Safety Critical Applications</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Allegro MicroSystems, LLC</orgname><address><city>Manchester</city><state>NH</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Cesaretti</last-name><first-name>Juan Manuel</first-name><address><city>Ciudad de Buenos Aires</city><country>AR</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Foletto</last-name><first-name>Andrea</first-name><address><city>Andorno Micca</city><country>IT</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Allegro MicroSystems, LLC</orgname><role>02</role><address><city>Manchester</city><state>NH</state><country>US</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A sensor system and method use channel information to generate redundant angle measurements for sensing rotation of magnets about a given axis of rotation. It was observed that magnetic field strength on a circle, centered on the axis of rotation but in a plane perpendicular to it, have a component parallel to the axis that varies sinusoidally as a function of the angle around the circle. By placing magnetic field sensors equiangularly around such a circle, and summing their field strengths with appropriate weights, the angle of magnet rotation may be computed in a manner that is immune to the presence of stray fields. Moreover, fewer than all channels of sense data may be combined to form redundant estimates of the angle of rotation, to permit continued operation when one of the sensors has failed.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="110.74mm" wi="144.86mm" file="US20230003503A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="150.28mm" wi="144.44mm" orientation="landscape" file="US20230003503A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="204.30mm" wi="145.63mm" orientation="landscape" file="US20230003503A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="159.60mm" wi="144.70mm" file="US20230003503A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="233.76mm" wi="99.06mm" orientation="landscape" file="US20230003503A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="231.73mm" wi="150.88mm" orientation="landscape" file="US20230003503A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="126.75mm" wi="146.90mm" file="US20230003503A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">FIELD</heading><p id="p-0002" num="0001">The disclosure pertains generally to arrangements for measuring magnetic variables, and more particularly to measuring direction of magnetic fields using Hall-effect devices.</p><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0003" num="0002">Various standards have been developed to classify risk and define safety requirements, such as the Safety Integrity Level (SIL) used in the International Electrotechnical Commission (IEC) standard 61508. This standard has been adapted to the road vehicle industry specifically, namely as Automotive Safety Integrity Level (ASIL) defined by the International Organization for Standardization (ISO) standard 26262. The highest classification of injury risk that requires the most stringent level of safety measures is ASIL-D, required for safety critical automotive applications such as automotive control systems.</p><p id="p-0004" num="0003">Sensors often are used to measure angles in safety critical applications. For example, detecting the angle of rotation of an automobile steering column relative to its neutral position is important in signaling the electric power steering system assisting in wheel turning. One way this angle can be detected is by the use of a magnetic angle and rotation sensing system <b>100</b>, as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. In the system <b>100</b>, a rotating component (not shown) such as a steering column has affixed to it a cylindrical magnet <b>110</b> that is diametrically magnetized; that is, the North and South poles of the magnet <b>110</b> lie along a cross-sectional diameter as indicated, rather than along its central axis <b>120</b>. Typically, the magnet <b>110</b> is made of rare earth elements (e.g. neodymium) that produce a strong local field for sensing. When the component rotates, the magnet <b>110</b> likewise rotates about its central axis <b>120</b>, thereby changing the direction of the axis of magnetization (i.e. the direction from the South pole to the North pole). This results in a change in the orientation of the external, opposite magnetic field (i.e. from the North pole to the South pole), which may be sensed using a sensor <b>130</b> that is located in a plane parallel to a face of the cylindrical magnet <b>110</b>. Typically, the sensor <b>130</b> contains compact, robust magnetic field sensors such as Hall plate sensors.</p><p id="p-0005" num="0004">It is known from U.S. Pat. No. 10,636,285 to use multiple sensors with differing levels of sensitivity to generate different measurements (e.g. of pressure) in safety critical systems, and to use the multiple measurements to detect faults in the sensing system. Such faults may be a result of manufacturing defects, sensor degradation, external (i.e. environmental) interference, broken electrical connections, and so on.</p><heading id="h-0003" level="1">SUMMARY OF DISCLOSED EMBODIMENTS</heading><p id="p-0006" num="0005">Disclosed embodiments provide an angle sensor system that is immune to stray magnetic fields; that is, it is sensitive to differential fields but not to common-mode fields. This is accomplished through the observation that magnetic field strength on a circle, centered on the axis of rotation but in a plane perpendicular to it, have a component parallel to the axis that varies sinusoidally as a function of the angle around the circle. By placing magnetic field sensors equiangularly around such a circle, and summing their field strengths with appropriate weights, the angle of magnet rotation may be computed in a manner that is immune to the presence of stray fields. Moreover, fewer than all channels of sense data may be combined to form redundant estimates of the angle of rotation, to permit continued operation when one of the sensors has failed.</p><p id="p-0007" num="0006">Thus, a first embodiment is a sensor system for sensing rotation of a magnet about a given axis. The sensor system includes at least three magnetic field sensors, each sensor for sensing a strength of the magnetic field parallel to the given axis. The plurality of magnetic field sensors are arranged, in a plane perpendicular to the given axis, equiangularly around a circle whose center lies on the given axis. The sensor also includes electronic circuitry, coupled to the plurality of magnetic field sensors, for combining the respective sensed strengths into an output signal that represents an angle &#x3b4; between a magnetization axis of the magnet and a fixed direction.</p><p id="p-0008" num="0007">In some embodiments, at least one of the magnetic field sensors comprises a Hall-effect plate sensor.</p><p id="p-0009" num="0008">In some embodiments, the magnet comprises a diametric cylinder magnet and the plurality of magnetic field sensors comprises at least four magnetic field sensors.</p><p id="p-0010" num="0009">In some embodiments, the magnet does not comprise a diametric cylinder magnet and the plurality of magnetic field sensors comprises at least five magnetic field sensors.</p><p id="p-0011" num="0010">In some embodiments, the electronic circuitry is configured for combining the sensed strengths in a manner that is insensitive to common-mode components of the magnetic field present at each of the magnetic field sensors.</p><p id="p-0012" num="0011">Let n denote the total number of the plurality of magnetic field sensors, and let H<sub>i </sub>denote the strength, of the magnetic field perpendicular to the plane, sensed by an ith one of the magnetic field sensors. Then in some embodiments, the electronic circuitry includes a main angle derivation circuit for combining the sensed strengths, from the total number n of the plurality of magnetic field sensors, into a main value for the angle &#x3b4; according to the formula</p><p id="p-0013" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"> <mrow>  <mi>&#x3b4;</mi>  <mo>=</mo>  <mrow>   <mrow>    <msup>     <mi>tan</mi>     <mrow>      <mo>-</mo>      <mn>1</mn>     </mrow>    </msup>    <mo>(</mo>    <mfrac>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>sin</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>cos</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>    </mfrac>    <mo>)</mo>   </mrow>   <mo>.</mo>  </mrow> </mrow></math></maths></p><p id="p-0014" num="0012">In some embodiments, the electronic circuitry further includes a plurality of subsidiary angle derivation circuits, each subsidiary angle derivation circuit for combining the sensed strengths, from a different subset of fewer than the total number of the plurality of magnetic field sensors, to form a respective redundant value for the angle &#x3b4;.</p><p id="p-0015" num="0013">In some embodiments, the electronic circuitry further includes a main angle comparator circuit for comparing the redundant values for the angle &#x3b4; produced by each of the plurality of subsidiary angle derivation circuits to determine whether a magnetic field sensor is faulty.</p><p id="p-0016" num="0014">In some embodiments, the electronic circuitry further includes a main angle comparator circuit for determining a most likely value for the angle &#x3b4; by comparing the redundant values for the angle &#x3b4; according to a majority vote.</p><p id="p-0017" num="0015">Some embodiments include both a main angle comparator circuit and a redundant angle comparator circuit, both circuits for comparing the redundant values for the angle &#x3b4;</p><p id="p-0018" num="0016">Another embodiment is a method of sensing rotation of a magnet about a given axis. The method includes sensing a strength of the magnetic field parallel to the given axis, by each of a plurality of at least three magnetic field sensors. The magnetic field sensors are arranged, in a plane perpendicular to the given axis, equiangularly around a circle whose center lies on the given axis. The method also includes combining the respective sensed strengths, by electronic circuitry coupled to the plurality of magnetic field sensors, into an output signal that represents an angle &#x3b4; between a magnetization axis of the magnet and a fixed direction.</p><p id="p-0019" num="0017">In some embodiments, sensing the strength of the magnetic field by a magnetic field sensor comprises sensing using the Hall effect.</p><p id="p-0020" num="0018">In some embodiments, the magnet comprises a diametric cylinder magnet and the plurality of magnetic field sensors comprises at least four magnetic field sensors.</p><p id="p-0021" num="0019">In some embodiments, the magnet does not comprise a diametric cylinder magnet and the plurality of magnetic field sensors comprises at least five magnetic field sensors.</p><p id="p-0022" num="0020">In some embodiments, combining the sensed strengths into the output signal comprises combining the sensed strength in a manner that is insensitive to common-mode components of the magnetic field present at each of the magnetic field sensors.</p><p id="p-0023" num="0021">With notation as above, in some embodiments, combining the sensed strengths comprises computing a main value for the angle &#x3b4; according to the formula</p><p id="p-0024" num="0000"><maths id="MATH-US-00002" num="00002"><math overflow="scroll"> <mrow>  <mi>&#x3b4;</mi>  <mo>=</mo>  <mrow>   <mrow>    <msup>     <mi>tan</mi>     <mrow>      <mo>-</mo>      <mn>1</mn>     </mrow>    </msup>    <mo>(</mo>    <mfrac>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>sin</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>cos</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>    </mfrac>    <mo>)</mo>   </mrow>   <mo>.</mo>  </mrow> </mrow></math></maths></p><p id="p-0025" num="0022">In some embodiments, combining the sensed strengths comprises combining sensed strengths, from each of a plurality of different subsets of fewer than the total number of the plurality of magnetic field sensors, to form a respective redundant value for the angle &#x3b4;.</p><p id="p-0026" num="0023">Some embodiments of the method further include comparing the redundant values for the angle &#x3b4; to determine whether one of the magnetic field sensors is faulty.</p><p id="p-0027" num="0024">Some embodiments of the method include determining a most likely value for the angle &#x3b4; by comparing the redundant values for the angle &#x3b4; according to a majority vote.</p><p id="p-0028" num="0025">Some embodiments of the method further include comparing the redundant values for the angle &#x3b4; by both a main angle comparator circuit and a redundant angle comparator circuit.</p><p id="p-0029" num="0026">It is appreciated that the concepts, techniques, and structures disclosed herein may be embodied in other ways, and that the above summary of disclosed embodiments is thus meant to be illustrative rather than comprehensive or limiting.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWINGS</heading><p id="p-0030" num="0027">The manner and process of making and using the disclosed embodiments may be appreciated by reference to the drawings, of which:</p><p id="p-0031" num="0028"><figref idref="DRAWINGS">FIG. <b>1</b></figref> schematically shows a diametric magnet that rotates about a given axis, and a sensor for sensing rotation of the magnet as known in the prior art;</p><p id="p-0032" num="0029"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a plot of simulated magnetic field strength in each of three directions at points around a circle in the sensing plane of <figref idref="DRAWINGS">FIG. <b>1</b></figref>;</p><p id="p-0033" num="0030"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a cartoon of a magnet and four Hall plate sensors arranged equiangularly around a circle in the sensing plane in accordance with an embodiment;</p><p id="p-0034" num="0031"><figref idref="DRAWINGS">FIGS. <b>4</b>A, <b>4</b>B, and <b>4</b>C</figref> indicate placement of four, five, and six magnetic field sensors, respectively, arranged equiangularly around circles in accordance with various embodiments;</p><p id="p-0035" num="0032"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is simplified diagram of a sensor system for combining respective sensed field strengths into an output signal in accordance with an embodiment; and</p><p id="p-0036" num="0033"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart of a method for sensing rotation of a magnet about a given axis in accordance with an embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION OF EMBODIMENTS</heading><p id="p-0037" num="0034">To illustrate the detection principle generally, in <figref idref="DRAWINGS">FIG. <b>2</b></figref> is shown a plot of simulated magnetic field strength in each of three directions at points around a circle in the sensing plane of <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The magnet being sensed may be the diametrically-magnetized magnet <b>110</b>, and is oriented with its North pole in the +X direction and its South pole in the &#x2212;X direction. The system is configured so that the magnet may rotate about an axis of rotation, which may be central axis <b>120</b>. However, to generate the plots shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the magnet is held fixed as described above, while its magnetic field is sensed. The sensing plane contains the sensor, which may be sensor <b>130</b>, and is a distance above the magnet and oriented in a plane parallel to the top surface of the magnet. Simulated magnetic field sensors were placed in the sensing plane a fixed distance from the intersection of the plane with the axis of rotation, and the magnetic field strength in each of the three coordinate directions, appearing at these sensors as a function of their angular position from the X axis, were computed and are shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> for a <b>1</b> Tesla magnet.</p><p id="p-0038" num="0035">The magnetic field Bx in the X direction is shown by curve <b>210</b>. This curve <b>210</b> is relatively flat and shows a field of approximately &#x2212;950 Gauss (i.e., a field uniformly in the &#x2212;X direction with a strength of 950 Gauss). This reflects the fact that the sensed field will have a North-to-South orientation that opposite of the South-to-North magnetization internal to the magnet itself. Notably, however, the sensed field strength is approximately independent of the angular position of the sensor around the circle in the sensing plane. Rather, this sensed field is a function of the distance of the sensor plane above the magnet, and will become weaker as this distance increases.</p><p id="p-0039" num="0036">The magnetic field B<sub>y </sub>in the Y direction is shown by curve <b>220</b>. This curve <b>220</b> is also relatively flat and shows a field of approximately 0 Gauss. This reflects the fact that, when the magnetization direction of the magnet is South-to-North, the sensed external magnetic field will be North-to-South, and thus have no component in the +Y (i.e. East-to-West) or &#x2212;Y (i.e. West-to-East) directions for small distances from the magnet's axis of rotation.</p><p id="p-0040" num="0037">The magnetic field B<sub>Z </sub>in the Z direction is shown by curve <b>230</b>. This curve <b>230</b> oscillates sinusoidally based on the angular position of the sensor, having its maximum value for the (simulated) sensor farthest in the +X (i.e. North) direction and having its minimum value for the sensor farthest in the &#x2212;X (i.e. South) direction. The maximum and minimum values of the sensed field have approximately the same magnitudes, about 250 Gauss, but in opposite directions. This reflects the fact that the external magnetic field lines curve in the Z direction from the North pole to the South pole, curving in the +Z direction (i.e. away from the magnet) on the North side of the sensing plane and curving in the &#x2212;Z direction (i.e. toward the magnet) on the South side of the sensing plane.</p><p id="p-0041" num="0038">It is appreciated in accordance with embodiments of the concepts, techniques, and structures disclosed herein that the regular, sinusoidal behavior of the Z-component of the magnetic field in the sensing plane may be used to detect rotation of the magnet about a stationary sensor system having multiple magnetic field sensors contained within. It is further appreciated that three or more magnetic field sensors, arranged in a circle centered in the plane about its intersection with the axis of rotation of the magnet, provide multiple channels of information that may be used not only to detect fault in the sensor integrated circuit as known in the prior art, but that may be combined to add redundancy to the detection so that the angle of rotation of the magnet may be accurately sensed even if one of the magnetic field sensors fails.</p><p id="p-0042" num="0039">Thus, in <figref idref="DRAWINGS">FIG. <b>3</b></figref> is shown a cartoon of a top-down view of a magnet and four magnetic field sensors arranged equiangularly around a circle in the sensing plane in accordance with an embodiment. <figref idref="DRAWINGS">FIG. <b>3</b></figref> has the indicated coordinate system, with the +X axis toward the right and the +Y axis toward the top. The +Z axis (not shown) is, by the right-hand rule, out of the figure toward the reader. In embodiments, the +X axis may be chosen as a neutral position of the magnet <b>300</b>, i.e. one in which its axis of magnetization <b>310</b> is in a position that corresponds to a passive, rather than active, state of the control system.</p><p id="p-0043" num="0040">The axis of magnetization <b>310</b> in <figref idref="DRAWINGS">FIG. <b>3</b></figref> is offset from its neutral position along the X axis due to rotation of the magnet <b>300</b> about its axis of rotation (i.e. the Z axis) by an angle &#x3b4;. In accordance with embodiments, the angle &#x3b4; is computed using the outputs of four magnetic field sensors <b>320</b>, <b>322</b>, <b>324</b>, <b>326</b>. Any or all of the magnetic field sensors may be, illustratively, Hall-effect plate sensors. Each of the magnetic field sensors <b>320</b>-<b>326</b> senses a strength of the magnetic field in the Z direction, i.e. in a direction parallel to the axis of rotation of the magnet <b>300</b>. The magnetic field sensors <b>320</b>-<b>326</b> themselves are contained in a plane perpendicular to the axis of rotation, i.e. in a sensing plane above the magnet <b>300</b>. The magnetic field sensors <b>320</b>-<b>326</b> are further arranged equiangularly around the circle <b>330</b>, whose center lies on the intersection between the sensing plane and the +Z axis. That is, the center of the circle <b>330</b> lies on the axis of rotation of the magnet <b>300</b>.</p><p id="p-0044" num="0041">Generally, one may use different numbers of magnetic field sensors to compute the angle &#x3b4;provided the sensors are arranged in the sensing plane equiangularly around a circle centered on the axis of rotation. Let n denote the total number of magnetic field sensors, where n is at least three. <figref idref="DRAWINGS">FIGS. <b>4</b>A, <b>4</b>B, and <b>4</b>C</figref> indicate placement of n=4, n=5, and n=6 magnetic field sensors, respectively, arranged equiangularly around circles in accordance with various embodiments. By the word equiangularly, it is meant that sensor #1 is placed on the +X axis, and the remaining n-1 sensors are placed so that the angle subtended by the arc between two circumferentially adjacent sensors from the center of the circle is 2&#x3c0;/n radians or 360/n degrees. That is, assuming a circle of radius 1, the magnetic field sensor #i has position (x<sub>i</sub>, y<sub>i</sub>)=(cos(2&#x3c0;(i&#x2014;1)/n), sin(2&#x3c0;(i&#x2014;1)/n)) in the coordinate system of the sensor plane. In practical embodiments, the radius of the circle of sensors may be selected, according to the dimensions of the magnet and the design parameters of the sensor system, so that a Z component of the magnetic field present at each sensor is strong enough to permit accurate measurement.</p><p id="p-0045" num="0042">With this notation, the angle &#x3b4; of the rotation of the magnet is computed as follows. Let H<sub>i </sub>denote the strength of the magnetic field perpendicular to the sensing plane, sensed by an ith one of the magnetic field sensors. Then the angle &#x3b4; of the rotation of the underlying magnet is</p><p id="p-0046" num="0000"><maths id="MATH-US-00003" num="00003"><math overflow="scroll"> <mrow>  <mi>&#x3b4;</mi>  <mo>=</mo>  <mrow>   <mrow>    <msup>     <mi>tan</mi>     <mrow>      <mo>-</mo>      <mn>1</mn>     </mrow>    </msup>    <mo>(</mo>    <mfrac>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>sin</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>cos</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>    </mfrac>    <mo>)</mo>   </mrow>   <mo>.</mo>  </mrow> </mrow></math></maths></p><p id="p-0047" num="0000">That is, the magnetic field sensed by each sensor is weighted by its planar coordinates, the results are summed to produce x and y coordinates of a point <b>340</b> in the sensor plane above the axis of magnetization <b>310</b>, then the inverse tangent of the ratio y/x is computed to identify the angle &#x3b4;. For the illustrative embodiment of <figref idref="DRAWINGS">FIG. <b>3</b></figref> with n=4 magnetic field sensors <b>320</b> (sensing H<sub>1 </sub>), <b>322</b> (sensing H<sub>2</sub>), <b>324</b> (sensing H<sub>3</sub>), and <b>326</b> (sensing H<sub>4</sub>), one thus computes</p><p id="p-0048" num="0000"><maths id="MATH-US-00004" num="00004"><math overflow="scroll"> <mrow>  <mrow>   <mi>&#x3b4;</mi>   <mo>=</mo>   <mrow>    <msup>     <mi>tan</mi>     <mrow>      <mo>-</mo>      <mn>1</mn>     </mrow>    </msup>    <mo>(</mo>    <mfrac>     <mrow>      <msub>       <mi>H</mi>       <mn>2</mn>      </msub>      <mo>-</mo>      <msub>       <mi>H</mi>       <mn>4</mn>      </msub>     </mrow>     <mrow>      <msub>       <mi>H</mi>       <mn>1</mn>      </msub>      <mo>-</mo>      <msub>       <mi>H</mi>       <mn>3</mn>      </msub>     </mrow>    </mfrac>    <mo>)</mo>   </mrow>  </mrow>  <mo>.</mo> </mrow></math></maths></p><p id="p-0049" num="0043">It is appreciated that the equiangular arrangement of sensors around a circle permits the computation of the angle &#x3b4; to be advantageously immune from the effects of common-mode (i.e. uniform) magnetic fields, especially environmental magnetic fields. As indicated above in the discussion of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the components of such fields in the X and Y directions are irrelevant, so denote by H the magnitude of a uniform magnetic field in the Z direction that is present at each of the sensors of <figref idref="DRAWINGS">FIG. <b>3</b></figref>. H will be positive if the field is in the +Z direction, and negative if the field is in the &#x2212;Z direction. The combined magnetic field from both the magnet and the common-mode field that is sensed by sensor #i has the value H<sub>i</sub>+H. For the embodiment of <figref idref="DRAWINGS">FIG. <b>3</b></figref>, one computes</p><p id="p-0050" num="0000"><maths id="MATH-US-00005" num="00005"><math overflow="scroll"> <mrow>  <mi>&#x3b4;</mi>  <mo>=</mo>  <mrow>   <mrow>    <msup>     <mi>tan</mi>     <mrow>      <mo>-</mo>      <mn>1</mn>     </mrow>    </msup>    <mo>(</mo>    <mfrac>     <mrow>      <mrow>       <mo>(</mo>       <mrow>        <msub>         <mi>H</mi>         <mn>2</mn>        </msub>        <mo>+</mo>        <mi>H</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>-</mo>      <mrow>       <mo>(</mo>       <mrow>        <msub>         <mi>H</mi>         <mn>4</mn>        </msub>        <mo>+</mo>        <mi>H</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>     <mrow>      <mrow>       <mo>(</mo>       <mrow>        <msub>         <mi>H</mi>         <mn>1</mn>        </msub>        <mo>+</mo>        <mi>H</mi>       </mrow>       <mo>)</mo>      </mrow>      <mo>-</mo>      <mrow>       <mo>(</mo>       <mrow>        <msub>         <mi>H</mi>         <mn>3</mn>        </msub>        <mo>+</mo>        <mi>H</mi>       </mrow>       <mo>)</mo>      </mrow>     </mrow>    </mfrac>    <mo>)</mo>   </mrow>   <mo>=</mo>   <mrow>    <msup>     <mi>tan</mi>     <mrow>      <mo>-</mo>      <mn>1</mn>     </mrow>    </msup>    <mo>(</mo>    <mfrac>     <mrow>      <msub>       <mi>H</mi>       <mn>2</mn>      </msub>      <mo>-</mo>      <msub>       <mi>H</mi>       <mn>4</mn>      </msub>     </mrow>     <mrow>      <msub>       <mi>H</mi>       <mn>1</mn>      </msub>      <mo>-</mo>      <msub>       <mi>H</mi>       <mn>3</mn>      </msub>     </mrow>    </mfrac>    <mo>)</mo>   </mrow>  </mrow> </mrow></math></maths></p><p id="p-0051" num="0000">as before. The value of the common-mode field H does not appear in the final result; that is, the computation of &#x3b4; is not affected by the presence of a uniform stray field.</p><p id="p-0052" num="0044">It is appreciated that, beyond the four magnet embodiment of <figref idref="DRAWINGS">FIG. <b>3</b></figref>, adding a uniform value H to each sensor's reading in the formula for an arbitrary number n of magnetic field sensors (e.g. as exemplified by <figref idref="DRAWINGS">FIGS. <b>4</b>A-<b>4</b>C</figref>) yields the same result, namely insensitivity to common-mode components of the magnetic field. One may demonstrate this using ordinary trigonometric methods on the general n-sensor formula above. The actual computation of the angle &#x3b4; may be performed by electronic circuitry coupled to the magnetic field sensors, as described below in connection with the sensor system shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>.</p><p id="p-0053" num="0045">It has been noted that intrinsic angular error&#x2014;that is, the error in an ideal system without mechanical tolerances and without any measurement error&#x2014;is zero only if the target magnet is cylindrical, i.e. a magnet with circular symmetry that matches the symmetry of the magnetic field sensor arrangement. In particular, if the magnet is a diametrically magnetized cylinder magnet, it has been found that four magnetic field sensors is sufficient, although more may be employed. If the target magnet is not cylindrical, then intrinsic angular error will not be zero, but may be reduced by increasing the number n of magnetic field sensors. Thus, if the target magnet is not a diametric cylinder magnet, then five or more magnetic field sensors should be used. It should be noted that embodiments may be used with a target magnet of any arbitrary shape, and the disclosure herein should not be construed as limiting embodiments to use with only diametrically magnetized cylinders.</p><p id="p-0054" num="0046">In practical embodiments, the circle of sensors may be misaligned with the axis of rotation of the target magnet. In such cases, the sinusoidal variation of sensed B<sub>Z </sub>indicated in <figref idref="DRAWINGS">FIG. <b>2</b></figref> is still present, but may be shifted so that the maximum and minimum magnitudes of sensed field strengths are different. That is, if the center of the circle of sensors is closer to the North pole of the target magnet, then the maximum sensed field in the +Z direction will have greater magnitude than the minimum sensed field in the &#x2212;Z direction. The sensing architecture allows for some misalignment with minimal impact on angle error.</p><p id="p-0055" num="0047"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is simplified diagram of a sensor system <b>500</b> for combining respective sensed field strengths into an output signal in accordance with an embodiment. The sensor system <b>500</b> may be implemented in practical embodiments as an integrated circuit (IC), especially as an application-specific integrated circuit (ASIC). The sensor system <b>500</b> is functionally organized according to an analog domain <b>510</b> in which signals carry information using a continuum of electrical values, a digital domain <b>520</b> in which signals carry information using discrete values (i.e. zeroes and ones), and an input/output (I/O) domain <b>530</b> for communicating with external circuitry that consumes these discrete values (e.g. an automotive control system or head end). The I/O domain <b>530</b> includes a communication circuit <b>532</b> that implements a communication protocol whose details are not relevant to the present disclosure, and which is not further discussed. A person having ordinary skill in the art will appreciate how to implement the communication circuit <b>532</b> using techniques known in the art.</p><p id="p-0056" num="0048">The analog domain <b>510</b> produces several channels of information, labeled Channel A, Channel B, and Channel C, regarding the strength of the sensed magnetic field. Each channel derives its information from a pair of Hall-effect plate sensors having a different physical orientation with respect to the target magnet, but otherwise operates in identical fashion. It should be understood that magnetic field sensors other than Hall-effect plates may be used in embodiments, and that the description of such sensors as using the Hall effect in what follows is thus illustrative of the general principle.</p><p id="p-0057" num="0049">The sensor system <b>500</b> includes three pairs of Hall-effect plate sensors <b>512</b><i>a</i>, <b>512</b><i>b</i>, <b>512</b><i>c</i>. Thus, the sensor system <b>500</b> uses n=6 magnetic field sensors in the configuration of <figref idref="DRAWINGS">FIG. <b>4</b>C</figref>. More concretely, the pair of sensors <b>512</b><i>a </i>are sensors #1 and #4; the pair of sensors <b>512</b><i>b </i>are sensors #3 and #6; and the pair of sensors <b>512</b><i>c </i>are sensors #2 and #5. While <figref idref="DRAWINGS">FIG. <b>5</b></figref> shows these pairs of sensors <b>512</b><i>a</i>, <b>512</b><i>b</i>, <b>512</b><i>c </i>as being physically separated, it should be understood that all six sensors are arranged in a circular formation as described above. Thus, <figref idref="DRAWINGS">FIG. <b>5</b></figref> is not intended to represent physical positions of the sensors, but rather is used to illustrate the operation of the circuitry coupled to those sensors.</p><p id="p-0058" num="0050">As described above, embodiments of the concepts, techniques, and structures disclosed herein may include greater than or fewer than the six magnetic field sensors shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>. Therefore, this figure should be understood to illustrate the principles and circuitry involved in converting sensed magnetic fields into an angle &#x3b4; of the underlying target magnet, and should not be viewed as limiting embodiments to exactly six sensors. Using paired sensors is advantageous because it yields sensed magnetic field strengths of approximately the same magnitude but in opposite directions, thus providing a large, differential signal in accordance with the formulas above; however, the use of paired sensors is not mandatory in embodiments. Thus, a channel may derive its information from any number of sensors.</p><p id="p-0059" num="0051">Moreover, although <figref idref="DRAWINGS">FIG. <b>5</b></figref> shows six sensors used to generate three information channels, embodiments of the concepts, techniques, and structures disclosed herein may provide more than three channels of information for greater redundancy. While an accurate angle measurement may be obtained from only two channels of sense data, having three or more channels proves greater accuracy. Also, having additional channels permits continued operation in the event that one of the channels fails, as described below.</p><p id="p-0060" num="0052">Each pair of Hall-effect plate sensors <b>512</b><i>a</i>, <b>512</b><i>b</i>, <b>512</b><i>c </i>is electrically driven by respective driver circuits <b>514</b><i>a</i>, <b>514</b><i>b</i>, <b>514</b><i>c </i>as known in the art, thereby permitting each pair to output a respective electronic signal having desired electrical properties (e.g. a voltage or a current that is proportional to the sensed magnetic field or field differential). These electronic signals are fed into corresponding channel amplifiers <b>516</b><i>a</i>, <b>516</b><i>b</i>, <b>516</b><i>c </i>to increase their respective electrical powers, then into analog-to-digital converters <b>518</b><i>a</i>, <b>518</b><i>b</i>, <b>518</b><i>c </i>whose outputs digitally encode samples of the sensed magnetic field strengths in Channels A, B, and C.</p><p id="p-0061" num="0053">The channel signals now encode digital data representing the respective sensed magnetic field strengths that is combined by the digital domain <b>520</b> into an output signal that represents the angle &#x3b4; between the magnetization axis of the target magnet and a fixed direction (e.g. the +X direction or a &#x201c;neutral position&#x201d; direction). In accordance with embodiments, digital signals from all available channels (e.g. all three channels A, B, and C in illustrative sensor system <b>500</b>) are sent into a main angle derivation circuit <b>522</b> for combining the sensed strengths into a main value for the angle &#x3b4; The main angle derivation circuit <b>522</b> performs the trigonometric and arithmetic functions required to implement the formulas above for computing &#x3b4;, i.e. sines and cosines, multiplication, addition, division, and arctangents. Any circuitry known in the art for performing these mathematical functions may be used, especially a CORDIC circuit as known in the art. The output of the main angle derivation circuit <b>522</b> is a digital value that encodes the angle &#x3b4;, for provision to a consumer of angle data using the communication circuit <b>532</b>.</p><p id="p-0062" num="0054">In various embodiments used in safety critical applications, redundancy is provided using multiple subsidiary angle derivation circuits that combine the channel data (i.e. the sensed magnetic strengths) from fewer than all of the channels. In the sensor system 500, subsidiary angle derivation circuits <b>524</b><i>a</i>, <b>524</b><i>b</i>, <b>524</b><i>c </i>respectively combine data from channels A &#x26; B, channels B &#x26; C, and channels A &#x26; C to form respective redundant values for the angle &#x3b4;. Thus, in the example sensor system <b>500</b>, the main angle derivation circuit <b>522</b> uses the formula for &#x3b4; having n=6 (using the differential magnetic field sensed by sensors #1 and #4 on Channel A, sensors #3 and #6 on Channel B, and sensors #2 and #5 on Channel C). However, the subsidiary angle derivation circuit <b>524</b><i>a </i>uses the formula for &#x3b4; for two channels, applying the appropriate trigonometric conversions. The subsidiary angle derivation circuit <b>524</b><i>a </i>does not use magnetic field sense data from Channel C (i.e. from sensors #2 and #5). Similarly, the subsidiary angle derivation circuits <b>524</b><i>b </i>and <b>524</b><i>c </i>use the formula for &#x3b4; with n=4 and sense data from the appropriate respective sensor pairs. Thus, each subsidiary angle derivation circuit combines the sensed strengths from a different subset of fewer than all of the magnetic field sensors to form a respective redundant value for the angle &#x3b4;.</p><p id="p-0063" num="0055">As indicated above, only two channels of magnetic field sense data are needed to compute the angle &#x3b4; so each of the subsidiary angle derivation circuits <b>524</b><i>a</i>-<b>524</b><i>c </i>may be used to independently compute the value of this angle (albeit with slightly less precision than the main angle derivation circuit <b>522</b>), and output a digital encoding thereof. In embodiments having more than three channels, each subsidiary angle derivation circuit may combine sense data from any subset of the available channels, especially from two or more channels having linearly independent sense data.</p><p id="p-0064" num="0056">When all pairs of magnetic field sensors <b>512</b><i>a</i>-<b>512</b><i>c </i>are operating without error, the main angle derivation circuit <b>522</b> and the three subsidiary angle derivation circuits <b>524</b><i>a</i>-<b>524</b><i>c </i>will produce values for the angle &#x3b4; that substantially agree. Thus, under ordinary operation, the sensor system <b>500</b> may output, using the communication circuit <b>532</b>, the most precise estimate of the angle &#x3b4; derived from the largest number of channels, i.e. the main value for the angle &#x3b4; from the main angle derivation circuit <b>522</b>.</p><p id="p-0065" num="0057">But, if any of the Hall-effect plates experiences an error, thereby distorting encoded samples of the sensed magnetic field strengths in one of the channels, then the main angle derivation circuit <b>522</b> and the three subsidiary angle derivation circuits <b>524</b><i>a</i>-<b>524</b><i>c </i>will produce values for the angle &#x3b4; that substantially disagree. In particular, the subsidiary angle derivation circuits that receive data from functional channels will compute one value for the angle &#x3b4; while the subsidiary angle derivation circuits that receive data from the channel with the error sensor will compute another value for the angle &#x3b4; that is significantly different.</p><p id="p-0066" num="0058">In the sensor system <b>500</b>, a main angle comparator <b>526</b> receives the computer values for the angle &#x3b4; from the subsidiary angle derivation circuits <b>524</b><i>a</i>-<b>524</b><i>c </i>to detect a disagreement among the computed angles, thereby signifying that a magnetic field sensor is faulty or the existence of some other error condition (e.g. a loose connection inside the sensor system <b>500</b>). The main angle comparator <b>526</b> may respond to detection of an error condition by signaling the error to the consumer of the angle data using the communication circuit <b>532</b>.</p><p id="p-0067" num="0059">The main angle comparator <b>526</b> may use an auxiliary redundant angle comparator circuit <b>528</b> to avoid the angle comparator being a single point of failure in the sensor system <b>500</b>. In this disclosure, it should be understood that any described functions of the main angle comparator circuit <b>526</b> may be performed by the redundant angle comparator circuit <b>528</b> if the main angle comparator circuit <b>526</b> fails for any reason.</p><p id="p-0068" num="0060">In accordance with some embodiments having more than three channels, the safety-critical sensor system may continue to operate in the presence of the error condition for a period of time with less precise, but still accurate, measurement of the angle &#x3b4; derived from the subsidiary angle sensors. To achieve this, the main angle comparator circuit may determine a most likely value for the angle &#x3b4; by comparing redundant values for the angle &#x3b4; from all of the subsidiary angle derivation circuits according to a majority vote.</p><p id="p-0069" num="0061">Consider a sensor system built according to the design shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, but with four Channels A, B, C, and D rather than only three channels. Such a sensor system would have a main angle derivation circuit, and subsidiary angle derivation circuits using data from pairs of the channels. That is, the sensor system would have six angle circuits using data from channel pairs A &#x26; B, A &#x26; C, A &#x26; D, B &#x26; C, B &#x26; D, and C &#x26; D. Suppose that channel A began to produce bad values for the sensed magnetic field strength due to a faulty sensor. Then the first three angle circuits (i.e. those using data from Channel A) would produce values for the angle &#x3b4; that substantially disagree with each other, while the latter three angle circuits (i.e. those not using data from Channel A) would produce values for the angle &#x3b4; that substantially agree. In this situation, a majority vote among the subsidiary angle circuits would select the common value of the latter three circuits, producing an accurate value for the angle &#x3b4; albeit a value that is less precise than what would be obtained from the main angle derivation circuit if all four channels were providing correct data.</p><p id="p-0070" num="0062">It is appreciated that sensor systems having more than three channels in accordance with embodiments of the concepts, techniques, and structures disclosed herein may consume more current or electrical power than three-channel embodiments. Many-channel embodiments also may require more surface area on the integrated circuit die leading to larger sensor chips, and have other potential impact on system design. Thus, the system designer should consider these factors, and weigh whether the added costs of many channels is worth reducing the effect of a single component failure and potentially continuing to operate under partial failure conditions.</p><p id="p-0071" num="0063">While the sensor system <b>500</b> of <figref idref="DRAWINGS">FIG. <b>5</b></figref> shows n=6 magnetic field sensors, other embodiments may use more or fewer sensors. Thus, a sensor system may use n=4 sensors as shown in <figref idref="DRAWINGS">FIG. <b>4</b>A</figref>, or n=5 sensors as shown in <figref idref="DRAWINGS">FIG. <b>4</b>B</figref>, or n&#x3e;6 sensors equiangularly arranged around a circle in accordance with the principles disclosed herein. A person having ordinary skill in the art should understand how the sensor system <b>500</b> would be modified to accommodate different numbers of magnetic field sensors, so detailed elaboration on such modifications is not further provided.</p><p id="p-0072" num="0064"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart of a method <b>600</b> for sensing rotation of a magnet about a given axis in accordance with an embodiment. The method <b>600</b> may be performed by a sensor system, such as the sensor system <b>500</b> shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, or by other electrical or electronic hardware.</p><p id="p-0073" num="0065">The method <b>600</b> begins with a process <b>610</b> sensing a strength of the magnetic field parallel to the given axis, by each of a plurality of at least three magnetic field sensors arranged, in a plane perpendicular to the given axis, equiangularly around a circle whose center lies on the given axis. Sensing may be illustratively performed by plate sensors using the Hall effect, or other magnetic field sensors suited to detecting magnetic fields in a chosen direction. If the magnet includes a diametric cylinder magnet, the plurality of magnetic field sensors may include at least four magnetic field sensors. Otherwise, if the magnet does not possess circular symmetry, then the plurality of magnetic field sensors may include at least five magnetic field sensors.</p><p id="p-0074" num="0066">The method continues with a process <b>620</b> combining the respective sensed strengths, by electronic circuitry coupled to the plurality of magnetic field sensors, into an output signal that represents an angle &#x3b4; between a magnetization axis of the magnet and a fixed direction. The electronic circuitry may illustratively include amplifiers, analog-to-digital converters, CORDIC circuits, and other circuitry as described above in connection with <figref idref="DRAWINGS">FIG. <b>5</b></figref>. The output signal may be provided by circuitry performing a communication protocol with external data consumers.</p><p id="p-0075" num="0067">The sensed strengths may be combined in a manner that is insensitive to common-mode components of the magnetic field present at each of the magnetic field sensors, especially as described above in connection with <figref idref="DRAWINGS">FIG. <b>4</b></figref>. In particular, if n denotes the total number of the plurality of magnetic field sensors and H<sub>i</sub>, denotes the strength, of the magnetic field perpendicular to the plane, sensed by an ith one of the magnetic field sensors, then the sensed strengths may be combined by computing a main value for the angle &#x3b4; according to the formula</p><p id="p-0076" num="0000"><maths id="MATH-US-00006" num="00006"><math overflow="scroll"> <mrow>  <mi>&#x3b4;</mi>  <mo>=</mo>  <mrow>   <mrow>    <msup>     <mi>tan</mi>     <mrow>      <mo>-</mo>      <mn>1</mn>     </mrow>    </msup>    <mo>(</mo>    <mfrac>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>sin</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>cos</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>    </mfrac>    <mo>)</mo>   </mrow>   <mo>.</mo>  </mrow> </mrow></math></maths></p><p id="p-0077" num="0068">The method <b>600</b> may continue with a process <b>630</b> forming redundant values for the angle &#x3b4;. This may be accomplished using subsidiary angle derivation circuitry as described above. In particular, respective redundant values for the angle &#x3b4; may be the result of combining sensed strengths from each of a plurality of different subsets of fewer than the total number of the plurality of magnetic field sensors. In other words, sensed strengths from single sensors, or sensed differential strengths from paired sensors, may be digitized into channels representing the magnetic field in different directions from the center of the circle, and data from these channels may be combined pairwise (or in greater numbers) to form the redundant values for the angle &#x3b4;.</p><p id="p-0078" num="0069">The redundant values for the angle &#x3b4; may be used as described above in connection with <figref idref="DRAWINGS">FIG. <b>5</b></figref>. Thus, the method <b>600</b> may next include a process <b>640</b> comparing the redundant values to determine whether one of the magnetic field sensors is faulty, and/or according to a majority vote to determine a most likely value for the angle &#x3b4;. The process <b>640</b> may be performed by both a main angle comparator circuit and a redundant angle comparator circuit to lessen the chance that angle comparison is a single point of failure.</p><p id="p-0079" num="0070">Finally, the method <b>600</b> concludes with a process <b>650</b> outputting either the main value for the angle &#x3b4; determined by process <b>620</b> (in case of normal operation) or the most likely value for &#x3b4; determined by process <b>640</b> (in case of abnormal operation). It is appreciated that the method <b>600</b> may alternately output an error signal in case of abnormal operation of a sensor system having only three channels of magnetic sense data.</p><p id="p-0080" num="0071">In the foregoing detailed description, various features of embodiments are grouped together in one or more individual embodiments for the purpose of streamlining the disclosure. This method of disclosure is not to be interpreted as reflecting an intention that the claims require more features than are expressly recited therein. Rather, inventive aspects may lie in less than all features of each disclosed embodiment.</p><p id="p-0081" num="0072">Having described implementations which serve to illustrate various concepts, structures, and techniques which are the subject of this disclosure, it will now become apparent to those of ordinary skill in the art that other implementations incorporating these concepts, structures, and techniques may be used. Accordingly, it is submitted that that scope of the patent should not be limited to the described implementations but rather should be limited only by the spirit and scope of the following claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001" nb-file="US20230003503A1-20230105-M00001.NB"><img id="EMI-M00001" he="12.36mm" wi="76.20mm" file="US20230003503A1-20230105-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00002" nb-file="US20230003503A1-20230105-M00002.NB"><img id="EMI-M00002" he="12.36mm" wi="76.20mm" file="US20230003503A1-20230105-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00003" nb-file="US20230003503A1-20230105-M00003.NB"><img id="EMI-M00003" he="12.36mm" wi="76.20mm" file="US20230003503A1-20230105-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00004" nb-file="US20230003503A1-20230105-M00004.NB"><img id="EMI-M00004" he="6.01mm" wi="76.20mm" file="US20230003503A1-20230105-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00005" nb-file="US20230003503A1-20230105-M00005.NB"><img id="EMI-M00005" he="6.01mm" wi="76.20mm" file="US20230003503A1-20230105-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00006" nb-file="US20230003503A1-20230105-M00006.NB"><img id="EMI-M00006" he="12.36mm" wi="76.20mm" file="US20230003503A1-20230105-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00007" nb-file="US20230003503A1-20230105-M00007.NB"><img id="EMI-M00007" he="12.36mm" wi="76.20mm" file="US20230003503A1-20230105-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00008" nb-file="US20230003503A1-20230105-M00008.NB"><img id="EMI-M00008" he="12.36mm" wi="76.20mm" file="US20230003503A1-20230105-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A sensor system for sensing rotation of a magnet about a given axis, the sensor system comprising:<claim-text>a plurality of at least three magnetic field sensors, each sensor for sensing a strength of the magnetic field parallel to the given axis, the plurality of magnetic field sensors arranged, in a plane perpendicular to the given axis, equiangularly around a circle whose center lies on the given axis; and</claim-text><claim-text>electronic circuitry, coupled to the plurality of magnetic field sensors, for combining the respective sensed strengths into an output signal that represents an angle &#x3b4;between a magnetization axis of the magnet and a fixed direction.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The sensor system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least one of the magnetic field sensors comprises a Hall-effect plate sensor.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The sensor system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the magnet comprises a diametric cylinder magnet and the plurality of magnetic field sensors comprises at least four magnetic field sensors.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The sensor system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the magnet does not comprise a diametric cylinder magnet and the plurality of magnetic field sensors comprises at least five magnetic field sensors.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The sensor system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the electronic circuitry is configured for combining the sensed strengths in a manner that is insensitive to common-mode components of the magnetic field present at each of the magnetic field sensors.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The sensor system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:<claim-text>n denotes the total number of the plurality of magnetic field sensors;</claim-text><claim-text>H<sub>i </sub>denotes the strength, of the magnetic field perpendicular to the plane, sensed by an ith one of the magnetic field sensors; and</claim-text><claim-text>the electronic circuitry includes a main angle derivation circuit for combining the sensed strengths, from the total number n of the plurality of magnetic field sensors, into a main value for the angle &#x3b4; according to the formula</claim-text></claim-text><claim-text><maths id="MATH-US-00007" num="00007"><math overflow="scroll"> <mrow>  <mi>&#x3b4;</mi>  <mo>=</mo>  <mrow>   <mrow>    <msup>     <mi>tan</mi>     <mrow>      <mo>-</mo>      <mn>1</mn>     </mrow>    </msup>    <mo>(</mo>    <mfrac>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>sin</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>cos</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>    </mfrac>    <mo>)</mo>   </mrow>   <mo>.</mo>  </mrow> </mrow></math></maths></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The sensor system of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the electronic circuitry further includes a plurality of subsidiary angle derivation circuits, each subsidiary angle derivation circuit for combining the sensed strengths, from a different subset of fewer than the total number of the plurality of magnetic field sensors, to form a respective redundant value for the angle &#x3b4;.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The sensor system of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the electronic circuitry further includes a main angle comparator circuit for comparing the redundant values for the angle &#x3b4; produced by each of the plurality of subsidiary angle derivation circuits to determine whether a magnetic field sensor is faulty.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The sensor system of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the electronic circuitry further includes a main angle comparator circuit for determining a most likely value for the angle &#x3b4; by comparing the redundant values for the angle &#x3b4; according to a majority vote.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The sensor system of <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising a main angle comparator circuit and a redundant angle comparator circuit, both circuits for comparing the redundant values for the angle &#x3b4;.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A method of sensing rotation of a magnet about a given axis, the method comprising:<claim-text>sensing a strength of the magnetic field parallel to the given axis, by each of a plurality of at least three magnetic field sensors arranged, in a plane perpendicular to the given axis, equiangularly around a circle whose center lies on the given axis; and</claim-text><claim-text>combining the respective sensed strengths, by electronic circuitry coupled to the plurality of magnetic field sensors, into an output signal that represents an angle &#x3b4; between a magnetization axis of the magnet and a fixed direction.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein sensing the strength of the magnetic field by a magnetic field sensor comprises sensing using the Hall effect.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the magnet comprises a diametric cylinder magnet and the plurality of magnetic field sensors comprises at least four magnetic field sensors.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the magnet does not comprise a diametric cylinder magnet and the plurality of magnetic field sensors comprises at least five magnetic field sensors.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein combining the sensed strengths into the output signal comprises combining the sensed strength in a manner that is insensitive to common-mode components of the magnetic field present at each of the magnetic field sensors.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein:<claim-text>n denotes the total number of the plurality of magnetic field sensors;</claim-text><claim-text>H<sub>i </sub>denotes the strength, of the magnetic field perpendicular to the plane, sensed by an ith one of the magnetic field sensors; and</claim-text><claim-text>combining the sensed strengths comprises computing a main value for the angle &#x3b4; according to the formula</claim-text></claim-text><claim-text><maths id="MATH-US-00008" num="00008"><math overflow="scroll"> <mrow>  <mi>&#x3b4;</mi>  <mo>=</mo>  <mrow>   <mrow>    <msup>     <mi>tan</mi>     <mrow>      <mo>-</mo>      <mn>1</mn>     </mrow>    </msup>    <mo>(</mo>    <mfrac>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>sin</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>     <mrow>      <msubsup>       <mi>&#x3a3;</mi>       <mrow>        <mi>i</mi>        <mo>=</mo>        <mn>1</mn>       </mrow>       <mi>n</mi>      </msubsup>      <mo>&#x2062;</mo>      <mrow>       <msub>        <mi>H</mi>        <mi>i</mi>       </msub>       <mo>&#xb7;</mo>       <mrow>        <mi>cos</mi>        <mo>&#x2061;</mo>        <mo>(</mo>        <mrow>         <mn>2</mn>         <mo>&#x2062;</mo>         <mrow>          <mi>&#x3c0;</mi>          <mo>&#x2061;</mo>          <mo>(</mo>          <mfrac>           <mrow>            <mi>i</mi>            <mo>-</mo>            <mn>1</mn>           </mrow>           <mi>n</mi>          </mfrac>          <mo>)</mo>         </mrow>        </mrow>        <mo>)</mo>       </mrow>      </mrow>     </mrow>    </mfrac>    <mo>)</mo>   </mrow>   <mo>.</mo>  </mrow> </mrow></math></maths></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein combining the sensed strengths comprises combining sensed strengths, from each of a plurality of different subsets of fewer than the total number of the plurality of magnetic field sensors, to form a respective redundant value for the angle &#x3b4;.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising comparing the redundant values for the angle &#x3b4;to determine whether one of the magnetic field sensors is faulty.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising determining a most likely value for the angle &#x3b4; by comparing the redundant values for the angle &#x3b4; according to a majority vote.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising comparing the redundant values for the angle &#x3b4; by both a main angle comparator circuit and a redundant angle comparator circuit.</claim-text></claim></claims></us-patent-application>