<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230005085A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230005085</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17944903</doc-number><date>20220914</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2020-049208</doc-number><date>20200319</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>Q</subclass><main-group>50</main-group><subgroup>04</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>16</main-group><subgroup>182</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>05</class><subclass>B</subclass><main-group>19</main-group><subgroup>418</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>Q</subclass><main-group>50</main-group><subgroup>04</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20190101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>16</main-group><subgroup>182</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>B</subclass><main-group>19</main-group><subgroup>418</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">DATA DISTRIBUTION CONTROL APPARATUS, DATA DISTRIBUTION CONTROL METHOD, AND NON-TRANSITORY COMPUTER-READABLE MEDIUM</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/JP2021/011120</doc-number><date>20210318</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17944903</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>NTT Communications Corporation</orgname><address><city>Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Takada</last-name><first-name>Tomonori</first-name><address><city>Kamakura-shi</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Akabori</last-name><first-name>Hideaki</first-name><address><city>Yokohama-shi</city><country>JP</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Kishida</last-name><first-name>Tsunechika</first-name><address><city>Yokohama-shi</city><country>JP</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Kobayashi</last-name><first-name>Yoshihiko</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>Suzuki</last-name><first-name>Masataka</first-name><address><city>Tokyo</city><country>JP</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>Minakuchi</last-name><first-name>Tohru</first-name><address><city>Yokohama-shi</city><country>JP</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">The confidentiality of data is maintained in a case where analysis of an operation state of a facility is entrusted to the outside. An embodiment of the present invention is configured to chronologically store log data in a first storage medium, and store attribute information indicating a relevance between a type of a failure expected to occur in a facility and each of a plurality of data users; The embodiment is further configured to select, at the occurrence of a failure in the facility, a data user who has a relevance to a type of the failure from among the plurality of data users based on the attribute information, selectively read log data relating to an operation state of the facility in which the failure has occurred, and transmits the read log data to the selected data user.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="103.80mm" wi="158.75mm" file="US20230005085A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="232.24mm" wi="152.57mm" orientation="landscape" file="US20230005085A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="157.99mm" wi="159.60mm" file="US20230005085A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="231.31mm" wi="172.72mm" orientation="landscape" file="US20230005085A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="238.42mm" wi="123.02mm" file="US20230005085A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="181.36mm" wi="96.44mm" file="US20230005085A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="236.73mm" wi="160.78mm" file="US20230005085A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="230.72mm" wi="171.37mm" file="US20230005085A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading><p id="p-0002" num="0001">This application is a Continuation Application of PCT Application No. PCT/JP2021/011120, filed Mar. 18, 2021 and based upon and claiming the benefit of priority from Japanese Patent Application No. 2020-049208, filed Mar. 19, 2020, the entire contents of which are incorporated herein by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD</heading><p id="p-0003" num="0002">Embodiments of the present invention relate to a data distribution control apparatus, a data distribution control method, and a non-transitory computer-readable medium recording a data distribution control program for controlling data distribution from a data owner to a data user.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">For example, in a manufacturing field, there is known a system that diagnoses an operation state of a facility of a manufacturer, etc., by using a network. For example, Patent Literature 1 describes a system that diagnoses a breakdown in a machine by transmitting data indicating an operation state of the machine to a diagnosis center via a network and accumulating in the diagnosis center the received data indicating the operation state. At the occurrence of a breakdown in a machine, this type of system enables a diagnosis center to immediately detect the situation and generate an alarm, etc.</p><heading id="h-0004" level="1">CITATION LIST</heading><heading id="h-0005" level="1">Patent Literature</heading><p id="p-0005" num="0004">Jpn. Pat. Appln. KOKAI Publication No. 2019-185292</p><heading id="h-0006" level="1">SUMMARY</heading><heading id="h-0007" level="1">Technical Problem</heading><p id="p-0006" num="0005">Recently, there has been a growing number of cases in which such a diagnosis of a facility as described above is outsourced to an external support center without being performed by a diagnosis center operated and managed by a manufacturer. Even in the case where a manufacturer operates and manages a support center, diagnosis of some functions of a facility may be outsourced from the support center to, for example, a component manufacturer or a software vendor.</p><p id="p-0007" num="0006">However, in the case where the existing technique is applied as it is, data indicating an operation state of a facility is unconditionally transmitted to an outside source. This causes a risk that even confidential data relating to the manufacturing of a product, which is not necessary for the detection or diagnosis of a failure, may be leaked to the outside source, and the confidentiality of the data may be lost.</p><p id="p-0008" num="0007">The present invention has been made in view of the above circumstances, and an object of the present invention is to provide a technique that can maintain confidentiality of data in the case of outsourcing an analysis of an operation state of a facility.</p><heading id="h-0008" level="1">Solution to Problem</heading><p id="p-0009" num="0008">In order to achieve the object described above, one aspect of a data distribution control apparatus and a data distribution control method according to the present invention stores, when selectively transmitting log data relating to an operation state of a facility to a plurality of data users via a network, attribute information indicating a relevance between a type of a failure expected to occur in the facility and each of the data users in in a second memory medium. Then, the log data is acquired and chronologically stored, and at the occurrence of a failure in the facility, a data user having a relevance to the failure is selected from among the plurality of users based on the attribute information, and the log data relating to an operation state of the facility in which the failure has occurred is read as a distribution object and is transmitted to the selected data user via the network.</p><heading id="h-0009" level="1">Advantageous Effects of Invention</heading><p id="p-0010" num="0009">According to one aspect of the present invention, for example, at the occurrence of a failure in a facility, a data user having a relevance to a type of the failure is selected, and log data relating to an operation state of the facility is transmitted to this data user only. This prevents log data from being transmitted to a data user having a low relevance to the occurrence of failure, so that the confidentiality of log data can be maintained at a high level as compared to a case in which log data is unconditionally transmitted to all data users.</p><p id="p-0011" num="0010">That is, according to one aspect of the present invention, it is possible to provide a technique that can maintain confidentiality of data in the case of outsourcing analysis of an operation state of a facility.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0010" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram showing an overall configuration of a failure analysis support system including a data distribution control apparatus according to an embodiment of the present invention.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram showing a hardware configuration of a production management apparatus including a function of the data distribution control apparatus according to an embodiment of the present invention.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a block diagram showing a software configuration of the production management apparatus including a function of the data distribution control apparatus according to an embodiment of the present invention.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a diagram showing an example of a failure/component group database provided in the production management apparatus shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a diagram showing an example of a component group/component and software database provided in the production management apparatus shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a diagram showing an example of a degree-of-involvement database indicating a degree of involvement by a component and software in a failure.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a diagram showing an example of a data transmission destination database.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart showing a processing procedure and processing contents of data distribution control by the production management apparatus shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flowchart showing a first half of data transmission destination selection processing and data transmission control processing in the processing procedure shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flowchart showing a second half of data transmission destination selection processing and data transmission control processing in the processing procedure shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0011" level="1">DETAILED DESCRIPTION</heading><p id="p-0022" num="0021">Hereinafter, embodiments according to the present invention will be described with reference to the drawings.</p><heading id="h-0012" level="1">Embodiment</heading><heading id="h-0013" level="1">Configuration Example</heading><p id="p-0023" num="0022">(1) System</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram showing an overall configuration of a system including a data distribution control apparatus according to an embodiment of the present invention.</p><p id="p-0025" num="0024">In <figref idref="DRAWINGS">FIG. <b>1</b></figref>, MK denotes a production facility of a set manufacturer, for example. The manufacturing facility MK includes, for example, a production line LN in which a plurality of manufacturing apparatuses RB<b>1</b> to RBn are arranged in a direction in which the production line LN moves. For example, the manufacturing apparatuses RB<b>1</b> to RBn share and conduct work of bending and joining a plate-shaped component B<b>1</b> carried in from another line or a component supplying apparatus (not illustrated), thereby forming a base B<b>2</b> of a set, and sequentially attaching a plurality of components to the base B<b>2</b> in a step-by-step manner, thereby assembling sets B<b>3</b> and B<b>4</b>.</p><p id="p-0026" num="0025">Each of the manufacturing apparatuses RB<b>1</b> to RBn includes, for example, an assembly robot, and executes a pre-designated assembling operation under the control of a manufacturing controller such as a programmable logic controller (PLC) (not illustrated). In order to control and monitor the assembling operation, the manufacturing apparatuses RB<b>1</b> to RBn are provided with a plurality of sensors (illustration omitted). Each of these sensors outputs sensor data indicating an operation state of a plurality of portions of each of the manufacturing apparatuses RB<b>1</b> to RBn. Sensor data output from each of the sensors is transferred to a production management apparatus CT via a local area network (LAN) NW<b>1</b> established within the production facility MK.</p><p id="p-0027" num="0026">The configuration of the production line LN, the type and number of the manufacturing apparatuses RB<b>1</b>, RB<b>2</b>, . . . , the operation contents of the manufacturing apparatuses RB<b>1</b>, RB<b>2</b>, . . . , and the configuration of a product to be manufactured, the type and contents of operation states to be detected by the sensors, etc., may be freely selected, and the LAN is not limited to a wired LAN but may be a wireless LAN.</p><p id="p-0028" num="0027">The production management apparatus CT is capable of communicating data with a plurality of component manufacturers PM<b>1</b> to PMm+1 and software vendors QM<b>1</b> to QMj either directly via a wide area network (WAN) NW<b>2</b> or with an external support center SC intervening therebetween. Herein, the component manufacturers PM<b>1</b> to PMm+1, the software vendors QM<b>1</b> to QMj, and the external support center SC include a terminal device or a server device for the data communication described above.</p><p id="p-0029" num="0028">At the occurrence of a failure in the manufacturing apparatuses RB<b>1</b> to RBn, the production management apparatus CT transmits sensor data of these manufacturing apparatuses RB<b>1</b> to RBn as log data indicating their operation states at the time of occurrence of the failure, to the component manufacturers PM<b>1</b> to PMm+1, the software vendors QM<b>1</b> to QMj, or the external support center SC via the WAN. The component manufacturers PM<b>1</b> to PMm+1, the software vendors QM<b>1</b> to QMj, and the external support center SC execute analysis processing for estimating a cause or sign of the failure based on log data transmitted from the production management apparatus CT, and return information indicating a result of the analysis to the production management apparatus CT serving as a request source via the WAN.</p><p id="p-0030" num="0029">(2) Production Management Apparatus CT</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIGS. <b>2</b> and <b>3</b></figref> are block diagrams respectively showing a hardware configuration and a software configuration of the production management apparatus CT.</p><p id="p-0032" num="0031">The production management apparatus CT has a function as a data distribution control apparatus according to an embodiment of the present invention, and is configured by, for example, a server computer or a personal computer. The production management apparatus CT may be installed in the production facility MK of the set manufacturer, or may be installed in the cloud or on the Web.</p><p id="p-0033" num="0032">The production management apparatus CT includes a control unit <b>1</b> having a hardware processor such as a central processing unit (CPU) which is processing circuitry, etc., to which a program storage unit <b>2</b>, a data storage unit <b>3</b>, communication interfaces (communication I/F) <b>4</b> and <b>5</b>, and an input/output interface (input/output I/F) <b>6</b> are connected via a bus <b>9</b>.</p><p id="p-0034" num="0033">The communication I/F <b>4</b> performs data communications with a LAN under a communication protocol defined in the LAN, and under the control of the control unit <b>1</b>, mainly receives sensor data and alarm data transmitted from the manufacturing apparatuses RB<b>1</b> to RBn. The communication I/F <b>5</b> performs data communications with a WAN under a communication protocol defined in the WAN, and under the control of the control unit <b>1</b>, performs transmission of log data and reception of information indicating a failure analysis result to and from the component manufacturers PM<b>1</b> to PMm+1, the software vendors Q<b>1</b> to Qj, or the external support center SC.</p><p id="p-0035" num="0034">An input unit <b>7</b> and a display unit <b>8</b> are connected to the input/output I/F <b>6</b>. The input unit <b>7</b> and the display unit <b>8</b> are used, for example, by a production manager to input various types of setting information to the production management apparatus CT and to display, at the occurrence of a failure, alarm information of the event and an analysis result of the failure.</p><p id="p-0036" num="0035">The program storage unit <b>2</b> uses, for example, as a main storage medium, a nonvolatile memory such as a hard disk drive (HDD) or a solid state drive (SSD), which allows writing and reading at any time, and a storage area of the program storage unit <b>2</b> stores, in addition to middlewear such as an operating system (OS), programs for executing various types of processing according to an embodiment of the present invention. The storage medium may be configured by the aforementioned HDD or SSD in combination with a read only memory (ROM).</p><p id="p-0037" num="0036">The data storage unit <b>3</b> is, for example, a combination of an HDD or an SSD and a random access memory (RAM), and a storage area of the data storage unit <b>3</b> is provided with an operation history storage unit <b>31</b>, a failure occurrence history storage unit <b>32</b>, an attribute information storage unit <b>33</b>, and a log data transmission history storage unit <b>34</b>, which are used in an embodiment of the present invention.</p><p id="p-0038" num="0037">The operation history storage unit <b>31</b> is used to chronologically store sensor data output from each of the sensors of the manufacturing apparatuses RB<b>1</b> to RBn together with an ID of a manufacturing apparatus serving as a generation source, and an ID of a corresponding sensor.</p><p id="p-0039" num="0038">For each of the manufacturing apparatuses RB<b>1</b> to RBn, the failure occurrence history storage unit <b>32</b> stores alarm data respectively generated from sensors of the manufacturing apparatuses RB<b>1</b> to RBn together with an occurrence time, an ID of a manufacturing apparatus serving as a generation source and an ID of a corresponding sensor. The failure occurrence history storage unit <b>32</b> also stores information indicating a failure analysis result that has been returned from the component manufacturers PM<b>1</b> to PMm+1, the software vendors Q<b>1</b> to Qj, or the external support center SC.</p><p id="p-0040" num="0039">The attribute information storage unit <b>33</b> stores, using a plurality of databases, attribute information which defines a correspondence relationship between a type of a failure expected to occur in the manufacturing apparatuses RB<b>1</b> to RBn and a component or software having a relevance to the failure. An exemplary configuration of a database will be described later.</p><p id="p-0041" num="0040">The log data transmission history storage unit <b>34</b> is used to store information indicating a transmission history of log data transmitted to a component manufacturer, a software vendor, or the external support center SC.</p><p id="p-0042" num="0041">The control unit <b>1</b> includes, as processing functions according to an embodiment of the present invention, an operation history management unit <b>11</b>, a failure occurrence management unit <b>12</b>, a log data transmission destination selection unit <b>13</b>, and a log data transmission control unit <b>14</b>. Each of the processing units <b>11</b> to <b>14</b> is realized by causing a hardware processor of the control unit <b>1</b> to execute a program stored in the program storage unit <b>2</b>.</p><p id="p-0043" num="0042">The operation history management unit <b>11</b> receives sensor data output from a plurality of sensors of each of the manufacturing apparatuses RB<b>1</b> to RBn via the communication I/F <b>4</b>, associates each of the received sensor data with an ID of a manufacturing apparatus serving as a transmission source and an ID of a corresponding sensor, and chronologically stores the sensor data as log data indicating operation states of the manufacturing apparatuses RB<b>1</b> to RBn in the operation history storage unit <b>31</b>.</p><p id="p-0044" num="0043">The failure occurrence management unit <b>12</b> performs processing of: receiving, via the communication I/F <b>4</b>, alarm data respectively output from sensors of each of the manufacturing apparatuses RB<b>1</b> to RBn; identifying, based on the received alarm data, a type of a failure; and storing, in the failure occurrence history storage unit <b>32</b>, a failure ID indicating the identified type of the failure together with an alarm occurrence time, an ID of a manufacturing apparatus serving as an alarm generation source, and an ID of a corresponding sensor. Failures include an operation state indicating a sign of a failure.</p><p id="p-0045" num="0044">In the case of detecting the occurrence of a failure (including signs of failure) according to the alarm data, the log data transmission destination selection unit <b>13</b> specifies a component or software having a relevance to the failure based on attribute information stored in the attribute information storage unit <b>33</b>. The log data transmission destination selection unit <b>13</b> executes processing of selecting, as a log data transmission destination, the specified component manufactures PM<b>1</b> to PMm+1, the software vendors Q<b>1</b> to Qj, or the external support center SC.</p><p id="p-0046" num="0045">The log data transmission destination selection unit <b>13</b> further performs processing of: receiving, via the communication I/F <b>5</b>, information indicating a failure analysis result that has been returned from the component manufacturers PM<b>1</b> to PMm+<b>1</b>, the software vendors Q<b>1</b> to Qj, or the external support center SC, which has or have served a transmission destination of the log data; and storing the received information in the failure occurrence history storage unit <b>32</b>.</p><p id="p-0047" num="0046">The log data transmission control unit <b>14</b> selectively reads, from the operation history storage unit <b>31</b>, log data including sensor data generated during a time range set in advance by using a failure occurrence timing as the reference, from among the sensor data generated from the manufacturing apparatuses RB<b>1</b> to RBn serving as a failure occurrence source. The log data transmission control unit <b>14</b> then performs processing of transmitting the read log data from the communication I/F <b>5</b> to the component manufacturers PM<b>1</b> to PMm+1, the software vendors Q<b>1</b> to Qj, or the external support center SC, which has or have been selected as a transmission destination by the log data transmission destination selection unit <b>13</b>.</p><p id="p-0048" num="0047">At a predetermined timing after transmitting log data, the log data transmission control unit <b>14</b> performs processing of transmitting a log data erasure request from the communication I/F <b>5</b> to the component manufacturers PM<b>1</b> to PMm+1, the software vendors Q<b>1</b> to Qj, or the external support center SC, which has or have served as a log data transmission destination.</p><heading id="h-0014" level="1">Operation Example</heading><p id="p-0049" num="0048">Next, an operation example of the production management apparatus CT configured as described above will be described.</p><p id="p-0050" num="0049">(1) Setting of Attribute Information</p><p id="p-0051" num="0050">Before the system starts to operate, attribute information is set. This attribute information is set by a production manager inputting necessary data to the input unit <b>7</b>. Under the control of the control unit <b>1</b>, the production management apparatus CT captures, via the input/output I/F <b>6</b>, the data input to the input unit <b>7</b> and stores the data in the attribute information storage unit <b>33</b>, thereby generating attribute information.</p><p id="p-0052" num="0051">The attribute information is divided and stored in, for example, a failure/component group database, a component group/component and software database, a degree-of-involvement database, and a data transmission destination database.</p><p id="p-0053" num="0052">The failure/component group database stores a component group ID (PG<b>1</b>, PG<b>2</b>, . . . ) having a possibility of being involved in an occurrence of a failure in such a manner that the component group ID is associated with a failure ID (FL<b>1</b>, FL<b>2</b>, . . . ) indicating a type of the failure, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, for example. The component group/component and software database stores a component ID (PG<b>1</b>, PG<b>2</b>, . . . ) of a component and a software ID (Q<b>1</b>, Q<b>2</b>, . . . ) in such a manner that these IDs are associated with a component group ID (PG<b>1</b>, PG<b>2</b>) of a component group including the aforementioned component and software, as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, for example.</p><p id="p-0054" num="0053">The degree-of-involvement database stores, for each component group ID (PG<b>1</b>, PG<b>2</b>, . . . ), a degree of involvement by a component and software in a failure (for example, W<b>1</b>, W<b>2</b>, . . . in descending order of the degree of involvement) in such a manner that each of these degrees are associated with a component ID (P<b>1</b>, P<b>2</b>, . . . ) and a software ID (Q<b>1</b>, Q<b>2</b>, . . . ) corresponding to a component group with the component group ID, as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, for example. The data transmission destination database stores an ID (PM<b>1</b>, PM<b>2</b>, . . . ) for identifying a manufacturer of a component and an ID (QV<b>1</b>, . . . ) for identifying a vendor of software in such a manner that each of these IDs is associated with a component ID (P<b>1</b>, P<b>2</b>, . . . ) of the component and a software ID (Q<b>1</b>, Q<b>2</b>, . . . ) of the software, as shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, for example. In the state shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, only component manufacture IDs (PM<b>1</b>, PM<b>2</b>, . . . ) and software vendor IDs (QV<b>1</b>, . . . ) are stored; however, in reality, names or destination addresses, etc., of component manufacturers and software vendors are stored.</p><p id="p-0055" num="0054">(2) Data Distribution Control</p><p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart showing an example of the overall processing procedure and processing contents of data distribution control operation by the production management device CT.</p><p id="p-0057" num="0056">(2-1) Management of Operation History</p><p id="p-0058" num="0057">The control unit <b>1</b> of the production management apparatus CT monitors the activation of the production line LN in step S<b>10</b> shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>. When the production line LN is activated in this state, each of the manufacturing apparatuses RB<b>1</b> to RBn starts its operation. Then, the operation states of the manufacturing apparatuses RB<b>1</b> to RBn are respectively detected by the sensors, and sensor data is output.</p><p id="p-0059" num="0058">Under the control of the operation history management unit <b>11</b>, in step S<b>11</b>, the control unit <b>1</b> of the production management apparatus CT receives the sensor data output from each of the manufacturing apparatuses RB<b>1</b> to RBn via the communication I/F <b>4</b>, and stores the received sensor data in the operation history storage unit <b>31</b> in such a manner that the sensor data is associated with an ID of a manufacturing apparatus serving as a transmission source and an ID of a corresponding sensor. Sensor data is chronological data, and is assigned information indicating a detection timing or a reception timing. Sensor data may be acquired through real-time processing or through batch processing in which sensor data is collectively acquired for a fixed amount of time.</p><p id="p-0060" num="0059">(2-2) Management of Failure Occurrence History</p><p id="p-0061" num="0060">While the production line LN is in operation, under the control of the failure occurrence management unit <b>12</b>, the control unit <b>1</b> of the production management apparatus CT monitors, in step S<b>12</b>, the generation of alarm data from the manufacturing apparatuses RB<b>1</b> to RBn.</p><p id="p-0062" num="0061">In this state, for example, when a failure (including signs of failure) occurs in the manufacturing apparatus RB<b>1</b> and alarm data is output accordingly, the failure occurrence management unit <b>12</b> receives the alarm data via the communication I/F <b>4</b>. Then, in step S<b>13</b>, the failure occurrence management unit <b>12</b> identifies a type of the failure. Subsequently, the failure occurrence management unit <b>12</b> sends, to the log data transmission destination selection unit <b>13</b>, a notification of an ID indicating the identified failure type together with a failure occurrence notification, and stores, in the failure occurrence history storage unit <b>32</b>, the failure type ID together with information indicating a failure occurrence timing and information indicating an ID of the manufacturing apparatus RB<b>1</b> serving as a failure occurrence source and a failure occurrence location.</p><p id="p-0063" num="0062">(2-3) Selection of Log Data Transmission Destination and Transmission</p><p id="p-0064" num="0063">Upon receipt of the failure occurrence notification, the control unit <b>1</b> of the production management apparatus CT first proceeds to step S<b>14</b>, and executes processing of selecting a transmission destination of log data under the control of the log data transmission destination selection unit <b>13</b>, as will be described below.</p><p id="p-0065" num="0064"><figref idref="DRAWINGS">FIGS. <b>9</b> and <b>10</b></figref> are flowcharts each showing steps of controlling selection of a log data transmission destination by the log data transmission destination selection unit <b>13</b>, together with steps of controlling log data transmission to be described later.</p><p id="p-0066" num="0065">The log data transmission destination selection unit <b>13</b> first refers to the failure/component group database (<figref idref="DRAWINGS">FIG. <b>4</b></figref>) in step <b>5141</b>, and retrieves a component group ID corresponding to the failure type ID notified by the failure occurrence management unit <b>12</b>. That is, the log data transmission destination selection unit <b>13</b> specifies a component group which may be involved in the occurrence of the failure. Next, in step S<b>142</b>, the log data transmission destination selection unit <b>13</b> refers to the component group/component and software database (<figref idref="DRAWINGS">FIG. <b>5</b></figref>), thereby retrieving a component and software ID corresponding to the aforementioned component group ID. That is, the log data transmission destination selection unit <b>13</b> specifies a component and software that may be involved in the occurrence of the failure.</p><p id="p-0067" num="0066">Furthermore, in step S<b>143</b>, the log data transmission destination selection unit <b>13</b> refers to the degree-of-involvement database (<figref idref="DRAWINGS">FIG. <b>6</b></figref>), thereby retrieving degrees of involvement W<b>1</b>, W<b>2</b>, . . . , set for each of the specified component and software. Subsequently, in step S<b>144</b>, the log data transmission destination selection unit <b>13</b> first selects, based on the retrieved degrees of involvement W<b>1</b>, W<b>2</b>, . . . , a component and software assigned the highest degree of involvement W<b>1</b>. That is, the log data transmission destination selection unit <b>13</b> selects a component and software ID assigned a degree of involvement equal to or greater than the first threshold. The log data transmission destination selection unit <b>13</b> then retrieves, from the data transmission destination database (<figref idref="DRAWINGS">FIG. <b>7</b></figref>), information on a component manufacturer and a software vendor corresponding to the selected component and software ID, and notifies the log data transmission control unit <b>14</b> of the information.</p><p id="p-0068" num="0067">Upon completion of the processing of selecting the transmission destination, the control unit <b>1</b> of the production management apparatus CT proceeds to step S<b>15</b>, thereby executing the processing of transmitting log data under the control of transmission control unit <b>14</b>, as will be described below.</p><p id="p-0069" num="0068">That is, first, in step S<b>151</b>, while using a timing of the failure occurrence as the reference, the log data transmission control unit <b>14</b> sets, as a log data transmission object period, a preset time range before the occurrence timing. A value of the above time range may be set to be common among all of the manufacturing apparatuses RB<b>1</b> to RBn or may be set to differ therebetween depending on an operation time of one cycle of each of the manufacturing apparatuses RB<b>1</b> to RBn. Values of the time ranges are stored in advance in the data storage unit <b>3</b>.</p><p id="p-0070" num="0069">Subsequently, in step S<b>152</b>, the log data transmission control unit <b>14</b> selectively reads, from the operation history storage unit <b>31</b>, log data which corresponds to the log data transmission object period, among the log data indicating an operation state of the manufacturing apparatus RB<b>1</b> in which the failure is detected. In step S<b>153</b>, the log data transmission control unit <b>14</b> then transmits the read log data from the communication I/F <b>5</b> to the component manufacturer and software vendor, which have been selected as a transmission destination by the log data transmission destination selection unit <b>13</b>.</p><p id="p-0071" num="0070">This transmission of log data is similar to that in the existing system in that authentication is performed with a transmission destination and the log data is encrypted according to a predetermined rule.</p><p id="p-0072" num="0071">After transmission of the log data, in step S<b>154</b>, the log data transmission control unit <b>14</b> issues an event number in the order of occurrence of a failure, for example, and stores, in the log data transmission history storage unit <b>34</b>, a failure type ID, an ID of a manufacturing apparatus that has served as a failure occurrence source, a transmission destination of the log data, a transmission time, and a time scope of the transmitted log data in such a manner that they are associated with the issued event number.</p><p id="p-0073" num="0072">Finally, in step S<b>155</b>, the log data transmission control unit <b>14</b> determines whether or not the transmission of log data has been completed for all of the transmission destinations. As a result of this determination, if there still exists a transmission destination to which log data has not been transmitted, the processing returns to step S<b>152</b>, and a series of log data transmission processing steps from S<b>152</b> to <b>5154</b> is repeated. On the other hand, upon completion of the transmission of log data for all of the transmission destinations, the log data transmission control unit <b>14</b> notifies the log data transmission destination selection unit <b>13</b> of this fact.</p><p id="p-0074" num="0073">Upon receipt of the notification of transmission completion, first, in step S<b>145</b>, the log data transmission destination selection unit <b>13</b> monitors reception of information indicating a failure analysis result from the component manufacturer or software vendor serving as a transmission destination, as shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>. Upon receipt of information indicating the failure analysis result, in step S<b>146</b>, a determination as to whether or not a cause of failure occurrence has been elucidated is made based on the received information indicating the failure analysis result. As a result of this determination, if the cause is elucidated, in step S<b>148</b>, information indicating the failure analysis result is associated with a failure type ID corresponding to the information indicating the failure analysis result and is then stored in the failure occurrence history storage unit <b>32</b>.</p><p id="p-0075" num="0074">On the other hand, it is assumed that a cause of a failure is not elucidated from the received failure analysis result. In this case, in step S<b>147</b>, the log data transmission destination selection unit <b>13</b> determines whether or not log data transmission has been completed for all of the transmission destinations involved in the occurrence of the failure. As a result of this determination, in the case where there still exists a transmission destination to which log data has not been transmitted, the log data transmission destination selection unit <b>13</b> returns to step S<b>143</b> shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref>. The log data transmission destination selection unit <b>13</b> then selects, from among the degrees of involvement W<b>1</b>, W<b>2</b>, . . . , retrieved from the degree-of-involvement database, the second highest degree of involvement W<b>2</b>, and selects a component ID and a software ID assigned this degree of involvement W<b>2</b>. That is, the log data transmission destination selection unit <b>13</b> selects a component and software assigned a degree of involvement smaller than the first threshold value and equal to or greater than the second threshold. The log data transmission destination selection unit <b>13</b> then retrieves, from the data transmission destination database (<figref idref="DRAWINGS">FIG. <b>7</b></figref>), information on a component manufacturer and a software vendor corresponding to the selected component ID and software ID, and notifies the log data transmission control unit <b>14</b> of the information.</p><p id="p-0076" num="0075">As in the case of the degree of involvement W<b>1</b> described above, the log data transmission control unit <b>14</b> transmits log data on the manufacturing apparatus RB<b>1</b> in which the failure has occurred to the component manufacturer and software vendor assigned the aforementioned degree of involvement W<b>2</b> through steps S<b>151</b> to S<b>155</b>. This transmission of log data is similar to that in the case described above in that only data which is included in a predetermined time range before a failure occurrence timing is transmitted.</p><p id="p-0077" num="0076">Similarly, in the case where degrees of involvement W<b>3</b>, W<b>4</b>, . . . , smaller than the aforementioned degrees of involvement W<b>1</b> and W<b>2</b> are assigned as a degree of involvement to a component or software corresponding to the occurrence of failure, component manufacturers or software vendors are selected in descending order of these degrees of involvement W<b>3</b>, W<b>4</b>, . . . .</p><p id="p-0078" num="0077">(2-4) Erasure of Transmitted Log Data</p><p id="p-0079" num="0078">Suppose that failure analysis result information including information indicating that a failure occurrence cause has been elucidated is returned from a log data transmission destination or that transmission of log data is completed for all of the component or software manufactures or vendors that may be involved in the failure. In this case, in step S<b>156</b>, the log data transmission control unit <b>14</b> designates, with respect to a manufacturer and a software vendor serving as a transmission destination, a set of log data already transmitted thereto and transmits an erasure request of this set.</p><p id="p-0080" num="0079">Upon receipt of the erasure request of the log data, the component manufacturer and software vendor batch-erase the log data stored for the analysis processing. After completion of the erasure, the component manufacturer and software vendor return an erasure completion notification to the production management apparatus CT.</p><p id="p-0081" num="0080">Under control of the log data transmission control unit <b>14</b>, the control unit <b>1</b> of the production management apparatus CT monitors the return of the erasure completion notification in step S<b>157</b>. When the erasure completion notification is returned, in step S<b>158</b>, the erasure completion notification is additionally stored in a corresponding log data transmission history of the log data transmission history storage unit <b>34</b>.</p><heading id="h-0015" level="1">Action and Effect</heading><p id="p-0082" num="0081">As described above, the production management apparatus CT according to an embodiment is configured to: store attribute information which defines a correspondence relationship between a type of a failure expected to occur in the manufacturing apparatuses RB<b>1</b> to RBn and a component or software having a relevance to the failure; at the occurrence of the failure in the manufacturing apparatuses RB<b>1</b> to RBn, select a component or software manufacturer or vendor having a relevance to a type of the failure; and transmit log data on a manufacturing apparatus in which the failure has occurred to only the selected manufacturer or vendor.</p><p id="p-0083" num="0082">This limits a transmission destination of log data on a manufacturing apparatus to a component manufacturer or software vendor having a relevance to a type of a failure, so that the confidentiality of the log data can be maintained at a high level.</p><p id="p-0084" num="0083">Furthermore, when selecting a log data transmission destination, the production management apparatus CT is configured to: by referring to a degree of reference assigned in advance for each failure type to a component or software related to the failure, select a manufacturer or vendor of a component or software assigned the highest degree of involvement; and in a case where a cause of the failure is not elucidated with the manufacturer or vendor, select a manufacturer or vendor of a component or software having the second highest degree of involvement. In this manner, the production management apparatus CT enlarges log data transmission destinations in a step-by-step manner according to the degree of involvement in a failure assigned to a component or software. This can minimize the range of log data to be transmitted, thereby enabling further improvement in confidentiality of log data, as compared to a case in which log data is batch-transmitted to all of the manufacturers or vendors of components or software having a high possibility of involving in an occurrence of a failure.</p><p id="p-0085" num="0084">Furthermore, at the time of log data transmission, only log data which has occurred during a predetermined time range before a failure occurrence timing is set to a transmission object. This can further limit log data to be transmitted, thereby enabling further improvement in confidentiality of log data.</p><p id="p-0086" num="0085">Furthermore, the log data transmission control unit <b>14</b> is configured to: cause a component manufacturer or software vendor serving as a log data transmission destination to erase the log data by transmitting a log data erasure request thereto, for example, after completion of the failure analysis processing; and receive and manage an erasure completion notification in the log data transmission history storage unit <b>34</b>. This makes it possible to prevent such a problem wherein transmitted log data is used for purposes other than failure analysis in a component manufacturer or software vendor or are transferred to a third party from the component manufacturer or software vendor.</p><heading id="h-0016" level="1">Other Embodiments</heading><p id="p-0087" num="0086">In the case described as an example in the above embodiment, distribution control of log data is performed in the production management apparatus CT provided in the production facility MK. However, a similar data distribution control function may be provided in, for example, an external support center SC, etc. This enables control to be performed in such a manner that a transfer destination of log data is further limited even in a case in which the external support center SC transfers the log data received from the production management apparatus CT to, example, a component manufacturer or a software vendor.</p><p id="p-0088" num="0087">In addition, the configuration of a failure type and log data, the configuration of log data, the various functions provided in the data distribution control apparatus, the processing procedure and the processing contents of data distribution control, and the like can be variously modified without departing from the gist of the present invention.</p><p id="p-0089" num="0088">While the embodiment of the present invention has been described in detail, the foregoing description is merely illustrative of the present invention in all respects. As a matter of course, various modifications and variations can be made without departing from the gist of the invention. That is, in carrying out the present invention, a specific configuration according to the embodiment may be appropriately adopted.</p><p id="p-0090" num="0089">In short, the present invention is not limited to the above embodiments as they are, and can be embodied by modifying structural elements in the implementation stage without departing from the gist of the invention. In addition, various inventions may be constituted by appropriately combining a plurality of components disclosed in the above embodiment. For example, some components may be omitted from all the components shown in the embodiment.</p><p id="p-0091" num="0090">Furthermore, structural elements over different embodiments may be appropriately combined.</p><p id="p-0092" num="0091">The program according to the present embodiment may be transferred in a state of being stored in an electronic device, or may be transferred in a state of not being stored in an electronic device. In the latter case, the program may be transferred via a network, or may be transferred in a state of being recorded on a recording medium. The recording medium is a non-transitory tangible medium. The recording medium is a computer-readable medium. The recording medium may be any medium as long as it can store a program such as a CD-ROM or a memory card and can be read by a computer, and its form is not limited.</p><heading id="h-0017" level="1">REFERENCE SIGNS LIST</heading><p id="p-0093" num="0092">MK . . . Production facility</p><p id="p-0094" num="0093">CT . . . Production management apparatus</p><p id="p-0095" num="0094">LN . . . Production line</p><p id="p-0096" num="0095">RB<b>1</b> to RBn . . . Manufacturing apparatus</p><p id="p-0097" num="0096">NW<b>1</b> . . . LAN</p><p id="p-0098" num="0097">NW<b>2</b> . . . WAN</p><p id="p-0099" num="0098">PM<b>1</b> to PMm+1 . . . Component manufacturer</p><p id="p-0100" num="0099">Q<b>1</b> to Qj . . . Software vendor</p><p id="p-0101" num="0100">SC . . . External support center</p><p id="p-0102" num="0101"><b>1</b> . . . Control unit</p><p id="p-0103" num="0102"><b>2</b> . . . Program storage unit</p><p id="p-0104" num="0103"><b>3</b> . . . Data storage unit</p><p id="p-0105" num="0104"><b>4</b>, <b>5</b> . . . Communication I/F</p><p id="p-0106" num="0105"><b>6</b> . . . Input/output I/F</p><p id="p-0107" num="0106"><b>7</b> . . . Input unit</p><p id="p-0108" num="0107"><b>8</b> . . . Display unit</p><p id="p-0109" num="0108"><b>9</b> . . . Bus</p><p id="p-0110" num="0109"><b>11</b> . . . Operation history management unit</p><p id="p-0111" num="0110"><b>12</b> . . . Failure occurrence management unit</p><p id="p-0112" num="0111"><b>13</b> . . . Log data transmission destination selection unit</p><p id="p-0113" num="0112"><b>14</b> . . . Log data transmission control unit</p><p id="p-0114" num="0113"><b>31</b> . . . Operation history storage unit</p><p id="p-0115" num="0114"><b>32</b> . . . Failure occurrence history storage unit</p><p id="p-0116" num="0115"><b>33</b> . . . Attribute information storage unit</p><p id="p-0117" num="0116"><b>34</b> . . . Log data transmission history storage unit</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A data distribution control apparatus configured to selectively transmit log data relating to an operation state of a facility to a plurality of data users via a network, the data distribution control apparatus comprising:<claim-text>a first storage medium configured to store attribute information indicating a relevance between a type of a failure expected to occur in the facility and each of the data users;</claim-text><claim-text>an acquisition unit configured to acquire the log data and store the log data in a second storage medium;</claim-text><claim-text>a selection unit configured to select, at an occurrence of a failure in the facility, a data user who has a relevance to a type of the failure from among the data users based on the attribute information; and</claim-text><claim-text>a transmission control unit configured to read, from the second storage medium, as a distribution object, the log data relating to an operation state of the facility in which the failure has occurred, and transmit the read log data to the selected data user via the network.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The data distribution control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the attribute information is configured to include information indicating, for each type of a failure in the facility, a degree of involvement by each of the data users in the failure,<claim-text>the selection unit is configured to select, based on the attribute information, a first data user who corresponds to a type of the failure which has occurred and has a degree of involvement in the failure equal to or greater than a preset first threshold, and</claim-text><claim-text>the transmission control unit is configured to transmit the log data relating to the operation state of the facility in which the failure has occurred, to the selected first data user.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The data distribution control apparatus according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising an acquisition unit configured to acquire information indicating an analysis result of the failure from the first data user serving as a transmission destination of the log data, wherein in a case where the acquired information indicating the analysis result includes information indicating that analysis is impossible, the selection unit is configured to select, based on the attribute information, a second data user having a degree of involvement in the failure smaller than the first threshold and equal to or greater than a preset second threshold, and<claim-text>the transmission control unit is configured to transmit the log data relating to the operation state of the facility in which the failure has occurred, to the selected second data user.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The data distribution control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the transmission control unit is configured to selectively read from the first storage medium, log data included in a preset time range based on an occurrence timing of the failure from among the log data relating to an operation state of the facility in which the failure has occurred, and to transmit the read log data to the selected data user.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The data distribution control apparatus according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the transmission control unit is configured to further perform processing of erasing the log data stored by the data user after a preset time has elapsed since the log data is transmitted to the data user or after the information indicating the analysis result of the failure is acquired from the data user.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. A data distribution control method that is executed by a control apparatus configured to selectively transmit log data relating to an operation state of a facility to a plurality of data users via a network, the data distribution control method comprising:<claim-text>storing, in a first storage medium, attribute information indicating a relevance between a type of a failure expected to occur in the facility and each of the data users;</claim-text><claim-text>acquiring the log data and storing the log data in a second storage medium;</claim-text><claim-text>selecting, at an occurrence of a failure in the facility, a data user who has a relevance to a type of the failure from among the data users based on the attribute information; and</claim-text><claim-text>reading, from the second storage medium, as a distribution object, the log data relating to an operation state of the facility in which the failure has occurred, and transmitting the read log data to the selected data user via the network.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. A non-transitory computer-readable medium recording a program for causing a hardware processor included in the data distribution control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref> to execute processing of each of the units included in the data distribution control apparatus.</claim-text></claim></claims></us-patent-application>