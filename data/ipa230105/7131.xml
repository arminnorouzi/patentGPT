<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007132A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007132</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17931639</doc-number><date>20220913</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2020-061446</doc-number><date>20200330</date></priority-claim><priority-claim sequence="02" kind="national"><country>JP</country><doc-number>2020-172746</doc-number><date>20201013</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>1</main-group><subgroup>00</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>1</main-group><subgroup>00244</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>1</main-group><subgroup>00411</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>1</main-group><subgroup>0097</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e79">INFORMATION PROCESSING APPARATUS, CONTROL METHOD THEREOF, AND STORAGE MEDIUM</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>17209842</doc-number><date>20210323</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11477332</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17931639</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>CANON KABUSHIKI KAISHA</orgname><address><city>Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Tokita</last-name><first-name>Ken</first-name><address><city>Kanagawa</city><country>JP</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">To enable a user to more easily set a rule relating to folder allocation and file naming at the time of filing data, such as a document scanned image and a received facsimile, and storing the file. On a user interface screen for setting a rule relating to property information that is used at the time of allocating a file to a folder for storage, at least a first area for editing the rule and a second area displaying an item a user can select are provided. The item is a unit element for a user to set a character string configuring the property information and corresponds to a character string of an arbitrary attribute a user can set. Then, the rule is created by the item selected by a user from the second area being arranged at a position designated by the user in the first area.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="124.38mm" wi="158.75mm" file="US20230007132A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="134.87mm" wi="124.12mm" file="US20230007132A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="183.90mm" wi="150.20mm" orientation="landscape" file="US20230007132A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="137.50mm" wi="123.27mm" file="US20230007132A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="214.21mm" wi="139.78mm" file="US20230007132A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="214.38mm" wi="154.26mm" orientation="landscape" file="US20230007132A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="213.44mm" wi="154.43mm" orientation="landscape" file="US20230007132A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="203.03mm" wi="153.59mm" orientation="landscape" file="US20230007132A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="212.01mm" wi="154.18mm" orientation="landscape" file="US20230007132A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="203.28mm" wi="154.43mm" orientation="landscape" file="US20230007132A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="221.91mm" wi="56.05mm" orientation="landscape" file="US20230007132A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="215.22mm" wi="154.94mm" orientation="landscape" file="US20230007132A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="213.61mm" wi="155.53mm" orientation="landscape" file="US20230007132A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="215.14mm" wi="154.60mm" orientation="landscape" file="US20230007132A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="214.38mm" wi="151.47mm" orientation="landscape" file="US20230007132A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="180.00mm" wi="60.45mm" file="US20230007132A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="198.29mm" wi="153.08mm" orientation="landscape" file="US20230007132A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="198.46mm" wi="151.81mm" orientation="landscape" file="US20230007132A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="225.72mm" wi="123.61mm" file="US20230007132A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="212.85mm" wi="153.33mm" orientation="landscape" file="US20230007132A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="216.66mm" wi="154.09mm" orientation="landscape" file="US20230007132A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="217.17mm" wi="146.39mm" orientation="landscape" file="US20230007132A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00022" num="00022"><img id="EMI-D00022" he="203.37mm" wi="150.20mm" orientation="landscape" file="US20230007132A1-20230105-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00023" num="00023"><img id="EMI-D00023" he="189.15mm" wi="151.64mm" orientation="landscape" file="US20230007132A1-20230105-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00024" num="00024"><img id="EMI-D00024" he="216.83mm" wi="152.74mm" orientation="landscape" file="US20230007132A1-20230105-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00025" num="00025"><img id="EMI-D00025" he="216.24mm" wi="117.35mm" orientation="landscape" file="US20230007132A1-20230105-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00026" num="00026"><img id="EMI-D00026" he="225.72mm" wi="89.83mm" file="US20230007132A1-20230105-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00027" num="00027"><img id="EMI-D00027" he="204.98mm" wi="151.81mm" orientation="landscape" file="US20230007132A1-20230105-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00028" num="00028"><img id="EMI-D00028" he="214.29mm" wi="153.08mm" orientation="landscape" file="US20230007132A1-20230105-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading><heading id="h-0002" level="1">Field of the Invention</heading><p id="p-0002" num="0001">The technique of the present disclosure relates to a technique to set a rule at the time of allocating a file to a folder.</p><heading id="h-0003" level="1">Description of the Related Art</heading><p id="p-0003" num="0002">Conventionally, in an information processing apparatus, such as an MFP (Multifunctional Peripheral), a method is made use of widely, which files (computerizes) image data obtained by scanning a document or received facsimile data and transmits the file to a storage server on a network and stores the file therein. Then, at the time of storing the filed data, automatic allocation of the file to a folder is also performed. For example, Japanese Patent Laid-Open No. 2019-169951 has disclosed a technique to automatically perform creation of a folder and allocation of facsimile data to the folder in accordance with a folder naming rule that is set in advance. It is assumed that as the folder naming rule in the technique of Japanese Patent Laid-Open No. 2019-169951 (in the following, called &#x201c;prior art&#x201d;), the attribute name &#x201c;registered name&#x201d; is set to the folder name of the first hierarchical layer, the attribute name &#x201c;Fax number&#x201d; is set to the folder name of the second hierarchical layer, and the attribute name &#x201c;reception date&#x201d; is set to the folder name of the third hierarchical layer, respectively. In this case, on a condition that a new facsimile is received, a new folder is created by allocating information (registered name, Fax number, reception date) specified from the received facsimile data to the corresponding attribute names as each attribute value. The, in the created folder, the file of the received facsimile data is stored.</p><p id="p-0004" num="0003">In the case of the above-described prior art, the input fields (first hierarchical layer to third hierarchical layer) of the attribute name are determined in advance for each hierarchical layer. For example, it is assumed that a user inputs an attribute value &#x201c;A&#x201d; in the input field for the folder in the first hierarchical layer and inputs an attribute value &#x201c;B&#x201d; in the input field for the folder in the second hierarchical layer. Further, it is assumed that a user desires to create a folder newly using an attribute value &#x201c;C&#x201d; between the first hierarchical layer and the second hierarchical layer. In the case such as this, with the above-described prior art, it is necessary to change all the input fields for the folders in the second and subsequent hierarchical layers. Specifically, it is necessary to change the input contents from the attribute value &#x201c;B&#x201d; to &#x201c;C&#x201d; in the input filed for the new folder in the second hierarchical layer and further to input the attribute value &#x201c;B&#x201d; in the input field for the new folder in the third hierarchical layer (previous second hierarchical layer). That is, in the case of the above-described prior art, the hierarchical layers of the folders and the input fields thereof are fixed, and therefore, in a case where a new folder is inserted between the folder in the Nth hierarchical layer and the folder in the (N+1)th hierarchical layer, complicated work is required.</p><p id="p-0005" num="0004">Further, in the case of the above-described prior art, the configuration is such that a user is caused to select the attribute name from a pulldown menu in each input filed, but it is not possible for a user to create a new attribute name and apply it to the folder allocation rule or the rule relating to file naming.</p><p id="p-0006" num="0005">Consequently, an object of the technique of the present disclosure is to make is possible for a user to more easily set the rule relating to folder allocation and file naming at the time of filing data, such as a document scanned image and a received facsimile, and storing the file.</p><heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading><p id="p-0007" num="0006">The information processing apparatus according to the present disclosure is an information processing apparatus for allocating a file to a folder for storage, and includes: a display control unit configured to control a display of a user interface screen for setting a rule relating to property information that is used at the time of the storage, and the user interface screen having a first area for editing the rule and a second area displaying a unit item a user can select, the unit item is a unit element for a user to set a character string configuring the property information, the unit item includes a particular item corresponding to a character string of an arbitrary attribute a user can set, the rule is created by the unit item selected by a user from the second area being arranged at a position designated by the user in the first area, and in a case where an attribute name of the particular item is input by a user, the display control unit arranges the particular item having the input attribute name at a position designated by a user in the rule which being displayed in the first area and being edited and adds the arranged particular item to the second area.</p><p id="p-0008" num="0007">Further features of the present disclosure will become apparent from the following description of exemplary embodiments with reference to the attached drawings.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram showing an entire configuration of an image processing system;</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram showing a hardware configuration of an MFP;</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a block diagram showing a hardware configuration of an MFP cooperative server and a storage server;</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a block diagram showing a software configuration of the image processing system;</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a diagram showing an example of a folder allocation rule setting screen;</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a diagram showing an example of the folder allocation rule setting screen;</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a diagram showing an example of the folder allocation rule setting screen;</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a diagram showing an example of the folder allocation rule setting screen;</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a diagram showing an example of the folder allocation rule setting screen;</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a diagram showing an example in a case where a set folder allocation rule is displayed;</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a diagram showing an example of the folder allocation rule setting screen;</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a diagram showing an example of the folder allocation rule setting screen;</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a diagram shown an example of a file naming rule setting screen;</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a diagram showing an example of a property setting screen;</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a flowchart showing a flow of processing at the time of setting a property;</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>16</b>A</figref> is a diagram showing an example of the folder allocation rule setting screen and <figref idref="DRAWINGS">FIG. <b>16</b>B</figref> is a diagram showing an example of the file naming rule setting screen;</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a flowchart showing details of property setting screen display processing;</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>18</b></figref> is a diagram showing the way an attribute value of a custom token is input on the property setting screen;</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a diagram showing an example of a scan profile setting screen;</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a diagram showing an example of a scan profile editing screen;</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is a diagram showing an example of a scan profile addition screen;</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is a diagram showing an example of the scan profile addition screen;</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is a diagram showing an example of a transmission destination setting screen;</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a diagram showing an example of a custom token normalization rule setting screen;</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>25</b></figref> is a flowchart showing details of processing in which an attribute value of a custom token is input on the property setting screen;</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a diagram showing the way a custom token normalization rule is selected on the folder allocation rule setting screen; and</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is a diagram showing the way a custom token normalization rule is selected on the property setting screen.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DESCRIPTION OF THE EMBODIMENTS</heading><p id="p-0036" num="0035">Hereinafter, with reference to the attached drawings, the present disclosure is explained in detail in accordance with preferred embodiments. Configurations shown in the following embodiments are merely exemplary and the present disclosure is not limited to the configurations shown schematically.</p><heading id="h-0007" level="2">[First Embodiment]</heading><heading id="h-0008" level="2">&#x3c;System Configuration&#x3e;</heading><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram showing the entire configuration of an information processing system according to the present embodiment. The information processing system includes an MFP (Multifunction Peripheral) <b>110</b>, a client PC <b>111</b>, and server apparatuses <b>120</b> and <b>130</b> that provide cloud services on the internet. The MFP <b>110</b> and the client PC <b>111</b> are connected so as to be capable of communication with various apparatuses providing various services on the internet via a LAN (Local Area Network).</p><p id="p-0038" num="0037">The MFP <b>110</b> is an example of an information processing apparatus having the scan function. The MFP <b>110</b> is a multifunction peripheral having a plurality of functions, such as the print function and the BOX store function, in addition to the scan function. The client PC <b>111</b> is an information processing apparatus, such as a desktop terminal and a mobile terminal, capable of receiving a cloud service via the internet. Both the server apparatuses <b>120</b> and <b>130</b> are each an information processing apparatus providing cloud services. The server apparatus <b>120</b> of the present embodiment provides cloud services to perform an image analysis for a scanned image received from the MFP <b>110</b>, transfer a request from the MFP <b>110</b> to the server apparatus <b>130</b> providing other services, and so on. In the following, the cloud service provided by the server apparatus <b>120</b> is called &#x201c;MFP cooperative service&#x201d;. The server apparatus <b>130</b> provides cloud services (hereinafter, called &#x201c;storage services&#x201d;) to store file data sent via the internet in a predetermined folder, provide a stored file in response to a request from a web browser of the client PC <b>111</b>, and so on. In the present embodiment, the server apparatus <b>120</b> that provides the MFP cooperative service is called &#x201c;MFP cooperative server&#x201d; and the server apparatus <b>130</b> that provides the storage service is called &#x201c;storage server&#x201d;.</p><p id="p-0039" num="0038">The information processing system of the present embodiment has the configuration including the MFP <b>110</b>, the client PC <b>111</b>, the MFP cooperative server <b>120</b>, and the storage server <b>130</b>, but the configuration is not limited to this. For example, the MFP <b>110</b> may play the role of the client PC <b>111</b> and the MFP cooperative server <b>120</b>. Further, the MFP cooperative server <b>120</b> may be arranged on a LAN instead of the internet. Furthermore, it may also be possible to apply the present embodiment to a scene in which a scanned image of a document is transmitted by being attached to a mail by replacing the storage server <b>130</b> with a mail server or the like.</p><heading id="h-0009" level="2">&#x3c;Hardware Configuration of MFP <b>110</b>&#x3e;</heading><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram showing the hardware configuration of the MFP <b>110</b>. The MFP <b>110</b> includes a control unit <b>210</b>, an operation unit <b>220</b>, a printer unit <b>221</b>, a scanner unit <b>222</b>, and a modem <b>223</b>. The control unit <b>210</b> includes each of units <b>211</b> to <b>219</b> below and controls the operation of the entire MFP <b>110</b>. The CUP <b>211</b> reads control programs (programs corresponding to various functions shown in a software configuration diagram, to be described later) stored in the ROM <b>212</b> and executes the programs. The RAM <b>213</b> is used as a temporary storage area, such as a main memory and a work area, of the CPU <b>211</b>. In the present embodiment, the one CPU <b>211</b> performs each piece of processing shown in flowcharts, to be described later, by using the one memory (RAM <b>213</b> or HDD <b>214</b>), but the present embodiment is not limited to this. For example, it may also be possible to perform each piece of processing by causing a plurality of CPUs and a plurality of RAMs or HDDs to cooperate with one another.</p><p id="p-0041" num="0040">The HDD <b>214</b> is a large-capacity storage unit configured to store image data and various programs. The operation unit I/F <b>215</b> is an interface that connects the operation unit <b>220</b> and the control unit <b>210</b>. The operation unit <b>220</b> is provided with a touch panel, a keyboard and the like and receives operations/inputs/instructions by a user. The touch operation to the touch panel includes the operation by a human finger and the operation by a touch pen. The printer I/F <b>216</b> is an interface that connects the printer unit <b>221</b> and the control unit <b>210</b>. Image data to be printed is transferred from the control unit <b>210</b> to the printer unit <b>221</b> via the printer I/F <b>216</b> and printed on a printing medium.</p><p id="p-0042" num="0041">The scanner I/F <b>217</b> is an interface that connects the scanner unit <b>222</b> and the control unit <b>210</b>. The scanner unit <b>222</b> generates scanned image data by reading a document that is set on a document table or ADF (Auto Document Feeder), not shown schematically, and inputs the scanned image data to the control unit <b>210</b> via the scanner I/F <b>217</b>. It is possible to print (copy and output) the scanned image data generated by the scanner unit <b>222</b> in the printer unit <b>221</b>, store the data in the HDD <b>214</b>, transmit the data to an external apparatus, such as the MFP cooperative server <b>120</b>, as a file or a mail via a LAN, and so on. The modem I/F <b>218</b> is an interface that connects the modem <b>223</b> and the control unit <b>210</b>. The modem <b>223</b> performs facsimile communication of image data with a facsimile device (not shown schematically) on the PSTN. The network I/F <b>219</b> is an interface that connects the control unit <b>210</b> (MFP <b>110</b>) to a LAN. The MFP <b>110</b> transmits image data and information to each service on the internet, receives various kinds of information, and so on by using the network I/F <b>219</b>. The hardware configuration of the MFP <b>110</b> explained above is an example and the hardware configuration may comprise another configuration as needed or may not have a part of the configuration.</p><heading id="h-0010" level="2">&#x3c;Hardware Configuration of Client PC and Server Apparatus&#x3e;</heading><p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a block diagram showing the hardware configuration of the client PC <b>111</b>, the MFP cooperative server <b>120</b>, and the storage server <b>130</b>. The client PC <b>111</b>, the MFP cooperative server <b>120</b>, and the storage server <b>130</b> include a CPU <b>311</b>, a ROM <b>312</b>, a RAM <b>313</b>, an HDD <b>314</b>, and a network I/F <b>315</b>. The CPU <b>311</b> controls the entire operation by reading control programs stored in the ROM <b>312</b> and performing various kinds of processing. The RAM <b>313</b> is used as a temporary storage area, such as a main memory and a work area, of the CPU <b>311</b>. The HDD <b>314</b> is a large-capacity storage unit configured to store image data and various programs. The network I/F <b>315</b> is an interface that connects the client PC <b>111</b>/the MFP cooperative server <b>120</b>/the storage server <b>13</b> to the internet. The MFP cooperative server <b>120</b> and the storage server <b>130</b> receive requests for various kinds of processing from other apparatuses (MFP <b>110</b>, the client PC <b>111</b> and the like) via the network I/F <b>315</b> and return processing results in accordance with the requests. &#x3c;Software Configuration of Information Processing System&#x3e;</p><p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a block diagram showing the software configuration of the information processing system according to the present embodiment. In the following, the software configuration corresponding to the role of each of the MFP <b>110</b>, the MFP cooperative server <b>120</b>, and the storage server <b>130</b> is explained in order. In the following, explanation is given by narrowing the various functions possessed by each apparatus to the functions relating to the processing up to processing to file a scanned image obtained by scanning a document in the MFP <b>110</b> and store the file in the storage server <b>130</b> via the MFP cooperative server <b>120</b>.</p><heading id="h-0011" level="2">&#x3c;&#x3c;Software Configuration of MFP&#x3e;&#x3e;</heading><p id="p-0045" num="0044">The function modules of the MFP <b>110</b> are roughly divided into two modules, that is, a native function module <b>410</b> and an additional function module <b>420</b>. While the native function module <b>410</b> is an application provided as a standard one in the MFP <b>110</b>, the additional function module <b>420</b> is an application that is installed additionally in the MFP <b>110</b>. The additional function module <b>420</b> is an application based on Java (registered trademark) and it is possible to easily implement the addition of a function to the MFP <b>110</b>. In the MFP <b>110</b>, another additional application, not shown schematically, may be installed.</p><p id="p-0046" num="0045">The native function module <b>410</b> has a scan execution unit <b>411</b> and a scanned image management unit <b>412</b>. Further, the additional function module <b>420</b> has a display control unit <b>421</b>, a scan control unit <b>422</b>, a cooperative service request unit <b>423</b>, and an image processing unit <b>424</b>.</p><p id="p-0047" num="0046">The display control unit <b>421</b> displays a user interface screen (UI screen) for receiving various user operations on a touch panel of the operation unit <b>220</b>. The various user operations include, for example, inputting of login authentication information for accessing the MFP cooperative server <b>120</b>, scan setting, setting of a rule relating to folder allocation and file naming, instructions to start a scan, instructions to store a file and the like.</p><p id="p-0048" num="0047">The scan control unit <b>422</b> gives instructions to perform scan processing to the scan execution unit <b>411</b> along with scan setting information in accordance with the user operation (for example, pressing down of &#x201c;start scan&#x201d; button) performed on the UI screen. The scan execution unit <b>411</b> causes the scanner unit <b>240</b> to perform the document reading operation via the scanner I/F <b>217</b> and generates scanned image data in accordance with the instructions to perform scan processing from the scan control unit <b>422</b>. The generated scanned image data is stored in the HDD <b>214</b> by the scanned image management unit <b>412</b>. At this time, the scan control unit <b>422</b> is notified of information on a scanned image identifier uniquely indicating the stored scanned image data. The scanned image identifier is a number, symbol, alphabet and the like for uniquely identifying the image scanned in the MFP <b>110</b>. The scan control unit <b>422</b> acquires, for example, the scanned image data that is the target to be filed from the scanned image management unit <b>412</b> by using the above-described scanned image identifier. Then, the scan control unit <b>422</b> instructs the cooperative service request unit <b>423</b> to make a request for processing necessary to file the scanned image data to the MFP cooperative server <b>120</b>.</p><p id="p-0049" num="0048">The cooperative service request unit <b>423</b> makes requests for various kinds of processing to the MFP cooperative server <b>120</b>, receives responses thereto, and so on. The various kinds of processing include, for example, login authentication, scanned image analysis, transmission of scanned image data and the like. For transmission and reception with the MFP cooperative server <b>120</b>, the communication protocol, such as REST and SOAP, is used.</p><p id="p-0050" num="0049">The image processing unit <b>424</b> generates an image to be used on the UI screen that is displayed by the display control unit <b>421</b> by performing predetermined image processing for scanned image data.</p><heading id="h-0012" level="2">&#x3c;&#x3c;Software Configuration of Server Apparatus&#x3e;&#x3e;</heading><p id="p-0051" num="0050">First, the software configuration of the MFP cooperative server <b>120</b> is explained. The MFP cooperative server <b>120</b> has a request control unit <b>431</b>, an image processing unit <b>432</b>, a storage server access unit <b>433</b>, a data management unit <b>434</b>, and a display control unit <b>435</b>. The request control unit <b>431</b> stands by in the state of being capable of receiving a request from an external apparatus and instructs the image processing unit <b>432</b>, the storage server access unit <b>433</b>, and the data management unit <b>434</b> to perform predetermined processing in accordance with received request contents. The image processing unit <b>432</b> performs image modification processing, such as rotation and inclination correction, in addition to image analysis processing, such as character area detection processing, character recognition processing, and similar document determination processing, for the scanned image data that is sent from the MFP <b>110</b>. The storage server access unit <b>433</b> makes a request for processing to the storage server <b>130</b>. The cloud service has made public a variety of interfaces for storing a file in the storage server, acquiring a stored file, and so on by using the protocol, such as REST and SOAP. The storage server access unit <b>433</b> makes a request to the storage server <b>130</b> by using an interface having been made public. The data management unit <b>434</b> stores and manages user information, various kinds of setting data and the like, which are managed in the MFP cooperative server <b>120</b>. The display control unit <b>435</b> receives a request from a web browser running on the MFP <b>110</b> or the client PC <b>111</b> connected via the internet and returns screen configuration information (HTML, CSS and the like) necessary for the screen display. It is possible for a user to check the registered user information, change the scan setting and the setting of the rule relating to folder allocation and file naming via the screen that is displayed on the web browser.</p><p id="p-0052" num="0051">Next, the software configuration of the storage server <b>130</b> is explained. The storage server <b>130</b> has a request control unit <b>441</b>, a file arrangement unit <b>442</b>, and a display control unit <b>443</b>. The request control unit <b>441</b> stands by in the state of being capable of receiving a request from an external apparatus and in the present embodiment, instructs the file arrangement unit <b>442</b> to store a received file and read a stored file in response to a request from the MFP cooperative server <b>120</b>. Then, the request control unit <b>441</b> returns a response in accordance with the request to the MFP cooperative server <b>120</b>. The display control unit <b>443</b> receives a request from a web browser running on the MFP <b>110</b> or the client PC <b>111</b> connected via the internet and returns screen configuration information (HTML, CSS and the like) necessary for the screen display. It is possible for a user to check and acquire a stored file via the screen that is displayed on the web browser.</p><p id="p-0053" num="0052">Although omitted in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, it is assumed that the client PC <b>111</b> also comprises the same function module as the additional function module <b>420</b> described previously.</p><heading id="h-0013" level="2">&#x3c;Setting of Folder Allocation Rule&#x3e;</heading><p id="p-0054" num="0053">Following the above, the setting of a rule relating to storage destination folder allocation in a scene in which a document scanned image is filed and stored in the storage server <b>130</b> is explained. In the present embodiment, explanation is given on the assumption that various settings including the folder allocation rule setting are performed in the client PC <b>111</b>. The control of the display of various UI screens and storage of the set rule, to be described below, is implemented by the additional function module <b>420</b> described previously comprised by the client PC <b>111</b>. That is, it is also possible to perform the contents that are described below by the MFP <b>110</b> comprising the additional function module <b>420</b>.</p><p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a diagram showing an example of a UI screen (in the following, called &#x201c;folder allocation rule setting screen&#x201d;) for a user to set a rule relating to a file allocation destination (storage destination folder), which is displayed on the display (not shown schematically) of the client PC <b>111</b>. A file folder allocation rule setting screen <b>500</b> shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref> shows the initial display state and has four areas, that is, a rule editing area <b>501</b>, a system token area <b>502</b>, a delimiter token area <b>503</b>, and a custom token area <b>504</b>. Then, in the rule editing area <b>501</b>, a token drop area <b>507</b> exists and further, at the bottom part on the screen, a &#x201c;Store&#x201d; button <b>505</b> for settling and storing the set rule exists.</p><p id="p-0056" num="0055">In the present specification, &#x201c;token&#x201d; means a unit item for a user to designate a character string (including symbol) that is used for property information necessary at the time of storing a file in the storage server <b>130</b> with the attribute thereof in mind. Then, the token includes a general token (general item) corresponding to a character strong of the attribute determined in advance and a particular token (particular item) corresponding to a character string of an arbitrary attribute a user can customize and freely set. A system token and a delimiter token, to be described later, correspond to the general token and a custom token, to be described later, corresponds to the particular token. These tokens are represented as UI elements that are the target of the user operation, such as the drag operation and the drop operation, on various setting screens that appear in the following.</p><p id="p-0057" num="0056">In the system token area <b>502</b>, the delimiter token area <b>503</b>, and the custom token area <b>504</b>, various tokens are displayed in a list. Then, in the rule editing area <b>501</b>, a folder allocation rule that is created by using various tokens is displayed. Here, the folder allocation rule includes information relating to the folder path of the allocation destination (storage destination folder) of scanned data and the hierarchical structure of the folder, and is set in advance by a user.</p><heading id="h-0014" level="2">&#x3c;Setting of Token&#x3e;</heading><p id="p-0058" num="0057">It is possible for a user to select one from among the tokens displayed in the system token area <b>502</b>, the delimiter token area <b>503</b>, and the custom token area <b>504</b> by the drag operation and perform the drop operation of the token into the token drop area <b>507</b>. As a result of that, a new folder is represented in a pseudo manner, which includes the character string corresponding to the token selected by the drag operation in the folder name (folder path).</p><p id="p-0059" num="0058">The system token area <b>502</b> is an area in which the token that takes an environment variable of a user, such as &#x201c;Display name of login user&#x201d;, &#x201c;Time&#x201d;, and &#x201c;Date&#x201d;, as the attribute value is displayed. The delimiter token area <b>503</b> is an area in which the token that takes the delimiter (symbol), such as &#x201c;Underscore&#x201d; and &#x201c;Hyphen&#x201d;, as the attribute value is displayed. The custom token area <b>504</b> is an area in which the token that takes an arbitrary character string selected (or input manually) from the OCR results (recognized character string) of the scanned image as the attribute value. It is possible for a user to freely create the custom token. For example, in a case where a user drops a token <b>506</b> of &#x201c;Create token by drag&#x201d; displayed in the custom token area <b>504</b> into the token drop area <b>507</b>, an input field for inputting an attribute name indicating the token is displayed. That is, the character string of &#x201c;Create token by drag&#x201d; displayed on the token <b>506</b> has a meaning different from that of the character string displayed on the system token and the delimiter token. In a case of the token <b>506</b>, the token <b>506</b> is not the attribute name itself indicating the contents of the token but plays a role of an explanatory sentence prompting a user to input an attribute name and create a new token. Details of the custom token, such as a specific setting method of an attribute name that is attached to the custom token, will be described later.</p><p id="p-0060" num="0059">The information on the rule displayed in the rule editing area <b>501</b> is transmitted to the MFP cooperative server <b>120</b> in response to pressing down of the &#x201c;Store&#x201d; button <b>505</b> and managed by the data management unit <b>434</b>. Further, in a case where a &#x201c;Back&#x201d; button is pressed down, the rule being display in the rule editing area <b>501</b> is discarded and the setting processing is terminated.</p><p id="p-0061" num="0060">Here, the storage destination folder allocation rule in the present embodiment is reviewed. First, it is assumed that restrictions are not imposed particularly on the combination and order of the tokens that can be set as the folder allocation rule. For example, it may also be possible to create a rule to configure one folder name only by the delimiter tokens in the delimiter token area <b>503</b> or it is also possible to create a rule using only the same system token. However, it is assumed that the contents of each token displayed in the system token area <b>502</b> and the delimiter token area <b>503</b> cannot be changed. On the other hand, as regards the custom token, it is assumed that the attribute name of the custom token displayed in the custom token area <b>504</b> can be changed freely and the custom token itself can be deleted.</p><p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. <b>6</b></figref> shows the state of the folder allocation rule setting screen <b>500</b> in a case where a user drags and drops an arbitrary system token within the system token area <b>502</b> into the rule editing area <b>501</b>. Specifically, <figref idref="DRAWINGS">FIG. <b>6</b></figref> shows the state in a case where a system token <b>511</b> that takes &#x201c;Display name of login user&#x201d; as the attribute name among the plurality of system tokens displayed within the system token area <b>502</b> is dropped into the token drop area <b>507</b>. In the rule editing area <b>501</b> in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, at the position of the token drop area <b>507</b> (see <figref idref="DRAWINGS">FIG. <b>5</b></figref>) at which a user has performed the drop operation, a token <b>508</b> that takes &#x201c;Display name of login user&#x201d; as the attribute name is arranged newly and at the same time as that, new token drop areas <b>514</b> and <b>515</b> are generated. In the state shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, in a case where a user selects one token from the token groups existing in the various token areas <b>502</b> to <b>504</b> described above and drags and drops the token into the token drop area <b>514</b>, a new token drop area is further generated (not shown schematically). Then, in a case where a user further drags and drops an arbitrary token into the newly generated token drop area, a further token drop area is generated. The state of the folder allocation rule setting screen <b>500</b> after the operation such as this is performed repeatedly is shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>. In the rule editing area <b>501</b> in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, two tokens (token <b>516</b> that takes &#x201c;{Space}&#x201d; as attribute name and token <b>517</b> that takes &#x201c;Name of scan profile&#x201d; as attribute name) are newly added and further, a token drop area <b>518</b> is generated. In this case, the three tokens <b>508</b>, <b>516</b>, and <b>517</b> are set to the folder name of the folder in the first hierarchical layer (highest hierarchical layer). According to the example in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the folder that takes &#x201c;(Display name of login user) (Name of scan profile)&#x201d; as the folder path is created as the folder in the highest hierarchical layer. On the other hand, in the rule editing area <b>501</b> shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, also in a case where a user drags and drops one arbitrary token into the token drop area <b>515</b> exiting in the second hierarchical layer, a new token drop area is generated further. In the rule editing area <b>501</b> in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, a token <b>519</b> of &#x201c;Date (year, four digits)&#x201d; is added and two token drop areas <b>502</b> and <b>521</b> are further generated. The token drop area <b>521</b> is used at the time of adding a new token to the folder in the second hierarchical layer, which has determined to use the token <b>519</b>. Further, the token drop area <b>520</b> is used at the time of setting the first token to the folder in the third hierarchical layer.</p><p id="p-0063" num="0062">As is obvious from the explanation given so far, the hierarchical layer of the folder that uses the three tokens <b>508</b>, <b>516</b>, and <b>517</b> as the folder name and that of the folder that uses the token <b>519</b> as the folder name are different (see <figref idref="DRAWINGS">FIG. <b>7</b></figref>). That is, in the folder structure, the folder that uses the token <b>519</b> as the folder name exists in the layer lower than that of the folder that uses the three tokens <b>508</b>, <b>516</b>, and <b>517</b> as the folder name. Even for the tokens that are set in the rule editing area <b>501</b> as described above, it is possible to change the arrangement by the drag operation, such as exchanging adjacent tokens and inserting a token between tokens.</p><heading id="h-0015" level="2">&#x3c;&#x3c;Deletion of Token&#x3e;&#x3e;</heading><p id="p-0064" num="0063">Following the above, a case is explained where a user deletes a token in each folder hierarchical layer that is set as described above. In a case where a user performs the mouse hover operation for one of the tokens being displayed in the rule editing area <b>501</b>, a &#x201c;&#xd7;&#x201d; button (not shown schematically) is displayed on the token. It is possible for a user to delete any token by pressing down the &#x201c;&#xd7;&#x201d; button. <figref idref="DRAWINGS">FIG. <b>8</b></figref> shows the state of the folder allocation rule setting screen <b>500</b> after the token that is set in the rule editing area <b>501</b> is deleted by the above-described deletion operation. In the rule editing area <b>501</b> in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, UI blocks <b>522</b> and <b>523</b> of &#x201c;Deleted&#x201d; are displayed at the positions at which tokens are deleted. These UI blocks <b>522</b> and <b>523</b> displayed as &#x201c;Deleted&#x201d; function as a token drop area and in a case where a user drags and drops a new token into the UI block, at the position displayed as &#x201c;Deleted&#x201d;, a new token is set. As described above, in the present embodiment, even in a case where the token being displayed in the rule editing area <b>501</b> is deleted, the area in which the token has been present is maintained. However, it may also be possible to produce a display in which the area from which the token has been deleted is clipped in place of displaying the &#x201c;Deleted&#x201d; UI block and making it possible to arrange a new token therein. In a case where a user presses down the &#x201c;Store&#x201d; button <b>505</b> in the state in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the folder allocation rule setting screen <b>500</b> transitions to a state shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref> and the &#x201c;Deleted&#x201d; UI block is no longer displayed.</p><heading id="h-0016" level="2">&#x3c;&#x3c;Check of Set Folder Allocation Rule&#x3e;&#x3e;</heading><p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a diagram showing an example of the state where a folder allocation rule created and stored by a user via the folder allocation rule setting screen <b>500</b> described previously is displayed on a main screen, not shown schematically. In the example shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, a folder path <b>1001</b> in which the demarcation between folder hierarchical layers is indicated by a slash is displayed. The folder path <b>1001</b> shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref> corresponds to the results of setting a predetermined token to each of the folders in the first hierarchical layer to the third hierarchical layer as in the rule editing area <b>501</b> in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, to be described later. In a case of following the tokens that are set in the rule editing area <b>501</b> shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the contents of the folder path that is displayed are &#x201c;{Display name of login user}/Date (month)&#x201d;. That is, in a case of <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the token for the folder in the second hierarchical layer is deleted and the folder path in accordance with the tokens that are set respectively to the folders in the first hierarchical layer and the third hierarchical layer is displayed. As described above, in a case where the token for the folder in a specific hierarchical layer no longer exists because the set token is deleted, the folder path in the state where the folder in the hierarchical layer is clipped is displayed.</p><heading id="h-0017" level="2">&#x3c;Custom Token&#x3e;</heading><p id="p-0066" num="0065">Following the above, the user operation in a case where a folder allocation rule is set by using the custom token, which is the feature of the present embodiment, and transition of the UI screen accompanying the user operation are explained. <figref idref="DRAWINGS">FIG. <b>11</b></figref> shows the state of the folder allocation rule setting screen in a case where a user drops the custom token <b>506</b> into the token drop area in the third hierarchical layer in the rule editing area <b>501</b>. Here, in the token drop area for which the drop operation of the custom token <b>506</b> has been performed, a character string <b>1100</b> of &#x201c;Adding . . . &#x201d; is displayed and further, in a text field <b>1101</b> that is displayed in a pop-up manner in accordance with the drop operation, a character string of &#x201c;Company name&#x201d; is input. The character string that is input in the text field <b>1101</b> in this manner is set as the attribute name of the token for the folder in the third hierarchical layer by a &#x201c;Store&#x201d; button <b>1102</b> within the text field <b>1101</b> being pressed down. A &#x201c;Cancel&#x201d; button is used in a case where the setting of the custom token is cancelled.</p><p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. <b>12</b></figref> shows the state of the folder allocation rule setting screen <b>500</b> after the custom token is set by the &#x201c;Store&#x201d; button <b>1102</b> being pressed down by a user. A token <b>1201</b> having the character string &#x201c;Company name&#x201d; that is input in the text field <b>1101</b> described above as the attribute name is displayed as the token for the folder in the third hierarchical layer within the rule editing area <b>501</b>. Further, in the custom token area <b>504</b>, a custom token <b>1201</b> having the character string &#x201c;Company name&#x201d; as the attribute name is displayed so that it is possible to make use of again the custom token created this time. The timing at which the character string that is input in the text field <b>1101</b> is stored as the attribute name of the custom token that can be made use of again may be immediately after the attribute name is input in the text field <b>1101</b> (that is, before the &#x201c;Store&#x201d; button <b>1102</b> is pressed down). Further, it is assumed that also in a case where a token whose contents are the same as those of the attribute name already existing as the system token or the delimiter token is created as a new custom token, the token is added to the custom token area <b>504</b> as a new custom token. However, it is assumed that even in a case where the same character string as that of the attribute name of the custom token already existing in the custom token area <b>504</b> is input in the text field <b>1101</b>, the custom token having the same attribute name is not displayed in the custom token area <b>504</b> in a duplicate manner. In a case where the character string that is already used as the attribute name of the already existing custom token is input in the text field <b>1101</b>, it may also be possible to notify a user of this by displaying a message to the effect that the character string cannot be used as the attribute name, and so on. Alternatively, it may also be possible not to perform addition to the custom token area <b>504</b> while permitting the input of the above-described already used character string in the text field <b>1101</b> or the setting itself of the custom token based on the input. Further, it may also be possible to prevent, even in a case where a custom token having the same attribute name as that of the system token or the delimiter token is created, registration or utilization thereof as a custom token.</p><heading id="h-0018" level="2">&#x3c;Setting of Extraction Rule and Verification Rule of Custom Token&#x3e;</heading><p id="p-0068" num="0067">A setting method of setting a character string extraction rule and a character string verification rule for a custom token is explained. In the present embodiment, explanation is given by taking a case as an example where the setting of the character string extraction rule and the character string verification rule is also performed in the client PC <b>111</b>.</p><p id="p-0069" num="0068">The character string extraction rule is a rule to normalize (extraction or deletion) a value that is input in the attribute value input field at the time of property setting. That is, the character string extraction rule is a rule that is referred to in a case where a specific character string is extracted or deleted from the value that is input in the attribute value input field. On the other hand, the character string verification rule is a rule to verify a value that is input in the attribute value input field at the time of property setting. In a case where the character string that is input in the attribute value input field is not in accordance with the specified format as a result of verifying the character string verification rule, a user is warned about that.</p><p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a diagram showing an example of a UI screen (in the following, called &#x201c;custom token normalization rule setting screen&#x201d;) for a user to set the character string extraction rule and the character string verification rule that are displayed on the display of the client PC <b>111</b>. A custom token normalization rule setting screen <b>2400</b> shown in <figref idref="DRAWINGS">FIG. <b>24</b></figref> shows the initial display state. The display method of the custom token normalization rule setting screen <b>2400</b> is not limited in particular. For example, on the folder allocation rule setting screen <b>500</b> in <figref idref="DRAWINGS">FIG. <b>11</b></figref> and <figref idref="DRAWINGS">FIG. <b>12</b></figref>, the custom token normalization rule setting screen <b>2400</b> is displayed at the timing a registered custom token is selected. Alternatively, it may also be possible to set a custom token registration screen (not shown schematically) separately and display the custom token normalization rule setting screen <b>2400</b> at the timing an &#x201c;Add&#x201d; button within the custom token registration screen is pressed down and an attribute name is input subsequently.</p><p id="p-0071" num="0070">On the custom token normalization rule setting screen <b>2400</b>, each setting item of Display name <b>2401</b>, Default value <b>2402</b>, Data extraction rule <b>2403</b>, and Data verification rule <b>2404</b> exists. By inputting an arbitrary character string within the text field corresponding to each setting item, the setting value of each setting items is determined. In Display name <b>2401</b>, an attribute name is set. In Default value <b>2402</b>, it is possible to set a value that is input by default in the attribute value input field. In Data extraction rule <b>2403</b>, it is possible to set the above-described character string extraction rule. In Data verification rule <b>2404</b>, it is possible to set the above-described character string verification rule. Default value <b>2402</b>, Data extraction rule <b>2403</b>, and Data verification rule <b>2404</b> may be left empty or it may also be possible input values in an arbitrary combination thereof.</p><p id="p-0072" num="0071">Further, the format in which a setting value is input in Data extraction rule <b>2403</b> and Data verification rule <b>2404</b> is not limited. For example, a format is considered in which alternatives are displayed in a pulldown format and a setting value is selected therefrom, in addition to a format in which a user directly inputs a regular expression. For example, in a case where it is desired to set a rule to delete the character string &#x201c;Inc.&#x201d; included in the trade name as the character string extraction rule, it may also be possible to implement this by directly inputting &#x201c;.+(?=Inc.)|(?&#x3c;=Inc.).+&#x201d; in Data extraction rule <b>2403</b>. Further, in a case where it is desired to set a rule to verify whether an input character string includes only single-byte figures as the character string verification rule, it may also be possible to implement this by directly inputting &#x201c;[0-9]+&#x201d; in Data verification rule <b>2404</b>. In place of the direct input such as this, as an example in which alternatives are displayed, for example, for the character string extraction rule, an alternative, such as &#x201c;Delete trade name such as Inc.&#x201d; is displayed. Alternatively, it is considered to display alternatives, such as &#x201c;Date format:YYYYMMDD&#x201d; and &#x201c;Date format:MM DD, YYYY&#x201d;, are displayed for the character string verification rule.</p><heading id="h-0019" level="2">&#x3c;Setting of File Naming Rule&#x3e;</heading><p id="p-0073" num="0072">Following the above, the setting of a naming rule relating to a file name that is attached in a case where a scanned image or the like is filed is explained. In the present embodiment, explanation is given by taking a case as an example where the setting of the file naming rule is also performed in the client PC <b>111</b>. <figref idref="DRAWINGS">FIG. <b>13</b></figref> is a diagram showing an example of a UI screen (in the following called &#x201c;file naming rule setting screen&#x201d;) for a user to set a file naming rule, which is displayed on the display (not shown schematically) of the client PC <b>111</b>. A File Naming Rule setting screen <b>1300</b> shown in <figref idref="DRAWINGS">FIG. <b>13</b></figref> shows the initial display state and the screen configuration is similar to that of the folder allocation rule setting screen <b>500</b> described previously. That is, the File Naming Rule setting screen <b>1300</b> also has four areas, that is, a rule editing area <b>1301</b>, a system token area <b>1302</b>, a delimiter token area <b>1303</b>, and a custom token area <b>1304</b>. Then, in the rule editing area <b>1301</b>, a token drop area <b>1305</b> exists and further, at the bottom part on the screen, a &#x201c;Store&#x201d; button <b>1306</b> for setting and storing the set file naming rule exists. In the following, points different from those of the folder allocation rule setting screen <b>500</b> are explained mainly.</p><p id="p-0074" num="0073">The creation of a file naming rule is also performed by arranging various tokens displayed in the system token area <b>1302</b>, the delimiter token area <b>1303</b>, and the custom token area <b>1304</b> in the rule editing area <b>1301</b> by drag and drop. The difference from the folder allocation rule setting screen <b>500</b> lies in that in a case of a file name, the structure is not a hierarchical structure and even in a case where a new token is added to the rule editing area <b>1301</b>, a plurality of token drop areas is not displayed.</p><p id="p-0075" num="0074">One or a plurality of tokens arranged in the rule editing area <b>1301</b> is a component or components of a single file name. That is, in a case where a plurality of tokens is set, one file name is generated by connecting the attribute value of each token.</p><p id="p-0076" num="0075">Here, in the custom token area <b>1304</b> on the File Naming Rule setting screen <b>1300</b>, a custom token <b>1311</b> that takes &#x201c;Company name&#x201d; as the attribute name and a custom token <b>1312</b> that takes &#x201c;Estimate form&#x201d; as the attribute name are displayed. Of these two custom tokens, the custom token <b>1311</b> of &#x201c;Company name&#x201d; corresponds to the custom token <b>1202</b> that is created on the folder allocation rule setting screen <b>500</b> described previously. That is, the custom token <b>1311</b> is the custom token that is created at the time of setting of the folder allocation rule is displayed as a custom token that can be made use of also at the time of setting of the file naming rule. Similarly, the custom token <b>1312</b> of &#x201c;Estimate form&#x201d; that is displayed in the custom token area <b>1304</b> on the File Naming Rule setting screen <b>1300</b> is also displayed in the custom token area <b>504</b> after the creation thereof in a case where the folder allocation rule setting screen <b>500</b> is opened. In this manner, it is possible to share custom tokens between the folder allocation rule setting screen and the file naming rule setting screen.</p><heading id="h-0020" level="2">&#x3c;Property Setting at the Time of Filing&#x3e;</heading><p id="p-0077" num="0076">Next, a flow of specific processing in the property setting at the time of filing a scanned image or the like is explained. Here, the property refers to a file name, a folder path, metadata and the like, which are necessary for each piece of filing-target data. For example, in a case where a certain document is scanned and filed, and stored in the storage server <b>130</b>, a user sets a necessary property via a property setting screen on which the storage destination folder allocation rule and the file naming rule are reflected, which are set as described above.</p><p id="p-0078" num="0077"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a diagram showing an example of the property setting screen. A property setting screen <b>1400</b> shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref> is in the initial display state and has a two-pane configuration of a preview pane <b>1401</b> and a property pane <b>1402</b>. Here, within the preview pane <b>1401</b>, the scanned image of a business form of &#x201c;Estimate form&#x201d; is preview-displayed. In the preview pane <b>1401</b>, it is possible to display an arbitrary position in the scanned image by scrolling and zooming the scanned image. The property pane <b>1402</b> is a pane for displaying and editing a property to be attached to the processing-target scanned image. Here, within the property pane <b>1402</b>, a folder path display area <b>1403</b>, a file name display area <b>1404</b>, an attribute value input field <b>1405</b> corresponding to a folder path, and an attribute value input field <b>1406</b> corresponding to a file name are displayed. Then, &#x201c;/tokita/{Company name}/2020.02.27&#x201d; displayed in the folder path display area <b>1403</b> is based on the folder allocation rule that is set on the folder allocation rule setting screen <b>500</b> described previously. Further, &#x201c;{Estimate form}_20200227_{Company name}_1&#x201d; displayed in the file name display area <b>1404</b> is based on the file name naming rule that is set on the File Naming Rule setting screen <b>1300</b>. Details of the display of a folder path and a file name based on each rule will be described later.</p><heading id="h-0021" level="2">&#x3c;Flow of Property Setting Processing&#x3e;</heading><p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a flowchart showing a flow of processing at the time of a user setting a property of a file via the above-described property setting screen <b>1400</b> on the MFP <b>110</b>. The execution of this flow starts by the display control unit <b>421</b> of the MFP <b>110</b> receiving user instructions to open the property setting screen <b>1400</b> as a trigger. Here, it is assumed that as the folder allocation rule and the file naming rule, the following contents shown on the setting screens in <figref idref="DRAWINGS">FIG. <b>16</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>16</b>B</figref> are set respectively.</p><heading id="h-0022" level="2">&#x3c;&#x3c;Setting Contents of Folder Allocation Rule&#x3e;&#x3e;</heading><p id="p-0080" num="0079">&#x201c;&#x2018;Display name of login user&#x2019; (system token)/&#x2018;Company name&#x2019; (custom token)/&#x2018;Year&#x2019; (system token) &#x2018;period&#x2019; (delimiter token) &#x2018;Month&#x2019; (system token) &#x2018;period&#x2019; (delimiter token) &#x2018;Day&#x2019; (system token)&#x201d;</p><heading id="h-0023" level="2">&#x3c;&#x3c;Setting Contents of File Naming Rule&#x3e;&#x3e;</heading><p id="p-0081" num="0080">&#x201c;&#x2018;Estimate form (custom token)&#x2019; &#x2018;Underscore (delimiter token)&#x2019; &#x2018;Year (system token)&#x2019; &#x2018;Month (system token)&#x2019; &#x2018;Day (system token)&#x2019; &#x2018;Underscore (delimiter token)&#x2019; &#x2018;Company name (custom token)&#x2019;&#x201d;</p><heading id="h-0024" level="2">&#x3c;&#x3c;Setting Contents of Custom Token Normalization Rule of Company Name (Custom Token)&#x3e;&#x3e;</heading><p id="p-0082" num="0081">&#x201c;Display name:Company name, Default value:Empty, Data extraction rule:&#x201c;.+(?=Inc.|(?&#x3c;=Inc.).+&#x201d; (Delete Inc. at top or end), Data verification rule:&#x201c;.+&#x201d; (not Empty)</p><p id="p-0083" num="0082">In the following, a detailed explanation is given along the flow in <figref idref="DRAWINGS">FIG. <b>15</b></figref>. In the following explanation, symbol &#x201c;S&#x201d; represents a step.</p><p id="p-0084" num="0083">First, at S<b>1501</b>, information on the folder allocation rule that is set by a user is acquired. At S<b>1502</b> that follows, information on the file naming rule that is set by a user is acquired. At next S<b>1503</b> and S<b>1504</b>, processing to acquire the attribute value of the system token included in the information acquired at S<b>1501</b> and S<b>1502</b> is repeated the number of times corresponding to the number of system tokens. Specifically, the character string corresponding to the environment variable of a user, which corresponds to the system token, is acquired from the data management unit <b>434</b> of the MFP cooperative server <b>120</b>. For example, for the system tokens &#x201c;Year&#x201d;, &#x201c;Month&#x201d;, and &#x201c;Day&#x201d;, character strings &#x201c;2020&#x201d;, &#x201c;2&#x201d;, and &#x201c;27&#x201d; representing the date of the scan are acquired, respectively. Further, for the system token &#x201c;Display name of login user&#x201d;, the character string &#x201c;tokita&#x201d; representing the user name of the user registered in the system is acquired. In the case of the above-described example, the four system tokens are included in the folder allocation rule and the three system tokens are included in the file naming rule, and therefore, the attribute value acquisition is repeated seven times. In a case where no system token is included in each rule, the processing at S<b>1503</b> and S<b>1504</b> is skipped and the processing advances to step S<b>1505</b>. The attribute value of the system token changes dynamically in accordance with the system setting, unlike those of the custom token and the delimiter token. Because of this, it is necessary to update the corresponding character string (attribute value) of each system token each time the system setting is changed.</p><p id="p-0085" num="0084">At S<b>1505</b>, by using the folder allocation rule acquired at S<b>1501</b> and the character string of each system token, which is acquired at S<b>1504</b>, a folder path is generated. At S<b>1506</b> that follows, by using the file naming rule acquired at S<b>1502</b> and the character string of each system token, which is acquired at S<b>1504</b>, a file name is generated. At this time, as regards the delimiter token, the relevant delimiter, such as a period and a space, is input. Further, as regards the custom token, the character string of the corresponding attribute name is input temporarily.</p><p id="p-0086" num="0085">At next S<b>1507</b>, the property setting screen <b>1400</b> described previously is displayed on the display (not shown schematically) of the client PC <b>111</b>. <figref idref="DRAWINGS">FIG. <b>17</b></figref> is a flowchart showing details of property setting screen display processing. In the following, a detailed explanation is given along the flow in <figref idref="DRAWINGS">FIG. <b>17</b></figref>.</p><p id="p-0087" num="0086">At S<b>1701</b>, the folder path generated at S<b>1505</b> is displayed in the folder path display area <b>1403</b> on the property setting screen <b>1400</b>. As described previously, in the example in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, &#x201c;/tokita/(Company name)/2020.02.27&#x201d; is displayed. In this case, for the system token that takes &#x201c;Display name of login user&#x201d; as its attribute name, the character string &#x201c;tokita&#x201d; is input. Further, for the custom token that takes &#x201c;Company name&#x201d; as its attribute name, a character string is to be input by, for example, selecting a desired text block from the scanned image, and therefore, in the current stage, the character string of &#x201c;Company name&#x201d; indicating the attribute name is input temporarily. Then, for each system token that takes each of &#x201c;Year&#x201d;, &#x201c;Month&#x201d;, and &#x201c;Day&#x201d; as its attribute name, figures &#x201c;2020&#x201d;, &#x201c;02&#x201d;, and &#x201c;27&#x201d; representing the date of acquisition of the scanned image within the preview pane <b>1401</b> are input with &#x201c;. (Period)&#x201d; that is the delimiter token being sandwiched in between. In a case where the date of execution of the scan changes, the figures allocated to these system tokens change each time.</p><p id="p-0088" num="0087">At S<b>1702</b>, whether or not a custom token is included in the folder allocation rule acquired at S<b>1501</b> is determined. In a case where a custom token is included, the processing advances to S<b>1703</b> and in a case where no custom token is included, the processing advances to S<b>1705</b>. In the example described above, the custom token that takes &#x201c;Company name&#x201d; as the attribute name is included, and therefore, the processing advances to S<b>1703</b>.</p><p id="p-0089" num="0088">At S<b>1703</b> and S<b>1704</b>, processing to display the attribute value input filed <b>1405</b> for the custom token is repeated the number of times corresponding to the number of custom tokens included in the folder allocation rule. In the example described above, one custom token is included in the folder allocation rule, and therefore, one attribute value input field is displayed (see <figref idref="DRAWINGS">FIG. <b>14</b></figref>), but in a case where a plurality of custom tokens is included, a plurality of attribute value input fields is displayed. In a case where no custom token is included in the folder allocation rule (No at S<b>1702</b>), the attribute value input field is not displayed.</p><p id="p-0090" num="0089">At next S<b>1705</b>, the file name generated at S<b>1506</b> is displayed in the file name display area <b>1404</b> on the property setting screen <b>1400</b>. As described previously, in the example in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, &#x201c;{Estimate form}_20200227_{Company name}_1&#x201d; is displayed. In this case, for the system tokens of &#x201c;Year&#x201d;, &#x201c;Month&#x201d;, and &#x201c;Day&#x201d;, figures of &#x201c;2020&#x201d;, &#x201c;02&#x201d;, and &#x201c;27&#x201d; representing the date of acquisition of the scanned image within the preview pane <b>1401</b> are displayed in the state of being connected without using delimiters. Further, for the custom tokes that take &#x201c;Estimate form&#x201d; and &#x201c;Company name&#x201d; as the attribute names respectively, as described above, the character strings indicating the attribute names respectively are input temporarily.</p><p id="p-0091" num="0090">At S<b>1706</b>, whether or not a custom token is included in the file naming rule acquired at S<b>1502</b> is determined. In a case where a custom token is included, the processing advances to S<b>1707</b> and in a case where no custom token is included, this processing is exited. Here, as described above, the custom tokens that take &#x201c;Estimate form&#x201d; and &#x201c;Company name&#x201d; as the attribute names respectively are included, and therefore, the processing advances to S<b>1707</b>.</p><p id="p-0092" num="0091">At S<b>1707</b> and S<b>1708</b>, processing to display the attribute value input field <b>1406</b> for the custom token is repeated the number of times corresponding to the number of custom tokens included in the file naming rule. In the example described above, two custom tokens are included in the file naming rule, and therefore, two attribute value input fields <b>1406</b> are displayed (see <figref idref="DRAWINGS">FIG. <b>14</b></figref>). In a case where no custom token is included in the file naming rule (No at S<b>1706</b>), the attribute value input field <b>1406</b> is not displayed.</p><p id="p-0093" num="0092">The above is the contents of the property setting screen display processing. As described above, in the present embodiment, at the time of creating a rule for a folder path or a file name, it is possible to use a common token (custom token, system token). Then, even though a common token is used, the folder path and the file name are displayed in a distinct manner in the property pane <b>1402</b>.</p><p id="p-0094" num="0093"><figref idref="DRAWINGS">FIG. <b>18</b></figref> shows the way the attribute value of a custom token is input by a user on the property setting screen <b>1400</b> after the property setting screen display processing described above is completed. In the attribute value input fields <b>1405</b>/<b>1406</b> corresponding to each custom token, an attribute name <b>1801</b>, an attribute value <b>1802</b>, and a cutout image <b>1803</b> corresponding to the attribute value are displayed. In a case where a user has not selected yet a text block including the attribute value (character string) of the custom token from the preview pane <b>1401</b>, the attribute value <b>1802</b> is displayed as &#x201c;None (empty)&#x201d; as in the attribute value input field <b>1406</b> of the custom token that takes &#x201c;Estimate form&#x201d; as the attribute name. Further, the cutout image <b>1803</b> corresponding to the attribute value is also blank.</p><p id="p-0095" num="0094">A user who inputs the attribute value of a custom token first selects the attribute value input field of the target custom token from among the attribute value input fields displayed in the property pane <b>1402</b>. Here, in <figref idref="DRAWINGS">FIG. <b>18</b></figref>, the attribute value input field <b>1405</b> is selected and highlighted. In this state, a user designates (for example, performs the click operation for) a text block including the attribute value (character string) of a custom token from the scanned image displayed in the preview pane <b>1401</b>. The text block for which the click operation has been performed is highlighted by being attached with a fame line or a color within the preview pane <b>1401</b>. At the same time as this, in the attribute value input field <b>1405</b> being selected within the property pane <b>1402</b>, the character string included in the designated text block is displayed as the attribute value <b>1802</b>. At this time, in the attribute value <b>1802</b>, the value after the data extraction rule and the data verification rule set on the &#x201c;custom token normalization rule setting screen&#x201d; described previously are applied is displayed. Further, the image portion corresponding to the text block is displayed as the cutout image <b>1803</b> corresponding to the attribute value. In a case where the attribute value is input to the custom token, the contents thereof are reflected in the folder path display area <b>1403</b> and the file name display area <b>1404</b>.</p><p id="p-0096" num="0095">Here, with reference to a flowchart shown in <figref idref="DRAWINGS">FIG. <b>25</b></figref>, processing is explained in which the value of a text block selected by a user is input in the attribute value input field. In the following explanation, symbol &#x201c;S&#x201d; represents a step.</p><p id="p-0097" num="0096">First, at S<b>2501</b>, the selection operation of a text block by a user is detected. At S<b>2502</b> that follows, whether the attribute value input field is selected is determined. In a case where the attribute value input field is not selected, the processing returns to S<b>2501</b>. In a case where the attribute value input field is selected, the processing transitions to S<b>2503</b>.</p><p id="p-0098" num="0097">At S<b>2503</b>, an OCR character string of the text block selected by the user is acquired. Specifically, a request to analyze the text block related to the selection is transmitted from the cooperative service request unit <b>423</b> to the MFP cooperative server <b>120</b> and the image processing unit <b>432</b> performs OCR processing based on the request. Then, the results of execution of the OCR processing are returned to the cooperative service request unit <b>423</b> and the display control unit <b>421</b> acquires the execution results. For example, in the property pane <b>1402</b>, in the state where the attribute value input field <b>1405</b> of the custom token that takes &#x201c;Company name&#x201d; as the attribute value is selected, the user clicks a text block <b>1804</b> of &#x201c;Plastic Mold Inc.&#x201d; in the preview pane <b>1401</b>. Then, the OCR processing is performed for the text block <b>1804</b> as described above and &#x201c;Plastic Mold Inc.&#x201d; is acquired as the OCR character string.</p><p id="p-0099" num="0098">Following the above, at S<b>2504</b>, whether the character string extraction rule is set to the selected attribute value input field is determined. In a case where the rule is not set, the processing transitions to S<b>2507</b> and in a case where the rule is set, the processing transitions to S<b>2505</b>.</p><p id="p-0100" num="0099">At S<b>2505</b>, the character string extraction rule that is set is acquired. Here, it is assumed that the character string extraction rule whose contents are &#x201c;Delete &#x201c;Inc.&#x201d; included in the trade name&#x201d; is acquired. At S<b>2506</b> that follows, data that is the attribute value is extracted in accordance with the character string extraction rule from the OCR character string acquired at S<b>2503</b>. Here, the OCR character string of &#x201c;Plastic Mold Inc.&#x201d; is acquired, and therefore, &#x201c;Plastic Mold&#x201d; is extracted, which is obtained by excluding &#x201c;Inc.&#x201d; from &#x201c;Plastic Mold Inc.&#x201d;.</p><p id="p-0101" num="0100">At next S<b>2507</b>, the attribute value is input in the attribute value input field. Here, the character string of &#x201c;Plastic Mold&#x201d; is input in the attribute value input field <b>1405</b> as the attribute value. In a case where the attribute value is input as described above, the portion of &#x201c;{Company name}&#x201d; in the folder path display area <b>1403</b> is replaced with &#x201c;Plastic Mold&#x201d;. Further, in the file naming rule also, the custom token that takes &#x201c;Company name&#x201d; as the attribute name is set, and therefore, synchronization processing is performed for the attribute value input field <b>1406</b> thereof. That is, the portion of &#x201c;{Company name}&#x201d; in the file name display area <b>1404</b> is also replaced with &#x201c;Plastic Mold&#x201d; similarly. In a case where a method other than the method of designating an arbitrary text block from the preview pane <b>1401</b> is used, for example, in a case where the character string that is the attribute value is input manually by using a soft keyboard (not shown schematically) or the like, the synchronization processing is also performed. That is, irrespective of the input method of the attribute value, the same attribute value is set to the common custom tokens. In a case where the attribute value input field for the custom token for which the attribute value has already been set is selected and a text block different from the text block currently being designated is designated, the existing attribute value is overwritten by the attribute value newly input.</p><p id="p-0102" num="0101">Following the above, at S<b>2508</b>, whether the character string verification rule is set to the selected attribute value input field is determined. In a case where the rule is not set, the processing is terminated. In a case where the rule is set, the processing transitions to S<b>2509</b>. At S<b>2509</b>, the character string verification rule that is set is acquired. Then, at S<b>2510</b>, the attribute value that is input at S<b>2507</b> is verified in accordance with the character string verification rule acquired at S<b>2509</b>. In a case whether the attribute value is not correct as a result of the verification, the processing transitions to S<b>2511</b> and a message to the effect that the input attribute value is not correct is displayed (not shown schematically). On the other hand, in a case where there is no problem in the results of the verification, this processing is terminated.</p><p id="p-0103" num="0102">The user having completed the above-described processing for all the custom tokens presses down a &#x201c;Transmit&#x201d; button <b>1805</b>. Due to this, the data of the scanned image is sent from the MFP <b>110</b> to the MFP cooperative server <b>120</b> along with the information on the folder path and the file name, which are set on the property setting screen <b>1400</b>. Then, in the MFP cooperative server <b>120</b>, the storage server access unit <b>433</b> files the data of the scanned image by attaching the designated file name thereto by making use of the received information and data and stores the file in the designated folder of the cloud server <b>130</b>. In a case where the user presses down the &#x201c;Transit&#x201d; button <b>1805</b> in the empty state where the attribute value is not set to the custom token, the folder path and the file name are generated and stored with the portion of the attribute value being left empty. For example, the property setting screen <b>1400</b> in <figref idref="DRAWINGS">FIG. <b>18</b></figref> is in the state where no attribute value is set to the custom token that takes &#x201c;Estimate form&#x201d; as the attribute name. In a case where the &#x201c;Transit&#x201d; button <b>1805</b> is pressed down in this state, the MFP cooperative server <b>120</b> requests the storage server <b>130</b> to store the data of the scanned image being displayed in the preview pane <b>1401</b> under the following conditions.</p><p id="p-0104" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>storage destination folder:&#x201c;/tokita/Plastic Mold Inc./2020.02.27&#x201d; file name:&#x201c;_20200227_Plastic Mold Inc._1&#x201d;<?in-line-formulae description="In-line Formulae" end="tail"?></p><heading id="h-0025" level="2">&#x3c;Scan Profile&#x3e;</heading><p id="p-0105" num="0103">It is possible to set the folder allocation rule and the file naming rule, which are set as described above, for each of various scan workflows. Here, the scan workflow means a workflow for transmitting data of a scanned image obtained by scanning a document, such as a business form, to a specific transmission destination (for example, the storage server <b>130</b>) under specific conditions. Information on the conditions on each scan workflow and the transmission destination is managed by a scan profile. It is possible for a user to easily implement a desired scan workflow by creating in advance a scan profile.</p><p id="p-0106" num="0104"><figref idref="DRAWINGS">FIG. <b>19</b></figref> shows an example of a UI screen (in the following, called &#x201c;scan profile setting screen&#x201d;) for setting a scan profile, which is displayed on the operation unit <b>220</b> of the MFP <b>110</b> (or client PC <b>111</b>). A scan profile setting screen <b>1900</b> shown in <figref idref="DRAWINGS">FIG. <b>19</b></figref> includes a side menu area <b>1901</b> and a menu area <b>1902</b>. Then, in a case where a user selects &#x201c;Scan&#x201d; from items displayed in the side menu area <b>1901</b>, the screen transitions to a UI screen (in the following, called &#x201c;scan profile editing screen&#x201d;) for performing editing work, such as addition and deletion of a scan profile, to be described later. In the menu area <b>1902</b>, a plurality of icons corresponding to scan profiles is displayed. Each time a user creates a scan profile, an icon corresponding to the scan profile is added to the menu area <b>1902</b>. Further, in a case where a button <b>1903</b> located at the bottom part in the menu area <b>1902</b> is pressed down, an icon of another scan profile that has not been displayed is displayed and it is made possible to browse the icon.</p><p id="p-0107" num="0105">The scan profile setting screen <b>1900</b> shown in <figref idref="DRAWINGS">FIG. <b>19</b></figref> is a UI screen that is displayed in a case where a user having a user ID of &#x201c;user a&#x201d; logs in to the MFP <b>110</b>. It may also be possible to make scan profiles to be displayed different for different users who log in, or a scan profile available in a sharing manner to a plurality of users may exist.</p><p id="p-0108" num="0106">It is assumed that a user selects an icon corresponding to an arbitrary scan profile on the scan profile setting screen <b>1900</b> and then gives instructions to perform a scan. Then, the property setting screen <b>1400</b> is displayed on which to determine a folder name and a file name in accordance with the folder allocation rule and the file naming rule corresponding to the selected scan profile. For example, it is assumed that the following folder allocation rule and the file naming rule are associated with the scan profile indicated by an icon <b>1904</b>.</p><p id="p-0109" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>folder allocation rule:&#x201c;/{Display name of login user}/{Company name}/{Year} {Month} {Day}/&#x201d;file naming rule:&#x201c;{Estimate form}_{Year} {Month} {Day}_{Company name}&#x201d;<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0110" num="0107">In this case, the scanned image that is generated after the icon <b>1904</b> is selected is displayed in the preview pane <b>1401</b> on the property setting screen <b>1400</b>. Then, the folder allocation rule of the above-described contents associated with the scan profile corresponding to the selected icon <b>1904</b> is displayed in the folder path display area <b>1403</b>. Further, the file naming rule of the above-described contents associated with the same scan profile is displayed in the file name display area <b>1404</b>.</p><heading id="h-0026" level="2">&#x3c;&#x3c;Creation of Scan Profile&#x3e;&#x3e;</heading><p id="p-0111" num="0108">Next, a method of creating a scan profile is explained. It is made for a user to display a UI screen (in the following, described as &#x201c;editing screen&#x201d;) for editing a scan profile as shown in <figref idref="DRAWINGS">FIG. <b>20</b></figref> by logging in to the MFP cooperative server <b>120</b> via, for example, the client PC <b>111</b> and by the screen transition from a main screen (not shown schematically) that is displayed after the login. An editing screen <b>2000</b> shown in <figref idref="DRAWINGS">FIG. <b>20</b></figref> includes a menu list are <b>2001</b>, a profile list area <b>2002</b>, and a profile setting area <b>2003</b>. In the profile list area <b>2002</b>, a scan profile currently being created or a list of created scan profiles is displayed. In the profile setting area <b>2003</b>, the setting contents of the scan profile selected by a user form the list displayed in the profile list area <b>2002</b> are displayed. The profile list area <b>2002</b> and the profile setting area <b>2003</b> are displayed by selecting the item &#x201c;Scan profile&#x201d; within the menu list area <b>2001</b>.</p><p id="p-0112" num="0109">Further, in a case where a button <b>2004</b> located at the top part on the editing screen <b>2000</b> is pressed down, a UI screen (in the following, described as &#x201c;addition screen&#x201d;) for adding a scan profile as shown in <figref idref="DRAWINGS">FIG. <b>21</b></figref> is displayed on the editing screen <b>2000</b> in an overlapping manner and it is made possible to add a new scan profile. On an addition screen <b>2100</b> shown in <figref idref="DRAWINGS">FIG. <b>21</b></figref>, a plurality of setting tabs <b>2012</b> exists and in a case where one tab is selected therefrom, a plurality of setting items included in the tab is displayed. The example in <figref idref="DRAWINGS">FIG. <b>21</b></figref> shows the state where the setting items in a case where the tab of &#x201c;Output Setting&#x201d; is selected. In &#x201c;File name prefix&#x201d; <b>2101</b> among the displayed setting items, a &#x201c;Setting of file naming rule&#x201d; button <b>2103</b> is displayed. By pressing down the &#x201c;Setting of file naming rule&#x201d; button <b>2103</b>, the File Naming Rule setting screen <b>1300</b> described previously is displayed and it is made possible to create and edit the file naming rule.</p><p id="p-0113" num="0110"><figref idref="DRAWINGS">FIG. <b>22</b></figref> shows the state where the setting items in a case where the tab of &#x201c;Setting of Workflow&#x201d; within the addition screen <b>2100</b> in <figref idref="DRAWINGS">FIG. <b>21</b></figref> is selected are displayed. The displayed setting items include a &#x201c;Setting of rule of storage destination folder&#x201d; button <b>2201</b> and by selecting the button <b>2201</b>, the folder allocation rule setting screen <b>500</b> described previously is displayed. At this time, in a case where the folder allocation rule is already created, on the periphery of (in the example in <figref idref="DRAWINGS">FIG. <b>10</b></figref> described previously, directly above) the &#x201c;Setting of rule of storage destination folder&#x201d; button <b>2201</b>, the already-created folder allocation rule is displayed.</p><p id="p-0114" num="0111">Further, in a case where an &#x201c;Add&#x201d; button <b>2104</b> existing in the addition screen <b>2100</b> is pressed down after setting various kinds of information on the scan profile, the addition screen <b>2100</b> closes and this time, the screen switches to a UI screen (in the following, called &#x201c;transmission destination setting screen&#x201d;) for setting the transmission destination of the data of the scanned image that has been filed. <figref idref="DRAWINGS">FIG. <b>23</b></figref> shows an example of the transmission destination setting screen. On a transmission destination setting screen <b>2300</b> shown in <figref idref="DRAWINGS">FIG. <b>23</b></figref>, a plurality of transmission destinations is displayed in a list and in a case where one of them is selected, information on the transmission destination relating to the selection is stored in association with the scan profile currently being created.</p><p id="p-0115" num="0112">In a case where the information of the requisite minimum for implementing a scan workflow is set as described above, the screen returns to the editing screen <b>2000</b> in <figref idref="DRAWINGS">FIG. <b>20</b></figref>. At that time, in the profile list area <b>2002</b>, a newly created scan profile is added and displayed.</p><heading id="h-0027" level="2">&#x3c;Modification Example&#x3e;</heading><p id="p-0116" num="0113">Next, an aspect is explained as a modification example in which it is made possible for a user to more easily set the character string verification rule and the character string extraction rule for the custom token to which a specific attribute name whose use frequency is high, such as &#x201c;Company name&#x201d; and &#x201c;Date&#x201d;, is attached. Here, the specific custom token according to this modification example is called &#x201c;attribute type custom token&#x201d;.</p><p id="p-0117" num="0114"><figref idref="DRAWINGS">FIG. <b>26</b></figref> shows the state of the folder allocation rule setting screen <b>500</b> in a case where an attribute type custom token <b>2601</b> that takes &#x201c;Company name &#x201d; as the attribute name thereof is dropped into the token drop area. Here, under the dropped custom token, a context menu <b>2602</b> is displayed in a pulldown format. In this context menu <b>2602</b>, radio buttons <b>2602</b><i>a </i>to <b>2602</b><i>c </i>exist. Each radio button corresponds to &#x201c;Set normalization rule of data&#x201d;, &#x201c;Delete trade name (Delete characters such as &#x201c;Inc.&#x201d; included in trade name), and &#x201c;Not set normalization rule of data&#x201d;. For example, a user who desires to set the data normalization rule selects the radio button <b>2602</b><i>a. </i>Then, the character string verification rule and/or the character string extraction rule associated in advance with the attribute type custom token is set. Due to this, it is possible for a user to easily set a desired custom token to which the character string verification rule and/or the character string extraction rule is attached. On the other hand, in a case where the radio button <b>2602</b><i>c </i>is selected, the normalization rule is not set to the dropped attribute type custom token. In a case where the radio button <b>2602</b><i>b </i>is selected, the setting to automatically delete characters, such as &#x201c;Inc.&#x201d; included in the trade name, is performed for the dropped attribute type custom token.</p><p id="p-0118" num="0115">It may also be possible to change the display aspect of the attribute type custom token depending on the scan profile selected by a user and the scan-target document type. For example, in a case where a scan profile for a business card scan is created, as the attribute type custom token that can be used for the folder allocation rule and the file naming rule, only &#x201c;Company name&#x201d;, &#x201c;Division&#x201d;, &#x201c;Name&#x201d;, &#x201c;Telephone number&#x201d;, and &#x201c;Mail address&#x201d; are displayed, and so on. Further, it may also be possible to provide a text field so that a user can freely customize a regular expression or the like in a case where a desired rule does not exist among alternatives within the context menu.</p><p id="p-0119" num="0116">Furthermore, it may also be possible to enable a user to set the normalization rule to the custom token at timing of selecting a text block in the preview pane <b>1401</b> on the property setting screen <b>1400</b>. <figref idref="DRAWINGS">FIG. <b>27</b></figref> shows the property setting screen <b>1400</b> in a case where the attribute type custom token that takes &#x201c;Company name&#x201d; as the attribute name thereof is set to the folder allocation rule and the file naming rule. Here, the state is such that an attribute value input field <b>2701</b> is selected and highlighted. In a case where a user places a mouse over a text block <b>2702</b> in this state, a pop-up menu <b>2073</b> is displayed under the text block <b>2702</b>. At this time, the contents displayed in the pop-up menu <b>2703</b> are the character string verification rule and/or the character string extraction rule associated in advance with the attribute type custom token of &#x201c;Company name&#x201d;. In this example, it is possible for a user to set the normalization rule to delete the characters of &#x201c;Inc.&#x201d; included in the trade name by selecting &#x201c;Delete trade name&#x201d; within the displayed pop-up menu. It may also be possible to enable a user to perform the setting of the normalization rule at the time of inputting an attribute value.</p><p id="p-0120" num="0117">According to this modification example, time and effort at the time of setting the normalization rule to a custom token are saved, and therefore, it is made possible for a user to more easily make use of the character string verification rule and the character string extraction rule.</p><p id="p-0121" num="0118">As above, according to the present embodiment, it is possible for a user to easily create and edit the folder allocation rule and the file naming rule necessary at the time of filing a document scanned image or the like and storing the file.</p><heading id="h-0028" level="2">[Other Embodiments]</heading><p id="p-0122" num="0119">Embodiment(s) of the present disclosure can also be realized by a computer of a system or apparatus that reads out and executes computer executable instructions (e.g., one or more programs) recorded on a storage medium (which may also be referred to more fully as a &#x2018;non-transitory computer-readable storage medium&#x2019;) to perform the functions of one or more of the above-described embodiment(s) and/or that includes one or more circuits (e.g., application specific integrated circuit (ASIC)) for performing the functions of one or more of the above-described embodiment(s), and by a method performed by the computer of the system or apparatus by, for example, reading out and executing the computer executable instructions from the storage medium to perform the functions of one or more of the above-described embodiment(s) and/or controlling the one or more circuits to perform the functions of one or more of the above-described embodiment(s). The computer may comprise one or more processors (e.g., central processing unit (CPU), micro processing unit (MPU)) and may include a network of separate computers or separate processors to read out and execute the computer executable instructions. The computer executable instructions may be provided to the computer, for example, from a network or the storage medium. The storage medium may include, for example, one or more of a hard disk, a random-access memory (RAM), a read only memory (ROM), a storage of distributed computing systems, an optical disk (such as a compact disc (CD), digital versatile disc (DVD), or Blu-ray Disc (BD)&#x2122;), a flash memory device, a memory card, and the like.</p><p id="p-0123" num="0120">According to the technique of the present disclosure, it is made possible to more easily set the rule relating to folder allocation and file naming at the time of filing data, such as a document scanned image and a received facsimile, and storing the file.</p><p id="p-0124" num="0121">While the present disclosure has been described with reference to exemplary embodiments, it is to be understood that the disclosure is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all such modifications and equivalent structures and functions.</p><p id="p-0125" num="0122">This application claims the benefit of Japanese Patent Applications No. 2020-061446, filed Mar. 30, 2020 and No. 2020-172746, filed Oct. 13, 2020 which are hereby incorporated by reference wherein in their entirety.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-01-12" num="01-12"><claim-text><b>1</b>-<b>12</b>. (canceled)</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. An information processing apparatus for storing a file to a folder, the apparatus comprising:<claim-text>a memory that stores a program; and</claim-text><claim-text>a processor that executes the program to perform:</claim-text><claim-text>controlling a display of a user interface screen for setting a rule relating to property information that is used for storing the file to the folder,</claim-text><claim-text>wherein:</claim-text><claim-text>the user interface screen includes a first area for editing the rule and a second area displaying items a user can select,</claim-text><claim-text>the items include a general item corresponding to a predetermined attribute and a particular item corresponding to an arbitrary attribute name that a user can input,</claim-text><claim-text>the rule is set by performing a drag operation of at least one of the items from the second area and performing a drop operation of the dragged item into the first area by a user, and</claim-text><claim-text>the particular item having the input attribute name is arranged at a position designated with the dropped operation in the rule which being displayed in the first area in a case where the particular item is dragged and dropped from the second area into the first area and the arbitrary attribute name of the dragged and dropped particular item is input by the user; and</claim-text><claim-text>setting a normalization rule for the particular item having the input attribute name, wherein the set normalization rule is used for normalize a character string to be used for the property information.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The information processing apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the general item corresponds to an environment variable of the user or a delimiter.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The information processing apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the particular item having the input attribute name is further added to the second area, and<claim-text>wherein, in a case where the particular item having the input attribute name is added to the second area on the user interface screen for setting a rule relating to first property information, the particular item having the input attribute name is further displayed in a second area of a user interface screen for setting a rule relating to second property information different from the first property information.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The information processing apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the position where the dragged item is to be dropped in the first area is a position prepared in advance for performing the drop operation.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The information processing apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the property information include a folder path of the folder, and<claim-text>the rule is a rule to specify one or a plurality of character strings to be used for the folder path of the folder.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The information processing apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the property information includes a file name of the file to be stored, and<claim-text>the rule is a rule to specify one or a plurality of character strings to be used for the file name of the file.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The information processing apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the file is scanned data acquired from an information processing apparatus having at least a scan function.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The information processing apparatus according to <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the scanned data is stored in the folder managed by an external server in accordance with the rule.</claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. The information processing apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the set normalization rule is a rule for extracting and/or deleting a specific character from a character string to be used for the property information.</claim-text></claim><claim id="CLM-00022" num="00022"><claim-text><b>22</b>. The information processing apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the processor executes the program to further perform:<claim-text>notifying, in a case where the input arbitrary attribute name is not in conformity to a specified format when the arbitrary attribute name of the dragged and dropped particular item is input by the user, a user of that.</claim-text></claim-text></claim><claim id="CLM-00023" num="00023"><claim-text><b>23</b>. A non-transitory computer readable storage medium storing a program performing a control method for causing a computer to store a file to a folder, the control method comprising:<claim-text>controlling a display of a user interface screen for setting a rule relating to property information that is used for storing the file to the folder,</claim-text><claim-text>wherein:</claim-text><claim-text>the user interface screen includes a first area for editing the rule and a second area displaying items a user can select,</claim-text><claim-text>the items include a general item corresponding to a predetermined attribute and a particular item corresponding to an arbitrary attribute name that a user can input,</claim-text><claim-text>the rule is set by performing a drag operation of at least one of the items from the second area and performing a drop operation of the dragged item into the first area by a user, and</claim-text><claim-text>the particular item having the input attribute name is arranged at a position designated with the dropped operation in the rule which being displayed in the first area in a case where the particular item is dragged and dropped from the second area into the first area and the arbitrary attribute name of the dragged and dropped particular item is input by the user; and</claim-text><claim-text>setting a normalization rule for the particular item having the input attribute name, wherein the set normalization rule is used for normalize a character string to be used for the property information.</claim-text></claim-text></claim><claim id="CLM-00024" num="00024"><claim-text><b>24</b>. A control method of an information processing apparatus for storing a file to a folder, the control method comprising:<claim-text>controlling a display of a user interface screen for setting a rule relating to property information that is used for storing the file to the folder,</claim-text><claim-text>wherein:</claim-text><claim-text>the user interface screen includes a first area for editing the rule and a second area displaying items a user can select,</claim-text><claim-text>the items include a general item corresponding to a predetermined attribute and a particular item corresponding to an arbitrary attribute name that a user can input,</claim-text><claim-text>the rule is set by performing a drag operation of at least one of the items from the second area and performing a drop operation of the dragged item into the first area by a user, and</claim-text><claim-text>the particular item having the input attribute name is arranged at a position designated with the dropped operation in the rule which being displayed in the first area in a case where the particular item is dragged and dropped from the second area into the first area and the arbitrary attribute name of the dragged and dropped particular item is input by the user; and</claim-text><claim-text>setting a normalization rule for the particular item having the input attribute name, wherein the set normalization rule is used for normalize a character string to be used for the property information.</claim-text></claim-text></claim></claims></us-patent-application>