<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230003193A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230003193</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17856732</doc-number><date>20220701</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>DK</country><doc-number>PA 2021 70346</doc-number><date>20210701</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>F</section><class>03</class><subclass>D</subclass><main-group>7</main-group><subgroup>04</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>F</section><class>03</class><subclass>D</subclass><main-group>1</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>F</section><class>03</class><subclass>D</subclass><main-group>7</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>F</section><class>03</class><subclass>D</subclass><main-group>7</main-group><subgroup>045</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>F</section><class>03</class><subclass>D</subclass><main-group>1</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>F</section><class>03</class><subclass>D</subclass><main-group>7</main-group><subgroup>0204</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>F</section><class>05</class><subclass>B</subclass><main-group>2270</main-group><subgroup>404</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>F</section><class>05</class><subclass>B</subclass><main-group>2270</main-group><subgroup>326</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>F</section><class>05</class><subclass>B</subclass><main-group>2270</main-group><subgroup>328</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>F</section><class>05</class><subclass>B</subclass><main-group>2270</main-group><subgroup>331</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">CONTROL OF A MULTI-ROTOR WIND TURBINE SYSTEM USING LOCAL MPC CONTROLLERS</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>VESTAS WIND SYSTEMS A/S</orgname><address><city>Aarhus N.</city><country>DK</country></address></addressbook><residence><country>DK</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>NETO</last-name><first-name>Julio Xavier Vianna</first-name><address><city>Aarhus N</city><country>DK</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>SOWMAN</last-name><first-name>Jon</first-name><address><city>Aarhus N</city><country>DK</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">Control of a multi-rotor wind turbine system. A local controller is arranged for each wind turbine module and implementing a local model predictive control (MPC) routine. A central controller is arranged to determine a set of operational constraints of the wind turbine modules. Based on a current operational state of the wind turbine module and the set of operational constraints, one or more predicted operational trajectories are calculated and used for controlling the wind turbine module.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="191.52mm" wi="158.75mm" file="US20230003193A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="157.31mm" wi="121.33mm" file="US20230003193A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="207.60mm" wi="156.21mm" file="US20230003193A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="211.67mm" wi="153.50mm" file="US20230003193A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="224.62mm" wi="168.91mm" file="US20230003193A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="115.57mm" wi="142.66mm" file="US20230003193A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">FIELD OF THE INVENTION</heading><p id="p-0002" num="0001">The present invention relates to control of a multi-rotor wind turbine system. In particular, the invention is directed to a system using local controllers for operation of the respective ones of the wind turbine modules using model predictive control (MPC) together with a central controller.</p><heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading><p id="p-0003" num="0002">There exist a number of wind turbine types or designs. A common type of wind turbine is the three-bladed upwind horizontal-axis wind turbine (HAWT), in which the turbine rotor is at the front of the nacelle and facing the wind upstream of its supporting turbine tower. Another type is the multi-rotor array type wind turbine, where a plurality of wind turbine modules are mounted to a common support structure.</p><p id="p-0004" num="0003">EP3274584 discloses a multi-rotor wind turbine in which a plurality of wind turbine modules are mounted to a common support structure. In general, a multi-rotor wind turbine may achieve the economy of scale that can be obtained with a very large single rotor turbine, but has the potential to avoid the associated drawbacks such as high blade mass, scaled up power electronic components and so on.</p><p id="p-0005" num="0004">Nevertheless, although multi-rotor wind turbine has its advantages, it presents challenges to implement the concept in practice, particularly in how to control the multiple rotors in a robust and simple manner. EP3274584 approaches the control strategy using a control system for a multi-rotor wind turbine system which comprises local controllers operable to control the wind turbine modules in accordance with local control objectives and a central controller configured to monitor the operation of the wind turbine system and based thereon calculate the local control objectives. The central controller is implemented as a model predictive controller (MPC).</p><p id="p-0006" num="0005">It is against this background that the invention has been devised.</p><heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading><p id="p-0007" num="0006">It would be advantageous to control a wind turbine multi-rotor system in a manner where local controllers of the wind turbine modules can operate with different wind turbine systems, in particular it would be advantageous to provide a control system for a multi-rotor wind turbine system which is robust to using local controllers which is arranged for either operation of a single rotor turbine or operation of a wind turbine module in a multi-rotor turbine, and where the control system of the wind turbine modules can be used for different support structure constructions in a simple manner.</p><p id="p-0008" num="0007">Accordingly, in a first aspect, there is provided a control system for a wind turbine system comprising two or more wind turbine modules mounted to a common support structure, the control system comprises:<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0008">a local controller arranged for each wind turbine modules, and implementing a local model predictive control (MPC) routine;</li>        <li id="ul0002-0002" num="0009">a central controller being in communicative connection with each local controller, the central controller being arranged to determine a set of operational constraints of the wind turbine modules;</li>        <li id="ul0002-0003" num="0010">wherein the local MPC routine being arranged for receiving a current operational state of the wind turbine module and based on the current operational state and the set of operational constraints, calculate one or more predicted operational trajectories, the one or more predicted operational trajectories include a predicted control trajectory, where a trajectory comprises a time series of at least one variable;</li>        <li id="ul0002-0004" num="0011">controlling the wind turbine module using the control trajectory.</li>    </ul>    </li></ul></p><p id="p-0009" num="0012">The present invention relates to control of a wind turbine system comprising two or more wind turbine modules mounted to a common support structure. The system may also be referred to as a multi-rotor wind turbine system, multi-rotor wind power system or simply as a multi-rotor wind turbine.</p><p id="p-0010" num="0013">In the present invention, the operation of the wind turbine system is based on local controllers arranged for each wind turbine modules, and each implementing a local model predictive control (MPC) routine.</p><p id="p-0011" num="0014">Advantageously, the system of the invention enables the individual wind turbine modules to optimise their own performance based on the current operational state of the wind turbine module and the set of operational constraints. Utilizing the current operational state of the wind turbine module in the optimization ensures that the MPC routine can be implemented without being dependent on whether the local controller is controlling a single rotor turbine or a wind turbine module of a multi-rotor turbine. For example by utilizing the current operational state of the wind turbine module, the MPC may advantageous be implemented with a cost function which can be utilized irrespectively of the type of wind turbine system. In this manner, the local controller is provided with the responsibility of ensuring optimized control of the wind turbine module to which it is arranged, and the central controller is provided with the responsibility of ensuring that each wind turbine module adhere to safe operation within a structural permissible load envelope.</p><p id="p-0012" num="0015">The set of operational states may be set to ensure the structural integrity of the common support structure. Important constraints include a constraint on one or more of the following: a pitch constraint, a blade load constraint, a rotor thrust constraint, an output power constraint, a rotor speed constraint, a selected component load and/or a selected component load temperature. These constraints are all specific to the wind turbine module and can be tailored to ensure the structural integrity of the common support structure without including terms in the cost function which are specific to a given design of the support structure. This is advantageous since it reduces the amount of adaptation needed for a given local controller to be used with different support structures designs.</p><p id="p-0013" num="0016">Other constraints may be on the tower bending moment. In general constraints may be set for a parameter determined based on sensor signals or set for specific sensor signals.</p><p id="p-0014" num="0017">Constraints on rotor thrust difference between wind turbine modules arranged at the same level, or on rotor thrust difference between sets of wind turbine modules arranged at different levels may also be set in a manner where the constraint itself is not set on a given difference between modules, instead the central controller ensures that constraints are coordinated across different elements of the multi-rotor system.</p><p id="p-0015" num="0018">The set of constraints may comprise hard constraints as well as soft constraints. In addition to setting constraints to influence the control actions, penalties on performing certain control actions may also be included in the cost function. For example, a penalty in the cost function may be imposed on wind turbine module speed in the fore-aft direction. This would favour control actions in the optimization that would dampen the module movement in this direction.</p><p id="p-0016" num="0019">In embodiments, constraints may also be set which would require terms in the cost function specific to the support structures. In an embodiment where the wind turbine modules are mounted on an arm structure extending from a central tower, an important constraint may be on a yaw moment being below a yaw moment limit, the yaw moment being the moment imposed on a yaw system arranged at the common support structure.</p><p id="p-0017" num="0020">Further constraints may include support structure load constraints, such as constraints on the displacement of a given element of the wind turbine system, and arm bending moment constraints, constraints on support structures, such as constrains on support wires e.g. on strain sensor signals.</p><p id="p-0018" num="0021">For a multi-rotor turbine there may be a need for coordinated and synchronized operation. For example, shut-down of a wind turbine module or start-up of a wind turbine module, may beneficially be done synchronous or with a specified timing, to ensure the loads that may be imposed from the un-balanced forces that may arise from such operational state changes are below a certain level. In an embodiment, this may be achieved by arranging the central controller to provide timing commands instructing the local controller to enter an operational state or change an operational state at a time specified in the timing command.</p><p id="p-0019" num="0022">An advantage of the present invention is that the central controller may be a black-box controller being arranged to determine a set of operational constraints of the wind turbine modules. The local controllers of the wind turbine modules may be independent computing entities which communicate with the central controller via a communication interface. The local controllers implement a model predictive control (MPC) routine. The central controller may advantageous be implemented as a control loop feedback controller. A control loop feedback controller may be a PI or PID controller or any other controller of such type. In general, the central controller may be implemented to operate any suitable controller type, including being implemented as a model predictive controller. In addition, or as an alternative the central controller may be implemented as an open loop controller. In open loop control, the central controller may be implemented to set a given constraint, or change a given constraint based on an input signal. For example, if a given operational state is detected, a set of constraints may be set which is adapted to this state. As a concrete example, in a shutdown or start-up operational state, specific thrust constraints may be set which are different from constraints set in a production state.</p><p id="p-0020" num="0023">The central controller may in addition to determining the set of constraints be arranged to control a yaw position of a yaw system arranged at the common support structure, including upwind yaw control where a yaw error is minimized based on a wind direction input.</p><p id="p-0021" num="0024">Model Predictive Control (MPC) is a multivariable control algorithm that uses an optimization cost function over the receding prediction horizon, to calculate the optimal control moves. The model predictive control routine repeatedly calculates the receding horizon trajectory for the wind turbine module. In an embodiment the predicted control actions are inferred from values of the prediction horizon, and the set of operational constraints is determined based on the receding horizon trajectory for the wind turbine module. In this manner, an undesired condition or state may be avoided by adjusting the constraints, and thereby the operation, to a condition which will occur with a high likelihood if no actions are taken.</p><p id="p-0022" num="0025">In an embodiment, the cost function of the model predictive control routine comprises elements directed to isolated operation of the wind turbine module without taking cross-coupling of the operation of another wind turbine module into account. This may be advantageous as the computational requirements to the solver may be reduced.</p><p id="p-0023" num="0026">Model Predictive Control (MPC) is based on optimization of a cost function taking the set of constraints into account. In embodiments, the cost function includes one or more terms directed to the motion of the wind turbine module. In this manner, control actions which would infer large movement or undesired movement of a module can be penalized in the optimization.</p><p id="p-0024" num="0027">In an embodiment the cost function of the local model predictive control routine comprises a structural model for predicting the motion of the wind turbine module of the local controller, the structural model includes a structural model of the wind turbine system taking into account an aerodynamic force applied to the wind turbine module of the local controller without taking into account aerodynamic forces applied to other wind turbine modules of the wind turbine system. In this manner aerodynamic forces imposed on other wind turbine modules may be treated in the structural model as unknown disturbances. This may reduce the computational requirements. In an embodiment, the structural model may be simplified as a single rotor tower designed with the same, or similar, eigenfrequency as the lowest eigenfrequency of the multi-rotor support structure. Such embodiment may roughly encapsulate fore-aft motion of a wind turbine module, and thereby enable structural damping in this direction.</p><p id="p-0025" num="0028">Advantageously, the structural model is defined by a number of pre-determined mode shapes for the movement of the wind turbine system.</p><p id="p-0026" num="0029">The structural model may be arranged for predicting the fore-aft motion of the wind turbine module of the local controller. Fore-aft motion of the wind turbine may be controlled using collective pitch by coordinating rotor thrust changes with the module movement. In an embodiment, the MPC is implemented to control collective pitch and thereby the MPC controller can be utilized also to influence motion in the fore-aft direction.</p><p id="p-0027" num="0030">In an embodiment, the structural model may be arranged for predicting motion in the rotor plane of the wind turbine module of the local controller. Motion in the rotor plane of the wind turbine module may be controlled using individual pitch by coordinating pitch movement to generate an in-plane force. In an embodiment, the MPC is implemented to control individual pitch and thereby the MPC controller can be utilized also to influence the in-plane motion of the wind turbine module. In-plane motion may also be influenced by imposing control actions on the generator power or torque. This aspect may alternatively or additionally be included in the structural model to handle damping of in-plane motion.</p><p id="p-0028" num="0031">In a further aspect, the invention also relates to a multi-rotor wind turbine system. That is the invention relates to a wind turbine system comprising a plurality of wind turbine modules mounted to a common support structure, wherein each of the plurality of wind turbines modules includes a rotor and a power generation system driven by the rotor. The wind turbine system comprises a control system in accordance with the first aspect of the invention.</p><p id="p-0029" num="0032">In an even further aspect, the invention also relates to a method of controlling a multi-rotor wind turbine system in accordance with any one of the other aspects.</p><p id="p-0030" num="0033">In a yet further aspect, the invention also relates to a computer program product comprising software code adapted to control a multi-rotor wind turbine system when executed on a data processing system in accordance with any one of the other aspects.</p><p id="p-0031" num="0034">The computer program product may be provided on a computer readable storage medium or being downloadable from a communication network. The computer program product comprises instructions to cause a data processing system, e.g. in the form of a controller, to carry out the instruction when loaded onto the data processing system.</p><p id="p-0032" num="0035">In general the various embodiments and aspects of the invention may be combined and coupled in any way possible within the scope of the invention. These and other aspects, features and/or advantages of the invention will be apparent from and elucidated with reference to the embodiments described hereinafter.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0033" num="0036">Embodiments of the invention will be described, by way of example only, with reference to the drawings, in which:</p><p id="p-0034" num="0037"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates an embodiment of a multi-rotor wind turbine system;</p><p id="p-0035" num="0038"><figref idref="DRAWINGS">FIG. <b>2</b></figref> schematically illustrates an embodiment of a control system together with elements of wind turbine modules;</p><p id="p-0036" num="0039"><figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates a general control scheme in accordance with embodiments of the present invention;</p><p id="p-0037" num="0040"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows general aspects of MPC routines implemented in two local controllers;</p><p id="p-0038" num="0041"><figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates an embodiment where the cost function of the local model predictive control routine comprises a structural model; and</p><p id="p-0039" num="0042"><figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates examples of selected mode shapes of a schematic multi-rotor wind turbine system.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DESCRIPTION OF EMBODIMENTS</heading><p id="p-0040" num="0043"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates an embodiment of a multi-rotor wind turbine system <b>1</b> comprising a plurality of wind turbine modules <b>2</b> mounted to a common support structure <b>3</b>. Each wind turbine module <b>2</b> is a wind turbine generating entity, and may in principle be the generating part of a common single-rotor wind turbine including rotor, generator, converter, etc., while the support structure <b>3</b> is a tower <b>4</b> comprising a support arm arrangements <b>5</b> for holding the wind turbine modules.</p><p id="p-0041" num="0044">Each support arm arrangement <b>5</b> is mounted to the tower <b>4</b> at a mount portion (here shown together with a central yaw system <b>6</b>) so that the support arm arrangement is able to rotate about the vertical axis of the tower. The yaw system typically includes a yaw drive capable of rotating the wind turbine modules around the tower. In embodiments, each of the wind turbine modules are fixed to the support arm and rotate/yaw as a pair around the tower, however each wind turbine module may also further comprise a dedicated yaw drive <b>7</b> for individual yaw of the module, either as an alternative to, or as an addition to, the central yaw system <b>6</b>. The arm structures are shown to be horizontal, however the arms may be arranged in different orientations, including a configuration where the arms are inclined upwards. Moreover, the structure may be provided with further support structures, including support wires.</p><p id="p-0042" num="0045">Each wind turbine module <b>2</b> includes a rotor that is rotatably mounted to a nacelle <b>8</b> in the usual way. The rotor has a set of three blades <b>9</b> in this embodiment. Three-bladed rotors are a common rotor configuration, but different numbers of blades are also known, including two bladed turbines. Thus, the wind turbine modules <b>2</b> are each able to generate power from the flow of wind that passes through the swept area or &#x2018;rotor disc&#x2019; associated with the rotation of the blades.</p><p id="p-0043" num="0046"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates an embodiment with four wind turbine modules <b>2</b>, where the turbine modules are arranged in two layers. Other configuration of multi-rotor turbines exists, hereunder systems comprising less or more wind turbines modules. One specific example is a multi-rotor system comprising two wind turbine modules arranged in the same layer.</p><p id="p-0044" num="0047"><figref idref="DRAWINGS">FIG. <b>2</b></figref> schematically illustrates an embodiment of a control system together with elements of wind turbine modules. The figure illustrates local controllers <b>20</b> arranged for each wind turbine module, and implementing a local model predictive control (MPC) routine. The local CTRL is illustrated to be placed in the respective wind turbine module, however in general it may be implemented for controlling a given wind turbine module, but physically placed at a different location, or be split into different physical locations. For example, at least part of a local controller may be placed in the tower section. A central controller <b>21</b> is arranged to be in communicative connection with each local controller <b>20</b>. The central controller is illustrated to be placed in the yaw system. However, it may alternatively be placed at a platform located in the tower.</p><p id="p-0045" num="0048">While not illustrated, each wind turbine module is further comprising elements such as an electrical generator mechanically connected to the rotor, either via a gearbox or via a direct drive connection. The electrical power generated by the generator is injected into a power grid via an electrical converter. The electrical generator can be a doubly fed induction generator or a full-scale converter, but other generator types may be used. Moreover, other embodiments exist for the grid connection, such as embodiments where a shared converter is used for all wind turbine modules of the multi-rotor wind turbine. Each wind turbine module may be directly connected to the grid or may be connected via an intermediate connection station.</p><p id="p-0046" num="0049">The control system comprises a number of elements, including processors and memory elements, so that the processor is capable of executing computing tasks based on instructions stored in the memory, as well as performing computing tasks. In general, the local controller ensures that in operation the wind turbine generates a requested power output level as defined by the local control objectives. This is obtained by adjusting the pitch angle and/or the power extraction of the converter. To this end, the local control system <b>20</b> comprises or is connected to a pitch system <b>22</b> including a pitch controller using a pitch reference, and a power system including a power controller using a power reference. The wind turbine rotor comprises rotor blades that can be pitched by a pitch mechanism. The rotor may comprise a common pitch system which adjusts all pitch angles on all rotor blades at the same time, as well as in addition thereto an individual pitch system which is capable of individual pitching of the rotor blades.</p><p id="p-0047" num="0050"><figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates a general control scheme in accordance with embodiments of the present invention. The central controller <b>21</b> determines a set of operational constraints <b>30</b> of the wind turbine modules, which are provided as input to the local controller <b>20</b> for use by the local MPC routine. The local MPC routine further receives a current operational state <b>31</b> of the wind turbine module. Based on the current operational state <b>31</b> and the set of operational constraints <b>30</b>, one or more predicted operational trajectories <b>43</b>, <b>44</b> are calculated. The one or more predicted operational trajectories include a predicted control trajectory <b>44</b>. Current or predicted operational conditions of the local controller, e.g. such information as thrust, pitch, deflection state, blade load, etc. of the wind turbine module may be provided <b>33</b> to the central controller. The central controller <b>21</b> is implemented to determine the set of operational constraints <b>30</b>.</p><p id="p-0048" num="0051">The local controllers <b>20</b> are arranged to calculate the control trajectory for the wind turbine module. To this end, the local controller monitors, or receives monitor signals <b>31</b>, <b>32</b> related to the operation of the wind turbine system. Such monitor signals may e.g. be the various output signals from the various local system elements, however it could also be other signals e.g. directed to sensor signals, actuator signals, set-points, meteorological data, and signals from other wind turbine systems. In general, any signal which can be used for defining the operational state of the wind turbine system. The local controllers <b>21</b> is implemented to monitor the operation of the wind turbine module and based on the operation of the wind turbine module calculate such control commands as pitch set-points and speed set-points.</p><p id="p-0049" num="0052">The central controllers may typically be implemented as a control loop feedback controller, i.e. a PI or PID controller or any other controller of such type. In general, the central controller may be implemented to operate any suitable controller type, including as a model predictive controller, as well as including open loop control elements.</p><p id="p-0050" num="0053"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows general aspects of MPC routines implemented in two local controllers in relation to the same measured operational variable y and calculated control variable u. The upper part of the figure shows two state trajectories for the variable y<sub>1</sub>, <b>43</b>A related to an operational variable of a first wind turbine module, and the variable y<sub>2</sub>, <b>43</b>B related to the same operational variable of a second wind turbine module.</p><p id="p-0051" num="0054">In the lower part of <figref idref="DRAWINGS">FIG. <b>4</b></figref> two control trajectories u<sub>1</sub>, <b>44</b>A and w<sub>2</sub>, <b>44</b>B are shown for the control variable u for the two wind turbine modules. While illustrated on the same graphs, it is noted that the trajectories are determined by different local MPC routines.</p><p id="p-0052" num="0055">The operational trajectories and control trajectories may include, but are not limited to, one or more of the following parameters: pitch value, including collective pitch values and individual pitch values, rotor speed, rotor acceleration, support structure movement, power related parameters, torque related parameters and derivatives of these parameters.</p><p id="p-0053" num="0056">In an embodiment, the operational trajectory is a predicted operational state trajectory. A state is a collection, often expressed as a vector, of operational parameters. An example wind turbine state is:</p><p id="p-0054" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"> <mrow>  <msup>   <mi>x</mi>   <mo>*</mo>  </msup>  <mo>=</mo>  <mrow>   <mo>[</mo>   <mtable>    <mtr>     <mtd>      <mrow>       <mi>&#x3b8;</mi>       <mo>&#x2061;</mo>       <mo>(</mo>       <mi>t</mi>       <mo>)</mo>      </mrow>     </mtd>    </mtr>    <mtr>     <mtd>      <mrow>       <mover>        <mi>&#x3b8;</mi>        <mo>.</mo>       </mover>       <mo>(</mo>       <mi>t</mi>       <mo>)</mo>      </mrow>     </mtd>    </mtr>    <mtr>     <mtd>      <mrow>       <mi>&#x3c9;</mi>       <mo>&#x2061;</mo>       <mo>(</mo>       <mi>t</mi>       <mo>)</mo>      </mrow>     </mtd>    </mtr>    <mtr>     <mtd>      <mrow>       <mover>        <mi>&#x3c9;</mi>        <mo>.</mo>       </mover>       <mo>(</mo>       <mi>t</mi>       <mo>)</mo>      </mrow>     </mtd>    </mtr>    <mtr>     <mtd>      <mrow>       <mi>s</mi>       <mo>&#x2061;</mo>       <mo>(</mo>       <mi>t</mi>       <mo>)</mo>      </mrow>     </mtd>    </mtr>    <mtr>     <mtd>      <mrow>       <mover>        <mi>s</mi>        <mo>.</mo>       </mover>       <mo>(</mo>       <mi>t</mi>       <mo>)</mo>      </mrow>     </mtd>    </mtr>    <mtr>     <mtd>      <mrow>       <mover>        <mi>s</mi>        <mo>&#xa8;</mo>       </mover>       <mo>(</mo>       <mi>t</mi>       <mo>)</mo>      </mrow>     </mtd>    </mtr>   </mtable>   <mo>]</mo>  </mrow> </mrow></math></maths></p><p id="p-0055" num="0000">comprising pitch value, &#x3b8;, rotor angular speed, &#x3c9;, and nacelle position, s, as well as time derivatives of those parameters. Other and more parameters may be used to define the wind turbine state, x*, in particular a number of position sensors, or accelerometers may be used and attached to various parts of the support structure <b>3</b>. Again, in a multi-rotor modular system, corresponding state vectors exist for each wind turbine module, and while the actual values are specific to the given modules, the set of parameters are typically the same.</p><p id="p-0056" num="0057">The state values of the current operational state of the wind turbine may be based on measured sensor readings from sensors arranged to measure sensor data relating to the wind turbine's physical state values. Additionally, estimated values or calculated values may also be used. In an embodiment, the state may be determined by a state calculator, e.g. in the form of a dedicated computational unit in charge of determining the current operational state, such as an observer or a Kalman filter.</p><p id="p-0057" num="0058">The trajectory may also be expressed as a control trajectory. An example control trajectory may be:</p><p id="p-0058" num="0000"><maths id="MATH-US-00002" num="00002"><math overflow="scroll"> <mrow>  <msubsup>   <mi>u</mi>   <mn>1</mn>   <mo>*</mo>  </msubsup>  <mo>=</mo>  <mrow>   <mo>[</mo>   <mtable>    <mtr>     <mtd>      <msub>       <mi>&#x3b8;</mi>       <mi>ref</mi>      </msub>     </mtd>    </mtr>    <mtr>     <mtd>      <msub>       <mi>P</mi>       <mi>ref</mi>      </msub>     </mtd>    </mtr>   </mtable>   <mo>]</mo>  </mrow> </mrow></math></maths></p><p id="p-0059" num="0000">comprising the pitch reference signal and the power reference signal for the given wind turbine module local controller. Other and more parameters may be used to define the wind turbine control signal, u<sub>1</sub>*. Again, in a multi-rotor modular system, corresponding control trajectories exist for each wind turbine module.</p><p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows trajectories <b>43</b>A, <b>43</b>B of measured variables y<sub>1 </sub>and y<sub>2 </sub>for a number of discrete time steps. The figure shows the current time, k, as well as a number of past time steps <b>40</b> and a number of future time steps <b>41</b> (also sometimes referred to as the prediction horizon and the control horizon for the state variable y and the control variable u, respectively). Known variable values, i.e. based on already measured values, are marked with a solid mark (circle or square), whereas predicted variable values are marked with an open mark. A trajectory may comprise a time series of predicted values, i.e. only the open circles. The trajectories need not include the past and known values, but may do in certain embodiments. In particular, the current values <b>42</b>, <b>45</b> may be included for trajectories of measured variables. The trajectory may span a time series of a few seconds, such as 5-10 seconds. However the trajectory may be longer or shorter depending on the given implementation.</p><p id="p-0061" num="0060">As an example, the y-trajectories show the rotor speed &#x3c9; in a situation where a set-point is given to increase the rotor speed in each of two wind turbine modules. The trajectory shows the current rotor speed <b>42</b> together with the predicted future rotor speeds. Allowed maximum and minimum values are also shown for the illustrated variable. As can be seen the set-point is the same for the two turbine modules, but due to slight differences in the operating conditions, the trajectories are not identical.</p><p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. <b>4</b></figref> further illustrates an example of general control trajectories determined by use of an MPC algorithm. <figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates the relationship between an operational state trajectory <b>43</b>A, <b>43</b>B and a general control trajectory <b>44</b>A, <b>44</b>B. In embodiments, the general control trajectory may be operational trajectories that are calculated using the predicted operational state trajectory.</p><p id="p-0063" num="0062">While the current k-th value <b>42</b> is known for measured variables, the current value <b>45</b> of the control trajectory is calculated by use of the MPC routine. In one embodiment, the current value of the control trajectory may be used directly as a local control objective.</p><p id="p-0064" num="0063">The figure also shows maximum and minimum allowed values for the control trajectory values of u.</p><p id="p-0065" num="0064">As an example, the trajectories show the trajectory for the pitch angle, i.e. u=&#x3b8;. Thus a set-point is given to change the rotor speed, and as a consequence the pitch angle is changed.</p><p id="p-0066" num="0065">Model Predictive Control (MPC) is a multivariable control algorithm that uses an optimization cost function J over the receding prediction horizon, to calculate the optimal control moves.</p><p id="p-0067" num="0066">In an embodiment, the cost function of the model predictive control routine comprises elements directed to isolated operation of each of the respective one of the plurality of wind turbines without taking cross-coupling of the operation of another wind turbine module into account. As an example, the optimization cost function for a given wind turbine module may be given by:</p><p id="p-0068" num="0000"><maths id="MATH-US-00003" num="00003"><math overflow="scroll"> <mtable>  <mtr>   <mtd>    <mrow>     <mi>J</mi>     <mo>=</mo>     <mrow>      <mrow>       <munderover>        <mo>&#x2211;</mo>        <mrow>         <mi>i</mi>         <mo>=</mo>         <mn>1</mn>        </mrow>        <mi>N</mi>       </munderover>       <msup>        <mrow>         <msub>          <mi>w</mi>          <msub>           <mi>y</mi>           <mi>i</mi>          </msub>         </msub>         <mo>(</mo>         <mrow>          <msub>           <mi>r</mi>           <mi>i</mi>          </msub>          <mo>-</mo>          <msub>           <mi>y</mi>           <mi>i</mi>          </msub>         </mrow>         <mo>)</mo>        </mrow>        <mn>2</mn>       </msup>      </mrow>      <mo>+</mo>      <mrow>       <msub>        <mi>w</mi>        <msub>         <mi>u</mi>         <mi>i</mi>        </msub>       </msub>       <mo>&#x2062;</mo>       <mi>&#x394;</mi>       <mo>&#x2062;</mo>       <msubsup>        <mi>u</mi>        <mi>i</mi>        <mn>2</mn>       </msubsup>      </mrow>     </mrow>    </mrow>   </mtd>   <mtd>    <mrow>     <mi>Eq</mi>     <mo>.</mo>     <mtext>   </mtext>     <mn>1</mn>    </mrow>   </mtd>  </mtr> </mtable></math></maths></p><p id="p-0069" num="0067">With reference to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, r<sub>i </sub>is the set-point for the i-th variable, y<sub>i </sub>and u<sub>i </sub>being i-th trajectory variables, and w<sub>y</sub><sub><sub2>i </sub2></sub>being weight matrix defining the relative importance of this variable, and w<sub>u</sub><sub><sub2>i </sub2></sub>being weight matrix defining the penalty related to changes in this variable.</p><p id="p-0070" num="0068">By implementing in the local controller an MPC routine an optimization problem over N time steps (the control and prediction horizon) is solved at each sample time. The result is an optimal input sequence for the entire horizon which may be used for controlling the multi-rotor turbine modules.</p><p id="p-0071" num="0069">In an example embodiment, the optimization problem used for normal production has the form:</p><p id="p-0072" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>&#x16b;</i>*(<i>t</i>)=argmin <i>J</i><sub>0</sub>(<i>S</i>(<i>t</i>),<i>P</i>(<i>t</i>),<i>&#x16b;</i>(<i>t</i>)),<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0073" num="0000">subject to the constraints:</p><p id="p-0074" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>&#x3c9;<sub>R</sub>&#x2264;&#x393;<sub>&#x3c9;</sub><sub><sub2>R </sub2></sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0075" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>&#x2212;5&#x2264;&#x3b8;<sub>b</sub>&#x2264;90,<i>b&#x2208;{</i>1,2,3}<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0076" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>&#x2212;20&#x2264;{dot over (&#x3b8;)}<sub>b</sub>&#x3c;20,<i>b&#x2208;{</i>1,2,3}<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0077" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>P<sub>E</sub>&#x2264;6MW<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0078" num="0070">The function argmin is the standard mathematical operator which stands for argument of the minimum, and finds points in the parameter space spanned by S, P, u and t where the cost function J<sub>0 </sub>attains its smallest value. The parameter &#x3c9;<sub>R </sub>denotes the rotor speed with maximum value &#x393;<sub>&#x3c9;</sub><sub><sub2>R</sub2></sub>, &#x3b8;<sub>i </sub>the pitch angle (with derivative) and P<sub>E </sub>refers to the power of the wind turbine module.</p><p id="p-0079" num="0071">In embodiments, the constraints used in the optimization process can be set based on the current operational state of the wind turbine. For example, should one turbine module stop operation, the power generation for that turbine module may be set to zero. Should a wind turbine module be derated for a specific reason, the derated power level may be set as a constraint.</p><p id="p-0080" num="0072">The nominal cost function J<sub>0 </sub>provides a trade-off between power (P) and loads (S) using the control signal &#x16b;(t), while the constraints limit the rotor speed, blade pitch angle, blade pitch speed, and electrical power for each of the respective one of the plurality of wind turbine modules. The control signal would typically consist of blade pitch angles and power reference for the converter:</p><p id="p-0081" num="0000"><maths id="MATH-US-00004" num="00004"><math overflow="scroll"> <mrow>  <mrow>   <mrow>    <mover>     <mi>u</mi>     <mo>_</mo>    </mover>    <mo>(</mo>    <mi>t</mi>    <mo>)</mo>   </mrow>   <mo>=</mo>   <mrow>    <mo>[</mo>    <mtable>     <mtr>      <mtd>       <mrow>        <msub>         <mi>u</mi>         <mn>1</mn>        </msub>        <mo>(</mo>        <mi>t</mi>        <mo>)</mo>       </mrow>      </mtd>     </mtr>     <mtr>      <mtd>       <mrow>        <msub>         <mi>u</mi>         <mn>2</mn>        </msub>        <mo>(</mo>        <mi>t</mi>        <mo>)</mo>       </mrow>      </mtd>     </mtr>     <mtr>      <mtd>       <mo>&#x22ee;</mo>      </mtd>     </mtr>     <mtr>      <mtd>       <mrow>        <msub>         <mi>u</mi>         <mi>m</mi>        </msub>        <mo>(</mo>        <mi>t</mi>        <mo>)</mo>       </mrow>      </mtd>     </mtr>    </mtable>    <mo>]</mo>   </mrow>  </mrow>  <mo>,</mo>  <mrow>   <mrow>    <msub>     <mi>u</mi>     <mi>i</mi>    </msub>    <mo>(</mo>    <mi>t</mi>    <mo>)</mo>   </mrow>   <mo>=</mo>   <mrow>    <mrow>     <mo>[</mo>     <mtable>      <mtr>       <mtd>        <mrow>         <msub>          <mi>&#x3b8;</mi>          <mn>1</mn>         </msub>         <mo>(</mo>         <mi>t</mi>         <mo>)</mo>        </mrow>       </mtd>      </mtr>      <mtr>       <mtd>        <mrow>         <msub>          <mi>&#x3b8;</mi>          <mn>2</mn>         </msub>         <mo>(</mo>         <mi>t</mi>         <mo>)</mo>        </mrow>       </mtd>      </mtr>      <mtr>       <mtd>        <mrow>         <msub>          <mi>&#x3b8;</mi>          <mn>3</mn>         </msub>         <mo>(</mo>         <mi>t</mi>         <mo>)</mo>        </mrow>       </mtd>      </mtr>      <mtr>       <mtd>        <mrow>         <msub>          <mi>P</mi>          <mi>ref</mi>         </msub>         <mo>(</mo>         <mi>t</mi>         <mo>)</mo>        </mrow>       </mtd>      </mtr>     </mtable>     <mo>]</mo>    </mrow>    <mo>.</mo>   </mrow>  </mrow> </mrow></math></maths></p><p id="p-0082" num="0073">In such an embodiment, at time t the current state is sampled and a cost-minimizing control strategy is computed for a time horizon in the future: [t, t+T], and then the turbine state is sampled again and the calculations are repeated starting from the new current state, yielding a new control trajectory and new predicted state trajectory.</p><p id="p-0083" num="0074">Each local controller thus determines a current operational state of the wind turbine module, and based on the current operational state calculates a predicted operational state trajectory of the wind turbine module. In particular local control objectives may be determined as, or based on, the next control trajectory values <b>45</b> (see <figref idref="DRAWINGS">FIG. <b>4</b></figref>), possible together with the predicted future values of the predicted horizon.</p><p id="p-0084" num="0075">In this manner it is ensured that each of the wind turbine modules are operated using an optimal trajectory taking into account overall operational targets in the form of constraints.</p><p id="p-0085" num="0076"><figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates an embodiment where the cost function of the local model predictive control routine comprises a structural model <b>50</b>A-<b>50</b>D for predicting the motion of the wind turbine module of the local controller. In the figure, reference to the wind turbine module is made as rotor-nacelle assembly (RNA). In the embodiment the structural model includes a structural model of the wind turbine system taking into account an aerodynamic force, F<sub>T</sub>, applied to the wind turbine module of the local controller without taking into account aerodynamic forces applied to other wind turbine modules of the wind turbine system. Instead the aerodynamic force of the other wind turbine modules is treated in the structural model as unknown disturbances. In an embodiment, detected motion, e.g. from accelerometers, of the other wind turbine modules may be feed into the structural model to improved determination of the proper vibrational mode.</p><p id="p-0086" num="0077"><figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates examples of selected mode shapes of a schematic multi-rotor wind turbine system. In embodiments, the structural model is defined by a number of pre-determined mode shapes for the movement of the wind turbine system. The solid lines and the dotted lines showing maximum positions of the movement of the illustrated elements.</p><p id="p-0087" num="0078"><figref idref="DRAWINGS">FIG. <b>6</b>A</figref> schematically illustrates a top view showing a mode shape where a support arm vibrates in phase in an in-out <b>60</b> movement, thereby enabling the structural model for predicting the in-phase fore-aft motion of the wind turbine module of the local controller.</p><p id="p-0088" num="0079"><figref idref="DRAWINGS">FIG. <b>6</b>B</figref> schematically illustrates a top view showing a mode shape where a support arm vibrates in an anti-phase in-out <b>66</b> movement, thereby enabling the structural model for predicting anti-phase fore-aft motion of the wind turbine module of the local controller.</p><p id="p-0089" num="0080"><figref idref="DRAWINGS">FIG. <b>6</b>C</figref> schematically illustrates a front view showing a mode shape where support arms vibrates in an up-down <b>61</b> movement, thereby enabling the structural model for predicting motion in the rotor plane of the wind turbine module of the local controller.</p><p id="p-0090" num="0081">The structural model may include further mode shapes, including mode shapes of tower movement. In <figref idref="DRAWINGS">FIG. <b>6</b>D</figref> tower fore-aft vibration is schematically illustrated in a side view, in an example mode shape where the top section <b>62</b> vibrates with a larger amplitude <b>63</b> than the amplitude <b>64</b> of the bottom section <b>65</b>.</p><p id="p-0091" num="0082">A motion equation of the structure can be defined as a dynamic model which link control actions with the vibrational states. For example a motion equation can be defined which models the force vector of a given pitch response and/or rotor speed value or change and the resulting movement of a node point. This can be modelled for each mode shape and a total motion equation can be provided as a superposition of the selected number of mode shapes.</p><p id="p-0092" num="0083">Having defined a motion equation for the structure, cost function elements, &#x3b8;<sub>p</sub>(<o ostyle="single">y</o><sub>n</sub>, &#x16b;<sub>n</sub>) of Eq. 1, can be defined which link a given control action at one wind turbine module with the remaining structure.</p><p id="p-0093" num="0084">The complexity of the optimization is dependent upon the number of mode shapes that is included in the motion equation. It may be sufficient to only consider the most important mode shapes.</p><p id="p-0094" num="0085">The number of mode shapes to be selected can be based on a vibrational frequency of the mode shape being less than a frequency limit. It may be sufficient to only include mode shapes having a vibrational low frequency. In this regard it may be sufficient to include mode shapes with a vibrational frequency less than 1 Hz, or even lower, such as less than 0.3 Hz or even less than 0.15 Hz.</p><p id="p-0095" num="0086">Additionally or alternatively to this, the number of mode shapes to be selected can be based on a minimum level of vibrational energy being included in the selected number of mode shapes.</p><p id="p-0096" num="0087">For example the mode shapes which contain at least 60% of the vibrational energy, or even more, such as at least 75% of the vibrational energy.</p><p id="p-0097" num="0088">Additionally or alternatively to this, mode shapes may also be selected based on a structural analysis, so that the mode shapes which incur the most loads on the support structure or elements of the support structure can be selected. Such elements may be the tower, support arms, blades, or other elements. The load may as examples be determined as fatigue loads or maximum loads.</p><p id="p-0098" num="0089"><figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates example mode shapes. The invention is not limited to these mode shapes. It is within the capabilities of the skilled person to select appropriate mode shapes, the given number of mode shapes to include, as well as the number and nature of the node points used.</p><p id="p-0099" num="0090">Although the present invention has been described in connection with the specified embodiments, it should not be construed as being in any way limited to the presented examples. The invention can be implemented by any suitable means; and the scope of the present invention is to be interpreted in the light of the accompanying claim set. Any reference signs in the claims should not be construed as limiting the scope.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001" nb-file="US20230003193A1-20230105-M00001.NB"><img id="EMI-M00001" he="22.94mm" wi="76.20mm" file="US20230003193A1-20230105-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00002" nb-file="US20230003193A1-20230105-M00002.NB"><img id="EMI-M00002" he="6.35mm" wi="76.20mm" file="US20230003193A1-20230105-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00003" nb-file="US20230003193A1-20230105-M00003.NB"><img id="EMI-M00003" he="8.13mm" wi="76.20mm" file="US20230003193A1-20230105-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00004" nb-file="US20230003193A1-20230105-M00004.NB"><img id="EMI-M00004" he="12.36mm" wi="76.20mm" file="US20230003193A1-20230105-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A control system for a wind turbine system comprising two or more wind turbine modules mounted to a common support structure, the control system comprises:<claim-text>a local controller arranged for each wind turbine modules, and implementing a local model predictive control (MPC) routine;</claim-text><claim-text>a central controller being in communicative connection with each local controller, the central controller being arranged to determine a set of operational constraints of the wind turbine modules;</claim-text><claim-text>wherein the local MPC routine being arranged for receiving a current operational state of the wind turbine module and based on the current operational state and the set of operational constraints, calculate one or more predicted operational trajectories, the one or more predicted operational trajectories include a predicted control trajectory, where a trajectory comprises a time series of at least one variable; and</claim-text><claim-text>controlling the wind turbine module using the control trajectory.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the set of operational constraints comprises a constraint on one or more of the following: a pitch constraint, a blade load constraint, a rotor thrust constraint, an output power constraint and/or a rotor speed constraint.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the set of operational constraints are determined so that a yaw moment imposed on a yaw system arranged at the common support structure, is below a yaw moment limit.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the central controller is further arranged to provide timing commands instructing the local controller to enter an operational state or change an operational state at a time specified in the timing command.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the central controller is implemented as a control loop feedback controller.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the central controller is implemented as an open loop controller.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, where in the central controller is arranged to control a yaw position of a yaw system arranged at the common support structure.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the model predictive control routine repeatedly calculates a receding horizon trajectory for the wind turbine module and wherein the set of operational constraints is determined based on the receding horizon trajectory for the wind turbine module.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a cost function of the model predictive control routine comprises elements directed to isolated operation of the wind turbine module without taking cross-coupling of the operation of another wind turbine module into account.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a cost function of the local model predictive control routine comprises a structural model for predicting the motion of the wind turbine module of the local controller, the structural model includes a structural model of the wind turbine system taking into account an aerodynamic force applied to the wind turbine module of the local controller without taking into account aerodynamic forces applied to other wind turbine modules of the wind turbine system.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The control system according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the structural model is defined by a number of pre-determined mode shapes for the movement of the wind turbine system.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The control system according to <claim-ref idref="CLM-00010">claims 10</claim-ref>, wherein the structural model is arranged for predicting the fore-aft motion of the wind turbine module of the local controller.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The control system according to <claim-ref idref="CLM-00010">claims 10</claim-ref>, wherein the structural model is arranged for predicting motion in the rotor plane of the wind turbine module of the local controller.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. A wind turbine system comprising two or more wind turbine modules mounted to a common support structure, wherein each of the two or more wind turbines modules includes a rotor and a power generation system driven by the rotor, wherein the wind turbine system further comprises a control system, the control system comprises:<claim-text>a local controller arranged for each wind turbine module, and implementing a local model predictive control (MPC) routine; and</claim-text><claim-text>a central controller being in communicative connection with each local controller, the central controller being arranged to determine a set of operational constraints of the wind turbine modules;</claim-text><claim-text>wherein the local MPC routine being arranged for receiving a current operational state of the wind turbine module and based on the current operational state and the set of operational constraints, calculate one or more predicted operational trajectories, the one or more predicted operational trajectories include a predicted control trajectory, where a trajectory comprises a time series of at least one variable.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A method of controlling a wind turbine system comprising two or more wind turbine modules mounted to a common support structure, the method comprising:<claim-text>determining in a central controller, a set of operational constraints of the wind turbine modules;</claim-text><claim-text>receiving a current operational state of each of the wind turbine modules;</claim-text><claim-text>calculating in a local controller, using a model predictive control (MPC) routine, and based on the current operational state and the set of operational constraints, one or more predicted operational trajectories, the one or more predicted operational trajectories include a predicted control trajectory, where a trajectory comprises a time series of at least one variable; and</claim-text><claim-text>controlling the wind turbine module using the control trajectory.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. A computer program product comprising software code adapted to control a wind turbine system comprising two or more wind turbine modules mounted to a common support structure when executed on a data processing system, the computer program product being adapted to perform an operation, comprising:<claim-text>determining in a central controller, a set of operational constraints of the wind turbine modules;</claim-text><claim-text>receiving a current operational state of each of the wind turbine modules;</claim-text><claim-text>calculating in a local controller, using a model predictive control (MPC) routine, and based on the current operational state and the set of operational constraints, one or more predicted operational trajectories, the one or more predicted operational trajectories include a predicted control trajectory, where a trajectory comprises a time series of at least one variable; and</claim-text><claim-text>controlling the wind turbine module using the control trajectory.</claim-text></claim-text></claim></claims></us-patent-application>