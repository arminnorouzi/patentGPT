<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007606A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007606</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17780955</doc-number><date>20200401</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>56</main-group><subgroup>00</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>4</main-group><subgroup>06</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>56</main-group><subgroup>0015</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>4</main-group><subgroup>06</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">METHOD FOR TIME SYNCHRONIZATION, METHOD FOR BROADCAST SETTING, CHIP, ELECTRONIC DEVICE, AND STORAGE MEDIUM</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Shenzhen Goodix Technology Co., Ltd.</orgname><address><city>Shenzhen, Guangdong</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>PU</last-name><first-name>Chuan</first-name><address><city>Shenzhen, Guangdong</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/CN2020/082823</doc-number><date>20200401</date></document-id><us-371c12-date><date>20220527</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">Some embodiments of the present disclosure provide a method for time synchronization, a method for broadcast setting, a chip, an electronic device, and a storage medium. In the present disclosure, time synchronization information is received, wherein the time synchronization information includes a first count value N of at least one connection event at a synchronizing end and a first time, and the first time refers to a time of occurrence of an N<sup>th </sup>connection event (<b>101</b>); a second count value K of the at least one connection event and a second time are determined according to at least the first count value N and the first time, wherein the second time refers to a time of occurrence of a K<sup>th </sup>connection event, and both N and K are natural numbers (<b>102</b>); and time synchronization is performed based on the second time in response to occurrence of the K<sup>th </sup>connection event (<b>103</b>).</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="151.21mm" wi="145.46mm" file="US20230007606A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="160.78mm" wi="147.49mm" file="US20230007606A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="206.16mm" wi="147.66mm" file="US20230007606A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="156.89mm" wi="144.36mm" file="US20230007606A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="247.14mm" wi="131.40mm" file="US20230007606A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="119.55mm" wi="128.86mm" file="US20230007606A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="177.63mm" wi="155.28mm" file="US20230007606A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="93.39mm" wi="169.33mm" file="US20230007606A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">The present application is a United States National Stage Application filed under 35 U.S.C. &#xa7; 371 of PCT Patent Application Ser. No. PCT/CN2020/082823, filed Apr. 1, 2020, which is incorporated by reference herein in its entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNIC FIELD</heading><p id="p-0003" num="0002">Embodiments of the present disclosure relate in general to communication technology, and more specifically to a method for time synchronization, a method for broadcast setting, a chip, an electronic device, and a storage medium.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">A Bluetooth low energy (BLE) device includes a time synchronization function, i.e., two connected BLE devices are able to synchronize time. When receiving a time synchronization request sent by a synchronized end device, a synchronizing end device may acquire a current time of the synchronizing end device, process the current time into a data packet, and send the data packet to the synchronized end device. After receiving the data packet, the synchronized end device parses the current time of the synchronizing end device from the data packet, and sets a local time as the current time of the synchronizing end device to achieve time synchronization.</p><p id="p-0005" num="0004">The inventors found that there are at least the following problems in the existing technology. In the process of the time synchronization, the synchronizing end device processes the current time of the synchronizing end device into the data packet, transmits the data packet to the synchronized end device, and parses the data packet to obtain the current time of the synchronizing end device. All these operations consume time. During this consumed time, a time of the synchronizing end device is no longer the time in the data packet, but the synchronized end device directly uses the time in the data packet to set the time synchronization, which may cause a time error and inaccurate time synchronization. For example, the current time of the synchronizing end device is &#x2018;15:30&#x2019;. The synchronizing end device transmits the data packet including the current time to the synchronized end device, and the synchronized end device parses the data packet to obtain the current time &#x2018;15:30&#x2019; and sets the time to &#x2018;15:30&#x2019; immediately. At this time, the time of the synchronizing end device has already been &#x2018;15:32&#x2019;, which causes inaccurate time synchronization.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0006" num="0005">Some embodiments of the present disclosure are intended to provide a method for time synchronization, a method for broadcast setting, a chip, an electronic device, and a storage medium, which achieve accurate time synchronization.</p><p id="p-0007" num="0006">Some embodiments of the present disclosure provide a method for time synchronization, including: receiving time synchronization information, wherein the time synchronization information includes a first count value N of at least one connection event at a synchronizing end and a first time, and the first time refers to a time of occurrence of an N<sup>th </sup>connection event; determining a second count value K of the at least one connection event and a second time according to at least the first count value N and the first time, wherein the second time refers to a time of occurrence of a K<sup>th </sup>connection event, and both N and K are natural numbers; and performing time synchronization based on the second time in response to occurrence of the K<sup>th </sup>connection event.</p><p id="p-0008" num="0007">Some embodiments of the present disclosure further provide method for time synchronization, including: determining a first count value N of at least one connection event, wherein N is a natural number; determining a first time according to a current count value Z of at least one connection event locally recorded, a current time, and a preset connection event interval, wherein the first time refers to a time of occurrence of an N<sup>th </sup>connection event, and Z is a natural number; and sending time synchronization information to a synchronized end to enable the synchronized end to perform time synchronization according to the time synchronization information, wherein the time synchronization information includes the first counter value N and the first time. In this way, the accurate time synchronization of the synchronized end is achieved.</p><p id="p-0009" num="0008">In the embodiments of the present disclosure, the time synchronization information received by the synchronized end from the synchronizing end includes the first count value N of the at least one connection event and the first time. The first time refers to the time of occurrence of the N<sup>th </sup>connection event. The synchronized end determines a time synchronization execution time based on the count value of the at least one connection event and synchronizes the local time according to the time of occurrence of the connection event at the execution time. Since the connection event is periodically generated after the synchronizing end and the synchronized end are connected, and the count values of connection events at both the synchronizing end and the synchronized end increase synchronously, the count value of the connection events at the synchronized end is the same as the count value of the connection events at the synchronizing end at the time of time synchronization execution, so that the synchronized end is able to achieve the accurate time synchronization with the synchronizing end.</p><p id="p-0010" num="0009">For example, the first count value N is greater than a current count value Z of at least one connection event locally recorded at the synchronizing end when the time synchronization information is issued, and Z is a natural number. Since data transmission and data processing require to occupy the events, it is more reasonable that the value of the first count value N is greater than the current count value Z.</p><p id="p-0011" num="0010">For example, determining the second count value K of the at least one connection event and the second time according to at least the first count value N and the first time includes: in response to a current count value M of at least one connection event locally recorded at the synchronized end being less than the first count value N, determining that a value of the second count value K is N, and the second time is the first time, wherein M is a natural number. If the current count value M is smaller than the first count value N, the first time in the time synchronization information is directly set until the count value is the first count value N in the time synchronization information, and no other calculation process is needed, so that the processing burden is reduced and the time synchronization efficiency is improved.</p><p id="p-0012" num="0011">For example, determining the second count value K of the at least one connection event and the second time according to at least the first count value N and the first time includes: in response to a current count value M of at least one connection event locally recorded at the synchronized end being greater than or equal to the first count value N, determining that a value of the second count value K is greater than or equal to M, and the second time is a sum of the first time and L preset connection event intervals, wherein L=K&#x2212;N, and both L and M are natural numbers. If the current count value M is greater than or equal to the first count value N, a specific implementation of determining the second count value K and the second time is given.</p><p id="p-0013" num="0012">For example, a value of the second count value K is M+1, and L=M&#x2212;N+1. Time synchronization is performed when a next connection event of the current connection event occurs, which achieves the time synchronization accurately and as quickly as possible.</p><p id="p-0014" num="0013">For example, after performing the time synchronization based on the second time in response to the occurrence of the K<sup>th </sup>connection event, the method further includes: feeding back response information to the synchronizing end to enable the synchronizing end to determine whether the time synchronization is successful according to the response information, wherein the response information includes a check count value Q of the at least one connection event and a check time, the check time refers to a time of occurrence of a Q<sup>th </sup>connection event, and Q is a natural number. In this way, it is determined whether the time synchronization is successful, and the accuracy of the time synchronization is improved.</p><p id="p-0015" num="0014">For example, the check count value Q is greater than the second count value K. A specific implementation is given.</p><p id="p-0016" num="0015">Some embodiments of the present disclosure further provide a method for broadcast setting, wherein each of network nodes completes the time synchronization based on the method for time synchronization described above, and a number of the network nodes is less than or equal to a quotient of a broadcast period that is preset and a maximum duration for sending data at a single time for each of the network nodes; wherein the method includes: configuring the broadcast period for each of the network nodes; and determining a broadcast time point of each of the network nodes in each respective broadcast period according to the broadcast period, the maximum duration for sending data at the single time, and the number of the network nodes. In this way, a probability of generating broadcast interference between network nodes is reduced.</p><p id="p-0017" num="0016">For example, determining the broadcast time point of each of the network nodes in each respective broadcast period according to the broadcast period, the maximum duration for sending data at the single time, and the number of the network nodes includes: determining a total piece number of transmitted data of the network nodes in each respective broadcast period according to the broadcast period and the maximum duration for sending data at the single time; determining a piece number of transmitted data of each of the network nodes in each respective broadcast period according to the total piece number of the transmitted data and the number of the network nodes; determining a total duration in which all the network nodes successively complete transmission of one piece of data according to the broadcast period and the piece number of the transmitted data; and setting a Y<sup>th </sup>broadcast time point of an X<sup>th </sup>network node in the broadcast period as Y-1 total durations plus X-1 maximum durations for sending data at the single time, wherein X is less than or equal to the number of the network nodes, Y is less than or equal to the piece number of the transmitted data, and both X and Y are natural numbers. A specific implementation of determining the broadcast time point corresponding to each network node is given.</p><p id="p-0018" num="0017">For example, after sending the time synchronization information to the synchronized end to enable the synchronized end to perform time synchronization according to the time synchronization information, the method further includes: receiving response information fed back by the synchronized end, wherein the response information includes a check count value Q of the at least one connection event and a check time, and Q is a natural number; determining a time of occurrence of a Q<sup>th </sup>connection event according to at least a current count value H of the at least one connection event locally recorded, wherein H is a natural number and H is greater than Z; and determining that the time synchronization succeeds in response to the time of occurrence of the Q<sup>th </sup>connection event being the check time. In this way, it is determined whether the time synchronization is successful, and the accuracy of the time synchronization is improved.</p><p id="p-0019" num="0018">For example, determining the time of occurrence of the Q<sup>th </sup>connection event according to at least the current count value H of the at least one connection event locally recorded includes: in response to the current count value H being less than or equal to the check count value Q, acquiring a local current time as the time of occurrence of the Q<sup>th </sup>connection event when the Q<sup>th </sup>connection event occurs. A specific implementation of determining the time of occurrence of the Q<sup>th </sup>connection event is given.</p><p id="p-0020" num="0019">For example, determining the time of occurrence of the Q<sup>th </sup>connection event according to at least the current count value H of the at least one connection event locally recorded includes: in response to the current count value H being greater than the check count value Q, acquiring a local current time, and determining the time of occurrence of the Q<sup>th </sup>connection event as the local current time minus H&#x2212;Q connection event intervals. A specific implementation of determining the time of occurrence of the Q<sup>th </sup>connection event is given.</p><p id="p-0021" num="0020">Some embodiments of the present disclosure further provide a chip, connected to at least one memory storing instructions executable by the chip, wherein the instructions, when executed by the chip, cause the chip to perform the methods for time synchronization, or the method for broadcast setting described above.</p><p id="p-0022" num="0021">Some embodiments of the present disclosure further provide an electronic device including the chip described above.</p><p id="p-0023" num="0022">Some embodiments of the present disclosure further provide a computer readable storage medium storing a computer program, wherein the computer program, when executed by at least one processor, cause the at least one processor to perform the methods for time synchronization, or the method for broadcast setting described above.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0024" num="0023">One or more embodiments are described as examples with reference to the corresponding figures in the accompanying drawings, and the examples do not constitute a limitation to the embodiments. Elements with the same reference numerals in the accompanying drawings represent similar elements. The figures in the accompanying drawings do not constitute a proportion limitation unless otherwise stated. The following embodiments are divided for the convenience of description and shall not constitute any limitation on the specific implementation of the invention. Various embodiments are able to be combined and referenced with each other without contradiction.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a flowchart of a method for time synchronization according to a first embodiment of the present disclosure.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a flowchart of a method for time synchronization according to a second embodiment of the present disclosure.</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart of a method for time synchronization according to a third embodiment of the present disclosure.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a flowchart of a method for time synchronization according to a fourth embodiment of the present disclosure.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flowchart of a method for broadcast setting according to a fifth embodiment of the present disclosure.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart of a specific implementation of operation <b>502</b> according to the fifth embodiment of the present disclosure.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of a broadcast time point corresponding to a network node according to the fifth embodiment of the present disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE EMBODIMENTS</heading><p id="p-0032" num="0031">In order to make the purposes, technical solutions and advantages of the present disclosure clearer, the following describes some embodiments of the present disclosure in detail with reference to the accompanying drawings. It should be noted that the specific embodiments described herein are intended only to explain and not to limit the present disclosure.</p><p id="p-0033" num="0032">A first embodiment of the present disclosure relates to a method for time synchronization applied at a Bluetooth device. A receiving end of time synchronization information is a synchronized end, and a transmitting end of the time synchronization information is a synchronizing end. After the synchronizing end and the synchronized end are connected by Bluetooth, frequency hopping occurs continuously. Each time frequency hopping occurs, count values of connection event counters at both ends increase by one synchronously. The count values of the counters start counting from establishment of Bluetooth connection between both ends, and in one Bluetooth connection, the count values at both ends are consistent with each other when each connection event occurs. Moreover, there is a time interval between two connection events, which is called a connection event interval, and the connection event interval of both ends are also the same. A specific flowchart of the method for time synchronization in this embodiment is shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, which includes the following operations.</p><p id="p-0034" num="0033">In <b>101</b>, time synchronization information is received. The time synchronization information includes a first count value N of at least one connection event at a synchronizing end and a first time, and the first time refers to a time of occurrence of an N<sup>th </sup>connection event.</p><p id="p-0035" num="0034">Specifically, the synchronized end sends a time synchronization request to the synchronizing end, and the synchronizing end determines the first count value N of the at least one connection event after receiving the time synchronization request. The first count value N may be any value, which is not specifically limited in this embodiment. The synchronizing end transmits the time synchronization information including the first count value N of the at least one connection event at the synchronizing end and the first time to the synchronized end, and the synchronized end parses the time synchronization information to obtain the first count value N of the at least one connection event and the first time in the time synchronization information after receiving the time synchronization information issued by the synchronizing end. The first time refers to the time of occurrence of the N<sup>th </sup>connection event.</p><p id="p-0036" num="0035">In one example, the first count value N is greater than a current count value Z of at least one connection event locally recorded at the synchronizing end when the time synchronization information is issued, where Z is a natural number. For example, if the current count value Z of the at least one connection event locally recorded at the synchronizing end when the time synchronization information is issued is 10, the first count value N may be 12, 14, etc.</p><p id="p-0037" num="0036">In one example, information is transmitted between the synchronizing end and the synchronized end in the form of a data packet, and fields in the data packet may be configured to record the time synchronization information, i.e., the synchronized end receives a data packet including the time synchronization information. The synchronized end parses the data packet to obtain the first count value N of the at least one connection event and the first time in the time synchronization information. This data packet adds a first field to an original data packet, for example, the first field may be 2 bytes. The first field is configured to store the first count value N of the at least one connection event, and a second field of the original data packet is configured to store the first time. It should be noted that a length of the first field matches a length of time in milliseconds, i.e., the length of the first field is able to record the time in milliseconds.</p><p id="p-0038" num="0037">In another example, a third field may be added to the original data packet, for example, the third field may be 2 bytes, denoted as Tus, for recording time in microseconds, i.e., the first time is recorded in the second field and the third field. The second field is configured to record a value of the first time in milliseconds, and the third field is configured to record a value of the first time in microseconds. In this way, a length of the field configured to record the time is increased, so that the accuracy of the first time is able to reach the microsecond level, thereby improving the accuracy of the time synchronization.</p><p id="p-0039" num="0038">In <b>102</b>, a second count value K of the at least one connection event and a second time are determined according to at least the first count value N and the first time. The second time refers to a time of occurrence of a K<sup>th </sup>connection event, and both N and K are natural numbers.</p><p id="p-0040" num="0039">In <b>103</b>, time synchronization is performed based on the second time in response to occurrence of the K<sup>th </sup>connection event.</p><p id="p-0041" num="0040">Specifically, a current count value M of at least one connection event locally recorded at the synchronized end is the current count value of the counter. In this embodiment, in response to the current count value M being less than the first count value N, a value of the second count value K is determined as N, and the second time is determined as the first time. In this case, a count value of the at least one connection event at the synchronizing end is N, and the current time is also the first time, thereby achieving the accurate time synchronization. That is, if the current count value is less than the first count value, it indicates that a count value of at least one connection event at this time has not reached the first count value N, and then, the time synchronization is performed based on the first time when the N<sup>th </sup>connection event occurs, without performing another calculation process, thereby reducing the processing burden and improving the efficiency of the time synchronization. For example, a current count value Z of connection events locally recorded at the synchronizing end is 8, and the first count value is determined as 12. If the current count value M of connection events locally recorded at the synchronized end is 10, the time is set to the first time in response to occurrence of the twelfth connection event. In this case, the count value of the connection events at the synchronizing end is also 12, and the time is the first time, so that the time of the synchronized end is consistent with the time of the synchronizing end, thereby achieving the accurate time synchronization.</p><p id="p-0042" num="0041">In another example, if the current count value M is less than the first count value N, the value of the second count value K may be greater than or equal to the current count value M and less than the first count value N, and the second time is a difference between the first time and L preset connection event intervals, where L=N&#x2212;K, i.e., the second time at the occurrence of the K<sup>th </sup>connection event=the first time&#x2212;(N&#x2212;K) * the preset connection event interval. For example, if the current count value M of the connection events locally recorded at the synchronized end is 10, the first count value is 12, and a value of the second count value K may be 11, the time is set to the second time in response to occurrence of the eleventh connection event. In this case, the count value of the connection events at the synchronizing end is also 11, and the time is the second time. The time of the synchronized end is consistent with the time of the synchronizing end, thereby achieving the accurate time synchronization.</p><p id="p-0043" num="0042">In one example, if the current count value M is greater than or equal to the first count value N, the value of the second count value K is determined to be greater than or equal to M, and the second time is a sum of the first time and the L preset connection event intervals, where L=K&#x2212;N, i.e., the second time at the occurrence of the K<sup>th </sup>connection event=(K&#x2212;N) * the preset connection event interval+the first time. In this case, the count value of the at least one connection event at the synchronizing end is also K, and the current time is also the second time, thereby achieving the accurate time synchronization. In one example, the value of the second count value K is M+1, and L=M&#x2212;N+1, the time synchronization is performed when a next connection event of the current connection event occurs, so that the time synchronization is achieved accurately and as quickly as possible. For example, if the current count value M of the connection events locally recorded is 14 and the first count value N is 12, K is 15 and L is 3, i.e., the time is set to the second time in response to occurrence of the fifteenth connection event. Furthermore, as described in the above example, the value of the second count value K may be 14, and the time is set to the second time in response to occurrence of the fourteenth connection event.</p><p id="p-0044" num="0043">In this embodiment, since the connection event is periodically generated after the synchronizing end and the synchronized end are connected, and the count values of the connection events at both the synchronizing end and the synchronized end increase synchronously, the count value of the connection events at the synchronized end is the same as the count value of the connection events at the synchronizing end at the time of time synchronization execution, so that the synchronized end is able to achieve the accurate time synchronization with the synchronizing end.</p><p id="p-0045" num="0044">A second embodiment of the present disclosure relates to a method for time synchronization. The second embodiment is substantially the same as the first embodiment, and is different from the first embodiment in that response information is fed back to the transmitting end of the time synchronization information to enable the transmitting end to determine whether the time synchronization is successful according to the response information. A specific flowchart of the method for time synchronization in this embodiment is shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, which includes the following operations.</p><p id="p-0046" num="0045">In <b>201</b>, time synchronization information is received. The time synchronization information includes a first count value N of at least one connection event at a synchronizing end and a first time, and the first time refers to a time of occurrence of an N<sup>th </sup>connection event.</p><p id="p-0047" num="0046">In <b>202</b>, a second count value K of the at least one connection event and a second time are determined according to at least the first count value N and the first time. The second time refers to a time of occurrence of a K<sup>th </sup>connection event, and both N and K are natural numbers.</p><p id="p-0048" num="0047">In <b>203</b>, time synchronization is performed based on the second time in response to occurrence of the K<sup>th </sup>connection event.</p><p id="p-0049" num="0048">The operations <b>201</b> to <b>203</b> are similar to operations <b>101</b> to <b>103</b>, thus details are not repeated herein.</p><p id="p-0050" num="0049">In <b>204</b>, response information is fed back to the synchronizing end to enable the synchronizing end to determine whether the time synchronization is successful according to the response information. The response information includes a check count value Q of the at least one connection event and a check time, the check time is a time of occurrence of the Q<sup>th </sup>connection event, and Q is a natural number.</p><p id="p-0051" num="0050">Specifically, the check count value Q of the at least one connection event may be taken according to actual needs, which is not specifically limited in this embodiment. The check time is the time of occurrence of the Q<sup>th </sup>connection event. Since it takes time to transmit the response information and process the response information, the count value of the at least one connection event is greater than the second count value K when the synchronizing end performs the check. Therefore, the check count value Q may be set to be greater than the second count value K, i.e., the check count value Q is obtained by adding a count value of at least one predicted connection event to the second count value K, i.e., the check count value Q=the second count value K+the count value of at least one predicted connection event. The count value of at least one predicted connection event is a count value of at least one connection event that possibly occurs when data transmission and data processing occupy the time. At this time, the check time=the second time+(Q&#x2212;K) * the preset connection event interval. In one example, the check count value Q may also be less than or equal to the second count value K, thus the check time=the second time&#x2212;(K&#x2212;Q) * the preset connection event interval.</p><p id="p-0052" num="0051">In one example, a format of the data packet including the response information is consistent with that of the data packet including the time synchronization information. This data packet adds a first field to an original data packet, for example, the newly added field may be 2 bytes. The first field is configured to store the check count value Q of the at least one connection event, and a second field of the original data packet is configured to store the check time. It should be noted that a length of the first field matches a length of time in milliseconds, i.e., the length of the first field is able to record the time in milliseconds.</p><p id="p-0053" num="0052">In another example, a third field may be added to the original data packet, for example, the third field may be 2 bytes, denoted as Tus, for recording time in microseconds, i.e., the check time is recorded in the second field and the third field. The second field is configured to record a value of the check time in milliseconds, and the third field is configured to record a value of the check time in microseconds. In this way, a length of the field configured to record the time is increased, so that the accuracy of the check time is able to reach the microsecond level, thereby improving the accuracy of the time synchronization.</p><p id="p-0054" num="0053">In this embodiment, the response information is fed back to the transmitting end of the time synchronization information, so that the transmitting end determines whether the time synchronization is successful according to the response information, thereby improving the accuracy of the time synchronization.</p><p id="p-0055" num="0054">A third embodiment of the present disclosure relates to a method for time synchronization applied at a Bluetooth device. A specific flowchart of the method for time synchronization in this embodiment is shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, which includes the following operations.</p><p id="p-0056" num="0055">In <b>301</b>, a first count value N of at least one connection event is determined, where N is a natural number.</p><p id="p-0057" num="0056">In <b>302</b>, a first time is determined according to a current count value Z of at least one connection event locally recorded, a current time, and a preset connection event interval. The first time refers to a time of occurrence of an N<sup>th </sup>connection event, and Z is a natural number.</p><p id="p-0058" num="0057">In <b>303</b>, time synchronization information is sent to a synchronized end to enable the synchronized end to perform time synchronization according to the time synchronization information. The time synchronization information includes the first counter value N and the first time.</p><p id="p-0059" num="0058">Specifically, the synchronizing end determines the first count value N of the at least one connection event and the first time after receiving the time synchronization request from the synchronized end. In one example, the first count value N is greater than the current count value Z of the at least one connection event locally recorded, and the first count value N is determined by the synchronizing end according to the current count value Z of the at least one connection event locally recorded. Since the data transmission and data processing occupy the time, the count value of the at least one connection event should be greater than the current count value Z when the synchronized end sets the time. Therefore, the first count value N may be set to be greater than the current count value Z, i.e., the first count value is obtained by adding a count value of predicted connection events to the current count value Z, i.e., the first count value N=the current count value Z of the at least one connection event locally recorded+the count value of predicted connection events. The count value of predicted connection events is a count value of connection events that may occur when data transmission and data processing occupy the time. For example, the current count value Z of connection events locally recorded is 8. If the count value of the predicted connection events is 4, the first count value N is 12. In this case, the first time is calculated by the synchronizing end according to the current count value Z of the at least one connection event locally recorded, the current time and a preset connection event interval, i.e., the first time=the current time+(N&#x2212;Z) * the preset connection event interval. In another example, the first count value N is less than the current count value Z of the at least one connection event locally recorded, in which case the first time=the current time&#x2212;(Z&#x2212;N) * the preset connection event interval. In another example, the first count value N is equal to the current count value Z of the at least one connection event locally recorded, in which the first time is equal to the current time.</p><p id="p-0060" num="0059">In an example, information is transmitted between the synchronizing end and the synchronized end in the form of a data packet, and fields in the data packet may be configured to record the time synchronization information, i.e., a data packet including the time synchronization information is sent to the synchronized end for the synchronized end to perform the time synchronization according to the time synchronization information. The time synchronization information includes the first count value N and the first time.</p><p id="p-0061" num="0060">In this embodiment, Since the connection event is periodically generated after the synchronizing end and the synchronized end are connected, and the count values of connection events at both the synchronizing end and the synchronized end increase synchronously, the count value of the connection events at the synchronized end is the same as the count value of the connection events at the synchronizing end at the time of time synchronization execution, so that the synchronized end is able to achieve the accurate time synchronization with the synchronizing end.</p><p id="p-0062" num="0061">A fourth embodiment of the present disclosure relates to a method for time synchronization. The fourth embodiment is substantially the same as the third embodiment, and is different from the third embodiment in that whether synchronization is successful is determined according to received response information fed back by the synchronized end. A specific flowchart of the method for time synchronization in this embodiment is shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, which includes the following operations.</p><p id="p-0063" num="0062">In <b>401</b>, a first count value N of at least one connection event is determined, where N is a natural number.</p><p id="p-0064" num="0063">In <b>402</b>, a first time is determined according to a current count value Z of at least one connection event locally recorded, a current time, and a preset connection event interval. The first time refers to a time of occurrence of an N<sup>th </sup>connection event, Z is a natural number, and Z is less than N.</p><p id="p-0065" num="0064">In <b>403</b>, time synchronization information is sent to a synchronized end to enable the synchronized end to perform time synchronization according to the time synchronization information. The time synchronization information includes the first counter value N and the first time.</p><p id="p-0066" num="0065">The operations <b>401</b> to <b>403</b> are similar to operations <b>301</b> to <b>303</b>, thus details are not repeated herein.</p><p id="p-0067" num="0066">In <b>404</b>, response information fed back by the synchronized end is received. The response information includes a check count value Q of the at least one connection event and a check time, and Q is a natural number.</p><p id="p-0068" num="0067">Specifically, the synchronizing end parses the received response information to obtain the check count value Q of the at least one connection event and the check time. The check time refers to a time of occurrence of a Q<sup>th </sup>connection event. In one example, if the check count value Q is greater than the second count value K, the check time=the second time+(Q&#x2212;K) * a preset connection event interval. In another example, if the check count value Q is less than or equal to the second count value K, the check time=the second time&#x2212;(K&#x2212;Q) * the preset connection event interval.</p><p id="p-0069" num="0068">In <b>405</b>, a time of occurrence of a Q<sup>th </sup>connection event is determined according to at least a current count value H of the at least one connection event locally recorded, where H is a natural number and H is greater than Z.</p><p id="p-0070" num="0069">In <b>406</b>, in response to the time of occurrence of the Q<sup>th </sup>connection event being the check time, it is determined that the synchronization is successful.</p><p id="p-0071" num="0070">Specifically, the current count value H of the at least one connection event locally recorded refers to a count value of at least one connection event at the time the response information fed back by the synchronized end is received. In one example, if the current count value H of the at least one connection event is less than or equal to the check count value Q, a local current time is acquired as the time of occurrence of the Q<sup>th </sup>connection event in response to occurrence of the Q<sup>th </sup>connection event. In one example, if the current count value H of the at least one connection event is greater than the check count value Q, the local current time is acquired, and it is determined that the time of occurrence of the Q<sup>th </sup>connection event is the local current time minus (H&#x2212;Q) connection event intervals. In this case, the local current time is a time when the count value of the connection event is H, i.e., and the time of occurrence of the Q<sup>th </sup>connection event=the local current time&#x2212;(H&#x2212;Q) connection event intervals. If the time of occurrence of the Q<sup>th </sup>connection event is the check time, it is determined that the synchronization is successful. If the time of occurrence of the Q<sup>th </sup>connection event is not the check time, it is determined that the synchronization is unsuccessful, and the time synchronization is performed again.</p><p id="p-0072" num="0071">In this embodiment, it is determined whether the time synchronization is successful according to the time of occurrence of the Q<sup>th </sup>connection event and the check time, thereby improving the accuracy of the time synchronization.</p><p id="p-0073" num="0072">A fifth embodiment of the present disclosure relates to a method for broadcast setting applied at a network node. Networks connected to each other include a plurality of network nodes, the network is a mesh network, each of the network nodes completes time synchronization based on the method for time synchronization described above, and a number of the network nodes is less than or equal to a quotient of a broadcast period that is preset and a maximum duration for sending data at a single time for each of the network nodes. As shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, a specific flowchart of the method for broadcast setting in this embodiment includes the following operations.</p><p id="p-0074" num="0073">In <b>501</b>, the broadcast period is configured for each of the network nodes.</p><p id="p-0075" num="0074">Specifically, each network node joins the mesh network and completes the networking, and each network node completes the time synchronization based on the method for time synchronization described above. The broadcast period is preset according to actual needs, and the number of the network nodes is less than or equal to a quotient of the preset broadcast period and a maximum duration for sending data at a single time for each network node. For example, if the broadcast period is 20 ms and the maximum duration for sending data at a single time for the network node is 1 ms, a maximum of 20 network nodes is able to be selected.</p><p id="p-0076" num="0075">In <b>502</b>, a broadcast time point of each of the network nodes in each respective broadcast period is determined according to the broadcast period, the maximum duration for sending data at the single time, and the number of the network nodes.</p><p id="p-0077" num="0076">It should be noted that, after the broadcast time point of each network node in each respective broadcast period is determined, the broadcast time point corresponding to each network node is distributed to the corresponding network node. In one broadcast period, each network node transmits data at each corresponding broadcast time point, so that each network node transmits the data at different times.</p><p id="p-0078" num="0077">In one example, a specific flowchart for determining the broadcast time point of each of the network nodes in each respective broadcast period according to the broadcast period, the maximum duration for sending data at the single time, and the number of the network nodes is shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, which includes the following operations.</p><p id="p-0079" num="0078">In <b>5021</b>, a total piece number of transmitted data of the network nodes in each respective broadcast period is determined according to the broadcast period and the maximum duration for sending data at the single time.</p><p id="p-0080" num="0079">In <b>5022</b>, a piece number of transmitted data of each of the network nodes in each respective broadcast period is determined according to the total piece number of the transmitted data and the number of the network nodes.</p><p id="p-0081" num="0080">In <b>5023</b>, a total duration in which all the network nodes successively complete transmission of one piece of data is determined according to the broadcast period and the piece number of the transmitted data.</p><p id="p-0082" num="0081">Specifically, the total piece number of transmitted data of all the network nodes in the broadcast period=the broadcast period/the maximum duration for sending data at a single time, the piece number of transmitted data of each network node in the broadcast period=the total piece number of transmitted data/the number of the network nodes, and the total duration in which all the network nodes successively complete transmission of one piece of data=the broadcast period/the piece number of transmitted data.</p><p id="p-0083" num="0082">In <b>5024</b>, a Y<sup>th </sup>broadcast time point of an X<sup>th </sup>network node in the broadcast period is set as Y-1 total durations plus X-1 maximum durations for sending data at the single time, where X is less than or equal to the number of the network nodes, Y is less than or equal to the piece number of the transmitted data, and both X and Y are natural numbers.</p><p id="p-0084" num="0083">Specifically, the Y<sup>th </sup>broadcast time point of the X<sup>th </sup>network node in the broadcast period=(Y-1) total durations+(X-1) maximum durations for sending data at the single time, X is less than or equal to the number of the network nodes, Y is less than or equal to the number of the piece number of transmitted data, and both X and Y are natural numbers.</p><p id="p-0085" num="0084">In one example, if the broadcast period is 20 ms and the maximum duration for sending data at the single time is 1 ms, a maximum of 20 network nodes is able to be selected. If the number of the network nodes is 20, the total piece number of the transmitted data of all the network nodes in the broadcast period is 20, the piece number of the transmitted data of each network node in the broadcast period is 1, and the total duration in which all the network nodes successively complete transmission of one piece of data is 20 ms, then a node <b>1</b> transmits data at 0 ms of the broadcast period, a node <b>1</b> transmits data at 1<sup>st </sup>ms of the broadcast period, . . . , and a node <b>20</b> transmits data at 20<sup>th </sup>ms of the broadcast period. It should be noted that if the node <b>2</b> receives the data at 8<sup>th </sup>ms, the node <b>2</b> waits until the 1<sup>st </sup>ms of a next broadcast period to transmit the data.</p><p id="p-0086" num="0085">In another example, if the broadcast period is 20 ms and the maximum duration for sending data at the single time is 1 ms. If the number of the network nodes is 5, the total piece number of transmitted data of all the network nodes in the broadcast period is 20, the piece number of transmitted data of each network node in the broadcast period is 4, and the total duration in which all the network nodes successively complete transmission of one piece of data is 5 ms. <figref idref="DRAWINGS">FIG. <b>7</b></figref> shows a schematic diagram of broadcast time points corresponding to 5 network nodes, then the node <b>1</b> transmits data at 0 ms, 5<sup>th </sup>ms, 10<sup>th </sup>ms, 15<sup>th </sup>ms of the broadcast period, . . . , the node <b>5</b> transmits data at 4<sup>th </sup>ms, 9<sup>th </sup>ms, 14<sup>th </sup>ms, 19<sup>th </sup>ms of the broadcast period. It should be noted that if a network node has two or more broadcast time points in a broadcast period, the latest broadcast time point is selected to transmit data. As described in the above example, if the network node <b>2</b> receives the data at the 8<sup>th </sup>ms, the network node <b>2</b> transmits the data at the 11<sup>th </sup>ms of the broadcast period.</p><p id="p-0087" num="0086">In the existing technology, in order to avoid broadcast interference due to a plurality of network node receiving data at the same time and sending the data immediately, each network node may delay a random duration to send the data after receiving the data, but the random duration is uncontrollable. If the random duration is too long, the data transmission rate is affected, and if the random duration is too short, the probability of causing broadcast interference is increased. In the embodiments of the present disclosure, the network node transmits the data only when the corresponding broadcast time point is reached after receiving the data to be transmitted. In this way, the data transmission rate is ensured and the broadcast interference is not generated between the network nodes to affect each other.</p><p id="p-0088" num="0087">A sixth embodiment of the present disclosure relates to a chip connected to at least one memory storing instructions executable by the chip. The instructions, when executed by the chip, cause the chip to perform the methods for time synchronization, or the method for broadcast setting described above.</p><p id="p-0089" num="0088">A seventh embodiment of the present disclosure relates to an electronic device including the above chip.</p><p id="p-0090" num="0089">An eighth embodiment of the present disclosure relates to a computer readable storage medium storing a computer program. The computer program, when executed by at least one processor, cause the at least one processor to perform the methods for time synchronization, or the method for broadcast setting described above.</p><p id="p-0091" num="0090">Those of ordinary skill in the art should appreciate that the embodiments described above are specific embodiments of the present disclosure, and that various changes may be made thereto in form and detail in practical application without departing from the spirit and scope of the present disclosure.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method for time synchronization, applied at a synchronized end, comprising:<claim-text>receiving time synchronization information, wherein the time synchronization information includes a first count value N of at least one connection event at a synchronizing end and a first time, and the first time refers to a time of occurrence of an N<sup>th </sup>connection event;</claim-text><claim-text>determining a second count value K of the at least one connection event and a second time according to at least the first count value N and the first time, wherein the second time refers to a time of occurrence of a K<sup>th </sup>connection event, and both N and K are natural numbers; and</claim-text><claim-text>performing time synchronization based on the second time in response to occurrence of the K<sup>th </sup>connection event.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first count value N is greater than a current count value Z of at least one connection event locally recorded at the synchronizing end when the time synchronization information is issued, and wherein Z is a natural number.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining the second count value K of the at least one connection event and the second time according to at least the first count value N and the first time comprises:<claim-text>in response to a current count value M of at least one connection event locally recorded at the synchronized end being less than the first count value N, determining that a value of the second count value K is N, and the second time is the first time, wherein M is a natural number.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining the second count value K of the at least one connection event and the second time according to at least the first count value N and the first time comprises:<claim-text>in response to a current count value M of at least one connection event locally recorded at the synchronized end being greater than or equal to the first count value N, determining that a value of the second count value K is greater than or equal to M, and the second time is a sum of the first time and L preset connection event intervals, wherein L=K&#x2212;N, and both L and M are natural numbers.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein a value of the second count value K is M+1, and L=M&#x2212;N+1.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein after performing the time synchronization based on the second time in response to the occurrence of the K<sup>th </sup>connection event, the method further comprises:<claim-text>feeding back response information to the synchronizing end to enable the synchronizing end to determine whether the time synchronization is successful according to the response information, wherein the response information includes a check count value Q of the at least one connection event and a check time, the check time refers to a time of occurrence of a Q<sup>th </sup>connection event, and Q is a natural number.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the check count value Q is greater than the second count value K.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. A method for broadcast setting, applied at network nodes, wherein each of network nodes serving as a synchronized end completes time synchronization based on a method for time synchronization, and a number of the network nodes is less than or equal to a quotient of a broadcast period that is preset and a maximum duration for sending data at a single time for each of the network nodes; wherein:<claim-text>the method for time synchronization comprises:</claim-text><claim-text>receiving time synchronization information, wherein the time synchronization information includes a first count value N of at least one connection event at a synchronizing end and a first time, and the first time refers to a time of occurrence of an N<sup>th </sup>connection event;</claim-text><claim-text>determining a second count value K of the at least one connection event and a second time according to at least the first count value N and the first time, wherein the second time refers to a time of occurrence of a K<sup>th </sup>connection event, and both N and K are natural numbers; and</claim-text><claim-text>performing time synchronization based on the second time in response to occurrence of the K<sup>th </sup>connection event;</claim-text><claim-text>the method for broadcast setting comprises:</claim-text><claim-text>configuring the broadcast period for each of the network nodes; and</claim-text><claim-text>determining a broadcast time point of each of the network nodes in the broadcast period according to the broadcast period, the maximum duration for sending data at the single time, and the number of the network nodes.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein determining the broadcast time point of each of the network nodes in the broadcast period according to the broadcast period, the maximum duration for sending data at the single time, and the number of the network nodes comprises:<claim-text>determining a total piece number of transmitted data of all the network nodes in the broadcast period according to the broadcast period and the maximum duration for sending data at the single time;</claim-text><claim-text>determining a piece number of transmitted data of each of the network nodes in the broadcast period according to the total piece number of the transmitted data and the number of the network nodes;</claim-text><claim-text>determining a total duration in which all the network nodes successively complete transmission of one piece of data according to the broadcast period and the piece number of the transmitted data; and</claim-text><claim-text>setting a Y<sup>th </sup>broadcast time point of an X<sup>th </sup>network node in the broadcast period as Y-1 total durations plus X-1 maximum durations for sending data at the single time, wherein X is less than or equal to the number of the network nodes, Y is less than or equal to the piece number of the transmitted data, and both X and Y are natural numbers.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A method for time synchronization, applied at a synchronizing end, comprising:<claim-text>determining a first count value N of at least one connection event, wherein N is a natural number;</claim-text><claim-text>determining a first time according to a current count value Z of at least one connection event locally recorded, a current time, and a preset connection event interval, wherein the first time refers to a time of occurrence of an N<sup>th </sup>connection event, and Z is a natural number; and</claim-text><claim-text>sending time synchronization information to a synchronized end to enable the synchronized end to perform time synchronization according to the time synchronization information, wherein the time synchronization information includes the first counter value N and the first time.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein after sending the time synchronization information to the synchronized end to enable the synchronized end to perform time synchronization according to the time synchronization information, the method further comprises:<claim-text>receiving response information fed back by the synchronized end, wherein the response information includes a check count value Q of the at least one connection event and a check time, and Q is a natural number;</claim-text><claim-text>determining a time of occurrence of a Q<sup>th </sup>connection event according to at least a current count value H of the at least one connection event locally recorded, wherein H is a natural number and H is greater than Z; and</claim-text><claim-text>determining that the time synchronization succeeds in response to the time of occurrence of the Q<sup>th </sup>connection event being the check time.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein determining the time of occurrence of the Q<sup>th </sup>connection event according to at least the current count value H of the at least one connection event locally recorded comprises:<claim-text>in response to the current count value H being less than or equal to the check count value Q, acquiring a local current time as the time of occurrence of the Q<sup>th </sup>connection event when the Q<sup>th </sup>connection event occurs.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein determining the time of occurrence of the Q<sup>th </sup>connection event according to at least the current count value H of the at least one connection event locally recorded comprises:<claim-text>in response to the current count value H being greater than the check count value Q, acquiring a local current time, and determining the time of occurrence of the Q<sup>th </sup>connection event as the local current time minus H&#x2212;Q connection event intervals.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. A chip, connected to at least one memory storing instructions executable by the chip, wherein the instructions, when executed by the chip, cause the chip to perform the method for time synchronization according to <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. An electronic device comprising the chip according to <claim-ref idref="CLM-00014">claim 14</claim-ref>.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. A non-transitory computer readable storage medium storing a computer program, wherein the computer program, when executed by at least one processor, cause the at least one processor to perform the method for time synchronization according to <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein connection events are periodically generated after the synchronizing end and the synchronized end are connected, and a count value of connection events at the synchronizing end and a count value of connection events at the synchronized end increase synchronously such that the count value of the connection events at the synchronizing end is the same as the count value of the connection events at the synchronized end at a time of performing time synchronization.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the check count value Q is obtained by adding a count value of at least one predicted connection event to the second count value K, and the count value of the at least one predicted connection event is a count value of at least one connection event that possibly occurs when data transmission and data processing occupy time.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the check count value Q is less than or equal to the second count value K.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the total piece number of the transmitted data of all the network nodes in the broadcast period is equal to a quotient of the broadcast period and the maximum duration for sending data at the single time, the piece number of the transmitted data of each of the network nodes in the broadcast period is equal to a quotient of the total piece number of the transmitted data and the number of the network nodes, and the total duration in which all the network nodes successively complete transmission of one piece of data is equal to a quotient of the broadcast period and the piece number of the transmitted data.</claim-text></claim></claims></us-patent-application>