<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230001098A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230001098</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17779463</doc-number><date>20200220</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>A</section><class>61</class><subclass>M</subclass><main-group>5</main-group><subgroup>315</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>A</section><class>61</class><subclass>M</subclass><main-group>5</main-group><subgroup>31568</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>A</section><class>61</class><subclass>M</subclass><main-group>5</main-group><subgroup>31553</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>A</section><class>61</class><subclass>M</subclass><main-group>5</main-group><subgroup>31593</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>A</section><class>61</class><subclass>M</subclass><main-group>2205</main-group><subgroup>3584</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>A</section><class>61</class><subclass>M</subclass><main-group>2205</main-group><subgroup>52</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>A</section><class>61</class><subclass>M</subclass><main-group>2205</main-group><subgroup>6072</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">MEDICATION DELIVERY DEVICE WITH SENSING SYSTEM</invention-title><us-related-documents><us-provisional-application><document-id><country>US</country><doc-number>62811228</doc-number><date>20190227</date></document-id></us-provisional-application><us-provisional-application><document-id><country>US</country><doc-number>62946628</doc-number><date>20191211</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Eli Lilly and Company</orgname><address><city>Indianapolis</city><state>IN</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>FRIEDLANDER</last-name><first-name>Jay Mark</first-name><address><city>Carmel</city><state>IN</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>MURPHY</last-name><first-name>Patrick Kevin</first-name><address><city>Allston</city><state>MA</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>PSZENNY</last-name><first-name>Sean Matthew</first-name><address><city>Cambridge</city><state>MA</state><country>US</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>SHRESTHA</last-name><first-name>Labi</first-name><address><city>Somerville</city><state>MA</state><country>US</country></address></addressbook></inventor></inventors></us-parties><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/US2020/018962</doc-number><date>20200220</date></document-id><us-371c12-date><date>20220524</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">Medication delivery devices are provided having a housing comprising a reservoir sized sufficiently to hold medication, a dose button being rotatable relative to the housing to select a dose size of the medication for an injection, a printed circuit board, a switch mounted to the printed circuit board, and a controller in communication with the switch. The controller is configured to generate a first count of a set of signals using a first counting technique, generate a second count of the set of signals using a second counting technique, and determine, based on the first and second count, reliability data of the first and/or second count. The controller can connect, using a wireless communication module, to a remote computing device to wirelessly communicate with the remote computing device over an unencrypted wireless communication channel, and transmit, using the wireless communication module, encrypted data to the remote computing device.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="154.43mm" wi="129.54mm" file="US20230001098A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="147.66mm" wi="135.38mm" file="US20230001098A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="124.80mm" wi="139.02mm" file="US20230001098A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="219.63mm" wi="121.92mm" orientation="landscape" file="US20230001098A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="193.80mm" wi="130.30mm" orientation="landscape" file="US20230001098A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="176.53mm" wi="122.60mm" file="US20230001098A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="184.15mm" wi="121.75mm" file="US20230001098A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="197.27mm" wi="100.25mm" file="US20230001098A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="213.95mm" wi="82.72mm" file="US20230001098A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="221.15mm" wi="81.28mm" file="US20230001098A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="198.29mm" wi="89.41mm" orientation="landscape" file="US20230001098A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="243.67mm" wi="98.21mm" file="US20230001098A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="227.08mm" wi="113.54mm" file="US20230001098A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="227.08mm" wi="115.74mm" file="US20230001098A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="117.52mm" wi="112.52mm" file="US20230001098A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="236.22mm" wi="87.12mm" file="US20230001098A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="235.37mm" wi="92.96mm" file="US20230001098A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="172.47mm" wi="127.59mm" file="US20230001098A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="155.36mm" wi="135.81mm" file="US20230001098A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="172.13mm" wi="152.32mm" orientation="landscape" file="US20230001098A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="199.73mm" wi="74.34mm" orientation="landscape" file="US20230001098A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="182.63mm" wi="131.57mm" file="US20230001098A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00022" num="00022"><img id="EMI-D00022" he="197.44mm" wi="131.57mm" file="US20230001098A1-20230105-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00023" num="00023"><img id="EMI-D00023" he="232.58mm" wi="131.57mm" file="US20230001098A1-20230105-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00024" num="00024"><img id="EMI-D00024" he="241.30mm" wi="156.38mm" orientation="landscape" file="US20230001098A1-20230105-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND</heading><p id="p-0002" num="0001">Patients suffering from various diseases must frequently inject themselves with medication. To allow a person to conveniently and accurately self-administer medicine, a variety of devices broadly known as pen injectors or injection pens have been developed. Generally, these pens are equipped with a cartridge including a piston and containing a multi-dose quantity of liquid medication. A drive member is movable forward to advance the piston in the cartridge to dispense the contained medication from an outlet at the distal cartridge end, typically through a needle.</p><p id="p-0003" num="0002">In disposable or prefilled pens, after a pen has been utilized to exhaust the supply of medication within the cartridge, a user discards the entire pen and begins using a new replacement pen. In reusable pens, after a pen has been utilized to exhaust the supply of medication within the cartridge, the pen is disassembled to allow replacement of the spent cartridge with a fresh cartridge, and then the pen is reassembled for its subsequent use.</p><p id="p-0004" num="0003">Such devices may have components that physically interact with one another to result in a state change or an action by the device. For example, the device may have a cap that is removed prior to delivery, a dose button that may be rotated to set a dose and/or actuated to deliver a dose, an &#x201c;on&#x201d; button that wakes the device, and so on.</p><p id="p-0005" num="0004">The inventors have appreciated that switches can be used to detect the occurrence of such interactions. The inventors have also appreciated that some of these physical interactions may happen repeatedly. The inventors have thus recognized a need for a simple, low-cost switch that can be repeatedly opened and closed to detect such interactions.</p><heading id="h-0002" level="1">SUMMARY</heading><p id="p-0006" num="0005">The present disclosure relates to a medication delivery device provided, including a housing comprising a reservoir sized sufficiently to hold medication, a dose button being rotatable relative to the housing to select a dose size of the medication for an injection, a printed circuit board, a switch mounted to the printed circuit board, and a controller in communication with the switch. The controller is configured to receive a set of signals from the switch, generate, based on the set of signals, a first count of the set of signals using a first counting technique, generate, based on the set of signals, a second count of the set of signals using a second counting technique, and determine, based on the first count and the second count, data indicative of a reliability of the first count, the second count, or both.</p><p id="p-0007" num="0006">In one embodiment, a computerized method is provided, the method being executed by a controller of a medication delivery device, wherein the controller is in communication with a switch mounted to a printed circuit board, the method comprising receiving a set of signals from the switch, generating, based on the set of signals, a first count of the set of signals using a first counting technique, generating, based on the set of signals, a second count of the set of signals using a second counting technique, and determining, based on the first count and the second count, data indicative of a reliability of the first count, the second count, or both.</p><p id="p-0008" num="0007">In one embodiment, a medication delivery device is provided, including a housing comprising a reservoir sized sufficiently to hold medication, a dose button being rotatable relative to the housing to select a dose size of the medication for an injection, a wireless communication module, and a controller in communication with the wireless communication module. The controller is configured to generate injection event information for the medication delivery device, connect, using the wireless communication module, to a remote computing device to wirelessly communicate with the remote computing device over an unencrypted wireless communication channel, and transmit, using the wireless communication module, encrypted data to the remote computing device over the unencrypted wireless communication channel, wherein the encrypted data comprises data indicative of the injection event information.</p><p id="p-0009" num="0008">In one embodiment, a computerized method is provided, the method being executed by a controller of a medication delivery device, wherein the controller is in communication with a wireless communication module, the method comprising generating injection event information for the medication delivery device, connecting, using the wireless communication module, to a remote computing device to wirelessly communicate with the remote computing device over an unencrypted wireless communication channel, and transmitting, using the wireless communication module, encrypted data to the remote computing device over the unencrypted wireless communication channel wherein the encrypted data comprises data indicative of the injection event information.</p><p id="p-0010" num="0009">In one embodiment, a computing device is provided, including at least one processor in communication with a memory configured to store machine-readable instructions that cause the at least one processor to connect to a wireless communication module of a medication delivery device to wirelessly communicate with the medication delivery device over an unencrypted wireless communication channel, wherein the medication delivery device comprises (a) a housing comprising a reservoir sized sufficiently to hold medication, (b) a dose button being rotatable relative to the housing to select a dose size of the medication for an injection, and (c) a controller in communication with the wireless communication module, and receive, from the medication delivery device using the wireless communication channel, encrypted data over the unencrypted wireless communication channel, wherein the encrypted data comprises injection event information generated by the medication delivery device.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0011" num="0010">Additional embodiments of the disclosure, as well as features and advantages thereof, will become more apparent by reference to the description herein taken in conjunction with the accompanying drawings. The components in the figures are not necessarily to scale. Moreover, in the figures, like-referenced numerals designate corresponding parts throughout the different views.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a perspective view of a medication delivery device having a dose detection system according to aspects of the present disclosure.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a partially exploded perspective view of the medication delivery device of <figref idref="DRAWINGS">FIG. <b>1</b></figref>, showing a dose button having a support and a cover, where the cover is shown separated from the support.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a partially exploded perspective view of the medication delivery device of <figref idref="DRAWINGS">FIG. <b>1</b></figref> showing the components of the dose detection system.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a cross-sectional view of the medication delivery device of <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a partial cutaway view of a proximal end of the medication delivery device of <figref idref="DRAWINGS">FIG. <b>1</b></figref>, showing components of the dose detection system.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is an underside view of a portion of the dose button of <figref idref="DRAWINGS">FIG. <b>1</b></figref>, showing a printed circuit board held within the dose button cover.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is an exploded view of the portion of the dose button shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a perspective view of a flange of a dose detection system of a medication delivery device.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a top down view of the flange of <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a perspective view of a dose button support.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a top down view of the dose button support of <figref idref="DRAWINGS">FIG. <b>10</b></figref>.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a perspective view of a printed circuit board and sensor switch according to aspects of the present disclosure.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a perspective view of a cantilevered arm and base of the sensor switch of <figref idref="DRAWINGS">FIG. <b>12</b></figref>.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a side view of the cantilevered arm and base of <figref idref="DRAWINGS">FIG. <b>13</b></figref>.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a side view of the cantilevered arm of <figref idref="DRAWINGS">FIG. <b>12</b></figref> positioned between two teeth of a flange.</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>16</b></figref> shows the cantilevered arm of <figref idref="DRAWINGS">FIG. <b>15</b></figref> being pushed by one of the teeth of the flange during rotation of the flange.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>17</b></figref> shows the cantilevered arm being pushed further by the tooth of the flange such that a portion of the cantilevered arm has moved toward and is in contact with a conductive pad, closing the switch.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>18</b></figref> shows the cantilevered arm sliding over the tooth of the flange.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>19</b></figref> shows the cantilevered arm interacting with the next adjacent tooth of the flange.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a perspective view of a switch design according to another embodiment.</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is a side view of the switch of <figref idref="DRAWINGS">FIG. <b>20</b></figref>.</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is a perspective view of a switch design according to another embodiment.</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is a side view of the switch of <figref idref="DRAWINGS">FIG. <b>22</b></figref>.</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a perspective view of the switch of <figref idref="DRAWINGS">FIG. <b>22</b></figref> interacting with a rotating flange.</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>25</b></figref> is a side view of the switch of <figref idref="DRAWINGS">FIG. <b>20</b></figref> that shows a center of mass of the switch.</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>26</b>A</figref> is an exemplary block diagram illustrating functional aspects of a printed circuit board for processing signals from a sensor, according to some embodiments.</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>26</b>B</figref> is a graph showing an exemplary set of signals generated by a sensor, according to some embodiments.</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is a flow chart showing an exemplary computerized method for processing signals from a rotational sensor, according to some embodiments.</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>28</b></figref> is a flow chart showing an exemplary encryption scheme that uses an open communication channel to exchange encrypted information and accesses encryption information from a cloud computing device, according to some embodiments.</p><p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. <b>29</b></figref> is a flow chart showing an exemplary encryption scheme that uses an open communication channel to exchange encrypted information and determines encryption information from a barcode on the medication delivery device, according to some embodiments.</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>30</b></figref> is a diagram illustrating various states and associated functionality of a medication delivery device, according to some embodiments.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0004" level="1">DETAILED DESCRIPTION</heading><p id="p-0043" num="0042">For the purposes of promoting an understanding of the principles of the present disclosure, reference will now be made to the embodiments illustrated in the drawings, and specific language will be used to describe the same. It will nevertheless be understood that no limitation of the scope of the invention is thereby intended.</p><p id="p-0044" num="0043">The present disclosure relates to sensing systems for medication delivery devices.</p><p id="p-0045" num="0044">In one aspect, the sensing system includes a switch with an arm that is moveable to open and close the switch. The switch is used for sensing of relative rotational movement between a dose-setting assembly and an actuator of the medication delivery device in order to determine the amount of a dose delivered by a medication delivery device. The sensed relative rotational movements are correlated to the amount of the dose delivered. By way of illustration, the medication delivery device is described in the form of a pen injector. However, the medication delivery device may be any device which is used to set and to deliver a dose of a medication, such as pen injectors, infusion pumps and syringes. The medication may be any of a type that may be delivered by such a medication delivery device.</p><p id="p-0046" num="0045">The present disclosure also relates to various software and/or hardware-based techniques of the medication delivery device and a remote computing device that is in communication with the medication delivery device.</p><p id="p-0047" num="0046">In one aspect, the medication delivery device includes a housing with a reservoir sized sufficiently to hold medication, a dose button being rotatable relative to the housing to select a dose size of the medication for an injection, a printed circuit board, a switch mounted to the printed circuit board, and a controller in communication with the switch. The controller is configured to receive a set of signals from the switch, generate, based on the set of signals, a first count of the set of signals using a first counting technique and a second count of the set of signals using a second counting technique, and determine, based on the first count and the second count, data indicative of a reliability of the first count, the second count, or both.</p><p id="p-0048" num="0047">In another aspect, the medication delivery device includes a housing with a reservoir sized sufficiently to hold medication, a dose button being rotatable relative to the housing to select a dose size of the medication for an injection, a wireless communication module, and a controller in communication with the wireless communication module. The controller is configured to generate injection event information for the medication delivery device, connect, using the wireless communication module, to a remote computing device to wirelessly communicate with the remote computing device over an unencrypted wireless communication channel, and transmit, using the wireless communication module, encrypted data to the remote computing device over the unencrypted wireless communication channel.</p><p id="p-0049" num="0048">Devices described herein may further comprise a medication, such as for example, within a reservoir or cartridge <b>20</b>. In another embodiment, a system may comprise one or more devices including device <b>10</b> and a medication. The term &#x201c;medication&#x201d; refers to one or more therapeutic agents including but not limited to insulins, insulin analogs such as insulin lispro or insulin glargine, insulin derivatives, GLP-1 receptor agonists such as dulaglutide or liraglutide, glucagon, glucagon analogs, glucagon derivatives, gastric inhibitory polypeptide (GIP), GIP analogs, GIP derivatives, oxyntomodulin analogs, oxyntomodulin derivatives, therapeutic antibodies and any therapeutic agent that is capable of delivery by the above device. The medication as used in the device may be formulated with one or more excipients. The device is operated in a manner generally as described above by a patient, caregiver or healthcare professional to deliver medication to a person.</p><p id="p-0050" num="0049">An exemplary medication delivery device <b>10</b> is illustrated in <figref idref="DRAWINGS">FIGS. <b>1</b>-<b>4</b></figref> as a pen injector configured to inject a medication into a patient through a needle. Device <b>10</b> includes a body <b>11</b> that may comprise an elongated, pen-shaped housing <b>12</b> including a distal portion <b>14</b> and a proximal portion <b>16</b>. Distal portion <b>14</b> may be received within a pen cap <b>18</b>. Referring to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, distal portion <b>14</b> may contain a reservoir or cartridge <b>20</b> configured to hold the medicinal fluid to be dispensed through the outlet <b>21</b> of the housing a dispensing operation. The outlet <b>21</b> of distal portion <b>14</b> may be equipped with an injection needle <b>24</b>. In some embodiments, the injection needle is removable from the housing. In some embodiments, the injection needle is replaced with a new injection needle after each use.</p><p id="p-0051" num="0050">A piston <b>26</b> may be positioned in reservoir <b>20</b>. The medication delivery device may include an injecting mechanism positioned in proximal portion <b>16</b> that is operative to advance piston <b>26</b> toward the outlet of reservoir <b>20</b> during the dose dispensing operation to force the contained medicine through the needled end. The injecting mechanism may include a drive member <b>28</b>, illustratively in the form of a screw, that is axially moveable relative to housing <b>12</b> to advance piston <b>26</b> through reservoir <b>20</b>.</p><p id="p-0052" num="0051">The device may include a dose-setting assembly coupled to the housing <b>12</b> for setting a dose amount to be dispensed by device <b>10</b>. As best seen in <figref idref="DRAWINGS">FIGS. <b>3</b> and <b>4</b></figref>, in the illustrated embodiment, the dose-setting assembly includes a dose-setting screw <b>32</b> and a flange <b>38</b>. The dose-setting screw <b>32</b> is in the form of a screw element operative to spiral (i.e., simultaneously move axially and rotationally) about a longitudinal axis AA of rotation relative to housing <b>12</b> during dose setting and dose dispensing. <figref idref="DRAWINGS">FIGS. <b>3</b> and <b>4</b></figref> illustrate the dose-setting screw <b>32</b> fully screwed into housing <b>12</b> at its home or zero dose position. Dose-setting screw <b>32</b> is operative to screw out in a proximal direction from housing <b>12</b> until it reaches a fully extended position corresponding to a maximum dose deliverable by device <b>10</b> in a single injection. The extended positon may be any position between a position corresponding to an incremental extended position (such as a dose setting a 0.5 or 1 unit) to a fully extended position corresponding to a maximum dose deliverable by device <b>10</b> in a single injection and to screw into housing <b>12</b> in a distal direction until it reaches the home or zero position corresponding to a minimum dose deliverable by device <b>10</b> in a single injection.</p><p id="p-0053" num="0052">Referring to <figref idref="DRAWINGS">FIGS. <b>3</b> and <b>4</b></figref>, dose-setting screw <b>32</b> includes a helically threaded outer surface that engages a corresponding threaded inner surface <b>13</b> of housing <b>12</b> to allow dose-setting screw <b>32</b> to spiral (i.e. simultaneously rotate and translate) relative to housing <b>12</b>. Dose-setting screw <b>32</b> further includes a helically threaded inner surface that engages a threaded outer surface of sleeve <b>34</b> (<figref idref="DRAWINGS">FIG. <b>4</b></figref>) of device <b>10</b>. The outer surface of dose-setting screw <b>32</b> includes dose indicator markings, such as numbers that are visible through a dosage window <b>36</b> to indicate to the user the set dose amount.</p><p id="p-0054" num="0053">As mentioned above, in some embodiments, the dose-setting assembly further includes a tubular flange <b>38</b> that is coupled in the open proximal end of dose-setting screw <b>32</b> and is axially and rotationally locked to the dose-setting screw <b>32</b> by protrusions <b>40</b> received within openings <b>41</b> in the dose-setting screw <b>32</b>. The protrusions <b>40</b> of the flange <b>38</b> can be seen in <figref idref="DRAWINGS">FIGS. <b>3</b>, <b>8</b> and <b>9</b></figref>, and the openings <b>41</b> of the dose-setting screw <b>32</b> can be seen in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0055" num="0054">As seen in <figref idref="DRAWINGS">FIGS. <b>3</b> and <b>4</b></figref>, delivery device <b>10</b> may include an actuator assembly having a clutch <b>52</b> and a dose button <b>30</b>. The clutch <b>52</b> is received within the dose-setting screw <b>32</b>, and the clutch <b>52</b> includes an axially extending stem <b>54</b> at its proximal end. The dose button <b>30</b> of the actuator assembly is positioned proximally of the dose-setting screw <b>32</b> and flange <b>38</b>. Dose button <b>30</b> includes a support <b>42</b>, also referred to herein as an &#x201c;under button,&#x201d; and a cover <b>56</b>, also referred to herein as an &#x201c;over button.&#x201d; As will be discussed, the support <b>42</b> and cover <b>56</b> enclose electronics components used to store and/or communicate data relating to amount of dose delivered by a medication delivery device.</p><p id="p-0056" num="0055">The support <b>42</b> of the dose button may be attached to the stem <b>54</b> of the clutch <b>52</b>, such as with an interference fit or an ultrasonic weld, so as to axially and rotatably fix together dose button <b>30</b> and clutch <b>52</b>.</p><p id="p-0057" num="0056">In some embodiments, a portion of the clutch may pass through a lumen <b>39</b> of the flange <b>38</b>. The lumen <b>39</b> of the flange is best seen in <figref idref="DRAWINGS">FIGS. <b>8</b> and <b>9</b></figref>. The lumen <b>39</b> may, in some embodiments, serve to help center the clutch <b>52</b> in place.</p><p id="p-0058" num="0057">Proximal face <b>60</b> of the dose button <b>30</b> may serve as a push surface against which a force can be applied manually, i.e., directly by the user to push the actuator assembly (dose button <b>30</b> and clutch <b>52</b>) in a distal direction. A bias member <b>68</b>, illustratively a spring, may be disposed between the distal surface <b>70</b> of support <b>42</b> and a proximal surface <b>72</b> of tubular flange <b>38</b> (<figref idref="DRAWINGS">FIGS. <b>8</b> and <b>9</b></figref>) to urge the support <b>42</b> of the actuation assembly and the flange <b>38</b> of the dose-setting assembly axially away from each other. Dose button <b>30</b> is depressible by a user to initiate the dose dispensing operation. In some embodiments, the bias member <b>68</b> is seated against this proximal surface <b>72</b> and may surround a raised collar <b>37</b> of the flange <b>38</b>.</p><p id="p-0059" num="0058">Delivery device <b>10</b> is operable in a dose setting mode and a dose dispensing mode. In the dose setting mode of operation, the dose button <b>30</b> is rotated relative to housing <b>12</b> to set a desired dose to be delivered by device <b>10</b>. In some embodiments, rotating the dose button <b>30</b> in one direction relative to the housing <b>12</b> causes the dose button <b>30</b> to axially translate proximally relative to the housing <b>12</b>, and rotating the dose button <b>30</b> in the opposite direction relative to the housing <b>12</b> causes the dose button <b>30</b> to axially translate distally relative to the housing. In some embodiments, clockwise rotation of the dose button moves the dose button <b>30</b> distally, and counter-clockwise rotation of the dose button moves the dose button proximally, or vice versa.</p><p id="p-0060" num="0059">In some embodiments, rotating the dose button <b>30</b> to axially translate the dose button <b>30</b> in the proximal direction serves to increase the set dose, and rotating the dose button <b>30</b> to axially translate the dose button <b>30</b> in the distal direction serves to decrease the set dose. The dose button <b>30</b> is adjustable in pre-defined rotational increments corresponding to the minimum incremental increase or decrease of the set dose during the dose setting operation. The dose button may include a detent mechanism such that each rotational increment produces an audible and/or tactile &#x201c;click.&#x201d; For example, one increment or &#x201c;click&#x201d; may equal one-half or one unit of medication.</p><p id="p-0061" num="0060">In some embodiments, the set dose amount may be visible to the user via the dial indicator markings shown through a dosage window <b>36</b>. During the dose setting mode, the actuator assembly, which includes the which includes the dose button <b>30</b> and clutch <b>52</b>, moves axially and rotationally with the dose-setting assembly, which includes the flange <b>38</b> and the dose-setting screw <b>32</b>.</p><p id="p-0062" num="0061">Dose-setting screw <b>32</b> and flange <b>38</b> are fixed rotationally to one another, and rotate and move proximally during dose setting, due to the threaded connection of the dose-setting screw <b>32</b> with housing <b>12</b>. During this dose setting motion, the dose button <b>30</b> is rotationally fixed relative to the flange <b>38</b> and the dose-setting screw <b>32</b> by complementary splines <b>74</b> of flange <b>38</b> and clutch <b>52</b> (<figref idref="DRAWINGS">FIG. <b>4</b></figref>), which are urged together by the bias member <b>68</b>. In the course of dose setting, the dose-setting screw <b>32</b>, flange <b>38</b>, clutch <b>52</b>, and dose button <b>30</b> move relative to the housing <b>12</b> in a spiral manner (i.e. simultaneous rotation and axial translation) from a &#x201c;start&#x201d; position to an &#x201c;end&#x201d; position. This rotation and translation relative to the housing is in proportion to the amount of dose set by operation of the medication delivery device <b>10</b>.</p><p id="p-0063" num="0062">Once the desired dose is set, device <b>10</b> is manipulated so the injection needle <b>24</b> properly penetrates, for example, a user's skin. The dose dispensing mode of operation is initiated in response to an axial distal force applied to the proximal face <b>60</b> of dose button <b>30</b>. The axial force is applied by the user directly to dose button <b>30</b>. This causes axial movement of the actuator assembly (dose button <b>30</b> and clutch <b>52</b>) in the distal direction relative to housing <b>12</b>.</p><p id="p-0064" num="0063">The axial shifting motion of the actuator assembly compresses biasing member <b>68</b> and reduces or closes the gap between dose button <b>30</b> and the tubular flange <b>38</b>. This relative axial movement separates the complementary splines <b>74</b> on clutch <b>52</b> and flange <b>38</b>, and thereby disengages the dose button <b>30</b> from being rotationally fixed to the flange <b>38</b> and the dose-setting screw <b>32</b>. In particular, the dose-setting screw <b>32</b> is rotationally uncoupled from the dose button <b>30</b> to allow backdriving rotation of the dose-setting screw <b>32</b> relative to the dose button <b>30</b> and the housing <b>12</b>. Also, while the dose-setting screw <b>32</b> and flange <b>38</b> are free to rotate relative to the housing <b>12</b>, the dose button <b>30</b> is held from rotating relative to the housing <b>12</b> by the user's engagement of dose button <b>30</b> by pressing against it.</p><p id="p-0065" num="0064">As dose button <b>30</b> and clutch <b>52</b> are continued to be axially plunged without rotation relative to housing <b>12</b>, dose-setting screw <b>32</b> screws back into housing <b>12</b> as it spins relative to dose button <b>30</b>. The dose markings that indicate the amount still remaining to be injected are visible through window <b>36</b>. As dose-setting screw <b>32</b> screws down distally, drive member <b>28</b> is advanced distally to push piston <b>26</b> through reservoir <b>20</b> and expel medication through needle <b>24</b>.</p><p id="p-0066" num="0065">During the dose dispensing operation, the amount of medicine expelled from the medication delivery device is proportional to the amount of rotational movement of the dose-setting screw <b>32</b> relative to the housing <b>12</b> as the dose-setting screw <b>32</b> screws back into housing <b>12</b>. In some embodiments, because the dose button <b>30</b> is rotationally fixed relative to the housing <b>12</b> during the dose dispensing mode, the amount of medicine expelled from the medication delivery device may be viewed as being proportional to the amount of rotational movement of the dose-setting screw <b>32</b> relative to the dose button <b>30</b> as the dose-setting <b>32</b> screws back into housing <b>12</b>. The injection is completed when the internal threading of dose-setting screw <b>32</b> has reached the distal end of the corresponding outer threading of sleeve <b>34</b> (<figref idref="DRAWINGS">FIG. <b>4</b></figref>). Device <b>10</b> is then once again arranged in a ready state or zero dose position as shown in <figref idref="DRAWINGS">FIGS. <b>2</b> and <b>4</b></figref>.</p><p id="p-0067" num="0066">As discussed above, the dose delivered may be derived based on the amount of rotation of the dose-setting assembly (flange <b>38</b> and dose-setting screw <b>32</b>) relative to the actuator assembly (clutch <b>52</b> and dose button <b>30</b>) during dose delivery. This rotation may be determined by detecting the incremental movements of the dose-setting assembly which are &#x201c;counted&#x201d; as the dose-setting assembly is rotated during dose delivery.</p><p id="p-0068" num="0067">Further details of the design and operation of an exemplary delivery device <b>10</b> may be found in U.S. Pat. No. 7,291,132, entitled Medication Dispensing Apparatus with Triple Screw Threads for Mechanical Advantage, the entire disclosure of which is hereby incorporated by reference herein. Another example of the delivery device is an auto-injector device that may be found in U.S. Pat. No. 8,734,394, entitled &#x201c;Automatic Injection Device With Delay Mechanism Including Dual Functioning Biasing Member,&#x201d; which is hereby incorporated by reference in its entirety, where such device being modified with one or more various sensor systems described herein to determine an amount of medication delivered from the medication delivery device based on the sensing of relative rotation within the medication delivery device. Another example of the delivery device is a reusable pen device that may be found in U.S. Pat. No. 7,195,616, entitled &#x201c;Medication Injector Apparatus with Drive Assembly that Facilitates Reset,&#x201d; which is hereby incorporated by reference in its entirety, where such device being modified with one or more various sensor systems described herein to determine an amount of medication delivered from the medication delivery device based on the sensing of relative rotation within the medication delivery device.</p><p id="p-0069" num="0068">Described herein is a dose detection system that may be operable to determine the amount of dose delivered based on relative rotation between a dose setting member and the device body. The dose detection system utilizes a dose setting member attached to the device body and rotatable relative to the device body about an axis of rotation during dose delivery. A sensed element is attached to and rotationally fixed with the dose setting member. An actuator is attached to the device body and is held against rotation relative to the device body during dose delivery. The sensed element thereby rotates relative to the actuator during dose delivery in relation to the amount of dose delivered.</p><p id="p-0070" num="0069">In some embodiments, the dose detection system comprises a rotational sensor attached to the actuator assembly and a sensed element that includes surface features that are equally radially spaced about the axis of rotation of the sensed element.</p><p id="p-0071" num="0070">In some embodiments, the dose detection systems may include a sensor and a sensed component attached to components of the medication delivery device. The term &#x201c;attached&#x201d; encompasses any manner of securing the position of a component to another component or to a member of the medication delivery device such that they are operable as described herein. For example, a sensor may be attached to a component of the medication delivery device by being directly positioned on, received within, integral with, or otherwise connected to, the component. Connections may include, for example, connections formed by frictional engagement, splines, a snap or press fit, sonic welding or adhesive.</p><p id="p-0072" num="0071">The term &#x201c;directly attached&#x201d; is used to describe an attachment in which two components, or a component and a member, are physically secured together with no intermediate member, other than attachment components. An attachment component may comprise a fastener, adapter or other part of a fastening system, such as a compressible membrane interposed between the two components to facilitate the attachment. A &#x201c;direct attachment&#x201d; is distinguished from attachment where the components/members are coupled by one or more intermediate functional members.</p><p id="p-0073" num="0072">The term &#x201c;fixed&#x201d; is used to denote that an indicated movement either can or cannot occur. For example, a first member is &#x201c;fixed rotationally&#x201d; with a second member if the two members are required to move together in rotation. In one aspect, a member may be &#x201c;fixed&#x201d; relative to another member functionally, rather than structurally. For example, a member may be pressed against another member such that the frictional engagement between the two members fixes them together rotationally, while the two members may not be fixed together absent the pressing of the first member.</p><p id="p-0074" num="0073">Various sensor arrangements are contemplated herein. In general, the sensor arrangements comprise a sensor and a sensed component. The term &#x201c;sensor&#x201d; refers to any component which is able to detect the relative position or movement of the sensed component. The sensor may be used with associated electrical components to operate the sensor. The &#x201c;sensed component&#x201d; is any component for which the sensor is able to detect the position and/or movement of the sensed component relative to the sensor. For the dose detection system, the sensed component rotates relative to the sensor, which is able to detect the rotational movement of the sensed component. The sensor may comprise one or more sensing elements, and the sensed component may comprise one or more sensed elements. The sensor detects the movement of the sensed component and provides outputs representative of the movement of the sensed component.</p><p id="p-0075" num="0074">Illustratively, the dose detection system includes an electronics assembly suitable for operation of the sensor arrangement as described herein. The medication delivery device may include a controller that is operably connected to the sensor to receive outputs from the sensor. The controller begins receiving generated signals from the sensor indicative of counts from first to last one for a total number of counts that is used for determining total displacement, e.g. angular displacement. In the case of detecting an angular movement of a dose-setting assembly, the controller may be configured to receive data indicative of the angular movement of the dose-setting assembly that can be used to determine from the outputs the amount of dose delivered by operation of the medication delivery device. The controller may be configured to determine from the outputs the amount of dose delivered by operation of the medication delivery device. The controller may include conventional components such as a processor, power supply, memory, microcontrollers, etc. Alternatively, at least some components may be provided separately, such as by means of a computer, smart phone or other device. Means are then provided to operably connect the external controller components with the sensor at appropriate times, such as by a wired or wireless connection.</p><p id="p-0076" num="0075">According to one aspect, the electronics assembly includes a sensor arrangement including one or more sensors operatively communicating with a processor for receiving signals from the sensor representative of the sensed rotation. An exemplary electronics assembly <b>76</b> is shown in <figref idref="DRAWINGS">FIGS. <b>5</b>-<b>7</b></figref> and can include a sensor <b>86</b>, and a printed circuit board (PCB) <b>77</b> having a plurality of electronic components. The printed circuit board may be a flexible printed circuit board. The circuit board of the electronics assembly <b>76</b> may include a microcontroller unit (MCU) as the controller comprising at least one processing core and internal memory. The electronics assembly may include a power source <b>79</b>, e.g. a battery, illustratively a coin cell battery, for powering the components. The controller of electronics assembly <b>76</b> may include control logic operative to perform the operations described herein, including detecting the angular movement of the dose-setting assembly during dose setting and/or dose delivery and/or detecting a dose delivered by medication delivery device <b>10</b> based on a detected rotation of the dose-setting assembly relative to the actuator assembly. Many, if not all of the components of the electronics assembly, may be contained in a compartment <b>85</b> within the dose button <b>30</b>. In some embodiments, the compartment <b>85</b> may be defined between a proximal surface <b>71</b> of support <b>42</b> of the dose button and a distal surface <b>81</b> of the cover <b>56</b> of the dose button. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the electronics assembly <b>76</b> is permanently integrated within the dose button <b>30</b> of the delivery device. In other embodiments, the electronics assembly is provided as a module that can be removably attached to the actuator assembly of the medication delivery device.</p><p id="p-0077" num="0076">An underside view of the electronics assembly <b>76</b> held within the cover <b>56</b> is shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, and an exploded view of the electronics assembly <b>76</b> is shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>. As shown in <figref idref="DRAWINGS">FIGS. <b>6</b> and <b>7</b></figref>, the electronics assembly <b>76</b> may include a printed circuit board (PCB) <b>77</b> and a sensor <b>86</b> having a contact surface <b>111</b>. As shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the electronics assembly <b>76</b> may also include a battery <b>79</b> and a battery cage <b>87</b>.</p><p id="p-0078" num="0077">In some embodiments, at least a portion of the sensor <b>86</b> extends out of the compartment <b>85</b> of the dose button <b>30</b>. As best seen in <figref idref="DRAWINGS">FIGS. <b>10</b> and <b>11</b></figref>, the support <b>42</b> of the dose button <b>30</b> may include one or more openings <b>45</b> through which the sensor <b>86</b> can extend through. In some embodiments, during assembly of the medication delivery device, the contact surface <b>111</b> of the sensor <b>86</b> is passed through the opening <b>45</b> of the support <b>42</b>. This may permit the contact surface <b>111</b> of the sensor to interact with a component that is external to the compartment <b>85</b> of the dose button <b>30</b>. In some embodiments, while only one of the openings <b>45</b> in the support <b>42</b> is needed to accommodate a sensor, a second opening may be provided, e.g. for symmetry of the support component, which help with manufacturing of the component and/or assembly of the component with the medication delivery device.</p><p id="p-0079" num="0078">The controller of electronics assembly <b>76</b> may be operative to store the total angular movement used for determining dose delivery and/or the detected dose delivery in local memory (e.g., internal flash memory or on-board EEPROM). The controller may be further operative to wirelessly transmit a signal representative of the total counts, total angular movement, and/or detected dose to an external device, such as a user's mobile device or a remote server. Transmission may, for example, be over a Bluetooth low energy (BLE) or other suitable short or long range wireless communication protocol. Illustratively, the BLE control logic and controller are integrated on the same circuit.</p><p id="p-0080" num="0079">As discussed, according to one aspect, the dose detection system involves detecting relative rotational movement between two assemblies of the medication delivery device. With the extent of rotation having a known relationship to the amount of a delivered dose, the sensor operates to detect the amount of angular movement from the start of a dose injection to the end of the dose injection. For example, in some embodiments, the relationship for a pen injector is that an angular displacement of a dose-setting assembly of 18&#xb0; is the equivalent of one unit of dose, although other angular relationships are also suitable, such as, for example, 9, 10, 15, 20, 24 or 36 degrees may be used for a unit or a half unit. The sensor system is operable to determine the total angular displacement of a dose setting member during dose delivery. Thus, if the angular displacement is 90&#xb0;, then 5 units of dose have been delivered.</p><p id="p-0081" num="0080">The angular displacement is determined by counting increments of dose amounts as the injection proceeds. For example, a sensing system may use a repeating pattern of a sensed element, such that each repetition is an indication of a predetermined degree of angular rotation. Conveniently, the pattern may be established such that each repetition corresponds to the minimum increment of dose that can be set with the medication delivery device.</p><p id="p-0082" num="0081">The dose detection system components may be permanently or removably attached to the medication delivery device. In some embodiments, at least some of the dose detection system components are provided in the form of a module that is removably attached to the medication delivery device. In other embodiments, the dose detection system components are permanently attached to the medication delivery device.</p><p id="p-0083" num="0082">In some embodiments, a sensor may detect, during dose delivery, the relative rotation of a sensed component that is rotationally fixed to the dose-setting screw <b>32</b>, from which is determined the amount of a dose delivered by the medication delivery device. In an illustrative embodiment, a rotational sensor is attached, and rotationally fixed, to the actuator assembly. The actuator assembly does not rotate relative to the device housing during dose delivery.</p><p id="p-0084" num="0083">In some embodiments, a sensed component is attached, and rotationally fixed, to the dose-setting screw <b>32</b>, which rotates relative to the dose button <b>30</b> and the device housing <b>12</b> during dose delivery. In some of the embodiments described herein, the sensed component includes a ring structure having a plurality of proximally extending projections circumferentially disposed relative to one another. Projections are shaped and sized to deflect a movable element of the rotational sensor. One illustrative embodiment of such a sensed component is tubular flange <b>38</b>, best seen in <figref idref="DRAWINGS">FIGS. <b>3</b>, <b>5</b>, <b>8</b>, and <b>9</b></figref>. Embodiments described herein may be provided for a module that is removably attachable to the dose button of the delivery device or integrated within the dose button of the delivery device.</p><p id="p-0085" num="0084">During dose delivery, dose-setting screw <b>32</b> is free to rotate relative to dose button <b>30</b>. In the illustrative embodiment, the electronics assembly <b>76</b> is rotationally fixed with the dose button <b>30</b> and does not rotate during dose delivery.</p><p id="p-0086" num="0085">As seen in <figref idref="DRAWINGS">FIGS. <b>2</b>, <b>3</b> and <b>5</b></figref>, the dose button <b>30</b> comprises a cover <b>56</b> coupled to a support <b>42</b>. An electronics assembly <b>76</b> may be at least partially contained within a compartment <b>85</b> defined between the cover <b>56</b> and the support. In some embodiments, the cover and support have corresponding splines that engage with one another to couple the cover and support together. For example, in some embodiments, the cover <b>56</b> may couple to the support <b>42</b> via one or more snaps <b>57</b> on the cover <b>56</b> and corresponding to one or more protrusions <b>43</b> on the support. As seen in <figref idref="DRAWINGS">FIGS. <b>5</b> and <b>6</b></figref>, the snaps <b>57</b> on the cover <b>56</b> may be directed radially inwardly from an inner circumferential sidewall <b>73</b>. As seen in <figref idref="DRAWINGS">FIGS. <b>5</b>, <b>10</b> and <b>11</b></figref>, the protrusions <b>43</b> on the support <b>42</b> may be directed radially outwardly from an outer circumferential sidewall <b>75</b> of the support <b>42</b>. The protrusions <b>43</b> may form a triangular ramp shape.</p><p id="p-0087" num="0086">The snaps <b>57</b> on the cover <b>56</b> are configured to snap over and mate with the protrusions <b>43</b> on the support to couple the cover to the support. In some embodiments, the protrusion on the support comprises a continuous annular protrusion around the outer circumferential sidewall of the support. The cover <b>56</b> may attach to the support <b>42</b> via frictional engagement, interference fit or any other suitable fit. In some embodiments, the cover <b>56</b> is permanently fixed to the support <b>42</b> during assembly, e.g. via ultrasonic welding, adhesive, or other suitable fixation approach.</p><p id="p-0088" num="0087">As seen in <figref idref="DRAWINGS">FIGS. <b>8</b> and <b>9</b></figref>, the tubular flange <b>38</b> may include a plurality of axially directed teeth <b>102</b> that are equally radially spaced about a rotation axis and arranged to correlate to the equivalent of one unit of dose. In this illustrative embodiment, the tubular flange <b>38</b> includes 20 teeth <b>102</b> that are equally rotationally spaced from one another, such that the rotation distance between two adjacent teeth corresponds to 18 degrees of rotation. Thus, with the tubular flange <b>38</b> of <figref idref="DRAWINGS">FIG. <b>8</b></figref>, 18 degrees of rotation of the tubular flange <b>38</b> may be used to represent one dosage unit or a half dosage unit. It should be appreciated that, in other embodiments, different total numbers of teeth may be used to create other angular relationships, such as, for example, 9, 10, 15, 18, 20, 24 or 36 degrees may be used for a unit or 0.5 unit.</p><p id="p-0089" num="0088">A recess <b>124</b> may be defined between each pair of adjacent teeth <b>102</b>. Each tooth <b>102</b> may have an approximately triangular shaped profile, each having a surface <b>120</b> against which a contact surface <b>111</b> of a sensor may slide.</p><p id="p-0090" num="0089">In some embodiments, the sensor for detecting rotation of the tubular flange includes a movable element that has a contact portion capable of resting against the teeth of the tubular flange and is spring-biased such that the contact surface is configured to slide against and over the teeth during rotation of the flange relative to the actuator assembly during dose delivery. The sensor is responsive to the movement of the contact portion over the teeth and generates signals corresponding to the flange. A controller is responsive to the signals generated by the sensor to determine a dose count for determining the dosage delivered based on the detected rotation of the flange relative to the actuator assembly during dose delivery.</p><p id="p-0091" num="0090">The contact surface may be biased against the physical features of the tubular flange to ensure proper contact between the contact surface and the physical features during rotation. In one embodiment, the movable element is a resilient member having one portion attached to the actuator at a location displaced from the contact surface. In one example, the movable element is a following member comprising a beam attached at one end to the actuator and having the contact surface at the other end. The beam is flexed to urge the contact surface in the direction of the surface features. Alternatively, the movable element may be biased in any of a variety of other ways. In addition to the use of a resilient beam, the biasing may be provided, for example, by use of a spring component. Such spring component may for example comprise a compression, tension, or torsion coil spring. In yet other embodiments, the movable element may be biased against the surface features of the sensed element by a separate resilient member or spring component bearing against the movable element.</p><p id="p-0092" num="0091"><figref idref="DRAWINGS">FIG. <b>5</b></figref> depicts an illustrative embodiment of a sensor <b>86</b> having a contact surface <b>111</b> interacting with teeth <b>102</b> of a tubular flange <b>38</b>. As the flange <b>38</b> rotates relative to the dose button <b>30</b> during delivery, the teeth <b>102</b> of the flange contact and slide against the contact surface <b>111</b> of the sensor <b>86</b>, causing the contact surface <b>111</b> to move in an oscillating manner. The movement of the contact surface <b>111</b> may be a combination of axial and lateral movement as the contact surface <b>111</b> slides into and out of the recesses <b>124</b> defined between the teeth <b>102</b> of the flange <b>38</b>. The sensor <b>86</b> may be configured to track the movement of the contact surface <b>111</b> and associate the movement with an output signal that is sent to a controller. In one embodiment, the sensor <b>86</b> is a microswitch, where the contact surface in comprises a trigger arm extending from a sensor body, which is capable of moving between a neutral position and an activated position for signalling a change in state electronically, usually between the open and closed state, used to determine data. In the neutral position, the arm may be biased at a position (generally orthogonal to the body as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>). In the activated position, the arm is moved from the neutral position by some distance or angle, and after the passage of the tooth, the switch returns to is neutral position. As described later, the contact surface in may include a differently configured arm and sensor system. All the sensors described herein may be in the open state when not activated and in the closed state when activated, or vice versa, that is, may be in the closed state when not activated and in the open state when activated.</p><p id="p-0093" num="0092">As alternative to teeth on the tubular flange, surface features that interact with the sensor may comprise anything detectable by the sensor. The sensor arrangement may be based on a variety of sensed characteristics, including tactile, optical, electrical and magnetic properties, for example. In the illustrative embodiments shown in the figures, the surface features are physical features which allow for detection of incremental movements as the dose-setting assembly rotates relative to the actuator assembly. In alternative embodiments, the sensor may be a piezoelectric sensor, a magnetic sensor such as a Hall effect sensor, an accelerometer for detecting vibration, e.g. of a ratcheting or other detent mechanism, where vibration can be correlated with rotational movement, an optical sensor such as a reflective sensor, an interrupter sensor, or an optical encoder, or any other sensor suitable for sensing rotation of a first component relative to a second component.</p><p id="p-0094" num="0093">In some embodiments, when a user presses axially on face <b>60</b> of the dose button <b>30</b>, the dose button <b>30</b> advances distally relative to the housing <b>12</b>, compressing spring <b>68</b>. Continued pressing of the dose button <b>30</b> distally results in back driving of the dose-setting screw <b>32</b> in a spiral direction relative to housing <b>12</b>. As a result, the dose-setting screw <b>32</b> and flange <b>38</b> are driven to rotate by the axially pressing upon the dose button <b>30</b>. In some embodiments, the dose detection system is operable for dose detection only while the dose button is being pressed.</p><p id="p-0095" num="0094">In some embodiments, the electronics assembly may include a clock or timer to determine the time elapsed between counts caused by trigger of the rotational sensor from the surface features of the sensed element. When no counts have been detected by the controller after a period of time this may be used to indicate that the dose has completed.</p><p id="p-0096" num="0095">In some embodiments, a single sensing system may be employed for both dose detection sensing and wake-up activation. For example, upon the initial sensing of rotation of the sensed element by the sensor, the controller is configured to allow wake-up or activation of the electronics assembly to a greater or full power state. The wake-up feature is configured to allow power transmission from the power source (shown as battery) for powering up the electronic components for dose sensing in order to minimize inadvertent power loss or usage when a dose dispensing event is not occurring. In other embodiments, a separate wake-up switch may be provided and arranged within the dose button housing and triggered when the dose button is in its distal position. After activation of the electronics assembly, the controller begins receiving generated signals from the rotational sensor indicative of counts from first to last one for a total number of counts that is used for determining total angular displacement and thus the amount of dose delivered.</p><p id="p-0097" num="0096">In some embodiments, the electronics assembly may have a controller that is configured to receive an output signal from a rotational sensor. The controller of the electronics assembly may be programmed to convert the intermediate signal to a conditioned digital signal, which may be a single step/square wave with a predetermined width representing a predetermined time. In some embodiments, output signals that are less than a predetermined level may be filtered out and ignored.</p><p id="p-0098" num="0097">According to one aspect, a medication delivery device includes a repeatedly activatable switch that may serve as a sensor. In some embodiments, the switch serves as the rotational sensor in the dose detection system described above. In other embodiments, however, the switch may be used to detect other activity such as removal of a cap.</p><p id="p-0099" num="0098">In some embodiments, the switch comprises a conductive pad and a cantilevered arm that is moveable relative to the conductive pad. The cantilevered arm may be mounted to a printed circuit board at a first end, and a second end of the arm may be unattached and free to move relative to the printed circuit board.</p><p id="p-0100" num="0099">According to one aspect, the switch may have one or more features that help to permit the switch to repeatedly open and close. The switch may have one or more features that help the switch to avoid plastic deformation during repeated opening and closing, thus helping to maintain durability of the switch.</p><p id="p-0101" num="0100">In some embodiments, at the first end of the cantilevered arm, where the arm attaches to the printed circuit board, the arm has a first curved portion. During switch closure, this first curved portion may be moved toward a straight configuration, and during switch opening, the straight configuration may be moved back toward the curved configuration. In the unstressed state, this first portion may be biased toward the curved configuration. Accordingly, the cantilevered arm may act as a spring that stores potential energy as it is moved during sliding interaction against a sensed component, where the stored potential energy is released to move the arm back toward the unstressed state when the sliding contact force against the arm has decreased.</p><p id="p-0102" num="0101">In some embodiments, the cantilevered arm may transition from the first curved portion to a second curved portion that is configured to move toward and contact the conductive pad that is mounted to the PCB. Contact between the second curved portion and the conductive pad closes the switch, while lack of contact between the second curved portion and the conductive pad opens the switch.</p><p id="p-0103" num="0102">In some embodiments, the cantilevered arm may include a third curved portion configured to contact and slide against the sensed component, e.g. against the teeth of a rotating tubular flange <b>38</b> shown in <figref idref="DRAWINGS">FIGS. <b>8</b> and <b>9</b></figref>. In some embodiments, the third curved portion connects the first curved portion to the second curved portion. In such embodiments, the second curved portion, which is configured to contact the conductive pad, may be located at the second end of the cantilevered arm, i.e. where the cantilevered arm truncates. In other embodiments, the second curved portion connects the first and third curved portions. In such embodiments, the third curved portion, which is configured to contact the sensed component, may be located at the second end of the cantilevered arm, i.e. where the cantilevered arm truncates.</p><p id="p-0104" num="0103">In some embodiments, having the curved portions of the cantilevered arm may help to avoid high strain concentrations in the arm, and may thus help to prevent plastic deformation of the arm. However, it should be appreciated that one or more of the curved portions may be shaped differently in other embodiments.</p><p id="p-0105" num="0104">In some embodiments, the switch may have one or more features that help the switch to provide a cleaner, more easily readable output signal such that a controller can more accurately identify when the switch is open and when the switch is closed. In some embodiments, a blocking protrusion may be provided to interact with the second curved portion of the cantilevered arm as the arm makes contact with the conductive pad. This blocking protrusion may be situated directly adjacent to or near the conductive pad and may prevent the arm from moving past the conductive pad. In some embodiments, the presence of the blocking protrusion may help to reduce &#x201c;bounce&#x201d; of the cantilevered arm that may aid in producing a cleaner output signal from the switch. In some cases, &#x201c;bounce&#x201d; from the cantilevered arm may cause the arm to rapidly and repeatedly contact and separate from the conductive pad in a short period of time, which can create a noisy output signal that may be difficult for a controller to interpret. The blocking protrusion may help to provide sustained contact between the cantilevered arm and the conductive pad to provide a cleaner output signal. In some embodiments, the blocking protrusion may be made from a shock-absorbing material that may help to deaden the impact of the cantilevered arm against the blocking protrusion, in order to decrease bounce or other vibration.</p><p id="p-0106" num="0105">One illustrative example of a switch is shown in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, which depicts a switch <b>86</b>&#x2032; having a conductive pad <b>89</b> and the contact surface comprises a cantilevered arm <b>210</b>. The conductive pad <b>89</b> and a first end <b>201</b> of the cantilevered arm <b>210</b> are mounted to a PCB <b>77</b>.</p><p id="p-0107" num="0106">As best seen in <figref idref="DRAWINGS">FIGS. <b>13</b> and <b>14</b></figref>, the cantilevered arm <b>210</b> begins at a first curved portion <b>212</b> at its first end <b>201</b> and truncates at a second curved portion <b>214</b> at its second end <b>202</b>. The arm also includes a U-shaped third curved portion <b>216</b> that connects the first curved portion <b>212</b> to the second curved portion <b>214</b>. The second curved portion <b>214</b> is configured to contact with a conductive pad, and the third curved portion <b>216</b> is configured to contact with a sensed component such as the rotating tubular flange <b>38</b> shown in <figref idref="DRAWINGS">FIGS. <b>8</b> and <b>9</b></figref>.</p><p id="p-0108" num="0107">The switch also includes a base <b>200</b> that is connected to the cantilevered arm <b>210</b>. The base <b>200</b> is connected to the PCB to connect cantilevered arm to the PCB. The base and the arm together may form a single monolithic component.</p><p id="p-0109" num="0108"><figref idref="DRAWINGS">FIGS. <b>15</b>-<b>19</b></figref> depict the cantilevered arm <b>210</b> of the switch interacting with the rotating flange <b>38</b> from <figref idref="DRAWINGS">FIGS. <b>8</b> and <b>9</b></figref>. <figref idref="DRAWINGS">FIG. <b>15</b></figref> shows the arm <b>210</b> in an unstressed state, as the third curved portion <b>216</b> is situated within a recess <b>124</b> between two adjacent teeth <b>103</b>, <b>105</b>. The switch may be positioned in this state when the flange <b>38</b> is at its home or zero dose position, e.g. prior to use of the device, prior to setting a dosage, or after a dispense has completed and the device is ready for a dosage to be set.</p><p id="p-0110" num="0109">In <figref idref="DRAWINGS">FIG. <b>16</b></figref>, the flange <b>38</b> has begun to rotate relative to the switch and the PCB <b>77</b>. As a result, tooth <b>105</b> slides and pushes against the third curved portion <b>216</b> of the arm <b>210</b>, causing the arm <b>210</b> to begin to deflect toward a direction out of the recess <b>124</b>. The first curved portion <b>212</b> begins to move toward a straightened configuration, and the second curved portion <b>214</b> begins to move toward the conductive pad <b>89</b>.</p><p id="p-0111" num="0110">In <figref idref="DRAWINGS">FIG. <b>17</b></figref>, the flange <b>38</b> has rotated further than in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, causing the tooth <b>105</b> to slide against and push the third curved portion <b>216</b> nearly completely out of the recess <b>124</b>. The first curved portion <b>212</b> has moved even more toward a straightened configuration. As a result, the second curved portion <b>214</b> has made contact with the conductive pad <b>89</b>, thereby closing the switch. The second curved portion also pressed against a blocking protrusion <b>204</b>, which prevents the second curved portion from moving further toward the first curved portion <b>212</b>, and may help to prevent the second curved portion from bouncing repeatedly against the conductive pad <b>89</b> in a rapid manner that may give rise to a noisy output signal.</p><p id="p-0112" num="0111">In <figref idref="DRAWINGS">FIG. <b>18</b></figref>, the flange <b>38</b> has rotated further than in <figref idref="DRAWINGS">FIG. <b>17</b></figref>, and the third curved portion <b>216</b> has exited the recess <b>124</b> and is sliding across the top of tooth <b>105</b>. The second curved portion <b>214</b> remains in contact with both the conductive pad <b>89</b> and the blocking protrusion <b>204</b>. Blocking protrusion <b>204</b> has prevented the second curved portion <b>214</b> from moving closer to the first curved portion <b>212</b>.</p><p id="p-0113" num="0112">Finally, in <figref idref="DRAWINGS">FIG. <b>19</b></figref>, the flange <b>38</b> has rotated further than in <figref idref="DRAWINGS">FIG. <b>18</b></figref>, and the third curved portion <b>216</b> has stopped contacting tooth <b>105</b> and has now begun contacting the next adjacent tooth, <b>107</b>. During this transition as the next tooth <b>107</b> is just beginning to push upon the arm <b>210</b>, the arm, which is spring biased toward the position shown in <figref idref="DRAWINGS">FIG. <b>15</b></figref>, has swung back toward its unstressed state, thus causing the first curved portion <b>212</b> to move toward a more curved shape, resulting in movement of the third curved portion <b>216</b> toward a direction opposite to the rotation direction of the flange <b>38</b> and resulting in movement of the second curved portion <b>214</b> away from the conductive pad <b>84</b>, thereby opening the switch. As the flange <b>38</b> rotates further, the cycle continues and the arm moves back toward the conductive pad to close the switch, and so on.</p><p id="p-0114" num="0113">A first alternative embodiment of a switch is shown in <figref idref="DRAWINGS">FIGS. <b>20</b> and <b>21</b></figref>. This embodiment is similar to the embodiment shown in <figref idref="DRAWINGS">FIGS. <b>12</b>-<b>14</b></figref>, except that the second curved portion <b>224</b> is curved in the opposite direction. In the embodiment of <figref idref="DRAWINGS">FIGS. <b>12</b>-<b>14</b></figref>, the second curved portion <b>214</b> is curved such that, when the cantilevered arm is in an unstressed state, a curvature of the second curved portion faces away from the first curved portion <b>212</b>. In the embodiment of <figref idref="DRAWINGS">FIGS. <b>20</b>-<b>21</b></figref>, the second curved portion <b>224</b> is curved such that, when the cantilevered arm is in an unstressed state, a curvature of the second curved portion faces toward the first curved portion <b>222</b>. Otherwise, the base <b>200</b>, first curved portion <b>222</b>, and third curved portion <b>226</b> of the embodiment of <figref idref="DRAWINGS">FIGS. <b>20</b>-<b>21</b></figref> are the same as those of the embodiment of <figref idref="DRAWINGS">FIGS. <b>12</b>-<b>14</b></figref>.</p><p id="p-0115" num="0114">A second alternative embodiment of a switch is shown in <figref idref="DRAWINGS">FIGS. <b>22</b>-<b>23</b></figref>. In this embodiment, the first curved portion <b>232</b> is similar to the first curved portions of the other two embodiments, but the second the third curved portions are different. In this embodiment, the cantilevered arm <b>230</b> truncates at the second end <b>202</b> with the third curved portion <b>236</b> instead of the second curved portion <b>234</b>. The third curved portion <b>236</b> is still configured to contact and slide against a sensed component such as the tubular flange, and the second curved portion <b>234</b> is still configured to contact with a conductive pad to close the switch. As a result, in this embodiment, the second curved portion <b>234</b> connects the first curved portion <b>232</b> to the third curved portion <b>236</b>. Furthermore, the second curved portion <b>234</b> is U-shaped. To give this differently-shaped arm context, <figref idref="DRAWINGS">FIG. <b>24</b></figref> shows the arm <b>230</b> interacting with teeth <b>102</b> of a rotating tubular flange <b>38</b>, and interacting with a conductive pad <b>89</b>.</p><p id="p-0116" num="0115">According to one aspect, the cantilevered arm may be shaped such that the center of mass of the arm is positioned over the base that is connected to the arm. For example, as shown in <figref idref="DRAWINGS">FIG. <b>25</b></figref>, in which the base and arm construct has been flipped upside-down, the center of mass <b>221</b> of the arm <b>220</b> is located over the base <b>200</b>. Such a feature may aid in assembly of the base and arm with the PCB. For example, in some circumstances, it may be beneficial for a component to be able to stand up on its own, e.g. to utilize reflow soldering. Having the center of mass <b>221</b> of the arm <b>220</b> located over the base <b>200</b> permits the arm and base construct to stand up on its own on the PCB. It may also be beneficial for the center of mass to be relatively low, e.g. closer to the base than to the furthest point of the arm at height H. The embodiments of <figref idref="DRAWINGS">FIGS. <b>12</b>-<b>14</b></figref> and <figref idref="DRAWINGS">FIGS. <b>22</b>-<b>23</b></figref> are also examples of an arm shape having a center of mass that is positioned over the base.</p><p id="p-0117" num="0116">According to one aspect, the printed circuit board (e.g., the printed circuit board <b>77</b> in <figref idref="DRAWINGS">FIG. <b>6</b></figref>) can include processing circuitry and/or logic to count the number of times the sensor (e.g., the sensor <b>86</b>) is activated or triggered during an injection to determine a dose size of the injection. As described herein, the relative rotational movement between a dose-setting assembly and an actuator of the medication delivery device can be sensed in order to determine the amount of a dose delivered by a medication delivery device, because the sensed relative rotational movements can be correlated to the amount of the dose delivered.</p><p id="p-0118" num="0117"><figref idref="DRAWINGS">FIG. <b>26</b>A</figref> is an exemplary block diagram pictorially illustrating functional aspects of a printed circuit board <b>2500</b> for processing signals from a sensor <b>2502</b>, according to some embodiments. The sensor <b>2502</b> is in communication with both the counter block <b>2504</b> and the quadrature encoder <b>2506</b>, which are both in communication with the controller <b>2508</b>. The sensor <b>2502</b> can be, for example, the sensor <b>86</b> in <figref idref="DRAWINGS">FIG. <b>6</b></figref>. For example, as described herein the sensor <b>86</b> may be configured to track the movement of the contact surface <b>111</b> and associate the movement with an output signal that is sent to the counter block <b>2504</b> and the quadrature encoder <b>2506</b>, which can count the number of times the contact surface <b>111</b> slides into and out of the recesses <b>124</b> defined between the teeth <b>102</b> of the flange <b>38</b>, and provide the determined count to the controller <b>2508</b> (which can be used to determine the dose of an injection).</p><p id="p-0119" num="0118">Controller <b>2508</b> includes at least one processor (e.g., microprocessor) that executes software and/or firmware stored in memory of the controller. The software/firmware code contains instructions that, when executed by processor, causes the controller to perform the functions of the control logic and steps described herein. The illustrative controller includes a processing core, a memory, a power source, and a communication module. These components may be mounted to and communicate via the printed circuit board <b>2500</b>. Controller <b>2508</b> is operative to perform the operations described herein, including determining the number of units indicative of total angular movement of the dose setting member used to determine the amount of medication delivered from medication delivery device based on the information received from sensor <b>2502</b>. Controller <b>2508</b> may store the detected amount of units or angular movement and/or medication separately or together in a generated dose record in memory. The generated dose record may include time/date stamp, dose delivered amount, battery charge status, error log messages, etc. Controller <b>2508</b> may also transmit the dose record data representative of detected amount of medication or units or angular movement via communication port to a paired remote computing device <b>2509</b>, such as a user's computer or smartphone or a computing cloud. The information may be transmitted from communication port via a wired or wireless communication protocol, such as a Bluetooth low energy (BLE) (shown), WiFi, NFC, or cellular wireless communication protocol.</p><p id="p-0120" num="0119">In some embodiments, the counter block <b>2504</b> and the quadrature encoder <b>2506</b> can be configured to process signals from the sensor <b>2502</b> using different techniques. Using different techniques can provide for some redundancy in measuring signals from the sensor <b>2502</b> (e.g., to gauge whether the measurements are accurate). <figref idref="DRAWINGS">FIG. <b>26</b>B</figref> shows an exemplary set of six signals, six square waves <b>2602</b>-<b>2612</b> in this example, each of which can be generated by the sensor <b>2502</b> for a particular activation of the sensor <b>2502</b>. The horizontal axis represents time, and the vertical axis represents voltage. <figref idref="DRAWINGS">FIG. <b>27</b></figref> is a flow chart showing an exemplary computerized method <b>2700</b> for processing signals from a rotational sensor <b>2502</b>, according to some embodiments. Referring to exemplary <figref idref="DRAWINGS">FIGS. <b>26</b>B and <b>27</b></figref>, at step <b>2702</b>, the counter block <b>2504</b> analyzes the received signals using a first technique to generate a first count of the signals. For example, the counter block <b>2504</b> can be configured to count the rising edges of each square wave <b>2602</b>-<b>2612</b>, one of which is labelled for illustrative purposes as the rising edge <b>2602</b>A of square wave <b>2602</b>. At step <b>2704</b>, the quadrature encoder <b>2506</b> analyzes the received signals using a second technique to generate a second count of the signals. For example, the quadrature encoder <b>2506</b> can be configured to count both the rising edges and falling edges of each square wave <b>2602</b>-<b>2612</b>, one of the falling edges being labelled for illustrative purposes as the falling edge <b>2602</b>B of the square wave <b>2602</b>.</p><p id="p-0121" num="0120">In some embodiments, the counter block <b>2504</b> and the quadrature encoder <b>2506</b> can be configured to process the signal from the sensor <b>2502</b> using different sampling rates. For example, the counter block <b>2504</b> can have a sample rate configured to sample the signal from the sensor <b>2502</b> to sense the rising edge of each signal, and the quadrature encoder <b>2506</b> can have a different sampling rate configured to sample the signal from the sensor <b>2502</b> to sense both the rising and falling edges of each signal. As an illustrative example, the counter block <b>2504</b> can be configured to use a 10 ms (100 Hz) sampling rate, while the quadrature encoder <b>2506</b> can be configured to use a 1 ms (1000 Hz) sampling rate.</p><p id="p-0122" num="0121">At step <b>2706</b>, the controller determines, based on the first count from the counter block <b>2504</b> and the second count from the quadrature encoder <b>2506</b>, data indicative of a reliability of the first count, the second count, or both. For example, the controller <b>2508</b> can compare the counts to determine whether the counts match up, to gauge the accuracy of one count based on the other count, and/or the like.</p><p id="p-0123" num="0122">In some embodiments, one of the counter block <b>2504</b> or the quadrature encoder <b>2506</b> can be a primary counting mechanism used to determine the actual count of the number of activations of the sensor <b>2502</b>, and the other can be a secondary counting mechanism used to determine a measure of the reliability of the signal from the sensor <b>2502</b> and/or the count of the primary counting mechanism. For example, the counter block <b>2504</b> can be used to determine the actual number of times the sensor was activated (e.g., by counting the number of square waves in the signal from the sensor <b>2502</b>, as described herein). The quadrature encoder <b>2506</b> can be used to analyze the same signal to determine whether the signal is a clean signal that should result in an accurate count by the counter block <b>2504</b>, and/or whether the signal is too distorted/noisy to be able to result in an accurate count. For example, referring to the exemplary signal shown in <figref idref="DRAWINGS">FIG. <b>26</b>B</figref>, if the quadrature encoder <b>2506</b> determined twelve transitions (e.g., six rising edges and six falling edges), then the controller <b>2508</b> can determine that a count of six by the counter block <b>2504</b> is likely an accurate count.</p><p id="p-0124" num="0123">In some embodiments, the microcontroller <b>2508</b> can use a threshold when comparing the count determined by the counter block <b>2504</b> to the count from the quadrature encoder <b>2506</b> to determine whether the count of the counter block <b>2504</b> is reliable. For example, if the signal from the sensor <b>2502</b> includes some noise, the counter block <b>2504</b> may still achieve an accurate count when using a lower sampling rate than the quadrature encoder <b>2506</b> (e.g., because the lower sampling rate could filter out some of the noise in the signal). For example, the controller <b>2508</b> may determine that the count from the counter block <b>2504</b> is usable if it is within approximately 2-3 times the count determined by the quadrature encoder <b>2506</b>. Assuming that the sensor generates six activation signals (e.g., six square waves) and that there is some noise, such that the quadrature encoder <b>2506</b> detects more transitions than the six leading and six trailing edges, if the counter block <b>2504</b> determines a count of six and the quadrature encoder <b>2506</b> determines a count of between 12-20 transitions, then the controller <b>2508</b> can register a dose of six units. However, if the quadrature encoder <b>2506</b> determines a count greater than 20, then the controller <b>2508</b> can consider the signal from the sensor <b>2502</b> to be too noisy (e.g., and doesn't register the count as a dose).</p><p id="p-0125" num="0124">At step <b>2708</b>, the medication delivery device can optionally store, transmit and/or display the data regarding the first and/or second counts. In some embodiments, the medication delivery device can include a display data regarding the first and/or second counts on a display device of the display (e.g., on a user interface, using one or more lights, using blinking lights and/or colored lights, and/or the like). In some embodiments, the medication delivery device can transmit the data regarding the first and/or second counts to a remote computing device. As described herein, the medication delivery device can be configured to communicate with a remote computing device. For example, the medication delivery device can be configured to communicate with a smartphone running an application. If the controller <b>2508</b> determines, based on the counts from the counter block <b>2504</b> and the quadrature encoder <b>2506</b>, that the count generated by the counter block <b>2504</b> is reliable (e.g., and therefore can determine an estimate of the injected dose), then the controller <b>2508</b> can cause the medication delivery device to send to the remote computing device the computed dose size. Alternatively, if the controller <b>2508</b> determines that the count is not reliable, then the medication delivery device can be configured to not transmit data to the remote computing device and/or to transmit data indicative of an unknown dose injection or a potential dose injection event. An application running on the remote computing device can be configured to prompt the user to enter and/or verify an injection amount. For example, even for a count deemed accurate, the remote computing device may prompt a user to verify the injection amount. As another example, for a count deemed potentially inaccurate, the computing device can prompt the user to enter an injection amount.</p><p id="p-0126" num="0125">In some embodiments, as described herein a user can press the dose button (e.g., dose button <b>30</b>) at a desired pressure that, in turn, controls the speed of the injection. Therefore, in some embodiments the flange <b>38</b> can rotate at different speeds for each injection event. As an illustrative example, depending on the pressure applied to the dose button, the flange <b>38</b> can rotate from as slow as 1 Hz to as fast as 200 Hz.</p><p id="p-0127" num="0126">In some embodiments, the controller <b>2508</b> can be configured to use the quadrature signal from the quadrature encoder <b>2506</b> to measure the speed of the injection. For example, if the quadrature encoder <b>2506</b> can be configured to sense both the rising and falling edges of each signal from the sensor <b>2502</b>, the controller <b>2508</b> can determine the time between each sensor <b>2502</b> activation, which can be used to determine the overall speed of the injection.</p><p id="p-0128" num="0127">In some embodiments, as discussed further herein, the controller <b>2508</b> can measure the time of each injection, such as the start time of the injection, the end time of the injection, the duration of the injection, and/or the like. The medication delivery device can be configured to store each injection event as a dose record. The medication delivery device can transmit dose record data to a remote computing device and/or the cloud, as described further herein.</p><p id="p-0129" num="0128">In some embodiments, one signal (e.g., one pin of the controller <b>2508</b>) can wake up the controller <b>2508</b> and cause the counter block <b>2504</b> and the quadrature encoder <b>2506</b> to sense signals from the sensor <b>2502</b>. For example, activating the dose button can transmit a signal that can be used to activate each of the controller <b>2508</b>, the counter block <b>2504</b>, and the quadrature encoder <b>2506</b>.</p><p id="p-0130" num="0129">It should be appreciated that <figref idref="DRAWINGS">FIG. <b>26</b>A</figref> is intended to illustrate functional aspects of the printed circuit board, and therefore the actual circuitry, logic and/or software can be implemented in various ways without departing from the spirit of the techniques described herein. For example, the counter block <b>2504</b> and/or the quadrature encoder <b>2506</b> can include dedicated hardware configured to perform the associated functionality described herein. As another example, the counter block <b>2504</b> and/or the quadrature encoder <b>2560</b> can be implemented as part of the hardware of the controller <b>2508</b> (e.g., a microcontroller). As a further example, the counter block <b>2504</b> and/or the quadrature encoder <b>2506</b> can be implemented as part of the sensor <b>2502</b>. As another example, since both the counter block <b>2504</b> and the quadrature encoder <b>2506</b> can be used to process signals from the sensor <b>2502</b> to determine a dose size of an injected dose, some embodiments can include only one of the counter block <b>2504</b> or the quadrature encoder <b>2506</b>.</p><p id="p-0131" num="0130">According to one aspect, a user may receive digital feedback regarding how much medication remains within the medication delivery device. When the medication level of the medication delivery device becomes low, the user may receive an alert from the medication delivery device and/or from an external device informing the user of the low medication level. For example, the user may receive the alert from a mobile device, e.g. from an app, text message or SMS. An alert may be visual, auditory, tactile (e.g. a vibration) or any combination thereof.</p><p id="p-0132" num="0131">As described herein, the printed circuit board can include non-volatile memory. The non-volatile memory can be used to store various usage information about the medication delivery device to store a history of the medication delivery device (e.g., manufacturing data, when the device was first activated, how many days the device was used, the number of injections, the dose of each injection, the time of each injection, etc.). Since the memory is non-volatile, the medication delivery device can be saved and/or sent back to the manufacturer for analysis.</p><p id="p-0133" num="0132">In some embodiments, the medication delivery device can include one or more aspects that control at what point the medication delivery device stores and/or discards data that would be written to the non-volatile memory (e.g., if the non-volatile memory is a permanent write-only memory). For example, the medication delivery device can be configured to include a field or flag that the controller checks prior to writing data, such that the flag can be used to control whether the controller writes data to the non-volatile memory or discards the data without writing it to the non-volatile memory. The flag can be set to a first value during the supply chain and/or during manufacturing to disable writing to the non-volatile memory. For example, if inadvertent movement during manufacturing causes the sensor to output signals (e.g., which could be interpreted as dose injection information), having the flag set to a value representing a disabled state can prevent the microcontroller from writing data to the non-volatile memory. Upon the occurrence of an appropriate trigger (e.g., a user connecting a pen to an application running on a remote computing device, depressing the dose button, etc.), the microcontroller can be configured to change the flag to a value representing an enabled state so that when the user operates the medication delivery device the microcontroller writes data to the non-volatile memory. Once the flag is updated, the microcontroller will store data, such as dose injection information, to the non-volatile memory.</p><p id="p-0134" num="0133">In some embodiments, the medication delivery device can include one or more aspects that can be used to control whether a medication delivery device is in an activated state or in a hibernation state (e.g., to control the power consumption of the medication delivery device to conserve battery usage). During manufacturing and/or the supply chain of the medication delivery device, the device can be initially configured in a hibernation state such that the controller is in a low-power state to avoid consuming battery life. The controller can include a timer that, once started upon activation of the medication delivery device, if no activity is detected by the medication delivery device before the timer ends (e.g., no data indicative of an injection, connection to an application running on a remote device, etc.), the controller places the medication delivery device back into a hibernation state. In some embodiments, the timer duration can be a number of hours, a number of days, a number of weeks, and/or any other predetermined time period. In some embodiments, the timer can be implemented using a counter, and the timer duration can be a number of clock pulses (e.g., representative of a desired number of hours, days, etc.). Switching the medication delivery device back into a hibernation state can be implemented such that it is not perceived by a user; the medication delivery device can be activated and function normally when a user activates the medication delivery device, even if the medication delivery device was previously placed back into a hibernation state.</p><p id="p-0135" num="0134">In some embodiments, the timer can be implemented in conjunction with the flag used to prevent writing data to the non-volatile memory. For example, if the controller is activated and taken out of a hibernation state, the controller can check the value of the flag. If the controller determines that the flag is set to disable writing to the non-volatile memory, the controller can place the medication delivery device back into a hibernation state. Alternatively, if the controller determines that the flag is set to enable writing to the non-volatile memory, the controller can proceed with entering the activated state.</p><p id="p-0136" num="0135">In some embodiments, the techniques can be used to manage multiple medication delivery devices. For example, a user may have access to and/or may be using multiple medication delivery devices. Each of the medication delivery devices can include unique identification information so that each device can be uniquely identified. As described herein, the medication delivery devices can communicate with an application running on a remote computing device. Each time a user starts using a new medication delivery device, the application can create an entry for the device and keep track of injection information and other information associated with the medication delivery device. For example, for some medications the medication delivery devices can be kept in cold storage prior to use, and are recommended to be used within a predetermined period once first used and removed from cold storage (e.g., within 28 days). Therefore, once first used, the application can keep track of the date and time each medication delivery device is activated in order to provide the user with information regarding when the user should use each medication delivery device.</p><p id="p-0137" num="0136">In some embodiments, the user may be advised to refill their medication and/or, for re-useable medication delivery device, replace the medication cartridge with a new cartridge. In some embodiments, a refill request may be automatically sent to a pharmacy when a medication level is detected to be low.</p><p id="p-0138" num="0137">In some embodiments, the application (e.g., in conjunction with dose information determined by the medication delivery device and/or input using the application) can keep track of how much medication is left in each medication delivery device. The application can manage injection delivery devices to try and use all of the existing doses prior to expiration. For example, the application can include a visual indication of how much medication is left in the medication delivery device and/or when the medication delivery device will expire. In some embodiments, if a medication delivery device only has a certain number of units left, the application can instruct the user to use the medication delivery device so that the user can use the available doses prior to expiration.</p><p id="p-0139" num="0138">The method by which medication level is determined may be accomplished in different ways. In some embodiments, an external device stores a record of the level of medication remaining in a medication delivery device. The medication delivery device may send communications to the external device, informing the external device of the dosage that was delivered from each medication delivery event. The medication delivery device may determine such dosage information from the sensor described above. The external device may then calculate and store the amount of medication remaining after each medication delivery event. For example, the external device may subtract the delivered dosage amount from the last-known remaining amount of medication.</p><p id="p-0140" num="0139">In some embodiments, the information regarding the amount of medication remaining in a medication delivery device may be calculated and/or stored by the medication delivery device itself. The medication delivery device may then communicate to an external device how much medication remains in the medication delivery device.</p><p id="p-0141" num="0140">As described herein, the medication delivery device can operate in various device states and can store various information that can be transmitted to remote computing devices. <figref idref="DRAWINGS">FIG. <b>30</b></figref> is a diagram <b>3000</b> illustrating various states and associated functionality of a medication delivery device, according to some embodiments. At device state <b>3002</b>, the medication delivery device <b>3010</b> is in a hibernation state (e.g., a low power mode, with no wireless communication). At device state <b>3004</b>, the medication delivery device <b>3010</b> is in an active state, during which the medication delivery device <b>3010</b> is available for communication with remote computing devices. During the active state <b>3004</b>, the medication delivery device performs operations as discussed herein, including activating the sensor upon detection of a first injection event <b>3012</b>, determining and recording a dose record <b>3014</b>, and starting the device's internal clock at <b>3016</b>.</p><p id="p-0142" num="0141">At device state <b>3006</b>, the medication delivery device <b>3010</b> is in an active state during which the medication delivery device <b>3010</b> is communicating with a remote computing device (not shown, e.g., an application running on a smartphone). The medication delivery device <b>3010</b> connects (<b>3014</b>) to a remote computing device, and the medication delivery device <b>3010</b> can transmit various data to the remote computing device (e.g., upon request by the remote computing device). As shown as examples in <figref idref="DRAWINGS">FIG. <b>30</b></figref>, the medication delivery device <b>3010</b> can transmit data indicative of one or more of an amount of insulin remaining <b>3016</b>, an indication of whether the medication in the medication delivery device <b>3010</b> is a correct medication <b>3018</b>, manufacturing and/or supply chain information for the medication delivery device <b>3010</b>, such as the lot and/or serial number <b>3020</b>, an expiration of the medication <b>3022</b>, and/or a battery status <b>3024</b>.</p><p id="p-0143" num="0142">At device state <b>3008</b>, the medication delivery device disconnects from the remote computing device (<b>3026</b>) and is active and available for communication with another remote computing device (the same and/or a different device). The medication delivery device <b>3010</b> detects a next injection event at <b>3028</b>, stores the dose record for the injection event at <b>3030</b>, and proceeds back to <b>3014</b> to connect to a device and transmit data requested by the device. The steps <b>3014</b> through <b>3030</b> can repeat as necessary to process the doses administered by the medication delivery device <b>3010</b>.</p><p id="p-0144" num="0143">As described herein and in conjunction with <figref idref="DRAWINGS">FIG. <b>30</b></figref>, the various manufacturing and medication data is stored on the medication delivery device, and can therefore be provided to remote computing devices. In some embodiments, the medication delivery device can determine aspects of the data sent to a remote computing device, such as determining the battery status based on battery voltage information. In some embodiments, the medication delivery device can provide the remote computing device with data (e.g., voltage information) that the remote computing device can use to determine the battery status. For example, the remote computing device can be configured to use one or more voltage curves to estimate the battery life left for the medication delivery device. In some embodiments, since various types and/or manufacturers of batteries can be used, different voltage curves may be used to estimate the remaining battery life. The remote computing device can use manufacturing data for the medication delivery device (e.g., the lot/serial number) to look-up data regarding the battery of the medication delivery device in order to determine an appropriate voltage curve to use to estimate the battery.</p><p id="p-0145" num="0144">As another example, in some embodiments the medication delivery device and/or the remote computing device can use data from the medication delivery device to determine data indicative of an effectiveness of an administered dose. For example, the medication delivery device can store data regarding the temperature of the medication delivery device (e.g., at a time of injection, over the life of the medication delivery device, and/or the like), which can be used to determine an efficacy of the dose since temperature can impact the efficacy of the medication in the medication delivery device.</p><p id="p-0146" num="0145">In some embodiments, tracking the amount of medication remaining in a medication delivery device may be used for patient adherence purposes. A user, caretaker, healthcare provider, insurance payer, and/or a company creating the medication may wish to monitor whether the user is taking the medication at the prescribed amounts and/or times. In some embodiments, such information may be used in conjunction with other devices to improve treatment for the patient. For example, the medication delivery device may be used in conjunction with a glucose meter. Dosages delivered to a patient may be paired with glucose level information to determine information such as efficacy of the medication, efficacy of the patient's regimen, etc. Such information may help to improve patient treatment, e.g. by suggesting possible ways to improve the patient's regimen.</p><p id="p-0147" num="0146">According to one aspect, a medication delivery device may have the ability to assist a user with finding the location of the medication delivery device. The inventors have appreciated that a user may, at times, have trouble finding their medication delivery device, particularly if it is portable and can be used in different locations. The inventors have recognized the need for a device location assist feature to help the user locate the device.</p><p id="p-0148" num="0147">In some embodiments, the location of a medication delivery device is tracked by one or more mobile devices. For example, a medication delivery device may be configured to communicate with one or more mobile devices or other external devices such as a remote server. The communication may be one-way communication or two-way communication.</p><p id="p-0149" num="0148">In some embodiments, the medication delivery device periodically advertises information such as a unique identifier. A mobile device may periodically scan for medication delivery devices, and if the advertising medication delivery device is in communication range with the mobile device, the mobile device would receive the communication from the medication delivery device. The mobile device, which may have a built-in GPS or other location-identifying ability, may then associate a location with each received communication. Particularly if the communication protocol between the medication delivery device and the mobile device is a short distance communication protocol, such as Bluetooth, the mobile device may assign the mobile device's own present location, or a radius around the mobile device's own present location, as the location of the medication delivery device. In some embodiments, when the mobile device no longer receives communications from the medication delivery device, indicating that perhaps the medication delivery device has been moved out of communication range from the mobile device, the mobile device stores a last-known location of the medication delivery device, which may be when the mobile device last received communication from the medication delivery device. This last-known location may be presented to a user to help the user determine the location of the medication delivery device.</p><p id="p-0150" num="0149">In some embodiments, when a mobile device is brought into communication range with a medication delivery device, the mobile device may alert a user that a medication delivery device is nearby. This may be used to help the user physically find the medication delivery device.</p><p id="p-0151" num="0150">In some embodiments, when a mobile device senses that a medication delivery device is no longer in communication range with the mobile device (e.g. the mobile device does not receive an advertisement from the medication delivery device within an expected time period), the mobile device may alert the user the medication delivery device is no longer nearby, or at least no longer close to the mobile device itself. Such a feature may help the user to avoid forgetting to bring the medication delivery device when the user leaves a location.</p><p id="p-0152" num="0151">In some embodiments, multiple mobile devices may cooperate to help locate a medication delivery device. For example, a group of mobile devices may be configured to scan periodically for medication delivery devices. When one of the mobile devices locates a medication delivery device (e.g. by sensing that the medication delivery device is in communication range), the mobile device may communicate the identity and/or location of the found medication delivery device to the rest of the mobile devices. This may be used, for example, in a household setting where members of the household each have their own mobile device.</p><p id="p-0153" num="0152">In some embodiments, the medication delivery device may include a built-in speaker. To help a user find the medication delivery device, the speaker may be triggered by the user to emit a sound. In some embodiments, a user may use a mobile device to trigger the speaker to emit a sound.</p><p id="p-0154" num="0153">In some embodiments, the medication delivery device itself may have a built-in GPS or other location-identifying ability. The medication delivery device may communicate its location to a mobile device or other external device, such as directly to a remote server.</p><p id="p-0155" num="0154">According to one aspect, the date, and in some embodiments, time, at which a medication delivery device is used for the first time is tracked.</p><p id="p-0156" num="0155">One example use case for such a feature is determining medication expiration. For example, in some embodiments, a medication delivery device may communicate to an external device that user has opened, turned on, or otherwise activated the medication delivery device for the first time. The external device may check whether the medication has expired, by, for example, looking up an identification number of the medication delivery device in an expiration date database.</p><p id="p-0157" num="0156">Another example use case for such a feature is to assist in supply chain management. Referring further to <figref idref="DRAWINGS">FIG. <b>30</b></figref>, various manufacturing and supply chain data can be stored by the medication delivery device <b>3010</b>, such as the manufacturing information (e.g., lot/serial number) <b>3020</b>, expiration data <b>3022</b>, and battery status data <b>3024</b>. Additional information can be maintained, such as initial activation data, temperature data, dose records, and/or other data as described herein.</p><p id="p-0158" num="0157">In some embodiments, the remote computing device can also interface with remote servers and/or cloud computing devices to process the manufacturing/supply chain data. For example, the remote computing device can use manufacturing data from the medication delivery device to determine additional information regarding the medication delivery device, such as when the medication delivery device was manufactured, a period between manufacture and first use, and/or the like. As another example, the remote computing device can obtain information determined by the medication delivery device throughout the manufacturing process, such as temperature through the supply chain, battery life throughout the supply chain, and/or the like. As a further example, the medication delivery device information can be used to identify and/or prevent use of counterfeit devices.</p><p id="p-0159" num="0158">In some embodiments, injection data, such as the counts determined by the counter block <b>2504</b> and the counts from the quadrature encoder <b>2506</b>, can be used for manufacturing purposes. For example, the injection data can be used to monitor the performance of the devices during manufacturing. In some examples, the count data can be used to understand the performance of products across different batches. For example, count data and/or other data can be used to identify a bad batch of devices (e.g., to flag the batch in the system and/or to notify users of the devices to discard those devices). Such data can be used for process improvement, such as to identify manufacturing problems, material problems, part problems, and/or the like.</p><p id="p-0160" num="0159">The supply chain data can be used for various purposes by the medication delivery device and/or the remote computing device. For example, knowing when a specific medication delivery device has been activated for the first time may give a manufacturer important supply chain information, for example, how long it takes a medication delivery device to reach a user and be used by a user after the manufacturer has released it for sale. When communicating first use to an external device, the medication delivery device may also communicate its specific identification number to permit a manufacturer to associate the information to a known device and store the information in a database. The information can be categorized by device type, geography, etc.</p><p id="p-0161" num="0160">In some embodiments, the time elapsed from first use of a medication delivery device may be monitored. With some types of medications and medication delivery devices, the medication in a medication delivery device expires after a certain amount of time has elapsed since the medication delivery device was first used to deliver an amount of the medication. This may apply in particular to multi-dose type medication delivery devices. As such, the medication delivery device may detect when the user has actuated the device to deliver medication for the first time. In some embodiments, the device may then begin an internal timer countdown and alert a user that the medication has expired when the timer reaches a predetermined time. Examples of an alert include turning on, off, or blinking a light and/or using a light of a certain color, an auditory sound, a vibration, or any combination thereof. In some embodiments, the medication delivery device may prevent the user from actuating the device, e.g. with a physical and/or electrical lockout that makes delivery impossible. In some embodiments, when the medication delivery device detects that the user has actuated the device to deliver medication for the first time, the medication delivery device may communicate to an external device that first time delivery has occurred. The external device may then begin a countdown to the expiration of the medication. When the countdown as completed, the external device may send an alert to the user and/or communicate to the medication delivery device that the medication has expired.</p><p id="p-0162" num="0161">According to one aspect, a temperature of the medication may be monitored. Medication temperature may be monitored directly or indirectly. One example of direct measurement includes placing a temperature sensor in actual contact with the medication. One example of indirect measurement includes using a temperature sensor to measure the temperature of a region or component close to the medication to approximate what the actual temperature of the medication is. For example, in one embodiment, a temperature sensor is located at the PCB of a medication delivery device. Another example of indirect measurement includes directly measuring the temperature of a material within the medication delivery device that behaves similarly to the actual medication when exposed to various temperature environments.</p><p id="p-0163" num="0162">Temperature measurements may occur periodically. Information relating to the measured temperature may be stored within the medication delivery device, may be communicated to an external device each time a measurement occurs or in batches, or any combination thereof.</p><p id="p-0164" num="0163">When the medication delivery device sensors that the measured temperature is outside an acceptable temperature range, referred to herein as a &#x201c;temperature excursion,&#x201d; a variety of responses may occur. In some embodiments, the medication delivery device alerts the user directly and/or communicates the information to one or more external devices, which may in turn alert the user. The alert may occur in real-time when the temperature excursion is detected, or may occur the next time the user uses the medication delivery device. In some embodiments, when a temperature excursion is detected, the medication delivery device may store and/or communicate to an external device the time and/or date of the temperature excursion, as well as the measured temperature.</p><p id="p-0165" num="0164">According to one aspect, a medication delivery device and/or an external program that communicates with the medication delivery device, such as a mobile device app, may include security features for controlling wireless communication between the medication delivery device and an external device. In some embodiments, the medication delivery device includes a bond management feature that prevents unwanted access to the medication delivery device from third parties. In this bond management feature, a user has already paired their medication delivery device to the user's mobile device, which may be running an app that is specialized for use with the medication delivery device. If a different mobile device tries to connect with the medication delivery device, the user may receive a notification that a third party is attempting to connect with the medication delivery device. The user may grant or deny permission for the third party to connect with the medication delivery device. In some embodiments, this setting may be &#x201c;remembered&#x201d; by the app and/or medication delivery device to avoid repeated notifications. In some embodiments, the app may be configured to include a menu that allows a user to change past authorization settings, e.g. to grant access to a previously denied third party mobile device, or to deny access to a previously approved third party mobile device.</p><p id="p-0166" num="0165">Bluetooth Low Energy devices can be difficult to connect to remote computing devices like smartphones in a secure way, because most use a secure connection (which may take a long time to establish), then send plaintext data over the secure connection. In order to simplify the pairing process and make it hassle-free for users, a new pairing process is described below. In the new method of pairing, the Bluetooth connection is left open so that connection can happen fast, but the data sent over the open connection is encrypted using a symmetric key. It is believed by the inventors that this method of pairing can enable users to pair a BLE device to a smartphone in a quick fashion while still establishing a secure connection.</p><p id="p-0167" num="0166"><figref idref="DRAWINGS">FIG. <b>28</b></figref> is a flow chart showing an exemplary encryption scheme <b>2800</b> that uses open (unencrypted) communication channels to exchange encrypted information and accesses encryption information from a cloud computing device, according to some embodiments. At step <b>2802</b>, a medication delivery device generates injection event information (e.g., in response to a user performing an injection event). The injection event information can be recorded in a dose record, as described herein. At step <b>2804</b>, the medication delivery device connects to a remote computing device, such as by using open/unencrypted wireless communication channel(s). For example, for a Bluetooth communication, the medication delivery device and remote computing device can connect by agreeing to communicate at a specified time and frequency (e.g., channel), but without performing any handshake process and/or encryption key exchange.</p><p id="p-0168" num="0167">At step <b>2806</b>, the medication delivery device transmits, and the remote computing device receives, data for the injection event, which can include encrypted injection event information and unencrypted data used to obtain an encryption key to decrypt the encrypted data (e.g., in this example, a unique identifier of the medication delivery device, such as a serial number). In some embodiments, the medication delivery device can be configured such that the medication delivery device transmits data upon request by the remote computing device. Therefore, the remote computing device can request injection data from the medication delivery device, and the medication delivery device can transmit any available data (e.g., which has not yet been transmitted to the remote computing device). Since the encryption protocol can be managed separately from the wireless communication protocol, the devices can be configured to transmit data in any desired format, and which can be modified over time. For example, while the encryption key is requested using an identifier for the medication delivery device, that can be changed if desired. As another example, the formatting of the dose record data can be configured and/or changed as desired.</p><p id="p-0169" num="0168">At step <b>2808</b>, the remote computing device uses the unencrypted data to obtain a decryption key from a cloud computing device (e.g., a cloud computing device provided by the company that provided the medication delivery device). At step <b>2810</b>, the remote computing device can decrypt the encrypted injection event information using the obtained decryption key.</p><p id="p-0170" num="0169">In some embodiments, it can be desirable to avoid using provided encryption techniques. For example, it can be desirable to avoid needing to perform a handshake process required to set up encrypted communication channels (e.g., the handshake process used for encrypted Bluetooth communications). The handshake process can be burdensome to the user given the amount of time it can take, difficulties completing the handshake process, and/or the like. As another example, some devices store lists of paired devices, such that if a user uses a large number of medication delivery devices, which can result in a very long list of paired devices on the user's smartphone. Using a custom encryption technique in place of existing encryption techniques can avoid such problems and annoyances. Additionally, or alternatively, using a custom encryption technique can allow custom control of the encryption environment by the medication delivery device provider (e.g., allowing the provider to change the encryption protocol, encryption process, and/or the like).</p><p id="p-0171" num="0170">As part of the encryption process, a medication delivery device user may be required to first register with the application provider before being able to use the application. For example, a user may need to create an account and perform various authentication requirements before being given access to the application. Additionally, the specific encryption keys used by a medication delivery device can be specific to the medication delivery device. Therefore, even if the application was hacked and the hacker was able to guess the identifying information of a medication delivery device, since the device can be located anywhere in the world the hacker would not be able to simply decrypt any medication delivery device communications.</p><p id="p-0172" num="0171"><figref idref="DRAWINGS">FIG. <b>29</b></figref> is a flow chart showing an exemplary encryption scheme <b>2900</b> that uses open (unencrypted) communication channels to exchange encrypted information and determines encryption information from a barcode on the medication delivery device, according to some embodiments. At step <b>2902</b>, the remote computing device captures an image of a barcode on the medication delivery device. The barcode can be, for example, a two-dimensional barcode disposed one the medication delivery device. At step <b>2904</b>, the remote computing device decodes the barcode to determine encryption information (e.g., a private encryption key) associated with the medication delivery device. The barcode can include the encryption information as well as other information associated with the medication delivery device, such as a unique identifier/serial number for the medication delivery device. The application can add the medication delivery device (e.g., based on its serial number) to the list of devices being used by the user, and associate the encryption information with the device entry.</p><p id="p-0173" num="0172">At step <b>2906</b>, the medication delivery device generates injection event information (e.g., recorded in a dose record). At step <b>2908</b>, the medication delivery device connects to a remote computing device, such as by using open/unencrypted wireless communication channel(s) as described herein. At step <b>2910</b>, the medication delivery device transmits, and the remote computing device receives, encrypted injection event information. At step <b>2912</b>, the remote computing device decrypts the encrypted injection event information received at step <b>2910</b> using the decryption key determined at step <b>2904</b>.</p><p id="p-0174" num="0173">In some embodiments, the medication delivery device can include a termination feature that disables wireless transmission when a user is finished using the medication delivery device. For example, if a user disposes of a medication delivery device, the termination feature can be used to prevent the barcode from being scanned and encrypted data from being read from the device and decrypted. In some embodiments, the termination feature can be activated after expiration of a predetermined time period, upon indication by the user in the application that the user is no longer using the medication delivery device, and/or the like.</p><p id="p-0175" num="0174">In some embodiments, the medication delivery device can be configured to transmit wireless advertising packets for short range wireless communication protocols (e.g., which are used to connect to remote computing devices). The advertising packets can include various data, such as encryption information (e.g., an encryption key), an identifier for the medication delivery device, and/or the like. In some embodiments, since the communication protocol is only a short range protocol, the medication delivery device can transmit the advertising packets unencrypted. In such embodiments, the remote computing device therefore need not decrypt the advertising packets to obtain the medication delivery device serial number, etc. In some embodiments, the medication delivery device can encrypt the advertising packets. For example, a mobile application can obtain the information necessary to decode the advertising packets by decoding a barcode (e.g., as discussed in conjunction with <figref idref="DRAWINGS">FIG. <b>29</b></figref>). The mobile application can store a set of all active medication delivery devices and associated encryption information, and attempt to decode received advertising packets until the mobile application successfully decodes the received advertising packets.</p><p id="p-0176" num="0175">According to one aspect, a user may be notified by an external device or by the medication delivery device itself if the medication delivery device is subject to a recall. In some embodiments, the medication delivery device broadcasts its unique identification number to an external device which may communicate with a remote server that has a database that associates recall information with the identification number. The medication delivery device may communicate directly with the remote server itself.</p><p id="p-0177" num="0176">In some embodiments, an external device such as a mobile device alerts a user that the medication delivery device and/or the medication within the device is subject to a recall and should not be used. The alert may take different forms, including a message displayed by an app running on the mobile device, via text message, via SMS, via email, or any combination thereof.</p><p id="p-0178" num="0177">In some embodiments, the medication delivery device may be instructed by the remote server and/or an intermediate external device such as a mobile device to display an alert informing the user that the medication delivery device and/or medication is subject to a recall and should not be used. In some embodiments, the medication delivery device may activate a physical and/or electrical lockout that prevents the device from being used.</p><p id="p-0179" num="0178">According to one aspect, the medication delivery device may be used to detect failure to administer a dose in accordance with the user's prescribed regimen. For example, if a user accidentally administers two doses at once or too close in time, an external device or the medication delivery device itself will inform the user of the error. As other examples, a user may have accidentally or intuitionally skipped a dose, or may have used an incorrect dose.</p><p id="p-0180" num="0179">Detection of these types of errors may give the user an opportunity to take remedial measures. The external device may provide suggestions to the user for remedial measures, may inform the user's healthcare provider, may connect the user to the healthcare provider, or any combination thereof.</p><p id="p-0181" num="0180">In some embodiments, such errors are able to be monitored because the medication delivery device may be able to detect delivery of medication and may be able to detect the dosage that was delivered. The medication delivery device may communicate such information out to an external device.</p><p id="p-0182" num="0181">Either the external delivery device or the medication delivery device itself may then determine whether such administrations were proper. In some embodiments, an external device or the medication delivery device itself may compare timings and dosages of actual administrations against expected administrations. If the actual administrations do not match with the expected administrations, then the external device and/or the medication delivery device may inform the user, e.g. that they have missed a dose, administered too much or too little of a dosage, or any combination thereof. In one illustrative embodiment, a medication delivery device communicates dosage amounts and delivery times to a mobile device. The mobile device then communicates with a remote server to determine whether this actual administration matches with an expected prescribed regimen. If the actual administration does not match with the expected regimen, then the mobile device alerts the user to an administration error. In situations with a missed dose, the remote server may communicate with the mobile device the inform the mobile device that a dosage should have been administered. If the mobile device has not received information from the medication delivery device indicating that the dosage was administered, the mobile device may then send an alert to the user reminding the user to take their medication.</p><p id="p-0183" num="0182">In some embodiments, the medication delivery device can include an on-board oscillator-based clock (e.g., on the printed circuit board) that incrementally counts clock pulses over time. Oscillator-based clocks can be less-accurate than other types of clocks, such as quartz-based clocks, and can therefore be subject to drift that can cause the clock measurements to become inaccurate over time. For example, the clock may have little or no drift on the first day that the medication delivery device is activated, but the drift can increase each day. For example, after two days the drift may be four minutes off, at five days the drift may be ten minutes off, and so on.</p><p id="p-0184" num="0183">In some embodiments, the medication delivery device can be configured to periodically synchronize the clock time with a remote clock source (e.g., by connecting to an application on a remote device). Such synchronization can reduce the amount of drift of the clock over time. For example, upon an initial activation of the medication delivery device, the clock value can be zero and the clock can start counting at that point. Periodically, the medication delivery device is reset (e.g., to zero and/or to a particular value), such as each predetermined time period (e.g., number of hours, days, etc.), each injection time, each time the medication delivery device connects to a remote device, and/or the like. As another example, the mobile application can keep track of a threshold counter value that is used to determine when to reset the clock (e.g., a reset can be caused when the clock counter is greater than the threshold). For example, the threshold can be set to a count value indicative of 12 hours, one day, two days, and/or the like.</p><p id="p-0185" num="0184">In some embodiments, the clock resets can be controlled by a remote device. For example, if using a counter threshold, when the mobile device determines that the medication delivery device counter is greater than the threshold, the mobile device can resynchronize the medication delivery device clock. The mobile device can store an initial activation time when the medication delivery device clock is first activated. Then the remote device can keep track of each reset event. For example, the mobile application can keep track of the number of resets, the time of each reset, the clock value at each reset, and/or any other relevant information.</p><p id="p-0186" num="0185">The mobile device can use the stored clock information, including the reset event data, to determine the time of each injection. For example, upon initial activation the clock counter can be at zero, and the mobile device can record an initial activation time of 1:00 PM on day zero (e.g., recorded using a universal time, such as Greenwich Mean Time), which the application can store locally on the remote device. If the mobile device then receives data indicative of an injection, the remote device can determine an associated injection time based on the dose record data sent by the medication delivery device, which can include clock information such as the current clock counter and the number of resets. Continuing with the example above of an initial activation time of 1:00 PM on day zero, assume the mobile device receives dose record data with a clock counter indicative of 60 minutes, and no resets. The mobile device can be configured to determine that after 60 minutes, the clock likely has about one minute of drift, and can therefore assign the time of 1:00 PM+59 seconds=1:59 PM on day zero.</p><p id="p-0187" num="0186">In some embodiments, the techniques can include performing a clock reset (e.g., synchronizing with the phone as described herein) based on one or more other triggers in addition to and/or instead of a periodic synchronization. In some embodiments, a clock reset can be triggered based on one or more factors that may influence the accuracy of the clock. For example, a clock may be affected by the battery life, temperature, moisture, movement, and/or the like. As an example, since oscillator-based clocks may be sensitive to rapid temperature changes, the device can be configured to synchronize the clock if a temperature change over a period of time is detected that is above a threshold configured for a clock synchronization.</p><p id="p-0188" num="0187">The shown device is a reusable pen-shaped medication injection device, generally designated, which is manually handled by a user to selectively set a dose and then to inject that set dose. Injection devices of this type are well known, and the description of device is merely illustrative as the sensing system can be adapted for use in variously configured medication delivery devices, including differently constructed pen-shaped medication injection devices, differently shaped injection devices, and infusion pump devices. The medication may be any of a type that may be delivered by such a medication delivery device. Device is intended to be illustrative and not limiting as the sensing system described further below may be used in other differently configured devices.</p><p id="p-0189" num="0188">Techniques operating according to the principles described herein may be implemented in any suitable manner. The processing and decision blocks of the flow charts above represent steps and acts that may be included in algorithms that carry out these various processes. Algorithms derived from these processes may be implemented as software integrated with and directing the operation of one or more single- or multi-purpose processors, may be implemented as functionally-equivalent circuits such as a Digital Signal Processing (DSP) circuit or an Application-Specific Integrated Circuit (ASIC), or may be implemented in any other suitable manner. It should be appreciated that the flow charts included herein do not depict the syntax or operation of any particular circuit or of any particular programming language or type of programming language. Rather, the flow charts illustrate the functional information one skilled in the art may use to fabricate circuits or to implement computer software algorithms to perform the processing of a particular apparatus carrying out the types of techniques described herein. It should also be appreciated that, unless otherwise indicated herein, the particular sequence of steps and/or acts described in each flow chart is merely illustrative of the algorithms that may be implemented and can be varied in implementations and embodiments of the principles described herein.</p><p id="p-0190" num="0189">Accordingly, in some embodiments, the techniques described herein may be embodied in computer-executable instructions implemented as software, including as application software, system software, firmware, middleware, embedded code, or any other suitable type of computer code. Such computer-executable instructions may be written using any of a number of suitable programming languages and/or programming or scripting tools, and also may be compiled as executable machine language code or intermediate code that is executed on a framework or virtual machine.</p><p id="p-0191" num="0190">When techniques described herein are embodied as computer-executable instructions, these computer-executable instructions may be implemented in any suitable manner, including as a number of functional facilities, each providing one or more operations to complete execution of algorithms operating according to these techniques. A &#x201c;functional facility,&#x201d; however instantiated, is a structural component of a computer system that, when integrated with and executed by one or more computers, causes the one or more computers to perform a specific operational role. A functional facility may be a portion of or an entire software element. For example, a functional facility may be implemented as a function of a process, or as a discrete process, or as any other suitable unit of processing. If techniques described herein are implemented as multiple functional facilities, each functional facility may be implemented in its own way; all need not be implemented the same way. Additionally, these functional facilities may be executed in parallel and/or serially, as appropriate, and may pass information between one another using a shared memory on the computer(s) on which they are executing, using a message passing protocol, or in any other suitable way.</p><p id="p-0192" num="0191">Generally, functional facilities include routines, programs, objects, components, data structures, etc. that perform particular tasks or implement particular abstract data types. Typically, the functionality of the functional facilities may be combined or distributed as desired in the systems in which they operate. In some implementations, one or more functional facilities carrying out techniques herein may together form a complete software package. These functional facilities may, in alternative embodiments, be adapted to interact with other, unrelated functional facilities and/or processes, to implement a software program application.</p><p id="p-0193" num="0192">Some exemplary functional facilities have been described herein for carrying out one or more tasks. It should be appreciated, though, that the functional facilities and division of tasks described is merely illustrative of the type of functional facilities that may implement the exemplary techniques described herein, and that embodiments are not limited to being implemented in any specific number, division, or type of functional facilities. In some implementations, all functionality may be implemented in a single functional facility. It should also be appreciated that, in some implementations, some of the functional facilities described herein may be implemented together with or separately from others (i.e., as a single unit or separate units), or some of these functional facilities may not be implemented.</p><p id="p-0194" num="0193">Computer-executable instructions implementing the techniques described herein (when implemented as one or more functional facilities or in any other manner) may, in some embodiments, be encoded on one or more computer-readable media to provide functionality to the media. Computer-readable media include magnetic media such as a hard disk drive, optical media such as a Compact Disk (CD) or a Digital Versatile Disk (DVD), a persistent or non-persistent solid-state memory (e.g., Flash memory, Magnetic RAM, etc.), or any other suitable storage media (shown schematically as &#x201c;memory&#x201d; in <figref idref="DRAWINGS">FIG. <b>26</b>A</figref>). Such a computer-readable medium may be implemented in any suitable manner. As used herein, &#x201c;computer-readable media&#x201d; (also called &#x201c;computer-readable storage media&#x201d;) refers to tangible storage media. Tangible storage media are non-transitory and have at least one physical, structural component. In a &#x201c;computer-readable medium,&#x201d; as used herein, at least one physical, structural component has at least one physical property that may be altered in some way during a process of creating the medium with embedded information, a process of recording information thereon, or any other process of encoding the medium with information. For example, a magnetization state of a portion of a physical structure of a computer-readable medium may be altered during a recording process.</p><p id="p-0195" num="0194">Further, some techniques described above comprise acts of storing information (e.g., data and/or instructions) in certain ways for use by these techniques. In some implementations of these techniques&#x2014;such as implementations where the techniques are implemented as computer-executable instructions&#x2014;the information may be encoded on a computer-readable storage media. Where specific structures are described herein as advantageous formats in which to store this information, these structures may be used to impart a physical organization of the information when encoded on the storage medium. These advantageous structures may then provide functionality to the storage medium by affecting operations of one or more processors interacting with the information; for example, by increasing the efficiency of computer operations performed by the processor(s).</p><p id="p-0196" num="0195">In some, but not all, implementations in which the techniques may be embodied as computer-executable instructions, these instructions may be executed on one or more suitable computing device(s) operating in any suitable computer system, or one or more computing devices (or one or more processors of one or more computing devices) (shown schematically as controller <b>2508</b> in <figref idref="DRAWINGS">FIG. <b>26</b>A</figref>) may be programmed to execute the computer-executable instructions. A computing device or processor may be programmed to execute instructions when the instructions are stored in a manner accessible to the computing device or processor, such as in a data store (e.g., an on-chip cache or instruction register, a computer-readable storage medium accessible via a bus, a computer-readable storage medium accessible via one or more networks and accessible by the device/processor, etc.). Functional facilities comprising these computer-executable instructions may be integrated with and direct the operation of a single multi-purpose programmable digital computing device, a coordinated system of two or more multi-purpose computing device sharing processing power and jointly carrying out the techniques described herein, a single computing device or coordinated system of computing device (co-located or geographically distributed) dedicated to executing the techniques described herein, one or more Field-Programmable Gate Arrays (FPGAs) for carrying out the techniques described herein, or any other suitable system.</p><p id="p-0197" num="0196">A computing device may comprise at least one processor, a network adapter, and computer-readable storage media. A computing device may be, for example, a desktop or laptop personal computer, a personal digital assistant (PDA), a smart mobile phone, a server, or any other suitable computing device. A network adapter may be any suitable hardware and/or software to enable the computing device to communicate wired and/or wirelessly with any other suitable computing device over any suitable computing network. The computing network may include wireless access points, switches, routers, gateways, and/or other networking equipment as well as any suitable wired and/or wireless communication medium or media for exchanging data between two or more computers, including the Internet. Computer-readable media may be adapted to store data to be processed and/or instructions to be executed by processor. The processor enables processing of data and execution of instructions. The data and instructions may be stored on the computer-readable storage media.</p><p id="p-0198" num="0197">A computing device may additionally have one or more components and peripherals, including input and output devices. These devices can be used, among other things, to present a user interface. Examples of output devices that can be used to provide a user interface include printers or display screens for visual presentation of output and speakers or other sound generating devices for audible presentation of output. Examples of input devices that can be used for a user interface include keyboards, and pointing devices, such as mice, touch pads, and digitizing tablets. As another example, a computing device may receive input information through speech recognition or in other audible format.</p><p id="p-0199" num="0198">Embodiments have been described where the techniques are implemented in circuitry and/or computer-executable instructions. It should be appreciated that some embodiments may be in the form of a method, of which at least one example has been provided. The acts performed as part of the method may be ordered in any suitable way. Accordingly, embodiments may be constructed in which acts are performed in an order different than illustrated, which may include performing some acts simultaneously, even though shown as sequential acts in illustrative embodiments.</p><p id="p-0200" num="0199">Various aspects of the embodiments described above may be used alone, in combination, or in a variety of arrangements not specifically discussed in the embodiments described in the foregoing and is therefore not limited in its application to the details and arrangement of components set forth in the foregoing description or illustrated in the drawings. For example, aspects described in one embodiment may be combined in any manner with aspects described in other embodiments.</p><p id="p-0201" num="0200">Use of ordinal terms such as &#x201c;first,&#x201d; &#x201c;second,&#x201d; &#x201c;third,&#x201d; etc., in the claims to modify a claim element does not by itself connote any priority, precedence, or order of one claim element over another or the temporal order in which acts of a method are performed, but are used merely as labels to distinguish one claim element having a certain name from another element having a same name (but for use of the ordinal term) to distinguish the claim elements.</p><p id="p-0202" num="0201">Also, the phraseology and terminology used herein is for the purpose of description and should not be regarded as limiting. The use of &#x201c;including,&#x201d; &#x201c;comprising,&#x201d; &#x201c;having,&#x201d; &#x201c;containing,&#x201d; &#x201c;involving,&#x201d; and variations thereof herein, is meant to encompass the items listed thereafter and equivalents thereof as well as additional items.</p><p id="p-0203" num="0202">The word &#x201c;exemplary&#x201d; is used herein to mean serving as an example, instance, or illustration. Any embodiment, implementation, process, feature, etc. described herein as exemplary should therefore be understood to be an illustrative example and should not be understood to be a preferred or advantageous example unless otherwise indicated.</p><p id="p-0204" num="0203">To clarify the use of and to hereby provide notice to the public, the phrases &#x201c;at least one of &#x3c;A&#x3e;, &#x3c;B&#x3e;, . . . and &#x3c;N&#x3e;&#x201d; or &#x201c;at least one of &#x3c;A&#x3e;, &#x3c;B&#x3e;, . . . &#x3c;N&#x3e;, or combinations thereof&#x201d; or &#x201c;&#x3c;A&#x3e;, &#x3c;B&#x3e;, . . . and/or &#x3c;N&#x3e;&#x201d; are defined by the Applicant in the broadest sense, superseding any other implied definitions hereinbefore or hereinafter unless expressly asserted by the Applicant to the contrary, to mean one or more elements selected from the group comprising A, B, . . . and N. In other words, the phrases mean any combination of one or more of the elements A, B, . . . or N including any one element alone or the one element in combination with one or more of the other elements which may also include, in combination, additional elements not listed.</p><p id="p-0205" num="0204">While various embodiments have been described, it will be apparent to those of ordinary skill in the art that many more embodiments and implementations are possible. Accordingly, the embodiments described herein are examples, not the only possible embodiments and implementations. Furthermore, the advantages described above are not necessarily the only advantages, and it is not necessarily expected that all of the described advantages will be achieved with every embodiment.</p><p id="p-0206" num="0205">Various aspects are described in this disclosure, which include, but are not limited to, the following aspects:</p><p id="p-0207" num="0206">1. A medication delivery device comprising: a housing comprising a reservoir sized sufficiently to hold medication; a dose button being rotatable relative to the housing to select a dose size of the medication for an injection; a printed circuit board; a switch mounted to the printed circuit board; and a controller in communication with the switch, the controller being configured to: receive a set of signals from the switch; generate, based on the set of signals, a first count of the set of signals using a first counting technique; generate, based on the set of signals, a second count of the set of signals using a second counting technique; and determine, based on the first count and the second count, data indicative of a reliability of the first count, the second count, or both.</p><p id="p-0208" num="0207">2. The medication delivery device of aspect 1, wherein the controller includes a counter block configured to analyze the set of signals using the first counting technique to generate the first count.</p><p id="p-0209" num="0208">3. The medication delivery device of aspect 2, wherein the counter block is configured to generate the first count by counting a number of signals in the set of signals.</p><p id="p-0210" num="0209">4. The medication delivery device of aspect 3, wherein: each signal in the set of signals comprises an associated square wave, wherein each associated square wave comprises a rising edge at a beginning of the square wave; the counter block is configured to sample the set of signals at a sampling rate configured to capture each rising edge of each square wave; and generating the first count comprises counting the number of rising edges.</p><p id="p-0211" num="0210">5. The medication delivery device of any one of aspects 1-4, wherein the controller includes a quadrature encoder configured to analyze the set of signals using the second counting technique to generate the second count.</p><p id="p-0212" num="0211">6. The medication delivery device of aspect 5, wherein: each signal in the set of signals comprises an associated square wave, wherein each square wave comprises a rising edge at a beginning of the square wave and a falling edge at an end of the square wave; the quadrature encoder is configured to sample the set of signals at a sampling rate configured to capture each rising edge and each falling edge of each square wave; and generating the second count comprises counting the number of rising edges and the number of falling edges.</p><p id="p-0213" num="0212">7. The medication delivery device of any one of aspects 1-6: wherein the switch comprises a contact surface arm extending from the printed circuit board, said arm configured to move to close or open the switch; and; and the medication delivery device further comprising a rotatable element that is rotatable relative to the printed circuit board, the rotatable element having a series of protrusions that are spaced from one another, the rotatable element being positioned to permit the protrusions to slide against the contact surface arm to move the switch to one of a closed state or an open state as the rotatable element rotates..</p><p id="p-0214" num="0213">8. The medication delivery device of any one of aspects 1-6: wherein the switch comprises a piezoelectric sensor, a magnetic sensor, an accelerometer, an optical sensor, an interrupter sensor, an optical encoder, or some combination thereof.</p><p id="p-0215" num="0214">9. The medication delivery device of aspect 8, wherein the magnetic sensor is a Hall effect sensor.</p><p id="p-0216" num="0215">10. The medication delivery device of aspect 8, wherein the optical sensor is a reflective sensor.</p><p id="p-0217" num="0216">11. A computerized method being executed by a controller of a medication delivery device, wherein the controller is in communication with a switch mounted to a printed circuit board, the method comprising: receiving a set of signals from the switch; generating, based on the set of signals, a first count of the set of signals using a first counting technique; generating, based on the set of signals, a second count of the set of signals using a second counting technique; and determining, based on the first count and the second count, data indicative of a reliability of the first count, the second count, or both.</p><p id="p-0218" num="0217">12. The computerized method of aspect 11, further comprising analyzing, using a counter block of the controller, the set of signals using the first counting technique to generate the first count.</p><p id="p-0219" num="0218">13. The computerized method of aspect 12, further comprising generating, by the counter block, the first count by counting a number of signals in the set of signals.</p><p id="p-0220" num="0219">14. The computerized method of aspect 13, wherein: each signal in the set of signals comprises an associated square wave, wherein each associated square wave comprises a rising edge at a beginning of the square wave; and the method further comprises: sampling, by the counter block, the set of signals at a sampling rate configured to capture each rising edge of each square wave; and generating the first count comprises counting the number of rising edges.</p><p id="p-0221" num="0220">15. The computerized method of any one of aspects 11-14, further comprising analyzing, using a quadrature encoder of the controller, the set of signals using the second counting technique to generate the second count.</p><p id="p-0222" num="0221">16. The computerized method of aspect 15, wherein: each signal in the set of signals comprises an associated square wave, wherein each square wave comprises a rising edge at a beginning of the square wave and a falling edge at an end of the square wave; and the method further comprises: sampling, by the quadrature encoder, the set of signals at a sampling rate configured to capture each rising edge and each falling edge of each square wave; and generating the second count comprises counting the number of rising edges and the number of falling edges.</p><p id="p-0223" num="0222">17. A medication delivery device comprising: a housing comprising a reservoir sized sufficiently to hold medication; a dose button being rotatable relative to the housing to select a dose size of the medication for an injection; a wireless communication module; and a controller in communication with the wireless communication module configured to: generate injection event information for the medication delivery device; connect, using the wireless communication module, to a remote computing device to wirelessly communicate with the remote computing device over an unencrypted wireless communication channel; and transmit, using the wireless communication module, encrypted data to the remote computing device over the unencrypted wireless communication channel, wherein the encrypted data comprises data indicative of the injection event information.</p><p id="p-0224" num="0223">18. The medication delivery device of aspect 17, further comprising a two-dimensional barcode that encodes encryption data that can be used by a computing device to decrypt the encrypted data.</p><p id="p-0225" num="0224">19. The medication delivery device of aspect 18, wherein the encryption data comprises a private encryption key.</p><p id="p-0226" num="0225">20. The medication delivery device of any one of aspects 17-19, wherein transmitting the encrypted data further comprises transmitting an unencrypted identifier for the medication delivery device.</p><p id="p-0227" num="0226">21. The medication delivery device of any one of aspects 17-20, wherein the controller is further configured to wirelessly transmit an advertising packet to advertise the presence of the medication delivery device for connection.</p><p id="p-0228" num="0227">22. The medication delivery device of aspect 21, wherein the controller is further configured to encrypt the advertising packet.</p><p id="p-0229" num="0228">23. The medication delivery device of any one of aspects 17-22, wherein connecting to the remote computing device to wirelessly communicate with the remote computing device over an unencrypted wireless communication channel comprises connecting to the remote computing device using an unencrypted Bluetooth communication channel.</p><p id="p-0230" num="0229">24. A computerized method being executed by a controller of a medication delivery device, wherein the controller is in communication with a wireless communication module, the method comprising: generating injection event information for the medication delivery device; connecting, using the wireless communication module, to a remote computing device to wirelessly communicate with the remote computing device over an unencrypted wireless communication channel; and transmitting, using the wireless communication module, encrypted data to the remote computing device over the unencrypted wireless communication channel wherein the encrypted data comprises data indicative of the injection event information.</p><p id="p-0231" num="0230">25. The computerized method of aspect 24, wherein transmitting the encrypted data further comprises transmitting an unencrypted identifier for the medication delivery device.</p><p id="p-0232" num="0231">26. The computerized method of any one of aspects 24-25, further comprising wirelessly transmitting an advertising packet to advertise the presence of the medication delivery device for connection.</p><p id="p-0233" num="0232">27. The computerized method of aspect 26, further comprising encrypting the advertising packet.</p><p id="p-0234" num="0233">28. The computerized method of any one of aspects 24-27, wherein connecting to the remote computing device to wirelessly communicate with the remote computing device over an unencrypted wireless communication channel comprises connecting to the remote computing device using an unencrypted Bluetooth communication channel.</p><p id="p-0235" num="0234">29. A computing device comprising at least one processor in communication with a memory configured to store machine-readable instructions that cause the at least one processor to: connect to a wireless communication module of a medication delivery device to wirelessly communicate with the medication delivery device over an unencrypted wireless communication channel, wherein the medication delivery device comprises (a) a housing comprising a reservoir sized sufficiently to hold medication, (b) a dose button being rotatable relative to the housing to select a dose size of the medication for an injection, and (c) a controller in communication with the wireless communication module; and receive, from the medication delivery device using the wireless communication channel, encrypted data over the unencrypted wireless communication channel, wherein the encrypted data comprises injection event information generated by the medication delivery device.</p><p id="p-0236" num="0235">30. The computerized method of aspect 29, further comprising decoding, from a two-dimensional barcode on the medication delivery device, encryption data that can be used to decrypt the encrypted data.</p><p id="p-0237" num="0236">31. The computerized method of aspect 30, wherein the encryption data comprises a private encryption key.</p><p id="p-0238" num="0237">32. The computerized method of any one of aspects 29-31, wherein receiving the encrypted data further comprises receiving an unencrypted identifier for the medication delivery device.</p><p id="p-0239" num="0238">33. The computerized method of any one of aspects 29-32, further comprising wirelessly receiving an advertising packet to advertise the presence of the medication delivery device for connection.</p><p id="p-0240" num="0239">34. The computerized method of aspect 33, wherein the advertising packet is encrypted, and the method further comprises decrypting the advertising packet.</p><p id="p-0241" num="0240">35. The computerized method of any one of aspects 29-34, wherein connecting to the medication delivery device to wirelessly communicate with the medication delivery device over the unencrypted wireless communication channel comprises connecting to the medication delivery device using an unencrypted Bluetooth communication channel.</p><p id="p-0242" num="0241">36. A medication delivery device in any of aspects 1-35, comprising a medication.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. (canceled)</claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. (canceled)</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. (canceled)</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. (canceled)</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. (canceled)</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. (canceled)</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. (canceled)</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. (canceled)</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. (canceled)</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. (canceled)</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. (canceled)</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. (canceled)</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. (canceled)</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. (canceled)</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. (canceled)</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. (canceled)</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. A medication delivery device comprising:<claim-text>a housing comprising a reservoir sized sufficiently to hold medication;</claim-text><claim-text>a dose button being rotatable relative to the housing to select a dose size of the medication for an injection;</claim-text><claim-text>a wireless communication module; and</claim-text><claim-text>a controller in communication with the wireless communication module configured to:<claim-text>generate injection event information for the medication delivery device;</claim-text><claim-text>connect, using the wireless communication module, to a remote computing device to wirelessly communicate with the remote computing device over an unencrypted wireless communication channel; and</claim-text><claim-text>transmit, using the wireless communication module, encrypted data to the remote computing device over the unencrypted wireless communication channel, wherein the encrypted data comprises data indicative of the injection event information.</claim-text></claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The medication delivery device of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising a two-dimensional barcode that encodes encryption data that can be used by a computing device to decrypt the encrypted data.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The medication delivery device of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the encryption data comprises a private encryption key.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The medication delivery device of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein transmitting the encrypted data further comprises transmitting an unencrypted identifier for the medication delivery device.</claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. The medication delivery device of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the controller is further configured to wirelessly transmit an advertising packet to advertise the presence of the medication delivery device for connection.</claim-text></claim><claim id="CLM-00022" num="00022"><claim-text><b>22</b>. The medication delivery device of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the controller is further configured to encrypt the advertising packet.</claim-text></claim><claim id="CLM-00023" num="00023"><claim-text><b>23</b>. The medication delivery device of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein connecting to the remote computing device to wirelessly communicate with the remote computing device over the unencrypted wireless communication channel comprises connecting to the remote computing device using an unencrypted Bluetooth communication channel.</claim-text></claim><claim id="CLM-00024" num="00024"><claim-text><b>24</b>. A computerized method being executed for execution by a controller of a medication delivery device, wherein the controller is in communication with a wireless communication module, the method comprising:<claim-text>generating injection event information for the medication delivery device;</claim-text><claim-text>connecting, using the wireless communication module, to a remote computing device to wirelessly communicate with the remote computing device over an unencrypted wireless communication channel; and</claim-text><claim-text>transmitting, using the wireless communication module, encrypted data to the remote computing device over the unencrypted wireless communication channel wherein the encrypted data comprises data indicative of the injection event information.</claim-text></claim-text></claim><claim id="CLM-00025" num="00025"><claim-text><b>25</b>. The computerized method of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein transmitting the encrypted data further comprises transmitting an unencrypted identifier for the medication delivery device.</claim-text></claim><claim id="CLM-00026" num="00026"><claim-text><b>26</b>. The computerized method of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising wirelessly transmitting an advertising packet to advertise the presence of the medication delivery device for connection.</claim-text></claim><claim id="CLM-00027" num="00027"><claim-text><b>27</b>. The computerized method of <claim-ref idref="CLM-00026">claim 26</claim-ref>, further comprising encrypting the advertising packet.</claim-text></claim><claim id="CLM-00028" num="00028"><claim-text><b>28</b>. The computerized method of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein connecting to the remote computing device to wirelessly communicate with the remote computing device over the unencrypted wireless communication channel comprises connecting to the remote computing device using an unencrypted Bluetooth communication channel.</claim-text></claim><claim id="CLM-00029" num="00029"><claim-text><b>29</b>. A computing device comprising at least one processor in communication with a memory configured to store machine-readable instructions that cause the at least one processor to:<claim-text>connect to a wireless communication module of a medication delivery device to wirelessly communicate with the medication delivery device over an unencrypted wireless communication channel, wherein the medication delivery device comprises (a) a housing comprising a reservoir sized sufficiently to hold medication, (b) a dose button being rotatable relative to the housing to select a dose size of the medication for an injection, and (c) a controller in communication with the wireless communication module; and</claim-text><claim-text>receive, from the medication delivery device using the wireless communication channel, encrypted data over the unencrypted wireless communication channel, wherein the encrypted data comprises injection event information generated by the medication delivery device.</claim-text></claim-text></claim><claim id="CLM-00030" num="00030"><claim-text><b>30</b>. The computerized method of <claim-ref idref="CLM-00029">claim 29</claim-ref>, further comprising decoding, from a two-dimensional barcode on the medication delivery device, encryption data that can be used to decrypt the encrypted data.</claim-text></claim><claim id="CLM-00031" num="00031"><claim-text><b>31</b>. The computerized method of <claim-ref idref="CLM-00030">claim 30</claim-ref>, wherein the encryption data comprises a private encryption key.</claim-text></claim><claim id="CLM-00032" num="00032"><claim-text><b>32</b>. The computerized method of <claim-ref idref="CLM-00029">claim 29</claim-ref>, wherein receiving the encrypted data further comprises receiving an unencrypted identifier for the medication delivery device.</claim-text></claim><claim id="CLM-00033" num="00033"><claim-text><b>33</b>. The computerized method of <claim-ref idref="CLM-00029">claim 29</claim-ref>, further comprising wirelessly receiving an advertising packet to advertise the presence of the medication delivery device for connection.</claim-text></claim><claim id="CLM-00034" num="00034"><claim-text><b>34</b>. The computerized method of <claim-ref idref="CLM-00033">claim 33</claim-ref>, wherein the advertising packet is encrypted, and the method further comprises decrypting the advertising packet.</claim-text></claim><claim id="CLM-00035" num="00035"><claim-text><b>35</b>. The computerized method of <claim-ref idref="CLM-00029">claim 29</claim-ref>, wherein connecting to the medication delivery device to wirelessly communicate with the medication delivery device over the unencrypted wireless communication channel comprises connecting to the medication delivery device using an unencrypted Bluetooth communication channel.</claim-text></claim><claim id="CLM-00036" num="00036"><claim-text><b>36</b>. The medication delivery device of <claim-ref idref="CLM-00017">claim 17</claim-ref>, comprising a medication disposed within said reservoir.</claim-text></claim></claims></us-patent-application>