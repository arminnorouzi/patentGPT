<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230004171A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230004171</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17782036</doc-number><date>20210317</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>JP</country><doc-number>2020-055684</doc-number><date>20200326</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>02</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>0278</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>1</main-group><subgroup>027</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>D</subclass><main-group>2201</main-group><subgroup>0202</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">Work Vehicle</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Hitachi Construction Machinery Co., Ltd.</orgname><address><city>Taito-ku, Tokyo</city><country>JP</country></address></addressbook><residence><country>JP</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>BANDO</last-name><first-name>Mikio</first-name><address><city>Chiyoda-ku</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>UOTSU</last-name><first-name>Shinichi</first-name><address><city>Tsuchiura-shi</city><country>JP</country></address></addressbook></inventor></inventors></us-parties><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/JP2021/010748</doc-number><date>20210317</date></document-id><us-371c12-date><date>20220602</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">The present disclosure provides a work vehicle that allows detecting an error in an installation position of an antenna more flexibly than a conventional device. The work vehicle includes a control device <b>150.</b> The control device <b>150</b> has a detection function F<b>106,</b> a calculation function F<b>104,</b> a calculation function F<b>105,</b> a calculation function F<b>107,</b> and an estimation function F<b>110.</b> The detection function F<b>106</b> detects steady traveling based on a velocity, an acceleration, and an angular velocity of a vehicle. The calculation function F<b>104</b> calculates a first vehicle direction based on installation information of a first antenna and a second antenna with respect to the vehicle. The calculation function F<b>105</b> calculates a second vehicle direction based on a time change of position information of the first antenna when the steady traveling is detected. The calculation function F<b>107</b> calculates a direction correction parameter for correcting the first vehicle direction based on the second vehicle direction. The estimation function F<b>110</b> estimates a location and a posture of the vehicle based on the direction correction parameter and the first vehicle direction.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="145.97mm" wi="148.51mm" file="US20230004171A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="218.95mm" wi="143.43mm" orientation="landscape" file="US20230004171A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="221.66mm" wi="154.94mm" orientation="landscape" file="US20230004171A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="229.95mm" wi="114.98mm" file="US20230004171A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="90.09mm" wi="155.79mm" file="US20230004171A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="67.39mm" wi="155.79mm" file="US20230004171A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="220.64mm" wi="138.85mm" file="US20230004171A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="165.78mm" wi="153.92mm" file="US20230004171A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="85.01mm" wi="88.65mm" file="US20230004171A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="159.51mm" wi="105.83mm" file="US20230004171A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="163.58mm" wi="150.54mm" file="US20230004171A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="163.75mm" wi="150.45mm" file="US20230004171A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="171.53mm" wi="141.39mm" orientation="landscape" file="US20230004171A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="104.14mm" wi="88.56mm" file="US20230004171A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="138.68mm" wi="96.77mm" file="US20230004171A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="221.83mm" wi="154.77mm" orientation="landscape" file="US20230004171A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="220.47mm" wi="153.92mm" file="US20230004171A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="227.58mm" wi="147.49mm" file="US20230004171A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">TECHNICAL FIELD</heading><p id="p-0002" num="0001">The present disclosure relates to a work vehicle.</p><heading id="h-0002" level="1">BACKGROUND ART</heading><p id="p-0003" num="0002">Conventionally, there has been known an invention that relates to a method of deciding a carrier phase integer value bias when a radio wave is received from a transmitter, such as a GPS satellite, which transmits a positioning signal to conduct a carrier differential positioning, and a method of measuring the azimuth and posture of an object or a moving body and the device thereof (see Patent Literature 1 below).</p><p id="p-0004" num="0003">The azimuth and posture measuring device described in Patent Literature 1 is composed of a carrier phase integer value bias deciding device and means for obtaining an azimuth or a posture (such as claim <b>5</b>). The carrier phase integer value bias deciding device includes first and second antennas, antenna azimuth observing means, and means for conducting calculation, correction, and decision (such as claim <b>4</b>). The above-described antenna azimuth observing means receives positioning signals from a plurality of positioning transmitters at the respective first and second antennas and obtains the azimuth of the second antenna with respect to the first antenna based on a carrier phase change amount of the positioning signals.</p><p id="p-0005" num="0004">The above-described means for conducting calculation, correction, and decision operates as described below. First, the azimuth of the second antenna with respect to the first antenna, a distance between the first and second antennas, and a calculated phase difference as a calculational carrier phase difference that can be obtained from the positions of the positioning transmitters are calculated. Further, an observed phase difference as the decimal part of the carrier phase difference of the positioning signals received at the first and second antennas is obtained, and the calculated phase difference is corrected such that the decimal part of the calculated phase difference corresponds to the observed phase difference in a range of &#xb1;0.5 cycle. Then, the calculated phase difference after the correction is decided as an integer value bias of the observed phase difference (such as claim <b>4</b>).</p><p id="p-0006" num="0005">The above-described means for obtaining an azimuth or a posture obtains a relative position of the second antenna with respect to the first antenna from the integer value bias and the observed phase difference that are obtained by the above-described carrier phase integer value bias deciding device, and obtains the azimuth or the posture between the first and second antennas from the relative position (such as claim <b>5</b>).</p><p id="p-0007" num="0006">The above-described azimuth and posture measuring device has the first and second antennas disposed in a moving body that advances in a front-rear direction on an approximately horizontal surface, and the antenna azimuth observing means observes an advance azimuth of the moving body based on a carrier phase change amount of the positioning signals by movement of the first and second antennas accompanied by movement of the moving body. Furthermore, the azimuth and posture measuring device regards the advance azimuth as a front azimuth of the moving body and observes the azimuth of the second antenna with respect to the first antenna from the front azimuth of the moving body and a mounting position relationship of the first and second antennas with respect to the moving body (such as claim <b>7</b>).</p><heading id="h-0003" level="1">CITATION LIST</heading><heading id="h-0004" level="1">Patent Literature</heading><heading id="h-0005" level="1">SUMMARY OF INVENTION</heading><heading id="h-0006" level="1">Technical Problem</heading><p id="p-0008" num="0007">For example, a work vehicle, such as a dump truck, includes a first antenna and a second antenna that receive radio waves of a satellite positioning system, such as a global navigation satellite system (GNSS), similarly to the conventional azimuth and posture measuring device described above to measure a vehicle direction. The antennas are installed, for example, at the leading ends of poles extending upward from a vehicle body to avoid the radio waves being blocked by the vehicle body.</p><p id="p-0009" num="0008">In the work vehicle, for example, vibration or impact acts on the antennas in some cases by loading ores, earth and sand, and the like, and unloading a loaded object thereof, and traveling on the ground having large unevenness. Therefore, with the passage of time, an error occurs between the actual installation positions of the antennas and preliminarily set installation positions, and an error occurs between the vehicle direction calculated based on the set installation positions and the actual vehicle direction in some cases.</p><p id="p-0010" num="0009">In this case, the conventional azimuth and posture measuring device observes an advance azimuth of a moving body based on movement of the first and second antennas accompanied by movement of the moving body that advances in a front-rear direction on an approximately horizontal surface. However, in mining sites of ores and construction sites where the work vehicle travels, an opportunity for the work vehicle to advance in the front-rear direction on the approximately horizontal surface is limited. Therefore, in the work vehicle, it is demanded that, not under this limited condition but more flexibly, an error in the installation positions of the antennas is detected.</p><p id="p-0011" num="0010">The present disclosure provides a work vehicle that allows detecting an error in the installation position of an antenna more flexibly than a conventional device.</p><heading id="h-0007" level="1">Solution to Problem</heading><p id="p-0012" num="0011">One aspect of the disclosure is a work vehicle that comprises: a vehicle; a first antenna and a second antenna mounted to the vehicle to receive a radio wave of a satellite positioning system; a receiver that outputs position information of the first antenna based on the radio wave and a baseline direction connecting the first antenna to the second antenna; a sensor that measures a velocity, an acceleration, and an angular velocity of the vehicle; and a control device that estimates a location and a posture of the vehicle. The control device has: a detection function of detecting a steady traveling based on the velocity, the acceleration, and the angular velocity; a function of calculating a first vehicle direction based on installation information of the first antenna and the second antenna with respect to the vehicle; a function of calculating a second vehicle direction based on a time change of the position information of the first antenna when the steady traveling is detected; a function of calculating a direction correction parameter for correcting the first vehicle direction based on the second vehicle direction; and an estimation function of estimating the location and the posture of the vehicle based on the direction correction parameter and the first vehicle direction.</p><heading id="h-0008" level="1">Advantageous Effects of Invention</heading><p id="p-0013" num="0012">With one aspect of this disclosure described above, a work vehicle that allows detecting an error in the installation position of an antenna more flexibly than a conventional device can be provided.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0009" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a side view illustrating Embodiment 1 of a work vehicle according to this disclosure.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a function block diagram of a control device of the work vehicle in <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart illustrating one example of processes by the control device of the work vehicle in <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a table describing a process of storing sensor information in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a table describing a process of storing a position and a direction in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart of a process of detecting steady traveling in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram illustrating the relation between a baseline direction between a first and second antennas and a vehicle direction.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart of a process of calculating a first vehicle direction in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a schematic diagram describing a direction correction parameter acquired in a process in <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flowchart of a process of calculating a second vehicle direction in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a schematic diagram illustrating one example of turning included in the steady traveling.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a schematic diagram describing a rotational center of the vehicle.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a flowchart of a process of calculating the direction correction parameter in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a schematic diagram describing the direction correction parameter.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a function block diagram of a control device in Embodiment 2 of the work vehicle according to this disclosure.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a flowchart illustrating one example of a process by a steady traveling detection function of the control device in <figref idref="DRAWINGS">FIG. <b>15</b></figref>.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a flowchart illustrating one example of a process by a travel control function of the control device in <figref idref="DRAWINGS">FIG. <b>15</b></figref>.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0010" level="1">DESCRIPTION OF EMBODIMENTS</heading><p id="p-0031" num="0030">The following will describe embodiments of a work vehicle according to this disclosure with reference to the drawings.</p><heading id="h-0011" level="1">Embodiment 1</heading><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a side view illustrating Embodiment 1 of a work vehicle according to this disclosure. <figref idref="DRAWINGS">FIG. <b>2</b></figref> is a function block diagram of a control device <b>150</b> of a work vehicle <b>100</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The work vehicle <b>100</b> of this embodiment is, for example, a dump truck used in mining sites of ores and construction sites. The work vehicle <b>100</b> includes, for example, a vehicle <b>110</b>, a positioning apparatus <b>120</b>, sensors <b>130</b>, a vessel <b>140</b>, and the control device <b>150</b>.</p><p id="p-0033" num="0032">The vehicle <b>110</b> includes, for example, a vehicle body frame <b>111</b>, wheels <b>112</b>, and a cabin <b>113</b>. The vehicle body frame <b>111</b> is, for example, a ladder-shaped structure. The vehicle body frame <b>111</b> supports, for example, the right and left wheels <b>112</b> mounted to axles via suspensions. Further, the vehicle body frame <b>111</b> supports, for example, an engine, an electric generator, a motor, a power transmission mechanism, a steering mechanism, a hydraulic device, an actuator for vehicle control, and the like that are not illustrated.</p><p id="p-0034" num="0033">The wheels <b>112</b> are, for example, coupled to the motor via the power transmission mechanism and driven by the motor to cause the vehicle <b>110</b> to travel. The cabin <b>113</b> is a compartment for an operator of the work vehicle <b>100</b> to get in. Inside the cabin <b>113</b>, for example, a steering wheel, an operating pedal, an operating lever, an information device, a speaker, a measuring instrument, an indicator lamp, and the like that are not illustrated are installed.</p><p id="p-0035" num="0034">The positioning apparatus <b>120</b> can be configured by, for example, a satellite positioning system, such as a global navigation satellite system (GNSS). The positioning apparatus <b>120</b> includes, for example, a first antenna <b>121</b>, a second antenna <b>122</b>, and a receiver <b>123</b>. The first antenna <b>121</b> and the second antenna <b>122</b> are, for example, mounted to the vehicle <b>110</b> and receive radio waves of the satellite positioning system, such as GNSS.</p><p id="p-0036" num="0035">The first antenna <b>121</b> and the second antenna <b>122</b> are, for example, installed separately in a width direction of the vehicle <b>110</b> perpendicular to a front-rear direction and a height direction of the vehicle <b>110</b>. The first antenna <b>121</b> and the second antenna <b>122</b> are, for example, mounted to the leading ends of poles secured to the vehicle <b>110</b> and installed at positions higher than a steady position of a front-end section <b>141</b><i>a </i>of a vessel main body <b>141</b>.</p><p id="p-0037" num="0036">The receiver <b>123</b> is, for example, coupled to the first antenna <b>121</b> and the second antenna <b>122</b> via signal cables. The receiver <b>123</b> outputs position information of the first antenna <b>121</b> and a baseline direction between the first antenna <b>121</b> and the second antenna <b>122</b> based on the radio waves received by the first antenna <b>121</b> and the second antenna <b>122</b>. Here, the baseline direction is, for example, a direction of a straight line connecting the installation position of the first antenna <b>121</b> to the installation position of the second antenna <b>122</b>.</p><p id="p-0038" num="0037">The sensors <b>130</b> include, for example, a velocity sensor <b>131</b>, an acceleration sensor <b>132</b>, and an angular velocity sensor <b>133</b>. Further, in the example illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref> and <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the sensors <b>130</b> include, for example, an elevation sensor <b>134</b>. The sensors <b>130</b> are, for example, coupled communicatively to the control device <b>150</b> via a control area network (CAN). When a velocity of the vehicle <b>110</b> is calculated by the control device <b>150</b> based on a location measured by the positioning apparatus <b>120</b>, the positioning apparatus <b>120</b> may be used as a velocity sensor and the velocity sensor <b>131</b> may be omitted.</p><p id="p-0039" num="0038">The velocity sensor <b>131</b> detects, for example, a velocity of the vehicle <b>110</b> based on a rotational speed of the wheels <b>112</b> and outputs the velocity to the control device <b>150</b>. The acceleration sensor <b>132</b> detects, for example, an acceleration of the vehicle <b>110</b> excluding a gravitation acceleration and outputs the acceleration to the control device <b>150</b>. The angular velocity sensor <b>133</b> detects, for example, an angular velocity of the vehicle <b>110</b> and outputs the angular velocity to the control device <b>150</b>. The elevation sensor <b>134</b> detects, for example, an elevation state of the vessel main body <b>141</b> including strokes of elevating cylinders <b>142</b> that elevate the vessel main body <b>141</b> and outputs the elevation state to the control device <b>150</b>.</p><p id="p-0040" num="0039">The vessel <b>140</b> has, for example, the vessel main body <b>141</b>, the elevating cylinders <b>142</b>, and a rotation shaft <b>143</b>. The vessel main body <b>141</b> is, for example, rotatably supported on the vehicle body frame <b>111</b> centering around the rotation shaft <b>143</b> disposed on the rear side of a bottom section. The vessel main body <b>141</b> is, for example, a section for loading and transporting loaded objects, such as ores, rocks, gravel, and earth and sand, in the work vehicle <b>100</b>.</p><p id="p-0041" num="0040">The elevating cylinders <b>142</b> are, for example, a pair of hydraulic cylinders disposed on both sides in the width direction of the vehicle <b>110</b>. In the elevating cylinder <b>142</b>, the leading end of a piston rod is coupled to a front with respect to the rotation shaft <b>143</b> on the bottom section of the vessel main body <b>141</b>, and the end section of a cylinder tube on the opposite side of the piston rod is coupled to the lower section of the vehicle body frame <b>111</b>. The elevating cylinders <b>142</b> constitute a part of the hydraulic device controlled by the control device <b>150</b>. The elevating cylinders <b>142</b> rotate the vessel main body <b>141</b> centering around the rotation shaft <b>143</b> by expanding and contracting the piston rods to elevate the front-end section <b>141</b><i>a </i>of the vessel main body <b>141</b>.</p><p id="p-0042" num="0041">The control device <b>150</b> is, for example, a computer system, such as a microcontroller or firmware. The control device <b>150</b> is, for example, composed of a central processing unit (CPU), a storage device, such as RAM and ROM, programs and data stored in the storage device, timers, and an input/output section that inputs and outputs signals. The control device <b>150</b> and the sensors <b>130</b> are, for example, each time synchronized and operate at a constant cycle, therefore avoiding failure in capturing signals due to deviation in time. A driving cycle of the control device <b>150</b> can be equalized to, for example, the shortest output cycle of the sensors <b>130</b>.</p><p id="p-0043" num="0042">As illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the control device <b>150</b> has, for example, a function F<b>100</b> of calculating a location and a posture of the work vehicle <b>100</b> and a function F<b>200</b> of monitoring a state of the work vehicle <b>100</b>. The functions of the control device <b>150</b> can be achieved by, for example, executing a program stored in the storage device of the control device <b>150</b> by the CPU. In the following description, the function F<b>100</b> of calculating the location and the posture of the work vehicle <b>100</b> is abbreviated as a calculation function F<b>100</b>, and the function F<b>200</b> of monitoring the state of the work vehicle <b>100</b> is abbreviated as a state monitoring function F<b>200</b> in some cases.</p><p id="p-0044" num="0043">In the example illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the calculation function F<b>100</b> of the control device <b>150</b> has, for example, a function F<b>101</b> of storing antenna installation information, a function F<b>102</b> of storing position and direction information, a function F<b>103</b> of storing sensor information, and a function F<b>108</b> of storing a direction correction parameter. In the following description, the respective functions of the control device <b>150</b> are abbreviated as storage functions F<b>101</b>, F<b>102</b>, F<b>103</b>, and F<b>108</b> in some cases.</p><p id="p-0045" num="0044">In the example illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the calculation function F<b>100</b> of the control device <b>150</b> further has a function F<b>104</b> of calculating a first vehicle direction, a function F<b>105</b> of calculating a second vehicle direction, a function F<b>106</b> of detecting steady traveling, and a function F<b>107</b> of calculating the direction correction parameter. In the following description, the respective functions of the control device <b>150</b> are abbreviated as calculation functions F<b>104</b> and F<b>105</b>, a detection function F<b>106</b>, and a calculation function F<b>107</b> in some cases.</p><p id="p-0046" num="0045">In the example illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the calculation function F<b>100</b> of the control device <b>150</b> further has a function F<b>109</b> of determining availability of the direction correction parameter and a function F<b>110</b> of estimating the location and the posture of the work vehicle <b>100</b>. In the following description, the respective functions of the control device <b>150</b> are abbreviated as a determination function F<b>109</b> and an estimation function F<b>110</b> in some cases.</p><p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart illustrating one example of processes by the control device <b>150</b> of the work vehicle <b>100</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The control device <b>150</b> performs the processes illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref> by, for example, the calculation function F<b>100</b>. Specifically, once starting the processes illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the control device <b>150</b> performs Process P<b>1</b> of storing the sensor information by, for example, the storage function F<b>103</b>. In Process P<b>1</b>, the storage function F<b>103</b> stores the sensor information input from the sensors <b>130</b> via the input/output section of the control device <b>150</b> in the storage device constituting the control device <b>150</b>.</p><p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is Table T<b>1</b> illustrating one example of the sensor information stored by the storage function F<b>103</b> in Process P<b>1</b>. The sensor information includes, for example, a velocity v, an acceleration a, an angular velocity w, and an elevation state h that are output values respectively from the velocity sensor <b>131</b>, the acceleration sensor <b>132</b>, the angular velocity sensor <b>133</b>, and the elevation sensor <b>134</b> that are included in the sensors <b>130</b>. Further, the sensor information includes, for example, times t, t-<b>1</b>, . . . , t-m, . . . when the respective output values are output. The storage device of the control device <b>150</b> stores, for example, the sensor information for a certain period including the sensor information at a current time t and the sensor information at times t-<b>1</b>, . . . , t-m, . . . before the current time t.</p><p id="p-0049" num="0048">The certain period for which the sensor information is stored in the storage device of the control device <b>150</b> is at least a period equal to or longer than a cycle in which both the position information of the first antenna <b>121</b> and the baseline direction connecting the first antenna <b>121</b> to the second antenna <b>122</b> are output from the receiver <b>123</b>. The velocity, the acceleration, and the angular velocity included in the sensor information may be the output values of the velocity sensor <b>131</b>, the acceleration sensor <b>132</b>, and the angular velocity sensor <b>133</b> or may be values in three-dimensional notation into which the output values of the respective sensors are converted by vehicle coordinates.</p><p id="p-0050" num="0049">Next, for example, the control device <b>150</b> performs Process P<b>2</b> of determining whether or not both the position information of the first antenna <b>121</b> and the baseline direction connecting the first antenna <b>121</b> to the second antenna <b>122</b> are acquired from the receiver <b>123</b>. The position information of the first antenna <b>121</b> is position information of the first antenna <b>121</b> output from the receiver <b>123</b> as a result of a signal being input to the receiver <b>123</b> from the first antenna <b>121</b> that has received the radio waves of GNSS. The baseline direction is, for example, a direction of the straight line connecting the first antenna <b>121</b> to the second antenna <b>122</b>, which is output from the receiver <b>123</b>, as a result of a signal being input to the receiver <b>123</b> from the first antenna <b>121</b> and the first antenna <b>121</b> that have received the radio waves of GNSS.</p><p id="p-0051" num="0050">The storage function F<b>102</b> of the control device <b>150</b> acquires, for example, the position information of the first antenna <b>121</b> and the baseline direction from the receiver <b>123</b> each at a constant cycle and stores the position information of the first antenna <b>121</b> and the baseline direction in the storage device of the control device <b>150</b>. Accordingly, in Process P<b>2</b>, for example, the control device <b>150</b> determines whether or not both the position information of the first antenna <b>121</b> and the baseline direction connecting the first antenna <b>121</b> to the second antenna <b>122</b> are acquired from the receiver <b>123</b>.</p><p id="p-0052" num="0051">Specifically, for example, assume that, from the receiver <b>123</b>, the position information of the first antenna <b>121</b> is output at a cycle of 1 [Hz], and the baseline direction connecting the first antenna <b>121</b> to the second antenna <b>122</b> is output at a cycle of 10 [Hz]. In this case, in Process P<b>2</b>, the control device <b>150</b> determines that the position information of the first antenna <b>121</b> has not been acquired (NO) at the time when only the baseline direction is acquired from the receiver <b>123</b> and performs Process P<b>13</b> described later. On the other hand, in Process P<b>2</b>, when the control device <b>150</b> determines that both the position information of the first antenna <b>121</b> and the baseline direction are acquired (YES), the control device <b>150</b> performs the next Process P<b>3</b>.</p><p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is Table T<b>2</b> illustrating one example of position information p of the first antenna <b>121</b> and a baseline direction d that are stored in the storage device of the control device <b>150</b> in Process P<b>3</b>. In Process P<b>3</b>, for example, the control device <b>150</b> stores the position information p of the first antenna <b>121</b> and the baseline direction d that are acquired from the receiver <b>123</b> by the storage function F<b>102</b> together with the acquired times t, t-m, . . . , t-<b>6</b><i>m, </i>. . . in the storage device.</p><p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. <b>5</b></figref> indicates an example in which both the position information p of the first antenna <b>121</b> and the baseline direction d are output every cycle m. The position information p of the first antenna <b>121</b> is, for example, information indicative of a point on a map and two-dimensional or three-dimensional position information. The baseline direction d connecting the first antenna <b>121</b> to the second antenna <b>122</b> is, for example, a two-dimensional or three-dimensional vector or an azimuth. As illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, after Process P<b>3</b> ends, the control device <b>150</b> performs the next Process P<b>4</b>.</p><p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a flowchart of Process P<b>4</b> of detecting the steady traveling in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. Each process illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref> can be performed by, for example, the detection function F<b>106</b> of the control device <b>150</b>. Once starting Process P<b>4</b>, the control device <b>150</b> first performs Process P<b>401</b> of calculating an average velocity. Specifically, in Process P<b>401</b>, for example, the control device <b>150</b> refers to the storage device, and refers to the time when the position information p of the first antenna <b>121</b> one cycle before is acquired from the positioning apparatus <b>120</b>. Furthermore, for example, the control device <b>150</b> uses the velocity v of the vehicle <b>110</b> from the time when the position information p of the first antenna <b>121</b> one cycle before is acquired to the present to calculate the average velocity of the vehicle <b>110</b>.</p><p id="p-0056" num="0055">Next, the control device <b>150</b> performs Process P<b>402</b> of determining whether or not the calculated average velocity of the vehicle <b>110</b> is higher than a predetermined velocity threshold Vth. In Process P<b>402</b>, for example, when the control device <b>150</b> determines that the calculated average velocity of the vehicle <b>110</b> is equal to or lower than the predetermined velocity threshold Vth (NO), the control device <b>150</b> performs the next Process P<b>408</b>.</p><p id="p-0057" num="0056">In Process P<b>408</b>, the control device <b>150</b> sets a steady traveling flag stored in the storage device to zero and ends the processes illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>. The state where the steady traveling flag is zero indicates that the work vehicle <b>100</b> is not performing the steady traveling. That is, the steady traveling has an average value of the velocity of the vehicle <b>110</b> higher than the predetermined velocity threshold Vth. This excludes the vehicle <b>110</b> standing still or low velocity traveling at the velocity threshold Vth or lower from the steady traveling.</p><p id="p-0058" num="0057">On the other hand, in Process P<b>402</b>, for example, when the control device <b>150</b> determines that the calculated average velocity of the vehicle <b>110</b> is higher than the predetermined velocity threshold Vth (YES), the control device <b>150</b> performs the next Process P<b>403</b>. In Process P<b>403</b>, the control device <b>150</b> calculates, for example, the height of the vessel <b>140</b>. Specifically, for example, the control device <b>150</b> refers to the storage device to calculate the height of the vessel <b>140</b> based on the elevation state of the vessel <b>140</b> at the current time and at the time when the output of the positioning apparatus <b>120</b> one cycle before is acquired. Here, the height of the vessel <b>140</b> is, for example, the height of the front-end section <b>141</b><i>a </i>of the vessel main body <b>141</b>.</p><p id="p-0059" num="0058">For example, assume that the elevation state of the vessel <b>140</b> is stored as an angle of the vessel main body <b>141</b> in the storage device of the control device <b>150</b>. In this case, for example, the control device <b>150</b> uses the sine of the angle of the vessel main body <b>141</b> to be able to obtain the height of the front-end section <b>141</b><i>a </i>of the vessel main body <b>141</b>. Dimension data of the vessel main body <b>141</b> is, for example, preliminarily stored in the storage device of the control device <b>150</b>. After Process P<b>403</b> ends, the control device <b>150</b> performs the next Process P<b>404</b>.</p><p id="p-0060" num="0059">In Process P<b>404</b>, for example, the control device <b>150</b> determines whether or not the height of the vessel <b>140</b> calculated in Process P<b>403</b> is lower than a predetermined height threshold Hth. More specifically, for example, the control device <b>150</b> determines whether or not each height of the vessel <b>140</b> at the current time and at the time when the position information p is acquired from the positioning apparatus <b>120</b> at the previous time is lower than the height threshold Hth. Here, for example, the height threshold Hth can be set to a height equal to the height of the first antenna <b>121</b> or the second antenna <b>122</b>, or to the lower height of those of the first antenna <b>121</b> and the second antenna <b>122</b>.</p><p id="p-0061" num="0060">In Process P<b>404</b>, assume that the control device <b>150</b> determines, for example, that the height of the vessel <b>140</b> is equal to or higher than the height threshold Hth (NO) at both or one of the current time and the time when the position information p is acquired from the positioning apparatus <b>120</b> at the previous time. In this case, the control device <b>150</b> performs the above-described Process P<b>408</b> of setting the steady traveling flag to zero and ends Process P<b>4</b> illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0062" num="0061">Further, in Process P<b>404</b>, assume that the control device <b>150</b> determines, for example, that the height of the vessel <b>140</b> is lower than the height threshold Hth (YES) at both or one of the current time and the time when the position information p is acquired from the positioning apparatus <b>120</b> at the previous time. In this case, for example, the control device <b>150</b> performs Process P<b>405</b> of calculating a traveling state of the work vehicle <b>100</b>. More specifically, in Process P<b>405</b>, the control device <b>150</b> calculates each average value of an angular velocity, an angular acceleration, and an acceleration of the work vehicle <b>100</b> and a change in the direction of the vehicle <b>110</b>.</p><p id="p-0063" num="0062">Here, each average value of the angular velocity, the angular acceleration, and the acceleration of the work vehicle <b>100</b> is, for example, an average value from the time when the position information p is acquired from the positioning apparatus <b>120</b> at the previous time to the current time. The angular acceleration of the work vehicle <b>100</b> can be calculated, for example, from the difference between the angular velocity of the work vehicle <b>100</b> at a certain time and the angular velocity of the work vehicle <b>100</b> at the time one cycle before. The change in the direction of the vehicle <b>110</b>, that is, a vehicle direction can be calculated, for example, as described below.</p><p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram illustrating the relation between the baseline direction d connecting the first antenna <b>121</b> to the first antenna <b>121</b> and a vehicle direction Dv. In the example illustrated in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the work vehicle <b>100</b> moves by the vehicle <b>110</b> turning only at an angle &#x3b8; along a circumference centering around a center Ct between the time when the position information p is acquired from the positioning apparatus <b>120</b> at the previous time to the current time. In this case, the vehicle direction Dv changes at an angle equal to the angle &#x3b8; at which the vehicle <b>110</b> has turned. Similarly, the baseline direction d, that is, a baseline vector, also changes at the angle equal to the angle &#x3b8; by which the vehicle <b>110</b> has turned.</p><p id="p-0065" num="0064">Thus, the angle &#x3b8; at which the vehicle direction Dv changes and the angle &#x3b8; at which the baseline direction d changes are equal. Therefore, by calculating an angle change of the baseline direction d between at the current time and at the time when the position information p is acquired from the positioning apparatus <b>120</b> at the previous time, an angle change of the vehicle direction Dv can be calculated. That is, in Process P<b>405</b>, for example, by calculating the angle change of the baseline direction d, the control device <b>150</b> calculates the angle change of the vehicle direction Dv. As described above, in Process P<b>405</b>, the control device <b>150</b> calculates, for example, each average value of the angular velocity, the angular acceleration, and the acceleration of the work vehicle <b>100</b> and the angle change of the vehicle direction Dv.</p><p id="p-0066" num="0065">Next, for example, the control device <b>150</b> performs Process P<b>406</b> of determining whether or not the traveling state of the work vehicle <b>100</b> is the steady traveling. Here, the steady traveling is, for example, a state where the work vehicle <b>100</b> travels in a constant motion state. More specifically, the steady traveling of the work vehicle <b>100</b> includes, for example, turning in which the work vehicle <b>100</b> travels along a circumference having the same center and the same radius and straight advancing in which the work vehicle <b>100</b> travels in a straight line. Note that the steady traveling is not limited to the turning or the straight advancing and may include other traveling states.</p><p id="p-0067" num="0066">In Process P<b>406</b>, for example, when the difference between the change of the vehicle direction Dv calculated in the previous Process P<b>405</b> and a time integration of the angular velocity of the vehicle <b>100</b> is equal to or less than a threshold, the control device <b>150</b> determines that the work vehicle <b>100</b> is during the turning in which the work vehicle <b>100</b> travels along a circumference having the same center and the same radius. In this case, since the turning of the work vehicle <b>100</b> is included in the steady traveling, the control device <b>150</b> determines in Process P<b>406</b> that the traveling state of the work vehicle <b>100</b> is the steady traveling (YES) and performs the next Process P<b>407</b>.</p><p id="p-0068" num="0067">In Process P<b>406</b>, for example, when the average values of the angular acceleration and the acceleration of the vehicle <b>110</b> calculated in the previous Process P<b>405</b> are equal to or less than thresholds, the control device <b>150</b> determines that the work vehicle <b>100</b> is during the straight advancing in which the work vehicle <b>100</b> travels in a straight line. In this case, since the straight advancing of the work vehicle <b>100</b> is included in the steady traveling, the control device <b>150</b> determines in Process P<b>406</b> that the traveling state of the work vehicle <b>100</b> is the steady traveling (YES) and performs the next Process P<b>407</b>.</p><p id="p-0069" num="0068">On the other hand, assume that the difference between the change of the vehicle direction Dv calculated in the previous Process P<b>405</b> and the time integration of the angular velocity of the work vehicle <b>100</b> is greater than the threshold or the average values of the angular acceleration and the acceleration of the vehicle <b>110</b> are greater than the thresholds. In this case, in Process P<b>406</b>, the control device <b>150</b> determines that the traveling state of the work vehicle <b>100</b> is not the steady traveling (NO), performs the above-described Process P<b>408</b> of setting the steady traveling flag to zero, and ends Process P<b>4</b> illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>.</p><p id="p-0070" num="0069">In Process P<b>407</b>, the control device <b>150</b> determines whether or not an absolute value |&#x3b1;ave| of the average value of the angular velocity of the vehicle <b>110</b> calculated in the above-described Process P<b>405</b> is smaller than a predetermined angular velocity threshold &#x3b1;th. In Process P<b>407</b>, when the control device <b>150</b> determines that the absolute value |&#x3b1;ave| is smaller than the angular velocity threshold &#x3b1;th (YES), the control device <b>150</b> performs Process P<b>409</b> of setting the steady traveling flag stored in the storage device to one and ends Process P<b>4</b> illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>. The state where the steady traveling flag is one indicates that the traveling state of the work vehicle <b>100</b> is the straight advancing.</p><p id="p-0071" num="0070">On the other hand, in Process P<b>407</b>, when the control device <b>150</b> determines that the absolute value |&#x3b1;ave| is equal to or greater than the angular velocity threshold &#x3b1;th (NO), the control device <b>150</b> performs Process P<b>410</b> of setting the steady traveling flag stored in the storage device to two and ends Process P<b>4</b> illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref>. The state where the steady traveling flag is two indicates that the traveling state of the work vehicle <b>100</b> is the turning in which the work vehicle <b>100</b> travels along a circumference having the same center and the same radius. After Process P<b>4</b> ends, the control device <b>150</b> performs Process P<b>5</b> illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0072" num="0071">In Process P<b>5</b>, for example, the control device <b>150</b> determines whether or not the traveling state of the work vehicle <b>100</b> is the steady traveling by the detection function F<b>106</b>. Specifically, the control device <b>150</b> refers to the steady traveling flag that is set in the previous Process P<b>4</b> and stored in the storage device by the detection function F<b>106</b>. When the referred steady traveling flag is zero, it indicates that the work vehicle <b>100</b> is not performing the steady traveling, and therefore, the control device <b>150</b> determines not being the steady traveling (NO) by the detection function F<b>106</b> and performs Process P<b>13</b> of estimating the location and the posture.</p><p id="p-0073" num="0072">When the work vehicle <b>100</b> is not performing the steady traveling including the specific turning or straight advancing, in Process P<b>13</b>, the control device <b>150</b> estimates the location and the posture of the work vehicle <b>100</b> using the direction correction parameter stored in the storage device through the previous Process P<b>6</b> to Process P<b>12</b>. Process P<b>13</b> of estimating the location and the posture of the work vehicle <b>100</b> will be described in detail after Process P<b>6</b> to Process P<b>12</b> are described below.</p><p id="p-0074" num="0073">In Process P<b>5</b>, when the referred steady traveling flag is one or two, it indicates that the work vehicle <b>100</b> is performing the steady traveling, and therefore, the control device <b>150</b> determines being the steady traveling (YES) by the detection function F<b>106</b> and performs Process P<b>6</b> of calculating the first vehicle direction. Here, the first vehicle direction is a direction of the vehicle <b>110</b> calculated based on the installation information of the first antenna <b>121</b> and the second antenna <b>122</b>. The installation information includes, for example, coordinates of the positions where the first antenna <b>121</b> and the second antenna <b>122</b> are installed and is stored in the storage device of the control device <b>150</b> by the storage function F<b>101</b> of the control device <b>150</b> illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart of Process P<b>6</b> of calculating the first vehicle direction. Once starting Process P<b>6</b> of calculating the first vehicle direction, for example, the control device <b>150</b> first performs Process P<b>601</b> of acquiring the direction correction parameter by the calculation function F<b>104</b>. In Process P<b>601</b>, the control device <b>150</b> acquires by the calculation function F<b>104</b>, for example, the latest direction correction parameter stored in the storage device by the storage function F<b>101</b>.</p><p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a schematic diagram describing the direction correction parameter acquired in Process P<b>601</b> illustrated in <figref idref="DRAWINGS">FIG. <b>8</b></figref>. The first antenna <b>121</b> and the second antenna <b>122</b> are installed in the vehicle <b>110</b> and the positions are fixed. Based on the installation position of the first antenna <b>121</b> and the installation position of the second antenna <b>122</b> with respect to the vehicle <b>110</b>, a vector Av heading from the first antenna <b>121</b> to the second antenna <b>122</b> can be obtained. The direction of the center line of the vehicle <b>110</b> parallel to the front-rear direction of the vehicle <b>110</b> is set to the vehicle direction Dv.</p><p id="p-0077" num="0076">In this case, the installation information of the first antenna <b>121</b> and the second antenna <b>122</b> includes an antenna installation angle &#x3b4; that is an angle formed by the vehicle direction Dv and the vector Av. The direction correction parameter is a parameter for correcting a change when the change occurs in the antenna installation angle &#x3b4; due to some cause. Even though the installation positions of the first antenna <b>121</b> and the second antenna <b>122</b> are expressed in coordinates of the coordinate system fixed to the vehicle <b>110</b>, the antenna installation angle &#x3b4; and the direction correction parameter can be calculated similarly by, for example, performing coordinates transformation.</p><p id="p-0078" num="0077">In Process P<b>8</b> described later, the direction correction parameter is calculated by the calculation function F<b>107</b> of the control device <b>150</b> and stored in the storage device by the storage function F<b>108</b>. In the storage device of the control device <b>150</b>, for example, direction correction parameters for a certain period are stored with respective times. When Process P<b>8</b> is not performed yet and the direction correction parameter is not calculated, zero as the initial value is stored in the storage device of the control device <b>150</b>. When the direction correction parameter is zero, correction of the antenna installation angle &#x3b4; is not performed.</p><p id="p-0079" num="0078">Next, for example, the control device <b>150</b> performs Process P<b>602</b> of calculating the first vehicle direction by the calculation function F<b>104</b>. Specifically, for example, the control device <b>150</b> calculates the vehicle direction Dv using a value in which the direction correction parameter is subtracted from the antenna installation angle &#x3b4; illustrated in <figref idref="DRAWINGS">FIG. <b>9</b></figref> and the vector Av illustrated in <figref idref="DRAWINGS">FIG. <b>9</b></figref> by the calculation function F<b>104</b> and ends Process P<b>6</b> illustrated in <figref idref="DRAWINGS">FIG. <b>8</b></figref>. The vehicle direction Dv calculated in Process P<b>6</b> is the first vehicle direction derived from the installation positions of the first antenna <b>121</b> and the second antenna <b>122</b>. Next, as illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the control device <b>150</b> performs Process P<b>7</b> of calculating the second vehicle direction by, for example, the calculation function F<b>105</b>.</p><p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flowchart of Process P<b>7</b> of calculating the second vehicle direction. Each process illustrated in <figref idref="DRAWINGS">FIG. <b>10</b></figref> can be performed by, for example, the calculation function F<b>105</b> of the control device <b>150</b>. Once starting Process P<b>7</b>, the control device <b>150</b> first performs Process P<b>701</b> of calculating the difference of antenna positions. In Process P<b>701</b>, the control device <b>150</b> acquires the position information p of the first antenna <b>121</b> that is input from the receiver <b>123</b> of the positioning apparatus <b>120</b> to the control device <b>150</b> and stored in the storage device by the storage function F<b>102</b> of the control device <b>150</b>. Here, the control device <b>150</b> acquires the current position information p of the first antenna <b>121</b> and the position information p of the first antenna <b>121</b> one cycle before.</p><p id="p-0081" num="0080">Furthermore, in Process P<b>701</b>, the control device <b>150</b> calculates a moving direction of the vehicle <b>110</b> based on the difference between the current position information p of the first antenna <b>121</b> and the position information p of the first antenna <b>121</b> one cycle before. More specifically, the control device <b>150</b> calculates a moving vector of the vehicle <b>110</b> based on the difference between the current position information p of the first antenna <b>121</b> and the position information p of the first antenna <b>121</b> one cycle before.</p><p id="p-0082" num="0081">Next, the control device <b>150</b> performs Process P<b>702</b> of determining whether or not the steady traveling flag is two. In Process P<b>702</b>, assume that the control device <b>150</b> determines that the steady traveling flag is not two (NO), that is, that the steady traveling flag is one. In this case, the traveling state of the vehicle <b>110</b> is the straight advancing that is to travel in a straight line and the vehicle direction Dv and an advance direction of the vehicle <b>110</b> are corresponding. Therefore, the control device <b>150</b> performs Process P<b>706</b> of setting the moving vector of the vehicle <b>110</b> calculated in the previous Process P<b>701</b> as the second vehicle direction and ends Process P<b>7</b> illustrated in <figref idref="DRAWINGS">FIG. <b>10</b></figref>.</p><p id="p-0083" num="0082">On the other hand, in Process P<b>702</b>, assume that the control device <b>150</b> determines that the steady traveling flag is two (YES). In this case, the traveling state of the vehicle <b>110</b> is the turning that is to travel along a circle having the same center and radius. Therefore, the control device <b>150</b> performs Process P<b>703</b> of calculating the position of the center of the turning of the vehicle <b>110</b>.</p><p id="p-0084" num="0083"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a schematic diagram illustrating one example of the turning included in the steady traveling of the work vehicle <b>100</b>. In <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the location at the current time of the vehicle <b>110</b> that turns in left turn (counterclockwise) around the center Ct and the location at the time one cycle before are illustrated. In Process P<b>703</b>, the control device <b>150</b> first calculates the vehicle direction Dv of the vehicle <b>110</b> at the time one cycle before based on the position information p of the first antenna <b>121</b> at the time one cycle before and the position information p of the first antenna <b>121</b> at the current time.</p><p id="p-0085" num="0084">Here, the vehicle <b>110</b> turns along a circle having the same center Ct and radius. Therefore, the rotation angle of the vehicle <b>110</b> around the center Ct between the time one cycle before and the current time is equal to the angle &#x3b8; between the vehicle direction Dv at the time one cycle before and the vehicle direction Dv at the current time. The center Ct of the turning of the vehicle <b>110</b> is on the bisector of a moving vector Mv calculated in the above-described Process P<b>701</b>. A distance D from the moving vector Mv to the center Ct of the turning can be obtained by the following formula (1), where L denotes the length of the moving vector Mv.</p><p id="p-0086" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>D=L/{</i>2&#xd7;tan(&#x3b8;/2)}&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0087" num="0085">Accordingly, in Process P<b>703</b>, for example, the control device <b>150</b> can calculate the center Ct of the turning by calculating the normal line with respect to the moving vector Mv from the average of the angular velocity of the vehicle <b>110</b>. Next, the control device <b>150</b> performs Process P<b>704</b> of calculating a rotational center of the vehicle <b>110</b>.</p><p id="p-0088" num="0086">In Process P<b>704</b>, the control device <b>150</b> first calculates a vector heading from the position of the first antenna <b>121</b> to the rotational center of the vehicle <b>110</b>. To this end, the control device <b>150</b> calculates a vector heading from the installation position of the first antenna <b>121</b> to the installation position of the acceleration sensor <b>132</b> and a vector heading from the installation position of the acceleration sensor <b>132</b> to the rotational center of the vehicle <b>110</b>.</p><p id="p-0089" num="0087"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a schematic diagram describing a rotational center Ctv of the vehicle <b>110</b>. The rotational center Ctv of the vehicle <b>110</b> is a point at which the direction of a velocity vector Vv of the vehicle <b>110</b> and the vehicle direction Dv are equalized considering the vehicle <b>110</b> as one rigid body. The direction of the velocity vector Vv of the vehicle <b>110</b> is the normal direction of a line segment connecting the center Ct of the turning of the vehicle <b>110</b> to the rotational center Ctv of the vehicle <b>110</b>. The vector heading from the installation position of the acceleration sensor <b>132</b> to the rotational center Ctv of the vehicle <b>110</b> can be calculated as described below.</p><p id="p-0090" num="0088">From the inside of the average value of the acceleration of the vehicle <b>110</b> calculated in the above-described Process P<b>4</b>, ax, which is a component of the front-rear direction of the vehicle <b>110</b>, is extracted. Furthermore, an average value wz of the angular velocity in a yaw direction and a displacement g from the vehicle direction Dv are used. This can obtain the vector heading from the installation position of the acceleration sensor <b>132</b> to the rotational center Ctv of the vehicle <b>110</b> as (ax/(wz&#xd7;wz),g).</p><p id="p-0091" num="0089">With the above, the vector heading from the first antenna <b>121</b> to the acceleration sensor <b>132</b> and the vector heading from the acceleration sensor <b>132</b> to the rotational center Ctv of the vehicle <b>110</b> can be obtained. Furthermore, by adding these vectors, a vector heading from the first antenna <b>121</b> to the rotational center Ctv of the vehicle <b>110</b> can be obtained.</p><p id="p-0092" num="0090">When the vehicle <b>110</b> is traveling at a low speed, a rear axle center Cra can be specified as the rotational center of the vehicle <b>110</b> in accordance with Ackermann geometry. In this case, based on the specifications of the vehicle <b>110</b>, a vector from the first antenna <b>121</b> to the rear axle center Cra can be preliminarily calculated and stored in the storage device of the control device <b>150</b>.</p><p id="p-0093" num="0091">Furthermore, in Process P<b>704</b>, the control device <b>150</b> calculates the rotational center Ctv of the vehicle <b>110</b> using the vector heading from the first antenna <b>121</b> to the rotational center Ctv of the vehicle <b>110</b> and a vector of the baseline direction connecting the first antenna <b>121</b> to the second antenna <b>122</b>. Specifically, centering around the position of the first antenna <b>121</b> one cycle before stored in the storage device of the control device <b>150</b> by the storage function F<b>102</b>, the vector heading from the first antenna <b>121</b> to the rotational center Ctv of the vehicle body frame <b>111</b> is rotated.</p><p id="p-0094" num="0092">A rotating amount of the vector at this time is determined by, for example, calculating the first vehicle direction. Here, similarly to the above-described Process P<b>602</b>, for example, the first vehicle direction can be obtained using the value in which the direction correction parameter is subtracted from the antenna installation angle &#x3b4; illustrated in <figref idref="DRAWINGS">FIG. <b>9</b></figref> and the vector Av one cycle before that heads from the first antenna <b>121</b> to the second antenna <b>122</b>. With the above, in Process P<b>704</b>, the control device <b>150</b> can calculate the rotational center Ctv of the vehicle <b>110</b>.</p><p id="p-0095" num="0093">Next, the control device <b>150</b> performs Process P<b>705</b> of calculating the second vehicle direction. In Process P<b>705</b>, the control device <b>150</b> calculates the second vehicle direction based on the center Ct of the turning of the vehicle <b>110</b> calculated in the above-described Process P<b>703</b> and the rotational center Ctv of the vehicle <b>110</b> calculated in the above-described Process P<b>704</b> and ends Process P<b>7</b> illustrated in <figref idref="DRAWINGS">FIG. <b>10</b></figref>.</p><p id="p-0096" num="0094">The second vehicle direction calculated in Process P<b>7</b> is a vehicle direction derived from the information output from the receiver <b>123</b> of the positioning apparatus <b>120</b>. The second vehicle direction can be calculated as the normal direction obtained by the right-hand system with respect to a vector heading from the center Ct of the turning of the vehicle <b>110</b> to the rotational center Ctv of the vehicle <b>110</b>. Next, the control device <b>150</b> performs Process P<b>8</b> of calculating the direction correction parameter in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0097" num="0095"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a flowchart of Process P<b>8</b> of calculating the direction correction parameter. <figref idref="DRAWINGS">FIG. <b>14</b></figref> is a schematic diagram describing Process P<b>8</b>. Once starting Process P<b>8</b>, the control device <b>150</b> first performs Process P<b>801</b> of calculating a correction angle &#x3c6;. The correction angle &#x3c6; is, for example, an angle formed by a first vehicle direction Dv<b>1</b> and a second vehicle direction Dv<b>2</b>. Here, the first vehicle direction Dv<b>1</b> is a vehicle direction derived from the installation positions of the first antenna <b>121</b> and the second antenna <b>122</b> and the second vehicle direction Dv<b>2</b> is a vehicle direction derived from the position information p of the first antenna <b>121</b> output from the receiver <b>123</b> of the positioning apparatus <b>120</b>.</p><p id="p-0098" num="0096">That is, the first vehicle direction Dv<b>1</b> is affected by an error of the installation positions of the first antenna <b>121</b> and the second antenna <b>122</b>, whereas the second vehicle direction Dv<b>2</b> is not affected by an error of the installation positions of the first antenna <b>121</b> and the second antenna <b>122</b>. Accordingly, considering that the second vehicle direction Dv<b>2</b> is the actual vehicle direction, the control device <b>150</b> calculates the difference between the first vehicle direction Dv<b>1</b> and the second vehicle direction Dv<b>2</b> by the calculation function F<b>107</b> and calculates the correction angle &#x3c6; to equalize the first vehicle direction Dv<b>1</b> to the second vehicle direction Dv<b>2</b>.</p><p id="p-0099" num="0097">Next, the control device <b>150</b> performs Process P<b>802</b> of updating the direction correction parameter. In Process P<b>802</b>, for example, the control device <b>150</b> updates the direction correction parameter by adding the correction angle &#x3c6; calculated in the previous Process P<b>801</b> to the direction correction parameter stored in the storage device by the calculation function F<b>107</b>. Next, the control device <b>150</b> performs Process P<b>803</b> of storing the direction correction parameter. In Process P<b>803</b>, for example, the control device <b>150</b> stores the direction correction parameter updated in the previous Process P<b>802</b> in the storage device by the storage function F<b>108</b> and ends Process P<b>8</b> illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>.</p><p id="p-0100" num="0098">Next, as illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, for example, the control device <b>150</b> performs Process P<b>9</b> of determining whether or not the direction correction parameter converges by the determination function F<b>109</b>. The second vehicle direction Dv<b>2</b> is also used in Process P<b>704</b> of calculating the rotational center Ctv of the vehicle <b>110</b> illustrated in <figref idref="DRAWINGS">FIG. <b>10</b></figref>. Therefore, an error that cannot be removed by the previous direction correction parameter occurs also in the second vehicle direction Dv<b>2</b>. In order to reduce the error, in Process P<b>9</b>, the control device <b>150</b> executes convergence operation by performing calculation again using the latest direction correction parameter calculated in the previous Process P<b>8</b>.</p><p id="p-0101" num="0099">In Process P<b>9</b>, for example, when the absolute value of the correction angle &#x3c6; calculated in Process P<b>801</b> illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref> is smaller than a preliminarily set threshold, the control device <b>150</b> determines that the direction correction parameter converges (YES) and performs the next Process P<b>10</b>. On the other hand, in Process P<b>9</b>, for example, when the absolute value of the correction angle &#x3c6; is equal to or greater than the preliminarily set threshold, the control device <b>150</b> determines that the direction correction parameter does not converge (NO) and repeatedly performs from Process P<b>6</b> to Process P<b>9</b>.</p><p id="p-0102" num="0100">Next, for example, the control device <b>150</b> performs Process P<b>10</b> of calculating the average value of the direction correction parameter by the determination function F<b>109</b>. The direction correction parameter is calculated based on the position information p of the first antenna <b>121</b> input from the receiver <b>123</b> of the positioning apparatus <b>120</b> to the control device <b>150</b> every sampling cycle. Therefore, an error occurs also in the direction correction parameter by a position error that occurs when the receiver <b>123</b> performs positioning calculation based on the radio waves of GNSS that the first antenna <b>121</b> receives.</p><p id="p-0103" num="0101">In order to remove the error of the direction correction parameter, in Process P<b>10</b>, the control device <b>150</b> performs sequential averaging of the direction correction parameter. In the sequential averaging of the direction correction parameter, for example, an excessive increase in the number of integrations may be suppressed by setting an upper limit of the number of integrations and introducing a forgetting coefficient. This allows the change of the direction correction parameter to be reflected without failure.</p><p id="p-0104" num="0102">Next, for example, the control device <b>150</b> performs Process P<b>11</b> of determining the availability of the direction correction parameter by the determination function F<b>109</b>. As described above, since the direction correction parameter calculated at each time includes an error, the average value of the direction correction parameters calculated in a predetermined period is calculated. Therefore, it is necessary that a certain number or more of the direction correction parameters have been calculated and variation of the direction correction parameters every cycle does not become excessive.</p><p id="p-0105" num="0103">Accordingly, in Process P<b>11</b>, the control device <b>150</b> determines that the direction correction parameter is available (YES) when the number of calculated direction correction parameters is equal to or more than a predetermined threshold and the difference between the latest average of the direction correction parameters and the average one cycle before is equal to or less than a predetermined threshold. In this case, the control device <b>150</b> performs Process P<b>12</b> of correcting the vehicle direction using the direction correction parameter, and based on the corrected vehicle direction, performs Process P<b>13</b> of estimating the location and the posture of the vehicle <b>110</b> by the estimation function F<b>110</b>.</p><p id="p-0106" num="0104">On the other hand, in Process P<b>11</b>, when the control device <b>150</b> determines that the direction correction parameter is not available (NO), the control device <b>150</b> performs Process P<b>13</b> of estimating the location and the posture of the vehicle <b>110</b> by the estimation function F<b>110</b> without using the direction correction parameter. Finally, the control device <b>150</b> performs Process P<b>14</b> of outputting the average value of the direction correction parameters calculated in Process P<b>10</b> and the location and the posture of the vehicle <b>110</b> estimated in Process P<b>13</b> to the state monitoring function F<b>200</b> via CAN. With the above, each process illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref> by the calculation function F<b>100</b> of the control device <b>150</b> ends.</p><p id="p-0107" num="0105">Next, the state monitoring function F<b>200</b> of the control device <b>150</b> detects that an error occurs in the installation position of the first antenna <b>121</b> or the second antenna <b>122</b> based on the installation information of the first antenna <b>121</b> and the second antenna <b>122</b> and the direction correction parameter. Further, for example, when the direction correction parameter exceeds the predetermined threshold, the state monitoring function F<b>200</b> of the control device <b>150</b> determines an abnormality in the installation positions of the first antenna <b>121</b> and the second antenna <b>122</b>.</p><p id="p-0108" num="0106">In this case, the work vehicle <b>100</b> may include an information notification device for notifying an operator or a user of information. As the information notification device, for example, a liquid crystal display unit, an indicator lamp, a speaker, a buzzer, and the like can be used. This allows the state monitoring function F<b>200</b> of the control device <b>150</b> to output error information with respect to the installation information of the first antenna <b>121</b> and the second antenna <b>122</b> to the information notification device and notify the operator or the user of the work vehicle <b>100</b> of an abnormality when the direction correction parameter exceeds the predetermined threshold.</p><p id="p-0109" num="0107">As described above, the work vehicle <b>100</b> of this embodiment includes the vehicle <b>110</b> and the first antenna <b>121</b> and the second antenna <b>122</b> that are mounted to the vehicle <b>110</b> and receive radio waves of a satellite positioning system. Further, the work vehicle <b>100</b> includes the receiver <b>123</b> that outputs the position information p of the first antenna <b>121</b> based on the radio waves of the satellite positioning system and the baseline direction d between the first antenna <b>121</b> and the second antenna <b>122</b>. Further, the work vehicle <b>100</b> includes the sensors <b>130</b> that measure the velocity, the acceleration, and the angular velocity of the vehicle <b>110</b> and the control device <b>150</b> that estimates the location and the posture of the vehicle <b>110</b>. The control device <b>150</b> has the detection function F<b>106</b>, the calculation function F<b>104</b>, the calculation function F<b>105</b>, the calculation function F<b>107</b>, and the estimation function F<b>110</b>. The detection function F<b>106</b> is a function of detecting the steady traveling based on the velocity, the acceleration, and the angular velocity of the vehicle <b>110</b>. The calculation function F<b>104</b> is a function of calculating the first vehicle direction Dv<b>1</b> based on the installation information of the first antenna <b>121</b> and the second antenna <b>122</b> with respect to the vehicle <b>110</b>. The calculation function F<b>105</b> is a function of calculating the second vehicle direction Dv<b>2</b> based on a time change of the position information p of the first antenna <b>121</b> when the steady traveling is detected. The calculation function F<b>107</b> is a function of calculating the direction correction parameter for correcting the first vehicle direction Dv<b>1</b> based on the second vehicle direction Dv<b>2</b>. The estimation function F<b>110</b> is a function of estimating the location and the posture of the vehicle <b>110</b> based on the direction correction parameter and the first vehicle direction Dv<b>1</b>.</p><p id="p-0110" num="0108">With this configuration, the work vehicle <b>100</b> of this embodiment allows detecting an error in the installation positions of the first antenna <b>121</b> and the second antenna <b>122</b> more flexibly than a conventional device. More specifically, the first antenna <b>121</b> and the second antenna <b>122</b> are mounted to, for example, the leading ends of poles extending upward from the vehicle body frame <b>111</b> such that the radio waves from the satellite positioning system are not blocked by the vehicle <b>110</b> or the vessel <b>140</b>. Further, for example, the work vehicle <b>100</b> loads ores, earth and sand, and the like on the vessel <b>140</b>, unloads the loaded objects from the vessel <b>140</b>, and travels on the ground having large unevenness in mines, construction sites, and the like. Therefore, vibration or impact acts on the first antenna <b>121</b> and the second antenna <b>122</b> in some cases. Then, with the passage of time, an error occurs between preliminarily set installation positions of the first antenna <b>121</b> and the second antenna <b>122</b> and the actual installation positions in some cases. In this case, an error occurs between the first vehicle direction Dv<b>1</b> calculated based on the preliminarily set installation positions and the actual vehicle direction in some cases.</p><p id="p-0111" num="0109">Therefore, as described above, the work vehicle <b>100</b> of this embodiment calculates the second vehicle direction Dv<b>2</b> using the time change of the position information p of the first antenna <b>121</b> based on the radio waves of the satellite positioning system that the first antenna <b>121</b> receives when the steady traveling is detected by the detection function F<b>106</b> of the control device <b>150</b>. Then, the direction correction parameter for correcting the first vehicle direction Dv<b>1</b> is calculated based on the second vehicle direction Dv<b>2</b>, and based on the direction correction parameter and the first vehicle direction Dv<b>1</b>, the location and the posture of the vehicle <b>110</b> are estimated. That is, the work vehicle <b>100</b> of this embodiment can correct an error between the first vehicle direction Dv<b>1</b> and the actual vehicle direction Dv more flexibly by performing the steady traveling including not only extremely limited traveling states as a conventional device has but also more diverse traveling states. Further, a work for detecting an error that occurs in the installation positions of the first antenna <b>121</b> and the second antenna <b>122</b> becomes unnecessary.</p><p id="p-0112" num="0110">In the work vehicle <b>100</b> of this embodiment, the control device <b>150</b> further has the determination function F<b>109</b> of determining the availability of the direction correction parameter. The estimation function F<b>110</b> of the control device <b>150</b> estimates the location and the posture of the vehicle <b>110</b> based on the direction correction parameter and the first vehicle direction Dv<b>1</b> when the direction correction parameter is available. With this configuration, for example, correcting the first vehicle direction Dv<b>1</b> based on the direction correction parameter including a large error is avoided, and the first vehicle direction Dv<b>1</b> can be corrected more accurately.</p><p id="p-0113" num="0111">In the work vehicle <b>100</b> of this embodiment, the steady traveling includes the turning that is to travel along a circumference having the same center and the same radius and the straight advancing that is to travel in a straight line. With this configuration, an error between the first vehicle direction Dv<b>1</b> and the actual vehicle direction can be corrected more flexibly by performing the steady traveling including not only extremely limited traveling states, in which the work vehicle <b>100</b> advances in the front-rear direction on an approximately horizontal surface as a conventional device has, but also the turning and the straight advancing.</p><p id="p-0114" num="0112">In the work vehicle <b>100</b> of this embodiment, the steady traveling has the average value of the velocity of the vehicle <b>110</b> higher than the predetermined velocity threshold Vth. With this configuration, a case where the vehicle <b>110</b> stops or a case where the vehicle <b>110</b> travels slowly at a velocity equal to or lower than the velocity threshold Vth are excluded from the steady traveling, and the location and the posture of the vehicle <b>110</b> can be estimated more accurately.</p><p id="p-0115" num="0113">Further, the work vehicle <b>100</b> of this embodiment includes the vessel <b>140</b> mounted to the vehicle <b>110</b>, the elevating cylinders <b>142</b> as an elevating mechanism that elevates the vessel <b>140</b>, and the elevation sensor <b>134</b> that detects the height of the vessel <b>140</b>. In the work vehicle <b>100</b> of this embodiment, the steady traveling has the height of the vessel <b>140</b> lower than the predetermined height threshold Hth.</p><p id="p-0116" num="0114">With this configuration, in the work vehicle <b>100</b> of this embodiment, for example, when the front-end section <b>141</b><i>a </i>of the vessel main body <b>141</b> is equal to or higher than the height threshold Hth based on the height of the first antenna <b>121</b> and the second antenna <b>122</b>, the second vehicle direction Dv<b>2</b> is not calculated. Therefore, calculating the second vehicle direction Dv<b>2</b> in a state where the radio wave from the satellite positioning system to the first antenna <b>121</b> or the second antenna <b>122</b> is blocked by the vessel <b>140</b> is avoided, and an error in the second vehicle direction Dv<b>2</b> is reduced. Accordingly, with the work vehicle <b>100</b> of this embodiment, the location and the posture of the vehicle <b>110</b> can be estimated more accurately.</p><p id="p-0117" num="0115">The work vehicle <b>100</b> of this embodiment can include an information notification device for notifying an operator or a user of information. In this case, when the direction correction parameter exceeds the predetermined threshold, the control device <b>150</b> can output error information with respect to the installation information of the first antenna <b>121</b> and the second antenna <b>122</b> to the information notification device. With this configuration, the work vehicle <b>100</b> of this embodiment allows notifying the operator or the user that an error in the installation positions of the first antenna <b>121</b> or the second antenna <b>122</b> occurs.</p><p id="p-0118" num="0116">As described above, with this embodiment, the work vehicle <b>100</b> that allows detecting an error in the installation positions of the first antenna <b>121</b> or the second antenna <b>122</b> more flexibly than a conventional device can be provided.</p><heading id="h-0012" level="1">Embodiment 2</heading><p id="p-0119" num="0117">The following will describe Embodiment 2 of the work vehicle according to this disclosure using a part of the drawings used in Embodiment 1 and with reference to <figref idref="DRAWINGS">FIG. <b>15</b></figref> to <figref idref="DRAWINGS">FIG. <b>17</b></figref>. <figref idref="DRAWINGS">FIG. <b>15</b></figref> is a function block diagram of the control device <b>150</b> illustrating Embodiment 2 of the work vehicle according to this disclosure. The work vehicle <b>100</b> of this embodiment is different from the work vehicle <b>100</b> of the above-described Embodiment 1 in functions that the control device <b>150</b> includes. Since other points of the work vehicle <b>100</b> of this embodiment are similar to those of the work vehicle <b>100</b> of the above-described Embodiment 1, the same reference numerals are given to similar sections and the descriptions are omitted.</p><p id="p-0120" num="0118">In the work vehicle <b>100</b> of this embodiment, the control device <b>150</b> has a calculation function F<b>100</b>&#x2032; for the location and the posture similar to the calculation function F<b>100</b> of the above-described Embodiment 1. Further, in the work vehicle <b>100</b> of this embodiment, the control device <b>150</b> has a travel control function F<b>300</b> instead of the state monitoring function F<b>200</b>. In the control device <b>150</b> of this embodiment, the calculation function F<b>100</b>&#x2032; outputs an estimation result of the location and the posture of the vehicle <b>110</b> by the estimation function F<b>110</b> and a detection result of the steady traveling by the detection function F<b>106</b> to the travel control function F<b>300</b>.</p><p id="p-0121" num="0119">The travel control function F<b>300</b> executes travel control of the vehicle <b>110</b> based on the estimation result and the detection result input from the calculation function F<b>100</b>&#x2032;. More specifically, the travel control function F<b>300</b> controls various actuators of the vehicle <b>110</b> and automatically operates an accelerator pedal, a brake pedal, a transmission, a steering wheel, and the like of the vehicle <b>110</b> to cause the vehicle <b>110</b> to travel. In the work vehicle <b>100</b> of this embodiment, for example, the control device <b>150</b> performs Process P<b>4</b>&#x2032; of detecting the steady traveling illustrated in <figref idref="DRAWINGS">FIG. <b>16</b></figref> by the detection function F<b>106</b> instead of Process P<b>4</b> of detecting the steady traveling illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref> and <figref idref="DRAWINGS">FIG. <b>4</b></figref>.</p><p id="p-0122" num="0120"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a flowchart illustrating one example of Process P<b>4</b>&#x2032; by the detection function F<b>106</b> of the control device <b>150</b> of this embodiment. In Process P<b>4</b>&#x2032; illustrated in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, the same reference numerals are given to processes similar to those of Process P<b>4</b> of Embodiment 1 illustrated in <figref idref="DRAWINGS">FIG. <b>6</b></figref> and the descriptions are omitted.</p><p id="p-0123" num="0121">In Process P<b>402</b> of Process P<b>4</b>&#x2032; illustrated in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, when the control device <b>150</b> determines that the average velocity of the vehicle <b>110</b> is equal to or lower than the predetermined velocity threshold Vth (NO), the control device <b>150</b> performs Process P<b>411</b> of setting a velocity shortage flag stored in the storage device to one by, for example, the detection function F<b>106</b>. The state where the velocity shortage flag is set to one indicates a state where the direction correction parameter cannot be calculated because the velocity of the vehicle <b>110</b> is insufficient. After Process P<b>411</b> ends, the control device <b>150</b> performs Process P<b>408</b> of setting the steady traveling flag to zero similarly to the above-described Embodiment 1.</p><p id="p-0124" num="0122">In Process P<b>406</b> of Process P<b>4</b>&#x2032; illustrated in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, when the control device <b>150</b> determines that the traveling state of the vehicle <b>110</b> is not the steady traveling (NO), the control device <b>150</b> performs Process P<b>412</b> of setting a non-steady flag stored in the storage device to one by, for example, the detection function F<b>106</b>. The state where the non-steady flag is set to one indicates a state where the traveling state of the vehicle <b>110</b> is not the steady traveling and the direction correction parameter cannot be calculated. After Process P<b>412</b> ends, the control device <b>150</b> performs Process P<b>408</b> of setting the steady traveling flag to zero similarly to the above-described Embodiment 1.</p><p id="p-0125" num="0123">Note that the velocity shortage flag and the non-steady flag have initial values of zero and are simultaneously initialized at the activation of the control device <b>150</b> every sampling cycle. When the velocity shortage flag or the non-steady flag is set to one, the direction correction parameter is not calculated and an estimation error in the posture of the work vehicle <b>100</b> increases. Therefore, the control device <b>150</b> of this embodiment executes the travel control of the vehicle <b>110</b> by the travel control function F<b>300</b> such that the traveling state of the vehicle <b>110</b> becomes the steady traveling.</p><p id="p-0126" num="0124"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a flowchart illustrating one example of Process P<b>15</b> by the travel control function F<b>300</b> of the control device <b>150</b> in the work vehicle <b>100</b> of this embodiment. Once starting Process P<b>15</b> illustrated in <figref idref="DRAWINGS">FIG. <b>17</b></figref>, the control device <b>150</b> first performs Process P<b>1501</b> of acquiring the velocity shortage flag and the non-steady flag stored in the storage device.</p><p id="p-0127" num="0125">Next, the control device <b>150</b> performs Process P<b>1502</b> of determining whether or not the velocity shortage flag is one. In Process P<b>1502</b>, when the control device <b>150</b> determines that the velocity shortage flag is one (YES), it can be deemed that the velocity of the vehicle <b>110</b> is insufficient and the direction correction parameter cannot be calculated. In this case, the control device <b>150</b> performs Process P<b>1503</b> of setting a travel control parameter that accelerates the vehicle <b>110</b> to a predetermined velocity exceeding the velocity threshold Vth. After Process P<b>1503</b> ends, the control device <b>150</b> performs Process P<b>1509</b> of determining the presence or absence of interruption described later.</p><p id="p-0128" num="0126">On the other hand, in Process P<b>1502</b>, when the control device <b>150</b> determines that the velocity shortage flag is not one (NO), the control device <b>150</b> performs Process P<b>1504</b> of determining whether or not the non-steady flag is one. In Process P<b>1504</b>, when the control device <b>150</b> determines that the non-steady flag is not one (NO), it can be deemed that the traveling state of the vehicle <b>110</b> is the steady traveling in which the direction correction parameter can be calculated, and therefore, the control device <b>150</b> performs Process P<b>1509</b> of determining the presence or absence of interruption described later.</p><p id="p-0129" num="0127">On the other hand, in Process P<b>1504</b>, when the control device <b>150</b> determines that the non-steady flag is one (YES), the control device <b>150</b> performs Process P<b>1505</b> of determining whether or not the velocity of the vehicle <b>110</b> is higher than a predetermined velocity threshold Vth&#x2032;. In Process P<b>1505</b>, when the control device <b>150</b> determines that the velocity of the vehicle <b>110</b> is higher than the velocity threshold Vth&#x2032; (YES), the control device <b>150</b> performs Process P<b>1506</b> of setting a travel control parameter that decelerates the vehicle <b>110</b> such that the velocity of the vehicle <b>110</b> falls within the velocity of the steady traveling. After Process P<b>1506</b> ends, the control device <b>150</b> performs Process P<b>1509</b> of determining the presence or absence of interruption described later.</p><p id="p-0130" num="0128">On the other hand, in Process P<b>1505</b>, when the control device <b>150</b> determines that the velocity of the vehicle <b>110</b> is equal to or lower than the predetermined velocity threshold Vth&#x2032; (NO), it can be deemed that the velocity of the vehicle <b>110</b> has no margin of adjustment. In this case, the control device <b>150</b> performs Process P<b>1507</b> of determining whether or not an absolute value |&#x3b1;| of the angular velocity of the vehicle <b>110</b> is lower than the predetermined angular velocity threshold &#x3b1;th. In Process P<b>1507</b>, when the control device <b>150</b> determines that the absolute value |&#x3b1;| of the angular velocity of the vehicle <b>110</b> is lower than the predetermined angular velocity threshold &#x3b1;th (YES), it can be deemed that the vehicle <b>110</b> is advancing in a straight line. In this case, the control device <b>150</b> performs Process P<b>1508</b> of setting a travel control parameter that maintains a steering angle of the steering wheel. After Process P<b>1508</b> ends, the control device <b>150</b> performs Process P<b>1509</b> of determining the presence or absence of interruption described later.</p><p id="p-0131" num="0129">On the other hand, in Process P<b>1507</b>, when the control device <b>150</b> determines that the absolute value |&#x3b1;| of the angular velocity of the vehicle <b>110</b> is equal to or higher than the predetermined angular velocity threshold &#x3b1;th (NO), the control device <b>150</b> performs Process P<b>1509</b> of determining the presence or absence of interruption. In Process P<b>1509</b>, the control device <b>150</b> determines whether or not an interruption signal that stops the control is input from another control device and whether or not an interruption of an operation of the vehicle <b>110</b> by an operator of the vehicle <b>110</b> is present.</p><p id="p-0132" num="0130">In Process P<b>1509</b>, when the control device <b>150</b> determines that an interruption is absent (NO), the control device <b>150</b> performs Process P<b>1510</b> of executing the travel control of the vehicle <b>110</b> based on the parameters set in the above-described Processes P<b>1503</b>, P<b>1506</b>, or P<b>1508</b> and ends Process P<b>15</b> illustrated in <figref idref="DRAWINGS">FIG. <b>17</b></figref>. On the other hand, in Process P<b>1509</b>, when the control device <b>150</b> determines that an interruption is present (YES), the control device <b>150</b> performs Process P<b>1511</b> of aborting the travel control of the vehicle <b>110</b> based on the parameters set in the above-described Processes P<b>1503</b>, P<b>1506</b>, or P<b>1508</b> and ends Process P<b>15</b> illustrated in <figref idref="DRAWINGS">FIG. <b>17</b></figref>.</p><p id="p-0133" num="0131">As described above, in the work vehicle <b>100</b> of this embodiment, the control device <b>150</b> has the travel control function F<b>300</b> that controls traveling of the vehicle <b>110</b>. When the steady traveling of the vehicle <b>110</b> is not detected by the detection function F<b>106</b>, the travel control function F<b>300</b> controls the vehicle <b>110</b> so as to satisfy conditions of the steady traveling. With this configuration, the work vehicle <b>100</b> of this embodiment not only allows providing the effect similar to that of the work vehicle <b>100</b> of Embodiment 1, but also allows the control device <b>150</b> to control the traveling state of the vehicle <b>110</b> to the steady traveling and calculate the direction correction parameter more reliably.</p><p id="p-0134" num="0132">While the embodiments of the work vehicle according to this disclosure have been described in detail with reference to the drawings, the specific configuration is not limited to the embodiments. Design changes and the like within a scope not departing from the gist of this disclosure are included in this disclosure.</p><heading id="h-0013" level="1">REFERENCE SIGNS LIST</heading><p id="p-0135" num="0000"><ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0133"><b>100</b> Work vehicle</li>    <li id="ul0001-0002" num="0134"><b>110</b> Vehicle</li>    <li id="ul0001-0003" num="0135"><b>121</b> First antenna</li>    <li id="ul0001-0004" num="0136"><b>122</b> Second antenna</li>    <li id="ul0001-0005" num="0137"><b>123</b> Receiver</li>    <li id="ul0001-0006" num="0138"><b>130</b> Sensor</li>    <li id="ul0001-0007" num="0139"><b>134</b> Elevation sensor</li>    <li id="ul0001-0008" num="0140"><b>140</b> Vessel</li>    <li id="ul0001-0009" num="0141"><b>142</b> Elevating cylinder (Elevating mechanism)</li>    <li id="ul0001-0010" num="0142"><b>150</b> Control device</li>    <li id="ul0001-0011" num="0143">Ct Center</li>    <li id="ul0001-0012" num="0144">d Baseline direction</li>    <li id="ul0001-0013" num="0145">Dv<b>1</b> First vehicle direction</li>    <li id="ul0001-0014" num="0146">Dv<b>2</b> Second vehicle direction</li>    <li id="ul0001-0015" num="0147">F<b>104</b> Function of calculating first vehicle direction</li>    <li id="ul0001-0016" num="0148">F<b>105</b> Function of calculating second vehicle direction</li>    <li id="ul0001-0017" num="0149">F<b>106</b> Detection function</li>    <li id="ul0001-0018" num="0150">F<b>107</b> Function of calculating direction correction parameter</li>    <li id="ul0001-0019" num="0151">F<b>109</b> Function of determining availability of direction correction parameter</li>    <li id="ul0001-0020" num="0152">F<b>110</b> Estimation function</li>    <li id="ul0001-0021" num="0153">F<b>300</b> Travel control function</li>    <li id="ul0001-0022" num="0154">Hth Height threshold</li>    <li id="ul0001-0023" num="0155">p Position information</li></ul></p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-001-7" num="001-7"><claim-text><b>1</b>.-<b>7</b>. (canceled)</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. A work vehicle comprising:<claim-text>a vehicle;</claim-text><claim-text>a first antenna and a second antenna mounted to the vehicle to receive a radio wave of a satellite positioning system;</claim-text><claim-text>a receiver that outputs position information of the first antenna based on the radio wave and a baseline direction between the first antenna and the second antenna;</claim-text><claim-text>a sensor that measures a velocity, an acceleration, and an angular velocity of the vehicle; and</claim-text><claim-text>a control device that estimates a location and a posture of the vehicle, wherein the control device has:<claim-text>a detection function of detecting a steady traveling based on the velocity, the acceleration, and the angular velocity, the steady traveling including a turning traveling to travel along a circumference having a same center and a same radius and a straight advancing traveling to travel in a straight line, the steady traveling having an average value of the velocity higher than a predetermined velocity threshold;</claim-text><claim-text>a function of calculating a first vehicle direction based on installation information of the first antenna and the second antenna with respect to the vehicle;</claim-text><claim-text>a function of setting a moving vector calculated based on a difference between the current position information of the first antenna and the position information of the first antenna one cycle before as a second vehicle direction when the straight advancing traveling is detected as the steady traveling, and calculating a second vehicle direction based on a turning center and a rotational center of the vehicle when the turning traveling is detected as the steady traveling;</claim-text><claim-text>a function of calculating a direction correction parameter for correcting the first vehicle direction based on the second vehicle direction; and</claim-text><claim-text>an estimation function of estimating the location and the posture of the vehicle based on the direction correction parameter and the first vehicle direction.</claim-text></claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The work vehicle according to <claim-ref idref="CLM-00008">claim 8</claim-ref>,<claim-text>wherein the control device further has a function of determining availability of the direction correction parameter, and</claim-text><claim-text>wherein the estimation function estimates the location and the posture of the vehicle based on the direction correction parameter and the first vehicle direction when the direction correction parameter is available.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The work vehicle according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, comprising:<claim-text>a vessel mounted to the vehicle;</claim-text><claim-text>an elevating mechanism that elevates the vessel; and</claim-text><claim-text>an elevation sensor that detects a height of the vessel,</claim-text><claim-text>wherein the steady traveling has the height of the vessel lower than a predetermined height threshold.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The work vehicle according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, comprising<claim-text>an information notification device for notifying an operator of information,</claim-text><claim-text>wherein the control device outputs error information with respect to the installation information of the first antenna and the second antenna to the information notification device when the direction correction parameter exceeds a predetermined threshold.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The work vehicle according to <claim-ref idref="CLM-00008">claim 8</claim-ref>,<claim-text>wherein the control device has a travel control function controlling traveling of the vehicle, and</claim-text><claim-text>wherein the travel control function controls the vehicle so as to satisfy a condition of the steady traveling when the steady traveling is undetected by the detection function.</claim-text></claim-text></claim></claims></us-patent-application>