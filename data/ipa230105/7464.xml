<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007465A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007465</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17852988</doc-number><date>20220629</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="regional"><country>EP</country><doc-number>21020345.1</doc-number><date>20210702</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>8</main-group><subgroup>18</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>8</main-group><subgroup>18</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc></classifications-cpc><invention-title id="d2e61">BACKLOG MECHANISM FOR SUBSCRIBER PROFILES ON EUICCS</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Giesecke+Devrient Mobile Security GmbH</orgname><address><city>Munich</city><country>DE</country></address></addressbook><residence><country>DE</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>LARSSON</last-name><first-name>Thomas</first-name><address><city>Alvsjo</city><country>SE</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">Methods and devices are arranged for managing reset and re-downloaded profiles Over-the-Air on an eUICC. An operator system imports a profiles list from a server, each entry in the list comprising a flag indicating whether the corresponding profile has been downloaded onto the eUICC. Upon receiving, from a mobile network operator, MNO, a request to update a profile on the eUICC, the request comprising a profile identifier and an OTA campaign, the operator system performs a backlog of the OTA campaign for the profile indicated by the profile identifier under consideration of the flag in the corresponding profile entry.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="117.69mm" wi="153.25mm" file="US20230007465A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="192.62mm" wi="125.98mm" orientation="landscape" file="US20230007465A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="178.82mm" wi="146.98mm" orientation="landscape" file="US20230007465A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="159.00mm" wi="142.41mm" orientation="landscape" file="US20230007465A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading><p id="p-0002" num="0001">The present invention relates to embedded secure elements, such as embedded Universal Integrated Circuit Cards, eUICCs, and more particularly to managing reset and re-downloaded profiles on an eUICC Over-the-Air.</p><p id="p-0003" num="0002">Recently, mobile devices configured to employ electronic subscriber profiles for communicating on mobile networks have emerged. Such mobile devices are typically equipped with electronic/embedded secure element devices, such as electronic/embedded universal integrated circuit cards (eUICCs), configured to store one or more electronic subscriber profiles such as electronic subscriber identification module (eSIM) profiles that may allow mobile devices to connect to one or more mobile networks. A subscriber profile (e.g., eSIM profile) may be generated by a mobile network operator (MNO) and may be downloaded to a mobile network device or user terminal. The subscriber profile may then be installed on a secure element of the mobile device and used for communication over a corresponding mobile network by the mobile device.</p><p id="p-0004" num="0003"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a simplified representation of the architecture of a remote eSIM provisioning system as described in SGP.22 RSP Technical Specification, Version 2.2.2, issued by the GSM Association. The eSIM provisioning system <b>100</b> is organized around several elements: the profile server SM-DP+  (Subscription Manager&#x2014;Data Preparation and Secure Routing server, <b>110</b>), the SM-DS (Subscription Manager&#x2014;Discovery server, <b>160</b>), the LPA (Local Profile Assistance, <b>140</b>) and the eUICC, <b>130</b>, the latter being part of a mobile device <b>150</b>, of an end user <b>170</b>. The eUICC is manufactured by the eUICC manufacturer EUM <b>180</b>. The profile server SM-DP+  <b>110</b> is responsible for the creation, download, remote management (enable, disable, update, delete) and the protection of subscriber profiles provided by the MNO <b>120</b>. The LPA (Local Profile Assistant, <b>140</b>) is a set of functions in the device <b>150</b> responsible for providing the capability to download (encrypted) profiles to the eUICC <b>130</b>. It also presents the local management end user interface to the end user <b>170</b> so they can manage the status of profiles on the eUICC <b>130</b>. The SM-DS <b>160</b> provides means for the SM-DP+ <b>110</b> to communicate with the eUICC <b>130</b>.</p><p id="p-0005" num="0004">The profiles are loaded into the eUICC <b>130</b> by the SM-DP+ server <b>110</b> and managed in the eUICC <b>130</b> (e.g., by commands) either directly through the channel or interface ES8+ (i.e., channel <b>111</b> up to the eUICC) or indirectly through the channel or interface ES9+ (i.e., channel <b>113</b> only up to the end device <b>150</b>, and there into the LPAd <b>140</b>) and the channel or interface ES10b (i.e., continuation <b>115</b> of ES9+ to reach further into the eUICC).</p><p id="p-0006" num="0005">Through another channel, namely over the interface ES<b>6</b> identified by reference numeral <b>114</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the Mobile Network Operator MNO <b>120</b> can also initiate changes to profiles loaded onto the eUICC <b>130</b>. A change action on the side of the MNO is also referred to as an OTA campaign.</p><p id="p-0007" num="0006">Since the SM-DP+ server <b>110</b> and the MNO <b>120</b> communicate with the eUICC <b>130</b> via different channels, inconsistencies in profiles may occur. For example, the SM-DP+ server <b>110</b> may load a new profile onto the eUICC to replace or update an existing profile within the eUICC. Changes that have been undertaken before on the previous profile, such as updates on the profile settings, which may include critical information like VoIP identifiers and network settings, will be lost after the profile is updated or reset.</p><p id="p-0008" num="0007">In addition, a user may delete an existing profile, either on purpose or by mistake, and later on re-download the profile from the server. Any updates on the previous profile will be lost as well.</p><p id="p-0009" num="0008">It is therefore desirable to provide an update mechanism for eUICC profiles which addresses the above-mentioned drawbacks.</p><heading id="h-0002" level="1">SUMMARY</heading><p id="p-0010" num="0009">According to a first aspect of the present invention, there is provided a method for backlogging subscriber profiles on an embedded universal integrated circuit card, eUICC, by an operator system. The method comprises in a first step importing a profiles list from a server, each entry in the list comprising a flag indicating whether the corresponding profile has been downloaded onto the eUICC. Upon receiving, from a mobile network operator, MNO, a request to update a profile on the eUICC, the request comprising a profile identifier and an OTA campaign, the operator system performs a backlog of the OTA campaign for the profile indicated by the profile identifier under consideration of the flag in the corresponding profile entry.</p><p id="p-0011" num="0010">The proposed solution allows to tag the profiles list, also referred to as a CPS (Card Personalization System) file, with a flag and thus, to keep track for all profiles contained in the CPS file whether they have been downloaded onto the eUICC. The flag set for a certain profile may thus indicate to the operator system that the profile is an eSIM profile (and not a regular UICC profile) and has not yet been downloaded onto the eUICC.</p><p id="p-0012" num="0011">Preferably the profile identifier is a unique serial number, ICCID (Integrated Circuit Card ID), uniquely identifying a profile.</p><p id="p-0013" num="0012">Preferably, the step of importing a profiles list comprises requesting from the server a list of profiles supported by the eUICC and storing the received list of profiles within a memory of the operator system.</p><p id="p-0014" num="0013">The operator system may be part of the MNO.</p><p id="p-0015" num="0014">In some embodiments of the present invention, the step of performing a backlog of the OTA campaign comprises searching in the profiles list for an entry corresponding to the received profile identifier, checking the corresponding flag, and storing the OTA campaign in the profile entry.</p><p id="p-0016" num="0015">In some embodiments of the present invention, the OTA campaign is stored only if the profile has not yet been downloaded onto the eUICC. That is, the operator system checks the flag of the entry corresponding to the profile identifier, and stores the OTA campaign if the flag indicates that the corresponding profile has not been downloaded onto the eUICC.</p><p id="p-0017" num="0016">In some embodiments of the present invention, if the flag indicates that the profile has been downloaded, the operator systems sends the OTA campaign to the eUICC.</p><p id="p-0018" num="0017">Employing a flag allows to prevent the OTA system from requesting unnecessary OTA updates to a profile which does not exist on the eUICC. Only updates for a profile already downloaded onto the eUICC will be sent to the eUICC. On the other hand, updates that are sent to the eUICC may not be backlogged, reducing thus the memory consumption at the operator system.</p><p id="p-0019" num="0018">In some embodiments of the present invention, when a download complete notification is received from the server, indicating a profile that has been downloaded onto the eUICC, the operator system searches the profiles list for a backlog corresponding to the indicated profile, and provides the backlogged OTA campaign, that is, the OTA campaign stored in the backlog, to the eUICC.</p><p id="p-0020" num="0019">This will allow an MNO to keep the eSIM profiles on an eUICC or SIMcard updated with the latest, sometimes critical, information - even if an eSIM profile is re-downloaded. An efficient solution is thus provided for keeping all profile settings up to date when redownloading eSIM profiles, especially when switching phones, or when a factory reset is performed.</p><p id="p-0021" num="0020">In some embodiments of the present invention, the OTA campaign comprises at least one remote file management command, in particular, an APDU command, for performing remote management on profiles stored on the eUICC.</p><p id="p-0022" num="0021">Preferably, performing a backlog of the OTA campaign comprises storing the at least one remote file management command for the respective profile in the profiles list.</p><p id="p-0023" num="0022">In some embodiments of the present invention, upon receiving the download complete notification from the server, indicating a profile which has been downloaded onto the eUICC, the flag in the entry corresponding to the downloaded profile is updated, to indicate that the profile has been downloaded.</p><p id="p-0024" num="0023">In some embodiments of the present invention, a delete notification is received at the operator system from the server, indicating a profile which has been deleted from the eUICC. This cause the operator system to update the flag in the profiles list entry corresponding to the deleted profile, to indicate the profile as not downloaded onto the eUICC.</p><p id="p-0025" num="0024">In this way the flag is reset if a profile has been deleted from the eUICC, to indicate the profile as not being currently downloaded onto the eUICC.</p><p id="p-0026" num="0025">In some embodiments of the present invention, each entry in the profiles list comprises a timestamp indicating an update of the corresponding profile. Particularly, the timestamp indicates an update of the profile at the server.</p><p id="p-0027" num="0026">This allows the backlog to function as a repository of past updates of a profile, with respect to the chronological order of the performed updates. Keeping and managing the backlog by the operations described above, allow the backlog to grow and to be actualized such that it can efficiently be reused every time the profile is re-loaded or transferred to a new device.</p><p id="p-0028" num="0027">In some embodiments of the present invention, a profile update notification is received at the operator system from the server, the profile update notification comprising a new timestamp, indicating the last update of the profile performed at the server. The profile update may comprise at least an upgrade of an existing profile within the eUICC, or a replacement of a profile within the eUICC with a new profile. Subsequently, the operator system clears the backlog of the updated profile from the profiles list. Preferably, the backlog of the updated profile is cleared by deleting all backlog entries from the profiles list corresponding to the updated profile with timestamps older than the new timestamp.</p><p id="p-0029" num="0028">In this way, the backlog is dynamically adapted to any changes performed on profiles, and memory space at the operator system is efficiently managed.</p><p id="p-0030" num="0029">According to a second aspect of the present invention, there is provided an apparatus for backlogging subscriber profiles on an embedded universal integrated circuit card (eUICC). The apparatus is configured to import a profiles list from a server, wherein each entry in the list comprises a flag indicating whether the corresponding profile has been downloaded onto the eUICC; to receive, from a mobile network operator, MNO, a request to update a profile on the eUICC, the request comprising a profile identifier and an OTA campaign; and to perform a backlog of the OTA campaign for the profile indicated by the profile identifier under consideration of the flag in the corresponding profile entry.</p><p id="p-0031" num="0030">In some embodiments of the present invention according to the second aspect, the apparatus is configured upon receiving a download complete notification from the server, indicating a profile that has been downloaded onto the eUICC, to search the profiles list for a backlog corresponding to the indicated profile; and to provide the backlogged OTA campaign, stored in the backlog, to the eUICC.</p><p id="p-0032" num="0031">In some embodiments of the present invention according to the second aspect, the apparatus is configured to receive a profile delete notification from the server, and to update the flag in the entry corresponding to the deleted profile in the profiles list, to indicate the profile as not downloaded onto the eUICC.</p><p id="p-0033" num="0032">In some embodiments of the present invention according to the second aspect, the apparatus is configured to receive a profile update notification from the server, the profile update notification comprising a new timestamp, indicating the last update of the profile; and to clear the backlog of the updated profile from the profiles list according to the new timestamp.</p><p id="p-0034" num="0033">According to a third aspect of the present invention, there is provided a remote eUICC profile management system, comprising a mobile network operator, MNO, the MNO comprising an operator system; a server, in particular a Subscription Manager&#x2014;Data Preparation and Secure Routing, SM-DP+ Server, a mobile device, the mobile device comprising an embedded Universal Integrated Circuit Card (eUICC) and a Local Profile Assistant, LPA; a first interface between the operator system and the server; and a second interface between the operator system and the eUICC. The operator system is configured to receive over the first interface a profiles list and a plurality of messages indicating a status of a profile at the server, to implement the method according to the first aspect, and to provide over the second interface a backlogged OTA campaign order to the eUICC, indicating updates to a profile to be performed at the eUICC.</p><p id="p-0035" num="0034">In some embodiments the eUICC is configured upon receiving the backlogged OTA campaign, to update the profile currently downloaded. Preferably, the update is performed using a command, in particular an APDU command, contained within the OTA campaign.</p><p id="p-0036" num="0035">This ensures that even after re-downloading a profile all updates previously effected by the MNO will be replayed at the eUICC, providing thus the user with a profile having the most actual update state.</p><p id="p-0037" num="0036">The aspects and embodiments described herein will allow mobile network operators (MNOs) to keep profiles on the eUICC updated with the latest, sometimes critical, information, even if the eUICC profile is re-downloaded. This will facilitate the process of redownloading profiles between mobile devices as well as performing a factory reset while ensuring the latest updates to a profile are preserved.</p><p id="p-0038" num="0037">It has to be noted that all the devices, elements, units and means described in the present application could be implemented in software or hardware elements or combination thereof. All steps which are performed by the various entities described in the present application as well as the described functionalities are intended to mean that the respective entity is adapted to or configured to perform the respective steps and functionalities.</p><p id="p-0039" num="0038">Further aspects, features and advantages of the present invention will become apparent to those of ordinary skills in the art upon reviewing the following detailed description of preferred embodiments and variants of the present invention in conjunction with the accompanying figures.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0040" num="0039">Reference will now be made to the accompanying figures, in which:</p><p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a schematic structural diagram of an eUICC profile management sytem;</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a flow chart of a method for updating subscriber profiles on an eUICC according to an embodiment; and</p><p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows further steps of the method for updating subscriber profiles on an eUICC according to an embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0004" level="1">DETAILED DESCRIPTION</heading><p id="p-0044" num="0043">Detailed explanations of the present invention are given below with reference to attached drawings that illustrate specific embodiment examples of the present invention. These embodiments are described in sufficient detail to enable those skilled in the art to practice the invention. It is to be understood that the various embodiments of the present invention, although different, are not necessarily mutually exclusive. For example, a particular feature, structure, or characteristic described herein in connection with one embodiment may be implemented within other embodiments without departing from the scope of the present invention. In addition, it is to be understood that the position or arrangement of individual elements within each disclosed embodiment may be modified without departing from the scope of the present invention. The following detailed description is, therefore, not to be taken in a limiting sense, and the scope of the present invention is defined only by the appended claims, appropriately interpreted, along with the full range of equivalents to which the claims are entitled. In the drawings, like numerals refer to the same or similar functionality throughout the several views.</p><p id="p-0045" num="0044">Through this specification, the term &#x201c;eUICC&#x201d; is understood as an integrated circuit, IC, that is intended to securely store at least one subscription profile having profile data. A profile in an eUICC may host an international mobile subscriber identity number, IMSI, a unique serial number, ICCID, cryptographic encryption/decryption keys, security authentication and ciphering information, temporary information related to the local network, a list of the services the user has access to, and two passwords: a personal identification number (PIN) for ordinary use, and a personal unblocking code (PUK) for PIN unlocking, which are used to uniquely identify and authenticate a subscriber on a terminal device, such as an M2M device, a mobile phone, a personal computer and so on. In addition, a profile in an eUICC may contain a profile name or identifier.</p><p id="p-0046" num="0045">The present invention proposes an update mechanism for eUICC profiles in a mobile terminal, which supports OTA updating of (re-)downloaded profiles, such that changes which have been made to a previously existing profile on the eUICC can be efficiently applied to the new profile.</p><p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a flow chart of a method for updating subscriber profiles on an eUICC according to an embodiment. The method may be carried out on the eUICC system of <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0048" num="0047">The main actor is the SIM OTA system <b>121</b>, which functions as an operator server of the MNO <b>120</b>. Particularly, the OTA system <b>121</b> supports remote management of eUICCs, such as for instance, providing network-specific services, update and reconfiguration of profiles within the eUICC.</p><p id="p-0049" num="0048">With reference to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the OTA system <b>121</b> imports in a first step S<b>301</b> from the server <b>110</b> a list of profiles, supported for the eUICC <b>130</b>. The list of profiles is a file containing a description of the eUICC profiles, including file structure and keys for every eUICC or eSIM that allows OTA operations later in the field to be remotely performed from the OTA system <b>121</b>. The list of profiles may also be referred to as a CPS (Card Personalization System) file, as it contains combined knowledge of profile and card specific data (e.g., keys).</p><p id="p-0050" num="0049">In an embodiment, in addition to data needed for card personalization, the CSP file (list of profiles) may be tagged with a flag and a timestamp. Preferably, each entry in the list of profiles comprises a flag indicating whether the corresponding profile has been downloaded onto the eUICC. That is, for a profile (eSIM) P<b>1</b>, the flag may carry the value &#x201c;NOT-Yet-Downloaded-P1&#x201d; to indicate that the profile P<b>1</b> has not been downloaded yet onto the eUICC. Alternatively, the flag may carry a Boolean value, indicating the status of the corresponding profile, e.g., downloaded=&#x201c;1&#x201d;, not downloaded=&#x201c;0&#x201d;, or vice versa.</p><p id="p-0051" num="0050">In addition to the flag, each entry of the profiles list may comprise a timestamp, indicating the version of the respective profile. The role of the timestamp will be explained below with reference to <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0052" num="0051">Preferably, the step S<b>303</b> of importing a profiles list comprises requesting from the server a list of profiles supported by the eUICC and storing the received list of profiles within a memory of the OTA system.</p><p id="p-0053" num="0052">In a further step, S<b>302</b>, the OTA system may receive from the MNO <b>120</b> a request to update a profile on the eUICC <b>130</b>. The request may comprise a profile identifier and an OTA campaign.</p><p id="p-0054" num="0053">The OTA campaign denotes a change request and may comprises at least one remote file management command, in particular, an APDU command, for performing remote management on the profile identified by the profile identifier.</p><p id="p-0055" num="0054">When the OTA system <b>121</b> receives an OTA campaign order targeting a particular profile, the OTA system will recognize the profile as being an eSIM by checking the profiles list, and the OTA campaign (respectively the APDUs stored therein) will be recorded in a backlog and stored per profile within the OTA system, as illustrated by step S<b>303</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. The OTA campaign may be stored within the profiles list, for instance, as a further field within the list entry of the respective profile. Alternatively, the OTA campaign can be stored in a separate data structure and linked to the corresponding profile in the list of profiles, preferably through pointer variables.</p><p id="p-0056" num="0055">In some embodiments of the present invention, the OTA campaign is stored only if the profile has not yet been downloaded onto the eUICC. That is, the OTA operator system <b>121</b> checks the flag of the entry corresponding to the profile identifier, and stores the OTA campaign if the flag indicates that the corresponding profile has not been downloaded onto the eUICC.</p><p id="p-0057" num="0056">In case the flag indicates that the corresponding profile has already been downloaded onto the eUICC, the OTA system <b>121</b> sends in step <b>5304</b> the OTA campaign to the eUICC <b>130</b> to be executed thereon.</p><p id="p-0058" num="0057">Thus, the flag allows to prevent the OTA system from requesting unnecessary OTA updates to a profile which does not exist on the eUICC. Only updates, received through the OTA campaign from the MNO, for a profile already downloaded onto the eUICC will be sent to the eUICC. On the other hand, updates to be performed for not yet downloaded profiles are stored at the operator system for being later on forwarded to the eUICC after the profiles have been downloaded onto the eUICC.</p><p id="p-0059" num="0058">In some embodiments, another profile may be downloaded at a later time point by the server <b>110</b> onto the eUICC <b>130</b>, as depicted by step S<b>305</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. In this case, the server <b>110</b> may send a download complete notification to the OTA system <b>121</b> in step S<b>306</b>, to inform the OTA system of the new profile download.</p><p id="p-0060" num="0059">Upon receiving this notification, the OTA system <b>121</b> may search the profiles list for a backlog corresponding to the indicated profile in step S<b>307</b>, and provide the OTA campaign stored within the found backlog to the eUICC <b>130</b> in step S<b>308</b>. The eUICC <b>130</b> may execute the APDU command within the OTA campaign to update the profile accordingly. In this way, it is ensured that any changes made to a profile before its re-downloading are incorporated into the (new) profile.</p><p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows further steps of the method for updating subscriber profiles on an eUICC according to an embodiment. The signal diagram may be seen as a continuation of the signal diagram of <figref idref="DRAWINGS">FIG. <b>2</b></figref> and emphasizes steps performed at the SIM OTA system (operator system, operator server) <b>121</b> upon receiving certain notifications from the SM-DP+ server <b>110</b>. The notification from the server may be received over the adapted E2+ interface <b>112</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0062" num="0061">The OTA system <b>121</b> may receive a plurality of notifications from the server <b>110</b>, selected from at least the set {download complete, profile deleted at eUICC, profile updated at SM-DP+, profile deleted at SM-DP+}. Based on these notifications the OTA system manages the profiles list and the backlogs stored therein. The order of receiving these notifications is not fix. The notifications may be received independently of each other.</p><p id="p-0063" num="0062">In a preferred embodiment, upon receiving a download complete notification (in step S<b>306</b>), indicating a profile successfully downloaded onto the eUICC, the OTA system <b>121</b> may update in step S<b>309</b> the flag in the profiles list entry corresponding to the downloaded profile, to indicate that the profile has been downloaded. That is, the OTA system may change the flag from &#x201c;not-downloaded&#x201d; to &#x201c;downloaded&#x201d;. The updated profile may be indicated by the profile identifier, which is then used by the OTA system to locate the profile entry in the profiles list.</p><p id="p-0064" num="0063">In another preferred embodiment, upon receiving in step S<b>310</b> a delete notification from the server <b>110</b>, indicating a profile deleted from the eUICC <b>130</b> (but still stored on the server), the OTA system <b>121</b> may update in step <b>5311</b> the flag in the profiles list entry corresponding to the deleted profile, to indicate the profile as not downloaded onto the eUICC <b>130</b>. The deleted profile may be indicated by the profile identifier, which is then used by the OTA system to locate the profile entry in the profiles list.</p><p id="p-0065" num="0064">In a further preferred embodiment, the OTA systems <b>121</b> may receive in step S<b>312</b> a notification from the server <b>110</b>, indicating a profile which has been updated, together with a timestamp. The timestamp indicates the baseline (also version or revision) of the profile. The timestamp may be given in form of a number denoting chronological order of profile updates. Other implementations, such as indicating the date and time of the update, are possible as well. The updated profile may be indicated by the profile identifier.</p><p id="p-0066" num="0065">In step S<b>313</b> the OTA system <b>121</b> may then clear the backlog of the updated profile from the profiles list. Preferably, all backlog entries corresponding to the updated profile with timestamps are older than the new timestamp are deleted from the profiles list.</p><p id="p-0067" num="0066">In yet a further preferred embodiment, the OTA system <b>121</b> may receive in step <b>5314</b> a profile delete notification from the server <b>110</b>, indicating that a profile has been deleted from the server, and hence would not be supported anymore for the eUICC. The deleted profile may be indicated by the profile identifier, which is then used by the OTA system to locate the profile entry in the profiles list. The OTA systems may subsequently delete in step <b>5315</b> the entire backlog for the indicated profile. Thus, profiles that are not supported anymore for the eUICC can be completed deleted from the list of profiles at the operator system.</p><p id="p-0068" num="0067">This functionality, together with the option of adding new profiles to the list of profiles, and hence to the backlog, allow the backlog to grow dynamically and to efficiently support updating of profiles after a profile re-download or profile transfer between mobile devices.</p><p id="p-0069" num="0068">The method for updating subscriber profiles according to the embodiments illustrated above with reference to <figref idref="DRAWINGS">FIGS. <b>2</b> and <b>3</b></figref> can be carried out on the eUICC management system <b>100</b> of <figref idref="DRAWINGS">FIG. <b>1</b></figref>. However, this necessitates certain modifications on system level, such as adapting the interfaces <b>111</b> and <b>114</b> to support the signaling needed for implementing the claimed method.</p><p id="p-0070" num="0069">In particular, the interface E2+ <b>112</b> is adapted to facilitate signaling between the operator system (i.e., the OTA system <b>121</b>) and the server (i.e., the SM-DP+ server <b>110</b>). Over this interface the operator system <b>121</b> may receive the profiles list from the server <b>110</b>. Further, the operator system <b>121</b> may receive from the server <b>110</b> over the interface <b>112</b> a plurality of messages indicating a status of a profile. Examples of such messages are the notifications sent in steps S<b>306</b>, S<b>310</b>, S<b>312</b>, S<b>314</b> depicted in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, in particular {download complete, profile deleted at eUICC, profile updated at SM-DP+, profile deleted at SM-DP+}.</p><p id="p-0071" num="0070">Further, the interface ES<b>6</b> <b>114</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is adapted to support the OTA system <b>121</b> to provide to the eUICC <b>130</b> the backlogged OTA campaign, as depicted in step <b>5308</b> in <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0072" num="0071">The methods, interfaces and apparatus as described through the embodiments above, allow an MNO to keep the eSIM profiles on an eUICC or SIMcard updated with the latest, sometimes critical, information&#x2014;even if an eSIM profile is re-downloaded. An efficient solution is thus provided for keeping all profile settings up to date when re-downloading eSIM profiles, especially when switching phones, or when a factory reset is performed.</p><p id="p-0073" num="0072">In the foregoing specification, the invention has been described with reference to specific embodiments thereof. It will, however, be evident that various modifications and changes may be made thereto without departing from the broader scope of the invention. For example, the above-described process flows are described with reference to a particular ordering of process actions. However, the ordering of many of the described process actions may be changed without affecting the scope or operation of the invention. The specification and drawings are, accordingly, to be regarded in an illustrative rather than restrictive sense.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method for backlogging subscriber profiles on an embedded universal integrated circuit card, eUICC, by an operator system, the method comprising:<claim-text>importing a profiles list from a server, each entry in the list comprising a flag indicating whether the corresponding profile has been downloaded onto the eUICC;</claim-text><claim-text>receiving, from a mobile network operator, MNO, a request to update a profile on the eUICC, the request comprising a profile identifier and an OTA campaign; and</claim-text><claim-text>performing a backlog of the OTA campaign for the profile indicated by the profile identifier under consideration of the flag in the corresponding profile entry.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein performing a backlog of the OTA campaign comprises:<claim-text>checking the flag of the profiles list entry corresponding to the profile identifier, and</claim-text><claim-text>storing the OTA campaign for the profiles list entries for which the respective flag indicates that the corresponding profile has not been downloaded onto the eUICC.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, comprising if the flag indicates that the profile has been downloaded onto the eUICC, sending the OTA campaign to the eUICC.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising upon receiving a download complete notification from the server, indicating a profile that has been downloaded onto the eUICC, searching the profile lists for a backlog corresponding to the indicated profile, and providing the backlogged OTA campaign to the eUICC.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the OTA campaign comprises at least one remote file management command, in particular, an APDU command, for performing remote management on profiles stored on the eUICC, and wherein performing a backlog of the OTA campaign comprises storing the at least one remote file management command for the respective profile in the corresponding entry of the profiles list.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising upon receiving the download complete notification from the server, indicating a profile downloaded onto the eUICC, updating the flag in the profiles list entry corresponding to the downloaded profile, to indicate that the profile has been downloaded.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising:<claim-text>receiving a delete notification from the server, indicating a profile deleted from the eUICC; and</claim-text><claim-text>updating the flag in the profiles list entry corresponding to the deleted profile, to indicate the profile as not downloaded onto the eUICC.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each entry in the profiles list comprises a timestamp indicating an update of the corresponding profile at the server.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, comprising: receiving a profile update notification from the server, the profile update notification comprising a new timestamp, indicating the last update of the profile performed at the server; and clearing the backlog of the updated profile from the profiles list, by deleting all backlog entries from the profiles list corresponding to the updated profile with timestamps older than the new timestamp.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising receiving a profile delete notification from the server, indicating a profile removed from the server, and deleting the backlog for the indicated profile.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. An apparatus for backlogging subscriber profiles on an embedded universal integrated circuit card, eUICC, configured to:<claim-text>import a profiles list from a server, each entry in the list comprising a flag indicating whether the corresponding profile has been downloaded onto the eUICC;</claim-text><claim-text>receive, from a mobile network operator, MNO, a request to update a profile on the eUICC, the request comprising a profile identifier and an OTA campaign; and</claim-text><claim-text>perform a backlog of the OTA campaign for the profile indicated by the profile identifier under consideration of the flag in the corresponding profile entry.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The apparatus according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, configured to upon receiving a download complete notification from the server, indicating a profile that has been downloaded onto the eUICC, search the profiles list for a backlog corresponding to the indicated profile, and provide the backlogged OTA campaign to the eUICC.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The apparatus according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, configured to receive a profile delete notification from the server, and to update the flag in the entry corresponding to the deleted profile in the profiles list, to indicate the profile as not downloaded onto the eUICC.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The apparatus according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, configured to receive a profile update notification from the server, the profile update notification comprising a timestamp, indicating the last update of the profile, and to clear the backlog of the updated profile from the profiles list according to the timestamp.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. A remote eUICC profile management system, comprising:<claim-text>a mobile network operator, MNO, comprising an operator system;</claim-text><claim-text>a server, in particular a Subscription Manager - Data Preparation and Secure Routing, SM-DP+, Server;</claim-text><claim-text>a mobile device, the mobile device comprising an embedded Universal Integrated Circuit Card, eUICC, and a Local Profile Assistant, LPA;</claim-text><claim-text>a first interface between the operator system and the server; and</claim-text><claim-text>a second interface between the operator system and the eUICC;</claim-text><claim-text>wherein the operator system is configured to receive over the first interface a profiles list and a plurality of messages indicating a status of a profile at the server, to implement the method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, and to provide over the second interface a backlogged OTA campaign order to the eUICC indicating updates to a profile to be performed at the eUICC.</claim-text></claim-text></claim></claims></us-patent-application>