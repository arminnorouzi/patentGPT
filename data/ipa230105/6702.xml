<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006703A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006703</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17781087</doc-number><date>20201126</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>201911249778.5</doc-number><date>20191209</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>B</subclass><main-group>1</main-group><subgroup>04</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>F</subclass><main-group>1</main-group><subgroup>32</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>B</subclass><main-group>1</main-group><subgroup>0475</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>F</subclass><main-group>1</main-group><subgroup>32</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>B</subclass><main-group>2001</main-group><subgroup>0425</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">DATA ACQUISITION METHOD, APPARATUS AND DEVICE, AND STORAGE MEDIUM</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>ZTE CORPORATION</orgname><address><city>Shenzhen, Guangdong</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>DU</last-name><first-name>Jinzhou</first-name><address><city>Shenzhen, Guangdong</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>GONG</last-name><first-name>Xiaoliang</first-name><address><city>Shenzhen, Guangdong</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>HU</last-name><first-name>Anwen</first-name><address><city>Shenzhen, Guangdong</city><country>CN</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>WEN</last-name><first-name>Long</first-name><address><city>Shenzhen, Guangdong</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/CN2020/131637</doc-number><date>20201126</date></document-id><us-371c12-date><date>20220531</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">The present application provides a data acquisition method, a data acquisition apparatus, a data acquisition device and a storage medium. The data acquisition method includes: obtaining a first storage flag for indicating a flag bit at which first data starts to be acquired and stored; when a first data acquisition clock is asynchronous with a second data acquisition clock, obtaining a second storage flag being a storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition cock to the second data acquisition clock, according to the first data acquisition clock and the second data acquisition clock; and performing anti-jitter processing on the second storage flag to obtain a third storage flag, and acquiring second data according to the third storage flag, a delay between the first data and the second data acquired each time is kept unchanged.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="68.92mm" wi="156.80mm" file="US20230006703A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="198.37mm" wi="158.83mm" file="US20230006703A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="71.54mm" wi="157.73mm" file="US20230006703A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="243.42mm" wi="117.77mm" orientation="landscape" file="US20230006703A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="241.81mm" wi="90.42mm" orientation="landscape" file="US20230006703A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="204.72mm" wi="107.19mm" file="US20230006703A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">TECHNICAL FIELD</heading><p id="p-0002" num="0001">The present application relates to the field of communication, and in particular, to a data acquisition method, a data acquisition apparatus, a data acquisition device and a storage medium.</p><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0003" num="0002">At present, a power amplifier is widely applied in the field of wireless communication systems, and has a nonlinear distortion characteristic for an input signal due to physical characteristics thereof. In order to obtain a linearly amplified output signal, it is desirable to perform nonlinear compensation on the input signal of the power amplifier, and recently, a digital pre-distortion technology is commonly used. The digital pre-distortion technology performs pre-distortion processing on the input signal at an input of the power amplifier, the pre-distortion processing has characteristics opposite to distortion characteristics of the power amplifier, and is used to cancel nonlinear distortion caused by the power amplifier and improve efficiency of the power amplifier. However, the digital pre-distortion technology substantially only support a case where clock domains of downlink data and feedback data are same as each other, and thus has a relatively narrow application range.</p><heading id="h-0003" level="1">SUMMARY</heading><p id="p-0004" num="0003">In a first aspect, the present application provides a data acquisition method, including:<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0004">obtaining a first storage flag, the first storage flag is configured to indicate a flag bit at which first data starts to be acquired and stored;</li>        <li id="ul0002-0002" num="0005">when a first data acquisition clock is asynchronous with a second data acquisition clock, obtaining a second storage flag according to the first data acquisition clock and the second data acquisition clock, the second storage flag is a storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock; and</li>        <li id="ul0002-0003" num="0006">performing anti-jitter processing on the second storage flag to obtain a third storage flag, and acquiring second data according to the third storage flag, a delay between the first data and the second data acquired each time is kept unchanged.</li>    </ul>    </li></ul></p><p id="p-0005" num="0007">In a second aspect, the present application provides a data acquisition apparatus, including:<ul id="ul0003" list-style="none">    <li id="ul0003-0001" num="0000">    <ul id="ul0004" list-style="none">        <li id="ul0004-0001" num="0008">a first obtaining module configured to obtain a first storage flag, the first storage flag is configured to indicate a flag bit at which first data starts to be acquired and stored;</li>        <li id="ul0004-0002" num="0009">a second obtaining module configured to, when a first data acquisition clock is asynchronous with a second data acquisition clock, obtain a second storage flag according to the first data acquisition clock and the second data acquisition clock, the second storage flag is a storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock;</li>        <li id="ul0004-0003" num="0010">an anti jitter processing module configured to perform anti-jitter processing on the second storage flag to obtain a third storage flag; and</li>        <li id="ul0004-0004" num="0011">a first acquisition module configured to acquire a second data according to the third storage flag, a delay between the first data and the second data acquired each time is kept unchanged.</li>    </ul>    </li></ul></p><p id="p-0006" num="0012">In a third aspect, the present application provides a data acquisition device, including a memory and a processor, the memory stores a computer program, the processor, when executes the computer program, performs the data acquisition method of the present application described in the first aspect.</p><p id="p-0007" num="0013">In a fourth aspect, the present application provides a storage medium having a computer program stored thereon, the computer program, when executed by a processor, performs the data acquisition method of the present application described in the first aspect.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0008" num="0014"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a system architecture diagram of an application of a data acquisition method according to the present application;</p><p id="p-0009" num="0015"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic flowchart of a data acquisition method according to the present application;</p><p id="p-0010" num="0016"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic flowchart of a data acquisition method according to the present application;</p><p id="p-0011" num="0017"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of an anti-jitter processing from downlink to feedback according to the present application;</p><p id="p-0012" num="0018"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic diagram of an anti-jitter processing from downlink to feedback according to the present application;</p><p id="p-0013" num="0019"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a structural schematic diagram of a data acquisition apparatus according to the present application; and</p><p id="p-0014" num="0020"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a structural schematic diagram of a data acquisition device according to the present application.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAIL DESCRIPTION OF EMBODIMENTS</heading><p id="p-0015" num="0021">The present application provides a data acquisition method, which can be applied to a system shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The system may include a digital pre-distortion processing device <b>10</b>, a power amplifier <b>11</b>, an antenna <b>12</b>, a digital signal processor <b>13</b>, a data acquisition device <b>14</b> and the like. The digital pre-distortion processing device <b>10</b> is configured to perform pre-distortion processing on downlink data and send the downlink data subjected to the pre-distortion processing to the power amplifier <b>11</b>; the power amplifier <b>11</b> performs power amplification on the downlink data subjected to the pre-distortion processing for obtaining output data subjected to the power amplification, and sends the output data to the antenna <b>12</b>, so as to transmit the output data subjected to the power amplification through the antenna <b>12</b>; the data acquisition device <b>14</b> acquires the downlink data and feedback data (the feedback data are the output data of the power amplifier <b>11</b>), and sends the acquired downlink data and the acquired feedback data to the digital signal processor <b>13</b> for calculation, so as to obtain a digital pre-distortion linklist in the digital pre-distortion processing device <b>10</b>. In some implementations, the data acquisition device <b>14</b> further acquires the downlink data and reflection data (the reflection data are data reflected from the antenna <b>12</b>), and send the acquired downlink data and the acquired feedback data, and the acquired downlink data and the acquired reflection data to the digital signal processor <b>13</b>, so as to calculate a standing wave ratio of the power amplifier <b>11</b>.</p><p id="p-0016" num="0022">In order to make purposes, technical solutions, and advantages of the present application clearer, embodiments of the present application are described below with reference to the accompanying drawings. It should be noted that the embodiments of the present application and characteristics in the embodiments may be combined with each other if no conflict is incurred.</p><p id="p-0017" num="0023">It should be noted that an execution subject for executing the method of the present application described below may be a data acquisition apparatus, and the apparatus may be implemented as part or all of the data acquisition device by software, hardware, or a combination of software and hardware. The embodiments of the present application are described by taking that the execution subject is the data acquisition device as an example.</p><p id="p-0018" num="0024"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic flowchart of a data acquisition method according to the present application, which relates to a specific process of performing the data acquisition method by the data acquisition device. As shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the data acquisition method may include the following operations S<b>101</b> to S<b>103</b>.</p><p id="p-0019" num="0025">At operation S<b>101</b>, obtaining a first storage flag, the first storage flag is configured to indicate a flag bit at which first data starts to be acquired and stored.</p><p id="p-0020" num="0026">The first storage flag is preconfigured for acquiring first data and configured to indicate the flag bit at which the first data starts to be acquired and stored. A current type of data acquisition being configured to be digital pre-distortion data acquisition is illustrated as an example, the data acquisition device acquires downlink data and feedback data of a target channel, the first data may be the downlink data and second data described below may be the feedback data. In a multi-channel scenario, the data acquisition device may implement switching of channels through a channel switching device, and acquire downlink data and feedback data of the channel which is switched to. For the target channel, when an initial acquisition condition of the downlink data is met, whether the downlink data are acquired is further determined according to whether the first storage flag is reached. In response to the first storage flag is reached, the downlink data starts to be acquired and stored; and in response to the first storage flag is not reached, the downlink data are not acquired, until the first storage flag is reached, and then the downlink data are acquired and stored. The initial acquisition condition is that a symbol-level data acquisition electrical level for controlling acquisition of the downlink data is high, and a priority of a power level corresponding to current downlink data is greater than a priority of a power level corresponding to data previously stored in a buffer register, so that a power level corresponding to the downlink data acquired by the data acquisition device can be ensured to be relatively high.</p><p id="p-0021" num="0027">At operation S<b>102</b>, when a first data acquisition clock (i.e., a clock for acquiring the first data) is asynchronous with a second data acquisition clock (i.e., a clock for acquiring the second data), obtaining a second storage flag according to the first data acquisition clock and the second data acquisition clock, the second storage flag is a storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock.</p><p id="p-0022" num="0028">The first data acquisition clock is used for controlling acquisition of the first data, the second data acquisition clock is used for controlling acquisition of second data. Since the first data acquisition clock is asynchronous with the second data acquisition clock, the second storage flag, obtained after the first storage flag crossing clock domain, may vary in each process of data acquisition. If the acquisition of the second data is performed according to the second storage flag obtained after the first storage flag crossing clock domain, at each time, delays of the first data acquired based on the first storage flag and the second data acquired based on the second storage flag may be different. Therefore, anti-jitter processing is desired to be performed on the second storage flag.</p><p id="p-0023" num="0029">At operation S<b>103</b>, performing anti-jitter processing on the second storage flag to obtain a third storage flag, and acquiring second data according to the third storage flag, a delay between the first data and the second data acquired each time is kept unchanged.</p><p id="p-0024" num="0030">The third storage flag is configured to indicate a flag bit at which the second data starts to be acquired and stored. The current type of data acquisition being configured to be digital pre-distortion data acquisition is still illustrated as an example, the second data may be the feedback data, i.e., the data acquisition device determines whether to acquire the feedback data according to whether the third storage flag is reached. In response to the third storage flag is reached, the feedback data starts to be acquired and stored; and in response to the third storage flag is not reached, the feedback data are not acquired, until the third storage flag is reached, and then the feedback data are acquired and stored. It can be understood that the data acquisition device performs an anti jitter processing on the second storage flag to obtain the third storage flag, and the third storage flag keeps a delay between the feedback data acquired each time and the downlink data acquired based on the first storage flag by the data acquisition device unchanged. In some implementations, a process of performing anti jitter processing on the second storage flag may include: configuring the third storage flag at a position far away from the second storage flag, so as to ensure that the delay between the feedback data acquired each time based on the third storage flag and the downlink data keeps unchanged.</p><p id="p-0025" num="0031">The data acquisition device may further acquire data related to a process of detecting a standing wave ratio of the power amplifier, so as to detect the standing wave ratio on the power amplifier. In a data acquisition process for detecting the standing wave ratio, the downlink data and the feedback data may be acquired first, then the downlink data and the reflection data are acquired, and after the downlink data and the feedback data, and the downlink data and the reflection data are acquired, one data acquisition process for detecting the standing wave ratio is completed. Certainly, in one data acquisition process for detecting the standing wave ratio, the downlink data and the reflection data may be acquired first, and then the downlink data and the feedback data are acquired, which is not limited in the present application. When the current type of data acquisition is configured to be data acquisition for detecting the standing wave ratio, an acquisition process of the downlink data and the feedback data may refer to the above described operations S<b>101</b> to S<b>103</b>, and an acquisition process of the downlink data and the reflection data is described below, in such application scenario , the first data described above are the downlink data, and the second data are the reflection data, and the data acquisition method includes the following operations S<b>101</b><i>a </i>to S<b>103</b><i>a. </i></p><p id="p-0026" num="0032">At operation S<b>101</b><i>a, </i>obtaining a first storage flag of the downlink data.</p><p id="p-0027" num="0033">The first storage flag is preconfigured for acquiring the downlink data, and is used for indicating a flag bit at which the downlink data starts to be acquired and stored.</p><p id="p-0028" num="0034">At operation S<b>102</b><i>a, </i>when a downlink data acquisition clock (i.e., a clock for acquiring the downlink data) is asynchronous with a reflection data acquisition clock (i.e., a clock for acquiring the reflection data), obtaining a second storage flag according to the downlink data acquisition clock and the reflection data acquisition clock.</p><p id="p-0029" num="0035">The second storage flag is a storage flag bit corresponding to the first storage flag after the first storage flag crosses from the downlink data acquisition clock to the reflection data acquisition clock.</p><p id="p-0030" num="0036">At operation S<b>103</b><i>a, </i>performing anti-jitter processing on the second storage flag to obtain a third storage flag, and acquiring the reflection data according to the third storage flag, a delay between the downlink data and the reflection data acquired each time is kept unchanged.</p><p id="p-0031" num="0037">The third storage flag is a storage flag bit at which the reflection data starts to be acquired and stored, i.e., the data acquisition device determines whether to acquire the reflection data according to whether the third storage flag is reached. In response to the third storage flag is reached, the reflection data starts to be acquired and stored;</p><p id="p-0032" num="0038">and in response to the third storage flag is not reached, the reflection data are not acquired, until the third storage flag is reached, and then the reflection data are acquired and stored. It can be understood that the data acquisition device performs an anti-jitter processing on the second storage flag to obtain the third storage flag, and the third storage flag keeps a delay between the reflection data acquired each time and the downlink data acquired based on the first storage flag by the data acquisition device unchanged. In some implementations, a process of the anti-jitter processing on the second storage flag may include: configuring the third storage flag at a position far away from the second storage flag, so as to ensure that the delay between the reflection data acquired each time based on the third storage flag and the downlink data keeps unchanged.</p><p id="p-0033" num="0039">With the data acquisition method in the present application, the first storage flag is obtained; when the first data acquisition clock is asynchronous with the second data acquisition clock, the second storage flag is obtained according to the first data acquisition clock and the second data acquisition clock, the second storage flag is the storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock; and the anti jitter processing is performed on the second storage flag to obtain the third storage flag, and the second data is acquired according to the third storage flag, a delay between the first data and the second data acquired each time is kept unchanged. Since the data acquisition device performs the anti-jitter processing on the second storage flag after obtaining the second storage flag subjected to clock domain crossing, during each process of data acquisition, the delay between the second data acquired based on the third storage flag obtained through the anti-jitter processing and the first data acquired based on the first storage flag is kept unchanged, i.e., in a process of digital pre-distortion data acquisition, the data acquisition method in the present application can be applied to a case where clock domains of downlink data and feedback data are different, thereby an application range of the data acquisition device is expanded. Moreover, a delay between the downlink data and the feedback data, which are transmitted to the digital signal processor by the data acquisition device, is kept unchanged, so that a calculation complexity of the digital signal processor is simplified, and an accuracy of calculation results of the digital signal processor is also improved.</p><p id="p-0034" num="0040">In practical applications, a counter may be configured to implement that the delay between the first data and the second data acquired each time is kept unchanged, and for such application, the counter is desired to be configured, and a configuration process of the counter is described below. Based on the description above, in some implementations, as shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, before the operations S<b>101</b>, the data acquisition method further includes operations S<b>201</b> and S<b>202</b>.</p><p id="p-0035" num="0041">At operations S<b>201</b>, acquiring a first sampling rate corresponding to the first data and a second sampling rate corresponding to the second data.</p><p id="p-0036" num="0042">At operations S<b>202</b>, configuring a first counting period of a first counter and a count value in the first counting period, and a second counting period of a second counter and a count value in the second counting period according to the first sampling rate and the second sampling rate, lengths of time durations corresponding to the first counting period and the second counting period are equal.</p><p id="p-0037" num="0043">The first counter counts cyclically in the first counting period, and the second counter counts cyclically in the second counting period. In response to that the first counting period of the first counter is configured to be n, the count value in the first counting period is counted from 0 to n&#x2212;1, and is counted circularly; and in response to that the first count period of the first counter is configured to m, the count value in the first count period is counted from 0 to m&#x2212;1, and is counted cyclically. In some implementations, the data acquisition device may configure the first counting period of the first counter and the second counting period of the second counter according to a ratio between the first sampling rate and the second sampling rate. For example, the ratio between the first sampling rate and the second sampling rate is 1:2, the first counting period of the first counter may be configured to be 1, the count value in the first counting period is 0, i.e., the first counter counts cyclically with 0; and meanwhile, the second count value of the second counter may be configured to be 2, the count value in the second counting period is 0 and 1, i.e., the second counter counts cyclically with 0 and 1. Moreover, although the first counting period of the first counter and the second counting period of the second counter are different, it is desirable to ensure that real lengths of time durations corresponding to the first counting period and the second counting period are equal, so as to ensure that, when the first data are acquired based on a same count value of the first counter and the second data are acquired based on a same count value of the second counter each time, a delay between the count value for acquiring the first data and the count value for acquiring the second value is fixed.</p><p id="p-0038" num="0044">After the first counter and the second counter are configured, and an initial acquisition condition (the initial acquisition condition is that a symbol-level data acquisition electrical level for controlling acquisition of the first data is high, and a priority of a power level corresponding to the first data is greater than a priority of a power level corresponding to data previously stored in a buffer register) of the first data is met, when the first counter counts to a preset count value (the preset count value is a count value at which the first data starts to be acquired and stored), i.e., the first storage flag is reached, the data acquisition device starts to acquire and store the first data. The first storage flag changes into the second storage flag after crossing clock domain, the second storage flag corresponds to a certain count value of the second counter, and since the first data acquisition clock is asynchronous with the second data acquisition clock, at each time, a count value corresponding to the second storage flag obtained after crossing clock domain may vary. If the second data are acquired based on the count value corresponding to the second storage flag obtained after crossing clock domain, a delay between the first data and the second data acquired each time is not fixed, i.e., there is phase jitter between the first data and the second data acquired each time. Therefore, it is desirable to perform the anti-jitter processing on the second storage flag.</p><p id="p-0039" num="0045">In some implementations, the performing anti-jitter processing on the second storage flag to obtain a third storage flag in the operation S<b>103</b> may include: when the second storage flag obtained after crossing clock domain corresponds to a count value within a preset jitter range of the second counter, adjusting the second storage flag to a position corresponding to any count value outside the jitter range in the second counting period for obtaining the third storage flag.</p><p id="p-0040" num="0046">The jitter range of the second counter relates to count values corresponding to the first data acquisition clock, the second data acquisition clock and the first storage flag, and it should be understood that, when the difference of asynchronization between the first data acquisition clock and the second data acquisition clock is relatively large, the jitter range of the second counter is relatively large, and thus the jitter range of the second counter may be configured to be relatively large. When the difference of asynchronization between the first data acquisition clock and the second data acquisition clock is relatively small, the jitter range of the second counter may be relatively small, and thus the jitter range of the second counter may be configured to be relatively small. Therefore, when the second storage flag obtained after crossing clock domain corresponds to a count value within the jitter range of the second counter, the data acquisition device adjusts the second storage flag to a position corresponding to any count value outside the jitter range in the second counting period for obtaining the third storage flag.</p><p id="p-0041" num="0047">For example, the first data are the downlink data, the second data are the feedback data, and the process of anti-jitter processing on the second storage flag is described by taking a schematic diagram of anti-jitter processing from downlink to feedback shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> as an example.</p><p id="p-0042" num="0048">In <figref idref="DRAWINGS">FIG. <b>4</b></figref>, a downlink clock is a clock for controlling acquisition of the downlink data, a feedback clock is a clock for controlling acquisition of the feedback data, and the data acquisition device, according to a ratio between a sampling rate corresponding to the downlink data and a sampling rate corresponding to the feedback data, may configure a first counting period of a downlink phase counter (the downlink phase counter is the first counter) and a count value in the first counting period and a second counting period of a feedback anti-jitter counter (the feedback anti jitter counter is the second counter) and a count value in the second counting period. For example, the first counting period of the downlink phase counter is configured to be 4, i.e., the downlink phase counter counts cyclically with 4 count values as a period, the 4 count values are 0, 1, 2, and 3 respectively; the second counting period of the feedback anti-jitter counter is configured to be 8, i.e., the feedback anti-jitter counter counts cyclically with 8 count values as a period, the 8 count values are 0, 1, 2, 3, 4, 5, 6, and 7 respectively; and meanwhile, the real lengths of time durations corresponding to the first counting period (i.e., the counting period of the downlink phase counter in <figref idref="DRAWINGS">FIG. <b>4</b></figref>) and the second counting period (i.e., the counting period of the feedback anti-jitter counter in <figref idref="DRAWINGS">FIG. <b>4</b></figref>) are ensured to be equal.</p><p id="p-0043" num="0049">Then, assuming that the downlink phase counter counts to 0 and reaches the first storage flag (i.e., a storage start flag of the downlink data in <figref idref="DRAWINGS">FIG. <b>4</b></figref>), the acquisition and storage of downlink data is started. Meanwhile, it is assumed that a jitter range of the feedback anti-jitter counter is configured to be 0, 1, and 2 based on count values corresponding to the downlink clock, the feedback clock and the first storage flag. In a first process of data acquisition, a count value of the feedback anti jitter counter corresponding to the second storage flag obtained after the first storage flag crossing clock domain is 1. In a second process of data acquisition, the count value of the feedback anti jitter counter corresponding to the second storage flag obtained after the first storage flag crossing clock domain is 0. In a third process of data acquisition, the count value of the feedback anti-jitter counter corresponding to the second storage flag (i.e., obtained after the storage start flag of the downlink data crossing clock domain to the feedback clock before the anti-jitter processing in <figref idref="DRAWINGS">FIG. <b>4</b></figref>) obtained after the first storage flag crossing clock domain is 2. That is, since the downlink clock is asynchronous with the feedback clock, in each process of data acquisition, the count value of the feedback anti-jitter counter corresponding to the second storage flag obtained after the first storage flag crossing clock domain may vary (i.e., a count value corresponding to that obtained after the storage start flag of the downlink data crossing clock domain to the feedback clock before the anti jitter processing in <figref idref="DRAWINGS">FIG. <b>4</b></figref> may vary). When the count value corresponding to the second storage flag is located within the jitter range of the feedback anti jitter counter, the data acquisition device may adjust the second storage flag to a position corresponding to any count value outside the jitter range of the feedback anti jitter counter, for example, to a position corresponding to a count value of 6, so as to obtain a third storage flag (i.e., a storage start flag obtained after the storage start flag of the downlink data crossing clock domain to the feedback clock after the anti-jitter processing in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the storage start flag corresponds to the count value of 6). Similarly, the data acquisition device may adjust the second storage flag to a position corresponding to a count value of 3, 4, or 5. During each process of data acquisition, the data acquisition device acquires the downlink data based on the count value &#x201c;0&#x201d; corresponding to the first storage flag, and acquires the feedback data based on the count value &#x201c;6&#x201d; corresponding to the third storage flag, a delay between the acquired downlink data and the feedback data is kept unchanged (i.e., a delay of crossing clock domain from the downlink clock to the feedback clock in <figref idref="DRAWINGS">FIG. <b>4</b></figref> is t1).</p><p id="p-0044" num="0050">For a case where the current type of data acquisition is configured to be data acquisition for detecting a standing wave ratio, in a process of acquiring the downlink data and the reflection data, the process of anti-jitter processing on the second storage flag used for acquiring the reflection data may refer to the process of anti-jitter processing on the second storage flag used for acquiring the feedback data described above, and thus is not repeated here.</p><p id="p-0045" num="0051">In some implementations, the performing anti-jitter processing on the second storage flag to obtain a third storage flag in the operation S<b>103</b> may include: when the second storage flag obtained after crossing clock domain corresponds to a first count value outside the preset jitter range of the second counter, modifying the first count value corresponding to the second storage flag to a second count value, the second count value is any count value within the jitter range; and recounting the second counter by taking the second count value as a starting point for counting, adjusting the second storage flag to a position corresponding to a third count value to obtain the third storage flag, the third count value is any count value outside the jitter range in the second counting period subjected to the recounting.</p><p id="p-0046" num="0052">Specifically, the jitter range of the second counter described above relates to count values corresponding to the first data acquisition clock, the second data acquisition clock and the first storage flag, and it should be understood that, when the difference of asynchronization between the first data acquisition clock and the second data acquisition clock is relatively large, the jitter range of the second counter is relatively large, and thus the jitter range of the second counter may be configured to be relatively large. When the difference of asynchronization between the first data acquisition clock and the second data acquisition clock is relatively small, the jitter range of the second counter may be relatively small, and thus the jitter range of the second counter may be configured to be relatively small. When the second storage flag corresponds to the first count value outside the jitter range of the second counter, it is considered that a phase deviation between the first data acquisition clock and the second data acquisition clock increases with an accumulation for a long time, and the count value of the second counter is desired to be reset, so that the count value corresponding to the second storage flag after crossing the clock domain is located within the jitter range of the second counter again.</p><p id="p-0047" num="0053">For example, the first data are the downlink data, the second data are the feedback data, and the process of anti-jitter processing on the second storage flag is described by taking a schematic diagram of anti-jitter processing from downlink to feedback shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref> as an example</p><p id="p-0048" num="0054">In <figref idref="DRAWINGS">FIG. <b>5</b></figref>, a downlink clock is a clock for controlling acquisition of the downlink data, a feedback clock is a clock for controlling acquisition of the feedback data, and the data acquisition device, according to a ratio between a sampling rate corresponding to the downlink data and a sampling rate corresponding to the feedback data, may configure a first counting period of a downlink phase counter (the downlink phase counter is the first counter) and a count value in the first counting period and a second counting period of a feedback anti-jitter counter (the feedback anti jitter counter is the second counter) and a count value in the second counting period. For example, the first counting period of the downlink phase counter is configured to be 4, i.e., the downlink phase counter counts cyclically with 4 count values as a period, the 4 count values are 0, 1, 2, and 3 respectively; the second counting period of the feedback anti-jitter counter is configured to be 8, i.e., the feedback anti-jitter counter counts cyclically with 8 count values as a period, the 8 count values are 0, 1, 2, 3, 4, 5, 6, and 7 respectively; and meanwhile, the real lengths of time durations corresponding to the first counting period (i.e., the counting period of the downlink phase counter in <figref idref="DRAWINGS">FIG. <b>5</b></figref>) and the second counting period (i.e., the counting period of the feedback anti-jitter counter in <figref idref="DRAWINGS">FIG. <b>5</b></figref>) are ensured to be equal.</p><p id="p-0049" num="0055">Then, assuming that the downlink phase counter counts to 0 and reaches the first storage flag (i.e., a storage start flag of the downlink data in <figref idref="DRAWINGS">FIG. <b>5</b></figref>), the acquisition and storage of downlink data are started. Meanwhile, it is assumed that a jitter range of the feedback anti-jitter counter is configured to be 0, 1, and 2 based on count values corresponding to the downlink clock, the feedback clock and the first storage flag. In a first process of data acquisition, a count value of the feedback anti jitter counter corresponding to the second storage flag (i.e., obtained after the storage start flag of the downlink data crossing clock domain to the feedback clock before the anti-jitter processing in <figref idref="DRAWINGS">FIG. <b>5</b></figref>) obtained after the first storage flag crossing clock domain is 1. In a second process of data acquisition, a count value of the feedback anti jitter counter corresponding to the second storage flag obtained after the first storage flag crossing clock domain is 3, i.e., in the second process of data acquisition, the count value of the feedback anti jitter counter corresponding to the second storage flag obtained after the first storage flag crossing clock domain is located outside the jitter range of the feedback anti jitter counter. In such case, the count value of the feedback anti-jitter counter is desired to be reset, the count value &#x201c;3&#x201d; of the feedback anti-jitter counter corresponding to the second storage flag may be adjusted to be any count value within the jitter range of the feedback anti-jitter counter. In some implementations, the count value of the feedback anti-jitter counter may be reset to any count value at a middle position within the jitter range of the feedback anti-shake counter, for example, the count value &#x201c;3&#x201d; of the feedback anti-jitter counter corresponding to the second storage flag may be adjusted to be a count value &#x201c;1&#x201d;, and the feedback anti jitter counter is recounted with the count value &#x201c;1&#x201d; as a start point. As shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, in the second process of data acquisition, the counting is recounted with the count value &#x201c;1&#x201d; as a start point, and thus a count value after the count value &#x201c;3&#x201d; of the feedback anti-jitter counter is 2. After resetting the count value of the feedback anti-jitter counter, any count value in a feedback anti jitter counting period after recounting may be selected as a count value for starting to acquire the feedback data , and a position corresponding to such count value is used as a third storage flag (i.e., obtained after the storage start flag of the downlink data crossing clock domain to the feedback clock after the anti-jitter processing in <figref idref="DRAWINGS">FIG. <b>5</b></figref>). For example, a position corresponding to the count value &#x201c;6&#x201d; may be selected as the third storage flag, and a third process of data acquisition, a fourth process of data acquisition and the like may be performed with such position as a start point. In addition, any of positions corresponding to the count values &#x201c;3&#x201d;, &#x201c;4&#x201d;, and &#x201c;5&#x201d; after recounting may also be selected as the third storage flag, which is not limited in the present application. Therefore, when data are subsequently acquired, the data acquisition device acquires the downlink data based on the count value &#x201c;0&#x201d; corresponding to the first storage flag, and acquires the feedback data based on the count value &#x201c;6&#x201d; corresponding to the third storage flag, a delay between the acquired downlink data and the feedback data is kept unchanged (for example, in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, in the third process of data acquisition and the fourth process of data acquisition, the delay of crossing clock domain from the downlink clock to the feedback clock is t3; in the first process of data acquisition, the delay of crossing clock domain from the downlink clock to the feedback clock is t1; in the second process of data acquisition, the delay of crossing clock domain from the downlink clock to the feedback clock is t2, and since the count value of the feedback anti-jitter counter is reset, t1 is not equal to t2).</p><p id="p-0050" num="0056">Certainly, for a case where the current type of data acquisition is configured to be data acquisition for detecting a standing wave ratio, in a process for acquiring the downlink data and the reflection data, the process of anti jitter processing on the second storage flag used for acquiring the reflection data may refer to the process of anti-jitter processing on the second storage flag used for acquiring the feedback data described above, and thus is not repeated here.</p><p id="p-0051" num="0057">In the data acquisition device of the present application, by providing the first counter and the second counter and configuring the first counter and the second counter according to a sampling rate corresponding to the first data and a sampling rate corresponding to the second data, the anti-jitter processing is performed on the second storage flag based on the first counter and the second counter, which simplifies circuits of the data acquisition device, and saves hardware logic resources. In addition, the data acquisition device may perform anti jitter processing on the second storage flag by adopting a corresponding anti jitter processing mode according to different jitter conditions of the second storage flag obtained after crossing clock domain, so that a flexibility of the anti jitter processing is improved, and an application range of the data acquisition device is further expanded.</p><p id="p-0052" num="0058">To match the acquired first data and the acquired second data, based on the above, in some implementations, after the above operation S<b>101</b>, the data acquisition method further includes: performing delay processing on the first storage flag, a length of delay time is related to a link delay from a digital pre-distortion circuit to a power amplifier.</p><p id="p-0053" num="0059">After obtaining the first storage flag subjected to the delay processing, the data acquisition device, according to the first data acquisition clock and the second data acquisition clock, obtains a storage flag obtained after the first storage flag subjected to the delay processing crossing clock domain, and then performs anti jitter processing on the storage flag obtained after crossing the clock domain, and acquires the second data based on the storage flag subjected to the anti-jitter processing.</p><p id="p-0054" num="0060">In some implementations, when the first data acquisition clock is synchronous with the second data acquisition clock, the data acquisition device may acquire the second data according to the first storage flag subjected to the delay processing.</p><p id="p-0055" num="0061">In the present application, the data acquisition device may further perform delay processing on the first storage flag, so that the acquired second data are matched with the acquired first data, thereby accuracy of data acquisition is improved. In addition, for a case where the first data acquisition clock is synchronous with the second data acquisition clock, the data acquisition device can also acquire data, so that an application range of the data acquisition device is further expanded.</p><p id="p-0056" num="0062">In addition, the data acquisition method in the present application enables the data acquisition device to perform not only digital pre-distortion data acquisition, but also data acquisition for detecting the standing-wave ratio, under a condition with little increase of resources, a good unity of the digital pre-distortion data acquisition and the data acquisition for detecting the vector standing wave ratio is achieved, and functions of the data acquisition device are enhanced, i.e., the application range of the data acquisition device is further expanded.</p><p id="p-0057" num="0063">For understanding of those skilled in the art, the current type of data acquisition being configured to be digital pre-distortion data acquisition is illustrated below as an example, and the first data are the downlink data and the second data are the feedback data.</p><p id="p-0058" num="0064">Firstly, relevant parameters are configured according to an application scenario of the data acquisition, and a specific configuration process includes:<ul id="ul0005" list-style="none">    <li id="ul0005-0001" num="0065">1) configuring the current type of data acquisition to be the digital pre-distortion data acquisition, i.e., acquiring the downlink data and the feedback data;</li>    <li id="ul0005-0002" num="0066">2) configuring a channel number of current data acquisition and a priority of data of each power level according to a channel and numbering of the power level to be acquired, and after the channel number is configured, the data acquisition device may select the channel to be acquired through a channel switching device according to the configured channel number; and</li>    <li id="ul0005-0003" num="0067">3) configuring the downlink phase counter and the feedback anti-jitter counter according to a ratio of the downlink sampling rate to the feedback sampling rate, and after configuration of the counters is completed, the data acquisition device counts cyclically with configured values of the downlink phase counter and the feedback anti jitter counter as counting periods, and real lengths of time durations represented by the counting periods of the configured downlink phase counter and the configured feedback anti jitter counter are desired to be equal, so as to ensure a delay between the downlink data and the feedback data acquired each time is kept unchanged.</li></ul></p><p id="p-0059" num="0068">Then, a data acquisition request is initiated, and a ready state of data acquisition is entered. After entering the ready state of data acquisition, when a symbol-level data acquisition electrical level is high and a priority of a power level corresponding to the current downlink data is greater than the priority of the power level corresponding to data previously stored in a buffer register, a state of data acquisition is entered;</p><p id="p-0060" num="0069">otherwise, waiting is continued, until the symbol-level data acquisition electrical level is high and the priority of the power level corresponding to the current downlink data is greater than the priority of the power level corresponding to data previously stored in a buffer register.</p><p id="p-0061" num="0070">After entering the state of data acquisition and the downlink phase counter counts to a preset count value (e.g., the count value &#x201c;0&#x201d;), the acquisition and storage of the downlink data are started, otherwise, waiting is continued until the downlink phase counter counts to the preset count value.</p><p id="p-0062" num="0071">After the storage of the downlink data is started, delay processing is first performed on the first storage flag of the downlink data (a length of delay time may be configured, and in some implementations, the length of delay time may be configured to be a link delay from a digital pre-distortion circuit to a power amplifier). Then, when clocks of the downlink data and the feedback data are completely the same (i.e., frequencies of the two clocks are the same and phases of the two clocks are the same), the acquisition and storage of the feedback data are immediately started with the first storage flag subjected to the delay processing as an acquisition and storage start flag of the feedback data; when the clock of the downlink data is asynchronous with the clock of the feedback data, a storage flag after the first storage flag subjected to the delay processing crossing clock domain is obtained, and the anti-jitter processing is performed on the storage flag after crossing clock domain, the storage flag subjected to the anti jitter processing is used to be the acquisition and storage start flag of the feedback data. A specific process of the anti-jitter processing may refer to the description above, and thus is not repeated here.</p><p id="p-0063" num="0072">Then, after the downlink data and the feedback data are acquired and stored, an effectiveness of data acquired this time may be judged according to a certain judgment criteria (such as peak effectiveness, level consistency, continuous small signals and the like), so as to determine whether data currently stored in a buffer register is to be reserved. In response to that the judgment for the effectiveness of the data acquired this time is passed, i.e., the data acquired this time is judged to be effective, the data currently stored in the buffer register may be reserved, and meanwhile, a priority of the power level of the buffer register is updated to be a priority of the power level of the data acquired currently. It can be understood that when data with a priority higher than that of the power level of the buffer register arrives in the future, data acquisition may be performed again to overwrite the data previously stored in the buffer register, otherwise, the data in the buffer register would not be overwritten, unless a data acquisition request is reinitiated next time; in response to that the judgment for the effectiveness of the data acquired this time is not passed, i.e., the data acquired this time is judged to be ineffective, the data currently stored in the buffer register may be discarded, and meanwhile, a priority of the power level of the buffer register is reduced to minimum, and subsequently, if data with a priority higher than that of the power level of the buffer register arrives, data acquisition may be started. It can be understood that buffer registers may be configured for the downlink data and the feedback data, respectively.</p><p id="p-0064" num="0073">After receiving a request of stopping the data acquisition, the data acquisition is stopped. The data acquisition device may further switch to other channels through the channel switching device, so as to acquire downlink data and feedback data in other channels.</p><p id="p-0065" num="0074">Next, a current type of data acquisition being configured to be the data acquisition for detecting a standing wave ratio is described below as an example. The downlink data and the feedback data may be acquired firstly, then the downlink data and the reflection data are acquired, and after the downlink data and the feedback data, and the downlink data and the reflection data are acquired, one complete data acquisition for detecting the standing wave ratio is completed. When the downlink data and the feedback data are acquired, the first data are the downlink data and the second data are the feedback data; and when the downlink data and the reflection data are acquired, the first data are the downlink data and the second data are reflection data. The process of acquiring the downlink data and the feedback data may refer to the process of the digital pre-distortion data acquisition described above, a process of acquiring the downlink data and the reflection data is described below.</p><p id="p-0066" num="0075">Firstly, relevant parameters are configured according to an application scenario of the data acquisition, and a specific configuration process includes:<ul id="ul0006" list-style="none">    <li id="ul0006-0001" num="0076">1) configuring the current type of data acquisition to be the data acquisition for detecting the standing wave ratio, i.e., acquiring the downlink data and the reflection data;</li>    <li id="ul0006-0002" num="0077">2) configuring a channel number of current data acquisition and a priority of data of each power level according to a channel and numbering of the power level to be acquired, and after the channel number is configured, the data acquisition device may select the channel to be acquired through a channel switching device according to the configured channel number; and</li>    <li id="ul0006-0003" num="0078">3) configuring the downlink phase counter and the reflection anti-jitter counter according to a ratio of the downlink sampling rate to the reflection sampling rate, and after configuration of the counters is completed, the data acquisition device counts cyclically with configuration values of the downlink phase counter and the reflection anti-jitter counter as counting periods, and real lengths of time durations represented by the counting periods of the configured downlink phase counter and the configured reflection anti jitter counter are desired to be equal, so as to ensure a delay between the downlink data and the reflection data acquired each time is kept unchanged.</li></ul></p><p id="p-0067" num="0079">Then, a data acquisition request is initiated, and a ready state of data acquisition is entered. After entering the ready state of data acquisition, when a symbol-level data acquisition electrical level is high and a priority of a power level corresponding to the current downlink data is greater than the priority of the power level corresponding to data previously stored in a buffer register, a state of data acquisition is entered; otherwise, waiting is continued until the symbol-level data acquisition electrical level is high and the priority of the power level corresponding to the current downlink data is greater than the priority of the power level corresponding to the data previously stored in the buffer register.</p><p id="p-0068" num="0080">After entering the state of data acquisition and the downlink phase counter counts to a preset count value (e.g., the count value &#x201c;0&#x201d;), the acquisition and storage of the downlink data are started, otherwise, waiting is continued until the downlink phase counter counts to the preset count value.</p><p id="p-0069" num="0081">After the storage of the downlink data is started, delay processing is first performed on the first storage flag of the downlink data (a length of delay time may be configured, and in some implementations, a length of delay time may be configured to be a link delay from a digital pre-distortion circuit to a power amplifier). Then, when clocks of the downlink data and the reflection data are completely the same (i.e., frequencies of the two clocks are the same, and phases of the two clocks are the same), the acquisition and storage of the reflection data are immediately started with the first storage flag subjected to the delay processing as an acquisition and storage start flag of the reflection data; when the clock of the downlink data is asynchronous with the clock of the reflection data, a storage flag after the first storage flag subjected to the delay processing crossing clock domain is obtained, and the anti-jitter processing is performed on the storage flag after crossing clock domain, the storage flag subjected to the anti jitter processing is used as the acquisition and storage start flag of the reflection data. A specific process of the anti jitter processing may refer to the description above, and thus is not repeated here.</p><p id="p-0070" num="0082">Then, after the downlink data and the reflection data are acquired and stored, an effectiveness of data acquired this time may be judged according to a certain judgment criteria (such as peak effectiveness, level consistency, continuous small signals and the like), so as to determine whether data currently stored in a buffer register is to be reserved. In response to that the judgment for the effectiveness of the data acquired this time is passed, i.e., the data acquired this time is judged to be effective, the data currently stored in the buffer register may be reserved, and meanwhile, a priority of the power level of the buffer register is updated to be a priority of the power level of the data acquired currently. It can be understood that when data with a priority higher than that of the power level of the buffer register arrives in the future, data acquisition may be performed again to overwrite the data previously stored in the buffer register, otherwise, the data in the buffer register would not be overwritten, unless a data acquisition request is reinitiated next time; in response to that the judgment for the effectiveness of the data acquired this time is not passed, i.e., the data acquired this time is judged to be ineffective, the data currently stored in the buffer register may be discarded, and meanwhile, the priority of the power level of the buffer register is reduced to minimum, and subsequently, if data with a priority higher than that of the power level of the buffer register arrives, data acquisition may be started. It can be understood that buffer registers may be configured for the downlink data and the reflection data, respectively.</p><p id="p-0071" num="0083">After receiving a request of stopping the data acquisition, the data acquisition is stopped. The data acquisition device may further switch to other channels through the channel switching device, so as to acquire downlink data and reflection data in other channels.</p><p id="p-0072" num="0084">In the present application, the data acquisition device can perform not only digital pre-distortion data acquisition, but also data acquisition for detecting the standing-wave ratio, under the condition with little increase of resources, a good unity of the digital pre-distortion data acquisition and the data acquisition for detecting the vector standing wave ratio is achieved, and functions of the data acquisition device are enhanced, i.e., the application range of the data acquisition device is further expanded. In addition, for asynchronous clocks, the anti jitter processing may be performed on a start storage flag obtained after crossing clock domain, so that the delay between the acquired downlink data and the acquired feedback data is kept unchanged, and the delay between the acquired downlink data and the acquired reflection data is kept unchanged, so that an application range of the data acquisition device is expanded, a calculation complexity of the digital signal processor is simplified, and an accuracy of calculation results of the digital signal processor is also improved.</p><p id="p-0073" num="0085"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a structural schematic diagram of a data acquisition apparatus according to the present application. As shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, the apparatus may include a first obtaining module <b>20</b>, a second obtaining module <b>21</b>, an anti jitter processing module <b>22</b> and a first acquisition module <b>23</b>.</p><p id="p-0074" num="0086">The first obtaining module <b>20</b> is configured to obtain a first storage flag, the first storage flag is configured to indicate a flag bit at which first data starts to be acquired and stored.</p><p id="p-0075" num="0087">The second obtaining module <b>21</b> is configured to, when a first data acquisition clock is asynchronous with a second data acquisition clock, obtain a second storage flag according to the first data acquisition clock and the second data acquisition clock, the second storage flag is a storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock.</p><p id="p-0076" num="0088">The anti-jitter processing module <b>22</b> is configured to perform anti-jitter processing on the second storage flag to obtain a third storage flag.</p><p id="p-0077" num="0089">The first acquisition module <b>23</b> is configured to acquire a second data according to the third storage flag, a delay between the first data and the second data acquired each time is kept unchanged.</p><p id="p-0078" num="0090">With the data acquisition apparatus in the present application, the first storage flag is obtained; when the first data acquisition clock is asynchronous with the second data acquisition clock, the second storage flag is obtained according to the first data acquisition clock and the second data acquisition clock, the second storage flag is the storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock; and the anti jitter processing is performed on the second storage flag to obtain the third storage flag, and the second data is acquired according to the third storage flag, a delay between the first data and the second data acquired each time is kept unchanged. Since the data acquisition device performs the anti jitter processing on the second storage flag after obtaining the second storage flag subjected to clock domain crossing, during each process of data acquisition, the delay between the second data acquired based on the third storage flag obtained after the anti-jitter processing and the first data acquired based on the first storage flag is kept unchanged, i.e., in a process of the digital pre-distortion data acquisition, the data acquisition apparatus in the present application can be applied to a case where clock domains of downlink data and feedback data are different, thereby an application range of the data acquisition apparatus is expanded. Moreover, a delay between the downlink data and the feedback data, which are transmitted to the digital signal processor by the data acquisition device, is kept unchanged, so that a calculation complexity of the digital signal processor is simplified, and an accuracy of calculation results of the digital signal processor is also improved.</p><p id="p-0079" num="0091">On the basis of the above description, in some implementations, the data acquisition apparatus further includes a third obtaining module and a configuration module.</p><p id="p-0080" num="0092">Specifically, the third obtaining module is configured to, before the first obtaining module <b>20</b> obtains the second storage flag, acquire a first sampling rate corresponding to the first data and a second sampling rate corresponding to the second data; and the configuration module is configure a first counting period of a first counter and a count value in the first counting period, and a second counting period of a second counter and a count value in the second counting period according to the first sampling rate and the second sampling rate, lengths of time durations corresponding to the first counting period and the second counting period are equal.</p><p id="p-0081" num="0093">On the basis of the above description, in some implementations, the anti-jitter processing module <b>22</b> is configured to, when the second storage flag corresponds to a count value within a preset jitter range of the second counter, adjust the second storage flag to a position corresponding to any count value outside the jitter range in the second counting period for obtaining the third storage flag.</p><p id="p-0082" num="0094">On the basis of the above description, in some implementations, the anti-jitter processing module <b>22</b> is configured to, when the second storage flag corresponds to a first count value outside the preset jitter range of the second counter, modify the first count value corresponding to the second storage flag to a second count value, the second count value is any count value within the jitter range; and the second counter is recounted by taking the second count value as a starting point for counting, the second storage flag is adjusted to a position corresponding to a third count value to obtain the third storage flag, the third count value is any count value outside the jitter range in the second counting period after recounting.</p><p id="p-0083" num="0095">On the basis of the above description, in some implementations, the data acquisition apparatus further includes a delay processing module.</p><p id="p-0084" num="0096">Specifically, the delay processing module is configured to, after the first obtaining module <b>20</b> obtains the first storage flag, perform delay processing on the first storage flag, a length of delay time is related to a link delay from a digital pre-distortion circuit to a power amplifier.</p><p id="p-0085" num="0097">On the basis of the above description, in some implementations, the data acquisition apparatus further includes a second acquisition module configured to, when the first data acquisition clock is synchronous with the second data acquisition clock, acquire the second data according to the first storage flag subjected to the delay processing.</p><p id="p-0086" num="0098">In some implementations, in response to that a current type of data acquisition is configured to be digital pre-distortion data acquisition, the first data are downlink data and the second data are feedback data.</p><p id="p-0087" num="0099">In some implementations, in response to that the current type of the data acquisition is configured to be data acquisition for detecting a standing wave ratio, when acquisition of the downlink data and the feedback data are performed, the first data are the downlink data and the second data are the feedback data; and when acquisition of the downlink data and the reflection data are performed, the first data are the downlink data and the second data are the reflection data.</p><p id="p-0088" num="0100">The present application further provides a data acquisition device, and the structure of the data acquisition device may be as shown by the structural schematic diagram of the data acquisition device in <figref idref="DRAWINGS">FIG. <b>7</b></figref>. The data acquisition device includes a processor and a memory which are connected by a system bus. The processor provides capabilities for computing and control, the memory stores a computer program, the computer program, when executed by the processor, performs the data acquisition method in the present application.</p><p id="p-0089" num="0101">It should be understood for those skilled in the art that the structure shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref> is a block diagram of a part of the structure related to the solution of the present application, rather than forming a limitation for the device applied in the present application, the device applied in the present application may include more or less components than those shown in the <figref idref="DRAWINGS">FIG. <b>7</b></figref>, or include a combination of certain components, or include different component arrangements.</p><p id="p-0090" num="0102">The present application further provides a data acquisition device, which includes a memory and a processor, the memory include a computer program, the processor, when executes the computer program, performs operations including: obtaining a first storage flag, the first storage flag is configured to indicate a flag bit at which first data starts to be acquired and stored; when a first data acquisition clock is asynchronous with a second data acquisition clock, obtaining a second storage flag according to the first data acquisition clock and the second data acquisition clock, the second storage flag is a storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock; and performing anti jitter processing on the second storage flag to obtain a third storage flag, and acquiring second data according to the third storage flag, a delay between the first data and the second data acquired each time is kept unchanged.</p><p id="p-0091" num="0103">In some implementations, the processor, when executes the computer program, further performs operations including: acquiring a first sampling rate corresponding to the first data and a second sampling rate corresponding to the second data; and configuring a first counting period of a first counter and a count value in the first counting period, and a second counting period of a second counter and a count value in the second counting period according to the first sampling rate and the second sampling rate, lengths of time durations corresponding to the first counting period and the second counting period are equal.</p><p id="p-0092" num="0104">In some implementations, the processor, when executes the computer program, further performs operations including: when the second storage flag corresponds to a count value within a preset jitter range of the second counter, adjusting the second storage flag to a position corresponding to any count value outside the jitter range in the second counting period for obtaining the third storage flag.</p><p id="p-0093" num="0105">In some implementations, the processor, when executes the computer program, further performs operations including: when the second storage flag corresponds to a first count value outside the preset jitter range of the second counter, modifying the first count value corresponding to the second storage flag to a second count value, the second count value is any count value within the jitter range; and recounting the second counter by taking the second count value as a starting point for counting, adjusting the second storage flag to a position corresponding to a third count value to obtain the third storage flag, the third count value is any count value outside the jitter range in the second counting period after the recounting.</p><p id="p-0094" num="0106">In some implementations, the processor, when executes the computer program, further performs operations including: performing delay processing on the first storage flag, a length of delay time is related to a link delay from a digital pre-distortion circuit to a power amplifier.</p><p id="p-0095" num="0107">In some implementations, the processor, when executes the computer program, further performs operations including: when the first data acquisition clock is synchronous with the second data acquisition clock, acquiring the second data according to the first storage flag subjected to the delay processing.</p><p id="p-0096" num="0108">In some implementations, in response to that a current type of data acquisition is configured to be digital pre-distortion data acquisition, the first data are downlink data and the second data are feedback data.</p><p id="p-0097" num="0109">In some implementations, in response to that the current type of the data acquisition is configured to be data acquisition for detecting a standing wave ratio, when acquisition of the downlink data and the feedback data are performed, the first data are the downlink data and the second data are the feedback data; and when acquisition of the downlink data and reflection data are performed, the first data are the downlink data and the second data are the reflection data.</p><p id="p-0098" num="0110">The present application further provides a storage medium having a computer program stored thereon, the computer program, when executed by a processor, performs operations including: obtaining a first storage flag, the first storage flag is configured to indicate a flag bit at which first data starts to be acquired and stored; when a first data acquisition clock is asynchronous with a second data acquisition clock, obtaining a second storage flag according to the first data acquisition clock and the second data acquisition clock, the second storage flag is a storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock; and performing anti-jitter processing on the second storage flag to obtain a third storage flag, and acquiring second data according to the third storage flag, a delay between the first data and the second data acquired each time is kept unchanged.</p><p id="p-0099" num="0111">In some implementations, the computer program, when executed by a processor, further performs operations including: acquiring a first sampling rate corresponding to the first data and a second sampling rate corresponding to the second data; and configuring a first counting period of a first counter and a count value in the first counting period, and a second counting period of a second counter and a count value in the second counting period according to the first sampling rate and the second sampling rate, lengths of time durations corresponding to the first counting period and the second counting period are equal.</p><p id="p-0100" num="0112">In some implementations, the computer program, when executed by a processor, further performs operations including: when the second storage flag corresponds to a count value within a preset jitter range of the second counter, adjusting the second storage flag to a position corresponding to any count value outside the jitter range in the second counting period for obtaining the third storage flag.</p><p id="p-0101" num="0113">In some implementations, the computer program, when executed by a processor, further performs operations including: when the second storage flag corresponds to a first count value outside the preset jitter range of the second counter, modifying the first count value corresponding to the second storage flag to a second count value, the second count value is any count value within the jitter range; and recounting the second counter by taking the second count value as a starting point for counting, adjusting the second storage flag to a position corresponding to a third count value to obtain the third storage flag, the third count value is any count value outside the jitter range in the second counting period after the recounting.</p><p id="p-0102" num="0114">In some implementations, the computer program, when executed by a processor, further performs operations including: performing delay processing on the first storage flag, a length of delay time is related to a link delay from a digital pre-distortion circuit to a power amplifier.</p><p id="p-0103" num="0115">In some implementations, the computer program, when executed by a processor, further performs operations including: when the first data acquisition clock is synchronous with the second data acquisition clock, acquiring the second data according to the first storage flag subjected to the delay processing.</p><p id="p-0104" num="0116">In some implementations, in response to that a current type of data acquisition is configured to be digital pre-distortion data acquisition, the first data are downlink data and the second data are feedback data.</p><p id="p-0105" num="0117">In some implementations, in response to that the current type of the data acquisition is configured to be data acquisition for detecting a standing wave ratio, when acquisition of the downlink data and the feedback data are performed, the first data are the downlink data and the second data are the feedback data; and when acquisition of the downlink data and reflection data are performed, the first data are the downlink data and the second data are the reflection data.</p><p id="p-0106" num="0118">The data acquisition apparatus, the data acquisition device and the storage medium described above can perform the data acquisition method in the present application, and have functional modules for performing the method and beneficial effects corresponding to the method. The technical details not described in detail here may be referred to the description of the data acquisition method in the present application.</p><p id="p-0107" num="0119">The above description is merely a schematic explanation of the present application, rather than limiting the protection scope of the present application.</p><p id="p-0108" num="0120">The present application may be implemented in hardware (such as special purpose circuits), software, or any combination thereof. For example, some aspects may be implemented in hardware, while other aspects may be implemented in firmware or software which may be executed by a controller, a microprocessor or other computing devices, although the present application is not limited thereto.</p><p id="p-0109" num="0121">The present application may be implemented by a data processor of a fault injection test device executing computer program instructions, for example, in a processor entity, or by hardware, or by a combination of software and hardware. The computer program instructions may be assembler instructions, instruction set architecture (ISA) instructions, machine instructions, machine-related instructions, microcode, firmware instructions, state setting data, or source or object codes written in any combination of one or more programming languages.</p><p id="p-0110" num="0122">The block diagram of any logical flowchart in the accompanying drawings of the present application may represent program operations; or represent interconnected logic circuits, modules, and functions; or represent a combination of program operations and logic circuits, modules and functions. The computer program may be stored in a storage device. The storage device may be of any type suitable for the local technical environment and may be implemented by using any suitable data storage technology, includes, but is not limited to, a Random Access Memory (RAM), a Read-Only Memory (ROM), an optical storage device and system (a digital video disc (DVD) or a compact disc(CD)) and the like. The computer-readable medium may include a non-transitory storage medium. The data processor may be of any type suitable for the local technical environment, includes, but is not limited to, a general computer, a specific computer, a microprocessor, a digital signal processor (DSP), an application specific integrated circuit (ASIC), a field programmable gate array (FPGA), and a processor based on a multi-core processor architecture.</p><p id="p-0111" num="0123">With the data acquisition method, the data acquisition apparatus, the data acquisition device and the storage medium in the present application, the first storage flag is obtained; when the first data acquisition clock is asynchronous with the second data acquisition clock, the second storage flag is obtained according to the first data acquisition clock and the second data acquisition clock, the second storage flag is the storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock; and the anti jitter processing is performed on the second storage flag to obtain the third storage flag, and the second data is acquired according to the third storage flag, a delay between the first data and the second data acquired each time is kept unchanged. Since the anti jitter processing is performed on the second storage flag after obtaining the second storage flag after crossing clock domain, during each process of data acquisition, the delay between the second data acquired based on the third storage flag obtained after the anti jitter processing and the first data acquired based on the first storage flag is kept unchanged, i.e., in a process of the digital pre-distortion data acquisition, the data acquisition method in the present application can be applied to a case where clock domains of downlink data and feedback data are different, thereby an application range of the data acquisition device is expanded. Moreover, a delay between the downlink data and the feedback data, which are transmitted to the digital signal processor by the data acquisition device, is kept unchanged, so that a calculation complexity of the digital signal processor is simplified, and an accuracy of calculation results of the digital signal processor is also improved.</p><p id="p-0112" num="0124">The above description provides a detailed description of exemplary embodiments of the present application, which are examples but not limited. In conjunction with the accompanying drawings and claims, various modifications and adjustments for the above examples are apparent for those skilled in the art, but do not depart from scope of the present application. The scope of the present application is determined by the claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A data acquisition method, comprising:<claim-text>obtaining a first storage flag, the first storage flag is configured to indicate a flag bit at which first data starts to be acquired and stored;</claim-text><claim-text>in response to that a first data acquisition clock is asynchronous with a second data acquisition clock, obtaining a second storage flag according to the first data acquisition clock and the second data acquisition clock, the second storage flag is a storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock; and</claim-text><claim-text>performing anti-jitter processing on the second storage flag to obtain a third storage flag, and acquiring second data according to the third storage flag, wherein, a delay between the first data and the second data acquired each time is kept unchanged.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>before obtaining the first storage flag, acquiring a first sampling rate corresponding to the first data and a second sampling rate corresponding to the second data; and</claim-text><claim-text>configuring a first counting period of a first counter and a count value in the first counting period, and a second counting period of a second counter and a count value in the second counting period according to the first sampling rate and the second sampling rate, wherein lengths of time durations corresponding to the first counting period and the second counting period are equal.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the performing anti-jitter processing on the second storage flag to obtain a third storage flag comprises:<claim-text>in response to that the second storage flag corresponds to a count value within a preset jitter range of the second counter, adjusting the second storage flag to a position corresponding to any count value outside the jitter range in the second counting period for obtaining the third storage flag.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the performing anti-jitter processing on the second storage flag to obtain a third storage flag comprises:<claim-text>in response to that the second storage flag corresponds to a first count value outside the preset jitter range of the second counter, modifying the first count value corresponding to the second storage flag to a second count value, wherein the second count value is any count value within the jitter range; and</claim-text><claim-text>recounting the second counter by taking the second count value as a starting point for counting, adjusting the second storage flag to a position corresponding to a third count value to obtain the third storage flag, wherein the third count value is any count value outside the jitter range in the second counting period after the recounting.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>after obtaining the first storage flag, performing delay processing on the first storage flag, wherein, a length of delay time is related to a link delay from a digital pre-distortion circuit to a power amplifier.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising:<claim-text>in response to that the first data acquisition clock is synchronous with the second data acquisition clock, acquiring the second data according to the first storage flag subjected to the delay processing.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein, in response to that a current type of data acquisition is configured to be digital pre-distortion data acquisition, the first data are downlink data and the second data are feedback data.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein, in response to that a current type of data acquisition is configured to be data acquisition for detecting a standing wave ratio, during acquisition of downlink data and feedback data, the first data are the downlink data and the second data are the feedback data; and during acquisition of downlink data and reflection data, the first data are the downlink data and the second data are the reflection data.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. A data acquisition apparatus, comprising:<claim-text>a first obtaining module configured to obtain a first storage flag, the first storage flag is configured to indicate a flag bit at which first data starts to be acquired and stored;</claim-text><claim-text>a second obtaining module configured to, in response to that a first data acquisition clock is asynchronous with a second data acquisition clock, obtain a second storage flag according to the first data acquisition clock and the second data acquisition clock, the second storage flag is a storage flag bit corresponding to the first storage flag after the first storage flag crosses from the first data acquisition clock to the second data acquisition clock;</claim-text><claim-text>an anti-jitter processing module configured to perform anti-jitter processing on the second storage flag to obtain a third storage flag; and</claim-text><claim-text>a first acquisition module configured to acquire a second data according to the third storage flag, wherein, a delay between the first data and the second data acquired each time is kept unchanged.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A data acquisition device, comprising a memory and a processor, the memory stores a computer program, the processor, when executes the computer program, performs the method of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A storage medium having a computer program stored thereon, the computer program, when executed by a processor, performs the method of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text></claim></claims></us-patent-application>