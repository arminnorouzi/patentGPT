<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006604A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006604</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17756577</doc-number><date>20210203</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="regional"><country>EP</country><doc-number>20158530.4</doc-number><date>20200220</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>S</subclass><main-group>50</main-group><subgroup>00</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>J</subclass><main-group>3</main-group><subgroup>38</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>S</subclass><main-group>50</main-group><subgroup>00</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>J</subclass><main-group>3</main-group><subgroup>381</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20200101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>J</subclass><main-group>2300</main-group><subgroup>24</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">A Method for Operating a Photovoltaic System</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Fronius International GmbH</orgname><address><city>Pettenbach</city><country>AT</country></address></addressbook><residence><country>AT</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Kampl</last-name><first-name>Tobias</first-name><address><city>Pettenbach</city><country>AT</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Hanek</last-name><first-name>David</first-name><address><city>Pettenbach</city><country>AT</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Breitwieser</last-name><first-name>Franz</first-name><address><city>Pettenbach</city><country>AT</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Waldh&#xf6;r</last-name><first-name>J&#xfc;rgen</first-name><address><city>Pettenbach</city><country>AT</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>Wolf</last-name><first-name>Martin</first-name><address><city>Pettenbach</city><country>AT</country></address></addressbook></inventor></inventors></us-parties><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/EP2021/052478</doc-number><date>20210203</date></document-id><us-371c12-date><date>20220527</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A photovoltaic system comprising an inverter adapted to convert a DC power supplied by photovoltaic modules of a photovoltaic generator via power cables to said inverter into an AC current for an AC power supply grid, wherein the inverter has a base station connected by means of the power cables to the module level devices which are provided to monitor and/or to control associated photovoltaic modules of the photovoltaic generator, wherein if the inverter does not receive sufficient energy from the photovoltaic generator and the AC power supply grid, a controller is adapted to activate a deadlock prevention mode of an energy supply unit connected to the inverter where the inverter receives energy from the energy supply unit such that the base station of the inverter is able to continue to transmit permission to operate, PTO, signals via the power cables to the module level devices of the photovoltaic generator.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="122.51mm" wi="158.75mm" file="US20230006604A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="119.63mm" wi="119.72mm" file="US20230006604A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="152.82mm" wi="162.81mm" file="US20230006604A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="134.37mm" wi="134.54mm" file="US20230006604A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="101.68mm" wi="138.94mm" file="US20230006604A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">PRIORITY CLAIM</heading><p id="p-0002" num="0001">This application is a 35 U.S.C. &#xa7; 371 National Stage Application of PCT/EP2021/052478, filed on Feb. 3, 2021, which claims the benefit of priority to Serial No. 20158530.4, filed on Feb. 20, 2020, in Europe, the disclosures of which are incorporated herein by reference in their entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0003" num="0002">US 2016/329721 A1 describes a device for controlling power exported from a renewable energy source to a utility grid. The device comprises a means for monitoring the direction of flow of power within the renewable energy source, a means for isolating the flow of power from the renewable energy source to the mains power supply. When a reverse power flow is sensed between the renewable energy source and the mains power supply, the monitoring means signals the isolating means to limit the renewable energy source to the mains power supply.</p><p id="p-0004" num="0003">A photovoltaic system can comprise one or more photovoltaic strings or photovoltaic modules within a photovoltaic array. A photovoltaic array having one or more photovoltaic strings forms a photovoltaic generator and can be connected via a DC line to an inverter of the photovoltaic system. The inverter is adapted to convert a DC current received from the photovoltaic generator into an AC current and supply it to an AC power supply grid.</p><p id="p-0005" num="0004">For a photovoltaic system, powerline communication PLC can be used to transmit data over existing power cables. PLC is used to communicate keep-alive signals to control a rapid shutdown RSD of a photovoltaic array at a photovoltaic modular level. For instance, certain standards and regulations require the keep-alive signal to be transmitted from the inverter to one or more module level devices of a photovoltaic generator at all time, i.e. continuously.</p><p id="p-0006" num="0005">The inverter of the photovoltaic system transmits keep-alive signals, in particular, permission to operate PTO signals to the module level devices MLDs of the photovoltaic generator. The inverter of the photovoltaic system comprises a base station having a transmitter which is capable of transmitting keep-alive signals to the module level devices MLDs of the photovoltaic generator. The base station can draw electrical energy from the photovoltaic generator, the AC power supply grid and/or a local energy supply unit to transmit the keep-alive signals to the module level devices MLDs of the photovoltaic generator.</p><p id="p-0007" num="0006">However, in a situation where the inverter does not receive any energy from the AC power supply grid, the photovoltaic generator and the energy supply unit, the inverter is no longer able to transmit the keep-alive signals to the module level devices MLDs of the photovoltaic generator. This causes the module level devices MLDs of the photovoltaic generator to shutdown. If in such a situation, sufficient energy is later available at the photovoltaic generator to switch on the module level devices MLDs, then the inverter will not be able to transmit the necessary keep-alive signals. This is because the inverter may no longer be able to receive energy from the photovoltaic generator as both the AC power supply grid and the energy supply unit are already disconnected. This creates an unwanted deadlock situation where the inverter of the photovoltaic system is not able to transmit the required keep-alive signals even when sufficient energy is available at the photovoltaic generator of the photovoltaic system.</p><heading id="h-0003" level="1">SUMMARY OF THE DISCLOSURE</heading><p id="p-0008" num="0007">Accordingly, it is an object of the present invention to provide a photovoltaic system where such a deadlock situation is avoided and a continuous operation of the photovoltaic system is guaranteed.</p><p id="p-0009" num="0008">This object is achieved by a photovoltaic system and a method for operating a photovoltaic system comprising the features of the independent claims. Further advantageous embodiments are subject-matter of the dependent claims.</p><p id="p-0010" num="0009">The invention provides according to the first aspect of the present invention a photovoltaic system comprising an inverter adapted to convert a DC power supplied by photovoltaic modules of a photovoltaic generator via power cables to said inverter into an AC current for an AC power supply grid,</p><p id="p-0011" num="0010">wherein the inverter has a base station connected by means of the power cables to the module level devices which are provided to monitor and/or to control associated photovoltaic modules of the photovoltaic generator,</p><p id="p-0012" num="0011">wherein if the inverter does not receive sufficient energy from the photovoltaic generator and the AC power supply grid, a controller of the photovoltaic system is adapted to activate a deadlock prevention mode of an energy supply unit connected to the inverter where the inverter receives energy from the energy supply unit such that the base station of the inverter is capable to continue to transmit permission to operate (PTO) signals via the power cables to the module level devices of the photovoltaic generator.</p><p id="p-0013" num="0012">In the photovoltaic system according to the first aspect of the present invention, a specific deadlock prevention mode is provided to control the state of charge of the energy supply unit such that always sufficient energy is available for the inverter of the photovoltaic system to transmit keep-alive signals to the module level devices during a possible deadlock situation.</p><p id="p-0014" num="0013">The energy supply unit of the photovoltaic system can be switched by the controller into different operation modes.</p><p id="p-0015" num="0014">In a possible embodiment of the photovoltaic system according to the first aspect of the present invention, the controller is integrated into the inverter.</p><p id="p-0016" num="0015">In a possible embodiment of the photovoltaic system a first operation mode of the energy supply unit comprises a normal operation mode where the energy supply unit is configured to supply energy to a load network of the photovoltaic system and to receive energy from the photovoltaic generator and/or from the AC power supply grid to maintain the state of charge SoC of the energy supply unit above a first SoC level L1.</p><p id="p-0017" num="0016">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, the energy supply unit comprises as a further operation mode a backup operation mode where the energy supply unit is configured to supply energy to the load network via the inverter when the state of charge SoC of the energy supply unit falls below the first SOC level L1. In the backup operation mode, the energy supply unit is configured to supply energy to the load network of the photovoltaic system <b>1</b> until the SoC of the energy supply unit reaches a second SoC level, L2, when the AC power supply grid is disconnected.</p><p id="p-0018" num="0017">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, the energy supply unit comprises as a further operation mode a deadlock prevention mode where the energy supply unit is configured to exclusively supply the inverter with energy when the state of charge SoC of the energy supply unit falls below a second SoC level L2 and no energy from the AC power supply grid is available.</p><p id="p-0019" num="0018">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, the energy supply unit comprises as a further operation mode a standby operation mode where the inverter is no longer supplied with energy by the energy supply unit when the state of charge SoC of the energy supply unit falls below a predefined third minimal SoC level L3 and no energy from the AC power supply grid is available.</p><p id="p-0020" num="0019">In a possible embodiment of the photovoltaic system according to the first aspect of the present invention, the energy supply unit of the photovoltaic system is configured to exclusively supply the inverter with energy in the deadlock prevention mode of the energy supply unit if the inverter does not receive energy from the photovoltaic generator and the AC power supply grid for a predefined period of time.</p><p id="p-0021" num="0020">In a possible embodiment, the period of time can be configured and stored in a register of the controller.</p><p id="p-0022" num="0021">In this embodiment, the period of time can be adjusted according to a use case of the photovoltaic system. This provides for more flexibility of the photovoltaic system according to the first aspect of the present invention.</p><p id="p-0023" num="0022">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, the energy supply unit of the photovoltaic system is configured to supply exclusively the inverter of the photovoltaic system with energy in the deadlock prevention mode of the energy supply unit if the inverter does not receive a predefined amount of energy from the photovoltaic generator and the AC power supply grid.</p><p id="p-0024" num="0023">In a possible embodiment, the predefined amount of energy can also be stored in an associated configuration register of the controller. Accordingly, also in this embodiment, the amount of energy can be adapted to the corresponding use case.</p><p id="p-0025" num="0024">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, in the standby operation mode of the energy supply unit where the inverter of the photovoltaic system is no longer supplied with energy from the energy supply unit, the inverter is automatically turned off.</p><p id="p-0026" num="0025">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, a SoC warning signal is triggered automatically by the controller when the state of charge SoC of the energy supply unit reaches a predetermined level above each of the predefined SoC levels, L1, L2 or L3. The predetermined level is a SoC level of the energy supply unit.</p><p id="p-0027" num="0026">In a possible embodiment, the predetermined level is a same percentage of SoC above each SoC levels, L1, L2 and L3.</p><p id="p-0028" num="0027">In a possible embodiment, the predetermined level corresponding to each of the SoC levels, L1, L2 and L3 is different.</p><p id="p-0029" num="0028">In a possible embodiment, the predetermined level for each SoC levels, L1, L2 and L3 is equal to the corresponding SoC levels, L1, L2 and L3.</p><p id="p-0030" num="0029">The predetermined SoC level for each of the SoC levels L1, L2, L3 of the energy supply unit used for issuing the warning signal are stored in corresponding configuration registers of the controller.</p><p id="p-0031" num="0030">For instance, since the warning signal for the SoC level L3 is provided at the predetermined level above L3, this allows to take emergency measures to avoid a turnoff of the inverter.</p><p id="p-0032" num="0031">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, the controller comprises a first interface to receive information about the current operation mode of the energy supply unit and about operation parameters including the state of charge SoC of the energy supply unit and/or a switching state of an energy supply unit switch which is provided to connect the energy supply unit to the inverter.</p><p id="p-0033" num="0032">In a still further possible embodiment of the photovoltaic system according to the first aspect of the present invention, the controller comprises a second interface to receive information about the current state of the AC power supply grid including the switching state of a grid switch which is provided to connect the AC output of the inverter with the AC power supply grid.</p><p id="p-0034" num="0033">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, the SoC levels L1, L2, L3 of the energy supply unit used for controlling the operation modes of the energy supply unit are stored in corresponding configuration registers of the controller.</p><p id="p-0035" num="0034">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, the first SoC level L1 and the second SoC level L2 are adjustable by means of a user interface of the photovoltaic system.</p><p id="p-0036" num="0035">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, the third SoC level L3 is predefined according to the specification of the energy supply unit manufacturer.</p><p id="p-0037" num="0036">In a further possible embodiment of the photovoltaic system according to the first aspect of the present invention, the second SoC level L2 is adjusted to cover a standby energy consumption of the inverter including its base station for a predefined time period to prevent that the state of charge SoC of the energy supply unit falls to the predefined minimum third SoC level L3.</p><p id="p-0038" num="0037">In a possible embodiment of the photovoltaic system according to the first aspect of the present invention, the energy supply unit is connected to the inverter via an energy supply unit switch, wherein the energy supply unit switch is an integral part of the energy supply unit.</p><p id="p-0039" num="0038">In a possible embodiment of the photovoltaic system according to the first aspect of the present invention, the energy supply unit is connected to the inverter via an energy supply unit switch, wherein the energy supply unit switch is external to the energy supply unit.</p><p id="p-0040" num="0039">The invention provides according to the second aspect a method for operating a photovoltaic system comprising an inverter which converts a DC power supplied by photovoltaic modules of a photovoltaic generator via power cables to the inverter into an AC current supplied to an AC power supply grid,</p><p id="p-0041" num="0040">wherein the inverter has a base station connected by means of power cables to the module level devices of the photovoltaic generator which monitor and/or control associated photovoltaic modules of the photovoltaic generator,</p><p id="p-0042" num="0041">wherein if the inverter does not receive sufficient energy from the photovoltaic generator and the AC power supply grid, a controller activates a deadlock prevention mode of an energy supply unit connected to the inverter where the inverter receives energy from the energy supply unit such that the base station of the inverter is capable to continue to transmit permission to operate signals via the power cables to the module level devices of the photovoltaic.</p><p id="p-0043" num="0042">In a possible embodiment of the method according to the second aspect of the present invention, the energy supply unit supplies the inverter exclusively with energy in the deadlock prevention mode of the energy supply unit if the inverter does not receive energy from the photovoltaic generator and the AC power supply grid for a predefined period of time.</p><p id="p-0044" num="0043">In a further possible embodiment of the method according to the second aspect of the present invention, the energy supply unit supplies the inverter exclusively with energy in the deadlock prevention mode of the energy supply unit if the inverter does not receive a predefined amount of energy from the photovoltaic generator and the AC power supply grid.</p><p id="p-0045" num="0044">In a further possible embodiment of the method according to the second aspect of the present invention, a SoC warning signal is automatically triggered by the controller when the state of charge SoC of the energy supply unit falls to a predetermined level corresponding to each of the SoC levels L1, L2 and L3.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">DESCRIPTION OF THE DRAWINGS</heading><p id="p-0046" num="0045">In the following, possible embodiments of the different aspects of the present invention are described in more detail with reference to the enclosed figures.</p><p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows a block diagram to illustrate a possible exemplary embodiment of a photovoltaic system according to the first aspect of the present invention;</p><p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a further block diagram for illustrating a possible exemplary embodiment of a photovoltaic system according to the first aspect of the present invention;</p><p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows a state diagram for illustrating an operation of a possible embodiment of a photovoltaic system according to the first aspect of the present invention;</p><p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows a diagram for illustrating different SoC levels L of an energy supply unit used for controlling the operation of a photovoltaic system according to the first aspect of the present invention.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION</heading><p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows schematically a block diagram of a possible exemplary embodiment of a photovoltaic system <b>1</b> according to the first aspect of the present invention. In the illustrated exemplary embodiment, a photovoltaic generator <b>2</b> is connected to an inverter <b>3</b> of the photovoltaic system <b>1</b>. The inverter <b>3</b> is adapted to convert a received DC power supplied by photovoltaic modules <b>8</b> of the photovoltaic generator <b>2</b> via power cables <b>9</b> to the inverter <b>3</b> into an AC current for an AC power supply grid <b>5</b>.</p><p id="p-0052" num="0051">The inverter <b>3</b> comprises a DC input side and an AC output side. The AC output of the inverter <b>3</b> is connected in the illustrated embodiment via a grid switch <b>4</b> to the AC power supply grid <b>5</b>. The inverter <b>3</b> comprises in the illustrated embodiment a base station <b>6</b> which is connected by means of power cables <b>9</b> to module level devices <b>7</b> which are provided to monitor and/or to control associated photovoltaic modules <b>8</b> of the photovoltaic generator <b>2</b>.</p><p id="p-0053" num="0052">In a preferred embodiment, the photovoltaic modules <b>8</b> are connected to the base station <b>6</b> of the inverter <b>3</b> via power cables <b>9</b> in a loop as illustrated in the embodiment of <figref idref="DRAWINGS">FIG. <b>2</b></figref>. The base station <b>6</b> comprises a transmitter adapted to transmit continuously permission to operate (PTO) signals via the power cables <b>9</b> to receivers integrated in the module level devices <b>7</b> of the photovoltaic generator <b>2</b>.</p><p id="p-0054" num="0053">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the inverter <b>3</b> is connected at its DC input side to an energy supply unit <b>10</b> of the photovoltaic system <b>1</b>. In a possible embodiment, the energy supply unit <b>10</b> is connected to the inverter <b>3</b> via an energy supply unit switch <b>11</b> as illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0055" num="0054">The photovoltaic system <b>1</b> comprises in the illustrated embodiment a controller <b>12</b> which can be connected to the inverter <b>3</b> via an interface. In an alternative embodiment, the controller <b>12</b> can also be integrated in the inverter <b>3</b>. If the inverter <b>3</b> does not receive sufficient energy from the photovoltaic generator <b>2</b> and from the AC power supply grid <b>5</b>, the controller <b>12</b> of the photovoltaic system <b>1</b> is adapted to activate a deadlock prevention mode of the energy supply unit <b>10</b> connected to the inverter <b>3</b>.</p><p id="p-0056" num="0055">In the deadlock prevention mode, the inverter <b>3</b> receives energy from the energy supply unit <b>10</b> so that the transmitter of the base station <b>6</b> of the inverter <b>3</b> is capable of continuing to transmit permission to operate signals, i.e. keep-alive signals, via the power cables <b>9</b> to the module level devices <b>7</b> of the photovoltaic generator <b>2</b>. The energy supply unit <b>10</b> of the photovoltaic system <b>1</b> can be used to supply a local load network <b>13</b> with energy via the inverter <b>3</b>.</p><p id="p-0057" num="0056">The controller <b>12</b> of the photovoltaic system <b>1</b> comprises an interface adapted to receive information about the current operation mode of the energy supply unit <b>10</b>. The controller <b>12</b> can also get information about operation parameters of the energy supply unit <b>10</b> including the state of charge SoC of the energy supply unit <b>10</b> via that interface.</p><p id="p-0058" num="0057">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the energy supply unit <b>10</b> comprises an energy supply unit separation switch <b>11</b> which separates the energy supply unit <b>10</b> from the inverter in a failure scenario, e.g. when the communication between the inverter <b>3</b> and/or its controller <b>12</b> and the energy supply unit <b>10</b> is interrupted. The controller <b>12</b> can also monitor the switching state of the energy supply unit switch <b>11</b> to connect or disconnect the energy supply unit <b>10</b> from the DC input side of the inverter <b>3</b>.</p><p id="p-0059" num="0058">The controller <b>12</b> can further comprise a second interface to receive information about the current state of the AC power supply grid <b>5</b> including the switching state of the grid switch <b>4</b>. The grid switch <b>4</b> can be used to separate the photovoltaic system <b>1</b> from the power supply grid <b>5</b> when a failure situation arises. The grid switch <b>4</b> can be controlled in a possible implementation by the local controller <b>12</b> of the photovoltaic system <b>1</b>. In an alternative embodiment, the grid switch <b>4</b> can be controlled by a remote controller of an operator of the AC power supply grid <b>5</b>. In case, the AC power supply grid <b>5</b> fails, the grid switch <b>4</b> can be switched to separate the inverter <b>3</b> from the AC power supply grid <b>5</b> so that the loads can be supplied with energy in a backup power mode. In the illustrated embodiment of <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the photovoltaic generator <b>2</b> is equipped with a module deactivation entity.</p><p id="p-0060" num="0059">A permission to operate PTO signal is continuously transmitted by the transmitter of the base station <b>6</b> of the inverter <b>3</b> to the different module level devices <b>7</b> of the photovoltaic generator <b>2</b>. As long as the receivers integrated in the module level devices <b>7</b> receive a permission to operate PTO signal from the transmitter of the base station <b>6</b> of the inverter <b>3</b> via the power cables <b>9</b>, the associated photovoltaic modules <b>8</b>-<i>i </i>are not deactivated. Accordingly, an interruption in the continuous transmission of permission of the PTO signals due to insufficient energy at the base station <b>6</b> of the inverter <b>3</b> is avoided, thereby preventing an unwanted deadlock situation.</p><p id="p-0061" num="0060">During daytime, the photovoltaic generator <b>2</b> provides sufficient energy which can also be used by the base station <b>6</b> of the inverter <b>3</b> to generate and provide permission to operate PTO signals. However, during nighttime, the photovoltaic generator <b>2</b> does not generate photovoltaic energy. Accordingly, in a situation where the AC power supply grid <b>5</b> is disconnected from the inverter <b>3</b> due to the grid switch <b>4</b> and during a situation where the photovoltaic generator <b>2</b> does not generate energy, the power supply of the inverter <b>3</b> and its integrated components such as the base station <b>6</b> depends on the local energy supply unit <b>10</b> of the photovoltaic system <b>1</b>.</p><p id="p-0062" num="0061">If the photovoltaic generator <b>2</b> does not provide sufficient energy due to unavailability or a low level of solar irradiance, the module level devices <b>7</b>-<i>i </i>and the integrated receivers may not receive sufficient energy. In such a situation, if the energy supply unit <b>10</b> reaches a minimal state of charge SoC, the energy supply unit <b>10</b> may not be able to provide sufficient energy and is switched by the controller <b>12</b> of the inverter <b>3</b> into a standby operation mode. Further, the energy supply unit switch <b>11</b> is opened to separate the energy supply unit <b>10</b> from the inverter <b>3</b>.</p><p id="p-0063" num="0062">In such a situation, in a conventional photovoltaic system <b>1</b>, although if sufficient energy is again available at the photovoltaic modules <b>8</b> of the photovoltaic generator <b>2</b> to activate the module level devices <b>7</b>, the inverter <b>3</b> with its integrated base stations <b>6</b> cannot transmit powerline communication PLC control signal since the energy supply unit <b>10</b> and the AC power supply grid <b>5</b> are disconnected.</p><p id="p-0064" num="0063">In the photovoltaic system <b>1</b> as illustrated in the embodiment of <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the energy supply unit <b>10</b> can be switched by the controller <b>12</b> between four different operation modes. The energy supply unit <b>10</b> comprises a normal operation mode, a backup operation mode, a deadlock prevention mode and a standby operation mode as also illustrated in the state diagram of <figref idref="DRAWINGS">FIG. <b>3</b></figref>. <figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates different state of charge SoC levels (L1, L2 and L3) for the energy supply unit <b>10</b> of the photovoltaic system <b>1</b> shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. Any number of operating modes may be defined and the present invention is not intended to be limited to any specific set of operating modes.</p><p id="p-0065" num="0064">In the normal operation mode (Mode 0), the energy supply unit <b>10</b> is configured to supply energy to the load network <b>13</b> of the photovoltaic system <b>1</b> and to receive energy from the photovoltaic generator <b>2</b> and/or from the AC power supply grid <b>5</b> to maintain its state of charge SoC above a first SoC level L1.</p><p id="p-0066" num="0065">In a backup operation mode (Mode 1), the energy supply unit <b>10</b> is configured to supply energy to the load network <b>13</b> via the inverter <b>3</b> when the state of charge SoC of the energy supply unit <b>10</b> falls below the first SoC level L1.</p><p id="p-0067" num="0066">In the deadlock prevention mode (Mode 2) of the energy supply unit <b>10</b>, the energy supply unit <b>10</b> is configured to exclusively supply the inverter <b>3</b> with energy when the state of charge SoC of the energy supply unit <b>10</b> falls below a second SoC level L2 and no energy from the AC power supply grid <b>5</b> is available.</p><p id="p-0068" num="0067">In the standby operation mode (Mode 3) of the energy supply unit <b>10</b>, the inverter <b>3</b> is no longer supplied with energy from the energy supply unit <b>10</b> when the state of charge SoC of the energy supply unit <b>10</b> falls below a predefined third minimum SoC level L3 and no energy from the AC power supply grid <b>5</b> is available.</p><p id="p-0069" num="0068">When the AC power supply grid <b>5</b> is disconnected from the inverter <b>3</b>, the energy supply unit <b>10</b> is switched by the controller <b>12</b> from the normal operation mode to the backup operation mode.</p><p id="p-0070" num="0069">When the energy supply unit <b>10</b> is charged either from the photovoltaic generator <b>2</b> or the AC power supply grid <b>5</b> to a level above SoC level L1 (as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>), then the energy supply unit <b>10</b> is switched by the controller <b>12</b> from the backup operation mode to the normal operation mode. In other words, when the AC power supply grid <b>5</b> is again connected back to the inverter <b>3</b>, the energy supply unit <b>10</b> is switched by the controller <b>12</b> from the backup operation mode to the normal operation mode.</p><p id="p-0071" num="0070">When the state of charge SoC of the energy supply unit <b>10</b> falls below the second SoC level L2 and no energy is available from the AC power supply grid <b>5</b>, the controller <b>12</b> switches the energy supply unit <b>10</b> from the backup operation mode into the deadlock prevention mode where the energy supply unit <b>10</b> is configured to exclusively supply the inverter <b>3</b> with electrical energy.</p><p id="p-0072" num="0071">When the energy supply unit <b>10</b> is charged by the photovoltaic generator <b>2</b> to the SoC level L1, then the energy supply unit <b>10</b> is switched by the controller <b>12</b> from the deadlock prevention mode to the backup operation mode. In this case, since the AC power supply grid <b>5</b> is unavailable, the AC power supply grid <b>5</b> cannot be used to charge the energy supply unit <b>10</b>.</p><p id="p-0073" num="0072">In case, when the energy supply unit <b>10</b> further discharges to the SoC level L3, then the energy supply unit <b>10</b> is switched by the controller <b>12</b> from the deadlock prevention mode to the standby operation mode. In this case, both the AC power supply grid <b>5</b> and the photovoltaic generator <b>2</b> are not available to supply energy to the energy supply unit <b>10</b>, and thus the energy supply unit <b>10</b> is discharged to the SoC level L3.</p><p id="p-0074" num="0073">In case, when the AC power supply grid is again available, the grid <b>5</b> will supply energy to the inverter <b>3</b>. The inverter <b>3</b>, in turn, now transmits the permission to operate PTO signal to the module level devices MLDs of the photovoltaic generator. This leads to the reconnection of the photovoltaic generator <b>2</b> with the inverter <b>3</b>. Now, the photovoltaic generator <b>2</b> will also be able to supply energy to the inverter <b>3</b>, thereby charging the energy supply unit <b>10</b>. Once the SoC level of the battery is above the SoC level L1, then the energy supply unit <b>10</b> is switched by the controller <b>12</b> from the standby prevention mode to the normal operation mode.</p><p id="p-0075" num="0074">When the AC power supply grid <b>5</b> is available and the energy supply unit <b>10</b> is discharged to SoC level L3, then the energy supply unit <b>10</b> is switched by the controller <b>12</b> from the normal prevention mode to the standby operation mode.</p><p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates different state of charge SoC levels for the energy supply unit <b>10</b> of the photovoltaic system <b>1</b> shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. At SoC 100%, the energy supply unit <b>10</b> is fully loaded. As long as the SoC of the energy supply unit <b>10</b> is above the first SoC level L1, it operates in a normal operation mode (Mode 0), where the inverter <b>3</b> receives energy from the photovoltaic generator <b>2</b> and/or from the AC power supply grid <b>5</b> and where the energy supply unit <b>10</b> can be used to supply energy to the local load network <b>13</b>. The energy supply unit <b>10</b> receives energy from the photovoltaic generator <b>2</b> and/or from the power supply grid <b>5</b> to maintain its state of charge SoC above the first SoC level L1. A hysteresis can be provided when the power supply grid <b>5</b> is connected.</p><p id="p-0077" num="0076">When the AC power supply grid <b>5</b> is disconnected from the inverter <b>3</b>, the energy supply unit <b>10</b> is operated in a backup operation mode (Mode 1). During the backup operation mode, the energy supply unit <b>10</b> supplies the local load network <b>13</b> with a predefined amount of energy. The energy supply unit <b>10</b> is still allowed to transmit energy to the local load network <b>13</b> during the backup operation mode. The energy supply unit <b>10</b> transmits energy until its state of charge SoC reaches SoC L2.</p><p id="p-0078" num="0077">In the backup operation mode, the energy supply unit <b>10</b> is configured to supply energy to the local load network <b>13</b> and to the inverter <b>3</b> of the photovoltaic system <b>1</b> as long as the state of charge of the energy supply unit <b>10</b> does not reach the second SoC level L2. In the backup operation mode, the inverter <b>3</b> receives energy either from the photovoltaic generator <b>2</b> and/or from the energy supply unit <b>10</b>. The SoC level L1 provides a reserve capacity for a backup mode. The SoC level L2 provides a reserve capacity during the backup mode for a PLC deadlock prevention. The SoC level <b>2</b> represents a capacity of the energy supply unit <b>10</b> required to reserve energy for supplying the inverter <b>3</b> until the photovoltaic generator <b>2</b> regains sufficient energy to start to supply the inverter <b>3</b> again with energy.</p><p id="p-0079" num="0078">In the deadlock prevention mode (Mode 2), the inverter <b>3</b> receives energy only from the energy supply unit <b>10</b>, in particular, when the power supply grid <b>5</b> and the photovoltaic generator <b>2</b> are disconnected from the inverter <b>3</b> by means of the switches <b>4</b>, <b>11</b>.</p><p id="p-0080" num="0079">In the deadlock prevention mode, the inverter <b>3</b> and its integrated components, in particular, the base station <b>6</b>, can draw energy from the energy supply unit <b>10</b> as long as the state of charge SoC of the energy supply unit <b>10</b> is between the first SoC level L1 and the second SoC level L2. The inverter <b>3</b> draws energy from the energy supply unit <b>10</b> until the photovoltaic generator <b>2</b> regains sufficient energy and starts to supply the generated energy to the inverter <b>3</b>. For example, during night, the inverter <b>3</b> does not receive energy from the photovoltaic generator <b>2</b> and if the AC power supply grid <b>5</b> is disconnected, the energy supply unit <b>10</b> operates in the deadlock prevention mode 2. The energy supply unit <b>10</b> is not allowed in this situation to transmit energy to the local load network <b>13</b>.</p><p id="p-0081" num="0080">In the deadlock prevention mode 2, the energy supply unit <b>10</b> supplies the energy between the SoC level L2 and the SoC level L3 to the inverter <b>3</b> if the inverter <b>3</b> does not receive energy from the photovoltaic generator <b>2</b> and the photovoltaic grid <b>5</b> for a predefined time period. The energy supply unit <b>10</b> of the photovoltaic system <b>1</b> is configured to exclusively supply the inverter <b>3</b> with energy in the deadlock prevention mode 2 between SoC level L2 and SoC level L3 if the inverter <b>3</b> does neither receive energy from the photovoltaic generator <b>2</b> nor from the AC power supply grid <b>5</b> for a predefined period of time. The predefined period of time can be stored in a possible implementation in a register of the controller <b>12</b>. In a possible embodiment, the predefined period of time can be adjusted and adapted to a specific use case, e.g. via a user interface or a control interface of the controller <b>12</b>.</p><p id="p-0082" num="0081">In an alternative embodiment, the energy supply unit <b>10</b> of the system <b>1</b> can be configured to exclusively supply the inverter <b>3</b> with energy in the deadlock prevention mode 2 of the energy supply unit <b>10</b> if the inverter <b>3</b> does not receive a predefined amount of energy from the photovoltaic generator <b>2</b> or from the AC power supply grid <b>5</b>. In a possible implementation, a predefined amount of energy can also be specified in a register accessible to the controller <b>12</b> of the photovoltaic system <b>1</b>.</p><p id="p-0083" num="0082">If the state of charge SoC falls further, it may reach a predefined minimum third SoC level L3 which may be specified by the energy supply unit manufacturer. When the SoC of the energy supply unit <b>10</b> falls below the minimum predefined third SoC level L3 and no energy is available from the AC power supply grid <b>5</b>, the controller <b>12</b> switches the energy supply unit <b>10</b> in a standby operation mode (Mode 3). The SoC level L3 is the minimum state of charge SoC as defined by the manufacturer of the energy supply unit.</p><p id="p-0084" num="0083">The SoC levels L1, L2, L3 of the energy supply unit <b>10</b> used for controlling the operation modes of the energy supply unit <b>10</b> can be stored in a possible implementation in configuration registers of the controller <b>12</b>. The first SoC level L1 and the second SoC level L2 can be adjusted in a possible embodiment by means of a user interface of the photovoltaic system <b>1</b>. The SoC level L3 is predefined according to the specification of the energy supply unit manufacturer.</p><p id="p-0085" num="0084">The SoC level L2 is calculated by considering an inverter self-consumption, an energy supply unit self-consumption, a time to prevent the deadlock and a maximum capacity of the energy supply unit <b>10</b>. The inverter self-consumption defines the energy consumption of the inverter <b>3</b> to be functional. The energy supply unit self-consumption defines the energy consumption of the energy supply unit <b>10</b> to be functional. The equation for calculating the SoC level L2 is as given below (Equation 1). The time to prevent the deadlock is based on an estimated unavailable or a low level of solar irradiance. The estimated unavailable or a low level of solar irradiance is based on an actual time and location of the system <b>1</b>.</p><p id="p-0086" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>SoC level L2=SoC level L3+(((Inverter self-consumption+energy supply unit self-consumption)&#xd7;time to prevent deadlock))/energy supply unit maximum capacity)&#xd7;100&#x2003;&#x2003;Equation 1<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0087" num="0085">The second SoC level L2 is adjusted in a preferred embodiment to cover a standby energy consumption of the inverter <b>3</b> including its base station <b>6</b> for a predefined time period to prevent that the state of charge SoC of the energy supply unit <b>10</b> reaches the predefined minimum third SoC level threshold L3. In the standby operation mode 3 of the energy supply unit <b>10</b> where the inverter <b>3</b> is no longer supplied with energy from the energy supply unit <b>10</b>, the inverter <b>3</b> is in a possible embodiment automatically turned off.</p><p id="p-0088" num="0086">When the SoC level of the energy supply unit <b>10</b> reaches the minimum level SoC L3 and no AC power supply grid <b>5</b> is available, the controller <b>12</b> of the inverter <b>3</b> can activate the standby operation mode 3 so that the energy supply unit <b>10</b> opens its internal relays and the inverter <b>3</b> is no longer supplied by the energy supply unit <b>10</b> and will consequently turn off. The energy supply unit switch <b>11</b> is, thus, opened for safety reasons.</p><p id="p-0089" num="0087">In a possible embodiment, a SoC warning signal is triggered automatically by the controller <b>12</b> when the state of charge SoC of the energy supply unit <b>10</b> reaches a predetermined level above each of the predefined SoC levels, L1, L2 or L3. The predetermined level is a SoC level of the energy supply unit <b>10</b>.</p><p id="p-0090" num="0088">In a possible embodiment, the predetermined level is a same percentage of SoC above each SoC levels, L1, L2 and L3. In another possible embodiment, the predetermined level corresponding to each of the SoC levels, L1, L2 and L3 is different. In another possible embodiment, the predetermined level for each SoC levels, L1, L2 and L3 is equal to the corresponding SoC levels, L1, L2 and L3.</p><p id="p-0091" num="0089">In a possible embodiment, the predetermined SoC level for each of the SoC levels L1, L2, L3 of the energy supply unit <b>10</b> used for issuing the warning signal are stored in corresponding configuration registers of the controller.</p><p id="p-0092" num="0090">In an example, a SoC warning signal can be triggered by the controller <b>12</b> when the state of charge SoC of the energy supply unit <b>10</b> reaches the predefined minimum third SoC level L3. A user-defined SoC warning level can be set up to get a notification that a low SoC level L3 has been reached.</p><p id="p-0093" num="0091">When the state of charge SoC of the energy supply unit <b>10</b> reaches the minimum SoC level L3 and the AC power supply grid <b>5</b> is available, the controller <b>12</b> of the inverter <b>3</b> can activate the standby operation mode.</p><p id="p-0094" num="0092">When the state of charge SoC of the energy supply unit <b>10</b> reaches the absolute minimum as defined by the manufacturer, i.e. SoC level L3, and no AC power supply grid <b>5</b> is available, the energy supply unit <b>10</b> is operated in the standby operation mode and will discharge itself until it can be recharged again from the AC power supply grid <b>5</b> (or in a worst case will get deeply discharged). When the SoC level L3 is reached and the AC power supply grid <b>5</b> is available, the energy supply unit <b>10</b> can be recharged from the AC power supply grid with a hysteresis.</p><p id="p-0095" num="0093">The controller <b>12</b> can communicate with a control logic of the energy supply unit <b>10</b> via an energy supply unit interface. The controller <b>12</b> of the inverter <b>3</b> can get information about the current energy supply unit operating state and its state of charge SoC, as well as other energy supply unit parameters from the energy supply unit <b>10</b>. Further, it is also able to set some of the energy supply unit states (e.g. the standby operation mode). The controller <b>12</b> of the inverter <b>3</b> can implement an energy supply unit management which sets the energy supply unit operating states depending on the current state of charge SoC of the energy supply unit <b>10</b>, and depending on an observed state of the power supply grid <b>5</b> and a configuration of the backup mode.</p><p id="p-0096" num="0094"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a further block diagram for illustrating the operation of a photovoltaic system <b>1</b> according to the present invention. As can be seen in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the base station <b>6</b> of the inverter <b>3</b> is connected by means of power cables <b>9</b> with the module level devices <b>7</b> of the photovoltaic generator <b>2</b>. The module level devices <b>7</b> are provided to monitor and/or to control associated photovoltaic modules <b>8</b> as illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The number of module level devices <b>7</b> coupled to the DC power network can vary depending on the use case.</p><p id="p-0097" num="0095">In the illustrated embodiment of <figref idref="DRAWINGS">FIG. <b>2</b></figref>, four module level devices <b>7</b>-<b>1</b> to <b>7</b>-<b>4</b> are coupled to the DC power network or DC loop comprising the base station <b>6</b> of the inverter <b>3</b>. Each module level device <b>7</b> can comprise in a possible embodiment a module level monitoring, MLM, transmitter MLM-TX and a rapid shutdown, RSD, and receiver RSD-RX. The base station <b>6</b> also comprises in a possible embodiment a transmitter and a rapid shutdown receiver.</p><p id="p-0098" num="0096">In a possible embodiment, the base station <b>6</b> is integrated in the inverter <b>3</b>. The transmitter of the base station <b>6</b> can be adapted to transmit rapid shutdown RSD control signals in predefined time slots in a downlink channel DL-CH via the power cables <b>9</b> to the module level devices <b>7</b>. The base station receiver of the base station <b>6</b> can be adapted to receive monitoring signals generated by the module level devices <b>7</b> through the power cables <b>9</b> within time slots via an uplink channel UL-CH assigned to the module level devices <b>7</b>.</p><p id="p-0099" num="0097">Each module level device <b>7</b> can be adapted to monitor physical parameters of the associated photovoltaic modules <b>8</b>. These physical parameters can include an electrical current, a voltage, a temperature and/or an energy produced by the respective photovoltaic module <b>8</b>-<i>i</i>. The parameters can be notified to a control unit and/or to the base station <b>6</b> by means of communication signals. In a possible embodiment, a signal amplitude of a communication signal transmitted by a transceiver via an associated duplexer circuit can be adjusted automatically depending on a monitored impedance of the respective photovoltaic generator <b>2</b>.</p><p id="p-0100" num="0098">The number of photovoltaic modules <b>8</b>-<i>i </i>integrated in the photovoltaic generator <b>2</b> can vary depending on the use case. In the embodiment illustrated in the state diagram of <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the energy supply unit <b>10</b> can be operated in four different operation modes under the control of the controller <b>12</b>. The operation modes can comprise associated SoC ranges of the energy supply unit <b>10</b>.</p><p id="p-0101" num="0099">In the illustrated embodiment of <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the controller <b>12</b> is provided at the inverter <b>3</b>. In a further possible embodiment, a remote controller <b>12</b> can be implemented and connected to the photovoltaic system <b>1</b> via a data network. Further embodiments are possible. For example, the photovoltaic system <b>1</b> may comprise more than one energy supply unit <b>10</b> with associated energy supply unit switching devices <b>11</b>.</p><p id="p-0102" num="0100">The embodiments of the photovoltaic system <b>1</b> according to the present invention as illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref> to <figref idref="DRAWINGS">FIG. <b>4</b></figref> are only exemplary and are not intended to limit the scope of the present invention.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A photovoltaic system comprising:<claim-text>an inverter adapted to convert a DC power supplied by photovoltaic modules of a photovoltaic generator via power cables to said inverter into an AC current for an AC power supply grid,</claim-text><claim-text>wherein the inverter has a base station connected by means of the power cables to the module level devices which are provided to monitor and/or to control associated photovoltaic modules of the photovoltaic generator,</claim-text><claim-text>wherein if the inverter does not receive sufficient energy from the photovoltaic generator and the AC power supply grid, a controller is adapted to activate a deadlock prevention mode of an energy supply unit connected to the inverter where the inverter receives energy from the energy supply unit such that the base station of the inverter is able to continue to transmit permission to operate, PTO, signals via the power cables to the module level devices of the photovoltaic generator,</claim-text><claim-text>wherein the energy supply unit photovoltaic system can be switched by the controller into different operation modes, and</claim-text><claim-text>wherein the energy supply unit is configured to use SoC levels for controlling the different operation modes of the energy supply unit, and the SoC levels are stored in configuration registers of the controller.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The photovoltaic system according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the different operation modes comprise:<claim-text>a normal operation mode where the energy supply unit is configured to supply energy to a load network of the photovoltaic system and to receive energy from the photovoltaic generator or from the AC power supply grid to maintain the state of charge, SoC, of the energy supply unit above a first SoC level, L1,</claim-text><claim-text>a backup operation mode where the energy supply unit is configured to supply energy to the load network of the photovoltaic system via the inverter until a state of charge, SoC, reaches a second SoC level, L2, when the AC power supply grid is disconnected,</claim-text><claim-text>a deadlock prevention mode where the energy supply unit is configured to supply exclusively the inverter of the photovoltaic system with energy when the state of charge, SoC, of the energy supply unit falls below a second SoC level, L2, and no energy from the AC power supply grid is available, and</claim-text><claim-text>a standby operation mode where the inverter of the photovoltaic system is no longer supplied with energy from the energy supply unit of the photovoltaic system when the state of charge, SoC, of the energy supply unit falls below a predefined third SoC level, L3, and no energy from the AC power supply grid is available.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The photovoltaic system according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the energy supply unit WO of the photovoltaic system is configured to exclusively supply the inverter of the photovoltaic system with energy in the deadlock prevention mode of the energy supply unit if the inverter does not receive energy from the photovoltaic generator and the AC power supply grid for a predefined period of time.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The photovoltaic system according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the energy supply unit of the photovoltaic system is configured to exclusively supply the inverter of the photovoltaic system with energy in the deadlock prevention mode of the energy supply unit if the inverter does not receive a predefined amount of energy from the photovoltaic generator and the AC power supply grid.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The photovoltaic system according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein in the standby operation mode of the energy supply unit where the inverter of the photovoltaic system is no longer supplied with energy from the energy supply unit, the inverter is automatically turned off.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The photovoltaic system according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein a SoC warning signal is triggered by the controller when the state of charge, SoC, of the energy supply unit reaches a predetermined level above each of the predefined SoC levels, L1, L2 or L3.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The photovoltaic system according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the controller comprises a first interface to receive information about the current operation mode of the energy supply unit and about operation parameters including the state of charge, SoC, of the energy supply unit and a switching state of an energy supply unit switch which is provided between the energy supply unit and the inverter.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The photovoltaic system according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the controller comprises a second interface to receive information about the current state of the AC power supply grid including the switching state of a grid switch which is provided between the AC output of the inverter and the AC power supply grid.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. (canceled)</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The photovoltaic system according to <claim-ref idref="CLM-00002">claim 2</claim-ref> wherein the first SoC level, L1, and the second SoC level, L2, are adjustable by means of a user interface and wherein the SoC level, L3, is predefined according to a specification of the energy supply unit manufacturer.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The photovoltaic system according to <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein the second SoC level, L2, is adjusted to cover a standby energy consumption of the inverter including its base station and an energy supply unit self-consumption for a predefined time period to prevent the state of charge, SoC, of the energy supply unit to fall below the predefined third SoC level, L3.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. A method for operating a photovoltaic system comprising an inverter which converts a DC power supplied by photovoltaic modules of a photovoltaic generator via power cables to said inverter into an AC current supplied to an AC power supply grid,<claim-text>wherein a base station of the inverter connected by means of the power cables to the module level devices of the photovoltaic generator which monitor and/or control associated photovoltaic modules of the photovoltaic generator,</claim-text><claim-text>wherein if the inverter does not receive sufficient energy from the photovoltaic generator and the AC power supply grid a controller of the photovoltaic system activates a deadlock prevention mode of an energy supply unit connected to the inverter where the inverter receives energy from the energy supply unit WO such that the base station of the inverter is able to continue to transmit permission to operate, PTO, signals via the power cables to the module level devices of the photovoltaic generator,</claim-text><claim-text>wherein the controller switches the energy supply unit of the photovoltaic system into different operation modes, and</claim-text><claim-text>wherein SoC levels which are used by the energy supply unit for controlling the operation modes of the energy supply unit are stored in configuration registers of the controller.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method according to <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the energy supply unit of the photovoltaic system exclusively supplies the inverter of the photovoltaic system with energy in the deadlock prevention mode of the energy supply unit if the inverter does not receive energy from the photovoltaic generator and the AC power supply grid for a predefined period of time.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method according to <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein the energy supply unit of the photovoltaic system exclusively supplies the inverter with energy in the deadlock prevention mode of the energy supply unit if the inverter does not receive a predefined amount of energy from the photovoltaic generator and the AC power supply grid.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method according to <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein a SoC warning signal is triggered automatically if the state of charge, SoC, of the energy supply unit reaches a predetermined level above each of the predefined SoC levels, L1, L2 or L3.</claim-text></claim></claims></us-patent-application>