<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007228A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007228</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17781058</doc-number><date>20201202</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>201911231149.X</doc-number><date>20191205</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>13</main-group><subgroup>302</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>13</main-group><subgroup>383</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>13</main-group><subgroup>398</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20180501</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>13</main-group><subgroup>302</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20180501</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>13</main-group><subgroup>383</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20180501</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>13</main-group><subgroup>398</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">3D DISPLAY DEVICE AND 3D IMAGE DISPLAY METHOD</invention-title><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Beijing Ivisual 3D Technology Co., Ltd.</orgname><address><city>Beijing</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant><us-applicant sequence="01" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>VISIOTECH VENTURES PTE. LTD.</orgname><address><city>Singapore</city><country>SG</country></address></addressbook><residence><country>SG</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>DIAO</last-name><first-name>Honghao</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>HUANG</last-name><first-name>Lingxi</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><pct-or-regional-filing-data><document-id><country>WO</country><doc-number>PCT/CN2020/133332</doc-number><date>20201202</date></document-id><us-371c12-date><date>20220531</date></us-371c12-date></pct-or-regional-filing-data></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">The present disclosure relates to the technical field of 3D display, and discloses a 3D display device, comprising: a multi-viewpoint 3D display screen, which comprises a plurality of composite pixels, wherein each composite pixel of the plurality of composite pixels comprises a plurality of composite subpixels, and each composite subpixel of the plurality of composite subpixels comprises a plurality of subpixels corresponding to a plurality of viewpoints of the 3D display device; a viewing angle determining apparatus, configured to determine a user viewing angle of a user; a 3D processing apparatus, configured to render, based on the user viewing angle, corresponding subpixels of the plurality of composite subpixels according to depth-of-field (DOF) information of a 3D model. The device may solve a problem of 3D display distortion. The present disclosure further discloses a 3D image display method, a computer-readable storage medium, and a computer program product.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="92.12mm" wi="158.75mm" file="US20230007228A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="239.10mm" wi="153.59mm" orientation="landscape" file="US20230007228A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="245.96mm" wi="152.06mm" orientation="landscape" file="US20230007228A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="246.21mm" wi="160.19mm" orientation="landscape" file="US20230007228A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="236.81mm" wi="134.28mm" file="US20230007228A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="234.10mm" wi="104.82mm" file="US20230007228A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="225.13mm" wi="116.08mm" file="US20230007228A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="141.82mm" wi="151.64mm" file="US20230007228A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="233.09mm" wi="138.35mm" file="US20230007228A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="229.02mm" wi="138.35mm" file="US20230007228A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="225.98mm" wi="134.20mm" file="US20230007228A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="115.65mm" wi="133.86mm" file="US20230007228A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><p id="p-0002" num="0001">The present disclosure claims priority to the Chinese Patent Application with an application number of 201911231149X and a title of &#x201c;3D Display Device and 3D Image Display Method&#x201d;, filed to China National Intellectual Property Administration on Dec. 5, 2019, the disclosures of which are hereby incorporated by reference.</p><heading id="h-0001" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">The present disclosure relates to the technical field of 3D display, and for example, relates to a 3D display device and a 3D image display method.</p><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0004" num="0003">3D display technology has become a research hotspot in image technology because it can present lifelike visual experience to users.</p><p id="p-0005" num="0004">In a process of implementing embodiments of the present disclosure, it is found that the related technologies have at least the following problems: users at all positions see a same 3D image, and only users within a certain range will have real feelings, while other users beyond the range will feel display distortion.</p><p id="p-0006" num="0005">The present background is only for the convenience of understanding the related technologies in the field, and is not regarded as an admission of the existing technologies.</p><heading id="h-0003" level="1">SUMMARY</heading><p id="p-0007" num="0006">In order to provide a basic understanding of some aspects of the disclosed embodiments, a brief summary is given below. The summary is not intended to be a general comment, nor to identify key/important components or describe the scope of protection of the embodiments, but to be a preface to the following detailed description.</p><p id="p-0008" num="0007">Embodiments of the present disclosure provide a 3D display device, a 3D image display method, a computer-readable storage medium, and a computer program product, to solve a technical problem of 3D display distortion.</p><p id="p-0009" num="0008">In some embodiments, a 3D display device is provided, comprising: a multi-viewpoint 3D display screen, which comprises a plurality of composite pixels, wherein each composite pixel of the plurality of composite pixels comprises a plurality of composite subpixels, and each composite subpixel of the plurality of composite subpixels comprises a plurality of subpixels corresponding to a plurality of viewpoints of the 3D display device; a viewing angle determining apparatus, configured to determine a user viewing angle of a user; a 3D processing apparatus, configured to render, based on the user viewing angle, corresponding subpixels of the plurality of composite subpixels according to depth-of-field (DOF) information of a 3D model.</p><p id="p-0010" num="0009">In some embodiments, the 3D processing apparatus is configured to generate a 3D image from the DOF information, and render corresponding subpixels according to the 3D image, based on the user viewing angle.</p><p id="p-0011" num="0010">In some embodiments, the 3D display device further comprises: an eye positioning apparatus, configured to determine eye space positions of the user; the 3D processing apparatus is configured to determine viewpoints where eyes of the user are located based on the eye space positions, and render subpixels corresponding to the viewpoints where eyes of the user are located based on the 3D image.</p><p id="p-0012" num="0011">In some embodiments, the eye positioning apparatus comprises: an eye positioner, configured to shoot a user image of the user; an eye positioning image processor, configured to determine eye space positions based on the user image; and an eye positioning data interface, configured to transmit eye space position information indicating the eye space positions.</p><p id="p-0013" num="0012">In some embodiments, the eye positioner comprises: a first camera, configured to shoot first images, and a second camera, configured to shoot second images; the eye positioning image processor is configured to identify presence of eyes based on at least one of the first images and the second images and determine the eye space positions based on the identified eyes.</p><p id="p-0014" num="0013">In some embodiments, the eye positioner comprises: a camera, configured to shoot images, and a depth detector, configured to acquire eye depth information of the user; the eye positioning image processor is configured to identify presence of eyes based on the images and determine the eye space positions based on the identified eye positions and the eye depth information.</p><p id="p-0015" num="0014">In some embodiments, the user viewing angle is an angle between the user and a display plane of the multi-viewpoint 3D display screen.</p><p id="p-0016" num="0015">In some embodiments, the user viewing angle is an angle between a user sightline and the display plane of the multi-viewpoint 3D display screen, wherein the user sightline is a connecting line between a midpoint of a connecting line, between both eyes of the user, and a center of the multi-viewpoint 3D display screen.</p><p id="p-0017" num="0016">In some embodiments, the user viewing angle is: an angle between the user sightline and at least one of transverse, vertical and depth directions of the display plane; or an angle between the user sightline and a projection of the user sightline in the display plane.</p><p id="p-0018" num="0017">In some embodiments, the 3D display device further comprises: a 3D signal interface, configured to receive the 3D model.</p><p id="p-0019" num="0018">In some embodiments, a 3D image display method is provided, comprising: determining a user viewing angle of a user; and rendering corresponding subpixels in composite subpixels of composite pixels in a multi-viewpoint 3D display screen according to DOF information of a 3D model based on the user viewing angle.</p><p id="p-0020" num="0019">In some embodiments, rendering corresponding subpixels in composite subpixels of composite pixels in a multi-viewpoint 3D display screen according to DOF information of a 3D model based on the user viewing angle comprises: generating a 3D image from the DOF information based on the user viewing angle, and rendering the corresponding subpixels according to the 3D image.</p><p id="p-0021" num="0020">In some embodiments, the 3D image display method further comprises: determining eye space positions of the user; determining viewpoints where eyes of the user are located based on the eye space positions; and rendering subpixels corresponding to the viewpoints where eyes of the user are located based on the 3D image.</p><p id="p-0022" num="0021">In some embodiments, determining eye space positions of the user comprises: shooting a user image of the user; determining eye space positions based on the user image; and transmitting eye space position information which indicates the eye space positions.</p><p id="p-0023" num="0022">In some embodiments, shooting a user image of the user and determining eye space positions based on the user image comprises: shooting first images; shooting second images; identifying presence of eyes based on at least one of the first images and the second images; and determining the eye space positions based on the identified eyes.</p><p id="p-0024" num="0023">In some embodiments, shooting a user image of the user and determining eye space positions based on the user image comprises: shooting images; acquiring eye depth information of the user; identifying presence of eyes based on the images; and jointly determining the eye space positions based on the identified eye positions and the eye depth information.</p><p id="p-0025" num="0024">In some embodiments, the user viewing angle is an angle between the user and a display plane of the multi-viewpoint 3D display screen.</p><p id="p-0026" num="0025">In some embodiments, the user viewing angle is an angle between a user sightline and the display plane of the multi-viewpoint 3D display screen, wherein the user sightline is a connecting line between a midpoint of a connecting line, between both eyes of the user, and a center of the multi-viewpoint 3D display screen.</p><p id="p-0027" num="0026">In some embodiments, the user viewing angle is: an angle between the user sightline and at least one of transverse, vertical and depth directions of the display plane; or an angle between the user sightline and a projection of the user sightline in the display plane.</p><p id="p-0028" num="0027">In some embodiments, the 3D image display method further comprises: receiving a 3D model.</p><p id="p-0029" num="0028">In some embodiments, a 3D display device is provided, comprising: a processor, and a memory storing program instructions; the processor is configured to execute the above method when executing the program instructions.</p><p id="p-0030" num="0029">The computer-readable storage medium provided by the embodiments of the present disclosure stores computer-executable instructions; and the computer-executable instructions are configured to execute the 3D image display method.</p><p id="p-0031" num="0030">The computer program product provided by the embodiments of the present disclosure comprises computer programs stored on the computer-readable storage medium; the computer programs comprise program instructions; and when the program instructions are executed by a computer, the computer executes the 3D image display method.</p><p id="p-0032" num="0031">The 3D display device, the 3D image display method, the computer-readable storage medium, and the computer program product provided by the embodiments of the present disclosure may achieve the following technical effects:</p><p id="p-0033" num="0032">Follow-up 3D display effects are provided for users based on viewing angles; users at different angles can see different 3D display pictures, and the display effects are lifelike; and the display effects of different angles can also be adjusted with changes of the viewing angles of the users, so as to present an excellent visual effect to the users.</p><p id="p-0034" num="0033">The above general description and the following description are exemplary and explanatory only, and are not intended to limit the present disclosure.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">DESCRIPTION OF DRAWINGS</heading><p id="p-0035" num="0034">One or more embodiments are illustrated by the corresponding drawings, and the illustrations and drawings do not limit the embodiments. Elements having the same reference numerals in the drawings are shown as similar elements, and the drawings are not intended to limit the scale, wherein:</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIGS. <b>1</b>A to <b>1</b>C</figref> are schematic diagrams of a 3D display device according to embodiments of the present disclosure;</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic diagram of an eye positioning apparatus according to an embodiment of the present disclosure;</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a geometric relationship model for determining eye space positions with two cameras according to an embodiment of the present disclosure;</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of an eye positioning apparatus according to another embodiment of the present disclosure;</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a geometric relationship model for determining eye space positions with a camera and a depth detector according to an embodiment of the present disclosure;</p><p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of a user viewing angle according to an embodiment of the present disclosure;</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a schematic diagram of a user viewing angle according to another embodiment of the present disclosure;</p><p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a schematic diagram of generating 3D images corresponding to different user viewing angles according to an embodiment of the present disclosure;</p><p id="p-0044" num="0043"><figref idref="DRAWINGS">FIGS. <b>9</b>A to <b>9</b>E</figref> are schematic diagrams of a correspondence between viewpoints and subpixels according to embodiments of the present disclosure;</p><p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flow chart of a display method of a 3D display device according to an embodiment of the present disclosure; and</p><p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a schematic diagram of a 3D display device according to an embodiment of the present disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">REFERENCE NUMERALS</heading><p id="p-0047" num="0046"><b>100</b>: 3D display device; <b>110</b>: multi-viewpoint 3D display screen; <b>120</b>: processor; <b>121</b>: register; <b>130</b>: 3D processing apparatus; <b>131</b>: buffer; <b>140</b>: 3D signal interface; <b>150</b>: eye positioning apparatus; <b>151</b>: eye positioner; <b>151</b><i>a</i>: first camera; <b>151</b><i>b</i>: second camera; <b>152</b>: eye positioning image processor; <b>153</b>: eye positioning data interface; <b>154</b>: infrared emitting apparatus; <b>155</b>: camera; <b>156</b>: buffer; <b>157</b>: comparator; <b>158</b>: depth detector; <b>160</b>: viewing angle determining apparatus; <b>300</b>: 3D display device; <b>310</b>: memory; <b>320</b>: processor; <b>330</b>: bus; <b>340</b>: communication interface; <b>400</b>: composite pixel; <b>410</b>: red composite subpixel; <b>420</b>: green composite subpixel; <b>430</b>: blue composite subpixel; <b>500</b>: composite pixel; <b>510</b>: red composite subpixel; <b>520</b>: green composite subpixel; <b>530</b>: blue composite subpixel; F: focal length; Za: optical axis of the first camera; Zb: optical axis of the second camera; <b>401</b><i>a</i>: focal plane of the first camera; <b>401</b><i>b</i>: focal plane of the second camera; Oa: lens center of the first camera; Ob: lens center of the second camera; XRa: X-axis coordinate of imaging of a right eye of the user in the focal plane of the first camera; XRb: X-axis coordinate of imaging of the right eye of the user in the focal plane of the second camera; XLa: X-axis coordinate of imaging of a left eye of the user in the focal plane of the first camera; XLb: X-axis coordinate of imaging of the left eye of the user in the focal plane of the second camera; T: distance between the first camera and the second camera; DR: distance between the right eye and a plane in which the first camera and the second camera are located; DL: distance between the left eye and the plane in which the first camera and the second camera are located; a: tilt angle between a connecting line, between both eyes of the user, and the plane in which the first camera and the second camera are located; P: distance or pupil distance of both eyes of the user; Z: optical axis; FP: focal plane; XR: X-axis coordinate of imaging of the right eye of the user in a focal plane of a camera; XL: X-axis coordinate of imaging of the left eye of the user in the focal plane of the camera; <b>0</b>: lens center; MCP: camera plane; &#x3b2;R: tilt angle of a projection of a connecting line between the left eye and the lens center in an XZ plane relative to an X axis; &#x3b2;L: tilt angle of a projection of a connecting line between the right eye and the lens center in the XZ plane relative to the X axis; a: angle between a projection of the connecting line, between both eyes of the user in the XZ plane and the X axis; and P: pupil distance of both eyes of the user.</p><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0048" num="0047">For more detailed understanding of characteristics and technical contents of embodiments of the present disclosure, the implementation of the embodiments of the present disclosure will be described in detail below with reference to the accompanying drawings, and the accompanying drawings are used for reference only, instead of limiting the embodiments of the present disclosure.</p><p id="p-0049" num="0048">According to embodiments of the present disclosure, a 3D display device is provided, comprising a multi-viewpoint 3D display screen (for example, a multi-viewpoint naked-eye 3D display screen), a viewing angle determining apparatus configured to determine a user viewing angle of a user, and a 3D processing apparatus configured to render corresponding subpixels in composite subpixels of composite pixels contained in the multi-viewpoint 3D display screen based on the user viewing angle and according to DOF information of a 3D model or 3D video.</p><p id="p-0050" num="0049">In some embodiments, the 3D processing apparatus generates a 3D image based on the user viewing angle and according to the DOF information of the 3D model or 3D video, for example, generating a 3D image corresponding to the user viewing angle. A correspondence between the user viewing angle and the generated 3D image is similar to that, when the user sees a real scene from different angles, the user will see scene representations corresponding to the angles. For different user viewing angles, 3D images generated by DOF information of 3D models or 3D videos may be different. Therefore, the 3D images following up the user viewing angles are generated; and 3D images seen by users at different viewing angles are different, so that the users can feel like viewing real objects with the help of the multi-viewpoint 3D display screen, and display effect and user experience can be improved.</p><p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. <b>1</b>A</figref> shows a schematic diagram of a 3D display device <b>100</b> according to an embodiment of the present disclosure. As shown in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>, the 3D display device <b>100</b> comprises a multi-viewpoint 3D display screen <b>110</b>, a 3D processing apparatus <b>130</b>, an eye positioning apparatus <b>150</b>, a viewing angle determining apparatus <b>160</b>, a 3D signal interface <b>140</b> and a processor <b>120</b>.</p><p id="p-0052" num="0051">In some embodiments, the multi-viewpoint 3D display screen <b>110</b> may comprise a display panel and a grating (not shown) covering the display panel. The display panel may comprise m columns and n rows (m&#xd7;n) of composite pixels <b>400</b> and thus define a display resolution of m&#xd7;n. The display resolution of m&#xd7;n, for example, may be a resolution above full high definition (FHD), including but not limited to: 1920&#xd7;1080, 1920&#xd7;1200, 2048&#xd7;1280, 2560&#xd7;1440, 3840&#xd7;2160 and the like. Each composite pixel comprises a plurality of composite subpixels; and each composite subpixel comprise homochromatic subpixels corresponding to i viewpoints, wherein i&#x2265;3.</p><p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. <b>1</b>A</figref> schematically shows a composite pixel <b>400</b> of the m&#xd7;n composite pixels, comprising red composite subpixels <b>410</b> composed of i=6 red subpixels R, green composite subpixels <b>420</b> composed of i=6 green subpixels G, and blue composite subpixels <b>430</b> composed of i=6 blue subpixels B. The 3D display device <b>100</b> correspondingly has i=6 viewpoints (V<b>1</b>-V<b>6</b>). In other embodiments, conceivably, i may be other values greater or less than 6, such as <b>10</b>, <b>30</b>, <b>50</b>, and <b>100</b>.</p><p id="p-0054" num="0053">In some embodiments, each composite pixel is square. A plurality of composite subpixels in each composite pixel may be arranged in parallel with each other. i subpixels in each composite subpixel may be arranged in rows.</p><p id="p-0055" num="0054">In some embodiments, the 3D processing apparatus is an FPGA or ASIC chip or an FPGA or ASIC chipset. In some embodiments, the 3D display device <b>100</b> may also be provided with more than one 3D processing apparatus <b>130</b>, which processes the rendering of subpixels of each composite subpixel of each composite pixel of the 3D display screen <b>110</b> in parallel, series or a combination of series and parallel. Those skilled in the art will understand that more than one 3D processing apparatus may be allocated in other ways and process multiple rows and columns of composite pixels or composite subpixels of the 3D display screen <b>110</b> in parallel, which falls within the scope of embodiments of the present disclosure. In an embodiment as shown <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>, the 3D processing apparatus <b>130</b> may optionally comprise a buffer <b>131</b>, to buffer the received images of 3D videos.</p><p id="p-0056" num="0055">In some embodiments, the processor is contained in a computer, or an intelligent terminal such as a mobile terminal. Optionally, the processor may serve as a processor unit of the computer or intelligent terminal. However, conceivably, in some embodiments, the processor <b>120</b> may be arranged outside the 3D display device <b>100</b>; for example, the 3D display device <b>100</b> may be a multi-viewpoint 3D display device with a 3D processing apparatus, such as a non-smart 3D TV.</p><p id="p-0057" num="0056">In some embodiments, the 3D display device internally comprises a processor. Based on this, the 3D signal interface <b>140</b> is an internal interface connecting the processor <b>120</b> with the 3D processing apparatus <b>130</b>. Such a 3D display device <b>100</b>, for example, may be a mobile terminal; and the 3D signal interface <b>140</b> may be a mobile industry processor interface (MIPI), a mini-MIPI, a low voltage differential signaling (LVDS) interface, a min-LVDS interface or a Display Port interface.</p><p id="p-0058" num="0057">As shown in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>, the processor <b>120</b> of the 3D display device <b>100</b> may further comprise a register <b>121</b>. The register <b>121</b> may be configured to temporarily store instructions, data and addresses. In some embodiments, the register <b>121</b> may be configured to receive information about display requirements of the multi-viewpoint 3D display screen <b>110</b>. In some embodiments, the 3D display device <b>100</b> may further comprise a codec, configured to decompress and encode compressed 3D video signals and transmit the decompressed 3D video signals to the 3D processing apparatus <b>130</b> through the 3D signal interface <b>140</b>.</p><p id="p-0059" num="0058">In some embodiments, the 3D display device <b>100</b> may comprise an eye positioning apparatus configured to acquire/determine eye positioning data. For example, in an embodiment shown in <figref idref="DRAWINGS">FIG. <b>1</b>B</figref>, the 3D display device <b>100</b> comprises an eye positioning apparatus <b>150</b> communicatively connected to the 3D processing apparatus <b>130</b>, so that the 3D processing apparatus <b>130</b> may directly receive eye positioning data. In some embodiments, the eye positioning apparatus <b>150</b> may be simultaneously connected with the processor <b>120</b> and the 3D processing apparatus <b>130</b>, so that on the one hand, the 3D processing apparatus <b>130</b> may directly acquire eye positioning data from the eye positioning apparatus <b>150</b>, and on the other hand, other information acquired by the eye positioning apparatus <b>150</b> from the processor <b>120</b> may be processed by the 3D processing apparatus <b>130</b>.</p><p id="p-0060" num="0059">In some embodiments, the eye positioning data comprise the eye space position information indicating the user eye space positions; and the eye space position information may be expressed in the form of 3D coordinates, for example, comprising distance information between the eyes/face of the user and the multi-viewpoint 3D display screen or eye positioning apparatus (i.e., the depth information of the eyes/face of the user), position information of the viewed eyes/face in a horizontal direction of the multi-viewpoint 3D display screen or eye positioning apparatus, and position information of the eyes/face of the user in a vertical direction of the multi-viewpoint 3D display screen or eye positioning apparatus. The eye space positions may also be expressed in the form of 2D coordinates including any two information of distance information, horizontal position information and vertical position information. The eye positioning data may also comprise the viewpoints (viewpoint position) where the eyes of the user (e.g., both eyes) are located, the user viewing angle and the like.</p><p id="p-0061" num="0060">In some embodiments, the eye positioning apparatus comprises an eye positioner configured to shoot a user image (e.g., a face image of the user), an eye positioning image processor configured to determine the eye space positions based on the shot user image, and an eye positioning data interface configured to transmit the eye space position information, which indicates the eye space positions.</p><p id="p-0062" num="0061">In some embodiments, the eye positioner comprises a first camera configured to shoot first images, and a second camera configured to shoot second images; the eye positioning image processor is configured to identify presence of eyes based on at least one of the first images and the second images and determine the eye space positions based on the identified eyes.</p><p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows an example in which the eye positioner in the eye positioner is provided with two cameras. As shown in the figure, the eye positioning apparatus <b>150</b> comprises an eye positioner <b>151</b>, an eye positioning image processor <b>152</b> and an eye positioning data interface <b>153</b>. The eye positioner <b>151</b> comprises a first camera <b>151</b><i>a </i>such as a black-and-white camera, and a second camera <b>151</b><i>b </i>such as a black-and-white camera. The first camera <b>151</b><i>a </i>is configured to shoot first images such as black-and-white images; and the second camera <b>151</b><i>b </i>is configured to shoot second images such as black-and-white images. The eye positioning apparatus <b>150</b> may be arranged in the front of the 3D display device <b>100</b>, for example, being arranged in the multi-viewpoint 3D display screen <b>110</b>. Shot objects of the first camera <b>151</b><i>a </i>and the second camera <b>151</b><i>b </i>may be the face of the user. In some embodiments, at least one of the first camera and the second camera may be a color camera, being configured to shoot color images.</p><p id="p-0064" num="0063">In some embodiments, the eye positioning data interface <b>153</b> of the eye positioning apparatus <b>150</b> is communicatively connected to the 3D processing apparatus <b>130</b> of the 3D display device <b>100</b>, so that the 3D processing apparatus <b>130</b> may directly receive eye positioning data. In other embodiments, the eye positioning image processor <b>152</b> of the eye positioning apparatus <b>150</b> may be communicatively connected to or integrated to the processor <b>120</b>, so that the eye positioning data may be transmitted from the processor <b>120</b> to the 3D processing apparatus <b>130</b> through the eye positioning data interface <b>153</b>.</p><p id="p-0065" num="0064">Optionally, the eye positioner <b>151</b> is further provided with an infrared emitting apparatus <b>154</b>. When the first camera or the second camera works, the infrared emitting apparatus <b>154</b> is configured to selectively emit infrared light, to play a role of supplementing light when the ambient light is insufficient, for example, when shooting at night, so that the first images and the second images available for identifying the face and eyes of the user may also be shot even under the condition of weak ambient light.</p><p id="p-0066" num="0065">In some embodiments, the display device may be configured to, when the first camera or the second camera works, based on a received light sensing signal, for example, control the turn-on or adjust the size of the infrared emitting apparatus when the light sensing signal is detected to be lower than a given threshold. In some embodiments, the light sensing signal is received by an ambient light sensor, integrated in the processing terminal or the display device. The operation for the infrared emitting apparatus may also be completed by an eye positioning apparatus or a processing terminal integrated with the eye positioning apparatus.</p><p id="p-0067" num="0066">Optionally, the infrared emitting apparatus <b>154</b> is configured to emit infrared light with a wavelength greater than or equal to 1.5 microns, i.e., long-wave infrared light. Compared with short-wave infrared light, the ability of the long-wave infrared light to penetrate the skin is weak, so the long-wave infrared light is less harmful to the eyes.</p><p id="p-0068" num="0067">The shot first images and second images are transmitted to the eye positioning image processor <b>152</b>. The eye positioning image processor <b>152</b> may be configured to have a visual identification function (e.g., a face identification function), and may be configured to identify the eyes based on at least one of the first images and the second images and to determine eye space positions based on the identified eyes. The identification for eyes may be completed by firstly identifying the face based on at least one of the first images and the second images, and then identifying the eyes based on the identified face.</p><p id="p-0069" num="0068">In some embodiments, the eye positioning image processor <b>152</b> may determine the viewpoints, where the eyes of the user are located based on the eye space positions. In other embodiments, the 3D processing apparatus <b>130</b> determines the viewpoints, where the eyes of the user are located based on the acquired eye space positions.</p><p id="p-0070" num="0069">In some embodiments, the first camera and the second camera may be the same camera, such as the same black-and-white camera or the same color camera. In other embodiments, the first camera and the second camera may be different cameras, such as different black-and-white cameras or different color cameras. When the first camera and the second camera are different cameras, in order to determine the eye space positions, the first images and the second images may be calibrated or corrected.</p><p id="p-0071" num="0070">In some embodiments, at least one of the first camera and the second camera is a wide-angle camera.</p><p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. <b>3</b></figref> schematically shows a geometric relationship model for determining eye space positions with two cameras. In an embodiment shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the first camera and the second camera are the same camera, thereby having the same focal length f. An optical axis Za of the first camera <b>151</b><i>a </i>is parallel to an optical axis Zb of the second camera <b>151</b><i>b</i>, while a focal plane <b>401</b><i>a </i>of the first camera <b>151</b><i>a </i>and a focal plane <b>401</b><i>b </i>of the second camera <b>151</b><i>b </i>are in the same plane and perpendicular to the optical axes of the two cameras. Based on the above arrangements, a connecting line between lens centers Oa and Ob of the two cameras is parallel to the focal planes of the two cameras. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, a geometric relationship model of an XZ plane is shown by taking a direction of the connecting line of the lens centers Oa to Ob of the two cameras as an X-axis direction and taking a direction of the optical axes of the two cameras as a Z-axis direction. In some embodiments, the X-axis direction is also the horizontal direction; the Y-axis direction is also the vertical direction; and the Z-axis direction is a direction perpendicular to the XY plane (also called depth direction).</p><p id="p-0073" num="0072">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the lens center Oa of the first camera <b>151</b><i>a </i>is taken as an origin, and the lens center Ob of the second camera <b>151</b><i>b </i>is taken as an origin. R and L respectively represent a right eye and a left eye of the user; XRa and XRb respectively represent X-axis coordinates of imaging of the right eye R of the user in the focal planes <b>401</b><i>a </i>and <b>401</b><i>b </i>of the two cameras; and XLa and XLb respectively represent X-axis coordinates of imaging of the left eye L of the user in the focal planes <b>401</b><i>a </i>and <b>401</b><i>b </i>of the two cameras. In addition, a distance T between the two cameras and the focal lengths f of the two cameras are also known. According to a geometric relationship of similar triangles, distances DR and DL between the right eye R and the left eye L and the planes, in which the two cameras set as above are, may be respectively solved as follows:</p><p id="p-0074" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"> <mrow>  <mi>DR</mi>  <mo>=</mo>  <mfrac>   <mrow>    <mi>T</mi>    <mo>&#xb7;</mo>    <mi>f</mi>   </mrow>   <mrow>    <mi>XRb</mi>    <mo>-</mo>    <mi>XRa</mi>   </mrow>  </mfrac> </mrow></math></maths><maths id="MATH-US-00001-2" num="00001.2"><math overflow="scroll"> <mrow>  <mi>DL</mi>  <mo>=</mo>  <mfrac>   <mrow>    <mi>T</mi>    <mo>&#xb7;</mo>    <mi>f</mi>   </mrow>   <mrow>    <mi>XLb</mi>    <mo>-</mo>    <mi>XLa</mi>   </mrow>  </mfrac> </mrow></math></maths></p><p id="p-0075" num="0073">In addition, a tilt angle a formed by a connecting line between both eyes of the user and the planes, in which the two cameras set as above are, and a distance or a pupil distance P between both eyes of the user may be respectively solved as follows:</p><p id="p-0076" num="0000"><maths id="MATH-US-00002" num="00002"><math overflow="scroll"> <mrow>  <mi>&#x3b1;</mi>  <mo>=</mo>  <mrow>   <mi>arctan</mi>   <mo>(</mo>   <mfrac>    <mrow>     <mi>DL</mi>     <mo>-</mo>     <mi>DR</mi>    </mrow>    <mrow>     <mfrac>      <mrow>       <mrow>        <mi>XLb</mi>        <mo>&#xb7;</mo>        <mi>DL</mi>       </mrow>       <mo>-</mo>       <mrow>        <mi>XRa</mi>        <mo>&#xb7;</mo>        <mi>DR</mi>       </mrow>      </mrow>      <mi>f</mi>     </mfrac>     <mo>+</mo>     <mi>T</mi>    </mrow>   </mfrac>   <mo>)</mo>  </mrow> </mrow></math></maths><maths id="MATH-US-00002-2" num="00002.2"><math overflow="scroll"> <mrow>  <mi>P</mi>  <mo>=</mo>  <mfrac>   <mrow>    <mi>DL</mi>    <mo>-</mo>    <mi>DR</mi>   </mrow>   <mrow>    <mi>sin</mi>    <mo>&#x2062;</mo>    <mi>&#x3b1;</mi>   </mrow>  </mfrac> </mrow></math></maths></p><p id="p-0077" num="0074">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the connecting line between both eyes of the user (or the face of the user) and the planes, in which the two cameras set as above are, are tilted to each other; and the tilt angle is a. When the face of the user is parallel to the planes, in which the two cameras set as above are, (i.e., when the user looks at the two cameras head-on,) the tilt angle a is zero.</p><p id="p-0078" num="0075">In some embodiments, the 3D display device <b>100</b> may be a computer or an intelligent terminal, such as a mobile terminal. However, conceivably, in some embodiments, the 3D image display device <b>100</b> may also be a non-smart display terminal, such as a non-smart 3D TV. In some embodiments, the eye positioning apparatus <b>150</b> comprising two cameras <b>151</b><i>a </i>and <b>151</b><i>b </i>is placed in the front of the multi-viewpoint 3D display screen, or is basically located in the same plane as a display plane of the multi-viewpoint 3D display screen. Therefore, in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the distances DR and DL between the right eye R and left eye L of the user and the planes, in which the two cameras set as above are, are distances between the right eye R and left eye L of the user and the multi-viewpoint 3D display screen (or depths of the right eye and left eye of the user); and the tilt angle a formed between the face of the user and the planes, in which the two cameras set as above are, is a tilt angle of the face of the user relative to the multi-viewpoint 3D display screen.</p><p id="p-0079" num="0076">In some embodiments, the eye positioning data interface <b>153</b> is configured to transmit the tilt angle or parallelism of both eyes of the user relative to the eye positioning apparatus <b>150</b> or the multi-viewpoint 3D display screen <b>110</b>. This may make for more accurately presenting the 3D images.</p><p id="p-0080" num="0077">In some embodiments, the eye space position information DR, DL, a and P obtained as an example above is transmitted to the 3D processing apparatus <b>130</b> through the eye positioning data interface <b>153</b>. The 3D processing apparatus <b>130</b> determines the viewpoints, where the eyes of the user are located based on the received eye space position information. In some embodiments, the 3D processing apparatus <b>130</b> may pre-store a correspondence table between the eye space positions and the viewpoints of the 3D display device. After the eye space position information is acquired, the viewpoints, where the eyes of the user are located, may be determined based on the correspondence table. Optionally, the correspondence table may also be received/read by the 3D processing apparatus from other components with storage functions (e.g., processors).</p><p id="p-0081" num="0078">In some embodiments, the eye space position information DR, DL, a and P obtained as an example above may also be directly transmitted to the processor of the 3D display device <b>100</b>; and the 3D processing apparatus <b>130</b> receives/reads the eye space position information from the processor through the eye positioning data interface <b>153</b>.</p><p id="p-0082" num="0079">In some embodiments, the first camera <b>151</b><i>a </i>is configured to shoot a first image sequence, which comprises a plurality of first images arranged in time sequence; and the second camera <b>151</b><i>b </i>is configured to shoot a second image sequence, which comprises a plurality of second images arranged in time sequence. The eye positioning image processor <b>152</b> may comprise a synchronizer <b>155</b>. The synchronizer <b>155</b> is configured to determine time-synchronized first images and second images in the first image sequence and the second image sequence. The first images and second images, determined to be time-synchronized, are used for identification of the eyes and determination of the eye space positions.</p><p id="p-0083" num="0080">In some embodiments, the eye positioning image processor <b>152</b> comprises a buffer <b>156</b> and a comparator <b>157</b>. The buffer <b>156</b> is configured to buffer the first image sequence and the second image sequence. The comparator <b>157</b> is configured to compare a plurality of first images and second images in the first image sequence and the second image sequence. By comparison, whether the eye space positions are changed may be judged, and whether the eyes are still in a viewing range may also be judged. Judging whether the eyes are still in the viewing range may also be performed by the 3D processing apparatus.</p><p id="p-0084" num="0081">In some embodiments, the eye positioning image processor <b>152</b> is configured to, when the presence of eyes is not identified in a current first image and second image in the first image sequence and the second image sequence and the presence of eyes is identified in a previous or subsequent first image and second image, take eye space position information determined based on the previous or subsequent first and second image as current eye space position information. This case may happen, for example, when the user turns his head briefly. In this case, the face and eyes of the user may not be identified for a short time.</p><p id="p-0085" num="0082">In some embodiments, the eye space position information determined based on the above previous and subsequent first images and second images available for identifying the face and the eyes may be averaged, data-fitted, interpolated or processed by other methods; and the obtained results may be taken as the current eye space position information.</p><p id="p-0086" num="0083">In some embodiments, the first camera and the second camera are configured to shoot the first image sequence and the second sequence at a frequency of 24 fps or more, for example, shooting at a frequency of 30 fps or shooting at a frequency of 60 fps.</p><p id="p-0087" num="0084">In some embodiments, the first camera and the second camera are configured to shoot at the same frequency as a refresh frequency of the multi-viewpoint 3D display screen of the 3D display device.</p><p id="p-0088" num="0085">In some embodiments, the eye positioner comprises: at least one camera configured to shoot at least one image and a depth detector configured to acquire eye depth information of the user; the eye positioning image processor is configured to identify presence of eyes based on the shoot at least one image and determine the eye space positions based on the identified eyes and the eye depth information.</p><p id="p-0089" num="0086"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows an example in which the eye positioner in the eye positioner is provided with a single camera and a depth detector. As shown in the figure, the eye positioning apparatus <b>150</b> comprises an eye positioner <b>151</b>, an eye positioning image processor <b>152</b> and an eye positioning data interface <b>153</b>. The eye positioner <b>151</b> comprises a camera <b>155</b> such as a black-and-white camera, and a depth detector <b>158</b>. The camera <b>155</b> is configured to shoot at least one image, such as a black-and-white image; and the depth detector <b>158</b> is configured to acquire the eye depth information of the user. The eye positioning apparatus <b>150</b> may be arranged in the front of the 3D display device <b>100</b>, for example, being arranged in the multi-viewpoint 3D display screen <b>110</b>. The shot object of the camera <b>155</b> is a face of the user; and the face or eyes are identified based on the shot image. The depth detector acquires eye depth information, may also acquire face depth information, and acquire the eye depth information based on the face depth information. In some embodiments, the camera <b>155</b> may be a color camera, and is configured to shoot color images. In some embodiments, two or more cameras <b>155</b> may also be adopted to cooperate with the depth detector <b>158</b> to determine the eye space positions.</p><p id="p-0090" num="0087">In some embodiments, the eye positioning data interface <b>153</b> of the eye positioning apparatus <b>150</b> is communicatively connected to the 3D processing apparatus <b>130</b> of the 3D display device <b>100</b>, so that the 3D processing apparatus <b>130</b> may directly receive eye positioning data. In other embodiments, the eye positioning image processor <b>152</b> may be communicatively connected to or integrated to the processor <b>120</b> of the 3D display device <b>100</b>, so that the eye positioning data may be transmitted from the processor <b>120</b> to the 3D processing apparatus <b>130</b> through the eye positioning data interface <b>153</b>.</p><p id="p-0091" num="0088">Optionally, the eye positioner <b>151</b> is further provided with an infrared emitting apparatus <b>154</b>. When the camera <b>155</b> works, the infrared emitting apparatus <b>154</b> is configured to selectively emit infrared light, to play a role of supplementing light when the ambient light is insufficient, for example, when shooting at night, so that the images available for identifying the face and eyes of the user may also be shot even under the condition of weak ambient light.</p><p id="p-0092" num="0089">In some embodiments, the display device may be configured to, when the camera works, based on a received light sensing signal, for example, control the turn-on or adjust the size of the infrared emitting apparatus when the light sensing signal is detected to be lower than a given threshold. In some embodiments, the light sensing signal is received by an ambient light sensor, integrated in the processing terminal or the display device. The operation for the infrared emitting apparatus may also be completed by an eye positioning apparatus or a processing terminal integrated with the eye positioning apparatus.</p><p id="p-0093" num="0090">Optionally, the infrared emitting apparatus <b>154</b> is configured to emit infrared light with a wavelength greater than or equal to 1.5 microns, i.e., long-wave infrared light. Compared with short-wave infrared light, the ability of the long-wave infrared light to penetrate the skin is weak, so the long-wave infrared light is less harmful to the eyes.</p><p id="p-0094" num="0091">The shot images are transmitted to the eye positioning image processor <b>152</b>. The eye positioning image processor may be configured to have a visual identification function (e.g., a face identification function), and may be configured to identify the face based on the shot image and determine eye space positions based on the identified eye positions and the eye depth information of the user, and to determine the viewpoints, where the eyes of the user are located based on the eye space positions. In other embodiments, the 3D processing apparatus determines the viewpoints, where the eyes of the user are located based on the acquired eye space positions. In some embodiments, the camera is a wide-angle camera. In some embodiments, the depth detector <b>158</b> is configured as a structured light camera or a time-of-flight (TOF) camera.</p><p id="p-0095" num="0092"><figref idref="DRAWINGS">FIG. <b>5</b></figref> schematically shows a geometric relationship model for determining eye space positions with a camera and a depth detector. In an embodiment shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the camera has a focal length f, an optical axis Z and a focal plane FP; R and L represent the right eye and left eye of the user, respectively; and XR and XL represent X-axis coordinates of imaging of the right eye R and left eye L of the user in the focal plane FP of the camera <b>155</b>.</p><p id="p-0096" num="0093">By way of explanation but not limitation, X-axis (horizontal direction) coordinates and Y-axis (vertical direction) coordinates of imaging of the left eye and the right eye in the focal plane FP of the camera <b>155</b> may be known from images, shot with the camera <b>155</b>, containing images of the left eye and right eye of the user. As shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, taking a lens center O of the camera <b>155</b> as an origin, an X axis and a Y axis (not shown) perpendicular to the X axis form a camera plane MCP, which is parallel to the focal plane FP. An optical axis direction Z of the camera <b>155</b> is also the depth direction. In other words, in the XZ plane shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the X-axis coordinates XR and XL of imaging of the left eye and the right eye in the focal plane FP are known. In addition, the focal length f of the camera <b>155</b> is known. In this case, the tilt angles PR and PL of projections of the connecting lines between each of the left eye and the right eye and the lens center O of the camera in the XZ plane relative to the X axis can be calculated. Similarly, in a YZ plane (not shown), Y-axis coordinates of imaging of the left eye and the right eye in the focal plane FP are known; and in combination with the known focal length f, the tilt angle of the projections of the connecting lines between the left eye and the right eye and the lens center O of the camera in the YZ plane relative to the Y axis of the camera plane MCP can be calculated.</p><p id="p-0097" num="0094">By way of explanation but not limitation, space coordinates (X,Y,Z) of the left eye and the right eye in a coordinate system of the camera <b>155</b> can be known from the images, shot with the camera <b>155</b>, containing the left eye and the right eye of the user and the depth information of the left eye and the right eye acquired by the depth detector <b>158</b>, wherein the Z-axis coordinate is the depth information. Accordingly, as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the angle a formed by the projection of the connecting line between the left eye and the right eye in the XZ plane and the X axis can be calculated. Similarly, in the YZ plane (not shown), an angle formed by the projection of the connecting line between the left eye and the right eye in the YZ plane and the Y axis can be calculated.</p><p id="p-0098" num="0095">As shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, when the focal length f of the camera <b>155</b> and the X-axis coordinates XR and XL of both eyes in the focal plane FP are known, the tilt angles PR and [31_, of the projection of the connecting line between the right eye R and the left eye L of the user and the lens center O in the XZ plane relative to the X axis can be respectively calculated as follows:</p><p id="p-0099" num="0000"><maths id="MATH-US-00003" num="00003"><math overflow="scroll"> <mrow>  <msub>   <mi>&#x3b2;</mi>   <mi>R</mi>  </msub>  <mo>=</mo>  <mrow>   <mi>arc</mi>   <mo>&#x2062;</mo>   <mrow>    <mi>cot</mi>    <mo>(</mo>    <mfrac>     <mi>XR</mi>     <mi>f</mi>    </mfrac>    <mo>)</mo>   </mrow>  </mrow> </mrow></math></maths><maths id="MATH-US-00003-2" num="00003.2"><math overflow="scroll"> <mrow>  <msub>   <mi>&#x3b2;</mi>   <mi>L</mi>  </msub>  <mo>=</mo>  <mrow>   <mi>arc</mi>   <mo>&#x2062;</mo>   <mrow>    <mi>cot</mi>    <mo>(</mo>    <mfrac>     <mi>XL</mi>     <mi>f</mi>    </mfrac>    <mo>)</mo>   </mrow>  </mrow> </mrow></math></maths></p><p id="p-0100" num="0096">On this basis, the distances DR and DL of the right eye R and the left eye L of the user relative to the camera plane MCP/the display plane of the multi-viewpoint 3D display screen can be known from the depth information of the right eye R and the left eye L acquired by the depth detector <b>158</b>. Accordingly, the angle a formed by the projection of the connecting line between both eyes of the user in the XZ plane and the X axis, and the pupil distance P may be respectively calculated as follows:</p><p id="p-0101" num="0000"><maths id="MATH-US-00004" num="00004"><math overflow="scroll"> <mrow>  <mi>&#x3b1;</mi>  <mo>=</mo>  <mrow>   <mi>arctan</mi>   <mo>(</mo>   <mfrac>    <mrow>     <mi>f</mi>     <mo>&#xb7;</mo>     <mrow>      <mo>(</mo>      <mrow>       <mi>DL</mi>       <mo>-</mo>       <mi>DR</mi>      </mrow>      <mo>)</mo>     </mrow>    </mrow>    <mrow>     <mrow>      <mi>DL</mi>      <mo>&#xb7;</mo>      <mi>XL</mi>     </mrow>     <mo>-</mo>     <mrow>      <mi>DR</mi>      <mo>&#xb7;</mo>      <mi>XR</mi>     </mrow>    </mrow>   </mfrac>   <mo>)</mo>  </mrow> </mrow></math></maths><maths id="MATH-US-00004-2" num="00004.2"><math overflow="scroll"> <mrow>  <mi>P</mi>  <mo>=</mo>  <mfrac>   <mrow>    <mi>DL</mi>    <mo>-</mo>    <mi>DR</mi>   </mrow>   <mrow>    <mi>sin</mi>    <mo>&#x2062;</mo>    <mi>&#x3b1;</mi>   </mrow>  </mfrac> </mrow></math></maths></p><p id="p-0102" num="0097">The above calculation methods and mathematical expressions are only schematic; and persons skilled in the field may come up with other calculation methods and mathematical expressions, to obtain the required eye space positions. The persons skilled in the field may also think of transforming the coordinate system of the camera with the coordinate system of the display device or the multi-viewpoint 3D display screen if necessary.</p><p id="p-0103" num="0098">In some embodiments, when the distances DR and DL are unequal and the angle a is not zero, it can be considered that the user faces the display plane of the multi-viewpoint 3D display screen at a certain tilt angle. When the distances DR and DL are equal and the viewing angle a is zero, it can be considered that the user looks at the display plane of the multi-viewpoint 3D display screen head-on. In other embodiments, a threshold may be set for the angle a and if the angle a does not exceed the threshold, it can be considered that the user looks at the display plane of the multi-viewpoint 3D display screen head-on.</p><p id="p-0104" num="0099">In some embodiments, a user viewing angle can be obtained based on the identified eyes or the determined eye space positions; and a 3D image corresponding to the user viewing angle is generated from a 3D model or a 3D video including DOF information based on the user viewing angle, so that the 3D effect displayed according to the 3D image is follow-up for the user, thus the user can get the feeling of viewing a real object or scene at a corresponding angle.</p><p id="p-0105" num="0100">In some embodiments, the user viewing angle is an angle of the user relative to the camera.</p><p id="p-0106" num="0101">In some embodiments, the user viewing angle may be an angle of the connecting line between the eye (a single eye) of the user and the lens center O of the camera relative to the coordinate system of the camera. In some embodiments, the angle, for example, is an angle OX between the connecting line and the X axis (transverse direction) in the coordinate system of the camera, or an angle OY between the connecting line and the Y axis (vertical direction) in the coordinate system of the camera, or is expressed as &#x3b8;(X, Y). In some embodiments, the angle, for example, is an angle between a projection of the connecting line in the XY plane of the coordinate system of the camera and the connecting line. In some embodiments, the angle, for example, is an angle OX between the projection of the connecting line in the XY plane of the coordinate system of the camera and the X axis, or an angle OY between the projection of the connecting line in the XY plane of the coordinate system of the camera and the Y axis, or is expressed as &#x3b8;(X,Y).</p><p id="p-0107" num="0102">In some embodiments, the user viewing angle may be an angle of a midpoint of the connecting line between both eyes of the user and the lens center O of the camera (i.e., a user sightline) relative to the coordinate system of the camera. In some embodiments, the angle, for example, is an angle OX between the user sightline and the X axis (transverse direction) in the coordinate system of the camera, or an angle OY between the user sightline and the Y axis (vertical direction) in the coordinate system of the camera, or is expressed as &#x3b8;(X,Y). In some embodiments, the angle, for example, is an angle between a projection of the user sightline in the XY plane of the coordinate system of the camera and the connecting line. In some embodiments, the angle, for example, is an angle OX between the projection of the user sightline in the XY plane of the coordinate system of the camera and the X axis (transverse direction), or an angle OY between the projection of the user sightline in the XY plane of the coordinate system of the camera and the Y axis (vertical direction), or is expressed as &#x3b8;(X,Y).</p><p id="p-0108" num="0103">In some embodiments, the user viewing angle is an angle of the connecting line between both eyes of the user relative to the coordinate system of the camera. In some embodiments, the angle, for example, is an angle OX formed by the connecting line between both eyes and the X axis in the coordinate system of the camera, or an angle OY formed by the connecting line between both eyes and the Y axis in the coordinate system of the camera, or is expressed as &#x3b8;(X,Y). In some embodiments, the angle, for example, is an angle between a projection of the connecting line, between both eyes in the XY plane of the coordinate system of the camera and the connecting line. In some embodiments, the angle, for example, is an angle OX between the projection of the connecting line, between both eyes in the XY plane of the coordinate system of the camera and the X axis, or an angle OY between the projection of the connecting line, between both eyes in the XY plane of the coordinate system of the camera and the Y axis, or is expressed as &#x3b8;(X,Y).</p><p id="p-0109" num="0104">In some embodiments, the user viewing angle may be an angle of a plane, in which the face of the user is, relative to the coordinate system of the camera. In some embodiments, the angle, for example, is an angle between the plane, in which the face is, and the XY plane of the coordinate system of the camera. The plane, in which the face is, can be determined by extracting a plurality of face features; and the face features, for example, may be forehead, eyes, ears, corners of the mouth, chin or the like.</p><p id="p-0110" num="0105">In some embodiments, the user viewing angle may be an angle of the user relative to the multi-viewpoint 3D display screen or the display plane of the multi-viewpoint 3D display screen. The coordinate system of multi-viewpoint 3D display screen or the display plane is defined therein, wherein a center of multi-viewpoint 3D display screen or the center o of the display plane is taken as the origin; a horizontal (transverse) straight line is taken as an x axis; a vertical straight line is taken as a y axis; and a straight line perpendicular to an xy plane is taken as a z axis (depth direction).</p><p id="p-0111" num="0106">In some embodiments, the user viewing angle may be an angle of a connecting line between the eye (a single eye) of the user and a center o of the multi-viewpoint 3D display screen or the display plane relative to a coordinate system of the multi-viewpoint 3D display screen or the display plane. In some embodiments, the angle, for example, is an angle Ox between the connecting line and the x axis in the coordinate system, or an angle Ay between the connecting line and the y axis in the coordinate system, or is expressed as &#x3b8;(x,y). In some embodiments, the angle, for example, is an angle between a projection of the connecting line in the xy plane of the coordinate system of the camera and the connecting line. In some embodiments, the angle, for example, is an angle Ox between the projection of the connecting line in the xy plane of the coordinate system and the x axis, or an angle Ay between the projection of the connecting line in the xy plane of the coordinate system and the y axis, or is expressed as &#x3b8;(x,y).</p><p id="p-0112" num="0107">In some embodiments, the user viewing angle may be an angle of a connecting line (i.e., the user sightline) between a midpoint of the connecting line, between both eyes of the user, and the center o of the multi-viewpoint 3D display screen or the display plane relative to the coordinate system of the multi-viewpoint 3D display screen or the display plane. In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, the angle, for example, is an angle Ox between the user sightline and the x axis in the coordinate system, or an angle Ay between the user sightline and the y axis in the coordinate system, or is expressed as &#x3b8;(x,y); and in the figure, R represents the right eye of the user, and L represents the left eye of the user. In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the angle, for example, is an angle Ok between a projection k of the user sightline in the xy plane of the coordinate system and the user sightline. In some embodiments, the angle, for example, is an angle &#x3b8;x between the projection of the user sightline in the xy plane of the coordinate system and the X axis, or an angle Ay between the projection of the user sightline in the xy plane of the coordinate system and the y axis, or is expressed as &#x3b8;(x,y).</p><p id="p-0113" num="0108">In some embodiments, the user viewing angle may be an angle of a connecting line between both eyes of the user relative to the coordinate system of the multi-viewpoint 3D display screen or the display plane. In some embodiments, the angle, for example, is an angle &#x3b8;x between the connecting line and the x axis in the coordinate system, or an angle Ay between the connecting line and the y axis in the coordinate system, or is expressed as &#x3b8;(x,y). In some embodiments, the angle, for example, is an angle between a projection of the connecting line in the xy plane of the coordinate system of the camera and the connecting line. In some embodiments, the angle, for example, is an angle &#x3b8;x between the projection of the connecting line in the xy plane of the coordinate system and the x axis, or an angle &#x3b8;y between the projection of the connecting line in the xy plane of the coordinate system of the camera and the y axis, or is expressed as &#x3b8;(x,y).</p><p id="p-0114" num="0109">In some embodiments, the user viewing angle may be an angle of a plane, in which the face of the user is, relative to the coordinate system of the multi-viewpoint 3D display screen or the display plane. In some embodiments, the angle, for example, is an angle between the plane, in which the face is, and the xy plane of the coordinate system. The plane, in which the face is, can be determined by extracting a plurality of face features; and the face features, for example, may be forehead, eyes, ears, corners of the mouth, chin or the like.</p><p id="p-0115" num="0110">In some embodiments, the camera is arranged in the front of the multi-viewpoint 3D display screen. In this case, the coordinate system of the camera may be regarded as the coordinate system of the multi-viewpoint 3D display screen or the display plane.</p><p id="p-0116" num="0111">To determine the user viewing angle, the 3D display device may be provided with a viewing angle determining apparatus. The viewing angle determining apparatus may be software, such as a calculation module and program instructions, and may also be hardware. The viewing angle determining apparatus may be integrated in the 3D processing apparatus, may also be integrated in the eye positioning apparatus, and may also transmit user viewing angle data to the 3D processing apparatus.</p><p id="p-0117" num="0112">In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>1</b>A</figref>, the viewing angle determining apparatus <b>160</b> is communicatively connected with the 3D processing apparatus <b>130</b>. The 3D processing apparatus may receive the user viewing angle data, generate a 3D image corresponding to the user viewing angle based on the user viewing angle data, and render subpixels, related to a viewpoint, in the composite subpixels according to the generated 3D image based on the viewpoint, where the eye of the user (e.g., both eyes) is located, determined by the eye positioning data. In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>1</b>B</figref>, the 3D processing apparatus may receive the eye space position information determined by the eye positioning apparatus <b>150</b> and the user viewing angle data determined by the viewing angle determining apparatus <b>160</b>. In some embodiments, as shown in <figref idref="DRAWINGS">FIG. <b>1</b>C</figref>, the viewing angle determining apparatus <b>160</b> may be integrated in the eye positioning apparatus <b>150</b>, for example, be integrated in the eye positioning image processor <b>152</b>; and the eye positioning apparatus <b>150</b> is communicatively connected with the 3D processing apparatus, and transmits the eye positioning data including the user viewing angle data and the eye space position information to the 3D processing apparatus. In other embodiments, the viewing angle determining apparatus may be integrated in a 3D processing apparatus; and the 3D processing apparatus receives the eye space position information and determines the user viewing angle data based on the eye space position information. In some embodiments, the eye positioning apparatus is communicatively connected with the 3D processing apparatus and the viewing angle determining apparatus, respectively, and transmits the eye space position information to the both; and the viewing angle determining apparatus determines the user viewing angle data based on the eye space position information and transmit the eye space position information to the 3D processing apparatus.</p><p id="p-0118" num="0113">After receiving or determining the user viewing angle data, the 3D processing apparatus may generate a 3D image conforming to the viewing angle from the received 3D model or 3D video including DOF information in a follow-up manner based on the user viewing angle data, thereby presenting 3D images having different DOF information and rendered images to users at different user viewing angles, so that the users have a visual feeling similar to observing real objects from different angles.</p><p id="p-0119" num="0114"><figref idref="DRAWINGS">FIG. <b>8</b></figref> schematically shows different 3D images generated based on the same 3D model for different user viewing angles. As shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the 3D processing apparatus receives a 3D model <b>600</b> having DOF information, and also receives or confirms a plurality of different user viewing angles. For various user viewing angles, the 3D processing apparatus generates different 3D images <b>601</b> and <b>602</b> from the 3D model <b>600</b>. In the figure, R represents the right eye of user; and L represents the left eye of user. Subpixels corresponding to corresponding viewpoints are respectively rendered according to different 3D images <b>601</b> and <b>602</b> generated based on the DOF information corresponding to different user viewing angles, wherein the corresponding viewpoints refer to viewpoints, where both eyes of the user are located, determined by the eye positioning data. For the users, the obtained 3D display effects follow up different user viewing angles. According to the change of the user viewing angle, the follow-up effect, for example, may be follow-up in the horizontal direction, follow-up in the vertical direction, follow-up in the depth direction, or follow-up of components in the transverse, vertical, and depth directions.</p><p id="p-0120" num="0115">A plurality of different user viewing angles may be generated based on a plurality of users, and may also be generated based on movements or actions of the same user.</p><p id="p-0121" num="0116">In some embodiments, the user viewing angle is detected and determined in real time. In some embodiments, the change of the user viewing angle is detected and determined in real time; and when the change of the user viewing angle is less than a predetermined threshold, a 3D image is generated based on the user viewing angle before the change. Such a case may happen when the user temporarily shakes his head by a small margin or in a small range or makes posture adjustment, for example, performing posture adjustment on a fixed seat. At this moment, the user viewing angle before the change is still taken as a current user viewing angle; and a 3D image corresponding to DOF information corresponding to the current user viewing angle is generated.</p><p id="p-0122" num="0117">In some embodiments, the viewpoints, where the eyes of the user are located, may be determined based on the identified eyes or the determined eye space positions. The correspondence between the eye space position information and the viewpoints may be stored in the processor in the form of correspondence table, and received by the 3D processing apparatus. Optionally, the correspondence between the eye space position information and the viewpoints may be stored in the 3D processing apparatus in the form of correspondence table.</p><p id="p-0123" num="0118">Display of the 3D display device according to embodiments of the present disclosure is described below. As described above, the 3D display device may have a plurality of viewpoints. Eyes of the user may see the display of corresponding subpixels in composite subpixels of each composite pixel in the multi-viewpoint 3D display screen at each viewpoint position (spatial position). Two different pictures seen by both eyes of the user at different viewpoint positions form parallax, to composite a 3D picture in the brain.</p><p id="p-0124" num="0119">In some embodiments, the 3D processing apparatus may render the corresponding subpixels in each composite subpixel based on the generated 3D image and the determined viewpoints of the eyes of the user. The correspondence between the viewpoints and the subpixels may be stored in the processor in the form of correspondence table, and received by the 3D processing apparatus. Optionally, the correspondence between the viewpoints and the subpixels may be stored in the 3D processing apparatus in the form of correspondence table.</p><p id="p-0125" num="0120">In some embodiments, two parallel images, such as a left-eye parallax image and a right-eye parallax image, are generated by the processor or the 3D processing apparatus based on the generated 3D image. In some embodiments, the generated 3D image is taken as one of two parallel images, such as one of the left-eye parallax image and the right-eye parallax image, and the other of the two parallel images is generated based on the 3D image, such as the other of the left-eye parallax image and the right-eye parallax image. The 3D processing apparatus renders at least one subpixel in each composite subpixel based on one of the two images according to the determined viewpoint position of one of both eyes of the user, and render at least another subpixel in each composite subpixel based on the other of the two images according to the determined viewpoint position of the other of both eyes of the user.</p><p id="p-0126" num="0121">The rendering of subpixels according to the viewpoints will be described in detail below in combination with embodiments shown in <figref idref="DRAWINGS">FIGS. <b>9</b>A to <b>9</b>E</figref>. In the illustrated embodiments, the 3D display device has eight viewpoints V<b>1</b>-V<b>8</b>. Each composite pixel <b>500</b> in the multi-viewpoint 3D display screen of the 3D display device is composed of three composite subpixels <b>510</b>, <b>520</b> and <b>530</b>. Each composite subpixel is composed of eight homochromatic subpixels corresponding to the eight viewpoints. As shown in the figures, the composite subpixel <b>510</b> is a red composite subpixel composed of eight red subpixels R; the composite subpixel <b>520</b> is a green composite subpixel composed of eight green subpixels G; and the composite subpixel <b>530</b> is a blue composite subpixel composed of eight blue subpixels B. A plurality of composite pixels are arranged in the form of array in a multi-viewpoint 3D display screen. For the sake of clarity, only one composite pixel <b>500</b> in the multi-viewpoint 3D display screen is shown in the figures. The construction of other composite pixels and the rendering of subpixels may refer to descriptions of the shown composite pixel.</p><p id="p-0127" num="0122">In some embodiments, when it is determined that each eye of the user corresponds to one viewpoint based on the eye space position information, the 3D processing apparatus may render the corresponding subpixels in the composite subpixels according to the 3D image corresponding to the user viewing angle and generated by the DOF information of the 3D model or the 3D video.</p><p id="p-0128" num="0123">Referring to <figref idref="DRAWINGS">FIG. <b>9</b>A</figref>, in the illustrated embodiment, the left eye of the user is at a viewpoint V<b>2</b>; the right eye is at a viewpoint V<b>5</b>; left and right eye parallax images corresponding to the two viewpoints V<b>2</b> and V<b>5</b> are generated based on the 3D images; and subpixels, corresponding to the two viewpoints V<b>2</b> and V<b>5</b>, of the composite subpixels <b>510</b>, <b>520</b> and <b>530</b> are rendered.</p><p id="p-0129" num="0124">In some embodiments, when it is determined that each eye of the user corresponds to one viewpoint based on the eye space position information, the 3D processing apparatus may render subpixels, corresponding to the two viewpoints, in the composite subpixels according to the 3D images corresponding to the user viewing angles and generated by the DOF information of the 3D model or the 3D video.</p><p id="p-0130" num="0125">Referring to <figref idref="DRAWINGS">FIG. <b>9</b>B</figref>, in the illustrated embodiment, the left eye of the user is at a viewpoint V<b>2</b>; the right eye is at a viewpoint V<b>6</b>; left and right eye parallax images corresponding to the two viewpoints V<b>2</b> and V<b>6</b> are generated based on the 3D images; the subpixels, corresponding to the two viewpoints V<b>2</b> and V<b>6</b>, of the composite subpixels <b>510</b>, <b>520</b> and <b>530</b> are rendered; and meanwhile, subpixels corresponding to adjacent viewpoints at both sides of each of the viewpoints V<b>2</b> and V<b>6</b> are further rendered. In some embodiments, subpixels corresponding to an adjacent viewpoint at one side of each of the viewpoints V<b>2</b> and V<b>6</b> may also be rendered at the same time.</p><p id="p-0131" num="0126">In some embodiments, when it is determined that each eye of the user is between two viewpoints based on the eye space position information, the 3D processing apparatus may render subpixels, corresponding to the four viewpoints, in the composite subpixels according to the 3D images corresponding to the user viewing angles and generated by the DOF information of the 3D model or the 3D video.</p><p id="p-0132" num="0127">Referring to <figref idref="DRAWINGS">FIG. <b>9</b>C</figref>, in the illustrated embodiment, the left eye of the user is between viewpoints V<b>2</b> and V<b>3</b>; the right eye is between viewpoints V<b>5</b> and V<b>6</b>; left and right eye parallax images corresponding to the viewpoints V<b>2</b> and V<b>3</b> as well as V<b>5</b> and V<b>6</b> are generated based on the 3D images; and subpixels, corresponding to the viewpoints V<b>2</b> and V<b>3</b> as well as V<b>5</b> and V<b>6</b>, of the composite subpixels <b>510</b>, <b>520</b> and <b>530</b> are rendered.</p><p id="p-0133" num="0128">In some embodiments, when it is determined that the viewpoint position corresponding to at least one of both eyes of the user changes based on the eye space position information, the 3D processing apparatus may switch from rendering subpixels, corresponding to the viewpoint positions before change, in the composite subpixels to rendering subpixels, corresponding to the viewpoint positions after change, in the composite subpixels, according to the 3D images corresponding to the user viewing angles and generated by the DOF information of the 3D model or the 3D video.</p><p id="p-0134" num="0129">Referring to FIG. 9D, when the left eye of the user moves from a viewpoint V<b>1</b> to a viewpoint V<b>3</b>, and the right eye moves from a viewpoint V<b>5</b> to a viewpoint V<b>7</b>, the rendered subpixels of the composite subpixels <b>510</b>, <b>520</b> and <b>530</b> are adjusted accordingly, to adapt to the changed viewpoint positions.</p><p id="p-0135" num="0130">In some embodiments, when it is determined that more than one user is present based on the eye space position information, the 3D processing apparatus may render subpixels, corresponding to viewpoints where the eyes of each user are located, in the composite subpixels according to the 3D image corresponding to each user viewing angle and generated by the DOF information of the 3D model or the 3D video.</p><p id="p-0136" num="0131">Referring to <figref idref="DRAWINGS">FIG. <b>9</b>E</figref>, two users face the 3D display device; both eyes of a first user are at viewpoints V<b>2</b> and V<b>4</b>; and both eyes of a second user are at viewpoints V<b>5</b> and V<b>7</b>. A first 3D image corresponding to a first user viewing angle and a second 3D image corresponding to a second user viewing angle are generated according to the DOF information of the 3D model or the 3D video; left and right eye parallax images corresponding to viewpoints V<b>2</b> and V<b>4</b> are generated based on the first 3D image; and left and right eye parallax images corresponding to viewpoints V<b>5</b> and V<b>7</b> are generated based on the second 3D image. The 3D processing apparatus renders subpixels, respectively corresponding to the viewpoints V<b>2</b> and V<b>4</b> as well as V<b>5</b> and V<b>7</b>, of the composite subpixels <b>510</b>, <b>520</b> and <b>530</b>.</p><p id="p-0137" num="0132">In some embodiments, a theoretical correspondence exists in the correspondence between the subpixels of the 3D display device and the viewpoints. Such a theoretical correspondence may be uniformly set or modulated when the 3D display device is produced from an assembly line, and may also be stored in the 3D display device in the form of correspondence table, for example, being stored in a processor or a 3D processing apparatus. Due to installation, material or alignment of gratings, when 3D display device is actually used, a problem that the subpixels viewed from the viewpoint positions in space does not correspond to theoretical subpixels may exist. This affects the correct display of 3D images. It is beneficial for the 3D display device to calibrate or correct the correspondence between subpixels and viewpoints in actual use of the 3D display device. In embodiments provided by the present disclosure, such a correspondence between viewpoints and subpixels existing in the actual use of the 3D display device is called &#x201c;corrected correspondence&#x201d;. The &#x201c;corrected correspondence&#x201d; may be different from or consistent with the &#x201c;theoretical correspondence&#x201d;.</p><p id="p-0138" num="0133">The process of acquiring the &#x201c;corrected correspondence&#x201d; is a process of finding the correspondence between the viewpoints and subpixels in the actual display process. In some embodiments, in order to determine the corrected correspondence between the subpixels in the composite subpixels of each composite pixel in the multi-viewpoint 3D display screen and the viewpoints, the multi-viewpoint 3D display screen or the display panel can be divided into a plurality of correction regions; the corrected correspondence between the subpixels and the viewpoints in each correction region can be determined respectively; and then, corrected correspondence data in each region are stored by regions, for example, being stored in the processor or the 3D processing apparatus in the form of correspondence table.</p><p id="p-0139" num="0134">In some embodiments, the corrected correspondence between at least one subpixel in each correction region and the viewpoints is obtained by detection; and the corrected correspondence between other subpixels and the viewpoints in each correction region is reckoned or estimated by mathematical calculation with reference to the detected corrected correspondence. Mathematical calculation methods comprise: linear difference, linear extrapolation, nonlinear difference, nonlinear extrapolation, Taylor series approximation, linear change of reference coordinate system, nonlinear change of reference coordinate system, exponential model, trigonometric transform and the like.</p><p id="p-0140" num="0135">In some embodiments, the multi-viewpoint 3D display screen is defined with a plurality of correction regions; and the range of combined area of all correction regions is 90% to 100% of the area of the multi-viewpoint 3D display screen. In some embodiments, a plurality of correction regions are arranged in the form of array in the multi-viewpoint 3D display screen. In some embodiments, each correction region may be defined by one composite pixel containing three composite subpixels. In some embodiments, each correction region may be defined by two or more composite pixels. In some embodiments, each correction region may be defined by two or more composite subpixels. In some embodiments, each correction region may be defined by two or more composite subpixels that do not belong to the same composite pixel.</p><p id="p-0141" num="0136">In some embodiments, the deviation of the corrected correspondence between subpixels and viewpoints in one correction region from the theoretical correspondence may be consistent, basically consistent, or inconsistent with the deviation of the corrected correspondence between subpixels and viewpoints in another correction region from the theoretical correspondence.</p><p id="p-0142" num="0137">A 3D image display method, for the above 3D display device, is provided according to embodiments of the present disclosure. As shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the 3D image display method comprises:</p><p id="p-0143" num="0138">S<b>10</b>, determining a user viewing angle of a user; and</p><p id="p-0144" num="0139">S<b>20</b>, rendering corresponding subpixels in composite subpixels of composite pixels in a multi-viewpoint 3D display screen according to DOF information of a 3D model, based on the user viewing angle.</p><p id="p-0145" num="0140">In some embodiments, the corresponding subpixels in the composite subpixels of the composite pixels in the multi-viewpoint 3D display screen may also be rendered according to DOF information of a 3D video.</p><p id="p-0146" num="0141">In some embodiments, the 3D image display method comprises:<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0142">S<b>100</b>, determining a user viewing angle of a user;</li>        <li id="ul0002-0002" num="0143">S<b>200</b>, determining viewpoints where eyes of the user are located;</li>        <li id="ul0002-0003" num="0144">S<b>300</b>, receiving a 3D model or a 3D video including DOF information;</li>        <li id="ul0002-0004" num="0145">S<b>400</b>, generating a 3D image according to the 3D model or the 3D video including the DOF information, based on the determined user viewing angle; and</li>        <li id="ul0002-0005" num="0146">S<b>500</b>, rendering, based on the determined viewpoints where the eyes of the user are located, corresponding subpixels in composite subpixels of composite pixels in a multi-viewpoint 3D display screen according to the generated 3D image, wherein the corresponding subpixels refer to subpixels, corresponding to the determined viewpoints where the eyes of the user are located, in the composite subpixels.</li>    </ul>    </li></ul></p><p id="p-0147" num="0147">In some embodiments, determining the user viewing angle comprises: detecting the user viewing angle in real time.</p><p id="p-0148" num="0148">In some embodiments, generating a 3D image according to the 3D model or the DOF information of the 3D video based on the determined user viewing angle comprises: determining a change of the user viewing angle detected in real time; and when the change of the user viewing angle is less than a predetermined threshold, generating the 3D image based on the user viewing angle before the change.</p><p id="p-0149" num="0149">Embodiments of the present disclosure provide a 3D display device <b>300</b>; referring to <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the 3D display device <b>300</b> comprises a processor <b>320</b> and a memory <b>310</b>. In some embodiments, the electronic device <b>300</b> may also comprise a communication interface <b>340</b> and a bus <b>330</b>, wherein the processor <b>320</b>, the communication interface <b>340</b> and the memory <b>310</b> communicate with each other through the bus <b>330</b>. The communication interface <b>340</b> may be configured to transmit information. The processor <b>320</b> may call logic instructions in the memory <b>310</b>, to implement the method for the follow-up display of 3D images based on user viewing angles in the 3D display device of the above embodiment.</p><p id="p-0150" num="0150">In addition, the logic instructions in the memory <b>310</b> may be implemented in the form of software functional units, and may be stored in a computer-readable storage medium when being sold or used as an independent product.</p><p id="p-0151" num="0151">The memory <b>310</b>, as a computer-readable storage medium, may be used for storing software programs and computer-executable programs, such as program instructions/modules corresponding to the methods in embodiments of the present disclosure. The processor <b>320</b> implements the function application and data processing by running the program instructions/modules stored in the memory <b>310</b>, i.e., implements the method for switching the display of 3D images and 2D images in the electronic device in embodiments of the above method.</p><p id="p-0152" num="0152">The memory <b>310</b> may comprise a program storage region and a data storage region, wherein the program storage region may store an operating system and application programs required by at least one function; the data storage region may store data created according to the use of a terminal device, and the like. In addition, the memory <b>310</b> may comprise a high-speed RAM, and may further comprise an NVM.</p><p id="p-0153" num="0153">The computer-readable storage medium provided by the embodiments of the present disclosure stores computer-executable instructions; and the computer-executable instructions are configured to implement the 3D image display method.</p><p id="p-0154" num="0154">The computer program product provided by the embodiments of the present disclosure comprises computer programs stored on the computer-readable storage medium; the computer programs comprise program instructions; and when the program instructions are executed by a computer, the computer executes the 3D image display method.</p><p id="p-0155" num="0155">Technical solutions of embodiments of the present disclosure may be reflected in the form of a software product, which is stored in a storage medium and comprises one or more instructions for enabling computer equipment (which may be a personal computer, a server, network equipment or the like) to perform all or some steps of the method in embodiments of the present disclosure. The storage medium may be a non-transient storage medium, comprising a plurality of media capable of storing program codes, such as a U disk, a mobile hard disk, a read-only memory (ROM), a RAM, a diskette or an optical disk, and may also be a transient storage medium.</p><p id="p-0156" num="0156">The above description and drawings sufficiently illustrate the embodiments of the present disclosure to enable those skilled in the art to practice them. Other embodiments may comprise structural, logical, electrical, process, and other changes. Embodiments represent only possible changes. Unless expressly required, individual components and functions are optional and the order of operations may be changed. Parts and features of some embodiments may be included in or substituted for parts and features of other embodiments. The scope of the disclosed embodiments includes the full scope of the claims, and all available equivalents of the claims. In addition, the terms used in the present disclosure are used to describe the embodiments only and not to limit the claims. In addition, when used in the present disclosure, the terms &#x201c;comprise&#x201d;, etc., refer to the presence of at least one of stated features, integers, steps, operations, elements, and/or components, but does not preclude the presence or addition of one or more other features, integers, steps, operations, elements, components and/or groupings of these. Herein, the difference of each embodiment from each other may be the focus of explanation. The same and similar parts among all of the embodiments may be referred to each other. For the method and product disclosed by the embodiments, if the method and product correspond to a method part disclosed by the embodiments, the description of the method part can be referred to for the related part.</p><p id="p-0157" num="0157">Those skilled in the art may recognize that the units and algorithm steps of each example described in conjunction with the embodiments disclosed herein can be implemented in electronic hardware, or a combination of computer software and electronic hardware. Whether these functions are performed in hardware or software may depend on the specific application and design constraints of the technical solutions. Those skilled in the art may use different methods for implementing the described functions for each particular application, but such implementations should not be considered beyond the scope of the embodiments of the present disclosure. Those skilled in the art can clearly understand that, for the convenience and simplicity of description, the specific working processes of the system, the apparatus and the unit above can refer to the corresponding processes in the above method embodiments and will not be repeated here.</p><p id="p-0158" num="0158">In the embodiments disclosed herein, the disclosed method and product (including, but not limited to the apparatus and the device) may be realized in other ways. For example, the device embodiments described above are merely schematic. For example, the division of the units may be only a logical functional division, and may be an additional division manner in actual realization. For example, multiple units or components may be combined or integrated into another system, or some features may be ignored or not executed. In addition, the displayed or discussed mutual coupling or direct coupling or communication connection may be indirect coupling or communication connection through some interfaces, devices or units, and may be electrical, mechanical or other forms. The units described as separate components may or may not be physically separated, and the components shown as the units may or may not be physical units, may be located in one place or may be distributed on a plurality of network units. The present embodiments may be implemented by selecting some or all of the units according to actual needs. In addition, each functional unit in the embodiments of the present disclosure may be integrated into one processing unit, or each unit may exist physically alone, or two or more units may be integrated into one unit.</p><p id="p-0159" num="0159">The flow charts and block diagrams in the drawings show architectures, functions and operations possibly implemented by systems, methods and computer program products according to the embodiments of the present disclosure. In this regard, each block in the flow charts or block diagrams may represent a part of a module, program segment or code, and part of the module, program segment or code contains one or more executable instructions for implementing specified logical functions. In some alternative implementations, the functions marked in the blocks may also occur in an order different from the order marked in the drawings. For example, two continuous blocks may actually be executed substantially concurrently, or sometimes may be executed in a reverse order, depending on the functions involved. In the descriptions corresponding to the flow charts and the block diagrams in the drawings, operations or steps corresponding to different blocks may also occur in different orders than those disclosed, and sometimes there is no specific order between different operations or steps. For example, two continuous operations or steps may be actually performed substantially concurrently, or sometimes may be performed in the reverse order, depending on the functions involved. Each block in the block diagrams and/or flow charts, and combinations of the blocks in the block diagrams and/or flow charts, can be implemented by special hardware-based systems that perform specified functions or actions, or implemented by combinations of special hardware and computer instructions.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001 MATH-US-00001-2" nb-file="US20230007228A1-20230105-M00001.NB"><img id="EMI-M00001" he="12.36mm" wi="76.20mm" file="US20230007228A1-20230105-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00002 MATH-US-00002-2" nb-file="US20230007228A1-20230105-M00002.NB"><img id="EMI-M00002" he="16.26mm" wi="76.20mm" file="US20230007228A1-20230105-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00003 MATH-US-00003-2" nb-file="US20230007228A1-20230105-M00003.NB"><img id="EMI-M00003" he="13.04mm" wi="76.20mm" file="US20230007228A1-20230105-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00004 MATH-US-00004-2" nb-file="US20230007228A1-20230105-M00004.NB"><img id="EMI-M00004" he="12.36mm" wi="76.20mm" file="US20230007228A1-20230105-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A 3D display device, comprising:<claim-text>a multi-viewpoint 3D display screen, comprising a plurality of composite pixels, wherein each composite pixel of the plurality of composite pixels comprises a plurality of composite subpixels, and each composite subpixel of the plurality of composite subpixels comprises a plurality of subpixels corresponding to a plurality of viewpoints of the 3D display device;</claim-text><claim-text>a viewing angle determining apparatus, configured to determine a user viewing angle of a user;</claim-text><claim-text>a 3D processing apparatus, configured to render, based on the user viewing angle, corresponding subpixels of the plurality of composite subpixels according to depth-of-field (DOF) information of a 3D model.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The 3D display device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the 3D processing apparatus is configured to generate a 3D image by the DOF information based on the user viewing angle, and render the corresponding subpixels according to the 3D image.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The 3D display device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising:<claim-text>an eye positioning apparatus, configured to determine eye space positions of a user;</claim-text><claim-text>the 3D processing apparatus is configured to determine viewpoints where eyes of the user are located based on the eye space positions, and render subpixels corresponding to viewpoints where the eyes are located based on the 3D image.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The 3D display device according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the eye positioning apparatus comprises:<claim-text>an eye positioner, configured to shoot a user image of the user;</claim-text><claim-text>an eye positioning image processor, configured to determine the eye space positions based on the user image; and</claim-text><claim-text>an eye positioning data interface, configured to transmit eye space position information which indicates the eye space positions.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The 3D display device according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the eye positioner comprises:<claim-text>a first camera, configured to shoot first images; and</claim-text><claim-text>a second camera, configured to shoot second images;</claim-text><claim-text>wherein the eye positioning image processor is configured to identify presence of eyes based on at least one of the first images and the second images and determine the eye space positions based on identified eyes;</claim-text><claim-text>or, wherein the eye positioner comprises:</claim-text><claim-text>a camera, configured to shoot images; and</claim-text><claim-text>a depth detector, configured to acquire eye depth information of a user;</claim-text><claim-text>wherein the eye positioning image processor is configured to identify presence of eyes based on the images and determine the eye space positions based on identified eye positions and the eye depth information.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. (canceled)</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The 3D display device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the user viewing angle is an angle between the user and a display plane of the multi-viewpoint 3D display screen.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The 3D display device according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the user viewing angle is an angle between a user sightline and a display plane of the multi-viewpoint 3D display screen, wherein the user sightline is a connecting line between a midpoint of a connecting line, between both eyes of a user, and a center of the multi-viewpoint 3D display screen.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The 3D display device according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the user viewing angle is:<claim-text>an angle between the user sightline and at least one of transverse, vertical and depth directions of the display plane; or</claim-text><claim-text>an angle between the user sightline and a projection of the user sightline in the display plane.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The 3D display device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising: a 3D signal interface, configured to receive the 3D model.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A 3D image display method, comprising:<claim-text>determining a user viewing angle of a user; and</claim-text><claim-text>rendering corresponding subpixels in composite subpixels of composite pixels in a multi-viewpoint 3D display screen according to DOF information of a 3D model, based on the user viewing angle.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The 3D image display method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein rendering corresponding subpixels in composite subpixels of composite pixels in a multi-viewpoint 3D display screen according to DOF information of a 3D model, based on the user viewing angle comprises:<claim-text>generating a 3D image by the DOF information based on the user viewing angle, and rendering the corresponding subpixels according to the 3D image.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The 3D image display method according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising:<claim-text>determining eye space positions of a user;</claim-text><claim-text>determining viewpoints where eyes of the user are located based on the eye space positions; and</claim-text><claim-text>rendering subpixels corresponding to viewpoints where the eyes are located based on the 3D image.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The 3D image display method according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein determining eye space positions of a user comprises:<claim-text>shooting a user image of the user;</claim-text><claim-text>determining the eye space positions based on the user image; and</claim-text><claim-text>transmitting eye space position information which indicates the eye space positions.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The 3D image display method according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein shooting a user image of the user and determining the eye space positions based on the user image comprises:<claim-text>shooting first images;</claim-text><claim-text>shooting second images;</claim-text><claim-text>identifying presence of eyes based on at least one of the first images and the second images; and</claim-text><claim-text>determining the eye space positions based on identified eyes;</claim-text><claim-text>or, wherein shooting a user image of the user and determining the eye space positions based on the user image comprises:</claim-text><claim-text>shooting images;</claim-text><claim-text>acquiring eye depth information of a user;</claim-text><claim-text>identifying presence of eyes based on the images; and</claim-text><claim-text>jointly determining the eye space positions based on identified eye positions and the eye depth information.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. (canceled)</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The 3D image display method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the user viewing angle is an angle between the user and a display plane of the multi-viewpoint 3D display screen.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The 3D image display method according to <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the user viewing angle is an angle between a user sightline and a display plane of the multi-viewpoint 3D display screen, wherein the user sightline is a connecting line between a midpoint of a connecting line, between both eyes of a user, and a center of the multi-viewpoint 3D display screen.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The 3D image display method according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the user viewing angle is:<claim-text>an angle between the user sightline and at least one of transverse, vertical and depth directions of the display plane; or</claim-text><claim-text>an angle between the user sightline and a projection of the user sightline in the display plane.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The 3D image display method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising:<claim-text>receiving a 3D model.</claim-text></claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. A 3D display device, comprising:<claim-text>a processor; and</claim-text><claim-text>a memory storing program instructions;</claim-text><claim-text>the processor is configured to execute the 3D image display method of <claim-ref idref="CLM-00011">claim 11</claim-ref> when executing the program instructions.</claim-text></claim-text></claim><claim id="CLM-00022" num="00022"><claim-text><b>22</b>. A computer-readable storage medium, storing computer-executable instructions, wherein the computer-executable instructions are configured to execute the method of <claim-ref idref="CLM-00011">claim 11</claim-ref>.</claim-text></claim><claim id="CLM-00023" num="00023"><claim-text><b>23</b>. A computer program product, comprising computer programs stored on a computer-readable storage medium, wherein the computer programs comprise program instructions, and make a computer execute the method of <claim-ref idref="CLM-00011">claim 11</claim-ref> when the program instructions are executed by the computer.</claim-text></claim></claims></us-patent-application>