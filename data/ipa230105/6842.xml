<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006843A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006843</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17943699</doc-number><date>20220913</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202011308606.3</doc-number><date>20201120</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>32</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>06</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>21</main-group><subgroup>73</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>3271</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>0869</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>9</main-group><subgroup>0643</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>21</main-group><subgroup>73</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">DATA TRANSMISSION METHOD, APPARATUS, AND SYSTEM, COMPUTER DEVICE, AND STORAGE MEDIUM</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2021/123278</doc-number><date>20211012</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17943699</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Tencent Technology (Shenzhen) Company Limited</orgname><address><city>Shenzhen</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>LV</last-name><first-name>Jun</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>LIU</last-name><first-name>Wenjun</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>GUO</last-name><first-name>Runzeng</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Tencent Technology (Shenzhen) Company Limited</orgname><role>03</role><address><city>Shenzhen</city><country>CN</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A data transmission method, apparatus, and system, a computer device, and a storage medium. The method includes: performing two-way authentication with a first interaction device; receiving encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device, after the two-way authentication is completed, the working key being obtained by the first interaction device by mapping an authentication key used in the two-way authentication; decrypting the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter; transmitting interaction data obtained through the decryption to a second interaction device through a simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="107.61mm" wi="107.61mm" file="US20230006843A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="202.86mm" wi="161.46mm" file="US20230006843A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="210.57mm" wi="153.75mm" file="US20230006843A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="218.52mm" wi="162.22mm" file="US20230006843A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="215.56mm" wi="163.07mm" file="US20230006843A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="229.36mm" wi="148.00mm" file="US20230006843A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="198.97mm" wi="105.33mm" file="US20230006843A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="85.01mm" wi="84.33mm" file="US20230006843A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION(S)</heading><p id="p-0002" num="0001">This application is a continuation application of International Application No. PCT/CN2021/123278, filed on Oct. 12, 2021, which claims priority to Chinese Patent Application No. 202011308606.3, filed with the China National Intellectual Property Administration on Nov. 20, 2020, the disclosures of which are incorporated by reference in their entireties.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD</heading><p id="p-0003" num="0002">The disclosure relates to the field of wireless communication technologies, and in particular, to a data transmission method, apparatus, and system, a computer device, and a storage medium.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">In some specific application scenarios, there are two different devices for data transmission. These two different devices can transmit data wirelessly. In the process of transmitting data wirelessly, generally the communication link is encrypted to ensure the secure transmission of the data. However, in the process of data transmission, the use of communication link encryption may not be able to effectively ensure data security. If the data encryption and decryption processes are performed on two different devices respectively, it is necessary to perform software adaptation on the two different devices. For example, Bluetooth software adaptation is required when using Bluetooth to transmit data, resulting in poor software versatility, making it impossible to ensure the effect of interaction between devices while ensuring secure data transmission.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0005" num="0004">Embodiments of this application provide a data transmission method, apparatus, and system, a computer device, and a storage medium.</p><p id="p-0006" num="0005">In some embodiments, a data transmission method, executed by a communication adapter, may be provided, the method including: performing two-way authentication with a first interaction device; receiving encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device, after the two-way authentication is completed, the working key being obtained by the first interaction device by mapping an authentication key used in the two-way authentication; decrypting the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter; and transmitting interaction data obtained through the decryption to a second interaction device through a simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</p><p id="p-0007" num="0006">In some embodiments, a data transmission apparatus may be provided, the apparatus including: an authentication module, configured to perform two-way authentication with a first interaction device; a receiving module, configured to receive encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device, after the two-way authentication is completed, the working key being obtained by the first interaction device by mapping an authentication key used in the two-way authentication; a decryption module, configured to decrypt the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter; and a transmission module, configured to transmit interaction data obtained through the decryption to a second interaction device through a simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</p><p id="p-0008" num="0007">In some embodiments a data transmission system may be provided, the data transmission system including: a first interaction device, a second interaction device, and a communication adapter wirelessly connected to the first interaction device and electrically connected to the second interaction device, the communication adapter being configured to authenticate the first interaction device; the first interaction device being configured to authenticate the communication adapter in a case that the communication adapter has completed the authentication, and after completing the authentication of the communication adapter, encrypt interaction data based on a working key obtained by mapping an authentication key used in two-way authentication to obtain encrypted interaction data; the communication adapter being further configured to receive the encrypted interaction data obtained by encrypting the interaction data based on the working key and transmitted by the first interaction device; the communication adapter being further configured to decrypt the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter; the second interaction device being configured to identify a device node simulated by the communication adapter; and the communication adapter being further configured to transmit interaction data obtained through the decryption to the second interaction device through the simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</p><p id="p-0009" num="0008">A computer device may be provided, including a memory and a processor, the memory storing computer-readable instructions, the processor, when executing the computer-readable instruction, implementing the following operations: performing two-way authentication with a first interaction device; receiving encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device, after the two-way authentication is completed, the working key being obtained by the first interaction device by mapping an authentication key used in the two-way authentication; decrypting the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter; and transmitting interaction data obtained through the decryption to a second interaction device through a simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</p><p id="p-0010" num="0009">A non-volatile computer-readable storage medium may be provided, where the computer-readable storage medium stores computer-readable instructions, and the computer-readable instructions, when being executed by a processor, implement the following operations: performing two-way authentication with a first interaction device; receiving encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device, after the two-way authentication is completed, the working key being obtained by the first interaction device by mapping an authentication key used in the two-way authentication; decrypting the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter; and transmitting interaction data obtained through the decryption to a second interaction device through a simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</p><p id="p-0011" num="0010">A computer-readable instruction product may be provided, including computer-readable instructions, the computer-readable instructions being stored in a computer-readable storage medium. A processor of a computer device reads the computer-readable instructions from the computer-readable storage medium, and the processor executes the computer-readable instructions, to cause the computer device to perform the operations of the data transmission method.</p><p id="p-0012" num="0011">Details of one or more embodiments of the disclosure are provided in the accompanying drawings and descriptions below. Other features, objectives, and advantages become apparent from the specification, the drawings, and the claims.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0013" num="0012">To describe the technical solutions in the embodiments of this application more clearly, the following briefly introduces the accompanying drawings required for describing the embodiments. Apparently, the accompanying drawings in the following description show only some embodiments of this application, and a person of ordinary skill in the art may still derive other accompanying drawings from these accompanying drawings without creative efforts.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram showing an application environment of a data transmission method according to some embodiments.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic flowchart of a data transmission method according to some embodiments.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic flowchart of operations of two-way authentication according to some embodiments.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic flowchart of a data transmission method according to some embodiments.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic flowchart of operations of transmitting data from a second interaction device to a first interaction device according to some embodiments.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a structural block diagram of a data transmission system according some embodiments.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a structural block diagram of a data transmission system in a face payment scenario according to some embodiments.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>8</b>A</figref> is a schematic flowchart of operations of key generation according to some embodiments.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>8</b>B</figref> is a schematic flowchart of operations of key generation and two-way authentication according to some embodiments.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a structural block diagram of a data transmission apparatus according to some embodiments.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a structural block diagram of a data transmission apparatus according to some embodiments.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is an internal structure diagram of a computer device according to some embodiments.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DESCRIPTION OF EMBODIMENTS</heading><p id="p-0026" num="0025">To make the objectives, technical solutions, and advantages of this application clearer, the following further describes this application in detail with reference to the accompanying drawings and the embodiments. It is to be understood that the specific embodiments described herein are only used for explaining this application, and are not used for limiting this application.</p><p id="p-0027" num="0026">A data transmission method provided in some embodiments can be applied to an application environment shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. In this application environment, a communication adapter <b>102</b>, a first interaction device <b>104</b> and a second interaction device <b>106</b> are included. The communication adapter <b>102</b> is wirelessly connected to the first interaction device <b>104</b>. The communication adapter <b>102</b> is electrically connected to the second interaction device <b>106</b>, for example, by a wired connection. The communication adapter <b>102</b> performs two-way authentication with the first interaction device <b>104</b>. After completing the two-way authentication, the communication adapter <b>102</b> receives encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device <b>104</b>. The working key is obtained by mapping an authentication key by the first interaction device. The communication adapter <b>102</b> decrypts the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter; and transmits interaction data obtained through the decryption to a second interaction device <b>106</b> through a simulated device node identifiable by the second interaction device <b>106</b> and based on a communication protocol of the second interaction device <b>106</b> that is natively adapted to the device node.</p><p id="p-0028" num="0027">The communication adapter <b>102</b> may serve as a bridge between the first interaction device <b>104</b> and the second interaction device <b>106</b> to implement data exchange between the first interaction device <b>104</b> and the second interaction device <b>106</b>. Specifically, the communication adapter <b>102</b> may be a Bluetooth dongle, a ZigBee adapter, a near field communication adapter, other wireless adapters, and the like. The communication adapter <b>102</b> may be an independent component, or may be a component integrated in the second interaction device <b>106</b>.</p><p id="p-0029" num="0028">The first interaction device <b>104</b> may be a scanning device, such as a device for scanning a face, a device for scanning a graphic code, and the like. The graphic code may be a barcode or a two-dimensional code, or may be other types of graphic codes that carry information.</p><p id="p-0030" num="0029">The second interaction device <b>106</b> may be a resource transfer device, and is configured to perform an interaction operation according to interaction data during interaction with the first interaction device <b>102</b>, where the interaction operation includes a resource transfer operation. In addition, a control operation may also be performed based on control data transmitted by the first interaction device and the second interaction device.</p><p id="p-0031" num="0030">In an embodiment, as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, a data transmission method is provided. The method is, for example, applied to the communication adapter <b>102</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The communication adapter <b>102</b> is wirelessly connected to the first interaction device <b>104</b>, and electrically connected to the second interaction device <b>106</b>. The method includes following operations:</p><p id="p-0032" num="0031">S<b>202</b>. Perform two-way authentication with a first interaction device.</p><p id="p-0033" num="0032">The two-way authentication means that the first interaction device authenticates the communication adapter, and then the communication adapter also authenticates the first interaction device, to ensure that both the communication adapter and the first interaction device are reliable devices.</p><p id="p-0034" num="0033">In an embodiment, the communication adapter may use an authentication key to perform two-way authentication with the first interaction device, or may perform two-way authentication with the first interaction device based on an authentication key and a random number. Therefore, S<b>202</b> may be performed by either of the following two authentication manners:</p><p id="p-0035" num="0034">Manner <b>1</b>: Perform two-way authentication with the first interaction device based on an authentication key and a random number.</p><p id="p-0036" num="0035">In an embodiment, the communication adapter receives a first challenge code transmitted by the first interaction device; decrypts the first challenge code based on the authentication key to obtain a first random number, the first random number being a random number generated by the first interaction device; performs a hash operation on the first random number to obtain a first hash value; generates a second random number, and encrypts the first hash value and the second random number based on the authentication key to obtain a second challenge code; transmits the second challenge code to the first interaction device, so that the first interaction device decrypts the second challenge code based on the authentication key to obtain a first hash value, compares the first hash value with a second hash value obtained by the first interaction device by encrypting the first random number based on the authentication key, and in response to the first hash value being same as the second hash value, performs a hash operation on a second random number obtained by decrypting the second challenge code, and returns a second hash value obtained by the hash operation; and receives the second hash value returned by the first interaction device, compares the second hash value with a third hash value obtained by performing a hash operation on the second random number based on the authentication key locally on the communication adapter, and in response to the second hash value being same as the third hash value, determines that the two-way authentication between the communication adapter and the first interaction device is complete.</p><p id="p-0037" num="0036">The authentication key in Manner <b>1</b> may be a key generated based on a device serial number of the communication adapter, and may be used in combination with a random number to perform two-way authentication with the first interaction device.</p><p id="p-0038" num="0037">The first challenge code may be a challenge code obtained by the first interaction device by encrypting the first random number generated by the first interaction device with the authentication key. The first random number may be a true random number or a pseudo random number generated by the first interaction device.</p><p id="p-0039" num="0038">The second random number may be a true random number or a pseudo random number generated by the communication adapter. The first random number and the second random number are two different random numbers. The second challenge code is a challenge code obtained by the communication adapter by encrypting a combination of the first hash value and the second random number with the authentication key, or by respectively encrypting the first hash value and the second random number with the authentication key and combining results of the encryption.</p><p id="p-0040" num="0039">In the solution of this method, the first interaction device does not directly transmit the first random number, but transmits the first challenge code obtained by encrypting the first random number with the authentication key. The communication adapter does not directly transmit the second random number, but transmits the second challenge code obtained by encrypting the first hash value and the second random number with the authentication key. In this way, the accuracy in the authentication process can be improved while avoiding information leakage.</p><p id="p-0041" num="0040">The authentication key used by the communication adapter to encrypt the second random number is generated by the communication adapter according to the device serial number of the communication adapter. The authentication key used by the first interaction device to encrypt the first random number is generated by the first interaction device according to the device serial number of the communication adapter. The authentication key generated by the first interaction device is the same as the authentication key generated by the communication adapter. To generate the authentication key, the communication adapter and the first interaction device encrypts the device serial number of the communication adapter according to a serial number encryption key to obtain the authentication key.</p><p id="p-0042" num="0041">A method for obtaining the authentication key may include following operations: receiving, by the communication adapter, a serial number obtaining request transmitted by the first interaction device; obtaining a device serial number specified in the serial number obtaining request; returning the obtained device serial number to the first interaction device, so that the first interaction device generates an authentication key on the first interaction device based on the returned device serial number; and generating an authentication key on the communication adapter according to the obtained device serial number, the authentication key on the first interaction device being same as the authentication key on the communication adapter.</p><p id="p-0043" num="0042">The authentication key on the first interaction device is obtained by encrypting the returned device serial number based on a serial number encryption key stored in the first interaction device.</p><p id="p-0044" num="0043">In an embodiment, the operation of generating an authentication key on the communication adapter according to the obtained device serial number may further include: obtaining, by the communication adapter, the serial number encryption key stored in the communication adapter; and encrypting the obtained device serial number based on the serial number encryption key to obtain the authentication key on the communication adapter.</p><p id="p-0045" num="0044">For a better understanding of the two-way authentication process, the two-way authentication process is described with reference to <figref idref="DRAWINGS">FIG. <b>3</b></figref>. As shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the two-way authentication includes the following operations:</p><p id="p-0046" num="0045">S<b>302</b><i>a. </i>The first interaction device generates a random number A.</p><p id="p-0047" num="0046">S<b>302</b><i>b. </i>The first interaction device encrypts the random number A with an authentication key to obtain a challenge code A.</p><p id="p-0048" num="0047">S<b>304</b><i>a. </i>The communication adapter generates a random number B.</p><p id="p-0049" num="0048">S<b>304</b><i>b. </i>The communication adapter performs a hash operation on the random number B to obtain a hash value B.</p><p id="p-0050" num="0049">S<b>306</b>. The first interaction device transmits a challenge code A.</p><p id="p-0051" num="0050">S<b>308</b>. After receiving the challenge code A, the communication adapter decrypts the challenge code A with the authentication key to obtain a random number A.</p><p id="p-0052" num="0051">The authentication key used in S<b>308</b> may be generated by the communication adapter based on the device serial number of the communication adapter.</p><p id="p-0053" num="0052">S<b>310</b>. The communication adapter performs a hash operation on the random number A to obtain a hash value A&#x2032;.</p><p id="p-0054" num="0053">S<b>312</b>. The communication adapter encrypts the hash value A&#x2032; and the random number B with the authentication key to obtain a challenge code B.</p><p id="p-0055" num="0054">S<b>314</b>. The communication adapter transmits a challenge code B.</p><p id="p-0056" num="0055">S<b>316</b>. After receiving the challenge code B, the first interaction device decrypts the challenge code B with the authentication key to obtain a hash value A&#x2032; and a random number B.</p><p id="p-0057" num="0056">The authentication key used in S<b>316</b> may be generated by the first interaction device based on the device serial number of the communication adapter.</p><p id="p-0058" num="0057">S<b>318</b>. The first interaction device performs a hash operation on the random number A, and compares the obtained hash value A with the hash value A&#x2032;.</p><p id="p-0059" num="0058">S<b>320</b>. In response to the hash value A being same as the hash value A&#x2032;, the first interaction device determines that the authentication of the communication adapter is complete.</p><p id="p-0060" num="0059">S<b>322</b>. The first interaction device performs a hash operation on the random number B to obtain a hash value B&#x2032;.</p><p id="p-0061" num="0060">S<b>324</b>. The first interaction device transmits the hash value B&#x2032;.</p><p id="p-0062" num="0061">S<b>326</b>. The communication adapter compares the hash value B&#x2032; with the hash value B.</p><p id="p-0063" num="0062">S<b>328</b>. In response to the hash value B&#x2032; being same as the hash value B, determine that two-way authentication between the communication adapter and the first interaction device is complete.</p><p id="p-0064" num="0063">Manner <b>2</b>. Perform two-way authentication with the first interaction device based on an authentication key.</p><p id="p-0065" num="0064">In an embodiment, the authentication key includes a first authentication key generated by the communication adapter based on its own device serial number, and a second authentication key generated by the first interaction device based on its own device serial number. The communication adapter transmits the first authentication key to the first interaction device, so that the first interaction device compares the received first authentication key with at least one authentication key stored in the first interaction device or with at least one authentication key stored in an authentication server. If an authentication key same as the first authentication key is found among the stored at least one authentication key, it indicates that the communication adapter passes the authentication, and the authentication of the communication adapter by the first interaction device is complete. In this case, the first interaction device transmits the second authentication key to the communication adapter. The communication adapter receives the second authentication key transmitted by the first interaction device, and then compares the second authentication key with at least one authentication key stored in the communication adapter or with at least one authentication key stored in an authentication server. If a match is found, it indicates that the first interaction device passes the authentication, and the authentication of the first interaction device by the communication adapter is complete. Thus, the two-way authentication is complete.</p><p id="p-0066" num="0065">S<b>204</b>. Receive encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device.</p><p id="p-0067" num="0066">The interaction data is used for interaction between the first interaction device and the second interaction device. The interaction data may be face image data, payment code data or control data. For example, when the interaction data is face image data, the first interaction device transmits encrypted face image data to the second interaction device, so that the second interaction device recognizes the face image data, compares a result of the recognition with facial features in a facial feature database to find a matching facial feature, and then returns payment information associated with the matching facial feature to the first interaction device for display, for the user to confirm a payment.</p><p id="p-0068" num="0067">The working key is obtained by mapping the authentication key by the first interaction device, and is used to encrypt and decrypt the data to be transmitted. For example, the first interaction device encrypts the authentication key to obtain the working key, or performs a hash operation on the authentication key to obtain the working key. The authentication key used by the first interaction device may be a key generated by the first interaction device according to the device serial number of the communication adapter, for example, a key obtained by encrypting the device serial number of the communication adapter with the serial number encryption key. In addition, the authentication key used by the first interaction device may also be a key generated according to the device serial number of the communication adapter and delivered by the authentication server.</p><p id="p-0069" num="0068">In an embodiment, both the communication adapter and the first interaction device may store the authentication key, and the authentication key is generated based on the device serial number of the communication adapter; and S<b>204</b> may further include: after the first interaction device obtains the working key by mapping the authentication key stored therein and encrypts the interaction data with the obtained working key to obtain the encrypted interaction data, receiving, by the communication adapter, the encrypted interaction data obtained by encrypting the interaction data and transmitted by the first interaction device. The authentication key stored in the first interaction device may be generated by the first interaction device according to the device serial number of the communication adapter, or the authentication key stored in the first interaction device may be generated according to the device serial number of the communication adapter and delivered by the authentication server. The method for generating the authentication key may be encrypting the device serial number of the communication adapter with the serial number encryption key to obtain the authentication key.</p><p id="p-0070" num="0069">Specifically, the first interaction device obtains the working key by mapping the authentication key stored therein, encrypts the interaction data with the obtained working key to obtain the encrypted interaction data, and then transmits the encrypted interaction data to the communication adapter, so that the communication adapter may receive the encrypted interaction data obtained by encrypting the interaction data and transmitted by the first interaction device.</p><p id="p-0071" num="0070">S<b>206</b>. Decrypt the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter.</p><p id="p-0072" num="0071">In an embodiment, both the communication adapter and the first interaction device may store the authentication key; S<b>206</b> may further include: obtaining, by the communication adapter, the working key by mapping the authentication key stored in the communication adapter, and decrypting the encrypted interaction data based on the obtained working key. The authentication key stored in the communication adapter may be generated according to the device serial number of the communication adapter, or the authentication key stored in the communication adapter may be generated according to the device serial number of the communication adapter and delivered by the authentication server.</p><p id="p-0073" num="0072">S<b>208</b>. Transmit interaction data obtained through the decryption to a second interaction device through a simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</p><p id="p-0074" num="0073">The device node is a virtual node for the communication adapter to communicate with the second interaction device. The device node is a virtual node simulated by the communication adapter after being inserted into a hardware interface of the second interaction device, and may include a human-machine interaction keyboard node and a human-machine interaction controller node. The human-machine interaction keyboard node may be a Universal Serial Bus-Human Interface Device (USB-HID) keyboard node. The human-machine interaction controller node may be a USB-HID controller node.</p><p id="p-0075" num="0074">The communication protocol may be a USB-HID protocol, which is a protocol for the communication adapter to connect to and communicate with the second interaction device. Since the communication protocol is natively adapted by an operating system of the second interaction device, that is, a protocol supported by the operating system by default, the communication adapter can be directly used without installing a driver when the user inserts the communication adapter into the second interaction device, thereby achieving realizes plug and play of the communication adapter.</p><p id="p-0076" num="0075">The communication protocol natively adapted to the device node may mean that: when the communication adapter is inserted into a corresponding hardware interface of the second interaction device, the device node may be generated by using the communication protocol, so that the communication protocol is natively adapted to the device node.</p><p id="p-0077" num="0076">In an embodiment, the communication adapter includes an HID interface chip. In a case that the communication adapter is inserted into the second interaction device, the communication adapter can simulate a device node through the HID interface chip.</p><p id="p-0078" num="0077">In an embodiment, S<b>208</b> may further include: converting, by the communication adapter, the interaction data obtained through the decryption into target interaction data complying with the communication protocol natively adapted to the device node; and transmitting the target interaction data obtained through format conversion to the second interaction device through the simulated device node identifiable by the second interaction device.</p><p id="p-0079" num="0078">The interaction data obtained through the decryption may exist in the form of a data packet. Specifically, the communication adapter parses the interaction data obtained through the decryption to obtain a header part and a body part, and then encapsulates the body part based on the communication protocol, to obtain the target interaction data in a target format complying with the communication protocol; or, adds a corresponding header to the interaction data based on the communication protocol, to obtain the target interaction data in a target format complying with the communication protocol. Then, the communication adapter transmits the target interaction data to the second interaction device through the simulated device node identifiable by the second interaction device.</p><p id="p-0080" num="0079">In an embodiment, the target interaction data may belong to control type data or transaction type data, and correspondingly, the interaction data also belongs to control type data or transaction type data. S<b>208</b> may further include: reporting, by the communication adapter, the target interaction data to the human-machine interaction controller node in a case that the target interaction data belongs to control type data, so that the second interaction device obtains the target interaction data through the human-machine interaction controller node; and reporting, by the communication adapter, the target interaction data to the human-machine interaction keyboard node in a case that the target interaction data belongs to transaction type data, so that the second interaction device obtains the target interaction data through the human-machine interaction keyboard node.</p><p id="p-0081" num="0080">Specifically, the communication adapter reads a packet header of the target interaction data, and in response to determining that the target interaction data belongs to control type data according to an interface identifier in the packet header, selects the human-machine interaction controller node for data reporting according to the control type data, and then reports the target interaction data to the human-machine interaction controller node; or, selects the human-machine interaction controller node for data reporting according to the interface identifier in the packet header, and then reports the target interaction data to the human-machine interaction controller node. In response to determining that the target interaction data belongs to transaction type data according to the interface identifier in the packet header, the communication adapter selects a human-machine interaction keyboard node for data reporting according to the transaction type data, and then reports the target interaction data to the human-machine interaction keyboard node; or, selects the human-machine interaction keyboard node for data reporting according to the interface identifier in the packet header, and then reports the target interaction data to the human-machine interaction keyboard node.</p><p id="p-0082" num="0081">In an embodiment, in a case that the encrypted interaction data or the control data received from the second interaction device belongs to a malicious attack packet, or a received network data packet originating from a network side terminal is a malicious attack packet, a security event is triggered, the security event being used for disabling the communication adapter.</p><p id="p-0083" num="0082">The security event may be an event for changing an operational status of the communication adapter.</p><p id="p-0084" num="0083">Specifically, the communication adapter further includes a tamper-proof point. When the tamper-proof point in the communication adapter detects an attack from the first interaction device, the second interaction device, or a network side terminal, it indicates that the transmitted data is at risk of being stolen. In this case, the tamper-proof point triggers a security event to disable the communication adapter.</p><p id="p-0085" num="0084">For a better understanding of the data transmission method, the application of the data transmission method to a face payment scenario is described. In the face payment scenario, the first interaction device may be a face scanning device configured to scan a face, the second interaction device may be a Point of Sales (POS) machine, and the communication adapter may be a Bluetooth dongle. The Bluetooth dongle is inserted into the second interaction device or integrated into the second interaction device. As shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the data transmission method may include the following operations:</p><p id="p-0086" num="0085">S<b>402</b>. The face scanning device scans a user's face to obtain face image data.</p><p id="p-0087" num="0086">S<b>404</b>. The face scanning device encrypts the face image data with a working key to obtain encrypted face image data.</p><p id="p-0088" num="0087">The face scanning device includes a secure element (SE) chip, and the SE chip encrypts the face image data with the working key.</p><p id="p-0089" num="0088">S<b>406</b>. The face scanning device transmits the encrypted face image data to a Bluetooth dongle through Bluetooth transparent transmission.</p><p id="p-0090" num="0089">S<b>408</b>. The Bluetooth dongle decrypts the received encrypted face image data with the working key to obtain face image data.</p><p id="p-0091" num="0090">The Bluetooth dongle includes a Bluetooth transparent transmission chip, an SE chip, an HID interface chip, a real-time clock (RTC) battery, and at least two tamper-proof points.</p><p id="p-0092" num="0091">The SE chip of the Bluetooth dongle decrypts the received encrypted face image data with the working key to obtain the face image data.</p><p id="p-0093" num="0092">S<b>410</b>. The Bluetooth dongle converts the face image data into face image data complying with a USB-HID protocol.</p><p id="p-0094" num="0093">S<b>412</b>. The Bluetooth dongle transmits the face image data complying with the USB-HID protocol to a POS machine through an HID keyboard node.</p><p id="p-0095" num="0094">S<b>414</b>. The POS machine recognizes the face image data, and obtains payment information matching a result of the recognition, for the user to confirm a payment.</p><p id="p-0096" num="0095">The payment information may include a payment account associated with the user. The payment information may be transmitted by the POS machine to the face scanning device through the Bluetooth dongle, so that a display of the face scanning device displays the payment information, for the user to confirm the payment.</p><p id="p-0097" num="0096">In the above embodiment, before data transmission is performed, the two-way authentication between the communication adapter and the first interaction device is performed, so as to ensure that the two devices involved in the data transmission are both reliable, and avoid an information security problem caused by the transmission of data to an unauthenticated device. After the two-way authentication is completed, the communication adapter starts to the encrypted interaction data transmitted by the first interaction device, and the encrypted interaction data is obtained by encrypting the interaction data based on the working key obtained by mapping the authentication key used in the two-way authentication, thereby effectively ensuring the security of interaction data during transmission. In addition, the communication adapter decrypts the encrypted interaction data through the working key obtained by mapping the authentication key stored therein, and transmits the interaction data obtained through the decryption to the second interaction device through the simulated device node identifiable by the second interaction device and based on the communication protocol of the second interaction device that is natively adapted to the device node, thereby avoiding the process of data encryption and decryption on the first interaction device and the second interaction device, eliminating the need for software adaptation on the two different devices, improving the universality of software, and improving the interaction effect between the first interaction device and the second interaction device. Moreover, because the device node simulated by the communication adapter is identifiable by the second interaction device, and the adopted communication protocol is natively adapted by the second interaction device, a compatibility between the communication adapter and the second interaction device can be achieved without installing a driver when the communication adapter is electrically connected to the second interaction device, thereby achieving a plug-and-play effect of the communication adapter, avoiding the preparation work before data transmission, and improving the overall operational efficiency of data transmission.</p><p id="p-0098" num="0097">In an embodiment, as shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the method may further include the following operations:</p><p id="p-0099" num="0098">S<b>502</b>. Receive, through the human-machine interaction controller node, control data transmitted by the second interaction device.</p><p id="p-0100" num="0099">The human-machine interaction controller node is a device node simulated after the communication adapter is inserted into the second interaction device. The human-machine interaction controller node is identifiable by the second interaction device, and the control data may be transmitted to this node, so that the second interaction device and the communication adapter obtain the transmitted control data from this node.</p><p id="p-0101" num="0100">S<b>504</b>. Convert the control data into serial port control data.</p><p id="p-0102" num="0101">S<b>506</b>. Encrypt the serial port control data according to the working key obtained by mapping the authentication key on the communication adapter to obtain encrypted control data.</p><p id="p-0103" num="0102">The SE chip on the communication adapter may map the authentication key to obtain the working key, then encrypt the serial port control data with the working key, and transmit the obtained encrypted control data to a wireless unit on the communication adapter. The wireless unit may include a Bluetooth transparent transmission chip or other wireless chips.</p><p id="p-0104" num="0103">S<b>508</b>. Transmit the encrypted control data to the first interaction device, the encrypted control data being used for instructing the first interaction device to decrypt the encrypted control data with a working key obtained by mapping the authentication key, and perform a control operation according to control data obtained through the decryption.</p><p id="p-0105" num="0104">The communication adapter may transmit the encrypted control data to the first interaction device through the wireless unit. For example, the communication adapter transmits the encrypted control data to the first interaction device through the Bluetooth transparent transmission chip by Bluetooth transparent transmission.</p><p id="p-0106" num="0105">In the above embodiment, the control data from the second interaction device is encrypted with the working key, and then the encrypted control data obtained by the encryption is transmitted to the first interaction device. The first interaction device decrypts the encrypted control data with the working key obtained by mapping the authentication key, and the working key is the working key obtained by mapping the authentication key, so that the security of the interaction data during transmission can be effectively ensured.</p><p id="p-0107" num="0106">In an embodiment, as shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, a data transmission system is provided. The system includes: a first interaction device <b>602</b>, a second interaction device <b>604</b>, and a communication adapter <b>606</b> wirelessly connected to the first interaction device and electrically connected to the second interaction device.</p><p id="p-0108" num="0107">The communication adapter <b>606</b> is configured to authenticate the first interaction device <b>602</b>.</p><p id="p-0109" num="0108">The first interaction device <b>602</b> is configured to authenticate the communication adapter <b>606</b> in a case that the communication adapter <b>606</b> has completed the authentication, and after completing the authentication of the communication adapter, encrypt interaction data based on a working key obtained by mapping an authentication key used in two-way authentication to obtain encrypted interaction data.</p><p id="p-0110" num="0109">The communication adapter <b>606</b> is further configured to receive the encrypted interaction data obtained by encrypting the interaction data based on the working key and transmitted by the first interaction device <b>602</b>.</p><p id="p-0111" num="0110">The communication adapter <b>606</b> may receive, through a wireless unit, the encrypted interaction data transmitted by the first interaction device <b>602</b>.</p><p id="p-0112" num="0111">The communication adapter <b>606</b> is further configured to decrypt the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter <b>606</b>.</p><p id="p-0113" num="0112">The communication adapter <b>606</b> may decrypt the encrypted interaction data through an SE chip. Specifically, after mapping the authentication key to obtain the working key, the SE chip in the communication adapter <b>606</b> decrypts the encrypted interaction data with the working key.</p><p id="p-0114" num="0113">The second interaction device <b>604</b> is configured to identify a device node simulated by the communication adapter <b>606</b>.</p><p id="p-0115" num="0114">The communication adapter <b>606</b> is further configured to transmit interaction data obtained through the decryption to the second interaction device <b>604</b> through the simulated device node identifiable by the second interaction device <b>604</b> and based on a communication protocol of the second interaction device <b>604</b> that is natively adapted to the device node.</p><p id="p-0116" num="0115">The communication adapter <b>606</b> simulates a virtual device node through the HID interface chip. The SE chip transmits the interaction data obtained through the decryption to the HID interface chip through a serial port. Then the HID interface chip converts the interaction data into target interaction data complying with the communication protocol, and then transmits the target interaction data to the second interaction device <b>604</b> through the device node.</p><p id="p-0117" num="0116">In an embodiment, the communication adapter <b>606</b> is further configured to receive a first challenge code transmitted by the first interaction device <b>602</b>; decrypt the first challenge code based on the authentication key to obtain a first random number, the first random number being a random number generated by the first interaction device <b>602</b>; generate a second random number, and perform a hash operation on the first random number to obtain a first hash value; encrypt the first hash value and the second random number based on the authentication key to obtain a second challenge code; and transmit the second challenge code to the first interaction device <b>602</b>;</p><p id="p-0118" num="0117">the first interaction device <b>602</b> is further configured to decrypt the received second challenge code based on the authentication key to obtain a first hash value, compare the first hash value with a second hash value obtained by the first interaction device <b>602</b> by encrypting the first random number based on the authentication key, and in response to the first hash value being same as the second hash value, perform a hash operation on a second random number obtained by decrypting the second challenge code, and return a second hash value obtained by the hash operation; and</p><p id="p-0119" num="0118">the communication adapter <b>606</b> is further configured to receive the second hash value returned by the first interaction device <b>602</b>, compare the second hash value with a third hash value obtained by performing a hash operation on the second random number based on the authentication key locally on the communication adapter <b>606</b>, and in response to the second hash value being same as the third hash value, determine that the two-way authentication between the communication adapter <b>606</b> and the first interaction device <b>602</b> is complete.</p><p id="p-0120" num="0119">The above encryption and decryption operations and the subsequent encryption and decryption operations may be executed by the SE chip of the first interaction device <b>106</b> or the SE chip of the communication adapter <b>606</b>. For example, the SE chip of the communication adapter <b>606</b> decrypts the first challenge code based on the authentication key to obtain the first random number.</p><p id="p-0121" num="0120">In an embodiment, the communication adapter <b>606</b> is further configured to receive a serial number obtaining request transmitted by the first interaction device <b>602</b>; obtain a device serial number specified in the serial number obtaining request; and return the obtained device serial number to the first interaction device <b>602</b>;</p><p id="p-0122" num="0121">the first interaction device <b>602</b> is further configured to generate an authentication key on the first interaction device <b>602</b> based on the returned device serial number; and</p><p id="p-0123" num="0122">the communication adapter <b>606</b> is further configured to generate an authentication key on the communication adapter <b>606</b> according to the obtained device serial number, the authentication key on the first interaction device <b>602</b> being same as the authentication key on the communication adapter <b>606</b>.</p><p id="p-0124" num="0123">In an embodiment, the authentication key on the first interaction device <b>602</b> is obtained by encrypting the returned device serial number based on a serial number encryption key stored in the first interaction device <b>602</b>.</p><p id="p-0125" num="0124">The communication adapter <b>606</b> is further configured to obtain the serial number encryption key stored in the communication adapter <b>606</b>; and encrypt the obtained device serial number based on the serial number encryption key to obtain the authentication key on the communication adapter <b>606</b>.</p><p id="p-0126" num="0125">In an embodiment, both the communication adapter <b>606</b> and the first interaction device <b>602</b> store the authentication key; the authentication key is generated based on a device serial number of the communication adapter <b>606</b>;</p><p id="p-0127" num="0126">the communication adapter <b>606</b> is further configured to, after the first interaction device <b>602</b> obtains the working key by mapping the authentication key stored therein and encrypts the interaction data with the obtained working key to obtain the encrypted interaction data, receive the encrypted interaction data obtained by encrypting the interaction data and transmitted by the first interaction device <b>602</b>; and obtain the working key by mapping the authentication key stored in the communication adapter <b>606</b>, and decrypting the encrypted interaction data based on the obtained working key.</p><p id="p-0128" num="0127">In an embodiment, the communication adapter <b>606</b> is further configured to convert the interaction data obtained through the decryption into target interaction data complying with the communication protocol natively adapted to the device node; and transmit the target interaction data obtained through format conversion to the second interaction device <b>604</b> through the simulated device node identifiable by the second interaction device <b>604</b>.</p><p id="p-0129" num="0128">In an embodiment, the device node includes a human-machine interaction keyboard node and a human-machine interaction controller node; and the communication adapter <b>606</b> is further configured to: report the target interaction data to the human-machine interaction controller node in a case that the target interaction data belongs to control type data, so that the second interaction device <b>604</b> obtains the target interaction data through the human-machine interaction controller node; and report the target interaction data to the human-machine interaction keyboard node in a case that the target interaction data belongs to transaction type data, so that the second interaction device <b>604</b> obtains the target interaction data through the human-machine interaction keyboard node.</p><p id="p-0130" num="0129">In an embodiment, the communication adapter <b>606</b> is further configured to trigger a security event, in a case that the encrypted interaction data or the control data received from the second interaction device <b>604</b> belongs to a malicious attack packet, or a received network data packet originating from a network side terminal is a malicious attack packet, the security event being used for disabling the communication adapter <b>606</b>.</p><p id="p-0131" num="0130">In response to determining that a tamper-proof point in the communication adapter <b>606</b> is maliciously attacked, the security event is triggered to disable the communication adapter <b>606</b>.</p><p id="p-0132" num="0131">In the above embodiment, before data transmission is performed, the communication adapter performs the two-way authentication between the communication adapter and the first interaction device, so as to ensure that the two devices involved in the data transmission are both reliable, and avoid an information security problem caused by the transmission of data to an unauthenticated device. After the two-way authentication is completed, the communication adapter starts to the encrypted interaction data transmitted by the first interaction device, and the encrypted interaction data is obtained by encrypting the interaction data based on the working key obtained by mapping the authentication key used in the two-way authentication, thereby effectively ensuring the security of interaction data during transmission. In addition, the communication adapter decrypts the encrypted interaction data through the working key obtained by mapping the authentication key stored therein, and transmits the interaction data obtained through the decryption to the second interaction device through the simulated device node identifiable by the second interaction device and based on the communication protocol of the second interaction device that is natively adapted to the device node, thereby avoiding the process of data encryption and decryption on the first interaction device and the second interaction device, eliminating the need for software adaptation on the two different devices, improving the universality of software, and improving the interaction effect between the first interaction device and the second interaction device. Moreover, because the device node simulated by the communication adapter is identifiable by the second interaction device, and the adopted communication protocol is natively adapted by the second interaction device, a compatibility between the communication adapter and the second interaction device can be achieved without installing a driver when the communication adapter is electrically connected to the second interaction device, thereby achieving a plug-and-play effect of the communication adapter, avoiding the preparation work before data transmission, and improving the overall operational efficiency of data transmission.</p><p id="p-0133" num="0132">In an embodiment, the device node includes a human-machine interaction controller node; and</p><p id="p-0134" num="0133">the communication adapter <b>606</b> is further configured to: receive, through the human-machine interaction controller node, control data transmitted by the second interaction device <b>604</b>; convert the control data into serial port control data; encrypt the serial port control data according to the working key obtained by mapping the authentication key on the communication adapter <b>606</b> to obtain encrypted control data; and transmit the encrypted control data to the first interaction device <b>602</b>; and</p><p id="p-0135" num="0134">the first interaction device <b>602</b> is further configured to decrypt the encrypted control data with a working key obtained by mapping the authentication key, and perform a control operation according to control data obtained through the decryption.</p><p id="p-0136" num="0135">In the above embodiment, the control data from the second interaction device is encrypted with the working key, and then the encrypted control data obtained by the encryption is transmitted to the first interaction device. The first interaction device decrypts the encrypted control data with the working key obtained by mapping the authentication key, and the working key is the working key obtained by mapping the authentication key, so that the security of the interaction data during transmission can be effectively ensured.</p><p id="p-0137" num="0136">When the data transmission system is applied to a face payment scenario, as shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the data transmission system includes a face scanning device, a Bluetooth dongle and a POS machine.</p><p id="p-0138" num="0137">A) Face scanning device: It includes an SE chip, which may be configured to manage keys and encrypt and decrypt data transparently transmitted by Bluetooth. In addition, the face scanning device also has a Bluetooth function, and can support Blue <b>4</b>.<b>0</b> and above.</p><p id="p-0139" num="0138">B) Bluetooth dongle It includes a Bluetooth transparent transmission chip, an SE chip, an HID interface chip and a tamper-proof point, etc.</p><p id="p-0140" num="0139">The HID interface chip is a serial port to USB HID communication chip.</p><p id="p-0141" num="0140">C) POS machine: It is a cashier POS host on a merchant side.</p><p id="p-0142" num="0141">Next, the components included in the Bluetooth dongle are explained in detail:</p><p id="p-0143" num="0142">1) Bluetooth Transparent Transmission Chip</p><p id="p-0144" num="0143">The Bluetooth transparent transmission chip can perform two-way data transmission, as follows:</p><p id="p-0145" num="0144">a. Serial data transmitted from the POS machine and encrypted by the SE chip is transmitted to the face scanning device through the Bluetooth transparent transmission chip.</p><p id="p-0146" num="0145">b. Encrypted data transmitted from the face scanning device through the Bluetooth transparent transmission chip is decrypted by the SE chip, and data obtained through the decryption is transmitted to the POS machine.</p><p id="p-0147" num="0146">2) HID Interface Chip</p><p id="p-0148" num="0147">After the HID interface chip is inserted into the POS machine, two HID device nodes may be simulated on the POS machine. The device nodes include an HID keyboard node and an HID controller node. The HID interface chip may convert data conforming to a transmission format of the HID interface chip into data complying with the USB HID protocol standard, and then transmit the converted data to the POS machine through the simulated device node.</p><p id="p-0149" num="0148">Systems such as Windows, Android, and Linux all support the USB HID protocol by default, so the driver-free update is realized on the POS machine side, and plug-and-play is achieved.</p><p id="p-0150" num="0149">3) SE Chip</p><p id="p-0151" num="0150">A security area of the SE chip stores keys of the Bluetooth dongle, such as an authentication key and a working key. The following functions can be performed by the SE chip:</p><p id="p-0152" num="0151">a. two-way authentication with the face scanning device; and</p><p id="p-0153" num="0152">b. encryption of the data transparently transmitted by Bluetooth.</p><p id="p-0154" num="0153">4) Tamper-Proof Point</p><p id="p-0155" num="0154">After data is decrypted by the SE chip, data obtained through the decryption is transmitted to the HID interface chip through a serial port. If a PCB is directly exposed, the data is at risk of being stolen. Therefore, a tamper-proof point is configured on the Bluetooth dongle. When there is an external attack, the tamper-proof point can trigger a security event to disable the Bluetooth dongle device.</p><p id="p-0156" num="0155">With the above system, the following method operations can be performed: generation of an authentication key, two-way authentication between the Bluetooth dongle and the face scanning device, as well as data encryption and transmission.</p><p id="p-0157" num="0156">(I) Generation of authentication key.</p><p id="p-0158" num="0157">As shown in <figref idref="DRAWINGS">FIG. <b>8</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>8</b>B</figref>, the process of generating the authentication key may include the following operations:</p><p id="p-0159" num="0158">1) Obtain a device serial number of the Bluetooth dongle.</p><p id="p-0160" num="0159">2) Encrypt the device serial number with a main key KEY_Main, and use a result of the encryption as the authentication key. The encryption process is as follows:</p><p id="p-0161" num="0160">KEY_Auth=Encrypt(KEY_Main,SN).</p><p id="p-0162" num="0161">During the data transmission process, a static or dynamically changing working key may be generated based on the authentication key, and the data to be transmitted may be encrypted and decrypted with the working key.</p><p id="p-0163" num="0162">(II) Two-way authentication between the face scanning device and the Bluetooth dongle.</p><p id="p-0164" num="0163">As shown in <figref idref="DRAWINGS">FIG. <b>8</b><i>b</i></figref>, the process of the two-way authentication may include the following operations:</p><p id="p-0165" num="0164">1) The face scanning device requests the Bluetooth dongle for the device serial number of the Bluetooth dongle.</p><p id="p-0166" num="0165">2) The face scanning device generates an authentication key KEY_Auth according to the device serial number of the Bluetooth dongle.</p><p id="p-0167" num="0166">3) The face scanning device generates a true random number TRNG_A locally, and performs a hash operation on the TRNG_A to generate a corresponding hash value HASH_A=Hash(TRNG_A).</p><p id="p-0168" num="0167">4) The face scanning device encrypts the true random number TRNG_A with the authentication key locally to generate a challenge code CODE_A.</p><p id="p-0169" num="0168">CODE_A=Encrypt(KEY_Auth,TRNG_A).</p><p id="p-0170" num="0169">5) The face scanning device transmits the challenge code CODE_A to the Bluetooth dongle through Bluetooth transparent transmission.</p><p id="p-0171" num="0170">6) The Bluetooth dongle decrypts CODE_A with the authentication key, and performs a hash operation on the true random number TRNG_A obtained through the decryption to obtain HASH_A1.</p><p id="p-0172" num="0171">7) The Bluetooth dongle generates a true random number TRNG_B locally.</p><p id="p-0173" num="0172">8) The Bluetooth dongle encrypts HASH_A1 and TRNG_B with the authentication key to obtain a challenge code CODE_B.</p><p id="p-0174" num="0173">CODE_B=Encrypt(KEY_Auth,HASH_A1,TRNG_B).</p><p id="p-0175" num="0174">9) The Bluetooth dongle transmits the challenge code CODE_B to the face scanning device through Bluetooth transparent transmission.</p><p id="p-0176" num="0175">10) The face scanning device decrypts CODE_B with the authentication key to obtain HASH_A1 and TRNG_B.</p><p id="p-0177" num="0176">11) The face scanning device compares HASH_A generated by itself with the HASH_A1 generated by the Bluetooth dongle. When a result of the comparison indicates that HASH_A matches HASH_A1, it is determined that the Bluetooth dongle passes the authentication performed by the face scanning device. Otherwise, it is determined that the authentication fails and the process is ended.</p><p id="p-0178" num="0177">12) The face scanning device performs a hash operation on the true random number TRNG_B of the Bluetooth dongle to obtain HASH_B1.</p><p id="p-0179" num="0178">13) The face scanning device encrypts HASH_B1 with the authentication key, and transmits the encrypted HASH_B1 to the Bluetooth dongle through Bluetooth transparent transmission.</p><p id="p-0180" num="0179">14) The Bluetooth dongle decrypts the encrypted HASH_B1 with the authentication key to obtain HASH_B1.</p><p id="p-0181" num="0180">15) The Bluetooth dongle compares HASH_B generated by itself with the HASH_B1 generated by the face scanning device. If a result of the comparison indicates that HASH_B matches HASH_B1, it is determined that the face scanning device passes the authentication performed by the Bluetooth dongle. Otherwise, it is determined that the authentication fails and the process is ended.</p><p id="p-0182" num="0181">(III) After the two-way authentication is completed, the face scanning device and the Bluetooth dongle are paired according to a Bluetooth standard protocol, and establish a data communication link.</p><p id="p-0183" num="0182">(IV) Data encryption and transmission.</p><p id="p-0184" num="0183">1) After a Bluetooth transmission channel is established between the face scanning device and the Bluetooth dongle, a working key is generated according to the authentication key.</p><p id="p-0185" num="0184">2) When two-way data transmission is performed, the SE chip may use the working key to encrypt and decrypt the data, to realize the encryption and decryption of the data transparently transmitted by Bluetooth.</p><p id="p-0186" num="0185">The transmission processes of data of different types or services are similar, but there are some differences as follows:</p><p id="p-0187" num="0186">(1) Transmission of Payment Code Data</p><p id="p-0188" num="0187">A) The face scanning device generates a payment code.</p><p id="p-0189" num="0188">B) The SE chip of the face scanning device encrypts payment code data with the authentication key.</p><p id="p-0190" num="0189">C) Transmit the encrypted payment code data to the Bluetooth transparent transmission chip on the Bluetooth dongle by Bluetooth transparent transmission.</p><p id="p-0191" num="0190">D) After receiving the encrypted payment code data, the Bluetooth transparent transmission chip on the Bluetooth dongle transmits the encrypted payment code data to the SE chip on the Bluetooth dongle through a serial port.</p><p id="p-0192" num="0191">E) The SE chip decrypts the payment code data with the authentication key.</p><p id="p-0193" num="0192">F) The SE chip transmits the decrypted payment code data to the HID interface chip through a serial port.</p><p id="p-0194" num="0193">G) The HID interface chip converts the received payment code data into payment code data complying with the HID protocol, and then reports same to the HID keyboard node.</p><p id="p-0195" num="0194">H) The POS machine obtains the payment code data through the HID keyboard node, and then provides the payment code data for calling by an application layer.</p><p id="p-0196" num="0195">(2) Transmission of Control Data</p><p id="p-0197" num="0196">The control data may be bidirectionally communicated in the data transmission system.</p><p id="p-0198" num="0197">The process of transmitting control data by the face scanning device is similar to the process of transmitting payment code data, and the main difference lies that the device node corresponding to the POS machine varies with the two processes, where the control data is transmitted to the HID controller node, and the payment code data is transmitted to the HID keyboard node. Next, the process of transmitting control data from the POS machine to the face scanning device is mainly described.</p><p id="p-0199" num="0198">A) An application layer Enterprise Resource Planning (ERP) system in the POS machine delivers the control data to the HID controller node.</p><p id="p-0200" num="0199">B) A driver layer transmits the control data received by the controller node to a corresponding hardware device CH<b>9329</b> through a USB interface.</p><p id="p-0201" num="0200">C) CH<b>9329</b> converts the control data received by the USB interface into serial control data and transmits same to the SE chip on the dongle.</p><p id="p-0202" num="0201">D) The SE chip encrypts the control data with an authenticated key, and transmits the encrypted control data to the Bluetooth transparent transmission chip through a serial port.</p><p id="p-0203" num="0202">E) The Bluetooth transparent transmission chip CH<b>9141</b> transparently transmits the received ciphertext to the face scanning device through Bluetooth.</p><p id="p-0204" num="0203">F) The face scanning device transmits the control data received through Bluetooth to the SE chip inside the face scanning device.</p><p id="p-0205" num="0204">G) The SE chip decrypts the control data with an authenticated key.</p><p id="p-0206" num="0205">H) Provide the decrypted control data for calling by the application layer.</p><p id="p-0207" num="0206">The following beneficial effects can be produced by implementing the solution of the above embodiment.</p><p id="p-0208" num="0207">First, the wireless transmission has the advantages of low costs, driver-free and two-way communication.</p><p id="p-0209" num="0208">Secondly, the encryption and decryption of the data transmitted by Bluetooth improves the security of data transmission.</p><p id="p-0210" num="0209">It is to be understood that although the operations of the flowcharts in <figref idref="DRAWINGS">FIG. <b>2</b></figref> to <figref idref="DRAWINGS">FIG. <b>4</b></figref> are shown sequentially according to arrows, the operations are not necessarily performed in the orders indicated by arrows. Unless otherwise explicitly, execution of the operations is not strictly limited, and the operations may be performed in other sequences. In addition, at least some operations in <figref idref="DRAWINGS">FIG. <b>2</b></figref> to <figref idref="DRAWINGS">FIG. <b>4</b></figref> may include a plurality of operations or a plurality of stages. The operations or the stages are not necessarily performed at the same moment, and instead may be performed at different moments. The operations or the stages are not necessarily performed sequentially, and instead may be performed in turn or alternately with another operation or at least some of operations or stages of another operation.</p><p id="p-0211" num="0210">In an embodiment, as shown in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, a data transmission apparatus is provided. The apparatus may be embodied as a part of a computer device in the form of software modules, hardware modules, or a combination thereof. The apparatus includes: an authentication module <b>902</b>, a receiving module <b>904</b>, a decryption module <b>906</b> and a transmission module <b>908</b>.</p><p id="p-0212" num="0211">The authentication module <b>902</b> is configured to perform two-way authentication with a first interaction device.</p><p id="p-0213" num="0212">The receiving module <b>904</b> is configured to receive encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device, after the two-way authentication is completed, the working key being obtained by the first interaction device by mapping an authentication key used in the two-way authentication.</p><p id="p-0214" num="0213">The decryption module <b>906</b> is configured to decrypt the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter.</p><p id="p-0215" num="0214">The transmission module <b>908</b> is configured to transmit interaction data obtained through the decryption to a second interaction device through a simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</p><p id="p-0216" num="0215">In an embodiment, the authentication module <b>902</b> may be further configured to receive a first challenge code transmitted by the first interaction device; decrypt the first challenge code based on the authentication key to obtain a first random number, the first random number being a random number generated by the first interaction device; generate a second random number, and perform a hash operation on the first random number to obtain a first hash value; encrypts the first hash value and the second random number based on the authentication key to obtain a second challenge code; transmits the second challenge code to the first interaction device, so that the first interaction device decrypts the second challenge code based on the authentication key to obtain a first hash value, compares the first hash value with a second hash value obtained by the first interaction device by encrypting the first random number based on the authentication key, and in response to the first hash value being same as the second hash value, performs a hash operation on a second random number obtained by decrypting the second challenge code, and returns a second hash value obtained by the hash operation; and receives the second hash value returned by the first interaction device, compares the second hash value with a third hash value obtained by performing a hash operation on the second random number based on the authentication key locally on the communication adapter, and in response to the second hash value being same as the third hash value, determines that the two-way authentication between the communication adapter and the first interaction device is complete.</p><p id="p-0217" num="0216">In an embodiment, as shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the apparatus may further include:</p><p id="p-0218" num="0217">the receiving module <b>904</b> being further configured to receive a serial number obtaining request transmitted by the first interaction device,</p><p id="p-0219" num="0218">an obtaining module <b>910</b>, configured to obtain a device serial number specified in the serial number obtaining request;</p><p id="p-0220" num="0219">the transmission module <b>908</b> being further configured to return the obtained device serial number to the first interaction device, so that the first interaction device generates an authentication key on the first interaction device based on the returned device serial number; and</p><p id="p-0221" num="0220">a generation module <b>912</b>, configured to generate an authentication key on the communication adapter according to the obtained device serial number, the authentication key on the first interaction device being same as the authentication key on the communication adapter.</p><p id="p-0222" num="0221">In an embodiment, the authentication key on the first interaction device is obtained by encrypting the returned device serial number based on a serial number encryption key stored in the first interaction device.</p><p id="p-0223" num="0222">The generation module <b>912</b> may be further configured to obtain the serial number encryption key stored in the communication adapter; and encrypt the obtained device serial number based on the serial number encryption key to obtain the authentication key on the communication adapter.</p><p id="p-0224" num="0223">In an embodiment, both the communication adapter and the first interaction device store the authentication key; the authentication key is generated based on a device serial number of the communication adapter;</p><p id="p-0225" num="0224">the receiving module <b>904</b> may be further configured to, after the first interaction device obtains the working key by mapping the authentication key stored therein and encrypts the interaction data with the obtained working key to obtain the encrypted interaction data, receive the encrypted interaction data obtained by encrypting the interaction data and transmitted by the first interaction device; and</p><p id="p-0226" num="0225">the decryption module <b>906</b> may be further configured to obtain the working key by mapping the authentication key stored in the communication adapter, and decrypt the encrypted interaction data based on the obtained working key.</p><p id="p-0227" num="0226">In an embodiment, the transmission module <b>908</b> may be further configured to convert the interaction data obtained through the decryption into target interaction data complying with the communication protocol natively adapted to the device node; and transmit the target interaction data obtained through format conversion to the second interaction device through the simulated device node identifiable by the second interaction device.</p><p id="p-0228" num="0227">In an embodiment, the device node includes a human-machine interaction keyboard node and a human-machine interaction controller node; and</p><p id="p-0229" num="0228">the transmission module <b>908</b> may be further configured to: report the target interaction data to the human-machine interaction controller node in a case that the target interaction data belongs to control type data, so that the second interaction device obtains the target interaction data through the human-machine interaction controller node; and report the target interaction data to the human-machine interaction keyboard node in a case that the target interaction data belongs to transaction type data, so that the second interaction device obtains the target interaction data through the human-machine interaction keyboard node.</p><p id="p-0230" num="0229">In an embodiment, as shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the apparatus may further include:</p><p id="p-0231" num="0230">a triggering module <b>914</b>, configured to trigger a security event, in a case that the encrypted interaction data or the control data received from the second interaction device belongs to a malicious attack packet, or a received network data packet originating from a network side terminal is a malicious attack packet, the security event being used for disabling the communication adapter.</p><p id="p-0232" num="0231">In the above embodiment, before data transmission is performed, the two-way authentication between the communication adapter and the first interaction device is performed, so as to ensure that the two devices involved in the data transmission are both reliable, and avoid an information security problem caused by the transmission of data to an unauthenticated device. After the two-way authentication is completed, the communication adapter starts to the encrypted interaction data transmitted by the first interaction device, and the encrypted interaction data is obtained by encrypting the interaction data based on the working key obtained by mapping the authentication key used in the two-way authentication, thereby effectively ensuring the security of interaction data during transmission. In addition, the communication adapter decrypts the encrypted interaction data through the working key obtained by mapping the authentication key stored therein, and transmits the interaction data obtained through the decryption to the second interaction device through the simulated device node identifiable by the second interaction device and based on the communication protocol of the second interaction device that is natively adapted to the device node, thereby avoiding the process of data encryption and decryption on the first interaction device and the second interaction device, eliminating the need for software adaptation on the two different devices, improving the universality of software, and improving the interaction effect between the first interaction device and the second interaction device. Moreover, because the device node simulated by the communication adapter is identifiable by the second interaction device, and the adopted communication protocol is natively adapted by the second interaction device, a compatibility between the communication adapter and the second interaction device can be achieved without installing a driver when the communication adapter is electrically connected to the second interaction device, thereby achieving a plug-and-play effect of the communication adapter, avoiding the preparation work before data transmission, and improving the overall operational efficiency of data transmission.</p><p id="p-0233" num="0232">In an embodiment, the device node includes a human-machine interaction controller node; and as shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the apparatus may further include:</p><p id="p-0234" num="0233">the receiving module <b>904</b> being further configured to receive, through the human-machine interaction controller node, control data transmitted by the second interaction device;</p><p id="p-0235" num="0234">a conversion module <b>916</b>, configured to convert the control data into serial port control data;</p><p id="p-0236" num="0235">an encryption module <b>918</b>, configured to encrypt the serial port control data according to the working key obtained by mapping the authentication key on the communication adapter to obtain encrypted control data; and</p><p id="p-0237" num="0236">the transmission module <b>908</b> being further configured to transmit the encrypted control data to the first interaction device, the encrypted control data being used for instructing the first interaction device to decrypt the encrypted control data with a working key obtained by mapping the authentication key, and perform a control operation according to control data obtained through the decryption.</p><p id="p-0238" num="0237">In the above embodiment, the control data from the second interaction device is encrypted with the working key, and then the encrypted control data obtained by the encryption is transmitted to the first interaction device. The first interaction device decrypts the encrypted control data with the working key obtained by mapping the authentication key, and the working key is the working key obtained by mapping the authentication key, so that the security of the interaction data during transmission can be effectively ensured.</p><p id="p-0239" num="0238">For a specific limitation on the data transmission apparatus, refer to the limitation on the data transmission method above. Details are not described herein again. The modules in the foregoing data transmission apparatus may be implemented entirely or partially by software, hardware, or a combination thereof. The foregoing modules may be built in or independent of a processor of a computer device in a hardware form, or may be stored in a memory of the computer device in a software form, so that the processor invokes and performs an operation corresponding to each of the foregoing modules.</p><p id="p-0240" num="0239">In an embodiment, a computer device is provided. The computer device may be a Bluetooth dongle, and an internal structure diagram thereof may be shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>. The computer device includes a processor, a memory, and a network interface that are connected by using a system bus. The processor of the computer device is configured to provide computing and control capabilities. The memory of the computer device includes a non-volatile storage medium and an internal memory. The non-volatile storage medium stores an operating system, computer-readable instructions, and a database. The internal memory provides an environment for running of the operating system and the computer-readable instructions in the non-volatile storage medium. The database of the computer device is configured to store interaction data, an authentication key, a working key, and the like. The network interface of the computer device is configured to communicate with an external terminal through a network connection. The computer-readable instructions are executed by the processor to implement a data transmission method.</p><p id="p-0241" num="0240">A person skilled in the art may understand that, the structure shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref> is only a block diagram of a part of a structure correlated to a solution of the disclosure and does not limit the computer device to which the solution is applied. Specifically, the computer device may include more or fewer members than those in the drawings, or include a combination of some members, or include different member layouts.</p><p id="p-0242" num="0241">In an embodiment, a computer device is provided, including a memory and a processor, the memory storing computer-readable instructions, the processor, when executing the computer-readable instructions, implementing the operations in the foregoing method embodiments.</p><p id="p-0243" num="0242">In an embodiment, a computer-readable storage medium is provided, storing computer-readable instructions, the computer-readable instructions, when executed by a processor, implementing the operations in the foregoing method embodiments.</p><p id="p-0244" num="0243">In an embodiment, a computer program product is provided. The computer program product includes computer instructions, and the computer instructions are stored in a computer-readable storage medium. The processor of the computer device reads the computer instructions from the computer-readable storage medium, and the processor executes the computer instructions, to cause the computer device to perform the operations in the method embodiments.</p><p id="p-0245" num="0244">A person of ordinary skill in the art may understand that all or some of the procedures of the methods of the foregoing embodiments may be implemented by computer-readable instructions instructing relevant hardware. The computer-readable instructions may be stored in a non-volatile computer-readable storage medium. When the computer-readable instructions are executed, the procedures of the embodiments of the foregoing methods may be included. Any reference to a memory, a storage, a database, or another medium used in the embodiments provided may include at least one of a non-volatile memory and a volatile memory. The non-volatile memory may include a read-only memory (ROM), a magnetic tape, a floppy disk, a flash memory, an optical memory, and the like. The volatile memory may include a random access memory (RAM) or an external cache. For the purpose of description instead of limitation, the RAM is available in a plurality of forms, such as a static RAM (SRAM) or a dynamic RAM (DRAM).</p><p id="p-0246" num="0245">Technical features of the foregoing embodiments may be randomly combined. To make description concise, not all possible combinations of the technical features in the foregoing embodiments are described. However, the combinations of these technical features shall be considered as falling within the scope recorded by this specification provided that no conflict exists.</p><p id="p-0247" num="0246">The foregoing embodiments only describe several implementations of the disclosure, which are described specifically and in detail, but cannot be construed as a limitation to the patent scope. For a person of ordinary skill in the art, several transformations and improvements can be made without departing from the idea of the disclosure. These transformations and improvements belong to the protection scope. Therefore, the protection scope of the disclosure shall be subject to the appended claims.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A data transmission method, executed by a communication adapter, and the method comprising:<claim-text>performing two-way authentication with a first interaction device;</claim-text><claim-text>receiving encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device, after the two-way authentication is completed, the working key being obtained by the first interaction device by mapping an authentication key used in the two-way authentication;</claim-text><claim-text>decrypting the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter; and</claim-text><claim-text>transmitting interaction data obtained through the decryption to a second interaction device through a simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The data transmission method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the performing comprises:<claim-text>receiving a first challenge code transmitted by the first interaction device;</claim-text><claim-text>decrypting the first challenge code based on the authentication key to obtain a first random number, the first random number being a random number generated by the first interaction device;</claim-text><claim-text>performing a hash operation on the first random number to obtain a first hash value;</claim-text><claim-text>generating a second random number, and encrypting the first hash value and the second random number based on the authentication key to obtain a second challenge code;</claim-text><claim-text>transmitting the second challenge code to the first interaction device, so that the first interaction device decrypts the second challenge code based on the authentication key to obtain a first hash value, compares the first hash value with a second hash value obtained by the first interaction device by encrypting the first random number based on the authentication key, and in response to the first hash value being same as the second hash value, performs a hash operation on a second random number obtained by decrypting the second challenge code, and returns a second hash value obtained by the hash operation; and</claim-text><claim-text>receiving the second hash value returned by the first interaction device, comparing the second hash value with a third hash value obtained by performing a hash operation on the second random number based on the authentication key locally on the communication adapter, and in response to the second hash value being same as the third hash value, determining that the two-way authentication between the communication adapter and the first interaction device is complete.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The data transmission method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the method further comprises:<claim-text>receiving a serial number obtaining request transmitted by the first interaction device;</claim-text><claim-text>obtaining a device serial number specified in the serial number obtaining request;</claim-text><claim-text>returning the obtained device serial number to the first interaction device, so that the first interaction device generates an authentication key on the first interaction device based on the returned device serial number; and</claim-text><claim-text>generating an authentication key on the communication adapter according to the obtained device serial number, the authentication key on the first interaction device being same as the authentication key on the communication adapter.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The data transmission method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the authentication key on the first interaction device is obtained by encrypting the returned device serial number based on a serial number encryption key stored in the first interaction device; and<claim-text>the generating an authentication key on the communication adapter according to the obtained device serial number comprises:</claim-text><claim-text>obtaining the serial number encryption key stored in the communication adapter; and</claim-text><claim-text>encrypting the obtained device serial number based on the serial number encryption key to obtain the authentication key on the communication adapter.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The data transmission method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein both the communication adapter and the first interaction device store the authentication key, the authentication key is generated based on a device serial number of the communication adapter, and the receiving encrypted interaction data comprises:<claim-text>after the first interaction device obtains the working key by mapping the authentication key stored therein and encrypts the interaction data with the obtained working key to obtain the encrypted interaction data, receiving the encrypted interaction data obtained by encrypting the interaction data and transmitted by the first interaction device; and</claim-text><claim-text>the decrypting the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter comprises:</claim-text><claim-text>obtaining the working key by mapping the authentication key stored in the communication adapter, and decrypting the encrypted interaction data based on the obtained working key.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The data transmission method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the transmitting interaction data comprises:<claim-text>converting the interaction data obtained through the decryption into target interaction data complying with the communication protocol natively adapted to the device node; and</claim-text><claim-text>transmitting the target interaction data obtained through format conversion to the second interaction device through the simulated device node identifiable by the second interaction device.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The data transmission method according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the device node comprises a human-machine interaction keyboard node and a human-machine interaction controller node, and the transmitting the target interaction data comprises:<claim-text>reporting the target interaction data to the human-machine interaction controller node in a case that the target interaction data belongs to control type data, so that the second interaction device obtains the target interaction data through the human-machine interaction controller node; and</claim-text><claim-text>reporting the target interaction data to the human-machine interaction keyboard node in a case that the target interaction data belongs to transaction type data, so that the second interaction device obtains the target interaction data through the human-machine interaction keyboard node.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The data transmission method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the device node comprises a human-machine interaction controller node; and the method further comprises:<claim-text>receiving, through the human-machine interaction controller node, control data transmitted by the second interaction device;</claim-text><claim-text>converting the control data into serial port control data;</claim-text><claim-text>encrypting the serial port control data according to the working key obtained by mapping the authentication key on the communication adapter to obtain encrypted control data; and</claim-text><claim-text>transmitting the encrypted control data to the first interaction device, the encrypted control data being used for instructing the first interaction device to decrypt the encrypted control data with a working key obtained by mapping the authentication key, and perform a control operation according to control data obtained through the decryption.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The data transmission method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the method further comprises:<claim-text>in a case that the encrypted interaction data or the control data received from the second interaction device belongs to a malicious attack packet, or a received network data packet originating from a network side terminal is a malicious attack packet,</claim-text><claim-text>triggering a security event, the security event being used for disabling the communication adapter.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A data transmission system comprising:<claim-text>at least one memory configured to store program code; and</claim-text><claim-text>at least one processor configured to read the program code and operate as instructed by the program code, the program code comprising:</claim-text><claim-text>authentication code configured to cause the at least one processor to perform two-way authentication with a first interaction device;</claim-text><claim-text>receiving configured to cause the at least one processor to receive encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device, after the two-way authentication is completed, the working key being obtained by the first interaction device by mapping an authentication key used in the two-way authentication;</claim-text><claim-text>decryption code configured to cause the at least one processor to decrypt the encrypted interaction data according to the working key obtained by mapping the authentication key on a communication adapter; and</claim-text><claim-text>transmission code configured to cause the at least one processor to transmit interaction data obtained through the decryption to a second interaction device through a simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The data transmission system according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the authentication code is further configured to cause the at least one processor to:<claim-text>receive a first challenge code transmitted by the first interaction device;</claim-text><claim-text>decrypt the first challenge code based on the authentication key to obtain a first random number, the first random number being a random number generated by the first interaction device;</claim-text><claim-text>generate a second random number, and perform a hash operation on the first random number to obtain a first hash value;</claim-text><claim-text>encrypt the first hash value and the second random number based on the authentication key to obtain a second challenge code;</claim-text><claim-text>transmit the second challenge code to the first interaction device, so that the first interaction device decrypts the second challenge code based on the authentication key to obtain a first hash value, compare the first hash value with a second hash value obtained by the first interaction device by encrypting the first random number based on the authentication key, and in response to the first hash value being same as the second hash value, perform a hash operation on a second random number obtained by decrypting the second challenge code, and returns a second hash value obtained by the hash operation; and</claim-text><claim-text>receive the second hash value returned by the first interaction device, compare the second hash value with a third hash value obtained by performing a hash operation on the second random number based on the authentication key locally on the communication adapter, and in response to the second hash value being same as the third hash value, determine that the two-way authentication between the communication adapter and the first interaction device is complete.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The data transmission system according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the receiving code is further configured to cause the at least one processor to receive a serial number obtaining request transmitted by the first interaction device; and<claim-text>the program code further comprises obtaining code configured to cause the at least one processor to obtain a device serial number specified in the serial number obtaining request,</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The data transmission system according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the transmission code is further configured to cause the at least one processor to return the obtained device serial number to the first interaction device, so that the first interaction device generates an authentication key on the first interaction device based on the returned device serial number, and<claim-text>the program code further comprises generation code configured to cause the at least one processor to generate an authentication key on the communication adapter according to the obtained device serial number, the authentication key on the first interaction device being the same as the authentication key on the communication adapter.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The data transmission system according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein both the communication adapter and the first interaction device store the authentication key, the authentication key is generated based on a device serial number of the communication adapter;<claim-text>the receiving code is further configured to cause the at least one processor to, after the first interaction device obtains the working key by mapping the authentication key stored therein and encrypts the interaction data with the obtained working key to obtain the encrypted interaction data, receive the encrypted interaction data obtained by encrypting the interaction data and transmitted by the first interaction device; and</claim-text><claim-text>the decryption code is further configured to cause the at least one processor to obtain the working key by mapping the authentication key stored in the communication adapter, and decrypt the encrypted interaction data based on the obtained working key.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The data transmission system according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the transmission code is further configured to cause the at least one processor to:<claim-text>convert the interaction data obtained through the decryption into target interaction data complying with the communication protocol natively adapted to the device node; and</claim-text><claim-text>transmit the target interaction data obtained through format conversion to the second interaction device through the simulated device node identifiable by the second interaction device.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The data transmission system according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the device node includes a human-machine interaction keyboard node and a human-machine interaction controller node; and<claim-text>the transmission code is further configured to cause the at least one processor to:</claim-text><claim-text>report the target interaction data to the human-machine interaction controller node in a case that the target interaction data belongs to control type data, so that the second interaction device obtains the target interaction data through the human-machine interaction controller node; and</claim-text><claim-text>report the target interaction data to the human-machine interaction keyboard node in a case that the target interaction data belongs to transaction type data, so that the second interaction device obtains the target interaction data through the human-machine interaction keyboard node.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The data transmission system according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the program code further comprises triggering code configured to cause the at least one processor to trigger a security event, in a case that the encrypted interaction data or the control data received from the second interaction device belongs to a malicious attack packet, or a received network data packet originating from a network side terminal is a malicious attack packet, the security event being used for disabling the communication adapter.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. A non-volatile computer-readable storage medium, storing computer code that when executed by at least one processor causes the at least one processor to:<claim-text>perform two-way authentication with a first interaction device;</claim-text><claim-text>receive encrypted interaction data obtained by encrypting interaction data based on a working key and transmitted by the first interaction device, after the two-way authentication is completed, the working key being obtained by the first interaction device by mapping an authentication key used in the two-way authentication;</claim-text><claim-text>decrypt the encrypted interaction data according to the working key obtained by mapping the authentication key on the communication adapter; and</claim-text><claim-text>transmit interaction data obtained through the decryption to a second interaction device through a simulated device node identifiable by the second interaction device and based on a communication protocol of the second interaction device that is natively adapted to the device node.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The non-volatile computer-readable storage medium according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the perform comprises:<claim-text>receiving a first challenge code transmitted by the first interaction device;</claim-text><claim-text>decrypting the first challenge code based on the authentication key to obtain a first random number, the first random number being a random number generated by the first interaction device;</claim-text><claim-text>performing a hash operation on the first random number to obtain a first hash value;</claim-text><claim-text>generating a second random number, and encrypting the first hash value and the second random number based on the authentication key to obtain a second challenge code;</claim-text><claim-text>transmitting the second challenge code to the first interaction device, so that the first interaction device decrypts the second challenge code based on the authentication key to obtain a first hash value, compares the first hash value with a second hash value obtained by the first interaction device by encrypting the first random number based on the authentication key, and in response to the first hash value being same as the second hash value, performs a hash operation on a second random number obtained by decrypting the second challenge code, and returns a second hash value obtained by the hash operation; and</claim-text><claim-text>receiving the second hash value returned by the first interaction device, comparing the second hash value with a third hash value obtained by performing a hash operation on the second random number based on the authentication key locally on the communication adapter, and in response to the second hash value being same as the third hash value, determining that the two-way authentication between the communication adapter and the first interaction device is complete.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The non-volatile computer-readable storage medium according to <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the program code is further configured to cause the at least one processor to:<claim-text>receive a serial number obtaining request transmitted by the first interaction device;</claim-text><claim-text>obtain a device serial number specified in the serial number obtaining request;</claim-text><claim-text>return the obtained device serial number to the first interaction device, so that the first interaction device generates an authentication key on the first interaction device based on the returned device serial number; and</claim-text><claim-text>generate an authentication key on the communication adapter according to the obtained device serial number, the authentication key on the first interaction device being same as the authentication key on the communication adapter.</claim-text></claim-text></claim></claims></us-patent-application>