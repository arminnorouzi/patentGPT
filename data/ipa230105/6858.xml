<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006859A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006859</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17867657</doc-number><date>20220718</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>12</main-group><subgroup>28</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>05</class><subclass>B</subclass><main-group>15</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>12</main-group><subgroup>2816</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>B</subclass><main-group>15</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>05</class><subclass>B</subclass><main-group>2219</main-group><subgroup>2642</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">Automatic control method of generating sub-systems and sub-system arbitration from the deconstruction of a complex equipment graph</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16921924</doc-number><date>20200706</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11394574</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17867657</doc-number></document-id></child-doc></relation></continuation><continuation><relation><parent-doc><document-id><country>US</country><doc-number>16007963</doc-number><date>20180613</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>10708078</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>16921924</doc-number></document-id></child-doc></relation></continuation><us-provisional-application><document-id><country>US</country><doc-number>62518745</doc-number><date>20170613</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>PassiveLogic, Inc.</orgname><address><city>Holladay</city><state>UT</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Harvey</last-name><first-name>Troy Aaron</first-name><address><city>Brighton</city><state>UT</state><country>US</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>PassiveLogic, Inc.</orgname><role>02</role><address><city>Holladay</city><state>UT</state><country>US</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">Apparatuses, systems, methods, and computer program products are disclosed for organizing automatic control in automation systems from a system description, using deconstruction of complex equipment graphs. A system control scheme is automatically generated from a deconstruction of an equipment graph into controllable sets of prioritized sub-systems. An equipment graph comprises one or more subsystems of equipment. Prioritized sub-systems comprise a unique routing path through an equipment graph. Prioritized sub-systems comprise the ability to be actuated and are divided into groups of sub-system sets. Groups of sub-system sets comprise synchronous and asynchronous sets and are created for conjoined routing paths of parallel sub-systems.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="207.35mm" wi="158.75mm" file="US20230006859A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="239.35mm" wi="177.04mm" file="US20230006859A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="242.49mm" wi="177.12mm" file="US20230006859A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="141.99mm" wi="175.85mm" file="US20230006859A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="208.96mm" wi="178.65mm" file="US20230006859A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="221.32mm" wi="178.65mm" file="US20230006859A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="240.20mm" wi="178.65mm" file="US20230006859A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="135.13mm" wi="162.39mm" file="US20230006859A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="239.78mm" wi="129.54mm" orientation="landscape" file="US20230006859A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS REFERENCES TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation of U.S. patent application Ser. No. 16/921,924 entitled &#x201c;AN AUTOMATIC CONTROL METHOD OF GENERATING SUB-SYSTEMS AND SUB-SYSTEM ARBITRATION FROM THE DECONSTRUCTION OF A COMPLEX EQUIPMENT GRAPH&#x201d; and filed on Jul. 6, 2020 for Troy Aaron Harvey, which is a continuation of U.S. patent application Ser. No. 16/007,963 entitled &#x201c;AN AUTOMATIC CONTROL METHOD OF GENERATING SUB-SYSTEMS AND SUB-SYSTEM ARBITRATION FROM THE DECONSTRUCTION OF A COMPLEX EQUIPMENT GRAPH&#x201d; and filed on Jun. 12, 2018 for Troy Aaron Harvey, which claims the benefit of U.S. Provisional Patent Application No. 62/518,745 entitled &#x201c;AN AUTOMATIC CONTROL METHOD OF GENERATING SUB-SYSTEMS AND SUB-SYSTEM ARBITRATION FROM THE DECONSTRUCTION OF A COMPLEX EQUIPMENT GRAPH&#x201d; and filed on Jun. 12, 2017 for Troy Aaron Harvey, each of which are incorporated herein by reference in their entirety for all purposes.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD</heading><p id="p-0003" num="0002">The present disclosure relates to control of building systems using automated means. More specifically, the present disclosure relates to an automated method of deconstructing a graph representing building systems equipment and connections into sub-systems. The present disclosure particularly addresses the control and automation of HVAC, energy, lighting, irrigation systems, and the like.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">Modern buildings contain a varied and complex set of systems for managing and maintaining the building environment. Building automation systems are used to automate the control of many separate systems, such as those used for lighting, climate, security, entertainment, etc. Building automation systems can perform a number of functions, such as automation of equipment scheduling, monitoring of various building parameters, optimization of resource consumption, event or alarm reporting and handling, and many others.</p><p id="p-0005" num="0004">Building automation system implementation requires programmatic understanding of what equipment is available to the building automation system and how that equipment may be utilized. For example, the building automation system needs to account for information such as what equipment can be run simultaneously, what groups of equipment work together to achieve a particular objective, etc. Automatic discovery of this information is challenging with current methodologies.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0006" num="0005">The present disclosure provides a method of automatically decomposing a complex graph of connected equipment into equipment sub-systems for the purpose of automatic labeling of automatable systems, sub-system, and the equipment therein for machine-driven control. Further the present disclosure relates to user interfaces that allow a user to draw a graph of equipment having n-complexity and n-number of routing paths, and decompose that drawing into a controllable system of atomic sub-systems automatically.</p><p id="p-0007" num="0006">The present disclosure describes a method for the decomposition of sub-systems to automatically infer controllability, ranking, prioritization, and analyzing the sub-systems to identify those that are unique and complete, categorizing sub-systems into synchronous groups (in which only a single sub-system can operate at a time), and asynchronous groups (in which more than one sub-system can operate simultaneously).</p><p id="p-0008" num="0007">The present disclosure details how building automation system would automatically provide semantic labeling for the sub-system and its equipment for retrieval during an analytic stage.</p><p id="p-0009" num="0008">The present disclosure also relates to the automatic reduction of state space in a n-complexity graph of equipment. By using the semantic labeling together with the deconstructed set of meaningful sub-systems, the meaningful control state space of the system can be derived.</p><p id="p-0010" num="0009">There has thus been outlined, rather broadly, the features of the disclosure in order that the detailed description thereof that follows may be better understood and in order that the present contribution to the art may be better appreciated.</p><p id="p-0011" num="0010">Numerous objects, features and advantages of the present disclosure will be readily apparent to those of ordinary skill in the art upon a reading of the following detailed description of presently preferred, but nonetheless illustrative, embodiments of the present disclosure when taken in conjunction with the accompanying drawings. The disclosure is capable of other embodiments and of being practiced and carried out in various ways. Also, it is to be understood that the phraseology and terminology employed herein are for the purpose of descriptions and should not be regarded as limiting.</p><p id="p-0012" num="0011">Although specific embodiments have been illustrated and described herein, it will be appreciated by those of ordinary skill in the art that any arrangement, which is calculated to achieve the same purpose, may be substituted for the specific embodiment shown. This application is intended to cover any adaptions or variations of the present disclosure.</p><p id="p-0013" num="0012">This section summarizes some aspects of the present disclosure and briefly introduces some preferred embodiments. Simplifications or omissions in this section as well as in the abstract or the title of this description may be made to avoid obscuring the purpose of this section, the abstract, and the title. Such simplifications or omissions are not intended to limit the scope of the present disclosure nor imply any limitations.</p><p id="p-0014" num="0013">Several advantages of one or more aspects of the present disclosure include but are not limited to: to generate a system control scheme automatically from a complex equipment graph; to decompose automatically the equipment graph into sub-system sets, where the decomposition enables the generation of a system control scheme; to enable automatic semantic reasoning about the generation of said system control scheme from the decomposition, thereby enabling more efficient generation of the control scheme as well as increasing human reasoning of the control scheme generation process; to automatically select valid and unique equipment sub-systems from said decomposition, thereby reducing the control scheme search space so as to increase control path search efficiency; to enable automatic prioritization of sub-systems, thereby enabling the generation of a system control scheme that responds to system preferences and priorities; to classify automatically sub-systems as either asynchronous or synchronous, thereby enabling the generation of a control scheme that responds to precedence and sequential operation limitations of particular equipment and sets of equipment. Other advantages of one or more aspects of the disclosed method will be apparent from consideration of the following drawings and description.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">DESCRIPTION OF DRAWINGS</heading><p id="p-0015" num="0014">To further clarify various aspects of some example embodiments of the present disclosure, a more particular description of the disclosure will be rendered by reference to specific embodiments thereof that are illustrated in the appended drawings. It is appreciated that the drawings depict only illustrated embodiments of the disclosure and are therefore not to be considered limiting of its scope. The disclosure will be described and explained with additional specificity and detail through the use of the accompanying drawings in which:</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>1</b></figref> depicts one embodiment of a base sub-system structure in accordance with the subject matter described herein;</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>2</b></figref> depicts one embodiment of transport class detail in accordance with the subject matter described herein;</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>3</b></figref> depicts one embodiment of an example graphical system model in accordance with the subject matter described herein;</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>4</b></figref> depicts one embodiment of permutations of the example graphical system model in accordance with the subject matter described herein;</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>5</b></figref> depicts one embodiment of an example system model with sub-system overlay in accordance with the subject matter described herein;</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>6</b></figref> depicts one embodiment of decomposition of an example system model classification into groups in accordance with the subject matter described herein;</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>7</b></figref> depicts one embodiment of decomposition of an arbitrary system into groups with priorities in accordance with the subject matter described herein;</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>8</b></figref> depicts one embodiment of a graphical user interface and deconstructed sub-system graph in accordance with the subject matter described herein;</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>9</b></figref> depicts an embodiment of a graphical user interface drawing device in accordance with the subject matter described herein; and</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>10</b></figref> depicts an embodiment of semantic analytics in accordance with the subject matter described herein.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">REFERENCE NUMERALS</heading><p id="p-0026" num="0025">The following conventions are used for reference numerals: the first digit indicates the figure in which the numbered part first appears (the first two digits are used for the figure number when required). The remaining digits are used to identify the part in the drawing.<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0026"><b>301</b> solar thermal hot water panel</li>        <li id="ul0002-0002" num="0027"><b>302</b> heating source</li>        <li id="ul0002-0003" num="0028"><b>303</b> transport</li>        <li id="ul0002-0004" num="0029"><b>304</b> transport</li>        <li id="ul0002-0005" num="0030"><b>305</b> store (virtual heat source)</li>        <li id="ul0002-0006" num="0031"><b>306</b> mixer</li>        <li id="ul0002-0007" num="0032"><b>307</b> transport</li>        <li id="ul0002-0008" num="0033"><b>308</b> load/system head</li>        <li id="ul0002-0009" num="0034"><b>309</b> router</li>        <li id="ul0002-0010" num="0035"><b>310</b> router</li>        <li id="ul0002-0011" num="0036"><b>311</b> cooling source</li>        <li id="ul0002-0012" num="0037"><b>401</b> valid sub-system column</li>        <li id="ul0002-0013" num="0038"><b>402</b> invalid sub-system column</li>        <li id="ul0002-0014" num="0039"><b>403</b> duplicate sub-system column</li>        <li id="ul0002-0015" num="0040"><b>501</b> sub-system 1</li>        <li id="ul0002-0016" num="0041"><b>502</b> sub-system 2</li>        <li id="ul0002-0017" num="0042"><b>503</b> sub-system 3</li>        <li id="ul0002-0018" num="0043"><b>504</b> sub-system 4</li>        <li id="ul0002-0019" num="0044"><b>505</b> sub-system 5</li>    </ul>    </li></ul></p><heading id="h-0007" level="1">DESCRIPTION</heading><p id="p-0027" num="0045">The embodiments of the present disclosure described below are not intended to be exhaustive or to limit the disclosure to the precise forms disclosed in the following detailed description. Rather, the embodiments are chosen and described so that others skilled in the art may appreciate and understand the principles and practices of the present disclosure.</p><p id="p-0028" num="0046">The following embodiments and the accompanying drawings, which are incorporated into and form part of this disclosure, illustrate embodiments of the disclosure and together with the description, serve to explain the principles of the disclosure. To the accomplishment of the foregoing and related ends, certain illustrative aspects of the disclosure are described herein in connection with the following description and the annexed drawings. These aspects are indicative, however of, but a few of the various ways in which the principles of the disclosure can be employed and the subject disclosure is intended to include all such aspects and their equivalents. Other advantages and novel features of the disclosure will become apparent from the following detailed description of the disclosure when considered in conjunction with the drawings.</p><p id="p-0029" num="0047">Explanation will be made below with reference to the aforementioned figures for illustrative embodiments concerning the present invention.</p><p id="p-0030" num="0048">The present disclosure describes a method of decomposing a system of interconnected equipment into various sets of equipment comprising various sub-systems. The basic structure of such a sub-system <b>100</b> is shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. A sub-system <b>100</b> comprises: an input <b>102</b>, or a source of the relevant resource; a transport <b>104</b>, whereby said relevant resource is transported; and an output <b>106</b>, or sink of said relevant resource. For example, in one embodiment, a sub-system <b>100</b> may have as an input <b>102</b> a heating source, a water pump as a transport <b>104</b>, and an output <b>106</b> of a hot water storage tank. The transport <b>104</b> moves water from the heating source to the output <b>106</b> hot water storage tank.</p><p id="p-0031" num="0049">In various embodiments, an equipment sub-system <b>100</b> transport <b>104</b> may use various means. As shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, in one embodiment, the transport <b>104</b> may be controlled <b>202</b> and either looped <b>206</b> or non-looped <b>208</b>; or passive <b>204</b>, and may use either convection <b>210</b> or line-pressure <b>212</b> as a means of transport <b>104</b>. The transport element <b>104</b> of a sub-system <b>100</b> may consist of one or multiple transport devices <b>104</b>.</p><p id="p-0032" num="0050"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows an example embodiment of a graphical representation of a system <b>300</b> of interconnected equipment. In this embodiment, the load/system head <b>308</b> connects via transport <b>307</b> into store <b>305</b>. From the store <b>305</b>, transport paths exist to a cooling source <b>311</b> or to load <b>308</b>, via mixer <b>306</b>. The illustrated system <b>300</b> also contains loops between store <b>305</b> through heating source <b>302</b> with an explicit transport <b>303</b>, as well as between store <b>305</b> and solar thermal hot-water panel <b>301</b> with an explicit transport <b>304</b>.</p><p id="p-0033" num="0051">A sub-system is classified as synchronous when said sub-system routing paths are conjoined in an manner that only one sub-system may operate at a time; and a sub-system is classified as asynchronous when said sub-system routing paths are conjoined in a manner that two or more sub-systems may operate at the same time.</p><p id="p-0034" num="0052">The decomposition process of a system may be accomplished by recognizing and extracting sub-systems from the system graph. Sub-system reduction to atomic sub-systems having a known equipment topology enable a machine learning engine to reason about the system and control the system in a uniform expected manner. (<figref idref="DRAWINGS">FIG. <b>4</b></figref>). A sub-system may be defined as starting at a source and ending at a sink. Resources are capable of supplying one or multiple sinks. Transports may split into multiple paths to other transports or multiple outputs and each path may be identified as a branch. Branches may be classified into one or multiple synchronous or asynchronous sub-systems. The process may also enforce specified design rules for sub-system and component recognition and extraction.</p><p id="p-0035" num="0053">The decomposition process may also recognize characteristics of or relationships between sub-systems, such as deriving sub-system or branch type. The process may identify the sub-system as either synchronous or asynchronous based on the equipment and sub-system characteristics and capabilities. The process may also identify sub-systems with attributes like priority and precedence. For example, sub-systems may be organized in asynchronous and synchronous groups.</p><p id="p-0036" num="0054">The process may also organize the whole deconstructed graph of systems, sub-systems, and equipment into structured maps, trees, or sets which can represent unions based on asynchronous and synchronous groups, or other characteristics.</p><p id="p-0037" num="0055">Application of the methodology may yield sets of equipment that constitute the various sub-systems in the given system. <figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates some of the equipment sub-systems that may be recognized, analyzed, and derived using the method described above from the example system in <figref idref="DRAWINGS">FIG. <b>3</b></figref> (note that not all possible sub-systems are shown, for ease of illustration and readability). Individual pieces of equipment are represented as circles, containing the reference numeral of the corresponding piece of equipment. An individual sub-system is represented by a column <b>401</b>, <b>402</b>, <b>403</b> of equipment pieces. Sub-systems that are not faded or crossed out, such as column <b>401</b>, are those sub-systems resulting from the decomposition process that are both unique and complete. Sub-systems that are faded and crossed out with a solid line, such as column <b>402</b>, are those sub-systems that were identified in the decomposition process as being incomplete, for example, not having the required equipment as required in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. Sub-systems that are faded and crossed out with a dashed line, such as column <b>403</b>, are those sub-systems that were identified in the decomposition process as a duplicate system.</p><p id="p-0038" num="0056">Having executed the decomposition process, the sub-systems comprising a particular system may be classified. <figref idref="DRAWINGS">FIG. <b>5</b></figref> shows the example system from <figref idref="DRAWINGS">FIG. <b>3</b></figref> with all complete and unique sub-systems <b>501</b>, <b>502</b>, <b>503</b>, <b>504</b>, <b>505</b> overlaid on the system diagram.</p><p id="p-0039" num="0057">As part of the decomposition process, sub-systems may be classified as either asynchronous or synchronous. <figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates how the five unique, complete subsystems <b>501</b>, <b>502</b>, <b>503</b>, <b>504</b>, <b>505</b> derived from the whole system illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref> and <figref idref="DRAWINGS">FIG. <b>5</b></figref> are classified. As shown, sub-systems <b>501</b> and <b>502</b> are asynchronous, and may be run simultaneously. Sub-systems <b>503</b>, <b>504</b>, and <b>505</b> are synchronous and must be run one at a time.</p><p id="p-0040" num="0058">A controlled system <b>702</b> may have any number of groups of sub-systems <b>706</b> representing any number and variety of characteristics. An illustration of one embodiment of how equipment sub-systems <b>706</b> may be grouped <b>704</b> and classified is shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>. A Sub-system <b>706</b> may belong to one or multiple groups <b>704</b><i>a</i>-<i>n</i>. For example, in the embodiment illustrated in <figref idref="DRAWINGS">FIG. <b>7</b></figref> sub-system 2 belongs to both an asynchronous group <b>704</b><i>a </i>and a synchronous group <b>704</b><i>b. </i></p><p id="p-0041" num="0059">A controlled system <b>500</b> having multiple sub-systems <b>501</b>, <b>502</b>, <b>503</b>, <b>504</b>, <b>505</b> can further be deconstructed in such a way that the equipment or system states required to initialize the sub-system <b>501</b>, <b>502</b>, <b>503</b>, <b>504</b>, <b>505</b> are pre-computed. An embodiment is shown in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, where the path routing devices <b>310</b>, <b>306</b>, <b>309</b> (in this case valves) are pre-computed for each of the <b>5</b> sub-systems <b>501</b>, <b>502</b>, <b>503</b>, <b>504</b>, <b>505</b> shown, reducing the managed state space. A controller thus knows the necessary starting state before performing a control action heuristic on the remaining and smaller state space.</p><p id="p-0042" num="0060">Another embodiment of the present disclosure is for the purpose of semantic extraction. By decomposing systems into atomic sub-systems comprising the necessary components of source, sink, and transport, a control system may automatically control and manage these system components in a rule-based way. The controller may also apply meaning to a sub-system by means of classification or rule tables. These classifications and/or rules may be used to generate semantics for the system, the sub-systems, and the constituent parts. An embodiment can be seen in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, wherein sub-system <b>501</b> may be labeled as a &#x201c;solar sub-system&#x201d; based on the resource of its source component. In another embodiment, the same sub-system <b>501</b> may be labeled as a &#x201c;heat-to-storage&#x201d; system classification, based on its producer consumer purpose. In another embodiment, it may be labeled as a &#x201c;heating system&#x201d;, based on the classification of its sub-system <b>501</b>. Many embodiments of semantic labeling are possible given a rule-based deconstruction of atomic sub-systems from a graph.</p><p id="p-0043" num="0061">A graphical user interface <b>802</b> may be used to input or drive the creation of an equipment graph <b>804</b>, such that an electronic device having a screen may be used to automatically deconstruct a controllable system from the graphical representation <b>802</b> of the controllable system, the equipment objects, sets, priority, and their relationships. An embodiment of such a device can be seen in <figref idref="DRAWINGS">FIG. <b>8</b></figref>. Other methods may be used, such as importing a HVAC, mechanical, architectural, and/or engineering drawings or files.</p><p id="p-0044" num="0062">In some graphical user interface <b>802</b> embodiments having an electronic display, a user may drag and drop or instantiate equipment objects from an equipment object library <b>902</b> into a system drawing <b>904</b> on a drawing screen <b>906</b>, either on a touchscreen, cursor driven input device, or other means. An embodiment can be seen in <figref idref="DRAWINGS">FIG. <b>9</b></figref>. Or the user can also create new equipment objects through drawing from fundamentals.</p><p id="p-0045" num="0063">These drawings <b>904</b>, made in situ or a-priori, can be disaggregated using the above methods into a graph <b>804</b> of sub-systems, priority, sub-system synchronicity, labeling, and the underlying control knowledge required to control the system in an unsupervised manner. An embodiment can be seen in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, showing a hierarchal graph <b>804</b> of sub-systems.</p><p id="p-0046" num="0064">These deconstructed graphs <b>804</b> of sub-system <b>1002</b> and their semantic labeling <b>1004</b> can be used to generate automatic analytics <b>1008</b>, <b>1010</b>, <b>1012</b>, <b>1014</b> as in the embodiment in <figref idref="DRAWINGS">FIG. <b>10</b></figref>. In some embodiments the graphical display <b>1000</b> of equipment state and sensor values may be graphed in a time series labeled from the automated semantic extraction <b>1004</b> from the sub-systems <b>1002</b>. Some embodiments of semantic labeling <b>1004</b> may take the form of a sub-system labeling <b>1004</b> by system purpose. In some embodiments, the system purpose may be extracted from its source equipment label, source-sink label, source-transport-sink label, the classified family of sub-system defined by those atomic attributes, and/or any other extracted attributes, labels, classifications, or other identifiers of its constituent equipment.</p><p id="p-0047" num="0065">In some embodiments, the sub-system semantics <b>1004</b> may provide analytic display or graph grouping of equipment automatically, as in the embodiment in <figref idref="DRAWINGS">FIG. <b>10</b></figref>. In addition, as is shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref> such automatic labeling <b>1004</b> can correlate equipment actions <b>1012</b> and system actions <b>1008</b> with the corresponding sub-system <b>1004</b> without requiring manual programming.</p><p id="p-0048" num="0066">The foregoing disclosure describes some possible embodiments of this invention, with no indication of preference to the particular embodiment. A skilled practitioner of the art will find alternative embodiments readily apparent from the previous drawings and discussion and will acknowledge that various modifications can be made without departure from the scope of the invention disclosed herein.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>We claim:</us-claim-statement><claims id="claims"><claim id="CLM-01-20" num="01-20"><claim-text><b>1</b>-<b>20</b>. (canceled)</claim-text></claim><claim id="CLM-00021" num="00021"><claim-text><b>21</b>. A controller for controlling a controlled system, the controller comprising:<claim-text>a memory; and</claim-text><claim-text>a processor in communication with the memory and configured to:<claim-text>receive a definition of an equipment graph representing a plurality of controllable devices;</claim-text><claim-text>process the equipment graph to identify a plurality of equipment sub-systems within the equipment graph;</claim-text><claim-text>identify a set of control actions issuable to at least one of the plurality of controllable devices for controlling at least one of the plurality of equipment sub-systems; and</claim-text><claim-text>issue control actions from the set of control actions to the at least one of the plurality of controllable devices.</claim-text></claim-text></claim-text></claim><claim id="CLM-00022" num="00022"><claim-text><b>22</b>. The controller of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein, in receiving the definition of the equipment graph, the processor is configured to receive a drawing file descriptive of the plurality of controllable devices.</claim-text></claim><claim id="CLM-00023" num="00023"><claim-text><b>23</b>. The controller of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein, in receiving the definition of the equipment graph, the processor is configured to provide, via a display device, a user interface capable of receiving a manual definition of the equipment graph from the user.</claim-text></claim><claim id="CLM-00024" num="00024"><claim-text><b>24</b>. The controller of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the user interface provides an equipment object library to the user for selection of equipment objects to build the equipment graph.</claim-text></claim><claim id="CLM-00025" num="00025"><claim-text><b>25</b>. The controller of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein, in identifying a set of control actions, the processor is configured to precomputing a state space for the plurality of equipment sub-systems.</claim-text></claim><claim id="CLM-00026" num="00026"><claim-text><b>26</b>. The controller of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein, in processing the equipment graph, the processor is configured to identify the plurality of equipment sub-systems by:<claim-text>identifying a source component in the equipment graph;</claim-text><claim-text>identifying a sink component in the equipment graph;</claim-text><claim-text>finding a path from the source component through at least one transport component to the sink component in the equipment graph; and</claim-text><claim-text>designating the source component, the sink component, and the at least one transport component as an equipment sub-system.</claim-text></claim-text></claim><claim id="CLM-00027" num="00027"><claim-text><b>27</b>. The controller of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the processor is configured to semantically label the plurality of sub-systems by selecting a human-readable label for an equipment subsystem of the plurality of sub-systems based on at least one equipment component of the equipment subsystem.</claim-text></claim><claim id="CLM-00028" num="00028"><claim-text><b>28</b>. A method for controlling a controlled system, the method comprising:<claim-text>receiving a definition of an equipment graph representing a plurality of controllable devices;</claim-text><claim-text>processing the equipment graph to identify a plurality of equipment sub-systems within the equipment graph;</claim-text><claim-text>identifying a set of control actions issuable to at least one of the plurality of controllable devices for controlling at least one of the plurality of equipment sub-systems; and</claim-text><claim-text>issuing control actions from the set of control actions to the at least one of the plurality of controllable devices.</claim-text></claim-text></claim><claim id="CLM-00029" num="00029"><claim-text><b>29</b>. The method of <claim-ref idref="CLM-00028">claim 28</claim-ref>, wherein the step of receiving the definition of an equipment graph comprises receiving a drawing file descriptive of the plurality of controllable devices.</claim-text></claim><claim id="CLM-00030" num="00030"><claim-text><b>30</b>. The method of <claim-ref idref="CLM-00028">claim 28</claim-ref>, wherein the step of receiving the definition of an equipment graph comprises receiving via a user interface a manual definition of the equipment graph from the user.</claim-text></claim><claim id="CLM-00031" num="00031"><claim-text><b>31</b>. The method of <claim-ref idref="CLM-00030">claim 30</claim-ref>, wherein the user interface provides an equipment object library to the user for selection of equipment objects to build the equipment graph.</claim-text></claim><claim id="CLM-00032" num="00032"><claim-text><b>32</b>. The method of <claim-ref idref="CLM-00028">claim 28</claim-ref>, wherein the step of identifying a set of control actions comprises precomputing a state space for the plurality of equipment sub-systems.</claim-text></claim><claim id="CLM-00033" num="00033"><claim-text><b>33</b>. The method of <claim-ref idref="CLM-00028">claim 28</claim-ref>, wherein the step of processing the equipment graph comprises identifying the plurality of equipment sub-systems by:<claim-text>identifying a source component in the equipment graph;</claim-text><claim-text>identifying a sink component in the equipment graph;</claim-text><claim-text>finding a path from the source component through at least one transport component to the sink component in the equipment graph; and</claim-text><claim-text>designating the source component, the sink component, and the at least one transport component as an equipment sub-system.</claim-text></claim-text></claim><claim id="CLM-00034" num="00034"><claim-text><b>34</b>. The method of <claim-ref idref="CLM-00028">claim 28</claim-ref>, further comprising semantically labeling the plurality of sub-systems by selecting a human-readable label for an equipment subsystem of the plurality of sub-systems based on at least one equipment component of the equipment subsystem.</claim-text></claim><claim id="CLM-00035" num="00035"><claim-text><b>35</b>. A non-transitory machine-readable medium encoded with instructions for execution by a processor for controlling a controlled system, the non-transitory machine-readable medium comprising:<claim-text>instructions for receiving a definition of an equipment graph representing a plurality of controllable devices;</claim-text><claim-text>instructions for processing the equipment graph to identify a plurality of equipment sub-systems within the equipment graph;</claim-text><claim-text>instructions for identifying a set of control actions issuable to at least one of the plurality of controllable devices for controlling at least one of the plurality of equipment sub-systems; and</claim-text><claim-text>instructions for issuing control actions from the set of control actions to the at least one of the plurality of controllable devices.</claim-text></claim-text></claim><claim id="CLM-00036" num="00036"><claim-text><b>36</b>. The non-transitory machine-readable medium of <claim-ref idref="CLM-00035">claim 35</claim-ref>, wherein the instructions for receiving the definition of an equipment graph comprise instructions for receiving a drawing file descriptive of the plurality of controllable devices.</claim-text></claim><claim id="CLM-00037" num="00037"><claim-text><b>37</b>. The non-transitory machine-readable medium of <claim-ref idref="CLM-00035">claim 35</claim-ref>, wherein the instructions for receiving the definition of an equipment graph comprise instructions for receiving via a user interface a manual definition of the equipment graph from the user.</claim-text></claim><claim id="CLM-00038" num="00038"><claim-text><b>38</b>. The non-transitory machine-readable medium of <claim-ref idref="CLM-00037">claim 37</claim-ref>, wherein the user interface provides an equipment object library to the user for selection of equipment objects to build the equipment graph.</claim-text></claim><claim id="CLM-00039" num="00039"><claim-text><b>39</b>. The non-transitory machine-readable medium of <claim-ref idref="CLM-00035">claim 35</claim-ref>, wherein the instructions for identifying a set of control actions comprise instructions for precomputing a state space for the plurality of equipment sub-systems.</claim-text></claim><claim id="CLM-00040" num="00040"><claim-text><b>40</b>. The non-transitory machine-readable medium of <claim-ref idref="CLM-00035">claim 35</claim-ref>, wherein the instructions for processing the equipment graph comprise instructions for identifying the plurality of equipment sub-systems including:<claim-text>identifying a source component in the equipment graph;</claim-text><claim-text>identifying a sink component in the equipment graph;</claim-text><claim-text>finding a path from the source component through at least one transport component to the sink component in the equipment graph; and<claim-text>designating the source component, the sink component, and the at least one transport component as an equipment sub-system.</claim-text></claim-text></claim-text></claim></claims></us-patent-application>