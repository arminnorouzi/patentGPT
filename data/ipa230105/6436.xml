<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006437A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006437</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17943878</doc-number><date>20220913</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202010188480.4</doc-number><date>20200317</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>H</subclass><main-group>7</main-group><subgroup>08</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>B</section><class>60</class><subclass>L</subclass><main-group>3</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>P</subclass><main-group>6</main-group><subgroup>24</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>02</class><subclass>P</subclass><main-group>6</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>H</subclass><main-group>7</main-group><subgroup>0822</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>B</section><class>60</class><subclass>L</subclass><main-group>3</main-group><subgroup>0061</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>P</subclass><main-group>6</main-group><subgroup>24</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>H</subclass><main-group>7</main-group><subgroup>0833</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>02</class><subclass>P</subclass><main-group>6</main-group><subgroup>08</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">MOTOR CONTROL SYSTEM AND VEHICLE</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2021/081357</doc-number><date>20210317</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17943878</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>BYD COMPANY LIMITED</orgname><address><city>Shenzhen</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>XU</last-name><first-name>Luhui</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>YU</last-name><first-name>Yilong</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>DU</last-name><first-name>Zhiyong</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>QI</last-name><first-name>Axi</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>YANG</last-name><first-name>Guangming</first-name><address><city>Shenzhen</city><country>CN</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A motor control system includes a main control unit, a power supply unit, and a driving unit. The main control unit obtains sampling data of a motor and a power supply signal from the driving unit, generates a motor control signal according to the sampling data, and outputs a safety enable signal when determining that motor drive is abnormal according to the sampling data or when determining that power supply to the driving unit is abnormal according to the power supply signal. The power supply unit supplies power to the main control unit, monitors a state of the main control unit, and outputs a safety cut-off signal when the power supply unit or the main control unit is abnormal. The driving unit drives the motor according to the motor control signal, and switches to a safe path when receiving any one of the safety enable or safety cut-off signal.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="56.30mm" wi="158.75mm" file="US20230006437A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="181.69mm" wi="168.57mm" file="US20230006437A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="219.96mm" wi="164.51mm" file="US20230006437A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="198.71mm" wi="162.64mm" file="US20230006437A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">The present disclosure is a bypass continuation application for International Application PCT/CN2021/081357, filed on Mar. 17, 2021, which claims priority to Chinese Patent Application No. &#x201c;202010188480.4&#x201d;, filed by BYD Company Limited on Mar. 17, 2020 and entitled &#x201c;MOTOR CONTROL SYSTEM AND VEHICLE&#x201d;, the content of which is incorporated herein by reference in its entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD</heading><p id="p-0003" num="0002">The present disclosure relates to a motor control system, and a vehicle including the motor control system.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">Currently, the development of electric vehicles becomes increasingly rapid. Power sources of pure electric vehicles are basically motor drive, and hybrid vehicles also have a motor-driven system. In the application field of vehicles, for motor-driven control, safety, and reliability are further considered in addition to functional performance, to avoid the occurrence of an unexpected state.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0005" num="0004">A first aspect of the disclosure provides a motor control system, which includes a main control unit, a power supply unit, and a driving unit. The main control unit is configured to: obtain sampling data of a motor and a power supply signal from the driving unit, generate a motor control signal according to the sampling data, and output a safety enable signal when determining that motor drive is abnormal according to the sampling data or when determining that power supply to the driving unit is abnormal according to the power supply signal. The power supply unit is configured to: supply power to the main control unit, monitor a state of the main control unit, and output a safety cut-off signal when the power supply unit or the main control unit is abnormal. The driving unit is configured to: drive the motor according to the motor control signal, and switch to a safe path when receiving any one of the safety enable signal or the safety cut-off signal.</p><p id="p-0006" num="0005">A second aspect of the disclosure provides a vehicle, which includes a motor and the foregoing motor control system. The motor control system is configured to drivingly control the motor.</p><p id="p-0007" num="0006">The additional aspects and advantages of the present disclosure will be set forth in part in the description below, parts of which will become apparent from the description below, or will be understood by the practice of the present disclosure.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0008" num="0007">The foregoing and/or additional aspects and advantages of the present disclosure become obvious and easily understood in descriptions of the embodiments with reference to the following accompanying drawings.</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram of a topology structure of a motor control system in the related art.</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic diagram of a topology structure of a motor control system according to an embodiment of the present disclosure.</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart of controlling a driving unit to be switched to a safe path according to an embodiment of the present disclosure.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of an internal structure of a main control unit according to an embodiment of the present disclosure.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flowchart of processing a control signal and controlling a driving unit to be switched to a safe path according to an embodiment of the present disclosure.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a block diagram of a vehicle according to an embodiment of the present disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0015" num="0014">In a design process of a motor controller unit, there are generally more solutions considering functions and performance, while the safety design of the motor controller unit is inadequate.</p><p id="p-0016" num="0015">Detail description of embodiments of the present disclosure will be made in the following, and examples thereof are illustrated in the accompanying drawings, throughout which identical or similar elements or elements of identical or similar functions are represented with identical or similar reference numerals. The following embodiments described with reference to the accompanying drawings are exemplary, and are intended to describe the present disclosure and cannot be construed as a limitation to the present disclosure.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic diagram of a typical topology structure of a motor drive system in the related art. In an application scenario of an electric vehicle, the system integration reliability and system safety need to be considered in a motor control system. However, in a conventional solution shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, due to lack of monitoring of a control signal, lack of tracking and monitoring of a safety target, lack of a reliable turn-off path in a design process, and inappropriate division of functional independence, the application of a conventional motor control system in the electric vehicle cannot reach a higher safety level.</p><p id="p-0018" num="0017">A motor control system according to an embodiment of the present disclosure is described below with reference to <figref idref="DRAWINGS">FIG. <b>2</b></figref> to <figref idref="DRAWINGS">FIG. <b>5</b></figref>.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic diagram of a topology structure of a motor control system according to an embodiment of the present disclosure. As shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, a motor control system <b>1</b> in the embodiment of the present disclosure includes a main control unit <b>10</b>, a power supply unit <b>20</b>, and a driving unit <b>30</b>.</p><p id="p-0020" num="0019">The main control unit <b>10</b> is configured to: obtain sampling data of a motor and a power supply signal from the driving unit <b>30</b>, generate a motor control signal according to the sampling data, and output a safety enable signal when determining that motor drive is abnormal according to the sampling data or when determining that power supply to the driving unit <b>30</b> is abnormal according to the power supply signal.</p><p id="p-0021" num="0020">The sampling data may include current sampling data, voltage sampling data, motor angle data, and the like. The main control unit <b>10</b> performs torque monitoring according to the sampling data, to determine whether the motor operates according to a safety target torque. If the two are inconsistent, it is considered that the motor drive is abnormal, and the safety enable signal such as a signal dis/en_able is outputted to the driving unit <b>30</b>. In addition, the main control unit <b>10</b> also monitors the power supply to the driving unit <b>30</b>, and sends the safety enable signal to the driving unit <b>30</b> when the power supply is abnormal, for example, when supplied power is excessively high.</p><p id="p-0022" num="0021">The power supply unit <b>20</b> is configured to: supply power to the main control unit <b>10</b>, for example, to supply Vcc to a low-voltage part of the main control unit <b>10</b>, and monitor a state of the main control unit <b>10</b>. The power supply unit <b>20</b> may communicate with the main control unit <b>10</b> through a serial peripheral interface (SIP). The power supply unit <b>20</b> outputs a safety cut-off signal such as an FS_signal to the driving unit <b>30</b> when the power supply unit <b>20</b> or the main control unit <b>10</b> is abnormal. Specifically, as shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the power supply unit <b>20</b> may provide an independent power supply domain for low-voltage power supply to the main control unit <b>10</b>, and monitor the main control unit <b>10</b> through a signal DS_signal. If a fault occurs in the main control unit <b>10</b>, the power supply unit <b>20</b> may send the safety cut-off signal to the driving unit <b>30</b> through the signal FS_signal.</p><p id="p-0023" num="0022">The driving unit <b>30</b> is configured to: drive the motor according to the motor control signal, and switch to a safe path when receiving any one of the safety enable signal or the safety cut-off signal. A power supply source part of the driving unit <b>30</b> is monitored by the main control unit <b>10</b>. Once the power supply is abnormal, the main control unit <b>10</b> cuts off the power supply to the driving unit <b>30</b>, and switches the driving unit <b>30</b> to the safe path. The driving unit <b>30</b> includes a three-phase upper bridge arm circuit <b>31</b> and a three-phase lower bridge arm circuit <b>32</b>, and may stop outputting a driving signal when being switched to the safe path. That is, six power units such as an insulated gate bipolar transistor (IGBT) are turned off, or a three-phase bridge arm is short-circuited, so that the motor can be in a safe state when the drive is abnormal.</p><p id="p-0024" num="0023">In the motor control system <b>1</b> according to the embodiment of the present disclosure, the motor drive and the power supply to the driving unit <b>30</b> are monitored through the main control unit <b>10</b>, and the state of the main control unit <b>10</b> is monitored through the power supply unit <b>20</b>. That is, multiple monitoring mechanisms are arranged, and the driving unit <b>30</b> switches to the safe path when receiving any one of the safety cut-off signal and the safety enable signal. That is, multiple safety cut-off paths are added, to enable the motor to be in a safe state when the motor drive is abnormal, thereby improving the safety level of motor control.</p><p id="p-0025" num="0024">In some embodiments, the sampling data may include at least one of a motor rotation speed or a bus voltage. The main control unit <b>10</b> controls the driving unit <b>30</b> to switch to the safe path according to the sampling data when the motor drive is abnormal. When an absolute value of a difference between the motor rotation speed and a preset rotation speed is less than a set rotation speed difference, or when an absolute value of a difference between the bus voltage and a preset voltage is less than a set voltage difference, all six driving power units of the driving unit <b>30</b> are controlled to be turned off.</p><p id="p-0026" num="0025">Alternatively, when an absolute value of a difference between the motor rotation speed and a preset rotation speed is greater than or equal to a set rotation speed difference, or when an absolute value of a difference between the bus voltage and a preset voltage is less than or equal to a set voltage difference, it is further determined whether the three-phase upper bridge arm circuit of the driving unit <b>30</b> is faulty, and if yes, the three-phase upper bridge arm circuit <b>31</b> is controlled to be short-circuited, or if not, the three-phase lower bridge arm circuit <b>32</b> of the driving unit is controlled to be short-circuited.</p><p id="p-0027" num="0026">Specifically, the driving unit <b>30</b> may be controlled by the main control unit <b>10</b> and the power supply unit <b>20</b>. In a normal control state, the main control unit <b>10</b> enables the driving unit <b>30</b>, and the driving unit <b>30</b> receives a signal PWM from the main control unit <b>10</b>, to drive the power units, that is, the three-phase upper bridge arm circuit <b>31</b> and the three-phase lower bridge arm circuit <b>32</b>. When detecting an abnormality, the main control unit <b>10</b> may send the signal dis/en_able, to switch the driving unit <b>30</b> to the safe path. In this case, according to bus voltage sampling or the motor rotation speed, it is determined whether to enter a state in which six driving units reliably turn off the IGBT, or enter a three-phase active short-circuit state.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a flowchart of controlling a driving unit by a main control unit to enter a safe path according to an embodiment of the present disclosure. Specifically, the following steps S<b>1</b> to S<b>6</b> are included.</p><p id="p-0029" num="0028">S<b>1</b>. A signal dis/enable is sent to enter a fault mode.</p><p id="p-0030" num="0029">S<b>2</b>. It is determined whether |a motor rotation speed&#x2212;a preset rotation speed|&#x3c;a set rotation speed difference or |a bus voltage&#x2212;a preset voltage|&#x3c;a set voltage difference is satisfied. If yes, step S<b>3</b> is performed, or otherwise, step S<b>4</b> is performed.</p><p id="p-0031" num="0030">S<b>3</b>. Six driving modules for controlling the driving unit are turned off, and an alarm is issued.</p><p id="p-0032" num="0031">S<b>4</b>. It is determined whether a fault signal is the three-phase upper bridge arm circuit, and if yes, step S<b>5</b> is performed, or otherwise, step S<b>6</b> is performed.</p><p id="p-0033" num="0032">S<b>5</b>. The three-phase lower bridge arm circuit of the driving unit is short-circuited, and an alarm is issued.</p><p id="p-0034" num="0033">S<b>6</b>. The three-phase upper bridge arm circuit of the driving unit is short-circuited, and an alarm is issued.</p><p id="p-0035" num="0034">In addition, the main control unit <b>10</b> monitors the power supply to the driving unit <b>30</b>. When the power supply to the driving unit <b>30</b> is abnormal, the main control unit <b>10</b> controls all the six driving power units of the driving unit <b>30</b> to be turned off, so that the motor enters the safe state.</p><p id="p-0036" num="0035">In addition, the power supply unit <b>20</b> receives state information sent by the main control unit <b>10</b>, and monitors the main control unit <b>10</b> through, for example, a signal DS_signal. When the power supply unit <b>20</b> or the main control unit <b>10</b> is abnormal, the power supply unit <b>20</b> controls all the six driving power units of the driving unit <b>30</b> to be turned off, so that the motor enter the safe state.</p><p id="p-0037" num="0036">Therefore, in the motor control system <b>1</b> in the embodiment of the present disclosure, multi-way monitoring is implemented through the main control unit <b>10</b> and the power supply unit <b>20</b>, and the motor is enabled to enter the safe state when drive is abnormal.</p><p id="p-0038" num="0037">In the embodiment of the present disclosure, the main control unit <b>10</b> may adopt multi-chip processing or multi-core processing, to implement monitoring and various diagnosis of a signal and a control target, thereby controlling the motor in a more comprehensive and reliable manner. In the embodiment, the main control unit <b>10</b> includes multiple control subunits, and the multiple control subunits are multiple control cores or multiple processing chips.</p><p id="p-0039" num="0038">Further, as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> or <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the multiple control subunits include at least a main function subunit <b>11</b> and a monitoring subunit <b>12</b>. The main function subunit <b>11</b> is configured to: obtain the sampling data such as three-phase currents Ia, Ib, and Ic, a voltage Udc, and angle data of the motor, and generate the motor control signal according to the sampling data of the motor. During normal drive, the driving unit <b>30</b> may drive the motor according to the motor control signal. Specifically, the main function subunit <b>11</b> mainly implements content such as torque control and fault management, for example, simultaneously inputs process data into the monitoring subunit <b>12</b>. The monitoring subunit <b>12</b> is configured to: perform information diagnosis, generate diagnostic information, and obtain the process data of the main function subunit <b>11</b>, to monitor a state of the main function subunit, that is, to perform control flow monitoring. Specifically, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the monitoring subunit <b>12</b> mainly implements functions such as torque monitoring, fault diagnosis, signal diagnosis, communication diagnosis, and output diagnosis.</p><p id="p-0040" num="0039">Descriptions are made by using an example in which the main control unit <b>10</b> uses multiple control cores. The main control unit <b>10</b> includes at least two control cores. One control core is configured to be responsible for implementing a main function, and may be, for example, referred to as a main function core (the main function subunit <b>11</b>). During the normal drive, the main function core generates the motor control signal according to the sampling data, to control the driving unit <b>30</b>. Another control core is configured to be responsible for monitoring the control target, and may be, for example, referred to as a lockstep monitoring core (the monitoring subunit <b>12</b>). The control core preferentially has a lockstep function, and the lockstep monitoring core simultaneously monitors a signal required in the main function core.</p><p id="p-0041" num="0040">In the embodiment, the sampling data may include the motor angle data, and the multiple control subunits further include a first co-processing subunit <b>13</b>. The first co-processing subunit <b>13</b> is configured to: perform resolver decoding on the motor angle data, to obtain an angle required for controlling the motor, and transmit the motor angle data to the main function subunit <b>11</b>. Specifically, as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref> or <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the first co-processing subunit <b>13</b> mainly performs the resolver decoding, outputs an excitation signal exc to a resolver sensor, and then performs demodulation on a signal sin/cos from the resolver sensor, to obtain the angle required for controlling the motor.</p><p id="p-0042" num="0041">In the embodiment, the monitoring subunit <b>12</b> is further configured to generate a motor safety control signal according to the diagnostic information, enable or disable control information, and control information enabling the motor to be in a safe state. The multiple control subunits further include a second co-processing subunit <b>14</b>. The second co-processing subunit <b>14</b> is configured to: determine a motor drive state according to the sampling data, and output a final motor control signal according to the motor control signal outputted by the main function subunit <b>11</b>, the motor safety control signal outputted by the monitoring subunit <b>12</b>, and the motor drive state.</p><p id="p-0043" num="0042">Further, the second co-processing subunit <b>14</b> includes a quick protection module <b>141</b> and a control signal processing module <b>142</b>. The quick protection module <b>141</b> is configured to determine the motor drive state according to the sampling data, for example, to perform processing such as quick turn-off when it is determined that the drive is faulty according to a sampled current, voltage, resolver signal, and the like, so that the motor is in the safe state when a fault occurs. The control signal processing module <b>142</b> is configured to: when the motor drive is normal, use the motor control signal from the main function subunit <b>11</b> as the final motor control signal, and control the motor to operate according to a motor control signal PWM<b>0</b> from the main function subunit <b>11</b>, for example, to output PWM&#xd7;3_T to the three-phase upper bridge arm circuit and output PWM&#xd7;3_B to the three-phase lower bridge arm circuit; or when the motor drive is abnormal, use a motor safety control signal PWM<b>1</b> from the monitoring subunit <b>12</b> as the final motor control signal, and further control the driving unit <b>30</b> to switch to the safe path according to the sampling data.</p><p id="p-0044" num="0043">Specifically, as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the second co-processing subunit <b>14</b> mainly performs processing on the final motor control signal such as the PWM. The main function subunit <b>11</b> calculates, through an inputted current signal, voltage signal, and position signal, and by using a motor control algorithm, the PWM required for obtaining normal control, for example, outputs Data_PWM<b>0</b>. The monitoring subunit <b>12</b> outputs PWM<b>1</b> according to the diagnostic information, outputted PWM enable and disable information, and PWM information enabling the motor to be in the safe state. That is, when there are a fault and an enable output control signal, the monitoring subunit <b>12</b> outputs a safety control signal, that is, a signal Data_PWM<b>1</b> enabling the motor to run safely. The quick protection module <b>141</b> performs processing such as quick turn-off based on fault information such as a current, a voltage, and resolver obtained through sampling, so that the motor is in the safe state when a fault occurs in it. The control signal processing module <b>142</b> integrates Data_PWM<b>0</b>, Data_PWM<b>1</b>, and processing information of the quick protection module <b>141</b> to process a finally outputted PWM_out waveform, and controls, according to the bus voltage sampling or the motor rotation speed, the driving unit <b>30</b> to switch to the safe path when there is a fault.</p><p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a flowchart of a process of performing PWM waveform processing by the control signal processing module <b>142</b> according to an embodiment of the present disclosure. The process includes the following steps.</p><p id="p-0046" num="0045">S<b>11</b>. Data_PWM<b>0</b>, Data_PWM<b>1</b>, and a current-voltage quick processing signal are received.</p><p id="p-0047" num="0046">S<b>12</b>. It is diagnosed whether there is a motor drive abnormal signal, and if yes, step S<b>14</b> is performed, or otherwise, step S<b>13</b> is performed.</p><p id="p-0048" num="0047">S<b>13</b>. PWM_out=Data_PWM<b>0</b>, and a motor is in a normal control state.</p><p id="p-0049" num="0048">S<b>14</b>. PWM_out=Data_PWM<b>1</b>, and the motor is enabled to be in a safe state.</p><p id="p-0050" num="0049">S<b>15</b>. It is determined whether |a motor rotation speed&#x2212;a preset rotation speed|&#x3c;a set rotation speed difference or |a bus voltage&#x2212;a preset voltage|&#x3c;a set voltage difference is satisfied. If yes, step S<b>16</b> is performed, or otherwise, step S<b>17</b> is performed.</p><p id="p-0051" num="0050">S<b>16</b>. Six driving modules for controlling the driving unit are turned off, and an alarm is issued.</p><p id="p-0052" num="0051">S<b>17</b>. It is determined whether a fault signal is the three-phase upper bridge arm circuit, and if yes, step S<b>18</b> is performed, or otherwise, step S<b>19</b> is performed.</p><p id="p-0053" num="0052">S<b>18</b>. The three-phase lower bridge arm circuit of the driving unit is short-circuited, and an alarm is issued.</p><p id="p-0054" num="0053">S<b>19</b>. The three-phase upper bridge arm circuit of the driving unit is short-circuited, and an alarm is issued.</p><p id="p-0055" num="0054">In the motor control system <b>1</b> of the embodiment of the present disclosure, the main control unit <b>10</b> uses the multiple control cores and the multiple processing chips, monitors the main function subunit <b>11</b> through the monitoring subunit <b>12</b>, and optimizes a control function through the second co-processing subunit <b>14</b>. That is, the control function is optimized and integrated, which helps improve the safety level.</p><p id="p-0056" num="0055">Further, as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, in the embodiment, various power units of the driving unit <b>30</b> may supply power independently. For example, the motor control system <b>1</b> includes two driving power supplies, and the two driving power supplies supply power Vcc to the three-phase upper bridge arm circuit <b>31</b> and the three-phase lower bridge arm circuit <b>32</b> of the driving unit <b>30</b> respectively; or, the motor control system <b>1</b> includes six driving power supplies, and the six driving power supplies supply power to the six driving power units of the three-phase upper bridge arm circuit and the three-phase lower bridge arm circuit of the driving unit <b>30</b> respectively. Therefore, the power supply can supply power independently.</p><p id="p-0057" num="0056">In summary, in the motor control system <b>1</b> of the embodiment of the present disclosure, an improved diagnostic mechanism is added, and the control function is optimized and integrated through multi-layer monitoring. Multiple layers of power cut-off paths are added to the motor control system <b>1</b>. In addition, an independent power supply system is used, and the signal and the control target are monitored, to ensure the safety of power output, enable an electronic control system to be more reliable, and significantly improve the safety level of motor control, thereby ensuring the safe operation of a vehicle.</p><p id="p-0058" num="0057">Based on the motor control system in the foregoing embodiment, a vehicle according to an embodiment of a second aspect of the present disclosure is described with reference to the accompanying drawings.</p><p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a block diagram of a vehicle according to an embodiment of the present disclosure. As shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, a vehicle <b>100</b> in the embodiment of the present disclosure includes a motor <b>2</b> and the motor control system <b>1</b> in the foregoing embodiments. The motor control system <b>1</b> controls the motor <b>2</b>, to improve a safety level of the vehicle. For the structure and safety design of the motor control system <b>1</b>, reference may be made to the descriptions of the foregoing embodiments.</p><p id="p-0060" num="0059">In the vehicle <b>100</b> according to the embodiment of the present disclosure, the safety level of the control of the motor <b>2</b> can be improved by using the motor control system <b>1</b> in the foregoing embodiment, and therefore the safety can be improved.</p><p id="p-0061" num="0060">In the description of the present disclosure, it should be understood that, orientations or position relationships indicated by terms such as &#x201c;center&#x201d;, &#x201c;longitudinal&#x201d;, &#x201c;transverse&#x201d;, &#x201c;length&#x201d;, &#x201c;width&#x201d;, &#x201c;thickness&#x201d;, &#x201c;up&#x201d;, &#x201c;down&#x201d;, &#x201c;front&#x201d;, &#x201c;rear&#x201d;, &#x201c;left&#x201d;, &#x201c;right&#x201d;, &#x201c;vertical&#x201d;, &#x201c;horizontal&#x201d;, &#x201c;top&#x201d;, &#x201c;bottom&#x201d;, &#x201c;inner&#x201d;, &#x201c;outer&#x201d;, &#x201c;clockwise&#x201d;, &#x201c;counterclockwise&#x201d;, &#x201c;axial&#x201d;, &#x201c;radial&#x201d;, and &#x201c;circumferential&#x201d; are orientations or position relationship shown based on the accompanying drawings, and are merely used for describing the present disclosure and simplifying the description, rather than indicating or implying that the apparatus or element should have a particular orientation or be constructed and operated in a particular orientation, and therefore, should not be construed as a limitation on the present disclosure.</p><p id="p-0062" num="0061">In addition, terms &#x201c;first&#x201d; and &#x201c;second&#x201d; are used merely for the purpose of description, and shall not be construed as indicating or implying relative importance or implying a quantity of indicated technical features. Therefore, features defining &#x201c;first&#x201d; and &#x201c;second&#x201d; may explicitly or implicitly include one or more such features. In the descriptions of the present disclosure, unless otherwise explicitly specified, &#x201c;multiple&#x201d; means two or more than two.</p><p id="p-0063" num="0062">In the present disclosure, unless expressly stated and defined otherwise, the terms &#x201c;mounting&#x201d;, &#x201c;connected&#x201d;, &#x201c;connection&#x201d;, &#x201c;fixed&#x201d;, etc. are to be construed broadly, for example, as fixed connection, detachable connection or integral connection, as mechanical connection or electrical connection, and as direct connection or indirect connection via an intermediary or communication inside two elements or interaction between two elements. The specific meanings of the above terms in the present disclosure may be understood according to specific circumstances for a person of ordinary skill in the art.</p><p id="p-0064" num="0063">In the present disclosure, unless otherwise explicitly specified and defined, the first feature is &#x201c;on&#x201d; or &#x201c;below&#x201d; the second feature may mean that the first feature and the second feature are in direct contact, or the first feature and the second feature are in indirect contact through an intermediate medium. Moreover, the first feature &#x201c;over&#x201d;, &#x201c;above&#x201d; and &#x201c;up&#x201d; the second feature may be that the first feature is directly above or obliquely above the second feature, or simply indicates that a horizontal height of the first feature is higher than that of the second feature. That the first feature is &#x201c;below&#x201d;, &#x201c;under&#x201d;, and &#x201c;beneath&#x201d; the second feature may be that the first feature is directly below or obliquely below the second feature, or may merely indicate that the horizontal position of the first feature is lower than that of the second feature.</p><p id="p-0065" num="0064">In the description of this specification, the description of reference terms such as &#x201c;one embodiment&#x201d;, &#x201c;some embodiments&#x201d;, &#x201c;example&#x201d;, &#x201c;specific example&#x201d; or &#x201c;some examples&#x201d; means that specific features, structures, materials or characteristics described in combination with the embodiment or example are included in at least one embodiment or example of the present disclosure. In this specification, exemplary descriptions of the foregoing terms do not necessarily refer to a same embodiment or example. Besides, the specific features, the structures, the materials or the characteristics that are described may be combined in proper manners in any one or more embodiments or examples. In addition, a person skilled in the art may integrate or combine different embodiments or examples described in the specification and features of the different embodiments or examples as long as they are not contradictory to each other.</p><p id="p-0066" num="0065">Although the embodiments of the present disclosure have been shown and described above, it can be understood that, the foregoing embodiments are exemplary and should not be understood as limitation to the present disclosure. A person of ordinary skill in the art can make changes, modifications, replacements, or variations to the foregoing embodiments within the scope of the present disclosure.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A motor control system, comprising a main control unit, a power supply unit, and a driving unit, wherein<claim-text>the main control unit is configured to: obtain sampling data of a motor and a power supply signal from the driving unit, generate a motor control signal according to the sampling data, and output a safety enable signal when determining that motor drive is abnormal according to the sampling data or when determining that power supply to the driving unit is abnormal according to the power supply signal;</claim-text><claim-text>the power supply unit is configured to: supply power to the main control unit, monitor a state of the main control unit, and output a safety cut-off signal when the power supply unit or the main control unit is abnormal; and</claim-text><claim-text>the driving unit is configured to: drive the motor according to the motor control signal, and switch to a safe path when receiving any one of the safety enable signal or the safety cut-off signal.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The motor control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the sampling data comprises at least one of a motor rotation speed or a bus voltage, and<claim-text>the main control unit controls the driving unit to switch to the safe path according to the sampling data when the motor drive is abnormal, wherein when an absolute value of a difference between the motor rotation speed and a preset rotation speed is less than a set rotation speed difference, or when an absolute value of a difference between the bus voltage and a preset voltage is less than a set voltage difference, all six driving power units of the driving unit are controlled to be turned off.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The motor control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the main control unit controls all the six driving power units of the driving unit to be turned off when the power supply to the driving unit is abnormal, and</claim-text><claim-text>the power supply unit controls all the six driving power units of the driving unit to be turned off when the power supply unit or the main control unit is abnormal.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The motor control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the main control unit comprises a plurality of control subunits, and the plurality of control subunits are a plurality of control cores or a plurality of processing chips.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The motor control system according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the plurality of control subunits comprise at least:<claim-text>a main function subunit, configured to: obtain the sampling data of the motor, and generate the motor control signal according to the sampling data of the motor; and</claim-text><claim-text>a monitoring subunit, configured to: perform information diagnosis, generate diagnostic information, and obtain process data of the main function subunit, to monitor a state of the main function subunit.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The motor control system according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein<claim-text>the sampling data comprises motor angle data, and</claim-text><claim-text>the plurality of control subunits further comprise a first co-processing subunit, wherein the first co-processing subunit is configured to perform resolver decoding on the motor angle data, to obtain an angle required for controlling the motor.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The motor control system according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein<claim-text>the monitoring subunit is further configured to generate a motor safety control signal according to the diagnostic information, enable or disable control information, and control information enabling the motor to be in a safe state, and</claim-text><claim-text>the plurality of control subunits further comprise a second co-processing subunit, wherein the second co-processing subunit is configured to: determine a motor drive state according to the sampling data, and output a final motor control signal according to the motor control signal outputted by the main function subunit, the motor safety control signal outputted by the monitoring subunit, and the motor drive state.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The motor control system according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the second co-processing subunit comprises:<claim-text>a quick protection module, configured to determine the motor drive state according to the sampling data; and</claim-text><claim-text>a control signal processing module, configured to: when the motor drive is normal, use the motor control signal from the main function subunit as the final motor control signal, and control the motor to operate according to the motor control signal from the main function subunit; or, when the motor drive is abnormal, use the motor safety control signal from the monitoring subunit as the final motor control signal, and control the driving unit to switch to the safe path according to the sampling data.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The motor control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the motor control system comprises two driving power supplies, and the two driving power supplies supply power to a three-phase upper bridge arm circuit and a three-phase lower bridge arm circuit of the driving unit respectively; or</claim-text><claim-text>the motor control system comprises six driving power supplies, and the six driving power supplies supply power to the six driving power units of the three-phase upper bridge arm circuit and the three-phase lower bridge arm circuit of the driving unit respectively.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A vehicle, comprising a motor and the motor control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the motor control system is configured to drivingly control the motor.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The motor control system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein<claim-text>the main control unit controls all the six driving power units of the driving unit to be turned off when the power supply to the driving unit is abnormal, and</claim-text><claim-text>the power supply unit controls all the six driving power units of the driving unit to be turned off when the power supply unit or the main control unit is abnormal.</claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The motor control system according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the main control unit comprises a plurality of control subunits, and the plurality of control subunits are a plurality of control cores or a plurality of processing chips.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The motor control system according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the plurality of control subunits comprise at least:<claim-text>a main function subunit, configured to: obtain the sampling data of the motor, and generate the motor control signal according to the sampling data of the motor; and</claim-text><claim-text>a monitoring subunit, configured to: perform information diagnosis, generate diagnostic information, and obtain process data of the main function subunit, to monitor a state of the main function subunit.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The motor control system according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein<claim-text>the sampling data comprises motor angle data, and</claim-text><claim-text>the plurality of control subunits further comprise a first co-processing subunit, wherein the first co-processing subunit is configured to perform resolver decoding on the motor angle data, to obtain an angle required for controlling the motor.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The motor control system according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein<claim-text>the monitoring subunit is further configured to generate a motor safety control signal according to the diagnostic information, enable or disable control information, and control information enabling the motor to be in a safe state, and</claim-text><claim-text>the plurality of control subunits further comprise a second co-processing subunit, wherein the second co-processing subunit is configured to: determine a motor drive state according to the sampling data, and output a final motor control signal according to the motor control signal outputted by the main function subunit, the motor safety control signal outputted by the monitoring subunit, and the motor drive state.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The motor control system according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the second co-processing subunit comprises:<claim-text>a quick protection module, configured to determine the motor drive state according to the sampling data; and</claim-text><claim-text>a control signal processing module, configured to: when the motor drive is normal, use the motor control signal from the main function subunit as the final motor control signal, and control the motor to operate according to the motor control signal from the main function subunit; or, when the motor drive is abnormal, use the motor safety control signal from the monitoring subunit as the final motor control signal, and control the driving unit to switch to the safe path according to the sampling data.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The motor control system according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein<claim-text>the motor control system comprises two driving power supplies, and the two driving power supplies supply power to a three-phase upper bridge arm circuit and a three-phase lower bridge arm circuit of the driving unit respectively; or</claim-text><claim-text>the motor control system comprises six driving power supplies, and the six driving power supplies supply power to the six driving power units of the three-phase upper bridge arm circuit and the three-phase lower bridge arm circuit of the driving unit respectively.</claim-text></claim-text></claim></claims></us-patent-application>