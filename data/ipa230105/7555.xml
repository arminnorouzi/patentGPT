<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007556A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007556</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17942209</doc-number><date>20220912</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>36</main-group><subgroup>08</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>36</main-group><subgroup>00</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>W</subclass><main-group>36</main-group><subgroup>32</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>36</main-group><subgroup>08</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20180801</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>36</main-group><subgroup>0058</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>W</subclass><main-group>36</main-group><subgroup>32</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">Handover</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/US2021/022294</doc-number><date>20210315</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17942209</doc-number></document-id></child-doc></relation></continuation><us-provisional-application><document-id><country>US</country><doc-number>62989260</doc-number><date>20200313</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="obligated-assignee"><addressbook><orgname>Ofinno, LLC</orgname><address><city>Reston</city><state>VA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Qiao</last-name><first-name>Weihua</first-name><address><city>Herndon</city><state>VA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>Dinan</last-name><first-name>Esmael Hejazi</first-name><address><city>McLean</city><state>VA</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Park</last-name><first-name>Kyungmin</first-name><address><city>Vienna</city><state>VA</state><country>US</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>Talebi Fard</last-name><first-name>Peyman</first-name><address><city>Vienna</city><state>VA</state><country>US</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>Ryu</last-name><first-name>Jinsook</first-name><address><city>Oakton</city><state>VA</state><country>US</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>Kim</last-name><first-name>Taehun</first-name><address><city>Fairfax</city><state>VA</state><country>US</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>Ofinno, LLC</orgname><role>02</role><address><city>Reston</city><state>VA</state><country>US</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A first base station receives, from a second base station, positioning capability information of the second base station. The first base station receives, from a wireless device, a measurement report. The first base station sends, to the second base station, a handover request message including a request for position information of the wireless device. The sending is based on the measurement report. The sending is based on the positioning capability information of the second base station.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="101.68mm" wi="158.75mm" file="US20230007556A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="242.32mm" wi="167.72mm" orientation="landscape" file="US20230007556A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="246.89mm" wi="168.40mm" orientation="landscape" file="US20230007556A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="255.19mm" wi="163.49mm" orientation="landscape" file="US20230007556A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="194.23mm" wi="154.43mm" orientation="landscape" file="US20230007556A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="186.27mm" wi="164.34mm" orientation="landscape" file="US20230007556A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="230.21mm" wi="132.33mm" orientation="landscape" file="US20230007556A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="258.57mm" wi="168.74mm" orientation="landscape" file="US20230007556A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="255.86mm" wi="165.61mm" orientation="landscape" file="US20230007556A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="255.86mm" wi="171.62mm" orientation="landscape" file="US20230007556A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="254.08mm" wi="171.20mm" orientation="landscape" file="US20230007556A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="257.30mm" wi="170.18mm" orientation="landscape" file="US20230007556A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="257.22mm" wi="186.77mm" orientation="landscape" file="US20230007556A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="257.05mm" wi="171.87mm" orientation="landscape" file="US20230007556A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="251.21mm" wi="173.48mm" file="US20230007556A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="244.26mm" wi="167.22mm" orientation="landscape" file="US20230007556A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="253.58mm" wi="171.96mm" orientation="landscape" file="US20230007556A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="249.26mm" wi="160.95mm" orientation="landscape" file="US20230007556A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="249.26mm" wi="160.95mm" orientation="landscape" file="US20230007556A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="249.26mm" wi="160.95mm" orientation="landscape" file="US20230007556A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="232.24mm" wi="162.48mm" orientation="landscape" file="US20230007556A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="259.25mm" wi="170.94mm" orientation="landscape" file="US20230007556A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00022" num="00022"><img id="EMI-D00022" he="238.84mm" wi="135.72mm" orientation="landscape" file="US20230007556A1-20230105-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00023" num="00023"><img id="EMI-D00023" he="163.07mm" wi="169.59mm" orientation="landscape" file="US20230007556A1-20230105-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00024" num="00024"><img id="EMI-D00024" he="247.57mm" wi="162.64mm" file="US20230007556A1-20230105-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00025" num="00025"><img id="EMI-D00025" he="244.26mm" wi="170.94mm" orientation="landscape" file="US20230007556A1-20230105-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00026" num="00026"><img id="EMI-D00026" he="259.25mm" wi="170.94mm" orientation="landscape" file="US20230007556A1-20230105-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00027" num="00027"><img id="EMI-D00027" he="218.19mm" wi="161.71mm" file="US20230007556A1-20230105-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00028" num="00028"><img id="EMI-D00028" he="259.25mm" wi="170.94mm" orientation="landscape" file="US20230007556A1-20230105-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00029" num="00029"><img id="EMI-D00029" he="259.25mm" wi="170.94mm" orientation="landscape" file="US20230007556A1-20230105-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation of International Application No. PCT/US2021/022294, filed Mar. 15, 2021, which claims the benefit of U.S. Provisional Application No. 62/989,260, filed Mar. 13, 2020, which is hereby incorporated by reference in its entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWINGS</heading><p id="p-0003" num="0002">Examples of several of the various embodiments of the present invention are described herein with reference to the drawings.</p><p id="p-0004" num="0003"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram of an example 5G system architecture as per an aspect of an embodiment of the present disclosure.</p><p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a diagram of an example 5G System architecture as per an aspect of an embodiment of the present disclosure.</p><p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a system diagram of an example wireless device and a network node in a 5G system as per an aspect of an embodiment of the present disclosure.</p><p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a system diagram of an example wireless device as per an aspect of an embodiment of the present disclosure.</p><p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref> depict two registration management state models in UE <b>100</b> and AMF <b>155</b> as per an aspect of embodiments of the present disclosure.</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>6</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>6</b>B</figref> depict two connection management state models in UE <b>100</b> and AMF <b>155</b> as per an aspect of embodiments of the present disclosure.</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is diagram for classification and marking traffic as per an aspect of an embodiment of the present disclosure.</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is an example call flow for registration procedure as per an aspect of an embodiment of the present disclosure.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is an example call flow for registration procedure as per an aspect of an embodiment of the present disclosure.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is an example call flow for service request procedure as per an aspect of an embodiment of the present disclosure.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is an example call flow for service request procedure as per an aspect of an embodiment of the present disclosure.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is an example call flow for PDU session establishment procedure as per an aspect of an embodiment of the present disclosure.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is an example call flow for PDU session establishment procedure as per an aspect of an embodiment of the present disclosure.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>14</b></figref> illustrates an example mobile communication networks as per an aspect of an embodiment of the present disclosure.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>15</b></figref> is a diagram of an example 5G policy and charging control system architecture as per an aspect of an embodiment of the present disclosure.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is an example call flow for PDU session establishment charging as per an aspect of an embodiment of the present disclosure.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a first example arrangement of a local location management component (LMC) associated with a base station as per an aspect of an embodiment of the present disclosure.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>18</b></figref> is a diagram of a second example arrangement of an LMC associated with a base station as per an aspect of an embodiment of the present disclosure.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a third example arrangement of an LMC associated with a base station as per an aspect of an embodiment of the present disclosure.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a diagram of an example architecture for location service as per an aspect of an embodiment of the present disclosure.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is an example call flow as per an aspect of an embodiment of the present disclosure.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is an example diagram depicting definition of a parameter/information element for the positioning capability information as per an aspect of an embodiment of the present disclosure.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is an example diagram depicting a RequestLocationInformation message body as per an aspect of an embodiment of the present disclosure.</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is an example diagram depicting the procedures of a source base station as per an aspect of an embodiment of the present disclosure.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>25</b></figref> is an example call flow as per an embodiment of the present disclosure.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is an example call flow as per an embodiment of the present disclosure.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is an example diagram depicting the procedures of a target base station as per an aspect of an embodiment of the present disclosure.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>28</b></figref> is an example call flow as per an aspect of an embodiment of the present disclosure.</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>29</b></figref> is an example call flow as per an aspect of an embodiment of the present disclosure.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0003" level="1">DETAILED DESCRIPTION</heading><p id="p-0033" num="0032">Example embodiments of the present invention enable implementation of enhanced features and functionalities in 5G systems. More particularly, the embodiments of the technology disclosed herein may relate to positioning capability control for handover (e.g. for 5G or future communication system). Throughout the present disclosure, UE, wireless device, vehicle terminal, and mobile device are used interchangeably. Throughout the present disclosure, base station, (Radio) Access Network ((R)AN), Next Generation Radio Access Network (NG-RAN), New radio Node B (gNB), Next Generation eNodeB (ng-eNBs) are used interchangeably. Throughout the present disclosure, base station, Radio Access Network (RAN), eNodeB are used interchangeably.</p><p id="p-0034" num="0033">Throughout the present disclosure, AMF, NRF, OAM, LMF, GMLC are example network functions which may be implemented either as a network element on a (dedicated) hardware, and/or a network node as depicted <figref idref="DRAWINGS">FIG. <b>4</b></figref>, or as a software instance running on a (dedicated) hardware and/or shared hardware, or as a virtualized function instantiated on an appropriate platform.</p><p id="p-0035" num="0034">The following acronyms are used throughout the present disclosure:<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0035">5G 5th generation mobile networks</li>        <li id="ul0002-0002" num="0036">5GC 5G Core Network</li>        <li id="ul0002-0003" num="0037">5GS 5G System</li>        <li id="ul0002-0004" num="0038">5G-AN 5G Access Network</li>        <li id="ul0002-0005" num="0039">5QI 5G QoS Indicator</li>        <li id="ul0002-0006" num="0040">ACK Acknowledgement</li>        <li id="ul0002-0007" num="0041">AF Application Function</li>        <li id="ul0002-0008" num="0042">AMBR Aggregate Maximum Bit Rate</li>        <li id="ul0002-0009" num="0043">AMF Access and Mobility Management Function</li>        <li id="ul0002-0010" num="0044">AN Access Network</li>        <li id="ul0002-0011" num="0045">ANDSP Access Network Discovery &#x26; Selection Policy</li>        <li id="ul0002-0012" num="0046">APN Access Point Name</li>        <li id="ul0002-0013" num="0047">ARP Allocation and Retention Priority</li>        <li id="ul0002-0014" num="0048">BD Billing Domain</li>        <li id="ul0002-0015" num="0049">BPS Barometric Pressure Sensor</li>        <li id="ul0002-0016" num="0050">CCNF Common Control Network Functions</li>        <li id="ul0002-0017" num="0051">CDR Charging Data Record</li>        <li id="ul0002-0018" num="0052">CHF Charging Function</li>        <li id="ul0002-0019" num="0053">CIoT Cellular IoT</li>        <li id="ul0002-0020" num="0054">CN Core Network</li>        <li id="ul0002-0021" num="0055">CP Control Plane</li>        <li id="ul0002-0022" num="0056">C-V2X Cellular Vehicle-To-Everything</li>        <li id="ul0002-0023" num="0057">DAB Digital Audio Broadcasting</li>        <li id="ul0002-0024" num="0058">DDN Downlink Data Notification</li>        <li id="ul0002-0025" num="0059">DDoS Distributed Denial of Service</li>        <li id="ul0002-0026" num="0060">DL Downlink</li>        <li id="ul0002-0027" num="0061">DN Data Network</li>        <li id="ul0002-0028" num="0062">DN-AAA Data Network Authentication Authorization and Accounting</li>        <li id="ul0002-0029" num="0063">DNN Data Network Name</li>        <li id="ul0002-0030" num="0064">DTMB Digital Terrestrial Multimedia Broadcast</li>        <li id="ul0002-0031" num="0065">ECGI E-UTRAN Cell Global Identifier</li>        <li id="ul0002-0032" num="0066">ECID Enhanced Cell Identity</li>        <li id="ul0002-0033" num="0067">E-CSCF Emergency Call Session Control Function</li>        <li id="ul0002-0034" num="0068">eNodeB evolved Node B</li>        <li id="ul0002-0035" num="0069">EPS Evolved Packet System</li>        <li id="ul0002-0036" num="0070">E-UTRAN Evolved Universal Terrestrial Radio Access Network</li>        <li id="ul0002-0037" num="0071">FDD Frequency Division Duplex</li>        <li id="ul0002-0038" num="0072">FQDN Fully Qualified Domain Name</li>        <li id="ul0002-0039" num="0073">F-TEID Fully Qualified TEID</li>        <li id="ul0002-0040" num="0074">GAD Geographical Area Description</li>        <li id="ul0002-0041" num="0075">GMLC Gateway Mobile Location Centre</li>        <li id="ul0002-0042" num="0076">gNB Next Generation Node B</li>        <li id="ul0002-0043" num="0077">gNB-CU-CP gNB Central Unit Control Plane</li>        <li id="ul0002-0044" num="0078">GNSS Global Navigation Satellite System</li>        <li id="ul0002-0045" num="0079">GPSI Generic Public Subscription Identifier</li>        <li id="ul0002-0046" num="0080">GTP GPRS Tunneling Protocol</li>        <li id="ul0002-0047" num="0081">GUTI Globally Unique Temporary Identifier</li>        <li id="ul0002-0048" num="0082">GW Gateway</li>        <li id="ul0002-0049" num="0083">HGMLC Home GMLC</li>        <li id="ul0002-0050" num="0084">HTTP Hypertext Transfer Protocol</li>        <li id="ul0002-0051" num="0085">ID Identifier</li>        <li id="ul0002-0052" num="0086">IMEI International Mobile Equipment Identity</li>        <li id="ul0002-0053" num="0087">IMEI DB IMEI Database</li>        <li id="ul0002-0054" num="0088">IMS IP Multimedia Subsystem</li>        <li id="ul0002-0055" num="0089">IMSI International Mobile Subscriber Identity</li>        <li id="ul0002-0056" num="0090">IP Internet Protocol</li>        <li id="ul0002-0057" num="0091">IP-CAN IP Connectivity Access Network</li>        <li id="ul0002-0058" num="0092">L2 Layer 2 (data link layer)</li>        <li id="ul0002-0059" num="0093">L3 Layer 3 (network layer)</li>        <li id="ul0002-0060" num="0094">LADN Local Area Data Network</li>        <li id="ul0002-0061" num="0095">LAN local area network</li>        <li id="ul0002-0062" num="0096">LCS LoCation Services</li>        <li id="ul0002-0063" num="0097">LI Lawful Intercept</li>        <li id="ul0002-0064" num="0098">LMC Location Management Component</li>        <li id="ul0002-0065" num="0099">LMF Location Management Function</li>        <li id="ul0002-0066" num="0100">LPP LTE Positioning Protocol</li>        <li id="ul0002-0067" num="0101">LRF location retrieval function</li>        <li id="ul0002-0068" num="0102">MAC Media Access Control</li>        <li id="ul0002-0069" num="0103">MEI Mobile Equipment Identifier</li>        <li id="ul0002-0070" num="0104">MICO Mobile Initiated Connection Only</li>        <li id="ul0002-0071" num="0105">MME Mobility Management Entity</li>        <li id="ul0002-0072" num="0106">MO Mobile Originated</li>        <li id="ul0002-0073" num="0107">MO-LR Mobile Originated Location Request</li>        <li id="ul0002-0074" num="0108">MSISDN Mobile Subscriber ISDN</li>        <li id="ul0002-0075" num="0109">MT Mobile Terminating</li>        <li id="ul0002-0076" num="0110">MT-LR Mobile Terminated Location Request</li>        <li id="ul0002-0077" num="0111">N3IWF Non-3GPP InterWorking Function</li>        <li id="ul0002-0078" num="0112">NAI Network Access Identifier</li>        <li id="ul0002-0079" num="0113">NAS Non Access Stratum</li>        <li id="ul0002-0080" num="0114">NAT Network address translation</li>        <li id="ul0002-0081" num="0115">NB-IoT Narrow Band IoT</li>        <li id="ul0002-0082" num="0116">NCGI NR Cell Global Identity</li>        <li id="ul0002-0083" num="0117">NEF Network Exposure Function</li>        <li id="ul0002-0084" num="0118">NF Network Function</li>        <li id="ul0002-0085" num="0119">NGAP Next Generation Application Protocol</li>        <li id="ul0002-0086" num="0120">ng-eNB Next Generation eNB</li>        <li id="ul0002-0087" num="0121">NG-RAN NR Radio Access Network</li>        <li id="ul0002-0088" num="0122">NI-LR Network Induced Location Request</li>        <li id="ul0002-0089" num="0123">NR New Radio</li>        <li id="ul0002-0090" num="0124">NRF Network Repository Function</li>        <li id="ul0002-0091" num="0125">NRPPA New Radio Positioning Protocol A</li>        <li id="ul0002-0092" num="0126">NSI Network Slice Instance</li>        <li id="ul0002-0093" num="0127">NSSAI Network Slice Selection Assistance Information</li>        <li id="ul0002-0094" num="0128">NSSF Network Slice Selection Function</li>        <li id="ul0002-0095" num="0129">NWDAF Network Data Analytics Function</li>        <li id="ul0002-0096" num="0130">OAM Operation Administration and Maintenance</li>        <li id="ul0002-0097" num="0131">OCS Online Charging System</li>        <li id="ul0002-0098" num="0132">OFCS Offline Charging System</li>        <li id="ul0002-0099" num="0133">OTDOA Observed Time Difference of Arrival</li>        <li id="ul0002-0100" num="0134">PCC Policy and Charging Control</li>        <li id="ul0002-0101" num="0135">PCF Policy Control Function</li>        <li id="ul0002-0102" num="0136">PCRF Policy and Charging Rules Function</li>        <li id="ul0002-0103" num="0137">PDN Packet Data Network</li>        <li id="ul0002-0104" num="0138">PDU Packet Data Unit</li>        <li id="ul0002-0105" num="0139">PEI Permanent Equipment Identifier</li>        <li id="ul0002-0106" num="0140">PGW PDN Gateway</li>        <li id="ul0002-0107" num="0141">PLMN Public Land Mobile Network</li>        <li id="ul0002-0108" num="0142">ProSe Proximity-based Services</li>        <li id="ul0002-0109" num="0143">QFI QoS Flow Identifier</li>        <li id="ul0002-0110" num="0144">QoS Quality of Service</li>        <li id="ul0002-0111" num="0145">RM Registration Management</li>        <li id="ul0002-0112" num="0146">RA Random Access</li>        <li id="ul0002-0113" num="0147">RAN Radio Access Network</li>        <li id="ul0002-0114" num="0148">RAT Radio Access Technology</li>        <li id="ul0002-0115" num="0149">RRC Radio Resource Control</li>        <li id="ul0002-0116" num="0150">RM Registration Management</li>        <li id="ul0002-0117" num="0151">S1-AP S1 Application Protocol</li>        <li id="ul0002-0118" num="0152">SBA Service Based Architecture</li>        <li id="ul0002-0119" num="0153">SEA Security Anchor Function</li>        <li id="ul0002-0120" num="0154">SGW Serving Gateway</li>        <li id="ul0002-0121" num="0155">SCM Security Context Management</li>        <li id="ul0002-0122" num="0156">SM Session Management</li>        <li id="ul0002-0123" num="0157">SMF Session Management Function</li>        <li id="ul0002-0124" num="0158">SMSF SMS Function</li>        <li id="ul0002-0125" num="0159">S-NSSAI Single Network Slice Selection Assistance information</li>        <li id="ul0002-0126" num="0160">SS Synchronization Signal</li>        <li id="ul0002-0127" num="0161">SSC Session and Service Continuity</li>        <li id="ul0002-0128" num="0162">SUCI Served User Correlation ID</li>        <li id="ul0002-0129" num="0163">SUPI Subscriber Permanent Identifier</li>        <li id="ul0002-0130" num="0164">TA Tracking Area</li>        <li id="ul0002-0131" num="0165">TAI Tracking Area Identity</li>        <li id="ul0002-0132" num="0166">TBS Terrestrial Beacon System</li>        <li id="ul0002-0133" num="0167">TCP Transmission Control Protocol</li>        <li id="ul0002-0134" num="0168">TEID Tunnel Endpoint Identifier</li>        <li id="ul0002-0135" num="0169">TMSI Temporary Mobile Subscriber Identity</li>        <li id="ul0002-0136" num="0170">TNAN Trusted Non-3GPP Access Network</li>        <li id="ul0002-0137" num="0171">TNGF Trusted Non3GPP Gateway</li>        <li id="ul0002-0138" num="0172">TRP Transmission and Reception Point</li>        <li id="ul0002-0139" num="0173">UCMF UE radio Capability Management Function</li>        <li id="ul0002-0140" num="0174">UDR Unified Data Repository</li>        <li id="ul0002-0141" num="0175">UDM Unified Data Management</li>        <li id="ul0002-0142" num="0176">UDP User Datagram Protocol</li>        <li id="ul0002-0143" num="0177">UE User Equipment</li>        <li id="ul0002-0144" num="0178">UL Uplink</li>        <li id="ul0002-0145" num="0179">UL CL Uplink Classifier</li>        <li id="ul0002-0146" num="0180">UPF User Plane Function</li>        <li id="ul0002-0147" num="0181">V2X Vehicle-To-Everything</li>        <li id="ul0002-0148" num="0182">WLAN Wireless Local Area Network</li>        <li id="ul0002-0149" num="0183">XML Extensible Markup Language</li>    </ul>    </li></ul></p><p id="p-0036" num="0184">Example <figref idref="DRAWINGS">FIG. <b>1</b></figref> and <figref idref="DRAWINGS">FIG. <b>2</b></figref> depict a 5G system comprising of access networks and 5G core network. An example 5G access network may comprise an access network connecting to a 5G core network. An access network may comprise an NG-RAN <b>105</b> and/or non-3GPP AN <b>165</b>. An example 5G core network may connect to one or more 5G access networks 5G-AN and/or NG-RANs. 5G core network may comprise functional elements or network functions as in example <figref idref="DRAWINGS">FIG. <b>1</b></figref> and example <figref idref="DRAWINGS">FIG. <b>2</b></figref> where interfaces may be employed for communication among the functional elements and/or network elements.</p><p id="p-0037" num="0185">In an example, a network function may be a processing function in a network, which may have a functional behavior and/or interfaces. A network function may be implemented either as a network element on a dedicated hardware, and/or a network node as depicted in <figref idref="DRAWINGS">FIG. <b>3</b></figref> and <figref idref="DRAWINGS">FIG. <b>4</b></figref>, or as a software instance running on a dedicated hardware and/or shared hardware, or as a virtualized function instantiated on an appropriate platform.</p><p id="p-0038" num="0186">In an example, access and mobility management function, AMF <b>155</b>, may include the following functionalities (some of the AMF <b>155</b> functionalities may be supported in a single instance of an AMF <b>155</b>): termination of RAN <b>105</b> CP interface (N2), termination of NAS (N1), NAS ciphering and integrity protection, registration management, connection management, reachability management, mobility management, lawful intercept (for AMF <b>155</b> events and interface to LI system), provide transport for session management, SM messages between UE <b>100</b> and SMF <b>160</b>, transparent proxy for routing SM messages, access authentication, access authorization, provide transport for SMS messages between UE <b>100</b> and SMSF, security anchor function, SEA, interaction with the AUSF <b>150</b> and the UE <b>100</b>, receiving the intermediate key established as a result of the UE <b>100</b> authentication process, security context management, SCM, that receives a key from the SEA that it uses to derive access network specific keys, and/or the like.</p><p id="p-0039" num="0187">In an example, the AMF <b>155</b> may support non-3GPP access networks through N2 interface with N3IWF <b>170</b>, NAS signaling with a UE <b>100</b> over N3IWF <b>170</b>, authentication of UEs connected over N3IWF <b>170</b>, management of mobility, authentication, and separate security context state(s) of a UE <b>100</b> connected via non-3GPP access <b>165</b> or connected via 3GPP access <b>105</b> and non-3GPP access <b>165</b> simultaneously, support of a coordinated RM context valid over 3GPP access <b>105</b> and non 3GPP access <b>165</b>, support of CM management contexts for the UE <b>100</b> for connectivity over non-3GPP access, and/or the like.</p><p id="p-0040" num="0188">In an example, an AMF <b>155</b> region may comprise one or multiple AMF <b>155</b> sets. The AMF <b>155</b> set may comprise some AMF <b>155</b> that serve a given area and/or network slice(s). In an example, multiple AMF <b>155</b> sets may be per AMF <b>155</b> region and/or network slice(s). Application identifier may be an identifier that may be mapped to a specific application traffic detection rule. Configured NSSAI may be an NSSAI that may be provisioned in a UE <b>100</b>. DN <b>115</b> access identifier (DNAI), for a DNN, may be an identifier of a user plane access to a DN <b>115</b>. Initial registration may be related to a UE <b>100</b> registration in RM-DEREGISTERED <b>500</b>, <b>520</b> states. N2AP UE <b>100</b> association may be a logical per UE <b>100</b> association between a 5G AN node and an AMF <b>155</b>. N2AP UE-TNLA-binding may be a binding between a N2AP UE <b>100</b> association and a specific transport network layer, TNL association for a given UE <b>100</b>.</p><p id="p-0041" num="0189">In an example, session management function, SMF <b>160</b>, may include one or more of the following functionalities (one or more of the SMF <b>160</b> functionalities may be supported in a single instance of a SMF <b>160</b>): session management (e.g. session establishment, modify and release, including tunnel maintain between UPF <b>110</b> and AN <b>105</b> node), UE <b>100</b> IP address allocation &#x26; management (including optional authorization), selection and control of UP function(s), configuration of traffic steering at UPF <b>110</b> to route traffic to proper destination, termination of interfaces towards policy control functions, control part of policy enforcement and QoS. lawful intercept (for SM events and interface to LI System), termination of SM parts of NAS messages, downlink data notification, initiation of AN specific SM information, sent via AMF <b>155</b> over N2 to (R)AN <b>105</b>, determination of SSC mode of a session, roaming functionality, handling local enforcement to apply QoS SLAs (VPLMN), charging data collection and charging interface (VPLMN), lawful intercept (in VPLMN for SM events and interface to LI System), support for interaction with external DN <b>115</b> for transport of signaling for PDU session authorization/authentication by external DN <b>115</b>, and/or the like.</p><p id="p-0042" num="0190">In an example, a user plane function, UPF <b>110</b>, may include one or more of the following functionalities (some of the UPF <b>110</b> functionalities may be supported in a single instance of a UPF <b>110</b>): anchor point for Intra-/Inter-RAT mobility (when applicable), external PDU session point of interconnect to DN <b>115</b>, packet routing &#x26; forwarding, packet inspection and user plane part of policy rule enforcement, lawful intercept (UP collection), traffic usage reporting, uplink classifier to support routing traffic flows to a data network, branching point to support multi-homed PDU session(s), QoS handling for user plane, uplink traffic verification (SDF to QoS flow mapping), transport level packet marking in the uplink and downlink, downlink packet buffering, downlink data notification triggering, and/or the like.</p><p id="p-0043" num="0191">In an example, the UE <b>100</b> IP address management may include allocation and release of the UE <b>100</b> IP address and/or renewal of the allocated IP address. The UE <b>100</b> may set a requested PDU type during a PDU session establishment procedure based on its IP stack capabilities and/or configuration. In an example, the SMF <b>160</b> may select PDU type of a PDU session. In an example, if the SMF <b>160</b> receives a request with PDU type set to IP, the SMF <b>160</b> may select PDU type IPv4 or IPv6 based on DNN configuration and/or operator policies. In an example, the SMF <b>160</b> may provide a cause value to the UE <b>100</b> to indicate whether the other IP version is supported on the DNN. In an example, if the SMF <b>160</b> receives a request for PDU type IPv4 or IPv6 and the requested IP version is supported by the DNN the SMF <b>160</b> may select the requested PDU type.</p><p id="p-0044" num="0192">In an example embodiment, the 5GC elements and UE <b>100</b> may support the following mechanisms: during a PDU session establishment procedure, the SMF <b>160</b> may send the IP address to the UE <b>100</b> via SM NAS signaling. The IPv4 address allocation and/or IPv4 parameter configuration via DHCPv4 may be employed once PDU session may be established. IPv6 prefix allocation may be supported via IPv6 stateless autoconfiguration, if IPv6 is supported. In an example, 5GC network elements may support IPv6 parameter configuration via stateless DHCPv6.</p><p id="p-0045" num="0193">The 5GC may support the allocation of a static IPv4 address and/or a static IPv6 prefix based on subscription information in a UDM <b>140</b> and/or based on the configuration on a per-subscriber, per-DNN basis.</p><p id="p-0046" num="0194">User plane function(s) (UPF <b>110</b>) may handle the user plane path of PDU sessions. A UPF <b>110</b> that provides the interface to a data network may support functionality of a PDU session anchor.</p><p id="p-0047" num="0195">In an example, a policy control function, PCF <b>135</b>, may support unified policy framework to govern network behavior, provide policy rules to control plane function(s) to enforce policy rules, implement a front end to access subscription information relevant for policy decisions in a user data repository (UDR), and/or the like.</p><p id="p-0048" num="0196">A network exposure function, NEF <b>125</b>, may provide means to securely expose the services and capabilities provided by the 3GPP network functions, translate between information exchanged with the AF <b>145</b> and information exchanged with the internal network functions, receive information from other network functions, and/or the like.</p><p id="p-0049" num="0197">In an example, an network repository function, NRF <b>130</b> may support service discovery function that may receive NF discovery request from NF instance, provide information about the discovered NF instances (be discovered) to the NF instance, and maintain information about available NF instances and their supported services, and/or the like.</p><p id="p-0050" num="0198">In an example, an NSSF <b>120</b> may select a set of network slice instances serving the UE <b>100</b>, may determine allowed NSSAI. In an example, the NSSF <b>120</b> may determine the AMF <b>155</b> set to be employed to serve the UE <b>100</b>, and/or, based on configuration, determine a list of candidate AMF <b>155</b>(<i>s</i>) <b>155</b> by querying the NRF <b>130</b>.</p><p id="p-0051" num="0199">In an example, stored data in a UDR may include at least user subscription data, including at least subscription identifiers, security credentials, access and mobility related subscription data, session related subscription data, policy data, and/or the like.</p><p id="p-0052" num="0200">In an example, an AUSF <b>150</b> may support authentication server function (AUSF <b>150</b>).</p><p id="p-0053" num="0201">In an example, an application function, AF <b>145</b>, may interact with the 3GPP core network to provide services. In an example, based on operator deployment, application functions may be trusted by the operator to interact directly with relevant network functions. Application functions not allowed by the operator to access directly the network functions may use an external exposure framework (e.g., via the NEF <b>125</b>) to interact with relevant network functions.</p><p id="p-0054" num="0202">In an example, control plane interface between the (R)AN <b>105</b> and the 5G core may support connection of multiple different kinds of AN(s) (e.g. 3GPP RAN <b>105</b>, N3IWF <b>170</b> for Un-trusted access <b>165</b>) to the 5GC via a control plane protocol. In an example, an N2 AP protocol may be employed for both the 3GPP access <b>105</b> and non-3GPP access <b>165</b>. In an example, control plane interface between the (R)AN <b>105</b> and the 5G core may support decoupling between AMF <b>155</b> and other functions such as SMF <b>160</b> that may need to control the services supported by AN(s) (e.g. control of the UP resources in the AN <b>105</b> for a PDU session).</p><p id="p-0055" num="0203">In an example, the 5GC may provide policy information from the PCF <b>135</b> to the UE <b>100</b>. In an example, the policy information may comprise: access network discovery and selection policy, UE <b>100</b> route selection policy (URSP), SSC mode selection policy (SSCMSP), network slice selection policy (NSSP), DNN selection policy, non-seamless offload policy, and/or the like.</p><p id="p-0056" num="0204">In an example, as depicted in example <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the registration management, RM may be employed to register or de-register a UE/user <b>100</b> with the network, and establish the user context in the network. Connection management may be employed to establish and release the signaling connection between the UE <b>100</b> and the AMF <b>155</b>.</p><p id="p-0057" num="0205">In an example, a UE <b>100</b> may register with the network to receive services that require registration. In an example, the UE <b>100</b> may update its registration with the network periodically in order to remain reachable (periodic registration update), or upon mobility (e.g., mobility registration update), or to update its capabilities or to re-negotiate protocol parameters.</p><p id="p-0058" num="0206">In an example, an initial registration procedure as depicted in example <figref idref="DRAWINGS">FIG. <b>8</b></figref> and <figref idref="DRAWINGS">FIG. <b>9</b></figref> may involve execution of network access control functions (e.g. user authentication and access authorization based on subscription profiles in UDM <b>140</b>). Example <figref idref="DRAWINGS">FIG. <b>9</b></figref> is a continuation of the initial registration procedure depicted in <figref idref="DRAWINGS">FIG. <b>8</b></figref>. As a result of the initial registration procedure, the identity of the serving AMF <b>155</b> may be registered in a UDM <b>140</b>.</p><p id="p-0059" num="0207">In an example, the registration management, RM procedures may be applicable over both 3GPP access <b>105</b> and non 3GPP access <b>165</b>.</p><p id="p-0060" num="0208">An example <figref idref="DRAWINGS">FIG. <b>5</b>A</figref> may depict the RM states of a UE <b>100</b> as observed by the UE <b>100</b> and AMF <b>155</b>. In an example embodiment, two RM states may be employed in the UE <b>100</b> and the AMF <b>155</b> that may reflect the registration status of the UE <b>100</b> in the selected PLMN: RM-DEREGISTERED <b>500</b>, and RM-REGISTERED <b>510</b>. In an example, in the RM DEREGISTERED state <b>500</b>, the UE <b>100</b> may not be registered with the network. The UE <b>100</b> context in the AMF <b>155</b> may not hold valid location or routing information for the UE <b>100</b> so the UE <b>100</b> may not be reachable by the AMF <b>155</b>. In an example, the UE <b>100</b> context may be stored in the UE <b>100</b> and the AMF <b>155</b>. In an example, in the RM REGISTERED state <b>510</b>, the UE <b>100</b> may be registered with the network. In the RM-REGISTERED <b>510</b> state, the UE <b>100</b> may receive services that may require registration with the network.</p><p id="p-0061" num="0209">In an example embodiment, two RM states may be employed in AMF <b>155</b> for the UE <b>100</b> that may reflect the registration status of the UE <b>100</b> in the selected PLMN: RM-DEREGISTERED <b>520</b>, and RM-REGISTERED <b>530</b>.</p><p id="p-0062" num="0210">As depicted in example <figref idref="DRAWINGS">FIG. <b>6</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>6</b>B</figref>, connection management, CM, may comprise establishing and releasing a signaling connection between a UE <b>100</b> and an AMF <b>155</b> over N1 interface. The signaling connection may be employed to enable NAS signaling exchange between the UE <b>100</b> and the core network. The signaling connection between the UE <b>100</b> and the AMF <b>155</b> may comprise both the AN signaling connection between the UE <b>100</b> and the (R)AN <b>105</b> (e.g. RRC connection over 3GPP access) and the N2 connection for the UE <b>100</b> between the AN and the AMF <b>155</b>.</p><p id="p-0063" num="0211">As depicted in example <figref idref="DRAWINGS">FIG. <b>6</b>A</figref> and <figref idref="DRAWINGS">FIG. <b>6</b>B</figref>, two CM states may be employed for the NAS signaling connectivity of the UE <b>100</b> with the AMF <b>155</b>, CM-IDLE <b>600</b>, <b>620</b> and CM-CONNECTED <b>610</b>, <b>630</b>. A UE <b>100</b> in CM-IDLE <b>600</b> state may be in RM-REGISTERED <b>510</b> state and may have no NAS signaling connection established with the AMF <b>155</b> over N1. The UE <b>100</b> may perform cell selection, cell reselection, PLMN selection, and/or the like. A UE <b>100</b> in CM-CONNECTED <b>610</b> state may have a NAS signaling connection with the AMF <b>155</b> over N1.</p><p id="p-0064" num="0212">In an example embodiment two CM states may be employed for the UE <b>100</b> at the AMF <b>155</b>, CM-IDLE <b>620</b> and CM-CONNECTED <b>630</b>.</p><p id="p-0065" num="0213">In an example, an RRC inactive state may apply to NG-RAN (e.g. it may apply to NR and E-UTRA connected to 5G CN). The AMF <b>155</b>, based on network configuration, may provide assistance information to the NG RAN <b>105</b>, to assist the NG RAN's <b>105</b> decision whether the UE <b>100</b> may be sent to RRC inactive state. When a UE <b>100</b> is CM-CONNECTED <b>610</b> with RRC inactive state, the UE <b>100</b> may resume the RRC connection due to uplink data pending, mobile initiated signaling procedure, as a response to RAN <b>105</b> paging, to notify the network that it has left the RAN <b>105</b> notification area, and/or the like.</p><p id="p-0066" num="0214">In an example, a NAS signaling connection management may include establishing and releasing a NAS signaling connection. A NAS signaling connection establishment function may be provided by the UE <b>100</b> and the AMF <b>155</b> to establish the NAS signaling connection for the UE <b>100</b> in CM-IDLE <b>600</b> state. The procedure of releasing the NAS signaling connection may be initiated by the 5G (R)AN <b>105</b> node or the AMF <b>155</b>.</p><p id="p-0067" num="0215">In an example, reachability management of a UE <b>100</b> may detect whether the UE <b>100</b> is reachable and may provide the UE <b>100</b> location (e.g. access node) to the network to reach the UE <b>100</b>. Reachability management may be done by paging the UE <b>100</b> and the UE <b>100</b> location tracking. The UE <b>100</b> location tracking may include both UE <b>100</b> registration area tracking and UE <b>100</b> reachability tracking. The UE <b>100</b> and the AMF <b>155</b> may negotiate UE <b>100</b> reachability characteristics in CM-IDLE <b>600</b>, <b>620</b> state during registration and registration update procedures.</p><p id="p-0068" num="0216">In an example, two UE <b>100</b> reachability categories may be negotiated between a UE <b>100</b> and an AMF <b>155</b> for CM-IDLE <b>600</b>, <b>620</b> state. 1) UE <b>100</b> reachability allowing mobile device terminated data while the UE <b>100</b> is CM-IDLE <b>600</b> mode. 2) Mobile initiated connection only (MICO) mode. The 5GC may support a PDU connectivity service that provides exchange of PDUs between the UE <b>100</b> and a data network identified by a DNN. The PDU connectivity service may be supported via PDU sessions that are established upon request from the UE <b>100</b>.</p><p id="p-0069" num="0217">In an example, a PDU session may support one or more PDU session types. PDU sessions may be established (e.g. upon UE <b>100</b> request), modified (e.g. upon UE <b>100</b> and 5GC request) and/or released (e.g. upon UE <b>100</b> and 5GC request) using NAS SM signaling exchanged over N1 between the UE <b>100</b> and the SMF <b>160</b>. Upon request from an application server, the 5GC may be able to trigger a specific application in the UE <b>100</b>. When receiving the trigger, the UE <b>100</b> may send it to the identified application in the UE <b>100</b>. The identified application in the UE <b>100</b> may establish a PDU session to a specific DNN.</p><p id="p-0070" num="0218">In an example, the 5G QoS model may support a QoS flow based framework as depicted in example <figref idref="DRAWINGS">FIG. <b>7</b></figref>. The 5G QoS model may support both QoS flows that require a guaranteed flow bit rate and QoS flows that may not require a guaranteed flow bit rate. In an example, the 5G QoS model may support reflective QoS. The QoS model may comprise flow mapping or packet marking at the UPF <b>110</b> (CN_UP) <b>110</b>, AN <b>105</b> and/or the UE <b>100</b>. In an example, packets may arrive from and/or destined to the application/service layer <b>730</b> of UE <b>100</b>, UPF <b>110</b> (CN_UP) <b>110</b>, and/or the AF <b>145</b>.</p><p id="p-0071" num="0219">In an example, the QoS flow may be a granularity of QoS differentiation in a PDU session. A QoS flow ID, QFI, may be employed to identify the QoS flow in the 5G system. In an example, user plane traffic with the same QFI within a PDU session may receive the same traffic forwarding treatment. The QFI may be carried in an encapsulation header on N3 and/or N9 (e.g. without any changes to the end-to-end packet header). In an example, the QFI may be applied to PDUs with different types of payload. The QFI may be unique within a PDU session.</p><p id="p-0072" num="0220">In an example, the QoS parameters of a QoS flow may be provided to the (R)AN <b>105</b> as a QoS profile over N2 at PDU session establishment, QoS flow establishment, or when NG-RAN is used at every time the user plane is activated. In an example, a default QoS rule may be required for every PDU session. The SMF <b>160</b> may allocate the QFI for a QoS flow and may derive QoS parameters from the information provided by the PCF <b>135</b>. In an example, the SMF <b>160</b> may provide the QFI together with the QoS profile containing the QoS parameters of a QoS flow to the (R)AN <b>105</b>.</p><p id="p-0073" num="0221">In an example, 5G QoS flow may be a granularity for QoS forwarding treatment in the 5G system. Traffic mapped to the same 5G QoS flow may receive the same forwarding treatment (e.g. scheduling policy, queue management policy, rate shaping policy, RLC configuration, and/or the like). In an example, providing different QoS forwarding treatment may require separate 5G QoS flows.</p><p id="p-0074" num="0222">In an example, a 5G QoS indicator may be a scalar that may be employed as a reference to a specific QoS forwarding behavior (e.g. packet loss rate, packet delay budget) to be provided to a 5G QoS flow. In an example, the 5G QoS indicator may be implemented in the access network by the 5QI referencing node specific parameters that may control the QoS forwarding treatment (e.g. scheduling weights, admission thresholds, queue management thresholds, link layer protocol configuration, and/or the like.).</p><p id="p-0075" num="0223">In an example, 5GC may support edge computing and may enable operator(s) and 3rd party services to be hosted close to the UE's access point of attachment. The 5G core network may select a UPF <b>110</b> close to the UE <b>100</b> and may execute the traffic steering from the UPF <b>110</b> to the local data network via a N6 interface. In an example, the selection and traffic steering may be based on the UE's <b>100</b> subscription data, UE <b>100</b> location, the information from application function AF <b>145</b>, policy, other related traffic rules, and/or the like. In an example, the 5G core network may expose network information and capabilities to an edge computing application function. The functionality support for edge computing may include local routing where the 5G core network may select a UPF <b>110</b> to route the user traffic to the local data network, traffic steering where the 5G core network may select the traffic to be routed to the applications in the local data network, session and service continuity to enable UE <b>100</b> and application mobility, user plane selection and reselection, e.g. based on input from application function, network capability exposure where 5G core network and application function may provide information to each other via NEf <b>125</b>, QoS and charging where PCF <b>135</b> may provide rules for QoS control and charging for the traffic routed to the local data network, support of local area data network where 5G core network may provide support to connect to the LADN in a certain area where the applications are deployed, and/or the like.</p><p id="p-0076" num="0224">An example 5G system may be a 3GPP system comprising of 5G access network <b>105</b>, 5G core network and a UE <b>100</b>, and/or the like. Allowed NSSAI may be an NSSAI provided by a serving PLMN during e.g. a registration procedure, indicating the NSSAI allowed by the network for the UE <b>100</b> in the serving PLMN for the current registration area.</p><p id="p-0077" num="0225">In an example, a PDU connectivity service may provide exchange of PDUs between a UE <b>100</b> and a data network. A PDU session may be an association between the UE <b>100</b> and the data network, DN <b>115</b>, that may provide the PDU connectivity service. The type of association may be IP, Ethernet and/or unstructured.</p><p id="p-0078" num="0226">Establishment of user plane connectivity to a data network via network slice instance(s) may comprise the following: performing a RM procedure to select an AMF <b>155</b> that supports the required network slices, and establishing one or more PDU session(s) to the required data network via the network slice instance(s).</p><p id="p-0079" num="0227">In an example, the set of network slices for a UE <b>100</b> may be changed at any time while the UE <b>100</b> may be registered with the network, and may be initiated by the network, or the UE <b>100</b>.</p><p id="p-0080" num="0228">In an example, a periodic registration update may be UE <b>100</b> re-registration at expiry of a periodic registration timer. A requested NSSAI may be a NSSAI that the UE <b>100</b> may provide to the network.</p><p id="p-0081" num="0229">In an example, a service based interface may represent how a set of services may be provided/exposed by a given NF.</p><p id="p-0082" num="0230">In an example, a service continuity may be an uninterrupted user experience of a service, including the cases where the IP address and/or anchoring point may change. In an example, a session continuity may refer to continuity of a PDU session. For PDU session of IP type session continuity may imply that the IP address is preserved for the lifetime of the PDU session. An uplink classifier may be a UPF <b>110</b> functionality that aims at diverting uplink traffic, based on filter rules provided by the SMF <b>160</b>, towards data network, DN <b>115</b>.</p><p id="p-0083" num="0231">In an example, the 5G system architecture may support data connectivity and services enabling deployments to use techniques such as e.g. network function virtualization and/or software defined networking. The 5G system architecture may leverage service-based interactions between control plane (CP) network functions where identified. In 5G system architecture, separation of the user plane (UP) functions from the control plane functions may be considered. A 5G system may enable a network function to interact with other NF(s) directly if required.</p><p id="p-0084" num="0232">In an example, the 5G system may reduce dependencies between the access network (AN) and the core network (CN). The architecture may comprise a converged access-agnostic core network with a common AN-CN interface which may integrate different 3GPP and non-3GPP access types.</p><p id="p-0085" num="0233">In an example, the 5G system may support a unified authentication framework, stateless NFs, where the compute resource is decoupled from the storage resource, capability exposure, and concurrent access to local and centralized services. To support low latency services and access to local data networks, UP functions may be deployed close to the access network.</p><p id="p-0086" num="0234">In an example, the 5G system may support roaming with home routed traffic and/or local breakout traffic in the visited PLMN. An example 5G architecture may be service-based and the interaction between network functions may be represented in two ways. (1) As service-based representation (depicted in example <figref idref="DRAWINGS">FIG. <b>1</b></figref>), where network functions within the control plane, may enable other authorized network functions to access their services. This representation may also include point-to-point reference points where necessary. (2) Reference point representation, showing the interaction between the NF services in the network functions described by point-to-point reference point (e.g. N11) between any two network functions.</p><p id="p-0087" num="0235">In an example, a network slice may comprise the core network control plane and user plane network functions, the 5G Radio Access Network; the N3IWF functions to the non-3GPP Access Network, and/or the like. Network slices may differ for supported features and network function implementation. The operator may deploy multiple network slice instances delivering the same features but for different groups of UEs, e.g. as they deliver a different committed service and/or because they may be dedicated to a customer. The NSSF <b>120</b> may store the mapping information between slice instance ID and NF ID (or NF address).</p><p id="p-0088" num="0236">In an example, a UE <b>100</b> may simultaneously be served by one or more network slice instances via a 5G-AN. In an example, the UE <b>100</b> may be served by k network slices (e.g. k=8, 16, etc.) at a time. An AMF <b>155</b> instance serving the UE <b>100</b> logically may belong to a network slice instance serving the UE <b>100</b>.</p><p id="p-0089" num="0237">In an example, a PDU session may belong to one specific network slice instance per PLMN. In an example, different network slice instances may not share a PDU session. Different slices may have slice-specific PDU sessions using the same DNN.</p><p id="p-0090" num="0238">An S-NSSAI (Single Network Slice Selection Assistance information) may identify a network slice. An S-NSSAI may comprise a slice/service type (SST), which may refer to the expected network slice behavior in terms of features and services; and/or a slice differentiator (SD). A slice differentiator may be optional information that may complement the slice/service type(s) to allow further differentiation for selecting a network slice instance from potentially multiple network slice instances that comply with the indicated slice/service type. In an example, the same network slice instance may be selected employing different S-NSSAIs. The CN part of a network slice instance(s) serving a UE <b>100</b> may be selected by CN.</p><p id="p-0091" num="0239">In an example, subscription data may include the S-NSSAI(s) of the network slices that the UE <b>100</b> subscribes to. One or more S-NSSAIs may be marked as default S-NSSAI. In an example, k S-NSSAI may be marked default S-NSSAI (e.g. k=8, 16, etc.). In an example, the UE <b>100</b> may subscribe to more than 8 S-NSSAIs.</p><p id="p-0092" num="0240">In an example, a UE <b>100</b> may be configured by the HPLMN with a configured NSSAI per PLMN. Upon successful completion of a UE's registration procedure, the UE <b>100</b> may obtain from the AMF <b>155</b> an Allowed NSSAI for this PLMN, which may include one or more S-NSSAIs.</p><p id="p-0093" num="0241">In an example, the Allowed NSSAI may take precedence over the configured NSSAI for a PLMN. The UE <b>100</b> may use the S-NSSAIs in the allowed NSSAI corresponding to a network slice for the subsequent network slice selection related procedures in the serving PLMN.</p><p id="p-0094" num="0242">In an example, the establishment of user plane connectivity to a data network via a network slice instance(s) may comprise: performing a RM procedure to select an AMF <b>155</b> that may support the required network slices, establishing one or more PDU sessions to the required data network via the network slice instance(s), and/or the like.</p><p id="p-0095" num="0243">In an example, when a UE <b>100</b> registers with a PLMN, if the UE <b>100</b> for the PLMN has a configured NSSAI or an allowed NSSAI, the UE <b>100</b> may provide to the network in RRC and NAS layer a requested NSSAI comprising the S-NSSAI(s) corresponding to the slice(s) to which the UE <b>100</b> attempts to register, a temporary user ID if one was assigned to the UE, and/or the like. The requested NSSAI may be configured-NSSAI, allowed-NSSAI, and/or the like.</p><p id="p-0096" num="0244">In an example, when a UE <b>100</b> registers with a PLMN, if for the PLMN the UE <b>100</b> has no configured NSSAI or allowed NSSAI, the RAN <b>105</b> may route NAS signaling from/to the UE <b>100</b> to/from a default AMF <b>155</b>.</p><p id="p-0097" num="0245">In an example, the network, based on local policies, subscription changes and/or UE <b>100</b> mobility, may change the set of permitted network slice(s) to which the UE <b>100</b> is registered. In an example, the network may perform the change during a registration procedure or trigger a notification towards the UE <b>100</b> of the change of the supported network slices using an RM procedure (which may trigger a registration procedure). The network may provide the UE <b>100</b> with a new allowed NSSAI and tracking area list.</p><p id="p-0098" num="0246">In an example, during a registration procedure in a PLMN, in case the network decides that the UE <b>100</b> should be served by a different AMF <b>155</b> based on network slice(s) aspects, the AMF <b>155</b> that first received the registration request may redirect the registration request to another AMF <b>155</b> via the RAN <b>105</b> or via direct signaling between the initial AMF <b>155</b> and the target AMF <b>155</b>.</p><p id="p-0099" num="0247">In an example, the network operator may provision the UE <b>100</b> with network slice selection policy (NSSP). The NSSP may comprise one or more NSSP rules.</p><p id="p-0100" num="0248">In an example, if a UE <b>100</b> has one or more PDU sessions established corresponding to the a specific S-NSSAI, the UE <b>100</b> may route the user data of the application in one of the PDU sessions, unless other conditions in the UE <b>100</b> may prohibit the use of the PDU sessions. If the application provides a DNN, then the UE <b>100</b> may consider the DNN to determine which PDU session to use. In an example, if the UE <b>100</b> does not have a PDU session established with the specific S-NSSAI, the UE <b>100</b> may request a new PDU session corresponding to the S-NSSAI and with the DNN that may be provided by the application. In an example, in order for the RAN <b>105</b> to select a proper resource for supporting network slicing in the RAN <b>105</b>, the RAN <b>105</b> may be aware of the network slices used by the UE <b>100</b>.</p><p id="p-0101" num="0249">In an example, an AMF <b>155</b> may select an SMF <b>160</b> in a network slice instance based on S-NSSAI, DNN and/or other information e.g. UE <b>100</b> subscription and local operator policies, and/or the like, when the UE <b>100</b> triggers the establishment of a PDU session. The selected SMF <b>160</b> may establish the PDU session based on S-NSSAI and DNN.</p><p id="p-0102" num="0250">In an example, in order to support network-controlled privacy of slice information for the slices the UE <b>100</b> may access, when the UE <b>100</b> is aware or configured that privacy considerations may apply to NSSAI, the UE <b>100</b> may not include NSSAI in NAS signaling unless the UE <b>100</b> has a NAS security context and the UE <b>100</b> may not include NSSAI in unprotected RRC signaling.</p><p id="p-0103" num="0251">In an example, for roaming scenarios, the network slice specific network functions in VPLMN and HPLMN may be selected based on the S-NSSAI provided by the UE <b>100</b> during PDU connection establishment. If a standardized S-NSSAI is used, selection of slice specific NF instances may be done by each PLMN based on the provided S-NSSAI. In an example, the VPLMN may map the S-NSSAI of HPLMN to a S-NSSAI of VPLMN based on roaming agreement (e.g., including mapping to a default S-NSSAI of VPLMN). In an example, the selection of slice specific NF instance in VPLMN may be done based on the S-NSSAI of VPLMN. In an example, the selection of any slice specific NF instance in HPLMN may be based on the S-NSSAI of HPLMN.</p><p id="p-0104" num="0252">As depicted in example <figref idref="DRAWINGS">FIG. <b>8</b></figref> and <figref idref="DRAWINGS">FIG. <b>9</b></figref>, a registration procedure may be performed by the UE <b>100</b> to get authorized to receive services, to enable mobility tracking, to enable reachability, and/or the like.</p><p id="p-0105" num="0253">In an example, the UE <b>100</b> may send to the (R)AN <b>105</b> an AN message <b>805</b> (comprising AN parameters, RM-NAS registration request (registration type, SUCI or SUPI or 5G-GUTI, last visited TAI (if available), security parameters, requested NSSAI, mapping of requested NSSAI, UE <b>100</b> 5GC capability, PDU session status, PDU session(s) to be re-activated, Follow on request, MICO mode preference, and/or the like), and/or the like). In an example, in case of NG-RAN, the AN parameters may include e.g. SUCI or SUPI or the 5G-GUTI, the Selected PLMN ID and requested NSSAI, and/or the like. In an example, the AN parameters may comprise establishment cause. The establishment cause may provide the reason for requesting the establishment of an RRC connection. In an example, the registration type may indicate if the UE <b>100</b> wants to perform an initial registration (i.e. the UE <b>100</b> is in RM-DEREGISTERED state), a mobility registration update (e.g., the UE <b>100</b> is in RM-REGISTERED state and initiates a registration procedure due to mobility), a periodic registration update (e.g., the UE <b>100</b> is in RM-REGISTERED state and may initiate a registration procedure due to the periodic registration update timer expiry) or an emergency registration (e.g., the UE <b>100</b> is in limited service state). In an example, if the UE <b>100</b> performing an initial registration (i.e., the UE <b>100</b> is in RM-DEREGISTERED state) to a PLMN for which the UE <b>100</b> does not already have a 5G-GUTI, the UE <b>100</b> may include its SUCI or SUPI in the registration request. The SUCI may be included if the home network has provisioned the public key to protect SUPI in the UE. If the UE <b>100</b> received a UE <b>100</b> configuration update command indicating that the UE <b>100</b> needs to re-register and the 5G-GUTI is invalid, the UE <b>100</b> may perform an initial registration and may include the SUPI in the registration request message. For an emergency registration, the SUPI may be included if the UE <b>100</b> does not have a valid 5G-GUTI available; the PEI may be included when the UE <b>100</b> has no SUPI and no valid 5G-GUTI. In other cases, the 5G-GUTI may be included and it may indicate the last serving AMF <b>155</b>. If the UE <b>100</b> is already registered via a non-3GPP access in a PLMN different from the new PLMN (e.g., not the registered PLMN or an equivalent PLMN of the registered PLMN) of the 3GPP access, the UE <b>100</b> may not provide over the 3GPP access the 5G-GUTI allocated by the AMF <b>155</b> during the registration procedure over the non-3GPP access. If the UE <b>100</b> is already registered via a 3GPP access in a PLMN (e.g., the registered PLMN), different from the new PLMN (i.e. not the registered PLMN or an equivalent PLMN of the registered PLMN) of the non-3GPP access, the UE <b>100</b> may not provide over the non-3GPP access the 5G-GUTI allocated by the AMF <b>155</b> during the registration procedure over the 3GPP access. The UE <b>100</b> may provide the UE's usage setting based on its configuration. In case of initial registration or mobility registration update, the UE <b>100</b> may include the mapping of requested NSSAI, which may be the mapping of each S-NSSAI of the requested NSSAI to the S-NSSAIs of the configured NSSAI for the HPLMN, to ensure that the network is able to verify whether the S-NSSAI(s) in the requested NSSAI are permitted based on the subscribed S-NSSAIs. If available, the last visited TAI may be included in order to help the AMF <b>155</b> produce registration area for the UE. In an example, the security parameters may be used for authentication and integrity protection. requested NSSAI may indicate the network slice selection assistance information. The PDU session status may indicates the previously established PDU sessions in the UE. When the UE <b>100</b> is connected to the two AMF <b>155</b> belonging to different PLMN via 3GPP access and non-3GPP access then the PDU session status may indicate the established PDU session of the current PLMN in the UE. The PDU session(s) to be re-activated may be included to indicate the PDU session(s) for which the UE <b>100</b> may intend to activate UP connections. A PDU session corresponding to a LADN may not be included in the PDU session(s) to be re-activated when the UE <b>100</b> is outside the area of availability of the LADN. The follow on request may be included when the UE <b>100</b> may have pending uplink signaling and the UE <b>100</b> may not include PDU session(s) to be re-activated, or the registration type may indicate the UE <b>100</b> may want to perform an emergency registration.</p><p id="p-0106" num="0254">In an example, if a SUPI is included or the 5G-GUTI does not indicate a valid AMF <b>155</b>, the (R)AN <b>105</b>, based on (R)AT and requested NSSAI, if available, may selects <b>808</b> an AMF <b>155</b>. If UE <b>100</b> is in CM-CONNECTED state, the (R)AN <b>105</b> may forward the registration request message to the AMF <b>155</b> based on the N2 connection of the UE. If the (R)AN <b>105</b> may not select an appropriate AMF <b>155</b>, it may forward the registration request to an AMF <b>155</b> which has been configured, in (R)AN <b>105</b>, to perform AMF <b>155</b> selection <b>808</b>.</p><p id="p-0107" num="0255">In an example, the (R)AN <b>105</b> may send to the new AMF <b>155</b> an N2 message <b>810</b> (comprising: N2 parameters, RM-NAS registration request (registration type, SUPI or 5G-GUTI, last visited TAI (if available), security parameters, requested NSSAI, mapping of requested NSSAI, UE <b>100</b> 5GC capability, PDU session status, PDU session(s) to be re-activated, follow on request, and MICO mode preference), and/or the like). In an example, when NG-RAN is used, the N2 parameters may comprise the selected PLMN ID, location information, cell identity and the RAT type related to the cell in which the UE <b>100</b> is camping. In an example, when NG-RAN is used, the N2 parameters may include the establishment cause.</p><p id="p-0108" num="0256">In an example, the new AMF <b>155</b> may send to the old AMF <b>155</b> an Namf_Communication_UEContextTransfer (complete registration request) <b>815</b>. In an example, if the UE's 5G-GUTI was included in the registration request and the serving AMF <b>155</b> has changed since last registration procedure, the new AMF <b>155</b> may invoke the Namf_Communication_UEContextTransfer service operation <b>815</b> on the old AMF <b>155</b> including the complete registration request IE, which may be integrity protected, to request the UE's SUPI and MM Context. The old AMF <b>155</b> may use the integrity protected complete registration request IE to verify if the context transfer service operation invocation corresponds to the UE <b>100</b> requested. In an example, the old AMF <b>155</b> may transfer the event subscriptions information by each NF consumer, for the UE, to the new AMF <b>155</b>. In an example, if the UE <b>100</b> identifies itself with PEI, the SUPI request may be skipped.</p><p id="p-0109" num="0257">In an example, the old AMF <b>155</b> may send to new AMF <b>155</b> a response <b>815</b> to Namf_Communication_UEContextTransfer (SUPI, MM context, SMF <b>160</b> information, PCF ID). In an example, the old AMF <b>155</b> may respond to the new AMF <b>155</b> for the Namf_Communication_UEContextTransfer invocation by including the UE's SUPI and MM context. In an example, if old AMF <b>155</b> holds information about established PDU sessions, the old AMF <b>155</b> may include SMF <b>160</b> information including S-NSSAI(s), SMF <b>160</b> identities and PDU session ID. In an example, if old AMF <b>155</b> holds information about active NGAP UE-TNLA bindings to N3IWF, the old AMF <b>155</b> may include information about the NGAP UE-TNLA bindings.</p><p id="p-0110" num="0258">In an example, if the SUPI is not provided by the UE <b>100</b> nor retrieved from the old AMF <b>155</b> the identity request procedure <b>820</b> may be initiated by the AMF <b>155</b> sending an identity request message to the UE <b>100</b> requesting the SUCI.</p><p id="p-0111" num="0259">In an example, the UE <b>100</b> may respond with an identity response message <b>820</b> including the SUCI. The UE <b>100</b> may derive the SUCI by using the provisioned public key of the HPLMN.</p><p id="p-0112" num="0260">In an example, the AMF <b>155</b> may decide to initiate UE <b>100</b> authentication <b>825</b> by invoking an AUSF <b>150</b>. The AMF <b>155</b> may select an AUSF <b>150</b> based on SUPI or SUCI. In an example, if the AMF <b>155</b> is configured to support emergency registration for unauthenticated SUPIs and the UE <b>100</b> indicated registration type emergency registration the AMF <b>155</b> may skip the authentication and security setup or the AMF <b>155</b> may accept that the authentication may fail and may continue the registration procedure.</p><p id="p-0113" num="0261">In an example, the authentication <b>830</b> may be performed by Nudm_UEAuthenticate_Get operation. The AUSF <b>150</b> may discover a UDM <b>140</b>. In case the AMF <b>155</b> provided a SUCI to AUSF <b>150</b>, the AUSF <b>150</b> may return the SUPI to AMF <b>155</b> after the authentication is successful. In an example, if network slicing is used, the AMF <b>155</b> may decide if the registration request needs to be rerouted where the initial AMF <b>155</b> refers to the AMF <b>155</b>. In an example, the AMF <b>155</b> may initiate NAS security functions. In an example, upon completion of NAS security function setup, the AMF <b>155</b> may initiate NGAP procedure to enable 5G-AN use it for securing procedures with the UE. In an example, the 5G-AN may store the security context and may acknowledge to the AMF <b>155</b>. The 5G-AN may use the security context to protect the messages exchanged with the UE.</p><p id="p-0114" num="0262">In an example, new AMF <b>155</b> may send to the old AMF <b>155</b> Namf_Communication_RegistrationCompleteNotify <b>835</b>. If the AMF <b>155</b> has changed, the new AMF <b>155</b> may notify the old AMF <b>155</b> that the registration of the UE <b>100</b> in the new AMF <b>155</b> may be completed by invoking the Namf_Communication_RegistrationCompleteNotify service operation. If the authentication/security procedure fails, then the registration may be rejected, and the new AMF <b>155</b> may invoke the Namf_Communication_RegistrationCompleteNotify service operation with a reject indication reason code towards the old AMF <b>155</b>. The old AMF <b>155</b> may continue as if the UE <b>100</b> context transfer service operation was never received. If one or more of the S-NSSAIs used in the old registration area may not be served in the target registration area, the new AMF <b>155</b> may determine which PDU session may not be supported in the new registration area. The new AMF <b>155</b> may invoke the Namf_Communication_RegistrationCompleteNotify service operation including the rejected PDU session ID and a reject cause (e.g. the S-NSSAI becomes no longer available) towards the old AMF <b>155</b>. The new AMF <b>155</b> may modify the PDU session status correspondingly. The old AMF <b>155</b> may inform the corresponding SMF <b>160</b>(<i>s</i>) to locally release the UE's SM context by invoking the Nsmf_PDUSession_ReleaseSMContext service operation.</p><p id="p-0115" num="0263">In an example, the new AMF <b>155</b> may send to the UE <b>100</b> an identity request/response <b>840</b> (e.g., PEI). If the PEI was not provided by the UE <b>100</b> nor retrieved from the old AMF <b>155</b>, the identity request procedure may be initiated by AMF <b>155</b> sending an identity request message to the UE <b>100</b> to retrieve the PEI. The PEI may be transferred encrypted unless the UE <b>100</b> performs emergency registration and may not be authenticated. For an emergency registration, the UE <b>100</b> may have included the PEI in the registration request.</p><p id="p-0116" num="0264">In an example, the new AMF <b>155</b> may initiate ME identity check <b>845</b> by invoking the N5g-eir_EquipmentIdentityCheck_Get service operation <b>845</b>.</p><p id="p-0117" num="0265">In an example, the new AMF <b>155</b>, based on the SUPI, may select <b>905</b> a UDM <b>140</b>. The UDM <b>140</b> may select a UDR instance. In an example, the AMF <b>155</b> may select a UDM <b>140</b>.</p><p id="p-0118" num="0266">In an example, if the AMF <b>155</b> has changed since the last registration procedure, or if the UE <b>100</b> provides a SUPI which may not refer to a valid context in the AMF <b>155</b>, or if the UE <b>100</b> registers to the same AMF <b>155</b> it has already registered to a non-3GPP access (e.g., the UE <b>100</b> is registered over a non-3GPP access and may initiate the registration procedure to add a 3GPP access), the new AMF <b>155</b> may register with the UDM <b>140</b> using Nudm_UECM_Registration <b>910</b> and may subscribe to be notified when the UDM <b>140</b> may deregister the AMF <b>155</b>. The UDM <b>140</b> may store the AMF <b>155</b> identity associated to the access type and may not remove the AMF <b>155</b> identity associated to the other access type. The UDM <b>140</b> may store information provided at registration in UDR, by Nudr_UDM_Update. In an example, the AMF <b>155</b> may retrieve the access and mobility subscription data and SMF <b>160</b> selection subscription data using Nudm_SDM_Get <b>915</b>. The UDM <b>140</b> may retrieve this information from UDR by Nudr_UDM_Query (access and mobility subscription data). After a successful response is received, the AMF <b>155</b> may subscribe to be notified using Nudm_SDM_Subscribe <b>920</b> when the data requested may be modified. The UDM <b>140</b> may subscribe to UDR by Nudr_UDM_Subscribe. The GPSI may be provided to the AMF <b>155</b> in the subscription data from the UDM <b>140</b> if the GPSI is available in the UE <b>100</b> subscription data. In an example, the new AMF <b>155</b> may provide the access type it serves for the UE <b>100</b> to the UDM <b>140</b> and the access type may be set to 3GPP access. The UDM <b>140</b> may store the associated access type together with the serving AMF <b>155</b> in UDR by Nudr_UDM_Update. The new AMF <b>155</b> may create an MM context for the UE <b>100</b> after getting the mobility subscription data from the UDM <b>140</b>. In an example, when the UDM <b>140</b> stores the associated access type together with the serving AMF <b>155</b>, the UDM <b>140</b> may initiate a Nudm_UECM_DeregistrationNotification <b>921</b> to the old AMF <b>155</b> corresponding to 3GPP access. The old AMF <b>155</b> may remove the MM context of the UE. If the serving NF removal reason indicated by the UDM <b>140</b> is initial registration, then the old AMF <b>155</b> may invoke the Namf_EventExposure_Notify service operation towards all the associated SMF <b>160</b><i>s </i>of the UE <b>100</b> to notify that the UE <b>100</b> is deregistered from old AMF <b>155</b>. The SMF <b>160</b> may release the PDU session(s) on getting this notification. In an example, the old AMF <b>155</b> may unsubscribe with the UDM <b>140</b> for subscription data using Nudm_SDM_unsubscribe <b>922</b>.</p><p id="p-0119" num="0267">In an example, if the AMF <b>155</b> decides to initiate PCF <b>135</b> communication, e.g. the AMF <b>155</b> has not yet obtained access and mobility policy for the UE <b>100</b> or if the access and mobility policy in the AMF <b>155</b> are no longer valid, the AMF <b>155</b> may select <b>925</b> a PCF <b>135</b>. If the new AMF <b>155</b> receives a PCF ID from the old AMF <b>155</b> and successfully contacts the PCF <b>135</b> identified by the PCF ID, the AMF <b>155</b> may select the (V-)PCF identified by the PCF ID. If the PCF <b>135</b> identified by the PCF ID may not be used (e.g. no response from the PCF <b>135</b>) or if there is no PCF ID received from the old AMF <b>155</b>, the AMF <b>155</b> may select <b>925</b> a PCF <b>135</b>.</p><p id="p-0120" num="0268">In an example, the new AMF <b>155</b> may perform a policy association establishment <b>930</b> during registration procedure. If the new AMF <b>155</b> contacts the PCF <b>135</b> identified by the (V-)PCF ID received during inter-AMF <b>155</b> mobility, the new AMF <b>155</b> may include the PCF-ID in the Npcf_AMPolicyControl Get operation. If the AMF <b>155</b> notifies the mobility restrictions (e.g. UE <b>100</b> location) to the PCF <b>135</b> for adjustment, or if the PCF <b>135</b> updates the mobility restrictions itself due to some conditions (e.g. application in use, time and date), the PCF <b>135</b> may provide the updated mobility restrictions to the AMF <b>155</b>.</p><p id="p-0121" num="0269">In an example, the PCF <b>135</b> may invoke Namf_EventExposure_Subscribe service operation <b>935</b> for UE <b>100</b> event subscription.</p><p id="p-0122" num="0270">In an example, the AMF <b>155</b> may send to the SMF <b>160</b> a Nsmf_PDUSession_UpdateSMContext <b>936</b>. In an example, the AMF <b>155</b> may invoke the Nsmf_PDUSession_UpdateSMContext if the PDU session(s) to be re-activated is included in the registration request. The AMF <b>155</b> may send Nsmf_PDUSession_UpdateSMContext request to SMF <b>160</b>(<i>s</i>) associated with the PDU session(s) to activate user plane connections of the PDU session(s). The SMF <b>160</b> may decide to trigger e.g. the intermediate UPF <b>110</b> insertion, removal or change of PSA. In the case that the intermediate UPF <b>110</b> insertion, removal, or relocation is performed for the PDU session(s) not included in PDU session(s) to be re-activated, the procedure may be performed without N11 and N2 interactions to update the N3 user plane between (R)AN <b>105</b> and 5GC. The AMF <b>155</b> may invoke the Nsmf_PDUSession_ReleaseSMContext service operation towards the SMF <b>160</b> if any PDU session status indicates that it is released at the UE <b>100</b>. The AMF <b>155</b> may invoke the Nsmf_PDUSession_ReleaseSMContext service operation towards the SMF <b>160</b> in order to release any network resources related to the PDU session.</p><p id="p-0123" num="0271">In an example, the new AMF <b>155155</b> may send to a N3IWF an N2 AMF <b>155</b> mobility request <b>940</b>. If the AMF <b>155</b> has changed, the new AMF <b>155</b> may create an NGAP UE <b>100</b> association towards the N3IWF to which the UE <b>100</b> is connected. In an example, the N3IWF may respond to the new AMF <b>155</b> with an N2 AMF <b>155</b> mobility response <b>940</b>.</p><p id="p-0124" num="0272">In an example, the new AMF <b>155</b> may send to the UE <b>100</b> a registration accept <b>955</b> (comprising: 5G-GUTI, registration area, mobility restrictions, PDU session status, allowed NSSAI, [mapping of allowed NSSAI], periodic registration update timer, LADN information and accepted MICO mode, IMS voice over PS session supported indication, emergency service support indicator, and/or the like). In an example, the AMF <b>155</b> may send the registration accept message to the UE <b>100</b> indicating that the registration request has been accepted. 5G-GUTI may be included if the AMF <b>155</b> allocates a new 5G-GUTI. If the AMF <b>155</b> allocates a new registration area, it may send the registration area to the UE <b>100</b> via registration accept message <b>955</b>. If there is no registration area included in the registration accept message, the UE <b>100</b> may consider the old registration area as valid. In an example, mobility restrictions may be included in case mobility restrictions may apply for the UE <b>100</b> and registration type may not be emergency registration. The AMF <b>155</b> may indicate the established PDU sessions to the UE <b>100</b> in the PDU session status. The UE <b>100</b> may remove locally any internal resources related to PDU sessions that are not marked as established in the received PDU session status. In an example, when the UE <b>100</b> is connected to the two AMF <b>155</b> belonging to different PLMN via 3GPP access and non-3GPP access then the UE <b>100</b> may remove locally any internal resources related to the PDU session of the current PLMN that are not marked as established in received PDU session status. If the PDU session status information was in the registration request, the AMF <b>155</b> may indicate the PDU session status to the UE. The mapping of allowed NSSAI may be the mapping of each S-NSSAI of the allowed NSSAI to the S-NSSAIs of the configured NSSAI for the HPLMN. The AMF <b>155</b> may include in the registration accept message <b>955</b> the LADN information for LADNs that are available within the registration area determined by the AMF <b>155</b> for the UE. If the UE <b>100</b> included MICO mode in the request, then AMF <b>155</b> may respond whether MICO mode may be used. The AMF <b>155</b> may set the IMS voice over PS session supported Indication. In an example, in order to set the IMS voice over PS session supported indication, the AMF <b>155</b> may perform a UE/RAN radio information and compatibility request procedure to check the compatibility of the UE <b>100</b> and RAN radio capabilities related to IMS voice over PS. In an example, the emergency service support indicator may inform the UE <b>100</b> that emergency services are supported, e.g., the UE <b>100</b> may request PDU session for emergency services. In an example, the handover restriction list and UE-AMBR may be provided to NG-RAN by the AMF <b>155</b>.</p><p id="p-0125" num="0273">In an example, the UE <b>100</b> may send to the new AMF <b>155</b> a registration complete <b>960</b> message. In an example, the UE <b>100</b> may send the registration complete message <b>960</b> to the AMF <b>155</b> to acknowledge that a new 5G-GUTI may be assigned. In an example, when information about the PDU session(s) to be re-activated is not included in the registration request, the AMF <b>155</b> may release the signaling connection with the UE <b>100</b>. In an example, when the follow-on request is included in the registration request, the AMF <b>155</b> may not release the signaling connection after the completion of the registration procedure. In an example, if the AMF <b>155</b> is aware that some signaling is pending in the AMF <b>155</b> or between the UE <b>100</b> and the 5GC, the AMF <b>155</b> may not release the signaling connection after the completion of the registration procedure.</p><p id="p-0126" num="0274">As depicted in example <figref idref="DRAWINGS">FIG. <b>10</b></figref> and <figref idref="DRAWINGS">FIG. <b>11</b></figref>, a service request procedure e.g., a UE <b>100</b> triggered service request procedure may be used by a UE <b>100</b> in CM-IDLE state to request the establishment of a secure connection to an AMF <b>155</b>. <figref idref="DRAWINGS">FIG. <b>11</b></figref> is continuation of <figref idref="DRAWINGS">FIG. <b>10</b></figref> depicting the service request procedure. The service request procedure may be used to activate a user plane connection for an established PDU session. The service request procedure may be triggered by the UE <b>100</b> or the 5GC, and may be used when the UE <b>100</b> is in CM-IDLE and/or in CM-CONNECTED and may allow selectively to activate user plane connections for some of the established PDU sessions.</p><p id="p-0127" num="0275">In an example, a UE <b>100</b> in CM IDLE state may initiate the service request procedure to send uplink signaling messages, user data, and/or the like, as a response to a network paging request, and/or the like. In an example, after receiving the service request message, the AMF <b>155</b> may perform authentication. In an example, after the establishment of signaling connection to the AMF <b>155</b>, the UE <b>100</b> or network may send signaling messages, e.g. PDU session establishment from the UE <b>100</b> to a SMF <b>160</b>, via the AMF <b>155</b>.</p><p id="p-0128" num="0276">In an example, for any service request, the AMF <b>155</b> may respond with a service accept message to synchronize PDU session status between the UE <b>100</b> and network. The AMF <b>155</b> may respond with a service reject message to the UE <b>100</b>, if the service request may not be accepted by the network. The service reject message may include an indication or cause code requesting the UE <b>100</b> to perform a registration update procedure. In an example, for service request due to user data, network may take further actions if user plane connection activation may not be successful. In an example <figref idref="DRAWINGS">FIG. <b>10</b></figref> and <figref idref="DRAWINGS">FIG. <b>11</b></figref>, more than one UPF, e.g., old UPF <b>110</b>-<b>2</b> and PDU session Anchor PSA UPF <b>110</b>-<b>3</b> may be involved.</p><p id="p-0129" num="0277">In an example, the UE <b>100</b> may send to a (R)AN <b>105</b> an AN message comprising AN parameters, mobility management, MM NAS service request <b>1005</b> (e.g., list of PDU sessions to be activated, list of allowed PDU sessions, security parameters, PDU session status, and/or the like), and/or the like. In an example, the UE <b>100</b> may provide the list of PDU sessions to be activated when the UE <b>100</b> may re-activate the PDU session(s). The list of allowed PDU sessions may be provided by the UE <b>100</b> when the service request may be a response of a paging or a NAS notification, and may identify the PDU sessions that may be transferred or associated to the access on which the service request may be sent. In an example, for the case of NG-RAN, the AN parameters may include selected PLMN ID, and an establishment cause. The establishment cause may provide the reason for requesting the establishment of an RRC connection. The UE <b>100</b> may send NAS service request message towards the AMF <b>155</b> encapsulated in an RRC message to the RAN <b>105</b>.</p><p id="p-0130" num="0278">In an example, if the service request may be triggered for user data, the UE <b>100</b> may identify, using the list of PDU sessions to be activated, the PDU session(s) for which the UP connections are to be activated in the NAS service request message. If the service request may be triggered for signaling, the UE <b>100</b> may not identify any PDU session(s). If this procedure may be triggered for paging response, and/or the UE <b>100</b> may have at the same time user data to be transferred, the UE <b>100</b> may identify the PDU session(s) whose UP connections may be activated in MM NAS service request message, by the list of PDU sessions to be activated.</p><p id="p-0131" num="0279">In an example, if the service request over 3GPP access may be triggered in response to a paging indicating non-3GPP access, the NAS service request message may identify in the list of allowed PDU sessions the list of PDU sessions associated with the non-3GPP access that may be re-activated over 3GPP. In an example, the PDU session status may indicate the PDU sessions available in the UE <b>100</b>. In an example, the UE <b>100</b> may not trigger the service request procedure for a PDU session corresponding to a LADN when the UE <b>100</b> may be outside the area of availability of the LADN. The UE <b>100</b> may not identify such PDU session(s) in the list of PDU sessions to be activated, if the service request may be triggered for other reasons.</p><p id="p-0132" num="0280">In an example, the (R)AN <b>105</b> may send to AMF <b>155</b> an N2 Message <b>1010</b> (e.g., a service request) comprising N2 parameters, MM NAS service request, and/or the like. The AMF <b>155</b> may reject the N2 message if it may not be able to handle the service request. In an example, if NG-RAN may be used, the N2 parameters may include the 5G-GUTI, selected PLMN ID, location information, RAT type, establishment cause, and/or the like. In an example, the 5G-GUTI may be obtained in RRC procedure and the (R)AN <b>105</b> may select the AMF <b>155</b> according to the 5G-GUTI. In an example, the location information and RAT type may relate to the cell in which the UE <b>100</b> may be camping. In an example, based on the PDU session status, the AMF <b>155</b> may initiate PDU session release procedure in the network for the PDU sessions whose PDU session ID(s) may be indicated by the UE <b>100</b> as not available.</p><p id="p-0133" num="0281">In an example, if the service request was not sent integrity protected or integrity protection verification failed, the AMF <b>155</b> may initiate a NAS authentication/security procedure <b>1015</b>.</p><p id="p-0134" num="0282">In an example, if the UE <b>100</b> triggers the service request to establish a signaling connection, upon successful establishment of the signaling connection, the UE <b>100</b> and the network may exchange NAS signaling.</p><p id="p-0135" num="0283">In an example the AMF <b>155</b> may send to the SMF <b>160</b> a PDU session update context request <b>1020</b> e.g., Nsmf_PDUSession_UpdateSMContext request comprising PDU session ID(s), Cause(s), UE <b>100</b> location information, access type, and/or the like.</p><p id="p-0136" num="0284">In an example, the Nsmf_PDUSession_UpdateSMContext request may be invoked by the AMF <b>155</b> if the UE <b>100</b> may identify PDU session(s) to be activated in the NAS service request message. In an example, the Nsmf_PDUSession_UpdateSMContext request may be triggered by the SMF <b>160</b> wherein the PDU session(s) identified by the UE <b>100</b> may correlate to other PDU session ID(s) than the one triggering the procedure. In an example, the Nsmf_PDUSession_UpdateSMContext request may be triggered by the SMF <b>160</b> wherein the current UE <b>100</b> location may be outside the area of validity for the N2 information provided by the SMF <b>160</b> during a network triggered service request procedure. The AMF <b>155</b> may not send the N2 information provided by the SMF <b>160</b> during the network triggered service request procedure.</p><p id="p-0137" num="0285">In an example, the AMF <b>155</b> may determine the PDU session(s) to be activated and may send an Nsmf_PDUSession_UpdateSMContext request to SMF <b>160</b>(<i>s</i>) associated with the PDU session(s) with cause set to indicate establishment of user plane resources for the PDU session(s).</p><p id="p-0138" num="0286">In an example, if the procedure may be triggered in response to paging indicating non-3GPP access, and the list of allowed PDU sessions provided by the UE <b>100</b> may not include the PDU session for which the UE <b>100</b> was paged, the AMF <b>155</b> may notify the SMF <b>160</b> that the user plane for the PDU session may not be re-activated. The service request procedure may succeed without re-activating the user plane of any PDU sessions, and the AMF <b>155</b> may notify the UE <b>100</b>.</p><p id="p-0139" num="0287">In an example, if the PDU session ID may correspond to a LADN and the SMF <b>160</b> may determine that the UE <b>100</b> may be outside the area of availability of the LADN based on the UE <b>100</b> location reporting from the AMF <b>155</b>, the SMF <b>160</b> may decide to (based on local policies) keep the PDU session, may reject the activation of user plane connection for the PDU session and may inform the AMF <b>155</b>. In an example, if the procedure may be triggered by a network triggered service request, the SMF <b>160</b> may notify the UPF <b>110</b> that originated the data notification to discard downlink data for the PDU sessions and/or to not provide further data notification messages. The SMF <b>160</b> may respond to the AMF <b>155</b> with an appropriate reject cause and the user plane activation of PDU session may be stopped.</p><p id="p-0140" num="0288">In an example, if the PDU session ID may correspond to a LADN and the SMF <b>160</b> may determine that the UE <b>100</b> may be outside the area of availability of the LADN based on the UE <b>100</b> location reporting from the AMF <b>155</b>, the SMF <b>160</b> may decide to (based on local policies) release the PDU session. The SMF <b>160</b> may locally release the PDU session and may inform the AMF <b>155</b> that the PDU session may be released. The SMF <b>160</b> may respond to the AMF <b>155</b> with an appropriate reject cause and the user plane Activation of PDU session may be stopped.</p><p id="p-0141" num="0289">In an example, if the UP activation of the PDU session may be accepted by the SMF <b>160</b>, based on the location info received from the AMF <b>155</b>, the SMF <b>160</b> may check the UPF <b>110</b> Selection <b>1025</b> Criteria (e.g., slice isolation requirements, slice coexistence requirements, UPF's <b>110</b> dynamic load, UPF's <b>110</b> relative static capacity among UPFs supporting the same DNN, UPF <b>110</b> location available at the SMF <b>160</b>, UE <b>100</b> location information, Capability of the UPF <b>110</b> and the functionality required for the particular UE <b>100</b> session. In an example, an appropriate UPF <b>110</b> may be selected by matching the functionality and features required for a UE <b>100</b>, DNN, PDU session type (i.e. IPv4, IPv6, ethernet type or unstructured type) and if applicable, the static IP address/prefix, SSC mode selected for the PDU session, UE <b>100</b> subscription profile in UDM <b>140</b>, DNAI as included in the PCC rules, local operator policies, S-NSSAI, access technology being used by the UE <b>100</b>, UPF <b>110</b> logical topology, and/or the like), and may determine to perform one or more of the following: continue using the current UPF(s); may select a new intermediate UPF <b>110</b> (or add/remove an intermediate UPF <b>110</b>), if the UE <b>100</b> has moved out of the service area of the UPF <b>110</b> that was previously connecting to the (R)AN <b>105</b>, while maintaining the UPF(s) acting as PDU session anchor; may trigger re-establishment of the PDU session to perform relocation/reallocation of the UPF <b>110</b> acting as PDU session anchor, e.g. the UE <b>100</b> has moved out of the service area of the anchor UPF <b>110</b> which is connecting to RAN <b>105</b>.</p><p id="p-0142" num="0290">In an example, the SMF <b>160</b> may send to the UPF <b>110</b> (e.g., new intermediate UPF <b>110</b>) an N4 session establishment request <b>1030</b>. In an example, if the SMF <b>160</b> may select a new UPF <b>110</b> to act as intermediate UPF <b>110</b>-<b>2</b> for the PDU session, or if the SMF <b>160</b> may select to insert an intermediate UPF <b>110</b> for a PDU session which may not have an intermediate UPF <b>110</b>-<b>2</b>, an N4 session establishment request <b>1030</b> message may be sent to the new UPF <b>110</b>, providing packet detection, data forwarding, enforcement and reporting rules to be installed on the new intermediate UPF. The PDU session anchor addressing information (on N9) for this PDU session may be provided to the intermediate UPF <b>110</b>-<b>2</b>.</p><p id="p-0143" num="0291">In an example, if a new UPF <b>110</b> is selected by the SMF <b>160</b> to replace the old (intermediate) UPF <b>110</b>-<b>2</b>, the SMF <b>160</b> may include a data forwarding indication. The data forwarding indication may indicate to the UPF <b>110</b> that a second tunnel endpoint may be reserved for buffered DL data from the old I-UPF.</p><p id="p-0144" num="0292">In an example, the new UPF <b>110</b> (intermediate) may send to SMF <b>160</b> an N4 session establishment response message <b>1030</b>. In case the UPF <b>110</b> may allocate CN tunnel info, the UPF <b>110</b> may provide DL CN tunnel info for the UPF <b>110</b> acting as PDU session anchor and UL CN tunnel info (e.g., CN N3 tunnel info) to the SMF <b>160</b>. If the data forwarding indication may be received, the new (intermediate) UPF <b>110</b> acting as N3 terminating point may send DL CN tunnel info for the old (intermediate) UPF <b>110</b>-<b>2</b> to the SMF <b>160</b>. The SMF <b>160</b> may start a timer, to release the resource in the old intermediate UPF <b>110</b>-<b>2</b>.</p><p id="p-0145" num="0293">In an example, if the SMF <b>160</b> may selects a new intermediate UPF <b>110</b> for the PDU session or may remove the old I-UPF <b>110</b>-<b>2</b>, the SMF <b>160</b> may send N4 session modification request message <b>1035</b> to PDU session anchor, PSA UPF <b>110</b>-<b>3</b>, providing the data forwarding indication and DL tunnel information from new intermediate UPF <b>110</b>.</p><p id="p-0146" num="0294">In an example, if the new intermediate UPF <b>110</b> may be added for the PDU session, the (PSA) UPF <b>110</b>-<b>3</b> may begin to send the DL data to the new I-UPF <b>110</b> as indicated in the DL tunnel information.</p><p id="p-0147" num="0295">In an example, if the service request may be triggered by the network, and the SMF <b>160</b> may remove the old I-UPF <b>110</b>-<b>2</b> and may not replace the old I-UPF <b>110</b>-<b>2</b> with the new I-UPF <b>110</b>, the SMF <b>160</b> may include the data forwarding indication in the request. The data forwarding indication may indicate to the (PSA) UPF <b>110</b>-<b>3</b> that a second tunnel endpoint may be reserved for buffered DL data from the old I-UPF <b>110</b>-<b>2</b>. In this case, the PSA UPF <b>110</b>-<b>3</b> may begin to buffer the DL data it may receive at the same time from the N6 interface.</p><p id="p-0148" num="0296">In an example, the PSA UPF <b>110</b>-<b>3</b> (PSA) may send to the SMF <b>160</b> an N4 session modification response <b>1035</b>. In an example, if the data forwarding indication may be received, the PSA UPF <b>110</b>-<b>3</b> may become as N3 terminating point and may send CN DL tunnel info for the old (intermediate) UPF <b>110</b>-<b>2</b> to the SMF <b>160</b>. The SMF <b>160</b> may start a timer, to release the resource in old intermediate UPF <b>110</b>-<b>2</b> if there is one.</p><p id="p-0149" num="0297">In an example, the SMF <b>160</b> may send to the old UPF <b>110</b>-<b>2</b> an N4 session modification request <b>1045</b> (e.g., may comprise new UPF <b>110</b> address, new UPF <b>110</b> DL tunnel ID, and/or the like). In an example, if the service request may be triggered by the network, and/or the SMF <b>160</b> may remove the old (intermediate) UPF <b>110</b>-<b>2</b>, the SMF <b>160</b> may send the N4 session modification request message to the old (intermediate) UPF <b>110</b>-<b>2</b>, and may provide the DL tunnel information for the buffered DL data. If the SMF <b>160</b> may allocate new I-UPF <b>110</b>, the DL tunnel information is from the new (intermediate) UPF <b>110</b> may act as N3 terminating point. If the SMF <b>160</b> may not allocate a new I-UPF <b>110</b>, the DL tunnel information may be from the new UPF <b>110</b> (PSA) <b>110</b>-<b>3</b> acting as N3 terminating point. The SMF <b>160</b> may start a timer to monitor the forwarding tunnel. In an example, the old (intermediate) UPF <b>110</b>-<b>2</b> may send N4 session modification response message to the SMF <b>160</b>.</p><p id="p-0150" num="0298">In an example, if the I-UPF <b>110</b>-<b>2</b> may be relocated and forwarding tunnel was established to the new I-UPF <b>110</b>, the old (intermediate) UPF <b>110</b>-<b>2</b> may forward its buffered data to the new (intermediate) UPF <b>110</b> acting as N3 terminating point. In an example, if the old I-UPF <b>110</b>-<b>2</b> may be removed and the new I-UPF <b>110</b> may not be assigned for the PDU session and forwarding tunnel may be established to the UPF <b>110</b> (PSA) <b>110</b>-<b>3</b>, the old (intermediate) UPF <b>110</b>-<b>2</b> may forward its buffered data to the UPF <b>110</b> (PSA) <b>110</b>-<b>3</b> acting as N3 terminating point.</p><p id="p-0151" num="0299">In an example, the SMF <b>160</b> may send to the AMF <b>155</b> an N11 message <b>1060</b> e.g., a Nsmf_PDUSession_UpdateSMContext response (comprising: N1 SM container (PDU session ID, PDU session re-establishment indication), N2 SM information (PDU session ID, QoS profile, CN N3 tunnel info, S-NSSAI), Cause), upon reception of the Nsmf_PDUSession_UpdateSMContext request with a cause including e.g., establishment of user plane resources. The SMF <b>160</b> may determine whether UPF <b>110</b> reallocation may be performed, based on the UE <b>100</b> location information, UPF <b>110</b> service area and operator policies. In an example, for a PDU session that the SMF <b>160</b> may determine to be served by the current UPF <b>110</b>, e.g., PDU session anchor or intermediate UPF, the SMF <b>160</b> may generate N2 SM information and may send an Nsmf_PDUSession_UpdateSMContext response <b>1060</b> to the AMF <b>155</b> to establish the user plane(s). The N2 SM information may contain information that the AMF <b>155</b> may provide to the RAN <b>105</b>. In an example, for a PDU session that the SMF <b>160</b> may determine as requiring a UPF <b>110</b> relocation for PDU session anchor UPF, the SMF <b>160</b> may reject the activation of UP of the PDU session by sending Nsmf_PDUSession_UpdateSMContext response that may contain N1 SM container to the UE <b>100</b> via the AMF <b>155</b>. The N1 SM container may include the corresponding PDU session ID and PDU session re-establishment indication.</p><p id="p-0152" num="0300">Upon reception of the Namf_EventExposure_Notify from the AMF <b>155</b> to the SMF <b>160</b>, with an indication that the UE <b>100</b> is reachable, if the SMF <b>160</b> may have pending DL data, the SMF <b>160</b> may invoke the Namf_Communication_N1N2MessageTransfer service operation to the AMF <b>155</b> to establish the user plane(s) for the PDU sessions. In an example, the SMF <b>160</b> may resume sending DL data notifications to the AMF <b>155</b> in case of DL data.</p><p id="p-0153" num="0301">In an example, the SMF <b>160</b> may send a message to the AMF <b>155</b> to reject the activation of UP of the PDU session by including a cause in the Nsmf_PDUSession_UpdateSMContext response if the PDU session may correspond to a LADN and the UE <b>100</b> may be outside the area of availability of the LADN, or if the AMF <b>155</b> may notify the SMF <b>160</b> that the UE <b>100</b> may be reachable for regulatory prioritized service, and the PDU session to be activated may not for a regulatory prioritized service; or if the SMF <b>160</b> may decide to perform PSA UPF <b>110</b>-<b>3</b> relocation for the requested PDU session.</p><p id="p-0154" num="0302">In an example, the AMF <b>155</b> may send to the (R)AN <b>105</b> an N2 request message <b>1065</b> (e.g., N2 SM information received from SMF <b>160</b>, security context, AMF <b>155</b> signaling connection ID, handover restriction list, MM NAS service accept, list of recommended cells/TAs/NG-RAN node identifiers). In an example, the RAN <b>105</b> may store the security context, AMF <b>155</b> signaling connection Id, QoS information for the QoS flows of the PDU sessions that may be activated and N3 tunnel IDs in the UE <b>100</b> RAN <b>105</b> context. In an example, the MM NAS service accept may include PDU session status in the AMF <b>155</b>. If the activation of UP of a PDU session may be rejected by the SMF <b>160</b>, the MM NAS service accept may include the PDU session ID and the reason why the user plane resources may not be activated (e.g. LADN not available). Local PDU session release during the session request procedure may be indicated to the UE <b>100</b> via the session Status.</p><p id="p-0155" num="0303">In an example, if there are multiple PDU sessions that may involve multiple SMF <b>160</b><i>s</i>, the AMF <b>155</b> may not wait for responses from all SMF <b>160</b><i>s </i>before it may send N2 SM information to the UE <b>100</b>. The AMF <b>155</b> may wait for all responses from the SMF <b>160</b><i>s </i>before it may send MM NAS service accept message to the UE <b>100</b>.</p><p id="p-0156" num="0304">In an example, the AMF <b>155</b> may include at least one N2 SM information from the SMF <b>160</b> if the procedure may be triggered for PDU session user plane activation. AMF <b>155</b> may send additional N2 SM information from SMF <b>160</b><i>s </i>in separate N2 message(s) (e.g. N2 tunnel setup request), if there is any. Alternatively, if multiple SMF <b>160</b><i>s </i>may be involved, the AMF <b>155</b> may send one N2 request message to (R)AN <b>105</b> after all the Nsmf_PDUSession_UpdateSMContext response service operations from all the SMF <b>160</b><i>s </i>associated with the UE <b>100</b> may be received. In such case, the N2 request message may include the N2 SM information received in each of the Nsmf_PDUSession_UpdateSMContext response and PDU session ID to enable AMF <b>155</b> to associate responses to relevant SMF <b>160</b>.</p><p id="p-0157" num="0305">In an example, if the RAN <b>105</b> (e.g., NG RAN) node may provide the list of recommended cells/TAs/NG-RAN node identifiers during the AN release procedure, the AMF <b>155</b> may include the information from the list in the N2 request. The RAN <b>105</b> may use this information to allocate the RAN <b>105</b> notification area when the RAN <b>105</b> may decide to enable RRC inactive state for the UE <b>100</b>.</p><p id="p-0158" num="0306">If the AMF <b>155</b> may receive an indication, from the SMF <b>160</b> during a PDU session establishment procedure that the UE <b>100</b> may be using a PDU session related to latency sensitive services, for any of the PDU sessions established for the UE <b>100</b> and the AMF <b>155</b> has received an indication from the UE <b>100</b> that may support the CM-CONNECTED with RRC inactive state, then the AMF <b>155</b> may include the UE's RRC inactive assistance information. In an example, the AMF <b>155</b> based on network configuration, may include the UE's RRC inactive assistance information.</p><p id="p-0159" num="0307">In an example, the (R)AN <b>105</b> may send to the UE <b>100</b> a message to perform RRC connection reconfiguration <b>1070</b> with the UE <b>100</b> depending on the QoS information for all the QoS flows of the PDU sessions whose UP connections may be activated and data radio bearers. In an example, the user plane security may be established.</p><p id="p-0160" num="0308">In an example, if the N2 request may include a MM NAS service accept message, the RAN <b>105</b> may forward the MM NAS service accept to the UE <b>100</b>. The UE <b>100</b> may locally delete context of PDU sessions that may not be available in 5GC.</p><p id="p-0161" num="0309">In an example, if the N1 SM information may be transmitted to the UE <b>100</b> and may indicate that some PDU session(s) may be re-established, the UE <b>100</b> may initiate PDU session re-establishment for the PDU session(s) that me be re-established after the service request procedure may be complete.</p><p id="p-0162" num="0310">In an example, after the user plane radio resources may be setup, the uplink data from the UE <b>100</b> may be forwarded to the RAN <b>105</b>. The RAN <b>105</b> (e.g., NG-RAN) may send the uplink data to the UPF <b>110</b> address and tunnel ID provided.</p><p id="p-0163" num="0311">In an example, the (R)AN <b>105</b> may send to the AMF <b>155</b> an N2 request Ack <b>1105</b> (e.g., N2 SM information (comprising: AN tunnel info, list of accepted QoS flows for the PDU sessions whose UP connections are activated, list of rejected QoS flows for the PDU sessions whose UP connections are activated)). In an example, the N2 request message may include N2 SM information(s), e.g. AN tunnel info. RAN <b>105</b> may respond N2 SM information with separate N2 message (e.g. N2 tunnel setup response). In an example, if multiple N2 SM information are included in the N2 request message, the N2 request Ack may include multiple N2 SM information and information to enable the AMF <b>155</b> to associate the responses to relevant SMF <b>160</b>.</p><p id="p-0164" num="0312">In an example, the AMF <b>155</b> may send to the SMF <b>160</b> a Nsmf_PDUSession_UpdateSMContext request <b>1110</b> (N2 SM information (AN tunnel info), RAT type) per PDU session. If the AMF <b>155</b> may receive N2 SM information (one or multiple) from the RAN <b>105</b>, then the AMF <b>155</b> may forward the N2 SM information to the relevant SMF <b>160</b>. If the UE <b>100</b> time zone may change compared to the last reported UE <b>100</b> Time Zone then the AMF <b>155</b> may include the UE <b>100</b> time zone IE in the Nsmf_PDUSession_UpdateSMContext request message.</p><p id="p-0165" num="0313">In an example, if dynamic PCC is deployed, the SMF <b>160</b> may initiate notification about new location information to the PCF <b>135</b> (if subscribed) by invoking an event exposure notification operation (e.g., a Nsmf_EventExposure_Notify service operation). The PCF <b>135</b> may provide updated policies by invoking a policy control update notification message <b>1115</b> (e.g., a Npcf_SMPolicyControl_UpdateNotify operation).</p><p id="p-0166" num="0314">In an example, if the SMF <b>160</b> may select a new UPF <b>110</b> to act as intermediate UPF <b>110</b> for the PDU session, the SMF <b>160</b> may initiates an N4 session modification procedure <b>1120</b> to the new I-UPF <b>110</b> and may provide AN tunnel info. The downlink data from the new I-UPF <b>110</b> may be forwarded to RAN <b>105</b> and UE <b>100</b>. In an example, the UPF <b>110</b> may send to the SMF <b>160</b>, an N4 session modification response <b>1120</b>. In an example, the SMF <b>160</b> may send to the AMF <b>155</b>, an Nsmf_PDUSession_UpdateSMContext response <b>1140</b>.</p><p id="p-0167" num="0315">In an example, if forwarding tunnel may be established to the new I-UPF <b>110</b> and if the timer SMF <b>160</b> set for forwarding tunnel may be expired, the SMF <b>160</b> may sends N4 session modification request <b>1145</b> to new (intermediate) UPF <b>110</b> acting as N3 terminating point to release the forwarding tunnel. In an example, the new (intermediate) UPF <b>110</b> may send to the SMF <b>160</b> an N4 session modification response <b>1145</b>. In an example, the SMF <b>160</b> may send to the PSA UPF <b>110</b>-<b>3</b> an N4 session modification request <b>1150</b>, or N4 session release request. In an example, if the SMF <b>160</b> may continue using the old UPF <b>110</b>-<b>2</b>, the SMF <b>160</b> may send an N4 session modification request <b>1155</b>, providing AN tunnel info. In an example, if the SMF <b>160</b> may select a new UPF <b>110</b> to act as intermediate UPF <b>110</b>, and the old UPF <b>110</b>-<b>2</b> may not be PSA UPF <b>110</b>-<b>3</b>, the SMF <b>160</b> may initiate resource release, after timer expires, by sending an N4 session release request (release cause) to the old intermediate UPF <b>110</b>-<b>2</b>.</p><p id="p-0168" num="0316">In an example, the old intermediate UPF <b>110</b>-<b>2</b> may send to the SMF <b>160</b> an N4 session modification response or N4 session release response <b>1155</b>. The old UPF <b>110</b>-<b>2</b> may acknowledge with the N4 session modification response or N4 session release response message to confirm the modification or release of resources. The AMF <b>155</b> may invoke the Namf_EventExposure_Notify service operation to notify the mobility related events, after this procedure may complete, towards the NFs that may have subscribed for the events. In an example, the AMF <b>155</b> may invoke the Namf_EventExposure_Notify towards the SMF <b>160</b> if the SMF <b>160</b> had subscribed for UE <b>100</b> moving into or out of area of interest and if the UE's current location may indicate that it may be moving into or moving outside of the area of interest subscribed, or if the SMF <b>160</b> had subscribed for LADN DNN and if the UE <b>100</b> may be moving into or outside of an area where the LADN is available, or if the UE <b>100</b> may be in MICO mode and the AMF <b>155</b> had notified an SMF <b>160</b> of the UE <b>100</b> being unreachable and that SMF <b>160</b> may not send DL data notifications to the AMF <b>155</b>, and the AMF <b>155</b> may informs the SMF <b>160</b> that the UE <b>100</b> is reachable, or if the SMF <b>160</b> had subscribed for UE <b>100</b> reachability status, then the AMF <b>155</b> may notify the UE <b>100</b> reachability.</p><p id="p-0169" num="0317">An example PDU session establishment procedure depicted in <figref idref="DRAWINGS">FIG. <b>12</b></figref> and <figref idref="DRAWINGS">FIG. <b>13</b></figref>. In an example embodiment, when the PDU session establishment procedure may be employed, the UE <b>100</b> may send to the AMF <b>155</b> a NAS Message <b>1205</b> (or a SM NAS message) comprising NSSAI, S-NSSAI (e.g., requested S-NSSAI, allowed S-NSSAI, subscribed S-NSSAI, and/or the like), DNN, PDU session ID, request type, old PDU session ID, N1 SM container (PDU session establishment request), and/or the like. In an example, the UE <b>100</b>, in order to establish a new PDU session, may generate a new PDU session ID. In an example, when emergency service may be required and an emergency PDU session may not already be established, the UE <b>100</b> may initiate the UE <b>100</b> requested PDU session establishment procedure with a request type indicating emergency request. In an example, the UE <b>100</b> may initiate the UE <b>100</b> requested PDU session establishment procedure by the transmission of the NAS message containing a PDU session establishment request within the N1 SM container. The PDU session establishment request may include a PDU type, SSC mode, protocol configuration options, and/or the like. In an example, the request type may indicate initial request if the PDU session establishment is a request to establish the new PDU session and may indicate existing PDU session if the request refers to an existing PDU session between 3GPP access and non-3GPP access or to an existing PDN connection in EPC. In an example, the request type may indicate emergency request if the PDU session establishment may be a request to establish a PDU session for emergency services. The request type may indicate existing emergency PDU session if the request refers to an existing PDU session for emergency services between 3GPP access and non-3GPP access. In an example, the NAS message sent by the UE <b>100</b> may be encapsulated by the AN in a N2 message towards the AMF <b>155</b> that may include user location information and access technology type information. In an example, the PDU session establishment request message may contain SM PDU DN request container containing information for the PDU session authorization by the external DN. In an example, if the procedure may be triggered for SSC mode <b>3</b> operation, the UE <b>100</b> may include the old PDU session ID which may indicate the PDU session ID of the on-going PDU session to be released, in the NAS message. The old PDU session ID may be an optional parameter which may be included in this case. In an example, the AMF <b>155</b> may receive from the AN the NAS message (e.g., NAS SM message) together with user location information (e.g. cell ID in case of the RAN <b>105</b>). In an example, the UE <b>100</b> may not trigger a PDU session establishment for a PDU session corresponding to a LADN when the UE <b>100</b> is outside the area of availability of the LADN.</p><p id="p-0170" num="0318">In an example, the AMF <b>155</b> may determine that the NAS message or the SM NAS message may correspond to the request for the new PDU session based on that request type indicates initial request and that the PDU session ID may not be used for any existing PDU session(s) of the UE <b>100</b>. If the NAS message does not contain an S-NSSAI, the AMF <b>155</b> may determine a default S-NSSAI for the requested PDU session either according to the UE <b>100</b> subscription, if it may contain only one default S-NSSAI, or based on operator policy. In an example, the AMF <b>155</b> may perform SMF <b>160</b> selection <b>1210</b> and select an SMF <b>160</b>. If the request type may indicate initial request or the request may be due to handover from EPS, the AMF <b>155</b> may store an association of the S-NSSAI, the PDU session ID and a SMF <b>160</b> ID. In an example, if the request type is initial request and if the old PDU session ID indicating the existing PDU session may be contained in the message, the AMF <b>155</b> may select the SMF <b>160</b> and may store an association of the new PDU session ID and the selected SMF <b>160</b> ID.</p><p id="p-0171" num="0319">In an example, the AMF <b>155</b> may send to the SMF <b>160</b>, an N11 message <b>1215</b>, e.g., Nsmf_PDUSession_CreateSMContext request (comprising: SUPI or PEI, DNN, S-NSSAI, PDU session ID, AMF <b>155</b> ID, request type, N1 SM container (PDU session establishment request), user location information, access type, PEI, GPSI), or Nsmf_PDUSession_UpdateSMContext request (SUPI, DNN, S-NSSAI, PDU session ID, AMF <b>155</b> ID, request type, N1 SM container (PDU session establishment request), user location information, access type, RAT type, PEI). In an example, if the AMF <b>155</b> may not have an association with the SMF <b>160</b> for the PDU session ID provided by the UE <b>100</b> (e.g. when request type indicates initial request), the AMF <b>155</b> may invoke the Nsmf_PDUSession_CreateSMContext request, but if the AMF <b>155</b> already has an association with an SMF <b>160</b> for the PDU session ID provided by the UE <b>100</b> (e.g. when request type indicates existing PDU session), the AMF <b>155</b> may invoke the Nsmf_PDUSession_UpdateSMContext request. In an example, the AMF <b>155</b> ID may be the UE's GUAMI which uniquely identifies the AMF <b>155</b> serving the UE <b>100</b>. The AMF <b>155</b> may forward the PDU session ID together with the N1 SM container containing the PDU session establishment request received from the UE <b>100</b>. The AMF <b>155</b> may provide the PEI instead of the SUPI when the UE <b>100</b> has registered for emergency services without providing the SUPI. In case the UE <b>100</b> has registered for emergency services but has not been authenticated, the AMF <b>155</b> may indicate that the SUPI has not been authenticated.</p><p id="p-0172" num="0320">In an example, if the request type may indicate neither emergency request nor existing emergency PDU session and, if the SMF <b>160</b> has not yet registered and subscription data may not be available, the SMF <b>160</b> may register with the UDM <b>140</b>, and may retrieve subscription data <b>1225</b> and subscribes to be notified when subscription data may be modified. In an example, if the request type may indicate existing PDU session or existing emergency PDU session, the SMF <b>160</b> may determine that the request may be due to handover between 3GPP access and non-3GPP access or due to handover from EPS. The SMF <b>160</b> may identify the existing PDU session based on the PDU session ID. The SMF <b>160</b> may not create a new SM context but instead may update the existing SM context and may provide the representation of the updated SM context to the AMF <b>155</b> in the response. if the request type may be initial request and if the old PDU session ID may be included in Nsmf_PDUSession_CreateSMContext request, the SMF <b>160</b> may identify the existing PDU session to be released based on the old PDU session ID.</p><p id="p-0173" num="0321">In an example, the SMF <b>160</b> may send to the AMF <b>155</b>, the N11 message response <b>1220</b>, e.g., either a PDU session create/update response, Nsmf_PDUSession_CreateSMContext response <b>1220</b> (cause, SM context ID or N1 SM container (PDU session reject(cause))) or an Nsmf_PDUSession_UpdateSMContext response.</p><p id="p-0174" num="0322">In an example, if the SMF <b>160</b> may perform secondary authorization/authentication <b>1230</b> during the establishment of the PDU session by a DN-AAA server, the SMF <b>160</b> may select a UPF <b>110</b> and may trigger a PDU session establishment authentication/authorization.</p><p id="p-0175" num="0323">In an example, if the request type may indicate initial request, the SMF <b>160</b> may select an SSC mode for the PDU session. The SMF <b>160</b> may select one or more UPFs as needed. In case of PDU type IPv4 or IPv6, the SMF <b>160</b> may allocate an IP address/prefix for the PDU session. In case of PDU type IPv6, the SMF <b>160</b> may allocate an interface identifier to the UE <b>100</b> for the UE <b>100</b> to build its link-local address. For Unstructured PDU type the SMF <b>160</b> may allocate an IPv6 prefix for the PDU session and N6 point-to-point tunneling (based on UDP/IPv6).</p><p id="p-0176" num="0324">In an example, if dynamic PCC is deployed, the may SMF <b>160</b> performs PCF <b>135</b> selection <b>1235</b>. If the request type indicates existing PDU session or existing emergency PDU session, the SMF <b>160</b> may use the PCF <b>135</b> already selected for the PDU session. If dynamic PCC is not deployed, the SMF <b>160</b> may apply local policy.</p><p id="p-0177" num="0325">In an example, the SMF <b>160</b> may perform a session management policy establishment procedure <b>1240</b> to establish a PDU session with the PCF <b>135</b> and may get the default PCC Rules for the PDU session. The GPSI may be included if available at the SMF <b>160</b>. If the request type in <b>1215</b> indicates existing PDU session, the SMF <b>160</b> may notify an event previously subscribed by the PCF <b>135</b> by a session management policy modification procedure and the PCF <b>135</b> may update policy information in the SMF <b>160</b>. The PCF <b>135</b> may provide authorized session-AMBR and the authorized 5QI and ARP to SMF <b>160</b>. The PCF <b>135</b> may subscribe to the IP allocation/release event in the SMF <b>160</b> (and may subscribe other events).</p><p id="p-0178" num="0326">In an example, the PCF <b>135</b>, based on the emergency DNN, may set the ARP of the PCC rules to a value that may be reserved for emergency services.</p><p id="p-0179" num="0327">In an example, if the request type in <b>1215</b> indicates initial request, the SMF <b>160</b> may select an SSC mode for the PDU session. The SMF <b>160</b> may select <b>1245</b> one or more UPFs as needed. In case of PDU type IPv4 or IPv6, the SMF <b>160</b> may allocate an IP address/prefix for the PDU session. In case of PDU type IPv6, the SMF <b>160</b> may allocate an interface identifier to the UE <b>100</b> for the UE <b>100</b> to build its link-local address. For unstructured PDU type the SMF <b>160</b> may allocate an IPv6 prefix for the PDU session and N6 point-to-point tunneling (e.g., based on UDP/IPv6). In an example, for Ethernet PDU type PDU session, neither a MAC nor an IP address may be allocated by the SMF <b>160</b> to the UE <b>100</b> for this PDU session.</p><p id="p-0180" num="0328">In an example, if the request type in <b>1215</b> is existing PDU session, the SMF <b>160</b> may maintain the same IP address/prefix that may be allocated to the UE <b>100</b> in the source network.</p><p id="p-0181" num="0329">In an example, if the request type in <b>1215</b> indicates existing PDU session referring to an existing PDU session moved between 3GPP access and non-3GPP access, the SMF <b>160</b> may maintain the SSC mode of the PDU session, e.g., the current PDU session Anchor and IP address. In an example, the SMF <b>160</b> may trigger e.g. new intermediate UPF <b>110</b> insertion or allocation of a new UPF <b>110</b>. In an example, if the request type indicates emergency request, the SMF <b>160</b> may select <b>1245</b> the UPF <b>110</b> and may select SSC mode <b>1</b>.</p><p id="p-0182" num="0330">In an example, the SMF <b>160</b> may perform a session management policy modification <b>1250</b> procedure to report some event to the PCF <b>135</b> that has previously subscribed. If request type is initial request and dynamic PCC is deployed and PDU type is IPv4 or IPv6, the SMF <b>160</b> may notify the PCF <b>135</b> (that has previously subscribed) with the allocated UE <b>100</b> IP address/prefix.</p><p id="p-0183" num="0331">In an example, the PCF <b>135</b> may provide updated policies to the SMF <b>160</b>. The PCF <b>135</b> may provide authorized session-AMBR and the authorized 5QI and ARP to the SMF <b>160</b>.</p><p id="p-0184" num="0332">In an example, if request type indicates initial request, the SMF <b>160</b> may initiate an N4 session establishment procedure <b>1255</b> with the selected UPF <b>110</b>. The SMF <b>160</b> may initiate an N4 session modification procedure with the selected UPF <b>110</b>. In an example, the SMF <b>160</b> may send an N4 session establishment/modification request <b>1255</b> to the UPF <b>110</b> and may provide packet detection, enforcement, reporting rules, and/or the like to be installed on the UPF <b>110</b> for this PDU session. If CN tunnel info is allocated by the SMF <b>160</b>, the CN tunnel info may be provided to the UPF <b>110</b>. If the selective user plane deactivation is required for this PDU session, the SMF <b>160</b> may determine the Inactivity Timer and may provide it to the UPF <b>110</b>. In an example, the UPF <b>110</b> may acknowledges by sending an N4 session establishment/modification response <b>1255</b>. If CN tunnel info is allocated by the UPF, the CN tunnel info may be provided to SMF <b>160</b>. In an example, if multiple UPFs are selected for the PDU session, the SMF <b>160</b> may initiate N4 session establishment/modification procedure <b>1255</b> with each UPF <b>110</b> of the PDU session.</p><p id="p-0185" num="0333">In an example, the SMF <b>160</b> may send to the AMF <b>155</b> an Namf_Communication_N1N2MessageTransfer <b>1305</b> message (comprising PDU session ID, access type, N2 SM information (PDU session ID, QFI(s), QoS profile(s), CN tunnel info, S-NSSAI, session-AMBR, PDU session type, and/or the like), N1 SM container (PDU session establishment accept (QoS Rule(s), selected SSC mode, S-NSSAI, allocated IPv4 address, interface identifier, session-AMBR, selected PDU session type, and/or the like))). In case of multiple UPFs are used for the PDU session, the CN tunnel info may comprise tunnel information related with the UPF <b>110</b> that terminates N3. In an example, the N2 SM information may carry information that the AMF <b>155</b> may forward to the (R)AN <b>105</b> (e.g., the CN tunnel info corresponding to the core network address of the N3 tunnel corresponding to the PDU session, one or multiple QoS profiles and the corresponding QFIs may be provided to the (R)AN <b>105</b>, the PDU session ID may be used by AN signaling with the UE <b>100</b> to indicate to the UE <b>100</b> the association between AN resources and a PDU session for the UE <b>100</b>, and/or the like). In an example, a PDU session may be associated to an S-NSSAI and a DNN. In an example, the N1 SM container may contain the PDU session establishment accept that the AMF <b>155</b> may provide to the UE <b>100</b>. In an example, multiple QoS rules and QoS profiles may be included in the PDU session establishment accept within the N1 SM and in the N2 SM information. In an example, the Namf_Communication_N1N2MessageTransfer <b>1305</b> may further comprise the PDU session ID and information allowing the AMF <b>155</b> to know which access towards the UE <b>100</b> to use.</p><p id="p-0186" num="0334">In an example, the AMF <b>155</b> may send to the (R)AN <b>105</b> an N2 PDU session request <b>1310</b> (comprising N2 SM information, NAS message (PDU session ID, N1 SM container (PDU session establishment accept, and/or the like))). In an example, the AMF <b>155</b> may send the NAS message <b>1310</b> that may comprise PDU session ID and PDU session establishment accept targeted to the UE <b>100</b> and the N2 SM information received from the SMF <b>160</b> within the N2 PDU session request <b>1310</b> to the (R)AN <b>105</b>.</p><p id="p-0187" num="0335">In an example, the (R)AN <b>105</b> may issue AN specific signaling exchange <b>1315</b> with the UE <b>100</b> that may be related with the information received from SMF <b>160</b>. In an example, in case of a 3GPP RAN <b>105</b>, an RRC connection reconfiguration procedure may take place with the UE <b>100</b> to establish the necessary RAN <b>105</b> resources related to the QoS Rules for the PDU session request <b>1310</b>. In an example, (R)AN <b>105</b> may allocate (R)AN <b>105</b> N3 tunnel information for the PDU session. In case of dual connectivity, the master RAN <b>105</b> node may assign some (zero or more) QFIs to be setup to a master RAN <b>105</b> node and others to the secondary RAN <b>105</b> node. The AN tunnel info may comprise a tunnel endpoint for each involved RAN <b>105</b> node, and the QFIs assigned to each tunnel endpoint. A QFI may be assigned to either the master RAN <b>105</b> node or the secondary RAN <b>105</b> node. In an example, (R)AN <b>105</b> may forward the NAS message <b>1310</b> (PDU session ID, N1 SM container (PDU session establishment accept)) to the UE <b>100</b>. The (R)AN <b>105</b> may provide the NAS message to the UE <b>100</b> if the necessary RAN <b>105</b> resources are established and the allocation of (R)AN <b>105</b> tunnel information are successful.</p><p id="p-0188" num="0336">In an example, the N2 PDU session response <b>1320</b> may comprise a PDU session ID, cause, N2 SM information (PDU session ID, AN tunnel info, list of accepted/rejected QFI(s)), and/or the like. In an example, the AN tunnel info may correspond to the access network address of the N3 tunnel corresponding to the PDU session.</p><p id="p-0189" num="0337">In an example, the AMF <b>155</b> may forward the N2 SM information received from (R)AN <b>105</b> to the SMF <b>160</b> via a Nsmf_PDUSession_UpdateSMContext request <b>1330</b> (comprising: N2 SM information, request type, and/or the like). In an example, if the list of rejected QFI(s) is included in N2 SM information, the SMF <b>160</b> may release the rejected QFI(s) associated QoS profiles.</p><p id="p-0190" num="0338">In an example, the SMF <b>160</b> may initiate an N4 session modification procedure <b>1335</b> with the UPF <b>110</b>. The SMF <b>160</b> may provide AN tunnel info to the UPF <b>110</b> as well as the corresponding forwarding rules. In an example, the UPF <b>110</b> may provide an N4 session modification response <b>1335</b> to the SMF <b>160160</b>.</p><p id="p-0191" num="0339">In an example, the SMF <b>160</b> may send to the AMF <b>155</b> an Nsmf_PDUSession_UpdateSMContext response <b>1340</b> (Cause). In an example, the SMF <b>160</b> may subscribe to the UE <b>100</b> mobility event notification from the AMF <b>155</b> (e.g. location reporting, UE <b>100</b> moving into or out of area of interest), after this step by invoking Namf_EventExposure_Subscribe service operation. For LADN, the SMF <b>160</b> may subscribe to the UE <b>100</b> moving into or out of LADN service area event notification by providing the LADN DNN as an indicator for the area of interest. The AMF <b>155</b> may forward relevant events subscribed by the SMF <b>160</b>.</p><p id="p-0192" num="0340">In an example, the SMF <b>160</b> may send to the AMF <b>155</b>, a Nsmf_PDUSession_SMContextStatusNotify (release) <b>1345</b>. In an example, if during the procedure, any time the PDU session establishment is not successful, the SMF <b>160</b> may inform the AMF <b>155</b> by invoking Nsmf_PDUSession_SMContextStatusNotify(release) <b>1345</b>. The SMF <b>160</b> may releases any N4 session(s) created, any PDU session address if allocated (e.g. IP address) and may release the association with the PCF <b>135</b>.</p><p id="p-0193" num="0341">In an example, in case of PDU type IPv6, the SMF <b>160</b> may generate an IPv6 Router Advertisement <b>1350</b> and may send it to the UE <b>100</b> via N4 and the UPF <b>110</b>.</p><p id="p-0194" num="0342">In an example, if the PDU session may not be established, the SMF <b>160</b> may unsubscribe <b>1360</b> to the modifications of session management subscription data for the corresponding (SUPI, DNN, S-NSSAI), using Nudm_SDM_Unsubscribe (SUPI, DNN, S-NSSAI), if the SMF <b>160</b> is no more handling a PDU session of the UE <b>100</b> for this (DNN, S-NSSAI). In an example, if the PDU session may not be established, the SMF <b>160</b> may deregister <b>1360</b> for the given PDU session using Nudm_UECM_Deregistration (SUPI, DNN, PDU session ID).</p><p id="p-0195" num="0343"><figref idref="DRAWINGS">FIG. <b>14</b></figref> illustrates another example of a mobile communication network in which embodiments of the present disclosure may be implemented. The mobile communication network depicted in <figref idref="DRAWINGS">FIG. <b>14</b></figref> includes a wireless device <b>1410</b>, a base station <b>1420</b>, a physical core network deployment of one or more network functions <b>1430</b> (henceforth &#x201c;CN deployment <b>1430</b>&#x201d;), and a physical core network deployment of one or more network functions <b>1440</b> (henceforth &#x201c;CN deployment <b>1440</b>&#x201d;). The deployment <b>1430</b> and the deployment <b>1440</b> may be elements of a core network.</p><p id="p-0196" num="0344">The wireless device <b>1410</b> may communicate with the base station <b>1420</b> over an air interface <b>1470</b>. The communication direction from the wireless device <b>1410</b> to the base station <b>1420</b> over the air interface is known as uplink, and the communication direction from the base station <b>1420</b> to the wireless device <b>1410</b> over the air interface <b>1470</b> is known as downlink. Downlink transmissions may be separated from uplink transmissions using FDD, TDD, and/or some combination of the two duplexing techniques. <figref idref="DRAWINGS">FIG. <b>14</b></figref> shows a single wireless device <b>1410</b> and a single base station <b>1420</b>, but it will be understood that the wireless device <b>1410</b> may communicate with any number of base stations or other access network components over the air interface <b>1470</b>, and that the base station <b>1420</b> may communicate with any number of wireless devices over the air interface <b>1470</b>.</p><p id="p-0197" num="0345">The wireless device <b>1410</b> may comprise a processing system <b>1411</b> and a memory <b>1412</b>. The memory <b>1412</b> may comprise one or more computer-readable media, for example, one or more non-transitory computer readable media. The memory <b>1412</b> may include instructions <b>1413</b>. The processing system <b>1411</b> may process and/or execute the instructions <b>1413</b>. Processing and/or execution of the instructions <b>1413</b> may cause the processing system <b>1411</b> to perform one or more functions or activities. The memory <b>1412</b> may include data (not shown). One of the functions or activities performed by the processing system <b>1411</b> may be to store data in the memory <b>1412</b> and/or retrieve previously-stored data from the memory <b>1412</b>. In an example, downlink data received from the base station <b>1420</b> may be stored in the memory <b>1412</b>, and uplink data for transmission to the base station <b>1420</b> may be retrieved from the memory <b>1412</b>. The wireless device <b>1410</b> may communicate with the base station <b>1420</b> using a transmission processing system <b>1414</b> and a reception processing system <b>1415</b>. The wireless device <b>1410</b> may comprise one or more antennas <b>1416</b> to access the air interface <b>1470</b>. Although not shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the transmission processing system <b>1414</b> and/or the reception processing system <b>1415</b> may be coupled to a dedicated memory that is analogous to but separate from the memory <b>1412</b>, and comprises instructions that may be processed and/or executed to carry out one or more of their respective functionalities.</p><p id="p-0198" num="0346">The wireless device <b>1410</b> may comprise one or more other elements <b>1419</b>. The one or more other elements <b>1419</b> may comprise software and/or hardware that provide features and/or functionalities, for example, a speaker, a microphone, a keypad, a display, a touchpad, a satellite transceiver, a universal serial bus (USB) port, a hands-free headset, a frequency modulated (FM) radio unit, a media player, an Internet browser, an electronic control unit (e.g., for a motor vehicle), and/or one or more sensors (e.g., an accelerometer, a gyroscope, a temperature sensor, a radar sensor, a lidar sensor, an ultrasonic sensor, a light sensor, a camera, a global positioning sensor (GPS) and/or the like). The wireless device <b>1410</b> may receive user input data from and/or provide user output data to the one or more one or more other elements <b>1419</b>. The one or more other elements <b>1419</b> may comprise a power source. The wireless device <b>1410</b> may receive power from the power source and may be configured to distribute the power to the other components in the wireless device <b>1410</b>. The power source may comprise one or more sources of power, for example, a battery, a solar cell, a fuel cell, or any combination thereof.</p><p id="p-0199" num="0347">The wireless device <b>1410</b> may transmit data to the base station <b>1420</b> via the air interface <b>1470</b>. To perform the transmission, the processing system <b>1411</b> may implement layer 3 and layer 2 open systems interconnection (OSI) functionality to process the data for uplink transmission. Layer 3 may include a radio resource control layer (RRC). Layer 14 may include a service data application protocol layer (SDAP), a packet data convergence protocol layer (PDCP), a radio link control layer (RLC), and a media access control layer (MAC). The data may be provided to the transmission processing system <b>1414</b>, which may implement layer 1 OSI functionality. Layer 1 may include a physical layer (PHY). The wireless device <b>1410</b> may transmit the data over the air interface <b>1470</b> using one or more antennas <b>1416</b>. For scenarios where the one or more antennas <b>1416</b> include multiple antennas, the multiple antennas may be used to perform one or more multi-antenna techniques, such as spatial multiplexing (e.g., single-user multiple-input multiple output (MIMO) or multi-user MIMO), transmit/receive diversity, and/or beamforming.</p><p id="p-0200" num="0348">The wireless device <b>1410</b> may receive downlink data from the base station <b>1420</b> over the air interface <b>1470</b>. The downlink data may be received via the one or more antennas <b>1416</b>. The reception processing system <b>1415</b> may implement layer 1 OSI functionality on the received downlink data and may provide the data to the processing system <b>1411</b>. The processing system <b>1411</b> may implement layer 2 and layer 3 OSI functionality to process the received downlink data. The base station <b>1420</b> may comprise elements analogous to the elements of the wireless device <b>1410</b>. The base station <b>1420</b> may comprise a processing system <b>1421</b> and a memory <b>1422</b>. The memory <b>1422</b> may comprise one or more computer-readable media, for example, one or more non-transitory computer readable media. The memory <b>1422</b> may include instructions <b>1423</b>. The processing system <b>1421</b> may process and/or execute the instructions <b>1423</b>. Processing and/or execution of the instructions <b>1423</b> may cause the processing system <b>1421</b> to perform one or more functions or activities. The memory <b>1422</b> may include data (not shown). One of the functions or activities performed by the processing system <b>1421</b> may be to store data in the memory <b>1422</b> and/or retrieve previously-stored data from the memory <b>1422</b>. The base station <b>1420</b> may communicate with the wireless device <b>1410</b> using a transmission processing system <b>1424</b> and a reception processing system <b>1425</b>. The base station <b>1420</b> may comprise one or more antennas <b>1426</b> to access the air interface <b>1470</b>. The processing system <b>1421</b> may implement layer 14 and layer 3 OSI functionality. The transmission processing system <b>1424</b> and the reception processing system <b>1425</b> may implement layer 1 OSI functionality to perform transmission of downlink data and reception of uplink data, respectively.</p><p id="p-0201" num="0349">The base station <b>1420</b> may comprise an interface system <b>1427</b>. The interface system <b>1427</b> may communicate with one or more elements of the core network via an interface <b>1480</b>. The interface <b>1480</b> may be wired and/or wireless and the interface system <b>1427</b> may include one or more components suitable for communicating via the interface <b>1480</b>. In <figref idref="DRAWINGS">FIG. <b>14</b></figref>, the interface <b>1480</b> connects the base station <b>1420</b> to a single CN deployment <b>1430</b>, but it will be understood that the wireless device <b>1410</b> may communicate with any number of CN deployments over the interface <b>1480</b>, and that the CN deployment <b>1430</b> may communicate with any number of base stations over the interface <b>1480</b>. The base station <b>1420</b> may comprise one or more other elements <b>1429</b> analogous to one or more of the one or more other elements <b>1419</b>.</p><p id="p-0202" num="0350">The CN deployment <b>1430</b> may comprise one or more network functions (NFs). For example, the CN deployment <b>1430</b> may comprise an AMF and/or a UPF analogous to the AMF and UPF depicted in <figref idref="DRAWINGS">FIG. <b>1</b></figref>. The CN deployment <b>1430</b> may comprise elements analogous to the elements of the wireless device <b>1410</b> and the base station <b>1420</b>, as described above. The CN deployment <b>1430</b> may comprise a processing system <b>1431</b> and a memory <b>1432</b>. The memory <b>1432</b> may comprise one or more computer-readable media, for example, one or more non-transitory computer readable media. The memory <b>1432</b> may include instructions <b>1433</b>. The processing system <b>1431</b> may process and/or execute the instructions <b>1433</b>. Processing and/or execution of the instructions <b>1433</b> may cause the processing system <b>1431</b> to perform one or more functions or activities. The memory <b>1432</b> may include data (not shown). One of the functions or activities performed by the processing system <b>1431</b> may be to store data in the memory <b>1432</b> and/or retrieve previously-stored data from the memory <b>1432</b>. The CN deployment <b>1430</b> may access the interface <b>1480</b> using an interface system <b>1437</b>. The CN deployment <b>1430</b> may also use the interface system <b>1437</b> to access an interface <b>1490</b>. The CN deployment <b>1430</b> may use the interface <b>1490</b> to communicate with one or more data networks (analogous to, for example, the DN(s) depicted in <figref idref="DRAWINGS">FIG. <b>1</b></figref> and/or one or more other CN deployments, including the CN deployment <b>1440</b> depicted in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. The CN deployment <b>1430</b> may comprise one or more other elements <b>1439</b>.</p><p id="p-0203" num="0351">The CN deployment <b>1440</b> may comprise elements analogous to the elements of the CN deployment <b>1430</b>, as described above. The CN deployment <b>1440</b> may comprise a processing system <b>1441</b> and a memory <b>1442</b>. The memory <b>1442</b> may comprise one or more computer-readable media, for example, one or more non-transitory computer readable media. The memory <b>1442</b> may include instructions <b>1443</b>. The processing system <b>1441</b> may process and/or execute the instructions <b>1443</b>. Processing and/or execution of the instructions <b>1443</b> may cause the processing system <b>1441</b> to perform one or more functions or activities. The memory <b>1442</b> may include data (not shown). One of the functions or activities performed by the processing system <b>1441</b> may be to store data in the memory <b>1442</b> and/or retrieve previously-stored data from the memory <b>1442</b>. The CN deployment <b>1440</b> may access the interface <b>1490</b> using an interface system <b>1447</b>. The CN deployment <b>1440</b> may comprise one or more other elements.</p><p id="p-0204" num="0352">The processing system <b>1411</b>, the processing system <b>1421</b>, the processing system <b>1431</b>, and/or the processing system <b>1441</b> may comprise one or more controllers and/or one or more processors. The one or more controllers and/or one or more processors may comprise, for example, a general-purpose processor, a digital signal processor (DSP), a microcontroller, an application specific integrated circuit (ASIC), a field programmable gate array (FPGA) and/or other programmable logic device, discrete gate and/or transistor logic, discrete hardware components, an on-board unit, or any combination thereof. The processing system <b>1411</b>, the processing system <b>1421</b>, the processing system <b>1431</b>, and/or the processing system <b>1441</b> may perform signal coding/processing, data processing, power control, input/output processing, and/or any other functionality that may enable the wireless device <b>1410</b>, base station <b>1420</b>, CN deployment <b>1430</b>, and/or CN deployment <b>1440</b> to operate in a mobile communications system.</p><p id="p-0205" num="0353">Each CN deployment may comprise one or more network functions. Depending on the context in which the term is used, a network function (NF) may refer to a particular set of functionalities and/or one or more physical elements configured to perform those functionalities (e.g., a processing system and memory comprising instructions that, when executed by the processing system, cause the processing system to perform the functionalities). There are many different types of NF and each type of NF may be associated with a different set of functionalities. Different NFs may be flexibly deployed at different locations (for example, in different physical core network deployments) or in a same location (for example, co-located in the same physical core network deployment). Moreover, physical CN deployment are not limited to implementation of NFs. For example, a particular physical CN deployment may further include a base station or portions therefor and/or a data network or portions thereof. Accordingly, one or more NFs implemented on a particular physical core network deployment may be co-located with one or more non-core elements, including elements of an access network or data network.</p><p id="p-0206" num="0354">In an example, <figref idref="DRAWINGS">FIG. <b>15</b></figref> is a diagram of 5G policy and charging control system architecture. The reference architecture of policy and charging control framework for the 5G system may comprise one or more of the following network functions: policy control function (PCF), session management function (SMF), user plane function (UPF), access and mobility management function (AMF), network exposure functionality (NEF), network data analytics function (NWDAF), charging function (CHF), application function (AF) and unified data repository (UDR).</p><p id="p-0207" num="0355">In an example, the CHF may support at least one charging method: offline charging, online charging, or converged charging. In an example, the offline charging may be a process where charging information for network resource usage may be collected concurrently with that resource usage. At the end of the process, CDR files may be generated by the network, which may be transferred to a network operator's billing domain (BD) for the purpose of subscriber billing and/or inter-operator accounting (or additional functions, e.g. statistics, at the operator's discretion). The BD typically comprises post-processing systems such as the operator's billing system or billing mediation device. In an example conclusion, offline charging may be a mechanism where charging information does not affect, in real-time, the service rendered. In an example, online charging may be a process where charging information for network resource usage may be collected concurrently with that resource usage in the same fashion as in offline charging. However, authorization for the network resource usage may be obtained by the network prior to the actual resource usage to occur. In an example, the charging information utilized in online charging may be not necessarily identical to the charging information employed in offline charging. In an example conclusion, online charging may be a mechanism where charging information may affect, in real-time, the service rendered and therefore a direct interaction of the charging mechanism with the control of network resource usage may be required. In an example, converged charging may be a process where online and offline charging may be combined.</p><p id="p-0208" num="0356"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is an example call flow for PDU session establishment charging as per an aspect of an embodiment of the present disclosure. In an example, a UE may initiate a PDU Session establishment procedure. A PDU Session Establishment Request may comprise one or more of: PDU Session ID, PDU Type, SSC mode, User location information and Access Technology Type Information. In response to the message received from the UE, an AMF may select an SMF and send to the selected SMF a message (e.g. Namf_PDUSession_CreateSMContext Request). The SMF may send to the AMF a response message (e.g. Namf_PDUSession_CreateSMContext Response).</p><p id="p-0209" num="0357">In an example, the SMF may select a PCF and send to the PCF a message (e.g. SM Policy Association Establishment Request) to request PCC rules, and the PCF may provide PCC rules in a response message (e.g. SM Policy Association Establishment response). In an example, the SMF may create a Charging Id for the PDU session and may send a Charging Data Request [initial] message to a CHF for authorization for the subscriber to start the PDU session which is triggered by start of PDU session charging event. In an example, the CHF may open CDR for this PDU session and may acknowledge by sending a Charging Data Response [Initial] to the SMF. In an example, the SMF select a UPF and may initiate an N4 Session Establishment/Modification procedure with the selected UPF. The SMF may interact with the AMF, in an example, the SMF may send to the AMF a Namf_Communication_N1N2MessageTransfer message comprising one or more of: PDU Session ID, QoS Profile(s), CN Tunnel Info, and S-NSSAI from the Allowed NSSAI. In an example, the AMF may interact with (R)AN and UE by sending to the (R)AN a N2 PDU Session Request message comprising the information received from the SMF, indicating the PDU session establishment is accepted.</p><p id="p-0210" num="0358">In an example, the (R)AN may send to the AMF a N2 PDU Session Response message comprising one or more of: PDU Session ID, N2 SM information (PDU Session ID, AN Tunnel Info, List of accepted/rejected QFI(s)), wherein the AN Tunnel Info may be corresponding to the Access Network address of the N3 tunnel corresponding to the PDU Session. In an example, the AMF may send to the SMF a Nsmf_PDUSession_UpdateSMContext Request message comprising the N2 SM information received from (R)AN to the SMF. In an example, the SMF may initiate an N4 Session Modification procedure with the UPF. The SMF may provide AN Tunnel Info to the UPF as well as the corresponding forwarding rules. The UPF may send to the SMF a response message. In an example, the SMF may request quota from CHF, e.g. &#x201c;start of service data flow&#x201d; event may need quota from CHF. The SMF may send a message to the CHF (e.g. Charging Data Request [update]). As an example, for online charging or converged charging, the SMF may request quota from CHF when allocated quota is consumed or a trigger is met to request a quota.</p><p id="p-0211" num="0359">In an example, the UPF may report resource usage of a PDU session to the SMF. As an example, the UPF may report resource usage of a wireless device to the SMF. by enforcing the charging control rules, the SMF may send to the CHF a message (e.g. Charging Data Request [update]) comprising resource usage information received from the UPF. In an example, the CHF may update CDR for this PDU session. The CHF may acknowledge the SMF by sending a Charging Data Response message. In an example, the SMF may send to the AMF a Nsmf_PDUSession_UpdateSMContext Response message.</p><p id="p-0212" num="0360"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a diagram of a first example arrangement of a local location management component (LMC) associated with a base station as per an aspect of an embodiment of the present disclosure. In an example architecture, the LMC may be an internal function of the NG-RAN node. In case of split gNB, the LMC may be located in the gNB-CU-CP. The interface between the LMC and the serving NG-RAN node may be internal, and therefore may minimize the latency between the LMC and serving NG-RAN node. Functions of the NLs interface (e.g. an NL1 interface between an AMF and LMF) could be specified also for the NG-C interface. The characteristics of this example architecture may be that no new interface is needed. The characteristics of this example architecture may be that positioning-related signalling is internal to the gNB when UE positioning involves only transmission and reception points (TRPs) within the NG-RAN node. The characteristics of this example architecture may be that to support location continuity in case of handover, LMC relocation to the target NG-RAN node may be enabled via enhancements to the XnAP Handover Preparation procedure.</p><p id="p-0213" num="0361"><figref idref="DRAWINGS">FIG. <b>18</b></figref> is a diagram of a second example arrangement of an LMC associated with a base station as per an aspect of an embodiment of the present disclosure. In an example architecture, the LMC may be a logical node within the split gNB connected to the gNB-CU-CP via a new interface. This example architecture may require a dedicated interface between the LMC and the serving NG-RAN node. The impacts to the NG-C interface may be the same as the example architecture in <figref idref="DRAWINGS">FIG. <b>17</b></figref>. The characteristics of this example architecture may be that new interface between the LMC and the gNB-CU-CP is needed. The characteristics of this example architecture may be that LMC and gNB-CU-CP may be provided by different vendors. The characteristics of this example architecture may be that offloading of positioning support from a gNB-CU is allowed.</p><p id="p-0214" num="0362"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a diagram of a third example arrangement of an LMC associated with a base station as per an aspect of an embodiment of the present disclosure. In an example architecture, the LMC may be a new logical node outside or inside a NG-RAN, connected to NG-RAN nodes (gNBs and/or ng-eNBs) via a new interface. This example architecture may require a dedicated interface between the LMC and the serving NG-RAN node. The impacts to the NG-C interface may be the same as the example architecture in <figref idref="DRAWINGS">FIG. <b>17</b></figref> and may be supported by the new interface. The characteristics of this example architecture may be that new interface between the LMC and the NG-RAN node is needed. The characteristics of this example architecture may be that LMC and NG-RAN nodes may be provided by different vendors. The characteristics of this example architecture may be that a single LMC may support multiple NG-RAN nodes (i.e. avoid introducing LMC in each individual NG-RAN node). The characteristics of this example architecture may be that offloading of positioning support from a gNB-CU is allowed. The characteristics of this example architecture may be that to support location continuity in case of handover when both source and target NG-RAN nodes are served by the same LMC, LMC relocation may not be needed.</p><p id="p-0215" num="0363"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a diagram of an example architecture for location service as per an aspect of an embodiment of the present disclosure. In an example, an access network may be involved in the handling of various positioning procedures including positioning of a target UE, provision of location related information not associated with a particular target UE and transfer of positioning messages between an AMF or LMF and a target UE. In an example, AFs and NFs may access LCS services from a GMLC in the same trust domain (e.g. in the same PLMN) using the Ngmlc interface or Event Exposure with location information from an AMF in the same trust domain using the Namf interface. LCS clients may access LCS services from a GMLC (e.g. HGMLC) using the Le reference point. External AFs may access LCS services from a NEF using Nnef interface. A Gateway Mobile Location Centre (GMLC) may contain functionality required to support LCS. In one PLMN, there may be more than one GMLC. A GMLC is the first node an external LCS client accesses in a PLMN (i.e. the Le reference point is supported by the GMLC). AFs and NFs may access GMLC directly or via NEF. The GMLC may request routing information and/or target UE privacy information from a UDM via the Nudm interface. After performing authorization of an external LCS Client or AF and verifying target UE privacy, a GMLC may forward a location request to either a serving AMF using Namf interface or to a GMLC in another PLMN using the Ngmlc interface in the case of a roaming UE. A location retrieval function (LRF) may be collocated with a GMLC or separate. The LRF is responsible for retrieving or validating location information, providing routing and/or correlation information for a UE which has initiated an IMS emergency session. The information may be provided by an LRF to an E-CSCF.</p><p id="p-0216" num="0364">In an example, a UE may support positioning with four different modes. A UE may support positioning with UE assisted mode, where the UE may perform location measurements and send the measurements to another entity (e.g. an LMF) to compute a location. A UE may support positioning with UE based mode, where the UE may perform location measurements and computes a location estimate making use of assistance data provided by serving PLMN. A UE may support positioning with standalone mode, where the UE may perform location measurements and compute a location estimate without making use of assistance data provided by serving PLMN. A UE may support positioning with network based mode, where a serving PLMN may perform location measurements of signals transmitted by a target UE and compute a location estimate.</p><p id="p-0217" num="0365">In an example, the transmission of UE signals for network based mode may or may not be transparent to the UE. A limited set of UE positioning capability information may be transferred to the 5GCN during registration of the UE. Some of this positioning capability information may be transferred subsequently to an LMF. UE positioning capability information may also be transferred directly to a location server (e.g. LMF). A UE may support additional functions to support location services. For example, a UE may support location requests received from a network for 5GC-MT-LR, 5GC-NI-LR or a deferred 5GC-MT-LR for periodic or triggered location. For example, a UE may support location requests to a network for a 5GC-MO-LR. For example, a UE may support privacy notification and verification for a 5GC-MT-LR or deferred 5GC-MT-LR for periodic or triggered location. For example, a UE may support sending updated privacy requirements to a serving AMF (for transfer to a UDR via UDM). For example, a UE may support periodic or triggered location reporting to an LMF. For example, a UE may support change of a serving LMF for periodic or triggered location reporting. For example, a UE may support cancelation of periodic or triggered location reporting. For example, a UE may support multiple simultaneous location sessions. For example, a UE may support reception of unciphered and/or ciphered assistance data broadcast by NG-RAN. For example, a UE may support reception of ciphering keys for the assistance data from the AMF.</p><p id="p-0218" num="0366">In an example, an AMF may contain functionality responsible for managing positioning for a target UE for all types of location request. The AMF may be accessible to the GMLC and NEF via the Namf interface, to the RAN via the N2 reference point and to the UE via the N1 reference point. The AMF may perform one or more functions to support location services. For example, the AMF may initiate an NI-LR location request for a UE with an IMS emergency call. For example, the AMF may receive and manage location requests from a GMLC for a 5GC-MT-LR and deferred 5GC-MT-LR for periodic, triggered and UE available location events. For example, the AMF may receive and manage location requests from a UE for a 5GC-MO-LR. For example, the AMF may receive and manage event exposure request for location information from an NEF. For example, the AMF may select an LMF, optionally taking into account UE access type(s), serving AN node, network slicing, QoS, LCS Client type, RAN configuration information, LMF capabilities, LMF load. LMF location, indication of either a single event report or multiple event reports, duration of event reporting. For example, the AMF may receive updated privacy requirements from a UE and transfer to a UDR via UDM. For example, the AMF may support cancelation of periodic or triggered location reporting for a target UE. For example, the AMF may support change of a serving LMF for periodic or triggered location reporting for a target UE. For example, when assistance data is broadcast by 5GS in ciphered form, the AMF may receive ciphering keys from the LMF and forwards to suitably subscribed UEs using mobility management procedures.</p><p id="p-0219" num="0367">In an example, an LMF may manage the overall co-ordination and scheduling of resources required for the location of a UE that is registered with or accessing 5GCN. It may calculate or verify a final location and any velocity estimate and may estimate the achieved accuracy. The LMF may receive location requests for a target UE from the serving AMF using the Nlmf interface. The LMF may interact with the UE in order to exchange location information applicable to UE assisted and UE based position methods. The LMF may interact with the NG-RAN, N3IWF or TNAN in order to obtain location information. The LMF may determine the result of the positioning in geographical co-ordinates. If requested and if available, the positioning result may comprise the velocity of the UE. The LMF may perform additional functions to support location services. For example, the LMF may support a request for a single location received from a serving AMF for a target UE. For example, the LMF may support a request for periodic or triggered location received from a serving AMF for a target UE. For example, the LMF may determine position methods based on UE and PLMN capabilities, QoS and LCS Client type. For example, the LMF may report UE location estimates directly to a GMLC for periodic or triggered location of a target UE. For example, the LMF may support cancelation of periodic or triggered location for a target UE. For example, the LMF may support the provision of broadcast assistance data to UEs via NG-RAN in ciphered or unciphered form and forward any ciphering keys to subscribed UEs via the AMF.</p><p id="p-0220" num="0368">In an example, LMF selection functionality may be used by the AMF to determine an LMF for location estimation of the target UE. If an LMF ID is available in the UE location context or provided by the UE, the AMF may first evaluate if the LMF identified by the LMF ID can be used. The LMF selection functionality may be supported by the LMF if it determines that it is unsuitable or unable to support location for the current UE access network or serving cell for the deferred 5GC-MT-LR procedure for periodic, or triggered location events. LMF reselection may be a functionality supported by AMF when necessary, e.g. due to UE mobility. The AMF may select a new LMF if the AMF determines that LMF identified by the LMF ID may not be used. The AMF may select a new LMF if the LMF ID is not available in the UE location context. The AMF may select a new LMF if the LMF ID is not provided by the UE. The LMF selection may be performed at the AMF or LMF based on the locally available information i.e. LMF profiles are configured locally at AMF or LMF, or by querying NRF. LMF selection may performed when a location request is received at the AMF and the AMF determines to use the LMF for UE position estimation. LMF selection may performed when the subscribed UE event reporting is received. In an example, requested quality of service information may be considered for LMF selection, e.g. LCS accuracy, response time (e.g. latency), and/or Access Type (e.g. 3GPP/N3GPP). For example, location methods may differ depending on the Access Type, e.g. in case of WLAN Access Location determination may just correspond to retrieval of IP addressing information from the N3IWF/TNGF; as another example, for Wireline access, Location determination may just correspond to retrieval of geo coordinates corresponding to a Line Id. In an example, RAT type (i.e. 5G NR or eLTE) and/or the serving AN node (i.e. gNB or NG-eNB) of the target UE may be considered for LMF selection. In an example, RAN configuration information may be considered for LMF selection. In an example, LMF capabilities may be considered for LMF selection. In an example, LMF load may be considered for LMF selection. In an example, LMF location may be considered for LMF selection. In an example, indication of either a single event report or multiple event reports may be considered for LMF selection. In an example, duration of event reporting may be considered for LMF selection. In an example, network slicing information, e.g. S-NSSAI and/or NSI ID may be considered for LMF selection.</p><p id="p-0221" num="0369">In an example, LCS Quality of Service may be used to characterize the location request. It may either be determined by the operator or determined based on the negotiation with the LCS client or the AF. It may be optional for LCS client or the AF to provide the LCS Quality of Service in the location request. LCS Quality of Service information may be characterized by 3 key attributes: LCS QoS class, accuracy, and/or response time. The LCS QoS class may define the degree of adherence by the Location Service to another quality of service parameter (e.g. accuracy), if requested. The 5G system may attempt to satisfy the other quality of service parameter regardless of the use of QoS class. There may be 2 LCS QoS classes, Best Effort class and/or Assured class. For example, a Best Effort class may define the least stringent requirement on the QoS achieved for a location request. If a location estimate obtained does not fulfil the other QoS requirements, it may still be returned but with an appropriate indication that the requested QoS was not met. If no location estimate is obtained, an appropriate error cause may be sent. For example, Assured class may define the most stringent requirement on the accuracy achieved for a location request. If a location estimate obtained does not fulfil the other QoS requirements, then it may be discarded, and an appropriate error cause may be sent.</p><p id="p-0222" num="0370">In existing technologies, a wireless device may lose positioning capabilities during handover. For example, the wireless device may be connected to a first base station. The first base station may support a positioning capability of the wireless device. The wireless device, while it is connected to the first base station, may use the positioning capability to operate in accordance with an application and/or service that depends on the positioning capability. However, if the wireless device hands over to a second base station in accordance with existing technologies, the availability of the positioning capability may be jeopardized. For example, if the second base station does not support the positioning capability of the wireless device, then the positioning capability of the wireless device may be lost upon handover. As a result, handover of the wireless device, which may be necessary for mobility purposes, may prevent the wireless device from reliably operating in accordance with applications and/or services that depend on the positioning capability.</p><p id="p-0223" num="0371">Example embodiments of the present disclosure may provide an enhanced mechanism to support positioning capability control for at least one base station during handover procedure. Example embodiments of the present disclosure may provide enhanced mechanisms to enable a first base station to select a second base station based on a positioning capability of the second base station. By incorporating positioning capability of base stations into handover determinations, the network can reduce the impact of wireless device mobility on the reliability of positioning-reliant applications and/or services.</p><p id="p-0224" num="0372">Example embodiments may provide enhanced mechanisms to enable a first base station to select a second base station for handover based on a positioning type supported by the second base station. For example, a network may request position information associated with a wireless device. The requested position information may specify one or more particular positioning types (e.g., enhanced cell identity (ECID), observed time difference of arrival (OTDOA), network-assisted global navigation satellite system (GNSS), wireless land area network (WLAN) positioning, personal area network positioning (e.g., Bluetooth), terrestrial beacon system (TBS) positioning, barometric pressure sensor positioning, etc.). The specified positioning type may be selected based on a capability of the wireless device, a requirement of the network (e.g., accuracy and/or precision of the position information), or any other suitable characteristic. By incorporating base station information regarding supported positioning type into handover determinations, the network can reduce the impact of wireless device mobility on the reliability of positioning-reliant applications and/or services.</p><p id="p-0225" num="0373">Example embodiments may provide enhanced mechanisms to enable a base station to manage positioning issues that arise relating to handover. For example, a second base station may receive a handover request for a wireless device. The wireless device may be associated with a requested positioning type. For example, the requested positioning type may be indicated by the wireless device and/or a first base station from which the handover request is received. The second base station may not support the requested positioning type. Based on a determination that the second base station does not support the request positioning type, the second base station may request a new positioning type from the network. The new positioning type may be requested in a message to, for example, an AMF. Example embodiments may facilitate better management of position information, thereby reducing the impact of wireless device mobility on the reliability of positioning-reliant applications and/or services.</p><p id="p-0226" num="0374">Example embodiments of the present disclosure may provide enhanced mechanisms to enable an AMF to select a location management function (LMF). For example, an AMF may determine, based on capability information of a second base station, that there are no target base stations that support positioning of a wireless device. For example, the capability information of the second base station may indicate that the second base station does not support a location management component (LMC). If the wireless device is handed over to the second base station, the AMF may determine an LMF. The LMF may facilitate positioning of the wireless device. The LMF determined by the AMF may be indicated to the base station, thereby supporting the network's ability to obtain positioning information of the wireless device after handover.</p><p id="p-0227" num="0375"><figref idref="DRAWINGS">FIG. <b>21</b></figref> shows an example call flow which may comprise one or more actions. In an example, a first base station (e.g., a source base station, illustrated in the figure as BS{1}) may obtain positioning capability information for one or more other base stations (e.g., one or more target base stations, illustrated in the figure as BS{a} and BS{2b}). The one or more other base stations may be, for example, base station in an AMF serving area and/or a tracking area.</p><p id="p-0228" num="0376">In an example, BS{1} may obtain the positioning capability information by local configuration. In an example, BS{1} may obtain the positioning capability information of the one or more other base stations by receiving it from another network entity. In an example, BS{1} may transmit its own positioning capability information to one or more other network entities (e.g., BS{a}, BS{2b}, AMF, NFR, and/or OAM). In an example, BS{1} may receive positioning capability information for a particular base station from that base station (e.g., from BS{2a} and/or BS{2b}).</p><p id="p-0229" num="0377">In an example, the AMF may have positioning capability information of a list of base stations (e.g. base stations in an AMF serving area and/or a tracking area) by local configuration. In an example, the AMF may receive positioning capability information of the list of base stations from another network function (e.g. OAM). For example, the AMF may receive positioning capability information of the list of base stations from the base stations themselves (e.g., BS{1}, BS{2a}, BS{2b}). For example, the AMF may send the positioning capability information of the list of base stations to the base stations in the AMF serving area. For example, the AMF may send the positioning capability information of the at least one second base station to the first base station. For example, the AMF may send the positioning capability information of the first base station to the at least one second base station.</p><p id="p-0230" num="0378">In an example, the OAM and/or NRF may have positioning capability information of a list of base stations (e.g. base stations in an AMF serving area and/or a tracking area, base stations in an OAM/NRF serving area) by local configuration. In an example, the NRF may receive positioning capability information of the list of base stations from another network function (e.g. OAM). For example, the OAM/NRF may receive positioning capability information of the list of base stations from the first base station and/or the at least one second base station. For example, the OAM/NRF may send the positioning capability information of the list of base stations to the base stations in the AMF/OAM/NRF serving area. For example, the OAM/NRF may send the positioning capability information of the at least one second base station to the first base station. For example, the AMF may send the positioning capability information of the first base station to the at least one second base station.</p><p id="p-0231" num="0379">The positioning capability information may indicate whether the base station supports UE positioning. The positioning capability information may indicate a type of UE positioning that is supported by the base station. As an example, the positioning capability information may comprise at least one of: a parameter indicating support of a location management component (LMC) in the base station (e.g. as shown in <figref idref="DRAWINGS">FIG. <b>17</b></figref> or <figref idref="DRAWINGS">FIG. <b>18</b></figref>); a parameter indicating support of an LMC connected to the base station (e.g. as shown in <figref idref="DRAWINGS">FIG. <b>19</b></figref>); a parameter indicating support of Enhanced Cell Identity (ECID) capability; a parameter indicating support of Observed Time Difference of Arrival (OTDOA) capability; a parameter indicating support of network-assisted GNSS methods; a parameter indicating support of WLAN positioning; a parameter indicating support of Bluetooth positioning; a parameter indicating support of Terrestrial Beacon System (TB S) positioning; a parameter indicating support of barometric pressure sensor (BPS) positioning; a parameter indicating no support of an LMC; a parameter indicating no support of a positioning capability; and an identifier of an LMC (LMC ID). The positioning capability information may correspond to the base station and/or a cell (e.g., a cell of the base station).</p><p id="p-0232" num="0380"><figref idref="DRAWINGS">FIG. <b>22</b></figref> shows an example definition of a parameter/information element for the positioning capability information. Any of the positioning capability information described in the current application may have the format shown in <figref idref="DRAWINGS">FIG. <b>22</b></figref>.</p><p id="p-0233" num="0381">Returning to <figref idref="DRAWINGS">FIG. <b>21</b></figref>, in an example, a gateway mobile location center (GMLC) may receive a request message for location services (LCS). The request message may be received from an LCS client. The request message may request a location of a particular UE (e.g., the UE illustrated in the figure). The LCS service request message may comprise a position information request (message). The position information request may have one or more elements/parameters. For example, the positioning information request may comprise one or more positioning information request parameters indicating one or more of the following: at least one positioning type; a priority of the at least one positioning type; a UE identity of the UE for which position information is requested (e.g. GPSI and/or SUPI), a required QoS, Supported GAD shapes, an LCS client type. The positioning type may indicate a type of positioning. The positioning type may comprise at least one of: a parameter indicating positioning of Enhanced Cell Identity (ECID); a parameter indicating positioning of Observed Time Difference of Arrival (OTDOA); a parameter indicating WLAN positioning; a parameter indicating Bluetooth positioning; a parameter indicating Terrestrial Beacon System (TBS) positioning; a parameter indicating barometric pressure sensor positioning; and/or a parameter indicating an accuracy of positioning (e.g. 10 centimeters). The priority of the at least one positioning type may indicate one or more prioritized positioning types, one or more non-prioritized positioning types, and/or a priority of each of one or more respective positioning types. For example, an application in the LCS client may prefer a positioning type of ECID and may accept the positioning type of OTDOA and/or WLAN position. The LCS client may send to the GMLC a LCS service request message, the LCS service request message may comprise a first parameter indicating a positioning type of ECID; a second parameter indicating a priority value 1 for the positioning type of ECID; a third parameter indicating a positioning type of OTDOA; a fourth parameter indicating a priority value 2 for the positioning type of OTDOA; a fifth parameter indicating a WLAN positioning; and/or a sixth parameter indicting a priority value 3 for the WLAN positioning, wherein the priority value 1 may be the highest priority and the priority value 3 may be the lowest priority compare to the highest priority. The required QoS may comprise at least one of: accuracy of the positioning, response time for the positioning request, LCS QoS class. The LCS client type may comprise at least one of: emergency services, value added services, PLMN operator services, and/or lawful intercept services.</p><p id="p-0234" num="0382">In response to the message received from the LCS client, the GMLC may send a message (e.g. Nudm_UECM_Get) to a home UDM of the UE (not shown). The message may comprise one or more of the position information request parameters described above, for example, the UE identity (e.g. GPSI and/or SUPI). The home UDM may send serving AMF information (e.g. AMF identity and/or AMF address) of the UE to the GMLC. In response to the message received from the LCS client and/or the message received from the UDM, the GMLC may send to the (serving) AMF a message (illustrated as positioning info request). The position information request may comprise one or more of the position information request parameters described above, for example, one or more of the parameters included in the LCS service request. The position information request may be a Namf_Location_ProvidePositioningInfo service operation to request the current location of the UE.</p><p id="p-0235" num="0383">In response to the message received from the GMLC, based on UE registration information and/or UE subscription information, the (serving) AMF may determine that BS{1} is a serving base station for the UE. The AMF may send a message to BS{1} and/or LMC{1} requesting the UE position. The message may be a position information request. The position information request may comprise one or more of the position information request parameters described above, for example, one or more of the parameters received from the GMLC. For example, the AMF may send a Nlmf_Location_DetermineLocation (service operation) message to BS{1} and/or LMC{1}. For example, the AMF may use NGAP protocol for the message sent to BS{1} and/or LMC{1}. For example, the AMF may send a DOWNLINK UE ASSOCIATED NRPPA TRANSPORT message to BS{1} and/or LMC{1}. For example, the AMF may send a NGAP DL Transfer message to BS{1} and/or LMC{1}, and the NGAP DL Transfer message may comprise a Nlmf_Location_DetermineLocation (service operation) message. The position information request (message) may have one or more elements/parameters. For example, the positioning information request may comprise one or more positioning information request parameters indicating one or more of the following: at least one positioning type; a priority of the at least one positioning type; a UE identity of the UE for which position information is requested (e.g. GPSI and/or SUPI), a required QoS, Supported GAD shapes, an LCS client type, a priority of a LCS client (e.g. &#x201c;HIGHEST_PRIORITY&#x201d;, &#x201c;NORMAL_PRIORITY&#x201d;), a correlation ID, an identity of the AMF (e.g. an identifier and/or an address of the AMF), ECGI, NCGI, and/or velocity Requested (e.g. &#x201c;VELOCITY_IS_REQUESTED&#x201d;, &#x201c;VELOCITY_IS_NOT_REQUESTED&#x201d;). The correlation ID may be used to identify a positioning transaction (e.g. a NGAP DL Transfer and an associated NGAP UL Transfer) and/or a positioning message (e.g. NGAP DL Transfer and/or Nlmf_Location_DetermineLocation (service operation)).</p><p id="p-0236" num="0384">In response to the message received from the AMF, the BS{1} and/or LMC{1} may take one or more actions. In an example action, based on the message received from the AMF and/or the positioning capability information of the UE, BS{1} and/or LMC{1} may determine a positioning type for the UE to measure the UE position/location. For example, based on the at least one positioning type, the priority of the at least one positioning type, and/or the positioning capability information of the UE, BS{1} and/or LMC{1} may determine a positioning type for the UE. For example, the at least one positioning type may indicate a ECID and/or the priority of the at least one positioning type may indicate that ECID has a higher priority than other positioning types, and the positioning capability information of the UE may indicate that the UE supports ECID and/or OTDOA, based on above information, BS{1} and/or LMC{1} may determine ECID as the positioning type for the UE to measure the UE position/location. The positioning capability information of the UE may indicate positioning type/method supported by the UE. For example, positioning capability information of the UE may comprise at least one of: a parameter indicating UE supporting Enhanced Cell Identity (ECID); a parameter indicating UE supporting Observed Time Difference of Arrival (OTDOA); a parameter indicating UE supporting network-assisted GNSS methods; a parameter indicating UE supporting WLAN positioning; a parameter indicating UE supporting Bluetooth positioning; a parameter indicating UE supporting Terrestrial Beacon System (TB S) positioning; and/or a parameter indicating UE supporting barometric pressure sensor positioning. For example, BS{1} may have the positioning capability information of the UE by local configuration. For example, BS{1} may receive the positioning capability information of the UE from a network entity (e.g. OAM). For example, BS{1} may receive the positioning capability information of the UE from the UE.</p><p id="p-0237" num="0385">In an example action, BS{1} and/or LMC{1} may send to the UE a message requesting the UE position. The message may be a position information request. The position information request may comprise one or more of the position information request parameters described above, for example, one or more of the parameters received from the AMF. For example, LTE positioning protocol (LPP) may be used for the positioning signalling between LMC{1} of BS{1} and the UE, and the LPP may be transported in an RRC message container. For example, BS{1} and/or LMC{1} may send a DLInformationTransfer message to the UE, and the DLInformationTransfer message may comprise the position information request or one or more parameters thereof, as described previously. In an example, the DLInformationTransfer message and/or the position information request sent by BS{1} and/or LMC{1} to the UE may comprise a RequestLocationInformation message body.</p><p id="p-0238" num="0386"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is an example diagram of the RequestLocationInformation message body described above. As illustrated in <figref idref="DRAWINGS">FIG. <b>23</b></figref>, the RequestLocationInformation message body may comprise one or more information elements.</p><p id="p-0239" num="0387">Returning to <figref idref="DRAWINGS">FIG. <b>21</b></figref>, in response to the message received from BS{1} and/or LMC{1}, the UE may perform (or attempt to perform) a UE positioning procedure. As will be discussed in greater detail below, if handover is determined, the UE positioning procedure may not be started/completed. To perform the UE positioning procedure, the UE may determine a positioning type (e.g., a method of determining UE position) based on the message received from BS{1} and/or LMC{1}. For example, based on the at least one positioning type and/or the priority of the at least one positioning type and/or UE positioning capability, the UE may determine a positioning type/method for UE positioning. For example, the message received by the UE from BS{1} and/or LMC{1} may indicate that a positioning type of ECID has a higher priority (e.g. priority value 1) than other positioning type and the UE may support the positioning type of ECID, the UE may determine to perform positioning measurement by using ECID positioning method/technology. For example, the message received by the UE from BS{1} and/or LMC{1} may indicate that a supported positioning type of OTDOA has a higher priority (e.g. priority value 1) than a supported positioning type of WLAN (e.g. priority value 2), and the UE may not support the positioning type of OTDOA, the UE may determine to perform positioning measurement by using WLAN positioning method/technology.</p><p id="p-0240" num="0388">During the UE positioning procedure (e.g. before the UE has started/finished the UE positioning procedure), the UE may move to a new area (e.g. new cell, new tracking area). The UE may send measurement report to BS{1}. The measurement report may comprise a radio signal measurement of one or more cells and/or base stations. In response to the message received from the UE, BS{1} may take one or more actions. In an example action, based on the measurement report, BS{1} may determine a handover for the UE. In an example action, based on the measurement report of one or more cells and/or base stations, and/or based on the positioning capability information of the at least one second base station, and/or based on the at least one positioning type (e.g. requested by the AMF/GMLC/LCS client) and/or the priority of the at least one positioning type, and/or based on the UE positioning capability, BS{1} (e.g. source base station) may determine a target base station for the handover.</p><p id="p-0241" num="0389">As an example, the measurement report may indicate that the radio signal of BS{2b} is better than the radio signal of BS{2a}. The positioning capability information may indicate that BS{2b} does not support an LMC and may further indicate that BS{a} supports LMC{2a}. Based on above information, BS{1} may determine/select the BS{a} as the target base station. BS{1} may determine/select the BS{2a} as the target base station despite the indication that the radio signal of BS{2b} is better than the radio signal of BS{2a}.</p><p id="p-0242" num="0390">As an example, the measurement report may indicate that the radio signal of BS{2b} is better than BS{2a}. The positioning capability information may indicate that BS{a} supports LMC{2a} and that LMC{2a} supports an ECID positioning method/technology. The positioning capability information may indicate that the BS{2b} supports an LMC{2b} (not illustrated in the figure) and that LMC{2b} does not support the ECID positioning method/technology. The at least one positioning type in the positioning information request may indicate ECID and/or may indicate that a priority of ECID is higher than other positioning types. Based on the above information, BS{1} may determine/select BS{a} (which has an LMC that supports ECID) as the target base station. BS{1} may determine/select the BS{a} as the target base station despite the indication that the radio signal of BS{2b} is better than the radio signal of BS{a} and despite the indication that the BS{2b} supports an LMC. In this example, ECID is the high-priority positioning type, but it will be understood that there may be a hierarchy of positioning types, and that any positioning type may have any priority.</p><p id="p-0243" num="0391">In an example action, BS{1} (e.g. the source base station) may send a message (e.g. handover request) to the target base station (e.g. BS{2a}) for the handover. In an example, the handover request message may comprise the position information request or parameters/elements thereof. In an example, the handover request message may comprise the positioning capability of the UE.</p><p id="p-0244" num="0392">In an example, the handover request message may comprise a transparent RRC container with necessary information to prepare the handover at the target side. For example, the handover request message may comprise at least one of: target cell ID, KgNB*, C-RNTI of the UE in BS{1}, RRM-configuration comprising UE inactive time, basic AS-configuration comprising antenna Info and DL Carrier Frequency, current QoS flow to DRB mapping rules applied to the UE, SIB1 from BS{1}, UE capabilities for different RATs, PDU session related information, and/or UE reported measurement information comprising beam-related information if available. The PDU session related information may comprise the slice information and/or QoS flow level QoS profile(s).</p><p id="p-0245" num="0393">In response to the message received from BS{1}, the BS{2a} and/or LMC{2a} may take one or more actions. In an example action, the BS{2a} and/or LMC{2a} may determine a positioning type for the UE. The determined positioning type may be determined based on one or more of the following: the message received from BS{1} or elements thereof (e.g., a position information request parameter indicating a positioning type and/or a priority thereof); the positioning capability of the UE; and/or the positioning capability of the BS{2a} and/or LMC{2a} For example, based on the at least one positioning type (e.g. requested by the AMF/GMLC/LCS client), and/or the priority of the at least one positioning type, and/or the positioning capability information of the UE, and/or the positioning capability information of the BS{2a} and/or LMC{2a}, the BS{2a} and/or LMC{2a} may determine a second positioning method/type for the UE. For example, the at least one positioning type may indicate an ECID positioning type and/or the priority of the at least one positioning type may indicate that ECID has a higher priority than other positioning types. The positioning capability information of the UE may indicate that the UE supports ECID and/or OTDOA. The positioning capability information of the BS{2a} and/or LMC{2a} may indicate that the BS{2a} and/or LMC{2a} support ECID, OTDOA and/or WLAN positioning. Based on above information, the BS{2a} and/or LMC{2a} may determine ECID as the second positioning type for the UE to measure the UE position/location.</p><p id="p-0246" num="0394">In an example action, the BS{2a} and/or LMC{2a} may send a response message (e.g. handover request acknowledge) to BS{1}. The handover request acknowledge message may comprise at least one of: positioning capability information of the BS{2a} and/or LMC{2a}, and/or a parameter indicating that the BS{2a} and/or LMC{2a} support the positioning type requested in the handover request message. In an example, the positioning capability information of the BS{2a} and/or LMC{2a} may indicate that the BS{2a} and/or LMC{2a} support the positioning type requested in the handover request message. In an example, the handover request acknowledge message may comprise a transparent container to be sent to the UE as an RRC message to perform the handover. In an example, there may be other procedures (e.g. among the UE, BS{1} and the BS{2a}) to complete the handover.</p><p id="p-0247" num="0395">In an example, after completion of handover (e.g. after the BS{2a} receives a RRCReconfigurationComplete message from the UE), the BS{2a} and/or LMC{2a} may send a position information request to the UE. For example, the BS{2a} and/or LMC{2a} may send a position information request message to the UE. For example, LPP may be used for the positioning signalling between an BS{2a} and/or LMC{2a} and the UE, and the LPP may be transported in an RRC message container. For example, the BS{2a} and/or LMC{2a} may send a DLInformationTransfer message to the UE, and the DLInformationTransfer message may comprise the position information request or one or more parameters thereof, as described previously. In an example, the DLInformationTransfer message and/or the position information request sent by the BS{2a} and/or LMC{2a} to the UE may comprise a RequestLocationInformation message body, where the RequestLocationInformation message body may comprise one or more information elements as shown in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0248" num="0396">In an example, the BS{2a} and/or LMC{2a} may initiate the UE positioning procedure after the completion of the UE handover. In an example, the BS{a} and/or LMC{2a} may initiate the UE positioning procedure during the UE handover (e.g. before receiving the RRCReconfigurationComplete message from the UE). In an example, there may be one or more actions for the BS{a} and/or LMC{2a} and/or the UE for the UE positioning procedure (e.g. to determine the position/location of the UE). For example, the LMC{2a} may instigate location procedures internal to the BS{a}, e.g. to obtain positioning measurements or assistance data. The LMC{2a} may also instigate location procedures with neighbor base stations (e.g. BS{2b}), e.g. to obtain assistance data such as PRS configuration of TPs served by the neighbor NG-RAN node(s). For example, the LMC{2a} may instigate location procedures with the UE, e.g. to obtain a location estimate or positioning measurements or to transfer location assistance data to the UE. For example, the UE may store any assistance data received from the BS{a} and/or LMC{2a} and may perform any positioning measurements and/or location computation requested by the BS{a} and/or LMC{2a}. For example, the UE may send to the BS{2a} and/or LMC{2a} a message (e.g. Positioning Information Response) comprising at least one of: the UE identity (e.g. GPSI, SUPI and/or PEI), the correlation ID, the identity of the AMF (e.g. an identifier and/or an address of the AMF), locationEstimate, accuracyFulfilmentlndicator, ageOfLocationEstimate, velocityEstimate, civicAddress, positioningDataList, gnssPositioningDataList, ECGI, NCGI, altitude, and/or barometricPressure. For example, the LMC{2a} may respond to the requesting function in the BS{a} and may comprise any needed results, e.g. success or failure indication and, if requested and obtained, a location estimate for the UE. The locationEstimate may indicate estimated location for the UE (e.g. an estimate of the location of the UE in universal coordinates and the accuracy of the estimate). The accuracyFulfilmentlndicator may indicate whether the requested accuracy was fulfilled or not. The ageOfLocationEstimate may indicate how long ago the location estimate was obtained. The velocityEstimate may indicate estimated velocity for the UE. The civicAddress may indicate address information of the UE (e.g. street, state, country). The positioningDataList may indicate the usage of each non-GANSS positioning method that was attempted to determine the location estimate, either successfully or unsuccessfully. The gnssPositioningDataList may indicate the usage of each GANSS positioning method that was attempted to determine the location estimate, either successfully or unsuccessfully. The E-UTRAN Cell Global Identifier (ECGI) may be used to identify cells globally. The ECGI may comprise a PLMN identity, a E-UTRAN Cell Identifier (ECI) and/or a network identifier. In 5G, the New Radio cell may be given a NR Cell Global Identity (NCGI). The NCGI may comprise a PLMN identity, a NR Cell Identity (NCI) and/or a network identifier. The altitude may indicate the height of the UE in relation to sea level or ground level. The barometricPressure may indicate a barometric pressure measurement (e.g. uncompensated atmospheric pressure in units of Pascal) as reported by the UE.</p><p id="p-0249" num="0397">In response to the UE positioning procedure, based on the identity of the AMF, the BS{2a} and/or LMC{2a} may send to the AMF a message. For example, the BS{2a} and/or LMC{2a} may send to the AMF a position information response. For example, the BS{a} and/or LMC{2a} may send to the AMF Nlmf_Location_DetermineLocation response message. For example, the BS{a} and/or LMC{2a} may use NGAP protocol for the message sent to the AMF. For example, the BS{a} and/or LMC{2a} may send a UPLINK UE ASSOCIATED NRPPA TRANSPORT message to the AMF. For example, the BS{a} and/or LMC{2a} may send a NGAP UL Transfer message to the AMF, and the NGAP UL Transfer message may comprise a Nlmf_Location_DetermineLocation response message. The message (e.g. NGAP UL Transfer and/or Nlmf_Location_DetermineLocation response) sent by the BS{a} and/or LMC{2a} to the AMF may comprise any needed results, e.g. success or failure indication and, if requested and obtained, a location estimate for the UE. For example, the message (e.g. NGAP UL Transfer and/or Nlmf_Location_DetermineLocation response) sent by the BS{a} and/or LMC{2a} to the AMF may comprise the UE position/location information before the handover and/or the UE position/location information after the handover. For example, the UE position/location information may comprise at least one of: the locationEstimate, the accuracyFulfilmentlndicator, the ageOfLocationEstimate, the velocityEstimate, the civicAddress, the positioningDataList, the gnssPositioningDataList, the ECGI, the NCGI, the altitude, and/or the barometricPressure. For example, The message (e.g. NGAP UL Transfer and/or Nlmf_Location_DetermineLocation response) sent by the BS{a} and/or LMC{2a} to the AMF may comprise at least one of: the UE identity (e.g. GPSI, SUPI and/or PEI), the correlation ID, the identity of the AMF, the locationEstimate, the accuracyFulfilmentIndicator, the ageOfLocationEstimate, the velocityEstimate, the civicAddress, the positioningDataList, the gnssPositioningDataList, the ECGI, the NCGI, the altitude, and/or the barometricPressure.</p><p id="p-0250" num="0398">In response to the message received from the BS{2a} and/or LMC{2a}, the AMF may take one or more actions. In an example action, based on the information element received from the BS{2a} and/or LMC{2a}, the AMF may associate the message received from the BS{2a} and/or LMC{2a} and the message sent to BS{1}. For example, based on the UE identity (e.g. GPSI, SUPI and/or PEI), the correlation ID, and/or the identity of the AMF, the AMF may associate the message (e.g. NGAP UL Transfer and/or Nlmf_Location_DetermineLocation response) received from the BS{2a} and/or LMC{2a} with the message (e.g. NGAP DL Transfer and/or Nlmf_Location_DetermineLocation) sent to BS{1}. For example, based on the association of the message received from the BS{2a} and/or LMC{2a} with the message sent to BS{1}, the AMF may associate the UE position/location information with the message (e.g. position information request, Namf_Location_ProvidePositioningInfo service operation) received from the GMLC. For example, based on the UE identity (e.g. GPSI, SUPI and/or PEI), the correlation ID, and/or the identity of the AMF received from the BS{2a} and/or LMC{2a}, the AMF may associate the UE position/location information with the message (e.g. position information request, Namf_Location_ProvidePositioningInfo service operation) received from the GMLC.</p><p id="p-0251" num="0399">In an example action, in response to the message received from the GMLC, the AMF may send to the GMLC a response message (e.g. Positioning Information Response, Namf_Location_ProvidePositioningInfo Response) providing the location of the UE. The Namf_Location_ProvidePositioningInfo Response message may comprise at least one of: the UE identity (e.g. GPSI, SUPI and/or PEI), the correlation ID, the identity of the AMF, the positioning type, the locationEstimate, the accuracyFulfilmentIndicator, the ageOfLocationEstimate, the velocityEstimate, the civicAddress, the positioningDataList, the gnssPositioningDataList, the ECGI, the NCGI, the altitude, and/or the barometricPressure.</p><p id="p-0252" num="0400">In response to the message received from the AMF and/or in response to the message received from the LCS client, the GMLC may send a response message (e.g. LCS Service Response) to the LCS client reporting the UE location. The LCS Service Response message may comprise at least one of: the UE identity (e.g. GPSI, SUPI and/or PEI), the positioning type, the locationEstimate, the accuracyFulfilmentIndicator, the ageOfLocationEstimate, the velocityEstimate, the civicAddress, the positioningDataList, the gnssPositioningDataList, the ECGI, the NCGI, the altitude, and/or the barometricPressure. In an example, there may be other actions (e.g. the interaction with AMF) to complete the handover procedure.</p><p id="p-0253" num="0401"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is an example diagram depicting the procedures of a source base station as per an aspect of an embodiment of the present disclosure. The source base station may correspond to the BS{1} illustrated in <figref idref="DRAWINGS">FIG. <b>21</b></figref> and described above.</p><p id="p-0254" num="0402"><figref idref="DRAWINGS">FIG. <b>25</b></figref> shows an example call flow which may comprise one or more actions. In an example, a first base station (e.g., a source base station, illustrated as BS{1}) may obtain positioning capability information for one or more other base stations (e.g., one or more target base stations, illustrated in the figure as BS-PD. The UE may receive a positioning information request from, for example, BS{1}, the AMF, the GMLC, and/or an LCS client. The UE may send a measurement report to BS{1}, which may be a serving base station of the UE. These processes may be similar to the processes described above with respect to <figref idref="DRAWINGS">FIG. <b>21</b></figref>. For brevity, further description will not be repeated here.</p><p id="p-0255" num="0403">In <figref idref="DRAWINGS">FIG. <b>25</b></figref>, BS{1} may determine that BS{2} is a target for handover. The determining may occur prior to completion of a requested UE positioning procedure.</p><p id="p-0256" num="0404">In the example of <figref idref="DRAWINGS">FIG. <b>25</b></figref>, there may not be an interface (e.g. Xn interface) between BS{1} and BS{2}. In an example action, BS{1} (e.g. source base station) may send a message to BS{2} (e.g. target base station) for the handover. The message may be sent via the AMF. For example, BS{1} may send a handover required message to the AMF. In an example, the handover required message may comprise the position information request or parameters/elements thereof, as described above. For example, the handover required message may comprise at least one of: an identity of the BS{2}, at least one positioning type, a priority of the at least one positioning type, the UE identity (e.g. GPSI, SUPI and/or PEI), the required QoS, the Supported GAD shapes, the LCS client type, a priority of a LCS client (e.g. &#x201c;HIGHEST_PRIORITY&#x201d;, &#x201c;NORMAL_PRIORITY&#x201d;), a correlation ID, an identity of the AMF (e.g. an identifier and/or an address of the AMF), ECGI, NCGI, the velocity Requested (e.g. &#x201c;VELOCITY_IS_REQUESTED&#x201d;, &#x201c;VELOCITY_IS_NOT_REQUESTED&#x201d;), an identifier of the LMC of the source base station (e.g., LMC{1}), the positioning capability of the UE and/or the RequestLocationInformation message body as shown in <figref idref="DRAWINGS">FIG. <b>23</b></figref>. In an example, the handover required message may comprise a transparent RRC container with necessary information to prepare the handover at the target side. For example, the handover required message may comprise at least one of: the identity of BS{2} and/or a target cell ID, KgNB*, C-RNTI of the UE in BS{1}, RRM-configuration comprising UE inactive time, basic AS-configuration comprising antenna Info and DL Carrier Frequency, current QoS flow to DRB mapping rules applied to the UE, SIB1 from BS{1}, UE capabilities for different RATs, PDU session related information, and/or UE reported measurement information comprising beam-related information if available. The PDU session related information may comprise the slice information and/or QoS flow level QoS profile(s).</p><p id="p-0257" num="0405">In response to the message received from BS{1}, based on the identity of BS{2} and/or the target cell ID, the AMF may determine/select BS{2} for handover. The AMF may send to BS{2} a message (e.g. handover request). The handover request message may comprise one or more parameters of the handover required message. For example, the handover request message may comprise the position information request or parameters thereof. For example, the handover request message may comprise an identifier of the source LCM, LCM{1}.</p><p id="p-0258" num="0406">In response to the message received from BS{1}/AMF, the BS{2} and/or LMC{2} may take one or more actions. In an example action, based on the message received from BS{1} and/or the positioning capability information of the BS{2} and/or LMC{2}, the BS{2} and/or LMC{2} may determine a second positioning type for the UE to measure the UE position/location. For example, based on the at least one positioning type, and/or the priority of the at least one positioning type, and/or the positioning capability information of the UE, and/or the positioning capability information of the BS{2} and/or LMC{2}, the BS{2} and/or LMC{2} may determine a second positioning type for the UE. For example, the at least one positioning type may indicate a ECID and/or the priority of the at least one positioning type may indicate that ECID has a higher priority than other positioning types, and the positioning capability information of the UE may indicate that the UE supports ECID and/or OTDOA, the positioning capability information of the BS{2} and/or LMC{2} may indicate that the BS{2} and/or LMC{2} may support ECID, OTDOA and/or WLAN positioning, based on above information, the BS{2} and/or LMC{2} may determine ECID as the second positioning type for the UE to measure the UE position/location.</p><p id="p-0259" num="0407">In an example action, the BS{2} and/or LMC{2} may send a response message (e.g. handover request acknowledge) to BS{1} via the AMF. The handover request acknowledge message may comprise at least one of: positioning capability information of the BS{2} and/or LMC{2} and/or a parameter indicating that the BS{2} and/or LMC{2} supports the positioning type requested in the handover request message. In an example, the positioning capability information of the BS{2} and/or LMC{2} may indicate that the BS{2} and/or LMC{2} supports the positioning type requested in the handover request message. In an example, the handover request acknowledge message may comprise a transparent container to be sent to the UE as an RRC message to perform the handover.</p><p id="p-0260" num="0408">Following the UE positioning procedure, the UE, BS{2} and/or LMC{2} may report the position information to the AMF, GMLC, and/or LCS client. These processes may be similar to the processes described above with respect to <figref idref="DRAWINGS">FIG. <b>21</b></figref>. For brevity, further description will not be repeated here.</p><p id="p-0261" num="0409"><figref idref="DRAWINGS">FIG. <b>26</b></figref> shows an example call flow which may comprise one or more actions. In an example, a first base station (e.g., a source base station, illustrated as BS{1}) may obtain positioning capability information for one or more other base stations (e.g., one or more target base stations, illustrated in the figure as BS-PD. The UE may receive a positioning information request from, for example, BS{1}, the AMF, the GMLC, and/or an LCS client. The UE may send a measurement report to BS{1}, which may be a serving base station of the UE. These processes may be similar to the processes described above with respect to <figref idref="DRAWINGS">FIG. <b>21</b></figref>. For brevity, further description will not be repeated here.</p><p id="p-0262" num="0410">In <figref idref="DRAWINGS">FIG. <b>26</b></figref>, BS{1} may determine that BS{2} is a target for handover. The determining may occur prior to completion of a requested UE positioning procedure. In an example action, BS{1} (e.g. source base station) may send a message (e.g. handover request) to BS{2} (e.g. target base station) for the handover. In an example, the handover request message may comprise the position information request or parameters/elements thereof, as described above.</p><p id="p-0263" num="0411">In an example action, based on the message received from BS{1} and/or the positioning capability information of the BS{2} and/or LMC{2}, the BS{2} and/or LMC{2} may determine to request a new positioning type from the AMF. The new positioning type may be different from the at least one first positioning type requested by the LCS client, GMLC, AMF, and/or BS{1}. For example, based on the at least one positioning type, and/or the priority of the at least one positioning type, and/or the positioning capability information of the UE, and/or the positioning capability information of the BS{2} and/or LMC{2}, the BS{2} and/or LMC{2} may determine that it may not support the at least one first positioning type, and may need to request a new positioning type from the AMF. For example, the at least one first positioning type may indicate an OTDOA, the positioning capability information of the UE may indicate that the UE supports OTDOA and/or ECID, the positioning capability information of the BS{2} and/or LMC{2} may indicate that the BS{2} and/or LMC{2} supports ECID, based on above information, the BS{2} and/or LMC{2} may determine it may not support the at least one first positioning type, and it may need to request a new positioning type from the AMF. For example, the BS{2a} and/or LMC{2a} may send to the AMF a message (e.g. positioning type request, PATH SWITCH REQUEST). The PATH SWITCH REQUEST may comprise at least one of: a handover indication indicating a handover for the UE, one or more parameters of the handover request message (e.g. the position information request or parameters thereof, as described above, the at least one positioning type, the priority of the at least one positioning type, the positioning capability of the UE, and/or the RequestLocationInformation message body), the positioning capability information of the BS{2} and/or LMC{2}, and/or an identity of the BS{2} and/or LMC{2}.</p><p id="p-0264" num="0412">In response to the message received from the BS{2} and/or LMC{2}, the AMF may take one or more actions. In an example action, based on the message received from the BS{2} and/or LMC{2}, the AMF may determine a new positioning type for the UE, where the new positioning type may be different from the at least one first positioning type requested by the LCS client, GMLC, AMF, and/or BS{1}. For example, based on handover indication, and/or the positioning capability information of the BS{2} and/or LMC{2}, and/or the at least one first positioning type, and/or the priority of the at least one positioning type, and/or the positioning capability information of the UE, the AMF may determine a new positioning type for the UE. For example, the at least one first positioning type may indicate an OTDOA, the positioning capability information of the BS{2} and/or LMC{2} may indicate that the BS{2} and/or LMC{2} supports ECID, the positioning capability information of the UE may indicate that the UE supports OTDOA and/or ECID, and based on above information, the AMF may determine a new positioning type of ECID for the UE. For example, the at least one positioning type may indicate an ECID and/or OTDOA positioning, the priority of the at least one positioning type may indicate the ECID has a higher priority, the positioning capability information of the BS{2} and/or LMC{2} may indicate that the BS{2} and/or LMC{2} supports OTDOA, the positioning capability information of the UE may indicate that the UE supports OTDOA, WLAN positioning and/or ECID, and based on above information, the AMF may determine a new positioning type of OTDOA for the UE.</p><p id="p-0265" num="0413">In an example action, the AMF may send a message to the BS{2} and/or LMC{2}. For example, the AMF may send a position information request to the BS{2} and/or LMC{2}. For example, the AMF may send a Nlmf_Location_DetermineLocation (service operation) message to the BS{2} and/or LMC{2}. For example, the AMF may use NGAP protocol for the message sent to the BS{2} and/or LMC{2}. For example, the AMF may send a DOWNLINK UE ASSOCIATED NRPPA TRANSPORT message to the BS{2} and/or LMC{2}. For example, the AMF may send a NGAP DL Transfer message to the BS{2} and/or LMC{2}, and the NGAP DL Transfer message may comprise a Nlmf_Location_DetermineLocation (service operation) message. The message (e.g. Positioning Information Request, NGAP DL Transfer and/or Nlmf_Location_DetermineLocation (service operation)) sent by the AMF to the BS{2} and/or LMC{2} may comprise at least one of: the new positioning type, the UE identity (e.g. GPSI, SUPI and/or PEI), the required QoS, the Supported GAD shapes, the LCS client type, a priority of a LCS client (e.g. &#x201c;HIGHEST_PRIORITY&#x201d;, &#x201c;NORMAL_PRIORITY&#x201d;), a second correlation ID, the identity of the AMF, ECGI, NCGI, and/or velocity Requested. The second correlation ID may be used to identify a positioning transaction (e.g. a NGAP DL Transfer and an associated NGAP UL Transfer) and/or a positioning message (e.g. NGAP DL Transfer and/or Nlmf_Location_DetermineLocation (service operation)). The second correlation ID may be the same as the correlation ID sent by the AMF to BS{1}.</p><p id="p-0266" num="0414">Although not shown in <figref idref="DRAWINGS">FIG. <b>26</b></figref>, the BS{2} and/or LMC{2} may determine the new positioning method for BS{2} without requesting assistance from the AMF. For example, in response to the handover request message received from BS{1}, the BS{2} and/or LMC{2} may take one or more actions. In an example action, based on the handover request message received from BS{1} and/or the positioning capability information of the BS{2} and/or LMC{2}, the BS{2} and/or LMC{2} may determine a new positioning type for the UE. The new positioning type may be different from the at least one first positioning type requested by the LCS client, GMLC, AMF, and/or BS{1}. For example, based on the at least one first positioning type, and/or the priority of the at least one positioning type, and/or the positioning capability information of the UE, and/or the positioning capability of the BS{2} and/or LMC{2}, the BS{2} and/or LMC{2} may determine a new positioning method/type for the UE. For example, the at least one first positioning type may indicate an OTDOA, the positioning capability information of the UE may indicate that the UE supports OTDOA and/or ECID, the positioning capability information of the BS{2} and/or LMC{2} may indicate that the BS{2} and/or LMC{2} supports ECID, based on above information, the BS{2} and/or LMC{2} may determine that ECID will be the new positioning type for the UE. For example, the at least one first positioning type may indicate an OTDOA and/or WLAN positioning, the priority of the at least one positioning type may indicate the OTDOA has a higher priority, the positioning capability information of the UE may indicate that the UE supports OTDOA, WLAN positioning and/or ECID, the positioning capability information of the BS{2} and/or LMC{2} may indicate that the BS{2} and/or LMC{2} supports ECID, and based on above information, the BS{2} and/or LMC{2} may determine that ECID will be the new positioning type for the UE.</p><p id="p-0267" num="0415">After the new positioning type has been determined (e.g., obtained from the AMF upon request by the BS{2} and/or LMC{2}, or determined by the BS{2} and/or LMC{2} themselves), the BS{2} and/or LMC{2} may send to BS{1} a message (e.g. handover request acknowledge). The handover request acknowledge message may comprise the new positioning type and/or a parameter indicating that the BS{2} and/or LMC{2} supports the new positioning type. In an example, the handover request acknowledge message may comprise a transparent container to be sent to the UE as an RRC message to perform the handover.</p><p id="p-0268" num="0416">Following the UE positioning procedure, the UE, BS{2} and/or LMC{2} may report the position information to the AMF, GMLC, and/or LCS client. These processes may be similar to the processes described above with respect to <figref idref="DRAWINGS">FIG. <b>21</b></figref>. For brevity, further description will not be repeated here.</p><p id="p-0269" num="0417"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is an example diagram depicting the procedures of a target base station as per an aspect of an embodiment of the present disclosure. The target base station may correspond to the BS{2} illustrated in <figref idref="DRAWINGS">FIG. <b>26</b></figref> and described above.</p><p id="p-0270" num="0418"><figref idref="DRAWINGS">FIG. <b>28</b></figref> shows an example call flow which may comprise one or more actions. In an example, a first base station (e.g., a source base station, illustrated as BS{1}) may obtain positioning capability information for one or more other base stations (e.g., one or more target base stations, illustrated in the figure as BS-PD. The UE may receive a positioning information request from, for example, BS{1}, the AMF, the GMLC, and/or an LCS client. The UE may send a measurement report to BS{1}, which may be a serving base station of the UE. These processes may be similar to the processes described above with respect to <figref idref="DRAWINGS">FIG. <b>21</b></figref>. For brevity, further description will not be repeated here.</p><p id="p-0271" num="0419">In <figref idref="DRAWINGS">FIG. <b>28</b></figref>, BS{1} may not be able to determine/select a target base station to support UE positioning for the handover. For example, BS{1} may determine that BS{2} can not be selected for handover. The determining may occur prior to completion of a requested UE positioning procedure. In an example action, based on the measurement report, BS{1} may determine a handover for the UE. In an example action, based on the measurement report of one or more cells and/or base stations, and/or based on the positioning capability information of the at least one second base station, and/or based on the at least one positioning type and/or the priority of the at least one positioning type, and/or based on the UE positioning capability, BS{1} may determine (or attempt to determine) a target base station for the handover. In an example, BS{1} may not be able to determine a target base station for the handover. For example, the measurement report may comprise radio signal of BS{2}, positioning capability information of BS{2} may indicate that the BS{2} supports LMC{2}, which only supports ECID positioning type, the at least one positioning type may indicate a OTDOA positioning type, and based on above information, BS{1} may not be able to determine/select a target base station to support UE positioning for the handover. For example, BS{1} may determine that BS{2} can not be selected for handover because BS{2} does not support OTDOA positioning type. For example, the measurement report may comprise radio signal of BS{2}, positioning capability information of BS{2} may indicate that the BS{2} does not support an LMC, the at least one positioning type may indicate a OTDOA positioning type, and based on the above information, BS{1} may not be able to determine/select a target base station to support UE positioning for the handover. For example, BS{1} may determine that BS{2} can not be selected for handover because BS{2} does not support an LMC.</p><p id="p-0272" num="0420">In response to BS{1} may not be able to determine/select a target base station to support UE positioning for the handover, BS{1} may send a message to the AMF. The message may be a position information cancel/report message. The message may comprise at least one of: a handover indication indicating a handover for the UE, a parameter indicating that no target base station is available for the handover to support UE positioning procedure, the position information of the UE (e.g. as measured by BS{1}), the LMC ID of LMC{1}, positioning capability information of one or more base stations (e.g. BS{2} and/or one or more other potential target base stations), identities of the one or more base stations (e.g., base stations to which the UE can not be handed over), and/or parameters of the position information request or one or more parameters thereof (e.g. the at least one positioning type, the priority of the at least one positioning type, the UE identity, the correlation ID, the identity of the AMF).</p><p id="p-0273" num="0421">In response to the message received from BS{1}, the AMF may take one or more actions. In an example action, based on the message received from BS{1}, the AMF may determine/select a location management function (LMF). For example, based on handover indication, and/or the positioning capability information of the one or more base stations, and/or the position information request or parameters thereof, and/or the at least one positioning type requested by the LCS client/GMLC, and/or the priority of the at least one positioning type, and/or the positioning capability information of the UE, the AMF may determine that no target base station is available to support UE positioning procedure. In an example action, the AMF may determine/select an LMF to support the UE positioning procedure.</p><p id="p-0274" num="0422">In an example action, the AMF may send a reply message (e.g. Position Information Cancel/Report Response) to BS{1}, the Position Information Cancel/Report Response message may indicate the LMF has been selected for the UE positioning procedure. BS{1} may take one or more actions to complete the handover procedure. After the handover, the AMF may have the selected target base station information (e.g. an identity of the selected target base station) for the handover.</p><p id="p-0275" num="0423">In an example action, the AMF may send to the LMF a message (e.g. Nlmf_Location_DetermineLocation (service operation)). The Nlmf_Location_DetermineLocation (service operation) message sent by the AMF to the BS{2} and/or LMC{2} may comprise at least one of: the at least one positioning type requested by the LCS client/GMLC, and/or the priority of the at least one positioning type, the UE identity (e.g. GPSI, SUPI and/or PEI), positioning capability of the UE, the required QoS, the Supported GAD shapes, the LCS client type, a priority of a LCS client (e.g. &#x201c;HIGHEST_PRIORITY&#x201d;, &#x201c;NORMAL_PRIORITY&#x201d;), a correlation ID, the identity of the AMF, ECGI, NCGI, and/or velocity Requested.</p><p id="p-0276" num="0424">In response to the message received from the AMF, the LMF may send to the UE a message requesting the UE position. For example, the LMF may send a message (e.g. Positioning Information Request) to the UE. For example, LPP may be used for the positioning signaling between an LMF and the UE. The position information request sent by the LMF to the UE may comprise at least one of: the at least one positioning type requested by the LCS client/GMLC, and/or the priority of the at least one positioning type, the UE identity (e.g. GPSI, SUPI and/or PEI), the required QoS, the Supported GAD shapes, the LCS client type, the priority of a LCS client (e.g. &#x201c;HIGHEST_PRIORITY&#x201d;, &#x201c;NORMAL_PRIORITY&#x201d;), the correlation ID, the identity of the AMF (e.g. an identifier and/or an address of the AMF), ECGI, NCGI, and/or velocity Requested. In an example, the position information request sent by the LMF to the UE may comprise a RequestLocationInformation message body, where the RequestLocationInformation message body may comprise one or more information elements as shown in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0277" num="0425">In an example, the UE may send to the LMF a message (e.g. Positioning Information Response) comprising at least one of: the UE identity (e.g. GPSI, SUPI and/or PEI), the correlation ID, the identity of the AMF (e.g. an identifier and/or an address of the AMF), locationEstimate, accuracyFulfilmentlndicator, ageOfLocationEstimate, velocityEstimate, civicAddress, positioningDataList, gnssPositioningDataList, ECGI, NCGI, altitude, and/or barometricPressure.</p><p id="p-0278" num="0426">In response to the UE positioning procedure, based on the identity of the AMF, the LMF may send to the AMF a message. For example, the LMF may send to the AMF a position information response. For example, the LMF may send to the AMF Nlmf Location_DetermineLocation response message. The Nlmf_Location_DetermineLocation response message sent by the LMF to the AMF may comprise any needed results, e.g. success or failure indication and, if requested and obtained, the UE identity (e.g. GPSI, SUPI and/or PEI), the second correlation ID, the identity of the AMF, the locationEstimate, the accuracyFulfilmentIndicator, the ageOfLocationEstimate, the velocityEstimate, the civicAddress, the positioningDataList, the gnssPositioningDataList, the ECGI, the NCGI, the altitude, and/or the barometricPressure.</p><p id="p-0279" num="0427">In response to the message received from the LMF, the AMF may send to the GMLC a response message (e.g. Positioning Information Response, Namf_Location_ProvidePositioningInfo Response) providing the location of the UE. The Namf_Location_ProvidePositioningInfo Response message may comprise at least one of: the UE identity (e.g. GPSI, SUPI and/or PEI), the correlation ID, the identity of the AMF, the positioning type, the locationEstimate, the accuracyFulfilmentIndicator, the ageOfLocationEstimate, the velocityEstimate, the civicAddress, the positioningDataList, the gnssPositioningDataList, the ECGI, the NCGI, the altitude, and/or the barometricPressure.</p><p id="p-0280" num="0428">In response to the message received from the AMF and/or in response to the message received from the LCS client, the GMLC may send a response message (e.g. LCS Service Response) to the LCS client reporting the UE location. The LCS Service Response message may comprise at least one of: the UE identity (e.g. GPSI, SUPI and/or PEI), the positioning type, the locationEstimate, the accuracyFulfilmentIndicator, the ageOfLocationEstimate, the velocityEstimate, the civicAddress, the positioningDataList, the gnssPositioningDataList, the ECGI, the NCGI, the altitude, and/or the barometricPressure. In an example, there may be other actions (e.g. the interaction with AMF) to complete the handover procedure.</p><p id="p-0281" num="0429"><figref idref="DRAWINGS">FIG. <b>29</b></figref> shows an example call flow which may comprise one or more actions. In an example, a first base station may have positioning capability information of a list of base stations (e.g. base stations in an AMF serving area and/or a tracking area) by local configuration. In an example, a first base station may receive positioning capability information of at least one second base station from a network function as described in the example embodiment of <figref idref="DRAWINGS">FIG. <b>21</b></figref>.</p><p id="p-0282" num="0430">In an example, a GMLC may receive a request message (e.g. LCS service request) from an external location services client (e.g. LCS client) for a location of a UE. The GMLC may send a message to the AMF requesting the location/position information of the UE, the positioning information request procedure (e.g. the interaction between the GMLC, AMF, S-(R)AN and UE) may be the same as described in the example embodiment of <figref idref="DRAWINGS">FIG. <b>21</b></figref>.</p><p id="p-0283" num="0431">During UE positioning procedure (e.g. the UE has not finish the positioning procedure), the UE may move to a new area (e.g. new cell, new tracking area). The UE may send measurement report to BS{1}. The measurement report may comprise radio signal measurement of one or more cells and/or base stations. In response to the message received from the UE, BS{1} may take one or more actions. In an example action, based on the measurement report, BS{1} may determine a handover for the UE. In an example action, based on the measurement report of one or more cells and/or base stations, and/or based on the positioning capability information of the at least one second base station, and/or based on the at least one positioning type and/or the priority of the at least one positioning type, and/or based on the UE positioning capability, BS{1} may determine a target base station for the handover. In an example, BS{1} may not be able to determine a target base station for the handover. For example, the measurement report may comprise radio signal of BS{2b} and T-(R)AN 1, positioning capability information of BS{2b} may indicate that the BS{2b} supports a LMC (e.g. T-LMC) in the BS{2b} and the T-LMC may only support ECID positioning type, positioning capability information of T-(R)AN 1 may indicate that the T-(R)AN 1 do not support a LMC in the T-(R)AN 1, the at least one positioning type may indicate a OTDOA positioning type, based on above information, BS{1} may not be able to determine/select a target base station to support UE positioning for the handover. For example, the measurement report may comprise radio signal of BS{2b} and T-(R)AN 1, positioning capability information of BS{2b} may indicate that the BS{2b} do not support a LMC in the BS{2b}, positioning capability information of T-(R)AN 1 may indicate that the T-(R)AN 1 do not support a LMC in the T-(R)AN 1, the at least one positioning type may indicate a OTDOA positioning type, based on above information, BS{1} may not be able to determine/select a target base station to support UE positioning for the handover. For example, the measurement report may comprise radio signal of BS{2b} and T-(R)AN 1, the at least one positioning type may indicate a ECID positioning type, BS{1} may not have the positioning capability information of the BS{2b} and T-(R)AN 1, based on above information, BS{1} may not be able to determine/select a target base station to support UE positioning for the handover.</p><p id="p-0284" num="0432">In an example, in response to BS{1} may not be able to determine/select a target base station to support UE positioning for the handover, BS{1} may send a message (e.g. Position Information Cancel/Report) to the AMF. The Position Information Cancel/Report message may comprise at least one of: a handover indication indicating a handover for the UE, a cause value indicating a reason to cancel UE positioning procedure (e.g. no target base station is available for the handover to support UE positioning procedure), the position information of the UE (e.g. measured by BS{1}), the S-LMC ID, positioning capability information of one or more base stations (e.g. BS{2b} and/or T-(R)AN 1), identities of the one or more base stations, and/or parameters of the position information request received from the AMF (e.g. the at least one positioning type, the priority of the at least one positioning type, the UE identity, the correlation ID, the identity of the AMF).</p><p id="p-0285" num="0433">In an example, in response to BS{1} may not be able to determine/select a target base station to support UE positioning for the handover, BS{1} may determine a target base station based on the UE measurement report, e.g. select a target base station (e.g. T-(R)AN) which has a better radio signal. BS{1} may send a message (e.g. handover request) to the target base station (e.g. T-(R)AN) for the handover. In an example, the handover request message may comprise the position information request or parameters/elements thereof. For example, the handover request message may comprise at least one of: the at least one positioning type, the priority of the at least one positioning type, the UE identity (e.g. GPSI, SUPI and/or PEI), the required QoS, the Supported GAD shapes, the LCS client type, a priority of a LCS client (e.g. &#x201c;HIGHEST_PRIORITY&#x201d;, &#x201c;NORMAL_PRIORITY&#x201d;), a correlation ID, an identity of the AMF (e.g. an identifier and/or an address of the AMF), ECGI, NCGI, the velocity Requested (e.g. &#x201c;VELOCITY_IS_REQUESTED&#x201d;, &#x201c;VELOCITY_IS_NOT_REQUESTED&#x201d;), S-LMC ID, the positioning capability of the UE and/or the RequestLocationInformation message body as shown in <figref idref="DRAWINGS">FIG. <b>23</b></figref>. In an example, the handover request message may comprise a transparent RRC container with necessary information to prepare the handover at the target side. For example, the handover request message may comprise at least one of: target cell ID, KgNB*, C-RNTI of the UE in BS{1}, RRM-configuration comprising UE inactive time, basic AS-configuration comprising antenna Info and DL Carrier Frequency, current QoS flow to DRB mapping rules applied to the UE, SIB1 from BS{1}, UE capabilities for different RATs, PDU session related information, and/or UE reported measurement information comprising beam-related information if available. The PDU session related information may comprise the slice information and/or QoS flow level QoS profile(s). In an example, the handover request message may comprise UE location/position information measured/calculated by BS{1} and/or LMC{1} and/or the UE, e.g. the current location/position information of UE.</p><p id="p-0286" num="0434">In response to the message received from BS{1}, the T-(R)AN may take one or more actions. In an example action, based on the message received from BS{1} and/or the positioning capability information of the T-(R)AN, the T-(R)AN may determine to cancel the positioning procedure. For example, the T-(R)AN may not support the at least one positioning type requested by the LCS client/GMLC/AMF/S-(R)AN, the T-(R)AN may determine to cancel the positioning procedure. For example, the T-(R)AN may send to the AMF a message (e.g. positioning information cancel request, PATH SWITCH REQUEST). The PATH SWITCH REQUEST may comprise at least one of: a handover indication indicating a handover for the UE, a parameter requesting canceling UE positioning procedure, a cause value indicating a reason to cancel UE positioning procedure (e.g. the T-(R)AN may not support the at least one positioning type requested by the LCS client/GMLC/AMF/S-(R)AN), one or more parameters of the handover request message (e.g. the at least one positioning type, the priority of the at least one positioning type, the positioning capability of the UE, and/or the RequestLocationInformation message body), the positioning capability information of the T-(R)AN, an identity of the T-(R)AN.). In an example, the message (e.g. positioning information cancel request, PATH SWITCH REQUEST) sent by the T-(R)AN to the AMF may comprise UE location/position information measured/calculated by BS{1} and/or LMC{1} and/or the UE, e.g. the location/position information of UE.</p><p id="p-0287" num="0435">In response to the message received from BS{1}, and/or in response to the message received from the T-(R)AN, the AMF may take one or more actions. In an example action, based on the message received from BS{1} and/or T-(R)AN, the AMF may determine to cancel the positing. For example, based on handover indication and/or the cause value, and/or the AMF may not be able to select an LMF for the UE positioning procedure, the AMF may determine to cancel the UE positioning procedure.</p><p id="p-0288" num="0436">In an example action, in response to the message received from BS{1}, the AMF may send an acknowledge to BS{1} confirming the cancelation of the UE positioning procedure. In an example action, in response to the message received from the T-(R)AN, the AMF may send an acknowledge to the T-(R)AN confirming the cancelation of the UE positioning procedure, the T-(R)AN may send an acknowledge to BS{1} confirming the cancelation of the UE positioning procedure.</p><p id="p-0289" num="0437">In an example action, in response to the message received from the GMLC, the AMF may send to the GMLC a response message (e.g. Positioning Information Response, Namf_Location_ProvidePositioningInfo Response). The Namf_Location_ProvidePositioningInfo Response message may comprise at least one of: the UE identity (e.g. GPSI, SUPI and/or PEI), the correlation ID, the identity of the AMF, a cause value indicating failure of the UE positioning procedure and/or the UE location/position information measured/calculated by BS{1} and/or LMC{1} and/or the UE, e.g. the current location/position information of UE. For example, the cause value may indicate a failure reason of the UE positioning procedure is handover. For example, the cause value may indicate a base station (e.g. S-(R)AN, T-(R)AN) cancels the UE positioning procedure. For example, the cause value may indicate the requested positing type may not be supported by a base station (e.g. S-(R)AN, T-(R)AN). For example, the cause value may indicate the AMF is not be able to select an LMC/LMF for UE positioning procedure.</p><p id="p-0290" num="0438">In response to the message received from the AMF and/or in response to the message received from the LCS client, the GMLC may send a response message (e.g. LCS Service Response) to the LCS client. The LCS Service Response message may comprise at least one of: the UE identity (e.g. GPSI, SUPI and/or PEI), the correlation ID, the identity of the AMF, the cause value indicating failure of the UE positioning procedure and/or the UE location/position information.</p><p id="p-0291" num="0439">In an example, a first base station may receive from a network function, a first message comprising positioning capability information of at least one second base station. In an example, the first base station may receive a position information request message requesting a position of a wireless device. In an example, the first base station may receive from the wireless device, a measurement report. In an example, based on the measurement report and/or the positioning capability information of the at least one second base station, the first base station may determine a second base station for a handover of the wireless device. In an example, the first base station may send to the second base station a handover request message comprising the position information request message.</p><p id="p-0292" num="0440">In an example embodiment, the handover required message may comprise an identifier of a first location management component (LMC), wherein the first LMC is in the first base station. In an example embodiment, the network function may comprise at least one of: the at least one second base station; an access and mobility management function (AMF); an NRF; or an OAM. In an example embodiment, the positioning capability information may comprise at least one of: supporting a location management component (LMC) in a base station; supporting an LMC connects to a base station; supporting Enhanced Cell Identity (ECID) capability; supporting Observed Time Difference of Arrival (OTDOA) capability; supporting network-assisted GNSS methods; supporting WLAN positioning; supporting Bluetooth positioning; supporting Terrestrial Beacon System (TBS) positioning; supporting barometric pressure sensor positioning; no support of an LMC; no support of a positioning capability; or an identifier of an LMC (LMC ID). In an example embodiment, the positioning capability information is applied to a cell and/or a base station. In an example embodiment, the determining is based on positioning capability information of the wireless device. In an example embodiment, position information request message may comprise a positioning type. In an example embodiment, the positioning type may comprise at least one of: positioning of Enhanced Cell Identity (ECID); positioning of Observed Time Difference of Arrival (OTDOA); WLAN positioning; Bluetooth positioning; Terrestrial Beacon System (TBS) positioning; barometric pressure sensor positioning; or an accuracy of positioning.</p><p id="p-0293" num="0441">In an example embodiment, the first base station may receive a position information request message from an AMF, the position information request message may comprise at least one of: a positioning type; a priority of the positioning type; or a UE identity. In an example embodiment, the determining is based on the positioning type. In an example embodiment, the determining is based on the priority of the positioning type. In an example embodiment, the positioning type may comprise at least one of: a parameter indicating positioning of Enhanced Cell Identity (ECID); a parameter indicating positioning of Observed Time Difference of Arrival (OTDOA); a parameter indicating WLAN positioning; a parameter indicating Bluetooth positioning; a parameter indicating Terrestrial Beacon System (TBS) positioning; a parameter indicating barometric pressure sensor positioning; or a parameter indicating an accuracy of positioning. In an example embodiment, the AMF may receive a position information request message from an GMLC. The position information request message may comprise at least one of: the positioning type; the priority of the positioning type; or the UE identity. In an example embodiment, the GMLC may receive a position information request message from an LCS client. The position information request message may comprise at least one of: the positioning type; the priority of the positioning type; or the UE identity. In an example embodiment, the second base station may determine a positioning method. In an example embodiment, the determining is based on the handover request message. In an example embodiment, the determining is based on positioning capability information of the second base station. In an example embodiment, the determining is based on a positioning type requested by an AMF. In an example embodiment, the second base station may send a handover request acknowledge message to the first base station. In an example embodiment, the handover request acknowledge message may further comprise a parameter, the parameter may indicate the second base station is able to support the requesting the position of the wireless device.</p><p id="p-0294" num="0442">In an example, a first base station may receive from a network function, a first message comprising positioning capability information of at least one second base station. In an example, the first base station may receive a position information request message requesting a position of a wireless device, wherein the position information request message may comprise a positioning type. In an example, the first base station may receive a measurement report from the wireless device. In an example, based on the measurement report, the positioning capability information of the at least one second base station, and/or the positioning type, the first base station may determine a second base station for a handover of the wireless device. In an example, the first base station may send to the second base station, a handover required message comprising the position information request message and an identifier of a first location management component (LMC), wherein the first LMC may be in the first base station.</p><p id="p-0295" num="0443">In an example, a second base station may receive from a first base station, a handover request message comprising positioning information request message for a wireless device, wherein the positioning information request message may comprise: a positioning type; and positioning capability of the wireless device. In an example, based on the positioning type, the positioning capability of the wireless device, and/or positioning capability of the second base station, the second base station may determine a positioning method. In an example, the second base station may send a handover request acknowledge message to the first base station, the handover request acknowledge message may comprises the positioning method, and/or a parameter indicating the second base station supports the positioning method.</p><p id="p-0296" num="0444">In an example, an access and mobility management function (AMF) may receive a first message from a base station associated with a location management component (LMC), the LMC may be configured to determine a location of a wireless device. The first message may comprise an indication of a position information request. In an example, based on the first message, the AMF may determine a positioning type for determining by the LMC the location of the wireless device. In an example, the AMF may send the positioning type to the base station. In an example embodiment, the first message may comprise a handover indication for the wireless device. In an example embodiment, the first message is a path switch request message.</p><p id="p-0297" num="0445">In an example, an access and mobility management function (AMF) may receive a first message from a base station associated with a location management component (LMC), the LMC may be configured to determine a location of a wireless device. The first message may comprise a handover indication for the wireless device. The first message may comprise an indication of a position information request. In an example, based on the first message, the AMF may determine a positioning type for determining by the LMC the location of the wireless device. In an example, the AMF may send the positioning type to the base station. In an example embodiment, the first message may comprise a handover indication for the wireless device. In an example embodiment, the first message is a path switch request message.</p><p id="p-0298" num="0446">In an example, an access and mobility management function (AMF) may receive a first message from a base station associated with a location management component (LMC). The LMC may be configured to determine a location of a wireless device. The first message may comprise a handover indication for the wireless device. The first message may comprise positioning capability information of one or more base stations. The first message may comprise at least one positioning type requested by a GMLC. The first message may comprise positioning capability information of the wireless device. In an example, based on the first message, the AMF may determine a positioning type for determining, by the LMC, the location of the wireless device. In an example, the AMF may send the positioning type to the base station.</p><p id="p-0299" num="0447">In an example, a second base station may receive a handover request message from a first base station. The handover request message may comprise positioning information request message for a wireless device. The positioning information request message may comprise: a positioning type; and an identifier of an access and mobility management function (AMF), wherein the AMF may be associated with the positioning information request message. In an example, based on the positioning type and positioning capability of the second base station, the second base station may determine to cancel the positioning information request. In an example, the second base station may send a message to the AMF, the message may indicate canceling the positioning information request. The message may comprise a cause value indicating the positioning capability of the second base station does not support the positioning type.</p><p id="p-0300" num="0448">According to various embodiments, one or more devices such as, for example, a wireless device, off-network wireless device, a base station, a core network device, and/or the like, may be employed in a system. One or more of the devices may be configured to perform particular operations or actions by virtue of having software, firmware, hardware, or a combination of them installed on the one or more of the devices, that in operation causes or cause the one or more devices to perform the actions. One or more computer programs can be configured to perform particular operations or actions by virtue of including instructions that, when executed by data processing apparatus, cause the apparatus to perform the actions. Embodiments of example actions are illustrated in the accompanying figures and specification. Features from various embodiments may be combined to create yet further embodiments.</p><p id="p-0301" num="0449">In this specification, &#x201c;a&#x201d; and &#x201c;an&#x201d; and similar phrases are to be interpreted as &#x201c;at least one&#x201d; and &#x201c;one or more.&#x201d; In this specification, the term &#x201c;may&#x201d; is to be interpreted as &#x201c;may, for example.&#x201d; In other words, the term &#x201c;may&#x201d; is indicative that the phrase following the term &#x201c;may&#x201d; is an example of one of a multitude of suitable possibilities that may, or may not, be employed to one or more of the various Examples. If A and B are sets and every element of A is an element of B, A is called a subset of B. In this specification, only non-empty sets and subsets are considered. For example, possible subsets of B={cell1, cell2} are: {cell1}, {cell2}, and {cell1, cell2}.</p><p id="p-0302" num="0450">In this specification, various Examples are disclosed. Limitations, features, and/or elements from the disclosed example Examples may be combined to create further Examples within the scope of the disclosure.</p><p id="p-0303" num="0451">In this specification, various Examples are disclosed. Limitations, features, and/or elements from the disclosed example Examples may be combined to create further Examples within the scope of the disclosure.</p><p id="p-0304" num="0452">In this specification, parameters (Information elements: IEs) may comprise one or more objects, and one of those objects may comprise one or more other objects. For example, if parameter (IE) N comprises parameter (IE) M, and parameter (IE) M comprises parameter (IE) K, and parameter (IE) K comprises parameter (information element) J, then, for example, N comprises K, and N comprises J. In an example, when one or more messages comprise a plurality of parameters, it implies that a parameter in the plurality of parameters is in at least one of the one or more messages, but does not have to be in one of the one or more messages.</p><p id="p-0305" num="0453">Many of the elements described in the disclosed Examples may be implemented as modules. A module is defined here as an isolatable element that performs a defined function and has a defined interface to other elements. The modules described in this disclosure may be implemented in hardware, software in combination with hardware, firmware, wetware (e.g. hardware with a biological element) or a combination thereof, some of which are behaviorally equivalent. For example, modules may be implemented as a software routine written in a computer language configured to be executed by a hardware machine (such as C, C++, Fortran, Java, Basic, Matlab or the like) or a modeling/simulation program such as Simulink, Stateflow, GNU Octave, or LabVIEWMathScript. Additionally, it may be possible to implement modules using physical hardware that incorporates discrete or programmable analog, digital and/or quantum hardware. Examples of programmable hardware comprise: computers, microcontrollers, microprocessors, application-specific integrated circuits (ASICs); field programmable gate arrays (FPGAs); and complex programmable logic devices (CPLDs). Computers, microcontrollers and microprocessors are programmed using languages such as assembly, C, C++ or the like. FPGAs, ASICs and CPLDs are often programmed using hardware description languages (HDL) such as VHSIC hardware description language (VHDL) or Verilog that configure connections between internal hardware modules with lesser functionality on a programmable device. Finally, it needs to be emphasized that the above mentioned technologies are often used in combination to achieve the result of a functional module.</p><p id="p-0306" num="0454">The disclosure of this patent document incorporates material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent file or records, for the limited purposes required by law, but otherwise reserves all copyright rights whatsoever.</p><p id="p-0307" num="0455">While various Examples have been described above, it should be understood that they have been presented by way of example, and not limitation. It will be apparent to persons skilled in the relevant art(s) that various changes in form and detail can be made therein without departing from the spirit and scope. In fact, after reading the above description, it will be apparent to one skilled in the relevant art(s) how to implement alternative Examples. Thus, the present Examples should not be limited by any of the above described exemplary Examples. In particular, it should be noted that, for example purposes, the above explanation has focused on the example(s) using 5G AN. However, one skilled in the art will recognize that Examples of the invention may be implemented in a system comprising one or more legacy systems or LTE. The disclosed methods and systems may be implemented in wireless or wireline systems. The features of various Examples presented in this invention may be combined. One or many features (method or system) of one Example may be implemented in other Examples. A limited number of example combinations are shown to indicate to one skilled in the art the possibility of features that may be combined in various Examples to create enhanced transmission and reception systems and methods.</p><p id="p-0308" num="0456">In addition, it should be understood that any figures which highlight the functionality and advantages, are presented for example purposes. The disclosed architecture is sufficiently flexible and configurable, such that it may be utilized in ways other than that shown. For example, the actions listed in any flowchart may be re-ordered or optionally used in some examples.</p><p id="p-0309" num="0457">Further, the purpose of the Abstract of the Disclosure is to enable the U.S. Patent and Trademark Office and the public generally, and especially the scientists, engineers and practitioners in the art who are not familiar with patent or legal terms or phraseology, to determine quickly from a cursory inspection the nature and essence of the technical disclosure of the application. The Abstract of the Disclosure is not intended to be limiting as to the scope in any way.</p><p id="p-0310" num="0458">Finally, it is the applicant's intent that only claims that include the express language &#x201c;means for&#x201d; or &#x201c;step for&#x201d; be interpreted under 35 U.S.C. 112. Claims that do not expressly include the phrase &#x201c;means for&#x201d; or &#x201c;step for&#x201d; are not to be interpreted under 35 U.S.C. 112.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method comprising:<claim-text>receiving, by a first base station from a second base station, positioning capability information of the second base station;</claim-text><claim-text>receiving, by the first base station from a wireless device, a measurement report;</claim-text><claim-text>sending, by the first base station to the second base station, a handover request message comprising a request for position information of the wireless device, wherein the sending is based on:<claim-text>the measurement report; and</claim-text><claim-text>the positioning capability information of the second base station.</claim-text></claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising receiving, by the first base station from an access and mobility management function (AMF), the request for position information of the wireless device.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the positioning capability information indicates a positioning capability of a cell of the second base station.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the positioning capability information indicates that the second base station supports at least one positioning type.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the at least one positioning type comprises one or more of:<claim-text>enhanced cell identity (ECID);</claim-text><claim-text>observed time difference of arrival (OTDOA);</claim-text><claim-text>network-assisted global navigation satellite system (GNSS);</claim-text><claim-text>wireless land area network (WLAN) positioning;</claim-text><claim-text>bluetooth positioning;</claim-text><claim-text>terrestrial beacon system (TBS); and</claim-text><claim-text>barometric pressure sensor positioning.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the request for position information of the wireless device indicates a request for at least one positioning type.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the request for position information of the wireless device indicates a priority of the requested at least one positioning type.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the measurement report received from the wireless device indicates a signal strength associated with the second base station.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the measurement report received from the wireless device indicates a plurality of signal strengths associated with a first plurality of base stations, wherein the second base station is one of the first plurality of base stations.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising receiving positioning capability information of a second plurality of base stations, wherein the second base station is one of the second plurality of base stations.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. A first base station comprising one or more processors and memory storing instructions that, when executed by the one or more processors, cause the first base station to perform operations comprising:<claim-text>receiving, from a second base station, positioning capability information of the second base station;</claim-text><claim-text>receiving, from a wireless device, a measurement report;</claim-text><claim-text>sending, to the second base station, a handover request message comprising a request for position information of the wireless device, wherein the sending is based on:<claim-text>the measurement report; and</claim-text><claim-text>the positioning capability information of the second base station.</claim-text></claim-text></claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The first base station of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising receiving, by the first base station from an access and mobility management function (AMF), the request for position information of the wireless device.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The first base station of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the positioning capability information indicates that the second base station supports at least one positioning type.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The first base station of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the at least one positioning type comprises one or more of:<claim-text>enhanced cell identity (ECID);</claim-text><claim-text>observed time difference of arrival (OTDOA);</claim-text><claim-text>network-assisted global navigation satellite system (GNSS);</claim-text><claim-text>wireless land area network (WLAN) positioning;</claim-text><claim-text>bluetooth positioning;</claim-text><claim-text>terrestrial beacon system (TBS); and</claim-text><claim-text>barometric pressure sensor positioning.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The first base station of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the request for position information of the wireless device indicates a request for at least one positioning type.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The first base station of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the request for position information of the wireless device indicates a priority of the requested at least one positioning type.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The first base station of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the measurement report received from the wireless device indicates a signal strength associated with the second base station.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The first base station of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the measurement report received from the wireless device indicates a plurality of signal strengths associated with a first plurality of base stations, wherein the second base station is one of the first plurality of base stations.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The first base station of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising receiving positioning capability information of a second plurality of base stations, wherein the second base station is one of the second plurality of base stations.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. A system, comprising:<claim-text>a first base station comprising: one or more processors and memory storing instructions that, when executed by the one or more processors, cause the first base station to:<claim-text>receive, from a second base station, positioning capability information of the second base station;</claim-text><claim-text>receive, from a wireless device, a measurement report;</claim-text><claim-text>send, to the second base station, a handover request message comprising a request for position information of the wireless device, based on:<claim-text>the measurement report; and</claim-text><claim-text>the positioning capability information of the second base station; and</claim-text></claim-text></claim-text><claim-text>the second base station comprising: one or more processors and memory storing instructions that, when executed by the one or more processors, cause the second base station to:<claim-text>send, to the first base station, the positioning capability information of the second base station;</claim-text><claim-text>receive, from the first base station, the handover request message comprising the request for position information of the wireless device;</claim-text><claim-text>determine, based on the handover request message, the position information of the wireless device; and</claim-text><claim-text>send, to an access and mobility management function (AMF), the position information of the wireless device.</claim-text></claim-text></claim-text></claim></claims></us-patent-application>