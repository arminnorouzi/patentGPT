<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006939A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006939</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17941152</doc-number><date>20220909</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="regional"><country>EP</country><doc-number>20162480.6</doc-number><date>20200311</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>28</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>41</main-group><subgroup>0803</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>L</subclass><main-group>45</main-group><subgroup>24</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>47</main-group><subgroup>28</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>41</main-group><subgroup>0803</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>L</subclass><main-group>45</main-group><subgroup>24</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">Establishing Time-Sensitive Communications Between Industrial End Devices and an Ethernet Network</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/EP2021/055792</doc-number><date>20210308</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17941152</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="obligated-assignee"><addressbook><orgname>ABB Schweiz AG</orgname><address><city>Baden</city><country>CH</country></address></addressbook><residence><country>CH</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>Gogolev</last-name><first-name>Alexander</first-name><address><city>Dachau</city><country>DE</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>&#xc5;kerberg</last-name><first-name>Johan</first-name><address><city>V&#xe4;ster&#xe5;s</city><country>SE</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>Kande</last-name><first-name>Mallikarjun</first-name><address><city>Solon</city><state>OH</state><country>US</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>ABB Schweiz AG</orgname><role>03</role><address><city>Baden</city><country>CH</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A method for establishing time-sensitive communication from at least one end device in an industrial plant into an Ethernet network with extended functionality for time-sensitive communication includes obtaining a first information model of the at least one end device, obtaining a second information model of the Ethernet network; determining first configuration information; determining second configuration information; transmitting the first configuration information to the at least one end device; and transmitting the second configuration information to the at least one network device.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="166.62mm" wi="158.75mm" file="US20230006939A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="189.99mm" wi="163.32mm" file="US20230006939A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="211.84mm" wi="156.63mm" orientation="landscape" file="US20230006939A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="207.43mm" wi="98.38mm" file="US20230006939A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This patent application claims priority to International Patent Application No. PCT/EP2021/055792, filed on Mar. 8, 2021, which claims priority to European Patent Application No. 20162480.6, filed on Mar. 11, 2020, each of which is incorporated in its entirety herein.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD OF THE DISCLOSURE</heading><p id="p-0003" num="0002">The present disclosure is directed to communication systems and methods for time sensitive messages from, to and between end devices in an industrial plant over an Ethernet network.</p><heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading><p id="p-0004" num="0003">Industrial plants are increasingly fitted with Ethernet networks that are enhanced with extended functionality for time-sensitive communication. Many &#x201c;Industry 4.0&#x201d; concepts assume that communication over Ethernet with Time-Sensitive Network, TSN, functionality, in combination with Open Platform Communications Unified Architecture, OPC UA, will fully replace various control applications and fieldbuses. EP 2 805 441 B1 discloses a method for configuring transmission of data over a packet switched data network between time-synchronized communication modules.</p><p id="p-0005" num="0004">Conveying an urgent message from an end device to a destination on the Ethernet network is teamwork. The end device needs to convey to network devices of the Ethernet network that the message is time-sensitive, and the network devices need to perform the forwarding in the given Ethernet network.</p><heading id="h-0004" level="1">BRIEF SUMMARY OF THE INVENTION</heading><p id="p-0006" num="0005">In one general aspect, the present disclosure describes systems and methods for facilitating the establishing of time-sensitive communications from given industrial end devices to destinations in a given Ethernet network in an industrial plant.</p><p id="p-0007" num="0006">This objective is achieved by method for establishing time-sensitive communication from at least one end device in an industrial plant into an Ethernet network with extended functionality for time-sensitive communication.</p><p id="p-0008" num="0007">In an exemplary embodiment in accordance with the disclosure, a method for establishing time-sensitive communication from at least one end device in an industrial plant into an Ethernet network with extended functionality for time-sensitive communication is described. In particular, this functionality for time-sensitive communication may be Time-Sensitive Networking, TSN, functionality. TSN functionality is in the process of being standardized by the IEEE Time-Sensitive Networking Task Group. However, any other functionality for time-sensitive communication may be used as well in the context of the invention.</p><p id="p-0009" num="0008">In the course of the method, a first information model of the at least one device, and/or of at least a portion of the plant that comprises the at least one end device, is obtained. The information model may also relate to the plant as a whole. The information model is indicative of the type and/or content of messages that are to be sent to the Ethernet network by the at least one end device, and it is also indicative of the destinations of said messages. On top of that, the information model may comprise any other information that characterizes the end device and facilitates</p><p id="p-0010" num="0009">For example, the first information model may indicate one or more of the following<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0010">a type of the end device (e.g., sensor, actuator, controller);</li>        <li id="ul0002-0002" num="0011">inputs to the end device, which may be in the form of signals (e.g., requests for measurement values or commands to perform actions), but also in the form of educts or other media that are fed to the end device for handling and/or processing;</li>        <li id="ul0002-0003" num="0012">outputs from the end device, which may be in the form of signals (e.g., measurement values or confirmations that actions have been performed), but also in the form of products or other media that leave the end device as a work result of any handling and/or processing;</li>        <li id="ul0002-0004" num="0013">requirements and constraints for interfacing the end device with other end devices; and</li>        <li id="ul0002-0005" num="0014">quantitative performance data of the end device (e.g., a measurement range of a sensor, or a throughput of a processing device).</li>    </ul>    </li></ul></p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWING(S)</heading><p id="p-0011" num="0015"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram of an exemplary embodiment of a method in accordance with the disclosure.</p><p id="p-0012" num="0016"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a diagram of an exemplary landscape of an industrial plant with end devices and an Ethernet network, which is centrally orchestrated by an orchestrating entity in accordance with the disclosure.</p><p id="p-0013" num="0017"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram of an exemplary embodiment of a first information model data structure that is extended by configuration information for time-sensitive communication in accordance with the disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading><p id="p-0014" num="0018"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a schematic flow chart of an exemplary embodiment of the method <b>100</b>.</p><p id="p-0015" num="0019">In step <b>110</b>, a first information model <b>8</b><i>a </i>of an end device <b>1</b>, and/or of an industrial plant <b>2</b>, is obtained. According to block <b>111</b>, an inventory of end devices <b>1</b> may be automatically obtained.</p><p id="p-0016" num="0020">In step <b>120</b>, a second information model <b>8</b><i>b </i>of the Ethernet network <b>3</b> is obtained. According to block <b>121</b>, an inventory of network devices <b>31</b> and interconnections <b>32</b> between these network devices <b>31</b> may be automatically obtained.</p><p id="p-0017" num="0021">In step <b>130</b>, based at least in part on the first information model <b>8</b><i>a</i>, first configuration information <b>7</b><i>a </i>for at least one end device <b>1</b> is determined. Likewise, in step <b>140</b>, based at least in part on the second information model <b>8</b><i>b</i>, second configuration information <b>7</b><i>b </i>for at least one network device <b>31</b> is obtained. As it was discussed before and is shown in <figref idref="DRAWINGS">FIG. <b>1</b></figref> by the dashed lines, in steps <b>130</b> and <b>140</b>, information from the respective other information model <b>8</b><i>b</i>, <b>8</b><i>a </i>may be used additionally.</p><p id="p-0018" num="0022">According to block <b>131</b>, the first configuration <b>7</b><i>a </i>may specifically comprise rules <b>6</b> for prioritizing messages <b>4</b>. This is detailed further in <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0019" num="0023">According to block <b>132</b>, the first configuration information <b>7</b><i>a </i>may specifically comprise instructions for the end device <b>1</b> how to encode requests <b>3</b>** for particular functionality <b>3</b>* for time-sensitive communication.</p><p id="p-0020" num="0024">According to block <b>133</b>, the first configuration information <b>7</b><i>a </i>may specifically comprise information that enables the end device <b>1</b> to synchronize an internal system time with the Ethernet network <b>3</b>, and/or a schedule for transmitting messages <b>4</b> from the end device <b>1</b> to the Ethernet network <b>3</b>.</p><p id="p-0021" num="0025">According to block <b>141</b>, the to-be-configured network device <b>31</b> may be chosen out of several possible network devices <b>31</b> based on quantitative utilization.</p><p id="p-0022" num="0026">In step <b>150</b>, the first configuration information <b>7</b><i>a </i>is sent to the end device <b>1</b>. In step <b>160</b>, the second configuration information <b>7</b><i>b </i>is sent to the network device <b>31</b>.</p><p id="p-0023" num="0027"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows a landscape that comprises an industrial plant <b>2</b> with several end devices <b>1</b>, as well as an Ethernet network <b>3</b> with functionality <b>3</b>* for time-sensitive communication. For simplicity, the industrial plant <b>2</b> and the network <b>3</b> have been drawn as separate entities in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. In reality, the Ethernet network <b>3</b> may reside within the plant <b>2</b>, and in the plant <b>2</b>, it may even be intermixed with the connections between the end devices <b>1</b> that are drawn as dashed lines. For example, the destination <b>4</b><i>a </i>for a message <b>4</b> that is drawn inside the Ethernet network <b>3</b> may be a controller or an actuator in the plant <b>2</b> (that is, another end device <b>1</b>) that has to react to the message <b>4</b>.</p><p id="p-0024" num="0028">The orchestrating entity <b>9</b> obtains the first information model <b>8</b><i>a </i>of the plant <b>2</b>, as well as the second information model <b>8</b><i>b </i>of the Ethernet network <b>3</b> that details the network devices <b>31</b>, the interconnections <b>32</b> between these network devices <b>31</b>, as well as the placement of other components or devices (such as the destination <b>4</b><i>a </i>for messages <b>4</b>). The orchestrating entity <b>9</b> creates first configuration information <b>7</b><i>a </i>for the end device <b>1</b> and second configuration information <b>7</b><i>b </i>for the network device <b>31</b>.</p><p id="p-0025" num="0029">In the example shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the first configuration information <b>7</b><i>a </i>comprises rules <b>6</b> for the handling of messages <b>4</b> that the end device <b>1</b> intends to send. If the message <b>4</b> matches a condition <b>6</b><i>a </i>of the rule <b>6</b>, the message <b>4</b> may be assigned a priority <b>4</b><i>b</i>, and/or the use of a functionality <b>3</b>* for time-sensitive communication may be requested by end device <b>1</b>.</p><p id="p-0026" num="0030">The end device <b>1</b> may wrap the message <b>4</b>, its priority <b>3</b><i>b</i>, and any requests <b>3</b>** to use functionality <b>3</b>* in at least one Ethernet frame <b>5</b> and send these frames into the Ethernet network <b>3</b>. The network device <b>31</b> may decode the request <b>3</b>** to use functionality <b>3</b>* and forward the message <b>4</b> within the Ethernet network <b>3</b> to its destination <b>4</b><i>a. </i></p><p id="p-0027" num="0031"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows an exemplary embodiment of a first information model <b>8</b><i>a </i>data structure. It is an OPC data structure that is organized in a tree. In the example of <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the information nodes are organized into three address spaces <b>80</b>, <b>81</b> and <b>82</b>. The first address space <b>80</b> contains information nodes <b>80</b><i>a</i>, <b>80</b><i>b </i>that relate to general information about the central orchestration by orchestrating entity <b>9</b>. The second address space <b>81</b> contains information nodes <b>81</b><i>a</i>, <b>81</b><i>b </i>that relate to features and parameters of an end device <b>1</b>. The third address space <b>82</b> contains information nodes <b>82</b><i>a</i>, <b>82</b><i>b </i>that relate to the functionality <b>3</b>* for time-sensitive communication in the Ethernet network <b>3</b>. By providing this information as first configuration information <b>7</b><i>a </i>to the end device <b>1</b>, an end device <b>1</b> that was previously not aware of the presence of this functionality in the Ethernet network <b>3</b> may be fully enabled to use it.</p><heading id="h-0007" level="1">LIST OF REFERENCE SIGNS</heading><p id="p-0028" num="0000"><ul id="ul0003" list-style="none">    <li id="ul0003-0001" num="0032"><b>1</b> end device <b>1</b></li>    <li id="ul0003-0002" num="0033"><b>2</b> industrial plant</li>    <li id="ul0003-0003" num="0034"><b>3</b> Ethernet network in industrial plant <b>2</b></li>    <li id="ul0003-0004" num="0035"><b>3</b>* functionality for time-sensitive communication in network <b>3</b></li>    <li id="ul0003-0005" num="0036"><b>3</b>** request to use functionality <b>3</b>*</li>    <li id="ul0003-0006" num="0037"><b>31</b> network device of Ethernet network <b>3</b></li>    <li id="ul0003-0007" num="0038"><b>32</b> interconnection in Ethernet network <b>3</b></li>    <li id="ul0003-0008" num="0039"><b>4</b> message</li>    <li id="ul0003-0009" num="0040"><b>4</b><i>a </i>destination of message</li>    <li id="ul0003-0010" num="0041"><b>4</b><i>b </i>priority of message</li>    <li id="ul0003-0011" num="0042"><b>5</b> Ethernet frames</li>    <li id="ul0003-0012" num="0043"><b>6</b> rule in first configuration information <b>7</b><i>a </i></li>    <li id="ul0003-0013" num="0044"><b>6</b><i>a </i>condition in rule <b>6</b></li>    <li id="ul0003-0014" num="0045"><b>7</b><i>a </i>first configuration information for end device <b>1</b></li>    <li id="ul0003-0015" num="0046"><b>7</b><i>b </i>second configuration information for network device <b>31</b></li>    <li id="ul0003-0016" num="0047"><b>8</b><i>a </i>first information model for end device <b>1</b> and/or plant <b>2</b></li>    <li id="ul0003-0017" num="0048"><b>80</b>-<b>82</b> address spaces in first information model <b>8</b></li>    <li id="ul0003-0018" num="0049"><b>80</b><i>a</i>-<b>80</b><i>b </i>information nodes in address space <b>80</b></li>    <li id="ul0003-0019" num="0050"><b>81</b><i>a</i>-<b>81</b><i>b </i>information nodes in address space <b>81</b></li>    <li id="ul0003-0020" num="0051"><b>82</b><i>a</i>-<b>82</b><i>b </i>information nodes in address space <b>82</b></li>    <li id="ul0003-0021" num="0052"><b>8</b><i>b </i>second information model for Ethernet network <b>3</b></li>    <li id="ul0003-0022" num="0053"><b>9</b> central orchestrating entity</li>    <li id="ul0003-0023" num="0054"><b>100</b> method for establishing time-sensitive communication</li>    <li id="ul0003-0024" num="0055"><b>110</b> obtaining first information model <b>8</b><i>a </i></li>    <li id="ul0003-0025" num="0056"><b>111</b> obtaining inventory of end devices <b>1</b></li>    <li id="ul0003-0026" num="0057"><b>120</b> obtaining second information model <b>8</b><i>b </i></li>    <li id="ul0003-0027" num="0058"><b>121</b> obtaining inventory of network devices <b>31</b>, interconnections <b>32</b></li>    <li id="ul0003-0028" num="0059"><b>130</b> determining first configuration information <b>7</b><i>a </i></li>    <li id="ul0003-0029" num="0060"><b>131</b> including rules <b>6</b> in configuration information <b>7</b><i>a </i></li>    <li id="ul0003-0030" num="0061"><b>132</b> including information how to encode request <b>3</b>** in information <b>7</b><i>a </i></li>    <li id="ul0003-0031" num="0062"><b>133</b> including time synchronization information in information <b>7</b><i>a </i></li>    <li id="ul0003-0032" num="0063"><b>140</b> determining second configuration information <b>7</b><i>b </i></li>    <li id="ul0003-0033" num="0064"><b>141</b> choosing one of several possible network devices <b>31</b></li>    <li id="ul0003-0034" num="0065"><b>150</b> transmitting first configuration information <b>7</b><i>a </i>to end device <b>1</b></li>    <li id="ul0003-0035" num="0066"><b>160</b> transmitting second configuration information <b>7</b><i>b </i>to network device <b>31</b></li></ul></p><p id="p-0029" num="0067">The method in accordance with the disclosure may include additional features.</p><p id="p-0030" num="0068">In particular, the granularity of the end devices that make up the industrial plant is arbitrary. Some end devices that have a need to communicate may be individual actors, sensors or controllers, while some end devices may be larger units that internally comprise a plurality of actors, sensors or controllers. For example, modular industrial plants are composed of processing modules that may be connected ad-hoc in order to form a plant for a specific job, and separated from one another again after this job is finished. Each such module may then be considered as an end device. In particular, the first information model may at least partially overlap with a Module Type Package, MTP, or any other description of the module.</p><p id="p-0031" num="0069">A second information model of the Ethernet network is obtained. This second information model is indicative of network devices and physical links within the Ethernet network. It is also indicative of the extended functionality for time-sensitive communication available in the Ethernet network, at an arbitrary level of granularity. For example, this second information model may indicate, for each network device, the functionality and features for time-sensitive communication that this network device provides. On top of this, the second information model may indicate one or more of the following:<ul id="ul0004" list-style="none">    <li id="ul0004-0001" num="0000">    <ul id="ul0005" list-style="none">        <li id="ul0005-0001" num="0070">a type of at least one network device (e.g., a switch, a router or a bridge);</li>        <li id="ul0005-0002" num="0071">capabilities of at least one network device, in particular functionality of the network device to contribute to time-sensitive communication on the Ethernet network;</li>        <li id="ul0005-0003" num="0072">a topology of interconnections between network devices and destinations for messages attached to the Ethernet network;</li>        <li id="ul0005-0004" num="0073">requirements and constraints for interfacing at least one network device with the network; and</li>        <li id="ul0005-0005" num="0074">quantitative capacities of network devices or interconnections.</li>    </ul>    </li></ul></p><p id="p-0032" num="0075">Based at least in part on the first information model, first configuration information for the at least one end device is determined. This first configuration information enables the at least one end device to transmit, into the Ethernet network, a message and an indication of the functionality for time-sensitive communication to be used when transporting this message. This first configuration information is transmitted to the at least one end device.</p><p id="p-0033" num="0076">The first configuration information may also be based in part on the second information model. For example, the second information model may indicate which concrete functionality for time-sensitive communication is present in the Ethernet network in the first place, and the end device may be instructed, by means of the first configuration information, to request a certain subset of this functionality. Also, the second information model may indicate where the destination for the message that is to be sent from the at least one end device resides in the Ethernet network.</p><p id="p-0034" num="0077">Based at least in part on the second information model, second configuration information for at least one network device in the Ethernet network is determined. This second configuration information enables at least one network device in the Ethernet network to forward the message to its destination on the Ethernet network, using said functionality for time-sensitive communication that has been indicated by the at least one end device. This second configuration information is transmitted to the at least one network device.</p><p id="p-0035" num="0078">The second configuration information may also be based in part on the first information model. For example, the first information model may indicate the type and size of messages that are to be sent by at least one end device. Also, the first information model may indicate the destinations to which messages are to be sent, so that in combination with the locations of such destinations obtained from the second information model, a path for the desired communication may be worked out.</p><p id="p-0036" num="0079">Thus, by combining the information from both the first information model and the second information model, an orchestrating entity may broker the establishing of the time-sensitive communication from the end device into the Ethernet network. For this to work, the end device does not need to know any details of the Ethernet network, and the network devices do not need to know any details of the end devices.</p><p id="p-0037" num="0080">This is particularly advantageous in an environment where frequent changes to the configuration of the industrial plant, and/or to the Ethernet network, are to be expected. For example, in a modular industrial plant, the configuration of modules changes whenever a particular production job has been finished and the plant needs to be adapted to fit the next intended job. Whenever something changes in one place, the interdependencies among end devices, as well as the interdependencies between the end devices on the one hand and the Ethernet network on the other hand, may require further changes in order to preserve the functioning of time-sensitive communication in all needed relations from particular end devices to particular destinations. This is very hard, if not impossible, to keep track of manually.</p><p id="p-0038" num="0081">Also, there may be peculiarities in the Ethernet network that an administrator of end devices is not aware of, and vice versa. For example, a first section of the Ethernet network in a plant may already have modern network devices with all features that the latest version of the TSN standard has to offer, while a second section of the Ethernet network is still using the previous generation of network devices that has less features. Which functionality for time-sensitive communication may be used can therefore depend, e.g., on where the destination of the message resides in the Ethernet network.</p><p id="p-0039" num="0082">In particular, the first information model, and/or the second information model, may be an Open Platform Communications Uniform Architecture, OPC UA, information model. This layer of abstraction specifically facilitates said brokering of the time-sensitive communication by using information from both the first and the second information model. In particular, same things and properties are likely to have same representations in the models even if the set of end devices, and/or the set of network devices, comprises a mixture of devices from different vendors, or from different device generations. For example, some end devices may be in use in the industrial plant for a long time up to several decades, and they may be working side by side with recent end devices.</p><p id="p-0040" num="0083">In particular in the context of UA, the information models on the one hand, and the configuration information on the other hand, need not be wholly different data structures. Rather, for example, the configuration information may be appended to the previously received information model as another part of this information model (e.g., a new &#x201c;address space&#x201d;), and then this augmented information model may be fed back to the end device, respectively to the network device.</p><p id="p-0041" num="0084">The first information model may come from any source. For example, the industrial plant may have been created in the first place according to an engineered plan or model that also comprises the first information model. A first information model may also come bundled with a first end device, and multiple such first information models may be amalgamated into one.</p><p id="p-0042" num="0085">In a particularly advantageous embodiment, the obtaining of the first information model specifically comprises establishing, based at least in part on messages sent by end devices, and/or on responses of end devices to at least one query, an inventory of end devices within the industrial plant. For example, an orchestration entity may send a broadcast query in order to solicit responses from all end devices on a network segment. Alternatively or in combination, the orchestration entity may also query end devices one by one to gather information. An automated generation of a first information model in this manner saves a lot of time and engineering effort particularly in a situation where frequent changes to the industrial plant are to be expected, such as in modular industrial plants.</p><p id="p-0043" num="0086">Likewise, in a particularly advantageous embodiment, the obtaining of the second information model specifically comprises establishing, based at least in part on responses by network devices to at least one query, an inventory of network devices and physical links in the Ethernet network. In particular, Ethernet network installations have a tendency to grow over time, and expansions are often added in various places without a network-wide coordination. Also, because it is easy to add new network devices and changes to existing network devices are not always required for the new devices to join the network, a centralized documentation of the network topology frequently lags behind the actual topology.</p><p id="p-0044" num="0087">In a further particularly advantageous embodiment, the first configuration information comprises at least one rule for the end device to assign a particular priority or quality of service, QoS, class to a message, and/or to request the use of a particular functionality for time-sensitive communication, in response to the message meeting at least one predetermined condition. The whole point of having time-sensitive communication of end devices into the Ethernet network is to guarantee timely delivery of important messages. But a message is not important per se, just like the letter A is not more important than the letter B per se. A message becomes more important or less important in the concrete context of the plant. It is therefore advantageous to centrally orchestrate the criteria that are used to assign priorities to messages.</p><p id="p-0045" num="0088">Every time the end device creates a message, this message may be checked against the rules obtained from the first configuration information, and then the appropriate priority may then be assigned to this particular message.</p><p id="p-0046" num="0089">For example, at least one condition in at least one rule may specifically comprise that the end device indicates, by virtue of the message, an abnormality it has detected. Specifically, the end device may indicate in this manner that it is in an abnormal state. For example, if a heating element does not complete an electric circuit with a power source despite being connected to the power source, this may indicate that the heating element is broken and there is no conductive path through it.</p><p id="p-0047" num="0090">The end device may also indicate that a physical action performed by the end device on an industrial process executed by the industrial plant has failed. For example, after a valve has been instructed to open or close and has actuated its drive mechanism to move the valve member accordingly, it may be checked with a proximity sensor whether the valve member has actually reached the intended position or whether it is stuck.</p><p id="p-0048" num="0091">Alternatively or in combination, at least one condition in at least one rule may comprise that a measurement value of a physical quantity comprised in the message falls above or below a predetermined threshold value set in the at least one rule.</p><p id="p-0049" num="0092">The rationale behind this is that many sensors are present in an industrial plant for the purpose of detecting abnormal conditions. As long as there is no abnormality, there is no urgent need to follow, say, a temperature value that is bobbing up and down between 30&#xb0; C. and 32&#xb0; C. In a typical industrial plant, there will be a large flood of such non-urgent, normal measurement values. But when a sudden departure of a measurement value from the normal state indicated a problem, immediate action may be required. For example, if said temperature suddenly breaks out of the 30&#xb0; C. to 32&#xb0; C. band and shoots up to 40&#xb0; C., this may indicate that a cooling fan has stopped working, and a device has to be shut off immediately in order to avoid overheating.</p><p id="p-0050" num="0093">In another example, the concrete current value that a valve motor draws while actuating the valve is not interesting most of the time. But if the current is lower than a certain threshold, then this may indicate that the mechanical connection between the motor and the valve member is broken, so that the motor does not act upon the valve member any more. If the current is higher than a certain threshold, this may indicate that the movement of the valve member is impeded by an unusually high resistance, so that the valve member may be close to getting stuck altogether.</p><p id="p-0051" num="0094">In a further particularly advantageous embodiment, the first configuration information includes instructions for the end device how to encode a request for a particular functionality for time-sensitive communication in at least one Ethernet frame transmitted to the Ethernet network. This is an aspect than can be brokered very well by an orchestration entity that has access to both the first and the second information model: What a network device that gets to see the message from the end device can understand and map to the use of particular functionality for time-sensitive communication depends on this particular network device. In order to trigger the use of such functionality, the end device needs to speak the same language as the network device.</p><p id="p-0052" num="0095">In a further particularly advantageous embodiment, the first configuration information specifically comprises information that enables the end device to synchronize an internal system time with the Ethernet network, and/or a schedule for transmitting messages from the end device to the Ethernet network. In this manner, even an end device that previously was not aware of the extended functionality for time-sensitive communication, such as TSN functionality, may be made to fully support this functionality.</p><p id="p-0053" num="0096">In a further particularly advantageous embodiment, the second configuration information specifically comprises instructions for a plurality of network devices to configure redundant forwarding paths for the message. For example, based on the first information model, an orchestrating entity may determine that timely delivery of certain alarm messages is critical because damage to the plant might result if transmission fails. Even if the Ethernet network is designed to nominally guarantee delivery of the message within a certain timeframe, this guarantee will not prevent hardware of a network device from failing at the wrong moment. A redundant path ensures that even if one such sudden failure should occur, this failure will not escalate into plant damage by virtue of the belated or failed transmission of the message.</p><p id="p-0054" num="0097">In a further particularly advantageous embodiment, a network device to be configured for the forwarding of a message to a destination is chosen based at least in part on quantitative utilizations of the several network devices. In this manner, the utilization may be spread more evenly across the different network devices, and bottlenecks may be avoided.</p><p id="p-0055" num="0098">There are three main types of industrial end devices for which it is particularly advantageous to make them aware of the extended functionality for time-sensitive communication.</p><p id="p-0056" num="0099">As discussed above, an end device may specifically comprise a sensor that is configured to measure at least one physical property. This physical property is relevant for an industrial process executed by the industrial plant, be it because it is a state variable of the process itself, or because it indicated the working state of equipment that is executing the industrial process.</p><p id="p-0057" num="0100">As discussed above, the end device may comprise an actuator that is configured to perform a physical action on the industrial process.</p><p id="p-0058" num="0101">The end device may also comprise a controller that is configured to drive one or more actuators and receive measurement values from at least one sensor, so as to cause at least one quantity indicated by the measurement values to move to, and/or to remain at, a predetermined setpoint value. For example, a controller may actuate inflow and outflow valves of a reaction vessel, so as to keep a pressure or temperature within the vessel at the setpoint value. Even in a normal operating situation, messages sent by the controller to one or more actuators may be urgent. For example, the maximum slew rate with which the controller may change the temperature or pressure in the vessel may depend on how fast the controller can open or close particular valves.</p><p id="p-0059" num="0102">Delivery of the first configuration information to the end device, and delivery of the second configuration information to the network device, may be organized in any suitable manner.</p><p id="p-0060" num="0103">For example, an end device, or a network device, may send a configuration pull request to an orchestrating entity, and receive the first, or second, configuration information in a pull reply. This is particularly useful when the need to obtain a new configuration arises on the side of the respective device, such as when the device is first commissioned.</p><p id="p-0061" num="0104">Alternatively or in combination, the orchestrating entity may send the first, or second, configuration information to the end device, or to the network device, in a push request, and the respective device may confirm receipt of the configuration information by means of a configuration push reply. This is particularly useful when the need to update the configuration arises on the side of the orchestrating entity, e.g., when deemed necessary by an operator.</p><p id="p-0062" num="0105">The method may be wholly or partially computer-implemented. In this respect, hardware platforms of end devices, as well as network devices, are to be regarded as &#x201c;computers&#x201d; in a broad sense as well because these devices are able to execute at least the computer program code in their firmware. The invention therefore also provides one or more computer programs with instructions that, when executed by one or more computers, cause the one or more computers to perform the method described above.</p><p id="p-0063" num="0106">This computer program may be sold on a non-transitory computer storage medium or as a download product that may be transmitted over a network after purchase. The invention therefore also relates to a non-transitory computer storage medium or a download product with the computer program. The invention also relates to one or more computers with the one or more computer programs, and/or with the non-transitory storage medium or download product.</p><p id="p-0064" num="0107">All references, including publications, patent applications, and patents, cited herein are hereby incorporated by reference to the same extent as if each reference were individually and specifically indicated to be incorporated by reference and were set forth in its entirety herein.</p><p id="p-0065" num="0108">The use of the terms &#x201c;a&#x201d; and &#x201c;an&#x201d; and &#x201c;the&#x201d; and &#x201c;at least one&#x201d; and similar referents in the context of describing the invention (especially in the context of the following claims) are to be construed to cover both the singular and the plural, unless otherwise indicated herein or clearly contradicted by context. The use of the term &#x201c;at least one&#x201d; followed by a list of one or more items (for example, &#x201c;at least one of A and B&#x201d;) is to be construed to mean one item selected from the listed items (A or B) or any combination of two or more of the listed items (A and B), unless otherwise indicated herein or clearly contradicted by context. The terms &#x201c;comprising,&#x201d; &#x201c;having,&#x201d; &#x201c;including,&#x201d; and &#x201c;containing&#x201d; are to be construed as open-ended terms (i.e., meaning &#x201c;including, but not limited to,&#x201d;) unless otherwise noted. Recitation of ranges of values herein are merely intended to serve as a shorthand method of referring individually to each separate value falling within the range, unless otherwise indicated herein, and each separate value is incorporated into the specification as if it were individually recited herein. All methods described herein can be performed in any suitable order unless otherwise indicated herein or otherwise clearly contradicted by context. The use of any and all examples, or exemplary language (e.g., &#x201c;such as&#x201d;) provided herein, is intended merely to better illuminate the invention and does not pose a limitation on the scope of the invention unless otherwise claimed. No language in the specification should be construed as indicating any non-claimed element as essential to the practice of the invention.</p><p id="p-0066" num="0109">Preferred embodiments of this invention are described herein, including the best mode known to the inventors for carrying out the invention. Variations of those preferred embodiments may become apparent to those of ordinary skill in the art upon reading the foregoing description. The inventors expect skilled artisans to employ such variations as appropriate, and the inventors intend for the invention to be practiced otherwise than as specifically described herein. Accordingly, this invention includes all modifications and equivalents of the subject matter recited in the claims appended hereto as permitted by applicable law. Moreover, any combination of the above-described elements in all possible variations thereof is encompassed by the invention unless otherwise indicated herein or otherwise clearly contradicted by context.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method for establishing time-sensitive communication from at least one end device in an industrial plant into an Ethernet network with extended functionality for time-sensitive communication, comprising the steps of:<claim-text>obtaining a first information model of the at least one end device, and/or of at least a portion of the plant that comprises the at least one end device, wherein this information model is indicative of the type and/or content of messages that are to be sent to the Ethernet network by the at least one end device, and is also indicative of the destinations of said messages;</claim-text><claim-text>obtaining a second information model of the Ethernet network that is indicative of network devices, physical links within the Ethernet network, and the extended functionality for time-sensitive communication available in the Ethernet network;</claim-text><claim-text>determining, based at least in part on the first information model, first configuration information for the at least one end device, wherein said first configuration information enables the at least one end device to transmit, into the Ethernet network, a message and an indication of the functionality for time-sensitive communication to be used when transporting this message;</claim-text><claim-text>determining, based at least in part on the second information model, second configuration information for at least one network device in the Ethernet network, wherein said second configuration information enables the at least one network device in the Ethernet network to forward the message to its destination on the Ethernet network, using said indicated functionality for time-sensitive communication;</claim-text><claim-text>transmitting the first configuration information to the at least one end device; and</claim-text><claim-text>transmitting the second configuration information to the at least one network device.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first information model, and/or the second information model, specifically is an Open Platform Communications Uniform Architecture, OPC UA, information model.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the functionality for time-sensitive communication specifically is Time-Sensitive Networking, TSN, functionality.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the obtaining of the first information model specifically comprises: establishing, based at least in part on messages sent by end devices, and/or on responses of end devices to at least one query, an inventory of end devices within the industrial plant.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the obtaining of the second information model specifically comprises: establishing, based at least in part on responses by network devices to at least one query, an inventory of network devices and physical links in the Ethernet network.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first configuration information comprises at least one rule for the end device to assign a particular priority or quality of service, QoS, class to a message, and/or to request the use of a particular functionality for time-sensitive communication, in response to the message meeting at least one predetermined condition.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein at least one condition in at least one rule comprises:<claim-text>the end device indicates, by virtue of the message, that it is in an abnormal state or that a physical action performed by the end device on an industrial process executed by the industrial plant has failed; and/or</claim-text><claim-text>a measurement value of a physical quantity that is comprised in the message falls above or below a predetermined threshold value set in the at least one rule.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first configuration information includes instructions for the end device how to encode a request for a particular functionality for time-sensitive communication in at least one Ethernet frame transmitted to the Ethernet network.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first configuration information comprises information that enables the end device to synchronize an internal system time with the Ethernet network, and/or a schedule for transmitting messages from the end device to the Ethernet network.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second configuration information comprises instructions for a plurality of network devices to configure redundant forwarding paths for the message.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising: choosing at least one out of several network devices available in the Ethernet network based at least in part on quantitative utilizations of the several network devices.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least one end device comprises:<claim-text>a sensor that is configured to measure at least one physical property that is relevant for an industrial process executed by the industrial plant;</claim-text><claim-text>an actuator that is configured to perform a physical action on said industrial process; and/or</claim-text><claim-text>a controller that is configured to drive one or more actuators and receive measurement values from at least one sensor, so as to cause at least one quantity indicated by the measurement values to move to, and/or to remain at, a predetermined setpoint value.</claim-text></claim-text></claim></claims></us-patent-application>