<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230006619A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230006619</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17929677</doc-number><date>20220902</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>202110402044.7</doc-number><date>20210414</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>F</subclass><main-group>3</main-group><subgroup>21</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>03</class><subclass>F</subclass><main-group>1</main-group><subgroup>32</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>F</subclass><main-group>3</main-group><subgroup>21</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>F</subclass><main-group>1</main-group><subgroup>32</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>03</class><subclass>F</subclass><main-group>2200</main-group><subgroup>451</subgroup><symbol-position>L</symbol-position><classification-value>A</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">COMPENSATION CIRCUIT</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2021/136094</doc-number><date>20211207</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17929677</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>SMARTER MICROELECTRONICS (GUANG ZHOU) CO., LTD.</orgname><address><city>Guangzhou</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>PENG</last-name><first-name>Zhenfei</first-name><address><city>Guangzhou</city><country>CN</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>SU</last-name><first-name>Qiang</first-name><address><city>Guangzhou</city><country>CN</country></address></addressbook></inventor></inventors></us-parties><assignees><assignee><addressbook><orgname>SMARTER MICROELECTRONICS (GUANG ZHOU) CO., LTD.</orgname><role>03</role><address><city>Guangzhou</city><country>CN</country></address></addressbook></assignee></assignees></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A compensation circuit includes a power amplifier, a current bias circuit, a power detection circuit and a current control circuit; the power detection circuit is configured to detect the voltage amplitude of the radio frequency input signal of the power amplifier and output a reference current when the voltage amplitude meets a preset condition; the current control circuit is configured to receive a reference current and output a compensation current to the current bias circuit based on the reference current; the current bias circuit is configured to receive the compensation current and generate the direct-current bias current, and output the compensation current and the direct-current bias current to the power amplifier; and the power amplifier is configured to receive the compensation current and the direct-current bias current, and amplify the power of the radio frequency input signal based on the compensation current and the direct-current bias current.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="111.84mm" wi="147.15mm" file="US20230006619A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="215.73mm" wi="149.44mm" file="US20230006619A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="121.84mm" wi="149.18mm" file="US20230006619A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="111.00mm" wi="149.18mm" file="US20230006619A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="208.87mm" wi="149.35mm" file="US20230006619A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This is a continuation of International Application No. PCT/CN2021/136094 filed on Dec. 7, 2021, which claims priority to Chinese Patent Application No. 202110402044.7 filed on Apr. 14, 2021. The disclosures of the above-referenced applications are hereby incorporated by reference in their entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">BACKGROUND</heading><p id="p-0003" num="0002">With the development of 5G communication, power amplifier (PA) with high bandwidth and high linearity plays an increasingly important role. The nonlinear distortion of PA has become a serious problem in 5G wireless communication system, which affects the linear amplification ability and the signal efficiency of PA.</p><heading id="h-0003" level="1">SUMMARY</heading><p id="p-0004" num="0003">The disclosure relates to the field of electronic technical, and in particular to a compensation circuit.</p><p id="p-0005" num="0004">Some embodiments of the disclosure provide a compensation circuit.</p><p id="p-0006" num="0005">The compensation circuit can include a power amplifier, a current bias circuit, a power detection circuit and a current control circuit;</p><p id="p-0007" num="0006">the power detection circuit is connected with the power amplifier and configured to detect the voltage amplitude of the radio frequency input signal of the power amplifier and output a reference current when a voltage amplitude of the radio frequency input signal meets a preset condition;</p><p id="p-0008" num="0007">the current control circuit, connected with the power detection circuit and the current bias circuit, is configured to receive the reference current output by the power detection circuit and output a compensation current to the current bias circuit based on the reference current;</p><p id="p-0009" num="0008">the current bias circuit, connected with the current control circuit and the power amplifier, is configured to receive the compensation current output by the current control circuit and generate a direct-current bias current, and output the compensation current and the direct-current bias current to the power amplifier; and</p><p id="p-0010" num="0009">the power amplifier, connected with the current bias circuit, is configured to receive the compensation current and the direct-current bias current, and amplify the power of the radio frequency input signal based on the compensation current and the direct-current bias current.</p><p id="p-0011" num="0010">In some embodiments, the preset condition includes:</p><p id="p-0012" num="0011">the power detection circuit detects that the voltage amplitude of the radio frequency input signal is greater than a saturation voltage of the power amplifier.</p><p id="p-0013" num="0012">In some embodiments, the preset condition further includes:</p><p id="p-0014" num="0013">the power detection circuit detects that the voltage amplitude of the radio frequency input signal is lower than a turn-on voltage of the power amplifier.</p><p id="p-0015" num="0014">In some embodiments, the current control circuit includes a first branch and at least one second branch;</p><p id="p-0016" num="0015">the first branch, connected with an output end of the power detection circuit, is configured to receive the reference current output by the power detection circuit; and</p><p id="p-0017" num="0016">the second branch, connected to the first branch and the current bias circuit, is configured to form a current mirror with the first branch to output the compensation current based on the reference current received by the first branch.</p><p id="p-0018" num="0017">In some embodiments, the first branch includes a first transistor;</p><p id="p-0019" num="0018">a source of the first transistor is connected with a first power supply;</p><p id="p-0020" num="0019">a gate of the first transistor is connected with the second branch, and a drain of the first transistor is shorted with the gate of the first transistor; and</p><p id="p-0021" num="0020">the drain of the first transistor, connected with the output end of the power detection circuit, is configured to receive the reference current output by the power detection circuit.</p><p id="p-0022" num="0021">In some embodiments, the second branch includes a second transistor and a third transistor;</p><p id="p-0023" num="0022">a source of the second transistor is connected with the first power supply; a gate of the second transistor is connected with the gate of the first transistor; a drain of the second transistor is connected with a source of the third transistor, which is configured to generate the compensation current based on the reference current and output to the third transistor;</p><p id="p-0024" num="0023">a drain of the third transistor, connected with an input end of the current bias circuit, is configured to output the compensation current to the current bias circuit; and</p><p id="p-0025" num="0024">a gate of the third transistor is a control terminal, configured to receive a digital signal to control an on-off state of the second branch.</p><p id="p-0026" num="0025">In some embodiments, the current bias circuit includes a current source and a fourth transistor;</p><p id="p-0027" num="0026">the current source is configured to generate the direct-current bias current and output it to the fourth transistor;</p><p id="p-0028" num="0027">a source of the fourth transistor is connected with the drain of the third transistor and the current source;</p><p id="p-0029" num="0028">a gate of the fourth transistor is shorted with the source of the fourth transistor;</p><p id="p-0030" num="0029">a drain of the fourth transistor is connected to the ground; and</p><p id="p-0031" num="0030">the fourth transistor is configured to receive the compensation current and the direct-current bias current, and output the compensation current and the direct-current bias current to the power amplifier.</p><p id="p-0032" num="0031">In some embodiments, the current bias circuit further includes a resistor;</p><p id="p-0033" num="0032">an input end of the resistor is connected to the gate of the fourth transistor; and</p><p id="p-0034" num="0033">an output end of the resistor is connected to the power amplifier.</p><p id="p-0035" num="0034">In some embodiments, the power amplifier includes a matching circuit; and</p><p id="p-0036" num="0035">the matching circuit is connected to the resistor and an input end of the radio frequency input signal.</p><p id="p-0037" num="0036">In some embodiments, the compensation circuit further includes a capacitor;</p><p id="p-0038" num="0037">the capacitor is connected between the input end of the power detection circuit and the input end of the radio frequency input signal.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a flowchart diagram of a compensation circuit provided by some embodiments of the disclosure;</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic diagram of a specific structure of a current control circuit provided by some embodiments of the disclosure;</p><p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic diagram of another specific structure of a current control circuit provided by some embodiments of the disclosure;</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of a specific structure of a compensation circuit provided by some embodiments of the disclosure;</p><p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic diagram of another specific structure of a compensation circuit provided by some embodiments of the disclosure;</p><p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a schematic diagram of a gain result of the compensation circuit provided by some embodiments of the disclosure.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0005" level="1">DETAILED DESCRIPTION</heading><p id="p-0045" num="0044">In order to make the objectives, technical solutions and advantages of the embodiments of the disclosure clearer, the specific description of the embodiments of the disclosure will be further provided in detail below with reference to the drawings. The described embodiments should not be taken as limiting to the embodiments of the disclosure, all other embodiments obtained by those ordinarily skilled in the art without paying any creative work belong to the scope of the disclosure.</p><p id="p-0046" num="0045">The embodiments of the disclosure and the features of the embodiments may be arbitrarily combined with each other if there is no conflict. Although the logical order is shown in the flowchart, in some cases the steps shown or described may be performed in a different order from those disclosed herein.</p><p id="p-0047" num="0046">Unless otherwise defined, all technical and scientific terms used herein have the same meaning as commonly understood by those skilled in the art of the disclosure. The terms used herein is for the purpose of describing embodiments of the disclosure only and is not intended to limit the embodiments of the disclosure.</p><p id="p-0048" num="0047">In some implementations, a fixed bias current is usually provided for a power amplifier to alleviate the nonlinear distortion of the power amplifier; however, with the increases of the input signal, the gain of the power amplifier will gradually decrease, and this method cannot adjust the bias current according to the input signal; that is, when the input signal reaches a certain level, the gain will show a compression trend, which leads to a significant deterioration of the linearity of the power amplifier.</p><p id="p-0049" num="0048">In an ideal linear power amplifier, the phase difference between an input signal and an output signal should be zero or a constant, that is, the output signal is from the input signal after amplitude amplification and a certain delay. However, in an actual power amplifier, an output signal and an input signal of a power amplifier show a linear amplification relationship in a small signal region. When the input power increases, the power of the output signal gradually approaches the nonlinear amplification region; due to the influence of nonlinearity, AM-AM distortion and AM-PM distortion will occur. Herein, the AM-AM distortion refers to the amplitude distortion of the output signal and the input signal, for example, when the bias current is constant and the swing of the input signal is too large or too small, the output voltage signal will be cut off or truncated, resulting in signal distortion.</p><p id="p-0050" num="0049">In some embodiments of the disclosure, <figref idref="DRAWINGS">FIG. <b>1</b></figref> is a flowchart diagram of a compensation circuit provided by some embodiments of the disclosure. Referring to <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the compensation circuit includes: a power amplifier <b>104</b>, a current bias circuit <b>103</b>, a power detection circuit <b>101</b> and a current control circuit <b>102</b>. <figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of a specific structure of the compensation circuit provided by some embodiments of the disclosure, and <figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic diagram of another specific structure of the compensation circuit provided by some embodiments of the disclosure. Referring to <figref idref="DRAWINGS">FIG. <b>4</b></figref> and <figref idref="DRAWINGS">FIG. <b>5</b></figref>,</p><p id="p-0051" num="0050">the power detection circuit <b>101</b>, connected with the power amplifier <b>104</b>, is configured to detect the voltage amplitude of the radio frequency input signal of the power amplifier <b>104</b> and output a reference current when the voltage amplitude of the radio frequency input signal meets a preset condition;</p><p id="p-0052" num="0051">the current control circuit <b>102</b>, connected with the power detection circuit <b>101</b> and the current bias circuit <b>103</b>, is configured to receive the reference current output by the power detection circuit <b>101</b> and output the compensation current to the current bias circuit <b>103</b> based on the reference current;</p><p id="p-0053" num="0052">the current bias circuit <b>103</b>, connected with the current control circuit <b>102</b> and the power amplifier <b>104</b>, is configured to receive the compensation current output by the current control circuit <b>102</b> and generate a direct-current bias current, and output the compensation current and the direct-current bias current to the power amplifier <b>104</b>; and</p><p id="p-0054" num="0053">the power amplifier <b>104</b>, connected with the current bias circuit <b>103</b>, is configured to receive the compensation current and the direct-current bias current, and amplify the power of the radio frequency input signal based on the compensation current and the direct-current bias current.</p><p id="p-0055" num="0054">Specifically, in some embodiments, the power amplifier <b>104</b> may be a triode power amplifier or a MOSFET power amplifier, which is not specifically limited herein.</p><p id="p-0056" num="0055">It should be noted that the operation state of the power amplifier include an amplification state, a cut-off state, a saturation state and the like. When the power amplifier is in the amplification state, the radio frequency output signal obtained by the radio frequency input signal passing through the power amplifier is linearly amplified; when the power amplifier is in the cut-off state, the power amplifier does not work, and at this time, the radio frequency input signal cannot pass through the power amplifier; and when the power amplifier is in the saturation state, the radio frequency output signal obtained by the radio frequency input signal passing through the power amplifier will be compressed, so that the radio frequency input signal and the radio frequency output signal cannot be completely linearly amplified, and the radio frequency output signal will be truncated, i.e., AM-AM distortion.</p><p id="p-0057" num="0056">Specifically, the power detection circuit <b>101</b> may be a processing module or a processor, which can obtain the voltage amplitude of the radio frequency input signal of the power amplifier <b>104</b> in real time. The power detection circuit <b>101</b> monitors the voltage amplitude of the radio frequency input signal of the power amplifier <b>104</b> in real time, and the direct-current bias voltage formed by the power detection circuit <b>101</b> is unchanged in the case that the set direct-current bias current is unchanged; and</p><p id="p-0058" num="0057">when the voltage amplitude of the radio frequency input signal meets the preset conditions, a reference current is output for the current control circuit <b>102</b> to output the compensation current to the current bias circuit <b>103</b> based on the reference current, and finally combined with the radio frequency input signal so that the radio frequency input signal reaches the input voltage condition in the amplification state of the power amplifier under the action of the direct-current bias current generated by the compensation circuit and the current bias circuit <b>103</b>, and is power amplified by the power amplifier.</p><p id="p-0059" num="0058">Exemplary, the preset condition include that the power detection circuit detects that the voltage amplitude of the radio frequency input signal is greater than a saturation voltage of the power amplifier.</p><p id="p-0060" num="0059">Specifically, in one embodiment, the power amplifier <b>104</b> is a MOSFET transistor, and the saturation voltage is a demarcation point that distinguishes linear amplification and nonlinear amplification of MOS devices. When the voltage of the radio frequency output signal is still greater than the saturation voltage of the power amplifier <b>104</b> under the action of the direct-current bias current, the operation state of the power amplifier <b>104</b> will enter the saturation state, at this time, the voltage of the input signal is larger, but the voltage of the output signal is basically constant; here the amplification characteristics of the power amplifier <b>104</b> will present a nonlinear amplification state.</p><p id="p-0061" num="0060">Specifically, the direct-current bias voltage may be expressed as Vb, the voltage of the radio frequency input signal may be expressed as Vin. When the power detection circuit detects that the voltage Vin+Vb of the radio frequency output signal is greater than the saturation voltage of the power amplifier, a reference current is output for the current control circuit <b>102</b> to output the compensation current based on the reference current. The compensation current is configured to adjust the radio frequency input signal so that the radio frequency input signal in combination with the direct-current bias voltage can meet the voltage range of the power amplifier <b>104</b> in the amplification state, and the linear amplification of the radio frequency input signal by the power amplifier <b>104</b> is realized.</p><p id="p-0062" num="0061">Exemplary, the preset condition further includes that the power detection circuit detects that the voltage amplitude of the radio frequency input signal is lower than a turn-on voltage of the power amplifier.</p><p id="p-0063" num="0062">Specifically, the turn-on voltage is a demarcation point for distinguishing the turn-on and the turn-off of the MOS device. When the voltage of the radio frequency output signal is still lower than the turn-on voltage of the power amplifier <b>104</b> under the action of the direct-current bias current Vb, the operation state of the power amplifier <b>104</b> will enter the cut-off state, that is, a non-working state; at this time, the output current of the output signal of the power amplifier is small, approximately equal to 0; here, the output signal of the power amplifier <b>104</b> presents a cut-off state, and the power amplifier <b>104</b> will present a nonlinear amplification state.</p><p id="p-0064" num="0063">Specifically, when the power detection circuit detects that the voltage Vin+Vb of the radio frequency output signal is lower than the turn-on voltage of the power amplifier, a reference current is output for the current control circuit <b>102</b> to output the compensation current based on the reference current. The compensation current is configured to adjust the radio frequency input signal so that the radio frequency input signal in combination with the direct-current bias voltage can meet the turn-on voltage of the power amplifier <b>104</b>, and thus the power amplifier <b>104</b> enters the operation state and linearly amplifies the radio frequency input signal.</p><p id="p-0065" num="0064">It should be noted that, in some embodiments of the disclosure, the voltage amplitude of the radio frequency input signal of the power amplifier is detected through the power detection circuit, when the voltage amplitude of the radio frequency input signal meets the preset condition, a reference current is output, and the value of the generated reference current corresponds to the voltage amplitude of the radio frequency input signal; the current control circuit, according to the reference current output by the power detection circuit, outputs the compensation current to the current bias circuit, and the compensation current is dynamically adjusted according to the reference current. Compared with some implementations, which can only provide a single fixed direct-current bias current, the compensation current can be further adjusted according to the power of the input signal of the power amplifier. Without changing the power consumption of the signal back-off section of the power amplifier, the compensation current of the power amplifier is generated by the power detection circuit and the current control circuit so as to realize the compensation of AM-AM distortion, so that the power amplifier can amplify the signal more stably with reduced distortion.</p><p id="p-0066" num="0065">In some embodiments, the current control circuit includes a first branch and at least one second branch; the first branch, connected with the output end of the power detection circuit, is configured to receive the reference current output by the power detection circuit; the second branch, respectively connected to the first branch and the current bias circuit, is configured to form a current mirror with the first branch to output the compensation current based on the reference current received by the first branch.</p><p id="p-0067" num="0066">In some embodiments, <figref idref="DRAWINGS">FIG. <b>2</b></figref> is a schematic diagram of a specific structure of the current control circuit provided by some embodiments of the disclosure. Referring to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the first branch <b>1021</b> includes the first transistor <b>10211</b>; the source of the first transistor <b>10211</b> is connected to the first power supply <b>1020</b>; the gate of the first transistor <b>10211</b> is connected to the second branch, and the drain of the first transistor <b>10211</b> is shorted with the gate of the first transistor <b>10211</b>; the drain of the first transistor <b>10211</b> is connected to the output end of the power detection circuit <b>101</b> and configured to receive the reference current output by the power detection circuit <b>101</b>.</p><p id="p-0068" num="0067">Specifically, the first transistor is a MOS transistor, herein the drain of the first transistor <b>10211</b> is shorted with the gate thereof, and here, the first transistor <b>10211</b> serves as a diode configured to separate the voltage at the first power supply and the power detection circuit terminal.</p><p id="p-0069" num="0068">In some embodiments, in some embodiments, the at least one second branch may be one second branch; and the second branch includes a second transistor <b>10221</b> and a third transistor <b>10222</b>; in which the source of the second transistor <b>10221</b> is connected to the first power supply <b>1020</b>; the gate of the second transistor <b>10221</b> is connected to the gate of the first transistor <b>10211</b>; the drain of the second transistor <b>10221</b> is connected to the source of the third transistor <b>10222</b>, which is configured to generate the compensation current based on the reference current and output it to the third transistor <b>10222</b>; the drain of the third transistor <b>10222</b>, connected to the input end of the current bias circuit <b>103</b>, is configured to output the compensation current to the current bias circuit <b>103</b>; and the gate of the third transistor <b>10222</b> is a control terminal configured to receive a digital signal to control the on-off state of the second branch.</p><p id="p-0070" num="0069">Specifically, the second transistor <b>10221</b> and the first transistor <b>10211</b> form a current mirror, in which a geometric proportional current mirror is formed depending the width-length ratio of the second transistor <b>10221</b> and the first transistor <b>10211</b>; the ratio of the current on the second branch <b>1022</b> to the current on the first branch <b>1021</b> is equal to the width-length ratio of the second transistor <b>10221</b> to the first transistor <b>10211</b>; the current on the second branch can be changed according to the change of the width-length ratio between the second transistor <b>10221</b> of the second branch and the first transistor <b>10211</b>.</p><p id="p-0071" num="0070">The gate Ctrol0 of the third transistor <b>10222</b> receives a digital signal, and when a high level is received, it is in an open-state such that the second branch <b>1022</b> is connected; and when a low level is received, it is in an off-state, the third transistor is disconnected, and the second branch <b>1022</b> is disconnected.</p><p id="p-0072" num="0071">It should be noted that, in other embodiments, the at least one second branch may be two or more second branches. <figref idref="DRAWINGS">FIG. <b>3</b></figref> is a schematic diagram of another specific structure of the current control circuit provided by some embodiments of the disclosure. Referring to <figref idref="DRAWINGS">FIG. <b>3</b></figref>, the second branch includes a second transistor <b>10221</b> and a third transistor <b>10222</b>; a fifth transistor <b>10231</b> and a sixth transistor <b>10232</b>; a seventh transistor <b>10241</b> and an eighth transistor <b>10242</b>; in which the respective sources of the second transistor <b>10221</b>, the fifth transistor <b>10231</b> and the seventh transistor <b>10241</b> are connected to the first power supply <b>1020</b>; and the respective gates of the second transistor <b>10221</b>, the fifth transistor <b>10231</b> and the seventh transistor <b>10241</b> are connected to the gate of the first transistor <b>10211</b> to form a cascode current mirror.</p><p id="p-0073" num="0072">The drain of the second transistor <b>10221</b> is connected to the source of the third transistor <b>10222</b>, the drain of the fifth transistor <b>10231</b> is connected to the source of the sixth transistor <b>10232</b>, and the drain of the seventh transistor <b>10241</b> is connected to the source of the eighth transistor <b>10242</b>; the second transistor <b>10221</b>, the fifth transistor <b>10231</b>, and the seventh transistor <b>10241</b> are respectively configured to generate the compensation current based on the reference current; and</p><p id="p-0074" num="0073">the gate Ctrl0 of the third transistor <b>10222</b>, the gate Ctrl1 of the sixth transistor <b>10232</b> and the gate Ctrl2 of the eighth transistor <b>10242</b> are control terminals, respectively, to control the on-off state of the branch based on the level of the received digital signal.</p><p id="p-0075" num="0074">The drain of the third transistor <b>10222</b>, the drain of the sixth transistor <b>10232</b> and the drain of the eighth transistor <b>10242</b> are respectively connected to the input end of the current bias circuit <b>103</b>, and configured to output the compensation current to the current bias circuit <b>103</b>.</p><p id="p-0076" num="0075">In some embodiments, the current bias circuit <b>103</b> includes a current source <b>1031</b> and a fourth transistor <b>1032</b>; in which the current source <b>1031</b> is configured to generate the direct-current bias current and output it to the fourth transistor <b>1032</b>; the source of the fourth transistor <b>1032</b> is connected to the drain of the third transistor <b>10222</b> and the current source <b>1031</b>; the gate of the fourth transistor <b>1032</b> is shorted with the source thereof; the drain of the fourth transistor <b>1032</b> is connected to the ground terminal; and the fourth transistor <b>1032</b> is configured to receive the compensation current and the direct-current bias current and output the compensation current and the direct-current bias current to the power amplifier.</p><p id="p-0077" num="0076">Specifically, the current source, i.e., an ideal current source, is a model abstracted from an actual power supply. Its end buttons can always provide a certain current to the outside regardless of the voltage at both ends. The current source has two basic properties: first, the current it provides is a constant value I or a certain time function I (t) and is not depend on the voltage at both ends; second, the current of the current source itself is determined, while the voltage at both ends is arbitrary. Here, the current source <b>1031</b> is configured to generate a constant current to serve as the direct-current bias current of the power amplifier <b>104</b>.</p><p id="p-0078" num="0077">The gate of the forth transistor <b>1032</b> is shorted with the source of the forth transistor <b>1032</b> to form a diode to prevent the radio frequency input signal from affecting the bias current and the compensation current.</p><p id="p-0079" num="0078">Specifically, according to the reference current, the compensation current can be controlled by dynamically adjusting the digital signals on each branch of the second branch <b>1022</b>; the constant direct-current bias current generated by the current source <b>1031</b> together with the compensation current regulates the voltage at the input end of the radio frequency input signal of the power amplifier <b>104</b>, so that the operation state of the power amplifier <b>104</b> remains in the amplification state, and the AM-AM distortion is compensated without changing the power consumption of the signal back-off section of the power amplifier, so that the power amplifier can more stably amplify the signal with reduced distortion.</p><p id="p-0080" num="0079">In some embodiments, the current bias circuit <b>103</b> further includes a resistor <b>1033</b>, in which the input end of the resistor <b>1033</b> is connected to the gate of the fourth transistor <b>1032</b>; and the output end of the resistor <b>1033</b> is connected to the power amplifier <b>104</b>.</p><p id="p-0081" num="0080">Specifically, the resistor <b>1033</b> receives the compensation current generated by the current control circuit <b>102</b> and the direct-current bias current generated by the current bias circuit <b>103</b>, and the voltage at the output end of the resistor <b>1033</b> is the product of the resistance value of the resistor <b>1033</b> and the sum of the compensation current and the direct-current bias current.</p><p id="p-0082" num="0081">Specifically, in some embodiments of the disclosure, the width-length ratios of the respective second transistor <b>10221</b>, the fifth transistor <b>10231</b> and seventh transistor <b>10241</b> to the first transistor <b>10211</b> in the second branch may be same, or different. According to the magnitude of the reference current output by the power detection circuit <b>101</b>, the state of the electrical level of the digital signal at the gate Ctrl0 of the third transistor <b>10222</b>, the gate Ctrl1 of the sixth transistor <b>10232</b> and the gate Ctrol2 of the eighth transistor <b>10242</b> is adjusted, resulting in different magnitudes of the compensation current generated by the current control circuit <b>102</b>, therefore, after passing through the resistor <b>1033</b>, the voltage at the input end of the resistor <b>1033</b> is also different, and the voltage at the input end of the resistor <b>1033</b> is dynamically adjusted according to the voltage of the radio frequency input signal, so that the operation state of the power amplifier <b>104</b> is kept in the amplification state.</p><p id="p-0083" num="0082">In some embodiments, the power amplifier <b>104</b> includes a matching circuit <b>1041</b> which is connected to the resistor <b>1033</b> and the input end RFIN of the radio frequency input signal.</p><p id="p-0084" num="0083">Specifically, the matching circuit is arranged on the input end of the transmission line, so as to achieve the purpose that all high-frequency microwave signals can be transmitted to the load point, and almost no signal is reflected back to the source point, thereby improving energy efficiency.</p><p id="p-0085" num="0084">In some embodiments, the compensation circuit further includes a capacitor <b>105</b>; the capacitor <b>105</b> is connected between the input end of the power detection circuit <b>101</b> and the input end RFIN of the radio frequency input signal.</p><p id="p-0086" num="0085">Specifically, the capacitor <b>105</b>, conducting an alternating current and blocking a direct current, is configured to prevent the reference current from adversely flowing to affect the radio frequency input signal.</p><p id="p-0087" num="0086"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a schematic diagram of a specific structure of a compensation circuit based on the current control circuit described in some embodiments shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. <figref idref="DRAWINGS">FIG. <b>5</b></figref> is a schematic diagram of another specific structure of the compensation circuit based on the current control circuit described in some embodiments shown in <figref idref="DRAWINGS">FIG. <b>3</b></figref>.</p><p id="p-0088" num="0087">In some embodiments provided in the disclosure, it should be understood that the disclosed apparatus circuit and method may be implemented in other ways. The above-described embodiments of device are merely illustrative, for example, the division of the units is only a division based on logical functions, and there may be other divisions in actual implementations, e.g., multiple units or components may be combined, or may be integrated into another system, or some features may be ignored or may not be performed. In addition, the coupling, direct coupling or communication connection between the components illustrated or discussed may be indirect coupling or communication connection through some interfaces, devices or units, which may be electrical, mechanical or otherwise.</p><p id="p-0089" num="0088">The above-mentioned units illustrated as separate components may be or may not be physically separated, and the components illustrated as units may be or may not be physical units, i.e., they may be located in one place or distributed to multiple network units; some or all of the units may be selected according to actual needs to achieve the purpose of the solutions of the embodiments.</p><p id="p-0090" num="0089">In addition, each functional unit in each of the embodiments of the disclosure may be integrated into a processing unit, and each unit may also be used separately as a single unit, and two or more units may also be integrated into a single unit; the above integrated units may be realized either in the form of hardware or in the form of hardware together with software functional units.</p><p id="p-0091" num="0090">Those ordinarily skilled in the art may understand that all or a part of the steps for realizing the above-mentioned embodiments of the method may be realized by hardware related to program instructions, and the above-mentioned program may be stored in a computer readable storage medium, and when the program is executed, the steps including the above-mentioned embodiments of the method are executed; and the above-mentioned storage medium includes various medium that may store program codes, such as mobile storage devices, Read-Only Memory (ROM), Random Access Memory (RAM), magnetic disks or optical disks, etc.</p><p id="p-0092" num="0091">Or, the above integrated unit in some embodiments of the disclosure may also be stored in a computer-readable storage medium, when it is implemented as a software function module and sold or used as an individual product. Based on such understanding, the technical solutions of the embodiments of the disclosure substantially or the part contributing to some implementations may be embodied in the form of a software product, and the computer software product is stored in a storage medium and includes several instructions to allow an electronic device (which may be a personal computer, a server, or a network equipment, etc.) to execute all or part of the method described in each of the embodiments of the disclosure. And the aforementioned storage medium includes various medium that may store program codes, such as mobile storage devices, ROM, RAM, magnetic disks or optical disks etc.</p><p id="p-0093" num="0092">Various embodiments of the present disclosure can have one or more of the following advantages.</p><p id="p-0094" num="0093">The compensation circuit provided in the embodiments of the disclosure detects the voltage amplitude of the radio frequency input signal of the power amplifier through the power detection circuit, and outputs a reference current when the voltage amplitude of the radio frequency input signal meets a preset condition, generating a corresponding reference current according to the voltage amplitude of the radio frequency input signal; the current controls the circuit to output the compensation current to the current bias circuit according to the reference current output by the power detection circuit, and dynamically adjust the compensation current according to the reference current. Compared with some implementations, in which only a single fixed direct-current bias current can be provided, with the compensation circuit of the disclosure, the magnitude of the compensation current can be further adjusted according to the power of the input signal of the power amplifier, and the power detection circuit and the current control circuit are applied to generate the compensation current of the power amplifier to realize the compensation of Am-Am distortion without changing the power consumption of the signal back-off section of the power amplifier, so that the power amplifier can amplify the signal more stably and meanwhile reduce the distortion.</p><p id="p-0095" num="0094">Various modifications of, and equivalent acts corresponding to, the disclosed aspects of the example embodiments, in addition to those described above, can be made by a person of ordinary skill in the art, having the benefit of the present disclosure, without departing from the spirit and scope of the disclosure defined in the following claims, the scope of which is to be accorded the broadest interpretation so as to encompass such modifications and equivalent structures.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A compensation circuit, comprising a power amplifier, a current bias circuit, a power detection circuit, and a current control circuit; wherein<claim-text>the power detection circuit, connected with the power amplifier, is configured to detect a voltage amplitude of a radio frequency input signal of the power amplifier and output a reference current when a voltage amplitude of the radio frequency input signal meets a preset condition;</claim-text><claim-text>the current control circuit, connected with the power detection circuit and the current bias circuit, is configured to receive the reference current output by the power detection circuit and output a compensation current to the current bias circuit based on the reference current;</claim-text><claim-text>the current bias circuit, connected with the current control circuit and the power amplifier, is configured to receive the compensation current output by the current control circuit and generate a direct-current bias current, and output the compensation current and the direct-current bias current to the power amplifier; and</claim-text><claim-text>the power amplifier, connected with the current bias circuit, is configured to receive the compensation current and the direct-current bias current, and amplify a power of the radio frequency input signal based on the compensation current and the direct-current bias current.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The compensation circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the preset condition comprises:<claim-text>the power detection circuit detects that the voltage amplitude of the radio frequency input signal is greater than a saturation voltage of the power amplifier.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The compensation circuit of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the preset condition further comprises:<claim-text>the power detection circuit detects that the voltage amplitude of the radio frequency input signal is lower than a turn-on voltage of the power amplifier.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The compensation circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the current control circuit comprises a first branch and at least one second branch;<claim-text>the first branch, connected with an output end of the power detection circuit, is configured to receive the reference current output by the power detection circuit; and</claim-text><claim-text>the second branch, connected to the first branch and the current bias circuit, is configured to form a current mirror with the first branch to output the compensation current based on the reference current received by the first branch.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The compensation circuit of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the first branch comprises a first transistor;<claim-text>a source of the first transistor is connected with a first power supply;</claim-text><claim-text>a gate of the first transistor is connected with the second branch, and a drain of the first transistor is shorted with the gate of the first transistor; and</claim-text><claim-text>the drain of the first transistor, connected with the output end of the power detection circuit, is configured to receive the reference current output by the power detection circuit.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The compensation circuit of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the second branch comprises a second transistor and a third transistor;<claim-text>a source of the second transistor is connected with the first power supply; a gate of the second transistor is connected with the gate of the first transistor; a drain of the second transistor connected with a source of the third transistor, is configured to generate the compensation current based on the reference current and output it to the third transistor;</claim-text><claim-text>a drain of the third transistor, connected with an input end of the current bias circuit, is configured to output the compensation current to the current bias circuit; and</claim-text><claim-text>a gate of the third transistor is a control terminal configured to receive a digital signal to control an on-off state of the second branch.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The compensation circuit of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the current bias circuit comprises a current source and a fourth transistor;<claim-text>the current source is configured to generate the direct-current bias current and output it to the fourth transistor;</claim-text><claim-text>a source of the fourth transistor is connected with the drain of the third transistor and the current source;</claim-text><claim-text>a gate of the fourth transistor is shorted with the source of the fourth transistor;</claim-text><claim-text>a drain of the fourth transistor is connected to the ground; and</claim-text><claim-text>the fourth transistor is configured to receive the compensation current and the direct-current bias current, and output the compensation current and the direct-current bias current to the power amplifier.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The compensation circuit of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the current bias circuit further comprises a resistor;<claim-text>an input end of the resistor is connected to the gate of the fourth transistor; and</claim-text><claim-text>an output end of the resistor is connected to the power amplifier.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The compensation circuit of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the power amplifier comprises a matching circuit; and<claim-text>the matching circuit is connected to the resistor and the input end of the radio frequency input signal.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The compensation circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a capacitor; wherein<claim-text>the capacitor is connected between the input end of the power detection circuit and the input end of the radio frequency input signal.</claim-text></claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The compensation circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein<claim-text>the compensation circuit is configured to dynamically adjust the compensation current according to the reference current, such that the magnitude of the compensation current is further adjusted according to the power of the input signal of the power amplifier; and</claim-text><claim-text>the power detection circuit and the current control circuit are applied to generate the compensation current of the power amplifier to realize compensation of Am-Am distortion without changing power consumption of a signal back-off section of the power amplifier, to facilitate the power amplifier amplifying signals stably while reducing distortion.</claim-text></claim-text></claim></claims></us-patent-application>