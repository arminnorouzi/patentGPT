<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230004185A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230004185</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17940490</doc-number><date>20220908</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>1</main-group><subgroup>10</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>F</subclass><main-group>1</main-group><subgroup>3206</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>1</main-group><subgroup>10</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>F</subclass><main-group>1</main-group><subgroup>3206</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">SYSTEM AND METHOD FOR CONTROLLILNG ELECTRICAL CURRENT SUPPLY IN A MULTI-PROCESSOR CORE SYSTEM VIA INSTRUCTION PER CYCLE REDUCTION</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>17358622</doc-number><date>20210625</date></document-id><parent-grant-document><document-id><country>US</country><doc-number>11460879</doc-number></document-id></parent-grant-document></parent-doc><child-doc><document-id><country>US</country><doc-number>17940490</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>ADVANCED MICRO DEVICES, INC.</orgname><address><city>Santa Clara</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>MEHRA</last-name><first-name>AMITABH</first-name><address><city>FORT COLLINS</city><state>CO</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>BORN</last-name><first-name>RICHARD MARTIN</first-name><address><city>FORT COLLINS</city><state>CO</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>SRINIVASAN</last-name><first-name>SRIRAM</first-name><address><city>AUSTIN</city><state>TX</state><country>US</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>KOMATIREDDY</last-name><first-name>SNEHA</first-name><address><city>SANTA CLARA</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>GOLDEN</last-name><first-name>MICHAEL L.</first-name><address><city>SANTA CLARA</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>MAN</last-name><first-name>XIUTING KALEEN C.</first-name><address><city>AUSTIN</city><state>TX</state><country>US</country></address></addressbook></inventor><inventor sequence="06" designation="us-only"><addressbook><last-name>DEVI</last-name><first-name>GOKUL SUBRAMANI RAMALINGAM LAKSHMI</first-name><address><city>SANTA CLARA</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="07" designation="us-only"><addressbook><last-name>HE</last-name><first-name>XIAOJIE</first-name><address><city>AUSTIN</city><state>TX</state><country>US</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">Methods and apparatuses control electrical current supplied to a plurality of processing units in a multi-processor system. A plurality of current usage information corresponding to the processing units are received by a controller to determine a threshold current for each of the processing units. The controller determines a frequency reduction action and an instructions-per-cycle (IPC) reduction action for the each of the processing units based on the threshold current and regulates operations of the processing units based on the determined frequency and IPC reduction actions.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="172.47mm" wi="134.45mm" file="US20230004185A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="178.65mm" wi="105.33mm" file="US20230004185A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="174.50mm" wi="136.48mm" file="US20230004185A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="174.41mm" wi="124.63mm" file="US20230004185A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="180.68mm" wi="156.72mm" file="US20230004185A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="193.12mm" wi="150.28mm" orientation="landscape" file="US20230004185A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="193.12mm" wi="168.40mm" orientation="landscape" file="US20230004185A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="186.10mm" wi="116.50mm" file="US20230004185A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="195.83mm" wi="152.91mm" orientation="landscape" file="US20230004185A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="189.48mm" wi="117.01mm" file="US20230004185A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0001" level="1">BACKGROUND OF THE DISCLOSURE</heading><p id="p-0002" num="0001">When applications are run on processor cores of a multi-processor core system, the application activity may affect how much current is used in the processor cores. Multi-processor core systems are susceptible to high current usage if a number of the processor cores operate at high frequency as a result of high application activity. An over-current event that cannot be supported by the voltage regulator will cause the undesirable scenario of the voltage regulator and the entire system shutting down. Unless other mitigation strategies are used, operating frequency must be reduced to avoid over-current events. This results in a decrease in computer performance.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0002" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0003" num="0002">The implementations will be more readily understood in view of the following description when accompanied by the below figures, wherein like reference numerals represent like elements, and wherein:</p><p id="p-0004" num="0003"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is an example functional block diagram of a processor core system as known in the art;</p><p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is an example functional block diagram of a multi-processor core system according to embodiments disclosed herein;</p><p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a partial representation of the example functional block diagram of <figref idref="DRAWINGS">FIG. <b>2</b></figref> according to embodiments disclosed herein;</p><p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is another partial representation of the example functional block diagram of <figref idref="DRAWINGS">FIG. <b>2</b></figref> according to embodiments disclosed herein;</p><p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is another example functional block diagram of a multi-processor core system according to embodiments disclosed herein;</p><p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is an example functional block diagram of a multi-processor core system including a power monitor components according to embodiments disclosed herein;</p><p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is an example flow diagram of a process implemented in a multi-processor core system according to embodiments disclosed herein;</p><p id="p-0011" num="0010"><figref idref="DRAWINGS">FIGS. <b>8</b> and <b>9</b></figref> are example flow diagrams of a part of the process from <figref idref="DRAWINGS">FIG. <b>7</b></figref>;</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is an example flow diagram of another process implemented in a multi-processor core system according to embodiments disclosed herein.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0003" level="1">DETAILED DESCRIPTION OF IMPLEMENTATIONS</heading><p id="p-0013" num="0012">Briefly, systems and methods help control the electrical current supplied to a plurality of processing units in a multi-processor core system by reducing the operating frequency as well as the instructions-per-cycle (IPC) for each of the processor cores. In some implementations, the methods include: receiving a plurality of current usage information corresponding to the processing units; determining a threshold current for each of the processing units; determining a frequency reduction action and an IPC reduction action for the each of the processing units based on the threshold current; and regulating operations of the processing units based on the determined frequency and IPC reduction actions.</p><p id="p-0014" num="0013">In some embodiments, the methods further include: determining a voltage reduction action for the each of the processing units based on the threshold current; and regulating the operations of the processing units based on the determined frequency, IPC, and voltage reduction actions. In some examples, the methods further include: determining characteristics of current usage based on the current usage information in the each of the processing units. The frequency reduction action and the IPC reduction action for the each of the processing units are based on the determined characteristics of current usage. The characteristics of current usage may be individually determined for the each of the processing units, and the threshold current may be determined for the each of the processing units based on the individually determined characteristics. Alternatively, the characteristics of current usage corresponding to all the processing units may be aggregated, and the threshold current may be determined for the processing units based on the aggregated characteristics. In some examples, the determined characteristics of current usage include: a measured value of the current usage and a rate of increase for the current usage.</p><p id="p-0015" num="0014">In some embodiments, the methods further include: receiving a power measurement of the each of the processing units. At least one of the frequency reduction action, the IPC reduction action, or the voltage reduction action for the each of the processing units is determined based on the threshold current and the received power measurement.</p><p id="p-0016" num="0015">According to certain implementations, a controller is configured for controlling electrical current supplied to a plurality of processing units in a multi-processor system. The controller receives a plurality of current usage information corresponding to the processing units, determines a threshold current for each of the processing units, determines a frequency reduction action and an instructions-per-cycle (IPC) reduction action for the each of the processing units based on the threshold current, and regulates operations of the processing units based on the determined frequency and IPC reduction actions.</p><p id="p-0017" num="0016">In some embodiments, the controller further determines a voltage reduction action for the each of the processing units based on the threshold current and regulates the operations of the processing units based on the determined frequency, IPC, and voltage reduction actions. In some examples, the controller further determines characteristics of current usage based on the current usage information in the each of the processing units. The frequency reduction action and the IPC reduction action for the each of the processing units are based on the determined characteristics of current usage. The characteristics of current usage may be individually determined for the each of the processing units, and the threshold current is determined for the each of the processing units based on the individually determined characteristics. Alternatively, the characteristics of current usage corresponding to all the processing units may be aggregated, and the threshold current is determined for the processing units based on the aggregated characteristics. The determined characteristics of current usage include: a measured value of the current usage and a rate of increase for the current usage.</p><p id="p-0018" num="0017">In some examples, the frequency reduction action is configured to reduce an operating frequency of the each of the processing units by implementing one or more of: clock stretching, reducing clock generator frequency, reducing phase-lock loop (PLL) frequency, or using a frequency divider. In some examples, the IPC reduction action is configured to reduce an IPC value of the each of the processing units by implementing one or more of: a dispatch operations control unit, or reducing bandwidth of the processing unit.</p><p id="p-0019" num="0018">In some embodiments, the controller further receives power measurement of the each of the processing units. At least one of the frequency reduction action, the IPC reduction action, or the voltage reduction action for the each of the processing units is determined based on the threshold current and the received power measurement. The frequency reduction action or the IPC reduction action for the each of the processing units may be individually and separately determined based on the threshold current and the received power measurement for the each of the processing units. Alternatively, the threshold current may be an aggregated threshold current, and the power measurements corresponding to all the processing units are combined to form an aggregated power measurement, such that the frequency reduction action or the IPC reduction action for all the processing units is determined based on the aggregated threshold current and the aggregated power measurement for the processing units.</p><p id="p-0020" num="0019">According to certain implementations, a computer system includes a clock generator, a plurality of processing units, and a controller operably coupled with the voltage regulator, the clock generator, and the processing units. The controller is configured to control electrical current supplied to the processing units by: receiving a plurality of current usage information corresponding to the processing units; determining a threshold current for each of the processing units; determining a frequency reduction action for the clock generator and an instructions-per-cycle (IPC) reduction action for the each of the processing units based on the threshold current; and regulating operations of the clock generator and the processing units based on the determined frequency and IPC reduction actions.</p><p id="p-0021" num="0020">In some embodiments, the computer system further includes a voltage regulator operably coupled with the plurality of processing units and the controller, such that the controller is further configured to control the electrical current supplied to the processing units by: determining a voltage reduction action for the each of the processing units based on the threshold current; and regulating operation of the voltage regulator based on the determined voltage reduction action.</p><p id="p-0022" num="0021">In some examples, the controller is further configured to control the electrical current supplied to the processing units by determining characteristics of current usage based on the current usage information in the each of the processing units. The frequency reduction action and the IPC reduction action for the each of the processing units are based on the determined characteristics of current usage, and the determined characteristics of current usage may include a measured value of the current usage or a rate of increase for the current usage.</p><p id="p-0023" num="0022">In some examples, each of the plurality of processing units may include a power monitor configured to take power measurement of the corresponding processing unit. The controller may be further configured to control the electrical current supplied to the processing units by: receiving from the power monitors the power measurement of the each of the processing units. At least one of the frequency reduction action, the IPC reduction action, or the voltage reduction action for the each of the processing units is determined based on the threshold current and the received power measurement.</p><p id="p-0024" num="0023">In some examples, the frequency reduction action or the IPC reduction action for the each of the processing units may be individually and separately determined based on the threshold current and the received power measurement for the each of the processing units. In some examples, the threshold current may be an aggregated threshold current, and the power measurements from all the processing units are combined to form an aggregated power measurement, such that the frequency reduction action or the IPC reduction action for all the processing units is determined based on the aggregated threshold current and the aggregated power measurement for the processing units.</p><p id="p-0025" num="0024">In the following description, numerous specific details are set forth to provide a thorough understanding of the methods and mechanisms presented herein. However, one having ordinary skill in the art should recognize that the various embodiments may be practiced without these specific details. In some instances, well-known structures, components, signals, computer program instructions, and techniques have not been shown in detail to avoid obscuring the approaches described herein. It will be appreciated that for simplicity and clarity of illustration, elements shown in the figures have not necessarily been drawn to scale. For example, the dimensions of some of the elements may be exaggerated relative to other elements.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates a high-level view of a prior-art multi-processor core system <b>100</b> which implements the limitations as known in the art. The system <b>100</b> includes one or more cores (only one of the cores <b>102</b> is shown for simplicity) that are coupled with a controller <b>104</b> via a data communication bus to transmit information to and from the core <b>102</b> and the controller <b>104</b>. The core <b>102</b> includes a current sensor <b>106</b> which detects the current drawn by the core <b>102</b> from a power supply (not shown).</p><p id="p-0027" num="0026">The current is associated with the power supply voltage supplied to the core <b>102</b> depending upon the amount of power used by it. The amount of drawn current is sent as current value information <b>108</b> to the controller <b>104</b>, which includes a current monitor module <b>110</b> to receive the information <b>108</b> and determine a current threshold information <b>112</b> based on how much current is permitted by the core <b>102</b>. The current threshold information <b>112</b> may include current threshold values determined individually and separately for each of the cores <b>102</b>, or an aggregated current threshold value corresponding to all the cores <b>102</b> altogether.</p><p id="p-0028" num="0027">Because the current is proportional to the clock speed or frequency (that is, e.g., CPU frequency) of the core <b>102</b>, when a frequency reduction determination module <b>114</b> of the controller <b>104</b> determines that the current drawn by the core <b>102</b> must be reduced according to the current threshold information <b>112</b>, the frequency reduction determination module <b>114</b> provides a frequency reduction action <b>116</b> based upon the current threshold information <b>112</b> to a clock generator <b>118</b> operably coupled to the core <b>102</b>, where the clock generator <b>118</b> changes the clock rate for the core <b>102</b> based upon the frequency reduction action <b>116</b>. The controller <b>104</b> thus facilitates current reduction of the core <b>102</b> by reducing the frequency at which the core <b>102</b> is configured to operate.</p><p id="p-0029" num="0028">However, problems may arise in the aforementioned system <b>100</b> when the controller <b>104</b> only reduces the operating frequency of the core <b>102</b> without considering other factors. For example, reducing the operating frequency of the core <b>102</b> necessitates maintaining the workload for the core <b>102</b> at a steady rate, or otherwise the core <b>102</b> would start operating at a higher current again due to the combination of decreased clock rate or frequency and increased workload, resulting in reduced performance of the system <b>100</b>. The workload in this case is defined by the instructions per cycle (IPC). For some applications, such as applications limited by memory latency or memory bandwidth, IPC will increase as frequency is decreased. This reduces the effectiveness of reducing operating current by means of reducing operating frequency alone.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>2</b></figref> illustrates a high-level view of an exemplary multi-processor core system <b>200</b> according to embodiments disclosed herein. The system <b>200</b> in some implementations, solves the aforementioned problem of potentially reduced performance of the core processors by implementing IPC reduction in addition to the frequency reduction action. The system <b>200</b> as shown has a plurality of core processing units or cores <b>102</b>. Any suitable number of cores may be implemented. The controller <b>104</b> receives the current information <b>108</b> from the cores <b>102</b>, and provides each core with the determined frequency reduction actions <b>116</b> and IPC reduction actions <b>202</b>. The frequency reduction actions <b>116</b> and the IPC reduction actions <b>202</b> are collectively called a combined reduction action <b>204</b> which is provided by the controller <b>104</b> to each of the cores <b>102</b>.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates the system <b>200</b> according to embodiments disclosed herein. For simplicity, only the first core <b>102</b> is shown, although it is to be understood that each of the additional cores <b>102</b> is expected to include similar components and is configured to send and receive similar information or actions, as further explained. In the example shown, the controller <b>104</b> includes a reduction determination module <b>300</b>, which in this case is a frequency and IPC reduction determination module. The reduction determination module <b>300</b> receives the current threshold information <b>112</b> from the current monitor module <b>110</b> and determines the frequency reduction action <b>116</b> and the IPC reduction action <b>202</b>. That is, in addition to reducing the frequency of the core <b>102</b>, the module <b>300</b> also determines the reduction in the number of instructions that can be executed to reduce the possibility of the core <b>102</b>, now operating at a reduced frequency, increasing its current usage as a result of the increase in workload. The reduction in the IPC is implemented via an IPC control module <b>302</b> of the core <b>102</b>. The frequency control module <b>301</b> and the IPC control module <b>302</b> are collectively called core state control modules <b>304</b>.</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates another a high-level view of an exemplary multi-processor core system <b>400</b> according to embodiments disclosed herein, in which the current monitor module <b>110</b> provides the current threshold information <b>112</b> to the reduction determination module <b>300</b>, which in this case is a frequency, IPC, and voltage reduction determination module. The module <b>300</b> provides the combined reduction action <b>204</b> to the core state control modules <b>304</b>. In this case, the combined reduction action <b>204</b> includes the frequency reduction action <b>116</b>, the IPC reduction action <b>202</b>, and a voltage reduction action <b>404</b>; the core state control modules <b>304</b> include the frequency control module <b>301</b>, the IPC control module <b>302</b>, and a voltage control module <b>402</b>.</p><p id="p-0033" num="0032">In some implementations, the IPC reduction action <b>204</b> and the voltage reduction action <b>404</b> may be determined and implemented as follows. For a first input, the difference between a target frequency and an effective achieved frequency is calculated. Based on the calculated difference, a proportional reduction is then calculated to generate a lower target frequency for a first processor core (also referred to herein as &#x201c;core 0&#x201d;). For a second input, the difference between a total throttled cycle count and a total available cycles for instructions is calculated. Based on the calculated difference, a proportional reduction of IPC (based on which the IPC reduction action <b>204</b> is determined) is then calculated to generate a new lower target frequency for the first processor core. The newly generated lower target frequency from either the first or second input (or in some examples, both first and second inputs) may be used to create a new target frequency for the first core. The new target frequency is then mapped to a new required voltage (based on which the voltage reduction action <b>404</b> is determined) for the first core.</p><p id="p-0034" num="0033">The above method may be implemented for each of the cores, from the first core to the last core (also referred to herein as &#x201c;core N&#x201d;), as suitable. The processor cores may be evaluated for voltage change or &#x201c;looped&#x201d; by a smart firmware (that is, firmware made intelligent with advanced computing capability such as artificial intelligent or machine learning, for example) or any suitable algorithm to facilitate repeating the above process to calculate a new voltage value for each of the cores. In some examples, the looping of the cores may be performed using a hardware wedge, which is a smart algorithm (for example, algorithm using artificial intelligence or machine learning) implemented in one or more hardware logic components. The hardware wedge may include configurable capacity to store discrete voltage and frequency values (for example, in one or more lookup tables) to facilitate determining a target voltage value based on a given target frequency value. The maximum voltage is subsequently chosen among all the newly calculated voltages to determine a new target voltage for all the cores. Finally, the voltage reduction actions <b>404</b> may be implemented to change the voltage level of the cores from the current voltage to the new target voltage, as determined.</p><p id="p-0035" num="0034">The module <b>300</b> provides the frequency reduction action <b>116</b> to the frequency control module <b>301</b>, the IPC reduction action <b>202</b> to the IPC control module <b>302</b>, and the voltage reduction action <b>404</b> to the voltage control module <b>402</b> of the core <b>102</b>. That is, in addition to the frequency and IPC, voltage provided to the core <b>102</b> is also reduced in order to reach the current threshold. The actions <b>116</b>, <b>202</b>, and <b>404</b> are sent in the form of digital signals via any suitable signal communication means such as buses or wires.</p><p id="p-0036" num="0035">In the aforementioned examples, the frequency control module <b>301</b> may be a clock generator which controls the clock frequency of the corresponding core or a frequency divider which reduces the input frequency, for example. The IPC control module <b>302</b> may be a dispatch unit of the core that is configured to dispatch operations to a scheduler according to instructions received from an instruction cache or a dispatch control unit coupled with the dispatch unit that controls the operations to be dispatched, for example. The voltage control module <b>402</b> may be a voltage regulator implemented with or coupled with the core, for example. It is to be understood that these modules may be implemented as part of their respective core, or alternatively be implemented separately but functionally coupled with the cores.</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>5</b></figref> is a block diagram of one embodiment of an exemplary multi-processor core system <b>500</b> according to embodiments disclosed herein. The system <b>500</b> includes a total of N+1 cores <b>102</b> from core 0 to core N implemented in a common integrated circuit <b>502</b>. A voltage supply <b>504</b> is coupled with the integrated circuit <b>502</b> via a voltage regulator <b>506</b> thereof. The voltage supply <b>504</b> provides a selected input voltage value (VDD) to the voltage regulator <b>506</b>, which uses the VDD to supply voltage <b>508</b> to each of the cores <b>102</b>. The voltage regulator <b>506</b> may be implemented in the integrated circuit <b>502</b> which includes the cores <b>102</b> or implemented separately from the integrated circuit <b>502</b>. The voltage regulator <b>506</b> provides the supply voltage <b>508</b> that is variable according to an operating level provided by the voltage reduction action <b>404</b>. As such, in this embodiment, the voltage control module <b>402</b> of each core <b>102</b> may be the voltage regulator <b>506</b> located external to the cores <b>102</b>.</p><p id="p-0038" num="0037">The system <b>500</b> also includes the controller <b>104</b> coupled to each of the cores <b>102</b> which may be a current management unit configured to manage the current level in each of the cores, as discussed further below. In this example, the controller <b>104</b> is capable of generating a specific IPC reduction action <b>202</b> for each of the cores <b>102</b> such that the cores may implement different levels of IPC reduction according to the received action signal <b>202</b>.</p><p id="p-0039" num="0038">The system <b>500</b> further includes a clock generator <b>118</b> which may be a phase-locked loop (PLL) coupled to receive a system clock signal and capable of distributing the corresponding clock signals <b>510</b> to each of the cores <b>102</b>. In such examples, the clock signals <b>510</b> received by each of the cores <b>102</b> are independent of one another. Furthermore, the clock generator <b>118</b> may individually control and alter the frequency of each of the clock signals <b>510</b> provided to respective ones of the cores <b>102</b> independently of one another. As will be discussed in further detail below, the frequency of the clock signal <b>510</b> received by any given one of the cores may be increased or decreased in accordance with the frequency reduction action <b>116</b> generated by the controller <b>104</b>. Therefore, in this embodiment, the frequency control module <b>301</b> of each core <b>102</b> may be the clock generator <b>118</b> located external to the cores <b>102</b>.</p><p id="p-0040" num="0039">The cores <b>102</b> each includes the current sensor <b>106</b> as well as the core state control modules <b>304</b>. The modules <b>304</b> in some examples include one or more of: the frequency control module <b>301</b>, the IPC control module <b>302</b>, or the voltage control module <b>402</b>. Although it is indicated that the clock generator <b>118</b> may be used as the frequency control module <b>301</b> and the voltage regulator <b>506</b> may be used as the voltage control module <b>402</b>, according to some examples, the controlling of the frequency and/or voltage for each of the cores <b>102</b> may be implemented by the aforementioned module <b>301</b> and/or <b>506</b>, respectively, implemented within each core <b>102</b>. As such, any suitable combinations of the clock generator <b>118</b>, the voltage regulator <b>506</b>, and the per-core control modules <b>304</b> may be implemented in controlling the frequency and/or voltage of each core <b>102</b>.</p><p id="p-0041" num="0040">The controller <b>104</b> is capable of generating the reduction actions <b>116</b>, <b>202</b>, and <b>404</b> corresponding to the cores <b>102</b> individually, independent from one another, such that the cores <b>102</b> are controlled more flexibly according to the current values as measured by the current sensors <b>106</b>. Other features of the multi-processor core system <b>500</b>, such as memory controller, input/output interface, and different engines for display or graphics are not shown for simplicity, although it is understood that such components may be operatively coupled with a northbridge (not shown) as known in the art, and the operation of each of such peripheral devices may affect the current values of the cores as measured by the current sensors.</p><p id="p-0042" num="0041">The system <b>500</b> may be any type of processor system such as a central processing unit (CPU) or a graphics processing unit (GPU). For example, the system <b>500</b> may be implemented as an x86 processor with x86 64-bit instruction set architecture and is used in desktops, laptops, servers, and superscalar computers; an Advanced Reduced Instruction Set Computer (RISC) Machine (ARM) processor that is used in mobile phones or digital media players; or a digital signal processor (DSP) that is useful in the processing and implementation of algorithms related to digital signals, such as voice data and communication signals, and microcontrollers that are useful in consumer applications, such as printers and copy machines.</p><p id="p-0043" num="0042">The cores <b>102</b> form the computational centers of the system <b>500</b> and are responsible for performing a multitude of computational tasks. For example, the processor cores <b>102</b> may include, but are not limited to, execution units that perform additions, subtractions, shifting and rotating of binary digits, and address generation and load and store units that perform address calculations for memory addresses and the loading and storing of data from memory. The operations performed by the processor cores <b>102</b> enable the running of computer applications.</p><p id="p-0044" num="0043">The processor cores <b>102</b> operate according to certain performance states (P-states) as controlled by the controller <b>104</b>. P-states are described as follows. The Advanced Configuration and Power Interface (ACPI) standard is an operating system-based specification that regulates a computer system's power management. For example, the ACPI standard may control and direct the processor cores for better management of battery life. In doing so, ACPI assigns processor power states, referred to as C-states, and forces a processor to operate within the limits of these states. There are varying levels of C-states (e.g., C0 for a fully working state, with full power consumption and full dissipation of energy; C1 for a sleeping state, where execution of instructions are stopped and the processor may return to execute instructions instantaneously; or C2 for another sleeping state where the processor may take longer to go back to C0 state) that a processor may be assigned, along with the corresponding implication for a processor's performance.</p><p id="p-0045" num="0044">While a processor is in the fully working C0 state, it will be associated with another state, referred to as the performance state or the P-state. There are varying levels of P-states that are each associated with an operating voltage and frequency. The highest performance state is P0, which may correspond to maximum operating power, voltage and frequency. However, a processor may be placed in lower performance states, for example P1 or P2, which correspond to lower operating power, voltage and/or frequency. Generally, when a processor moves to a lower P-state it will operate at a lower capacity than before.</p><p id="p-0046" num="0045">In some embodiments, each of the cores <b>102</b> may share a voltage plane, in which case each core operates at the same voltage as the other ones. In another embodiment, voltage planes are not shared, and thus the supply voltage received by each core may be set and adjusted independently of the respective supply voltages received by other ones. Thus, operating point adjustments that include adjustments of a supply voltage may be selectively applied to each core independently of the others in embodiments having non-shared voltage planes. In the case where changing the operating point includes changing an operating voltage for one or more of the cores, the controller <b>104</b> may change the state of digital signals <b>404</b> provided to the voltage regulator <b>506</b>. Responsive to the change in the signals <b>404</b>, the voltage regulator <b>506</b> may adjust the supply voltage provided to the affected ones of the cores <b>102</b>.</p><p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a block diagram of another embodiment of the exemplary multi-processor core system <b>500</b> according to embodiments disclosed herein. In this embodiment, each of the cores <b>102</b> includes the frequency sensor <b>106</b>, the core state control modules <b>304</b>, and a power monitor <b>600</b> capable of taking power measurements, e.g. core Cac manager such as distributed power management (DPM) unit, for each of the cores <b>102</b>. The controller <b>104</b> includes, in addition to the current monitor module <b>110</b> and the reduction determination module <b>300</b>, a power monitor module <b>604</b> capable of receiving core power measurements <b>602</b> from the individual power monitors <b>600</b> of the cores <b>102</b> and determining, based on the core power measurements <b>602</b>, a core power threshold information <b>606</b>. The core power threshold information <b>606</b> may include power threshold values determined individually and separately for each of the cores <b>102</b>, or an aggregated power threshold value corresponding to all the cores <b>102</b> altogether.</p><p id="p-0048" num="0047">The reduction determination module <b>300</b> then uses the core power threshold information <b>606</b> received from the power monitor module <b>604</b> and the current threshold information <b>112</b> received from the current monitor module <b>110</b> to determine the combined reduction actions <b>204</b> for the cores <b>102</b>, which include the frequency reduction action <b>116</b> and the IPC reduction action <b>202</b>, and in some examples also the voltage reduction action <b>404</b>.</p><p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a flow diagram of an exemplary process <b>700</b> performed by an exemplary multi-processor core system according to embodiments disclosed herein. In step <b>702</b> of the process <b>700</b>, the current usage information corresponding to multiple cores of the system is received, for example from the current sensors coupled with the cores. In step <b>704</b>, a threshold current is determined for each of the cores based on the current usage information that is received. In some examples, a single threshold current may be determined for all the cores, whereas in other examples, each core has a separately determined threshold current that is flexibly determined based on the usage of the corresponding core.</p><p id="p-0050" num="0049">In step <b>706</b>, a frequency reduction action and an IPC reduction action is determined for each core based on the threshold current. That is, not only is the frequency (clock rate) of each core reduced, but also the IPC (usually calculated by dividing the number of instructions observed to be executed by the total number of clock cycles during which the executions of instructions were observed) is reduced according to the threshold current. The reduction in frequency and IPC may be determined using any suitable means such as lookup tables or machine learning, for example, based on prior knowledge of how much current can be reduced if operations of certain cores are reduced accordingly.</p><p id="p-0051" num="0050">In step <b>708</b>, the operation of each core is regulated based on the determined reduction actions from step <b>706</b>. As previously explained, the regulation of operations may be implemented using any suitable means that may be implemented within the cores or using external components that are operably coupled with the cores, such as the clock generator and/or the voltage regulator, to name a few.</p><p id="p-0052" num="0051">The regulation of operations includes one or more means of reducing the operating frequency of the core and the IPC of the core, and in some examples, also the voltage drawn by the core. The means of reducing frequency includes one or more of the following: clock stretching, reducing clock generator frequency, reducing PLL frequency, or using a frequency divider. The means of reducing IPC includes one or more of the following: using a dispatch operations control unit, or reducing bandwidth of the core. Any combination of the means may be implemented together, as suitable, to facilitate reduction of the core operating state according to the reduction actions.</p><p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flow diagram of an exemplary process taken in step <b>704</b> of the exemplary process <b>700</b> in order to determine the threshold current according to an embodiment. In step <b>800</b>, the current usage value corresponding to each core is separately and individually monitored for a period of time. In step <b>802</b>, one or more characteristic of current usage value corresponding to each core is determined based on the monitored current usage values. The characteristic may include any one of the following: the value of the current that is being used by the core (measured in amperes) or the steepness in the rate of change in the value of the current being used (measured in amperes/millisecond), for example.</p><p id="p-0054" num="0053">In step <b>804</b>, the threshold current is determined for each core based on the determined characteristic(s) of each core. In some examples, if the value of the monitored current usage is deemed too high, the threshold current may be set to be below the value of the current that is observed, according to the determined characteristic. In other examples, if the value of the current being used is increasing at a faster rate than is permitted, the threshold current may be determined such that the current value does not exceed the threshold current at the observed rate of increase, according to the determined characteristic.</p><p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. <b>9</b></figref> is a flow diagram of another exemplary process taken in step <b>704</b> of the exemplary process <b>700</b> in order to determine the threshold current according to an embodiment. In step <b>900</b>, the total current usage value for all the cores is monitored for a period of time. In step <b>902</b>, one or more accumulated characteristic of the total current change is determined based on the monitored total current usage values.</p><p id="p-0056" num="0055">The accumulated characteristic collectively represents the change in current usage values in all the cores as accumulated or aggregated from each of the cores, instead of monitoring the current usage individually for each core. The accumulation may be performed using data bus interconnecting all the cores such that the current usage values of each core may be transmitted through the data bus to be accumulated. The accumulated characteristic may include any one of the following: the total current usage value of the cores (measured in amperes) or the steepness in the rate of change in the total current usage value (measured in amperes/millisecond), for example. In step <b>904</b>, accumulated threshold current is determined for the cores based on the determined accumulated characteristic(s) of the cores.</p><p id="p-0057" num="0056">It is to be understood that the usage of the flow diagram in <figref idref="DRAWINGS">FIG. <b>8</b></figref> and is not mutually exclusive of the usage of the flow diagram in <figref idref="DRAWINGS">FIG. <b>9</b></figref>. That is, a system according to embodiments disclosed herein may implement both flow diagrams simultaneously such that each core's individual threshold current is determined in addition to the accumulated threshold current for all the cores combined. In such cases, the frequency reduction action and the IPC reduction action may thus be determined based on the individual threshold current as well as the accumulated threshold current as separately and simultaneously determined.</p><p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a flow diagram of an exemplary process <b>1000</b> performed by an exemplary multi-processor core system according to embodiments disclosed herein. In step <b>1002</b>, the current usage information and power measurement corresponding to multiple cores of the system are received, for example from the current sensors and power monitors previously described. In step <b>1004</b>, a threshold current is determined for each core based on the current usage information. In some examples, a threshold power is also determined for each core based on the corresponding power measurement.</p><p id="p-0059" num="0058">In step <b>1006</b>, a frequency reduction action and an IPC reduction action corresponding to each core are determined based on the threshold current and the power measurement, or based on the threshold current and the threshold power. In step <b>1008</b>, the operation of each core is regulated based on the determined reduction actions from step <b>1006</b>.</p><p id="p-0060" num="0059">In the process <b>1000</b>, in some examples, the power measurement used in the process may be an instantaneous measurement of power usage corresponding to the monitored core. In some examples, the power measurement may be an average value of multiple power measurements taken during a period of time, such as a predetermined number of clock cycles. Furthermore, in some examples, the determination of reduction actions may be based on individual core measurements or aggregated measurements of all the cores that are accumulated together. The accumulation may be performed using data bus interconnecting all the cores such that the power measurement corresponding to each core may be transmitted through the data bus to be accumulated.</p><p id="p-0061" num="0060">Notable advantage of implementing the systems and processes disclosed herein is an increased efficiency in the use of a processor, improved computer performance, protection of voltage regulators that are implemented in the system, more accurate responses to current events, and a reduced risk of system shutdown, among others. The efficiency of the processor usage is increased by preventing programs from attempting to execute more instructions at each clock cycle when there is a reduction in operating frequency, for example, thereby preventing the processor from negating the effects of reduced operating frequency by increasing the IPC. This also facilitates reducing the likelihood of an over-current event that cannot be supported by the voltage regulator, which in turn reduces the risk of the voltage regulator and the entire system shutting down.</p><p id="p-0062" num="0061">Although features and elements are described above in particular combinations, each feature or element can be used alone without the other features and elements or in various combinations with or without other features and elements. The methods provided may be implemented in a general purpose computer, a processor, or a processor core. Suitable processors include, by way of example, a general purpose processor, a special purpose processor, a conventional processor, a digital signal processor (DSP), a plurality of microprocessors, one or more microprocessors in association with a DSP core, a controller, a microcontroller, Application Specific Integrated Circuits (ASICs), Field Programmable Gate Arrays (FPGAs) circuits, any other type of integrated circuit (IC), and/or a state machine. Such processors may be manufactured by configuring a manufacturing process using the results of processed hardware description language (HDL) instructions and other intermediary data including netlists (such instructions capable of being stored on a computer readable media). The results of such processing may be mask works that are then used in a semiconductor manufacturing process to manufacture a processor which implements aspects of the embodiments.</p><p id="p-0063" num="0062">The methods or flow charts provided herein may be implemented in a computer program, software, or firmware incorporated in a non-transitory computer-readable storage medium for execution by a general purpose computer or a processor. Examples of non-transitory computer-readable storage mediums include a read only memory (ROM), a random access memory (RAM), a register, cache memory, semiconductor memory devices, magnetic media such as internal hard disks and removable disks, magneto-optical media, and optical media such as CD-ROM disks, and digital versatile disks (DVDs).</p><p id="p-0064" num="0063">In the preceding detailed description of the various embodiments, reference has been made to the accompanying drawings which form a part thereof, and in which is shown by way of illustration specific preferred embodiments in which the invention may be practiced. These embodiments are described in sufficient detail to enable those skilled in the art to practice the invention, and it is to be understood that other embodiments may be utilized, and that logical, mechanical and electrical changes may be made without departing from the scope of the invention. To avoid detail not necessary to enable those skilled in the art to practice the invention, the description may omit certain information known to those skilled in the art. Furthermore, many other varied embodiments that incorporate the teachings of the disclosure may be easily constructed by those skilled in the art. Accordingly, the present invention is not intended to be limited to the specific form set forth herein, but on the contrary, it is intended to cover such alternatives, modifications, and equivalents, as can be reasonably included within the scope of the invention. The preceding detailed description is, therefore, not to be taken in a limiting sense, and the scope of the present invention is defined only by the appended claims. The above detailed description of the embodiments and the examples described therein have been presented for the purposes of illustration and description only and not by limitation. For example, the operations described are done in any suitable order or manner. It is therefore contemplated that the present invention covers any and all modifications, variations or equivalents that fall within the scope of the basic underlying principles disclosed above and claimed herein.</p><p id="p-0065" num="0064">The above detailed description and the examples described therein have been presented for the purposes of illustration and description only and not for limitation.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A controller for controlling electrical current supplied to a plurality of processing units in a multi-processor system, the controller configured to:<claim-text>receive a plurality of current usage information corresponding to the processing units;</claim-text><claim-text>determine a threshold current for each of the processing units;</claim-text><claim-text>determine a frequency reduction action and an instructions-per-cycle (IPC) reduction action for the each of the processing units based on the threshold current; and</claim-text><claim-text>regulate operations of the processing units based on the determined frequency and IPC reduction actions.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further configured to:<claim-text>determine a voltage reduction action for the each of the processing units based on the threshold current; and</claim-text><claim-text>regulate the operations of the processing units based on the determined frequency, IPC, and voltage reduction actions.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further configured to:<claim-text>determine characteristics of current usage based on the current usage information in the each of the processing units, wherein the frequency reduction action and the IPC reduction action for the each of the processing units are based on the determined characteristics of current usage.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The controller of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the characteristics of current usage are individually determined for the each of the processing units, and wherein the threshold current is determined for the each of the processing units based on the individually determined characteristics.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The controller of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the characteristics of current usage corresponding to all the processing units are aggregated, and wherein the threshold current is determined for the processing units based on the aggregated characteristics.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The controller of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the determined characteristics of current usage include: a measured value of the current usage and a rate of increase for the current usage.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the frequency reduction action is configured to reduce an operating frequency of the each of the processing units by implementing one or more of: clock stretching, reducing clock generator frequency, reducing phase-lock loop (PLL) frequency, or using a frequency divider.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the IPC reduction action is configured to reduce an IPC value of the each of the processing units by implementing one or more of: a dispatch operations control unit, or reducing bandwidth of the processing unit.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The controller of <claim-ref idref="CLM-00002">claim 2</claim-ref>, further configured to:<claim-text>receive power measurement of the each of the processing units, wherein at least one of the frequency reduction action, the IPC reduction action, or the voltage reduction action for the each of the processing units is determined based on the threshold current and the received power measurement.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The controller of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the frequency reduction action or the IPC reduction action for the each of the processing units is individually and separately determined based on the threshold current and the received power measurement for the each of the processing units.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The controller of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the threshold current is an aggregated threshold current, and the power measurements corresponding to all the processing units are combined to form an aggregated power measurement, such that the frequency reduction action or the IPC reduction action for all the processing units is determined based on the aggregated threshold current and the aggregated power measurement for the processing units.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. A computer system comprising:<claim-text>a clock generator;</claim-text><claim-text>a plurality of processing units; and</claim-text><claim-text>a controller operably coupled with the voltage regulator, the clock generator, and the processing units, the controller configured to control electrical current supplied to the processing units by:<claim-text>receiving a plurality of current usage information corresponding to the processing units;</claim-text><claim-text>determining a threshold current for each of the processing units;</claim-text><claim-text>determining a frequency reduction action for the clock generator and an instructions-per-cycle (IPC) reduction action for the each of the processing units based on the threshold current; and</claim-text><claim-text>regulating operations of the clock generator and the processing units based on the determined frequency and IPC reduction actions.</claim-text></claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising a voltage regulator operably coupled with the plurality of processing units and the controller, the controller further configured to control the electrical current supplied to the processing units by:<claim-text>determining a voltage reduction action for the each of the processing units based on the threshold current; and</claim-text><claim-text>regulating operation of the voltage regulator based on the determined voltage reduction action.</claim-text></claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, the controller further configured to control the electrical current supplied to the processing units by:<claim-text>determining characteristics of current usage based on the current usage information in the each of the processing units, wherein the frequency reduction action and the IPC reduction action for the each of the processing units are based on the determined characteristics of current usage,</claim-text><claim-text>wherein the determined characteristics of current usage include: a measured value of the current usage and a rate of increase for the current usage.</claim-text></claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, the each of the plurality of processing units comprising a power monitor configured to take power measurement of the corresponding processing unit, the controller further configured to control the electrical current supplied to the processing units by:<claim-text>receiving from the power monitors the power measurement of the each of the processing units, wherein at least one of the frequency reduction action, the IPC reduction action, or the voltage reduction action for the each of the processing units is determined based on the threshold current and the received power measurement.</claim-text></claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the frequency reduction action or the IPC reduction action for the each of the processing units is individually and separately determined based on the threshold current and the received power measurement for the each of the processing units, and<claim-text>wherein the threshold current is an aggregated threshold current, and the power measurements from all the processing units are combined to form an aggregated power measurement, such that the frequency reduction action or the IPC reduction action for all the processing units is determined based on the aggregated threshold current and the aggregated power measurement for the processing units.</claim-text></claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. A method for controlling electrical current supplied to a plurality of processing units in a multi-processor system, the method comprising:<claim-text>receiving a plurality of current usage information corresponding to the processing units;</claim-text><claim-text>determining a threshold current for each of the processing units;</claim-text><claim-text>determining a frequency reduction action and an instructions-per-cycle (IPC) reduction action for the each of the processing units based on the threshold current; and</claim-text><claim-text>regulating operations of the processing units based on the determined frequency and IPC reduction actions.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising:<claim-text>determining a voltage reduction action for the each of the processing units based on the threshold current; and</claim-text><claim-text>regulating the operations of the processing units based on the determined frequency, IPC, and voltage reduction actions.</claim-text></claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising:<claim-text>determining characteristics of current usage based on the current usage information in the each of the processing units, wherein the frequency reduction action and the IPC reduction action for the each of the processing units are based on the determined characteristics of current usage,</claim-text><claim-text>wherein either (a) the characteristics of current usage are individually determined for the each of the processing units, and the threshold current is determined for the each of the processing units based on the individually determined characteristics, or (b) the characteristics of current usage corresponding to all the processing units are aggregated, and the threshold current is determined for the processing units based on the aggregated characteristics.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref>, further comprising:<claim-text>receiving a power measurement of the each of the processing units,</claim-text><claim-text>wherein at least one of the frequency reduction action, the IPC reduction action, or the voltage reduction action for the each of the processing units is determined based on the threshold current and the received power measurement.</claim-text></claim-text></claim></claims></us-patent-application>