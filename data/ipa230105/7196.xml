<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007197A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007197</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17856131</doc-number><date>20220701</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>KR</country><doc-number>10-2021-0087442</doc-number><date>20210702</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>369</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>374</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20180801</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>36961</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>5</main-group><subgroup>374</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">ELECTRONIC DEVICE AND METHOD FOR CONTROLLING THE SAME</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/KR2022/009558</doc-number><date>20220701</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17856131</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Samsung Electronics Co., Ltd.</orgname><address><city>Gyeonggi-do</city><country>KR</country></address></addressbook><residence><country>KR</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>PARK</last-name><first-name>Jaehyoung</first-name><address><city>Gyeonggi-do</city><country>KR</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>SHIMOKAWA</last-name><first-name>Shuichi</first-name><address><city>Gyeonggi-do</city><country>KR</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>KIM</last-name><first-name>Dongsoo</first-name><address><city>Gyeonggi-do</city><country>KR</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>KANG</last-name><first-name>Kawang</first-name><address><city>Gyeonggi-do</city><country>KR</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>KIM</last-name><first-name>Yunjeong</first-name><address><city>Gyeonggi-do</city><country>KR</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>MOON</last-name><first-name>Inah</first-name><address><city>Gyeonggi-do</city><country>KR</country></address></addressbook></inventor><inventor sequence="06" designation="us-only"><addressbook><last-name>YOUN</last-name><first-name>Yeotak</first-name><address><city>Gyeonggi-do</city><country>KR</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">An electronic device is provided. The electronic device includes a camera with an image sensor including a plurality of image pixels arranged in a first direction and a second direction orthogonal to the first direction, for converting light incident on a plurality of micro-lenses into an electrical signal, performing a first correlation calculation for phase difference detection in the first direction based on the electrical signal, and outputting image data including a first phase difference correlation calculation value, an ISP configured to perform a second correlation calculation for phase difference detection in the second direction using phase difference information about the image data, and a driver configured to adjust a focus of the camera based on the first phase difference correlation calculation value for the first direction and a second phase difference correlation calculation value for the second direction.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="125.98mm" wi="158.75mm" file="US20230007197A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="216.75mm" wi="152.06mm" orientation="landscape" file="US20230007197A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="216.07mm" wi="113.62mm" orientation="landscape" file="US20230007197A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="120.06mm" wi="147.91mm" file="US20230007197A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="118.87mm" wi="141.56mm" file="US20230007197A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="221.49mm" wi="111.93mm" file="US20230007197A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="152.74mm" wi="117.77mm" file="US20230007197A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="209.38mm" wi="120.65mm" file="US20230007197A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="143.68mm" wi="150.54mm" file="US20230007197A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="115.49mm" wi="116.67mm" file="US20230007197A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="198.63mm" wi="95.08mm" orientation="landscape" file="US20230007197A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="121.92mm" wi="141.39mm" file="US20230007197A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="120.23mm" wi="141.82mm" file="US20230007197A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION(S)</heading><p id="p-0002" num="0001">This application is a Bypass Continuation application of PCT International Application No. PCT/KR2022/009558, which was filed on Jul. 1, 2022, and claims priority to Korean Patent Application No. 10-2021-0087442, which was filed on Jul. 2, 2021, the entire content of each of which is incorporated herein by reference.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">BACKGROUND</heading><heading id="h-0003" level="1">1. Field</heading><p id="p-0003" num="0002">The disclosure relates generally to an electronic device for automatically focusing and capturing an object, and a method for controlling the same.</p><heading id="h-0004" level="1">2. Description of the Related Art</heading><p id="p-0004" num="0003">To shoot a clear stationary image (e.g., a still image) or moving picture (e.g., a video), accurate focusing on an object may be critical to an object capturing device (e.g., a camera).</p><p id="p-0005" num="0004">Object capturing devices perform focusing by contrast auto-focus or phase auto-focus.</p><p id="p-0006" num="0005">Contrast auto-focus makes use of the characteristic that, when exactly in focus, the outline of the object is clear so that contrast increases but, when out of focus, it is blurred causing contrast to drop. Contrast auto-focus measures the contrast of a specific portion of the image forming on an imaging element (e.g., an image sensor) while moving the lens assembly, e.g., back and forth and may determine the maximum contrast as being in focus.</p><p id="p-0007" num="0006">Phase auto-focus measures how much and in what direction the offset is made from a center image obtained through the imaging element using a phase difference between two or more distance measurement points.</p><p id="p-0008" num="0007">A conventional method providing contrast auto-focus exhibits high focusing accuracy by detecting the focus of the real image actually forming on the imaging element. However, this method measures contrast after the lens is moved (i.e., lack of directivity) and thus suffers from slow focus detection. While phase auto-focus is capable of quicker focus detection than contrast auto-focus, with its predictability of the moving direction of the lens assembly (i.e., this has directivity), it may still cause errors because it outputs phase data through a sensor separately prepared for phase difference detection. Thus, a hybrid auto-focus, which combines contrast auto-focus and phase auto-focus, is sometimes used.</p><p id="p-0009" num="0008">Object capturing devices, such as compact film cameras, single lens reflex (SLR) cameras, and digital single lens reflex (DSLR) cameras, which apply digital technology to SLR. Mirrorless cameras reduce size by removing the reflection mirror and the pentaprism from the DSLR have been developed. An attempt has been made to integrate a phase difference detection sensor into the imaging element while adopting phase auto-focus in focusing of the object capturing device.</p><p id="p-0010" num="0009">Integration of a phase difference detection sensor into an imaging element may allow for rapid phase auto-focus (&#x201c;phase difference detection AF&#x201d;), which is applied to mirrorless cameras and to other types of cameras.</p><p id="p-0011" num="0010">Integration of a phase difference detection sensor into an imaging element comes in a pixel masking structure which includes phase difference detection pixels formed by hiding half of one photodiode provided corresponding to one micro-lens by metal and a dual pixel structure, which detects the phase difference using an image pixel provided with two photodiodes (2PD) corresponding to one micro-lens, i.e., a 2PD pixel structure. The pixel masking structure has phase difference detection pixels separate from image pixels in one sensor and thus has the drawback that it loses as many image pixels as the phase difference detection pixels. In that sense, the 2PD pixel structure, which implements phase difference functions using the image pixels as they are, may be more advantageous than the pixel masking structure in obtaining a bright image. However, although in the 2PD pixel structure, the pixel corresponding to one micro-lens is divided into two photodiodes for implementing a phase difference, the readout-to-resolution may be reduced in performing a re-mosaic because the horizontal-vertical aspect ratio does not fit in the phase of displaying the image-related data obtained through the imaging element, as an image or video, to be actually perceived by the user.</p><p id="p-0012" num="0011">Thus, a pixel structure may be applied which is provided with four photodiodes (4PD) corresponding to one micro-lens, i.e., a &#x201c;4PD pixel structure&#x201d;, not to reduce the readout-to-resolution, relative to the above-described 2PD pixel structure. In the 2PD pixel structure, two photodiodes divide one pixel into two linear symmetric left and right sub-pixels. In the 4PD pixel structure, however, four photodiodes may divide one pixel into four sub-pixels which are point-symmetric in the upper/lower/left/right directions. The 4PD pixel structure has advantages over the 2PD pixel structure in that it may convert each photodiode into a Bayer color filter form during the re-mosaic and is thus able to restore resolution.</p><p id="p-0013" num="0012">However, due to a difficulty in application of the re-mosaic technique, the 4PD pixel structure is not yet widely adopted. In particular, there is no technical rule established, such as simultaneously performing phase difference detection in one direction (e.g., horizontal phase difference detection) followed by phase difference detection in the orthogonal direction (e.g., vertical phase difference detection).</p><heading id="h-0005" level="1">SUMMARY</heading><p id="p-0014" num="0013">The disclosure has been made to address at least the above-mentioned problems and/or disadvantages and to provide at least the advantages described below.</p><p id="p-0015" num="0014">An aspect of the disclosure provides an electronic device including at least one camera, the electronic device including an image sensor including a plurality of image pixels arranged in a first direction and a second direction orthogonal to the first direction, converting light incident on a plurality of micro-lenses into an electrical signal, performing a first correlation calculation for phase difference detection in the first direction based on the electrical signal, and outputting image data including a first phase difference correlation calculation value, an image signal processor (ISP) configured to perform a second correlation calculation for phase difference detection in the second direction using phase difference information about the image data; and a driver configured to adjust a focus of the at least one camera based on the first phase difference correlation calculation value for the first direction and the second phase difference correlation calculation value for the second direction.</p><p id="p-0016" num="0015">Another aspect of the disclosure provides a method for controlling an electronic device including a camera, an image sensor and at least one processor, the method comprising performing, using the image sensor, a first correlation calculation for phase difference detection in a first direction on a plurality of image pixels included in an image sensor, the image sensor being configured to collect light incident on a lens, and the plurality of image pixels being arranged in the first direction and a second direction orthogonal to the first direction, performing, using at least one processor, a second correlation calculation for phase difference detection in the second direction, and adjusting a focus of the camera based on a first phase difference correlation calculation value for the first direction and a second phase difference correlation calculation value for the second direction.</p><p id="p-0017" num="0016">In the present disclosure, phase difference correlation calculation computation in the first direction perpendicular to the second direction, which is readout direction, may be performed without frame memory. Thus, computation speed is increased, and focusing speed of an electronic device including a camera module is significantly increased. According to some embodiments, in performing phase difference detection on a 4PD pixel structure, the phase difference detection of the 2PD pixel structure may be applied to perform phase difference detection in the horizontal direction followed by phase difference detection in the vertical direction using a line memory or frame memory obtained by the phase difference detection in the horizontal direction. In such a case, since the vertical phase difference detection is performed after the horizontal phase difference detection, operation speed may reduce. A 4PD pixel structure which adopts such phase difference detection method may have difficulty in rapidly synchronizing the result of the horizontal phase difference detection and the result of the vertical phase difference detection.</p><p id="p-0018" num="0017">Therefore, the present disclosure provides an electronic device capable of performing phase difference detection in a direction and its orthogonal direction without delay in detecting a phase difference using a 4PD pixel structure and a method for controlling the same.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0019" num="0018">The above and other aspects, features, and advantages of certain embodiments of the disclosure will be more apparent from the following detailed description taken in conjunction with the accompanying drawings, in which:</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates an electronic device in a network environment according to an embodiment;</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>2</b></figref> illustrates components of an electronic device according to an embodiment;</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates an image sensor according to an embodiment;</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates a pixel group including a micro-lens and a color filter array according to an embodiment;</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates a 2PD pixel and a 4PD pixel according to an embodiment;</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates a method for reading photoelectric conversion signals of a plurality of light receiving elements according to an embodiment;</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>7</b></figref> illustrates a plurality of image pixels according to an embodiment;</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>8</b></figref> illustrates a method for correlation of data for calculating phase difference detection according to an embodiment;</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>9</b></figref> illustrates a method for reading photoelectric conversion signals of a plurality of light receiving elements according to an embodiment;</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>10</b></figref> illustrates distance measurement points for phase difference detection in a horizontal direction and phase difference detection in a vertical direction in an image sensor including a plurality of image pixels according to an embodiment;</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>11</b></figref> illustrates components of an electronic device for phase difference detection in vertical and horizontal directions according to an embodiment;</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>12</b></figref> illustrates data immediately after a first correlation calculation according to an embodiment; and</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>13</b></figref> illustrates a method for producing reliability information according to a phase difference detection operation in a first direction and phase difference detection operation in a second direction according to an embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0007" level="1">DETAILED DESCRIPTION</heading><p id="p-0033" num="0032">Hereinafter, embodiments of the disclosure will be described in detail with reference to the accompanying drawings. In the disclosure, embodiments are described in the drawings and a related detailed description is set forth, but this is not intended to limit the embodiments of the disclosure. Descriptions of well-known functions and constructions are omitted for the sake of clarity and conciseness.</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates an electronic device in a network environment according to an embodiment.</p><p id="p-0035" num="0034">Referring to <figref idref="DRAWINGS">FIG. <b>1</b></figref>, an electronic device <b>101</b> in a network environment <b>100</b> may communicate with an electronic device <b>102</b> via a first network <b>198</b> (e.g., a short-range wireless communication network), or an electronic device <b>104</b> or a server <b>108</b> via a second network <b>199</b> (e.g., a long-range wireless communication network). According to an embodiment, the electronic device <b>101</b> may communicate with the electronic device <b>104</b> via the server <b>108</b>. According to an embodiment, the electronic device <b>101</b> may include a processor <b>120</b>, memory <b>130</b>, an input module <b>150</b>, a sound output module <b>155</b>, a display module <b>160</b>, an audio module <b>170</b>, a sensor module <b>176</b>, an interface <b>177</b>, a connecting terminal <b>178</b>, a haptic module <b>179</b>, a camera module <b>180</b>, a power management module <b>188</b>, a battery <b>189</b>, a communication module <b>190</b>, a subscriber identification module (SIM) <b>196</b>, or an antenna module <b>197</b>. In some embodiments, at least one (e.g., the connecting terminal <b>178</b>) of the components may be omitted from the electronic device <b>101</b>, or one or more other components may be added in the electronic device <b>101</b>. According to an embodiment, some (e.g., the sensor module <b>176</b>, the camera module <b>180</b>, or the antenna module <b>197</b>) of the components may be integrated into a single component (e.g., the display module <b>160</b>).</p><p id="p-0036" num="0035">The processor <b>120</b> may execute, for example, software (e.g., a program <b>140</b>) to control at least one other component (e.g., a hardware or software component) of the electronic device <b>101</b> coupled with the processor <b>120</b>, and may perform various data processing or computation. According to one embodiment, as at least part of the data processing or computation, the processor <b>120</b> may store a command or data received from another component (e.g., the sensor module <b>176</b> or the communication module <b>190</b>) in volatile memory <b>132</b>, process the command or the data stored in the volatile memory <b>132</b>, and store resulting data in non-volatile memory <b>134</b>. According to an embodiment, the processor <b>120</b> may include a main processor <b>121</b> (e.g., a central processing unit (CPU) or an application processor (AP)), or an auxiliary processor <b>123</b> (e.g., a graphics processing unit (GPU), a neural processing unit (NPU), an image signal processor (ISP), a sensor hub processor, or a communication processor (CP)) that is operable independently from, or in conjunction with, the main processor <b>121</b>. For example, when the electronic device <b>101</b> includes the main processor <b>121</b> and the auxiliary processor <b>123</b>, the auxiliary processor <b>123</b> may be configured to use lower power than the main processor <b>121</b> or to be specified for a designated function. The auxiliary processor <b>123</b> may be implemented as separate from, or as part of the main processor <b>121</b>.</p><p id="p-0037" num="0036">The auxiliary processor <b>123</b> may control at least some of functions or states related to at least one component (e.g., the display module <b>160</b>, the sensor module <b>176</b>, or the communication module <b>190</b>) among the components of the electronic device <b>101</b>, instead of the main processor <b>121</b> while the main processor <b>121</b> is in an inactive (e.g., sleep) state, or together with the main processor <b>121</b> while the main processor <b>121</b> is in an active state (e.g., executing an application). According to an embodiment, the auxiliary processor <b>123</b> (e.g., an ISP or a CP) may be implemented as part of another component (e.g., the camera module <b>180</b> or the communication module <b>190</b>) functionally related to the auxiliary processor <b>123</b>. According to an embodiment, the auxiliary processor <b>123</b> (e.g., the NPU) may include a hardware structure specified for artificial intelligence model processing. The artificial intelligence model may be generated via machine learning. Such learning may be performed, e.g., by the electronic device <b>101</b> where the artificial intelligence is performed or via a separate server (e.g., the server <b>108</b>). Learning algorithms may include, but are not limited to, e.g., supervised learning, unsupervised learning, semi-supervised learning, or reinforcement learning. The artificial intelligence model may include a plurality of artificial neural network layers. The artificial neural network may be a deep neural network (DNN), a convolutional neural network (CNN), a recurrent neural network (RNN), a restricted Boltzmann machine (RBM), a deep belief network (DBN), a bidirectional recurrent DNN (BRDNN), deep Q-network, or a combination of two or more thereof, but is not limited thereto. The artificial intelligence model may, additionally or alternatively, include a software structure other than the hardware structure.</p><p id="p-0038" num="0037">The memory <b>130</b> may store various data used by at least one component (e.g., the processor <b>120</b> or the sensor module <b>176</b>) of the electronic device <b>101</b>. The various data may include, for example, software (e.g., the program <b>140</b>) and input data or output data for a command related thereto. The memory <b>130</b> may include the volatile memory <b>132</b> or the non-volatile memory <b>134</b>.</p><p id="p-0039" num="0038">The program <b>140</b> may be stored in the memory <b>130</b> as software, and may include, for example, an operating system (OS) <b>142</b>, middleware <b>144</b>, or an application <b>146</b>.</p><p id="p-0040" num="0039">The input module <b>150</b> may receive a command or data to be used by other component (e.g., the processor <b>120</b>) of the electronic device <b>101</b>, from the outside (e.g., a user) of the electronic device <b>101</b>. The input module <b>150</b> may include, for example, a microphone, a mouse, a keyboard, keys (e.g., buttons), or a digital pen (e.g., a stylus pen).</p><p id="p-0041" num="0040">The sound output module <b>155</b> may output sound signals to the outside of the electronic device <b>101</b>. The sound output module <b>155</b> may include, for example, a speaker or a receiver. The speaker may be used for general purposes, such as playing multimedia or playing record. The receiver may be used for receiving incoming calls. According to an embodiment, the receiver may be implemented as separate from, or as part of the speaker.</p><p id="p-0042" num="0041">The display module <b>160</b> may visually provide information to the outside (e.g., a user) of the electronic device <b>101</b>. The display <b>160</b> may include, for example, a display, a hologram device, or a projector and control circuitry to control a corresponding one of the display, hologram device, and projector. According to an embodiment, the display <b>160</b> may include a touch sensor configured to detect a touch, or a pressure sensor configured to measure the intensity of a force generated by the touch.</p><p id="p-0043" num="0042">The audio module <b>170</b> may convert a sound into an electrical signal and vice versa. According to an embodiment, the audio module <b>170</b> may obtain the sound via the input module <b>150</b>, or output the sound via the sound output module <b>155</b> or a headphone of an external electronic device (e.g., an electronic device <b>102</b>) directly (e.g., wiredly) or wirelessly coupled with the electronic device <b>101</b>.</p><p id="p-0044" num="0043">The sensor module <b>176</b> may detect an operational state (e.g., power or temperature) of the electronic device <b>101</b> or an environmental state (e.g., a state of a user) external to the electronic device <b>101</b>, and then generate an electrical signal or data value corresponding to the detected state. According to an embodiment, the sensor module <b>176</b> may include, for example, a gesture sensor, a gyro sensor, an atmospheric pressure sensor, a magnetic sensor, an acceleration sensor, a grip sensor, a proximity sensor, a color sensor, an infrared (IR) sensor, a biometric sensor, a temperature sensor, a humidity sensor, or an illuminance sensor.</p><p id="p-0045" num="0044">The interface <b>177</b> may support one or more specified protocols to be used for the electronic device <b>101</b> to be coupled with the external electronic device (e.g., the electronic device <b>102</b>) directly (e.g., wiredly) or wirelessly. According to an embodiment, the interface <b>177</b> may include, for example, a high definition multimedia interface (HDMI), a universal serial bus (USB) interface, a secure digital (SD) card interface, or an audio interface.</p><p id="p-0046" num="0045">A connecting terminal <b>178</b> may include a connector via which the electronic device <b>101</b> may be physically connected with the external electronic device (e.g., the electronic device <b>102</b>). According to an embodiment, the connecting terminal <b>178</b> may include, for example, an HDMI connector, a USB connector, an SD card connector, or an audio connector (e.g., a headphone connector).</p><p id="p-0047" num="0046">The haptic module <b>179</b> may convert an electrical signal into a mechanical stimulus (e.g., a vibration or motion) or electrical stimulus which may be recognized by a user via his tactile sensation or kinesthetic sensation. According to an embodiment, the haptic module <b>179</b> may include, for example, a motor, a piezoelectric element, or an electric stimulator.</p><p id="p-0048" num="0047">The camera module <b>180</b> may capture a still image or moving images. According to an embodiment, the camera module <b>180</b> may include one or more lenses, image capturing elements (image sensors), ISPs, or flashes.</p><p id="p-0049" num="0048">The power management module <b>188</b> may manage power supplied to the electronic device <b>101</b>. According to one embodiment, the power management module <b>188</b> may be implemented as at least part of, for example, a power management integrated circuit (PMIC).</p><p id="p-0050" num="0049">The battery <b>189</b> may supply power to at least one component of the electronic device <b>101</b>. According to an embodiment, the battery <b>189</b> may include, for example, a primary cell which is not rechargeable, a secondary cell which is rechargeable, or a fuel cell.</p><p id="p-0051" num="0050">The communication module <b>190</b> may support establishing a direct (e.g., wired) communication channel or a wireless communication channel between the electronic device <b>101</b> and the external electronic device (e.g., the electronic device <b>102</b>, the electronic device <b>104</b>, or the server <b>108</b>) and performing communication via the established communication channel. The communication module <b>190</b> may include one or more CPs that are operable independently from the processor <b>120</b> (e.g., the AP) and supports a direct (e.g., wired) communication or a wireless communication. According to an embodiment, the communication module <b>190</b> may include a wireless communication module <b>192</b> (e.g., a cellular communication module, a short-range wireless communication module, or a global navigation satellite system (GNSS) communication module) or a wired communication module <b>194</b> (e.g., a local area network (LAN) communication module or a power line communication (PLC) module). A corresponding one of these communication modules may communicate with the external electronic device <b>104</b> via a first network <b>198</b> (e.g., a short-range communication network, such as Bluetooth&#x2122;, wireless-fidelity (Wi-Fi) direct, or infrared data association (IrDA)) or a second network <b>199</b> (e.g., a long-range communication network, such as a legacy cellular network, a 5th generation (5G) network, a next-generation communication network, the Internet, or a computer network (e.g., a LAN or wide area network (WAN)). These various types of communication modules may be implemented as a single component (e.g., a single chip), or may be implemented as multi components (e.g., multi chips) separate from each other. The wireless communication module <b>192</b> may identify or authenticate the electronic device <b>101</b> in a communication network, such as the first network <b>198</b> or the second network <b>199</b>, using subscriber information (e.g., international mobile subscriber identity (IMSI)) stored in the SIM <b>196</b>.</p><p id="p-0052" num="0051">The wireless communication module <b>192</b> may support a 5G network, after a 4th generation (4G) network, and next-generation communication technology, e.g., new radio (NR) access technology. The NR access technology may support enhanced mobile broadband (eMBB), massive machine type communications (mMTC), or ultra-reliable and low-latency communications (URLLC). The wireless communication module <b>192</b> may support a high-frequency band (e.g., the mmWave band) to achieve, e.g., a high data transmission rate. The wireless communication module <b>192</b> may support various technologies for securing performance on a high-frequency band, such as, e.g., beamforming, massive multiple-input and multiple-output (massive MIMO), full dimensional MIMO (FD-MIMO), array antenna, analog beam-forming, or large scale antenna. The wireless communication module <b>192</b> may support various requirements specified in the electronic device <b>101</b>, an external electronic device (e.g., the electronic device <b>104</b>), or a network system (e.g., the second network <b>199</b>). According to an embodiment, the wireless communication module <b>192</b> may support a peak data rate (e.g., 20 Gbps or more) for implementing eMBB, loss coverage (e.g., 164 dB or less) for implementing mMTC, or U-plane latency (e.g., 0.5 ms or less for each of downlink (DL) and uplink (UL), or a round trip of lms or less) for implementing URLLC.</p><p id="p-0053" num="0052">The antenna module <b>197</b> may transmit or receive a signal or power to or from the outside (e.g., the external electronic device). According to an embodiment, the antenna module <b>197</b> may include one antenna including a radiator formed of a conductor or conductive pattern formed on a substrate (e.g., a printed circuit board (PCB)). According to an embodiment, the antenna module <b>197</b> may include a plurality of antennas (e.g., an antenna array). In this case, at least one antenna appropriate for a communication scheme used in a communication network, such as the first network <b>198</b> or the second network <b>199</b>, may be selected from the plurality of antennas by, e.g., the communication module <b>190</b>. The signal or the power may then be transmitted or received between the communication module <b>190</b> and the external electronic device via the selected at least one antenna. According to an embodiment, other parts (e.g., radio frequency integrated circuit (RFIC)) than the radiator may be further formed as part of the antenna module <b>197</b>. According to various embodiments, the antenna module <b>197</b> may form a mmWave antenna module. According to an embodiment, the mmWave antenna module may include a PCB, an RFIC disposed on a first surface (e.g., the bottom surface) of the PCB, or adjacent to the first surface and capable of supporting a designated high-frequency band (e.g., the mmWave band), and a plurality of antennas (e.g., array antennas) disposed on a second surface (e.g., the top or a side surface) of the PCB, or adjacent to the second surface and capable of transmitting or receiving signals of the designated high-frequency band.</p><p id="p-0054" num="0053">At least some of the above-described components may be coupled mutually and communicate signals (e.g., commands or data) therebetween via an inter-peripheral communication scheme (e.g., a bus, general purpose input and output (GPIO), serial peripheral interface (SPI), or mobile industry processor interface (MIPI)).</p><p id="p-0055" num="0054">According to an embodiment, commands or data may be transmitted or received between the electronic device <b>101</b> and the external electronic device <b>104</b> via the server <b>108</b> coupled with the second network <b>199</b>. The external electronic devices <b>102</b> or <b>104</b> each may be a device of the same or a different type from the electronic device <b>101</b>. According to an embodiment, all or some of operations to be executed at the electronic device <b>101</b> may be executed at one or more of the external electronic devices <b>102</b>, <b>104</b>, or <b>108</b>. For example, if the electronic device <b>101</b> should perform a function or a service automatically, or in response to a request from a user or another device, the electronic device <b>101</b>, instead of, or in addition to, executing the function or the service, may request the one or more external electronic devices to perform at least part of the function or the service. The one or more external electronic devices receiving the request may perform the at least part of the function or the service requested, or an additional function or an additional service related to the request, and transfer an outcome of the performing to the electronic device <b>101</b>. The electronic device <b>101</b> may provide the outcome, with or without further processing of the outcome, as at least part of a reply to the request. To that end, a cloud computing, distributed computing, mobile edge computing (MEC), or client-server computing technology may be used, for example. The electronic device <b>101</b> may provide ultra low-latency services using, e.g., distributed computing or MEC. In another embodiment, the external electronic device <b>104</b> may include an internet-of-things (IoT) device. The server <b>108</b> may be an intelligent server using machine learning and/or a neural network. According to an embodiment, the external electronic device <b>104</b> or the server <b>108</b> may be included in the second network <b>199</b>. The electronic device <b>101</b> may be applied to intelligent services (e.g., smart home, smart city, smart car, or health-care) based on 5G communication technology or IoT-related technology.</p><p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a block diagram illustrating components of an electronic device according to an embodiment.</p><p id="p-0057" num="0056">Referring to <figref idref="DRAWINGS">FIG. <b>2</b></figref>, an electronic device <b>200</b> (e.g., a camera) collects the light reflected by an object and capture a photo (or video). The electronic device <b>200</b> includes an image capture part <b>210</b>, an image interface <b>220</b>, an image processing part <b>230</b>, a first memory <b>240</b>, a processor <b>260</b>, a display <b>270</b>, and a second memory <b>280</b>. The image capture part <b>210</b> may constitute a camera. An ISP <b>232</b> and the processor <b>260</b> may constitute at least one processor.</p><p id="p-0058" num="0057">The image capture part <b>210</b> may include a lens part <b>211</b>, a diaphragm <b>212</b>, an imaging element <b>213</b> (i.e., image sensor), a shutter <b>214</b>, and drivers <b>215</b> and <b>216</b>.</p><p id="p-0059" num="0058">The lens part <b>211</b> collects light reflected from the object that reaches the electronic device <b>200</b>. The lens part <b>211</b> may include at least one lens, and for example, may be implemented as a lens assembly in which a plurality of lenses are aligned in an optical axis direction. In this case, the image capture part <b>210</b> may be, e.g., a dual-camera, a 360-degree camera, or a spherical camera. The lenses included in the lens assembly may have the same lens attributes (e.g., angle of view, focal length, auto-focus, f-number, or optical zoom), or at least one lens may have at least one different lens attribute than another lens. The lens assembly may include, for example, a wide-angle lens or a telephoto lens. The amount of light (light quantity) collected through the lens part <b>211</b> may be adjusted through the diaphragm <b>212</b>, and that light that has passed through the diaphragm <b>212</b> may reach the image sensor <b>213</b>. In the embodiment shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the diaphragm <b>212</b> is illustrated as being separated from the lens part <b>211</b>. Alternatively, the diaphragm <b>212</b> may be integrated into the lens part <b>211</b>.</p><p id="p-0060" num="0059">The image sensor <b>213</b> may include a pixel array in which a plurality of image pixels are two-dimensionally arranged in a grid shape. One of a plurality of reference colors may be allocated to each of the plurality of image pixels. The plurality of reference colors may include, e.g., red-green-blue (RGB), red-green-blue-white (RGBW), cyan-magenta-yellow (CMY), cyan-magenta-yellow-black (CMYK), red-yellow-blue (RYB), and RGB IR ray (RGBIR). A plurality of micro-lenses are disposed on a side closer to the object in the optical axis direction with respect to the plurality of image pixels. The image sensor <b>213</b> may generate a digital signal (or an electrical signal) based on the light reflected from the object and may generate digital image data (hereinafter, simply referred to as &#x201c;image data&#x201d;) based on the electrical signal. The image sensor <b>213</b> may include one selected from image sensors having different attributes, such as an RGB sensor, a black-and-white (BW) sensor, an IR sensor, or a ultraviolet (UV) sensor, a plurality of image sensors having the same attribute, or a plurality of image sensors having different attributes. As the image sensor <b>213</b>, e.g., charge coupled device (CCD) or complementary metal oxide semiconductor (CMOS) may be used.</p><p id="p-0061" num="0060">The image sensor <b>213</b> may include a photodiode (PD), a transfer transistor (TX or transfer gate), a reset transistor (RX or reset gate), and a floating diffusion (FD) node. The PD may generate and accumulate photo charges corresponding to the optical image of the object. The TX may transmit the photo charges focused on the PD to the FD node in response to a transmission signal. The RX may discharge the charges stored in the FD node in response to a reset signal. Charges stored in the FD node are output before the reset signal is applied. In this case, correlated double sampling (CDS) may be performed, and the CDS-ed analog signal may be converted into a digital signal through an analog-to-digital converter (ADC) and/or an analog front end (AFE). As an example, the image sensor <b>213</b> of the disclosure may include four photodiodes in a pixel corresponding to one micro-lens (e.g., a 4PD pixel).</p><p id="p-0062" num="0061">The shutter <b>214</b> may adjust the time during which the image sensor <b>213</b> is exposed to light. For example, when the shutter <b>214</b> operates slowly, more light may be incident on the image sensor <b>213</b> and, when the shutter <b>214</b> operates quickly, less light may be incident on the image sensor <b>213</b>.</p><p id="p-0063" num="0062">The drivers <b>215</b> and <b>216</b> may adjust the position of the lens part <b>211</b>, the diaphragm <b>212</b>, or the image sensor <b>213</b>. The drivers <b>215</b> and <b>216</b> may include a first driver <b>215</b> and a second driver <b>216</b>. For example, the first driver <b>215</b> may move the lens part <b>211</b> or the diaphragm <b>212</b> in parallel to the optical axis direction. By implementing an auto-focusing operation of the image capture part <b>210</b> through the first driver <b>215</b>, the focus of the light imaged on the image sensor <b>213</b> may be adjusted. Further, for example, the second driver <b>216</b> may adjust the position of the lens part <b>211</b> or the image sensor <b>213</b>, preventing a shake that occurs when the user manipulates the image capture part <b>210</b>. The second driver <b>216</b> may move in a particular direction, or control (e.g., adjust the read-out timing of), the image sensor <b>213</b> or at least one lens included in the lens assembly to at least partially compensate for a negative effect (e.g., image blurring) on a captured image, which is caused by the motion of the image capture part <b>210</b> or the electronic device <b>200</b> including the image capture part <b>210</b>, in response to the motion. The second driver may be implemented as, e.g., an image stabilizer or an optical image stabilizer and may detect the motion using a gyro sensor or an acceleration sensor disposed inside or outside the image capture part <b>210</b>.</p><p id="p-0064" num="0063">The image interface <b>220</b> may be disposed between the image sensor <b>213</b> and the image processing part <b>230</b> to perform interfacing. The data output from the image sensor <b>213</b> through the image interface <b>220</b> may be transmitted to the image processing part <b>230</b>. Depending on the configuration of the electronic device <b>200</b>, the image interface <b>220</b> may be included in the image processing part <b>230</b>. Further, depending on the configuration of the electronic device <b>200</b>, the image interface <b>220</b> may be omitted or another interface may be additionally provided.</p><p id="p-0065" num="0064">The memories <b>240</b> and <b>280</b> may at least temporarily store at least a portion of the image obtained through the image sensor <b>213</b> for a next image processing task, or may store commands or data related to at least one other component (e.g., the image processing part <b>230</b>) of the electronic device <b>200</b>. For example, when image capturing is delayed due to shutter lag or multiple images are quickly captured, a raw image obtained (e.g., a high-resolution image) may be stored in the first memory <b>240</b> or the second memory <b>280</b>, and its corresponding copy (e.g., a low-resolution image) may be previewed through a display device. Thereafter, if a specified condition is met (e.g., by a user's input or system command), at least part of the raw image stored in the first memory <b>240</b> or the second memory <b>280</b> may be obtained and processed, for example, by the ISP <b>232</b>. The first memory <b>240</b> or the second memory <b>280</b> may be configured as at least part of the memory (e.g., the memory <b>130</b> of <figref idref="DRAWINGS">FIG. <b>1</b></figref>) of the electronic device <b>200</b> or as a separate memory that is operated independently from the memory.</p><p id="p-0066" num="0065">The memories <b>240</b> and <b>280</b> may include a first memory <b>240</b> and a second memory <b>280</b> that are separated from each other as shown in <figref idref="DRAWINGS">FIG. <b>2</b></figref>. The first memory <b>240</b> may store at least one correction data (e.g., white balance correction data, gamma correction data, knee correction data, etc.). For example, the at least one correction data may be stored in a look-up table (LUT) format. The second memory <b>280</b> may be a non-volatile memory (e.g., a flash memory) and may store the image data generated by the image processing part <b>230</b>. In <figref idref="DRAWINGS">FIG. <b>2</b></figref>, for convenience of description, the memories <b>240</b> and <b>280</b> are illustrated as separate components depending on their functions. However, without limited to those described, it should be noted that the memories <b>240</b> and <b>280</b> may also be implemented as a single component.</p><p id="p-0067" num="0066">The image processing part <b>230</b> performs various processing on the image data output from the image sensor <b>213</b>. The image processing part <b>230</b> may perform image processing (e.g., depth map generation, three-dimensional (3D) modeling, panorama generation, feature point extraction, image mixing, or image compensation (e.g., noise canceling, resolution adjustment, luminance adjustment, blurring, sharpening, or softening)) on an image obtained through the image sensor <b>213</b> or an image stored in the memory (e.g., the first memory <b>240</b>). Additionally or alternatively, the image processing part <b>230</b> may perform control (e.g., exposure time control or read-out timing control) with respect to at least one (e.g., the image sensor <b>213</b>) of the components included in the image capture part <b>210</b>. An image processed by the image processing part <b>230</b> may be stored back in the first memory <b>240</b> or the second memory <b>280</b> for further processing, or may be provided to an external component (e.g., the memory <b>130</b>, the display device <b>160</b>, the electronic device <b>102</b>, the electronic device <b>104</b>, or the server <b>108</b>) outside the image capture part <b>210</b>. The image processing part <b>230</b> may include a pre-processing unit (e.g., a pre-ISP) <b>231</b> and ISP <b>232</b>. The pre-processing unit <b>231</b> may perform a function, such as image matching or gamma processing. For example, when there is a shake among a plurality of continuously captured images, the pre-processing unit <b>231</b> may remove or reduce the shake component through an image matching process. The ISP <b>232</b> may generate an entire image signal by correcting and synthesizing the signal received from the pre-processing unit <b>231</b>. The pre-processing unit <b>231</b> may be integrated with the ISP <b>232</b> to constitute the image processing part <b>230</b>.</p><p id="p-0068" num="0067">The image processing part <b>230</b> may be configured as at least part of the processor <b>260</b>, or as a separate processor that is operated independently from the processor <b>260</b>. For example, the pre-processing unit <b>231</b> and the ISP <b>232</b> of the image processing part <b>230</b> may be integrated into the processor <b>260</b>. In contrast, when the image processing part <b>230</b> is configured as a separate processor different from the processor <b>260</b>, the images processed by the image processing part <b>230</b> may be displayed through the display device <b>160</b>, as they are or after undergoing additional image processing.</p><p id="p-0069" num="0068">The image processing part <b>230</b> may generate a signal for controlling the lens part <b>211</b> or the image sensor <b>213</b> in addition to analyzing and calculating the image data output from the image sensor <b>213</b>. For example, the image processing part <b>230</b> may generate a signal for controlling the first driver <b>215</b> to move the lens part <b>211</b> in the optical axis direction or generate a signal for controlling the second driver <b>216</b> to move the lens part <b>211</b> or the image sensor <b>213</b> for anti-shake purposes.</p><p id="p-0070" num="0069">The processor <b>260</b> included in the electronic device may include one or more of a CPU, an AP, or a CP. The processor <b>260</b> may perform control on at least one other component included in the electronic device <b>200</b>, and/or perform an operation or data processing relating to communication. As described above, the processor <b>260</b> may include the image processing part <b>230</b> as at least a portion of the processor <b>260</b> or may operate as a separate processor operating independently from the image processing part <b>230</b>.</p><p id="p-0071" num="0070">The display <b>270</b> may include, e.g., a liquid crystal display (LCD), a light emitting diode (LED) display, an organic light emitting diode (OLED) display, or a microelectromechanical systems (MEMS) display, or an electronic paper display. The display <b>270</b> may display, e.g., an image captured by the image capture part <b>210</b> or an image whose white balance is corrected by the image processing part <b>230</b> under the control of the processor <b>260</b>. The display <b>270</b> may include a touchscreen and may receive, e.g., a touch, gesture, proximity or hovering input using an electronic pen or a body portion of the user. The following description of embodiments exemplifies the pre-processing unit <b>231</b> included in at least a portion of the ISP <b>232</b> and thus assumes that the ISP <b>232</b> has substantially the same configuration as the image processing part <b>230</b>. The at least one processor, as used herein may mean that the image processing part <b>230</b> is provided as at least a portion of, or separately from, the processor <b>260</b>. Accordingly, the ISP <b>232</b> is a separate processor operating independently form the processor <b>260</b>, as an example. However, this is merely an example and a combination of the image processing part <b>230</b>, the ISP <b>232</b>, and the processor <b>260</b> is not limited to any one type.</p><p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates an image sensor according to an embodiment.</p><p id="p-0073" num="0072">Referring to <figref idref="DRAWINGS">FIG. <b>3</b></figref>, an image sensor <b>300</b> (e.g., the image sensor <b>213</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>) may include a plurality of pixels. Although <figref idref="DRAWINGS">FIG. <b>3</b></figref> illustrates an example in which 18 pixels and 8 pixels are arranged in the y-axis direction (horizontal direction) and the z-axis direction (vertical direction, respectively, i.e., a total of 144 pixels, the disclosure is not limited thereto. For example, the image sensor <b>300</b> may include millions to tens of millions of pixels. The following description describes an example of an image sensor <b>300</b> that has a 4PD pixel structure and includes 12 million pixels as 4,000 sub-pixels and 3,000 sub-pixels in the y-axis direction (horizontal direction) are combined.</p><p id="p-0074" num="0073">According to an embodiment, each of the plurality of pixels included in the image sensor <b>300</b> may be assigned one of a plurality of designated reference colors (e.g., red R, green G, or blue B). The plurality of pixels may be designed to receive light with a designated wavelength range in each light beam in a direction perpendicular to the y axis and the z axis. The plurality of pixels may output the electrical signal corresponding to the received light.</p><p id="p-0075" num="0074">The image sensor <b>300</b> includes a plurality of micro-lenses <b>310</b> and a color filter array <b>320</b>. Each unit pixel included in the image sensor <b>300</b> may include a micro-lens, a color filter, and a light receiving element (e.g., photodiode).</p><p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates a pixel group including a micro-lens and a color filter array according to an embodiment.</p><p id="p-0077" num="0076">Referring to <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the pixel group <b>301</b> included in the image sensor <b>300</b> may be composed of a combination of two or more unit pixels. One unit pixel may include a micro-lens, a color filter, and a light receiving element. The micro-lens may serve to refract and/or focus light. The color filter may be disposed behind the micro-lens with respect to the propagation path of the light and may transmit light having a designated reference color, i.e., light having a designated wavelength range. The light receiving element may be, e.g., a photodiode disposed behind the micro-lens and the color filter. When light reaches the light receiving element, an electrical signal corresponding to the incident light is output by photoelectric effect. The electrical signal may generate a charge (or current) according to an intensity (or amount) of the received light. <figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates an embodiment in which four unit pixels are combined into one pixel group <b>301</b>.</p><p id="p-0078" num="0077">More specifically, one pixel group <b>301</b> may include a color filter array <b>320</b> in a 2&#x3e;&#x3c;2 array. In the color filter array <b>320</b> according to the embodiment of <figref idref="DRAWINGS">FIG. <b>4</b></figref>, a first color filter <b>321</b> and a second color filter <b>322</b> included in a first row may be formed in [green G, red R], respectively, and a third color filter <b>323</b> and a fourth color filter <b>324</b> included in a second row may be formed in [blue B, green G], respectively. In other words, one pixel group <b>301</b> may include a color filter array <b>320</b> formed in a [green G, red R]&#xd7;[blue B, green G] pattern. Further, the plurality of micro-lenses <b>310</b> included in the pixel group <b>301</b> may include first to fourth micro-lenses <b>311</b>, <b>312</b>, <b>313</b>, and <b>314</b> respectively disposed corresponding to the first to fourth color filters <b>321</b>, <b>322</b>, <b>323</b>, and <b>324</b>. Further, the pixel group <b>301</b> may be repeatedly arranged, forming the image sensor <b>300</b> of <figref idref="DRAWINGS">FIG. <b>3</b></figref>. The repeated arrangement structure and pattern of the color filter array <b>320</b> may vary. As an example, <figref idref="DRAWINGS">FIG. <b>4</b></figref> illustrates a pixel group <b>301</b> having a color filter array <b>320</b> formed in a Bayer pattern. However, without being limited thereto, the color filter array <b>320</b> may be formed in various patterns including RGBE, CYYM, CYGM, RGBW, and X-trans. For clarity, the following description focuses primarily on an RGB pattern (or RGGB pattern). However, it should be noted that other repeated arrangement structures and patterns of the color filter array <b>320</b> may be adopted without limitations. According to an embodiment, a plurality of pixel groups <b>301</b> as illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref> may be provided to form the image sensor <b>300</b>.</p><p id="p-0079" num="0078">One micro-lens and one color filter may be disposed in a unit pixel, and one light receiving element may be disposed behind the color filter. In other words, one light receiving element may be disposed in one unit pixel.</p><p id="p-0080" num="0079">Alternatively, one micro-lens and one color filter may be disposed in a unit pixel, and two or more light receiving elements may be disposed behind the color filter.</p><p id="p-0081" num="0080">Two light receiving elements may be disposed in a unit pixel, or four light receiving elements may be disposed in a unit pixel.</p><p id="p-0082" num="0081">In general, when a plurality of light receiving elements are disposed in a unit pixel, elements having the same specifications are formed symmetrically (linear symmetry, or point symmetry) with respect to the center of the unit pixel. For example, when two light receiving elements are disposed in a unit pixel, they may be arranged in linear symmetry in left/right or upper/lower directions with respect to the center of the unit pixel, and when four light receiving elements are disposed in a unit pixel, they may be arranged in point symmetry in top right/top left/bottom right/bottom left directions with respect to the center of the unit pixel. Accordingly, when two light receiving elements are disposed in the unit pixel, the unit pixel structure may be denoted as a dual pixel structure (i.e., the 2PD pixel structure) and, when four light receiving elements are disposed in the unit pixel, the unit pixel structure may be denoted as a quad pixel structure, i.e., the 4PD pixel structure. The portion corresponding to each light receiving element included in the 2PD pixel structure and the 4PD pixel structure may be denoted as a sub-pixel.</p><p id="p-0083" num="0082"><figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates a 2PD pixel structure and a 4PD pixel structure according to an embodiment. Specifically, structure (a) in <figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates a 2PD pixel structure in which two light receiving elements are disposed in a unit pixel, and structure (b) in <figref idref="DRAWINGS">FIG. <b>5</b></figref> illustrates a 4PD pixel structure in which four light receiving elements are disposed in a unit pixel.</p><p id="p-0084" num="0083">The light receiving element included in each unit pixel may also be denoted as a photoelectric conversion element. Further, although the photodiode is described as an example of the light receiving element included in each unit pixel, each unit pixel may instead include pinned-photodiodes, phototransistors, or photogates.</p><p id="p-0085" num="0084">Each of the plurality of light receiving elements included in each unit pixel may independently capture incident light into an image. While each of the plurality of light receiving elements captures the incident light into the image, the incident light may be output as a photoelectric conversion signal.</p><p id="p-0086" num="0085">Referring to structure (a) in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, each unit pixel may be divided into two portions in the Y direction (e.g., the Y direction of <figref idref="DRAWINGS">FIG. <b>4</b></figref>) as two different light receiving elements are disposed, and the photoelectric conversion signal of each light receiving element may be independently read. The pixel group <b>301</b> in structure (a) of <figref idref="DRAWINGS">FIG. <b>5</b></figref> is described as an example. Two light receiving elements <b>331</b><i>a </i>and <b>331</b><i>b </i>may be provided in the unit pixel including the first micro-lens <b>311</b> and the first color filter <b>321</b>, and two light receiving elements <b>332</b><i>a </i>and <b>332</b><i>b </i>may be provided in the unit pixel including the second micro-lens <b>312</b> and the second color filter <b>322</b>. Two light receiving elements <b>333</b><i>a </i>and <b>333</b><i>b </i>may be provided in the unit pixel including the third micro-lens <b>313</b> and the third color filter <b>323</b>, and two light receiving elements <b>334</b><i>a </i>and <b>334</b><i>b </i>may be provided in the unit pixel including the fourth micro-lens <b>314</b> and the fourth color filter <b>324</b>.</p><p id="p-0087" num="0086">Referring to structure (b) in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, each unit pixel may be divided into four portions, i.e., two portions in the Y direction and two portions in the Z direction (e.g., the Z direction of <figref idref="DRAWINGS">FIG. <b>4</b></figref>) as four different light receiving elements are disposed, and the photoelectric conversion signal of each light receiving element may be independently read. The pixel group <b>401</b> in structure (b) of <figref idref="DRAWINGS">FIG. <b>5</b></figref> is described as an example. Four light receiving elements <b>431</b><i>a</i>, <b>431</b><i>b</i>, <b>431</b><i>c</i>, and <b>431</b><i>d </i>may be provided in the unit pixel including the first micro-lens <b>411</b> and the first color filter <b>421</b>, and four light receiving elements <b>432</b><i>a</i>, <b>432</b><i>b</i>, <b>432</b><i>c</i>, and <b>432</b><i>d </i>are provided in the unit pixel including the second micro-lens <b>412</b> and the second color filter <b>422</b>. Four light receiving elements <b>433</b><i>a</i>, <b>433</b><i>b</i>, <b>433</b><i>c</i>, and <b>433</b><i>d </i>are provided in the unit pixel including the third micro-lens <b>413</b> and the third color filter <b>423</b>, and four light receiving elements <b>434</b><i>a</i>, <b>434</b><i>b</i>, <b>434</b><i>c</i>, and <b>434</b><i>d </i>are provided in the unit pixel including the fourth micro-lens <b>414</b> and the fourth color filter <b>424</b>. In other words, in the embodiment illustrated in structure (b) of <figref idref="DRAWINGS">FIG. <b>5</b></figref>, each of the plurality of image pixels is a 4PD pixel which includes four light receiving elements in each micro-lens and may include a first sub-pixel, a second sub-pixel, a third sub-pixel, and a fourth sub-pixel.</p><p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates a method for reading photoelectric conversion signals of a plurality of light receiving elements according to an embodiment.</p><p id="p-0089" num="0088">For clarity, <figref idref="DRAWINGS">FIG. <b>6</b></figref> illustrates a method for reading a photoelectric conversion signal for a 2PD pixel in which two light receiving elements are disposed in the unit pixel according to structure (a) in <figref idref="DRAWINGS">FIG. <b>5</b></figref>.</p><p id="p-0090" num="0089">The photoelectric conversion signal of the two light receiving elements disposed in the unit pixel may represent a phase difference between the light beams arriving at different incident angles on the individual light receiving elements. Accordingly, the photoelectric conversion signal of the two light receiving elements may be divided into a left component and right component of the incident light. The phase difference of the incident light may be detected by comparing the left component and the right component. The photoelectric conversion signal of each light receiving element may include an output value containing various color information (e.g., red R, green G, or blue B) of the unit pixel of the color filter. The photoelectric conversion signal of each light receiving element may be stored in the form of raw data. According to another embodiment, the photoelectric conversion signal of each light receiving element may also be stored after undergoing such processing as interpolation of the color values of the neighboring pixels adjacent to the output value of the red R, green G, or blue B included in the unit pixel of the color filter. Referring to <figref idref="DRAWINGS">FIG. <b>6</b></figref>, in the photoelectric conversion signal of the 2PD pixel, the left component and the right component may be denoted by &#x2018;L&#x2019; and &#x2018;R,&#x2019; respectively.</p><p id="p-0091" num="0090"><figref idref="DRAWINGS">FIG. <b>7</b></figref> illustrates a plurality of image pixels according to an embodiment.</p><p id="p-0092" num="0091"><figref idref="DRAWINGS">FIG. <b>7</b></figref> illustrates a plurality of image pixels arranged in a Bayer pattern. The plurality of image pixels of <figref idref="DRAWINGS">FIG. <b>7</b></figref> may be ones in which the pixel group <b>301</b> shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> being repeatedly disposed, and two photodiodes are disposed in each micro-lens included in the pixel group <b>301</b>. For example, <figref idref="DRAWINGS">FIG. <b>7</b></figref> shows a plurality of image pixels composed of first to fourth rows r<b>1</b>, r<b>2</b>, r<b>3</b>, and r<b>4</b> and first to twelfth columns c<b>1</b>, c<b>2</b>, c<b>3</b>, c<b>4</b>, c<b>5</b>, c<b>6</b>, c<b>7</b>, c<b>8</b>, c<b>9</b>, c<b>10</b>, c<b>11</b>, and c<b>12</b>, in which there are prepared a plurality of same 2&#xd7;2 pixel groups each composed of a combination of the first row r<b>1</b>, the second row r<b>2</b>, the first column c<b>1</b>, and the second column c<b>2</b> and repeatedly arranged in a first direction (e.g., the z direction) and a second direction (e.g., the y direction).</p><p id="p-0093" num="0092">The photoelectric conversion signal of each light receiving element may further include phase difference information about each pixel, and the phase difference data containing the phase difference information may be output in the form of YCbCr data to represent a color space. As another example, the phase difference data may be output in a state of containing only luminance Y information except for the color information of Cb/Cr of the data form of YCbCr for representing a color space so as to reduce the amount (or size) of data stored. In sum, the photoelectric conversion signal of each light receiving element for the left component and right component of the incident light may be represented as data (LY, RY) for luminance Y and may include phase difference information.</p><p id="p-0094" num="0093">The ISP (e.g., the image signal processor <b>232</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>) performs a correlation calculation on the data of the light receiving element, represented as the phase difference data (e.g., luminance (Y) data) value, thereby detecting the phase difference. In this case, the correlation calculation may be performed on the plurality of image pixels. For example, the correlation calculation may be carried out on the plurality of image pixels in a predetermined range of the same pixel row or column. According to the embodiment shown in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, the correlation calculation may be executed by reading out the data for the plurality of image pixels in the second direction (e.g., horizontal direction (y direction)). The ISP <b>232</b> may read out the plurality of image pixels, disposed in the first row r<b>1</b>, second row r<b>2</b>, third row r<b>3</b>, and fourth row r<b>4</b>, in the second direction (e.g., horizontal direction (y direction)) and perform correlation calculation. The ISP <b>232</b> may read out the data of the plurality of image pixels arranged in the first row r<b>1</b> and then sequentially perform read-out on the second row r<b>2</b>, third row r<b>3</b>, and fourth row r<b>4</b>. After reading out on the first row r<b>1</b>, second row r<b>2</b>, third row r<b>3</b>, and fourth row r<b>4</b>, the phase difference information about each pixel may be output, in the form of phase difference data (e.g., luminance data) including phase difference information, using a line memory included in the image sensor <b>213</b> and/or the image processing part <b>230</b>.</p><p id="p-0095" num="0094">The area denoted by the dashed lines in <figref idref="DRAWINGS">FIG. <b>7</b></figref> is a focus detection area shown to the user, i.e., a region of interest (ROI). For example, as a ROI, 12 pixels may be set which are arranged in the same row. However, without limited thereto, an ROI may be set targeting various numbers of pixels, e.g., 6, 8, 16, or 24 pixels, arranged in the same row. Further, an ROI may be set by bundling pixels arranged in two different rows (e.g., r<b>1</b> and r<b>2</b>) so as to increase data output and hence reliability for data. As another example, as shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, 6 2&#xd7;2 pixel groups arranged in the second direction (e.g., y direction) may be set as an ROI. However, without limited thereto, a ROI may be set in the first direction (e.g., the z direction). As described above, each pixel in the set ROI may include two photodiode, so that each of the plurality of pixels in the pixel group may output a photoelectric conversion signal which is divided into the left component and right component of the incident light.</p><p id="p-0096" num="0095">The photoelectric conversion signal may include pixel data including color information and phase difference data including phase difference information. As another example, the phase difference data may be output in a form that only includes luminance data to reduce the amount of data stored. For example, as shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, only the left components of the photoelectric conversion signals in one pixel group may be gathered and output as &#x2018;LY&#x2019; data, and only the right components of the photoelectric conversion signals in one pixel group may be gathered and output as &#x2018;RY&#x2019; data. The &#x2018;LY&#x2019; data and the &#x2018;RY&#x2019; data may be gathered and output to one line YL. Correlation calculation for phase difference detection may be performed using the output LY data and RY data. Meanwhile, in the embodiment shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, LY data and RY data are output with two rows (e.g., r<b>1</b> and r<b>2</b>) for ease of description. However, without limited thereto, LY data and RY data may be output with four rows (e.g., r<b>1</b>, r<b>2</b>, r<b>3</b>, and r<b>4</b>) or more rows.</p><p id="p-0097" num="0096"><figref idref="DRAWINGS">FIG. <b>8</b></figref> illustrates a method for correlation of data for calculating phase difference detection according to an embodiment.</p><p id="p-0098" num="0097">The total sum of the absolute values of the differences between &#x2018;LY&#x2019; data and &#x2018;RY&#x2019; data shown in <figref idref="DRAWINGS">FIG. <b>7</b></figref> may be defined as a correlation calculation value. State (a) in <figref idref="DRAWINGS">FIG. <b>8</b></figref> shows a state in which the position of the pixel is not shifted for correlation calculation, and state (b) in <figref idref="DRAWINGS">FIG. <b>8</b></figref> shows a state in which the position of the pixel is shifted for correlation calculation. State (c) in <figref idref="DRAWINGS">FIG. <b>8</b></figref> shows the correlation calculation value detected through shifting the position of the pixel. The shifting may be performed on each pixel or on each pixel group. Referring to <figref idref="DRAWINGS">FIGS. <b>7</b> and <b>8</b></figref>, correlation calculation may be performed in a way of obtaining the correlation calculation value between &#x2018;LY&#x2019; data and &#x2018;RY&#x2019; data while shifting the position of the target pixel for correlation calculation in one direction (e.g., the Y direction) or unilaterally (e.g., the Y direction or &#x2212;Y direction). The correlation calculation may adopt, as a specific example, census or such methods for discovering, e.g., the sum of squared difference (SSD), mean of absolute difference (MAD) or sum of absolute difference (SAD), or other various schemes.</p><p id="p-0099" num="0098">A result of the correlation calculation may be used for focus adjustment, depth information detection, and the like. A minimum value among correlation calculation values may be defined as a focal position. For example, the correlation calculation value according to the difference between &#x2018;LY&#x2019; data and &#x2018;RY&#x2019; data may be obtained as shown in state (c) in <figref idref="DRAWINGS">FIG. <b>8</b></figref> while shifting the pixel in one direction as shown in state (a) in <figref idref="DRAWINGS">FIG. <b>8</b></figref> and state (b) in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, and disparity information about the object corresponding to the ROI may be obtained thereby.</p><p id="p-0100" num="0099">Meanwhile, the description of the embodiment of <figref idref="DRAWINGS">FIG. <b>8</b></figref> relates to reading the photoelectric conversion signal for the 2PD pixel including two light receiving elements in the unit pixel as in structure (a) in in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, for example. Meanwhile, as in structure (b) in <figref idref="DRAWINGS">FIG. <b>5</b></figref>, the photoelectric conversion signal for the 4PD pixel including four light receiving elements in the unit pixel requires detection of the top-to-bottom phase difference, as well as the left-to-right phase difference, unlike in structure (a) in <figref idref="DRAWINGS">FIG. <b>5</b></figref> in which only left-to-right phase difference detection of the photoelectric conversion signal is needed.</p><p id="p-0101" num="0100">Hereinafter, a method for top-to-bottom phase difference detection according to an embodiment is described.</p><p id="p-0102" num="0101"><figref idref="DRAWINGS">FIG. <b>9</b></figref> illustrates a method for reading photoelectric conversion signals of a plurality of light receiving elements according to an embodiment.</p><p id="p-0103" num="0102"><figref idref="DRAWINGS">FIG. <b>9</b></figref> illustrates a method for reading a photoelectric conversion signal for a case where two light receiving elements are arranged top-to-bottom or a 4PD pixel including four light receiving elements in the unit pixel. Here, the 4PD pixel including four light receiving elements may be, e.g., a 4PD pixel in which one light receiving element is disposed at each of the top right, top left, bottom right, and bottom left. The embodiment shown in <figref idref="DRAWINGS">FIGS. <b>6</b> to <b>8</b></figref> may be applied to the method for left-to-right phase difference detection for the 4PD pixel structure. In contrast, the description focuses mainly on the structure (b) in <figref idref="DRAWINGS">FIG. <b>5</b></figref> in relation to the method for top-to-bottom phase difference detection of the 4PD pixel structure.</p><p id="p-0104" num="0103">The photoelectric conversion signal of the light receiving elements separately disposed from the top to bottom in the unit pixel may represent a phase difference between the light beams incident, at different incident angles, on the individual light receiving elements. For example, the photoelectric conversion signal of the light receiving elements may be divided into a top component and bottom component of the incident light. The phase difference of the incident light may be detected by comparing the top component and the bottom component. For convenience of description, the phase difference detection for the left and right components described in connection with <figref idref="DRAWINGS">FIGS. <b>6</b> to <b>8</b></figref> may be defined as &#x2018;horizontal phase difference detection,&#x2019; and the phase difference detection for the top and bottom components described below in connection with <figref idref="DRAWINGS">FIGS. <b>9</b> and <b>10</b></figref> may be defined as &#x2018;vertical phase difference detection.&#x2019;</p><p id="p-0105" num="0104">Similar to the horizontal phase difference detection method mentioned in <figref idref="DRAWINGS">FIG. <b>6</b></figref>, in the vertical phase difference detection method, the photoelectric conversion signal of each light receiving element may be converted into data for the luminance (Y) value of YcbCr for representing a color space and be used. For example, the photoelectric conversion signal of each light receiving element for the top component and the bottom component of the incident light may be represented as data for luminance Y. Referring to <figref idref="DRAWINGS">FIG. <b>9</b></figref>, in the photoelectric conversion signal of the image pixel, the top component and the bottom component may be denoted by &#x2018;T&#x2019; and &#x2018;B,&#x2019; respectively.</p><p id="p-0106" num="0105">In the vertical phase difference detection method, the ISP (e.g., the image signal processor <b>232</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>) may also perform correlation calculation on the data of the light receiving element, represented as the luminance (Y) value, thereby detecting the phase difference. In this case, the correlation calculation may be performed on the plurality of image pixels. Similar to the horizontal phase difference detection method performed on the plurality of image pixels arranged in the same pixel row, vertical phase difference detection may be carried out on the plurality of image pixels arranged in the same column.</p><p id="p-0107" num="0106">However, unlike in the horizontal phase difference detection in which the direction of reading out the data of the plurality of image pixels is the same as the array of the pixels which are targets for phase difference detection, in the vertical phase difference detection, the direction of reading out the data of the plurality of image pixels may differ from the array of the pixels which are targets for phase difference detection. For example, in relation to the direction of reading out the data of the plurality of image pixels (e.g., the second direction (y direction)), the plurality of image pixels which are targets for phase difference detection may be arranged in the second direction which is parallel to the read-out direction in <figref idref="DRAWINGS">FIG. <b>6</b></figref> whereas, in <figref idref="DRAWINGS">FIG. <b>9</b></figref>, the plurality of image pixels, as targets for phase difference detection, may be arranged in the first direction (e.g., z direction) perpendicular to the read-out direction (e.g., the second direction).</p><p id="p-0108" num="0107"><figref idref="DRAWINGS">FIG. <b>10</b></figref> illustrates distance measurement points for phase difference detection in a horizontal direction and phase difference detection in a vertical direction in an image sensor including a plurality of image pixels according to an embodiment.</p><p id="p-0109" num="0108">Referring to <figref idref="DRAWINGS">FIG. <b>10</b></figref>, an ROI may be set for an image sensor including a plurality of image pixels. The plurality of image pixels included in the image sensor each may be formed of a 4PD pixel including four photodiodes and, to focus thereon, a horizontal phase difference detection operation and a vertical phase difference detection operation may be performed. According to an embodiment, the ROI may be arbitrarily set in various positions of the image sensor, and a horizontal phase difference detection operation and a vertical phase difference detection operation may be performed on ROIs (e.g., ROI<b>1</b>, ROI<b>2</b>, ROI<b>3</b>, ROI<b>4</b>, and ROI<b>5</b>) set in various positions.</p><p id="p-0110" num="0109">In performing the horizontal phase difference detection operation and vertical phase difference detection operation on the ROI, it may be required to set a horizontal distance measurement point H for detecting the left component and right component of the photoelectric conversion signal and a vertical distance measurement point V for detecting the top component and bottom component. Here, the distance measurement point may be a point that distinguishes between different rows of a plurality of image pixels provided in the image sensor <b>213</b> to specify an area for calculating a phase difference. At the horizontal distance measurement point H, line memory that is present for each of the multiple rows may be stored and, at the vertical distance measurement point V, a frame memory including all of the plurality of rows may be stored. Here, the &#x2018;line memory&#x2019; may be related to information present every multiple rows, and the &#x2018;frame memory&#x2019; may be related to information about the entire frame including at least two or more rows. For example, while the line memory may be stored every multiple horizontal distance measurement points H, the frame memory may include information about the plurality of horizontal distance measurement points H and be stored in whole.</p><p id="p-0111" num="0110">In general, the photoelectric conversion signal of each pixel needs to be read out to perform phase difference detection. In this case, the direction of read-out may be fixed to one direction. Accordingly, the horizontal phase difference detection operation may be performed using the line memory, and the vertical phase difference detection operation may be performed using the frame memory. In other words, the vertical phase difference detection operation may cause delay due to the need for using the frame memory in computation. In the horizontal phase difference detection operation, correlation calculation may be performed immediately after the read-out on the row is finished. In the vertical phase difference detection operation, correlation calculation may not be performed immediately after read-out is finished because the frame memory is applied. Thus, it may be difficult to synchronize the horizontal phase difference detection operation and the vertical phase difference detection operation. As described above, if a frame delay occurs in the phase difference detection operation, it may be hard to perform auto-focus driving which requires quick computation.</p><p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. <b>11</b></figref> illustrates components of an electronic device for phase difference detection in vertical and horizontal directions according to an embodiment.</p><p id="p-0113" num="0112">According to an embodiment of the disclosure, to output the vertical phase difference detection operation and the horizontal phase difference detection operation at similar times, image sensor <b>213</b> may perform correlation calculation before at least one processor, e.g., ISP <b>232</b> or processor <b>260</b>, performs computation.</p><p id="p-0114" num="0113">According to an embodiment of the disclosure, the electronic device may include the image sensor <b>213</b> that includes a plurality of image pixels arranged in the first direction and the second direction perpendicular to the first direction, may convert the light incident on a plurality of micro-lenses into an electrical signal, perform a first correlation calculation for phase difference detection for the first direction based on the electrical signal, and outputs image data including the first phase difference correlation calculation value. Here, the first direction may be, e.g., a vertical direction (e.g., the z direction of <figref idref="DRAWINGS">FIG. <b>9</b></figref>), and the second direction may mean a horizontal direction (e.g., the y direction of <figref idref="DRAWINGS">FIG. <b>9</b></figref>). Hereinafter, the vertical phase difference detection operation may be referred to as a phase difference detection operation in the first direction, and the horizontal phase difference detection operation may be referred to as a phase difference detection operation in the second direction. The phase difference detection operation in the first direction and the phase difference detection operation in the second direction may include, e.g., correlation calculation as described above in connection with <figref idref="DRAWINGS">FIG. <b>8</b></figref>. The respective results of the phase difference detection operation in the first direction and the phase difference detection operation in the second direction may be referred to as a first phase difference correlation calculation value and a second phase difference correlation calculation value, respectively.</p><p id="p-0115" num="0114">According to an embodiment of the disclosure, it is possible to prevent a frame delay, which may arise as the processing of obtaining phase difference data in the direction perpendicular to the read-out direction is performed after the read-out of one frame is finished, by computing the first phase difference correlation calculation value by the image sensor <b>213</b>.</p><p id="p-0116" num="0115">Basically, the ISP <b>232</b> may perform various computational operations, including a correlation calculation, using image data. The ISP <b>232</b> may perform a second correlation calculation <b>232</b><i>a </i>in the second direction (e.g., the horizontal direction) as part of phase difference detection, among of various computational operations. The second correlation calculation <b>232</b><i>a </i>may be performed through pixel shifting (refer to <figref idref="DRAWINGS">FIG. <b>8</b></figref>) in the second direction using as many line memories as the number of pixel data bits in the second direction. For example, when the image sensor <b>213</b> is provided in a unit of 4000 (H)&#xd7;3000 (V) (pixel by pixel), line memories as 4000 pixels may be stored (e.g., stored in the first memory <b>240</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>). If binning is performed on the image sensor <b>213</b>, the amount of data stored in the memory (e.g., the first memory <b>240</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>) may be reduced. For example, if 4 binning is performed in the second direction of 4000(H)&#xd7;3000(v), as much as 1000 pixels of data may be stored. However, when the unit pixel is a 4 PD pixel, data is stored in each light receiving element (e.g., the top left <b>431</b><i>a</i>, <b>432</b><i>a</i>, <b>433</b><i>a</i>, and <b>434</b><i>a</i>, top right <b>431</b><i>b</i>, <b>432</b><i>b</i>, <b>433</b><i>b</i>, and <b>434</b><i>b</i>, bottom left <b>431</b><i>c</i>, <b>432</b><i>c</i>, <b>433</b><i>c</i>, and <b>434</b><i>c</i>, and bottom right <b>431</b><i>d</i>, <b>432</b><i>d</i>, <b>433</b><i>d</i>, and <b>434</b><i>d </i>in structure (b) in <figref idref="DRAWINGS">FIG. <b>5</b></figref>). Thus, despite 4 binning, the data quantity of 4000 pixels may be required.</p><p id="p-0117" num="0116">According to an embodiment of the disclosure, the electronic device may perform a first correlation calculation <b>213</b><i>b </i>as part of the phase difference detection operation in the first direction (e.g., the vertical direction). For the first correlation calculation <b>213</b><i>b</i>, shifting-type phase difference calculation may be performed in the first direction using as many line memories (e.g., the third memory <b>213</b><i>a </i>(or line memory)) as the number of pixel data bits in the first direction. Similar to shifting each unit pixel in the second direction as shown in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the shifting-type phase difference computation in the first direction may be performed while shifting each pixel in the first direction. According to an embodiment of the disclosure, as the read-out direction for the image pixels is perpendicular to the direction of phase difference computation, the phase difference detection operation in the first direction may be implemented after a sampling read-out operation is performed on at least some rows. For example, the phase difference detection operation in the first direction may be performed after the entire area of the plurality of image pixels or a plurality of rows in the first direction in the ROI are sampled and read out. In this case, data by sampling the readout operation on at least some rows may be stored in the third memory <b>213</b><i>a</i>, with the third memory <b>213</b><i>a </i>differing from the first memory (e.g., <b>240</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>) and the second memory (e.g., <b>280</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>) storing information or commands for relevant operations after the read-out on the image pixels and, may be integrated into the image sensor <b>213</b>, in the form of a chip. For example, when the image sensor <b>213</b> is provided in a 4000 (H)&#xd7;3000 (V) pixel by pixel unit, the third memory <b>213</b><i>a </i>may include at least two or more rows of 4000 pixel line memories in the second direction. For example, even in this case, binning may be performed, and it may be required to store as much data as 4PD pixels are applied. According to an embodiment, before the first correlation calculation <b>213</b><i>b </i>according to the phase difference detection operation in the first direction, IIR- or FIR-type shading, gamma, defect pixel correction (DPC) or such correction may further be performed, and data for such correction may also be stored in the third memory <b>213</b><i>a. </i></p><p id="p-0118" num="0117">Referring to the embodiment shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the first correlation calculation <b>213</b><i>b </i>may be performed before the second correlation calculation <b>232</b><i>a</i>. The first correlation calculation <b>213</b><i>b </i>may be performed by the image sensor <b>213</b>, and the first correlation calculation <b>213</b><i>b </i>may be performed substantially simultaneously with the read-out on the image pixels.</p><p id="p-0119" num="0118"><figref idref="DRAWINGS">FIG. <b>12</b></figref> illustrates data immediately after a first correlation calculation according to an embodiment.</p><p id="p-0120" num="0119"><figref idref="DRAWINGS">FIG. <b>12</b></figref> illustrates a plurality of image pixels arranged in a Bayer pattern. Here, the embodiment shown in <figref idref="DRAWINGS">FIG. <b>12</b></figref> may represent information about the image pixel read between the image sensor <b>213</b> shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref> and the ISP <b>232</b>. The image data may include information about the image pixel read between the image sensor <b>213</b> and the ISP <b>232</b>. That is, the image data may include the first phase difference correlation calculation value and phase difference data.</p><p id="p-0121" num="0120">The plurality of image pixels of <figref idref="DRAWINGS">FIG. <b>12</b></figref> may be ones in which the pixel group <b>301</b> shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref> is repeatedly disposed, and four photodiodes are disposed in each micro-lens included in the pixel group <b>301</b>. For example, <figref idref="DRAWINGS">FIG. <b>12</b></figref> shows a plurality of image pixels composed of first to eighth rows r<b>1</b>, r<b>2</b>, r<b>3</b>, r<b>4</b>, r<b>5</b>, r<b>6</b>, r<b>7</b>, and r<b>8</b>, and first to twelfth columns c<b>1</b>, c<b>2</b>, c<b>3</b>, c<b>4</b>, c<b>5</b>, c<b>6</b>, c<b>7</b>, c<b>8</b>, c<b>9</b>, c<b>10</b>, c<b>11</b>, and c<b>12</b>. The plurality of image pixels may be formed as a plurality of same 2&#xd7;2 pixel groups each including a combination of the first row r<b>1</b>, the second row r<b>2</b>, the first column c<b>1</b>, and the second column c<b>2</b> are prepared and repeatedly arranged in the first direction (e.g., the y direction) and the second direction (e.g., the z direction).</p><p id="p-0122" num="0121">The area denoted by the dashed lines in <figref idref="DRAWINGS">FIG. <b>12</b></figref> is a focus detection area shown to the user, i.e., an ROI minimum unit. For example, a ROI in which 16 unit pixels are arranged in the same row may be set, but is not limited thereto. Further, a ROI may be set by bundling unit pixels arranged in two or more different rows (e.g., r<b>1</b> and r<b>2</b>) so as to increase data output and hence reliability for data. As another example, as shown in <figref idref="DRAWINGS">FIG. <b>12</b>, <b>16</b></figref> <b>2</b>&#xd7;2 pixel groups arranged in the first direction (e.g., y direction) may be set as a ROI. As described above, each unit pixel in the set ROI may include four photodiodes, so that each of the plurality of pixels in the pixel group may output a photoelectric conversion signal which is divided into the left component and right component of the incident light and the top component and bottom component of the incident light.</p><p id="p-0123" num="0122">The image data shown in <figref idref="DRAWINGS">FIG. <b>12</b></figref> may include raw data for the plurality of image pixels. Here, the raw data may be the photoelectric conversion signal of the light receiving element, which is stored in the form of a file without being processed by the image processing part (e.g., <b>230</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>). The raw data for the image pixels may be in a lossless-compressed form or a form stored with a log applied thereto, or the photoelectric conversion signal of the light receiving element may be stored in the form of data for the luminance (Y) value of YCbCr for representing a color space. The image data may include &#x2018;LY&#x2019; data resulting from gathering and outputting only the left components of the photoelectric conversion signals in one pixel group and &#x2018;RY&#x2019; data resultant from gathering and outputting only the right components of the photoelectric conversion signals in one pixel group. As shown in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, the &#x2018;LY&#x2019; data and the &#x2018;RY&#x2019; data may be collected and stored and output in the form of one line memory YL. According to another embodiment, as the image data, only the top components of the photoelectric conversion signals in one pixel group and only the bottom components of the photoelectric conversion signals in one pixel group may be collected and be objected to first correlation calculation. Referring to the embodiment shown in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, the first correlation calculation may be performed immediately without outputting raw data for the top components and the bottom components of the photoelectric conversion signals, unlike the second correlation calculation.</p><p id="p-0124" num="0123">The image data output from the image sensor <b>213</b> may include luminance data for the second direction and the first phase difference correlation calculation value for the first direction at equal intervals between the raw data for the plurality of image pixels. For example, as shown in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, the image data output from the image sensor may include raw data for the plurality of image pixels composed of the first to fourth rows r<b>1</b>, r<b>2</b>, r<b>3</b>, and r<b>4</b> and the first to twelfth columns c<b>1</b>, c<b>2</b>, c<b>3</b>, c<b>4</b>, c<b>5</b>, c<b>6</b>, c<b>7</b>, c<b>8</b>, c<b>9</b>, c<b>10</b>, c<b>11</b>, and c<b>12</b>, the first phase difference correlation calculation value for the first direction, and the luminance data for the second direction. Further, as shown in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, the image data output from the image sensor may include raw data for the plurality of image pixels composed of the fifth to eighth rows r<b>5</b>, r<b>6</b>, r<b>7</b>, and r<b>8</b> and the first to twelfth columns c<b>1</b>, c<b>2</b>, c<b>3</b>, c<b>4</b>, c<b>5</b>, c<b>6</b>, c<b>7</b>, c<b>8</b>, c<b>9</b>, c<b>10</b>, c<b>11</b>, and c<b>12</b>, the first phase difference correlation calculation value for the first direction, and the luminance data for the second direction. It is possible to prevent deterioration of image quality due to differences in exposure in image line units by outputting the luminance data for the second direction and the first phase difference correlation calculation value for the first direction at equal intervals.</p><p id="p-0125" num="0124"><figref idref="DRAWINGS">FIG. <b>13</b></figref> illustrates a method for producing reliability information according to a phase difference detection operation in a first direction and phase difference detection operation in a second direction according to an embodiment.</p><p id="p-0126" num="0125">Referring to <figref idref="DRAWINGS">FIG. <b>13</b></figref>, in relation to a method for focusing on an object (e.g., a pencil) within an ROI, the processor <b>260</b> may perform a first-direction phase difference detection operation and a second-direction phase difference detection operation. In this case, the processor <b>260</b> may increase the computation speed by performing the phase difference detection operation in the first direction, i.e., the first correlation calculation <b>213</b><i>b</i>, before the phase difference detection operation in the second direction, i.e., the second correlation calculation <b>232</b><i>a</i>, as described above. The processor <b>260</b> may produce reliability information using the result of the correlation calculation. The processor <b>260</b> may yield the reliability for correlation calculation curves in different directions through differences between the lowest points of the correlation calculation curves and adjacent specific points. In this case, the specific points adjacent to the lowest points may be set as points spaced apart by the same distance from the phase axis values of the lowest points.</p><p id="p-0127" num="0126">For example, since the difference (200&#x2212;100=100) between the lowest point of the correlation calculation curve in the second direction and an adjacent specific point as shown on the left side of <figref idref="DRAWINGS">FIG. <b>13</b></figref> is larger than the difference (400&#x2212;100=300) between the lowest point of the correlation calculation curve in the first direction and an adjacent specific point as shown on the upper side of <figref idref="DRAWINGS">FIG. <b>13</b></figref>, the processor <b>260</b> may determine that the correlation calculation curve <b>820</b> in the first direction has high reliability.</p><p id="p-0128" num="0127">The electronic device (e.g., the electronic device <b>200</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>) adjusts the focus of at least one camera module based on the first phase difference correlation calculation value for the first direction and the second phase difference correlation calculation value for the second direction using a driver (e.g., the driver <b>215</b> or <b>216</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>). The driver <b>215</b> or <b>216</b> may set an optimal position for adjusting the focus of the camera module by applying a weight determined through comparison in reliability (e.g., reliability comparison <b>250</b><i>a </i>of <figref idref="DRAWINGS">FIG. <b>11</b></figref>) between the first phase difference correlation calculation value and the second phase difference correlation calculation value. For example, referring to the embodiments of <figref idref="DRAWINGS">FIGS. <b>11</b> and <b>13</b></figref> together, since the first phase difference correlation calculation value has higher reliability, an optimal position for adjusting the focus of the camera module may be set (X-position) by applying a weight to the data for the first phase difference correlation calculation value</p><p id="p-0129" num="0128">An electronic device according to various embodiments of the disclosure may be one of various types of electronic devices. The electronic devices may include, for example, a portable communication device (e.g., a smart phone), a computer device, a portable multimedia device, a portable medical device, a camera, a wearable device, or a home appliance. According to an embodiment of the disclosure, the electronic devices are not limited to those described above.</p><p id="p-0130" num="0129">It should be appreciated that various embodiments of the present disclosure and the terms used therein are not intended to limit the technological features set forth herein to particular embodiments and include various changes, equivalents, or replacements for a corresponding embodiment.</p><p id="p-0131" num="0130">With regard to the description of the drawings, similar reference numerals may be used to refer to similar or related elements.</p><p id="p-0132" num="0131">It is to be understood that a singular form of a noun corresponding to an item may include one or more of the things, unless the relevant context clearly indicates otherwise.</p><p id="p-0133" num="0132">As used herein, each of such phrases as &#x201c;A or B,&#x201d; &#x201c;at least one of A and B,&#x201d; &#x201c;at least one of A or B,&#x201d; &#x201c;A, B, or C,&#x201d; &#x201c;at least one of A, B, and C,&#x201d; and &#x201c;at least one of A, B, or C,&#x201d; may include all possible combinations of the items enumerated together in a corresponding one of the phrases. As used herein, such terms as &#x201c;1st&#x201d; and &#x201c;2nd,&#x201d; or &#x201c;first&#x201d; and &#x201c;second&#x201d; may be used to simply distinguish a corresponding component from another, and does not limit the components in other aspect (e.g., importance or order).</p><p id="p-0134" num="0133">It is to be understood that if an element (e.g., a first element) is referred to, with or without the term &#x201c;operatively&#x201d; or &#x201c;communicatively&#x201d;, as &#x201c;coupled with,&#x201d; &#x201c;coupled to,&#x201d; &#x201c;connected with,&#x201d; or &#x201c;connected to&#x201d; another element (e.g., a second element), it means that the element may be coupled with the other element directly (e.g., wiredly), wirelessly, or via a third element.</p><p id="p-0135" num="0134">As used herein, the term &#x201c;module&#x201d; may include a unit implemented in hardware, software, or firmware, and may interchangeably be used with other terms, for example, &#x201c;logic,&#x201d; &#x201c;logic block,&#x201d; &#x201c;part,&#x201d; or &#x201c;circuitry&#x201d;. A module may be a single integral component, or a minimum unit or part thereof, adapted to perform one or more functions. For example, according to an embodiment, the module may be implemented in a form of an application-specific integrated circuit (ASIC).</p><p id="p-0136" num="0135">Various embodiments as set forth herein may be implemented as software (e.g., the program <b>140</b>) including one or more instructions that are stored in a storage medium (e.g., internal memory <b>136</b> or external memory <b>138</b>) that is readable by a machine (e.g., the electronic device <b>101</b>). For example, a processor (e.g., the processor <b>120</b>) of the machine (e.g., the electronic device <b>101</b>) may invoke at least one of the one or more instructions stored in the storage medium, and execute it, with or without using one or more other components under the control of the processor. This allows the machine to be operated to perform at least one function according to the at least one instruction invoked. The one or more instructions may include a code generated by a complier or a code executable by an interpreter. The machine-readable storage medium may be provided in the form of a non-transitory storage medium. Wherein, the term &#x201c;non-transitory&#x201d; simply means that the storage medium is a tangible device, and does not include a signal (e.g., an electromagnetic wave), but this term does not differentiate between where data is semi-permanently stored in the storage medium and where the data is temporarily stored in the storage medium.</p><p id="p-0137" num="0136">According to an embodiment, a method according to various embodiments of the disclosure may be included and provided in a computer program product. The computer program products may be traded as commodities between sellers and buyers. The computer program product may be distributed in the form of a machine-readable storage medium (e.g., compact disc read only memory (CD-ROM)), or be distributed (e.g., downloaded or uploaded) online via an application store (e.g., Play Store&#x2122;), or between two user devices (e.g., smart phones) directly. If distributed online, at least part of the computer program product may be temporarily generated or at least temporarily stored in the machine-readable storage medium, such as memory of the manufacturer's server, a server of the application store, or a relay server.</p><p id="p-0138" num="0137">According to various embodiments, each component (e.g., a module or a program) of the above-described components may include a single entity or multiple entities. Some of the plurality of entities may be separately disposed in different components. According to various embodiments, one or more of the above-described components may be omitted, or one or more other components may be added. Alternatively or additionally, a plurality of components (e.g., modules or programs) may be integrated into a single component. In such a case, according to various embodiments, the integrated component may still perform one or more functions of each of the plurality of components in the same or similar manner as they are performed by a corresponding one of the plurality of components before the integration. According to various embodiments, operations performed by the module, the program, or another component may be carried out sequentially, in parallel, repeatedly, or heuristically, or one or more of the operations may be executed in a different order or omitted, or one or more other operations may be added.</p><p id="p-0139" num="0138">According to an embodiment, an electronic device including at least one camera module (e.g., the camera module <b>180</b> of <figref idref="DRAWINGS">FIG. <b>1</b></figref>) may comprise an image sensor (e.g., the image sensor <b>213</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>) including a plurality of image pixels arranged in a first direction (e.g., the Z-axis direction of <figref idref="DRAWINGS">FIG. <b>3</b></figref>) and a second direction (e.g., the Y-axis direction of <figref idref="DRAWINGS">FIG. <b>3</b></figref>) orthogonal to the first direction, converting light incident on a plurality of micro-lenses into an electrical signal, performing a first correlation calculation for phase difference detection in the first direction based on the electrical signal, and outputting image data including a first phase difference correlation calculation value; an ISP (e.g., the image signal processor <b>232</b> of <figref idref="DRAWINGS">FIG. <b>2</b></figref>) configured to perform a second correlation calculation for phase difference detection in the second direction using phase difference information about the image data; and a driver configured to adjust a focus of the at least one camera module based on the first phase difference correlation calculation value for the first direction and the second phase difference correlation calculation value for the second direction.</p><p id="p-0140" num="0139">The first direction may be perpendicular to a read-out direction for the plurality of image pixels, and the second direction may be identical to the read-out direction of the plurality of image pixels.</p><p id="p-0141" num="0140">Each image pixel of the plurality of image pixels comprises a pixel structure provided with four photodiodes as light receiving elements (4PD pixel) including one micro-lens, with a first sub-pixel, a second sub-pixel, a third sub-pixel, and a fourth sub-pixel.</p><p id="p-0142" num="0141">The first correlation calculation may be performed through phase comparison according to a shift between adjacent pixels in the first direction for a first sub group of the first sub-pixel and the second sub-pixel and a second sub group of the third sub-pixel and the fourth sub-pixel.</p><p id="p-0143" num="0142">The ISP is further configured to perform a re-mosaic function to re-align data output from the ISP, via the 4PD pixel included in the plurality of image pixels.</p><p id="p-0144" num="0143">The first correlation calculation may be performed using a predetermined number of sampled line memories in the first direction.</p><p id="p-0145" num="0144">Image data output from the image sensor may include pixel data including color information about the plurality of image pixels, the first phase difference correlation calculation value for the first direction, and phase difference data including phase difference information for the second direction.</p><p id="p-0146" num="0145">The image data output from the image sensor may include the first phase difference correlation calculation value for the first direction and the phase difference data including the phase difference information for the second direction at equal intervals between pixel data for the plurality of image pixels.</p><p id="p-0147" num="0146">The second correlation calculation may be performed by phase comparison according to a shift in the second direction for a third sub group of the first sub-pixel and the third sub-pixel and a fourth sub group of the second sub-pixel and the fourth sub-pixel, between adjacent pixels.</p><p id="p-0148" num="0147">The driver may be configured to adjust the focus of the at least one camera module by applying a weight through reliability comparison on each of the first phase difference correlation calculation value and the second phase difference correlation calculation value.</p><p id="p-0149" num="0148">The first correlation calculation may be performed on a portion, corresponding to an ROI, or an entire area of the plurality of image pixels.</p><p id="p-0150" num="0149">According to an embodiment, a method for controlling an electronic device including a camera, an image sensor and at least one processor is provided that includes performing, using the image sensor, a first correlation calculation for phase difference detection in a first direction on a plurality of image pixels included in an image sensor, the image sensor being configured to collect light incident to the lens, and the plurality of pixels being arranged in the first direction and a second direction orthogonal to the first direction; performing, using at least one processor, a second correlation calculation for phase difference detection in the second direction, and adjusting a focus of the camera based on a first phase difference correlation calculation value for the first direction and a second phase difference correlation calculation value for the second direction.</p><p id="p-0151" num="0150">While the disclosure has been particularly shown and described with reference to certain embodiments thereof, it will be understood by those of ordinary skill in the art that various changes in form and details may be made therein without departing from the spirit and scope of the disclosure as defined by the appended claims and their equivalents.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-claim-statement>What is claimed is:</us-claim-statement><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. An electronic device, comprising:<claim-text>a camera;</claim-text><claim-text>an image sensor including a plurality of image pixels arranged in a first direction and a second direction orthogonal to the first direction, and configured to convert light incident on a plurality of micro-lenses into an electrical signal, perform a first correlation calculation for phase difference detection in the first direction based on the electrical signal, and output image data including a first phase difference correlation calculation value;</claim-text><claim-text>an image signal processor (ISP) configured to perform a second correlation calculation for phase difference detection in the second direction using phase difference information about the image data; and</claim-text><claim-text>a driver configured to adjust a focus of the camera based on the first phase difference correlation calculation value for the first direction and the second phase difference correlation calculation value for the second direction.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The electronic device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first direction is perpendicular to a read-out direction for the plurality of image pixels, and the second direction is identical to the read-out direction of the plurality of image pixels.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The electronic device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each image pixel of the plurality of image pixels comprises a pixel structure having four photodiodes as light receiving elements (4PD pixel) including one micro-lens, with a first sub-pixel, a second sub-pixel, a third sub-pixel, and a fourth sub-pixel.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The electronic device of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the first correlation calculation is performed through phase comparison according to a shift between adjacent pixels in the first direction for a first sub group of the first sub-pixel and the second sub-pixel, and a second sub group of the third sub-pixel and the fourth sub-pixel.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The electronic device of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the ISP is configured to perform a re-mosaic function to re-align data output from the ISP, per 4PD pixel included in the plurality of image pixels.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The electronic device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first correlation calculation is performed using a predetermined number of sampled line memories in the first direction.</claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The electronic device of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein image data output from the image sensor includes pixel data including color information about the plurality of image pixels, the first phase difference correlation calculation value for the first direction, and phase difference data including phase difference information for the second direction.</claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The electronic device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the image data output from the image sensor includes the first phase difference correlation calculation value for the first direction and the phase difference data including the phase difference information for the second direction at equal intervals between pixel data for the plurality of image pixels.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The electronic device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the second correlation calculation is performed by phase comparison of a shift in the second direction for a third sub group of a first sub-pixel and a third sub-pixel, and a fourth sub group of a second sub-pixel and a fourth sub-pixel, between adjacent pixels.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The electronic device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the driver is configured to adjust the focus of the camera by applying a weight through reliability comparison on each of the first phase difference correlation calculation value and the second phase difference correlation calculation value.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The electronic device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first correlation calculation is performed on at least one of a portion corresponding to a region of interest (ROI) or an entire area of the plurality of image pixels.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. A method for controlling an electronic device including a camera, an image sensor and at least one processor, the method comprising:<claim-text>performing, using the image sensor, a first correlation calculation for phase difference detection in a first direction on a plurality of image pixels included in the image sensor, the image sensor being configured to collect light incident on a lens, and the plurality of image pixels being arranged in the first direction and a second direction orthogonal to the first direction;</claim-text><claim-text>performing, using at least one processor, a second correlation calculation for phase difference detection in the second direction; and</claim-text><claim-text>adjusting a focus of the camera based on a first phase difference correlation calculation value for the first direction and a second phase difference correlation calculation value for the second direction.</claim-text></claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the first direction is perpendicular to a read-out direction for the plurality of image pixels, and the second direction is identical to the read-out direction of the plurality of image pixels.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein each image pixel of the plurality of image pixels comprises a pixel structure having four photodiodes as light receiving elements (4PD pixel) including one micro-lens, with a first sub-pixel, a second sub-pixel, a third sub-pixel, and a fourth sub-pixel.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the first correlation calculation is performed through phase comparison according to a shift between adjacent pixels in the first direction for a first sub group of the first sub-pixel and the second sub-pixel, and a second sub group of the third sub-pixel and the fourth sub-pixel.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the first correlation calculation is performed using a predetermined number of sampled line memories in the first direction.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein image data output from the image sensor includes pixel data including color information about the plurality of image pixels, the first phase difference correlation calculation value for the first direction, and phase difference data including phase difference information for the second direction.</claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the image data output from the image sensor includes the first phase difference correlation calculation value for the first direction and the phase difference data including the phase difference information for the second direction at equal intervals between pixel data for the plurality of image pixels.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the second correlation calculation is performed by phase comparison of a shift in the second direction for a third sub group of a first sub-pixel and a third sub-pixel and a fourth sub group of a second sub-pixel and a fourth sub-pixel, between adjacent pixels.</claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein adjusting the focus is implemented by applying a weight through reliability comparison on each of the first phase difference correlation calculation value and the second phase difference correlation calculation value.</claim-text></claim></claims></us-patent-application>