<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230007271A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230007271</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17384137</doc-number><date>20210723</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><priority-claims><priority-claim sequence="01" kind="national"><country>CN</country><doc-number>PCT/CN2019/077454</doc-number><date>20190308</date></priority-claim></priority-claims><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>159</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>176</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>46</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>132</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>186</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>107</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>159</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>176</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>107</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>132</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>186</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20141101</date></cpc-version-indicator><section>H</section><class>04</class><subclass>N</subclass><main-group>19</main-group><subgroup>46</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e61">JOINT CODING OF PALETTE MODE USAGE INDICATION</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/CN2020/076368</doc-number><date>20200224</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17384137</doc-number></document-id></child-doc></relation></continuation></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Beijing Bytedance Network Technology Co., Ltd.</orgname><address><city>Beijing</city><country>CN</country></address></addressbook><residence><country>CN</country></residence></us-applicant><us-applicant sequence="01" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Bytedance Inc.</orgname><address><city>Los Angeles</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>ZHU</last-name><first-name>Weijia</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>ZHANG</last-name><first-name>Li</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="02" designation="us-only"><addressbook><last-name>XU</last-name><first-name>Jizheng</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="03" designation="us-only"><addressbook><last-name>ZHANG</last-name><first-name>Kai</first-name><address><city>San Diego</city><state>CA</state><country>US</country></address></addressbook></inventor><inventor sequence="04" designation="us-only"><addressbook><last-name>LIU</last-name><first-name>Hongbin</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor><inventor sequence="05" designation="us-only"><addressbook><last-name>WANG</last-name><first-name>Yue</first-name><address><city>Beijing</city><country>CN</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">Devices, systems and methods for palette mode coding are described. An exemplary method for video processing includes determining, for a conversion between a block of a video region in a video and a bitstream representation of the video, a prediction mode based on one or more allowed prediction modes that include at least a palette mode of the block. An indication of usage of the palette mode is determined according to the prediction mode. The method also includes performing the conversion based on the one or more allowed prediction modes.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="105.41mm" wi="137.58mm" file="US20230007271A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="139.62mm" wi="139.28mm" orientation="landscape" file="US20230007271A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="162.56mm" wi="120.90mm" orientation="landscape" file="US20230007271A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="174.92mm" wi="131.23mm" orientation="landscape" file="US20230007271A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="157.14mm" wi="115.23mm" orientation="landscape" file="US20230007271A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="209.63mm" wi="127.93mm" orientation="landscape" file="US20230007271A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="122.34mm" wi="103.80mm" orientation="landscape" file="US20230007271A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="208.70mm" wi="148.93mm" orientation="landscape" file="US20230007271A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="171.62mm" wi="133.77mm" orientation="landscape" file="US20230007271A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="171.20mm" wi="119.80mm" orientation="landscape" file="US20230007271A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="110.91mm" wi="104.99mm" orientation="landscape" file="US20230007271A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="130.73mm" wi="119.72mm" orientation="landscape" file="US20230007271A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="95.67mm" wi="135.47mm" orientation="landscape" file="US20230007271A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="79.67mm" wi="122.00mm" orientation="landscape" file="US20230007271A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="87.12mm" wi="102.53mm" orientation="landscape" file="US20230007271A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="149.86mm" wi="126.83mm" orientation="landscape" file="US20230007271A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="128.10mm" wi="95.67mm" orientation="landscape" file="US20230007271A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="189.65mm" wi="108.37mm" orientation="landscape" file="US20230007271A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="132.93mm" wi="93.73mm" orientation="landscape" file="US20230007271A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="153.16mm" wi="94.32mm" orientation="landscape" file="US20230007271A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="51.05mm" wi="98.72mm" orientation="landscape" file="US20230007271A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="159.77mm" wi="122.68mm" orientation="landscape" file="US20230007271A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00022" num="00022"><img id="EMI-D00022" he="41.66mm" wi="93.13mm" orientation="landscape" file="US20230007271A1-20230105-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00023" num="00023"><img id="EMI-D00023" he="44.53mm" wi="85.01mm" orientation="landscape" file="US20230007271A1-20230105-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00024" num="00024"><img id="EMI-D00024" he="171.45mm" wi="133.35mm" orientation="landscape" file="US20230007271A1-20230105-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00025" num="00025"><img id="EMI-D00025" he="162.31mm" wi="152.23mm" orientation="landscape" file="US20230007271A1-20230105-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00026" num="00026"><img id="EMI-D00026" he="162.31mm" wi="152.23mm" orientation="landscape" file="US20230007271A1-20230105-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00027" num="00027"><img id="EMI-D00027" he="162.31mm" wi="152.23mm" orientation="landscape" file="US20230007271A1-20230105-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00028" num="00028"><img id="EMI-D00028" he="162.56mm" wi="152.23mm" orientation="landscape" file="US20230007271A1-20230105-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00029" num="00029"><img id="EMI-D00029" he="162.56mm" wi="152.23mm" orientation="landscape" file="US20230007271A1-20230105-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00030" num="00030"><img id="EMI-D00030" he="162.48mm" wi="152.23mm" orientation="landscape" file="US20230007271A1-20230105-D00030.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00031" num="00031"><img id="EMI-D00031" he="162.31mm" wi="152.23mm" orientation="landscape" file="US20230007271A1-20230105-D00031.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This application is a continuation of International Patent Application No. PCT/CN2020/076368, filed on Feb. 24, 2020, which claims the priority to and benefits of International Patent Application No. PCT/CN2019/077454, filed on Mar. 8, 2019. All the aforementioned patent applications are hereby incorporated by reference in their entireties.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">TECHNICAL FIELD</heading><p id="p-0003" num="0002">This document is related to video and image coding technologies.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">Digital video accounts for the largest bandwidth use on the internet and other digital communication networks. As the number of connected user devices capable of receiving and displaying video increases, it is expected that the bandwidth demand for digital video usage will continue to grow.</p><heading id="h-0004" level="1">SUMMARY</heading><p id="p-0005" num="0004">The disclosed techniques may be used by video or image decoder or encoder embodiments for in which palette mode coding is used.</p><p id="p-0006" num="0005">In one example aspect, a method of video processing is disclosed. The method includes performing a conversion between a block of a video region of a video and a bitstream representation of the video. The bitstream representation is processed according to a first format rule that specifies whether a first indication of usage of a palette mode is signaled for the block and a second format rule that specifies a position of the first indication relative to a second indication of usage of a prediction mode for the block.</p><p id="p-0007" num="0006">In one example aspect, a method of video processing is disclosed. The method includes determining, for a conversion between a block of a video region in a video and a bitstream representation of the video, a prediction mode based on one or more allowed prediction modes that include at least a palette mode of the block. An indication of usage of the palette mode is determined according to the prediction mode. The method also includes performing the conversion based on the one or more allowed prediction modes.</p><p id="p-0008" num="0007">In another example aspect, a method of video processing is disclosed. The method includes performing a conversion between a block of a video and a bitstream representation of the video. The bitstream representation is processed according to a format rule that specifies a first indication of usage of a palette mode and a second indication of usage of an intra block copy (IBC) mode are signaled dependent of each other.</p><p id="p-0009" num="0008">In another example aspect, a method of video processing is disclosed. The method includes determining, for a conversion between a block of a video and a bitstream representation of the video, a presence of an indication of usage of a palette mode in the bitstream representation based on a dimension of the block; and performing the conversion based on the determining.</p><p id="p-0010" num="0009">In another example aspect, a method of video processing is disclosed. The method includes determining, for a conversion between a block of a video and a bitstream representation of the video, a presence of an indication of usage of an intra block copy (IBC) mode in the bitstream representation based on a dimension of the block; and performing the conversion based on the determining.</p><p id="p-0011" num="0010">In another example aspect, a method of video processing is disclosed. The method includes determining, for a conversion between a block of a video and a bitstream representation of the video, whether a palette mode is allowed for the block based on a second indication of a video region containing the block; and performing the conversion based on the determining.</p><p id="p-0012" num="0011">In another example aspect, a method of video processing is disclosed. The method includes determining, for a conversion between a block of a video and a bitstream representation of the video, whether an intra block copy (IBC) mode is allowed for the block based on a second indication of a video region containing the block; and performing the conversion based on the determining.</p><p id="p-0013" num="0012">In another example aspect, a method of video processing is disclosed. The method includes determining that palette mode is to be used for processing a transform unit, a coding block, or a region, usage of palette mode being coded separately from a prediction mode, and performing further processing of the transform unit, the coding block, or the region using the palette mode.</p><p id="p-0014" num="0013">In another example aspect, a method of video processing is disclosed. The method includes determining, for a current video block, that a sample associated with one palette entry of a palette mode has a first bit depth that is different from a second bit depth associated with the current video block, and performing, based on at least the one palette entry, further processing of the current video block.</p><p id="p-0015" num="0014">In another example aspect, another method of video processing is disclosed. The method includes performing a conversion between a current video block of a picture of a video and a bitstream representation of the video in which information about whether or not an intra block copy mode is used in the conversion is signaled in the bitstream representation or derived based on a coding condition of the current video block; wherein the intra block copy mode comprises coding the current video block from another video block in the picture.</p><p id="p-0016" num="0015">In yet another example aspect, another method of video processing is disclosed. The method includes determining whether or not a deblocking filter is to be applied during a conversion of a current video block of a picture of video, wherein the current video block is coded using a palette mode coding in which the current video block is represented using representative sample values that are fewer than total pixels of the current video block and performing the conversion such that the deblocking filter is applied in case the determining is that the deblocking filter is to be applied.</p><p id="p-0017" num="0016">In yet another example aspect, another method of video processing is disclosed. The method includes determining a quantization or an inverse quantization process for use during a conversion between a current video block of a picture of a video and a bitstream representation of the video, wherein the current video block is coded using a palette mode coding in which the current video block is represented using representative sample values that are fewer than total pixels of the current video block and performing the conversion based on the determining the quantization or the inverse quantization process.</p><p id="p-0018" num="0017">In yet another example aspect, another method of video processing is disclosed. The method includes determining, for a conversion between a current video block of a video comprising multiple video blocks and a bitstream representation of the video, that the current video block is a palette-coded block; based on the determining, performing a list construction process of most probable mode by considering the current video block to be an intra coded block, and performing the conversion based on a result of the list construction process; wherein the palette-coded block is coded or decoded using a palette or representation sample values.</p><p id="p-0019" num="0018">In yet another example aspect, another method of video processing is disclosed. The method includes</p><p id="p-0020" num="0019">In yet another example aspect, another method of video processing is disclosed. The method includes determining, for a conversion between a current video block of a video comprising multiple video blocks and a bitstream representation of the video, that the current video block is a palette-coded block; based on the determining, performing a list construction process of most probable mode by considering the current video block to be a non-intra coded block, and performing the conversion based on a result of the list construction process; wherein the palette-coded block is coded or decoded using a palette or representation sample values.</p><p id="p-0021" num="0020">In yet another example aspect, another method of video processing is disclosed. The method includes determining, for a conversion between a current video block of a video comprising multiple video blocks and a bitstream representation of the video, that the current video block is a palette-coded block; based on the determining, performing a list construction process by considering the current video block to be an unavailable block, and performing the conversion based on a result of the list construction process; wherein the palette-coded block is coded or decoded using a palette or representation sample values.</p><p id="p-0022" num="0021">In yet another example aspect, another method of video processing is disclosed. The method includes determining, during a conversion between a current video block and a bitstream representation of the current video block, that the current video block is a palette coded block, determining, based on the current video block being the palette coded block, a range of context coded bins used for the conversion; and performing the conversion based on the range of context coded bins.</p><p id="p-0023" num="0022">In yet another example aspect, the above-described method may be implemented by a video encoder apparatus that comprises a processor.</p><p id="p-0024" num="0023">In yet another example aspect, these methods may be embodied in the form of processor-executable instructions and stored on a computer-readable program medium.</p><p id="p-0025" num="0024">These, and other, aspects are further described in the present document.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>1</b></figref> shows an example of intra block copy.</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>2</b></figref> shows an example of a block coded in palette mode.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>3</b></figref> shows an example of use of a palette predictor to signal palette entries.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>4</b></figref> shows an example of horizontal and vertical traverse scans.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>5</b></figref> shows an example of coding of palette indices.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a block diagram of an example of a video processing apparatus.</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>7</b></figref> shows a block diagram of an example implementation of a video encoder.</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart for an example of a video processing method.</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>9</b></figref> shows an example of pixels involved in filter on/off decision and strong/weak filter selection.</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>10</b></figref> shows an example of binarization of four modes.</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>11</b></figref> shows an example of binarization of four modes.</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>12</b></figref> shows examples of 67 intra mode prediction directions.</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>13</b></figref> shows examples of neighboring video blocks.</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. <b>14</b></figref> shows examples of ALF filter shapes (chroma: 5&#xd7;5 diamond, luma: 7&#xd7;7 diamond).</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>15</b>(<i>a</i>)</figref> shows an examples of subsampled Laplacian calculation for vertical gradient.</p><p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. <b>15</b>(<i>b</i>)</figref> shows an examples of subsampled Laplacian calculation for horizontal gradient.</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>15</b>(<i>c</i>)</figref> shows an examples of subsampled Laplacian calculation for diagonal gradient.</p><p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. <b>15</b>(<i>d</i>)</figref> shows an examples of subsampled Laplacian calculation for diagonal gradient.</p><p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. <b>16</b></figref> shows an examples of modified block classification at virtual boundaries.</p><p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. <b>17</b></figref> shows an examples of modified ALF filtering for luma component at virtual boundaries.</p><p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. <b>18</b></figref> shows an example of four 1-D 3-pixel patterns for the pixel classification in EQ.</p><p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. <b>19</b></figref> shows an example of four bands are grouped together and represented by its starting band position.</p><p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. <b>20</b></figref> shows an example of top and left neighboring blocks used in CIIP weight derivation.</p><p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. <b>21</b></figref> shows an example of luma mapping with chroma scaling architecture.</p><p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. <b>22</b></figref> shows an examples of scanning order for a 4&#xd7;4 block.</p><p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. <b>23</b></figref> shows another example of scanning order for a 4&#xd7;4 block.</p><p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a block diagram of an example video processing system in which disclosed techniques may be implemented.</p><p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. <b>25</b></figref> is a flowchart representation of a method for video processing in accordance with the present technology.</p><p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a flowchart representation of another method for video processing in accordance with the present technology.</p><p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is another flowchart representation of another method for video processing in accordance with the present technology.</p><p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. <b>28</b></figref> is another flowchart representation of another method for video processing in accordance with the present technology.</p><p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. <b>29</b></figref> is another flowchart representation of another method for video processing in accordance with the present technology.</p><p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. <b>30</b></figref> is another flowchart representation of another method for video processing in accordance with the present technology.</p><p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. <b>31</b></figref> is yet another flowchart representation of another method for video processing in accordance with the present technology.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0006" level="1">DETAILED DESCRIPTION</heading><p id="p-0060" num="0059">The present document provides various techniques that can be used by a decoder of image or video bitstreams to improve the quality of decompressed or decoded digital video or images. For brevity, the term &#x201c;video&#x201d; is used herein to include both a sequence of pictures (traditionally called video) and individual images. Furthermore, a video encoder may also implement these techniques during the process of encoding in order to reconstruct decoded frames used for further encoding.</p><p id="p-0061" num="0060">Section headings are used in the present document for ease of understanding and do not limit the embodiments and techniques to the corresponding sections. As such, embodiments from one section can be combined with embodiments from other sections.</p><heading id="h-0007" level="1">1. Summary</heading><p id="p-0062" num="0061">This document is related to video coding technologies. Specifically, it is related to palette coding with employing base colors based representation in video coding. It may be applied to the existing video coding standard like HEVC, or the standard (Versatile Video Coding) to be finalized. It may be also applicable to future video coding standards or video codec.</p><heading id="h-0008" level="1">2. Initial Discussion</heading><p id="p-0063" num="0062">Video coding standards have evolved primarily through the development of the well-known ITU-T and ISO/IEC standards. The ITU-T produced H.261 and H.263, ISO/IEC produced MPEG-1 and MPEG-4 Visual, and the two organizations jointly produced the H.262/MPEG-2 Video and H.264/MPEG-4 Advanced Video Coding (AVC) and H.265/HEVC standards. Since H.262, the video coding standards are based on the hybrid video coding structure wherein temporal prediction plus transform coding are utilized. To explore the future video coding technologies beyond HEVC, Joint Video Exploration Team (JVET) was founded by VCEG and MPEG jointly in 2015. Since then, many new methods have been adopted by JVET and put into the reference software named Joint Exploration Model (JEM). In April 2018, the Joint Video Expert Team (JVET) between VCEG (Q6/16) and ISO/IEC JTC1 SC29/WG11 (MPEG) was created to work on the VVC standard targeting at 50% bitrate reduction compared to HEVC.</p><p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a block diagram of an example implementation of a video encoder. <figref idref="DRAWINGS">FIG. <b>7</b></figref> shows that the encoder implementation has a feedback path built in in which the video encoder also performs video decoding functionality (reconstructing compressed representation of video data for use in encoding of next video data).</p><p id="p-0065" num="0064">2.1 Intra Block Copy</p><p id="p-0066" num="0065">Intra block copy (IBC), a.k.a. current picture referencing, has been adopted in HEVC Screen Content Coding extensions (HEVC-SCC) and the current VVC test model (VTM-4.0). IBC extends the concept of motion compensation from inter-frame coding to intra-frame coding. As demonstrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the current block is predicted by a reference block in the same picture when IBC is applied. The samples in the reference block must have been already reconstructed before the current block is coded or decoded. Although IBC is not so efficient for most camera-captured sequences, it shows significant coding gains for screen content. The reason is that there are lots of repeating patterns, such as icons and text characters in a screen content picture. IBC can remove the redundancy between these repeating patterns effectively. In HEVC-SCC, an inter-coded coding unit (CU) can apply IBC if it chooses the current picture as its reference picture. The MV is renamed as block vector (BV) in this case, and a BV always has an integer-pixel precision. To be compatible with main profile HEVC, the current picture is marked as a &#x201c;long-term&#x201d; reference picture in the Decoded Picture Buffer (DPB). It should be noted that similarly, in multiple view/3D video coding standards, the inter-view reference picture is also marked as a &#x201c;long-term&#x201d; reference picture.</p><p id="p-0067" num="0066">Following a BV to find its reference block, the prediction can be generated by copying the reference block. The residual can be got by subtracting the reference pixels from the original signals. Then transform and quantization can be applied as in other coding modes.</p><p id="p-0068" num="0067">However, when a reference block is outside of the picture, or overlaps with the current block, or outside of the reconstructed area, or outside of the valid area restricted by some constrains, part or all pixel values are not defined. Basically, there are two solutions to handle such a problem. One is to disallow such a situation, e.g. in bitstream conformance. The other is to apply padding for those undefined pixel values. The following sub-sessions describe the solutions in detail.</p><p id="p-0069" num="0068">2.2 IBC in HEVC Screen Content Coding Extensions</p><p id="p-0070" num="0069">In the screen content coding extensions of HEVC, when a block uses current picture as reference, it should guarantee that the whole reference block is within the available reconstructed area, as indicated in the following spec text (bold):</p><p id="p-0071" num="0070">The variables offsetX and offsetY are derived as follows:</p><p id="p-0072" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>offset<i>X</i>=(ChromaArrayType==0)?0:(<i>mv</i>CLX[0]&#x26;0<i>x</i>7?2:0)&#x2003;&#x2003;(8-106)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0073" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>offset<i>Y</i>=(ChromaArrayType==0)?0:(<i>mv</i>CLX[1]&#x26;0<i>x</i>7?2:0)&#x2003;&#x2003;(8-107)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0074" num="0071">It is a requirement of bitstream conformance that when the reference picture is the current picture, the luma motion vector mvLX shall obey the following constraints:<ul id="ul0001" list-style="none">    <li id="ul0001-0001" num="0000">    <ul id="ul0002" list-style="none">        <li id="ul0002-0001" num="0072">When the derivation process for z-scan order block availability as specified in clause 6.4.1 is invoked with (xCurr, yCurr) set equal to (xCb, yCb) and the neighbouring luma location (xNbY, yNbY) set equal to (xPb+(mvLX[0]&#x3e;&#x3e;2)&#x2212;offsetX, yPb+(mvLX[1]&#x3e;&#x3e;2)&#x2212;offsetY) as inputs, the output shall be equal to TRUE.</li>        <li id="ul0002-0002" num="0073">When the derivation process for z-scan order block availability as specified in clause 6.4.1 is invoked with (xCurr, yCurr) set equal to (xCb, yCb) and the neighbouring luma location (xNbY, yNbY) set equal to (xPb+(mvLX[0]&#x3e;&#x3e;2)+nPbW&#x2212;1+offsetX, yPb+(mvLX[1]&#x3e;&#x3e;2)+nPbH&#x2212;1+offsetY) as inputs, the output shall be equal to TRUE.</li>        <li id="ul0002-0003" num="0074">One or both the following conditions shall be true:        <ul id="ul0003" list-style="none">            <li id="ul0003-0001" num="0075">The value of (mvLX[0]&#x3e;&#x3e;2)+nPbW+xB1+offsetX is less than or equal to 0.</li>            <li id="ul0003-0002" num="0076">The value of (mvLX[1]&#x3e;&#x3e;2)+nPbH+yB1+offsetY is less than or equal to 0.</li>        </ul>        </li>        <li id="ul0002-0004" num="0077">The following condition shall be true:</li>    </ul>    </li></ul></p><p id="p-0075" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>(<i>xPb</i>+(<i>mv</i>LX[0]&#x3e;&#x3e;2)+<i>nPbSw&#x2212;</i>1+offset<i>X</i>)/CtbSize<i>Y&#x2212;x</i>Curr/CtbSize<i>Y&#x3c;=y</i>Curr/CtbSize<i>Y</i>&#x2212;(<i>yPb</i>+(<i>mv</i>LX[1]&#x3e;&#x3e;2)+<i>nPbSh&#x2212;</i>1+offset<i>Y</i>)/CtbSize<i>Y</i>&#x2003;&#x2003;(8-108)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0076" num="0078">Thus, the case that the reference block overlaps with the current block or the reference block is outside of the picture will not happen. There is no need to pad the reference or prediction block.</p><p id="p-0077" num="0079">Thus, the case that the reference block overlaps with the current block or the reference block is outside of the picture will not happen. There is no need to pad the reference or prediction block.</p><p id="p-0078" num="0080">2.3 IBC in VVC Test Model</p><p id="p-0079" num="0081">In the current VVC test model, e.g., VTM-4.0 design, the whole reference block should be with the current coding tree unit (CTU) and does not overlap with the current block. Thus, there is no need to pad the reference or prediction block. The IBC flag is coded as a prediction mode of the current CU. Thus, there are totally three prediction modes, MODE_INTRA, MODE_INTER and MODE_IBC for each CU.</p><p id="p-0080" num="0082">2.3.1 IBC Merge Mode</p><p id="p-0081" num="0083">In IBC merge mode, an index pointing to an entry in the IBC merge candidates list is parsed from the bitstream. The construction of the IBC merge list can be summarized according to the following sequence of steps:</p><p id="p-0082" num="0084">Step 1: Derivation of spatial candidates</p><p id="p-0083" num="0085">Step 2: Insertion of HMVP candidates</p><p id="p-0084" num="0086">Step 3: Insertion of pairwise average candidates</p><p id="p-0085" num="0087">In the derivation of spatial merge candidates, a maximum of four merge candidates are selected among candidates located in the positions depicted in the figures. The order of derivation is A1, B1, B0, A0 and B2. Position B2 is considered only when any PU of position A1, B1, B0, A0 is not available (e.g. because it belongs to another slice or tile) or is not coded with IBC mode. After candidate at position A1 is added, the insertion of the remaining candidates is subject to a redundancy check which ensures that candidates with same motion information are excluded from the list so that coding efficiency is improved. To reduce computational complexity, not all possible candidate pairs are considered in the mentioned redundancy check. Instead only the pairs linked with an arrow in depicted in the figures are considered and a candidate is only added to the list if the corresponding candidate used for redundancy check has not the same motion information.</p><p id="p-0086" num="0088">After insertion of the spatial candidates, if the IBC merge list size is still smaller than the maximum IBC merge list size, IBC candidates from HMVP table may be inserted. Redundancy check are performed when inserting the HMVP candidates.</p><p id="p-0087" num="0089">Finally, pairwise average candidates are inserted into the IBC merge list.</p><p id="p-0088" num="0090">When a reference block identified by a merge candidate is outside of the picture, or overlaps with the current block, or outside of the reconstructed area, or outside of the valid area restricted by some constrains, the merge candidate is called invalid merge candidate.</p><p id="p-0089" num="0091">It is noted that invalid merge candidates may be inserted into the IBC merge list.</p><p id="p-0090" num="0092">2.3.2 IBC AMVP Mode</p><p id="p-0091" num="0093">In IBC AMVP mode, an AMVP index point to an entry in the IBC AMVP list is parsed from the bitstream. The construction of the IBC AMVP list can be summarized according to the following sequence of steps:</p><p id="p-0092" num="0094">Step 1: Derivation of spatial candidates</p><p id="p-0093" num="0095">Check A0, A1 until an available candidate is found.</p><p id="p-0094" num="0096">Check B0, B1, B2 until an available candidate is found.</p><p id="p-0095" num="0097">Step 2: Insertion of HMVP candidates</p><p id="p-0096" num="0098">Step 3: Insertion of zero candidates</p><p id="p-0097" num="0099">After insertion of the spatial candidates, if the IBC AMVP list size is still smaller than the maximum IBC AMVP list size, IBC candidates from HMVP table may be inserted.</p><p id="p-0098" num="0100">Finally, zero candidates are inserted into the IBC AMVP list.</p><p id="p-0099" num="0101">2.4 Palette Mode</p><p id="p-0100" num="0102">The basic idea behind a palette mode is that the samples in the CU are represented by a small set of representative color values. This set is referred to as the palette. It is also possible to indicate a sample that is outside the palette by signaling an escape symbol followed by (possibly quantized) component values. This is illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>.</p><p id="p-0101" num="0103">2.5 Palette Mode in HEVC Screen Content Coding Extensions (HEVC-SCC)</p><p id="p-0102" num="0104">In the palette mode in HEVC-SCC, a predictive way is used to code the palette and index map.</p><p id="p-0103" num="0105">2.5.1 Coding of the Palette Entries</p><p id="p-0104" num="0106">For coding of the palette entries, a palette predictor is maintained. The maximum size of the palette as well as the palette predictor is signaled in the SPS. In HEVC-SCC, a palette_predictor_initializer_present_flag is introduced in the PPS. When this flag is 1, entries for initializing the palette predictor are signaled in the bitstream. The palette predictor is initialized at the beginning of each CTU row, each slice and each tile. Depending on the value of the palette_predictor_initializer_present_flag, the palette predictor is reset to 0 or initialized using the palette predictor intializer entries signaled in the PPS. In HEVC-SCC, a palette predictor initializer of size 0 was enabled to allow explicit disabling of the palette predictor initialization at the PPS level.</p><p id="p-0105" num="0107">For each entry in the palette predictor, a reuse flag is signaled to indicate whether it is part of the current palette. This is illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref>. The reuse flags are sent using run-length coding of zeros. After this, the number of new palette entries are signaled using exponential Golomb code of order 0. Finally, the component values for the new palette entries are signaled.</p><p id="p-0106" num="0108">2.5.2 Coding of Palette Indices</p><p id="p-0107" num="0109">The palette indices are coded using horizontal and vertical traverse scans as shown in <figref idref="DRAWINGS">FIG. <b>4</b></figref>. The scan order is explicitly signaled in the bitstream using the palette transpose flag. For the rest of the subsection it is assumed that the scan is horizontal.</p><p id="p-0108" num="0110">The palette indices are coded using two main palette sample modes: &#x2018;INDEX&#x2019; and &#x2018;COPY_ABOVE&#x2019;. As explained previously, the escape symbol is also signaled as an &#x2018;INDEX&#x2019; mode and assigned an index equal to the maximum palette size. The mode is signaled using a flag except for the top row or when the previous mode was &#x2018;COPY_ABOVE&#x2019;. In the &#x2018;COPY_ABOVE&#x2019; mode, the palette index of the sample in the row above is copied. In the &#x2018;INDEX&#x2019; mode, the palette index is explicitly signaled. For both &#x2018;INDEX&#x2019; and &#x2018;COPY_ABOVE&#x2019; modes, a run value is signaled which specifies the number of subsequent samples that are also coded using the same mode. When escape symbol is part of the run in &#x2018;INDEX&#x2019; or &#x2018;COPY_ABOVE&#x2019; mode, the escape component values are signaled for each escape symbol. The coding of palette indices is illustrated in <figref idref="DRAWINGS">FIG. <b>5</b></figref>.</p><p id="p-0109" num="0111">This syntax order is accomplished as follows. First the number of index values for the CU is signaled. This is followed by signaling of the actual index values for the entire CU using truncated binary coding. Both the number of indices as well as the the index values are coded in bypass mode. This groups the index-related bypass bins together. Then the palette sample mode (if necessary) and run are signaled in an interleaved manner. Finally, the component escape values corresponding to the escape samples for the entire CU are grouped together and coded in bypass mode.</p><p id="p-0110" num="0112">An additional syntax element, last_run_type_flag, is signaled after signaling the index values. This syntax element, in conjunction with the number of indices, eliminates the need to signal the run value corresponding to the last run in the block.</p><p id="p-0111" num="0113">In HEVC-SCC, the palette mode is also enabled for 4:2:2, 4:2:0, and monochrome chroma formats. The signaling of the palette entries and palette indices is almost identical for all the chroma formats. In case of non-monochrome formats, each palette entry consists of 3 components. For the monochrome format, each palette entry consists of a single component. For subsampled chroma directions, the chroma samples are associated with luma sample indices that are divisible by 2. After reconstructing the palette indices for the CU, if a sample has only a single component associated with it, only the first component of the palette entry is used. The only difference in signaling is for the escape component values. For each escape sample, the number of escape component values signaled may be different depending on the number of components associated with that sample.</p><p id="p-0112" num="0114">In VVC, the dual tree coding structure is used on coding the intra slices, so the luma component and two chroma components may have different palette and palette indices. In addition, the two chroma component shares same palette and palette indices.</p><p id="p-0113" num="0115">2.6 Deblocking Scheme in VVC</p><p id="p-0114" num="0116">Note that, in the following descriptions, pN<sub>M </sub>denotes the left-side N-th sample in the M-th row relative to the vertical edge or the top-side N-th sample in the M-th column relative to the horizontal edge, qN<sub>M </sub>denotes the right-side N-th sample in the M-th row relative to the vertical edge or the bottom-side N-th sample in the M-th column relative to the horizontal edge. An example of pN<sub>M </sub>and qN<sub>M </sub>is depicted in <figref idref="DRAWINGS">FIG. <b>9</b></figref>.</p><p id="p-0115" num="0117">Note that, in the following descriptions, p<sub>N </sub>denotes the left-side N-th sample in a row relative to the vertical edge or the top-side N-th sample in a column relative to the horizontal edge, q<sub>N </sub>denotes the right-side N-th sample in a row relative to the vertical edge or the bottom-side N-th sample in a column relative to the horizontal edge.</p><p id="p-0116" num="0118">Filter on/off decision is done for four lines as a unit. <figref idref="DRAWINGS">FIG. <b>9</b></figref> illustrates the pixels involving in filter on/off decision. The 6 pixels in the two red boxes for the first four lines are used to determine filter on/off for 4 lines. The 6 pixels in two red boxes for the second 4 lines are used to determine filter on/off for the second four lines.</p><p id="p-0117" num="0119">In some embodiments, the vertical edges in a picture are filtered first. Then the horizontal edges in a picture are filtered with samples modified by the vertical edge filtering process as input. The vertical and horizontal edges in the CTBs of each CTU are processed separately on a coding unit basis. The vertical edges of the coding blocks in a coding unit are filtered starting with the edge on the left-hand side of the coding blocks proceeding through the edges towards the right-hand side of the coding blocks in their geometrical order. The horizontal edges of the coding blocks in a coding unit are filtered starting with the edge on the top of the coding blocks proceeding through the edges towards the bottom of the coding blocks in their geometrical order.</p><p id="p-0118" num="0120">2.6.1 Boundary Decision</p><p id="p-0119" num="0121">Filtering is applied to 8&#xd7;8 block boundaries. In addition, it must be a transform block boundary or a coding subblock boundary (e.g., due to usage of Affine motion prediction, ATMVP). For those which are not such boundaries, filter is disabled.</p><p id="p-0120" num="0122">2.6.2 Boundary Strength Calculation</p><p id="p-0121" num="0123">For a transform block boundary/coding subblock boundary, if it is located in the 8&#xd7;8 grid, it may be filterd and the setting of bS[xD<sub>i</sub>][yD<sub>j</sub>] (wherein [xD<sub>i</sub>][yD<sub>j</sub>] denotes the coordinate) for this edge is defined as follows:<ul id="ul0004" list-style="none">    <li id="ul0004-0001" num="0000">    <ul id="ul0005" list-style="none">        <li id="ul0005-0001" num="0124">If the sample p<sub>0 </sub>or q<sub>0 </sub>is in the coding block of a coding unit coded with intra prediction mode, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 2.</li>        <li id="ul0005-0002" num="0125">Otherwise, if the block edge is also a transform block edge and the sample p<sub>0 </sub>or q<sub>0 </sub>is in a transform block which contains one or more non-zero transform coefficient levels, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 1.</li>        <li id="ul0005-0003" num="0126">Otherwise, if the prediction mode of the coding subblock containing the sample p<sub>0 </sub>is different from the prediction mode of the coding subblock containing the sample q<sub>0</sub>, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 1.</li>        <li id="ul0005-0004" num="0127">Otherwise, if one or more of the following conditions are true, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 1:        <ul id="ul0006" list-style="none">            <li id="ul0006-0001" num="0128">The coding subblock containing the sample p<sub>0 </sub>and the coding subblock containing the sample q<sub>0 </sub>are both coded in IBC prediction mode, and the absolute difference between the horizontal or vertical component of the motion vectors used in the prediction of the two coding subblocks is greater than or equal to 4 in units of quarter luma samples.</li>            <li id="ul0006-0002" num="0129">For the prediction of the coding subblock containing the sample p<sub>0 </sub>different reference pictures or a different number of motion vectors are used than for the prediction of the coding subblock containing the sample q<sub>0</sub>.            <ul id="ul0007" list-style="none">                <li id="ul0007-0001" num="0130">NOTE 1&#x2014;The determination of whether the reference pictures used for the two coding sublocks are the same or different is based only on which pictures are referenced, without regard to whether a prediction is formed using an index into reference picture list 0 or an index into reference picture list 1, and also without regard to whether the index position within a reference picture list is different.</li>                <li id="ul0007-0002" num="0131">NOTE 2&#x2014;The number of motion vectors that are used for the prediction of a coding subblock with top-left sample covering (xSb, ySb), is equal to PredFlagL0[xSb][ySb]+PredFlagL1 [xSb][ySb].</li>            </ul>            </li>            <li id="ul0006-0003" num="0132">One motion vector is used to predict the coding subblock containing the sample p<sub>0 </sub>and one motion vector is used to predict the coding subblock containing the sample q<sub>0</sub>, and the absolute difference between the horizontal or vertical component of the motion vectors used is greater than or equal to 4 in units of quarter luma samples.</li>            <li id="ul0006-0004" num="0133">Two motion vectors and two different reference pictures are used to predict the coding subblock containing the sample p<sub>0</sub>, two motion vectors for the same two reference pictures are used to predict the coding subblock containing the sample q<sub>0 </sub>and the absolute difference between the horizontal or vertical component of the two motion vectors used in the prediction of the two coding subblocks for the same reference picture is greater than or equal to 4 in units of quarter luma samples.</li>            <li id="ul0006-0005" num="0134">Two motion vectors for the same reference picture are used to predict the coding subblock containing the sample p<sub>0</sub>, two motion vectors for the same reference picture are used to predict the coding subblock containing the sample q<sub>0 </sub>and both of the following conditions are true:</li>            <li id="ul0006-0006" num="0135">The absolute difference between the horizontal or vertical component of list 0 motion vectors used in the prediction of the two coding subblocks is greater than or equal to 4 in quarter luma samples, or the absolute difference between the horizontal or vertical component of the list 1 motion vectors used in the prediction of the two coding subblocks is greater than or equal to 4 in units of quarter luma samples.            <ul id="ul0008" list-style="none">                <li id="ul0008-0001" num="0136">The absolute difference between the horizontal or vertical component of list 0 motion vector used in the prediction of the coding subblock containing the sample p<sub>0 </sub>and the list 1 motion vector used in the prediction of the coding subblock containing the sample q<sub>0 </sub>is greater than or equal to 4 in units of quarter luma samples, or the absolute difference between the horizontal or vertical component of the list 1 motion vector used in the prediction of the coding subblock containing the sample p<sub>0 </sub>and list 0 motion vector used in the prediction of the coding subblock containing the sample q<sub>0 </sub>is greater than or equal to 4 in units of quarter luma samples.</li>            </ul>            </li>        </ul>        </li>        <li id="ul0005-0005" num="0137">Otherwise, the variable bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 0.<br/>Table 2-1 and 2-2 summarize the BS calculation rules.</li>    </ul>    </li></ul></p><p id="p-0122" num="0000"><tables id="TABLE-US-00001" num="00001"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 2-1</entry></row></thead><tbody valign="top"><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>Boundary strength (when SPS IBC is disabled)</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="5"><colspec colname="1" colwidth="28pt" align="left"/><colspec colname="2" colwidth="133pt" align="center"/><colspec colname="3" colwidth="14pt" align="center"/><colspec colname="4" colwidth="21pt" align="center"/><colspec colname="5" colwidth="21pt" align="center"/><tbody valign="top"><row><entry>Priority</entry><entry>Conditions</entry><entry>Y</entry><entry>U</entry><entry>V</entry></row><row><entry namest="1" nameend="5" align="center" rowsep="1"/></row><row><entry>5</entry><entry>At least one of the adjacent blocks is intra</entry><entry>2</entry><entry>2</entry><entry>2</entry></row><row><entry>4</entry><entry>TU boundary and at least one of the adjacent </entry><entry>1</entry><entry>1</entry><entry>1</entry></row><row><entry/><entry>blocks has non-zero transform coefficients</entry><entry/><entry/><entry/></row><row><entry>3</entry><entry>Reference pictures or number of MVs </entry><entry>1</entry><entry>N/A</entry><entry>N/A</entry></row><row><entry/><entry>(1 for uni-prediction, 2 for bi-prediction)</entry><entry/><entry/><entry/></row><row><entry/><entry>of the adjacent blocks are different</entry><entry/><entry/><entry/></row><row><entry>2</entry><entry>Absolute difference between the motion </entry><entry>1</entry><entry>N/A</entry><entry>N/A</entry></row><row><entry/><entry>vectors of same reference picture that belong </entry><entry/><entry/><entry/></row><row><entry/><entry>to the adjacent blocks is greater than or equal </entry><entry/><entry/><entry/></row><row><entry/><entry>to one integer luma sample</entry><entry/><entry/><entry/></row><row><entry>1</entry><entry>Otherwise</entry><entry>0</entry><entry>0</entry><entry>0</entry></row><row><entry namest="1" nameend="5" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0123" num="0000"><tables id="TABLE-US-00002" num="00002"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 2-2</entry></row></thead><tbody valign="top"><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>Boundary strength (when SPS IBC is enabled)</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="5"><colspec colname="1" colwidth="28pt" align="left"/><colspec colname="2" colwidth="140pt" align="center"/><colspec colname="3" colwidth="14pt" align="center"/><colspec colname="4" colwidth="21pt" align="center"/><colspec colname="5" colwidth="14pt" align="center"/><tbody valign="top"><row><entry>Priority</entry><entry>Conditions</entry><entry>Y</entry><entry>U</entry><entry>V</entry></row><row><entry namest="1" nameend="5" align="center" rowsep="1"/></row><row><entry>8</entry><entry>At least one of the adjacent blocks is intra</entry><entry>2</entry><entry>2</entry><entry>2</entry></row><row><entry>7</entry><entry>TU boundary and at least one of the adjacent </entry><entry>1</entry><entry>1</entry><entry>1</entry></row><row><entry/><entry>blocks has non-zero transform coefficients</entry><entry/><entry/><entry/></row><row><entry>6</entry><entry>Prediction mode of adjacent blocks is different </entry><entry>1</entry><entry/><entry/></row><row><entry/><entry>(e.g., one is IBC, one is inter)</entry><entry/><entry/><entry/></row><row><entry>5</entry><entry>Both IBC and absolute difference between the </entry><entry>1</entry><entry>N/A</entry><entry>N/A</entry></row><row><entry/><entry>motion vectors that belong to the adjacent </entry><entry/><entry/><entry/></row><row><entry/><entry>blocks is greater than or equal to one integer </entry><entry/><entry/><entry/></row><row><entry/><entry>luma sample</entry><entry/><entry/><entry/></row><row><entry>4</entry><entry>Reference pictures or number of MVs </entry><entry>1</entry><entry>N/A</entry><entry>N/A</entry></row><row><entry/><entry>(1 for uni-prediction, 2 for bi-prediction)</entry><entry/><entry/><entry/></row><row><entry/><entry>of the adjacent blocks are different</entry><entry/><entry/><entry/></row><row><entry>3</entry><entry>Absolute difference between the motion vectors </entry><entry>1</entry><entry>N/A</entry><entry>N/A</entry></row><row><entry/><entry>of same reference picture that belong to the </entry><entry/><entry/><entry/></row><row><entry/><entry>adjacent blocks is greater than or equal to one </entry><entry/><entry/><entry/></row><row><entry/><entry>integer luma sample</entry><entry/><entry/><entry/></row><row><entry>1</entry><entry>Otherwise</entry><entry>0</entry><entry>0</entry><entry>0</entry></row><row><entry namest="1" nameend="5" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0124" num="0138">2.6.3 Deblocking Decision for Luma Component</p><p id="p-0125" num="0139">The deblocking decision process is described in this sub-section.</p><p id="p-0126" num="0140">Wider-stronger luma filter is filters are used only if all of the Condition1, Condition2 and Condition 3 are TRUE.</p><p id="p-0127" num="0141">The condition 1 is the &#x201c;large block condition&#x201d;. This condition detects whether the samples at P-side and Q-side belong to large blocks, which are represented by the variable bSidePisLargeBlk and bSideQisLargeBlk respectively. The bSidePisLargeBlk and bSideQisLargeBlk are defined as follows.<ul id="ul0009" list-style="none">    <li id="ul0009-0001" num="0000">    <ul id="ul0010" list-style="none">        <li id="ul0010-0001" num="0142">bSidePisLargeBlk=((edge type is vertical and p<sub>0 </sub>belongs to CU with width&#x3e;=32)&#x2225;(edge type is horizontal and p<sub>0 </sub>belongs to CU with height&#x3e;=32))? TRUE: FALSE</li>        <li id="ul0010-0002" num="0143">bSideQisLargeBlk=((edge type is vertical and q<sub>0 </sub>belongs to CU with width&#x3e;=32)&#x2225;(edge type is horizontal and q<sub>0 </sub>belongs to CU with height&#x3e;=32))? TRUE: FALSE</li>    </ul>    </li></ul></p><p id="p-0128" num="0144">Based on bSidePisLargeBlk and bSideQisLargeBlk, the condition 1 is defined as follows.</p><heading id="h-0009" level="2">Condition1=(bSidePisLargeBlk&#x2225;bSidePisLargeBlk) ? TRUE: FALSE</heading><p id="p-0129" num="0145">Next, if Condition 1 is true, the condition 2 will be further checked. First, the following variables are derived:<ul id="ul0011" list-style="none">    <li id="ul0011-0001" num="0000">    <ul id="ul0012" list-style="none">        <li id="ul0012-0001" num="0146">dp0, dp3, dq0, dq3 are first derived as in HEVC</li>        <li id="ul0012-0002" num="0147">if (p side is greater than or equal to 32)</li>    </ul>    </li></ul></p><p id="p-0130" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>dp</i>0=(<i>dp</i>0+Abs(<i>p</i>5<sub>0</sub>&#x2212;2*<i>p</i>4<sub>0</sub><i>+p</i>3<sub>0</sub>)+1)&#x3e;&#x3e;1<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0131" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>dp</i>3=(<i>dp</i>3+Abs(<i>p</i>5<sub>3</sub>&#x2212;2*<i>p</i>4<sub>3</sub><i>+p</i>3<sub>3</sub>)+1)&#x3e;&#x3e;1<?in-line-formulae description="In-line Formulae" end="tail"?><ul id="ul0013" list-style="none">    <li id="ul0013-0001" num="0000">    <ul id="ul0014" list-style="none">        <li id="ul0014-0001" num="0148">if (q side is greater than or equal to 32)</li>    </ul>    </li></ul></p><p id="p-0132" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>dq</i>0=(<i>dq</i>0+Abs(<i>q</i>5<sub>0</sub>&#x2212;2*<i>q</i>4<sub>0</sub><i>+q</i>3<sub>0</sub>)+1)&#x3e;&#x3e;1<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0133" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>dq</i>3=(<i>dq</i>3+Abs(<i>q</i>5<sub>3</sub>&#x2212;2*<i>q</i>4<sub>3</sub><i>+q</i>3<sub>3</sub>)+1)&#x3e;&#x3e;1<?in-line-formulae description="In-line Formulae" end="tail"?></p><heading id="h-0010" level="2">Condition2=(d&#x3c;&#x3b2;) ? TRUE: FALSE</heading><p id="p-0134" num="0149">where d=dp0+dq0+dp3+dq3, as shown in section 2.2.4.</p><p id="p-0135" num="0000">If Condition1 and Condition2 are valid, whether any of the blocks uses sub-blocks is further checked:</p><p id="p-0136" num="0000"><tables id="TABLE-US-00003" num="00003"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="35pt" align="left"/><colspec colname="1" colwidth="182pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>If (bSidePisLargeBlk)</entry></row><row><entry/><entry>&#x2003;If (mode block P == SUBBLOCKMODE)</entry></row><row><entry/><entry>&#x2003;&#x2003;Sp =5</entry></row><row><entry/><entry>&#x2003;else</entry></row><row><entry/><entry>&#x2003;&#x2003;Sp =7</entry></row><row><entry/><entry>else</entry></row><row><entry/><entry>&#x2003;Sp = 3</entry></row><row><entry/><entry>If (bSideQisLargeBlk)</entry></row><row><entry/><entry>&#x2003;&#x2002;If (mode block Q == SUBBLOCKMODE)</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;Sq =5</entry></row><row><entry/><entry>&#x2003;&#x2002;else</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;Sq =7</entry></row><row><entry/><entry>else</entry></row><row><entry/><entry>&#x2003;&#x2002;Sq = 3</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></tbody></tgroup></table></tables><br/>Finally, if both the Condition 1 and Condition 2 are valid, the proposed deblocking method will check the condition 3 (the large block strong filter condition), which is defined as follows.<br/>In the Condition3 StrongFilterCondition, the following variables are derived:</p><p id="p-0137" num="0000"><tables id="TABLE-US-00004" num="00004"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="42pt" align="left"/><colspec colname="1" colwidth="175pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>dpq is derived as in HEVC.</entry></row><row><entry/><entry>sp<sub>3 </sub>= Abs( p<sub>3 </sub>&#x2212; p<sub>0 </sub>), derived as in HEVC</entry></row><row><entry/><entry>if (p side is greater than or equal to 32)</entry></row><row><entry/><entry>&#x2003;if(Sp==5)</entry></row><row><entry/><entry>&#x2003;&#x2003;sp<sub>3 </sub>= ( sp<sub>3 </sub>+ Abs( p<sub>5 </sub>&#x2212; p<sub>3 </sub>) + 1) &#x3e;&#x3e; 1</entry></row><row><entry/><entry>&#x2003;else</entry></row><row><entry/><entry>&#x2003;&#x2003;sp<sub>3 </sub>= ( sp<sub>3 </sub>+ Abs( p<sub>7 </sub>&#x2212; p<sub>3 </sub>) + 1) &#x3e;&#x3e; 1</entry></row><row><entry/><entry>sq<sub>3 </sub>= Abs( q<sub>0 </sub>&#x2212; q<sub>3 </sub>), derived as in HEVC</entry></row><row><entry/><entry>if (q side is greater than or equal to 32)</entry></row><row><entry/><entry>&#x2002;If(Sq==5)</entry></row><row><entry/><entry>&#x2003;sq<sub>3 </sub>= ( sq<sub>3 </sub>+ Abs( q<sub>5 </sub>&#x2212; q<sub>3 </sub>) + 1) &#x3e;&#x3e; 1</entry></row><row><entry/><entry>&#x2002;else</entry></row><row><entry/><entry>&#x2003;sq<sub>3 </sub>= ( sq<sub>3 </sub>+ Abs( q<sub>7 </sub>&#x2212; q<sub>3 </sub>) + 1) &#x3e;&#x3e; 1</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0138" num="0150">As in HEVC, StrongFilterCondition=(dpq is less than (&#x3b2;&#x3e;&#x3e;2), sp<sub>3 </sub>sq<sub>3 </sub>is less than (3*&#x3b2;&#x3e;&#x3e;5), and Abs(p<sub>0</sub>&#x2212;q<sub>0</sub>) is less than (5*tc+1)&#x3e;&#x3e;1) ? TRUE: FALSE.</p><p id="p-0139" num="0151">2.6.4 Stronger Deblocking Filter for Luma (Designed for Larger Blocks)</p><p id="p-0140" num="0152">Bilinear filter is used when samples at either one side of a boundary belong to a large block. A sample belonging to a large block is defined as when the width&#x3e;=32 for a vertical edge, and when height&#x3e;=32 for a horizontal edge.</p><p id="p-0141" num="0153">The bilinear filter is listed below.</p><p id="p-0142" num="0154">Block boundary samples p<sub>i </sub>for i=0 to Sp-1 and q<sub>i </sub>for j=0 to Sq-1 (pi and qi are the i-th sample within a row for filtering vertical edge, or the i-th sample within a column for filtering horizontal edge) in HEVC deblocking described above) are then replaced by linear interpolation as follows:</p><p id="p-0143" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>p</i><sub>i</sub>&#x2032;=(<i>f</i><sub>i</sub>*Middle<sub>s,t</sub>+(64&#x2212;<i>f</i><sub>i</sub>)*<i>P</i><sub>s</sub>+32)&#x3e;&#x3e;6), clipped to <i>p</i><sub>i</sub><i>&#xb1;tc</i>PD<sub>i </sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0144" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>q</i><sub>j</sub>&#x2032;=(<i>g</i><sub>j</sub>*Middle<sub>s,t</sub>+(64&#x2212;<i>g</i><sub>j</sub>)*<i>Q</i><sub>s</sub>+32)&#x3e;6),clipped to <i>q</i><sub>j</sub><i>&#xb1;tc</i>PD<sub>j </sub><?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0145" num="0000">where tcPD<sub>i </sub>and tcPD<sub>j </sub>term is a position dependent clipping described in Section 2.3.6 and g<sub>j</sub>, f<sub>i</sub>, Middle<sub>s,t</sub>, P<sub>s </sub>and Q<sub>s </sub>are given in Table 2-3:</p><p id="p-0146" num="0000"><tables id="TABLE-US-00005" num="00005"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 2-3</entry></row><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>Long tap deblocking filters</entry></row><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="42pt" align="left"/><colspec colname="2" colwidth="175pt" align="center"/><tbody valign="top"><row><entry>Sp, Sq</entry><entry>f<sub>i </sub>= 59-i * 9, can also be described as f = </entry></row><row><entry>7, 7</entry><entry>{59, 50, 41, 32, 23, 14, 5}</entry></row><row><entry>(p side: 7,</entry><entry>g<sub>j </sub>= 59-j * 9, can also be described as g = </entry></row><row><entry>q side: 7)</entry><entry>{59, 50, 41, 32, 23, 14, 5}</entry></row><row><entry/><entry>Middle<sub>7,7 </sub>= (2 * (p<sub>o </sub>+ q<sub>o</sub>) + p<sub>1 </sub>+ q<sub>1 </sub>+ p<sub>2 </sub>+ q<sub>2 </sub>+ p<sub>3 </sub>+ q<sub>3 </sub>+ p<sub>4 </sub>+ </entry></row><row><entry/><entry>q<sub>4 </sub>+ p<sub>5 </sub>+ q<sub>5 </sub>+ p<sub>6 </sub>+ q<sub>6 </sub>+ 8) &#x3e;&#x3e;4</entry></row><row><entry/><entry>P<sub>7 </sub>= (p<sub>6 </sub>+ p<sub>7 </sub>+ 1) &#x3e;&#x3e;1, Q<sub>7 </sub>= (q<sub>6 </sub>+ q<sub>7 </sub>+ 1) &#x3e;&#x3e;1</entry></row><row><entry>7, 3</entry><entry>f<sub>i </sub>= 59-i * 9, can also be described as f = </entry></row><row><entry>(p side: 7 </entry><entry>{59, 50, 41, 32, 23, 14, 5}</entry></row><row><entry>q side: 3)</entry><entry>g<sub>j </sub>= 53-j * 21, can also be described as g = {53, 32, 11}</entry></row><row><entry/><entry>Middle<sub>7,3 </sub>= (2 * (p<sub>o </sub>+ q<sub>o</sub>) + q<sub>o </sub>+ 2 * (q<sub>1 </sub>+ q<sub>2</sub>) + p<sub>1 </sub>+ q<sub>1 </sub>+ </entry></row><row><entry/><entry>p<sub>2 </sub>+ p<sub>3 </sub>+ p<sub>4 </sub>+ p<sub>5 </sub>+ p<sub>6 </sub>+ 8) &#x3e;&#x3e;4</entry></row><row><entry/><entry>P<sub>7 </sub>= (p<sub>6 </sub>+ p<sub>7 </sub>+ 1) &#x3e;&#x3e;1, Q<sub>3 </sub>= (q<sub>2 </sub>+ q<sub>3 </sub>+ 1) &#x3e;&#x3e;1</entry></row><row><entry>3, 7</entry><entry>g<sub>j </sub>= 59-j * 9, can also be described as g = </entry></row><row><entry>(p side: 3</entry><entry>{59, 50, 41, 32, 23, 14, 5}</entry></row><row><entry>q side: 7)</entry><entry>f<sub>i </sub>= 53-i * 21, can also be described as f = {53, 32, 11}</entry></row><row><entry/><entry>Middle<sub>3.7 </sub>= (2 * (q<sub>o </sub>+ p<sub>o</sub>) + p<sub>0 </sub>+ 2 * (p<sub>1 </sub>+ p<sub>2</sub>) + q<sub>1 </sub>+ p<sub>1 </sub>+ </entry></row><row><entry/><entry>q<sub>2 </sub>+ q<sub>3 </sub>+ q<sub>4 </sub>+ q<sub>5 </sub>+ q<sub>6 </sub>+ 8) &#x3e;&#x3e;4</entry></row><row><entry/><entry>Q<sub>7 </sub>= (q<sub>6 </sub>+ q<sub>7 </sub>+ 1) &#x3e;&#x3e;1, P<sub>3 </sub>= (p<sub>2 </sub>+ p<sub>3 </sub>+ 1) &#x3e;&#x3e;1</entry></row><row><entry>7, 5</entry><entry>g<sub>j </sub>= 58-j * 13, can also be described as </entry></row><row><entry>(p side: 7</entry><entry>g = {58, 45, 32, 19, 6}</entry></row><row><entry>q side: 5)</entry><entry>f<sub>i </sub>= 59-i * 9, can also be described as f = </entry></row><row><entry/><entry>{59, 50, 41, 32, 23, 14, 5}</entry></row><row><entry/><entry>Middle7,5 = (2 * (p<sub>o </sub>+ q<sub>o </sub>+ p<sub>1 </sub>+ q<sub>1</sub>) + q<sub>2 </sub>+ p<sub>2 </sub>+ q<sub>3 </sub>+ p<sub>3 </sub>+ </entry></row><row><entry/><entry>q<sub>4 </sub>+ p<sub>4 </sub>+ q<sub>5 </sub>+ p<sub>5 </sub>+ 8) &#x3e;&#x3e;4</entry></row><row><entry/><entry>Q<sub>5 </sub>= (q<sub>4 </sub>+ q<sub>5 </sub>+ 1) &#x3e;&#x3e;1, P<sub>7 </sub>= (p<sub>6 </sub>+ p<sub>7 </sub>+ 1) &#x3e;&#x3e;1</entry></row><row><entry>5, 7</entry><entry>g<sub>j </sub>= 59-j * 9, can also be described as g = </entry></row><row><entry>(p side: 5</entry><entry>{59, 50, 41, 32, 23, 14, 5}</entry></row><row><entry>q side: 7)</entry><entry>f<sub>i </sub>= 58-i * 13, can also be described as f = </entry></row><row><entry/><entry>{58, 45, 32, 19, 6}</entry></row><row><entry/><entry>Middle5,7 = (2 * (q<sub>o </sub>+ p<sub>o </sub>+ p<sub>1 </sub>+ q<sub>1</sub>) + q<sub>2 </sub>+ p<sub>2 </sub>+ q<sub>3 </sub>+ p<sub>3 </sub>+ </entry></row><row><entry/><entry>q<sub>4 </sub>+ p<sub>4 </sub>+ q<sub>5 </sub>+ p<sub>5 </sub>+ 8) &#x3e;&#x3e;4</entry></row><row><entry/><entry>Q<sub>7 </sub>= (q<sub>6 </sub>+ q<sub>7 </sub>+ 1) &#x3e;&#x3e;1, P<sub>5 </sub>= (p<sub>4 </sub>+ p<sub>5 </sub>+ 1) &#x3e;&#x3e;1</entry></row><row><entry>5, 5</entry><entry>g<sub>j </sub>= 58-j * 13, can also be described as g = {58, 45, 32, 19, 6}</entry></row><row><entry>(p side: 5</entry><entry>f<sub>i </sub>= 58-i * 13, can also be described as f = {58, 45, 32, 19, 6}</entry></row><row><entry>q side: 5)</entry><entry>Middle5,5 = (2 * (q<sub>o </sub>+ p<sub>o </sub>+ p<sub>1 </sub>+ q<sub>1 </sub>+ q<sub>2 </sub>+ p<sub>2</sub>) + </entry></row><row><entry/><entry>q<sub>3 </sub>+ p<sub>3 </sub>+ q<sub>4 </sub>+ p<sub>4 </sub>+ 8) &#x3e;&#x3e;4</entry></row><row><entry/><entry>Q5 = (q<sub>4 </sub>+ q<sub>5 </sub>+ 1) &#x3e;&#x3e;1, P<sub>5 </sub>= (p<sub>4 </sub>+ p<sub>5 </sub>+ 1) &#x3e;&#x3e;1</entry></row><row><entry>5, 3</entry><entry>g<sub>j </sub>= 53-j * 21, can also be described as g = {53, 32, 11}</entry></row><row><entry>(p side: 5</entry><entry>f<sub>i </sub>= 58-i * 13, can also be described as f = {58, 45, 32, 19, 6}</entry></row><row><entry>q side: 3)</entry><entry>Middle5,3 = (q<sub>o </sub>+ p<sub>o </sub>+ p<sub>1 </sub>+ q<sub>1 </sub>+ q<sub>2 </sub>+ p<sub>2 </sub>+ q<sub>3 </sub>+ p<sub>3 </sub>+ 4) &#x3e;&#x3e;3</entry></row><row><entry/><entry>Q<sub>3 </sub>= (q<sub>2 </sub>+ q<sub>3 </sub>+ 1) &#x3e;&#x3e;1, P<sub>5 </sub>= (p<sub>4 </sub>+ p<sub>5 </sub>+ 1) &#x3e;&#x3e;1</entry></row><row><entry>3, 5</entry><entry>g<sub>j </sub>= 58-j * 13, can also be described as g = {58, 45, 32, 19, 6}</entry></row><row><entry>(p side: 3</entry><entry>f<sub>i </sub>= 53-i * 21, can also be described as f = {53, 32, 11}</entry></row><row><entry>q side: 5)</entry><entry>Middle3,5 = (q<sub>o </sub>+ p<sub>o </sub>+ p<sub>1 </sub>+ q<sub>1 </sub>+ q<sub>2 </sub>+ p<sub>2 </sub>+ q<sub>3 </sub>+ p<sub>3 </sub>+ 4) &#x3e;&#x3e;3</entry></row><row><entry/><entry>Q<sub>5 </sub>= (q<sub>4 </sub>+ q<sub>5 </sub>+1) &#x3e;&#x3e;1, P<sub>3 </sub>= (p<sub>2 </sub>+ p<sub>3 </sub>+ 1) &#x3e;&#x3e;1</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0147" num="0155">2.6.5 Deblocking Control for Chroma</p><p id="p-0148" num="0156">The chroma strong filters are used on both sides of the block boundary. Here, the chroma filter is selected when both sides of the chroma edge are greater than or equal to 8 (chroma position), and the following decision with three conditions are satisfied: the first one is for decision of boundary strength as well as large block. The proposed filter can be applied when the block width or height which orthogonally crosses the block edge is equal to or larger than 8 in chroma sample domain. The second and third one is basically the same as for HEVC luma deblocking decision, which are on/off decision and strong filter decision, respectively.</p><p id="p-0149" num="0157">In the first decision, boundary strength (bS) is modified for chroma filtering as shown in Table 2-2. The conditions in Table 2-2 are checked sequentially. If a condition is satisfied, then the remaining conditions with lower priorities are skipped.</p><p id="p-0150" num="0158">Chroma deblocking is performed when bS is equal to 2, or bS is equal to 1 when a large block boundary is detected.</p><p id="p-0151" num="0159">The second and third condition is basically the same as HEVC luma strong filter decision as follows.</p><p id="p-0152" num="0160">In the second condition:</p><p id="p-0153" num="0161">d is then derived as in HEVC luma deblocking.</p><p id="p-0154" num="0162">The second condition will be TRUE when d is less than &#x3b2;.</p><p id="p-0155" num="0163">In the third condition StrongFilterCondition is derived as follows:</p><p id="p-0156" num="0164">dpq is derived as in HEVC.</p><p id="p-0157" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>sp</i><sub>3</sub>=Abs(<i>p</i><sub>3</sub><i>&#x2212;p</i><sub>0</sub>), derived as in HEVC<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0158" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>sq</i><sub>3</sub>=Abs(<i>q</i><sub>0</sub><i>&#x2212;q</i><sub>3</sub>), derived as in HEVC<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0159" num="0165">As in HEVC design, StrongFilterCondition=(dpq is less than (&#x3b2;&#x3e;&#x3e;2), sp<sub>3</sub>+sq<sub>3 </sub>is less than (&#x3b2;&#x3e;&#x3e;3), and Abs(p<sub>0</sub>&#x2212;q<sub>0</sub>) is less than (5*t<sub>C</sub>+1)&#x3e;&#x3e;1)</p><p id="p-0160" num="0166">2.6.6 Strong Deblocking Filter for Chroma</p><p id="p-0161" num="0167">The following strong deblocking filter for chroma is defined:</p><p id="p-0162" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>p</i><sub>2</sub>&#x2032;=(3*<i>p</i><sub>3</sub>+2*<i>p</i><sub>2</sub><i>+p</i><sub>1</sub><i>+p</i><sub>0</sub><i>+q</i><sub>0</sub>+4)&#x3e;&#x3e;3<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0163" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>p</i><sub>1</sub>&#x2032;=(2*<i>p</i><sub>3</sub><i>+p</i><sub>2</sub>+2*<i>p</i><sub>1</sub><i>+p</i><sub>0</sub><i>+q</i><sub>0</sub><i>+q</i><sub>1</sub>+4)&#x3e;&#x3e;3<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0164" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>p</i><sub>0</sub>&#x2032;=(<i>p</i><sub>3</sub><i>+p</i><sub>2</sub><i>+p</i><sub>1</sub>+2*<i>p</i><sub>0</sub><i>+q</i><sub>0</sub><i>+q</i><sub>1</sub><i>+q</i><sub>2</sub>+4)&#x3e;&#x3e;3<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0165" num="0168">The proposed chroma filter performs deblocking on a 4&#xd7;4 chroma sample grid.</p><p id="p-0166" num="0169">2.6.7 Position Dependent Clipping</p><p id="p-0167" num="0170">The position dependent clipping tcPD is applied to the output samples of the luma filtering process involving strong and long filters that are modifying 7, 5 and 3 samples at the boundary. Assuming quantization error distribution, it is proposed to increase clipping value for samples which are expected to have higher quantization noise, thus expected to have higher deviation of the reconstructed sample value from the true sample value.</p><p id="p-0168" num="0171">For each P or Q boundary filtered with asymmetrical filter, depending on the result of decision-making process in section 2.3.3, position dependent threshold table is selected from two tables (i.e., Tc7 and Tc3 tabulated below) that are provided to decoder as a side information:</p><p id="p-0169" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>Tc</i>7={6,5,4,3,2,1,1};<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0170" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>Tc</i>3={6,4,2};<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0171" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>tc</i>PD=(<i>Sp==</i>3)?<i>Tc</i>3: <i>Tc</i>7;<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0172" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>tc</i>QD=(<i>Sq==</i>3)?<i>Tc</i>3: <i>Tc</i>7;<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0173" num="0172">For the P or Q boundaries being filtered with a short symmetrical filter, position dependent threshold of lower magnitude is applied:</p><p id="p-0174" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>Tc</i>3={3,2,1};<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0175" num="0173">Following defining the threshold, filtered p&#x2032;<sub>i </sub>and q&#x2032;<sub>i </sub>sample values are clipped according to tcP and tcQ clipping values:</p><p id="p-0176" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>p&#x2033;</i><sub>i</sub>=Clip3(<i>p&#x2032;</i><sub>i</sub><i>+tcP</i><sub>i</sub><i>,p&#x2032;</i><sub>i</sub><i>&#x2212;tcP</i><sub>i</sub><i>,p&#x2032;</i><sub>i</sub>);<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0177" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>q&#x2033;</i><sub>j</sub>=Clip3(<i>q&#x2032;</i><sub>j</sub><i>+tcQ</i><sub>j</sub><i>,q&#x2032;</i><sub>j</sub><i>&#x2212;tcQ</i><sub>j</sub><i>,q&#x2032;</i><sub>j</sub>);<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0178" num="0174">where p&#x2032;<sub>i </sub>and q&#x2032;<sub>i </sub>are filtered sample values, p&#x2033;<sub>i </sub>and q&#x2033;<sub>j </sub>are output sample value after the clipping and tcP<sub>i </sub>tcP<sub>i </sub>are clipping thresholds that are derived from the VVC tc parameter and tcPD and tcQD. The function Clip3 is a clipping function as it is specified in VVC.</p><p id="p-0179" num="0175">2.6.8 Sub-Block Deblocking Adjustment</p><p id="p-0180" num="0176">To enable parallel friendly deblocking using both long filters and sub-block deblocking the long filters is restricted to modify at most 5 samples on a side that uses sub-block deblocking (AFFINE or ATMVP or DMVR) as shown in the luma control for long filters. Additionally, the sub-block deblocking is adjusted such that that sub-block boundaries on an 8&#xd7;8 grid that are close to a CU or an implicit TU boundary is restricted to modify at most two samples on each side.</p><p id="p-0181" num="0177">Following applies to sub-block boundaries that not are aligned with the CU boundary.</p><p id="p-0182" num="0000"><tables id="TABLE-US-00006" num="00006"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="left"/><thead><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>If (mode block Q == SUBBLOCKMODE &#x26;&#x26; edge !=0) {</entry></row><row><entry>&#x2003;if (!(implicitTU &#x26;&#x26; (edge == (64 / 4))))</entry></row><row><entry>&#x2003;&#x2003;if (edge == 2 || edge == (orthogonalLength - 2) || edge == (56 / 4) ||</entry></row><row><entry>&#x2003;&#x2003;edge == (72 / 4))</entry></row><row><entry>&#x2003;&#x2003;&#x2003;Sp = Sq = 2;</entry></row><row><entry>&#x2003;&#x2003;else</entry></row><row><entry>&#x2003;&#x2003;&#x2003;Sp = Sq = 3;</entry></row><row><entry>&#x2003;else</entry></row><row><entry>&#x2003;&#x2003;Sp = Sq = bSideQisLargeBlk ? 5:3</entry></row><row><entry>}</entry></row><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0183" num="0178">Where edge equal to 0 corresponds to CU boundary, edge equal to 2 or equal to orthogonalLength-2 corresponds to sub-block boundary 8 samples from a CU boundary etc. Where implicit TU is true if implicit split of TU is used.</p><p id="p-0184" num="0179">2.6.9 Restriction to 4CTU/2CTU Line Buffers for Luma/Chroma</p><p id="p-0185" num="0180">Filtering of horizontal edges is limiting Sp=3 for luma, Sp=1 and Sq=1 for chroma, when the horizontal edge is aligned with the CTU boundary.</p><p id="p-0186" num="0181">2.7 Intra Mode Coding in VVC</p><p id="p-0187" num="0182">To capture the arbitrary edge directions presented in natural video, the number of directional intra modes in VTM5 is extended from 33, as used in HEVC, to 65. The new directional modes not in HEVC are depicted as red dotted arrows in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, and the planar and DC modes remain the same. These denser directional intra prediction modes apply for all block sizes and for both luma and chroma intra predictions.</p><p id="p-0188" num="0183">In VTM5, several conventional angular intra prediction modes are adaptively replaced with wide-angle intra prediction modes for the non-square blocks. Wide angle intra prediction is described in Section 3.3.1.2.</p><p id="p-0189" num="0184">In HEVC, every intra-coded block has a square shape and the length of each of its side is a power of 2. Thus, no division operations are required to generate an intra-predictor using DC mode. In VTM5, blocks can have a rectangular shape that necessitates the use of a division operation per block in the general case. To avoid division operations for DC prediction, only the longer side is used to compute the average for non-square blocks.</p><p id="p-0190" num="0185">To keep the complexity of the most probable mode (MPM) list generation low, an intra mode coding method with 6 MPMs is used by considering two available neighboring intra modes. The following three aspects are considered to construct the MPM list:<ul id="ul0015" list-style="none">    <li id="ul0015-0001" num="0000">    <ul id="ul0016" list-style="none">        <li id="ul0016-0001" num="0186">i. Default intra modes</li>        <li id="ul0016-0002" num="0187">ii. Neighbouring intra modes</li>        <li id="ul0016-0003" num="0188">iii. Derived intra modes</li>    </ul>    </li></ul></p><p id="p-0191" num="0189">A unified 6-MPM list is used for intra blocks irrespective of whether MRL and ISP coding tools are applied or not. The MPM list is constructed based on intra modes of the left and above neighboring block. Suppose the mode of the left block is denoted as Left and the mode of the above block is denoted as Above, the unified MPM list is constructed as follows (The left and above blocks are shown in <figref idref="DRAWINGS">FIG. <b>13</b></figref>.</p><p id="p-0192" num="0190">When a neighboring block is not available, its intra mode is set to Planar by default.</p><p id="p-0193" num="0191">If both modes Left and Above are non-angular modes:<ul id="ul0017" list-style="none">    <li id="ul0017-0001" num="0000">    <ul id="ul0018" list-style="none">        <li id="ul0018-0001" num="0192">MPM list&#x2192;{Planar, DC, V, H, V&#x2212;4, V+4}</li>    </ul>    </li></ul></p><p id="p-0194" num="0193">If one of modes Left and Above is angular mode, and the other is non-angular:<ul id="ul0019" list-style="none">    <li id="ul0019-0001" num="0000">    <ul id="ul0020" list-style="none">        <li id="ul0020-0001" num="0194">Set a mode Max as the larger mode in Left and Above</li>        <li id="ul0020-0002" num="0195">MPM list&#x2192;{Planar, Max, DC, Max&#x2212;1, Max+1, Max&#x2212;2}</li>    </ul>    </li></ul></p><p id="p-0195" num="0196">If Left and Above are both angular and they are different:<ul id="ul0021" list-style="none">    <li id="ul0021-0001" num="0000">    <ul id="ul0022" list-style="none">        <li id="ul0022-0001" num="0197">Set a mode Max as the larger mode in Left and Above</li>        <li id="ul0022-0002" num="0198">if the difference of mode Left and Above is in the range of 2 to 62, inclusive        <ul id="ul0023" list-style="none">            <li id="ul0023-0001" num="0199">MPM list&#x2192;{Planar, Left, Above, DC, Max&#x2212;1, Max+1}</li>        </ul>        </li>        <li id="ul0022-0003" num="0200">Otherwise        <ul id="ul0024" list-style="none">            <li id="ul0024-0001" num="0201">MPM list&#x2192;{Planar, Left, Above, DC, Max&#x2212;2, Max+2}</li>        </ul>        </li>    </ul>    </li></ul></p><p id="p-0196" num="0202">If Left and Above are both angular and they are the same:<ul id="ul0025" list-style="none">    <li id="ul0025-0001" num="0000">    <ul id="ul0026" list-style="none">        <li id="ul0026-0001" num="0203">MPM list&#x2192;{Planar, Left, Left&#x2212;1, Left+1, DC, Left&#x2212;2}</li>    </ul>    </li></ul></p><p id="p-0197" num="0204">Besides, the first bin of the mpm index codeword is CABAC context coded. In total three contexts are used, corresponding to whether the current intra block is MRL enabled, ISP enabled, or a normal intra block.</p><p id="p-0198" num="0205">During 6 MPM list generation process, pruning is used to remove duplicated modes so that only unique modes can be included into the MPM list. For entropy coding of the 61 non-MPM modes, a Truncated Binary Code (TBC) is used.</p><p id="p-0199" num="0206">For chroma intra mode coding, a total of 8 intra modes are allowed for chroma intra mode coding. Those modes include five traditional intra modes and three cross-component linear model modes (CCLM, LM_A, and LM_L). Chroma mode signalling and derivation process are shown in Table 2-4. Chroma mode coding directly depends on the intra prediction mode of the corresponding luma block. Since separate block partitioning structure for luma and chroma components is enabled in I slices, one chroma block may correspond to multiple luma blocks. Therefore, for Chroma DM mode, the intra prediction mode of the corresponding luma block covering the center position of the current chroma block is directly inherited.</p><p id="p-0200" num="0000"><tables id="TABLE-US-00007" num="00007"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 2-4</entry></row></thead><tbody valign="top"><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>Derivation of chroma prediction mode from luma mode </entry></row><row><entry>when cclm_is enabled</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="84pt" align="left"/><colspec colname="2" colwidth="133pt" align="center"/><tbody valign="top"><row><entry/><entry>Corresponding luma intra prediction mode</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="6"><colspec colname="1" colwidth="84pt" align="left"/><colspec colname="2" colwidth="14pt" align="center"/><colspec colname="3" colwidth="21pt" align="center"/><colspec colname="4" colwidth="14pt" align="center"/><colspec colname="5" colwidth="14pt" align="center"/><colspec colname="6" colwidth="70pt" align="center"/><tbody valign="top"><row><entry>Chroma prediction mode</entry><entry>0</entry><entry>50</entry><entry>18</entry><entry>1</entry><entry>X ( 0 &#x3c;= X &#x3c;= 66)</entry></row><row><entry namest="1" nameend="6" align="center" rowsep="1"/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="6"><colspec colname="1" colwidth="84pt" align="left"/><colspec colname="2" colwidth="14pt" align="char" char="."/><colspec colname="3" colwidth="21pt" align="char" char="."/><colspec colname="4" colwidth="14pt" align="char" char="."/><colspec colname="5" colwidth="14pt" align="char" char="."/><colspec colname="6" colwidth="70pt" align="char" char="."/><tbody valign="top"><row><entry>0</entry><entry>66</entry><entry>0</entry><entry>0</entry><entry>0</entry><entry>0</entry></row><row><entry>1</entry><entry>50</entry><entry>66</entry><entry>50</entry><entry>50</entry><entry>50</entry></row><row><entry>2</entry><entry>18</entry><entry>18</entry><entry>66</entry><entry>18</entry><entry>18</entry></row><row><entry>3</entry><entry>1</entry><entry>1</entry><entry>1</entry><entry>66</entry><entry>1</entry></row><row><entry>4</entry><entry>81</entry><entry>81</entry><entry>81</entry><entry>81</entry><entry>81</entry></row><row><entry>5</entry><entry>82</entry><entry>82</entry><entry>82</entry><entry>82</entry><entry>82</entry></row><row><entry>6</entry><entry>83</entry><entry>83</entry><entry>83</entry><entry>83</entry><entry>83</entry></row><row><entry>7</entry><entry>0</entry><entry>50</entry><entry>18</entry><entry>1</entry><entry>X</entry></row><row><entry namest="1" nameend="6" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0201" num="0207">2.8 Quantized Residual Block Differential Pulse-Code Modulation (QR-BDPCM)</p><p id="p-0202" num="0208">In JVET-M0413, a quantized residual block differential pulse-code modulation (QR-BDPCM) is proposed to code screen contents efficiently.</p><p id="p-0203" num="0209">The prediction directions used in QR-BDPCM can be vertical and horizontal prediction modes. The intra prediction is done on the entire block by sample copying in prediction direction (horizontal or vertical prediction) similar to intra prediction. The residual is quantized and the delta between the quantized residual and its predictor (horizontal or vertical) quantized value is coded. This can be described by the following: For a block of size M (rows)&#xd7;N (cols), let r<sub>i,j</sub>, 0&#x2264;i&#x2264;M&#x2212;1, 0&#x2264;j&#x2264;N&#x2212;1 be the prediction residual after performing intra prediction horizontally (copying left neighbor pixel value across the the predicted block line by line) or vertically (copying top neighbor line to each line in the predicted block) using unfiltered samples from above or left block boundary samples. Let Q(r<sub>i,j</sub>), 0&#x2264;i&#x2264;M&#x2212;1, 0&#x2264;j&#x2264;N&#x2212;1 denote the quantized version of the residual r<sub>i,j</sub>, where residual is difference between original block and the predicted block values. Then the block DPCM is applied to the quantized residual samples, resulting in modified M&#xd7;N array {tilde over (R)} with elements {tilde over (r)}<sub>i,j</sub>. When vertical BDPCM is signaled:</p><p id="p-0204" num="0000"><maths id="MATH-US-00001" num="00001"><math overflow="scroll"><mtable>  <mtr>    <mtd>      <mrow>        <msub>          <mover>            <mi>r</mi>            <mi>&#x2dc;</mi>          </mover>          <mrow>            <mi>i</mi>            <mo>,</mo>            <mi>j</mi>          </mrow>        </msub>        <mo>=</mo>        <mrow>          <mo>{</mo>          <mtable>            <mtr>              <mtd>                <mrow>                  <mrow>                    <mrow>                      <mi>Q</mi>                      <mo>&#x2061;</mo>                      <mrow>                        <mo>(</mo>                        <msub>                          <mi>r</mi>                          <mrow>                            <mi>i</mi>                            <mo>,</mo>                            <mi>j</mi>                          </mrow>                        </msub>                        <mo>)</mo>                      </mrow>                    </mrow>                    <mo>,</mo>                  </mrow>                  <mo>&#x2062;</mo>                  <mstyle>                    <mspace width="0.2em" height="0.2ex"/>                  </mstyle>                </mrow>              </mtd>              <mtd>                <mrow>                  <mstyle>                    <mspace width="0.2em" height="0.2ex"/>                  </mstyle>                  <mo>&#x2062;</mo>                  <mrow>                    <mrow>                      <mi>i</mi>                      <mo>=</mo>                      <mn>0</mn>                    </mrow>                    <mo>,</mo>                    <mrow>                      <mn>0</mn>                      <mo>&#x2264;</mo>                      <mi>j</mi>                      <mo>&#x2264;</mo>                      <mrow>                        <mo>(</mo>                        <mrow>                          <mi>N</mi>                          <mo>-</mo>                          <mn>1</mn>                        </mrow>                        <mo>)</mo>                      </mrow>                    </mrow>                  </mrow>                </mrow>              </mtd>            </mtr>            <mtr>              <mtd>                <mrow>                  <mrow>                    <mrow>                      <mi>Q</mi>                      <mo>&#x2061;</mo>                      <mrow>                        <mo>(</mo>                        <msub>                          <mi>r</mi>                          <mrow>                            <mi>i</mi>                            <mo>,</mo>                            <mi>j</mi>                          </mrow>                        </msub>                        <mo>)</mo>                      </mrow>                    </mrow>                    <mo>-</mo>                    <mrow>                      <mi>Q</mi>                      <mo>&#x2061;</mo>                      <mrow>                        <mo>(</mo>                        <msub>                          <mi>r</mi>                          <mrow>                            <mrow>                              <mo>(</mo>                              <mrow>                                <mi>i</mi>                                <mo>-</mo>                                <mn>1</mn>                              </mrow>                              <mo>)</mo>                            </mrow>                            <mo>,</mo>                            <mi>j</mi>                          </mrow>                        </msub>                        <mo>)</mo>                      </mrow>                    </mrow>                  </mrow>                  <mo>&#x2062;</mo>                  <mstyle>                    <mspace width="0.2em" height="0.2ex"/>                  </mstyle>                  <mo>,</mo>                </mrow>              </mtd>              <mtd>                <mrow>                  <mrow>                    <mn>1</mn>                    <mo>&#x2264;</mo>                    <mi>i</mi>                    <mo>&#x2264;</mo>                    <mrow>                      <mo>(</mo>                      <mrow>                        <mi>M</mi>                        <mo>-</mo>                        <mn>1</mn>                      </mrow>                      <mo>)</mo>                    </mrow>                  </mrow>                  <mo>&#x2062;</mo>                  <mstyle>                    <mspace width="0.2em" height="0.2ex"/>                  </mstyle>                  <mo>,</mo>                  <mstyle>                    <mspace width="0.2em" height="0.2ex"/>                  </mstyle>                  <mo>&#x2062;</mo>                  <mrow>                    <mn>0</mn>                    <mo>&#x2264;</mo>                    <mi>j</mi>                    <mo>&#x2264;</mo>                    <mrow>                      <mo>(</mo>                      <mrow>                        <mi>N</mi>                        <mo>-</mo>                        <mn>1</mn>                      </mrow>                      <mo>)</mo>                    </mrow>                  </mrow>                </mrow>              </mtd>            </mtr>          </mtable>        </mrow>      </mrow>    </mtd>    <mtd>      <mstyle>        <mtext>(2-7-1)</mtext>      </mstyle>    </mtd>  </mtr></mtable></math></maths></p><p id="p-0205" num="0210">For horizontal prediction, similar rules apply, and the residual quantized samples are obtained by</p><p id="p-0206" num="0000"><maths id="MATH-US-00002" num="00002"><math overflow="scroll"><mtable>  <mtr>    <mtd>      <mrow>        <msub>          <mover>            <mi>r</mi>            <mi>&#x2dc;</mi>          </mover>          <mrow>            <mi>i</mi>            <mo>,</mo>            <mi>j</mi>          </mrow>        </msub>        <mo>=</mo>        <mrow>          <mo>{</mo>          <mtable>            <mtr>              <mtd>                <mrow>                  <mrow>                    <mrow>                      <mi>Q</mi>                      <mo>&#x2061;</mo>                      <mrow>                        <mo>(</mo>                        <msub>                          <mi>r</mi>                          <mrow>                            <mi>i</mi>                            <mo>,</mo>                            <mi>j</mi>                          </mrow>                        </msub>                        <mo>)</mo>                      </mrow>                    </mrow>                    <mo>,</mo>                  </mrow>                  <mo>&#x2062;</mo>                  <mstyle>                    <mspace width="0.2em" height="0.2ex"/>                  </mstyle>                </mrow>              </mtd>              <mtd>                <mrow>                  <mrow>                    <mn>0</mn>                    <mo>&#x2264;</mo>                    <mi>i</mi>                    <mo>&#x2264;</mo>                    <mrow>                      <mo>(</mo>                      <mrow>                        <mi>M</mi>                        <mo>-</mo>                        <mn>1</mn>                      </mrow>                      <mo>)</mo>                    </mrow>                  </mrow>                  <mo>,</mo>                  <mrow>                    <mi>j</mi>                    <mo>=</mo>                    <mn>0</mn>                  </mrow>                </mrow>              </mtd>            </mtr>            <mtr>              <mtd>                <mrow>                  <mrow>                    <mrow>                      <mi>Q</mi>                      <mo>&#x2061;</mo>                      <mrow>                        <mo>(</mo>                        <msub>                          <mi>r</mi>                          <mrow>                            <mi>i</mi>                            <mo>,</mo>                            <mi>j</mi>                          </mrow>                        </msub>                        <mo>)</mo>                      </mrow>                    </mrow>                    <mo>-</mo>                    <mrow>                      <mi>Q</mi>                      <mo>&#x2061;</mo>                      <mrow>                        <mo>(</mo>                        <msub>                          <mi>r</mi>                          <mrow>                            <mi>i</mi>                            <mo>,</mo>                            <mrow>                              <mo>(</mo>                              <mrow>                                <mi>j</mi>                                <mo>-</mo>                                <mn>1</mn>                              </mrow>                              <mo>)</mo>                            </mrow>                          </mrow>                        </msub>                        <mo>)</mo>                      </mrow>                    </mrow>                  </mrow>                  <mo>,</mo>                </mrow>              </mtd>              <mtd>                <mrow>                  <mrow>                    <mn>0</mn>                    <mo>&#x2264;</mo>                    <mi>i</mi>                    <mo>&#x2264;</mo>                    <mrow>                      <mo>(</mo>                      <mrow>                        <mi>M</mi>                        <mo>-</mo>                        <mn>1</mn>                      </mrow>                      <mo>)</mo>                    </mrow>                  </mrow>                  <mo>&#x2062;</mo>                  <mstyle>                    <mspace width="0.2em" height="0.2ex"/>                  </mstyle>                  <mo>,</mo>                  <mrow>                    <mn>1</mn>                    <mo>&#x2264;</mo>                    <mi>j</mi>                    <mo>&#x2264;</mo>                    <mrow>                      <mo>(</mo>                      <mrow>                        <mi>N</mi>                        <mo>-</mo>                        <mn>1</mn>                      </mrow>                      <mo>)</mo>                    </mrow>                  </mrow>                </mrow>              </mtd>            </mtr>          </mtable>        </mrow>      </mrow>    </mtd>    <mtd>      <mstyle>        <mtext>(2-7-2)</mtext>      </mstyle>    </mtd>  </mtr></mtable></math></maths></p><p id="p-0207" num="0211">The residual quantized samples {tilde over (r)}<sub>i,j </sub>are sent to the decoder.</p><p id="p-0208" num="0212">On the decoder side, the above calculations are reversed to produce Q(r<sub>i,j</sub>), 0&#x2264;i&#x2264;M&#x2212;1, 0&#x2264;j&#x2264;N&#x2212;1. For vertical prediction case,</p><p id="p-0209" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>Q</i>(<i>r</i><sub>i,j</sub>)=&#x3a3;<sub>k=0</sub><sup>i</sup><i>{tilde over (r)}</i><sub>k,j</sub>,0&#x2264;<i>i</i>&#x2264;(<i>M&#x2212;</i>1),0&#x2264;<i>j</i>&#x2264;(<i>N&#x2212;</i>1)&#x2003;&#x2003;(2-7-3)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0210" num="0213">For horizontal case,</p><p id="p-0211" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>Q</i>(<i>r</i><sub>i,j</sub>)=&#x3a3;<sub>k=0</sub><sup>j</sup><i>{tilde over (r)}</i><sub>i,k</sub>,0&#x2264;<i>i</i>&#x2264;(<i>M&#x2212;</i>1),0&#x2264;<i>j</i>&#x2264;(<i>N&#x2212;</i>1)&#x2003;&#x2003;(2-7-4)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0212" num="0214">The inverse quantized residuals, Q<sup>&#x2212;1 </sup>(Q(r<sub>i,j</sub>)), are added to the intra block prediction values to produce the reconstructed sample values.</p><p id="p-0213" num="0215">The main benefit of this scheme is that the inverse DPCM can be done on the fly during coefficient parsing simply adding the predictor as the coefficients are parsed or it can be performed after parsing.</p><p id="p-0214" num="0216">2.9 Adaptive Loop Filter</p><p id="p-0215" num="0217">In the VTM5, an Adaptive Loop Filter (ALF) with block-based filter adaption is applied. For the luma component, one among 25 filters is selected for each 4&#xd7;4 block, based on the direction and activity of local gradients.</p><p id="p-0216" num="0218">2.9.1 Filter Shape</p><p id="p-0217" num="0219">In the VTM5, two diamond filter shapes (as shown in <figref idref="DRAWINGS">FIG. <b>14</b></figref>) are used. The 7&#xd7;7 diamond shape is applied for luma component and the 5&#xd7;5 diamond shape is applied for chroma components.</p><p id="p-0218" num="0220">2.9.2 Block Classification</p><p id="p-0219" num="0221">For luma component, each 4&#xd7;4 block is categorized into one out of 25 classes. The classification index C is derived based on its directionality D and a quantized value of activity &#xc2;, as follows:</p><p id="p-0220" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>C=</i>5<i>D+&#xc2;</i>&#x2003;&#x2003;(2-9-1)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0221" num="0222">To calculate D and &#xc2;, gradients of the horizontal, vertical and two diagonal direction are first calculated using 1-D Laplacian:</p><p id="p-0222" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>g</i><sub>v</sub>=&#x3a3;<sub>k=i&#x2212;2</sub><sup>i+3</sup>&#x3a3;<sub>l=j&#x2212;2</sub><sup>j+3</sup><i>V</i><sub>k,l</sub><i>,V</i><sub>k,l</sub>=|2<i>R</i>(<i>k,l</i>)&#x2212;<i>R</i>(<i>k,l&#x2212;</i>1)&#x2212;<i>R</i>(<i>k,l+</i>1)|&#x2003;&#x2003;(2-9-2)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0223" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>g</i><sub>h</sub>=&#x3a3;<sub>k=i&#x2212;2</sub><sup>i+3</sup>&#x3a3;<sub>l=j&#x2212;2</sub><sup>j+3</sup><i>H</i><sub>k,l</sub><i>,H</i><sub>k,l</sub>=|2<i>R</i>(<i>k,l</i>)&#x2212;<i>R</i>(<i>k&#x2212;</i>1,<i>l</i>)&#x2212;<i>R</i>(<i>k+</i>1,<i>l</i>)|&#x2003;&#x2003;(2-9-3)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0224" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>g</i><sub>d1</sub>=&#x3a3;<sub>k=i&#x2212;2</sub><sup>i+3</sup>&#x3a3;<sub>l=j&#x2212;3</sub><sup>j+3</sup><i>D</i>1<sub>k,l</sub><i>,D</i>1<sub>k,l</sub>=|2<i>R</i>(<i>k,l</i>)&#x2212;<i>R</i>(<i>k&#x2212;</i>1,<i>l&#x2212;</i>1)&#x2212;<i>R</i>(<i>k+</i>1,<i>l+</i>1)|&#x2003;&#x2003;(2-9-4)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0225" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>g</i><sub>d2</sub>=&#x3a3;<sub>k=i&#x2212;2</sub><sup>i+3</sup>&#x3a3;<sub>j=j&#x2212;2</sub><sup>j+3</sup><i>D</i>2<sub>k,l</sub><i>,D</i>2<sub>k,l</sub>=|2<i>R</i>(<i>k,l</i>)&#x2212;<i>R</i>(<i>k&#x2212;</i>1,<i>l+</i>1)&#x2212;<i>R</i>(<i>k+</i>1,<i>l&#x2212;</i>1)|&#x2003;&#x2003;(2-9-5)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0226" num="0223">Where indices i and j refer to the coordinates of the upper left sample within the 4&#xd7;4 block and R(i, j) indicates a reconstructed sample at coordinate (i,j).</p><p id="p-0227" num="0224">To reduce the complexity of block classification, the subsampled 1-D Laplacian calculation is applied. As shown in <figref idref="DRAWINGS">FIG. <b>15</b>(<i>a</i>)-(<i>d</i>)</figref>, the same subsampled positions are used for gradient calculation of all directions.</p><p id="p-0228" num="0225">Then D maximum and minimum values of the gradients of horizontal and vertical directions are set as:</p><p id="p-0229" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>g</i><sub>h,v</sub><sup>max</sup>=max(<i>g</i><sub>h</sub><i>,g</i><sub>v</sub>),<i>g</i><sub>h,v</sub><sup>min</sup>=min(<i>g</i><sub>h</sub><i>,g</i><sub>v</sub>)&#x2003;&#x2003;(2-9-6)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0230" num="0226">The maximum and minimum values of the gradient of two diagonal directions are set as:</p><p id="p-0231" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>g</i><sub>d0,d1</sub><sup>max</sup>=max(<i>g</i><sub>d0</sub><i>,g</i><sub>d1</sub>),<i>g</i><sub>d0,d1</sub><sup>min</sup>=min(<i>g</i><sub>d0</sub><i>,g</i><sub>d1</sub>)&#x2003;&#x2003;(2-9-7)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0232" num="0227">To derive the value of the directionality D, these values are compared against each other and with two thresholds t<sub>1 </sub>and t<sub>2</sub>:</p><p id="p-0233" num="0000">Step 1. If both g<sub>h,v</sub><sup>max</sup>&#x2264;t<sub>1</sub>&#xb7;g<sub>h,v</sub><sup>min </sup>and g<sub>d0,d1</sub><sup>max</sup>&#x2264;t<sub>1</sub>&#xb7;g<sub>d0,d1</sub><sup>min </sup>are true, D is set to 0.<br/>Step 2. If g<sub>h,v</sub><sup>max</sup>/g<sub>h,v</sub><sup>min</sup>&#x3e;g<sub>d0,d1</sub><sup>max</sup>/g<sub>d0,d1</sub><sup>min</sup>, continue from Step 3; otherwise continue from Step 4.<br/>Step 3. If g<sub>h,v</sub><sup>max</sup>&#x3e;t<sub>2</sub>&#xb7;g<sub>h,v</sub><sup>min</sup>, D is set to 2; otherwise D is set to 1.<br/>Step 4. If g<sub>d0,d1</sub><sup>max</sup>&#x3e;t<sub>2</sub>&#xb7;g<sub>d0,d1</sub><sup>min</sup>, D is set to 4; otherwise D is set to 3.</p><p id="p-0234" num="0228">The activity value A is calculated as:</p><p id="p-0235" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>A=&#x3a3;</i><sub>k=i&#x2212;2</sub><sup>i+3</sup>&#x3a3;<sub>l=j&#x2212;2</sub><sup>j+3</sup>(<i>V</i><sub>k,l</sub><i>+H</i><sub>k,l</sub>)&#x2003;&#x2003;(2-9-8)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0236" num="0229">A is further quantized to the range of 0 to 4, inclusively, and the quantized value is denoted as &#xc2;.</p><p id="p-0237" num="0230">For chroma components in a picture, no classification method is applied, i.e. a single set of ALF coefficients is applied for each chroma component.</p><p id="p-0238" num="0231">2.9.3. Geometric Transformations of Filter Coefficients and Clipping Values</p><p id="p-0239" num="0232">Before filtering each 4&#xd7;4 luma block, geometric transformations such as rotation or diagonal and vertical flipping are applied to the filter coefficients f(k, l) and to the corresponding filter clipping values c(k, l) depending on gradient values calculated for that block. This is equivalent to applying these transformations to the samples in the filter support region. The idea is to make different blocks to which ALF is applied more similar by aligning their directionality.</p><p id="p-0240" num="0233">Three geometric transformations, including diagonal, vertical flip and rotation are introduced:</p><p id="p-0241" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Diagonal: <i>f</i><sub>D</sub>(<i>k,l</i>)=<i>f</i>(<i>l,k</i>),<i>c</i><sub>D</sub>(<i>k,l</i>)=<i>c</i>(<i>l,k</i>),&#x2003;&#x2003;(2-9-9)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0242" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Vertical flip: <i>f</i><sub>V</sub>(<i>k,l</i>)=<i>f</i>(<i>k,K&#x2212;l&#x2212;</i>1),<i>c</i><sub>V</sub>(<i>k,l</i>)=<i>c</i>(<i>k,K&#x2212;l&#x2212;</i>1)&#x2003;&#x2003;(2-9-10)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0243" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>Rotation: <i>f</i><sub>R</sub>(<i>k,l</i>)=<i>f</i>(<i>K&#x2212;l&#x2212;</i>1,<i>k</i>),<i>c</i><sub>R</sub>(<i>k,l</i>)=<i>c</i>(<i>K&#x2212;l&#x2212;</i>1,<i>k</i>)&#x2003;&#x2003;(2-9-11)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0244" num="0234">where K is the size of the filter and 0&#x2264;k, l&#x2264;K&#x2212;1 are coefficients coordinates, such that location (0,0) is at the upper left corner and location (K&#x2212;1, K&#x2212;1) is at the lower right corner. The transformations are applied to the filter coefficients f(k, l) and to the clipping values c(k, l) depending on gradient values calculated for that block. The relationship between the transformation and the four gradients of the four directions are summarized in the following table.</p><p id="p-0245" num="0000"><tables id="TABLE-US-00008" num="00008"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 2-5</entry></row></thead><tbody valign="top"><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>Mapping of the gradient calculated for one block and the transformations</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="119pt" align="left"/><colspec colname="2" colwidth="98pt" align="center"/><tbody valign="top"><row><entry>Gradient values</entry><entry>Transformation</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry>g<sub>d2 </sub>&#x3c; g<sub>d1 </sub>and g<sub>h </sub>&#x3c; g<sub>v</sub></entry><entry>No transformation</entry></row><row><entry>g<sub>d2 </sub>&#x3c; g<sub>d1 </sub>and g<sub>v </sub>&#x3c; g<sub>h</sub></entry><entry>Diagonal</entry></row><row><entry>g<sub>d1 </sub>&#x3c; g<sub>d2 </sub>and g<sub>h </sub>&#x3c; g<sub>v</sub></entry><entry>Vertical flip</entry></row><row><entry>g<sub>d1 </sub>&#x3c; g<sub>d2 </sub>and g<sub>v </sub>&#x3c; g<sub>h</sub></entry><entry>Rotation</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0246" num="0235">2.9.4 Filter Parameters Signalling</p><p id="p-0247" num="0236">In the VTM5, ALF filter parameters are signaled in Adaptation Parameter Set (APS). In one APS, up to 25 sets of luma filter coefficients and clipping value indexes, and up to one set of chroma filter coefficients nd clipping value indexes could be signaled. To reduce bits overhead, filter coefficients of different classification can be merged. In slice header, the indices of the APSs used for the current slice are signaled.</p><p id="p-0248" num="0237">Clipping value indexes, which are decoded from the APS, allow determining clipping values using a Luma table of clipping values and a Chroma table of clipping values. These clipping values are dependent of the internal bitdepth. More precisely, the Luma table of clipping values and Chroma table of clipping values are obtained by the following formulas:</p><p id="p-0249" num="0000"><maths id="MATH-US-00003" num="00003"><math overflow="scroll"><mtable>  <mtr>    <mtd>      <mrow>        <mrow>          <msub>            <mi>AlfClip</mi>            <mi>L</mi>          </msub>          <mo>=</mo>          <mrow>            <mo>{</mo>            <mrow>              <mrow>                <mrow>                  <mi>round</mi>                  <mo>&#x2061;</mo>                  <mrow>                    <mo>(</mo>                    <msup>                      <mn>2</mn>                      <mrow>                        <mi>B</mi>                        <mo>&#x2062;</mo>                        <mfrac>                          <mrow>                            <mi>N</mi>                            <mo>-</mo>                            <mi>n</mi>                            <mo>+</mo>                            <mn>1</mn>                          </mrow>                          <mi>N</mi>                        </mfrac>                      </mrow>                    </msup>                    <mo>)</mo>                  </mrow>                </mrow>                <mo>&#x2062;</mo>                <mstyle>                  <mspace width="0.8em" height="0.8ex"/>                </mstyle>                <mo>&#x2062;</mo>                <mi>for</mi>                <mo>&#x2062;</mo>                <mstyle>                  <mspace width="0.8em" height="0.8ex"/>                </mstyle>                <mo>&#x2062;</mo>                <mi>n</mi>              </mrow>              <mo>&#x2208;</mo>              <mrow>                <mo>[</mo>                <mrow>                  <mn>1</mn>                  <mo>&#x2062;</mo>                  <mstyle>                    <mspace width="0.3em" height="0.3ex"/>                  </mstyle>                  <mo>.</mo>                  <mstyle>                    <mspace width="0.3em" height="0.3ex"/>                  </mstyle>                  <mo>.</mo>                  <mstyle>                    <mspace width="0.3em" height="0.3ex"/>                  </mstyle>                  <mo>.</mo>                  <mstyle>                    <mspace width="0.3em" height="0.3ex"/>                  </mstyle>                  <mo>&#x2062;</mo>                  <mi>N</mi>                </mrow>                <mo>]</mo>              </mrow>            </mrow>            <mo>}</mo>          </mrow>        </mrow>        <mo>,</mo>      </mrow>    </mtd>    <mtd>      <mstyle>        <mtext>(2-9-12)</mtext>      </mstyle>    </mtd>  </mtr>  <mtr>    <mtd>      <mrow>        <msub>          <mi>AlfClip</mi>          <mi>C</mi>        </msub>        <mo>=</mo>        <mrow>          <mo>{</mo>          <mrow>            <mrow>              <mrow>                <mi>round</mi>                <mo>&#x2061;</mo>                <mrow>                  <mo>(</mo>                  <msup>                    <mn>2</mn>                    <mrow>                      <mrow>                        <mo>(</mo>                        <mrow>                          <mi>B</mi>                          <mo>-</mo>                          <mn>8</mn>                        </mrow>                        <mo>)</mo>                      </mrow>                      <mo>+</mo>                      <mrow>                        <mn>8</mn>                        <mo>&#x2062;</mo>                        <mfrac>                          <mrow>                            <mo>(</mo>                            <mrow>                              <mi>N</mi>                              <mo>-</mo>                              <mi>n</mi>                            </mrow>                            <mo>)</mo>                          </mrow>                          <mrow>                            <mi>N</mi>                            <mo>-</mo>                            <mn>1</mn>                          </mrow>                        </mfrac>                      </mrow>                    </mrow>                  </msup>                  <mo>)</mo>                </mrow>              </mrow>              <mo>&#x2062;</mo>              <mstyle>                <mspace width="0.8em" height="0.8ex"/>              </mstyle>              <mo>&#x2062;</mo>              <mi>for</mi>              <mo>&#x2062;</mo>              <mstyle>                <mspace width="0.8em" height="0.8ex"/>              </mstyle>              <mo>&#x2062;</mo>              <mi>n</mi>            </mrow>            <mo>&#x2208;</mo>            <mrow>              <mo>[</mo>              <mrow>                <mn>1</mn>                <mo>&#x2062;</mo>                <mstyle>                  <mspace width="0.3em" height="0.3ex"/>                </mstyle>                <mo>.</mo>                <mstyle>                  <mspace width="0.3em" height="0.3ex"/>                </mstyle>                <mo>.</mo>                <mstyle>                  <mspace width="0.3em" height="0.3ex"/>                </mstyle>                <mo>.</mo>                <mstyle>                  <mspace width="0.3em" height="0.3ex"/>                </mstyle>                <mo>&#x2062;</mo>                <mi>N</mi>              </mrow>              <mo>]</mo>            </mrow>          </mrow>          <mo>}</mo>        </mrow>      </mrow>    </mtd>    <mtd>      <mstyle>        <mtext>(2-9-13)</mtext>      </mstyle>    </mtd>  </mtr></mtable></math></maths></p><p id="p-0250" num="0000">with B equal to the internal bitdepth and N equal to 4 which is the number of allowed clipping values in VTM5.0.</p><p id="p-0251" num="0238">The filtering process can be controlled at CTB level. A flag is always signaled to indicate whether ALF is applied to a luma CTB. A luma CTB can choose a filter set among 16 fixed filter sets and the filter sets from APSs. A filter set index is signaled for a luma CTB to indicate which filter set is applied. The 16 fixed filter sets are pre-defined and hard-coded in both the encoder and the decoder.</p><p id="p-0252" num="0239">The filter coefficients are quantized with norm equal to 128. In order to restrict the multiplication complexity, a bitstream conformance is applied so that the coefficient value of the non-central position shall be in the range of &#x2212;2<sup>7 </sup>to 2<sup>7</sup>&#x2212;1, inclusive. The central position coefficient is not signaled in the bitstream and is considered as equal to 128.</p><p id="p-0253" num="0240">2.9.5 Filtering Process</p><p id="p-0254" num="0241">At decoder side, when ALF is enabled for a CTB, each sample R(i, j) within the CU is filtered, resulting in sample value R&#x2032;(i, j) as shown below,</p><p id="p-0255" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>R</i>&#x2032;(<i>i,j</i>)=<i>R</i>(<i>i,j</i>)+((&#x3a3;<sub>k&#x2260;0</sub>&#x3a3;<sub>l&#x2260;0</sub><i>f</i>(<i>k,l</i>)&#xd7;<i>K</i>(<i>R</i>(<i>i+k,j+l</i>)&#x2212;<i>R</i>(<i>i,j</i>),<i>c</i>(<i>k,l</i>))+64)&#x3e;&#x3e;7)&#x2003;&#x2003;2-9-14)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0256" num="0000">where f(k, l) denotes the decoded filter coefficients, K(x, y) is the clipping function and c(k, l) denotes the decoded clipping parameters. The variable k and l vary between</p><p id="p-0257" num="0000"><maths id="MATH-US-00004" num="00004"><math overflow="scroll"><mrow>  <mrow>    <mo>-</mo>    <mfrac>      <mi>L</mi>      <mn>2</mn>    </mfrac>  </mrow>  <mo>&#x2062;</mo>  <mstyle>    <mspace width="0.8em" height="0.8ex"/>  </mstyle>  <mo>&#x2062;</mo>  <mi>and</mi>  <mo>&#x2062;</mo>  <mstyle>    <mspace width="0.8em" height="0.8ex"/>  </mstyle>  <mo>&#x2062;</mo>  <mfrac>    <mi>L</mi>    <mn>2</mn>  </mfrac></mrow></math></maths></p><p id="p-0258" num="0000">where L denotes the filter length. The clipping function K(x, y)=min(y, max(&#x2212;y, x)) which corresponds to the function Clip3 (&#x2212;y, y, x).</p><p id="p-0259" num="0242">2.9.6 Virtual Boundary Filtering Process for Line Buffer Reduction</p><p id="p-0260" num="0000">In VTM5, to reduce the line buffer requirement of ALF, modified block classification and filtering are employed for the samples near horizontal CTU boundaries. For this purpose, a virtual boundary is defined as a line by shifting the horizontal CTU boundary with &#x201c;N&#x201d; samples as shown in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, with N equal to 4 for the Luma component and 2 for the Chroma component.</p><p id="p-0261" num="0243">Modified block classification is applied for the Luma component as depicted in <figref idref="DRAWINGS">FIG. <b>2</b>-<b>11</b></figref>. For the 1D Laplacian gradient calculation of the 4&#xd7;4 block above the virtual boundary, only the samples above the virtual boundary are used. Similarly, for the 1D Laplacian gradient calculation of the 4&#xd7;4 block below the virtual boundary, only the samples below the virtual boundary are used. The quantization of activity value A is accordingly scaled by taking into account the reduced number of samples used in 1D Laplacian gradient calculation.</p><p id="p-0262" num="0244">For filtering processing, symmetric padding operation at the virtual boundaries are used for both Luma and Chroma components. As shown in <figref idref="DRAWINGS">FIG. <b>17</b></figref>, when the sample being filtered is located below the virtual boundary, the neighboring samples that are located above the virtual boundary are padded. Meanwhile, the corresponding samples at the other sides are also padded, symmetrically.</p><p id="p-0263" num="0245">2.10 Sample Adaptive Offset (SAO)</p><p id="p-0264" num="0246">Sample adaptive offset (SAO) is applied to the reconstructed signal after the deblocking filter by using offsets specified for each CTB by the encoder. The HM encoder first makes the decision on whether or not the SAO process is to be applied for current slice. If SAO is applied for the slice, each CTB is classified as one of five SAO types as shown in Table 2-6. The concept of SAO is to classify pixels into categories and reduces the distortion by adding an offset to pixels of each category. SAO operation includes Edge Offset (EO) which uses edge properties for pixel classification in SAO type 1-4 and Band Offset (B0) which uses pixel intensity for pixel classification in SAO type 5. Each applicable CTB has SAO parameters including sao_merge_left_flag, sao_merge_up_flag, SAO type and four offsets. If sao_merge_left_flag is equal to 1, the current CTB will reuse the SAO type and offsets of the CTB to the left. If sao_merge_up_flag is equal to 1, the current CTB will reuse SAO type and offsets of the CTB above.</p><p id="p-0265" num="0000"><tables id="TABLE-US-00009" num="00009"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 2-6</entry></row></thead><tbody valign="top"><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>Specification of SAO type</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="42pt" align="left"/><colspec colname="2" colwidth="112pt" align="center"/><colspec colname="3" colwidth="63pt" align="center"/><tbody valign="top"><row><entry>SAO type</entry><entry>sample adaptive offset type to be used</entry><entry>Number of categories</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row><row><entry>0</entry><entry>None</entry><entry>0</entry></row><row><entry>1</entry><entry>1-D 0-degree pattern edge offset </entry><entry>4</entry></row><row><entry>2</entry><entry>1-D 90-degree pattern edge offset</entry><entry>4</entry></row><row><entry>3</entry><entry>1-D 135-degree pattern edge offset</entry><entry>4</entry></row><row><entry>4</entry><entry>1-D 45-degree pattern edge offset</entry><entry>4</entry></row><row><entry>5</entry><entry>band offset</entry><entry>4</entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0266" num="0247">2.10.1. Operation of Each SAO Type</p><p id="p-0267" num="0248">Edge offset uses four 1-D 3-pixel patterns for classification of the current pixel p by consideration of edge directional information, as shown in <figref idref="DRAWINGS">FIG. <b>18</b></figref>. From left to right these are: 0-degree, 90-degree, 135-degree and 45-degree.</p><p id="p-0268" num="0249">Each CTB is classified into one of five categories according to Table 2-7.</p><p id="p-0269" num="0000"><tables id="TABLE-US-00010" num="00010"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 2-7</entry></row></thead><tbody valign="top"><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>Pixel classification rule for EO</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="4"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="42pt" align="left"/><colspec colname="2" colwidth="84pt" align="center"/><colspec colname="3" colwidth="77pt" align="center"/><tbody valign="top"><row><entry/><entry>Category</entry><entry>Condition</entry><entry>Meaning</entry></row><row><entry/><entry namest="offset" nameend="3" align="center" rowsep="1"/></row><row><entry/><entry>0</entry><entry>None of the below</entry><entry>Largely monotonic</entry></row><row><entry/><entry>1</entry><entry>p &#x3c; 2 neighbours</entry><entry>Local minimum</entry></row><row><entry/><entry>2</entry><entry>p &#x3c; 1 neighbour &#x26;&#x26; p = = 1</entry><entry>Edge</entry></row><row><entry/><entry/><entry>neighbour</entry><entry/></row><row><entry/><entry>3</entry><entry>p &#x3e; 1 neighbour &#x26;&#x26; p = = 1</entry><entry>Edge</entry></row><row><entry/><entry/><entry>neighbour</entry><entry/></row><row><entry/><entry>4</entry><entry>p &#x3e; 2 neighbours</entry><entry>Local maximum</entry></row><row><entry/><entry namest="offset" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0270" num="0250">Band offset (BO) classifies all pixels in one CTB region into 32 uniform bands by using the five most significant bits of the pixel value as the band index. In other words, the pixel intensity range is divided into 32 equal segments from zero to the maximum intensity value (e.g. 255 for 8-bit pixels). Four adjacent bands are grouped together, and each group is indicated by its most left-hand position as shown in <figref idref="DRAWINGS">FIG. <b>19</b></figref>. The encoder searches all position to get the group with the maximum distortion reduction by compensating offset of each band.</p><p id="p-0271" num="0251">2.11 Combined Inter and Intra Prediction (CIIP)</p><p id="p-0272" num="0252">In VTM5, when a CU is coded in merge mode, if the CU contains at least 64 luma samples (that is, CU width times CU height is equal to or larger than 64), and if both CU width and CU height are less than 128 luma samples, an additional flag is signaled to indicate if the combined inter/intra prediction (CIIP) mode is applied to the current CU. As its name indicates, the CIIP prediction combines an inter prediction signal with an intra prediction signal. The inter prediction signal in the CIIP mode P<sub>inter </sub>is derived using the same inter prediction process applied to regular merge mode; and the intra prediction signal P<sub>intra </sub>is derived following the regular intra prediction process with the planar mode. Then, the intra and inter prediction signals are combined using weighted averaging, where the weight value is calculated depending on the coding modes of the top and left neighbouring blocks (depicted in <figref idref="DRAWINGS">FIG. <b>20</b></figref>) as follows:<ul id="ul0027" list-style="none">    <li id="ul0027-0001" num="0000">    <ul id="ul0028" list-style="none">        <li id="ul0028-0001" num="0253">If the top neighbor is available and intra coded, then set isIntraTop to 1, otherwise set isIntraTop to 0;</li>        <li id="ul0028-0002" num="0254">If the left neighbor is available and intra coded, then set isIntraLeft to 1, otherwise set isIntraLeft to 0;</li>        <li id="ul0028-0003" num="0255">If (isIntraLeft+isIntraLeft) is equal to 2, then wt is set to 3;</li>        <li id="ul0028-0004" num="0256">Otherwise, if (isIntraLeft+isIntraLeft) is equal to 1, then wt is set to 2;</li>        <li id="ul0028-0005" num="0257">Otherwise, set wt to 1.<br/>The CIIP prediction is formed as follows:</li>    </ul>    </li></ul></p><p id="p-0273" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>P</i><sub>CIIP</sub>=((4&#x2212;<i>wy</i>)*<i>P</i><sub>inter</sub><i>+wt*P</i><sub>intra</sub>+2)&#x3e;&#x3e;2&#x2003;&#x2003;(3-1)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0274" num="0258">2.12 Luma Mapping with Chroma Scaling (LMCS)</p><p id="p-0275" num="0259">In VTM5, a coding tool called the luma mapping with chroma scaling (LMCS) is added as a new processing block before the loop filters. LMCS has two main components: 1) in-loop mapping of the luma component based on adaptive piecewise linear models; 2) for the chroma components, luma-dependent chroma residual scaling is applied. <figref idref="DRAWINGS">FIG. <b>21</b></figref> shows the LMCS architecture from decoder's perspective. The light-blue shaded blocks in <figref idref="DRAWINGS">FIG. <b>21</b></figref> indicate where the processing is applied in the mapped domain; and these include the inverse quantization, inverse transform, luma intra prediction and adding of the luma prediction together with the luma residual. The unshaded blocks in <figref idref="DRAWINGS">FIG. <b>21</b></figref> indicate where the processing is applied in the original (i.e., non-mapped) domain; and these include loop filters such as deblocking, ALF, and SAO, motion compensated prediction, chroma intra prediction, adding of the chroma prediction together with the chroma residual, and storage of decoded pictures as reference pictures. The light-yellow shaded blocks in <figref idref="DRAWINGS">FIG. <b>21</b></figref> are the new LMCS functional blocks, including forward and inverse mapping of the luma signal and a luma-dependent chroma scaling process. Like most other tools in VVC, LMCS can be enabled/disabled at the sequence level using an SPS flag.</p><heading id="h-0011" level="1">3. Examples of Problems Solved by Embodiments</heading><p id="p-0276" num="0260">One palette flag is usually used to indicate whether the palette mode is employed on the current CU, which can have different limitations and variances on its entropy coding. However, how to better code the palette flag has not been fully studied in the previous video coding standards.</p><p id="p-0277" num="0261">The palette samples may have visual artifact if they are processed by post loop filtering process.</p><p id="p-0278" num="0262">The palette scanning order could be improved for non-square blocks.</p><heading id="h-0012" level="1">4. Examples of Embodiments</heading><p id="p-0279" num="0263">The detailed inventions below should be considered as examples to explain general concepts. These inventions should not be interpreted in a narrow way. Furthermore, these inventions can be combined in any manner.<ul id="ul0029" list-style="none">    <li id="ul0029-0001" num="0000">    <ul id="ul0030" list-style="none">        <li id="ul0030-0001" num="0264">1. Indication of usage of palette mode for a transform unit/prediction unit/coding block/region may be coded separately from the prediction mode.        <ul id="ul0031" list-style="none">            <li id="ul0031-0001" num="0265">a. In one example, the prediction mode may be coded before the indication of usage of palette.            <ul id="ul0032" list-style="none">                <li id="ul0032-0001" num="0266">i. Alternatively, furthermore, the indication of usage of palette may be conditionally signaled based on the prediction mode.                <ul id="ul0033" list-style="none">                    <li id="ul0033-0001" num="0267">1. In one example, when the prediction mode is the intra block copy mode (i.e., MODE_IBC), the signalling of the indication of usage of palette mode may be skipped. Alternatively, furthermore, the indication of usage of palette may be inferred to false when the current prediction mode is MODE_IBC.</li>                    <li id="ul0033-0002" num="0268">2. In one example, when the prediction mode is the inter mode (i.e., MODE_INTER), the signalling of the indication of usage of palette mode may be skipped. Alternatively, furthermore, the indication of usage of palette mode may be inferred to false when the current prediction mode is MODE_INTER.</li>                    <li id="ul0033-0003" num="0269">3. In one example, when the prediction mode is the intra mode (i.e., MODE_INTRA), the signalling of the indication of usage of palette mode may be skipped. Alternatively, furthermore, the indication of usage of palette mode may be inferred to false when the current prediction mode is MODE_INTRA.</li>                    <li id="ul0033-0004" num="0270">4. In one example, when the prediction mode is the skip mode (i.e., the skip flag equal to 1), the signalling of the indication of usage of palette mode may be skipped. Alternatively, furthermore, the indication of usage of palette mode may be inferred to false when the skip mode is employed on the current CU.</li>                    <li id="ul0033-0005" num="0271">5. In one example, when the prediction mode is the intra mode (e.g., MODE_INTRA), the indication of usage of palette mode may be signaled. Alternatively, furthermore, when the prediction mode is the inter mode or intra block copy mode, the signalling of the indication of usage of palette mode may be skipped.</li>                    <li id="ul0033-0006" num="0000">&#x2003;a) Alternatively, furthermore, when the prediction mode is the intra mode and not the Pulse-code modulation (PCM) mode, the indication of usage of palette mode may be signaled.</li>                    <li id="ul0033-0007" num="0000">&#x2003;b) Alternatively, furthermore, when the prediction mode is the intra mode, the indication of usage of palette mode may be signaled before the indication of usage of the PCM mode. In one example, when palette mode is applied, the signalling of usage of PCM mode may be skipped.</li>                    <li id="ul0033-0008" num="0000">&#x2003;c) Alternatively, furthermore, when the prediction mode is the inter mode or intra block copy mode, the signalling of the indication of usage of palette mode may be skipped.</li>                    <li id="ul0033-0009" num="0272">6. In one example, when the prediction mode is the inter mode (e.g MODE_INTER), the indication of usage of palette mode may be signaled.</li>                    <li id="ul0033-0010" num="0000">&#x2003;a) Alternatively, when the prediction mode is the intra mode, the signalling of the indication of usage of palette mode may be skipped.</li>                    <li id="ul0033-0011" num="0273">7. In one example, when the prediction mode is the intra block copy mode, the indication of usage of palette mode may be signaled. Alternatively, furthermore, when the prediction mode is the inter mode or intra mode, the signalling of the indication of usage of palette mode may be skipped.</li>                </ul>                </li>                <li id="ul0032-0002" num="0274">ii. Alternatively, furthermore, the indication of usage of palette mode may be conditionally signaled based on the picture/slice/tile group type.</li>            </ul>            </li>            <li id="ul0031-0002" num="0275">b. In one example, the prediction mode may be coded after the indication of usage of palette mode.</li>            <li id="ul0031-0003" num="0276">c. In one example, indication of usage of palette mode may be signaled when the prediction mode is INTRA mode or INTER_MODE.            <ul id="ul0034" list-style="none">                <li id="ul0034-0001" num="0277">i. In one example, the indication of usage of palette mode may be coded after the skip flag, prediction mode and the flag of PCM mode.</li>                <li id="ul0034-0002" num="0278">ii. In one example, the indication of usage of palette mode may be coded after the skip flag, prediction mode, before the flag of PCM mode</li>                <li id="ul0034-0003" num="0279">iii. In one example, when the current block is coded with intra mode, the indications of palette and IBC modes may be further signaled.                <ul id="ul0035" list-style="none">                    <li id="ul0035-0001" num="0280">1. In one example, one bit flag may be signaled to indicate whether palette or IBC mode is signaled.</li>                </ul>                </li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0002" num="0281">2. In one example, signalling of the bit flag may be skipped under certain conditions, such as block dimension, whether IBC or palette mode is enabled for one tile/tile group/slice/picture/sequence.        <ul id="ul0036" list-style="none">            <li id="ul0036-0001" num="0282">d. In one example, the prediction mode (such as whether it is intra or inter mode) may be coded firstly, followed by the conditional signalling of whether it is palette mode or not.            <ul id="ul0037" list-style="none">                <li id="ul0037-0001" num="0283">i. In one example, when the prediction mode is the intra mode, another flag may be further signaled to indicate whether it is palette mode or not.                <ul id="ul0038" list-style="none">                    <li id="ul0038-0001" num="0284">1. In one example, the &#x2018;another flag&#x2019; may be signaled when the palette mode is enabled for one video data unit (e.g., sequence/picture/tile group/tile).</li>                    <li id="ul0038-0002" num="0285">2. In one example, the &#x2018;another flag&#x2019; may be signaled under the condition of block dimension.</li>                    <li id="ul0038-0003" num="0286">3. Alternatively, furthermore, if it is not palette mode, one flag may be further signaled to indicate whether it is PCM mode or not.</li>                    <li id="ul0038-0004" num="0287">4. In one example, the &#x2018;another flag&#x2019; may be context coded according to information of neighboring blocks. Alternatively, the &#x2018;another flag&#x2019; may be context coded with only one context. Alternatively, the &#x2018;another flag&#x2019; may be bypass coded, i.e., without context.</li>                </ul>                </li>                <li id="ul0037-0002" num="0288">ii. Alternatively, when the prediction mode is the inter mode, another flag may be further signaled to indicate whether it is IBC mode or not.                <ul id="ul0039" list-style="none">                    <li id="ul0039-0001" num="0289">1. In one example, the &#x2018;another flag&#x2019; may be signaled when the IBC mode is enabled for one video data unit (e.g., sequence/picture/tile group/tile).</li>                    <li id="ul0039-0002" num="0290">2. In one example, the &#x2018;another flag&#x2019; may be signaled under the condition of block dimension</li>                </ul>                </li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0003" num="0291">2. It is proposed to add the palette mode as an additional candidate for prediction mode. The indication of usage of palette mode can be determined/signaled based on the prediction mode, e.g., as discussed in example embodiment 1 above. In some embodiments, there is no need to signal the indication of usage of palette mode separately from the prediction mode.        <ul id="ul0040" list-style="none">            <li id="ul0040-0001" num="0292">a. In one example, the prediction modes may include intra, intra block copy and palette modes for intra slices/I pictures/intra tile groups.</li>            <li id="ul0040-0002" num="0293">b. Alternatively, the prediction modes may include intra, palette modes for intra slices/I pictures/intra tile groups.</li>            <li id="ul0040-0003" num="0294">c. In one example, the prediction modes may include intra, intra block copy and palette modes for 4&#xd7;4 blocks.</li>            <li id="ul0040-0004" num="0295">d. In one example, the prediction modes may include intra, inter, intra block copy and palette modes for inter slices/P and/or B pictures/inter tile groups.</li>            <li id="ul0040-0005" num="0296">e. In one example, the prediction modes may include intra, inter, intra block copy modes for inter slices/P and/or B pictures/inter tile groups.</li>            <li id="ul0040-0006" num="0297">f. Alternatively, the prediction modes may include at least two of intra, inter, intra block copy and palette mode.</li>            <li id="ul0040-0007" num="0298">g. In one example, the inter mode may be not included in the prediction modes for 4&#xd7;4 blocks.</li>            <li id="ul0040-0008" num="0299">h. In one example, when the block is not coded as the skip mode (which is a special case for the inter mode), the prediction mode index may be contextually coded using different bins. In some embodiments, signaling of one or more bins can be skipped due to a condition, such as the block dimension (e.g., 4&#xd7;4) or a prediction mode is disabled (e.g., the IBC mode is disabled so the corresponding bin is skipped).            <ul id="ul0041" list-style="none">                <li id="ul0041-0001" num="0300">i. In one example, the binarization of the four modes is defined as: intra (1), inter (00), IBC (010) and Palette (011). Here, three bins are used, with each bit corresponding to a bin value.</li>                <li id="ul0041-0002" num="0301">ii. In one example, the binarization of the four modes is defined as: intra (10), inter (00), IBC (01) and Palette (11), as shown in <figref idref="DRAWINGS">FIG. <b>10</b></figref>. Here, two bins are used, with each bit corresponding to a bin value.</li>                <li id="ul0041-0003" num="0302">iii. In one example, if the current slice is an intra slice and IBC is not enabled in the SPS, the binarization of the Palette and intra modes is defined as: Palette (1) and intra (0). Here, one bin is used.</li>                <li id="ul0041-0004" num="0303">iv. In one example, if the current slice is not an intra slice and IBC is not enabled in the SPS, the binarization of the Palette, inter and intra modes is defined as: intra (1), inter (00), and Palette (01). Here, two bins are used, with each bit corresponding to a bin value.</li>                <li id="ul0041-0005" num="0304">v. In one example, if the current slice is an intra slice and IBC is enabled in the SPS, the binarization of the Palette and intra modes is defined as: IBC (1), Palette (01), and intra (00). Here, two bins are used, with each bit corresponding to a bin value.</li>                <li id="ul0041-0006" num="0305">vi. In one example, the binarization of the four modes is defined as: inter (1), intra(01), IBC (001) and Palette (000). Here, three bins are used, with each bit corresponding to a bin value.</li>                <li id="ul0041-0007" num="0306">vii. In one example, the binarization of the four modes is defined as: intra (1), inter (01), IBC (001) and Palette (000). Here, three bins are used, with each bit corresponding to a bin value.</li>                <li id="ul0041-0008" num="0307">viii. In one example, the binarization of the four modes is defined as: inter (0), intra (10), IBC (111) and Palette (110), as shown in <figref idref="DRAWINGS">FIG. <b>11</b></figref>. Here, three bins are used, with each bit corresponding to a bin value.</li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0004" num="0308">3. The signaling of the indication of usage of palette/IBC mode may depend on the information of other mode.        <ul id="ul0042" list-style="none">            <li id="ul0042-0001" num="0309">a. In one example, the indication of usage of palette mode may be signaled when the current prediction mode is an intra mode and not a IBC mode.</li>            <li id="ul0042-0002" num="0310">b. In one example, the indication of usage of IBC mode may be signaled when the current prediction mode is an intra mode and not a palette mode.</li>        </ul>        </li>        <li id="ul0030-0005" num="0311">4. How to signal the mode information may depend on the slice/picture/tile group type.        <ul id="ul0043" list-style="none">            <li id="ul0043-0001" num="0312">a. In one example, when it is I-slice/Intra tile group, one flag may be signaled to indicate whether it is IBC mode. If it is not the IBC mode, another flag may be further signaled to indicate whether it is palette or intra mode.</li>            <li id="ul0043-0002" num="0313">b. In one example, when it is I-slice/Intra tile group, one flag may be signaled to indicate whether it is intra mode. If it is not the intra mode, another flag may be further signaled to indicate whether it is palette or IBC mode.</li>        </ul>        </li>        <li id="ul0030-0006" num="0314">5. The indication of usage of palette mode may be signaled and/or derived based on the following conditions.        <ul id="ul0044" list-style="none">            <li id="ul0044-0001" num="0315">a. block dimension of current block            <ul id="ul0045" list-style="none">                <li id="ul0045-0001" num="0316">i. In one example, the indication of usage of palette mode may be signaled only for blocks with width*height smaller than or equal to a threshold, such as 64*64.</li>                <li id="ul0045-0002" num="0317">ii. In one example, the indication of usage of palette mode may be signaled only for blocks with both width and height larger than or equal to a threshold, such as 64</li>                <li id="ul0045-0003" num="0318">iii. In one example, the indication of usage of palette mode may be signaled only for blocks with all below conditions are true:                <ul id="ul0046" list-style="none">                    <li id="ul0046-0001" num="0319">1. width and/or height larger than or equal to a threshold, such as 16;</li>                    <li id="ul0046-0002" num="0320">2. width and/or height smaller than or equal to a threshold, such as 32 or 64</li>                </ul>                </li>                <li id="ul0045-0004" num="0321">iv. In one example, the indication of usage of palette mode may be signaled only for blocks with width equal to height (i.e., square blocks)</li>            </ul>            </li>            <li id="ul0044-0002" num="0322">b. prediction mode of current block</li>            <li id="ul0044-0003" num="0323">c. Current quantization parameter of current block</li>            <li id="ul0044-0004" num="0324">d. The palette flag of neighboring blocks</li>            <li id="ul0044-0005" num="0325">e. The intra block copy flags of neighboring blocks</li>            <li id="ul0044-0006" num="0326">f. Indication of the color format (such as 4:2:0, 4:4:4)</li>            <li id="ul0044-0007" num="0327">g. Separate/dual coding tree structure</li>            <li id="ul0044-0008" num="0328">h. Slice/tile group type and/or picture type</li>        </ul>        </li>        <li id="ul0030-0007" num="0329">6. The indication of usage of IBC mode may be signaled and/or derived based on the following conditions.        <ul id="ul0047" list-style="none">            <li id="ul0047-0001" num="0330">a. block dimension of current block            <ul id="ul0048" list-style="none">                <li id="ul0048-0001" num="0331">i. In one example, the indication of usage of IBC mode may be signaled only for blocks with both width or height smaller than 128</li>            </ul>            </li>            <li id="ul0047-0002" num="0332">b. prediction mode of current block</li>            <li id="ul0047-0003" num="0333">c. Current quantization parameter of current block</li>            <li id="ul0047-0004" num="0334">d. The palette flag of neighboring blocks</li>            <li id="ul0047-0005" num="0335">e. The intra block copy flags of neighboring blocks</li>            <li id="ul0047-0006" num="0336">f. Indication of the color format (such as 4:2:0, 4:4:4)</li>            <li id="ul0047-0007" num="0337">g. Separate/dual coding tree structure</li>            <li id="ul0047-0008" num="0338">h. Slice/tile group type and/or picture type</li>        </ul>        </li>        <li id="ul0030-0008" num="0339">7. The palette mode may be treated as intra mode (e.g MODE_INTRA) in the deblocking decision process.        <ul id="ul0049" list-style="none">            <li id="ul0049-0001" num="0340">a. In one example, if the samples at p side or q side are coded with palette mode, the boundary strength is set to 2.</li>            <li id="ul0049-0002" num="0341">b. In one example, if the samples both at p side and q side are coded with palette mode, the boundary strength is set to 2</li>            <li id="ul0049-0003" num="0342">c. Alternatively, the palette mode may be treated as inter mode (e.g MODE_INTER) in the deblocking decision process.</li>        </ul>        </li>        <li id="ul0030-0009" num="0343">8. The palette mode may be treated as a separate mode (e.g MODE_PLT) in the deblocking decision process.        <ul id="ul0050" list-style="none">            <li id="ul0050-0001" num="0344">a. In one example, if the samples at p side and q side are coded with palette mode, the boundary strength is set to 0.            <ul id="ul0051" list-style="none">                <li id="ul0051-0001" num="0345">i. Alternatively, if samples at one side are coded with palette mode, the boundary strength is set to 0.</li>            </ul>            </li>            <li id="ul0050-0002" num="0346">b. In one example, if the samples at p side are coded with IBC mode and the samples at q side are coded with palette mode, the boundary strength is set to 1, vice versa.</li>            <li id="ul0050-0003" num="0347">c. In one example, if the samples at p side are coded with intra mode and the samples at q side are coded with palette mode, the boundary strength is set to 2, vice versa.</li>        </ul>        </li>        <li id="ul0030-0010" num="0348">9. The palette mode may be treated as a transform-skip block in the deblocking process        <ul id="ul0052" list-style="none">            <li id="ul0052-0001" num="0349">a. Alternatively, the palette mode may be treated as a BDPCM block in the deblocking process.</li>        </ul>        </li>        <li id="ul0030-0011" num="0350">10. The indication of usage of palette mode for a block may be signaled and/or derived based on the slice/tile group/picture level flag        <ul id="ul0053" list-style="none">            <li id="ul0053-0001" num="0351">a. In one example, the flag indicates whether fractional motion vector difference (MVD) is allowed in the merge with motion vector difference (MMVD, a.k.a., UMVE) and/or adaptive motion vector resolution (AMVR) mode, (e.g. slice_fracmmvd_flag). Alternatively, furthermore, if the slice_fracmmvd_flag indicates fractional MVD is enabled, the signalling of indication of usage of palette mode is skipped and palette mode is inferred to be disabled.</li>            <li id="ul0053-0002" num="0352">b. In one example, the flag indicates whether palette mode is enabled for the slice/tile group/picture. Alternatively, furthermore, when such a flag indicates palette mode is disabled, the signaling of usage of palette mode for a block is skipped and palette mode is inferred to be disabled.</li>        </ul>        </li>        <li id="ul0030-0012" num="0353">11. The indication of usage of intra block copy mode (IBC) for a block may be signaled and/or derived based on the slice/tile group/picture level flag.        <ul id="ul0054" list-style="none">            <li id="ul0054-0001" num="0354">a. In one example, the flag indicates whether fractional motion vector difference (MVD) is allowed in the merge with motion vector difference (MMVD, a.k.a., UMVE) and/or adaptive motion vector resolution (AMVR) mode, (e.g. slice_fracmmvd_flag). Alternatively, furthermore, if the slice_fracmmvd_flag indicates fractional MVD is enabled, the signalling of indication of usage of IBC mode is skipped and IBC mode is inferred to be disabled.</li>            <li id="ul0054-0002" num="0355">b. In one example, the flag indicates whether IBC mode is enabled for the slice/tile group/picture. Alternatively, furthermore, when such a flag indicates IBC mode is disabled, the signaling of usage of IBC mode for a block is skipped and IBC mode is inferred to be disabled.</li>        </ul>        </li>        <li id="ul0030-0013" num="0356">12. The sample associated with one palette entry may have different bit depths from the internal bit depth and/or the bit depth of original/reconstructed samples.        <ul id="ul0055" list-style="none">            <li id="ul0055-0001" num="0357">a. In one example, denote the sample associated with one may have the bit depth equal to N, the following may apply:            <ul id="ul0056" list-style="none">                <li id="ul0056-0001" num="0358">i. In one example, N may be a integer number (e.g. 8).</li>                <li id="ul0056-0002" num="0359">ii. In one example, N may be larger than the internal bit depth and/or the bit depth of original/reconstructed samples.</li>                <li id="ul0056-0003" num="0360">iii. In one example, N may be smaller than the internal bit depth and/or the bit depth of original/reconstructed samples.</li>                <li id="ul0056-0004" num="0361">iv. In one example, N may depend on                <ul id="ul0057" list-style="none">                    <li id="ul0057-0001" num="0362">1. Block dimension of current block</li>                    <li id="ul0057-0002" num="0363">2. Current quantization parameter of current block</li>                    <li id="ul0057-0003" num="0364">3. Indication of the color format (such as 4:2:0, 4:4:4)</li>                    <li id="ul0057-0004" num="0365">4. Separate/dual coding tree structure</li>                    <li id="ul0057-0005" num="0366">5. Slice/tile group type and/or picture type</li>                    <li id="ul0057-0006" num="0367">6. Number of palette entries</li>                    <li id="ul0057-0007" num="0368">7. Number of prediction palette entries</li>                    <li id="ul0057-0008" num="0369">8. Index of color component</li>                </ul>                </li>            </ul>            </li>            <li id="ul0055-0002" num="0370">b. In one example, the sample associated with multiple palette entries may have different bit depths.            <ul id="ul0058" list-style="none">                <li id="ul0058-0001" num="0371">i. In one example, let C0, C1 be two palette entries in the current palette, and they may have bit depth equal to b0 and b1, respectively. b0 may be unequal to b1                <ul id="ul0059" list-style="none">                    <li id="ul0059-0001" num="0372">1. In one example, b0 may be larger/smaller than the internal bit depth and/or the bit depth of original/reconstructed samples and/or b1 may be larger/smaller than the internal bit depth and/or the bit depth of original/reconstructed samples.</li>                </ul>                </li>            </ul>            </li>            <li id="ul0055-0003" num="0373">c. In one example, in the palette mode, the samples may be reconstructed according to the shifted values of samples associated with palette entries.            <ul id="ul0060" list-style="none">                <li id="ul0060-0001" num="0374">i. In one example, the samples may be reconstructed by left shifting the samples in the palette entries by M bits.</li>                <li id="ul0060-0002" num="0375">ii. In one example, the reconstructed value may be (C&#x3c;&#x3c;M)+(1&#x3c;&#x3c;(M&#x2212;1)), wherein C is the palette entry.</li>                <li id="ul0060-0003" num="0376">iii. In one example, the samples may be reconstructed by right shifting the samples in the palette entries by M bits.</li>                <li id="ul0060-0004" num="0377">iv. In one example, the reconstructed value may be clip((C+(1&#x3c;&#x3c;(M&#x2212;1)))&#x3e;&#x3e;M, 0, (1&#x3c;&#x3c;N)&#x2212;1), wherein C is the palette entry and N is the bit-depth of reconstruction.</li>                <li id="ul0060-0005" num="0378">v. Alternatively, furthermore, in one example, the M may depend on the bit depth difference between samples associated with palette entries and the internal bit depth of reconstructed samples/original samples.                <ul id="ul0061" list-style="none">                    <li id="ul0061-0001" num="0379">1. In one example, M may be equal to the internal bit depth minus the bit depth of samples in the palette entries</li>                    <li id="ul0061-0002" num="0380">2. In one example, M may be equal to the bit depth of samples in the palette entries minus the internal bit depth</li>                    <li id="ul0061-0003" num="0381">3. In one example, M may be equal to the bit depth of the original samples minus the bit depth of samples in the palette entries</li>                    <li id="ul0061-0004" num="0382">4. In one example, M may be equal to the bit depth of samples in the palette entries minus the bit depth of the original samples.</li>                    <li id="ul0061-0005" num="0383">5. In one example, M may be equal to the bit depth of the reconstructed samples minus the bit depth of samples in the palette entries</li>                    <li id="ul0061-0006" num="0384">6. In one example, M may be equal to the bit depth of samples in the palette entries minus the bit depth of the reconstructed samples</li>                </ul>                </li>                <li id="ul0060-0006" num="0385">vi. In one example, M may be an integer number (e.g. 2).</li>                <li id="ul0060-0007" num="0386">vii. Alternatively, furthermore, in one example, the M may depend on                <ul id="ul0062" list-style="none">                    <li id="ul0062-0001" num="0387">1. Block dimension of current block</li>                    <li id="ul0062-0002" num="0388">2. Current quantization parameter of current block</li>                    <li id="ul0062-0003" num="0389">3. Indication of the color format (such as 4:2:0, 4:4:4)</li>                    <li id="ul0062-0004" num="0390">4. Separate/dual coding tree structure</li>                    <li id="ul0062-0005" num="0391">5. Slice/tile group type and/or picture type</li>                    <li id="ul0062-0006" num="0392">6. Number of palette entries</li>                    <li id="ul0062-0007" num="0393">7. Number of prediction palette entries</li>                    <li id="ul0062-0008" num="0394">8. Sample position in a block/picture/slice/tile</li>                    <li id="ul0062-0009" num="0395">9. Index of color component</li>                </ul>                </li>                <li id="ul0060-0008" num="0396">viii. In one example, a look up operation based on the samples in the palette entries may be used during the sample's reconstruction.                <ul id="ul0063" list-style="none">                    <li id="ul0063-0001" num="0397">1. In one example, the values in the look up table may be signaled in the SPS/VPS/PPS/picture header/slice header/tile group header/LCU row/group of LCUs.</li>                    <li id="ul0063-0002" num="0398">2. In one example, the values in the look up table may be inferred in the SPS/VPS/PPS/picture header/slice header/tile group header/LCU row/group of LCUs.</li>                </ul>                </li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0014" num="0399">13. The signaled/derived quantization parameter (QP) for palette coded blocks may be firstly modified before being used to derive escape pixel/samples, such as being clipped.        <ul id="ul0064" list-style="none">            <li id="ul0064-0001" num="0400">a. In one example, the applied QP range for palette coded blocks may be treated in the same way as transform skip mode, and/or BDPCM mode.</li>            <li id="ul0064-0002" num="0401">b. In one example, the applied QP for palette coded blocks may be revised to be max (Qp, 4+T), where T is an integer value and Qp is the signaled or derived quantization parameter for the block.            <ul id="ul0065" list-style="none">                <li id="ul0065-0001" num="0402">i. In one example, T may be a predefined threshold.</li>                <li id="ul0065-0002" num="0403">ii. In one example, T may be equal to (4+min_qp_prime_ts_minus4) wherein min_qp_prime_ts_minus4 may be signaled.</li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0015" num="0404">14. How to code escape samples/symbols may be unified regardless whether transquant bypass is enabled or not.        <ul id="ul0066" list-style="none">            <li id="ul0066-0001" num="0405">a. In one example, escape sample may be signaled with fixed length.</li>            <li id="ul0066-0002" num="0406">b. In one example, an escape sample may be signaled in fixed length using N bits.            <ul id="ul0067" list-style="none">                <li id="ul0067-0001" num="0407">i. In one example, N may be an integer number (e.g. 8 or 10) and may depend on                <ul id="ul0068" list-style="none">                    <li id="ul0068-0001" num="0408">1. A message signaled in the SPS/VPS/PPS/picture header/slice header/tile group header/LCU row/group of LCUs.</li>                    <li id="ul0068-0002" num="0409">2. Internal bit depth</li>                    <li id="ul0068-0003" num="0410">3. Input bit depth</li>                    <li id="ul0068-0004" num="0411">4. Block dimension of current block</li>                    <li id="ul0068-0005" num="0412">5. Current quantization parameter of current block</li>                    <li id="ul0068-0006" num="0413">6. Indication of the color format (such as 4:2:0, 4:4:4)</li>                    <li id="ul0068-0007" num="0414">7. Separate/dual coding tree structure</li>                    <li id="ul0068-0008" num="0415">8. Slice/tile group type and/or picture type</li>                </ul>                </li>            </ul>            </li>            <li id="ul0066-0003" num="0416">c. In one example, the code length to signal an escape pixel/sample may depend on internal bit depth.            <ul id="ul0069" list-style="none">                <li id="ul0069-0001" num="0417">i. Alternatively, the code length to signal an escape pixel/sample may depend on input bit depth.</li>            </ul>            </li>            <li id="ul0066-0004" num="0418">d. In one example, the code length to signal an escape pixel/sample may depend on the quantization parameter.            <ul id="ul0070" list-style="none">                <li id="ul0070-0001" num="0419">i. In one example, the code length for signalling an escape pixel/sample may be f(Qp)                <ul id="ul0071" list-style="none">                    <li id="ul0071-0001" num="0420">1. In one example, the function f may be defined as (internal bitdepth&#x2212;(Qp&#x2212;4)/6).</li>                </ul>                </li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0016" num="0421">15. The quantization and/or inverse quantization process for palette coded blocks and non-palette coded blocks may be defined in different ways.        <ul id="ul0072" list-style="none">            <li id="ul0072-0001" num="0422">a. In one example, right bit-shifting may be used for quantizing escape sample instead of using the quantization process for transform coefficients or residuals.</li>            <li id="ul0072-0002" num="0423">b. In one example, left bit-shifting may be used for inverse quantizing escape sample instead of using the inverse quantization process for transform coefficients or residuals.</li>            <li id="ul0072-0003" num="0424">c. At the encoder side, the following may apply:            <ul id="ul0073" list-style="none">                <li id="ul0073-0001" num="0425">i. In one example, the escape pixel/sample value may be signaled as f(p, Qp), where p is the pixel/sample value.</li>                <li id="ul0073-0002" num="0426">ii. In one example, the function f may be defined as p&#x3e;&#x3e;((Qp&#x2212;4)/6), where p is the pixel/sample value and Qp is the quantization parameter.</li>                <li id="ul0073-0003" num="0427">iii. In one example, the escape pixel/sample value may be signaled as p&#x3e;&#x3e;N, where p is the pixel/sample value.                <ul id="ul0074" list-style="none">                    <li id="ul0074-0001" num="0428">1. In one example, N may be an integer number (e.g. 2) and may depend on</li>                    <li id="ul0074-0002" num="0000">&#x2003;a) A message signaled in the SPS/VPS/PPS/picture header/slice header/tile group header/LCU row/group of LCUs.</li>                    <li id="ul0074-0003" num="0000">&#x2003;b) Internal bit depth</li>                    <li id="ul0074-0004" num="0000">&#x2003;c) Input bit depth</li>                    <li id="ul0074-0005" num="0000">&#x2003;d) Block dimension of current block</li>                    <li id="ul0074-0006" num="0000">&#x2003;e) Current quantization parameter of current block</li>                    <li id="ul0074-0007" num="0000">&#x2003;f) Indication of the color format (such as 4:2:0, 4:4:4)</li>                    <li id="ul0074-0008" num="0000">&#x2003;g) Separate/dual coding tree structure</li>                    <li id="ul0074-0009" num="0000">&#x2003;h) Slice/tile group type and/or picture type</li>                </ul>                </li>            </ul>            </li>            <li id="ul0072-0004" num="0429">d. At the decoder side, the following may apply:            <ul id="ul0075" list-style="none">                <li id="ul0075-0001" num="0430">i. In one example, the escape pixel/sample value may be signaled as f(bd,p,Qp)                <ul id="ul0076" list-style="none">                    <li id="ul0076-0001" num="0431">1. In one example, the function f may be defined as clip(0, (1&#x3c;&#x3c;(bd&#x2212;(Qp&#x2212;4)/6))&#x2212;1, (p+(1&#x3c;&#x3c;(bd&#x2212;1)))&#x3e;&#x3e;((Qp&#x2212;4)/6)).</li>                </ul>                </li>                <li id="ul0075-0002" num="0432">ii. In one example, the escape pixel/sample value may be reconstructed as f(p,Qp), where p is the decoded escape pixel/sample value.                <ul id="ul0077" list-style="none">                    <li id="ul0077-0001" num="0433">1. In one example, f may be defined as p&#x3c;&#x3c;((Qp&#x2212;4)/6)</li>                </ul>                </li>                <li id="ul0075-0003" num="0434">iii. In one example, the escape pixel/sample value may be reconstructed as f(bd,p,Qp), where p is the decoded escape pixel/sample value.                <ul id="ul0078" list-style="none">                    <li id="ul0078-0001" num="0435">1. In one example, the function clip may be defined as clip(0, (1&#x3c;&#x3c;bd)&#x2212;1, p&#x3c;&#x3c;((Qp&#x2212;4)/6))</li>                </ul>                </li>                <li id="ul0075-0004" num="0436">iv. In the above examples, the clip function clip(a,i,b) may be defined as (i&#x3c;a? a: (i&#x3e;b ? b: i)).</li>                <li id="ul0075-0005" num="0437">v. In the above examples, the clip function clip(a,i,b) may be defined as (i&#x3c;=a? a: (i&#x3e;, b ? b: i)).</li>                <li id="ul0075-0006" num="0438">vi. In the above examples, p may be the pixel/sample value, bd may be the internal bit depth or input bit depth, and Qp is the quantization parameter.</li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0017" num="0439">16. A palette-coded block may be treated as an intra block (e.g. MODE_INTRA) during the list construction process of most probable modes (MPM).        <ul id="ul0079" list-style="none">            <li id="ul0079-0001" num="0440">a. In one example, when fetching the intra modes of neighboring (adjacent or non-adjacent) blocks during the construction of the MPM list, if a neighboring block (e.g., left and/or above) is coded with palette mode, it may be treated as conventional intra-coded block (e.g. MODE_INTRA) with a default mode.            <ul id="ul0080" list-style="none">                <li id="ul0080-0001" num="0441">i. In one example. the default mode may be DC/PLANAR/VER/HOR mode.</li>                <li id="ul0080-0002" num="0442">ii. In one example, the default mode may be any one intra prediction mode.</li>                <li id="ul0080-0003" num="0443">iii. In one example, the default mode may be signaled in the DPS/SPS/VPS/PPS/APS/picture header/slice header/tile group header/Largest coding unit (LCU)/Coding unit (CU)/LCU row/group of LCUs/TU/PU block/Video coding unit.</li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0018" num="0444">17. A palette-coded block may be treated as a non-intra block (e.g. treated as a block with prediction mode equal to MODE_PLT) during the list construction process of most probable modes (MPM).        <ul id="ul0081" list-style="none">            <li id="ul0081-0001" num="0445">a. In one example, when fetching the intra modes of neighboring blocks during the construction of the MPM list, if a neighboring block (e.g., left and/or above) is coded with palette mode, it may be treated in the same way or a similar way as those coded with inter mode.</li>            <li id="ul0081-0002" num="0446">b. In one example, when fetching the intra modes of neighboring blocks during the construction of the MPM list, if a neighboring block (e.g., left and/or above) is coded with palette mode, it may be treated in the same way or a similar way as those coded with IBC mode.</li>        </ul>        </li>        <li id="ul0030-0019" num="0447">18. The luma block coded with palette mode corresponding to a chroma block coded with the DM mode may be interpreted as having a default intra prediction mode.        <ul id="ul0082" list-style="none">            <li id="ul0082-0001" num="0448">a. In one example, the corresponding luma block coded with palette mode may be treated as an intra block (e.g. MODE_INTRA) or a palette block (e.g. MODE_PLT) when a chroma block is coded with the DM mode.</li>            <li id="ul0082-0002" num="0449">b. In one example, the default prediction mode may be DC/PLANAR/VER/HOR mode.</li>            <li id="ul0082-0003" num="0450">c. In one example, the default prediction mode may be any one intra prediction mode.</li>            <li id="ul0082-0004" num="0451">d. In one example, the default prediction mode may be signaled in the DPS/SPS/VPS/PPS/APS/picture header/slice header/tile group header/Largest coding unit (LCU)/Coding unit (CU)/LCU row/group of LCUs/TU/PU block/Video coding unit.</li>        </ul>        </li>        <li id="ul0030-0020" num="0452">19. A palette-coded block may be treated as an unavailable block during the list construction of history-based motion vector prediction (HMVP), the merge (MERGE) and/or the advanced motion vector prediction (AMVP) modes.        <ul id="ul0083" list-style="none">            <li id="ul0083-0001" num="0453">a. In one example, an unavailable block may denote a block which does not have any motion information or its motion information could not be used as a prediction for other blocks.</li>            <li id="ul0083-0002" num="0454">b. In one example, a block coded with palette mode may be treated as an intra block (e.g. MODE_INTRA) or a palette block (e.g. MODE_PLT) in the process of list construction in HMVP, MERGE and/or AMVP modes.            <ul id="ul0084" list-style="none">                <li id="ul0084-0001" num="0455">i. Alternatively, in one example, when fetching the motion information of neighboring blocks during the construction of the HMVP, MERGE and/or AMVP list, a neighboring block coded with palette mode may be treated as a block with an invalid reference index.</li>                <li id="ul0084-0002" num="0456">ii. Alternatively, in one example, when fetching the motion information of neighboring blocks during the construction of the HMVP, MERGE and/or AMVP list, a neighboring block coded with palette mode may be treated as a inter block with a reference index equal to 0.</li>                <li id="ul0084-0003" num="0457">iii. Alternatively, in one example, when fetching the motion information of neighboring blocks during the list construction of the HMVP, MERGE and/or AMVP modes, a neighboring block coded with palette mode may be treated as a inter block with a zero-motion vector.</li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0021" num="0458">20. How to treat a block coded with palette mode (e.g. whether to and/or how to apply above methods) may be based on:        <ul id="ul0085" list-style="none">            <li id="ul0085-0001" num="0459">a. Video contents (e.g. screen contents or natural contents)</li>            <li id="ul0085-0002" num="0460">b. A message signaled in the DPS/SPS/VPS/PPS/APS/picture header/slice header/tile group header/Largest coding unit (LCU)/Coding unit (CU)/LCU row/group of LCUs/TU/PU block/Video coding unit</li>            <li id="ul0085-0003" num="0461">c. Position of CU/PU/TU/block/Video coding unit</li>            <li id="ul0085-0004" num="0462">d. Block dimension of current block and/or its neighboring blocks</li>            <li id="ul0085-0005" num="0463">e. Block shape of current block and/or its neighboring blocks</li>            <li id="ul0085-0006" num="0464">f. Indication of the color format (such as 4:2:0, 4:4:4, RGB or YUV)</li>            <li id="ul0085-0007" num="0465">g. Coding tree structure (such as dual tree or single tree)</li>            <li id="ul0085-0008" num="0466">h. Slice/tile group type and/or picture type</li>            <li id="ul0085-0009" num="0467">i. Color component (e.g. may be only applied on luma component and/or chroma component)</li>            <li id="ul0085-0010" num="0468">j. Temporal layer ID</li>            <li id="ul0085-0011" num="0469">k. Profiles/Levels/Tiers of a standard</li>        </ul>        </li>        <li id="ul0030-0022" num="0470">21. Context coded bins for palette coded blocks may be restricted to be within a certain range.        <ul id="ul0086" list-style="none">            <li id="ul0086-0001" num="0471">a. In one example, a counter is assigned to a block to record how many bins have been context coded. When the counter exceeds a threshold, bypass coding is applied instead of using context coding.            <ul id="ul0087" list-style="none">                <li id="ul0087-0001" num="0472">i. Alternatively, NumColorComp counters may be assigned to record how many bins have been context coded for each color component. NumColorComp is the number of color components to be coded in one block (e.g., for one CU in YUV format, NumColorComp is set to 3).</li>                <li id="ul0087-0002" num="0473">ii. Alternatively, a counter may be initialized to be zero, and after coding one bin with context, the counter is increased by one.</li>            </ul>            </li>            <li id="ul0086-0002" num="0474">b. Alternatively, a counter may be initialized with some value greater than zero (e.g., W*H*K) and after coding one bin with context, the counter is decreased by one. When the counter is smaller than or equal to T, bypass coding is applied instead of using context coding.            <ul id="ul0088" list-style="none">                <li id="ul0088-0001" num="0475">i. In one example, T is set to 0 or 1.</li>                <li id="ul0088-0002" num="0476">ii. In one example, T is set according to decoded information or number of coding passes, etc. al.</li>            </ul>            </li>            <li id="ul0086-0003" num="0477">c. In one example, the palette coded blocks may have a same or different threshold compared with TS coded blocks or non-TS coded blocks in terms of context coded bins.            <ul id="ul0089" list-style="none">                <li id="ul0089-0001" num="0478">i. In one example, number of context coded bins for a palette coded block may be set to (W*H*T) wherein W and H are the width and height of one block, respectively and T is an integer. In one example, T is set to be the same as that used for TS coded blocks, such as 1.75 or 2.</li>                <li id="ul0089-0002" num="0479">ii. In one example, number of context coded bins for a palette coded block may be set to (W*H*NumColorComp*T) wherein W and H are the width and height of one block, respectively; NumColorComp is the number of color components to be coded in one block (e.g., for one CU in YUV format, NumColorComp is set to 3). and T is an integer. In one example, T is set to be the same as that used for TS coded blocks, such as 1.75 or 2.</li>            </ul>            </li>            <li id="ul0086-0004" num="0480">d. In one example, the threshold of palette-coded blocks may be smaller than TS coded blocks or non-TS coded blocks in terms of context coded bins.</li>            <li id="ul0086-0005" num="0481">e. In one example, the threshold of palette-coded blocks may be larger than TS coded blocks or non-TS coded blocks in terms of context coded bins.</li>        </ul>        </li>        <li id="ul0030-0023" num="0482">22. A palette-coded block may be treated as a non-intra block (e.g. treated as a block with prediction mode equal to MODE_PLT) during the process of counting neighboring intra blocks in CIIP mode.        <ul id="ul0090" list-style="none">            <li id="ul0090-0001" num="0483">a. In one example, when fetching the intra modes of neighboring blocks during counting neighboring intra blocks in CIIP mode, if a neighboring block (e.g., left and/or above) is coded with palette mode, it may be treated in the same way or a similar way as those coded with inter mode.</li>            <li id="ul0090-0002" num="0484">b. In one example, when fetching the intra modes of neighboring blocks during counting neighboring intra blocks in CIIP mode, if a neighboring block (e.g., left and/or above) is coded with palette mode, it may be treated in the same way or a similar way as those coded with IBC mode.</li>            <li id="ul0090-0003" num="0485">c. Alternatively, a palette-coded block may be treated as an intra block during the process of counting neighboring intra blocks in CIIP mode.</li>        </ul>        </li>        <li id="ul0030-0024" num="0486">23. It is proposed to skip the pre- and/or post-filtering processes for palette coded samples.        <ul id="ul0091" list-style="none">            <li id="ul0091-0001" num="0487">a. In one example, the palette coded samples may be not deblocked.</li>            <li id="ul0091-0002" num="0488">b. In one example, the palette coded samples may be not compensated an offset in the SAO process.</li>            <li id="ul0091-0003" num="0489">c. In one example, the palette coded samples may be not filtered in the ALF process.            <ul id="ul0092" list-style="none">                <li id="ul0092-0001" num="0490">i. In one example, the classification in the ALF process may skip palette coded samples.</li>            </ul>            </li>            <li id="ul0091-0004" num="0491">d. In one example, the LMCS may be disabled for palette coded samples.</li>        </ul>        </li>        <li id="ul0030-0025" num="0492">24. It is proposed to add more scanning orders in the palette mode.        <ul id="ul0093" list-style="none">            <li id="ul0093-0001" num="0493">a. In one example, reverse horizontal transverse scanning order defined as follows may be used.            <ul id="ul0094" list-style="none">                <li id="ul0094-0001" num="0494">i. In one example, the scanning direction for the odd rows may be from left to right.</li>                <li id="ul0094-0002" num="0495">ii. In one example, the scanning direction for the even rows may be from right to left.</li>                <li id="ul0094-0003" num="0496">iii. In one example, the scanning order for a 4&#xd7;4 block may be as shown in <figref idref="DRAWINGS">FIG. <b>22</b></figref>.</li>            </ul>            </li>            <li id="ul0093-0002" num="0497">b. In one example, reverse vertical transverse scanning order defined as follows may be used.            <ul id="ul0095" list-style="none">                <li id="ul0095-0001" num="0498">i. In one example, the scanning direction for the odd rows may be from top to bottom.</li>                <li id="ul0095-0002" num="0499">ii. In one example, the scanning direction for the even rows may be from bottom to top.</li>                <li id="ul0095-0003" num="0500">iii. In one example, the scanning order for a 4&#xd7;4 block may be as shown in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0026" num="0501">25. The combination of allowed scanning orders may depend on block shape.        <ul id="ul0096" list-style="none">            <li id="ul0096-0001" num="0502">a. In one example, when the ratio between width and height of a block is larger than a threshold, only horizontal traverse and reverse horizontal traverse scanning orders may be applied.            <ul id="ul0097" list-style="none">                <li id="ul0097-0001" num="0503">i. In one example, the threshold is equal to 1.</li>                <li id="ul0097-0002" num="0504">ii. In one example, the threshold is equal to 4.</li>            </ul>            </li>            <li id="ul0096-0002" num="0505">b. In one example, when the ratio between height and width of a block is larger than a threshold, only vertical traverse and reverse vertical traverse scanning orders may be applied.            <ul id="ul0098" list-style="none">                <li id="ul0098-0001" num="0506">i. In one example, the threshold is equal to 1.</li>                <li id="ul0098-0002" num="0507">ii. In one example, the threshold is equal to 4.</li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0027" num="0508">26. It is proposed to only allow one intra prediction direction and/or one scanning direction in the QR-BDPCM process.        <ul id="ul0099" list-style="none">            <li id="ul0099-0001" num="0509">a. In one example, only vertical direction is allowed on a block with width larger than height.</li>            <li id="ul0099-0002" num="0510">b. In one example, only horizontal direction is allowed on a block with width smaller than height.</li>            <li id="ul0099-0003" num="0511">c. In one example, the indication of direction of QR-BDPCM may be inferred for a non-square block.            <ul id="ul0100" list-style="none">                <li id="ul0100-0001" num="0512">i. In one example, furthermore, the indication of direction of QR-BDPCM may be inferred to vertical direction for a block with width larger than height.</li>                <li id="ul0100-0002" num="0513">ii. In one example, furthermore, the indication of direction of QR-BDPCM may be inferred to horizontal direction for a block with width smaller than height.</li>            </ul>            </li>        </ul>        </li>        <li id="ul0030-0028" num="0514">27. The methods in bullet 24, 25 and 26 may be only applied on a block with w*Th&#x3e;=h or h*Th&#x3e;=w, where the w and h are the block width and height respectively, and Th is a threshold.        <ul id="ul0101" list-style="none">            <li id="ul0101-0001" num="0515">a. In one example, Th is an integer number (e.g. 4 or 8) and may be based on            <ul id="ul0102" list-style="none">                <li id="ul0102-0001" num="0516">i. Video contents (e.g. screen contents or natural contents)</li>                <li id="ul0102-0002" num="0517">ii. A message signaled in the DPS/SPS/VPS/PPS/APS/picture header/slice header/tile group header/Largest coding unit (LCU)/Coding unit (CU)/LCU row/group of LCUs/TU/PU block/Video coding unit</li>                <li id="ul0102-0003" num="0518">iii. Position of CU/PU/TU/block/Video coding unit</li>                <li id="ul0102-0004" num="0519">iv. Block dimension of current block and/or its neighboring blocks</li>                <li id="ul0102-0005" num="0520">v. Block shape of current block and/or its neighboring blocks</li>                <li id="ul0102-0006" num="0521">vi. Indication of the color format (such as 4:2:0, 4:4:4, RGB or YUV)</li>                <li id="ul0102-0007" num="0522">vii. Coding tree structure (such as dual tree or single tree)</li>                <li id="ul0102-0008" num="0523">viii. Slice/tile group type and/or picture type</li>                <li id="ul0102-0009" num="0524">ix. Color component (e.g. may be only applied on luma component and/or chroma component)</li>                <li id="ul0102-0010" num="0525">x. Temporal layer ID</li>                <li id="ul0102-0011" num="0526">xi. Profiles/Levels/Tiers of a standard</li>            </ul>            </li>        </ul>        </li>    </ul>    </li></ul></p><heading id="h-0013" level="1">5. Additional Embodiments</heading><heading id="h-0014" level="1">5.1 Embodiment 1</heading><p id="p-0280" num="0527">This section shows an example embodiment in which the bitstream representation of video may be changed as compared to the baseline bitstream syntax. The changes are highlighted using bold italicized text entries.</p><p id="p-0281" num="0000"><tables id="TABLE-US-00011" num="00011"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="offset" colwidth="35pt" align="left"/><colspec colname="1" colwidth="91pt" align="left"/><colspec colname="2" colwidth="91pt" align="center"/><thead><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry/><entry>Descriptor</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>seq_parameter_set_rbsp( ) {</entry><entry/></row><row><entry/><entry>&#x2003;sps_max_sub_layers_minus1</entry><entry>u(3)</entry></row><row><entry/><entry>. . .</entry><entry/></row><row><entry/><entry>&#x2003;sps_gbi_enabled_flag</entry><entry>u(1)</entry></row><row><entry/><entry>&#x2003;sps_ibc_ enabled_flag</entry><entry>u(1)</entry></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00001" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00001.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00002" he="2.46mm" wi="4.57mm" file="US20230007271A1-20230105-P00002.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>. . .</entry><entry/></row><row><entry/><entry>}</entry></row><row><entry/><entry namest="offset" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables><br/><img id="CUSTOM-CHARACTER-00003" he="3.56mm" wi="18.03mm" file="US20230007271A1-20230105-P00003.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00004" he="2.79mm" wi="15.92mm" file="US20230007271A1-20230105-P00004.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00005" he="3.22mm" wi="20.15mm" file="US20230007271A1-20230105-P00005.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00006" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00006.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00007" he="2.79mm" wi="8.81mm" file="US20230007271A1-20230105-P00007.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00008" he="3.56mm" wi="20.15mm" file="US20230007271A1-20230105-P00008.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00009" he="3.56mm" wi="21.17mm" file="US20230007271A1-20230105-P00009.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00010" he="3.22mm" wi="18.71mm" file="US20230007271A1-20230105-P00010.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00011" he="3.22mm" wi="21.84mm" file="US20230007271A1-20230105-P00011.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00012" he="3.22mm" wi="22.27mm" file="US20230007271A1-20230105-P00012.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00013" he="2.79mm" wi="18.03mm" file="US20230007271A1-20230105-P00013.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00014" he="2.79mm" wi="15.49mm" file="US20230007271A1-20230105-P00014.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00015" he="3.56mm" wi="14.48mm" file="US20230007271A1-20230105-P00015.TIF" alt="custom-character" img-content="character" img-format="tif"/></p><p id="p-0282" num="0000"><tables id="TABLE-US-00012" num="00012"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="231pt" align="left"/><colspec colname="2" colwidth="42pt" align="center"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType ) {</entry><entry/></row><row><entry>&#x2003;if( tile_group_type != I | | sps_ibc_enabled_flag || &#x2009;<img id="CUSTOM-CHARACTER-00016" he="2.46mm" wi="22.94mm" file="US20230007271A1-20230105-P00016.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>{</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA )</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; tile_group_type != I )</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( ( ( tile_group_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) ||</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( tile_group_type != I &#x26;&#x26; CuPredMode[ x0 ][ y0 ] != MODE_INTRA )</entry><entry/></row><row><entry>) &#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;(sps_ibc_enabled_flag ||&#x2009; <img id="CUSTOM-CHARACTER-00017" he="2.46mm" wi="22.94mm" file="US20230007271A1-20230105-P00017.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00018" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00018.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00019" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00019.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00020" he="2.46mm" wi="20.15mm" file="US20230007271A1-20230105-P00020.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00021" he="2.46mm" wi="27.86mm" file="US20230007271A1-20230105-P00021.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00022" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00022.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00023" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00023.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00024" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00024.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00025" he="2.46mm" wi="27.18mm" file="US20230007271A1-20230105-P00025.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00026" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00026.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00027" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00027.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00028" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00028.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00029" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00029.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;}</entry><entry/></row><row><entry>. . .</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables><br/><img id="CUSTOM-CHARACTER-00030" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00030.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00031" he="3.22mm" wi="25.06mm" file="US20230007271A1-20230105-P00031.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00032" he="3.22mm" wi="36.66mm" file="US20230007271A1-20230105-P00032.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00033" he="3.22mm" wi="37.08mm" file="US20230007271A1-20230105-P00033.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00034" he="3.22mm" wi="33.19mm" file="US20230007271A1-20230105-P00034.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00035" he="3.22mm" wi="26.84mm" file="US20230007271A1-20230105-P00035.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00036" he="3.22mm" wi="32.85mm" file="US20230007271A1-20230105-P00036.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00037" he="3.22mm" wi="31.75mm" file="US20230007271A1-20230105-P00037.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00038" he="3.22mm" wi="25.74mm" file="US20230007271A1-20230105-P00038.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00039" he="3.22mm" wi="16.93mm" file="US20230007271A1-20230105-P00039.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00040" he="3.22mm" wi="35.64mm" file="US20230007271A1-20230105-P00040.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00041" he="3.22mm" wi="23.96mm" file="US20230007271A1-20230105-P00041.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00042" he="3.22mm" wi="32.09mm" file="US20230007271A1-20230105-P00042.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00043" he="3.22mm" wi="32.09mm" file="US20230007271A1-20230105-P00042.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00044" he="3.22mm" wi="26.84mm" file="US20230007271A1-20230105-P00043.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00045" he="3.22mm" wi="31.07mm" file="US20230007271A1-20230105-P00044.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00046" he="3.22mm" wi="24.72mm" file="US20230007271A1-20230105-P00045.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00047" he="3.22mm" wi="20.15mm" file="US20230007271A1-20230105-P00046.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00048" he="3.22mm" wi="22.27mm" file="US20230007271A1-20230105-P00047.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00049" he="3.22mm" wi="26.84mm" file="US20230007271A1-20230105-P00048.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00050" he="3.22mm" wi="25.06mm" file="US20230007271A1-20230105-P00049.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00051" he="3.22mm" wi="30.31mm" file="US20230007271A1-20230105-P00050.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00052" he="3.22mm" wi="22.27mm" file="US20230007271A1-20230105-P00051.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00053" he="3.22mm" wi="17.27mm" file="US20230007271A1-20230105-P00052.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00054" he="3.22mm" wi="7.79mm" file="US20230007271A1-20230105-P00053.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00055" he="3.22mm" wi="36.66mm" file="US20230007271A1-20230105-P00054.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00056" he="3.22mm" wi="21.51mm" file="US20230007271A1-20230105-P00055.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00057" he="3.22mm" wi="29.63mm" file="US20230007271A1-20230105-P00056.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00058" he="3.22mm" wi="33.87mm" file="US20230007271A1-20230105-P00057.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00059" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00058.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00060" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00059.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00061" he="3.22mm" wi="29.63mm" file="US20230007271A1-20230105-P00060.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00062" he="3.22mm" wi="37.76mm" file="US20230007271A1-20230105-P00061.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00063" he="3.22mm" wi="15.92mm" file="US20230007271A1-20230105-P00062.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00064" he="3.22mm" wi="30.73mm" file="US20230007271A1-20230105-P00063.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00065" he="3.22mm" wi="33.87mm" file="US20230007271A1-20230105-P00064.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00066" he="3.22mm" wi="28.62mm" file="US20230007271A1-20230105-P00065.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00067" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00066.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00068" he="3.22mm" wi="29.63mm" file="US20230007271A1-20230105-P00067.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00069" he="3.22mm" wi="32.09mm" file="US20230007271A1-20230105-P00068.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00070" he="3.22mm" wi="35.64mm" file="US20230007271A1-20230105-P00069.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00071" he="3.22mm" wi="33.19mm" file="US20230007271A1-20230105-P00070.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00072" he="3.22mm" wi="28.19mm" file="US20230007271A1-20230105-P00071.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00073" he="3.22mm" wi="25.06mm" file="US20230007271A1-20230105-P00072.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00074" he="3.22mm" wi="35.64mm" file="US20230007271A1-20230105-P00073.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00075" he="3.22mm" wi="25.06mm" file="US20230007271A1-20230105-P00074.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00076" he="3.22mm" wi="28.96mm" file="US20230007271A1-20230105-P00075.TIF" alt="custom-character" img-content="character" img-format="tif"/></p><p id="p-0283" num="0000"><tables id="TABLE-US-00013" num="00013"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="266pt" align="left"/><colspec colname="2" colwidth="42pt" align="center"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType ) {</entry><entry/></row><row><entry>&#x2003;if( tile_group_type != I | | sps_ibc_enabled_flag ||&#x2009; <img id="CUSTOM-CHARACTER-00077" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00076.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>{</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA )</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; tile_group_type != I)</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( ( ( tile_group_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ] | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( tile_group_type != I &#x26;&#x26; CuPredMode[ x0 ][ y0 ] != MODE_INTRA )</entry><entry/></row><row><entry>)&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;(sps_ibc_enabled_flag)</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry><img id="CUSTOM-CHARACTER-00078" he="2.46mm" wi="32.43mm" file="US20230007271A1-20230105-P00077.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2002;&#x2009;<img id="CUSTOM-CHARACTER-00079" he="2.46mm" wi="14.48mm" file="US20230007271A1-20230105-P00078.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00080" he="2.46mm" wi="14.48mm" file="US20230007271A1-20230105-P00078.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00081" he="2.46mm" wi="18.71mm" file="US20230007271A1-20230105-P00079.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003; <img id="CUSTOM-CHARACTER-00082" he="2.46mm" wi="22.94mm" file="US20230007271A1-20230105-P00080.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009; <img id="CUSTOM-CHARACTER-00083" he="3.22mm" wi="29.29mm" file="US20230007271A1-20230105-P00081.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00084" he="2.46mm" wi="26.84mm" file="US20230007271A1-20230105-P00082.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00085" he="3.22mm" wi="20.15mm" file="US20230007271A1-20230105-P00083.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00086" he="3.22mm" wi="4.91mm" file="US20230007271A1-20230105-P00084.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00087" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00085.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00088" he="3.22mm" wi="4.91mm" file="US20230007271A1-20230105-P00086.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00089" he="3.22mm" wi="31.41mm" file="US20230007271A1-20230105-P00087.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00090" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00088.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00091" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00089.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00092" he="3.22mm" wi="6.69mm" file="US20230007271A1-20230105-P00090.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;}</entry><entry/></row><row><entry>&#x2003;&#x2003;. . .</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0284" num="0000"><tables id="TABLE-US-00014" num="00014"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="231pt" align="left"/><colspec colname="2" colwidth="42pt" align="center"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType ) {</entry><entry/></row><row><entry>&#x2003;if( tile_group_type != I | | sps_ibc_enabled_flag ||&#x2009; <img id="CUSTOM-CHARACTER-00093" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00085.TIF" alt="custom-character" img-content="character" img-format="tif"/> )</entry><entry/></row><row><entry>{</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA )</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; tile_group_type != I )</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( ( ( tile_group_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( tile_group_type != I &#x26;&#x26; CuPredMode[ x0 ][ y0 ] != MODE_INTRA )</entry><entry/></row><row><entry>)&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;(sps_ibc_enabled_flag)</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry><img id="CUSTOM-CHARACTER-00094" he="2.46mm" wi="30.73mm" file="US20230007271A1-20230105-P00091.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2003;&#x2003;==&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00095" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00092.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00096" he="2.46mm" wi="4.23mm" file="US20230007271A1-20230105-P00093.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00097" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00094.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00098" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00095.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00099" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00096.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;}</entry><entry/></row><row><entry>&#x2003;&#x2003;. . .</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables><br/><img id="CUSTOM-CHARACTER-00100" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00097.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00101" he="3.22mm" wi="25.40mm" file="US20230007271A1-20230105-P00098.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00102" he="3.22mm" wi="37.42mm" file="US20230007271A1-20230105-P00099.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00103" he="3.22mm" wi="37.76mm" file="US20230007271A1-20230105-P00100.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00104" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00101.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00105" he="3.22mm" wi="31.75mm" file="US20230007271A1-20230105-P00102.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00106" he="3.22mm" wi="31.41mm" file="US20230007271A1-20230105-P00103.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00107" he="3.22mm" wi="34.21mm" file="US20230007271A1-20230105-P00104.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00108" he="3.22mm" wi="8.13mm" file="US20230007271A1-20230105-P00105.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00109" he="3.22mm" wi="35.64mm" file="US20230007271A1-20230105-P00106.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00110" he="3.22mm" wi="21.84mm" file="US20230007271A1-20230105-P00107.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00111" he="3.22mm" wi="29.63mm" file="US20230007271A1-20230105-P00108.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00112" he="3.22mm" wi="20.15mm" file="US20230007271A1-20230105-P00109.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00113" he="3.22mm" wi="28.62mm" file="US20230007271A1-20230105-P00110.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00114" he="3.22mm" wi="31.75mm" file="US20230007271A1-20230105-P00111.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00115" he="3.22mm" wi="25.40mm" file="US20230007271A1-20230105-P00112.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00116" he="3.22mm" wi="38.44mm" file="US20230007271A1-20230105-P00113.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00117" he="3.22mm" wi="16.26mm" file="US20230007271A1-20230105-P00114.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00118" he="3.22mm" wi="36.32mm" file="US20230007271A1-20230105-P00115.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00119" he="3.22mm" wi="33.87mm" file="US20230007271A1-20230105-P00116.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00120" he="3.22mm" wi="28.96mm" file="US20230007271A1-20230105-P00117.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00121" he="3.22mm" wi="25.40mm" file="US20230007271A1-20230105-P00118.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00122" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00119.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00123" he="3.22mm" wi="33.53mm" file="US20230007271A1-20230105-P00120.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00124" he="3.22mm" wi="33.87mm" file="US20230007271A1-20230105-P00121.TIF" alt="custom-character" img-content="character" img-format="tif"/></p><p id="p-0285" num="0000"><tables id="TABLE-US-00015" num="00015"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="252pt" align="left"/><colspec colname="2" colwidth="42pt" align="center"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType ) {</entry><entry/></row><row><entry>&#x2003;if( tile_group_type != I | | sps_ibc_enabled_flag ||&#x2009; <img id="CUSTOM-CHARACTER-00125" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00122.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>{</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA )</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; tile_group_type != I )</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00126" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00123.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00127" he="2.46mm" wi="35.64mm" file="US20230007271A1-20230105-P00124.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;&#x2002;&#x2009;| |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00128" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00125.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009; <img id="CUSTOM-CHARACTER-00129" he="2.46mm" wi="37.08mm" file="US20230007271A1-20230105-P00126.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00130" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00127.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00131" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00128.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00132" he="2.46mm" wi="2.46mm" file="US20230007271A1-20230105-P00129.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00133" he="2.46mm" wi="4.23mm" file="US20230007271A1-20230105-P00130.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00134" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00131.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry><img id="CUSTOM-CHARACTER-00135" he="2.46mm" wi="32.85mm" file="US20230007271A1-20230105-P00132.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;&#x2009;<img id="CUSTOM-CHARACTER-00136" he="2.46mm" wi="31.41mm" file="US20230007271A1-20230105-P00133.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009; | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00137" he="2.46mm" wi="22.94mm" file="US20230007271A1-20230105-P00134.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009; <img id="CUSTOM-CHARACTER-00138" he="2.46mm" wi="33.19mm" file="US20230007271A1-20230105-P00135.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009; <img id="CUSTOM-CHARACTER-00139" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00136.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00140" he="2.46mm" wi="4.23mm" file="US20230007271A1-20230105-P00137.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009; <img id="CUSTOM-CHARACTER-00141" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00138.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2002;&#x2009;<img id="CUSTOM-CHARACTER-00142" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00139.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009; <img id="CUSTOM-CHARACTER-00143" he="2.46mm" wi="18.03mm" file="US20230007271A1-20230105-P00140.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00144" he="2.46mm" wi="7.79mm" file="US20230007271A1-20230105-P00141.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00145" he="2.46mm" wi="12.36mm" file="US20230007271A1-20230105-P00142.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00146" he="2.46mm" wi="4.23mm" file="US20230007271A1-20230105-P00137.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00147" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00143.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00148" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00144.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00149" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00145.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00150" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00146.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;}</entry><entry/></row><row><entry>&#x2003;&#x2003;. . .</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables><br/><img id="CUSTOM-CHARACTER-00151" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00147.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00152" he="3.22mm" wi="31.75mm" file="US20230007271A1-20230105-P00148.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00153" he="3.22mm" wi="34.21mm" file="US20230007271A1-20230105-P00149.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00154" he="3.22mm" wi="34.54mm" file="US20230007271A1-20230105-P00150.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00155" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00151.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00156" he="3.22mm" wi="31.41mm" file="US20230007271A1-20230105-P00152.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00157" he="3.22mm" wi="30.73mm" file="US20230007271A1-20230105-P00153.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00158" he="3.22mm" wi="33.53mm" file="US20230007271A1-20230105-P00154.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00159" he="2.46mm" wi="8.13mm" file="US20230007271A1-20230105-P00155.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00160" he="3.22mm" wi="28.62mm" file="US20230007271A1-20230105-P00156.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00161" he="3.22mm" wi="28.62mm" file="US20230007271A1-20230105-P00157.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00162" he="3.22mm" wi="35.31mm" file="US20230007271A1-20230105-P00158.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00163" he="3.22mm" wi="22.27mm" file="US20230007271A1-20230105-P00159.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00164" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00160.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00165" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00161.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00166" he="3.22mm" wi="29.63mm" file="US20230007271A1-20230105-P00162.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00167" he="3.22mm" wi="37.76mm" file="US20230007271A1-20230105-P00163.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00168" he="3.22mm" wi="15.92mm" file="US20230007271A1-20230105-P00164.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00169" he="3.22mm" wi="35.64mm" file="US20230007271A1-20230105-P00165.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00170" he="3.22mm" wi="33.19mm" file="US20230007271A1-20230105-P00166.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00171" he="3.22mm" wi="28.19mm" file="US20230007271A1-20230105-P00167.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00172" he="3.22mm" wi="25.06mm" file="US20230007271A1-20230105-P00168.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00173" he="3.22mm" wi="27.18mm" file="US20230007271A1-20230105-P00169.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00174" he="4.23mm" wi="32.85mm" file="US20230007271A1-20230105-P00170.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00175" he="3.22mm" wi="33.19mm" file="US20230007271A1-20230105-P00171.TIF" alt="custom-character" img-content="character" img-format="tif"/></p><p id="p-0286" num="0000"><tables id="TABLE-US-00016" num="00016"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="238pt" align="left"/><colspec colname="2" colwidth="42pt" align="center"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType ) {</entry><entry/></row><row><entry>&#x2003;if( tile_group_type != I | | sps_ibc_enabled_flag || <img id="CUSTOM-CHARACTER-00176" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00172.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;)</entry><entry/></row><row><entry>{</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA )</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<b>cu</b>_<b>ski</b>p_<b>flag</b>[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00177" he="2.46mm" wi="34.97mm" file="US20230007271A1-20230105-P00173.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00178" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00174.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009; <img id="CUSTOM-CHARACTER-00179" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00175.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;. . .</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0287" num="0000"><tables id="TABLE-US-00017" num="00017"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="154pt" align="left"/><colspec colname="2" colwidth="63pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00180" he="2.46mm" wi="11.26mm" file="US20230007271A1-20230105-P00176.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="49pt" align="left"/><colspec colname="2" colwidth="105pt" align="left"/><colspec colname="3" colwidth="63pt" align="left"/><tbody valign="top"><row><entry/><entry><img id="CUSTOM-CHARACTER-00181" he="2.46mm" wi="18.37mm" file="US20230007271A1-20230105-P00177.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00182" he="2.46mm" wi="26.50mm" file="US20230007271A1-20230105-P00178.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00183" he="2.46mm" wi="27.86mm" file="US20230007271A1-20230105-P00179.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00184" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00180.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00185" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00181.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00186" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00182.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00187" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00183.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00188" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00184.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00189" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00185.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00190" he="2.12mm" wi="19.73mm" file="US20230007271A1-20230105-P00186.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00191" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00187.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00192" he="2.46mm" wi="15.49mm" file="US20230007271A1-20230105-P00188.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00193" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00189.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00194" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00190.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00195" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00191.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00196" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00192.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00197" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00193.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00198" he="2.46mm" wi="27.52mm" file="US20230007271A1-20230105-P00194.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00199" he="2.46mm" wi="35.31mm" file="US20230007271A1-20230105-P00195.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00200" he="2.46mm" wi="26.08mm" file="US20230007271A1-20230105-P00196.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00201" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00197.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00202" he="2.46mm" wi="27.18mm" file="US20230007271A1-20230105-P00198.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00203" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00199.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00204" he="3.22mm" wi="24.38mm" file="US20230007271A1-20230105-P00200.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00205" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00201.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00206" he="2.46mm" wi="15.49mm" file="US20230007271A1-20230105-P00202.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00207" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00203.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00208" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00204.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00209" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00205.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00210" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00206.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00211" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00207.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00212" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00208.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00213" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00209.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00214" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00210.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00215" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00211.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0288" num="0000"><tables id="TABLE-US-00018" num="00018"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="154pt" align="left"/><colspec colname="2" colwidth="63pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00216" he="2.46mm" wi="11.26mm" file="US20230007271A1-20230105-P00212.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="49pt" align="left"/><colspec colname="2" colwidth="105pt" align="left"/><colspec colname="3" colwidth="63pt" align="left"/><tbody valign="top"><row><entry/><entry><img id="CUSTOM-CHARACTER-00217" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00213.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00218" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00214.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00219" he="2.46mm" wi="27.18mm" file="US20230007271A1-20230105-P00215.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00220" he="2.46mm" wi="25.06mm" file="US20230007271A1-20230105-P00216.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00221" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00217.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00222" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00218.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00223" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00219.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00224" he="3.89mm" wi="26.50mm" file="US20230007271A1-20230105-P00220.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00225" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00221.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00226" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00222.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00227" he="2.12mm" wi="19.05mm" file="US20230007271A1-20230105-P00223.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00228" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00224.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00229" he="2.46mm" wi="15.49mm" file="US20230007271A1-20230105-P00225.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00230" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00226.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00231" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00227.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00232" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00228.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00233" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00229.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00234" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00230.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00235" he="2.46mm" wi="31.07mm" file="US20230007271A1-20230105-P00231.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00236" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P00232.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00237" he="2.46mm" wi="26.08mm" file="US20230007271A1-20230105-P00233.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00238" he="2.46mm" wi="19.05mm" file="US20230007271A1-20230105-P00234.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00239" he="2.46mm" wi="31.75mm" file="US20230007271A1-20230105-P00235.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00240" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00236.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00241" he="2.12mm" wi="19.05mm" file="US20230007271A1-20230105-P00237.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00242" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00238.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00243" he="2.46mm" wi="15.49mm" file="US20230007271A1-20230105-P00239.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00244" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00240.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00245" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00241.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00246" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00242.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00247" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00243.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00248" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00244.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00249" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00245.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00250" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00246.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00251" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00247.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00252" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00248.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0289" num="0000"><tables id="TABLE-US-00019" num="00019"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="154pt" align="left"/><colspec colname="2" colwidth="63pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00253" he="3.22mm" wi="14.14mm" file="US20230007271A1-20230105-P00249.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="49pt" align="left"/><colspec colname="2" colwidth="105pt" align="left"/><colspec colname="3" colwidth="63pt" align="left"/><tbody valign="top"><row><entry/><entry><img id="CUSTOM-CHARACTER-00254" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00250.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00255" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00251.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00256" he="2.46mm" wi="27.18mm" file="US20230007271A1-20230105-P00252.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00257" he="2.46mm" wi="25.06mm" file="US20230007271A1-20230105-P00253.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00258" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00254.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00259" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00255.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00260" he="3.22mm" wi="6.69mm" file="US20230007271A1-20230105-P00256.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00261" he="2.46mm" wi="14.48mm" file="US20230007271A1-20230105-P00257.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00262" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00258.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00263" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00259.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00264" he="3.22mm" wi="24.38mm" file="US20230007271A1-20230105-P00260.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00265" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00261.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00266" he="2.46mm" wi="15.49mm" file="US20230007271A1-20230105-P00262.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00267" he="3.22mm" wi="6.69mm" file="US20230007271A1-20230105-P00263.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00268" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00264.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00269" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00265.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00270" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00266.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00271" he="3.22mm" wi="6.69mm" file="US20230007271A1-20230105-P00267.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00272" he="3.22mm" wi="16.93mm" file="US20230007271A1-20230105-P00268.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00273" he="2.46mm" wi="26.08mm" file="US20230007271A1-20230105-P00269.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00274" he="2.79mm" wi="13.04mm" file="US20230007271A1-20230105-P00270.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00275" he="3.22mm" wi="24.38mm" file="US20230007271A1-20230105-P00271.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00276" he="2.46mm" wi="25.40mm" file="US20230007271A1-20230105-P00272.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00277" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00273.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00278" he="3.22mm" wi="24.38mm" file="US20230007271A1-20230105-P00271.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00279" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00274.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00280" he="2.46mm" wi="15.49mm" file="US20230007271A1-20230105-P00275.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00281" he="3.22mm" wi="6.69mm" file="US20230007271A1-20230105-P00276.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00282" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00277.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00283" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00278.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00284" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00279.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00285" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00280.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00286" he="3.22mm" wi="6.69mm" file="US20230007271A1-20230105-P00281.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00287" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00282.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00288" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00283.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00289" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00284.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0290" num="0000"><tables id="TABLE-US-00020" num="00020"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="154pt" align="left"/><colspec colname="2" colwidth="63pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00290" he="2.46mm" wi="11.26mm" file="US20230007271A1-20230105-P00285.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="49pt" align="left"/><colspec colname="2" colwidth="105pt" align="left"/><colspec colname="3" colwidth="63pt" align="left"/><tbody valign="top"><row><entry/><entry><img id="CUSTOM-CHARACTER-00291" he="2.46mm" wi="18.37mm" file="US20230007271A1-20230105-P00286.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00292" he="2.46mm" wi="26.50mm" file="US20230007271A1-20230105-P00287.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00293" he="2.46mm" wi="27.18mm" file="US20230007271A1-20230105-P00288.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00294" he="2.46mm" wi="25.06mm" file="US20230007271A1-20230105-P00289.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00295" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00290.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00296" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00291.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00297" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00292.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00298" he="2.46mm" wi="27.52mm" file="US20230007271A1-20230105-P00194.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00299" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00293.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00300" he="2.46mm" wi="25.40mm" file="US20230007271A1-20230105-P00294.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00301" he="2.46mm" wi="15.49mm" file="US20230007271A1-20230105-P00295.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00302" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00296.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00303" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00297.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00304" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00298.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00305" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00299.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00306" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00300.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00307" he="2.46mm" wi="31.07mm" file="US20230007271A1-20230105-P00301.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00308" he="2.46mm" wi="22.94mm" file="US20230007271A1-20230105-P00302.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00309" he="2.46mm" wi="26.08mm" file="US20230007271A1-20230105-P00303.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00310" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00304.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00311" he="2.46mm" wi="31.75mm" file="US20230007271A1-20230105-P00305.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00312" he="2.46mm" wi="25.40mm" file="US20230007271A1-20230105-P00306.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00313" he="2.46mm" wi="15.49mm" file="US20230007271A1-20230105-P00307.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00314" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00308.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00315" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00309.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00316" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00310.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00317" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00311.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00318" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00312.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00319" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00313.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00320" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00314.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00321" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00315.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00322" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00316.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables><br/><img id="CUSTOM-CHARACTER-00323" he="3.22mm" wi="21.17mm" file="US20230007271A1-20230105-P00317.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00324" he="3.22mm" wi="21.51mm" file="US20230007271A1-20230105-P00318.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00325" he="3.56mm" wi="21.84mm" file="US20230007271A1-20230105-P00319.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00326" he="3.22mm" wi="15.16mm" file="US20230007271A1-20230105-P00320.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00327" he="2.79mm" wi="19.73mm" file="US20230007271A1-20230105-P00321.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00328" he="3.22mm" wi="19.39mm" file="US20230007271A1-20230105-P00322.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00329" he="3.22mm" wi="22.94mm" file="US20230007271A1-20230105-P00323.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00330" he="2.79mm" wi="16.59mm" file="US20230007271A1-20230105-P00324.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00331" he="3.22mm" wi="11.26mm" file="US20230007271A1-20230105-P00325.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00332" he="3.22mm" wi="7.79mm" file="US20230007271A1-20230105-P00326.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00333" he="3.22mm" wi="19.39mm" file="US20230007271A1-20230105-P00327.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00334" he="3.22mm" wi="17.27mm" file="US20230007271A1-20230105-P00328.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00335" he="3.22mm" wi="22.27mm" file="US20230007271A1-20230105-P00329.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00336" he="3.22mm" wi="21.17mm" file="US20230007271A1-20230105-P00330.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00337" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00331.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00338" he="3.22mm" wi="16.26mm" file="US20230007271A1-20230105-P00332.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00339" he="3.22mm" wi="17.27mm" file="US20230007271A1-20230105-P00333.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00340" he="3.22mm" wi="18.03mm" file="US20230007271A1-20230105-P00334.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00341" he="3.22mm" wi="15.49mm" file="US20230007271A1-20230105-P00335.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00342" he="3.22mm" wi="21.84mm" file="US20230007271A1-20230105-P00336.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00343" he="2.79mm" wi="18.37mm" file="US20230007271A1-20230105-P00337.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00344" he="3.22mm" wi="17.61mm" file="US20230007271A1-20230105-P00338.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00345" he="2.79mm" wi="18.71mm" file="US20230007271A1-20230105-P00339.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00346" he="3.22mm" wi="19.39mm" file="US20230007271A1-20230105-P00340.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00347" he="2.79mm" wi="18.03mm" file="US20230007271A1-20230105-P00341.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00348" he="3.56mm" wi="21.84mm" file="US20230007271A1-20230105-P00342.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00349" he="3.56mm" wi="21.51mm" file="US20230007271A1-20230105-P00343.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00350" he="2.79mm" wi="19.05mm" file="US20230007271A1-20230105-P00344.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00351" he="1.78mm" wi="14.48mm" file="US20230007271A1-20230105-P00345.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00352" he="3.22mm" wi="22.27mm" file="US20230007271A1-20230105-P00346.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00353" he="2.79mm" wi="18.37mm" file="US20230007271A1-20230105-P00347.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00354" he="3.22mm" wi="14.48mm" file="US20230007271A1-20230105-P00348.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00355" he="3.22mm" wi="15.16mm" file="US20230007271A1-20230105-P00349.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00356" he="2.79mm" wi="18.71mm" file="US20230007271A1-20230105-P00350.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00357" he="3.22mm" wi="19.05mm" file="US20230007271A1-20230105-P00351.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00358" he="3.22mm" wi="19.39mm" file="US20230007271A1-20230105-P00352.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00359" he="3.22mm" wi="24.72mm" file="US20230007271A1-20230105-P00353.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00360" he="3.22mm" wi="36.66mm" file="US20230007271A1-20230105-P00354.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00361" he="3.22mm" wi="27.18mm" file="US20230007271A1-20230105-P00355.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00362" he="3.22mm" wi="21.51mm" file="US20230007271A1-20230105-P00356.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00363" he="4.23mm" wi="42.33mm" file="US20230007271A1-20230105-P00357.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00364" he="3.89mm" wi="24.38mm" file="US20230007271A1-20230105-P00358.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00365" he="4.91mm" wi="31.07mm" file="US20230007271A1-20230105-P00359.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00366" he="4.23mm" wi="24.72mm" file="US20230007271A1-20230105-P00360.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00367" he="4.23mm" wi="23.96mm" file="US20230007271A1-20230105-P00361.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00368" he="5.33mm" wi="31.75mm" file="US20230007271A1-20230105-P00362.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00369" he="6.01mm" wi="30.31mm" file="US20230007271A1-20230105-P00363.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00370" he="4.57mm" wi="36.66mm" file="US20230007271A1-20230105-P00364.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00371" he="4.57mm" wi="32.85mm" file="US20230007271A1-20230105-P00365.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00372" he="4.23mm" wi="29.29mm" file="US20230007271A1-20230105-P00366.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00373" he="3.89mm" wi="33.87mm" file="US20230007271A1-20230105-P00367.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00374" he="3.22mm" wi="29.97mm" file="US20230007271A1-20230105-P00368.TIF" alt="custom-character" img-content="character" img-format="tif"/></p><p id="p-0291" num="0000"><tables id="TABLE-US-00021" num="00021"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 9-4</entry></row></thead><tbody valign="top"><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>Syntax elements and associated binarization.</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="4"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="49pt" align="left"/><colspec colname="2" colwidth="63pt" align="center"/><colspec colname="3" colwidth="91pt" align="center"/><tbody valign="top"><row><entry/><entry/><entry/><entry>Binarization</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="5"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="49pt" align="left"/><colspec colname="2" colwidth="63pt" align="center"/><colspec colname="3" colwidth="28pt" align="center"/><colspec colname="4" colwidth="63pt" align="center"/><tbody valign="top"><row><entry/><entry>Syntax structure</entry><entry>Syntax element</entry><entry>process</entry><entry>Input parameter</entry></row><row><entry/><entry namest="offset" nameend="4" align="center" rowsep="1"/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="5"><colspec colname="offset" colwidth="14pt" align="left"/><colspec colname="1" colwidth="49pt" align="left"/><colspec colname="2" colwidth="63pt" align="left"/><colspec colname="3" colwidth="28pt" align="left"/><colspec colname="4" colwidth="63pt" align="left"/><tbody valign="top"><row><entry/><entry><img id="CUSTOM-CHARACTER-00375" he="5.33mm" wi="12.02mm" file="US20230007271A1-20230105-P00369.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00376" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00370.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry>FL</entry><entry>cMax = 1</entry></row><row><entry/><entry namest="offset" nameend="4" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0292" num="0000"><tables id="TABLE-US-00022" num="00022"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="center"/><thead><row><entry namest="1" nameend="1" rowsep="1">TABLE 9-10</entry></row></thead><tbody valign="top"><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row><row><entry>Assignment of ctxInc to syntax elements with context coded bins</entry></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="49pt" align="left"/><colspec colname="2" colwidth="154pt" align="center"/><colspec colname="3" colwidth="14pt" align="center"/><tbody valign="top"><row><entry/><entry><img id="CUSTOM-CHARACTER-00377" he="2.46mm" wi="7.03mm" file="US20230007271A1-20230105-P00371.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="8"><colspec colname="1" colwidth="14pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><colspec colname="3" colwidth="28pt" align="left"/><colspec colname="4" colwidth="28pt" align="left"/><colspec colname="5" colwidth="28pt" align="left"/><colspec colname="6" colwidth="28pt" align="left"/><colspec colname="7" colwidth="28pt" align="left"/><colspec colname="8" colwidth="28pt" align="left"/><tbody valign="top"><row><entry/><entry><img id="CUSTOM-CHARACTER-00378" he="2.79mm" wi="15.16mm" file="US20230007271A1-20230105-P00372.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00379" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00373.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00380" he="2.46mm" wi="2.12mm" file="US20230007271A1-20230105-P00374.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00381" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00375.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00382" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00376.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00383" he="2.46mm" wi="7.03mm" file="US20230007271A1-20230105-P00371.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00384" he="2.46mm" wi="1.78mm" file="US20230007271A1-20230105-P00377.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="8" align="center" rowsep="1"/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00385" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P00378.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00386" he="1.78mm" wi="2.79mm" file="US20230007271A1-20230105-P00379.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00387" he="1.78mm" wi="2.79mm" file="US20230007271A1-20230105-P00380.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00388" he="1.78mm" wi="2.79mm" file="US20230007271A1-20230105-P00381.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00389" he="1.78mm" wi="2.79mm" file="US20230007271A1-20230105-P00382.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00390" he="1.78mm" wi="2.79mm" file="US20230007271A1-20230105-P00383.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00391" he="2.46mm" wi="1.78mm" file="US20230007271A1-20230105-P00384.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="8" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0015" level="1">5.2 Embodiment #2</heading><p id="p-0293" num="0528">This embodiment describes the modeType. The newly added texts are bold italicized.</p><p id="p-0294" num="0529">A variable modeType specifying whether Intra, IBC, <img id="CUSTOM-CHARACTER-00392" he="3.89mm" wi="11.26mm" file="US20230007271A1-20230105-P00385.TIF" alt="custom-character" img-content="character" img-format="tif"/> and Inter coding modes can be used (MODE_TYPE_ALL), or whether only Intra, <img id="CUSTOM-CHARACTER-00393" he="3.89mm" wi="11.26mm" file="US20230007271A1-20230105-P00386.TIF" alt="custom-character" img-content="character" img-format="tif"/> and IBC coding modes can be used (MODE_TYPE_INTRA), or whether only Inter coding modes can be used (MODE_TYPE_INTER) for coding units inside the coding tree node.</p><heading id="h-0016" level="1">5.3 Embodiment #3</heading><p id="p-0295" num="0530">This embodiment describes the coding unit syntax. In this embodiment, the pred_mode_plt_flag is signaled after the pred_mode_ibc_flag. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0017" level="2">7.3.7.5 Coding Unit Syntax</heading><p id="p-0296" num="0531"></p><p id="p-0297" num="0000"><tables id="TABLE-US-00023" num="00023"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="238pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry>#z</entry><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType, modeType<b>,</b>&#x2009;<img id="CUSTOM-CHARACTER-00394" he="2.46mm" wi="10.92mm" file="US20230007271A1-20230105-P00387.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag <b>| |</b>&#x2009;<img id="CUSTOM-CHARACTER-00395" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00388.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;{</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;!( [[cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; !sps_ibc_enabled_flag ) ]]</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00396" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00389.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00397" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P00390.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00398" he="2.46mm" wi="20.15mm" file="US20230007271A1-20230105-P00391.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00399" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00392.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00400" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00393.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00401" he="2.46mm" wi="30.31mm" file="US20230007271A1-20230105-P00394.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 )&#x2009;<img id="CUSTOM-CHARACTER-00402" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00395.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00403" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00396.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;[[if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =</entry><entry/></row><row><entry>0 ) ) ) ) &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) )[[==]]</entry><entry/></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00404" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00397.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00405" he="2.46mm" wi="19.39mm" file="US20230007271A1-20230105-P00398.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00406" he="2.46mm" wi="16.59mm" file="US20230007271A1-20230105-P00399.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<b>| |</b></entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00407" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00400.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00408" he="2.46mm" wi="26.50mm" file="US20230007271A1-20230105-P00401.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00409" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00402.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<b>| |</b></entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00410" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00403.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00411" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00404.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00412" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00405.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00413" he="2.12mm" wi="20.15mm" file="US20230007271A1-20230105-P00406.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00414" he="2.79mm" wi="1.10mm" file="US20230007271A1-20230105-P00407.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00415" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00408.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00416" he="3.56mm" wi="49.78mm" file="US20230007271A1-20230105-P00409.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00417" he="3.56mm" wi="23.96mm" file="US20230007271A1-20230105-P00410.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00418" he="2.46mm" wi="27.86mm" file="US20230007271A1-20230105-P00411.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00419" he="2.46mm" wi="27.18mm" file="US20230007271A1-20230105-P00412.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00420" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00413.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00421" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00414.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00422" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00415.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00423" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00416.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00424" he="2.46mm" wi="28.19mm" file="US20230007271A1-20230105-P00417.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00425" he="2.46mm" wi="20.15mm" file="US20230007271A1-20230105-P00418.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00426" he="2.46mm" wi="18.03mm" file="US20230007271A1-20230105-P00419.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00427" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00420.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00428" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00421.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00429" he="2.46mm" wi="3.89mm" file="US20230007271A1-20230105-P00422.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00430" he="2.46mm" wi="29.97mm" file="US20230007271A1-20230105-P00423.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00431" he="2.46mm" wi="27.52mm" file="US20230007271A1-20230105-P00424.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00432" he="2.46mm" wi="19.05mm" file="US20230007271A1-20230105-P00425.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00433" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00426.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00434" he="2.46mm" wi="27.52mm" file="US20230007271A1-20230105-P00427.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00435" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00428.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00436" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00429.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00437" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00430.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00438" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00431.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00439" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00432.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00440" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00433.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry><entry/></row><row><entry>...</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0018" level="1">5.4 Embodiment #4</heading><p id="p-0298" num="0532">This embodiment describes the coding unit syntax. In this embodiment, the pred_mode_plt_flag is signaled after the pred_mode_ibc_flag and the pred_mode_plt_flag is signaled only when the current prediction mode is MODE_INTRA. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0019" level="2">7.3.7.5 Coding Unit Syntax</heading><p id="p-0299" num="0533"></p><p id="p-0300" num="0000"><tables id="TABLE-US-00024" num="00024"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="238pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType<b>,</b>&#x2009;<img id="CUSTOM-CHARACTER-00441" he="2.46mm" wi="10.92mm" file="US20230007271A1-20230105-P00434.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag <b>| |</b>&#x2009;<img id="CUSTOM-CHARACTER-00442" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00254.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;{</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;!( [[cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; !sps_ibc_enabled_flag ) ]]</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00443" he="2.46mm" wi="18.03mm" file="US20230007271A1-20230105-P00435.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00444" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00436.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00445" he="2.46mm" wi="15.16mm" file="US20230007271A1-20230105-P00437.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00446" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00438.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00447" he="2.46mm" wi="15.16mm" file="US20230007271A1-20230105-P00437.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00448" he="2.46mm" wi="30.31mm" file="US20230007271A1-20230105-P00439.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 )&#x2009;<img id="CUSTOM-CHARACTER-00449" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00440.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00450" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00441.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>[[ if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =</entry><entry/></row><row><entry>0 ) ) ) ) &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) )]]</entry><entry/></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00451" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00442.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00452" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00443.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00453" he="3.22mm" wi="18.71mm" file="US20230007271A1-20230105-P00444.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<b>| |</b></entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00454" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00445.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00455" he="2.46mm" wi="26.84mm" file="US20230007271A1-20230105-P00446.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00456" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00447.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<b>| |</b></entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00457" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00448.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00458" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00449.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00459" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00450.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<b>= =</b></entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00460" he="2.46mm" wi="4.57mm" file="US20230007271A1-20230105-P00451.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00461" he="3.56mm" wi="28.62mm" file="US20230007271A1-20230105-P00452.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00462" he="2.79mm" wi="20.15mm" file="US20230007271A1-20230105-P00453.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00463" he="2.46mm" wi="33.87mm" file="US20230007271A1-20230105-P00454.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00464" he="2.46mm" wi="14.48mm" file="US20230007271A1-20230105-P00455.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00465" he="2.46mm" wi="19.05mm" file="US20230007271A1-20230105-P00456.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00466" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00457.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00467" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00458.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00468" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00459.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2002;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00469" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00460.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00470" he="2.46mm" wi="31.07mm" file="US20230007271A1-20230105-P00461.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00471" he="2.46mm" wi="35.31mm" file="US20230007271A1-20230105-P00462.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00472" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00463.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00473" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00464.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00474" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00465.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00475" he="2.46mm" wi="26.84mm" file="US20230007271A1-20230105-P00466.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00476" he="2.46mm" wi="14.14mm" file="US20230007271A1-20230105-P00467.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00477" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00468.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00478" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00469.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00479" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00470.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry><entry/></row><row><entry>...</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0020" level="1">5.5 Embodiment #5</heading><p id="p-0301" num="0534">This embodiment describes the coding unit syntax. In this embodiment, the pred_mode_ibc_flag is signaled after the pred_mode_plt_flag. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0021" level="2">7.3.7.5 Coding Unit Syntax</heading><p id="p-0302" num="0535"></p><p id="p-0303" num="0000"><tables id="TABLE-US-00025" num="00025"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="245pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType<b>,</b>&#x2009;<img id="CUSTOM-CHARACTER-00480" he="2.46mm" wi="10.92mm" file="US20230007271A1-20230105-P00471.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag&#x2009;<img id="CUSTOM-CHARACTER-00481" he="2.46mm" wi="25.06mm" file="US20230007271A1-20230105-P00472.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;!( [[Width = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; !sps_ibc_enabled_flag ) ]]</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00482" he="2.46mm" wi="22.61mm" file="US20230007271A1-20230105-P00473.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00483" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P00474.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00484" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00475.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00485" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00476.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00486" he="2.79mm" wi="1.10mm" file="US20230007271A1-20230105-P00477.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00487" he="2.46mm" wi="30.31mm" file="US20230007271A1-20230105-P00478.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 )&#x2009;<img id="CUSTOM-CHARACTER-00488" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00479.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00489" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00480.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;[[ if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = = 0 ) )</entry><entry/></row><row><entry>) ) &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) ) ]]</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00490" he="2.46mm" wi="28.19mm" file="US20230007271A1-20230105-P00481.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00491" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00482.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00492" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00483.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00493" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00484.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00494" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00485.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00495" he="2.46mm" wi="28.19mm" file="US20230007271A1-20230105-P00486.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00496" he="2.46mm" wi="28.19mm" file="US20230007271A1-20230105-P00487.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00497" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00488.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00498" he="2.79mm" wi="20.15mm" file="US20230007271A1-20230105-P00489.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00499" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00490.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00500" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00491.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00501" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00492.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00502" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00493.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00503" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00494.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00504" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00495.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00505" he="3.22mm" wi="4.23mm" file="US20230007271A1-20230105-P00496.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00506" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00497.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00507" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00498.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00508" he="2.46mm" wi="15.49mm" file="US20230007271A1-20230105-P00499.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00509" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00500.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00510" he="2.46mm" wi="26.84mm" file="US20230007271A1-20230105-P00501.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00511" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00502.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00512" he="2.46mm" wi="16.59mm" file="US20230007271A1-20230105-P00503.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00513" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00504.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00514" he="2.46mm" wi="37.76mm" file="US20230007271A1-20230105-P00505.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00515" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00506.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00516" he="2.46mm" wi="19.39mm" file="US20230007271A1-20230105-P00507.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00517" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00508.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00518" he="2.46mm" wi="16.26mm" file="US20230007271A1-20230105-P00509.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00519" he="2.46mm" wi="14.14mm" file="US20230007271A1-20230105-P00510.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00520" he="2.46mm" wi="19.05mm" file="US20230007271A1-20230105-P00511.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00521" he="2.46mm" wi="28.96mm" file="US20230007271A1-20230105-P00512.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00522" he="2.46mm" wi="12.36mm" file="US20230007271A1-20230105-P00513.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00523" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00514.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2002;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00524" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00515.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2002;}</entry><entry/></row><row><entry>...</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0022" level="1">5.6 Embodiment #6</heading><p id="p-0304" num="0536">This embodiment describes the coding unit syntax. In this embodiment, the pred_mode_ibc_flag is signaled after the pred_mode_plt_flag and the pred_mode_plt_flag is signaled only when the current prediction mode is MODE_INTRA. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0023" level="2">7.3.7.5 Coding Unit Syntax</heading><p id="p-0305" num="0537"></p><p id="p-0306" num="0000"><tables id="TABLE-US-00026" num="00026"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="245pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType<b>,</b>&#x2009;<img id="CUSTOM-CHARACTER-00525" he="2.46mm" wi="10.92mm" file="US20230007271A1-20230105-P00516.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag | |&#x2009;<img id="CUSTOM-CHARACTER-00526" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00517.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;!( [[cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; !sps_ibc_enabled_flag ) ]]</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00527" he="2.46mm" wi="22.61mm" file="US20230007271A1-20230105-P00518.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00528" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P00519.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00529" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00520.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00530" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00521.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00531" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00522.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00532" he="2.46mm" wi="30.31mm" file="US20230007271A1-20230105-P00523.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 )&#x2009;<img id="CUSTOM-CHARACTER-00533" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00524.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00534" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00525.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00535" he="2.46mm" wi="33.19mm" file="US20230007271A1-20230105-P00526.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00536" he="2.46mm" wi="35.98mm" file="US20230007271A1-20230105-P00527.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00537" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00528.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00538" he="2.79mm" wi="20.15mm" file="US20230007271A1-20230105-P00529.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00539" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00530.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00540" he="2.46mm" wi="26.84mm" file="US20230007271A1-20230105-P00531.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00541" he="2.46mm" wi="14.14mm" file="US20230007271A1-20230105-P00532.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00542" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00533.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00543" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00534.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00544" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00535.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry><entry/></row><row><entry>[[ if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = = 0 ) )</entry><entry/></row><row><entry>) ) &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) )]]</entry><entry/></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00545" he="2.46mm" wi="32.85mm" file="US20230007271A1-20230105-P00536.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00546" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00537.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00547" he="2.46mm" wi="15.92mm" file="US20230007271A1-20230105-P00538.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00548" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00539.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00549" he="2.46mm" wi="29.63mm" file="US20230007271A1-20230105-P00540.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00550" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00541.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00551" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00542.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00552" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00543.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00553" he="2.46mm" wi="33.53mm" file="US20230007271A1-20230105-P00544.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00554" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00545.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00555" he="2.79mm" wi="20.15mm" file="US20230007271A1-20230105-P00546.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00556" he="2.46mm" wi="33.87mm" file="US20230007271A1-20230105-P00547.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00557" he="2.46mm" wi="27.86mm" file="US20230007271A1-20230105-P00548.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00558" he="2.46mm" wi="29.29mm" file="US20230007271A1-20230105-P00549.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00559" he="2.46mm" wi="12.36mm" file="US20230007271A1-20230105-P00550.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00560" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00551.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2002;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00561" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00552.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;}</entry><entry/></row><row><entry>...</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0024" level="1">5.7 Embodiment #7</heading><p id="p-0307" num="0538">This embodiment describes the coding unit syntax. In this embodiment, the pred_mode_plt_flag and pred_mode_ibc_flag are signaled when the prediction mode is MODE_INTRA. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0025" level="2">7.3.7.5 Coding Unit Syntax</heading><p id="p-0308" num="0539"></p><p id="p-0309" num="0000"><tables id="TABLE-US-00027" num="00027"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="245pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType<b>,</b>&#x2009;<img id="CUSTOM-CHARACTER-00562" he="3.22mm" wi="12.02mm" file="US20230007271A1-20230105-P00553.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;{</entry><entry/></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag <b>| |</b>&#x2009;<img id="CUSTOM-CHARACTER-00563" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00554.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;!( [[cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; !sps_ibc_enabled_flag ) ]]</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00564" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00555.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00565" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P00556.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00566" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00557.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00567" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00558.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00568" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P00559.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00569" he="2.46mm" wi="30.31mm" file="US20230007271A1-20230105-P00560.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 )&#x2009;<img id="CUSTOM-CHARACTER-00570" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00561.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00571" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00562.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>[[ if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = = 0 ) )</entry><entry/></row><row><entry>) ) &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;sbs_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) )]]</entry><entry/></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00572" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00563.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00573" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00564.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00574" he="2.46mm" wi="12.70mm" file="US20230007271A1-20230105-P00565.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<b>| |</b></entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00575" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00566.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00576" he="2.46mm" wi="26.84mm" file="US20230007271A1-20230105-P00567.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00577" he="2.46mm" wi="20.15mm" file="US20230007271A1-20230105-P00568.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<b>| |</b></entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00578" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00569.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00579" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00570.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00580" he="2.46mm" wi="33.53mm" file="US20230007271A1-20230105-P00571.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00581" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00572.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00582" he="2.79mm" wi="20.15mm" file="US20230007271A1-20230105-P00573.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00583" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00574.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00584" he="2.46mm" wi="25.40mm" file="US20230007271A1-20230105-P00575.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00585" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00494.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00586" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00576.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00587" he="2.46mm" wi="13.80mm" file="US20230007271A1-20230105-P00577.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00588" he="2.46mm" wi="32.43mm" file="US20230007271A1-20230105-P00578.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00589" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00579.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00590" he="2.46mm" wi="28.19mm" file="US20230007271A1-20230105-P00580.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00591" he="2.46mm" wi="20.15mm" file="US20230007271A1-20230105-P00581.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00592" he="2.79mm" wi="24.38mm" file="US20230007271A1-20230105-P00582.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00593" he="2.79mm" wi="16.59mm" file="US20230007271A1-20230105-P00583.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00594" he="2.46mm" wi="26.84mm" file="US20230007271A1-20230105-P00584.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00595" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00585.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00596" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00586.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00597" he="2.46mm" wi="14.14mm" file="US20230007271A1-20230105-P00587.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00598" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00588.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00599" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00589.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00600" he="2.46mm" wi="5.67mm" file="US20230007271A1-20230105-P00590.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry><entry/></row><row><entry>...</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0026" level="1">5.8 Embodiment #8</heading><p id="p-0310" num="0540">This embodiment describes the coding unit syntax. In this embodiment, the pred_mode_plt_flag and pred_mode_ibc_flag are signaled when the prediction mode is not MODE_INTRA. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0027" level="2">7.3.7.5 Coding Unit Syntax</heading><p id="p-0311" num="0541"></p><p id="p-0312" num="0000"><tables id="TABLE-US-00028" num="00028"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="245pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType<b>,</b>&#x2009;<img id="CUSTOM-CHARACTER-00601" he="2.46mm" wi="10.92mm" file="US20230007271A1-20230105-P00591.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag | |&#x2009;<img id="CUSTOM-CHARACTER-00602" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00592.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;!( [[cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; !sps_ibc_enabled_flag ) ]]</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00603" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00593.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00604" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00594.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00605" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00595.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00606" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00495.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00607" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00596.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00608" he="2.46mm" wi="30.31mm" file="US20230007271A1-20230105-P00597.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 )&#x2009;<img id="CUSTOM-CHARACTER-00609" he="2.46mm" wi="19.39mm" file="US20230007271A1-20230105-P00598.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00610" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00599.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>[[ if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = = 0 ) )</entry><entry/></row><row><entry>) ) &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) )]]</entry><entry/></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00611" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00600.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00612" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00601.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00613" he="2.46mm" wi="14.82mm" file="US20230007271A1-20230105-P00602.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00614" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00603.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00615" he="2.46mm" wi="28.96mm" file="US20230007271A1-20230105-P00604.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00616" he="2.46mm" wi="19.05mm" file="US20230007271A1-20230105-P00605.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00617" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00606.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00618" he="2.46mm" wi="20.15mm" file="US20230007271A1-20230105-P00607.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00619" he="2.46mm" wi="33.53mm" file="US20230007271A1-20230105-P00608.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00620" he="2.46mm" wi="28.19mm" file="US20230007271A1-20230105-P00609.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00621" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00610.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00622" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00611.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00623" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00612.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00624" he="2.46mm" wi="13.80mm" file="US20230007271A1-20230105-P00577.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00625" he="2.46mm" wi="25.74mm" file="US20230007271A1-20230105-P00613.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00626" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00614.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00627" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00615.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00628" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00616.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00629" he="2.46mm" wi="27.52mm" file="US20230007271A1-20230105-P00617.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00630" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00618.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00631" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P00619.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00632" he="2.46mm" wi="16.26mm" file="US20230007271A1-20230105-P00620.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00633" he="2.46mm" wi="26.84mm" file="US20230007271A1-20230105-P00621.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00634" he="2.46mm" wi="22.61mm" file="US20230007271A1-20230105-P00622.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00635" he="2.46mm" wi="19.39mm" file="US20230007271A1-20230105-P00623.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00636" he="2.46mm" wi="13.80mm" file="US20230007271A1-20230105-P00624.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00637" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00625.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00638" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00626.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00639" he="2.46mm" wi="5.33mm" file="US20230007271A1-20230105-P00627.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry><entry/></row><row><entry>...</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0028" level="1">5.9 Embodiment #9</heading><p id="p-0313" num="0542">This embodiment describes the coding unit syntax. In this embodiment, the pred_mode_plt_flag and pred_mode_ibc_flag are signaled when the prediction mode is MODE_INTER. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0029" level="2">7.3.7.5 Coding Unit Syntax</heading><p id="p-0314" num="0543"></p><p id="p-0315" num="0000"><tables id="TABLE-US-00029" num="00029"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="238pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType<b>,</b>&#x2009;<img id="CUSTOM-CHARACTER-00640" he="2.46mm" wi="10.92mm" file="US20230007271A1-20230105-P00628.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag | |&#x2009;<img id="CUSTOM-CHARACTER-00641" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00629.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;!( [[cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; !sps_ibc_enabled_flag ) ]]</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00642" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00630.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00643" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P00631.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00644" he="2.79mm" wi="17.61mm" file="US20230007271A1-20230105-P00632.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00645" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00633.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00646" he="2.79mm" wi="1.10mm" file="US20230007271A1-20230105-P00634.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00647" he="2.46mm" wi="30.31mm" file="US20230007271A1-20230105-P00635.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 )&#x2009;<img id="CUSTOM-CHARACTER-00648" he="2.46mm" wi="19.05mm" file="US20230007271A1-20230105-P00636.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00649" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00637.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>[[ if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =</entry><entry/></row><row><entry>0 ) ) ) ) &#x26;&#x26;</entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != ) )]]</entry><entry/></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00650" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00638.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00651" he="2.46mm" wi="19.39mm" file="US20230007271A1-20230105-P00639.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00652" he="3.22mm" wi="17.61mm" file="US20230007271A1-20230105-P00640.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00653" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00641.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00654" he="2.46mm" wi="26.08mm" file="US20230007271A1-20230105-P00642.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00655" he="2.46mm" wi="22.61mm" file="US20230007271A1-20230105-P00643.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00656" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00644.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00657" he="2.46mm" wi="15.49mm" file="US20230007271A1-20230105-P00645.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00658" he="2.46mm" wi="33.19mm" file="US20230007271A1-20230105-P00646.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00659" he="3.56mm" wi="23.28mm" file="US20230007271A1-20230105-P00647.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00660" he="2.46mm" wi="19.39mm" file="US20230007271A1-20230105-P00648.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00661" he="2.46mm" wi="66.72mm" file="US20230007271A1-20230105-P00649.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00662" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P00650.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00663" he="2.46mm" wi="27.86mm" file="US20230007271A1-20230105-P00651.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00664" he="2.46mm" wi="29.97mm" file="US20230007271A1-20230105-P00652.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00665" he="2.46mm" wi="12.36mm" file="US20230007271A1-20230105-P00653.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00666" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00654.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00667" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00655.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00668" he="2.46mm" wi="27.52mm" file="US20230007271A1-20230105-P00656.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00669" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P00657.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00670" he="2.12mm" wi="19.39mm" file="US20230007271A1-20230105-P00658.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00671" he="2.46mm" wi="16.26mm" file="US20230007271A1-20230105-P00659.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00672" he="2.46mm" wi="26.84mm" file="US20230007271A1-20230105-P00660.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00673" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00661.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00674" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P00662.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry><img id="CUSTOM-CHARACTER-00675" he="2.46mm" wi="13.80mm" file="US20230007271A1-20230105-P00663.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00676" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00664.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00677" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00665.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00678" he="3.22mm" wi="6.69mm" file="US20230007271A1-20230105-P00666.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry><entry/></row><row><entry>...</entry><entry/></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0030" level="1">5.10 Embodiment #10</heading><p id="p-0316" num="0544">This embodiment describes the semantic of the pred_mode_plt_flag. The newly added texts are bold italicized. <img id="CUSTOM-CHARACTER-00679" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00667.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00680" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00668.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00681" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00669.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00682" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00670.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00683" he="3.22mm" wi="34.21mm" file="US20230007271A1-20230105-P00671.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00684" he="3.22mm" wi="27.18mm" file="US20230007271A1-20230105-P00672.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00685" he="3.22mm" wi="32.09mm" file="US20230007271A1-20230105-P00673.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00686" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00674.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00687" he="3.22mm" wi="34.21mm" file="US20230007271A1-20230105-P00675.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00688" he="3.22mm" wi="27.18mm" file="US20230007271A1-20230105-P00676.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00689" he="3.22mm" wi="30.31mm" file="US20230007271A1-20230105-P00677.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00690" he="3.22mm" wi="31.07mm" file="US20230007271A1-20230105-P00678.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00691" he="3.22mm" wi="34.97mm" file="US20230007271A1-20230105-P00679.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00692" he="3.22mm" wi="23.96mm" file="US20230007271A1-20230105-P00680.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00693" he="3.22mm" wi="32.09mm" file="US20230007271A1-20230105-P00681.TIF" alt="custom-character" img-content="character" img-format="tif"/></p><heading id="h-0031" level="1">5.11 Embodiment #11</heading><p id="p-0317" num="0545">This embodiment describes the semantic of the pred_mode_plt_flag. The newly added texts are bold italicized. <img id="CUSTOM-CHARACTER-00694" he="3.22mm" wi="40.22mm" file="US20230007271A1-20230105-P00682.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00695" he="3.22mm" wi="33.53mm" file="US20230007271A1-20230105-P00683.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00696" he="3.22mm" wi="37.76mm" file="US20230007271A1-20230105-P00684.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00697" he="3.22mm" wi="34.21mm" file="US20230007271A1-20230105-P00685.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00698" he="3.22mm" wi="27.18mm" file="US20230007271A1-20230105-P00686.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00699" he="3.22mm" wi="28.96mm" file="US20230007271A1-20230105-P00687.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00700" he="3.22mm" wi="26.08mm" file="US20230007271A1-20230105-P00688.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00701" he="3.22mm" wi="34.21mm" file="US20230007271A1-20230105-P00689.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00702" he="3.22mm" wi="27.18mm" file="US20230007271A1-20230105-P00690.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00703" he="3.22mm" wi="30.31mm" file="US20230007271A1-20230105-P00691.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00704" he="3.22mm" wi="31.07mm" file="US20230007271A1-20230105-P00692.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00705" he="3.22mm" wi="34.97mm" file="US20230007271A1-20230105-P00693.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00706" he="3.22mm" wi="23.96mm" file="US20230007271A1-20230105-P00694.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00707" he="3.22mm" wi="32.09mm" file="US20230007271A1-20230105-P00695.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00708" he="3.22mm" wi="34.97mm" file="US20230007271A1-20230105-P00696.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00709" he="3.22mm" wi="33.19mm" file="US20230007271A1-20230105-P00697.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00710" he="3.22mm" wi="28.96mm" file="US20230007271A1-20230105-P00698.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00711" he="3.22mm" wi="25.06mm" file="US20230007271A1-20230105-P00699.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00712" he="3.22mm" wi="35.98mm" file="US20230007271A1-20230105-P00700.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00713" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00701.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00714" he="3.22mm" wi="31.07mm" file="US20230007271A1-20230105-P00702.TIF" alt="custom-character" img-content="character" img-format="tif"/></p><heading id="h-0032" level="1">5.12 Embodiment #12</heading><p id="p-0318" num="0546">This embodiment describes the boundary strength derivation. The newly added texts are bold italicized.</p><heading id="h-0033" level="2">8.8.3.5 Derivation Process of Boundary Filtering Strength</heading><p id="p-0319" num="0547">Inputs to this process are:<br/>a picture sample array recPicture,<br/>a location (xCb, yCb) specifying the top-left sample of the current coding block relative to the top-left sample of the current picture,<br/>a variable nCbW specifying the width of the current coding block,<br/>a variable nCbH specifying the height of the current coding block,<br/>a variable edgeType specifying whether a vertical (EDGE_VER) or a horizontal (EDGE_HOR) edge is filtered,<br/>a variable cIdx specifying the colour component of the current coding block,<br/>a two-dimensional (nCbW)&#xd7;(nCbH) array edgeFlags.<br/>Output of this process is a two-dimensional (nCbW)&#xd7;(nCbH) array bS specifying the boundary filtering strength.<br/>The variable bS[xD<sub>i</sub>][yD<sub>j</sub>] is derived as follows:<br/>If cIdx is equal to 0 and both samples p<sub>0 </sub>and q<sub>0 </sub>are in a coding block with intra_bdpcm_flag equal to 1, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 0.<br/>Otherwise, if the sample p<sub>0 </sub>or q<sub>0 </sub>is in the coding block of a coding unit coded with intra prediction mode, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 2.<br/>Otherwise, if the block edge is also a transform block edge and the sample p<sub>0 </sub>or q<sub>0 </sub>is in a coding block with ciip_flag equal to 1, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 2.<br/>Otherwise, if the block edge is also a transform block edge and the sample p<sub>0 </sub>or q<sub>0 </sub>is in a transform block which contains one or more non-zero transform coefficient levels, bS [xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 1. <img id="CUSTOM-CHARACTER-00715" he="3.22mm" wi="36.66mm" file="US20230007271A1-20230105-P00703.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00716" he="3.22mm" wi="32.85mm" file="US20230007271A1-20230105-P00704.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00717" he="3.22mm" wi="26.84mm" file="US20230007271A1-20230105-P00705.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00718" he="3.22mm" wi="17.61mm" file="US20230007271A1-20230105-P00706.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00719" he="3.22mm" wi="17.27mm" file="US20230007271A1-20230105-P00707.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00720" he="3.22mm" wi="18.71mm" file="US20230007271A1-20230105-P00708.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00721" he="3.22mm" wi="18.37mm" file="US20230007271A1-20230105-P00709.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00722" he="2.79mm" wi="16.93mm" file="US20230007271A1-20230105-P00710.TIF" alt="custom-character" img-content="character" img-format="tif"/><br/>Otherwise, if the prediction mode of the coding subblock containing the sample p<sub>0 </sub>is different from the prediction mode of the coding subblock containing the sample q<sub>0</sub>, bS [xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 1.<br/>Otherwise, if cIdx is equal to 0 and one or more of the following conditions are true, bS [xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 1:</p><p id="p-0320" num="0548">The coding subblock containing the sample p<sub>0 </sub>and the coding subblock containing the sample q<sub>0 </sub>are both coded in IBC prediction mode, and the absolute difference between the horizontal or vertical component of the motion vectors used in the prediction of the two coding subblocks is greater than or equal to 4 in units of quarter luma samples.</p><p id="p-0321" num="0000">For the prediction of the coding subblock containing the sample p<sub>0 </sub>different reference pictures or a different number of motion vectors are used than for the prediction of the coding subblock containing the sample q<sub>0</sub>.<br/>NOTE 1&#x2014;The determination of whether the reference pictures used for the two coding sublocks are the same or different is based only on which pictures are referenced, without regard to whether a prediction is formed using an index into reference picture list 0 or an index into reference picture list 1, and also without regard to whether the index position within a reference picture list is different.<br/>NOTE 2&#x2014;The number of motion vectors that are used for the prediction of a coding subblock with top-left sample covering (xSb, ySb), is equal to PredFlagL0[xSb][ySb]+PredFlagL1[xSb][ySb].</p><p id="p-0322" num="0549">One motion vector is used to predict the coding subblock containing the sample p<sub>0 </sub>and one motion vector is used to predict the coding subblock containing the sample q<sub>0</sub>, and the absolute difference between the horizontal or vertical component of the motion vectors used is greater than or equal to 4 in units of quarter luma samples.</p><p id="p-0323" num="0550">Two motion vectors and two different reference pictures are used to predict the coding subblock containing the sample p<sub>0</sub>, two motion vectors for the same two reference pictures are used to predict the coding subblock containing the sample q<sub>0 </sub>and the absolute difference between the horizontal or vertical component of the two motion vectors used in the prediction of the two coding subblocks for the same reference picture is greater than or equal to 4 in units of quarter luma samples.</p><p id="p-0324" num="0000">Two motion vectors for the same reference picture are used to predict the coding subblock containing the sample p<sub>0</sub>, two motion vectors for the same reference picture are used to predict the coding subblock containing the sample q<sub>0 </sub>and both of the following conditions are true:<br/>The absolute difference between the horizontal or vertical component of list 0 motion vectors used in the prediction of the two coding subblocks is greater than or equal to 4 in quarter luma samples, or the absolute difference between the horizontal or vertical component of the list 1 motion vectors used in the prediction of the two coding subblocks is greater than or equal to 4 in units of quarter luma samples.<br/>The absolute difference between the horizontal or vertical component of list 0 motion vector used in the prediction of the coding subblock containing the sample p<sub>0 </sub>and the list 1 motion vector used in the prediction of the coding subblock containing the sample q<sub>0 </sub>is greater than or equal to 4 in units of quarter luma samples, or the absolute difference between the horizontal or vertical component of the list 1 motion vector used in the prediction of the coding subblock containing the sample p<sub>0 </sub>and list 0 motion vector used in the prediction of the coding subblock containing the sample q<sub>0 </sub>is greater than or equal to 4 in units of quarter luma samples.<br/>Otherwise, the variable bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 0.</p><heading id="h-0034" level="1">5.13a Embodiment #13a</heading><p id="p-0325" num="0551">This embodiment describes the boundary strength derivation. The newly added texts are bold italicized.</p><heading id="h-0035" level="2">8.8.3.5 Derivation Process of Boundary Filtering Strength</heading><p id="p-0326" num="0552">Inputs to this process are:<br/>a picture sample array recPicture,<br/>a location (xCb, yCb) specifying the top-left sample of the current coding block relative to the top-left sample of the current picture,<br/>a variable nCbW specifying the width of the current coding block,<br/>a variable nCbH specifying the height of the current coding block,<br/>a variable edgeType specifying whether a vertical (EDGE_VER) or a horizontal (EDGE_HOR) edge is filtered,<br/>a variable cIdx specifying the colour component of the current coding block,<br/>a two-dimensional (nCbW)&#xd7;(nCbH) array edgeFlags.<br/>Output of this process is a two-dimensional (nCbW)&#xd7;(nCbH) array bS specifying the boundary filtering strength.<br/>The variable bS[xD<sub>i</sub>][yD<sub>j</sub>] is derived as follows:<br/>If cIdx is equal to 0 and both samples p<sub>0 </sub>and q<sub>0 </sub>are in a coding block with intra_bdpcm_flag equal to 1, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 0.<br/>Otherwise, if the sample p<sub>0 </sub>or q<sub>0 </sub>is in the coding block of a coding unit coded with intra prediction mode, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 2.<br/>Otherwise, if the block edge is also a transform block edge and the sample p<sub>0 </sub>or q<sub>0 </sub>is in a coding block with ciip_flag equal to 1, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 2.<br/>Otherwise, if the block edge is also a transform block edge and the sample p<sub>0 </sub>or q<sub>0 </sub>is in a transform block which contains one or more non-zero transform coefficient levels, bS [xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 1.</p><p id="p-0327" num="0553"><img id="CUSTOM-CHARACTER-00723" he="3.22mm" wi="29.97mm" file="US20230007271A1-20230105-P00711.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00724" he="3.22mm" wi="31.41mm" file="US20230007271A1-20230105-P00712.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00725" he="3.22mm" wi="34.54mm" file="US20230007271A1-20230105-P00713.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00726" he="3.22mm" wi="28.19mm" file="US20230007271A1-20230105-P00714.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00727" he="3.22mm" wi="14.82mm" file="US20230007271A1-20230105-P00715.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00728" he="3.22mm" wi="40.89mm" file="US20230007271A1-20230105-P00716.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00729" he="3.56mm" wi="40.89mm" file="US20230007271A1-20230105-P00717.TIF" alt="custom-character" img-content="character" img-format="tif"/></p><p id="p-0328" num="0000">Otherwise, if the prediction mode of the coding subblock containing the sample p<sub>0 </sub>is different from the prediction mode of the coding subblock containing the sample q<sub>0</sub>, bS [xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 1.<br/>Otherwise, if cIdx is equal to 0 and one or more of the following conditions are true, bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 1:<br/>The coding subblock containing the sample p<sub>0 </sub>and the coding subblock containing the sample q<sub>0 </sub>are both coded in IBC prediction mode, and the absolute difference between the horizontal or vertical component of the motion vectors used in the prediction of the two coding subblocks is greater than or equal to 4 in units of quarter luma samples.<br/>For the prediction of the coding subblock containing the sample p<sub>0 </sub>different reference pictures or a different number of motion vectors are used than for the prediction of the coding subblock containing the sample q<sub>0</sub>.<br/>NOTE 1&#x2014;The determination of whether the reference pictures used for the two coding sublocks are the same or different is based only on which pictures are referenced, without regard to whether a prediction is formed using an index into reference picture list 0 or an index into reference picture list 1, and also without regard to whether the index position within a reference picture list is different.<br/>NOTE 2&#x2014;The number of motion vectors that are used for the prediction of a coding subblock with top-left sample covering (xSb, ySb), is equal to PredFlagL0[xSb][ySb]+PredFlagL1[xSb][ySb].<br/>One motion vector is used to predict the coding subblock containing the sample p<sub>0 </sub>and one motion vector is used to predict the coding subblock containing the sample q<sub>0</sub>, and the absolute difference between the horizontal or vertical component of the motion vectors used is greater than or equal to 4 in units of quarter luma samples.<br/>Two motion vectors and two different reference pictures are used to predict the coding subblock containing the sample p<sub>0</sub>, two motion vectors for the same two reference pictures are used to predict the coding subblock containing the sample q<sub>0 </sub>and the absolute difference between the horizontal or vertical component of the two motion vectors used in the prediction of the two coding subblocks for the same reference picture is greater than or equal to 4 in units of quarter luma samples.<br/>Two motion vectors for the same reference picture are used to predict the coding subblock containing the sample p<sub>0</sub>, two motion vectors for the same reference picture are used to predict the coding subblock containing the sample q<sub>0 </sub>and both of the following conditions are true:<br/>The absolute difference between the horizontal or vertical component of list 0 motion vectors used in the prediction of the two coding subblocks is greater than or equal to 4 in quarter luma samples, or the absolute difference between the horizontal or vertical component of the list 1 motion vectors used in the prediction of the two coding subblocks is greater than or equal to 4 in units of quarter luma samples.<br/>The absolute difference between the horizontal or vertical component of list 0 motion vector used in the prediction of the coding subblock containing the sample p<sub>0 </sub>and the list 1 motion vector used in the prediction of the coding subblock containing the sample q<sub>0 </sub>is greater than or equal to 4 in units of quarter luma samples, or the absolute difference between the horizontal or vertical component of the list 1 motion vector used in the prediction of the coding subblock containing the sample p<sub>0 </sub>and list 0 motion vector used in the prediction of the coding subblock containing the sample q<sub>0 </sub>is greater than or equal to 4 in units of quarter luma samples.<br/>Otherwise, the variable bS[xD<sub>i</sub>][yD<sub>j</sub>] is set equal to 0.</p><heading id="h-0036" level="1">5.13b Embodiment #13b</heading><p id="p-0329" num="0554">This embodiment describes escape samples coding and reconstruction. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><p id="p-0330" num="0000"><tables id="TABLE-US-00030" num="00030"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="140pt" align="left"/><colspec colname="2" colwidth="77pt" align="left"/><thead><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="3"><colspec colname="1" colwidth="42pt" align="left"/><colspec colname="2" colwidth="98pt" align="left"/><colspec colname="3" colwidth="77pt" align="left"/><tbody valign="top"><row><entry/><entry><img id="CUSTOM-CHARACTER-00730" he="3.22mm" wi="17.27mm" file="US20230007271A1-20230105-P00718.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00731" he="3.22mm" wi="14.48mm" file="US20230007271A1-20230105-P00719.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00732" he="2.79mm" wi="19.73mm" file="US20230007271A1-20230105-P00720.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><b>...</b></entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00733" he="2.79mm" wi="20.15mm" file="US20230007271A1-20230105-P00721.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00734" he="2.46mm" wi="39.88mm" file="US20230007271A1-20230105-P00722.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00735" he="2.79mm" wi="16.93mm" file="US20230007271A1-20230105-P00723.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00736" he="3.22mm" wi="22.61mm" file="US20230007271A1-20230105-P00724.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00737" he="3.22mm" wi="8.47mm" file="US20230007271A1-20230105-P00725.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00738" he="2.79mm" wi="14.48mm" file="US20230007271A1-20230105-P00726.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00739" he="2.79mm" wi="14.82mm" file="US20230007271A1-20230105-P00727.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00740" he="3.22mm" wi="9.14mm" file="US20230007271A1-20230105-P00728.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00741" he="2.46mm" wi="15.92mm" file="US20230007271A1-20230105-P00729.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00742" he="3.56mm" wi="23.96mm" file="US20230007271A1-20230105-P00730.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00743" he="2.79mm" wi="16.26mm" file="US20230007271A1-20230105-P00731.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00744" he="3.22mm" wi="18.71mm" file="US20230007271A1-20230105-P00732.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00745" he="3.22mm" wi="19.39mm" file="US20230007271A1-20230105-P00733.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00746" he="3.22mm" wi="17.27mm" file="US20230007271A1-20230105-P00734.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00747" he="3.22mm" wi="15.92mm" file="US20230007271A1-20230105-P00735.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00748" he="2.46mm" wi="20.15mm" file="US20230007271A1-20230105-P00736.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry>[[ae(v)</entry></row><row><entry/><entry/><entry>]]&#x2009;<img id="CUSTOM-CHARACTER-00749" he="2.46mm" wi="4.23mm" file="US20230007271A1-20230105-P00737.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00750" he="3.22mm" wi="21.17mm" file="US20230007271A1-20230105-P00738.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00751" he="3.22mm" wi="11.26mm" file="US20230007271A1-20230105-P00739.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00752" he="2.46mm" wi="20.15mm" file="US20230007271A1-20230105-P00740.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00753" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00741.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00754" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00742.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00755" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00743.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry/></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00756" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00744.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry namest="1" nameend="3" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0331" num="0555"><img id="CUSTOM-CHARACTER-00757" he="3.22mm" wi="25.06mm" file="US20230007271A1-20230105-P00745.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00758" he="3.22mm" wi="15.16mm" file="US20230007271A1-20230105-P00746.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00759" he="3.22mm" wi="30.31mm" file="US20230007271A1-20230105-P00747.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00760" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00748.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00761" he="3.22mm" wi="25.40mm" file="US20230007271A1-20230105-P00749.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00762" he="3.22mm" wi="32.09mm" file="US20230007271A1-20230105-P00750.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00763" he="3.22mm" wi="22.94mm" file="US20230007271A1-20230105-P00751.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00764" he="3.22mm" wi="23.96mm" file="US20230007271A1-20230105-P00752.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00765" he="3.22mm" wi="25.74mm" file="US20230007271A1-20230105-P00753.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00766" he="3.22mm" wi="24.38mm" file="US20230007271A1-20230105-P00754.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00767" he="3.22mm" wi="28.19mm" file="US20230007271A1-20230105-P00755.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00768" he="3.22mm" wi="35.64mm" file="US20230007271A1-20230105-P00756.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00769" he="3.22mm" wi="30.31mm" file="US20230007271A1-20230105-P00757.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00770" he="3.22mm" wi="25.74mm" file="US20230007271A1-20230105-P00758.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00771" he="3.22mm" wi="23.62mm" file="US20230007271A1-20230105-P00759.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00772" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P00760.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00773" he="3.56mm" wi="35.31mm" file="US20230007271A1-20230105-P00761.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00774" he="3.56mm" wi="28.96mm" file="US20230007271A1-20230105-P00762.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00775" he="2.79mm" wi="24.72mm" file="US20230007271A1-20230105-P00763.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00776" he="3.56mm" wi="15.92mm" file="US20230007271A1-20230105-P00764.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00777" he="3.22mm" wi="31.75mm" file="US20230007271A1-20230105-P00765.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00778" he="3.56mm" wi="38.10mm" file="US20230007271A1-20230105-P00766.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00779" he="3.22mm" wi="28.62mm" file="US20230007271A1-20230105-P00767.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00780" he="3.22mm" wi="21.51mm" file="US20230007271A1-20230105-P00768.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00781" he="3.56mm" wi="32.09mm" file="US20230007271A1-20230105-P00769.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00782" he="3.56mm" wi="36.66mm" file="US20230007271A1-20230105-P00770.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00783" he="3.22mm" wi="33.87mm" file="US20230007271A1-20230105-P00771.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00784" he="3.56mm" wi="29.63mm" file="US20230007271A1-20230105-P00772.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00785" he="3.56mm" wi="39.20mm" file="US20230007271A1-20230105-P00773.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00786" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P00774.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00787" he="3.22mm" wi="9.91mm" file="US20230007271A1-20230105-P00775.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00788" he="3.22mm" wi="23.28mm" file="US20230007271A1-20230105-P00776.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00789" he="3.22mm" wi="24.72mm" file="US20230007271A1-20230105-P00777.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00790" he="3.22mm" wi="31.41mm" file="US20230007271A1-20230105-P00778.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00791" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00779.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00792" he="3.22mm" wi="28.19mm" file="US20230007271A1-20230105-P00780.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00793" he="3.22mm" wi="39.20mm" file="US20230007271A1-20230105-P00781.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00794" he="3.22mm" wi="27.18mm" file="US20230007271A1-20230105-P00782.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00795" he="3.22mm" wi="34.97mm" file="US20230007271A1-20230105-P00783.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00796" he="3.22mm" wi="16.26mm" file="US20230007271A1-20230105-P00784.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00797" he="3.22mm" wi="28.62mm" file="US20230007271A1-20230105-P00785.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00798" he="3.22mm" wi="31.07mm" file="US20230007271A1-20230105-P00786.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00799" he="3.22mm" wi="31.75mm" file="US20230007271A1-20230105-P00787.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00800" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00788.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00801" he="3.22mm" wi="16.93mm" file="US20230007271A1-20230105-P00789.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00802" he="3.22mm" wi="14.82mm" file="US20230007271A1-20230105-P00790.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00803" he="2.79mm" wi="15.92mm" file="US20230007271A1-20230105-P00791.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00804" he="3.22mm" wi="19.05mm" file="US20230007271A1-20230105-P00792.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00805" he="2.79mm" wi="38.44mm" file="US20230007271A1-20230105-P00793.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00806" he="3.22mm" wi="31.07mm" file="US20230007271A1-20230105-P00794.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00807" he="2.79mm" wi="29.63mm" file="US20230007271A1-20230105-P00795.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00808" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00796.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00809" he="3.22mm" wi="28.19mm" file="US20230007271A1-20230105-P00797.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00810" he="3.22mm" wi="33.87mm" file="US20230007271A1-20230105-P00798.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00811" he="3.22mm" wi="38.78mm" file="US20230007271A1-20230105-P00799.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00812" he="3.22mm" wi="21.84mm" file="US20230007271A1-20230105-P00800.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00813" he="3.22mm" wi="28.96mm" file="US20230007271A1-20230105-P00801.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00814" he="3.22mm" wi="39.20mm" file="US20230007271A1-20230105-P00802.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00815" he="3.22mm" wi="23.28mm" file="US20230007271A1-20230105-P00803.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00816" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00804.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00817" he="3.22mm" wi="40.56mm" file="US20230007271A1-20230105-P00805.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00818" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00806.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00819" he="2.46mm" wi="32.09mm" file="US20230007271A1-20230105-P00807.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00820" he="3.22mm" wi="33.19mm" file="US20230007271A1-20230105-P00808.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00821" he="3.22mm" wi="34.54mm" file="US20230007271A1-20230105-P00809.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00822" he="3.22mm" wi="20.83mm" file="US20230007271A1-20230105-P00810.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00823" he="3.22mm" wi="43.01mm" file="US20230007271A1-20230105-P00811.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00824" he="3.22mm" wi="40.89mm" file="US20230007271A1-20230105-P00812.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00825" he="3.22mm" wi="28.62mm" file="US20230007271A1-20230105-P00813.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00826" he="3.22mm" wi="31.41mm" file="US20230007271A1-20230105-P00814.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00827" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00815.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00828" he="3.22mm" wi="21.84mm" file="US20230007271A1-20230105-P00816.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00829" he="3.22mm" wi="23.96mm" file="US20230007271A1-20230105-P00817.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00830" he="3.22mm" wi="25.74mm" file="US20230007271A1-20230105-P00818.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00831" he="3.22mm" wi="30.73mm" file="US20230007271A1-20230105-P00819.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00832" he="3.22mm" wi="33.87mm" file="US20230007271A1-20230105-P00820.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00833" he="3.22mm" wi="40.89mm" file="US20230007271A1-20230105-P00821.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00834" he="1.78mm" wi="2.12mm" file="US20230007271A1-20230105-P00822.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00835" he="3.22mm" wi="37.08mm" file="US20230007271A1-20230105-P00823.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00836" he="3.22mm" wi="34.97mm" file="US20230007271A1-20230105-P00824.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00837" he="3.22mm" wi="28.62mm" file="US20230007271A1-20230105-P00825.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00838" he="3.22mm" wi="38.10mm" file="US20230007271A1-20230105-P00826.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00839" he="3.22mm" wi="30.31mm" file="US20230007271A1-20230105-P00827.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00840" he="3.22mm" wi="32.85mm" file="US20230007271A1-20230105-P00828.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00841" he="3.22mm" wi="38.44mm" file="US20230007271A1-20230105-P00829.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00842" he="3.22mm" wi="41.99mm" file="US20230007271A1-20230105-P00830.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00843" he="3.22mm" wi="40.89mm" file="US20230007271A1-20230105-P00831.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00844" he="3.22mm" wi="39.88mm" file="US20230007271A1-20230105-P00832.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00845" he="3.22mm" wi="29.97mm" file="US20230007271A1-20230105-P00833.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00846" he="3.22mm" wi="37.08mm" file="US20230007271A1-20230105-P00834.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00847" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00835.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00848" he="2.46mm" wi="26.84mm" file="US20230007271A1-20230105-P00836.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00849" he="3.22mm" wi="32.09mm" file="US20230007271A1-20230105-P00837.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00850" he="3.22mm" wi="38.44mm" file="US20230007271A1-20230105-P00838.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00851" he="3.22mm" wi="26.08mm" file="US20230007271A1-20230105-P00839.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00852" he="3.22mm" wi="23.96mm" file="US20230007271A1-20230105-P00840.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00853" he="3.22mm" wi="43.77mm" file="US20230007271A1-20230105-P00841.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00854" he="3.22mm" wi="37.08mm" file="US20230007271A1-20230105-P00842.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00855" he="3.22mm" wi="31.75mm" file="US20230007271A1-20230105-P00843.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00856" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00844.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00857" he="3.56mm" wi="44.79mm" file="US20230007271A1-20230105-P00845.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00858" he="3.22mm" wi="40.89mm" file="US20230007271A1-20230105-P00846.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00859" he="3.89mm" wi="44.45mm" file="US20230007271A1-20230105-P00847.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00860" he="3.22mm" wi="39.54mm" file="US20230007271A1-20230105-P00848.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00861" he="3.56mm" wi="42.67mm" file="US20230007271A1-20230105-P00849.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00862" he="3.22mm" wi="29.97mm" file="US20230007271A1-20230105-P00850.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00863" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00851.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00864" he="3.22mm" wi="33.87mm" file="US20230007271A1-20230105-P00852.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00865" he="3.22mm" wi="38.10mm" file="US20230007271A1-20230105-P00853.TIF" alt="custom-character" img-content="character" img-format="tif"/></p><p id="p-0332" num="0000">[[The list levelScale[ ] is specified as levelScale[k]={40, 45, 51, 57, 64, 72} with k=0 . . . 5.]]<br/>The following applies:</p><p id="p-0333" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>[[tmpVal=(PaletteEscapeVal[<i>cIdx</i>][<i>xCb+xL</i>][<i>yCb+yL</i>]levelScale[<i>qP</i>%6])&#x3c;&#x3c;(<i>qP/</i>6)+32)&#x3e;&#x3e;6&#x2003;&#x2003;(8-77)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0334" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>recSamples[<i>x</i>][<i>y</i>]=Clip3(0,(1&#x3c;&#x3c;bitDepth)&#x2212;1,tmpVal)&#x2003;&#x2003;(8-78)]]<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0335" num="0000"> <img id="CUSTOM-CHARACTER-00866" he="2.46mm" wi="31.41mm" file="US20230007271A1-20230105-P00854.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00867" he="3.22mm" wi="26.84mm" file="US20230007271A1-20230105-P00855.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00868" he="3.22mm" wi="30.73mm" file="US20230007271A1-20230105-P00856.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00869" he="3.22mm" wi="24.38mm" file="US20230007271A1-20230105-P00857.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00870" he="3.22mm" wi="17.61mm" file="US20230007271A1-20230105-P00858.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00871" he="3.22mm" wi="35.31mm" file="US20230007271A1-20230105-P00859.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00872" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P00860.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00873" he="3.22mm" wi="28.62mm" file="US20230007271A1-20230105-P00861.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00874" he="3.22mm" wi="32.85mm" file="US20230007271A1-20230105-P00862.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00875" he="3.22mm" wi="23.62mm" file="US20230007271A1-20230105-P00863.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00876" he="2.46mm" wi="37.76mm" file="US20230007271A1-20230105-P00864.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00877" he="3.22mm" wi="31.75mm" file="US20230007271A1-20230105-P00865.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00878" he="3.22mm" wi="29.29mm" file="US20230007271A1-20230105-P00866.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00879" he="3.22mm" wi="25.40mm" file="US20230007271A1-20230105-P00867.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00880" he="3.22mm" wi="29.97mm" file="US20230007271A1-20230105-P00868.TIF" alt="custom-character" img-content="character" img-format="tif"/></p><p id="p-0336" num="0000"><tables id="TABLE-US-00031" num="00031"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="84pt" align="left"/><colspec colname="1" colwidth="133pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry><img id="CUSTOM-CHARACTER-00881" he="2.46mm" wi="10.24mm" file="US20230007271A1-20230105-P00869.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00882" he="2.46mm" wi="22.94mm" file="US20230007271A1-20230105-P00870.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00883" he="2.46mm" wi="20.15mm" file="US20230007271A1-20230105-P00871.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00884" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00872.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00885" he="2.46mm" wi="26.50mm" file="US20230007271A1-20230105-P00873.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00886" he="2.46mm" wi="22.94mm" file="US20230007271A1-20230105-P00874.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00887" he="2.46mm" wi="29.29mm" file="US20230007271A1-20230105-P00875.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00888" he="2.46mm" wi="12.02mm" file="US20230007271A1-20230105-P00876.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00889" he="2.46mm" wi="33.87mm" file="US20230007271A1-20230105-P00877.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00890" he="2.46mm" wi="25.06mm" file="US20230007271A1-20230105-P00878.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00891" he="1.78mm" wi="1.78mm" file="US20230007271A1-20230105-P00879.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00892" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P00880.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00893" he="2.46mm" wi="12.36mm" file="US20230007271A1-20230105-P00881.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00894" he="2.46mm" wi="34.97mm" file="US20230007271A1-20230105-P00882.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00895" he="2.46mm" wi="29.29mm" file="US20230007271A1-20230105-P00883.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00896" he="2.46mm" wi="28.19mm" file="US20230007271A1-20230105-P00884.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00897" he="2.46mm" wi="3.89mm" file="US20230007271A1-20230105-P00885.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00898" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00886.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00899" he="2.46mm" wi="2.79mm" file="US20230007271A1-20230105-P00887.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00900" he="2.46mm" wi="39.20mm" file="US20230007271A1-20230105-P00888.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00901" he="2.46mm" wi="3.89mm" file="US20230007271A1-20230105-P00889.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00902" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00890.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00903" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00891.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00904" he="2.46mm" wi="30.31mm" file="US20230007271A1-20230105-P00892.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00905" he="2.46mm" wi="28.19mm" file="US20230007271A1-20230105-P00893.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00906" he="2.46mm" wi="35.31mm" file="US20230007271A1-20230105-P00894.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00907" he="1.78mm" wi="1.78mm" file="US20230007271A1-20230105-P00895.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00908" he="2.46mm" wi="35.31mm" file="US20230007271A1-20230105-P00896.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00909" he="2.46mm" wi="27.86mm" file="US20230007271A1-20230105-P00897.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00910" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00898.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00911" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00899.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00912" he="2.46mm" wi="19.39mm" file="US20230007271A1-20230105-P00900.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00913" he="2.46mm" wi="25.40mm" file="US20230007271A1-20230105-P00901.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;<img id="CUSTOM-CHARACTER-00914" he="2.46mm" wi="10.24mm" file="US20230007271A1-20230105-P00902.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00915" he="2.12mm" wi="17.27mm" file="US20230007271A1-20230105-P00903.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00916" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00904.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00917" he="2.46mm" wi="25.40mm" file="US20230007271A1-20230105-P00905.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00918" he="2.46mm" wi="16.59mm" file="US20230007271A1-20230105-P00906.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00919" he="2.46mm" wi="35.31mm" file="US20230007271A1-20230105-P00907.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00920" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00908.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00921" he="2.46mm" wi="19.05mm" file="US20230007271A1-20230105-P00909.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00922" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00910.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00923" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P00911.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00924" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P00912.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00925" he="2.46mm" wi="27.18mm" file="US20230007271A1-20230105-P00913.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00926" he="2.46mm" wi="25.06mm" file="US20230007271A1-20230105-P00914.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry><img id="CUSTOM-CHARACTER-00927" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P00915.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00928" he="2.46mm" wi="19.05mm" file="US20230007271A1-20230105-P00916.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00929" he="2.46mm" wi="24.72mm" file="US20230007271A1-20230105-P00917.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0037" level="1">5.14 Embodiment #14</heading><p id="p-0337" num="0556">The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0038" level="2">8.4.5.3 Decoding Process for Palette Mode</heading><p id="p-0338" num="0557">Inputs to this process are:<ul id="ul0103" list-style="none">    <li id="ul0103-0001" num="0000">    <ul id="ul0104" list-style="none">        <li id="ul0104-0001" num="0558">a location (xCb, yCb) specifying the top-left luma sample of the current block relative to the top-left luma sample of the current picture,</li>        <li id="ul0104-0002" num="0559">a variable startComp specifies the first colour component in the palette table,</li>        <li id="ul0104-0003" num="0560">a variable cIdx specifying the colour component of the current block,</li>        <li id="ul0104-0004" num="0561">two variables nCbW and nCbH specifying the width and height of the current block, respectively.<br/>Output of this process is an array recSamples[x][y], with x=0 . . . nCbW&#x2212;1, y=0 . . . nCbH&#x2212;1 specifying reconstructed sample values for the block.<br/>Depending on the value of cIdx, the variables nSubWidth and nSubHeight are derived as follows:</li>        <li id="ul0104-0005" num="0562">If cIdx is equal to 0, nSubWidth is set to 1 and nSubHeight is set to 1.</li>        <li id="ul0104-0006" num="0563">Otherwise, nSubWidth is set to SubWidthC and nSubHeight is set to SubHeightC.<br/>The (nCbW&#xd7;nCbH) block of the reconstructed sample array recSamples at location (xCb, yCb) is represented by recSamples[x][y] with x=0 . . . nCTbW&#x2212;1 and y=0 . . . nCbH&#x2212;1, and the value of recSamples[x][y] for each x in the range of 0 to nCbW&#x2212;1, inclusive, and each yin the range of 0 to nCbH&#x2212;1, inclusive, is derived as follows:</li>        <li id="ul0104-0007" num="0564">The variables xL and yL are derived as follows:</li>    </ul>    </li></ul></p><p id="p-0339" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>xL</i>=palette_transpose_flag ?<i>x</i>*nSubHeight: <i>x*n</i>SubWidth&#x2003;&#x2003;(8-234)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0340" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>yL</i>=palette_transpose_flag ?<i>y</i>*nSubWidth: <i>y*n</i>SubHeight&#x2003;&#x2003;(8-235)<?in-line-formulae description="In-line Formulae" end="tail"?><ul id="ul0105" list-style="none">    <li id="ul0105-0001" num="0000">    <ul id="ul0106" list-style="none">        <li id="ul0106-0001" num="0565">The variable bIsEscapeSample is derived as follows:        <ul id="ul0107" list-style="none">            <li id="ul0107-0001" num="0566">If PaletteIndexMap[xCb+xL][yCb+yL] is equal to MaxPaletteIndex and palette_escape_val_present flag is equal to 1, bIsEscapeSample is set equal to 1.</li>            <li id="ul0107-0002" num="0567">Otherwise, bIsEscapeSample is set equal to 0.</li>        </ul>        </li>        <li id="ul0106-0002" num="0568">If bIsEscapeSample is equal to 0, the following applies:</li>    </ul>    </li></ul></p><p id="p-0341" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>recSamples[<i>x</i>][<i>y</i>]CurrentPaletteEntries[<i>cIdx</i>][PaletteIndexMap[<i>xCb+xL</i>][<i>yCb+yL</i>]]&#x2003;&#x2003;(8-236)<?in-line-formulae description="In-line Formulae" end="tail"?><ul id="ul0108" list-style="none">    <li id="ul0108-0001" num="0000">    <ul id="ul0109" list-style="none">        <li id="ul0109-0001" num="0569">Otherwise, if cu_transquant_bypass flag is equal to 1, the following applies:</li>    </ul>    </li></ul></p><p id="p-0342" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>recSamples[<i>x</i>][<i>y</i>]=PaletteEscapeVal[<i>cIdx</i>][<i>xCb+xL</i>][<i>yCb+yL</i>]&#x2003;&#x2003;(8-237)<?in-line-formulae description="In-line Formulae" end="tail"?><ul id="ul0110" list-style="none">    <li id="ul0110-0001" num="0000">    <ul id="ul0111" list-style="none">        <li id="ul0111-0001" num="0570">Otherwise (bIsEscapeSample is equal to 1 and cu_transquant_bypass_flag is equal to 0), the following ordered steps apply:</li>        <li id="ul0111-0002" num="0571">1. The derivation process for quantization parameters as specified in clause 8.7.1 is invoked with the location (xCb, yCb) specifying the top-left sample of the current block relative to the top-left sample of the current picture.        <ul id="ul0112" list-style="none">            <li id="ul0112-0001" num="0572">[Ed. (BB): QPs are already derived at the beginning of the intra CU decoding process so there is no need to derive them again within this subclause. Althought it is like that in HEVC v4 SCC, I think this redundancy can be removed. Please confirm.]<img id="CUSTOM-CHARACTER-00930" he="3.22mm" wi="40.22mm" file="US20230007271A1-20230105-P00918.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00931" he="3.22mm" wi="31.75mm" file="US20230007271A1-20230105-P00919.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00932" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P00920.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00933" he="3.22mm" wi="35.64mm" file="US20230007271A1-20230105-P00921.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00934" he="3.56mm" wi="9.57mm" file="US20230007271A1-20230105-P00922.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00935" he="3.22mm" wi="9.91mm" file="US20230007271A1-20230105-P00923.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00936" he="3.22mm" wi="40.89mm" file="US20230007271A1-20230105-P00924.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00937" he="3.89mm" wi="48.01mm" file="US20230007271A1-20230105-P00925.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00938" he="3.22mm" wi="9.91mm" file="US20230007271A1-20230105-P00926.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00939" he="3.22mm" wi="39.54mm" file="US20230007271A1-20230105-P00927.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00940" he="3.56mm" wi="49.36mm" file="US20230007271A1-20230105-P00928.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00941" he="3.22mm" wi="9.91mm" file="US20230007271A1-20230105-P00929.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00942" he="3.22mm" wi="28.96mm" file="US20230007271A1-20230105-P00930.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00943" he="3.22mm" wi="32.43mm" file="US20230007271A1-20230105-P00931.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00944" he="3.22mm" wi="40.89mm" file="US20230007271A1-20230105-P00932.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00945" he="3.22mm" wi="18.71mm" file="US20230007271A1-20230105-P00933.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00946" he="3.22mm" wi="19.39mm" file="US20230007271A1-20230105-P00934.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00947" he="3.22mm" wi="21.84mm" file="US20230007271A1-20230105-P00935.TIF" alt="custom-character" img-content="character" img-format="tif"/></li>        </ul>        </li>    </ul>    </li></ul></p><p id="p-0343" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>qP</i>=Max(<i>Qp</i>Prime<i>Ts</i>Min,<i>Qp&#x2032;Cr</i>)&#x2003;&#x2003;(8-240)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0344" num="0000">Where min_qp_prime_ts_minus4 specifies the minimum allowed quantization parameter for transform skip mode as follows:</p><p id="p-0345" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?><i>Qp</i>Prime<i>Ts</i>Min=4+min_<i>qp</i>_prime_<i>ts</i>_minus4<?in-line-formulae description="In-line Formulae" end="tail"?><ul id="ul0113" list-style="none">    <li id="ul0113-0001" num="0000">    <ul id="ul0114" list-style="none">        <li id="ul0114-0001" num="0573">3. The variables bitDepth is derived as follows:</li>    </ul>    </li></ul></p><p id="p-0346" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>bitDepth=(<i>cIdx==</i>0)?BitDepth<sub>Y</sub>: BitDepth<sub>C</sub>&#x2003;&#x2003;(8-241)<?in-line-formulae description="In-line Formulae" end="tail"?><ul id="ul0115" list-style="none">    <li id="ul0115-0001" num="0000">    <ul id="ul0116" list-style="none">        <li id="ul0116-0001" num="0574">4. The list levelScale[ ] is specified as levelScale[k]={40, 45, 51, 57, 64, 72} with k=0 . . . 5.        <ul id="ul0117" list-style="none">            <li id="ul0117-0001" num="0575">[Ed. (BB): For non-palette CUs, levelScale depends on rectNonTsFlag, should that be applied here too?]</li>        </ul>        </li>        <li id="ul0116-0002" num="0576">5. The following applies:</li>    </ul>    </li></ul></p><p id="p-0347" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>tmpVal=(PaletteEscapeVal[<i>cIdx</i>][<i>xCb+xL</i>][<i>yCb+yL</i>]*levelScale[<i>qP</i>%6])&#x3c;&#x3c;(<i>qP/</i>6)+32)&#x3e;&#x3e;6&#x2003;&#x2003;(8-242)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0348" num="0000"><br/><?in-line-formulae description="In-line Formulae" end="lead"?>recSamples[<i>x</i>][<i>y</i>]=Clip3(0,(1&#x3c;&#x3c;bitDepth)&#x2212;1,tmpVal)&#x2003;&#x2003;(8-243)<?in-line-formulae description="In-line Formulae" end="tail"?></p><p id="p-0349" num="0000">When one of the following conditions is true:<ul id="ul0118" list-style="none">    <li id="ul0118-0001" num="0000">    <ul id="ul0119" list-style="none">        <li id="ul0119-0001" num="0577">cIdx is equal to 0 and numComps is equal to 1;</li>        <li id="ul0119-0002" num="0578">cIdx is equal to 3;<br/>the variable PredictorPaletteSize[startComp] and the array PredictorPaletteEntries are derived or modified as follows:</li>    </ul>    </li></ul></p><p id="p-0350" num="0000"><tables id="TABLE-US-00032" num="00032"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="1"><colspec colname="1" colwidth="217pt" align="left"/><thead><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry>for( i = 0; i &#x3c; CurrentPaletteSize[ startComp ]; i++ )</entry></row><row><entry>&#x2003;for( cIdx = startComp; cIdx &#x3c; (startComp + numComps); cIdx++ )</entry></row><row><entry>&#x2003;&#x2002;newPredictorPaletteEntries[ cIdx ][ i ] = CurrentPaletteEntries[</entry></row><row><entry>&#x2003;&#x2002;cIdx ][ i ]</entry></row><row><entry>newPredictorPaletteSize = CurrentPaletteSize[ startComp ]</entry></row><row><entry>for( i = 0; i &#x3c; PredictorPaletteSize &#x26;&#x26; newPredictorPaletteSize &#x3c;</entry></row><row><entry>PaletteMaxPredictorSize; i++ )</entry></row><row><entry>&#x2003;if( !PalettePredictorEntryReuseFlags[ i ] ) {</entry></row><row><entry>&#x2003;&#x2002;for( cIdx = startComp; cIdx &#x3c; (startComp + numComps); cIdx++ )</entry></row><row><entry>&#x2003;&#x2002;(8-244)</entry></row><row><entry>&#x2003;&#x2003;newPredictorPaletteEntries[ cIdx ][ newPredictorPaletteSize ] =</entry></row><row><entry>&#x2003;&#x2003;&#x2002;PredictorPaletteEntries[ cIdx ][ i ]</entry></row><row><entry>&#x2003;&#x2002;newPredictorPaletteSize++</entry></row><row><entry>&#x2003;}</entry></row><row><entry>for( cIdx = startComp; cIdx &#x3c; ( startComp + numComps ); cIdx++ )</entry></row><row><entry>&#x2003;for( i = 0; i &#x3c; newPredictorPaletteSize; i++ )</entry></row><row><entry>&#x2003;&#x2002;PredictorPaletteEntries[ cIdx ][ i ] = newPredictorPaletteEntries[</entry></row><row><entry>&#x2003;&#x2002;cIdx ][ i ]</entry></row><row><entry>PredictorPaletteSize[ startComp ] = newPredictorPaletteSize</entry></row><row><entry namest="1" nameend="1" align="center" rowsep="1"/></row></tbody></tgroup></table></tables><br/>It is a requirement of bitstream conformance that the value of PredictorPaletteSize[startComp] shall be in the range of 0 to PaletteMaxPredictorSize, inclusive.</p><heading id="h-0039" level="1">5.15 Embodiment #15</heading><p id="p-0351" num="0579">The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0040" level="2">8.4.2 Derivation Process for Luma Intra Prediction Mode</heading><p id="p-0352" num="0000"><ul id="ul0120" list-style="none">    <li id="ul0120-0001" num="0000">    <ul id="ul0121" list-style="none">        <li id="ul0121-0001" num="0580">Otherwise (skip_intra_flag[xPb][yPb] and DimFlag[xPb][yPb] are both equal to 0), IntraPredModeY[xPb][yPb] is derived by the following ordered steps:        <ul id="ul0122" list-style="none">            <li id="ul0122-0001" num="0581">1. The neighbouring locations (xNbA, yNbA) and (xNbB, yNbB) are set equal to (xPb&#x2212;1, yPb) and (xPb, yPb&#x2212;1), respectively.</li>            <li id="ul0122-0002" num="0582">2. For X being replaced by either A or B, the variables candIntraPredModeX are derived as follows:            <ul id="ul0123" list-style="none">                <li id="ul0123-0001" num="0583">The availability derivation process for a block in z-scan order as specified in clause 6.4.1 is invoked with the location (xCurr, yCurr) set equal to (xPb, yPb) and the neighbouring location (xNbY, yNbY) set equal to (xNbX, yNbX) as inputs, and the output is assigned to availableX.</li>                <li id="ul0123-0002" num="0584">The candidate intra prediction mode candIntraPredModeX is derived as follows:                <ul id="ul0124" list-style="none">                    <li id="ul0124-0001" num="0585">If availableX is equal to FALSE, candIntraPredModeX is set equal to INTRA_DC.</li>                    <li id="ul0124-0002" num="0586">[[&#x2014;Otherwise, if CuPredMode[xNbX][yNbX] is not equal to MODE_INTRA or pcm_flag[xNbX][yNbX] is equal to 1 or, candIntraPredModeX is set equal to INTRA_DC,]]<img id="CUSTOM-CHARACTER-00948" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00936.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00949" he="2.79mm" wi="27.52mm" file="US20230007271A1-20230105-P00937.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00950" he="3.22mm" wi="32.09mm" file="US20230007271A1-20230105-P00938.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00951" he="3.22mm" wi="21.84mm" file="US20230007271A1-20230105-P00939.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00952" he="3.22mm" wi="33.87mm" file="US20230007271A1-20230105-P00940.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00953" he="3.22mm" wi="21.84mm" file="US20230007271A1-20230105-P00941.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00954" he="3.22mm" wi="24.72mm" file="US20230007271A1-20230105-P00942.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00955" he="3.22mm" wi="30.73mm" file="US20230007271A1-20230105-P00943.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00956" he="3.22mm" wi="34.54mm" file="US20230007271A1-20230105-P00944.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00957" he="3.22mm" wi="16.59mm" file="US20230007271A1-20230105-P00945.TIF" alt="custom-character" img-content="character" img-format="tif"/></li>                    <li id="ul0124-0003" num="0587">Otherwise, if X is equal to B and yPb&#x2212;1 is less than ((yPb&#x3e;&#x3e;CtbLog2SizeY)&#x3c;&#x3c;CtbLog2SizeY), candIntraPredModeB is set equal to INTRA_DC.</li>                    <li id="ul0124-0004" num="0588">Otherwise, if IntraPredModeY[xNbX][yNbX] is greater than 34, candIntraPredModeX is set equal to INTRA_DC.</li>                </ul>                </li>            </ul>            </li>        </ul>        </li>    </ul>    </li></ul></p><heading id="h-0041" level="1">5.16 Embodiment #16</heading><p id="p-0353" num="0589">The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0042" level="2">8.4.2 Derivation Process for Luma Intra Prediction Mode</heading><p id="p-0354" num="0590">Input to this process are:<ul id="ul0125" list-style="none">    <li id="ul0125-0001" num="0000">    <ul id="ul0126" list-style="none">        <li id="ul0126-0001" num="0591">a luma location (xCb, yCb) specifying the top-left sample of the current luma coding block relative to the top-left luma sample of the current picture,</li>        <li id="ul0126-0002" num="0592">a variable cbWidth specifying the width of the current coding block in luma samples,</li>        <li id="ul0126-0003" num="0593">a variable cbHeight specifying the height of the current coding block in luma samples.<br/>In this process, the luma intra prediction mode IntraPredModeY[xCb][yCb] is derived.</li>        <li id="ul0126-0004" num="0594">1. For X being replaced by either A or B, the variables candIntraPredModeX are derived as follows:        <ul id="ul0127" list-style="none">            <li id="ul0127-0001" num="0595">The availability derivation process for a block as specified in clause <img id="CUSTOM-CHARACTER-00958" he="3.22mm" wi="21.51mm" file="US20230007271A1-20230105-P00946.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00959" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00947.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00960" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00948.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00961" he="3.22mm" wi="16.26mm" file="US20230007271A1-20230105-P00949.TIF" alt="custom-character" img-content="character" img-format="tif"/> is invoked with the location (xCurr, yCurr) set equal to (xCb, yCb) and the neighbouring location (xNbY, yNbY) set equal to (xNbX, yNbX) as inputs, and the output is assigned to availableX.</li>            <li id="ul0127-0002" num="0596">The candidate intra prediction mode candIntraPredModeX is derived as follows:            <ul id="ul0128" list-style="none">                <li id="ul0128-0001" num="0597">If one or more of the following conditions are true, candIntraPredModeX is set equal to INTRA_PLANAR.                <ul id="ul0129" list-style="none">                    <li id="ul0129-0001" num="0598">The variable availableX is equal to FALSE.</li>                    <li id="ul0129-0002" num="0599">CuPredMode[xNbX][yNbX] is not equal to MODE_INTRA. <img id="CUSTOM-CHARACTER-00962" he="3.22mm" wi="26.84mm" file="US20230007271A1-20230105-P00950.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00963" he="3.22mm" wi="16.59mm" file="US20230007271A1-20230105-P00951.TIF" alt="custom-character" img-content="character" img-format="tif"/></li>                    <li id="ul0129-0003" num="0600">intra_mip_flag[xNbX][yNbX] is equal to 1.</li>                    <li id="ul0129-0004" num="0601">X is equal to B and yCb&#x2212;1 is less than ((yCb&#x3e;&#x3e;CtbLog2SizeY)&#x3c;&#x3c;CtbLog2SizeY).</li>                </ul>                </li>                <li id="ul0128-0002" num="0602">Otherwise, candIntraPredModeX is set equal to IntraPredModeY[xNbX][yNbX].<br/>The variable IntraPredModeY[x][y] with x=xCb . . . xCb+cbWidth&#x2212;1 and y=yCb . . . yCb+cbHeight&#x2212;1 is set to be equal to IntraPredModeY[xCb][yCb].</li>            </ul>            </li>        </ul>        </li>    </ul>    </li></ul></p><heading id="h-0043" level="1">5.17 Embodiment #17</heading><p id="p-0355" num="0603">The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0044" level="2">8.4.3 Derivation Process for Luma Intra Prediction Mode</heading><p id="p-0356" num="0604">Input to this process are:<ul id="ul0130" list-style="none">    <li id="ul0130-0001" num="0000">    <ul id="ul0131" list-style="none">        <li id="ul0131-0001" num="0605">a luma location (xCb, yCb) specifying the top-left sample of the current luma coding block relative to the top-left luma sample of the current picture,</li>        <li id="ul0131-0002" num="0606">a variable cbWidth specifying the width of the current coding block in luma samples,</li>        <li id="ul0131-0003" num="0607">a variable cbHeight specifying the height of the current coding block in luma samples.<br/>In this process, the luma intra prediction mode IntraPredModeY[xCb][yCb] is derived.</li>        <li id="ul0131-0004" num="0608">2. For X being replaced by either A or B, the variables candIntraPredModeX are derived as follows:        <ul id="ul0132" list-style="none">            <li id="ul0132-0001" num="0609">The availability derivation process for a block as specified in clause 6.4.X [Ed. (BB): Neighbouring blocks availability checking process tbd] is invoked with the location (xCurr, yCurr) set equal to (xCb, yCb) and the neighbouring location (xNbY, yNbY) set equal to (xNbX, yNbX) as inputs, and the output is assigned to availableX.</li>            <li id="ul0132-0002" num="0610">The candidate intra prediction mode candIntraPredModeX is derived as follows:            <ul id="ul0133" list-style="none">                <li id="ul0133-0001" num="0611">If one or more of the following conditions are true, candIntraPredModeX is set equal to [[INTRA_PLANAR]] <img id="CUSTOM-CHARACTER-00964" he="3.22mm" wi="16.59mm" file="US20230007271A1-20230105-P00952.TIF" alt="custom-character" img-content="character" img-format="tif"/>                <ul id="ul0134" list-style="none">                    <li id="ul0134-0001" num="0612">The variable availableX is equal to FALSE.</li>                    <li id="ul0134-0002" num="0613">CuPredMode[xNbX][yNbX] is not equal to MODE_INTRA.</li>                    <li id="ul0134-0003" num="0614">intra_mip_flag[xNbX][yNbX] is equal to 1.</li>                    <li id="ul0134-0004" num="0615">X is equal to B and yCb&#x2212;1 is less than ((yCb&#x3e;&#x3e;CtbLog2SizeY)&#x3c;&#x3c;CtbLog2SizeY).</li>                </ul>                </li>                <li id="ul0133-0002" num="0616">Otherwise, candIntraPredModeX is set equal to IntraPredModeY[xNbX][yNbX].<br/>The variable IntraPredModeY[x][y] with x=xCb . . . xCb+cbWidth&#x2212;1 and y=yCb . . . yCb+cbHeight&#x2212;1 is set to be equal to IntraPredModeY[xCb][yCb].</li>            </ul>            </li>        </ul>        </li>    </ul>    </li></ul></p><heading id="h-0045" level="1">5.18 Embodiment #18</heading><p id="p-0357" num="0617">The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0046" level="2">8.4.3 Derivation Process for Luma Intra Prediction Mode</heading><p id="p-0358" num="0618">Input to this process are:<ul id="ul0135" list-style="none">    <li id="ul0135-0001" num="0000">    <ul id="ul0136" list-style="none">        <li id="ul0136-0001" num="0619">a luma location (xCb, yCb) specifying the top-left sample of the current luma coding block relative to the top-left luma sample of the current picture,</li>        <li id="ul0136-0002" num="0620">a variable cbWidth specifying the width of the current coding block in luma samples,</li>        <li id="ul0136-0003" num="0621">a variable cbHeight specifying the height of the current coding block in luma samples.<br/>In this process, the luma intra prediction mode IntraPredModeY[xCb][yCb] is derived.</li>        <li id="ul0136-0004" num="0622">3. For X being replaced by either A or B, the variables candIntraPredModeX are derived as follows:        <ul id="ul0137" list-style="none">            <li id="ul0137-0001" num="0623">The availability derivation process for a block as specified in clause <img id="CUSTOM-CHARACTER-00965" he="3.22mm" wi="21.51mm" file="US20230007271A1-20230105-P00953.TIF" alt="custom-character" img-content="character" img-format="tif"/> <img id="CUSTOM-CHARACTER-00966" he="3.22mm" wi="27.86mm" file="US20230007271A1-20230105-P00954.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00967" he="3.22mm" wi="27.52mm" file="US20230007271A1-20230105-P00955.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-00968" he="3.22mm" wi="16.26mm" file="US20230007271A1-20230105-P00956.TIF" alt="custom-character" img-content="character" img-format="tif"/> is invoked with the location (xCurr, yCurr) set equal to (xCb, yCb) and the neighbouring location (xNbY, yNbY) set equal to (xNbX, yNbX) as inputs, and the output is assigned to availableX.</li>            <li id="ul0137-0002" num="0624">The candidate intra prediction mode candIntraPredModeX is derived as follows:            <ul id="ul0138" list-style="none">                <li id="ul0138-0001" num="0625">If one or more of the following conditions are true, candIntraPredModeX is set equal to [[INTRA_PLANAR]] <img id="CUSTOM-CHARACTER-00969" he="3.22mm" wi="16.59mm" file="US20230007271A1-20230105-P00957.TIF" alt="custom-character" img-content="character" img-format="tif"/>                <ul id="ul0139" list-style="none">                    <li id="ul0139-0001" num="0626">The variable availableX is equal to FALSE.</li>                    <li id="ul0139-0002" num="0627">CuPredMode[xNbX][yNbX] is not equal to MODE_INTRA.</li>                    <li id="ul0139-0003" num="0628">intra_mip_flag[xNbX][yNbX] is equal to 1. <img id="CUSTOM-CHARACTER-00970" he="3.22mm" wi="43.77mm" file="US20230007271A1-20230105-P00958.TIF" alt="custom-character" img-content="character" img-format="tif"/></li>                    <li id="ul0139-0004" num="0629">X is equal to B and yCb&#x2212;1 is less than ((yCb&#x3e;&#x3e;CtbLog2SizeY)&#x3c;&#x3c;CtbLog2SizeY).</li>                </ul>                </li>                <li id="ul0138-0002" num="0630">Otherwise, candIntraPredModeX is set equal to IntraPredModeY[xNbX][yNbX].<br/>The variable IntraPredModeY[x][y] with x=xCb . . . xCb+cbWidth&#x2212;1 and y=yCb . . . yCb+cbHeight&#x2212;1 is set to be equal to IntraPredModeY[xCb][yCb].</li>            </ul>            </li>        </ul>        </li>    </ul>    </li></ul></p><heading id="h-0047" level="1">5.19 Embodiment #19</heading><p id="p-0359" num="0631">The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><p id="p-0360" num="0000"><tables id="TABLE-US-00033" num="00033"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="231pt" align="left"/><colspec colname="1" colwidth="35pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="231pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><tbody valign="top"><row><entry>Coding_unit( x0, y0, cbWidth, cbHeight, treeTypeCurr, isInSCIPURegion,</entry><entry/></row><row><entry>SCIPUConsMode ) {</entry></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag <b>||</b>&#x2009;<img id="CUSTOM-CHARACTER-00971" he="2.79mm" wi="18.37mm" file="US20230007271A1-20230105-P00959.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry></row><row><entry>&#x2003;&#x2003;if( treeTypeCurr != DUAL_TREE_CHROMA &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2002;!( ( (cbWidth = = 4 &#x26;&#x26; cbHeight = = 4) || SCIPUConsMode ==</entry></row><row><entry>MODE_NON_INTER) &#x26;&#x26; !sps_ibc_enabled_flag ) )</entry></row><row><entry>&#x2003;&#x2003;&#x2002;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry></row><row><entry>&#x2003;&#x2003;&#x2002;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 ) &#x26;&#x26; SCIPUConsMode ==</entry></row><row><entry>MODE_ALL)</entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry></row><row><entry>&#x2003;&#x2003;&#x2002;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry></row><row><entry>&#x2003;&#x2003;&#x2002;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =</entry></row><row><entry>0 ) ) ) ) &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2002;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) &#x26;&#x26;</entry></row><row><entry>SCIPUConsMode != MODE_INTER)</entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00972" he="2.79mm" wi="17.27mm" file="US20230007271A1-20230105-P00960.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00973" he="2.46mm" wi="16.59mm" file="US20230007271A1-20230105-P00961.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<b>||</b>&#x2009;<img id="CUSTOM-CHARACTER-00974" he="2.46mm" wi="18.71mm" file="US20230007271A1-20230105-P00962.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-00975" he="2.79mm" wi="14.82mm" file="US20230007271A1-20230105-P00963.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00976" he="3.22mm" wi="24.38mm" file="US20230007271A1-20230105-P00964.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00977" he="2.46mm" wi="34.97mm" file="US20230007271A1-20230105-P00965.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-00978" he="2.79mm" wi="21.84mm" file="US20230007271A1-20230105-P00966.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00979" he="3.22mm" wi="19.73mm" file="US20230007271A1-20230105-P00967.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00980" he="2.79mm" wi="16.59mm" file="US20230007271A1-20230105-P00968.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00981" he="3.22mm" wi="18.37mm" file="US20230007271A1-20230105-P00969.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-00982" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P00970.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-00983" he="2.12mm" wi="3.56mm" file="US20230007271A1-20230105-P00971.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00984" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P00972.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00985" he="3.22mm" wi="12.70mm" file="US20230007271A1-20230105-P00973.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00986" he="2.79mm" wi="15.16mm" file="US20230007271A1-20230105-P00974.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-00987" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P00975.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00988" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00976.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-00989" he="3.22mm" wi="4.23mm" file="US20230007271A1-20230105-P00977.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry></row><row><entry>&#x2003;if(isInSCIPURegion &#x26;&#x26; SCIPUConsMode == MODE_ALL &#x26;&#x26;</entry></row><row><entry>CuPredMode[ x0 ][ y0 ] != MODE_INTER){</entry></row><row><entry>&#x2003;&#x2003;&#x2003;treeType = DUAL_TREE_LUMA</entry></row><row><entry>&#x2003;&#x2003;} else {</entry></row><row><entry>&#x2003;&#x2003;&#x2002;treeType = treeTypeCurr</entry></row><row><entry>&#x2003;&#x2003;}</entry></row><row><entry>...</entry></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0048" level="1">5.20 Embodiment #20</heading><p id="p-0361" num="0632">The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><p id="p-0362" num="0000"><tables id="TABLE-US-00034" num="00034"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="231pt" align="left"/><colspec colname="1" colwidth="35pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="231pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><tbody valign="top"><row><entry>Coding_unit( x0, y0, cbWidth, cbHeight, treeTypeCurr, isInSCIPURegion,</entry><entry/></row><row><entry>SCIPUConsMode ) {</entry></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag <b>||</b>&#x2009;<img id="CUSTOM-CHARACTER-00990" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P00978.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry></row><row><entry>&#x2003;&#x2003;if( treeTypeCurr != DUAL_TREE_CHROMA &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2002;!( ( (cbWidth = = 4 &#x26;&#x26; cbHeight = = 4) || SCIPUConsMode ==</entry></row><row><entry>MODE_NON_INTER) &#x26;&#x26; !sps_ibc_enabled_flag ) )</entry></row><row><entry>&#x2003;&#x2003;&#x2002;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry></row><row><entry>&#x2003;&#x2003;&#x2002;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 ) &#x26;&#x26; SCIPUConsMode ==</entry></row><row><entry>MODE_ALL)</entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry></row><row><entry>&#x2003;&#x2003;&#x2002;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry></row><row><entry>&#x2003;&#x2003;&#x2002;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =</entry></row><row><entry>0 ) ) ) ) &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2002;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) &#x26;&#x26;</entry></row><row><entry>SCIPUConsMode != MODE_INTER)</entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00991" he="2.79mm" wi="19.73mm" file="US20230007271A1-20230105-P00979.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00992" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P00980.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00993" he="2.46mm" wi="16.59mm" file="US20230007271A1-20230105-P00981.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-00994" he="3.22mm" wi="15.49mm" file="US20230007271A1-20230105-P00982.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00995" he="2.46mm" wi="27.52mm" file="US20230007271A1-20230105-P00983.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00996" he="2.46mm" wi="20.15mm" file="US20230007271A1-20230105-P00984.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-00997" he="2.79mm" wi="15.92mm" file="US20230007271A1-20230105-P00985.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-00998" he="2.79mm" wi="13.38mm" file="US20230007271A1-20230105-P00986.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-00999" he="2.46mm" wi="17.61mm" file="US20230007271A1-20230105-P00987.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01000" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P00988.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry><img id="CUSTOM-CHARACTER-01001" he="3.22mm" wi="4.23mm" file="US20230007271A1-20230105-P00989.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry></row><row><entry>&#x2003;if(isInSCIPURegion &#x26;&#x26; SCIPUConsMode == MODE_ALL &#x26;&#x26;</entry></row><row><entry>CuPredMode[ x0 ][ y0 ] != MODE_INTER){</entry></row><row><entry>&#x2003;&#x2003;&#x2003;treeType = DUAL_TREE_LUMA</entry></row><row><entry>&#x2003;&#x2003;} else {</entry></row><row><entry>&#x2003;&#x2003;&#x2003;treeType = treeTypeCurr</entry></row><row><entry>&#x2003;&#x2003;}</entry></row><row><entry>...</entry></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0049" level="1">5.21 Embodiment #21</heading><p id="p-0363" num="0633">The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><p id="p-0364" num="0000"><tables id="TABLE-US-00035" num="00035"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="231pt" align="left"/><colspec colname="1" colwidth="35pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="231pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><tbody valign="top"><row><entry>Coding_unit( x0, y0, cbWidth, cbHeight, treeTypeCurr, isInSCIPURegion,</entry><entry/></row><row><entry>SCIPUConsMode ) {</entry></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag&#x2009;<img id="CUSTOM-CHARACTER-01002" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P00990.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry></row><row><entry>&#x2003;&#x2003;if( treeTypeCurr != DUAL_TREE_CHROMA &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2002;!( ( (cbWidth = = 4 &#x26;&#x26; cbHeight = = 4) || SCIPUConsMode ==</entry></row><row><entry>MODE_NON_INTER) &#x26;&#x26; !sps_ibc_enabled_flag ) )</entry></row><row><entry>&#x2003;&#x2003;&#x2002;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry></row><row><entry>&#x2003;&#x2003;&#x2002;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 ) &#x26;&#x26; SCIPUConsMode ==</entry></row><row><entry>MODE_ALL)</entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry></row><row><entry>&#x2003;&#x2003;&#x2002;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry></row><row><entry>&#x2003;&#x2003;&#x2002;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =</entry></row><row><entry>0 ) ) ) ) &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2002;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) &#x26;&#x26;</entry></row><row><entry>SCIPUConsMode != MODE_INTER)</entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01003" he="2.46mm" wi="30.73mm" file="US20230007271A1-20230105-P00991.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01004" he="2.79mm" wi="20.15mm" file="US20230007271A1-20230105-P00992.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01005" he="3.56mm" wi="23.28mm" file="US20230007271A1-20230105-P00993.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01006" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P00994.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01007" he="2.46mm" wi="28.96mm" file="US20230007271A1-20230105-P00995.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01008" he="2.46mm" wi="25.06mm" file="US20230007271A1-20230105-P00996.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01009" he="2.46mm" wi="18.03mm" file="US20230007271A1-20230105-P00997.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01010" he="3.56mm" wi="20.83mm" file="US20230007271A1-20230105-P00998.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01011" he="3.22mm" wi="25.06mm" file="US20230007271A1-20230105-P00999.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01012" he="2.46mm" wi="28.96mm" file="US20230007271A1-20230105-P01000.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01013" he="2.79mm" wi="3.89mm" file="US20230007271A1-20230105-P01001.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01014" he="3.22mm" wi="21.17mm" file="US20230007271A1-20230105-P01002.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01015" he="2.46mm" wi="16.59mm" file="US20230007271A1-20230105-P01003.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01016" he="3.22mm" wi="19.39mm" file="US20230007271A1-20230105-P01004.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01017" he="3.22mm" wi="24.72mm" file="US20230007271A1-20230105-P01005.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01018" he="2.46mm" wi="7.45mm" file="US20230007271A1-20230105-P01006.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01019" he="2.46mm" wi="15.16mm" file="US20230007271A1-20230105-P01007.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01020" he="2.12mm" wi="3.56mm" file="US20230007271A1-20230105-P01008.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01021" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P01009.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01022" he="3.22mm" wi="16.93mm" file="US20230007271A1-20230105-P01010.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01023" he="2.79mm" wi="17.61mm" file="US20230007271A1-20230105-P01011.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01024" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P01012.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01025" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P01013.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry>&#x2009;<img id="CUSTOM-CHARACTER-01026" he="2.79mm" wi="6.01mm" file="US20230007271A1-20230105-P01014.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry></row><row><entry>&#x2003;if(isInSCIPURegion &#x26;&#x26; SCIPUConsMode == MODE_ALL &#x26;&#x26;</entry></row><row><entry>CuPredMode[ x0 ][ y0 ] != MODE_INTER){</entry></row><row><entry>&#x2003;&#x2003;&#x2003;treeType = DUAL_TREE_LUMA</entry></row><row><entry>&#x2003;&#x2003;} else {</entry></row><row><entry>&#x2003;&#x2003;&#x2002;treeType = treeTypeCurr</entry></row><row><entry>&#x2003;&#x2003;}</entry></row><row><entry>...</entry></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0050" level="1">5.22 Embodiment #22</heading><p id="p-0365" num="0634">This embodiment decribes the coding unit syntax. In this embodiment, the pred_mode_plt_flag is signaled after the pred_mode_ibc_flag. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0051" level="2">7.3.7.5 Coding Unit Syntax</heading><p id="p-0366" num="0635"></p><p id="p-0367" num="0000"><tables id="TABLE-US-00036" num="00036"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="231pt" align="left"/><colspec colname="1" colwidth="35pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="231pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType,&#x2009;<img id="CUSTOM-CHARACTER-01027" he="3.22mm" wi="9.91mm" file="US20230007271A1-20230105-P01015.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry><entry/></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag | |&#x2009;<img id="CUSTOM-CHARACTER-01028" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P01016.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;!( [[cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; !sps_ibc_enabled_flag ) ]]</entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01029" he="3.22mm" wi="16.26mm" file="US20230007271A1-20230105-P01017.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01030" he="3.22mm" wi="19.05mm" file="US20230007271A1-20230105-P01018.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01031" he="2.79mm" wi="17.61mm" file="US20230007271A1-20230105-P01019.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01032" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P01020.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01033" he="2.79mm" wi="1.10mm" file="US20230007271A1-20230105-P01021.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01034" he="2.46mm" wi="31.07mm" file="US20230007271A1-20230105-P01022.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry></row><row><entry>&#x2003;&#x2003;&#x2002;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 )&#x2009;<img id="CUSTOM-CHARACTER-01035" he="3.22mm" wi="16.93mm" file="US20230007271A1-20230105-P01023.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01036" he="2.46mm" wi="22.61mm" file="US20230007271A1-20230105-P01024.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>[[ if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry></row><row><entry>&#x2003;&#x2003;&#x2002;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry></row><row><entry>&#x2003;&#x2003;&#x2002;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =</entry></row><row><entry>0 ) ) ) ) &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2002;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) )]]</entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01037" he="2.46mm" wi="31.07mm" file="US20230007271A1-20230105-P01025.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01038" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P01026.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01039" he="2.79mm" wi="13.04mm" file="US20230007271A1-20230105-P01027.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01040" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P01028.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01041" he="3.22mm" wi="20.15mm" file="US20230007271A1-20230105-P01029.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01042" he="2.46mm" wi="22.94mm" file="US20230007271A1-20230105-P01030.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01043" he="3.22mm" wi="19.39mm" file="US20230007271A1-20230105-P01031.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01044" he="3.22mm" wi="19.39mm" file="US20230007271A1-20230105-P01032.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01045" he="2.46mm" wi="27.86mm" file="US20230007271A1-20230105-P01033.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01046" he="2.79mm" wi="1.10mm" file="US20230007271A1-20230105-P01034.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01047" he="3.56mm" wi="18.71mm" file="US20230007271A1-20230105-P01035.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01048" he="3.56mm" wi="21.84mm" file="US20230007271A1-20230105-P01036.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01049" he="3.56mm" wi="25.74mm" file="US20230007271A1-20230105-P01037.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01050" he="2.46mm" wi="28.62mm" file="US20230007271A1-20230105-P01038.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01051" he="2.46mm" wi="25.06mm" file="US20230007271A1-20230105-P01039.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01052" he="2.79mm" wi="15.49mm" file="US20230007271A1-20230105-P01040.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01053" he="2.46mm" wi="28.96mm" file="US20230007271A1-20230105-P01041.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_ibc_flag</entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01054" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P01042.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01055" he="2.46mm" wi="19.73mm" file="US20230007271A1-20230105-P01043.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01056" he="3.22mm" wi="23.28mm" file="US20230007271A1-20230105-P01044.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01057" he="3.22mm" wi="23.28mm" file="US20230007271A1-20230105-P01045.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01058" he="2.46mm" wi="24.38mm" file="US20230007271A1-20230105-P01046.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01059" he="2.79mm" wi="17.61mm" file="US20230007271A1-20230105-P01047.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01060" he="2.79mm" wi="11.68mm" file="US20230007271A1-20230105-P01048.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01061" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P01049.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01062" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P01050.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01063" he="3.22mm" wi="19.73mm" file="US20230007271A1-20230105-P01051.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01064" he="3.22mm" wi="29.97mm" file="US20230007271A1-20230105-P01052.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01065" he="2.46mm" wi="29.29mm" file="US20230007271A1-20230105-P01053.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01066" he="3.22mm" wi="24.72mm" file="US20230007271A1-20230105-P01054.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01067" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P01055.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01068" he="2.79mm" wi="15.49mm" file="US20230007271A1-20230105-P01056.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01069" he="3.22mm" wi="23.96mm" file="US20230007271A1-20230105-P01057.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01070" he="2.46mm" wi="7.45mm" file="US20230007271A1-20230105-P01058.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01071" he="2.46mm" wi="15.16mm" file="US20230007271A1-20230105-P01059.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01072" he="2.12mm" wi="3.56mm" file="US20230007271A1-20230105-P01008.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01073" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P01060.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01074" he="3.22mm" wi="19.05mm" file="US20230007271A1-20230105-P01061.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01075" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P01062.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01076" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P01063.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry>&#x2009;<img id="CUSTOM-CHARACTER-01077" he="3.22mm" wi="4.23mm" file="US20230007271A1-20230105-P01064.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry></row><row><entry>...</entry></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0052" level="1">5.23 Embodiment #23</heading><p id="p-0368" num="0636">The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><p id="p-0369" num="0000"><tables id="TABLE-US-00037" num="00037"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="238pt" align="left"/><colspec colname="1" colwidth="35pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="238pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><tbody valign="top"><row><entry>Coding_unit( x0, y0, cbWidth, cbHeight, treeTypeCurr, isInSCIPURegion,</entry><entry/></row><row><entry>SCIPUConsMode ) {</entry></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag&#x2009;<img id="CUSTOM-CHARACTER-01078" he="2.46mm" wi="23.28mm" file="US20230007271A1-20230105-P01065.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;) {</entry></row><row><entry>&#x2003;&#x2002;if( treeTypeCurr != DUAL_TREE_CHROMA &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;!( ( (cbWidth = = 4 &#x26;&#x26; cbHeight = = 4) || SCIPUConsMode ==</entry></row><row><entry>MODE_NON_INTER) &#x26;&#x26; !sps_ibc_enabled flag ) )</entry></row><row><entry>&#x2003;&#x2003;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2002;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry></row><row><entry>&#x2003;&#x2003;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 ) &#x26;&#x26; SCIPUConsMode ==</entry></row><row><entry>MODE_ALL)</entry></row><row><entry>&#x2003;&#x2003;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2002;if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry></row><row><entry>&#x2003;&#x2003;( slice_type != I &#x26;&#x26;( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry></row><row><entry>&#x2003;&#x2003;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = = 0 ) )</entry></row><row><entry>) ) &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) &#x26;&#x26;</entry></row><row><entry>SCIPUConsMode != MODE_INTER)</entry></row><row><entry>&#x2003;&#x2003;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01079" he="2.46mm" wi="27.18mm" file="US20230007271A1-20230105-P01066.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01080" he="0.34mm" wi="0.34mm" file="US20230007271A1-20230105-P01067.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01081" he="3.56mm" wi="23.96mm" file="US20230007271A1-20230105-P01068.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01082" he="2.46mm" wi="23.28mm" file="US20230007271A1-20230105-P01069.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01083" he="3.22mm" wi="16.26mm" file="US20230007271A1-20230105-P01070.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01084" he="2.46mm" wi="32.85mm" file="US20230007271A1-20230105-P01071.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01085" he="2.46mm" wi="16.93mm" file="US20230007271A1-20230105-P01072.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01086" he="2.79mm" wi="19.73mm" file="US20230007271A1-20230105-P01073.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01087" he="3.22mm" wi="19.05mm" file="US20230007271A1-20230105-P01074.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01088" he="2.46mm" wi="34.54mm" file="US20230007271A1-20230105-P01075.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01089" he="2.79mm" wi="14.48mm" file="US20230007271A1-20230105-P01076.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01090" he="2.46mm" wi="20.49mm" file="US20230007271A1-20230105-P01077.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01091" he="3.22mm" wi="15.49mm" file="US20230007271A1-20230105-P01078.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01092" he="2.79mm" wi="16.59mm" file="US20230007271A1-20230105-P01079.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01093" he="2.46mm" wi="21.51mm" file="US20230007271A1-20230105-P01080.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01094" he="2.46mm" wi="29.97mm" file="US20230007271A1-20230105-P01081.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01095" he="2.79mm" wi="13.80mm" file="US20230007271A1-20230105-P01082.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01096" he="2.79mm" wi="15.16mm" file="US20230007271A1-20230105-P01083.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01097" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P01084.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01098" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P01085.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry></row><row><entry>&#x2003;if(isInSCIPURegion &#x26;&#x26; SCIPUConsMode == MODE_ALL &#x26;&#x26;</entry></row><row><entry>CuPredMode[ x0 ][ y0 ] != MODE_INTER){</entry></row><row><entry>&#x2003;&#x2003;&#x2003;treeType = DUAL_TREE_LUMA</entry></row><row><entry>&#x2003;&#x2002;} else {</entry></row><row><entry>&#x2003;&#x2003;&#x2002;treeType = treeTypeCurr</entry></row><row><entry>&#x2003;&#x2002;}</entry></row><row><entry>...</entry></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0053" level="1">5.24 Embodiment #24</heading><p id="p-0370" num="0637">This embodiment describes the coding unit syntax. In this embodiment, the pred_mode_plt_flag is signaled after the pred_mode_ibc_flag. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0054" level="2">7.3.7.5 Coding Unit Syntax</heading><p id="p-0371" num="0638"></p><p id="p-0372" num="0000"><tables id="TABLE-US-00038" num="00038"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="231pt" align="left"/><colspec colname="1" colwidth="35pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="231pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, treeType,&#x2009;<img id="CUSTOM-CHARACTER-01099" he="2.46mm" wi="1.44mm" file="US20230007271A1-20230105-P00373.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;{</entry><entry/></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag | |&#x2009;<img id="CUSTOM-CHARACTER-01100" he="2.79mm" wi="25.40mm" file="US20230007271A1-20230105-P01086.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009; ) {</entry></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2002;!( [[cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; !sps_ibc_enabled_flag ) ]]</entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01101" he="3.22mm" wi="19.05mm" file="US20230007271A1-20230105-P01087.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01102" he="3.56mm" wi="16.59mm" file="US20230007271A1-20230105-P01088.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01103" he="3.22mm" wi="17.61mm" file="US20230007271A1-20230105-P01089.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01104" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P01090.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01105" he="2.79mm" wi="1.10mm" file="US20230007271A1-20230105-P01091.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01106" he="2.46mm" wi="32.85mm" file="US20230007271A1-20230105-P01092.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry></row><row><entry>&#x2003;&#x2003;&#x2002;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 )&#x2009;<img id="CUSTOM-CHARACTER-01107" he="2.79mm" wi="17.27mm" file="US20230007271A1-20230105-P01093.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01108" he="2.46mm" wi="21.84mm" file="US20230007271A1-20230105-P01094.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>[[ if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry></row><row><entry>&#x2003;&#x2003;&#x2002;( slice_type != I &#x26;&#x26; ( CuPredMode[ x0 ][ y0 ] != MODE_INTRA | |</entry></row><row><entry>&#x2003;&#x2003;&#x2002;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =</entry></row><row><entry>0 ) ) ) ) &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2002;sps_ibc_enabled_flag &#x26;&#x26; ( cbWidth != 128 | | cbHeight != 128 ) )]]</entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01109" he="2.46mm" wi="31.75mm" file="US20230007271A1-20230105-P01095.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01110" he="2.46mm" wi="17.27mm" file="US20230007271A1-20230105-P01096.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01111" he="3.22mm" wi="13.04mm" file="US20230007271A1-20230105-P01097.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01112" he="3.22mm" wi="18.03mm" file="US20230007271A1-20230105-P01098.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01113" he="3.22mm" wi="17.61mm" file="US20230007271A1-20230105-P01099.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01114" he="3.56mm" wi="15.92mm" file="US20230007271A1-20230105-P01100.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01115" he="2.79mm" wi="19.39mm" file="US20230007271A1-20230105-P01101.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01116" he="3.22mm" wi="19.39mm" file="US20230007271A1-20230105-P01102.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01117" he="2.46mm" wi="28.19mm" file="US20230007271A1-20230105-P01103.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01118" he="3.56mm" wi="63.50mm" file="US20230007271A1-20230105-P01104.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01119" he="2.79mm" wi="16.59mm" file="US20230007271A1-20230105-P01105.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01120" he="3.22mm" wi="14.82mm" file="US20230007271A1-20230105-P01106.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01121" he="3.22mm" wi="24.38mm" file="US20230007271A1-20230105-P01107.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01122" he="2.46mm" wi="27.86mm" file="US20230007271A1-20230105-P01108.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01123" he="2.46mm" wi="25.06mm" file="US20230007271A1-20230105-P01109.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01124" he="3.22mm" wi="12.70mm" file="US20230007271A1-20230105-P01110.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01125" he="2.46mm" wi="30.31mm" file="US20230007271A1-20230105-P01111.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01126" he="2.79mm" wi="1.10mm" file="US20230007271A1-20230105-P01112.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01127" he="2.46mm" wi="1.10mm" file="US20230007271A1-20230105-P01113.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01128" he="2.46mm" wi="27.18mm" file="US20230007271A1-20230105-P01114.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01129" he="3.22mm" wi="19.05mm" file="US20230007271A1-20230105-P01115.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01130" he="2.46mm" wi="18.03mm" file="US20230007271A1-20230105-P01116.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01131" he="2.46mm" wi="22.27mm" file="US20230007271A1-20230105-P01117.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01132" he="2.79mm" wi="15.16mm" file="US20230007271A1-20230105-P01118.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01133" he="2.79mm" wi="34.54mm" file="US20230007271A1-20230105-P01119.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01134" he="2.79mm" wi="15.16mm" file="US20230007271A1-20230105-P01120.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01135" he="3.22mm" wi="15.92mm" file="US20230007271A1-20230105-P01121.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01136" he="3.22mm" wi="26.50mm" file="US20230007271A1-20230105-P01122.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01137" he="2.46mm" wi="23.62mm" file="US20230007271A1-20230105-P01123.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01138" he="3.22mm" wi="4.23mm" file="US20230007271A1-20230105-P01124.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01139" he="3.22mm" wi="25.40mm" file="US20230007271A1-20230105-P01125.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;<img id="CUSTOM-CHARACTER-01140" he="2.46mm" wi="21.17mm" file="US20230007271A1-20230105-P01126.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01141" he="3.22mm" wi="18.37mm" file="US20230007271A1-20230105-P01127.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01142" he="3.22mm" wi="24.72mm" file="US20230007271A1-20230105-P01128.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01143" he="2.46mm" wi="7.45mm" file="US20230007271A1-20230105-P01129.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01144" he="2.46mm" wi="19.39mm" file="US20230007271A1-20230105-P01130.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01145" he="2.46mm" wi="23.96mm" file="US20230007271A1-20230105-P01131.TIF" alt="custom-character" img-content="character" img-format="tif"/> &#x2009;<img id="CUSTOM-CHARACTER-01146" he="2.79mm" wi="21.17mm" file="US20230007271A1-20230105-P01132.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry><img id="CUSTOM-CHARACTER-01147" he="2.46mm" wi="18.37mm" file="US20230007271A1-20230105-P01133.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;<img id="CUSTOM-CHARACTER-01148" he="2.46mm" wi="20.83mm" file="US20230007271A1-20230105-P01134.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry><entry>&#x2009;<img id="CUSTOM-CHARACTER-01149" he="3.22mm" wi="5.67mm" file="US20230007271A1-20230105-P01135.TIF" alt="custom-character" img-content="character" img-format="tif"/> </entry></row><row><entry>&#x2003;}</entry></row><row><entry>...</entry></row><row><entry>}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0055" level="1">5.25 Embodiment #25</heading><p id="p-0373" num="0639">This embodiment describes the coding unit syntax. In this embodiment, the palette syntax is signaled if the current prediction mode is MODE_PLT. The newly added texts are bold italicized and the deleted texts are marked by &#x201c;[[ ]]&#x201d;.</p><heading id="h-0056" level="2">7.3.7.5 Coding Unit Syntax</heading><p id="p-0374" num="0640"></p><p id="p-0375" num="0000"><tables id="TABLE-US-00039" num="00039"><table frame="none" colsep="0" rowsep="0" pgwide="1"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="259pt" align="left"/><colspec colname="1" colwidth="35pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row><row><entry/><entry>Descriptor</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/></row></tbody></tgroup><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="1" colwidth="259pt" align="left"/><colspec colname="2" colwidth="35pt" align="left"/><tbody valign="top"><row><entry>coding_unit( x0, y0, cbWidth, cbHeight, cqtDepth, treeType, modeType ) {</entry><entry/></row><row><entry>&#x2003;chType = treeType = = DUAL_TREE_CHROMA? 1 : 0</entry></row><row><entry>&#x2003;if( slice_type != I | | sps_ibc_enabled_flag | | sps_palette_enabled_flag) {</entry></row><row><entry>&#x2003;&#x2003;if( treeType != DUAL_TREE_CHROMA &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2002;!( ( ( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 ) | | modeType = =</entry></row><row><entry>MODE_TYPE_INTRA )</entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x26;&#x26; !sps_ibc_enabled_flag ) )</entry></row><row><entry>&#x2003;&#x2003;&#x2002;cu_skip_flag[ x0 ][ y0 ]</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( cu_skip_flag[ x0 ][ y0 ] = = 0 &#x26;&#x26; slice_type != I</entry></row><row><entry>&#x2003;&#x2003;&#x2002;&#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 ) &#x26;&#x26; modeType = =</entry></row><row><entry>MODE_TYPE_ALL )</entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( ( ( slice_type = = I &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =0 ) | |</entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;( slice_type != I &#x26;&#x26; ( CuPredMode[ chType ][ x0 ][ y0 ] != MODE_INTRA</entry></row><row><entry>| |</entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = =</entry></row><row><entry>0 ) ) ) ) &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2003;cbWidth &#x3c;= 64 &#x26;&#x26; cbHeight &#x3c;= 64 &#x26;&#x26; modeType !=</entry></row><row><entry>MODE_TYPE_INTER &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2003;sps_ibc_enabled_flag &#x26;&#x26; treeType != DUAL_TREE_CHROMA )</entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_ibc_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;if( ( ( ( slice_type = = I | | ( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 ) | |</entry></row><row><entry>sps_ibc_enabled_flag ) &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2002;CuPredMode[ x0 ][ y0 ] = = MODE_INTRA ) | |</entry></row><row><entry>&#x2003;&#x2003;&#x2003;( slice_type != I &#x26;&#x26; !( cbWidth = = 4 &#x26;&#x26; cbHeight = = 4 ) &#x26;&#x26;</entry></row><row><entry>!sps_ibc_enabled_flag</entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x26;&#x26; CuPredMode[ x0 ][ y0 ] != MODE_INTRA ) ) &#x26;&#x26;</entry></row><row><entry>sps_palette_enabled_flag &#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2003;cbWidth &#x3c;= 64 &#x26;&#x26; cbHeight &#x3c;= 64 &#x26;&#x26; &#x26;&#x26; cu_skip_flag[ x0 ][ y0 ] = = 0</entry></row><row><entry>&#x26;&#x26;</entry></row><row><entry>&#x2003;&#x2003;&#x2003;modeType != MODE_INTER )</entry></row><row><entry>&#x2003;&#x2003;&#x2002;pred_mode_plt_flag</entry><entry>ae(v)</entry></row><row><entry>&#x2003;&#x2003;}</entry></row><row><entry>&#x2003;}</entry></row><row><entry>&#x2003;if([[CuPredMode[ chType ][ x0 ][ y0 ] = = MODE_INTRA | |]]</entry></row><row><entry>&#x2003;&#x2003;CuPredMode[ chType ][ x0 ][ y0 ] = = MODE_PLT ) {</entry></row><row><entry>&#x2003;&#x2003;if( treeType = = SINGLE_TREE | | treeType = = DUAL_TREE_LUMA ) {</entry></row><row><entry>&#x2003;&#x2003;&#x2002;if( pred_mode_plt_flag ) {</entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;if( treeType = = DUAL_TREE_LUMA )</entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;palette_coding( x0, y0, cbWidth, cbHeight, 0, 1 )</entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2002;else /* SINGLE_TREE */</entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;palette_coding( x0, y0, cbWidth, cbHeight, 0, 3 )</entry></row><row><entry>&#x2003;&#x2003;&#x2002;} else {</entry></row><row><entry>&#x2003;&#x2003;&#x2003;&#x2003;...</entry></row><row><entry>&#x2003;&#x2003;}</entry></row><row><entry>&#x2002;...</entry></row><row><entry>&#x2003;&#x2002;}</entry></row><row><entry namest="1" nameend="2" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><heading id="h-0057" level="1">5.26 Embodiment #26</heading><p id="p-0376" num="0641">This embodiment describes the derivation process of chroma intra prediction mode. The newly added texts are bold italicized.</p><heading id="h-0058" level="2">Derivation Process for Chroma Intra Prediction Mode</heading><p id="p-0377" num="0642">Input to this process are:<ul id="ul0140" list-style="none">    <li id="ul0140-0001" num="0000">    <ul id="ul0141" list-style="none">        <li id="ul0141-0001" num="0643">a luma location (xCb, yCb) specifying the top-left sample of the current chroma coding block relative to the top-left luma sample of the current picture,</li>        <li id="ul0141-0002" num="0644">a variable cbWidth specifying the width of the current coding block in luma samples,</li>        <li id="ul0141-0003" num="0645">a variable cbHeight specifying the height of the current coding block in luma samples.<br/>In this process, the chroma intra prediction mode IntraPredModeC[xCb][yCb] is derived.<br/>The corresponding luma intra prediction mode lumaIntraPredMode is derived as follows:</li>        <li id="ul0141-0004" num="0646">If intra_mip_flag[xCb][yCb] is equal to 1, lumaIntraPredMode is set equal to INTRA_PLANAR.</li>        <li id="ul0141-0005" num="0647">Otherwise, if CuPredMode[0][xCb][yCb] is equal to MODE_IBC <img id="CUSTOM-CHARACTER-01150" he="3.56mm" wi="19.73mm" file="US20230007271A1-20230105-P01136.TIF" alt="custom-character" img-content="character" img-format="tif"/> lumaIntraPredMode is set equal to INTRA_DC.</li>        <li id="ul0141-0006" num="0648">Otherwise, lumaIntraPredMode is set equal to IntraPredModeY[xCb+cbWidth/2][yCb+cbHeight/2].</li>    </ul>    </li></ul></p><heading id="h-0059" level="1">5.27 Embodiment #27</heading><p id="p-0378" num="0649">This embodiment describes the picture reconstruction process with mapping process for luma samples. The newly added texts are bold italicized.</p><p id="p-0379" num="0650">Picture reconstruction with mapping process for luma samples. Inputs to this process are:<ul id="ul0142" list-style="none">    <li id="ul0142-0001" num="0000">    <ul id="ul0143" list-style="none">        <li id="ul0143-0001" num="0651">a location (xCurr, yCurr) of the top-left sample of the current block relative to the top-left sample of the current picture,</li>        <li id="ul0143-0002" num="0652">a variable nCurrSw specifying the block width,</li>        <li id="ul0143-0003" num="0653">a variable nCurrSh specifying the block height,</li>        <li id="ul0143-0004" num="0654">an (nCurrSw)&#xd7;(nCurrSh) array predSamples specifying the luma predicted samples of the current block,</li>        <li id="ul0143-0005" num="0655">an (nCurrSw)&#xd7;(nCurrSh) array resSamples specifying the luma residual samples of the current block.<br/>Outputs of this process is a reconstructed luma picture sample array recSamples.<br/>The (nCurrSw)&#xd7;(nCurrSh) array of mapped predicted luma samples predMapSamples is derived as follows:</li>        <li id="ul0143-0006" num="0656">If one of the following conditions is true, predMapSamples[i][j] is set equal to predSamples[i][j] for i=0 . . . nCurrSw&#x2212;1, j=0 . . . nCurrSh&#x2212;1:        <ul id="ul0144" list-style="none">            <li id="ul0144-0001" num="0657">CuPredMode[0][xCurr][yCurr] is equal to MODE_INTRA.</li>            <li id="ul0144-0002" num="0658">CuPredMode[0][xCurr][yCurr] is equal to MODE_IBC.</li>            <li id="ul0144-0003" num="0659"><img id="CUSTOM-CHARACTER-01151" he="3.22mm" wi="32.85mm" file="US20230007271A1-20230105-P01137.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-01152" he="3.22mm" wi="27.18mm" file="US20230007271A1-20230105-P01138.TIF" alt="custom-character" img-content="character" img-format="tif"/><img id="CUSTOM-CHARACTER-01153" he="3.22mm" wi="17.61mm" file="US20230007271A1-20230105-P01139.TIF" alt="custom-character" img-content="character" img-format="tif"/></li>            <li id="ul0144-0004" num="0660">CuPredMode[0][xCurr][yCurr] is equal to MODE_INTER and ciip_flag[xCurr][yCurr] is equal to 1.</li>        </ul>        </li>        <li id="ul0143-0007" num="0661">Otherwise (CuPredMode[0][xCurr][yCurr] is equal to MODE_INTER and ciip_flag[xCurr][yCurr] is equal to 0), the following applies:</li>    </ul>    </li></ul></p><heading id="h-0060" level="1">5.28 Embodiment #28</heading><p id="p-0380" num="0662">This embodiment describes example scanning orders corresponding to the Example 24 in Section 4.</p><p id="p-0381" num="0000">Input to this process is a block width blkWidth and a block height blkHeight.<br/>Output of this process are the arrays hReverScan[sPos][sComp] and vReverScan[sPos][sComp]. The array hReverScan represents the horizontal reverse scan order and the array vReverScan represents the vertical traverse scan order. The array index sPos specifies the scan position ranging from 0 to (blkWidth*blkHeight)&#x2212;1, inclusive. The array index sComp equal to 0 specifies the horizontal component and the array index sComp equal to 1 specifies the vertical component. Depending on the value of blkWidth and blkHeight, the array hTravScan and vTravScan are derived as follows:</p><p id="p-0382" num="0000"><tables id="TABLE-US-00040" num="00040"><table frame="none" colsep="0" rowsep="0"><tgroup align="left" colsep="0" rowsep="0" cols="2"><colspec colname="offset" colwidth="42pt" align="left"/><colspec colname="1" colwidth="175pt" align="left"/><thead><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></thead><tbody valign="top"><row><entry/><entry>i = 0</entry></row><row><entry/><entry>for(y = 0; y &#x3c; blkHeight; y++ )</entry></row><row><entry/><entry>{</entry></row><row><entry/><entry>&#x2003;if( y % 2 != 0 ) {</entry></row><row><entry/><entry>&#x2003;&#x2003;for( x = 0; x &#x3c; blkWidth; x++ ) {</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;hReverScan[ i ][ 0 ] = x</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;hReverScan [ i ][ 1 ] = y</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;i++</entry></row><row><entry/><entry>&#x2003;&#x2003;}</entry></row><row><entry/><entry>&#x2003;}</entry></row><row><entry/><entry>&#x2003;else</entry></row><row><entry/><entry>&#x2003;{</entry></row><row><entry/><entry>&#x2003;&#x2003;for( x = blkWidth &#x2212; 1; x &#x3e;= 0; x&#x2212; &#x2212; ) {</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;hReverScan[ i ][ 0 ] = x</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;hReverScan[ i ][ 1 ] = y</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;i++</entry></row><row><entry/><entry>&#x2003;&#x2003;}</entry></row><row><entry/><entry>&#x2003;}</entry></row><row><entry/><entry>}</entry></row><row><entry/><entry>i = 0</entry></row><row><entry/><entry>for( x = 0; x &#x3c; blkWidth; x++ )</entry></row><row><entry/><entry>{</entry></row><row><entry/><entry>&#x2003;if( x % 2 != 0 )</entry></row><row><entry/><entry>&#x2003;{</entry></row><row><entry/><entry>&#x2003;&#x2003;for( y = 0; y &#x3c; blkHeight; y++ ) {</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;vReverScan[ i ][ 0 ] = x</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;vReverScan [ i ][ 1 ] = y</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;i++</entry></row><row><entry/><entry>&#x2003;&#x2003;}</entry></row><row><entry/><entry>&#x2003;}</entry></row><row><entry/><entry>&#x2003;else</entry></row><row><entry/><entry>&#x2003;{</entry></row><row><entry/><entry>&#x2003;&#x2003;for( y = blkHeight &#x2212; 1; y &#x3e;= 0; y&#x2212; &#x2212; ) {</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;vReverScan [ i ][ 0 ] = x</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;vReverScan [ i ][ 1 ] = y</entry></row><row><entry/><entry>&#x2003;&#x2003;&#x2002;i++</entry></row><row><entry/><entry>&#x2003;&#x2003;}</entry></row><row><entry/><entry>&#x2003;}</entry></row><row><entry/><entry>}</entry></row><row><entry/><entry namest="offset" nameend="1" align="center" rowsep="1"/></row></tbody></tgroup></table></tables></p><p id="p-0383" num="0663"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a block diagram of a video processing apparatus <b>600</b>. The apparatus <b>600</b> may be used to implement one or more of the methods described herein. The apparatus <b>600</b> may be embodied in a smartphone, tablet, computer, Internet of Things (IoT) receiver, and so on. The apparatus <b>600</b> may include one or more processors <b>602</b>, one or more memories <b>604</b> and video processing hardware <b>606</b>. The processor(s) <b>602</b> may be configured to implement one or more methods described in the present document. The memory (memories) <b>604</b> may be used for storing data and code used for implementing the methods and techniques described herein. The video processing hardware <b>606</b> may be used to implement, in hardware circuitry, some techniques described in the present document.</p><p id="p-0384" num="0664"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart for a method <b>800</b> of processing a video. The method <b>800</b> includes determining (<b>805</b>) that palette mode is to be used for processing a transform unit, a coding block, or a region, usage of palette mode being coded separately from a prediction mode, and performing (<b>810</b>) further processing of the transform unit, the coding block, or the region using the palette mode.</p><p id="p-0385" num="0665">With reference to method <b>800</b>, some examples of palette mode coding and its use are described in Section 4 of the present document.</p><p id="p-0386" num="0666">With reference to method <b>800</b>, a video block may be encoded in the video bitstream in which bit efficiency may be achieved by using a bitstream generation rule related to palette mode coding.</p><p id="p-0387" num="0667">The methods can include wherein the prediction mode is coded before indication of the usage of the palette mode.</p><p id="p-0388" num="0668">The methods can include wherein the usage of palette mode is conditionally signaled based on the prediction mode.</p><p id="p-0389" num="0669">The methods can include wherein the prediction mode is intra block copy mode, and signaling of the indication of the usage of palette mode is skipped.</p><p id="p-0390" num="0670">The methods can include wherein the indication of the usage of palette mode is determined to be false based on a current prediction mode being intra block copy mode.</p><p id="p-0391" num="0671">The methods can include wherein the prediction mode is inter mode, and signaling of the indication of the usage of palette mode is skipped.</p><p id="p-0392" num="0672">The methods can include wherein the indication of the usage of palette mode is determined to be false based on a current prediction mode being inter mode.</p><p id="p-0393" num="0673">The methods can include wherein the prediction mode is intra mode, and signaling of the indication of the usage of palette mode is skipped.</p><p id="p-0394" num="0674">The methods can include wherein the indication of the usage of palette mode is determined to be false based on a current prediction mode being intra mode.</p><p id="p-0395" num="0675">The methods can include wherein the prediction mode is intra mode, and signaling of the indication of the usage of palette mode is skipped.</p><p id="p-0396" num="0676">The methods can include wherein the prediction mode is intra block copy mode, and signaling of the indication of the usage of palette mode is performed.</p><p id="p-0397" num="0677">The methods can include wherein the indication of the usage of palette mode is signaled based on a picture, a slice, or a tile group type.</p><p id="p-0398" num="0678">The methods can include wherein the palette mode is added as a candidate for the prediction mode.</p><p id="p-0399" num="0679">The methods can include wherein the prediction mode includes one or more of: intra mode, intra block copy mode, or palette modes for intra slices, inter slices, I pictures, P pictures, B pictures, or intra tile groups.</p><p id="p-0400" num="0680">The methods can include wherein the prediction mode includes two or more of: intra mode, inter mode, intra block copy mode, or palette mode.</p><p id="p-0401" num="0681">The methods can include wherein the usage of palette mode is indicated via signaling or derived based on a condition.</p><p id="p-0402" num="0682">The methods can include wherein the condition includes one or more of: a block dimension of a current block, a prediction mode of the current block, a quantization parameter (QP) of the current block, a palette flag of neighboring blocks, an intra block copy flag of neighboring blocks, an indication of a color format, a separate or a dual coding tree structure, or a slice type or a group type or a picture type.</p><p id="p-0403" num="0683">The methods can include wherein the usage of palette mode is signaled or derived based on a slice level flag, a tile group level flag, or a picture level flag.</p><p id="p-0404" num="0684">The methods can include wherein indication of usage of intra block copy mode is signaled or derived based on a slice level flag, a tile group level flag, or a picture level flag.</p><p id="p-0405" num="0685">With reference to items 6 to 9 disclosed in the previous section, some embodiments may preferably use the following solutions.</p><p id="p-0406" num="0686">One solution may include a method of video processing, comprising performing a conversion between a current video block of a picture of a video and a bitstream representation of the video in which information about whether or not an intra block copy mode is used in the conversion is signaled in the bitstream representation or derived based on a coding condition of the current video block; wherein the intra block copy mode comprises coding the current video block from another video block in the picture. The following features may be implemented in various embodiments<ul id="ul0145" list-style="none">    <li id="ul0145-0001" num="0000">    <ul id="ul0146" list-style="none">        <li id="ul0146-0001" num="0687">wherein the coding condition includes block dimensions of the current video block.</li>        <li id="ul0146-0002" num="0688">wherein the coding condition includes a prediction mode of the current video block or a quantization parameter used in the conversion for the current video block.</li>    </ul>    </li></ul></p><p id="p-0407" num="0689">With reference to items 13-15 disclosed in the previous section, some embodiments may preferably implement the following solutions.</p><p id="p-0408" num="0690">A solution may include a method for determining whether or not a deblocking filter is to be applied during a conversion of a current video block of a picture of video, wherein the current video block is coded using a palette mode coding in which the current video block is represented using representative sample values that are fewer than total pixels of the current video block; and performing the conversion such that the deblocking filter is applied in case the determining is that the deblocking filter is to be applied.</p><p id="p-0409" num="0691">Another solution may include a method of video processing, comprising determining a quantization or an inverse quantization process for use during a conversion between a current video block of a picture of a video and a bitstream representation of the video, wherein the current video block is coded using a palette mode coding in which the current video block is represented using representative sample values that are fewer than total pixels of the current video block; and performing the conversion based on the determining the quantization or the inverse quantization process. Additional features may include:<ul id="ul0147" list-style="none">    <li id="ul0147-0001" num="0000">    <ul id="ul0148" list-style="none">        <li id="ul0148-0001" num="0692">wherein the quantization or the inverse quantization process determined for the current video block is different from another quantization or another inverse quantization process applied to another video block that is coded differently from the palette coding mode.</li>        <li id="ul0148-0002" num="0693">wherein the conversion includes encoding the current video block into the bitstream representation.</li>        <li id="ul0148-0003" num="0694">wherein the conversion includes decoding the bitstream representation to generate the current video block of the video.</li>        <li id="ul0148-0004" num="0695">wherein the determining uses a decision process that is identical to another decision process used for conversion of another video block that is intra coded.</li>    </ul>    </li></ul></p><p id="p-0410" num="0696">It will be appreciated that the disclosed techniques may be embodied in video encoders or decoders to improve compression efficiency using enhanced coding tree structures.</p><p id="p-0411" num="0697">With reference to items 16 to 21 in the previous section, some solutions may be as follows:</p><p id="p-0412" num="0698">A method of video processing, comprising: determining, for a conversion between a current video block of a video comprising multiple video blocks and a bitstream representation of the video, that the current video block is a palette-coded block; based on the determining, performing a list construction process of most probable mode by considering the current video block to be an intra coded block, and performing the conversion based on a result of the list construction process; wherein the palette-coded block is coded or decoded using a palette or representation sample values.</p><p id="p-0413" num="0699">The above method, wherein the list construction process treats a neighboring palette-coded block as an intra block with a default mode.</p><p id="p-0414" num="0700">A method of video processing, comprising: determining, for a conversion between a current video block of a video comprising multiple video blocks and a bitstream representation of the video, that the current video block is a palette-coded block; based on the determining, performing a list construction process of most probable mode by considering the current video block to be a non-intra coded block, and performing the conversion based on a result of the list construction process; wherein the palette-coded block is coded or decoded using a palette or representation sample values.</p><p id="p-0415" num="0701">The above method, wherein the list construction process treats a neighboring palette-coded block as an inter-coded block when fetching an intra mode of the neighboring palette coded block.</p><p id="p-0416" num="0702">A method of video processing, comprising: determining, for a conversion between a current video block of a video comprising multiple video blocks and a bitstream representation of the video, that the current video block is a palette-coded block; based on the determining, performing a list construction process by considering the current video block to be an unavailable block, and performing the conversion based on a result of the list construction process; wherein the palette-coded block is coded or decoded using a palette or representation sample values.</p><p id="p-0417" num="0703">The above method, wherein the list construction process is for a history based motion vector prediction.</p><p id="p-0418" num="0704">The above method, wherein the list construction process is for a MERGE or an advanced motion vector prediction mode.</p><p id="p-0419" num="0705">The above methods, wherein the determining further includes determining based on content of the video.</p><p id="p-0420" num="0706">The above methods, wherein the determining corresponds to a filed in the bitstream representation.</p><p id="p-0421" num="0707">A method of video processing, comprising: determining, during a conversion between a current video block and a bitstream representation of the current video block, that the current video block is a palette coded block, determining, based on the current video block being the palette coded block, a range of context coded bins used for the conversion; and performing the conversion based on the range of context coded bins.</p><p id="p-0422" num="0708">The above method, wherein bins of the current video block that fall outside the range are coded using bypass coding technique or decoded using a bypass decoding technique during the conversion.</p><p id="p-0423" num="0709">The above methods, wherein the conversion comprises encoding the video into the bitstream representation.</p><p id="p-0424" num="0710">The above methods, wherein the conversion comprises decoding the bitstream representation to generate the video.</p><p id="p-0425" num="0711"><figref idref="DRAWINGS">FIG. <b>24</b></figref> is a block diagram showing an example video processing system <b>2400</b> in which various techniques disclosed herein may be implemented. Various implementations may include some or all of the components of the system <b>2400</b>. The system <b>2400</b> may include input <b>2402</b> for receiving video content. The video content may be received in a raw or uncompressed format, e.g., 8 or 10 bit multi-component pixel values, or may be in a compressed or encoded format. The input <b>1902</b> may represent a network interface, a peripheral bus interface, or a storage interface. Examples of network interface include wired interfaces such as Ethernet, passive optical network (PON), etc. and wireless interfaces such as Wi-Fi or cellular interfaces.</p><p id="p-0426" num="0712">The system <b>2400</b> may include a coding component <b>2404</b> that may implement the various coding or encoding methods described in the present document. The coding component <b>2404</b> may reduce the average bitrate of video from the input <b>2402</b> to the output of the coding component <b>2404</b> to produce a coded representation of the video. The coding techniques are therefore sometimes called video compression or video transcoding techniques. The output of the coding component <b>2404</b> may be either stored, or transmitted via a communication connected, as represented by the component <b>2406</b>. The stored or communicated bitstream (or coded) representation of the video received at the input <b>2402</b> may be used by the component <b>2408</b> for generating pixel values or displayable video that is sent to a display interface <b>2410</b>. The process of generating user-viewable video from the bitstream representation is sometimes called video decompression. Furthermore, while certain video processing operations are referred to as &#x201c;coding&#x201d; operations or tools, it will be appreciated that the coding tools or operations are used at an encoder and corresponding decoding tools or operations that reverse the results of the coding will be performed by a decoder.</p><p id="p-0427" num="0713">Examples of a peripheral bus interface or a display interface may include universal serial bus (USB) or high definition multimedia interface (HDMI) or Displayport, and so on.</p><p id="p-0428" num="0714">Examples of storage interfaces include SATA (serial advanced technology attachment), PCI, IDE interface, and the like. The techniques described in the present document may be embodied in various electronic devices such as mobile phones, laptops, smartphones or other devices that are capable of performing digital data processing and/or video display.</p><p id="p-0429" num="0715"><figref idref="DRAWINGS">FIG. <b>25</b></figref> is a flowchart representation of a method <b>2500</b> for video processing in accordance with the present technology. The method <b>2500</b> includes, at operation <b>2510</b>, performing a conversion between a block of a video region of a video and a bitstream representation of the video. The bitstream representation is processed according to a first format rule that specifies whether a first indication of usage of a palette mode is signaled for the block and a second format rule that specifies a position of the first indication relative to a second indication of usage of a prediction mode for the block.</p><p id="p-0430" num="0716">In some embodiments, the video region comprises a transform unit, a coding unit, a prediction unit, or a region of the video. In some embodiments, the second indication of usage of the prediction mode is positioned prior to the first indication of usage of the palette mode in the bitstream representation.</p><p id="p-0431" num="0717">In some embodiments, the first indication of usage of the palette mode is conditionally included in the bitstream representation based on the second indication of usage of the prediction mode. In some embodiments, the first indication of usage of the palette mode is skipped in the bitstream representation in case the second indication of usage of the prediction mode indicates an intra block copy (IBC) prediction mode. In some embodiments, the first indication of usage of the palette mode is skipped in the bitstream representation in case the second indication of usage of the prediction mode indicates an inter prediction mode. In some embodiments, the first indication of usage of the palette mode is skipped in the bitstream representation in case the second indication of usage of prediction mode indicates an intra prediction mode. In some embodiments, the first indication of usage of the palette mode is skipped in the bitstream representation in case the second indication of usage of prediction mode indicates a skip mode. In some embodiments, skipping the first indication of usage of the palette mode in the bitstream representation indicates that the palette mode is not used.</p><p id="p-0432" num="0718">In some embodiments, the first indication of usage of the palette mode is coded in the bitstream in case the second indication of usage of prediction mode indicates an IBC prediction mode. In some embodiments, the first indication of usage of the palette mode is coded in the bitstream in case the second indication of usage of prediction mode indicates an intra prediction mode. In some embodiments, the prediction mode is not a Pulse-Code Modulation (PCM) mode. In some embodiments, the first indication of usage of the palette mode is coded prior to an indication of usage of a PCM mode in the bitstream representation. In some embodiments, an indication of usage of a PCM mode is skipped in the bitstream representation. In some embodiments, an indication of the IBC mode is coded in the bitstream representation. In some embodiments, in case an intra prediction mode is used, a flag in the bitstream representations indicates whether the palette mode or the IBC mode is signaled in the bitstream representation. In some embodiments, the flag is skipped based on a condition of the block, the condition comprising a dimension of the block, whether the IBC mode is enabled for a region associated with the block, or whether the palette mode is enabled for the region associated with the block.</p><p id="p-0433" num="0719">In some embodiments, the first indication of usage of the palette mode is coded in the bitstream in case the second indication of usage of prediction mode indicates an inter prediction mode. In some embodiments, the first indication of usage of the palette mode is coded after at least one of: an indication of a skip mode, the prediction mode, or an indication of usage of a PCM mode. In some embodiments, the first indication of usage of the palette mode is coded after an indication of a skip mode or the prediction mode and is coded before an indication of usage of a PCM mode.</p><p id="p-0434" num="0720">In some embodiments, the first indication of usage of the palette mode is positioned prior to the second indication of usage of the prediction mode in the bitstream representation. In some embodiments, the first indication of usage of the palette mode is positioned after the second indication of usage of the prediction mode, the second indication of usage of the prediction mode indicating an intra or an inter prediction mode in the bitstream representation. In some embodiments, the first indication of usage of the palette mode is signaled based on a picture, a slice, or a tile group type. In some embodiments, the first indication of usage of the palette mode comprises a first flag indicating that the palette mode is enabled for the block. In some embodiments, the first indication of usage of the palette mode is conditionally included in the bitstream representation based on a first flag indicating that the palette mode is enabled in a sequence level, a picture level, a tile group level, or a tile level. In some embodiments, another flag indicating a PCM mode of the block is included in the bitstream representation in case the palette mode is disabled for the block. In some embodiments, the first flag is context coded based on information of one or more neighboring blocks of the current block. In some embodiments, the first flag is coded without context information from one or more neighboring blocks of the current block.</p><p id="p-0435" num="0721">In some embodiments, the second indication of usage of a prediction mode comprises a second flag indicating the prediction mode. In some embodiments, in case the second flag in the bitstream representation indicates that the prediction mode is an inter mode, the bitstream representation further comprising a third flag indicating whether an intra block copy mode is enabled. In some embodiments, in case the second flag in the bitstream representation indicates that the prediction mode is an intra mode, the bitstream representation further comprising a third flag indicating whether an intra block copy mode is enabled. In some embodiments, the third flag is conditionally included in the bitstream representation based on a dimension of the block.</p><p id="p-0436" num="0722">In some embodiments, the block is a coding unit, and the second flag in the bitstream representation indicates that the prediction mode is an intra mode. In some embodiments, the first flag is conditionally included in the bitstream representation based on a dimension of the block.</p><p id="p-0437" num="0723"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a flowchart representation of a method <b>2600</b> for video processing in accordance with the present technology. The method <b>2600</b> includes, at operation <b>2610</b>, determining, for a conversion between a block of a video region in a video and a bitstream representation of the video, a prediction mode based on one or more allowed prediction modes that include at least a palette mode of the block. An indication of usage of the palette mode is determined according to the prediction mode. The method <b>2600</b> includes, at operation <b>2620</b>, performing the conversion based on the determining.</p><p id="p-0438" num="0724">In some embodiments, the one or more allowed prediction modes comprise an intra mode. In some embodiments, the one or more allowed prediction modes comprise an intra block copy (IBC) mode. In some embodiments, the one or more allowed prediction modes comprise an inter mode.</p><p id="p-0439" num="0725">In some embodiments, the video region includes an intra slice, an intra picture, or an intra tile group. In some embodiments, the one or more allowed prediction modes comprise the intra mode, the intra block copy mode, and the palette mode.</p><p id="p-0440" num="0726">In some embodiments, the video region includes an inter slice, an inter picture, an inter tile group, a P slice, a B slice, a P picture, or a B picture. In some embodiments, the one or more allowed prediction modes comprise the intra mode, the intra block copy mode, the palette mode, and the inter mode.</p><p id="p-0441" num="0727">In some embodiments, the block has a dimension of 4&#xd7;4. In some embodiments, the one or more allowed prediction modes exclude the inter mode in case the block has a dimension of 4&#xd7;4.</p><p id="p-0442" num="0728">In some embodiments, the bitstream representation includes at least a prediction mode index representing the one or more allowed prediction modes in case the block is not coded in a skip mode, wherein the prediction mode index is represented using one or more binary bins.</p><p id="p-0443" num="0729">In some embodiments, the prediction mode index is represented using three binary bins, wherein a first bin value of &#x2018;1&#x2019; indicates an intra mode, wherein the first bin value of &#x2018;0&#x2019; and a second bin value of &#x2018;0&#x2019; indicate an inter mode, wherein the first bin value of &#x2018;0&#x2019;, the second bin value of &#x2018;1&#x2019;, and a third bin value of &#x2018;0&#x2019; indicate an IBC mode, and wherein the first bin value of &#x2018;0&#x2019;, the second value of &#x2018;1&#x2019;, and the third bin value of &#x2018;1&#x2019; indicate a palette mode.</p><p id="p-0444" num="0730">In some embodiments, the prediction mode index is represented using two binary bins, wherein a first bin value of &#x2018;1&#x2019; and a second bin value of &#x2018;0&#x2019; indicate an intra mode, wherein the first bin value of &#x2018;0&#x2019; and the second bin value of &#x2018;0&#x2019; indicate an inter mode, wherein the first bin value of &#x2018;0&#x2019; and the second bin value of &#x2018;1&#x2019; indicate an IBC mode, and wherein the first bin value of &#x2018;1&#x2019; and the second bin value of &#x2018;1&#x2019; indicate a palette mode.</p><p id="p-0445" num="0731">In some embodiments, the prediction mode index is represented using one binary bin in case a current slice of the video is an intra slice and an IBC mode is disabled, a first bin value of &#x2018;0&#x2019; indicating an intra mode, and a second bin value of &#x2018;1&#x2019; indicating a palette mode.</p><p id="p-0446" num="0732">In some embodiments, the prediction mode index is represented using two binary bins in case a current slice of the video is not an intra slice and an IBC mode is disabled, wherein a first bin value of &#x2018;1&#x2019; indicates an intra mode, wherein the first bin value of &#x2018;0&#x2019; and a second bin value of &#x2018;0&#x2019; indicate an inter mode, and wherein the first bin value of &#x2018;0&#x2019; and the second bin value of &#x2018; <b>1</b>&#x2019; indicate a palette mode. In some embodiments, the prediction mode index is represented using two binary bins in case a current slice of the video is an intra slice and an IBC mode is enabled, wherein a first bin value of &#x2018;1&#x2019; indicates the IBC mode, wherein the first bin value of &#x2018;0&#x2019; and a second bin value of &#x2018;1&#x2019; indicate a palette mode, and wherein the first bin value of &#x2018;0&#x2019; and the second bin value of &#x2018;0&#x2019; indicate an intra mode. In some embodiments, the indication of the usage of the IBC mode signaled in a Sequence Parameter Set (SPS) of the bitstream representation.</p><p id="p-0447" num="0733">In some embodiments, the prediction mode index is represented using three binary bins,</p><p id="p-0448" num="0734">wherein a first bin value of &#x2018;1&#x2019; indicates an inter mode, wherein the first bin value of &#x2018;0&#x2019; and a second bin value of &#x2018;1&#x2019; indicate an intra mode, wherein the first bin value of &#x2018;0&#x2019;, the second bin value of &#x2018;0&#x2019;, and a third bin value of &#x2018;1&#x2019; indicate an IBC mode, and wherein the first bin value of &#x2018;0&#x2019;, the second bin value of &#x2018;0&#x2019;, and the third bin value of &#x2018;0&#x2019; indicate a palette mode.</p><p id="p-0449" num="0735">In some embodiments, the prediction mode index is represented using three binary bins,</p><p id="p-0450" num="0736">wherein a first bin value of &#x2018;1&#x2019; indicates an intra mode, wherein the first bin value of &#x2018;0&#x2019; and a second bin value of &#x2018;1&#x2019; indicate an inter mode, wherein the first bin value of &#x2018;0&#x2019;, the second bin value of &#x2018;0&#x2019;, and a third bin value of &#x2018;1&#x2019; indicate an IBC mode, and wherein the first bin value of &#x2018;0&#x2019;, the second bin value of &#x2018;0&#x2019;, and the third bin value of &#x2018;0&#x2019; indicate a palette mode.</p><p id="p-0451" num="0737">In some embodiments, the prediction mode index is represented using three binary bins, wherein a first bin value of &#x2018;0&#x2019; indicates an inter mode, wherein the first bin value of &#x2018;1&#x2019; and a second bin value of &#x2018;0&#x2019; indicate an intra mode, wherein the first bin value of &#x2018;1&#x2019;, the second bin value of &#x2018;1&#x2019;, and a third bin value of &#x2018;1&#x2019; indicate an IBC mode, and wherein the first bin value of &#x2018;1&#x2019;, the second bin value of &#x2018;1&#x2019;, and the third bin value of &#x2018;0&#x2019; indicate a palette mode.</p><p id="p-0452" num="0738">In some embodiments, signaling of one of the one or more binary bins is skipped in the bitstream representation in case a condition is satisfied. In some embodiments, the condition comprises a dimension of the block. In some embodiments, the condition comprises a prediction mode being disabled, and wherein a binary bin corresponding to the prediction mode is skipped in the bitstream representation.</p><p id="p-0453" num="0739"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is a flowchart representation of a method <b>2700</b> for video processing in accordance with the present technology. The method <b>2700</b> includes, at operation <b>2710</b>, performing a conversion between a block of a video and a bitstream representation of the video. The bitstream representation is processed according to a format rule that specifies a first indication of usage of a palette mode and a second indication of usage of an intra block copy (IBC) mode are signaled dependent of each other.</p><p id="p-0454" num="0740">In some embodiments, the format rule specifies that the first indication is signaled in the bitstream representation in case a prediction mode of the block is equal to a first prediction mode that is not the IBC mode. In some embodiments, the format rule specifies that the second indication is signaled in the bitstream representation in case a prediction mode of the block is equal to a first prediction mode that is not the palette mode. In some embodiments, the first prediction mode is an intra mode.</p><p id="p-0455" num="0741"><figref idref="DRAWINGS">FIG. <b>28</b></figref> is a flowchart representation of a method <b>2800</b> for video processing in accordance with the present technology. The method <b>2800</b> includes, at operation <b>2810</b>, determining, for a conversion between a block of a video and a bitstream representation of the video, a presence of an indication of usage of a palette mode in the bitstream representation based on a dimension of the block. The method <b>2800</b> includes, at operation <b>2820</b>, performing the conversion based on the determining.</p><p id="p-0456" num="0742"><figref idref="DRAWINGS">FIG. <b>29</b></figref> is a flowchart representation of a method <b>2900</b> for video processing in accordance with the present technology. The method <b>2900</b> includes, at operation <b>2910</b>, determining, for a conversion between a block of a video and a bitstream representation of the video, a presence of an indication of usage of an intra block copy (IBC) mode in the bitstream representation based on a dimension of the block. The method <b>2900</b> includes, at operation <b>2920</b>, performing the conversion based on the determining. In some embodiments, the dimension of the block comprises at least one of: a number of samples in the block, a width of the block, or a height of the block.</p><p id="p-0457" num="0743">In some embodiments, the indication is signaled in the bitstream representation in case the width of the block is equal to or smaller than a threshold. In some embodiments, the indication is signaled in the bitstream representation in case the height of the block is equal to or smaller than a threshold. In some embodiments, the threshold is 64.</p><p id="p-0458" num="0744">In some embodiments, the indication is signaled in the bitstream representation in case the width and the height of the block is larger than a threshold. In some embodiments, the threshold is 4. In some embodiments, the indication is signaled in the bitstream representation in case the number of samples in the block is larger than a threshold. In some embodiments, the threshold is 16. In some embodiments, the indication is signaled in the bitstream representation in case a width of the block is equal to a height of the block.</p><p id="p-0459" num="0745">In some embodiments, the indication is not present in the bitstream representation in case (1) the width of the block is greater than a first threshold, (2) the height of the block is greater than a second threshold, or (3) the number of samples in the block is equal to or smaller than a third threshold. In some embodiments, the first threshold and the second threshold are 64. In some embodiments, the third threshold is 16.</p><p id="p-0460" num="0746">In some embodiments, the determining is further based on a characteristic associated with the block. In some embodiments, the characteristic comprises a prediction mode of the block. In some embodiments, the characteristic comprises a quantization parameter of the block. In some embodiments, the characteristic comprises a palette flag of a neighboring block of the block. In some embodiments, the characteristic comprises an IBC flag of a neighboring block of the block. In some embodiments, the characteristic comprises an indication of a color format of the block. In some embodiments, the characteristic comprises a coding tree structure of the block. In some embodiments, the characteristic comprises a slice group type, a tile group type, or a picture type of the block.</p><p id="p-0461" num="0747"><figref idref="DRAWINGS">FIG. <b>30</b></figref> is a flowchart representation of a method <b>3000</b> for video processing in accordance with the present technology. The method <b>3000</b> includes, at operation <b>3010</b>, determining, for a conversion between a block of a video and a bitstream representation of the video, whether a palette mode is allowed for the block based on a second indication of a video region containing the block. The method <b>3000</b> also includes, at operation <b>3020</b>, performing the conversion based on the determining.</p><p id="p-0462" num="0748">In some embodiments, the video region comprises a slice, a tile group, or a picture. In some embodiments, the bitstream representation excludes an explicit indication of whether the palette mode is allowed in case the second indication indicates that a fractional motion vector difference is enabled. In some embodiments, the second indication is represented as a flag that is present in the bitstream representation. In some embodiments, the second indication indicates whether the palette mode is enabled for the video region. In some embodiments, the bitstream representation excludes an explicit indication of whether the palette mode is allowed in case the second indication indicates the palette mode is disabled for the video region. In some embodiments, the palette mode is disallowed for the block in case the bitstream representation excludes an explicit indication of whether the palette mode is allowed.</p><p id="p-0463" num="0749"><figref idref="DRAWINGS">FIG. <b>31</b></figref> is a flowchart representation of a method <b>3100</b> for video processing in accordance with the present technology. The method <b>3100</b> includes, at operation <b>3110</b>, determining, for a conversion between a block of a video and a bitstream representation of the video, whether an intra block copy (IBC) mode is allowed for the block based on a second indication of a video region containing the block. The method <b>3100</b> also includes, at operation <b>3120</b>, performing the conversion based on the determining.</p><p id="p-0464" num="0750">In some embodiments, the video region comprises a slice, a tile group, or a picture. In some embodiments, the bitstream representation excludes an explicit indication of whether the IBC mode is allowed in case the second indication indicates that a fractional motion vector difference is enabled. In some embodiments, the second indication is represented as a flag that is present in the bitstream representation. In some embodiments, the second indication indicates whether the IBC mode is enabled for the video region. In some embodiments, the bitstream representation excludes an explicit indication of whether the IBC mode is allowed in case the second indication indicates the IBC mode is disabled for the video region. In some embodiments, the IBC mode is disallowed for the block in case the bitstream representation excludes an explicit indication of whether the IBC mode is allowed.</p><p id="p-0465" num="0751">In some embodiments, the conversion generates the current block from the bitstream representation. In some embodiments, the conversion generates the bitstream representation from the current block.</p><p id="p-0466" num="0752">Some embodiments of the disclosed technology include making a decision or determination to enable a video processing tool or mode. In an example, when the video processing tool or mode is enabled, the encoder will use or implement the tool or mode in the processing of a block of video, but may not necessarily modify the resulting bitstream based on the usage of the tool or mode. That is, a conversion from the block of video to the bitstream representation of the video will use the video processing tool or mode when it is enabled based on the decision or determination. In another example, when the video processing tool or mode is enabled, the decoder will process the bitstream with the knowledge that the bitstream has been modified based on the video processing tool or mode. That is, a conversion from the bitstream representation of the video to the block of video will be performed using the video processing tool or mode that was enabled based on the decision or determination.</p><p id="p-0467" num="0753">Some embodiments of the disclosed technology include making a decision or determination to disable a video processing tool or mode. In an example, when the video processing tool or mode is disabled, the encoder will not use the tool or mode in the conversion of the block of video to the bitstream representation of the video. In another example, when the video processing tool or mode is disabled, the decoder will process the bitstream with the knowledge that the bitstream has not been modified using the video processing tool or mode that was enabled based on the decision or determination.</p><p id="p-0468" num="0754">The disclosed and other solutions, examples, embodiments, modules and the functional operations described in this document can be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this document and their structural equivalents, or in combinations of one or more of them. The disclosed and other embodiments can be implemented as one or more computer program products, i.e., one or more modules of computer program instructions encoded on a computer readable medium for execution by, or to control the operation of, data processing apparatus. The computer readable medium can be a machine-readable storage device, a machine-readable storage substrate, a memory device, a composition of matter effecting a machine-readable propagated signal, or a combination of one or more them. The term &#x201c;data processing apparatus&#x201d; encompasses all apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, or multiple processors or computers. The apparatus can include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, or a combination of one or more of them. A propagated signal is an artificially generated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal, that is generated to encode information for transmission to suitable receiver apparatus.</p><p id="p-0469" num="0755">A computer program (also known as a program, software, software application, script, or code) can be written in any form of programming language, including compiled or interpreted languages, and it can be deployed in any form, including as a stand-alone program or as a module, component, subroutine, or other unit suitable for use in a computing environment. A computer program does not necessarily correspond to a file in a file system. A program can be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub programs, or portions of code). A computer program can be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.</p><p id="p-0470" num="0756">The processes and logic flows described in this document can be performed by one or more programmable processors executing one or more computer programs to perform functions by operating on input data and generating output. The processes and logic flows can also be performed by, and apparatus can also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application specific integrated circuit).</p><p id="p-0471" num="0757">Processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer. Generally, a processor will receive instructions and data from a read only memory or a random-access memory or both. The essential elements of a computer are a processor for performing instructions and one or more memory devices for storing instructions and data. Generally, a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto optical disks, or optical disks. However, a computer need not have such devices. Computer readable media suitable for storing computer program instructions and data include all forms of non-volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto optical disks; and CD ROM and DVD-ROM disks. The processor and the memory can be supplemented by, or incorporated in, special purpose logic circuitry.</p><p id="p-0472" num="0758">While this patent document contains many specifics, these should not be construed as limitations on the scope of any subject matter or of what may be claimed, but rather as descriptions of features that may be specific to particular embodiments of particular techniques. Certain features that are described in this patent document in the context of separate embodiments can also be implemented in combination in a single embodiment. Conversely, various features that are described in the context of a single embodiment can also be implemented in multiple embodiments separately or in any suitable subcombination. Moreover, although features may be described above as acting in certain combinations and even initially claimed as such, one or more features from a claimed combination can in some cases be excised from the combination, and the claimed combination may be directed to a subcombination or variation of a subcombination.</p><p id="p-0473" num="0759">Similarly, while operations are depicted in the drawings in a particular order, this should not be understood as requiring that such operations be performed in the particular order shown or in sequential order, or that all illustrated operations be performed, to achieve desirable results. Moreover, the separation of various system components in the embodiments described in this patent document should not be understood as requiring such separation in all embodiments.</p><p id="p-0474" num="0760">Only a few implementations and examples are described, and other implementations, enhancements and variations can be made based on what is described and illustrated in this patent document.</p><?detailed-description description="Detailed Description" end="tail"?></description><us-math idrefs="MATH-US-00001" nb-file="US20230007271A1-20230105-M00001.NB"><img id="EMI-M00001" he="8.13mm" wi="76.20mm" file="US20230007271A1-20230105-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00002" nb-file="US20230007271A1-20230105-M00002.NB"><img id="EMI-M00002" he="8.13mm" wi="76.20mm" file="US20230007271A1-20230105-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00003" nb-file="US20230007271A1-20230105-M00003.NB"><img id="EMI-M00003" he="13.38mm" wi="76.20mm" file="US20230007271A1-20230105-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><us-math idrefs="MATH-US-00004" nb-file="US20230007271A1-20230105-M00004.NB"><img id="EMI-M00004" he="6.01mm" wi="76.20mm" file="US20230007271A1-20230105-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/></us-math><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A method of processing video data, comprising:<claim-text>determining, for a conversion between a current video block of a video and a bitstream of the video, that a first prediction flag is included in the bitstream, wherein the current video block is not skipped, and wherein the first prediction flag indicates whether an inter prediction mode or an intra prediction mode is applied;</claim-text><claim-text>determining a second prediction flag or a third prediction flag is further included in the bitstream at least based on a value of the first prediction flag, wherein the second prediction flag indicates whether a first prediction mode is applied, and wherein in the first prediction mode, prediction samples are derived from reconstructed sample values of the same picture containing the current video block, and wherein the third prediction flag indicates whether a second prediction mode is applied, and wherein in the second prediction mode, reconstructed samples are represented by a set of representative color values, and the set of representative color values comprises at least one of 1) palette predictors, 2) escaped samples, or 3) palette information included in the bitstream; and</claim-text><claim-text>performing the conversion between the first video block and the bitstream.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second prediction flag is further included in the bitstream in a case that the first prediction flag indicating the inter prediction mode is applied.</claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the third prediction flag is further included in the bitstream in a case that the first prediction flag indicating the intra prediction mode is applied.</claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the third prediction flag is context coded with a single context.</claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein whether the second prediction flag and the third prediction flag are included in the bitstream is based on a size of the current video block.</claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein whether the second prediction flag is included in the bitstream is further based on an enable flag related to the first prediction mode in a higher level, and whether the third prediction flag is included in the bitstream is further based on an enable flag related to the second prediction mode in the higher level, and<claim-text>wherein the higher level includes sequence level, picture level, tile group level or tile group.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a first bin and a second bin are used to indicate which one of the intra prediction mode, the inter prediction mode, the first prediction mode, and the second prediction mode is applied for the current video block, and<claim-text>wherein M is equal to a value of the first bin and N is equal to a value of the second bin, and</claim-text><claim-text>wherein in a case that (M, N)=(0, 0), the inter prediction mode is applied for the current video block.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein in a case that (M, N)=(0, 1), the first prediction mode is applied for the current video block.</claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein in a case that (M, N)=(0, 0) or (0, 1), the first bin is corresponding to the first prediction flag and the second bin is corresponding to the second prediction flag, and wherein the third prediction flag is not included in the bitstream.</claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein in a case that (M, N)=(1, 0), the intra prediction mode is applied for the current video block.</claim-text></claim><claim id="CLM-00011" num="00011"><claim-text><b>11</b>. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein in a case that (M, N)=(1, 1), the second prediction mode is applied for the current video block.</claim-text></claim><claim id="CLM-00012" num="00012"><claim-text><b>12</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein in a case that (M, N)=(1, 0) or (1, 1), the first bin is corresponding to the first prediction flag and the second bin is corresponding to the third prediction flag, and wherein the second prediction flag is not included in the bitstream.</claim-text></claim><claim id="CLM-00013" num="00013"><claim-text><b>13</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein in a case that (M, N)=(0, 0), (0, 1) or (1, 1), a third bin indicating whether to apply a third prediction mode is excluded from the bitstream, and wherein in the third prediction mode, a difference between a quantized residual and a prediction of the quantized residual is represented in the bitstream using a pulse coding modulation representation.</claim-text></claim><claim id="CLM-00014" num="00014"><claim-text><b>14</b>. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein a third bin indicating whether to apply a third prediction mode is included in the bitstream in a case that (M, N)=(1, 0), and wherein in the third prediction mode, a difference between a quantized residual and a prediction of the quantized residual is represented in the bitstream using a pulse coding modulation representation.</claim-text></claim><claim id="CLM-00015" num="00015"><claim-text><b>15</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the conversion includes encoding the current video block into the bitstream.</claim-text></claim><claim id="CLM-00016" num="00016"><claim-text><b>16</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the conversion includes decoding the current video block from the bitstream.</claim-text></claim><claim id="CLM-00017" num="00017"><claim-text><b>17</b>. An apparatus for processing video data comprising a processor and a non-transitory memory with instructions thereon, wherein the instructions upon execution by the processor, cause the processor to:<claim-text>determine, for a conversion between a current video block of a video and a bitstream of the video, that a first prediction flag is included in the bitstream, wherein the current video block is not skipped, and wherein the first prediction flag indicates whether an inter prediction mode or an intra prediction mode is applied;</claim-text><claim-text>determine a second prediction flag or a third prediction flag is further included in the bitstream at least based on a value of the first prediction flag, wherein the second prediction flag indicates whether a first prediction mode is applied, and wherein in the first prediction mode, prediction samples are derived from reconstructed sample values of the same picture containing the current video block, and wherein the third prediction flag indicates whether a second prediction mode is applied, and wherein in the second prediction mode, reconstructed samples are represented by a set of representative color values, and the set of representative color values comprises at least one of 1) palette predictors, 2) escaped samples, or 3) palette information included in the bitstream; and</claim-text><claim-text>perform the conversion between the first video block and the bitstream.</claim-text></claim-text></claim><claim id="CLM-00018" num="00018"><claim-text><b>18</b>. The apparatus of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the second prediction flag is further included in the bitstream in a case that the first prediction flag indicating the inter prediction mode is applied.</claim-text></claim><claim id="CLM-00019" num="00019"><claim-text><b>19</b>. A non-transitory computer-readable storage medium storing instructions that cause a processor to:<claim-text>determine, for a conversion between a current video block of a video and a bitstream of the video, that a first prediction flag is included in the bitstream, wherein the current video block is not skipped, and wherein the first prediction flag indicates whether an inter prediction mode or an intra prediction mode is applied;</claim-text><claim-text>determine a second prediction flag or a third prediction flag is further included in the bitstream at least based on a value of the first prediction flag, wherein the second prediction flag indicates whether a first prediction mode is applied, and wherein in the first prediction mode, prediction samples are derived from reconstructed sample values of the same picture containing the current video block, and wherein the third prediction flag indicates whether a second prediction mode is applied, and wherein in the second prediction mode, reconstructed samples are represented by a set of representative color values, and the set of representative color values comprises at least one of 1) palette predictors, 2) escaped samples, or 3) palette information included in the bitstream; and</claim-text><claim-text>perform the conversion between the first video block and the bitstream.</claim-text></claim-text></claim><claim id="CLM-00020" num="00020"><claim-text><b>20</b>. A non-transitory computer-readable recording medium storing a bitstream of a video which is generated by a method performed by a video processing apparatus, wherein the method comprises:<claim-text>determining, for a current video block of the video, that a first prediction flag is included in the bitstream, wherein the current video block is not skipped, and wherein the first prediction flag indicates whether an inter prediction mode or an intra prediction mode is applied;</claim-text><claim-text>determining a second prediction flag or a third prediction flag is further included in the bitstream at least based on a value of the first prediction flag, wherein the second prediction flag indicates whether a first prediction mode is applied, and wherein in the first prediction mode, prediction samples are derived from reconstructed sample values of the same picture containing the current video block, and wherein the third prediction flag indicates whether a second prediction mode is applied, and wherein in the second prediction mode, reconstructed samples are represented by a set of representative color values, and the set of representative color values comprises at least one of 1) palette predictors, 2) escaped samples, or 3) palette information included in the bitstream; and</claim-text><claim-text>generating the bitstream for the current video block.</claim-text></claim-text></claim></claims></us-patent-application>