<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]><us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230004959A1-20230105.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20221221" date-publ="20230105"><us-bibliographic-data-application lang="EN" country="US"><publication-reference><document-id><country>US</country><doc-number>20230004959</doc-number><kind>A1</kind><date>20230105</date></document-id></publication-reference><application-reference appl-type="utility"><document-id><country>US</country><doc-number>17888679</doc-number><date>20220816</date></document-id></application-reference><us-application-series-code>17</us-application-series-code><classifications-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>Q</subclass><main-group>20</main-group><subgroup>38</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>Q</subclass><main-group>30</main-group><subgroup>06</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr><classification-ipcr><ipc-version-indicator><date>20060101</date></ipc-version-indicator><classification-level>A</classification-level><section>G</section><class>06</class><subclass>Q</subclass><main-group>30</main-group><subgroup>02</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source></classification-ipcr></classifications-ipcr><classifications-cpc><main-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>Q</subclass><main-group>20</main-group><subgroup>389</subgroup><symbol-position>F</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></main-cpc><further-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>Q</subclass><main-group>30</main-group><subgroup>0645</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc><classification-cpc><cpc-version-indicator><date>20130101</date></cpc-version-indicator><section>G</section><class>06</class><subclass>Q</subclass><main-group>30</main-group><subgroup>0213</subgroup><symbol-position>L</symbol-position><classification-value>I</classification-value><action-date><date>20230105</date></action-date><generating-office><country>US</country></generating-office><classification-status>B</classification-status><classification-data-source>H</classification-data-source><scheme-origination-code>C</scheme-origination-code></classification-cpc></further-cpc></classifications-cpc><invention-title id="d2e43">CONTROL METHOD, CONTROL DEVICE, AND RECORDING MEDIUM</invention-title><us-related-documents><continuation><relation><parent-doc><document-id><country>US</country><doc-number>PCT/JP2021/005823</doc-number><date>20210217</date></document-id><parent-status>PENDING</parent-status></parent-doc><child-doc><document-id><country>US</country><doc-number>17888679</doc-number></document-id></child-doc></relation></continuation><us-provisional-application><document-id><country>US</country><doc-number>62979654</doc-number><date>20200221</date></document-id></us-provisional-application></us-related-documents><us-parties><us-applicants><us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee"><addressbook><orgname>Panasonic Intellectual Property Corporation of America</orgname><address><city>Torrance</city><state>CA</state><country>US</country></address></addressbook><residence><country>US</country></residence></us-applicant></us-applicants><inventors><inventor sequence="00" designation="us-only"><addressbook><last-name>NISHIDA</last-name><first-name>Naohisa</first-name><address><city>Osaka</city><country>JP</country></address></addressbook></inventor><inventor sequence="01" designation="us-only"><addressbook><last-name>UNAGAMI</last-name><first-name>Yuji</first-name><address><city>Osaka</city><country>JP</country></address></addressbook></inventor></inventors></us-parties></us-bibliographic-data-application><abstract id="abstract"><p id="p-0001" num="0000">A control method is executed by a first node holding a first distributed ledger in which a first blockchain is managed, and includes: obtaining, from a second node, a second blockchain managed by a second distributed ledger held by the second node, and comparing the second blockchain with the first blockchain; updating the first blockchain by adding the greater of at least one first different block contained in the first blockchain but not the second blockchain and at least one second different block contained in the second blockchain but not the first blockchain, after at least one common block, and adding at least one additional block containing at least one instance of transaction data contained in the lesser; and determining whether at least two instances of transaction data each containing at least two instances of contract information that conflict with each other are contained in the updated first blockchain.</p></abstract><drawings id="DRAWINGS"><figure id="Fig-EMI-D00000" num="00000"><img id="EMI-D00000" he="82.21mm" wi="158.75mm" file="US20230004959A1-20230105-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00001" num="00001"><img id="EMI-D00001" he="255.52mm" wi="149.10mm" orientation="landscape" file="US20230004959A1-20230105-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00002" num="00002"><img id="EMI-D00002" he="115.15mm" wi="166.29mm" file="US20230004959A1-20230105-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00003" num="00003"><img id="EMI-D00003" he="106.17mm" wi="172.38mm" file="US20230004959A1-20230105-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00004" num="00004"><img id="EMI-D00004" he="113.28mm" wi="166.20mm" file="US20230004959A1-20230105-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00005" num="00005"><img id="EMI-D00005" he="95.25mm" wi="118.87mm" file="US20230004959A1-20230105-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00006" num="00006"><img id="EMI-D00006" he="122.34mm" wi="172.55mm" file="US20230004959A1-20230105-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00007" num="00007"><img id="EMI-D00007" he="90.34mm" wi="141.65mm" file="US20230004959A1-20230105-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00008" num="00008"><img id="EMI-D00008" he="236.22mm" wi="139.19mm" orientation="landscape" file="US20230004959A1-20230105-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00009" num="00009"><img id="EMI-D00009" he="264.24mm" wi="140.72mm" orientation="landscape" file="US20230004959A1-20230105-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00010" num="00010"><img id="EMI-D00010" he="111.93mm" wi="138.60mm" file="US20230004959A1-20230105-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00011" num="00011"><img id="EMI-D00011" he="177.55mm" wi="169.08mm" file="US20230004959A1-20230105-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00012" num="00012"><img id="EMI-D00012" he="113.88mm" wi="160.02mm" file="US20230004959A1-20230105-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00013" num="00013"><img id="EMI-D00013" he="176.61mm" wi="107.78mm" file="US20230004959A1-20230105-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00014" num="00014"><img id="EMI-D00014" he="145.80mm" wi="155.11mm" file="US20230004959A1-20230105-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00015" num="00015"><img id="EMI-D00015" he="163.24mm" wi="168.74mm" file="US20230004959A1-20230105-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00016" num="00016"><img id="EMI-D00016" he="112.27mm" wi="90.59mm" file="US20230004959A1-20230105-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00017" num="00017"><img id="EMI-D00017" he="156.04mm" wi="170.52mm" file="US20230004959A1-20230105-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00018" num="00018"><img id="EMI-D00018" he="172.47mm" wi="89.49mm" orientation="landscape" file="US20230004959A1-20230105-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00019" num="00019"><img id="EMI-D00019" he="188.30mm" wi="89.49mm" orientation="landscape" file="US20230004959A1-20230105-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00020" num="00020"><img id="EMI-D00020" he="226.65mm" wi="89.41mm" orientation="landscape" file="US20230004959A1-20230105-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00021" num="00021"><img id="EMI-D00021" he="265.60mm" wi="169.76mm" orientation="landscape" file="US20230004959A1-20230105-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00022" num="00022"><img id="EMI-D00022" he="263.48mm" wi="169.33mm" orientation="landscape" file="US20230004959A1-20230105-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00023" num="00023"><img id="EMI-D00023" he="245.87mm" wi="170.26mm" orientation="landscape" file="US20230004959A1-20230105-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00024" num="00024"><img id="EMI-D00024" he="183.47mm" wi="104.14mm" file="US20230004959A1-20230105-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00025" num="00025"><img id="EMI-D00025" he="150.11mm" wi="166.03mm" file="US20230004959A1-20230105-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00026" num="00026"><img id="EMI-D00026" he="241.89mm" wi="77.89mm" orientation="landscape" file="US20230004959A1-20230105-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00027" num="00027"><img id="EMI-D00027" he="263.57mm" wi="74.93mm" orientation="landscape" file="US20230004959A1-20230105-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00028" num="00028"><img id="EMI-D00028" he="257.89mm" wi="76.28mm" orientation="landscape" file="US20230004959A1-20230105-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00029" num="00029"><img id="EMI-D00029" he="263.57mm" wi="153.84mm" orientation="landscape" file="US20230004959A1-20230105-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00030" num="00030"><img id="EMI-D00030" he="263.40mm" wi="141.65mm" orientation="landscape" file="US20230004959A1-20230105-D00030.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00031" num="00031"><img id="EMI-D00031" he="263.82mm" wi="171.45mm" orientation="landscape" file="US20230004959A1-20230105-D00031.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00032" num="00032"><img id="EMI-D00032" he="199.81mm" wi="170.52mm" orientation="landscape" file="US20230004959A1-20230105-D00032.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00033" num="00033"><img id="EMI-D00033" he="216.83mm" wi="170.43mm" orientation="landscape" file="US20230004959A1-20230105-D00033.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00034" num="00034"><img id="EMI-D00034" he="247.90mm" wi="171.87mm" orientation="landscape" file="US20230004959A1-20230105-D00034.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00035" num="00035"><img id="EMI-D00035" he="255.78mm" wi="169.50mm" orientation="landscape" file="US20230004959A1-20230105-D00035.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00036" num="00036"><img id="EMI-D00036" he="168.74mm" wi="166.71mm" file="US20230004959A1-20230105-D00036.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00037" num="00037"><img id="EMI-D00037" he="175.18mm" wi="92.46mm" orientation="landscape" file="US20230004959A1-20230105-D00037.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00038" num="00038"><img id="EMI-D00038" he="182.03mm" wi="92.88mm" orientation="landscape" file="US20230004959A1-20230105-D00038.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00039" num="00039"><img id="EMI-D00039" he="199.64mm" wi="93.22mm" orientation="landscape" file="US20230004959A1-20230105-D00039.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00040" num="00040"><img id="EMI-D00040" he="196.77mm" wi="168.91mm" orientation="landscape" file="US20230004959A1-20230105-D00040.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00041" num="00041"><img id="EMI-D00041" he="264.16mm" wi="154.86mm" orientation="landscape" file="US20230004959A1-20230105-D00041.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00042" num="00042"><img id="EMI-D00042" he="247.31mm" wi="75.95mm" orientation="landscape" file="US20230004959A1-20230105-D00042.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00043" num="00043"><img id="EMI-D00043" he="256.20mm" wi="170.10mm" orientation="landscape" file="US20230004959A1-20230105-D00043.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00044" num="00044"><img id="EMI-D00044" he="263.65mm" wi="168.40mm" orientation="landscape" file="US20230004959A1-20230105-D00044.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00045" num="00045"><img id="EMI-D00045" he="239.86mm" wi="170.35mm" orientation="landscape" file="US20230004959A1-20230105-D00045.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00046" num="00046"><img id="EMI-D00046" he="256.12mm" wi="171.79mm" orientation="landscape" file="US20230004959A1-20230105-D00046.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00047" num="00047"><img id="EMI-D00047" he="247.14mm" wi="169.33mm" orientation="landscape" file="US20230004959A1-20230105-D00047.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00048" num="00048"><img id="EMI-D00048" he="174.92mm" wi="142.49mm" file="US20230004959A1-20230105-D00048.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00049" num="00049"><img id="EMI-D00049" he="180.34mm" wi="92.88mm" orientation="landscape" file="US20230004959A1-20230105-D00049.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00050" num="00050"><img id="EMI-D00050" he="180.34mm" wi="92.88mm" orientation="landscape" file="US20230004959A1-20230105-D00050.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00051" num="00051"><img id="EMI-D00051" he="216.49mm" wi="92.88mm" orientation="landscape" file="US20230004959A1-20230105-D00051.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00052" num="00052"><img id="EMI-D00052" he="239.27mm" wi="92.88mm" orientation="landscape" file="US20230004959A1-20230105-D00052.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00053" num="00053"><img id="EMI-D00053" he="246.89mm" wi="132.59mm" orientation="landscape" file="US20230004959A1-20230105-D00053.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00054" num="00054"><img id="EMI-D00054" he="256.37mm" wi="163.15mm" orientation="landscape" file="US20230004959A1-20230105-D00054.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00055" num="00055"><img id="EMI-D00055" he="222.33mm" wi="171.11mm" orientation="landscape" file="US20230004959A1-20230105-D00055.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00056" num="00056"><img id="EMI-D00056" he="262.47mm" wi="169.08mm" orientation="landscape" file="US20230004959A1-20230105-D00056.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00057" num="00057"><img id="EMI-D00057" he="259.59mm" wi="168.06mm" orientation="landscape" file="US20230004959A1-20230105-D00057.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00058" num="00058"><img id="EMI-D00058" he="84.07mm" wi="146.39mm" orientation="landscape" file="US20230004959A1-20230105-D00058.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00059" num="00059"><img id="EMI-D00059" he="225.72mm" wi="163.07mm" orientation="landscape" file="US20230004959A1-20230105-D00059.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure><figure id="Fig-EMI-D00060" num="00060"><img id="EMI-D00060" he="244.01mm" wi="159.77mm" orientation="landscape" file="US20230004959A1-20230105-D00060.TIF" alt="embedded image" img-content="drawing" img-format="tif"/></figure></drawings><description id="description"><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?><heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading><p id="p-0002" num="0001">This is a continuation application of PCT International Application No. PCT/JP2021/005823 filed on Feb. 17, 2021, designating the United States of America, which is based on and claims priority of U.S. Provisional Patent Application No. 62/979,654 filed on Feb. 21, 2020. The entire disclosures of the above-identified applications, including the specifications, drawings and claims are incorporated herein by reference in their entirety.</p><?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?><?summary-of-invention description="Summary of Invention" end="lead"?><heading id="h-0002" level="1">FIELD</heading><p id="p-0003" num="0002">The present disclosure relates to a control method, a control device, and a recording medium.</p><heading id="h-0003" level="1">BACKGROUND</heading><p id="p-0004" num="0003">PTL 1 discloses, for example, a technique for using a blockchain to appropriately manage information pertaining to a use reservation exchanged between a vehicle terminal and a user terminal.</p><heading id="h-0004" level="1">CITATION LIST</heading><heading id="h-0005" level="1">Patent Literature</heading><p id="p-0005" num="0004">PTL 1: Japanese Unexamined Patent Application Publication No. 2019-153130</p><heading id="h-0006" level="1">SUMMARY</heading><heading id="h-0007" level="1">Technical Problem</heading><p id="p-0006" num="0005">However, the technique disclosed in PTL 1 has a problem in that when using a blockchain to manage contracts or transactions such as use reservations for an object, the object can be used in an improper manner by exploiting the behavior of the blockchain when a fork occurs.</p><p id="p-0007" num="0006">Having been achieved in light of the foregoing circumstances, an object of the present disclosure is to provide a control method, a control device, and a recording medium that can suppress improper use of a service object by exploiting a blockchain.</p><heading id="h-0008" level="1">Solution to Problem</heading><p id="p-0008" num="0007">A control method according to one aspect of the present disclosure is a control method executed by a first node holding a first distributed ledger in which a first blockchain is managed, in an information processing system including a plurality of nodes each holding a distributed ledger, the first node being one of the plurality of nodes. The control method includes: obtaining, from a second node among the plurality of nodes, a second blockchain managed by a second distributed ledger held by the second node, by the first node communicating with the second node after the first node shifts from being unable to communicate with the second node to being able to communicate with the second node; comparing the first blockchain with the second blockchain obtained; updating, based on a result of the comparing, the first blockchain by adding a greater of at least one first different block contained in the first blockchain but not contained in the second blockchain and at least one second different block contained in the second blockchain but not contained in the first blockchain, after at least one common block common to both the first blockchain and the second blockchain, and adding at least one additional block containing at least one instance of transaction data contained in a lesser of the at least one first different block and the at least one second different block after the greater; and determining whether at least two instances of transaction data each containing at least two instances of contract information that conflict with each other are contained in the first blockchain which has gone through the updating.</p><p id="p-0009" num="0008">Note that these comprehensive or specific aspects may be realized by a system, a method, an integrated circuit, a computer program, or a computer-readable recording medium such as a CD-ROM, or may be implemented by any desired combination of systems, methods, integrated circuits, computer programs, and recording media.</p><heading id="h-0009" level="1">Advantageous Effects</heading><p id="p-0010" num="0009">According to the present disclosure, the improper use of a service object by exploiting a blockchain can be suppressed.</p><?summary-of-invention description="Summary of Invention" end="tail"?><?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?><description-of-drawings><heading id="h-0010" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p-0011" num="0010">These and other advantages and features will become apparent from the following description thereof taken in conjunction with the accompanying Drawings, by way of non-limiting examples of embodiments disclosed herein.</p><p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram illustrating a sequence of a method for improper use.</p><p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. <b>2</b>A</figref> is a diagram illustrating an example of a situation where step <b>1</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is performed.</p><p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. <b>2</b>B</figref> is a diagram illustrating an example of a situation where steps <b>2</b> and <b>3</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> are performed.</p><p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. <b>2</b>C</figref> is a diagram illustrating an example of a situation where step <b>4</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is performed.</p><p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. <b>2</b>D</figref> is a diagram illustrating an example of a situation where step <b>5</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is performed.</p><p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>2</b>E</figref> is a diagram illustrating an example of a situation where step <b>6</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is performed.</p><p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>2</b>F</figref> is a diagram illustrating an example of a situation occurring after step <b>6</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> has been performed.</p><p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>3</b>A</figref> is a diagram illustrating the behavior of a blockchain when a fork occurs.</p><p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>3</b>B</figref> is a diagram illustrating the behavior of a blockchain when a fork occurs.</p><p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>3</b>C</figref> is a diagram illustrating the behavior of a blockchain when a fork occurs.</p><p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a diagram illustrating an example of the configuration of a system according to an embodiment.</p><p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>5</b>A</figref> is a diagram illustrating another example of the configuration of a system according to an embodiment.</p><p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>5</b>B</figref> is a diagram illustrating another example of the configuration of a system according to an embodiment.</p><p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>5</b>C</figref> is a diagram illustrating another example of the configuration of a system according to an embodiment.</p><p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a diagram illustrating an example of the configuration of a mobile body device according to an embodiment.</p><p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a diagram illustrating an example of the configuration of a terminal according to an embodiment.</p><p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart illustrating an overview of operations in normal processing by a system according to Comparative Example 1.</p><p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>9</b>A</figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>1</b> in <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>9</b>B</figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>3</b> in <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>9</b>C</figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>5</b> in <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a sequence chart illustrating reservation processing by the system according to Comparative Example 1.</p><p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a sequence chart illustrating renting processing by the system according to Comparative Example 1.</p><p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>12</b></figref> is a sequence chart illustrating return processing by the system according to Comparative Example 1.</p><p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a flowchart illustrating details of fee calculation processing by a system according to a comparative example.</p><p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a flowchart illustrating an overview of operations in normal processing by a system according to Comparative Example 2.</p><p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. <b>15</b>A</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>1</b>A in <figref idref="DRAWINGS">FIG. <b>14</b></figref>.</p><p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>15</b>B</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>3</b>A in <figref idref="DRAWINGS">FIG. <b>14</b></figref>.</p><p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. <b>15</b>C</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>5</b>A in <figref idref="DRAWINGS">FIG. <b>14</b></figref>.</p><p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. <b>16</b></figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>6</b>A in <figref idref="DRAWINGS">FIG. <b>14</b></figref>.</p><p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. <b>17</b></figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>6</b>A in <figref idref="DRAWINGS">FIG. <b>14</b></figref>.</p><p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. <b>18</b></figref> is a sequence chart illustrating reservation processing by the system according to Comparative Example 2.</p><p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a sequence chart illustrating renting processing by the system according to Comparative Example 2.</p><p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a sequence chart illustrating return processing by the system according to Comparative Example 2.</p><p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is a sequence chart illustrating processing by the system, performed when communication is restored for mobile body device A, according to Comparative Example 2.</p><p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is a flowchart illustrating block concatenation processing by a system according to a comparative example.</p><p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is a flowchart illustrating an overview of operations in improper processing by a system according to Comparative Example 3.</p><p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. <b>24</b>A</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>10</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. <b>24</b>B</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>11</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. <b>24</b>C</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>12</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. <b>25</b></figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>13</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. <b>26</b></figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>13</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. <b>27</b></figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>14</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>.</p><p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. <b>28</b></figref> is a sequence chart illustrating processing when making a local reservation, performed by the system according to Comparative Example 3.</p><p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. <b>29</b></figref> is a sequence chart illustrating processing when making a conflicting reservation, performed by the system according to Comparative Example 3.</p><p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. <b>30</b></figref> is a sequence chart illustrating processing for local renting, by the system according to Comparative Example 3.</p><p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. <b>31</b></figref> is a sequence chart illustrating processing by the system, performed when communication is restored for mobile body device A, according to Comparative Example 3.</p><p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. <b>32</b></figref> is a sequence chart illustrating return processing by the system according to Comparative Example 3.</p><p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. <b>33</b></figref> is a flowchart illustrating an overview of operations in improper processing by a system according to Comparative Example 4.</p><p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. <b>34</b>A</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>10</b> in <figref idref="DRAWINGS">FIG. <b>33</b></figref>.</p><p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. <b>34</b>B</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>11</b> in <figref idref="DRAWINGS">FIG. <b>33</b></figref>.</p><p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. <b>34</b>C</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>12</b> in <figref idref="DRAWINGS">FIG. <b>33</b></figref>.</p><p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. <b>34</b>D</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>13</b>A in <figref idref="DRAWINGS">FIG. <b>33</b></figref>.</p><p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. <b>35</b></figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>14</b>A in <figref idref="DRAWINGS">FIG. <b>33</b></figref>.</p><p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. <b>36</b></figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>14</b>A in <figref idref="DRAWINGS">FIG. <b>33</b></figref>.</p><p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. <b>37</b></figref> is a sequence chart illustrating processing for local return, by the system according to Comparative Example 4.</p><p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. <b>38</b></figref> is a sequence chart illustrating processing by the system, performed when communication is restored for mobile body device A, according to Comparative Example 4.</p><p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. <b>39</b></figref> is a sequence chart illustrating processing by the system, performed when communication is restored for mobile body device A, according to an embodiment.</p><p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. <b>40</b></figref> is a flowchart illustrating improper reservation detection processing according to an embodiment.</p><p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. <b>41</b></figref> is a sequence chart illustrating processing performed by the system when the improper reservation detection processing is executed, and an incident report is generated, according to an embodiment.</p><p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. <b>42</b></figref> is a sequence chart illustrating processing performed by the system when impropriety list generation processing is executed according to an embodiment.</p></description-of-drawings><?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?><?detailed-description description="Detailed Description" end="lead"?><heading id="h-0011" level="1">DESCRIPTION OF EMBODIMENTS</heading><heading id="h-0012" level="1">Background Leading to One Aspect of Present Disclosure</heading><p id="p-0072" num="0071">As described above, PTL 1 discloses, for example, a technique for using a blockchain to appropriately manage information pertaining to a use reservation exchanged between a vehicle terminal and a user terminal.</p><p id="p-0073" num="0072">However, with the technique disclosed in PTL 1, the mechanism of the blockchain can be exploited and used in an improper manner. Several examples will be described hereinafter.</p><p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a diagram illustrating a sequence of a method for improper use. <figref idref="DRAWINGS">FIGS. <b>2</b>A to <b>2</b>F</figref> are diagrams illustrating examples of situations where the sequence illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is performed. <figref idref="DRAWINGS">FIG. <b>1</b></figref> illustrates a sequence when a use reservation is made for bike A in a service for sharing a plurality of bikes, and bike A is used improperly. The arrows indicate the current time. Additionally, each of the plurality of bikes has a ledger in which reservations are managed using a blockchain. <figref idref="DRAWINGS">FIG. <b>2</b>A</figref> is a diagram illustrating an example of a situation where step <b>1</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is performed, and <figref idref="DRAWINGS">FIG. <b>2</b>B</figref> is a diagram illustrating an example of a situation where steps <b>2</b> and <b>3</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> are performed. <figref idref="DRAWINGS">FIG. <b>2</b>C</figref> is a diagram illustrating an example of a situation where step <b>4</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is performed, and <figref idref="DRAWINGS">FIG. <b>2</b>D</figref> is a diagram illustrating an example of a situation where step <b>5</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is performed. <figref idref="DRAWINGS">FIG. <b>2</b>E</figref> is a diagram illustrating an example of a situation where step <b>6</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref> is performed, and <figref idref="DRAWINGS">FIG. <b>2</b>F</figref> is a diagram illustrating an example of a situation for step <b>7</b>, which is performed after step <b>6</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0075" num="0074">A user planning to improperly use a bike makes, for example, a first reservation to use bike A for 15 minutes, from 12:00 to 12:15, in step <b>1</b>, as illustrated in <figref idref="DRAWINGS">FIG. <b>2</b>A</figref>. At this time, ledger A of bike A is capable of communication with ledgers B and C of other bikes (that is, is online), and thus first reservation Tx, which is indicated by black, is stored in all of the ledgers (ledgers A, B, and C), as indicated in step <b>1</b> of <figref idref="DRAWINGS">FIG. <b>1</b></figref>. As a result, bike A is unlocked and the user can use bike A for 15 minutes, from 12:00 to 12:15.</p><p id="p-0076" num="0075">Next, the user planning to use bike A improperly puts ledger A of bike A in a state in which ledgers B and C of the other bikes cannot be communicated with (that is, offline) in steps <b>2</b> and <b>3</b>, as illustrated in <figref idref="DRAWINGS">FIG. <b>2</b>B</figref>. Next, the user planning to use bike A improperly makes a second reservation, for example, to use bike A for 15 minutes, from 16:00 to 16:15, in ledgers B and C of the other bikes. At this time, ledger A of bike A is offline, and thus second reservation Tx, which is indicated by black, is stored only in ledgers B and C that are online, as indicated in step <b>3</b> of <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0077" num="0076">Next, the user planning to improperly use bike A makes, for example, an improper reservation to use bike A from 12:15 to 16:15 in ledger A of bike A, in step <b>4</b>, as illustrated in <figref idref="DRAWINGS">FIG. <b>2</b>C</figref>. At this time, ledger A of bike A is incapable of communication with ledgers B and C of the other bikes (that is, is offline), and thus improper reservation Tx, which is indicated by hatching, is stored only in ledger A of bike A, as indicated in step <b>4</b> of <figref idref="DRAWINGS">FIG. <b>1</b></figref>. As a result, bike A is unlocked at 12:15, and thus the user can improperly use bike A while still in an offline state from 12:15 to 16:15, as indicated by step <b>5</b> of <figref idref="DRAWINGS">FIG. <b>2</b>D</figref>. In this case, second reservation Tx, which is indicated by black, is stored only in ledgers B and C which are online, as indicated by step <b>5</b> in <figref idref="DRAWINGS">FIG. <b>1</b></figref>.</p><p id="p-0078" num="0077">Next, the user returns ledger A of bike A to a state in which ledgers B and C of the other bikes can be communicated with (that is, online) from 16:00 to 16:15, in step <b>6</b> of <figref idref="DRAWINGS">FIG. <b>2</b>E</figref>. Then, as will be described in detail later, a fork occurs in the blockchains of ledgers A, B, and C, and second reservation Tx is stored in the blockchain of ledger A in the same manner as with the blockchains of ledgers B and C, as indicated by step <b>6</b> of <figref idref="DRAWINGS">FIG. <b>1</b></figref>. Improper reservation Tx is thus stored after second reservation Tx.</p><p id="p-0079" num="0078">The behavior of the blockchains when a fork occurs, in which improper reservation Tx is stored in ledgers A, B, and C after second reservation Tx when ledger A of bike A returns online in step <b>6</b>, will be described here.</p><p id="p-0080" num="0079"><figref idref="DRAWINGS">FIGS. <b>3</b>A to <b>3</b>C</figref> are diagrams illustrating the behavior of the blockchains when a fork occurs. <figref idref="DRAWINGS">FIGS. <b>3</b>A to <b>3</b>C</figref> conceptually illustrate transaction data stored in ledger A of mobile body A and ledger B of mobile body B. Tx indicates the transaction data. Mobile body A may be bike A, for example.</p><p id="p-0081" num="0080">First, as indicated on the left side of <figref idref="DRAWINGS">FIG. <b>3</b>A</figref>, when ledger A of mobile body A and ledger B of mobile body B are capable of communicating with another mobile body (not shown) (that is, are online), block <b>1</b> containing the same Tx<b>1</b>, and block <b>2</b> concatenated with block <b>1</b> and containing Tx<b>2</b>, are stored in ledger A and ledger B. Tx<b>2</b> may correspond to the above-described first reservation Tx, for example.</p><p id="p-0082" num="0081">In this manner, in ledger A and ledger B, when block <b>2</b> containing Tx<b>2</b> is generated, block <b>2</b> is concatenated with block <b>1</b> generated the previous time. The same blockchain is configured in ledger A and ledger B.</p><p id="p-0083" num="0082">Next, as indicated on the right side of <figref idref="DRAWINGS">FIG. <b>3</b>A</figref>, when the communication between ledger A of mobile body A and the other mobile body is interrupted (that is, offline), blocks containing different Tx's are stored in ledger A and ledger B. In the example indicated on the right side of <figref idref="DRAWINGS">FIG. <b>3</b>A</figref>, block a concatenated with block <b>2</b> and containing Txa is stored in ledger A, whereas block <b>3</b> concatenated with block <b>2</b> and containing Tx<b>3</b> and block <b>4</b> concatenated with block <b>3</b> and containing Tx<b>4</b> are stored in ledger B. For example, Tx<b>3</b> may correspond to the above-described second reservation Tx, and Txa may correspond to the above-described improper reservation Tx.</p><p id="p-0084" num="0083">In this manner, when ledger A goes offline, the communication of ledger A and ledger B is interrupted, and thus ledger A and ledger B update their respective blockchains separately.</p><p id="p-0085" num="0084">Next, as indicated on the left side of <figref idref="DRAWINGS">FIG. <b>3</b>B</figref>, when ledger A of mobile body A returns to communicability with the other mobile body (goes back online), ledger A and ledger B share the different blockchains with each other. In ledger A and ledger B in the example indicated on the left side of <figref idref="DRAWINGS">FIG. <b>3</b>B</figref>, the blocks concatenated to block <b>2</b> branch, with block a containing Txa being concatenated to block <b>2</b>, and block <b>3</b> containing Tx<b>3</b> and block <b>4</b> containing Tx<b>4</b> being concatenated to block <b>2</b>. Hereinafter, the longest blockchain among the blockchains branched and concatenated to a block will be called a &#x201c;main chain&#x201d;, and other blockchains will be called &#x201c;sidechains&#x201d;. In the example indicated on the left side of <figref idref="DRAWINGS">FIG. <b>3</b>B</figref>, block <b>3</b> containing Tx<b>3</b> and block <b>4</b> containing Tx<b>4</b> correspond to the main chain of block <b>2</b>, and block a containing Txa corresponds to a sidechain of block <b>2</b>.</p><p id="p-0086" num="0085">In this manner, when ledger A comes back online, the blockchain concatenated to block <b>2</b> branches and a fork occurs.</p><p id="p-0087" num="0086">Next, as indicated on the right side of <figref idref="DRAWINGS">FIG. <b>3</b>B</figref>, block a containing Txa, which is a sidechain of block <b>2</b>, is deleted, which eliminates the fork. At this time, Txa which had been contained in block a is not deleted, and is stored in the transaction pools of mobile body devices installed in the respective mobile bodies. In the example indicated on the right side of <figref idref="DRAWINGS">FIG. <b>3</b>B</figref>, Txa is stored in the transaction pools of mobile body device A and mobile body device B.</p><p id="p-0088" num="0087">Next, as indicated in <figref idref="DRAWINGS">FIG. <b>3</b>C</figref>, in ledger A and ledger B, Txa is included in a new block at the timing at which the new block is generated, and is stored. In the example indicated in <figref idref="DRAWINGS">FIG. <b>3</b>C</figref>, block <b>5</b> containing the same Txa is concatenated to block <b>4</b> and stored in ledger A and ledger B.</p><p id="p-0089" num="0088">In this manner, the fork is eliminated, and ledger A and ledger B have the same blockchain. The descriptions will now be resumed from <figref idref="DRAWINGS">FIG. <b>2</b>F</figref>.</p><p id="p-0090" num="0089">Finally, the user who planned to use bike A improperly returns bike A in step <b>7</b>, as indicated in <figref idref="DRAWINGS">FIG. <b>2</b>F</figref>. A fee collection algorithm is then executed, and a use fee for bike A is collected. However, only a fee equivalent to the first reservation and the second reservation is collected, and the fee for the use from 12:15 to 16:15, i.e., the improper use, is not collected.</p><p id="p-0091" num="0090">This is because when ledger A of bike A goes back online in step S<b>6</b>, improper reservation Tx is stored in ledgers A, B, and C after second reservation Tx, and furthermore, the reservation time period of second reservation Tx and the reservation time period of improper reservation Tx are booked. Additionally, the fee collection algorithm does not collect a fee for an improper reservation that is a booked reservation (i.e., a conflicting reservation) and is a later reservation. In this manner, the user is able to use bike A for four hours without paying a fee.</p><p id="p-0092" num="0091">As described above, there is a problem in that when using a blockchain to manage use reservations for an object or the like, the object can be used in an improper manner by exploiting the behavior of the blockchain when a fork occurs.</p><p id="p-0093" num="0092">In response to this, a control method according to one aspect of the present disclosure is a control method executed by a first node holding a first distributed ledger in which a first blockchain is managed, in an information processing system including a plurality of nodes each holding a distributed ledger, the first node being one of the plurality of nodes. The control method includes: obtaining, from a second node among the plurality of nodes, a second blockchain managed by a second distributed ledger held by the second node, by the first node communicating with the second node after the first node shifts from being unable to communicate with the second node to being able to communicate with the second node; comparing the first blockchain with the second blockchain obtained; updating, based on a result of the comparing, the first blockchain by adding a greater of at least one first different block contained in the first blockchain but not contained in the second blockchain and at least one second different block contained in the second blockchain but not contained in the first blockchain, after at least one common block common to both the first blockchain and the second blockchain, and adding at least one additional block containing at least one instance of transaction data contained in a lesser of the at least one first different block and the at least one second different block after the greater; and determining whether at least two instances of transaction data each containing at least two instances of contract information that conflict with each other are contained in the first blockchain which has gone through the updating.</p><p id="p-0094" num="0093">Through this, the first blockchain is updated by storing, in the first blockchain, at least one instance of transaction data contained in the lesser of at least one first different block and at least one second different block, and it is determined whether improper contract information is present in the first blockchain after the update. Accordingly, improper contract information can be detected, and the improper use of the service object by exploiting the blockchain can be suppressed.</p><p id="p-0095" num="0094">Additionally, for example, the at least one first different block may be a block added to the first blockchain in a state where the first node is unable to communicate with the second node among the plurality of nodes, and may include a first block containing first transaction data that contains information pertaining to a first contract.</p><p id="p-0096" num="0095">Accordingly, whether the first contract generated in a state where the first node cannot communicate with the second nodes is improper can be determined.</p><p id="p-0097" num="0096">Additionally, for example, the updating may be performed when the result of the comparing indicates that the first blockchain contains the at least one first different block and the second blockchain contains the at least one second different block.</p><p id="p-0098" num="0097">Additionally, for example, the control method may further include: generating impropriety transaction data containing impropriety information indicating that one of the at least two instances of contract information contained in each of the at least two instances of transaction data is improper, when the at least two instances of transaction data are determined, in the determining, to be contained in the first blockchain which has gone through the updating; and adding a second block containing the impropriety transaction data to the first blockchain which has gone through the updating.</p><p id="p-0099" num="0098">Additionally, for example, the additional block may contain one of the at least two instances of transaction data.</p><p id="p-0100" num="0099">Additionally, for example, when the at least two instances of transaction data are contained in the first blockchain, a contract corresponding to the contract information contained in the transaction data, among the at least two instances of transaction data, added to the first blockchain first may be executed.</p><p id="p-0101" num="0100">Additionally, for example, the information processing system may be used in a service for a plurality of users to share a plurality of mobile bodies; each of the at least two instances of transaction data may contain reservation information indicating that a reserving user, among the plurality of users, has reserved a first mobile body for use; the reservation information may include a mobile body ID identifying the first mobile body and a reservation time period; and at least two instances of the reservation information contained in each of the at least two instances of transaction data may include a same mobile body ID and at least two reservation time periods that partially overlap with each other.</p><p id="p-0102" num="0101">Additionally, for example, the control method may further include: generating renting transaction data indicating that the first mobile body has been rented to the reserving user, and adding a third block containing the renting transaction data to the first blockchain which has gone through the updating; generating return transaction data indicating that the reserving user has returned the first mobile body and adding a fourth block containing the return transaction data to the first blockchain after the third block has been added; and determining whether the at least two instances of transaction data are included in the first blockchain after the fourth block has been added, and calculating a use fee for the service only for reservation information contained in one instance of the transaction data, among the at least two instances of transaction data, added to the first blockchain first.</p><p id="p-0103" num="0102">A control device according to one aspect of the present disclosure is a control device holding a first distributed ledger in which a first blockchain is managed, in an information processing system including a plurality of control devices each holding a distributed ledger, the control device being one of the plurality of control devices. The control device includes a processor and memory. The processor obtains, from another control device among the plurality of control devices, a second blockchain managed by a second distributed ledger held by the other control device, by the control device communicating with the other control device after the control device shifts from being unable to communicate with the other control device to being able to communicate with the other control device. The processor compares the first blockchain with the second blockchain obtained. The processor updates, based on a result of the comparing, the first blockchain by adding a greater of at least one first different block contained in the first blockchain but not contained in the second blockchain and at least one second different block contained in the second blockchain but not contained in the first blockchain, after at least one common block common to both the first blockchain and the second blockchain, and adds at least one additional block containing at least one instance of transaction data contained in a lesser of the at least one first different block and the at least one second different block after the greater. The processor determines whether at least two instances of transaction data each containing at least two instances of contract information that conflict with each other are contained in the first blockchain which has gone through the updating.</p><p id="p-0104" num="0103">A recording medium according to one aspect of the present disclosure is a non-transitory computer-readable recording medium having recorded thereon a program for causing a computer to execute a control method executed by a first node holding a first distributed ledger in which a first blockchain is managed, in an information processing system including a plurality of nodes each holding a distributed ledger, the first node being one of the plurality of nodes. The control method includes: obtaining, from a second node among the plurality of nodes, a second blockchain managed by a second distributed ledger held by the second node, by the first node communicating with the second node after the first node shifts from being unable to communicate with the second node to being able to communicate with the second node; comparing the first blockchain with the second blockchain obtained; updating, based on a result of the comparing, the first blockchain by adding a greater of at least one first different block contained in the first blockchain but not contained in the second blockchain and at least one second different block contained in the second blockchain but not contained in the first blockchain, after at least one common block common to both the first blockchain and the second blockchain, and adding at least one additional block containing at least one instance of transaction data contained in a lesser of the at least one first different block and the at least one second different block after the greater, and determining whether at least two instances of transaction data each containing at least two instances of contract information that conflict with each other are contained in the first blockchain which has gone through the updating.</p><p id="p-0105" num="0104">Embodiments will be described hereinafter with reference to the drawings. Note that the following embodiments describe specific examples of the present disclosure. In other words, the numerical values, shapes, materials, constituent elements, arrangements and connection states of constituent elements, steps, orders of steps, and the like in the following embodiments are merely examples, and are not intended to limit the present disclosure. Additionally, of the constituent elements in the following embodiments, constituent elements not denoted in the independent claims indicating the broadest interpretation are not absolutely necessary for solving the problem of the present disclosure, and will instead be described as constituent elements constituting more preferred forms.</p><heading id="h-0013" level="1">Embodiment</heading><p id="p-0106" num="0105">The configuration of a system according to the present disclosure will be described first. The system includes a first node that manages a first blockchain in a first distributed ledger and a plurality of second nodes that each manages a second blockchain in a second distributed ledger, and is utilized to use a service object. The system may be used for, for example, a service for sharing a plurality of mobile bodies, and in this case, the service object is the plurality of mobile bodies. In the present embodiment, the system accepts a use reservation for a specific mobile body from a user through a terminal (or the mobile body), and rents the specific mobile body to the user according to the accepted use reservation. Upon accepting, from the user through the terminal (or the mobile body), a rental request for the specific mobile body that is reserved, in a reservation time period of the accepted use reservation, the system permits the rental of the specific mobile body to the user. Specifically, upon accepting an unlock request for the specific mobile body from the user, the system confirms the use reservation made in advance and permits the user to unlock the specific mobile body in the reservation time period according to a result of the confirmation. Note that the mobile body in the sharing service includes, for example, bicycles, motorcycles, automobiles, ships, aircraft, and the like.</p><p id="p-0107" num="0106"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a diagram illustrating an example of the configuration of the system according to the embodiment.</p><p id="p-0108" num="0107">System <b>1</b> includes, for example, mobile bodies <b>10</b>A to <b>10</b>C and terminals <b>11</b>A to <b>11</b>C, as illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref>. In this example, each of mobile bodies <b>10</b>A to <b>10</b>C holds a distributed ledger for sharing data having the same content. For example, blockchains having the same configuration are shared through these distributed ledgers.</p><p id="p-0109" num="0108">Mobile bodies <b>10</b>A to <b>10</b>C and terminals <b>11</b>A to <b>11</b>C are connected by a network. The network is, for example, the Internet, a cellular telephone carrier network, or the like, but may be constituted by any communication line or network.</p><p id="p-0110" num="0109">Note that in the following, each of mobile bodies <b>10</b>A to <b>10</b>C is also referred to as &#x201c;mobile body <b>10</b>&#x201d;, but mobile bodies <b>10</b>A to <b>10</b>C may also be referred to as &#x201c;mobile body A&#x201d; to &#x201c;mobile body C&#x201d;. Likewise, although each of terminals <b>11</b>A to <b>11</b>C is also referred to as &#x201c;terminal <b>11</b>&#x201d;, terminals <b>11</b>A to <b>11</b>C may also be referred to as &#x201c;terminal A&#x201d; to &#x201c;terminal C&#x201d;. The distributed ledgers provided in mobile bodies <b>10</b>A to <b>10</b>C may also be referred to a &#x201c;ledger A&#x201d; to &#x201c;ledger C&#x201d;.</p><p id="p-0111" num="0110">The system that manages the distributed ledgers that stores the blockchains may be public, private, or consortium-based.</p><p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. <b>5</b>A</figref> is a diagram illustrating another example of the configuration of the system according to the embodiment.</p><p id="p-0113" num="0112">In <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>, for example, mobile bodies <b>10</b>A and <b>10</b>B, terminals <b>11</b>A and <b>11</b>B, and management server <b>20</b> are illustrated. In this example, each of mobile bodies <b>10</b>A and <b>10</b>B and management server <b>20</b> holds a distributed ledger for sharing data having the same content. For example, blockchains having the same configuration are shared through these distributed ledgers.</p><p id="p-0114" num="0113">Mobile bodies <b>10</b>A and <b>10</b>B, terminals <b>11</b>A and <b>11</b>B, and management server <b>20</b> are connected by a network. The network is, for example, the Internet, a cellular telephone carrier network, or the like, but may be constituted by any communication line or network.</p><p id="p-0115" num="0114"><figref idref="DRAWINGS">FIG. <b>5</b>B</figref> is a diagram illustrating another example of the configuration of the system according to the embodiment.</p><p id="p-0116" num="0115">In <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, for example, mobile bodies <b>10</b>A to <b>10</b>C and terminals <b>11</b>A to <b>11</b>C are illustrated. In this example, each of terminals <b>11</b>A to <b>11</b>C holds a distributed ledger for sharing data having the same content. For example, blockchains having the same configuration are shared through these distributed ledgers.</p><p id="p-0117" num="0116">Mobile bodies <b>10</b>A to <b>10</b>C and terminals <b>11</b>A to <b>11</b>C are connected by a network. The network is, for example, the Internet, a cellular telephone carrier network, or the like, but may be constituted by any communication line or network.</p><p id="p-0118" num="0117"><figref idref="DRAWINGS">FIG. <b>5</b>C</figref> is a diagram illustrating another example of the configuration of the system according to the embodiment.</p><p id="p-0119" num="0118">In <figref idref="DRAWINGS">FIG. <b>5</b>C</figref>, for example, mobile bodies <b>10</b>A to <b>10</b>C and terminals <b>11</b>A to <b>11</b>C are illustrated. In this example, each of mobile bodies <b>10</b>A to <b>10</b>C and terminals <b>11</b>A to <b>11</b>C holds a distributed ledger for sharing data having the same content. For example, blockchains having the same configuration are shared through these distributed ledgers.</p><p id="p-0120" num="0119">Mobile bodies <b>10</b>A to <b>10</b>C and terminals <b>11</b>A to <b>11</b>C are connected by a network. The network is, for example, the Internet, a cellular telephone carrier network, or the like, but may be constituted by any communication line or network.</p><p id="p-0121" num="0120">Each configuration in the system illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref> will be described hereinafter. Note that compared with the system in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, the configurations of the systems in <figref idref="DRAWINGS">FIGS. <b>5</b>A to <b>5</b>C</figref> differ only in terms of the devices or terminals which hold the distributed ledgers, and can be applied in a similar manner.</p><p id="p-0122" num="0121">First, mobile body devices provided in mobile bodies <b>10</b>A to <b>10</b>C will be described. Note that in the following, mobile body devices provided in mobile bodies <b>10</b>A to <b>10</b>C may be referred to as &#x201c;mobile body device A&#x201d; to &#x201c;mobile body device C&#x201d;, respectively.</p><heading id="h-0014" level="2">Mobile Body Device <b>100</b></heading><p id="p-0123" num="0122">Mobile body device <b>100</b> is an example of a node that manages a blockchain in a distributed ledger. The node can also be called a &#x201c;control device&#x201d;.</p><p id="p-0124" num="0123">Mobile body device <b>100</b> is an information processing device installed in mobile body <b>10</b>, and holds a distributed ledger. Mobile body device <b>100</b> may be a mobile terminal, such as a smartphone or a tablet.</p><p id="p-0125" num="0124"><figref idref="DRAWINGS">FIG. <b>6</b></figref> is a diagram illustrating an example of the configuration of mobile body device <b>100</b> according to the embodiment.</p><p id="p-0126" num="0125">Mobile body device <b>100</b> according to the present embodiment includes inputter <b>101</b>, transaction data generator <b>102</b>, transaction data verifier <b>103</b>, block generator <b>104</b>, synchronizer <b>105</b>, smart contract executor <b>106</b>, blockchain manager <b>107</b>, distributed ledger storage <b>108</b>, state storage <b>109</b>, impropriety detector <b>110</b>, communicator <b>111</b>, and display <b>112</b>.</p><heading id="h-0015" level="2">Inputter <b>101</b></heading><p id="p-0127" num="0126">Inputter <b>101</b> accepts inputs from a user. Inputter <b>101</b> displays the accepted information input in display <b>112</b>, transmits the accepted information input to transaction data generator <b>102</b> or communicator <b>111</b>, and the like. For example, inputter <b>101</b> may accept information input indicating a return from the user.</p><heading id="h-0016" level="2">Transaction Data Generator <b>102</b></heading><p id="p-0128" num="0127">Transaction data generator <b>102</b> generates transaction data.</p><p id="p-0129" num="0128">In the present embodiment, transaction data generator <b>102</b> generates renting transaction data that indicates that mobile body <b>10</b> has been rented to the user. Specifically, when mobile body <b>10</b> has been rented to the user, transaction data generator <b>102</b> generates the renting transaction data that indicates that mobile body <b>10</b> has been rented to the user. Transaction data generator <b>102</b>, for example, generates the renting transaction data when an unlock request is accepted from the user and mobile body <b>10</b> is unlocked. The renting transaction data includes a user ID, a reservation number for identifying the use reservation (reservation ID), and a timestamp of the time mobile body <b>10</b> was rented to the user.</p><p id="p-0130" num="0129">Additionally, transaction data generator <b>102</b> generates return transaction data that indicates that the user has returned mobile body <b>10</b>. Specifically, when mobile body <b>10</b> has been returned by the user, transaction data generator <b>102</b> generates the return transaction data that indicates that the user has returned mobile body <b>10</b>. The return of mobile body <b>10</b> by the user may be determined by inputter <b>101</b> accepting information input indicating the return from the user; by accepting information input indicating the return from the user through terminal <b>11</b> (i.e., communicator <b>111</b> receiving information input from terminal <b>11</b>); by the user locking mobile body <b>10</b>; or by communicator <b>111</b> receiving a notification transmitted by a return facility when the return of the mobile body is accepted at a predetermined return facility for mobile body <b>10</b>. The return transaction data includes a user ID, a reservation number (reservation ID), and a timestamp of the time the user returned mobile body <b>10</b>.</p><p id="p-0131" num="0130">Although reservation transaction data is generated by terminal <b>11</b>A, if mobile body device <b>100</b> accepts a use reservation from the user, transaction data generator <b>102</b> may generate the reservation transaction data for the use reservation. Specifically, transaction data generator <b>102</b> generates the reservation transaction data, which includes reservation information indicating the use reservation, when an input for the use reservation is made by the user through inputter <b>101</b>. The reservation information includes a user ID, a reservation number for identifying the use reservation (reservation ID), a device ID for identifying mobile body devices <b>100</b> which is to be rented to the user, and a reservation time period.</p><p id="p-0132" num="0131">When impropriety detector <b>110</b> detects improper transaction data, transaction data generator <b>102</b> may generate transaction data including an incident report indicating that improper transaction data has been detected.</p><heading id="h-0017" level="2">Transaction Data Verifier <b>103</b></heading><p id="p-0133" num="0132">When communicator <b>111</b> receives transaction data, transaction data verifier <b>103</b> executes a verification algorithm and verifies the validity of the transaction data. Transaction data verifier <b>103</b> then stores the transaction data for which the validity has been verified in a transaction pool region of state storage <b>109</b>. The transaction data for which the validity has been verified, stored in state storage <b>109</b>, is transmitted by communicator <b>111</b> to another mobile body device <b>100</b> as information on the transaction data to be stored in the block to be generated next.</p><p id="p-0134" num="0133">For example, transaction data verifier <b>103</b> verifies whether the transaction data received by communicator <b>111</b> has been given a digital signature generated by a correct method. Here, the transaction data received by communicator <b>111</b> is one of the reservation transaction data, the renting transaction data, and the return transaction data. In other words, transaction data verifier <b>103</b> verifies the validity of the reservation transaction data, the renting transaction data, and the return transaction data.</p><p id="p-0135" num="0134">Transaction data verifier <b>103</b> need not verify the validity of the transaction data if the transaction data is generated by transaction data generator <b>102</b>.</p><heading id="h-0018" level="2">Block Generator <b>104</b></heading><p id="p-0136" num="0135">Block generator <b>104</b> generates a block containing the transaction data for which the validity has been verified by transaction data verifier <b>103</b>. Block generator <b>104</b> generates a block containing a predetermined number of transaction data from a plurality of instances of verified transaction data stored in state storage <b>109</b>. Block generator <b>104</b> selects a plurality of blocks for block generation from among a plurality of instances of transaction data that have not yet been subject to block generation. Block generator <b>104</b> may delete, from state storage <b>109</b>, the plurality of instances of transaction data that have already been subject to block generation.</p><p id="p-0137" num="0136">Note that the block generated by block generator <b>104</b> of mobile body device <b>100</b> may be different from the block generated by block generator <b>104</b> of the other mobile body device <b>100</b>. This is because the verified transaction data stored in state storage <b>109</b> differs for each mobile body device <b>100</b> depending on the communication state of each mobile body device <b>100</b>, and the determination criteria for block generation in block generator <b>104</b> differ.</p><p id="p-0138" num="0137">Note also that the determination criteria for block generation (rules pertaining to the transaction data to be stored in the block) may be held in each mobile body device <b>100</b>. Block generator <b>104</b> selects a plurality of instances of transaction data from the verified plurality of transaction data stored in state storage <b>109</b> based on the determination criteria for block generation held in mobile body device <b>100</b> that includes block generator <b>104</b>, and generates a block containing the selected plurality of instances of transaction data.</p><heading id="h-0019" level="2">Synchronizer <b>105</b></heading><p id="p-0139" num="0138">Synchronizer <b>105</b> synchronizes the blocks generated by block generator <b>104</b> with the other mobile body devices <b>100</b>.</p><p id="p-0140" num="0139">In the present embodiment, synchronizer <b>105</b> transmits the block generated in block generator <b>104</b> via communicator <b>111</b> to the other mobile body device <b>100</b>. Synchronizer <b>105</b> then executes a consensus algorithm together with the other mobile body device <b>100</b> for the transmitted block. Here, a consensus algorithm called Practical Byzantine Fault Tolerance (PBFT) may be used as the consensus algorithm, or another publicly-known consensus algorithm may be used. For example, Proof of Work (PoW), Proof of Stake (PoS), or the like can be given as publicly-known consensus algorithms. When using PBFT, synchronizer <b>105</b> first receives reports from each of the other mobile body devices <b>100</b> indicating whether or not the transaction data verification was successful, and determines whether the number of such reports exceeds a predetermined number. When the number of reports exceeds the predetermined number, synchronizer <b>105</b> may determine that the validity of the transaction data has been verified by the consensus algorithm. In this manner, synchronizer <b>105</b> consents to the transaction data being valid transaction data (i.e., is valid) based on the reports communicated by each of the other mobile body devices <b>100</b>, and consents to the validity of the block.</p><p id="p-0141" num="0140">Synchronizer <b>105</b> also concatenates the consented block to the first blockchain managed in the distributed ledger stored in distributed ledger storage <b>108</b>.</p><p id="p-0142" num="0141">Smart Contract Executor <b>106</b></p><p id="p-0143" num="0142">Smart contract executor <b>106</b> operates a smart contract by executing contract code and the like contained in the transaction data stored in the distributed ledger in distributed ledger storage <b>108</b>.</p><heading id="h-0020" level="2">Reservation SC</heading><p id="p-0144" num="0143">In the present embodiment, smart contract executor <b>106</b> may operate a reservation smart contract to perform reservation processing for making a use reservation for the mobile body that is the service object. Smart contract executor <b>106</b> may cause the reservation processing to be performed when a block containing the reservation transaction data is added to the blockchain in the distributed ledger stored in distributed ledger storage <b>108</b>.</p><heading id="h-0021" level="2">Fee Collection SC</heading><p id="p-0145" num="0144">In the present embodiment, smart contract executor <b>106</b> may operate a fee collection smart contract to perform fee calculation processing. Smart contract executor <b>106</b> causes the fee calculation processing to be performed when a block containing the return transaction data is added to the blockchain in the distributed ledger stored in distributed ledger storage <b>108</b>. The fee calculation processing is the same as the processing performed by blockchain manager <b>107</b> (described later).</p><heading id="h-0022" level="2">Impropriety Detection SC</heading><p id="p-0146" num="0145">Additionally, in the present embodiment, smart contract executor <b>106</b> may operate an impropriety detection smart contract to perform impropriety detection processing. Smart contract executor <b>106</b> causes the impropriety detection processing to be performed when a block containing the reservation transaction data is added to the first blockchain in distributed ledger storage <b>108</b>. Note that the impropriety detection processing is the same as the processing performed by impropriety detector <b>110</b> (described later).</p><heading id="h-0023" level="2">Impropriety List Generation SC</heading><p id="p-0147" num="0146">Additionally, in the present embodiment, smart contract executor <b>106</b> may operate an impropriety list generation smart contract to perform impropriety list generation processing. When a block containing improper transaction data or impropriety detection transaction data has been added to the blockchain in the distributed ledger stored in distributed ledger storage <b>108</b>, smart contract executor <b>106</b> causes the execution of processing for adding, to an impropriety list, improper transaction data determined to be improper in the impropriety detection processing or a transaction data ID identifying the improper transaction data.</p><p id="p-0148" num="0147">Here, &#x201c;impropriety detection transaction data&#x201d; is transaction data generated when improper transaction data is detected in the impropriety detection processing, and is transaction data for causing the execution of the impropriety list generation processing. In addition to the transaction data ID of the improper transaction data determined to be improper, the impropriety list may include the user ID of the user who made the contract in the improper transaction data (e.g., a use reservation), the time at which the improper transaction data was generated, and the like. The impropriety list may be stored in state information storage <b>109</b>, or may be stored in memory included in an external device. Through this, the user can search for transaction data determined to be improper transaction data by operating terminal <b>11</b>, for example.</p><p id="p-0149" num="0148">In this manner, by operating smart contracts, smart contract executor <b>106</b> can manage the collection of use fees, the detection of improper reservations, the generation of the impropriety list, and the like in a distributed ledger. It is assumed that the fee collection smart contract, the impropriety detection smart contract, and the impropriety list generation smart contract are generated by the user, for example, by an application in terminal <b>11</b>, and the blocks containing these smart contracts are stored in the blockchain in advance.</p><heading id="h-0024" level="2">Blockchain Manager <b>107</b></heading><p id="p-0150" num="0149">Blockchain manager <b>107</b> manages the blockchain (referred to as the &#x201c;first blockchain&#x201d; hereinafter) managed in the distributed ledger (referred to as the &#x201c;first distributed ledger&#x201d;) stored in distributed ledger storage <b>108</b>.</p><heading id="h-0025" level="2">Main Chain and Sidechains</heading><p id="p-0151" num="0150">In the present embodiment, blockchain manager <b>107</b> obtains the blockchain (referred to as a &#x201c;second blockchain&#x201d; hereinafter) managed in the distributed ledger (referred to as a &#x201c;second distributed ledger&#x201d; hereinafter) held by the other mobile body device <b>100</b> via communicator <b>111</b>, and compares the obtained second blockchain with the first blockchain managed in the first distributed ledger in distributed ledger storage <b>108</b>. Blockchain manager <b>107</b> determines, through the comparison, whether the plurality of blocks constituting the first blockchain and the plurality of blocks constituting the second blockchain are the same. If the plurality of blocks constituting the first blockchain and the plurality of blocks constituting the second blockchain are not the same, blockchain manager <b>107</b> determines which of a number of at least one first different block contained in the first blockchain and not contained in the second blockchain, and a number of at least one second different block contained in the second blockchain and not contained in the first blockchain, is greater (longer). In other words, blockchain manager <b>107</b> determines which is a main chain block and which is a sidechain block by comparing the number of at least one first different block with the number of at least one second different block. Note that this determination is made when, as a result of the comparison of the first blockchain and the second blockchain, the first blockchain has at least one first different block and the second blockchain has at least one second different block.</p><p id="p-0152" num="0151">Blockchain manager <b>107</b> adds the greater (longer) of the at least one first different block and the at least one second different block after at least one common block that is common between the first blockchain and the second blockchain. Then, after the greater number of blocks, blockchain manager <b>107</b> furthermore adds at least one block containing at least one instance of transaction data contained in the lesser (shorter) of the at least one first different block and the at least one second different block. In other words, blockchain manager <b>107</b> determines that the greater of the at least one first different block and the at least one second different block is a main chain block, and that the lesser of the at least one first different block and the at least one second different block is a sidechain block. Then, blockchain manager <b>107</b> adds the main chain block and an additional block after the at least one common block, in the order of the main chain block and an additional block generated from the at least one instance of transaction data included in the sidechain block.</p><p id="p-0153" num="0152">In this manner, blockchain manager <b>107</b> updates the first blockchain managed in the first distributed ledger of distributed ledger storage <b>108</b>. In other words, blockchain manager <b>107</b> compares the first blockchain with the second blockchain managed in the second distributed ledger held by the other mobile body devices <b>100</b>, and if the blockchains have different configurations, updates the first blockchain such that the configurations are the same as each other.</p><p id="p-0154" num="0153">Note that blockchain manager <b>107</b> updates the first blockchain by adding at least one second different block to the first blockchain when, as a result of the comparison of the first blockchain and the second blockchain, the first blockchain does not have at least one first different block.</p><p id="p-0155" num="0154">Here, the &#x201c;at least one first different block&#x201d; is, for example, a block, not contained in the second blockchain, produced by being added to the first blockchain in a state where mobile body device <b>100</b> cannot communicate with the other mobile body device <b>100</b>. Note that the number of the at least one first different block is likely to be lower than the number of the at least one second different block when a plurality of other mobile body devices <b>100</b> are capable of communicating with each other. This is because the second blockchain is managed in synchronization with the second distributed ledger held by each of the other mobile body devices <b>100</b>, which is a greater number than mobile body device <b>100</b> managing the first blockchain, and it is therefore thought that the plurality of other mobile body devices <b>100</b> have more chances to generate blocks than the one mobile body device <b>100</b>. Accordingly, the at least one first different block generated by the one mobile body device <b>100</b> that cannot communicate with the other mobile body devices <b>100</b> is more likely to be a sidechain block than a main chain block.</p><p id="p-0156" num="0155">The at least one first different block may have a block containing transaction data including information pertaining to a contract. The contract is, for example, the use reservation for mobile body <b>10</b>. The transaction data containing the information pertaining to the contract is, for example, the reservation transaction data, the return completion transaction data, the renting transaction data, and the return transaction data.</p><p id="p-0157" num="0156">Note that blockchain manager <b>107</b> need not obtain all of the second blockchain, and need only obtain part. For example, &#x201c;part&#x201d; of the second blockchain obtained by blockchain manager <b>107</b> here is at least one block after the last block after the previous update of the first blockchain.</p><heading id="h-0026" level="2">Renting Processing</heading><p id="p-0158" num="0157">Blockchain manager <b>107</b> may perform renting processing for renting mobile body <b>10</b> to the user. In this case, when communicator <b>111</b> receives the unlock request, blockchain manager <b>107</b> confirms whether a reservation based on the unlock request has been made by referring to the first blockchain in the first distributed ledger stored in distributed ledger storage <b>108</b>. Specifically, blockchain manager <b>107</b> determines whether reservation transaction data containing the same reservation number as the reservation number contained in the unlock request is stored in the first blockchain. If reservation transaction data containing the same reservation number as the reservation number contained in the unlock request is stored in the first blockchain, blockchain manager <b>107</b> determines that a reservation based on the unlock request has been made, and makes an unlock instruction to mobile body <b>10</b>. Upon obtaining the unlock instruction, mobile body <b>10</b> unlocks mobile body <b>10</b> by operating an actuator for unlocking, based on the unlock instruction.</p><p id="p-0159" num="0158">The unlock request is information for unlocking mobile body <b>10</b> which the user has reserved to be used in the use reservation. The unlock request may contain at least the reservation number for specifying the use reservation. The unlock request may further include the user ID of the user that made the use reservation, a mobile body ID of mobile body <b>10</b> subject to the use reservation, a device ID of mobile body device <b>100</b> that reserved mobile body <b>10</b>, the reservation time period, and the like.</p><p id="p-0160" num="0159">Note that blockchain manager <b>107</b> may make the unlock instruction to the mobile body in which mobile body device <b>100</b> is provided when a start time of the reservation time period of the use reservation stored in the first blockchain is reached, instead of receiving the unlock request.</p><heading id="h-0027" level="2">Fee Calculation Processing</heading><p id="p-0161" num="0160">Blockchain manager <b>107</b> may perform fee calculation processing instead of the smart contract executed by smart contract executor <b>106</b>. Blockchain manager <b>107</b> performs the fee calculation processing using, as a trigger, the passage of a set interval following the previous execution of the processing, or the return transaction data being contained in a block newly concatenated to the first blockchain in the first distributed ledger stored in distributed ledger storage <b>108</b>. Blockchain manager <b>107</b> searches the first blockchain in distributed ledger storage <b>108</b>, and determines whether at least two instances of transaction data containing at least two instances of contract information that conflict with each other are contained in the first blockchain managed in the first distributed ledger. &#x201c;At least two instances of contract information that conflict with each other&#x201d; are, specifically, at least two instances of reservation information that conflict with each other. The at least two instances of reservation information that conflict with each other are, for example, overlapping reservations having the same device ID and including at least two reservation time periods in which the time periods overlap partially. Note that this determination is the same as a first impropriety determination made by impropriety detector <b>110</b> (described later), and thus when a determination result from the first impropriety determination by impropriety detector <b>110</b> is present, that determination result may be used. If the first blockchain contains reservation information that conflict with each other, of the at least two instances of transaction data containing the at least two instances of reservation information, blockchain manager <b>107</b> fulfils the contract corresponding to the contract information included in the one instance of transaction data added to the first blockchain first. In other words, when there are overlapping reservations, blockchain manager <b>107</b> calculates the fee for the most recent use reservation among the overlapping reservations, and executes the fee collection processing for collecting the calculated fee from the user. In other words, for use reservations aside from the most recent use reservation among overlapping reservations, blockchain manager <b>107</b> does not calculate the fee, and does not execute the fee collection processing, to prevent collecting the fee from the same user twice.</p><p id="p-0162" num="0161">Note that the use reservation subject to fee calculation is a use reservation for the reservation number contained in the return transaction data stored in the first blockchain, and is a use reservation for which the fee has not yet been calculated. In other words, use reservations for which the fee has already been calculated are excluded from being subject to fee calculation. Additionally, if a use reservation corresponding to the reservation number included in the return transaction data is not stored in the first blockchain, fee calculation corresponding to the return transaction data is not performed.</p><heading id="h-0028" level="2">Distributed Ledger Storage <b>108</b></heading><p id="p-0163" num="0162">Distributed ledger storage <b>108</b> stores the first distributed ledger managed by the first blockchain. In the present embodiment, the first distributed ledger stores blocks containing the reservation transaction data, the renting transaction data, and the return transaction data in the first blockchain.</p><heading id="h-0029" level="2">State Storage <b>109</b></heading><p id="p-0164" num="0163">State storage <b>109</b> is storage that stores the data of the newest version of the distributed ledger. The data stored in state storage <b>109</b> is data which can be changed or deleted by a computer. State storage <b>109</b> includes, for example, an on-memory region in which variables, functions, and the like for executing smart contracts, and a transaction pool region that stores the transaction data. State storage <b>109</b> may store the transaction data for which the validity has been verified by transaction data verifier <b>103</b>. State storage <b>109</b> may store the second blockchain obtained via communicator <b>111</b>. State storage <b>109</b> may store at least one second different block of the second blockchain. State storage <b>109</b> may store the first blockchain stored in distributed ledger storage <b>108</b>. State storage <b>109</b> may store the transaction data before being stored in the distributed ledger. State storage <b>109</b> may store smart contracts called by the transaction data. State storage <b>109</b> may also store variables of the smart contract stored in the distributed ledger. State storage <b>109</b> may store the transaction data generated by transaction data generator <b>102</b>. State storage <b>109</b> may store the transaction data received by communicator <b>111</b>.</p><p id="p-0165" num="0164">State storage <b>109</b> may store the above-described data temporarily.</p><heading id="h-0030" level="2">Impropriety Detector <b>110</b></heading><p id="p-0166" num="0165">Impropriety detector <b>110</b> may perform impropriety detection processing that detects whether the improper transaction data containing an improper contract is stored in the first blockchain managed by the first distributed ledger stored in distributed ledger storage <b>108</b>, instead of a smart contract executed by smart contract executor <b>106</b>. In the impropriety detection processing, impropriety detector <b>110</b> determines whether improper transaction data is stored in the first blockchain by making one of the following three impropriety determinations described hereinafter, for example.</p><heading id="h-0031" level="2">Impropriety Determination Processing</heading><p id="p-0167" num="0166">In a first impropriety determination, impropriety detector <b>110</b> determines whether at least two instances of transaction data containing at least two instances of contract information that conflict with each other are contained in the first blockchain managed in the first distributed ledger. &#x201c;At least two instances of contract information that conflict with each other&#x201d; are, specifically, at least two instances of reservation information that conflict with each other (overlapping reservations). The at least two instances of reservation information that conflict with each other have, for example, reservations having the same device ID and include at least two reservation time periods in which the time periods overlap partially. An overlapping reservation can arise when the first blockchain managed by the distributed ledger in distributed ledger storage <b>108</b> and the second blockchain managed by a distributed ledger held in another mobile body device <b>100</b> differ, i.e., when a main chain block and a sidechain block have been produced. Additional blocks are included in at least two instances of transaction data containing the overlapping reservations. This is because, as described above, the at least one first different block arising in one mobile body device <b>100</b> that cannot communicate with the other mobile body devices <b>100</b> is more likely to be a sidechain block than a main chain block, and the sidechain block may contain reservation transaction data that was generated improperly. Note that the first impropriety determination may be the same as the determination of overlapping reservations made in the fee calculation processing by blockchain manager <b>107</b>.</p><p id="p-0168" num="0167">In a second impropriety determination, impropriety detector <b>110</b> determines whether a time difference between a generation date/time when the transaction data containing the contract information was generated and a storage date/time when that transaction data was stored in the first blockchain is greater than a predetermined period of time. In the second impropriety determination, when the time difference is greater than the predetermined period of time, impropriety detector <b>110</b> determines that transaction data containing an improper contract is stored in the first blockchain. In other words, impropriety detector <b>110</b> determines that transaction data for which the time difference is greater than the predetermined period of time is improper transaction data. The predetermined period of time serving as the determination reference in the second impropriety determination may be the minimum time interval at which the consensus algorithm is executed by the plurality of mobile body devices <b>100</b> together, or may be the minimum time interval of the reservation time period of mobile body device <b>100</b>.</p><p id="p-0169" num="0168">In a third impropriety determination, impropriety detector <b>110</b> determines whether an improper combination which does not include one of the reservation transaction data, the renting transaction data, and the return transaction data having the same reservation number is present in the first blockchain. In the third impropriety determination, when there is such an improper combination, impropriety detector <b>110</b> determines that transaction data containing an improper contract is stored in the first blockchain. In other words, when, in a combination of transaction data containing the same reservation numbers, only the reservation transaction data is stored in the first blockchain, impropriety detector <b>110</b> determines that the reservation transaction data is improper transaction data. Note that impropriety detector <b>110</b> performs the third impropriety determination for transaction data having a reservation number for a use reservation for which the reservation time period has ended (i.e., the end time of the reservation time period has passed). In other words, impropriety detector <b>110</b> does not determine whether the transaction data is proper for a combination in which reservation transaction data has been generated having made a reservation only, and for which renting and returning have not yet been performed.</p><heading id="h-0032" level="2">Incident Report</heading><p id="p-0170" num="0169">When improper transaction data is determined to be stored in the first blockchain, impropriety detector <b>110</b> communicates an incident report indicating that improper transaction data has been detected to transaction data generator <b>102</b>. The incident report includes a reason for the impropriety and the improper transaction data or an improper block containing the improper transaction data. The &#x201c;reason for the impropriety&#x201d; is information indicating in which impropriety determination, among the first impropriety determination, the second impropriety determination, and the third impropriety determination, the improper transaction data was detected. The improper transaction data or the improper block may contain at least one instance of transaction data related to that improper transaction data. The &#x201c;related transaction data&#x201d; is renting transaction data, reservation transaction data, or the like having the reservation ID contained in the improper transaction data.</p><p id="p-0171" num="0170">The incident report may further include any of a detection time, the user ID of the corresponding user, and a terminal ID of the corresponding terminal. The &#x201c;detection time&#x201d; is the time at which impropriety detector <b>110</b> determined that the improper transaction data was stored in the first blockchain, or the time at which the incident report was generated. The &#x201c;corresponding user&#x201d; indicates the user that made the contract in the improper transaction data (e.g., the use reservation). The &#x201c;corresponding terminal&#x201d; indicates the terminal used by the user to make inputs pertaining to the contract in the improper transaction data (e.g., the use reservation).</p><heading id="h-0033" level="2">Impropriety Flag</heading><p id="p-0172" num="0171">Additionally, impropriety detector <b>110</b> may add an impropriety flag to the detected improper transaction data, indicating that the data is improper. Impropriety detector <b>110</b> may further assign, to the improper transaction data, the device ID of mobile body device <b>100</b> that detected the impropriety (or the terminal ID of terminal <b>11</b> that detected the impropriety), and the time at which the impropriety was detected. Impropriety detector <b>110</b> notifies synchronizer <b>105</b> of the flagged improper transaction data, to which the impropriety flag has been assigned. Through this, a consensus algorithm is executed with the other mobile body devices <b>100</b>, and the flagged improper transaction data corresponding to the improper reservation is stored in the blockchain of each mobile body device <b>100</b>.</p><p id="p-0173" num="0172">Note that instead of adding an impropriety flag or the like to the detected improper transaction data, impropriety detector <b>110</b> may generate impropriety information that adds an impropriety flag or the like to a transaction data ID identifying the improper transaction data. Impropriety detector <b>110</b> may communicate the generated impropriety information to transaction data generator <b>102</b>.</p><heading id="h-0034" level="2">Other</heading><p id="p-0174" num="0173">Impropriety detector <b>110</b> may perform the impropriety detection processing only when communicator <b>111</b> has shifted from a state in which communication with other mobile body devices <b>100</b> is not possible to a state in which such communication is possible. Additionally, impropriety detector <b>110</b> may perform the impropriety detection processing only when communicator <b>111</b> has shifted from a state in which communication with other mobile body devices <b>100</b> is not possible to a state in which such communication is possible, and when a main chain block and a sidechain block have been generated as a result of blockchain manager <b>107</b> comparing the first blockchain and the second blockchain.</p><heading id="h-0035" level="2">Communicator <b>111</b></heading><p id="p-0175" num="0174">Communicator <b>111</b> transmits information to the other mobile body devices <b>100</b> or terminal <b>11</b>, receives information from the other mobile body devices <b>100</b> or terminal <b>11</b>, and the like over the network. Communicator <b>111</b> communicates with the other mobile body devices <b>100</b> or terminal <b>11</b> over the network. Note that this communication may be performed using Transport Layer Security (TLS), and communicator <b>111</b> may hold an encryption key for TLS communication.</p><p id="p-0176" num="0175">In the present embodiment, communicator <b>111</b> receives the reservation transaction data from terminal <b>11</b>. Communicator <b>111</b> also receives the unlock request from terminal <b>11</b>. Communicator <b>111</b> also receives the transaction data verified by the other mobile body devices <b>100</b> from the other mobile body devices <b>100</b>. Communicator <b>111</b> transmits and receives blocks to execute a consensus algorithm together with the other mobile body devices <b>100</b>.</p><heading id="h-0036" level="2">Display <b>112</b></heading><p id="p-0177" num="0176">Display <b>112</b> displays the information input accepted by inputter <b>101</b>. Display <b>112</b> may display information transmitted from terminal <b>11</b>. Display <b>112</b> may display a display (user interface; UI) for accepting the return of mobile body device <b>100</b> from the user.</p><p id="p-0178" num="0177">Terminals <b>11</b>A to <b>11</b>C will be described next. Note that terminal <b>11</b>A to terminal <b>11</b>C have the same configuration, and will therefore be referred to as &#x201c;terminal <b>11</b>&#x201d;.</p><heading id="h-0037" level="2">Terminal <b>11</b></heading><p id="p-0179" num="0178">Terminal <b>11</b> is an example of a terminal used by a user. Terminal <b>11</b> may be a personal computer, for example, or may be a mobile terminal such as a smartphone, a tablet, or the like.</p><p id="p-0180" num="0179"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a diagram illustrating an example of the configuration of terminal <b>11</b> according to Embodiment 1.</p><p id="p-0181" num="0180">Terminal <b>11</b> according to the present embodiment includes inputter <b>1101</b>, display <b>1102</b>, and communicator <b>1103</b>.</p><heading id="h-0038" level="2">Inputter <b>1101</b></heading><p id="p-0182" num="0181">Inputter <b>1101</b> accepts information input through operations made by the user. Inputter <b>1101</b> displays the accepted information input in display <b>1102</b>, transmits the information input to communicator <b>1103</b>, and the like.</p><p id="p-0183" num="0182">For example, an application for making a use reservation is installed, and inputter <b>1101</b> accepts inputs to a display (a UI) for making a use reservation. This display (UI) is displayed in display <b>1102</b>. Inputter <b>1101</b> accepts the digital signature of the user holding terminal <b>11</b>, and generates the reservation transaction data containing the accepted input for making the use reservation and the digital signature.</p><p id="p-0184" num="0183">Additionally, inputter <b>1101</b> accepts inputs to a display (a user interface, or &#x201c;UI&#x201d;) for making an unlock request to the reserved mobile body device <b>100</b>. This display (UI) is displayed in display <b>1102</b>. Inputter <b>1101</b> accepts an input for making the unlock request, and generates the unlock request.</p><heading id="h-0039" level="2">Display <b>1102</b></heading><p id="p-0185" num="0184">Display <b>1102</b> displays the information input accepted by inputter <b>1101</b>. Display <b>1102</b> displays a display (a UI) for making a use reservation. Display <b>1102</b> also displays a display (a UI) for making an unlock request.</p><heading id="h-0040" level="2">Communicator <b>1103</b></heading><p id="p-0186" num="0185">Communicator <b>1103</b> transmits information to mobile body device <b>100</b>, receives or is notified of information from mobile body device <b>100</b>, and the like over the network. Communicator <b>1103</b> may also transmit information to another terminal <b>11</b>, receive information from another terminal <b>11</b>, and the like over the network.</p><p id="p-0187" num="0186">In this manner, communicator <b>1103</b> communicates with mobile body device <b>100</b> or another terminal <b>11</b> over the network. Note that this communication may be performed using TLS, and communicator <b>1103</b> may hold an encryption key for TLS communication.</p><p id="p-0188" num="0187">For example, communicator <b>1103</b> transmits the reservation transaction data to mobile body device <b>100</b>. Communicator <b>1103</b> also transmits the unlock request to the reserved mobile body device <b>100</b>.</p><p id="p-0189" num="0000">Operations, Etc. Of System</p><p id="p-0190" num="0188">Operations of the system configured as described above will be described next.</p><p id="p-0191" num="0189">First, as a comparative example, normal processing in which processing is performed normally for mobile body A in a service that shares a plurality of mobile bodies will be described, and then processing performed when the blockchain mechanism is exploited to improperly use mobile body A, i.e., improper processing, will be described. The corresponding processing of the present disclosure as a measure against such improper use will then be described.</p><heading id="h-0041" level="1">Comparative Example 1</heading><p id="p-0192" num="0190">Processing performed when mobile body A is always in an online state will be described as Comparative Example 1.</p><p id="p-0193" num="0191"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a flowchart illustrating an overview of operations in normal processing by the system according to Comparative Example 1. <figref idref="DRAWINGS">FIG. <b>8</b></figref> illustrates an overview of operations in the normal processing, in which processing is performed normally for mobile body A in a state where mobile body devices A, B, and C are online. <figref idref="DRAWINGS">FIG. <b>9</b>A to <b>9</b>C</figref> are diagrams conceptually illustrating blocks of blockchains stored in ledger A of mobile body device A and ledger B of mobile body device B. <figref idref="DRAWINGS">FIG. <b>9</b>A</figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>1</b> in <figref idref="DRAWINGS">FIG. <b>8</b></figref>. <figref idref="DRAWINGS">FIG. <b>9</b>B</figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>3</b> in <figref idref="DRAWINGS">FIG. <b>8</b></figref>. <figref idref="DRAWINGS">FIG. <b>9</b>C</figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>5</b> in <figref idref="DRAWINGS">FIG. <b>8</b></figref>. The following descriptions will assume that a user who wishes to use mobile body A uses terminal A to perform processing in mobile body device A, which is installed in mobile body A.</p><p id="p-0194" num="0192">As illustrated in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, first, for example, terminal A communicates with mobile body device A and performs reservation processing for mobile body A in which mobile body device A is installed (S<b>1</b>). More specifically, terminal A communicates with mobile body device A, generates reservation transaction data Trsv for making a use reservation for mobile body A, and transmits the data to mobile body device A. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>A</figref>, mobile body device A and mobile body device B are capable of communicating with other mobile body devices (that is, are online), and thus a block containing reservation transaction data Trsv for making a use reservation for mobile body A is stored in both ledger A and ledger B.</p><p id="p-0195" num="0193">Next, for example, terminal A communicates with mobile body device A and performs the renting processing for mobile body A (S<b>3</b>). More specifically, terminal A communicates with mobile body device A and transmits an unlock request for mobile body A in order to use mobile body A. Mobile body device A then unlocks mobile body A, and generates renting transaction data Trnt indicating the start of the rental of mobile body A triggered by mobile body A being unlocked. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>B</figref>, mobile body device A and mobile body device B are capable of communicating with other mobile body devices (that is, are online), and thus a block containing renting transaction data Trnt indicating the start of the rental of mobile body A is stored in both ledger A and ledger B.</p><p id="p-0196" num="0194">Next, for example, terminal A communicates with mobile body device A and performs the return processing for mobile body A (S<b>5</b>). More specifically, user who operated terminal A uses the unlocked mobile body A for the time reserved for use, and then returns mobile body A. When mobile body A is returned, mobile body device A generates return transaction data Trtn indicating the return of mobile body A is complete. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>C</figref>, mobile body device A and mobile body device B are capable of communicating with other mobile body devices (that is, are online), and thus a block containing return transaction data Trtn indicating the return of mobile body A is complete is stored in both ledger A and ledger B.</p><p id="p-0197" num="0195">Next, the fee calculation processing is performed in mobile body device A and the like (S<b>7</b>). More specifically, in mobile body device A and the like, the fee calculation algorithm is executed, and the fee for using mobile body A is collected for the use reservation made for mobile body A by the user.</p><p id="p-0198" num="0196">Details of the processing of steps S<b>1</b> to S<b>5</b> in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, i.e., the reservation processing, the renting processing, and the return processing, will be described with reference to sequence charts. The following descriptions also assume that a user who wishes to use mobile body A uses terminal A to perform the reservation processing, the renting processing, and the return processing for mobile body A in mobile body device A, which is installed in mobile body A.</p><heading id="h-0042" level="2">Reservation Processing According to Comparative Example 1</heading><p id="p-0199" num="0197"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a sequence chart illustrating reservation processing by the system according to Comparative Example 1.</p><p id="p-0200" num="0198">First, based on an operation by the user who wishes to use mobile body A, terminal A generates reservation transaction data Trsv for making a use reservation for mobile body A (S<b>101</b>). Here, an application is installed as inputter <b>1101</b> in terminal A, i.e., in terminal <b>11</b>A, and the application may generate reservation transaction data Trsv based on the operation by the user.</p><p id="p-0201" num="0199">Next, terminal A communicates with mobile body device A of mobile body A and transmits reservation transaction data Trsv generated in step S<b>101</b> to mobile body device A (S<b>102</b>).</p><p id="p-0202" num="0200">Next, upon receiving reservation transaction data Trsv transmitted in step S<b>102</b>, mobile body device A forwards reservation transaction data Trsv to mobile body devices B and C, which are other mobile body devices (S<b>103</b>). Through this, mobile body devices B and C obtain reservation transaction data Trsv.</p><p id="p-0203" num="0201">Next, each of mobile body devices A, B, and C executes the verification algorithm that verifies the validity of the obtained reservation transaction data Trsv (S<b>104</b>). Note that the reservation processing ends if the verification of reservation transaction data Trsv fails.</p><p id="p-0204" num="0202">Next, each of mobile body devices A, B, and C stores reservation transaction data Trsv verified by the verification algorithm executed in step S<b>104</b> in a transaction pool (S<b>105</b>). More specifically, mobile body device A stores the verified reservation transaction data Trsv in transaction pool a, and mobile body device B stores the verified reservation transaction data Trsv in transaction pool b. Mobile body device C stores the verified reservation transaction data Trsv in transaction pool c.</p><p id="p-0205" num="0203">Next, mobile body devices A, B, and C are capable of communicating with each other and therefore exchange information of transaction data to be stored in the block to be generated next (S<b>106</b>). In the example illustrated in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, mobile body devices A, B, and C confirm that the verified reservation transaction data Trsv is in the transaction data to be stored in the block to be generated next.</p><p id="p-0206" num="0204">Next, each of mobile body devices A, B, and C generates block Blc (Trsv) containing the verified reservation transaction data Trsv (S<b>107</b>).</p><p id="p-0207" num="0205">Next, each of mobile body devices A, B, and C transmits block Blc (Trsv) generated in step S<b>107</b> to the other mobile body devices (S<b>108</b>). Through this, each of mobile body devices A, B, and C can communicate, to the other mobile body devices, a report that the validity of reservation transaction data Trsv contained in block Blc (Trsv) was successfully verified.</p><p id="p-0208" num="0206">Next, mobile body devices A, B, and C execute a consensus algorithm together (S<b>109</b>). Specifically, each of mobile body devices A, B, and C consents to reservation transaction data Trsv being valid transaction data (i.e., is valid) based on the reports communicated in step S<b>108</b>, and consents to the validity of block Blc (Trsv). In the example illustrated in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, reservation transaction data Trsv contained in block Blc (Trsv) is consented to as valid transaction data (i.e., is valid), and the validity of block Blc (Trsv) is also consented to. Note that the processing of step S<b>107</b> and step S<b>108</b> may be performed when executing the consensus algorithm in step S<b>109</b>.</p><p id="p-0209" num="0207">Next, each of mobile body devices A, B, and C concatenates block Blc (Trsv) consented to in step S<b>109</b> to the blockchain within the distributed ledger (S<b>110</b>). More specifically, mobile body device A concatenates block Blc (Trsv) consented to to the blockchain in ledger A, and mobile body device B concatenates block Blc (Trsv) consented to to the blockchain in ledger B. Mobile body device C concatenates block Blc (Trsv) consented to to the blockchain in ledger C.</p><p id="p-0210" num="0208">Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>A</figref>, ledger A, ledger B, and ledger C all store the block containing reservation transaction data Trsv for making a use reservation for mobile body A.</p><heading id="h-0043" level="2">Renting Processing According to Comparative Example 1</heading><p id="p-0211" num="0209"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a sequence chart illustrating renting processing by the system according to Comparative Example 1.</p><p id="p-0212" num="0210">First, based on an operation by the user who wishes to use mobile body A, terminal A transmits an unlock request for mobile body A to mobile body device A (S<b>301</b>). Here, an application is installed as inputter <b>1101</b> in terminal A, i.e., in terminal <b>11</b>A, and the application may generate and transmit the unlock request for mobile body A based on the operation by the user. The unlock request for mobile body A contains information enabling the reservation for the corresponding mobile body A to be identified, such as a reservation ID of the user or the like.</p><p id="p-0213" num="0211">Next, upon receiving the unlock request transmitted in step S<b>301</b>, mobile body device A confirms whether there is a reservation corresponding to the unlock request in the blockchain in ledger A (S<b>302</b>). Here, mobile body device A may confirm whether there is a reservation corresponding to the unlock request by confirming whether reservation transaction data Trsv is present in the blockchain in ledger A. In the example illustrated in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the blockchain in ledger A contains reservation transaction data Trsv, and thus mobile body device A can confirm that a reservation corresponding to the unlock request is present in the blockchain in ledger A.</p><p id="p-0214" num="0212">Next, mobile body device A unlocks mobile body A (S<b>303</b>). Here, mobile body device A may unlock mobile body A my making an unlock instruction to a device managing a lock of mobile body A, or may unlock mobile body A directly.</p><p id="p-0215" num="0213">Next, mobile body device A generates renting transaction data Trnt indicating the start of the rental of mobile body A triggered by mobile body A being unlocked (S<b>304</b>). Renting transaction data Trnt contains the user ID of the user using mobile body A and a rental start time. The rental start time is, for example, the time when the mobile body is unlocked.</p><p id="p-0216" num="0214">Next, mobile body device A forwards renting transaction data Trnt to mobile body devices B and C, which are the other mobile body devices (S<b>305</b>). Through this, mobile body devices B and C obtain renting transaction data Trnt.</p><p id="p-0217" num="0215">Next, each of mobile body devices A, B, and C executes the verification algorithm that verifies the validity of renting transaction data Trnt (S<b>306</b>).</p><p id="p-0218" num="0216">Next, each of mobile body devices A, B, and C stores renting transaction data Trnt verified by the verification algorithm executed in step S<b>306</b> in a transaction pool (S<b>307</b>). More specifically, mobile body device A stores the verified renting transaction data Trnt in transaction pool a, and mobile body device B stores the verified renting transaction data Trnt in transaction pool b. Mobile body device C stores the verified renting transaction data Trnt in transaction pool c.</p><p id="p-0219" num="0217">Next, mobile body devices A, B, and C are capable of communicating with each other and therefore exchange information of transaction data to be stored in the block to be generated next (S<b>308</b>). In the example illustrated in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, mobile body devices A, B, and C confirm that the verified renting transaction data Trnt is in the transaction data to be stored in the block to be generated next.</p><p id="p-0220" num="0218">Next, each of mobile body devices A, B, and C generates block Blc (Trnt) containing the verified renting transaction data Trnt (S<b>309</b>).</p><p id="p-0221" num="0219">Next, each of mobile body devices A, B, and C transmits block Blc (Trnt) generated in step S<b>309</b> to the other mobile body devices (S<b>310</b>). Through this, each of mobile body devices A, B, and C can communicate, to the other mobile body devices, a report that the validity of renting transaction data Trnt contained in block Blc (Trnt) was successfully verified.</p><p id="p-0222" num="0220">Next, mobile body devices A, B, and C execute a consensus algorithm together (S<b>311</b>). Specifically, each of mobile body devices A, B, and C consents to renting transaction data Trnt being valid transaction data (i.e., is valid) based on the reports communicated in step S<b>310</b>, and consents to the validity of block Blc (Trnt). In the example illustrated in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, renting transaction data Trnt contained in block Blc (Trnt) is consented to as valid transaction data (i.e., is valid), and the validity of block Blc (Trnt) is also consented to. Note that the processing of step S<b>309</b> and step S<b>310</b> may be performed when executing the consensus algorithm in step S<b>311</b>.</p><p id="p-0223" num="0221">Next, each of mobile body devices A, B, and C concatenates block Blc (Trnt) consented to in step S<b>311</b> to the blockchain within the distributed ledger (S<b>312</b>). More specifically, mobile body device A concatenates block Blc (Trnt) consented to to the blockchain in ledger A, and mobile body device B concatenates block Blc (Trnt) consented to to the blockchain in ledger B. Mobile body device C concatenates block Blc (Trnt) consented to to the blockchain in ledger C.</p><p id="p-0224" num="0222">Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>B</figref>, ledger A, ledger B, and ledger C all store the block containing renting transaction data Trnt, and the start of the renting of mobile body A is recorded.</p><p id="p-0225" num="0223">Return Processing According to Comparative Example 1 <figref idref="DRAWINGS">FIG. <b>12</b></figref> is a sequence chart illustrating return processing by the system according to Comparative Example 1.</p><p id="p-0226" num="0224">First, when mobile body A is returned by the user who used mobile body A, mobile body device A confirms that mobile body A has been returned (S<b>501</b>). Here, for example, user A can return mobile body A by placing mobile body A at a predetermined return facility, pressing a &#x201c;return&#x201d; button in the UI of mobile body device A after placing mobile body A at a predetermined location, or the like. User A may return mobile body A by pressing a &#x201c;return&#x201d; button in a UI displayed in terminal A. Mobile body device A may confirm that mobile body A has been returned in response to the input of a message indicating that mobile body A has been returned from the predetermined return facility or from terminal A, or may confirm that mobile body A has been returned in response to the &#x201c;return&#x201d; button in the UI of mobile body device A being pressed.</p><p id="p-0227" num="0225">Next, mobile body device A generates return transaction data Trtn indicating the return of mobile body A is complete, triggered by confirming that mobile body A has been returned (S<b>502</b>). Return transaction data Trtn contains the user ID of the user who used mobile body A, a return time, and a reservation ID from when mobile body A was used. The return time is, for example, the time when mobile body device A confirms that mobile body A has been returned. Note that return transaction data Trtn is not limited to containing the reservation ID, and may contain any information that makes it possible to calculate the use fee of mobile body A for the user.</p><p id="p-0228" num="0226">Next, mobile body device A forwards return transaction data Trtn to mobile body devices B and C, which are the other mobile body devices (S<b>503</b>). Through this, mobile body devices B and C obtain return transaction data Trtn.</p><p id="p-0229" num="0227">Next, each of mobile body devices A, B, and C executes the verification algorithm that verifies the validity of the obtained return transaction data Trtn (S<b>504</b>).</p><p id="p-0230" num="0228">Next, each of mobile body devices A, B, and C stores return transaction data Trtn verified by the verification algorithm executed in step S<b>504</b> in a transaction pool (S<b>505</b>). More specifically, mobile body device A stores the verified return transaction data Trtn in transaction pool a, and mobile body device B stores the verified return transaction data Trtn in transaction pool b. Mobile body device C stores the verified return transaction data Trtn in transaction pool c. Note that although not illustrated here, mobile body devices A, B, and C are capable of communicating with each other and therefore exchange information of transaction data to be stored in the block to be generated next. In the example illustrated in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, mobile body devices A, B, and C confirm that the verified return transaction data Trtn is in the transaction data to be stored in the block to be generated next.</p><p id="p-0231" num="0229">Next, each of mobile body devices A, B, and C generates block Blc (Trtn) containing the verified return transaction data Trtn (S<b>506</b>).</p><p id="p-0232" num="0230">Next, each of mobile body devices A, B, and C transmits block Blc (Trtn) generated in step S<b>506</b> to the other mobile body devices (S<b>507</b>). Through this, each of mobile body devices A, B, and C can communicate, to the other mobile body devices, a report that the validity of return transaction data Trtn contained in block Blc (Trtn) was successfully verified.</p><p id="p-0233" num="0231">Next, mobile body devices A, B, and C execute a consensus algorithm together (S<b>508</b>). Specifically, each of mobile body devices A, B, and C consents to return transaction data Trtn being valid transaction data (i.e., is valid) based on the reports communicated in step S<b>507</b>, and consents to the validity of block Blc (Trtn). In the example illustrated in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, return transaction data Trtn contained in block Blc (Trtn) is consented to as valid transaction data (i.e., is valid), and the validity of block Blc (Trtn) is also consented to. Note that the processing of step S<b>506</b> and step S<b>507</b> may be performed when executing the consensus algorithm in step S<b>508</b>.</p><p id="p-0234" num="0232">Next, each of mobile body devices A, B, and C concatenates block Blc (Trnt) consented to in step S<b>508</b> to the blockchain within the distributed ledger (S<b>509</b>). More specifically, mobile body device A concatenates block Blc (Trtn) consented to to the blockchain in ledger A, and mobile body device B concatenates block Blc (Trtn) consented to to the blockchain in ledger B. Mobile body device C concatenates block Blc (Trtn) consented to to the blockchain in ledger C. Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>C</figref>, ledger A, ledger B, and ledger C all store the block containing return transaction data Trtn, and the completion of the return of mobile body A is recorded.</p><p id="p-0235" num="0233">Next, each of mobile body devices A, B, and C checks the reservation information stored in the blockchain (S<b>510</b>). More specifically, by concatenating the block containing return transaction data Trtn to the blockchain in its own ledger, each of mobile body devices A, B, and C causes the reservation smart contract to be executed, and confirms that reservation transaction data Trsv is present as the reservation information stored in the blockchain.</p><p id="p-0236" num="0234">Next, each of mobile body devices A, B, and C executes the fee calculation algorithm (S<b>511</b>). In the example illustrated in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, the fee for using mobile body A is collected. Here, the fee calculation algorithm may be included in the reservation smart contract, or may be included in the fee collection smart contract. Each of mobile body devices A, B, and C may execute the fee collection smart contract or the reservation smart contract, and cause processing for collecting the fee corresponding to the use reservation for mobile body A contained in reservation transaction data Trsv to be performed. Although the execution of the fee calculation algorithm is described as part of the return processing in the example illustrated in <figref idref="DRAWINGS">FIG. <b>12</b></figref>, the configuration is not limited thereto. This may be performed in the fee calculation processing illustrated in <figref idref="DRAWINGS">FIG. <b>8</b></figref>.</p><heading id="h-0044" level="2">Fee Calculation Processing According to Comparative Example</heading><p id="p-0237" num="0235">Next, details of the fee calculation processing in step S<b>7</b> indicated in <figref idref="DRAWINGS">FIG. <b>8</b></figref> will be described with reference to a flowchart.</p><p id="p-0238" num="0236"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a flowchart illustrating details of fee calculation processing by the system according to a comparative example. The following will describe a case where mobile body device A performs the processing as a representative example.</p><p id="p-0239" num="0237">In step S<b>7</b> indicated in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, first, mobile body device A confirms whether there is a trigger for fee collection (S<b>71</b>). This trigger may be a set interval passing, or may be return transaction data Trtn contained in a block newly concatenated to the blockchain in ledger A.</p><p id="p-0240" num="0238">When there is a trigger in step S<b>71</b> (Yes in S<b>71</b>), mobile body device A searches within the blockchain in ledger A (S<b>72</b>). Note that when there is no trigger in step S<b>71</b> (No in S<b>71</b>), mobile body device A returns to step S<b>71</b>.</p><p id="p-0241" num="0239">Next, mobile body device A confirms whether there is another reservation in the blockchain of ledger A (i.e., overlapping reservations) (S<b>73</b>).</p><p id="p-0242" num="0240">If there is an overlapping reservation in step S<b>73</b> (Yes in S<b>73</b>), it is confirmed whether the reservation, i.e., the reservation ID contained in return transaction data Trtn, is the most recent among the overlapping reservations (S<b>74</b>). Note that when there are no overlapping reservations in step S<b>73</b> (No in S<b>73</b>), the sequence returns to step S<b>75</b>.</p><p id="p-0243" num="0241">When the reservation is the most recent among the overlapping reservations in step S<b>74</b> (Yes in S<b>74</b>), mobile body device A executes the fee calculation algorithm (S<b>75</b>). Through this, the fee is calculated for the reservation, i.e., the reservation ID indicating the use reservation for mobile body A contained in return transaction data Trtn. Note that if the reservation is not the most recent among the overlapping reservations in step S<b>74</b> (No in S<b>74</b>), the fee calculation processing ends.</p><p id="p-0244" num="0242">Next, mobile body device A executes the fee collection processing (S<b>76</b>). Through this, the fee for using mobile body A is collected for the reservation ID indicating the use reservation for mobile body A made by the user. Processing for collecting the fee for the use reservation for mobile body A contained in reservation transaction data Trsv may be performed.</p><heading id="h-0045" level="1">Comparative Example 2</heading><p id="p-0245" num="0243">Comparative Example 1 described a case where the reservation processing, renting processing, and return processing are performed normally for mobile body A, in the service which shares a plurality of mobile bodies, when mobile body A is in an online state. Processing performed when, with mobile body device A in an offline state, the reservation processing, renting processing, and return processing are performed normally for mobile body A, and mobile body device A then goes back online, will be described next as Comparative Example 2.</p><p id="p-0246" num="0244"><figref idref="DRAWINGS">FIG. <b>14</b></figref> is a flowchart illustrating an overview of operations in normal processing by a system according to Comparative Example 2. <figref idref="DRAWINGS">FIG. <b>14</b></figref> illustrates an overview of operations in normal processing in which the reservation processing, renting processing, and return processing for mobile body A are performed normally, with mobile body device A in an offline state and mobile body devices B and C in an online state. <figref idref="DRAWINGS">FIGS. <b>15</b>A to <b>17</b></figref> are diagrams conceptually illustrating blockchains stored in ledger A of mobile body device A and ledger B of mobile body device B. <figref idref="DRAWINGS">FIG. <b>15</b>A</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>1</b>A in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. <figref idref="DRAWINGS">FIG. <b>15</b>B</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>3</b>A in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. <figref idref="DRAWINGS">FIG. <b>15</b>C</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>5</b>A in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. <figref idref="DRAWINGS">FIGS. <b>16</b> and <b>17</b></figref> are diagrams conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>6</b>A in <figref idref="DRAWINGS">FIG. <b>14</b></figref>. The following descriptions will assume that a user who wishes to use mobile body A uses terminal A to perform processing in mobile body device A, which is installed in mobile body A.</p><p id="p-0247" num="0245">As illustrated in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, first, for example, terminal A communicates with mobile body device A, which is not capable of communicating with the other mobile body devices B and C (i.e., is offline), and performs the reservation processing for mobile body A in which mobile body device A, which is offline, is installed (S<b>1</b>A). In other words, terminal A performs reservation processing for locally reserving mobile body A with mobile body device A, which is offline. More specifically, terminal A communicates with mobile body device A, generates reservation transaction data Trsv for making a use reservation for mobile body A, and transmits the data to mobile body device A. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>15</b>A</figref>, mobile body device A and mobile body device B not capable of communicating (that is, are offline), and thus a block containing reservation transaction data Trsv for making a use reservation for mobile body A is stored in ledger A only.</p><p id="p-0248" num="0246">Next, for example, terminal A communicates with mobile body device A, which is offline, and performs the renting processing for mobile body A (S<b>3</b>A). In other words, terminal A performs renting processing for locally renting mobile body A with mobile body device A, which is offline. More specifically, terminal A can communicate with mobile body device A and transmit an unlock request for mobile body A in order to use mobile body A. Mobile body device A then unlocks mobile body A, mobile body A is unlocked, and mobile body device A generates renting transaction data Trnt indicating the start of the rental of mobile body A. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>15</b>B</figref>, mobile body device A is offline, and thus a block containing renting transaction data Trnt indicating the start of the rental of mobile body A is stored in ledger A only.</p><p id="p-0249" num="0247">Next, for example, terminal A communicates with mobile body device A, which is offline, and performs the return processing for mobile body A (S<b>5</b>A). In other words, terminal A performs return processing for locally returning mobile body A with mobile body device A, which is offline. More specifically, user who operated terminal A uses the unlocked mobile body A for the time reserved for use, and then returns mobile body A. When mobile body A is returned, mobile body device A generates return transaction data Trtn indicating the return of mobile body A is complete. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>15</b>C</figref>, mobile body device A is offline, and thus a block containing return transaction data Trtn indicating the completion of the return of mobile body A is stored in ledger A only.</p><p id="p-0250" num="0248">Assume that mobile body device A then goes back online. Then, when mobile body device A is restored to an online state, return processing is performed in the system (S<b>6</b>A). More specifically, in steps S<b>1</b>A to S<b>5</b>A, mobile body device A cannot communicate with mobile body device B (is offline), as described above. Accordingly, as indicated by (a) in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, different blocks are concatenated to the blockchains in ledger A and ledger B at the point in time when mobile body device A goes back online. Next, as indicated by (b) in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, when mobile body device A goes back online, a fork occurs due to ledger A of mobile body device A and ledger B of mobile body device B sharing different blockchains. Here, the block concatenated to the blockchain in ledger A of mobile body device A, which is offline, corresponds to a sidechain block, and the block concatenated to the blockchain in ledger B of mobile body device B, which is online, corresponds to a main chain block. Accordingly, as indicated by (a) and (b) in <figref idref="DRAWINGS">FIG. <b>17</b></figref>, in ledger A of mobile body device A and ledger B of mobile body device B, the fork is eliminated by deleting the sidechain block and storing the transaction data contained in the sidechain block in the transaction pool. Note that in (b) in <figref idref="DRAWINGS">FIG. <b>17</b></figref>, reservation transaction data Trsv, renting transaction data Trnt, and return transaction data Trtn are stored in the transaction pool. Then, as indicated by (c) in <figref idref="DRAWINGS">FIG. <b>17</b></figref>, in the blockchains in ledger A of mobile body device A and ledger B of mobile body device B, a block containing the transaction data stored in the transaction pool is generated and concatenated when a new block is generated.</p><p id="p-0251" num="0249">Next, the fee calculation processing is performed in mobile body device A and the like (S<b>7</b>). The fee calculation processing in step S<b>7</b> is as described above, and will therefore not be described here.</p><p id="p-0252" num="0250">Details of the reservation processing of step S<b>1</b>A, the renting processing of step S<b>3</b>A, and the return processing of step S<b>5</b>A indicated in <figref idref="DRAWINGS">FIG. <b>14</b></figref>, i.e., the details of the processing of the local reservation, the local renting, and the local return, will be described with reference to sequence charts. Details of processing performed when communication is restored for mobile body device A in step S<b>6</b>A indicated in <figref idref="DRAWINGS">FIG. <b>14</b></figref> will also be described with reference to sequence charts. The following descriptions assume that a user who wishes to use mobile body A uses terminal A to perform the reservation processing, the renting processing, and the return processing for mobile body A in mobile body device A, which is installed in mobile body A.</p><heading id="h-0046" level="2">Reservation Processing According to Comparative Example 2</heading><p id="p-0253" num="0251"><figref idref="DRAWINGS">FIG. <b>18</b></figref> is a sequence chart illustrating the reservation processing by the system according to Comparative Example 2, i.e., local reservation processing. Elements identical to those in <figref idref="DRAWINGS">FIG. <b>10</b></figref> are given the same reference signs and will not be described in detail.</p><p id="p-0254" num="0252">First, based on an operation by the user who wishes to use mobile body A, terminal A generates reservation transaction data Trsv for making a use reservation for mobile body A (S<b>101</b>), and transmits the generated reservation transaction data Trsv to mobile body device A (S<b>102</b>).</p><p id="p-0255" num="0253">Next, upon receiving reservation transaction data Trsv transmitted in step S<b>102</b>, mobile body device A attempts to forward reservation transaction data Trsv to mobile body devices B and C, which are other mobile body devices, but fails (S<b>103</b>A). This is because mobile body device A is offline and therefore cannot forward reservation transaction data Trsv to mobile body devices B and C. Accordingly, mobile body devices B and C do not obtain reservation transaction data Trsv.</p><p id="p-0256" num="0254">Next, mobile body device A executes the verification algorithm that verifies the validity of the obtained reservation transaction data Trsv (S<b>104</b>). Note that the reservation processing ends if the verification of reservation transaction data Trsv fails.</p><p id="p-0257" num="0255">Next, mobile body device A stores reservation transaction data Trsv verified by the verification algorithm executed in step S<b>104</b> in transaction pool a (S<b>105</b>).</p><p id="p-0258" num="0256">Next, mobile body device A generates block Blc (Trsv) containing the verified reservation transaction data Trsv (S<b>107</b>). Note that mobile body device A is offline, and therefore generates block Blc (Trsv) without exchanging information on the transaction data to be stored in the block to be generated next with mobile body devices B and C.</p><p id="p-0259" num="0257">Next, mobile body device A attempts to transmit block Blc (Trsv) generated in step S<b>107</b> to mobile body devices B and C, which are the other mobile body devices, but fails (S<b>108</b>A). This is because mobile body device A is offline and therefore cannot transmit block Blc (Trsv) to mobile body devices B and C.</p><p id="p-0260" num="0258">Next, mobile body device A executes a consensus algorithm alone (S<b>109</b>A). Specifically, mobile body device A consents to reservation transaction data Trsv being valid transaction data (i.e., is valid) alone, and consents to the validity of block Blc (Trsv) alone. In the example illustrated in <figref idref="DRAWINGS">FIG. <b>18</b></figref>, mobile body device A consents to reservation transaction data Trsv contained in block Blc (Trsv) being valid transaction data (i.e., is valid), and therefore also consents to the validity of block Blc (Trsv). Note that the processing of step S<b>107</b> may be performed when executing the consensus algorithm in step S<b>109</b>A alone.</p><p id="p-0261" num="0259">Next, mobile body device A concatenates block Blc (Trsv) consented to in step S<b>109</b>A to the blockchain within ledger A (S<b>110</b>).</p><p id="p-0262" num="0260">Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>15</b>A</figref>, only ledger A stores the block containing reservation transaction data Trsv for making a use reservation for mobile body A, and the reservation is finalized. A reservation which is self-completed only in ledger A, which is offline, in this manner is called a &#x201c;local reservation&#x201d;.</p><heading id="h-0047" level="2">Renting Processing According to Comparative Example 2</heading><p id="p-0263" num="0261"><figref idref="DRAWINGS">FIG. <b>19</b></figref> is a sequence chart illustrating renting processing by the system according to Comparative Example 2, i.e., processing for local renting. Elements identical to those in <figref idref="DRAWINGS">FIG. <b>11</b></figref> are given the same reference signs and will not be described in detail.</p><p id="p-0264" num="0262">First, based on an operation by the user who wishes to use mobile body A, terminal A transmits an unlock request for mobile body A to mobile body device A (S<b>301</b>).</p><p id="p-0265" num="0263">Next, upon receiving the unlock request transmitted in step S<b>301</b>, mobile body device A confirms whether there is a reservation corresponding to the unlock request in the blockchain in ledger A (S<b>302</b>), and unlocks mobile body A (S<b>303</b>).</p><p id="p-0266" num="0264">Next, mobile body device A generates renting transaction data Trnt indicating the start of the rental of mobile body A triggered by mobile body A being unlocked (S<b>304</b>).</p><p id="p-0267" num="0265">Next, mobile body device A attempts to forward renting transaction data Trnt to mobile body devices B and C, which are the other mobile body devices, but fails (S<b>305</b>A). This is because mobile body device A is offline and therefore cannot forward renting transaction data Trnt to mobile body devices B and C. Accordingly, mobile body devices B and C do not obtain renting transaction data Trnt.</p><p id="p-0268" num="0266">Next, mobile body device A executes the verification algorithm that verifies the validity of renting transaction data Trnt (S<b>306</b>).</p><p id="p-0269" num="0267">Next, mobile body device A stores renting transaction data Trnt verified by the verification algorithm executed in step S<b>306</b> in transaction pool a (S<b>307</b>).</p><p id="p-0270" num="0268">Next, mobile body device A generates block Blc (Trnt) containing the verified renting transaction data Trnt (S<b>309</b>). Note that mobile body device A is offline, and therefore generates block Blc (Trnt) without exchanging information on the transaction data to be stored in the block to be generated next with mobile body devices B and C.</p><p id="p-0271" num="0269">Next, mobile body device A attempts to transmit block Blc (Trnt) generated in step S<b>309</b> to mobile body devices B and C, which are the other mobile body devices, but fails (S<b>310</b>A). This is because mobile body device A is offline and therefore cannot transmit block Blc (Trnt) to mobile body devices B and C.</p><p id="p-0272" num="0270">Next, mobile body device A executes a consensus algorithm alone (S<b>311</b>A). Specifically, mobile body device A consents to renting transaction data Trnt being valid transaction data (i.e., is valid) alone, and consents to the validity of block Blc (Trnt) alone.</p><p id="p-0273" num="0271">In the example illustrated in <figref idref="DRAWINGS">FIG. <b>19</b></figref>, mobile body device A consents to renting transaction data Trnt contained in block Blc (Trnt) being valid transaction data (i.e., is valid), and therefore also consents to the validity of block Blc (Trnt). Note that the processing of step S<b>309</b> may be performed when executing the consensus algorithm in step S<b>311</b>.</p><p id="p-0274" num="0272">Next, mobile body device A concatenates block Blc (Trnt) consented to in step S<b>311</b>A to the blockchain within ledger A (S<b>312</b>).</p><p id="p-0275" num="0273">Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>15</b>B</figref>, only ledger A stores the block containing renting transaction data Trnt, and the start of the renting of mobile body A is recorded. The recording of the start of the rental of mobile body A which is self-completed only in ledger A, which is offline, in this manner is called &#x201c;local renting&#x201d;.</p><heading id="h-0048" level="2">Return Processing According to Comparative Example 2</heading><p id="p-0276" num="0274"><figref idref="DRAWINGS">FIG. <b>20</b></figref> is a sequence chart illustrating return processing by the system according to Comparative Example 2. Elements identical to those in <figref idref="DRAWINGS">FIG. <b>12</b></figref> are given the same reference signs and will not be described in detail.</p><p id="p-0277" num="0275">First, when mobile body A is returned by the user who used mobile body A, mobile body device A confirms that mobile body A has been returned (S<b>501</b>).</p><p id="p-0278" num="0276">Next, mobile body device A generates return transaction data Trtn indicating the return of mobile body A is complete, triggered by confirming that mobile body A has been returned (S<b>502</b>).</p><p id="p-0279" num="0277">Next, mobile body device A attempts to forward return transaction data Trtn to mobile body devices B and C, which are the other mobile body devices, but fails (S<b>503</b>A). This is because mobile body device A is offline and therefore cannot forward return transaction data Trtn to mobile body devices B and C. Accordingly, mobile body devices B and C do not obtain return transaction data Trtn.</p><p id="p-0280" num="0278">Next, mobile body device A executes the verification algorithm that verifies the validity of the obtained return transaction data Trtn (S<b>504</b>).</p><p id="p-0281" num="0279">Next, mobile body device A stores return transaction data Trtn verified by the verification algorithm executed in step S<b>504</b> in transaction pool a (S<b>505</b>).</p><p id="p-0282" num="0280">Next, mobile body device A generates block Blc (Trtn) containing the verified return transaction data Trtn (S<b>506</b>). Note that mobile body device A is offline, and therefore generates block Blc (Trtn) without exchanging information on the transaction data to be stored in the block to be generated next with mobile body devices B and C.</p><p id="p-0283" num="0281">Next, mobile body device A attempts to transmit block Blc (Trtn) generated in step S<b>506</b> to mobile body devices B and C, which are the other mobile body devices, but fails (S<b>507</b>A). This is because mobile body device A is offline and therefore cannot transmit block Blc (Trtn) to mobile body devices B and C.</p><p id="p-0284" num="0282">Next, mobile body device A executes a consensus algorithm alone (S<b>508</b>A). Specifically, mobile body device A consents to return transaction data Trtn being valid transaction data (i.e., is valid) alone, and consents to the validity of block Blc (Trtn) alone. In the example illustrated in <figref idref="DRAWINGS">FIG. <b>20</b></figref>, mobile body device A consents to return transaction data Trtn contained in block Blc (Trtn) being valid transaction data (i.e., is valid), and therefore also consents to the validity of block Blc (Trtn). Note that the processing of step S<b>506</b> may be performed when executing the consensus algorithm in step S<b>508</b>A.</p><p id="p-0285" num="0283">Next, mobile body device A concatenates block Blc (Trtn) consented to in step S<b>508</b>A to the blockchain within ledger A (S<b>509</b>). Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>15</b>C</figref>, only ledger A stores the block containing return transaction data Trtn, and the completion of the return of mobile body A is recorded. The recording of the completion of the return of mobile body A which is self-completed only in ledger A, which is offline, in this manner is called &#x201c;local return&#x201d;.</p><p id="p-0286" num="0284">Next, mobile body device A checks the reservation information stored in the blockchain (S<b>510</b>). More specifically, by concatenating return transaction data Trtn to the blockchain in its own ledger, each of mobile body devices A, B, and C causes the reservation smart contract to be executed, and confirms that reservation transaction data Trsv is present as the reservation information stored in the blockchain.</p><p id="p-0287" num="0285">Next, mobile body device A executes the fee calculation algorithm (S<b>511</b>).</p><p id="p-0288" num="0000">Processing when Communication is Restored for Mobile Body Device A According to Comparative Example 2</p><p id="p-0289" num="0286">Details of processing performed when communication is restored for mobile body device A in step S<b>6</b>A indicated in <figref idref="DRAWINGS">FIG. <b>14</b></figref> will be described next.</p><p id="p-0290" num="0287"><figref idref="DRAWINGS">FIG. <b>21</b></figref> is a sequence chart illustrating processing by the system, performed when communication is restored for mobile body device A, according to Comparative Example 2.</p><p id="p-0291" num="0288">First, assume that mobile body device A has returned to communicability with mobile body devices B and C, which are the other mobile body devices (that is, is back online) (S<b>601</b>). Being installed in mobile body A, mobile body device A can go offline and come online depending on the location of mobile body A.</p><p id="p-0292" num="0289">Then, mobile body device A transmits signals to mobile body devices B and C, which are the other mobile body devices (S<b>602</b>). The signals may be any signals capable of communicating that mobile body device A has come online.</p><p id="p-0293" num="0290">Next, mobile body devices A, B, and C perform discrepancy determination for the blockchains in the respective ledgers (S<b>603</b>). More specifically, mobile body device A determines a discrepancy between the blockchain within ledger A and the blockchains within ledgers B and C of mobile body devices B and C, which are the other mobile body devices. Mobile body devices B and C determine a discrepancy between the blockchains within ledgers B and C and the blockchain within ledger A of mobile body device A, which is the other mobile body device. Here, as in the example indicated by (a) in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, different blocks are concatenated to the blockchain in ledger A and the blockchains in ledgers B and C, and thus the blockchain in ledger A differs from the blockchain in ledgers B and C. Accordingly, as in the example indicated by (b) in <figref idref="DRAWINGS">FIG. <b>16</b></figref>, mobile body devices A, B, and C share different blockchains in ledgers A, B, and C, and a fork therefore occurs.</p><p id="p-0294" num="0291">Next, mobile body devices A, B, and C transmit information on the blocks that correspond to sidechain blocks and main chain blocks to each other (S<b>604</b>, S<b>605</b>). In the present comparative example, the block concatenated to the blockchain in ledger A of mobile body device A, which was offline for a set period of time, corresponds to the sidechain block. The blocks concatenated to the blockchains in ledgers B and C of mobile body devices B and C correspond to the main chain blocks.</p><p id="p-0295" num="0292">Next, each of mobile body devices A, B, and C stores transaction data Tpol of the sidechain block obtained in step S<b>604</b> in the transaction pools (S<b>606</b>). More specifically, mobile body device A stores a copy of transaction data Tpol of the sidechain block concatenated to the blockchain in ledger A in transaction pool a. Mobile body device B stores transaction data Tpol of the sidechain block in transaction pool b, and mobile body device C stores transaction data Tpol of the sidechain block in transaction pool c.</p><p id="p-0296" num="0293">Next, mobile body devices A, B, and C update the blockchains in ledgers A, B, and C, respectively, to be the same as each other (S<b>607</b>). More specifically, mobile body device A updates the blockchain in ledger A to be the same as the blockchains in ledgers B and C by deleting the sidechain block concatenated to the blockchain in ledger A and leaving the main chain blocks. Mobile body device B updates the blockchain in ledger B to be the same as the blockchains in ledgers A and C by deleting the sidechain block concatenated to the blockchain in ledger B and leaving the main chain blocks. Mobile body device C updates the blockchain in ledger C to be the same as the blockchains in ledgers A and B by deleting the sidechain block concatenated to the blockchain in ledger C and leaving the main chain blocks.</p><p id="p-0297" num="0294">Next, at a block generation timing following a predetermined period of time, each of mobile body devices A, B, and C generates block Blc (Tpol) containing transaction data Tpol stored in the transaction pools (S<b>614</b>).</p><p id="p-0298" num="0295">Next, each of mobile body devices A, B, and C transmits block Blc (Tpol) generated in step S<b>614</b> to the other mobile body devices (S<b>615</b>).</p><p id="p-0299" num="0296">Next, mobile body devices A, B, and C execute a consensus algorithm together (S<b>616</b>). Specifically, each of mobile body devices A, B, and C consents to transaction data Tpol being valid transaction data (i.e., is valid), and consents to the validity of block Blc (Tpol). In the example illustrated in <figref idref="DRAWINGS">FIG. <b>21</b></figref>, transaction data Tpol contained in block Blc (Tpol) is consented to as valid transaction data (i.e., is valid), and the validity of block Blc (Tpol) is also consented to. Note that the processing of step S<b>614</b> and step S<b>615</b> may be performed when executing the consensus algorithm in step S<b>616</b>.</p><p id="p-0300" num="0297">Next, each of mobile body devices A, B, and C concatenates block Blc (Tpol) consented to in step S<b>616</b> to the blockchain within the distributed ledger (S<b>617</b>). More specifically, mobile body device A concatenates block Blc (Tpol) consented to to the blockchain in ledger A, and mobile body device B concatenates block Blc (Tpol) consented to to the blockchain in ledger B. Mobile body device C concatenates block Blc (Tpol) consented to to the blockchain in ledger C. Through this, as indicated by (c) in <figref idref="DRAWINGS">FIG. <b>17</b></figref>, blocks containing reservation transaction data Trsv, renting transaction data Trnt, and return transaction data Trtn are stored, and the local reservation, the local renting, and the local return of mobile body A are recorded.</p><p id="p-0301" num="0298">Next, mobile body device A checks the reservation information stored in the blockchain (S<b>620</b>). More specifically, by concatenating the block containing return transaction data Trtn to the blockchain in its own ledger, each of mobile body devices A, B, and C causes the reservation smart contract to be executed, and confirms that reservation transaction data Trsv is present as the reservation information stored in the blockchain.</p><p id="p-0302" num="0299">Then, each of mobile body devices A, B, and C executes the fee calculation algorithm (S<b>621</b>). Note that the processing of step S<b>621</b> is the same as the processing of step S<b>511</b> described above, and will therefore not be described here.</p><heading id="h-0049" level="2">Block Concatenation Processing According to Comparative Example</heading><p id="p-0303" num="0300">A comparative example of the block concatenation processing for concatenating a generated block to a blockchain will be described next.</p><p id="p-0304" num="0301"><figref idref="DRAWINGS">FIG. <b>22</b></figref> is a flowchart illustrating block concatenation processing by the system according to a comparative example. The following will describe a case where mobile body device A performs the block concatenation processing as a representative example.</p><p id="p-0305" num="0302">First, when transaction data is obtained or generated (S<b>1001</b>), mobile body device A executes a verification algorithm for verifying the obtained or generated transaction data (S<b>1002</b>).</p><p id="p-0306" num="0303">Next, mobile body device A stores the transaction data verified by the verification algorithm executed in step S<b>1002</b> in the transaction pool (S<b>1003</b>).</p><p id="p-0307" num="0304">Next, mobile body device A confirms whether there is a trigger to concatenate a block to the blockchain in ledger A (S<b>1004</b>). The &#x201c;trigger&#x201d; here is that a set interval such as, for example, several minutes, has passed.</p><p id="p-0308" num="0305">If there is a trigger in step S<b>1004</b> (Yes in S<b>1004</b>), mobile body device A confirms whether communication with other mobile bodies is possible (S<b>1005</b>). Note that if there is no trigger in step S<b>1004</b> (No in S<b>1004</b>), the processing is repeated from step S<b>1001</b>.</p><p id="p-0309" num="0306">In step S<b>1005</b>, if mobile body device A cannot communicate with other mobile bodies, i.e., is offline (No in S<b>1005</b>), mobile body device A executes a consensus algorithm alone (S<b>1006</b>). Mobile body device A generates a block on the blockchain containing the obtained or generated transaction data, and forms a consensus by executing the consensus algorithm. Note that mobile body device A may verify the validity of the obtained or generated transaction data, and generate a block containing that transaction data.</p><p id="p-0310" num="0307">Next, mobile body device A concatenates the generated block to the blockchain in ledger A (S<b>1007</b>).</p><p id="p-0311" num="0308">On the other hand, in step S<b>1005</b>, if mobile body device A can communicate with other mobile bodies (Yes in S<b>1005</b>), mobile body device A executes a consensus algorithm together with the other mobile bodies (S<b>1008</b>). Each of mobile body device A and the other mobile bodies generates a block on the blockchain containing the transaction data, and forms a consensus for the generated block by executing the consensus algorithm.</p><p id="p-0312" num="0309">Next, mobile body device A determines whether the blockchain in ledger A is the same as the blockchains in the ledgers of the other mobile bodies (S<b>1009</b>).</p><p id="p-0313" num="0310">If in step S<b>1009</b> the blockchains are the same (Yes in S<b>1009</b>), mobile body device A concatenates the block consented to to the blockchain in ledger A (S<b>1010</b>).</p><p id="p-0314" num="0311">On the other hand, if in step S<b>1009</b> the blockchains are not the same (No in S<b>1009</b>), the transaction data of the block that will become the sidechain, i.e., the sidechain block, is stored in the transaction pool (S<b>1011</b>).</p><p id="p-0315" num="0312">Next, mobile body device A updates the blockchain in ledger A to be the same as the blockchains in the ledgers in the other mobile bodies (S<b>1012</b>).</p><p id="p-0316" num="0313">Next, mobile body device A concatenates the block consented to in step S<b>1009</b> to the blockchain in ledger A (S<b>1013</b>).</p><heading id="h-0050" level="1">Comparative Example 3</heading><p id="p-0317" num="0314">Improper processing performed when the blockchain mechanism is exploited to improperly use mobile body A will be described next. Processing performed when, with mobile body device A in an offline state, improper reservation processing and normal renting processing are performed for mobile body A, and mobile body device A then goes back online and the return processing is performed, will be described as Comparative Example 3.</p><p id="p-0318" num="0315"><figref idref="DRAWINGS">FIG. <b>23</b></figref> is a flowchart illustrating an overview of operations in improper processing by the system according to Comparative Example 3. <figref idref="DRAWINGS">FIGS. <b>24</b>A to <b>27</b></figref> are diagrams conceptually illustrating blockchains stored in ledger A of mobile body device A and ledger B of mobile body device B. <figref idref="DRAWINGS">FIG. <b>24</b>A</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>10</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>. <figref idref="DRAWINGS">FIG. <b>24</b>B</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>11</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>. <figref idref="DRAWINGS">FIG. <b>24</b>C</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>12</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>. <figref idref="DRAWINGS">FIGS. <b>25</b> and <b>26</b></figref> are diagrams conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>13</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>. <figref idref="DRAWINGS">FIG. <b>27</b></figref> is a diagram conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>14</b> in <figref idref="DRAWINGS">FIG. <b>23</b></figref>. The following descriptions will assume that a user who wishes to use mobile body A uses terminal A to perform improper processing in mobile body device A, which is installed in mobile body A.</p><p id="p-0319" num="0316">As illustrated in <figref idref="DRAWINGS">FIG. <b>23</b></figref>, first, for example, terminal A performs reservation processing for mobile body A in which mobile body device A is installed, mobile body device A being in an offline state (S<b>10</b>). Here, as described above, terminal A performs reservation processing for locally reserving mobile body A with mobile body device A, which is offline. More specifically, terminal A can communicate with mobile body device A, generate reservation transaction data TrsvA for making a use reservation for mobile body A, and transmit the data to mobile body device A. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>24</b>A</figref>, mobile body device A is offline, and thus a block containing reservation transaction data TrsvA for making a use reservation for mobile body A is stored in ledger A only.</p><p id="p-0320" num="0317">Next, reservation processing for mobile body A is performed with mobile body device B, which is online, so as to break the time period of the local reservation for mobile body A made in step S<b>10</b>, through some means such as using terminal A, using the personal smartphone of the user, or the like (S<b>11</b>). In other words, conflicting reservation processing for mobile body A, which conflicts with the local reservation of mobile body A, is performed for mobile body device B, which is online. In the present comparative example, the user uses terminal A to generate reservation transaction data TrsvB for making a conflicting reservation for mobile body A, and transmits the data to mobile body device B, which is online. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>24</b>B</figref>, mobile body device B and the like store a block containing reservation transaction data TrsvB for the conflicting reservation of mobile body A in ledger B and the like aside from ledger A of mobile body device A, which is offline.</p><p id="p-0321" num="0318">Next, for example, terminal A communicates with mobile body device A, which is offline, and performs the renting processing for mobile body A (S<b>12</b>). In other words, as described above, terminal A performs renting processing for locally renting mobile body A with mobile body device A, which is offline. More specifically, by communicating with mobile body device A and transmitting an unlock request for mobile body A to use mobile body A, terminal A causes mobile body device A to unlock mobile body A and generate renting transaction data TrntA indicating the start of the renting of mobile body A, triggered by mobile body A being unlocked. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>24</b>C</figref>, mobile body device A is offline, and thus a block containing renting transaction data TrntA indicating the start of the rental of mobile body A is stored in ledger A only.</p><p id="p-0322" num="0319">Next, assume that the user brings mobile body device A back online. Then, when mobile body device A is restored to an online state, return processing is performed in the system (S<b>13</b>).</p><p id="p-0323" num="0320">More specifically, as described above, in steps S<b>10</b> to S<b>12</b>, mobile body device A is offline, and thus as indicated by (a) in <figref idref="DRAWINGS">FIG. <b>25</b></figref>, different blocks are concatenated to the blockchains in ledger A and ledger B at the point in time when mobile body device A goes back online. Next, as indicated by (b) in <figref idref="DRAWINGS">FIG. <b>25</b></figref>, when mobile body device A goes back online, a fork occurs due to ledger A of mobile body device A and ledger B of mobile body device B sharing different blockchains. Here, the block concatenated to the blockchain in ledger A of mobile body device A, which is offline, corresponds to a sidechain block, and the block concatenated to the blockchain in ledger B of mobile body device B, which is online, corresponds to a main chain block. Accordingly, as indicated by (a) and (b) in <figref idref="DRAWINGS">FIG. <b>26</b></figref>, in ledger A of mobile body device A and ledger B of mobile body device B, the fork is eliminated by deleting the sidechain block and storing the transaction data contained in the sidechain block in the transaction pool. Note that in (b) in <figref idref="DRAWINGS">FIG. <b>26</b></figref>, reservation transaction data TrsvA ad renting transaction data TrntA are stored in the transaction pool. Then, as indicated by (c) in <figref idref="DRAWINGS">FIG. <b>26</b></figref>, in the blockchains in ledger A of mobile body device A and ledger B of mobile body device B, a block containing the transaction data stored in the transaction pool is generated and concatenated when a new block is generated.</p><p id="p-0324" num="0321">Next, for example, terminal A communicates with mobile body device A, which is online, and performs the return processing for mobile body A (S<b>14</b>). More specifically, user who operated terminal A uses the unlocked mobile body A for the time reserved for use, and then returns mobile body A. When mobile body A is returned, mobile body device A generates return transaction data TrtnA indicating the return of mobile body A is complete. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>27</b></figref>, mobile body device A is online, and thus a block return transaction data TrtnA Trtn indicating the completion of the return of mobile body A is stored in all of ledgers A and B and the like.</p><p id="p-0325" num="0322">Next, the fee calculation processing is performed in mobile body device A and the like (S<b>15</b>). The fee calculation processing in step S<b>15</b> is the same processing as the fee calculation processing in step S<b>7</b>, and will therefore not be described here. Reservation transaction data TrsvA and reservation transaction data TrsvB conflict, and the block containing reservation transaction data TrsvA is concatenated later, in terms of time, than the block containing reservation transaction data TrsvB. As a result, no fee is collected for the reservation corresponding to reservation transaction data TrsvA, and thus an impropriety arises in that the fee for using mobile body A through the reservation corresponding to reservation transaction data TrsvA is not paid.</p><p id="p-0326" num="0323">Details of the local reservation processing in step S<b>10</b> indicated in <figref idref="DRAWINGS">FIG. <b>23</b></figref>, the conflicting reservation processing in step S<b>11</b>, and the local renting processing in step S<b>12</b> will be described next with reference to sequence charts.</p><heading id="h-0051" level="2">Reservation Processing According to Comparative Example 3</heading><p id="p-0327" num="0324"><figref idref="DRAWINGS">FIG. <b>28</b></figref> is a sequence chart illustrating processing when making a local reservation, performed by the system according to Comparative Example 3. Elements identical to those in <figref idref="DRAWINGS">FIG. <b>18</b></figref> are given the same reference signs and will not be described in detail.</p><p id="p-0328" num="0325">First, based on an operation by the user who wishes to use mobile body A, terminal A generates reservation transaction data TrsvA for making a use reservation for mobile body A (S<b>101</b>B), and transmits the generated reservation transaction data TrsvA to mobile body device A (S<b>102</b>B).</p><p id="p-0329" num="0326">Next, upon receiving reservation transaction data TrsvA transmitted in step S<b>102</b>B, mobile body device A attempts to forward reservation transaction data TrsvA to mobile body devices B and C, which are other mobile body devices, but fails (S<b>103</b>B). This is because mobile body device A is offline and therefore cannot forward reservation transaction data TrsvA to mobile body devices B and C.</p><p id="p-0330" num="0327">Next, mobile body device A executes the verification algorithm that verifies the validity of the obtained reservation transaction data TrsvA (S<b>104</b>B).</p><p id="p-0331" num="0328">Next, mobile body device A stores reservation transaction data TrsvA verified by the verification algorithm executed in step S<b>104</b>B in transaction pool a (S<b>105</b>B).</p><p id="p-0332" num="0329">Next, mobile body device A generates block Blc (TrsvA) containing the verified reservation transaction data TrsvA (S<b>107</b>B).</p><p id="p-0333" num="0330">Next, mobile body device A attempts to transmit block Blc (TrsvA) generated in step S<b>107</b>B to mobile body devices B and C, which are the other mobile body devices, but fails (S<b>108</b>B). This is because mobile body device A is offline and therefore cannot transmit block Blc (TrsvA) to mobile body devices B and C.</p><p id="p-0334" num="0331">Next, mobile body device A executes a consensus algorithm alone (S<b>109</b>B). Note that the processing of step S<b>107</b>B may be performed when executing the consensus algorithm in step S<b>109</b>B alone.</p><p id="p-0335" num="0332">Next, mobile body device A concatenates block Blc (TrsvA) consented to in step S<b>109</b>B to the blockchain within ledger A (S<b>110</b>B).</p><p id="p-0336" num="0333">Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>24</b>A</figref>, only ledger A stores the block containing reservation transaction data TrsvA for making a use reservation for mobile body A, and the local reservation is finalized.</p><p id="p-0337" num="0334"><figref idref="DRAWINGS">FIG. <b>29</b></figref> is a sequence chart illustrating processing when making a conflicting reservation, performed by the system according to Comparative Example 3.</p><p id="p-0338" num="0335">First, for example, using terminal A, the user generates reservation transaction data TrsvB for making a conflicting reservation for mobile body A (S<b>101</b>C).</p><p id="p-0339" num="0336">Next, for example, using terminal A, the user transmits reservation transaction data TrsvB generated in step S<b>101</b>C to mobile body device B (S<b>102</b>C).</p><p id="p-0340" num="0337">Next, upon receiving reservation transaction data TrsvB transmitted in step S<b>102</b>C, mobile body device B is online, and therefore forwards reservation transaction data TrsvB to mobile body device C, which is another mobile body device (S<b>103</b>C). Through this, mobile body device C aside from mobile body device A obtains reservation transaction data TrsvB.</p><p id="p-0341" num="0338">Next, each of mobile body devices B and C executes the verification algorithm that verifies the validity of the obtained reservation transaction data TrsvB (S<b>104</b>C).</p><p id="p-0342" num="0339">Next, each of mobile body devices B and C stores reservation transaction data TrsvB verified by the verification algorithm executed in step S<b>104</b>C in a transaction pool (S<b>105</b>C). More specifically, mobile body device B stores the verified reservation transaction data TrsvB in transaction pool b, and mobile body device C stores the verified reservation transaction data TrsvB in transaction pool c.</p><p id="p-0343" num="0340">Next, mobile body devices B and C are capable of communicating with each other and therefore exchange information of transaction data to be stored in the block to be generated next (S<b>106</b>C). In the example illustrated in <figref idref="DRAWINGS">FIG. <b>29</b></figref>, mobile body devices B and C confirm that the verified reservation transaction data TrsvB is in the transaction data to be stored in the block to be generated next.</p><p id="p-0344" num="0341">Next, each of mobile body devices B and C generates block Blc (TrsvB) containing the verified reservation transaction data TrsvB (S<b>107</b>C).</p><p id="p-0345" num="0342">Next, each of mobile body devices B and C transmits block Blc (TrsvB) generated in step S<b>107</b>C to the other mobile body devices aside from mobile body device A (S<b>108</b>C). Through this, each of mobile body devices B and C can communicate, to the other mobile body devices aside from mobile body device A, a report that the validity of reservation transaction data TrsvB contained in block Blc (TrsvB) was successfully verified.</p><p id="p-0346" num="0343">Next, mobile body devices B and C execute a consensus algorithm together (S<b>109</b>C). Specifically, each of mobile body devices B and C consents to reservation transaction data TrsvB being valid transaction data (i.e., is valid) based on the reports communicated in step S<b>108</b>C, and consents to the validity of block Blc (TrsvB). Note that the processing of step S<b>107</b>C and step S<b>108</b>C may be performed when executing the consensus algorithm in step S<b>109</b>C.</p><p id="p-0347" num="0344">Next, each of mobile body devices B and C concatenates block Blc (TrsvB) consented to in step S<b>109</b>C to the blockchain within the distributed ledger (S<b>110</b>C). More specifically, mobile body device B concatenates block Blc (TrsvB) consented to to the blockchain in ledger B, and mobile body device C concatenates block Blc (TrsvB) consented to to the blockchain in ledger C.</p><p id="p-0348" num="0345">Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>24</b>B</figref>, ledger B and ledger C both store the block containing reservation transaction data TrsvB.</p><heading id="h-0052" level="2">Renting Processing According to Comparative Example 3</heading><p id="p-0349" num="0346"><figref idref="DRAWINGS">FIG. <b>30</b></figref> is a sequence chart illustrating processing for local renting, by the system according to Comparative Example 3. Elements identical to those in <figref idref="DRAWINGS">FIG. <b>19</b></figref> are given the same reference signs and will not be described in detail.</p><p id="p-0350" num="0347">First, based on an operation by the user who will use mobile body A, terminal A transmits an unlock request for mobile body A to mobile body device A (S<b>301</b>B).</p><p id="p-0351" num="0348">Next, upon receiving the unlock request transmitted in step S<b>301</b>B, mobile body device A confirms whether there is a reservation corresponding to the unlock request in the blockchain in ledger A (S<b>302</b>B), and unlocks mobile body A (S<b>303</b>B).</p><p id="p-0352" num="0349">Next, mobile body device A generates renting transaction data TrntA indicating the start of the rental of mobile body A triggered by mobile body A being unlocked (S<b>304</b>B).</p><p id="p-0353" num="0350">Next, mobile body device A attempts to forward renting transaction data TrntA to mobile body devices B and C, which are the other mobile body devices, but fails (S<b>305</b>B). This is because mobile body device A is offline and therefore cannot forward renting transaction data TrntA to mobile body devices B and C.</p><p id="p-0354" num="0351">Next, mobile body device A executes the verification algorithm that verifies the validity of renting transaction data TrntA (S<b>306</b>B).</p><p id="p-0355" num="0352">Next, mobile body device A stores renting transaction data TrntA verified by the verification algorithm executed in step S<b>306</b>B in transaction pool a (S<b>307</b>B).</p><p id="p-0356" num="0353">Next, mobile body device A generates block Blc (TrntA) containing the verified renting transaction data TrntA (S<b>309</b>B).</p><p id="p-0357" num="0354">Next, mobile body device A attempts to transmit block Blc (TrntA) generated in step S<b>309</b>B to mobile body devices B and C, which are the other mobile body devices, but fails (S<b>310</b>B). This is because mobile body device A is offline and therefore cannot transmit block Blc (TrntA) to mobile body devices B and C.</p><p id="p-0358" num="0355">Next, mobile body device A executes a consensus algorithm alone (S<b>311</b>B). Specifically, mobile body device A consents to renting transaction data TrntA being valid transaction data (i.e., is valid) alone, and consents to the validity of block Blc (TrntA) alone. Note that the processing of step S<b>309</b>B may be performed when executing the consensus algorithm in step S<b>311</b>B.</p><p id="p-0359" num="0356">Next, mobile body device A concatenates block Blc (TrntA) consented to in step S<b>311</b>B to the blockchain within ledger A (S<b>312</b>B).</p><p id="p-0360" num="0357">Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>24</b>C</figref>, only ledger A stores the block containing renting transaction data TrntA, and the local renting of mobile body A is recorded.</p><p id="p-0361" num="0000">Processing when Communication is Restored for Mobile Body Device A According to Comparative Example 3</p><p id="p-0362" num="0358">Details of processing performed when communication is restored for mobile body device A in step S<b>13</b> indicated in <figref idref="DRAWINGS">FIG. <b>23</b></figref> will be described next.</p><p id="p-0363" num="0359"><figref idref="DRAWINGS">FIG. <b>31</b></figref> is a sequence chart illustrating processing by the system, performed when communication is restored for mobile body device A, according to Comparative Example 3. Elements identical to those in <figref idref="DRAWINGS">FIG. <b>21</b></figref> are given the same reference signs and will not be described in detail.</p><p id="p-0364" num="0360">First, assume that mobile body device A has returned to communicability with mobile body devices B and C, which are the other mobile body devices (that is, is back online) (S<b>601</b>B).</p><p id="p-0365" num="0361">Then, mobile body device A transmits signals indicating that mobile body device A has come online to mobile body devices B and C, which are the other mobile body devices (S<b>602</b>B).</p><p id="p-0366" num="0362">Next, mobile body devices A, B, and C perform discrepancy determination for the blockchains in the respective ledgers (S<b>603</b>B).</p><p id="p-0367" num="0363">More specifically, mobile body device A determines a discrepancy between the blockchain within ledger A and the blockchains within ledgers B and C of mobile body devices B and C, which are the other mobile body devices. Mobile body devices B and C determine a discrepancy between the blockchains within ledgers B and C and the blockchain within ledger A of mobile body device A, which is the other mobile body device. Here, as in the example indicated by (a) in <figref idref="DRAWINGS">FIG. <b>25</b></figref>, different blocks are concatenated to the blockchain in ledger A and the blockchains in ledgers B and C, and thus the blockchain in ledger A differs from the blockchain in ledgers B and C. Accordingly, as in the example indicated by (b) in <figref idref="DRAWINGS">FIG. <b>25</b></figref>, mobile body devices A, B, and C share different blockchains in ledgers A, B, and C, and a fork therefore occurs.</p><p id="p-0368" num="0364">Next, mobile body devices A, B, and C transmit information on the blocks that correspond to sidechain blocks and main chain blocks to each other (S<b>604</b>B, S<b>605</b>B). In the present comparative example, the blocks concatenated to the blockchain in ledger A of mobile body device A, which was offline for a set period of time, correspond to sidechain blocks Blc (TrsvA, TrntA). The blocks concatenated to the blockchains in ledgers B and C of mobile body devices B and C correspond to main chain block Blc (TrsvB).</p><p id="p-0369" num="0365">Next, each of mobile body devices A, B, and C stores reservation transaction data TrsvA and renting transaction data TrntA contained in the sidechain blocks obtained in step S<b>604</b>B in the transaction pools (S<b>606</b>B). More specifically, mobile body device A stores a copy of transaction data TrsvA and TrntA of the sidechain blocks concatenated to the blockchain in ledger A in transaction pool a. Mobile body device B stores transaction data TrsvA and TrntA of the sidechain blocks in transaction pool b, and mobile body device C stores transaction data TrsvA and TrntA of the sidechain blocks in transaction pool c.</p><p id="p-0370" num="0366">Next, mobile body devices A, B, and C update the blockchains in ledgers A, B, and C, respectively, to be the same as each other (S<b>607</b>B). More specifically, mobile body device A updates the blockchain in ledger A to be the same as the blockchains in ledgers B and C by deleting the sidechain block concatenated to the blockchain in ledger A and leaving the main chain blocks. Mobile body device B updates the blockchain in ledger B to be the same as the blockchains in ledgers A and C by deleting the sidechain block concatenated to the blockchain in ledger B and leaving the main chain blocks. Mobile body device C updates the blockchain in ledger C to be the same as the blockchains in ledgers A and B by deleting the sidechain block concatenated to the blockchain in ledger C and leaving the main chain blocks.</p><p id="p-0371" num="0367">Next, at a block generation timing following a predetermined period of time, each of mobile body devices A, B, and C generates blocks Blc (TrsvA, TrntA) containing transaction data TrsvA and TrntA stored in the transaction pools (S<b>614</b>B).</p><p id="p-0372" num="0368">Next, each of mobile body devices A, B, and C transmits blocks Blc (TrsvA, TrntA) generated in step S<b>614</b>B to the other mobile body devices (S<b>615</b>B). Through this, each of mobile body devices A, B, and C can communicate, to the other mobile body devices, a report that the validity of transaction data TrsvA and TrntA contained in blocks Blc (TrsvA, TrntA) was successfully verified.</p><p id="p-0373" num="0369">Next, mobile body devices A, B, and C execute a consensus algorithm together (S<b>616</b>B). Specifically, each of mobile body devices A, B, and C consents to transaction data TrsvA and TrntA being valid transaction data (i.e., is valid) based on the reports communicated in step S<b>615</b>B, and consents to the validity of blocks Blc (TrsvA, TrntA). Note that the processing of step S<b>614</b>B and step S<b>615</b>B may be performed when executing the consensus algorithm in step S<b>616</b>B.</p><p id="p-0374" num="0370">Next, each of mobile body devices A, B, and C concatenates blocks Blc (TrsvA, TrntA) consented to in step S<b>616</b>B to the blockchain within the distributed ledger (S<b>617</b>B). More specifically, mobile body device A concatenates blocks Blc (TrsvA, TrntA) consented to to the blockchain in ledger A, and mobile body device B concatenates blocks Blc (TrsvA, TrntA) consented to to the blockchain in ledger B. Mobile body device C concatenates blocks Blc (TrsvA, TrntA) consented to to the blockchain in ledger C. Through this, as indicated by (c) in <figref idref="DRAWINGS">FIG. <b>26</b></figref>, blocks containing reservation transaction data TrsvA, reservation transaction data TrsvB, and renting transaction data TrntA are stored, and the local reservation, the conflicting reservation, and the local renting of mobile body A are recorded.</p><heading id="h-0053" level="2">Return Processing According to Comparative Example 3</heading><p id="p-0375" num="0371">Details of the return processing for mobile body device A in step S<b>14</b> indicated in <figref idref="DRAWINGS">FIG. <b>23</b></figref> will be described next.</p><p id="p-0376" num="0372"><figref idref="DRAWINGS">FIG. <b>32</b></figref> is a sequence chart illustrating return processing by the system according to Comparative Example 3. Elements identical to those in <figref idref="DRAWINGS">FIG. <b>12</b></figref> are given the same reference signs and will not be described in detail.</p><p id="p-0377" num="0373">First, when mobile body A is returned by the user who used mobile body A, mobile body device A confirms that mobile body A has been returned (S<b>501</b>B).</p><p id="p-0378" num="0374">Next, mobile body device A generates return transaction data TrtnA indicating the return of mobile body A is complete, triggered by confirming that mobile body A has been returned (S<b>502</b>B).</p><p id="p-0379" num="0375">Next, mobile body device A forwards return transaction data TrtnA to mobile body devices B and C, which are the other mobile body devices (S<b>503</b>B). Through this, mobile body devices B and C obtain return transaction data TrtnA.</p><p id="p-0380" num="0376">Next, each of mobile body devices A, B, and C executes the verification algorithm that verifies the validity of the obtained return transaction data TrtnA (S<b>504</b>B).</p><p id="p-0381" num="0377">Next, each of mobile body devices A, B, and C stores return transaction data TrtnA verified by the verification algorithm executed in step S<b>504</b>B in a transaction pool (S<b>505</b>B). More specifically, mobile body device A stores the verified return transaction data TrtnA in transaction pool a, and mobile body device B stores the verified return transaction data TrtnA in transaction pool b. Mobile body device C stores the verified return transaction data TrtnA in transaction pool c. Note that although not illustrated here, mobile body devices A, B, and C are capable of communicating with each other and therefore exchange information of transaction data to be stored in the block to be generated next. In the example illustrated in <figref idref="DRAWINGS">FIG. <b>32</b></figref>, mobile body devices A, B, and C confirm that the verified return transaction data TrtnA is in the transaction data to be stored in the block to be generated next.</p><p id="p-0382" num="0378">Next, each of mobile body devices A, B, and C generates block Blc (TrtnA) containing the verified return transaction data TrtnA (S<b>506</b>B).</p><p id="p-0383" num="0379">Next, each of mobile body devices A, B, and C transmits block Blc (TrtnA) generated in step S<b>506</b>B to the other mobile body devices (S<b>507</b>B). Through this, each of mobile body devices A, B, and C can communicate, to the other mobile body devices, a report that the validity of return transaction data TrtnA contained in block Blc (TrtnA) was successfully verified.</p><p id="p-0384" num="0380">Next, mobile body devices A, B, and C execute a consensus algorithm together (S<b>508</b>B). Specifically, each of mobile body devices A, B, and C consents to return transaction data TrtnA being valid transaction data (i.e., is valid) based on the reports communicated in step S<b>507</b>B, and consents to the validity of block Blc (TrtnA). Note that the processing of step S<b>506</b>B and step S<b>507</b>B may be performed when executing the consensus algorithm in step S<b>508</b>B.</p><p id="p-0385" num="0381">Next, each of mobile body devices A, B, and C concatenates block Blc (TrntA) consented to in step <b>508</b>B to the blockchain within the distributed ledger (S<b>509</b>B). More specifically, mobile body device A concatenates block Blc (TrtnA) consented to to the blockchain in ledger A, and mobile body device B concatenates block Blc (TrtnA) consented to to the blockchain in ledger B. Mobile body device C concatenates block Blc (TrtnA) consented to to the blockchain in ledger C. Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>27</b></figref>, ledger A, ledger B, and ledger C all store the block containing return transaction data TrtnA, and the completion of the return of mobile body A is recorded.</p><p id="p-0386" num="0382">Next, each of mobile body devices A, B, and C checks the reservation information stored in the blockchain (S<b>510</b>B). More specifically, by concatenating the block containing return transaction data TrtnA to the blockchain in its own ledger, each of mobile body devices A, B, and C causes the reservation smart contract to be executed, and confirms that reservation transaction data Trsv is present as the reservation information stored in the blockchain.</p><p id="p-0387" num="0383">Next, each of mobile body devices A, B, and C executes the fee calculation algorithm (S<b>511</b>B). Here, as illustrated in <figref idref="DRAWINGS">FIG. <b>27</b></figref>, for example, reservation transaction data TrsvA and reservation transaction data TrsvB conflict, and the block containing reservation transaction data TrsvA is concatenated later, in terms of time, than the block containing reservation transaction data TrsvB. Accordingly, even if the fee calculation algorithm is executed, the fee for the reservation corresponding to reservation transaction data TrsvA is not collected, and only the fee for the reservation corresponding to reservation transaction data TrsvB is collected.</p><p id="p-0388" num="0384">In this manner, no fee is collected for the reservation corresponding to reservation transaction data TrsvA, and thus an impropriety arises in that the fee for using mobile body A through the reservation corresponding to reservation transaction data TrsvA is not paid.</p><heading id="h-0054" level="1">Comparative Example 4</heading><p id="p-0389" num="0385">Comparative Example 3 described improper processing performed when performing return processing after bringing mobile body device A back online, but the processing is not limited thereto.</p><p id="p-0390" num="0386">If mobile body device A is offline, mobile body device A may be brought back online after performing the return processing. The improper processing in this case will be described hereinafter as Comparative Example 4.</p><p id="p-0391" num="0387"><figref idref="DRAWINGS">FIG. <b>33</b></figref> is a flowchart illustrating an overview of operations in improper processing by the system according to Comparative Example 4. <figref idref="DRAWINGS">FIGS. <b>34</b>A to <b>36</b></figref> are diagrams conceptually illustrating blockchains stored in ledger A of mobile body device A and ledger B of mobile body device B. <figref idref="DRAWINGS">FIG. <b>34</b>A</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>10</b> in <figref idref="DRAWINGS">FIG. <b>33</b></figref>. <figref idref="DRAWINGS">FIG. <b>34</b>B</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>11</b> in <figref idref="DRAWINGS">FIG. <b>33</b></figref>. <figref idref="DRAWINGS">FIG. <b>34</b>C</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>12</b> in <figref idref="DRAWINGS">FIG. <b>33</b></figref>. <figref idref="DRAWINGS">FIG. <b>34</b>D</figref> is a diagram conceptually illustrating blocks of a blockchain stored in ledger A as a result of the operation of step S<b>13</b>A in <figref idref="DRAWINGS">FIG. <b>33</b></figref>. <figref idref="DRAWINGS">FIGS. <b>35</b> and <b>36</b></figref> are diagrams conceptually illustrating blocks of blockchains stored in ledger A and ledger B as a result of the operation of step S<b>14</b>A in <figref idref="DRAWINGS">FIG. <b>33</b></figref>. The following descriptions will also assume that a user who wishes to use mobile body A uses terminal A to perform improper processing in mobile body device A, which is installed in mobile body A.</p><p id="p-0392" num="0388">Steps S<b>10</b> to S<b>12</b> indicated in <figref idref="DRAWINGS">FIG. <b>33</b></figref> are the same processing as steps S<b>10</b> to S<b>12</b> described with reference to <figref idref="DRAWINGS">FIG. <b>23</b></figref>, and will therefore not be described here. Additionally, <figref idref="DRAWINGS">FIGS. <b>34</b>A to <b>34</b>C</figref> are the same as <figref idref="DRAWINGS">FIGS. <b>24</b>A to <b>24</b>C</figref>, and will therefore not be described.</p><p id="p-0393" num="0389">Next, in step S<b>13</b>A, for example, terminal A communicates with mobile body device A, which is offline, and performs the return processing for mobile body A. In other words, terminal A performs return processing for locally returning mobile body A with mobile body device A, which is offline. More specifically, user who operated terminal A uses the unlocked mobile body A for the time reserved for use, and then returns mobile body A. When mobile body A is returned, mobile body device A generates return transaction data TrtnA indicating the return of mobile body A is complete. In this case, for example, as illustrated in <figref idref="DRAWINGS">FIG. <b>34</b>D</figref>, mobile body device A is offline, and thus a block containing return transaction data TrtnA indicating the completion of the return of mobile body A is stored in ledger A only.</p><p id="p-0394" num="0390">Next, assume that the user brings mobile body device A back online. Then, when mobile body device A is restored to an online state, return processing is performed in the system (S<b>14</b>A). More specifically, in steps S<b>10</b> to S<b>13</b>A, mobile body device A is offline, and thus different blocks are concatenated to the blockchains in ledger A and ledger B at the point in time when mobile body device A goes back online, as illustrated in <figref idref="DRAWINGS">FIG. <b>34</b>D</figref>, for example. Next, as illustrated in <figref idref="DRAWINGS">FIG. <b>35</b></figref>, when mobile body device A goes back online, a fork occurs due to ledger A of mobile body device A and ledger B of mobile body device B sharing different blockchains. Here, the block concatenated to the blockchain in ledger A of mobile body device A, which is offline, is shorter and therefore corresponds to a sidechain block, and the block concatenated to the blockchain in ledger B of mobile body device B, which is online, is longer and therefore corresponds to a main chain block. Accordingly, as indicated by (a) and (b) in <figref idref="DRAWINGS">FIG. <b>36</b></figref>, in ledger A of mobile body device A and ledger B of mobile body device B, the fork is eliminated by deleting the sidechain block and storing the transaction data contained in the sidechain block in the transaction pool. Note that in (b) in <figref idref="DRAWINGS">FIG. <b>36</b></figref>, reservation transaction data TrsvA, renting transaction data TrntA, and return transaction data TrtnA are stored in the transaction pool. Then, as indicated by (c) in <figref idref="DRAWINGS">FIG. <b>36</b></figref>, in the blockchains in ledger A of mobile body device A and ledger B of mobile body device B, a block containing the transaction data stored in the transaction pool is generated and concatenated when a new block is generated.</p><p id="p-0395" num="0391">Next, the fee calculation processing is performed in mobile body device A and the like (S<b>15</b>). Similar to Comparative Example 3, reservation transaction data TrsvA and reservation transaction data TrsvB conflict, and the block containing reservation transaction data TrsvA is concatenated after the block containing reservation transaction data TrsvB. As a result, no fee is collected for the reservation corresponding to reservation transaction data TrsvA, and thus an impropriety arises in that the fee for using mobile body A through the reservation corresponding to reservation transaction data TrsvA is not paid.</p><p id="p-0396" num="0392">Details of the processing for the local return in step S<b>13</b>A indicated in <figref idref="DRAWINGS">FIG. <b>33</b></figref> and the processing when communication is restored for mobile body device A in step S<b>14</b>A will be described next with reference to sequence charts.</p><heading id="h-0055" level="2">Return Processing According to Comparative Example 4</heading><p id="p-0397" num="0393"><figref idref="DRAWINGS">FIG. <b>37</b></figref> is a sequence chart illustrating processing for local return, by the system according to Comparative Example 4. Elements identical to those in <figref idref="DRAWINGS">FIG. <b>20</b></figref> are given the same reference signs and will not be described in detail.</p><p id="p-0398" num="0394">First, when mobile body A is returned by the user who used mobile body A, mobile body device A confirms that mobile body A has been returned (S<b>501</b>C).</p><p id="p-0399" num="0395">Next, mobile body device A generates return transaction data TrtnA indicating the return of mobile body A is complete, triggered by confirming that mobile body A has been returned (S<b>502</b>C).</p><p id="p-0400" num="0396">Next, mobile body device A attempts to forward return transaction data TrtnA to mobile body devices B and C, which are the other mobile body devices, but fails (S<b>503</b>C). This is because mobile body device A is offline and therefore cannot forward return transaction data TrtnA to mobile body devices B and C.</p><p id="p-0401" num="0397">Next, mobile body device A executes the verification algorithm that verifies the validity of the obtained return transaction data TrtnA (S<b>504</b>C).</p><p id="p-0402" num="0398">Next, mobile body device A stores return transaction data TrtnA verified by the verification algorithm executed in step S<b>504</b>C in transaction pool a (S<b>505</b>C).</p><p id="p-0403" num="0399">Next, mobile body device A generates block Blc (TrtnA) containing the verified return transaction data TrtnA (S<b>506</b>C).</p><p id="p-0404" num="0400">Next, mobile body device A attempts to transmit block Blc (TrtnA) generated in step S<b>506</b>C to mobile body devices B and C, which are the other mobile body devices, but fails (S<b>507</b>C). This is because mobile body device A is offline and therefore cannot transmit block Blc (TrtnA) to mobile body devices B and C.</p><p id="p-0405" num="0401">Next, mobile body device A executes a consensus algorithm alone (S<b>508</b>C). Specifically, mobile body device A consents to return transaction data TrtnA being valid transaction data (i.e., is valid) alone, and consents to the validity of block Blc (TrtnA) alone. Note that the processing of step S<b>506</b>C may be performed when executing the consensus algorithm in step S<b>508</b>C.</p><p id="p-0406" num="0402">Next, mobile body device A concatenates block Blc (TrtnA) consented to in step S<b>508</b>C to the blockchain within ledger A (S<b>509</b>C).</p><p id="p-0407" num="0403">Through this, as illustrated in <figref idref="DRAWINGS">FIG. <b>34</b>D</figref>, only ledger A stores the block containing return transaction data TrtnA, and the local return of mobile body A is recorded.</p><p id="p-0408" num="0404">Next, mobile body device A checks the reservation information stored in the blockchain (S<b>510</b>C). More specifically, by concatenating return transaction data TrtnA to the blockchain in its own ledger, each of mobile body devices A, B, and C causes the reservation smart contract to be executed, and confirms that reservation transaction data TrsvA is present as the reservation information stored in the blockchain.</p><p id="p-0409" num="0405">Then, mobile body device A executes the fee calculation algorithm (S<b>511</b>C). Mobile body device A is offline, and thus the fee for the reservation corresponding to reservation transaction data TrsvA is calculated by the fee calculation algorithm.</p><p id="p-0410" num="0000">Processing when Communication is Restored for Mobile Body Device A According to Comparative Example 4</p><p id="p-0411" num="0406">Details of processing performed when communication is restored for mobile body device A in step S<b>14</b>A indicated in <figref idref="DRAWINGS">FIG. <b>33</b></figref> will be described next.</p><p id="p-0412" num="0407"><figref idref="DRAWINGS">FIG. <b>38</b></figref> is a sequence chart illustrating processing by the system, performed when communication is restored for mobile body device A, according to Comparative Example 4. Elements identical to those in <figref idref="DRAWINGS">FIG. <b>21</b></figref> are given the same reference signs and will not be described in detail.</p><p id="p-0413" num="0408">First, assume that mobile body device A has returned to communicability with mobile body devices B and C, which are the other mobile body devices (that is, is back online) (S<b>601</b>C).</p><p id="p-0414" num="0409">Then, mobile body device A transmits signals indicating that mobile body device A has come online to mobile body devices B and C, which are the other mobile body devices (S<b>602</b>C).</p><p id="p-0415" num="0410">Next, mobile body devices A, B, and C perform discrepancy determination for the blockchains in the respective ledgers (S<b>603</b>C). Before communication is restored for mobile body device A, for example, as in the example illustrated in <figref idref="DRAWINGS">FIG. <b>34</b>D</figref>, different blocks are concatenated to the blockchain in ledger A and the blockchains in ledgers B and C, and thus the blockchain in ledger A differs from the blockchain in ledgers B and C. Accordingly, when communication is restored for mobile body device A, for example, as in the example illustrated in <figref idref="DRAWINGS">FIG. <b>35</b></figref>, ledgers A, B, and C in mobile body devices A, B, and C share different blockchains, and a fork therefore occurs.</p><p id="p-0416" num="0411">Next, mobile body devices A, B, and C transmit information on the blocks that correspond to sidechain blocks and main chain blocks to each other (S<b>604</b>C, S<b>605</b>C). In the present comparative example, the blocks concatenated to the blockchain in ledger A of mobile body device A, which was offline for a set period of time, correspond to sidechain blocks Blc (TrsvA, TrntA, TrtnA). On the other hand, the blocks concatenated to the blockchains in ledgers B and C of mobile body devices B and C correspond to main chain block Blc (TrsvB).</p><p id="p-0417" num="0412">Next, each of mobile body devices A, B, and C stores transaction data TrsvA, TrntA, and TrtnA of the sidechain block obtained in step S<b>604</b>C in the transaction pools (S<b>606</b>C).</p><p id="p-0418" num="0413">Next, mobile body devices A, B, and C update the blockchains in ledgers A, B, and C, respectively, to be the same as each other (S<b>607</b>C). More specifically, each of mobile body devices A, B, and C updates the blockchain in ledger A to be the same as the blockchains in ledgers A, B, and C by deleting the sidechain block concatenated to the blockchain in ledger A and leaving the main chain blocks.</p><p id="p-0419" num="0414">Next, at a block generation timing following a predetermined period of time, each of mobile body devices A, B, and C generates blocks Blc (TrsvA, TrntA, TrtnA) containing transaction data TrsvA, TrntA, and TrtnA stored in the transaction pools (S<b>614</b>C).</p><p id="p-0420" num="0415">Next, each of mobile body devices A, B, and C transmits blocks Blc (TrsvA, TrntA, TrtnA) generated in step S<b>614</b>C to the other mobile body devices (S<b>615</b>C). Through this, each of mobile body devices A, B, and C can communicate, to the other mobile body devices, a report that the validity of transaction data TrsvA, TrntA, and TrtnA contained in blocks Blc (TrsvA, TrntA, TrtnA) was successfully verified.</p><p id="p-0421" num="0416">Next, mobile body devices A, B, and C execute a consensus algorithm together (S<b>616</b>C). Specifically, each of mobile body devices A, B, and C consents to transaction data TrsvA, TrntA, and TrtnA being valid transaction data (i.e., is valid) based on the reports communicated in step S<b>615</b>C. The validity of blocks Blc (TrsvA, TrntA, TrtnA) is then consented to. Note that the processing of step S<b>614</b>C and step S<b>615</b>C may be performed when executing the consensus algorithm in step S<b>616</b>C.</p><p id="p-0422" num="0417">Next, each of mobile body devices A, B, and C concatenates blocks Blc (TrsvA, TrntA, TrtnA) consented to in step S<b>616</b>C to the blockchain within the distributed ledger (S<b>617</b>C). More specifically, mobile body device A concatenates blocks Blc (TrsvA, TrntA, TrtnA) consented to to the blockchain in ledger A, and mobile body device B concatenates blocks Blc (TrsvA, TrntA, TrtnA) consented to to the blockchain in ledger B. Mobile body device C concatenates blocks Blc (TrsvA, TrntA, TrtnA) consented to to the blockchain in ledger C. Through this, as indicated by (c) in <figref idref="DRAWINGS">FIG. <b>36</b></figref>, blocks containing reservation transaction data TrsvA, renting transaction data TrntA, and return transaction data TrtnA are stored, and the local reservation, the local renting, and the local return of mobile body A are recorded.</p><p id="p-0423" num="0418">Next, mobile body device A checks the reservation information stored in the blockchain (S<b>620</b>C). More specifically, by concatenating the block containing return transaction data TrtnA to the blockchain in its own ledger, each of mobile body devices A, B, and C causes the reservation smart contract to be executed, and confirms that reservation transaction data TrsvA and reservation transaction data TrsvB are present as the reservation information stored in the blockchain.</p><p id="p-0424" num="0419">Then, each of mobile body devices A, B, and C does not execute the fee calculation algorithm (S<b>621</b>C). More specifically, each of mobile body devices A, B, and C executes the fee calculation algorithm, but the fee for the reservation corresponding to reservation transaction data TrsvA is not collected. Note that the processing of step S<b>621</b>C is the same as the processing of step S<b>511</b>B described above, and will therefore not be described here.</p><p id="p-0425" num="0420">Here, as indicated by (c) in <figref idref="DRAWINGS">FIG. <b>36</b></figref>, for example, the reservation corresponding to reservation transaction data TrsvA and the reservation corresponding to reservation transaction data TrsvB conflict. Additionally, the block containing reservation transaction data TrsvA is concatenated after the block containing reservation transaction data TrsvB. Accordingly, even if the fee calculation algorithm is executed, the fee for the reservation corresponding to reservation transaction data TrsvA is not collected, and only the fee for the reservation corresponding to reservation transaction data TrsvB is collected.</p><p id="p-0426" num="0421">In this manner, no fee is collected for the reservation corresponding to reservation transaction data TrsvA, and thus an impropriety arises in that the fee for using mobile body A through the reservation corresponding to reservation transaction data TrsvA is not paid.</p><p id="p-0427" num="0000">Processing after Impropriety Measures According to Present Embodiment</p><p id="p-0428" num="0422">Anti-impropriety processing according to the present embodiment, in which measures for the improper processing are taken, will be described next.</p><p id="p-0429" num="0423">In the improper processing illustrated in <figref idref="DRAWINGS">FIGS. <b>23</b> and <b>33</b></figref>, no fee is collected for the local reservation made through the reservation processing in step S<b>10</b>, due to the conflicting reservation being made in step S<b>11</b>. Accordingly, in the present embodiment, a conflicting reservation can be determined by updating the blockchain by generating an additional block containing the conflicting reservation, rather than discarding the conflicting reservation as in step S<b>11</b>, and storing the additional block in the blockchain, and then determining whether there is a conflicting reservation in the first blockchain after the update.</p><p id="p-0430" num="0424">In the present embodiment, improper reservation detection processing is executed in processing performed when communication is restored for mobile body device A as anti-impropriety processing. The following will describe executing the improper reservation detection processing when executing the consensus algorithm in the processing performed when the communication of mobile body device A is restored.</p><p id="p-0431" num="0425"><figref idref="DRAWINGS">FIG. <b>39</b></figref> is a sequence chart illustrating processing by the system, performed when communication is restored for mobile body device A, according to the embodiment. Elements identical to those in <figref idref="DRAWINGS">FIG. <b>21</b></figref> are given the same reference signs and will not be described in detail. Compared to the sequence chart in <figref idref="DRAWINGS">FIG. <b>21</b></figref>, the sequence chart in <figref idref="DRAWINGS">FIG. <b>39</b></figref> differs in that the improper reservation detection processing is executed when executing the consensus algorithm.</p><p id="p-0432" num="0426">In other words, the processing in steps S<b>601</b>E to S<b>615</b>E indicated in <figref idref="DRAWINGS">FIG. <b>39</b></figref> is the same as the processing in steps S<b>601</b> to S<b>615</b> indicated in <figref idref="DRAWINGS">FIG. <b>21</b></figref>, and will therefore not be described here.</p><p id="p-0433" num="0427">In step S<b>615</b>E, mobile body devices A, B, and C execute a consensus algorithm together (S<b>616</b>E). In the present embodiment, the improper reservation detection processing is executed when each of mobile body devices A, B, and C executes the consensus algorithm for consenting to transaction data Tpol being valid transaction data (i.e., is valid) based on the reports communicated in step S<b>615</b>.</p><p id="p-0434" num="0428">In the improper reservation detection processing, each of mobile body devices A, B, and C searches within the blockchain in its own ledger, and detects whether improper transaction data containing an improper contract is stored. Specifically, the improper reservation detection processing is the same as the impropriety detection processing described as a function of impropriety detector <b>110</b>.</p><p id="p-0435" num="0429">Next, if an improper reservation has not been detected when the consensus algorithm is executed, each of mobile body devices A, B, and C concatenates block Blc (Tpolv) consented to in step S<b>615</b>E to the blockchains within the distributed ledgers (S<b>617</b>E).</p><p id="p-0436" num="0430">Additionally, when an improper reservation is detected, an incident report indicating that improper transaction data has been detected may be generated and stored.</p><p id="p-0437" num="0431"><figref idref="DRAWINGS">FIG. <b>40</b></figref> is a flowchart illustrating improper reservation detection processing according to the embodiment. The improper reservation detection processing according to the present embodiment, illustrated in <figref idref="DRAWINGS">FIG. <b>40</b></figref>, is executed in step S<b>616</b>E of <figref idref="DRAWINGS">FIG. <b>39</b></figref>. The following will describe a case where mobile body device A performs the improper reservation detection processing as a representative example.</p><p id="p-0438" num="0432">In the present embodiment, in step S<b>616</b>E in <figref idref="DRAWINGS">FIG. <b>39</b></figref>, first, mobile body device A confirms whether there is a trigger for an impropriety check (S<b>6161</b>). This trigger may be a set interval passing, or may be a new block being concatenated to the blockchain in ledger A.</p><p id="p-0439" num="0433">When there is a trigger in step S<b>6161</b> (Yes in S<b>6161</b>), mobile body device A searches within the blockchain in ledger A (S<b>6162</b>). Note that when there is no trigger in step S<b>6162</b> (No in S<b>6162</b>), mobile body device A returns to step S<b>6162</b>.</p><p id="p-0440" num="0434">Next, mobile body device A determines whether improper transaction data containing an improper contract is stored in the blockchain in ledger A (S<b>6163</b>). This determination may be made through at least one of the first impropriety determination, the second impropriety determination, and the third impropriety determination made by impropriety detector <b>110</b>, for example.</p><p id="p-0441" num="0435">If in step S<b>6163</b> improper transaction data is present (Yes in S<b>6163</b>), mobile body device A generates and stores an incident report (S<b>6164</b>).</p><p id="p-0442" num="0436"><figref idref="DRAWINGS">FIG. <b>41</b></figref> is a sequence chart illustrating processing performed by the system when the improper reservation detection processing is executed, and an incident report is generated, according to the embodiment. Operations identical to those in <figref idref="DRAWINGS">FIG. <b>39</b></figref> are given the same reference signs and will not be described in detail. <figref idref="DRAWINGS">FIG. <b>41</b></figref> illustrates processing performed after the incident report is generated in the improper reservation detection processing performed when mobile body devices A, B, and C execute the consensus algorithm together in step S<b>616</b>E.</p><p id="p-0443" num="0437">In other words, as illustrated in <figref idref="DRAWINGS">FIG. <b>41</b></figref>, in step S<b>615</b>E, mobile body devices A, B, and C execute a consensus algorithm together (S<b>616</b>E). In the present variation, each of mobile body devices A, B, and C executes the improper reservation detection processing when executing the consensus algorithm. In the example illustrated in <figref idref="DRAWINGS">FIG. <b>41</b></figref>, when the improper reservation detection processing is executed, unlock completion transaction data issued during a time when there is no reservation is detected, and an improper reservation is detected. Accordingly, mobile body devices A, B, and C generate incident reports indicating that the unlock completion transaction data has been detected.</p><p id="p-0444" num="0438">Next, for example, mobile body device B generates transaction data Tinc for recording the generated incident report as a representative (S<b>622</b>E). Note that the generation of transaction data Tinc is not limited to mobile body device B, and mobile body device A or mobile body device C may generate transaction data Tinc.</p><p id="p-0445" num="0439">Next, mobile body device B forwards transaction data Tinc to mobile body devices A and C, which are the other mobile body devices (S<b>623</b>E). Through this, mobile body devices A and C obtain transaction data Tinc.</p><p id="p-0446" num="0440">Next, each of mobile body devices A, B, and C executes the verification algorithm that verifies transaction data Tinc (S<b>624</b>E).</p><p id="p-0447" num="0441">Next, each of mobile body devices A, B, and C stores transaction data Tinc verified in step S<b>624</b>E in the ledger (S<b>625</b>E). More specifically, mobile body device A stores the verified transaction data Tinc in ledger A, and mobile body device B stores the verified transaction data Tinc in ledger B. Mobile body device C stores the verified transaction data Tinc in ledger C.</p><p id="p-0448" num="0442">Through this, transaction data Tinc is stored in ledger A, ledger B, and ledger C, and an incident report is recorded.</p><p id="p-0449" num="0443"><figref idref="DRAWINGS">FIG. <b>42</b></figref> is a sequence chart illustrating processing performed by the system when impropriety list generation processing is executed according to the embodiment.</p><p id="p-0450" num="0444">First, terminal A generates impropriety list transaction data containing an impropriety list generation smart contract for causing the execution of the impropriety list generation processing (S<b>701</b>). Here, an application is installed as inputter <b>1101</b> in terminal A, i.e., in terminal <b>11</b>A, and the application may generate the impropriety list transaction data based on the operation by the user.</p><p id="p-0451" num="0445">Next, terminal A communicates with mobile body device A of mobile body A and transmits the impropriety list transaction data generated in step S<b>701</b> to mobile body device A (S<b>702</b>).</p><p id="p-0452" num="0446">Next, upon receiving the impropriety list transaction data transmitted in step S<b>702</b>, mobile body device A forwards the impropriety list transaction data to mobile body devices B and C, which are other mobile body devices (S<b>703</b>). Through this, mobile body devices B and C obtain the impropriety list transaction data.</p><p id="p-0453" num="0447">Next, after the validity of the impropriety list transaction data has been verified, each of mobile body devices A, B, and C generates a block containing the impropriety list transaction data for which the validity has been verified, and execute a consensus algorithm together for the generated block (S<b>704</b>). The specific processing of step S<b>704</b> is the same as that of steps S<b>104</b> to S<b>109</b>. Through this, impropriety list transaction data containing the impropriety list generation smart contract is stored in the blockchain managed by the distributed ledger stored in distributed ledger storage <b>108</b>.</p><p id="p-0454" num="0448">Then, each of mobile body devices A, B, and C determines whether improper transaction data containing an improper contract is stored in the blockchain in each of ledgers A, B, and C (S<b>705</b>). This determination may be made through at least one of the first impropriety determination, the second impropriety determination, and the third impropriety determination made by impropriety detector <b>110</b>, for example.</p><p id="p-0455" num="0449">If it is determined that improper transaction data containing an improper contract is stored in the blockchain of each of ledgers A, B, and C (Yes in S<b>705</b>), each of mobile body devices A, B, and C generates impropriety list generation execution transaction data for executing a function that adds the improper reservation to the impropriety list generation smart contract (S<b>706</b>). In other words, each of mobile body devices A, B, and C generates the impropriety list generation execution transaction data for causing the impropriety list generation smart contract to run. Note that if it is determined that improper transaction data containing an improper contract is not stored in the blockchain of each of ledgers A, B, and C (No in S<b>705</b>), this processing ends.</p><p id="p-0456" num="0450">Note that the determination in step S<b>705</b> may be made at the same timing as the timing at which the improper reservation detection processing illustrated in <figref idref="DRAWINGS">FIG. <b>40</b></figref> is executed.</p><p id="p-0457" num="0451">Next, mobile body devices A, B, and C transmit the impropriety list generation execution transaction data generated in step S<b>706</b> to the other mobile body devices (S<b>707</b>). Through this, each of mobile body devices A, B, and C obtains the impropriety list generation execution transaction data generated by the other mobile body devices.</p><p id="p-0458" num="0452">Next, after the validity of the impropriety list generation execution transaction data has been verified, each of mobile body devices A, B, and C generates a block containing the impropriety list generation execution transaction data for which the validity has been verified, and execute a consensus algorithm together for the generated block (S<b>708</b>). The specific processing of step S<b>708</b> is the same as that of steps S<b>104</b> to S<b>109</b>. Through this, the impropriety list generation execution transaction data is stored in the blockchain managed by the distributed ledger stored in distributed ledger storage <b>108</b>.</p><p id="p-0459" num="0453">Next, each of mobile body devices A, B, and C executes the impropriety list generation processing (S<b>709</b>). More specifically, each of mobile body devices A, B, and C causes the impropriety list generation smart contract to be executed by concatenating a block containing the impropriety list generation execution transaction data to the blockchain within its own ledger, and adds the transaction data ID of the transaction data determined to be improper, the user ID, the time at which the improper transaction data was generated, and the like to the impropriety list.</p><heading id="h-0056" level="2">Effects, etc.</heading><p id="p-0460" num="0454">As described above, according to the present embodiment, the first blockchain is updated by storing, in the first blockchain, at least one instance of transaction data contained in the lesser of at least one first different block and at least one second different block, and it is determined whether improper contract information is present in the first blockchain after the update. Accordingly, improper contract information can be detected, and the improper use of the service object by exploiting the blockchain can be suppressed.</p><p id="p-0461" num="0455">Additionally, in the present embodiment, when improper transaction data is determined to be stored in the blockchain, an incident report indicating that improper transaction data has been detected is generated. The incident report includes information pertaining to the improper transaction data, the reason for the impropriety, and the like. Generating the incident report makes it possible to record what type of impropriety has occurred.</p><p id="p-0462" num="0456">Additionally, in the present embodiment, an impropriety list including improper transaction data or a transaction data ID identifying the improper transaction data is generated. Accordingly, the user can search for transaction data determined to be improper transaction data by operating terminal <b>11</b>, for example. Furthermore, the impropriety list can be used to analyze what type of impropriety occurred, which can be utilized to implement effective measures.</p><heading id="h-0057" level="1">OTHER EMBODIMENTS</heading><p id="p-0463" num="0457">Although the present disclosure has been described above based on the aforementioned embodiments, the present disclosure is of course not limited to the embodiments discussed above. The present disclosure is also inclusive of the following cases.</p><p id="p-0464" num="0458">(1) Although the foregoing embodiments described a mobile body as an example of the service object, the configuration is not limited thereto. The service object may be any item that is locked so as to be unavailable to other users when the service is not used and unlocked when the service is used, such as, for example, a hotel room or an electronic locker. Additionally, the contract is not limited to a use reservation for mobile body <b>10</b>, for example, but can also be a use reservation for a hotel room, a use reservation for an electronic locker, or the like, for example.</p><p id="p-0465" num="0459">(2) Each device in the foregoing embodiments is specifically a computer system constituted by a microprocessor, ROM, RAM, a hard disk unit, a display unit, a keyboard, a mouse, and the like. A computer program is recorded in the RAM or hard disk unit. Each device realizes the functions thereof by the microprocessor operating in accordance with the computer program. Here, the computer program is constituted by a combination of a plurality of command codes that indicate commands made to a computer to achieve a predetermined function.</p><p id="p-0466" num="0460">(3) Some or all of the constituent elements constituting the devices in the foregoing embodiments may be implemented by a single integrated circuit through system LSI (Large-Scale Integration). &#x201c;System LSI&#x201d; refers to very-large-scale integration in which multiple constituent elements are integrated on a single chip, and specifically, refers to a computer system configured including a microprocessor, ROM, RAM, and the like. A computer program is recorded in the RAM. The system LSI circuit realizes the functions thereof by the microprocessor operating in accordance with the computer program.</p><p id="p-0467" num="0461">The parts of the constituent elements constituting the foregoing devices may be implemented individually as single chips, or may be implemented with a single chip including some or all of the devices.</p><p id="p-0468" num="0462">Although the term &#x201c;system LSI&#x201d; is used here, other names, such as IC, LSI, super LSI, ultra LSI, and so on may be used, depending on the level of integration. Furthermore, the manner in which the circuit integration is achieved is not limited to LSI, and it is also possible to use a dedicated circuit or a generic processor. An FPGA (Field Programmable Gate Array) capable of post-production programming or a reconfigurable processor in which the connections and settings of the circuit cells within the LSI can be reconfigured may be used as well.</p><p id="p-0469" num="0463">Furthermore, if other technologies that improve upon or are derived from semiconductor technology enable integration technology to replace LSI circuits, then naturally it is also possible to integrate the function blocks using that technology. Biotechnology applications are one such foreseeable example.</p><p id="p-0470" num="0464">(4) Some or all of the constituent elements constituting the foregoing devices may be constituted by IC cards or stand-alone modules that can be removed from and mounted in the apparatus. The IC card or the module is a computer system constituted by a microprocessor, ROM, RAM, and the like. The IC card or module may include the above very-large-scale integration LSI circuit. The IC card or module realizes the functions thereof by the microprocessor operating in accordance with the computer program. The IC card or module may be tamper-resistant.</p><p id="p-0471" num="0465">(5) The present disclosure may be realized by the methods described above. This may be a computer program that implements these methods on a computer, or a digital signal constituting the computer program.</p><p id="p-0472" num="0466">Additionally, the present disclosure may also be computer programs or digital signals recorded in a computer-readable recording medium such as a flexible disk, a hard disk, a CD-ROM, an MO, a DVD, a DVD-ROM, a DVD-RAM, a BD (Blu-ray (registered trademark) Disc), semiconductor memory, or the like. The constituent elements may also be the digital signals recorded in such a recording medium.</p><p id="p-0473" num="0467">Additionally, the present disclosure may be realized by transmitting the computer program or digital signal via a telecommunication line, a wireless or wired communication line, a network such as the Internet, a data broadcast, or the like.</p><p id="p-0474" num="0468">The present disclosure may also be a computer system including a microprocessor and memory, where the memory stores the above-described computer program and the microprocessor operates in accordance with the computer program.</p><p id="p-0475" num="0469">The present disclosure may also be implemented by another independent computer system, by recording the program or the digital signal in the recording medium and transferring the recording medium, or by transferring the program or the digital signal over the network or the like.</p><p id="p-0476" num="0470">(6) The above-described embodiments and variations may be combined as well.</p><heading id="h-0058" level="1">INDUSTRIAL APPLICABILITY</heading><p id="p-0477" num="0471">The present disclosure can be used in control methods, control devices, and programs, and for example, can be used in control methods, control devices, and programs capable of suppressing improper use, in which a fee is not paid, when a user enters into a contract to use a mobile body in a service for sharing a mobile body such as a bicycle, a two-wheeled automobile, or the like.</p><?detailed-description description="Detailed Description" end="tail"?></description><claims id="claims"><claim id="CLM-00001" num="00001"><claim-text><b>1</b>. A control method executed by a first node holding a first distributed ledger in which a first blockchain is managed, in an information processing system including a plurality of nodes each holding a distributed ledger, the first node being one of the plurality of nodes, the control method comprising:<claim-text>obtaining, from a second node among the plurality of nodes, a second blockchain managed by a second distributed ledger held by the second node, by the first node communicating with the second node after the first node shifts from being unable to communicate with the second node to being able to communicate with the second node;</claim-text><claim-text>comparing the first blockchain with the second blockchain obtained;</claim-text><claim-text>updating, based on a result of the comparing, the first blockchain by adding a greater of at least one first different block contained in the first blockchain but not contained in the second blockchain and at least one second different block contained in the second blockchain but not contained in the first blockchain, after at least one common block common to both the first blockchain and the second blockchain, and adding at least one additional block containing at least one instance of transaction data contained in a lesser of the at least one first different block and the at least one second different block after the greater; and</claim-text><claim-text>determining whether at least two instances of transaction data each containing at least two instances of contract information that conflict with each other are contained in the first blockchain which has gone through the updating.</claim-text></claim-text></claim><claim id="CLM-00002" num="00002"><claim-text><b>2</b>. The control method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>wherein the at least one first different block is a block added to the first blockchain in a state where the first node is unable to communicate with the second node among the plurality of nodes, and includes a first block containing first transaction data that contains information pertaining to a first contract.</claim-text></claim-text></claim><claim id="CLM-00003" num="00003"><claim-text><b>3</b>. The control method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>wherein the updating is performed when the result of the comparing indicates that the first blockchain contains the at least one first different block and the second blockchain contains the at least one second different block.</claim-text></claim-text></claim><claim id="CLM-00004" num="00004"><claim-text><b>4</b>. The control method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:<claim-text>generating impropriety transaction data containing impropriety information indicating that one of the at least two instances of contract information contained in each of the at least two instances of transaction data is improper, when the at least two instances of transaction data are determined, in the determining, to be contained in the first blockchain which has gone through the updating; and</claim-text><claim-text>adding a second block containing the impropriety transaction data to the first blockchain which has gone through the updating.</claim-text></claim-text></claim><claim id="CLM-00005" num="00005"><claim-text><b>5</b>. The control method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>wherein the additional block contains one of the at least two instances of transaction data.</claim-text></claim-text></claim><claim id="CLM-00006" num="00006"><claim-text><b>6</b>. The control method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>wherein when the at least two instances of transaction data are contained in the first blockchain, a contract corresponding to the contract information contained in the transaction data, among the at least two instances of transaction data, added to the first blockchain first is executed.</claim-text></claim-text></claim><claim id="CLM-00007" num="00007"><claim-text><b>7</b>. The control method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,<claim-text>wherein the information processing system is used in a service for a plurality of users to share a plurality of mobile bodies,</claim-text><claim-text>each of the at least two instances of transaction data contains reservation information indicating that a reserving user, among the plurality of users, has reserved a first mobile body for use,</claim-text><claim-text>the reservation information includes a mobile body ID identifying the first mobile body and a reservation time period, and</claim-text><claim-text>at least two instances of the reservation information contained in each of the at least two instances of transaction data include a same mobile body ID and at least two reservation time periods that partially overlap with each other.</claim-text></claim-text></claim><claim id="CLM-00008" num="00008"><claim-text><b>8</b>. The control method according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising:<claim-text>generating renting transaction data indicating that the first mobile body has been rented to the reserving user, and adding a third block containing the renting transaction data to the first blockchain which has gone through the updating;</claim-text><claim-text>generating return transaction data indicating that the reserving user has returned the first mobile body and adding a fourth block containing the return transaction data to the first blockchain after the third block has been added; and</claim-text><claim-text>determining whether the at least two instances of transaction data are included in the first blockchain after the fourth block has been added, and calculating a use fee for the service only for reservation information contained in one instance of the transaction data, among the at least two instances of transaction data, added to the first blockchain first.</claim-text></claim-text></claim><claim id="CLM-00009" num="00009"><claim-text><b>9</b>. A control device holding a first distributed ledger in which a first blockchain is managed, in an information processing system including a plurality of control devices each holding a distributed ledger, the control device being one of the plurality of control devices, the control device comprising:<claim-text>a processor; and</claim-text><claim-text>memory,</claim-text><claim-text>wherein the processor obtains, from another control device among the plurality of control devices, a second blockchain managed by a second distributed ledger held by the other control device, by the control device communicating with the other control device after the control device shifts from being unable to communicate with the other control device to being able to communicate with the other control device,</claim-text><claim-text>the processor compares the first blockchain with the second blockchain obtained,</claim-text><claim-text>the processor updates, based on a result of the comparing, the first blockchain by adding a greater of at least one first different block contained in the first blockchain but not contained in the second blockchain and at least one second different block contained in the second blockchain but not contained in the first blockchain, after at least one common block common to both the first blockchain and the second blockchain, and adds at least one additional block containing at least one instance of transaction data contained in a lesser of the at least one first different block and the at least one second different block after the greater, and</claim-text><claim-text>the processor determines whether at least two instances of transaction data each containing at least two instances of contract information that conflict with each other are contained in the first blockchain which has gone through the updating.</claim-text></claim-text></claim><claim id="CLM-00010" num="00010"><claim-text><b>10</b>. A non-transitory computer-readable recording medium having recorded thereon a program for causing a computer to execute a control method executed by a first node holding a first distributed ledger in which a first blockchain is managed, in an information processing system including a plurality of nodes each holding a distributed ledger, the first node being one of the plurality of nodes, the control method comprising:<claim-text>obtaining, from a second node among the plurality of nodes, a second blockchain managed by a second distributed ledger held by the second node, by the first node communicating with the second node after the first node shifts from being unable to communicate with the second node to being able to communicate with the second node;</claim-text><claim-text>comparing the first blockchain with the second blockchain obtained;</claim-text><claim-text>updating, based on a result of the comparing, the first blockchain by adding a greater of at least one first different block contained in the first blockchain but not contained in the second blockchain and at least one second different block contained in the second blockchain but not contained in the first blockchain, after at least one common block common to both the first blockchain and the second blockchain, and adding at least one additional block containing at least one instance of transaction data contained in a lesser of the at least one first different block and the at least one second different block after the greater, and</claim-text><claim-text>determining whether at least two instances of transaction data each containing at least two instances of contract information that conflict with each other are contained in the first blockchain which has gone through the updating.</claim-text></claim-text></claim></claims></us-patent-application>